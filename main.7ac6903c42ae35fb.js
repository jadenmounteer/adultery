"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{6217:(r1,Je,F)=>{F.d(Je,{nm:()=>di});var l=F(2122);F(4650),F(259);var at=F(5861),ht=F(9681),tt=F(4859),Pt=F(2090),Ct=F(1877);const ce=new Map,et={activated:!1,tokenObservers:[]},we={initialized:!1,enabled:!1};function Le(Ke){return ce.get(Ke)||Object.assign({},et)}function Fe(){return we}class x1{constructor(je,Xe,At,Xt,z1){if(this.operation=je,this.retryPolicy=Xe,this.getWaitDuration=At,this.lowerBound=Xt,this.upperBound=z1,this.pending=null,this.nextErrorWaitInterval=Xt,Xt>z1)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var Xe=this;return(0,at.Z)(function*(){Xe.stop();try{Xe.pending=new Pt.BH,yield function S1(Ke){return new Promise(je=>{setTimeout(je,Ke)})}(Xe.getNextRun(je)),Xe.pending.resolve(),yield Xe.pending.promise,Xe.pending=new Pt.BH,yield Xe.operation(),Xe.pending.resolve(),yield Xe.pending.promise,Xe.process(!0).catch(()=>{})}catch(At){Xe.retryPolicy(At)?Xe.process(!1).catch(()=>{}):Xe.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Xe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Xe}}}const D1=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zt(Ke){if(!Le(Ke).activated)throw D1.create("use-before-activation",{appName:Ke.name})}function In(Ke,je){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,at.Z)(function*({url:Ke,body:je},Xe){const At={"Content-Type":"application/json"},Xt=Xe.getImmediate({optional:!0});if(Xt){const ii=yield Xt.getHeartbeatsHeader();ii&&(At["X-Firebase-Client"]=ii)}const z1={method:"POST",body:JSON.stringify(je),headers:At};let Q1,kn;try{Q1=yield fetch(Ke,z1)}catch(ii){throw D1.create("fetch-network-error",{originalErrorMessage:ii?.message})}if(200!==Q1.status)throw D1.create("fetch-status-error",{httpStatus:Q1.status});try{kn=yield Q1.json()}catch(ii){throw D1.create("fetch-parse-error",{originalErrorMessage:ii?.message})}const wn=kn.ttl.match(/^([\d.]+)(s)$/);if(!wn||!wn[2]||isNaN(Number(wn[1])))throw D1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kn.ttl}`});const $i=1e3*Number(wn[1]),tr=Date.now();return{token:kn.token,expireTimeMillis:tr+$i,issuedAtTimeMillis:tr}})).apply(this,arguments)}function Jn(Ke,je){const{projectId:Xe,appId:At,apiKey:Xt}=Ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Xe}/apps/${At}:exchangeDebugToken?key=${Xt}`,body:{debug_token:je}}}const r2="firebase-app-check-store";let Cn=null;function Nn(){return Cn||(Cn=new Promise((Ke,je)=>{try{const Xe=indexedDB.open("firebase-app-check-database",1);Xe.onsuccess=At=>{Ke(At.target.result)},Xe.onerror=At=>{var Xt;je(D1.create("storage-open",{originalErrorMessage:null===(Xt=At.target.error)||void 0===Xt?void 0:Xt.message}))},Xe.onupgradeneeded=At=>{0===At.oldVersion&&At.target.result.createObjectStore(r2,{keyPath:"compositeKey"})}}catch(Xe){je(D1.create("storage-open",{originalErrorMessage:Xe?.message}))}}),Cn)}function Ae(){return(Ae=(0,at.Z)(function*(Ke,je){const At=(yield Nn()).transaction(r2,"readwrite"),z1=At.objectStore(r2).put({compositeKey:Ke,value:je});return new Promise((Q1,kn)=>{z1.onsuccess=wn=>{Q1()},At.onerror=wn=>{var $i;kn(D1.create("storage-set",{originalErrorMessage:null===($i=wn.target.error)||void 0===$i?void 0:$i.message}))}})})).apply(this,arguments)}const d1=new Ct.Yd("@firebase/app-check");function Yt(Ke,je){return(0,Pt.hl)()?function N2(Ke,je){return function ct(Ke,je){return Ae.apply(this,arguments)}(function Mt(Ke){return`${Ke.options.appId}-${Ke.name}`}(Ke),je)}(Ke,je).catch(Xe=>{d1.warn(`Failed to write token to IndexedDB. Error: ${Xe}`)}):Promise.resolve()}function Xn(){return Fe().enabled}function nn(){return W1.apply(this,arguments)}function W1(){return(W1=(0,at.Z)(function*(){const Ke=Fe();if(Ke.enabled&&Ke.token)return Ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const f1={error:"UNKNOWN_ERROR"};function Nt(Ke){return Pt.US.encodeString(JSON.stringify(Ke),!1)}function t1(Ke){return L1.apply(this,arguments)}function L1(){return(L1=(0,at.Z)(function*(Ke,je=!1){const Xe=Ke.app;Zt(Xe);const At=Le(Xe);let z1,Xt=At.token;if(Xt&&!wt(Xt)&&(At.token=void 0,Xt=void 0),!Xt){const wn=yield At.cachedTokenPromise;wn&&(wt(wn)?Xt=wn:yield Yt(Xe,void 0))}if(!je&&Xt&&wt(Xt))return{token:Xt.token};let kn,Q1=!1;if(Xn()){At.exchangeTokenPromise||(At.exchangeTokenPromise=In(Jn(Xe,yield nn()),Ke.heartbeatServiceProvider).finally(()=>{At.exchangeTokenPromise=void 0}),Q1=!0);const wn=yield At.exchangeTokenPromise;return yield Yt(Xe,wn),At.token=wn,{token:wn.token}}try{At.exchangeTokenPromise||(At.exchangeTokenPromise=At.provider.getToken().finally(()=>{At.exchangeTokenPromise=void 0}),Q1=!0),Xt=yield Le(Xe).exchangeTokenPromise}catch(wn){"appCheck/throttled"===wn.code?d1.warn(wn.message):d1.error(wn),z1=wn}return Xt?z1?kn=wt(Xt)?{token:Xt.token,internalError:z1}:Ze(z1):(kn={token:Xt.token},At.token=Xt,yield Yt(Xe,Xt)):kn=Ze(z1),Q1&&Pe(Xe,kn),kn})).apply(this,arguments)}function V1(Ke,je){const Xe=Le(Ke),At=Xe.tokenObservers.filter(Xt=>Xt.next!==je);0===At.length&&Xe.tokenRefresher&&Xe.tokenRefresher.isRunning()&&Xe.tokenRefresher.stop(),Xe.tokenObservers=At}function xe(Ke){const{app:je}=Ke,Xe=Le(je);let At=Xe.tokenRefresher;At||(At=function De(Ke){const{app:je}=Ke;return new x1((0,at.Z)(function*(){let At;if(At=Le(je).token?yield t1(Ke,!0):yield t1(Ke),At.error)throw At.error;if(At.internalError)throw At.internalError}),()=>!0,()=>{const Xe=Le(je);if(Xe.token){let At=Xe.token.issuedAtTimeMillis+.5*(Xe.token.expireTimeMillis-Xe.token.issuedAtTimeMillis)+3e5;return At=Math.min(At,Xe.token.expireTimeMillis-3e5),Math.max(0,At-Date.now())}return 0},3e4,96e4)}(Ke),Xe.tokenRefresher=At),!At.isRunning()&&Xe.isTokenAutoRefreshEnabled&&At.start()}function Pe(Ke,je){const Xe=Le(Ke).tokenObservers;for(const At of Xe)try{"EXTERNAL"===At.type&&null!=je.error?At.error(je.error):At.next(je)}catch{}}function wt(Ke){return Ke.expireTimeMillis-Date.now()>0}function Ze(Ke){return{token:Nt(f1),error:Ke}}class o1{constructor(je,Xe){this.app=je,this.heartbeatServiceProvider=Xe}_delete(){const{tokenObservers:je}=Le(this.app);for(const Xe of je)V1(this.app,Xe.next);return Promise.resolve()}}const H2="app-check-internal";!function K2(){(0,ht._registerComponent)(new tt.wA("app-check",Ke=>function n1(Ke,je){return new o1(Ke,je)}(Ke.getProvider("app").getImmediate(),Ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ke,je,Xe)=>{Ke.getProvider(H2).initialize()})),(0,ht._registerComponent)(new tt.wA(H2,Ke=>function U1(Ke){return{getToken:je=>t1(Ke,je),addTokenListener:je=>function E1(Ke,je,Xe,At){const{app:Xt}=Ke,z1=Le(Xt);if(z1.tokenObservers=[...z1.tokenObservers,{next:Xe,error:At,type:je}],z1.token&&wt(z1.token)){const kn=z1.token;Promise.resolve().then(()=>{Xe({token:kn.token}),xe(Ke)}).catch(()=>{})}z1.cachedTokenPromise.then(()=>xe(Ke))}(Ke,"INTERNAL",je),removeTokenListener:je=>V1(Ke.app,je)}}(Ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ht.registerVersion)("@firebase/app-check","0.6.0")}();class di{constructor(){return(0,l.vb)("app-check")}}typeof window<"u"&&window},3385:(r1,Je,F)=>{F.d(Je,{zQ:()=>Le,ww:()=>rt,rT:()=>Ct,f7:()=>et,L6:()=>tt,_Q:()=>Pt,lh:()=>ce,Qv:()=>ht,nw:()=>we});var l=F(4650),_=F(7579),X=F(9646),Ie=F(9751),Te=F(8996),Ne=F(6451),de=F(5363),Re=F(3900),Ve=F(4004),he=F(3151),pe=F(590),ze=F(576);function it(Fe,zt){return(0,ze.m)(zt)?(0,Re.w)(()=>Fe,zt):(0,Re.w)(()=>Fe)}var st=F(9468),Ye=F(9300),Gt=F(2122),ft=F(2011),ot=F(6895),He=F(6217),s1=F(9260);const ht=new l.OlP("angularfire2.auth.use-emulator"),tt=new l.OlP("angularfire2.auth.settings"),Pt=new l.OlP("angularfire2.auth.tenant-id"),Ct=new l.OlP("angularfire2.auth.langugage-code"),ce=new l.OlP("angularfire2.auth.use-device-language"),et=new l.OlP("angularfire.auth.persistence"),we=(Fe,zt,Rt,y1,B1,O1,Vt,x1)=>(0,ft.cc)(`${Fe.name}.auth`,"AngularFireAuth",Fe.name,()=>{const S1=zt.runOutsideAngular(()=>Fe.auth());if(Rt&&S1.useEmulator(...Rt),y1&&(S1.tenantId=y1),S1.languageCode=B1,O1&&S1.useDeviceLanguage(),Vt)for(const[T1,D1]of Object.entries(Vt))S1.settings[T1]=D1;return x1&&S1.setPersistence(x1),S1},[Rt,y1,B1,O1,Vt,x1]);let Le=(()=>{class Fe{constructor(Rt,y1,B1,O1,Vt,x1,S1,T1,D1,Qn,Zt,dn){const Mn=new _.x,In=(0,X.of)(void 0).pipe((0,de.Q)(Vt.outsideAngular),(0,Re.w)(()=>O1.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9169)))),(0,Ve.U)(()=>(0,ft.on)(Rt,O1,y1)),(0,Ve.U)(Vn=>we(Vn,O1,x1,T1,D1,Qn,S1,Zt)),(0,he.d)({bufferSize:1,refCount:!1}));if((0,ot.PM)(B1))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{In.pipe((0,pe.P)()).subscribe();const Yn=In.pipe((0,Re.w)(Z1=>Z1.getRedirectResult().then(vn=>vn,()=>null)),Gt.iC,(0,he.d)({bufferSize:1,refCount:!1})),Hn=In.pipe((0,Re.w)(Z1=>new Ie.y(vn=>({unsubscribe:O1.runOutsideAngular(()=>Z1.onAuthStateChanged(r2=>vn.next(r2),r2=>vn.error(r2),()=>vn.complete()))})))),Jn=In.pipe((0,Re.w)(Z1=>new Ie.y(vn=>({unsubscribe:O1.runOutsideAngular(()=>Z1.onIdTokenChanged(r2=>vn.next(r2),r2=>vn.error(r2),()=>vn.complete()))}))));this.authState=Yn.pipe(it(Hn),(0,st.R)(Vt.outsideAngular),(0,de.Q)(Vt.insideAngular)),this.user=Yn.pipe(it(Jn),(0,st.R)(Vt.outsideAngular),(0,de.Q)(Vt.insideAngular)),this.idToken=this.user.pipe((0,Re.w)(Z1=>Z1?(0,Te.D)(Z1.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,Re.w)(Z1=>Z1?(0,Te.D)(Z1.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,Ne.T)(Yn,Mn,this.authState.pipe((0,Ye.h)(Z1=>!Z1))).pipe((0,Ve.U)(Z1=>Z1?.user?Z1:null),(0,st.R)(Vt.outsideAngular),(0,de.Q)(Vt.insideAngular))}return(0,ft.pX)(this,In,O1,{spy:{apply:(Vn,Yn,Hn)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&Hn.then(Jn=>Mn.next(Jn))}}})}}return Fe.\u0275fac=function(Rt){return new(Rt||Fe)(l.LFG(ft.Dh),l.LFG(ft.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Gt.HU),l.LFG(ht,8),l.LFG(tt,8),l.LFG(Pt,8),l.LFG(Ct,8),l.LFG(ce,8),l.LFG(et,8),l.LFG(He.nm,8))},Fe.\u0275prov=l.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"any"}),Fe})(),rt=(()=>{class Fe{constructor(){s1.Z.registerVersion("angularfire",Gt.q4.full,"auth-compat")}}return Fe.\u0275fac=function(Rt){return new(Rt||Fe)},Fe.\u0275mod=l.oAB({type:Fe}),Fe.\u0275inj=l.cJS({providers:[Le]}),Fe})()},3101:(r1,Je,F)=>{F.d(Je,{ST:()=>h5,yb:()=>a7});var l=F(4650),_=F(4986),X=F(9751),Ie=F(8996),Te=F(9646),Ne=F(2122),de=F(8675),Re=F(4482),Ve=F(5403);function he(){return(0,Re.e)((r,e)=>{let t,s=!1;r.subscribe((0,Ve.x)(e,c=>{const p=t;t=c,s&&e.next([p,c]),s=!0}))})}var ce,pe=F(4004),ze=F(5026),it=F(1884),st=F(9300),Ye=F(2011),Gt=F(6895),ot=(F(9169),F(3942)),He=F(5861),s1=F(9681),at=F(4859),ht=F(1877),tt=F(2090),Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ct={},et=et||{},we=Pt||self;function Le(){}function rt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Fe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Rt="closure_uid_"+(1e9*Math.random()>>>0),y1=0;function B1(r,e,t){return r.call.apply(r.bind,arguments)}function O1(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function Vt(r,e,t){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B1:O1).apply(null,arguments)}function x1(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function S1(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(s,c,p){for(var C=Array(arguments.length-2),z=2;z<arguments.length;z++)C[z-2]=arguments[z];return e.prototype[c].apply(s,C)}}function T1(){this.s=this.s,this.o=this.o}T1.prototype.s=!1,T1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function zt(r){Object.prototype.hasOwnProperty.call(r,Rt)&&r[Rt]||(r[Rt]=++y1)}(this)},T1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Zt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function dn(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(rt(s)){const c=r.length||0,p=s.length||0;r.length=c+p;for(let C=0;C<p;C++)r[c+C]=s[C]}else r.push(s)}}function Mn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Mn.prototype.h=function(){this.defaultPrevented=!0};var In=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{we.addEventListener("test",Le,e),we.removeEventListener("test",Le,e)}catch{}return r}();function Vn(r){return/^[\s\xa0]*$/.test(r)}var Yn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Hn(r,e){return r<e?-1:r>e?1:0}function Jn(){var r=we.navigator;return r&&(r=r.userAgent)?r:""}function Z1(r){return-1!=Jn().indexOf(r)}function vn(r){return vn[" "](r),r}vn[" "]=Le;var ct,r,Wt=Z1("Opera"),Cn=Z1("Trident")||Z1("MSIE"),Nn=Z1("Edge"),pn=Nn||Cn,N2=Z1("Gecko")&&!(-1!=Jn().toLowerCase().indexOf("webkit")&&!Z1("Edge"))&&!(Z1("Trident")||Z1("MSIE"))&&!Z1("Edge"),R2=-1!=Jn().toLowerCase().indexOf("webkit")&&!Z1("Edge");function u1(){var r=we.document;return r?r.documentMode:void 0}e:{var Ae="",be=(r=Jn(),N2?/rv:([^\);]+)(\)|;)/.exec(r):Nn?/Edge\/([\d\.]+)/.exec(r):Cn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):R2?/WebKit\/(\S+)/.exec(r):Wt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(be&&(Ae=be?be[1]:""),Cn){var lt=u1();if(null!=lt&&lt>parseFloat(Ae)){ct=String(lt);break e}}ct=Ae}var Mt={};var Yt=we.document&&Cn&&(u1()||parseInt(ct,10))||void 0;function yn(r,e){if(Mn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(N2){e:{try{vn(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:tn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&yn.X.h.call(this)}}S1(yn,Mn);var tn={2:"touch",3:"pen",4:"mouse"};yn.prototype.h=function(){yn.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Xn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function W1(r,e,t,s,c){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=c,this.key=++nn,this.ba=this.ea=!1}function an(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function f1(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Nt(r){const e={};for(const t in r)e[t]=r[t];return e}const t1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L1(r,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)r[t]=s[t];for(let p=0;p<t1.length;p++)t=t1[p],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function E1(r){this.src=r,this.g={},this.h=0}function V1(r,e){var t=e.type;if(t in r.g){var p,s=r.g[t],c=Qn(s,e);(p=0<=c)&&Array.prototype.splice.call(s,c,1),p&&(an(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function xe(r,e,t,s){for(var c=0;c<r.length;++c){var p=r[c];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==s)return c}return-1}E1.prototype.add=function(r,e,t,s,c){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var C=xe(r,e,s,c);return-1<C?(e=r[C],t||(e.ea=!1)):((e=new W1(e,this.src,p,!!s,c)).ea=t,r.push(e)),e};var De="closure_lm_"+(1e6*Math.random()|0),Pe={};function wt(r,e,t,s,c){if(s&&s.once)return n1(r,e,t,s,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)wt(r,e[p],t,s,c);return null}return t=We(t),r&&r[Xn]?r.N(e,t,Fe(s)?!!s.capture:!!s,c):Ze(r,e,t,!1,s,c)}function Ze(r,e,t,s,c,p){if(!e)throw Error("Invalid event type");var C=Fe(c)?!!c.capture:!!c,z=me(r);if(z||(r[De]=z=new E1(r)),(t=z.add(e,t,s,C,p)).proxy)return t;if(s=function o1(){const e=Ee;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)In||(c=C),void 0===c&&(c=!1),r.addEventListener(e.toString(),s,c);else if(r.attachEvent)r.attachEvent(q1(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function n1(r,e,t,s,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)n1(r,e[p],t,s,c);return null}return t=We(t),r&&r[Xn]?r.O(e,t,Fe(s)?!!s.capture:!!s,c):Ze(r,e,t,!0,s,c)}function U1(r,e,t,s,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)U1(r,e[p],t,s,c);else s=Fe(s)?!!s.capture:!!s,t=We(t),r&&r[Xn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=xe(p=r.g[e],t,s,c))&&(an(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=me(r))&&(e=r.g[e.toString()],r=-1,e&&(r=xe(e,t,s,c)),(t=-1<r?e[r]:null)&&cn(t))}function cn(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Xn])V1(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(q1(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=me(e))?(V1(t,r),0==t.h&&(t.src=null,e[De]=null)):an(r)}}}function q1(r){return r in Pe?Pe[r]:Pe[r]="on"+r}function Ee(r,e){if(r.ba)r=!0;else{e=new yn(e,this);var t=r.listener,s=r.ha||r.src;r.ea&&cn(r),r=t.call(s,e)}return r}function me(r){return(r=r[De])instanceof E1?r:null}var le="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(r){return"function"==typeof r?r:(r[le]||(r[le]=function(e){return r.handleEvent(e)}),r[le])}function _t(){T1.call(this),this.i=new E1(this),this.P=this,this.I=null}function Qt(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new Mn(e,r);else if(e instanceof Mn)e.target=e.target||r;else{var c=e;L1(e=new Mn(s,r),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var C=e.g=t[p];c=A1(C,s,!0,e)&&c}if(c=A1(C=e.g=r,s,!0,e)&&c,c=A1(C,s,!1,e)&&c,t)for(p=0;p<t.length;p++)c=A1(C=e.g=t[p],s,!1,e)&&c}function A1(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var C=e[p];if(C&&!C.ba&&C.capture==t){var z=C.listener,Z=C.ha||C.src;C.ea&&V1(r.i,C),c=!1!==z.call(Z,s)&&c}}return c&&!s.defaultPrevented}S1(_t,T1),_t.prototype[Xn]=!0,_t.prototype.removeEventListener=function(r,e,t,s){U1(this,r,e,t,s)},_t.prototype.M=function(){if(_t.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)an(t[s]);delete r.g[e],r.h--}}this.I=null},_t.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},_t.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Y1=we.JSON.stringify;function xn(){var r=w2;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var W2,J1=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Rn,r=>r.reset());class Rn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function A2(r){we.setTimeout(()=>{throw r},0)}function bi(r,e){W2||function v2(){var r=we.Promise.resolve(void 0);W2=function(){r.then(I2)}}(),q2||(W2(),q2=!0),w2.add(r,e)}var q2=!1,w2=new class k2{constructor(){this.h=this.g=null}add(e,t){const s=J1.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function I2(){for(var r;r=xn();){try{r.h.call(r.g)}catch(t){A2(t)}var e=J1;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}q2=!1}function p2(r,e){_t.call(this),this.h=r||1,this.g=e||we,this.j=Vt(this.lb,this),this.l=Date.now()}function Ni(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function zn(r,e,t){if("function"==typeof r)t&&(r=Vt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Vt(r.handleEvent,r)}return 2147483647<Number(e)?-1:we.setTimeout(r,e||0)}function Pr(r){r.g=zn(()=>{r.g=null,r.i&&(r.i=!1,Pr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}S1(p2,_t),(ce=p2.prototype).ca=!1,ce.R=null,ce.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qt(this,"tick"),this.ca&&(Ni(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){p2.X.M.call(this),Ni(this),delete this.g};class H2 extends T1{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pr(this)}M(){super.M(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function K2(r){T1.call(this),this.h=r,this.g={}}S1(K2,T1);var Y2=[];function ui(r,e,t,s){Array.isArray(t)||(t&&(Y2[0]=t.toString()),t=Y2);for(var c=0;c<t.length;c++){var p=wt(e,t[c],s||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function di(r){f1(r.g,function(e,t){this.g.hasOwnProperty(t)&&cn(e)},r),r.g={}}function F2(){this.g=!0}function Ln(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ur(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var C=1;C<c.length;C++)c[C]=""}}}return Y1(t)}catch{return e}}(r,t)+(s?" "+s:"")})}K2.prototype.M=function(){K2.X.M.call(this),di(this)},K2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},F2.prototype.Aa=function(){this.g=!1},F2.prototype.info=function(){};var Ci={},dr=null;function x2(){return dr=dr||new _t}function Tr(r){Mn.call(this,Ci.Pa,r)}function Vr(r){const e=x2();Qt(e,new Tr(e))}function ms(r,e){Mn.call(this,Ci.STAT_EVENT,r),this.stat=e}function B2(r){const e=x2();Qt(e,new ms(e,r))}function gs(r,e){Mn.call(this,Ci.Qa,r),this.size=e}function y2(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){r()},e)}Ci.Pa="serverreachability",S1(Tr,Mn),Ci.STAT_EVENT="statevent",S1(ms,Mn),Ci.Qa="timingevent",S1(gs,Mn);var Ke={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},je={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xe(){}function Xt(){}Xe.prototype.h=null;var wn,z1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Q1(){Mn.call(this,"d")}function kn(){Mn.call(this,"c")}function $i(){}function tr(r,e,t,s){this.l=r,this.j=e,this.m=t,this.U=s||1,this.S=new K2(this),this.O=ri,this.T=new p2(r=pn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}S1(Q1,Mn),S1(kn,Mn),S1($i,Xe),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},wn=new $i;var ri=45e3,fr={},ts={};function Pi(r,e,t){r.K=1,r.v=oi(Ii(e)),r.s=t,r.P=!0,Zr(r,null)}function Zr(r,e){r.F=Date.now(),J2(r),r.A=Ii(r.v);var t=r.A,s=r.U;Array.isArray(s)||(s=[String(s)]),rr(t.i,"t",s),r.C=0,t=r.l.H,r.h=new ii,r.g=Yi(r.l,t?e:null,!r.s),0<r.N&&(r.L=new H2(Vt(r.La,r,r.g),r.N)),ui(r.S,r.g,"readystatechange",r.ib),e=r.H?Nt(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Vr(),function jn(r,e,t,s,c,p){r.info(function(){if(r.g)if(p)for(var C="",z=p.split("&"),Z=0;Z<z.length;Z++){var Q=z[Z].split("=");if(1<Q.length){var ue=Q[0];Q=Q[1];var ke=ue.split("_");C=2<=ke.length&&"type"==ke[1]?C+(ue+"=")+Q+"&":C+(ue+"=redacted&")}}else C=null;else C=p;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+C})}(r.j,r.u,r.A,r.m,r.U,r.s)}function z2(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function fi(r,e,t){let c,s=!0;for(;!r.I&&r.C<t.length;){if(c=Ai(r,t),c==ts){4==e&&(r.o=4,B2(14),s=!1),Ln(r.j,r.m,null,"[Incomplete Response]");break}if(c==fr){r.o=4,B2(15),Ln(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ln(r.j,r.m,c,null),hi(r,c)}z2(r)&&c!=ts&&c!=fr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,B2(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ln(e),e.K=!0,B2(11))):(Ln(r.j,r.m,t,"[Invalid Chunked Response]"),pr(r),hr(r))}function Ai(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?ts:(t=Number(e.substring(t,s)),isNaN(t)?fr:(s+=1)+t>e.length?ts:(e=e.substr(s,t),r.C=s+t,e))}function J2(r){r.V=Date.now()+r.O,Nr(r,r.O)}function Nr(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=y2(Vt(r.gb,r),e)}function s2(r){r.B&&(we.clearTimeout(r.B),r.B=null)}function hr(r){0==r.l.G||r.I||f2(r.l,r)}function pr(r){s2(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,Ni(r.T),di(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function hi(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||kt(t.h,r)))if(!r.J&&kt(t.h,r)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;sn(t),L(t)}$1(t),B2(18)}}else t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=y2(Vt(t.cb,t),6e3));if(1>=mi(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else En(t,11)}else if((r.J||t.g==r)&&sn(t),!Vn(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let Q=c[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const ue=Q[3];null!=ue&&(t.ma=ue,t.j.info("VER="+t.ma));const ke=Q[4];null!=ke&&(t.Ca=ke,t.j.info("SVER="+t.Ca));const pt=Q[5];null!=pt&&"number"==typeof pt&&0<pt&&(t.J=s=1.5*pt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ut=r.g;if(Ut){const Kt=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kt){var p=s.h;p.g||-1==Kt.indexOf("spdy")&&-1==Kt.indexOf("quic")&&-1==Kt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(_n(p,p.h),p.h=null))}if(s.D){const k1=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;k1&&(s.za=k1,qn(s.F,s.D,k1))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var C=r;if((s=t).sa=_r(s,s.H?s.ka:null,s.V),C.J){U2(s.h,C);var z=C,Z=s.J;Z&&z.setTimeout(Z),z.B&&(s2(z),J2(z)),s.g=C}else a1(s);0<t.i.length&&k(t)}else"stop"!=Q[0]&&"close"!=Q[0]||En(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?En(t,7):xt(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}Vr()}catch{}}function wi(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(rt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function si(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(rt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Mi(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(rt(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),c=s.length,p=0;p<c;p++)e.call(void 0,s[p],t&&t[p],r)}(ce=tr.prototype).setTimeout=function(r){this.O=r},ce.ib=function(r){r=r.target;const e=this.L;e&&3==oe(r)?e.l():this.La(r)},ce.La=function(r){try{if(r==this.g)e:{const ue=oe(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ue)&&(3!=ue||pn||this.g&&(this.h.h||this.g.fa()||fe(this.g)))){this.I||4!=ue||7==e||Vr(),s2(this);var t=this.g.aa();this.Y=t;t:if(z2(this)){var s=fe(this.g);r="";var c=s.length,p=4==oe(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),hr(this);var C="";break t}this.h.i=new we.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:p&&e==c-1});s.splice(0,c),this.h.g+=r,this.C=0,C=this.h.g}else C=this.g.fa();if(this.i=200==t,function ki(r,e,t,s,c,p,C){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+C})}(this.j,this.u,this.A,this.m,this.U,ue,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var z,Z=this.g;if((z=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vn(z)){var Q=z;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,B2(12),pr(this),hr(this);break e}Ln(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hi(this,t)}this.P?(fi(this,ue,C),pn&&this.i&&3==ue&&(ui(this.S,this.T,"tick",this.hb),this.T.start())):(Ln(this.j,this.m,C,null),hi(this,C)),4==ue&&pr(this),this.i&&!this.I&&(4==ue?f2(this.l,this):(this.i=!1,J2(this)))}else 400==t&&0<C.indexOf("Unknown SID")?(this.o=3,B2(12)):(this.o=0,B2(13)),pr(this),hr(this)}}}catch{}},ce.hb=function(){if(this.g){var r=oe(this.g),e=this.g.fa();this.C<e.length&&(s2(this),fi(this,r,e),this.i&&4!=r&&J2(this))}},ce.cancel=function(){this.I=!0,pr(this)},ce.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function P2(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vr(),B2(17)),pr(this),this.o=2,hr(this)):Nr(this,this.V-r)};var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o2(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof o2){this.h=void 0!==e?e:r.h,ns(this,r.j),this.s=r.s,this.g=r.g,d2(this,r.m),this.l=r.l,e=r.i;var t=new m2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nr(this,t),this.o=r.o}else r&&(t=String(r).match(Vi))?(this.h=!!e,ns(this,t[1]||"",!0),this.s=L2(t[2]||""),this.g=L2(t[3]||"",!0),d2(this,t[4]),this.l=L2(t[5]||"",!0),nr(this,t[6]||"",!0),this.o=L2(t[7]||"")):(this.h=!!e,this.i=new m2(null,this.h))}function Ii(r){return new o2(r)}function ns(r,e,t){r.j=t?L2(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function d2(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function nr(r,e,t){e instanceof m2?(r.i=e,function Fr(r,e){e&&!r.j&&(_2(r),r.i=null,r.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(e2(this,s),rr(this,c,t))},r)),r.j=e}(r.i,r.h)):(t||(e=pi(e,ir)),r.i=new m2(e,r.h))}function qn(r,e,t){r.i.set(e,t)}function oi(r){return qn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function L2(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function pi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,is),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function is(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}o2.prototype.toString=function(){var r=[],e=this.j;e&&r.push(pi(e,Hi,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(pi(e,Hi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(pi(t,"/"==t.charAt(0)?gr:An,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",pi(t,Hr)),r.join("")};var Hi=/[#\/\?@]/g,An=/[#\?:]/g,gr=/[#\?]/g,ir=/[#\?@]/g,Hr=/#/g;function m2(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function _2(r){r.g||(r.g=new Map,r.h=0,r.i&&function mr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),c=null;if(0<=s){var p=r[t].substring(0,s);c=r[t].substring(s+1)}else p=r[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function e2(r,e){_2(r),e=xi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function R1(r,e){return _2(r),e=xi(r,e),r.g.has(e)}function rr(r,e,t){e2(r,e),0<t.length&&(r.i=null,r.g.set(xi(r,e),Zt(t)),r.h+=t.length)}function xi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Wr(r){this.l=r||vr,r=we.PerformanceNavigationTiming?0<(r=we.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(we.g&&we.g.Ga&&we.g.Ga()&&we.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=m2.prototype).add=function(r,e){_2(this),this.i=null,r=xi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){_2(this),this.g.forEach(function(t,s){t.forEach(function(c){r.call(e,c,s,this)},this)},this)},ce.oa=function(){_2(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=r[s];for(let p=0;p<c.length;p++)t.push(e[s])}return t},ce.W=function(r){_2(this);let e=[];if("string"==typeof r)R1(this,r)&&(e=e.concat(this.g.get(xi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return _2(this),this.i=null,R1(this,r=xi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const p=encodeURIComponent(String(s)),C=this.W(s);for(s=0;s<C.length;s++){var c=p;""!==C[s]&&(c+="="+encodeURIComponent(String(C[s]))),r.push(c)}}return this.i=r.join("&")};var vr=10;function Zi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function mi(r){return r.h?1:r.g?r.g.size:0}function kt(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function _n(r,e){r.g?r.g.add(e):r.h=e}function U2(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Di(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Zt(r.i)}function a2(){}function xs(){this.g=new a2}function qr(r,e,t){const s=t||"";try{wi(r,function(c,p){let C=c;Fe(c)&&(C=Y1(c)),e.push(s+p+"="+encodeURIComponent(C))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function qi(r,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Ki(r){this.l=r.ac||null,this.j=r.jb||!1}function Ss(r,e){_t.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Kr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wr.prototype.cancel=function(){if(this.i=Di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},a2.prototype.stringify=function(r){return we.JSON.stringify(r,void 0)},a2.prototype.parse=function(r){return we.JSON.parse(r,void 0)},S1(Ki,Xe),Ki.prototype.g=function(){return new Ss(this.l,this.j)},Ki.prototype.i=function(r){return function(){return r}}({}),S1(Ss,_t);var Kr=0;function $(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function U(r){r.readyState=4,r.l=null,r.j=null,r.A=null,V(r)}function V(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=Ss.prototype).open=function(r,e){if(this.readyState!=Kr)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,V(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||we).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,U(this)),this.readyState=Kr},ce.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,V(this)),this.g&&(this.readyState=3,V(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ce.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?U(this):V(this),3==this.readyState&&$(this)}},ce.Va=function(r){this.g&&(this.response=this.responseText=r,U(this))},ce.Ua=function(r){this.g&&(this.response=r,U(this))},ce.ga=function(){this.g&&U(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var re=we.JSON.parse;function ut(r){_t.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=M1,this.K=this.L=!1}S1(ut,_t);var M1="",Pn=/^https?$/i,yr=["POST","PUT"];function rs(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ss(r),Bi(r)}function ss(r){r.D||(r.D=!0,Qt(r,"complete"),Qt(r,"error"))}function os(r){if(r.h&&typeof et<"u"&&(!r.C[1]||4!=oe(r)||2!=r.aa()))if(r.v&&4==oe(r))zn(r.Ha,0,r);else if(Qt(r,"readystatechange"),4==oe(r)){r.h=!1;try{const z=r.aa();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===z){var c=String(r.H).match(Vi)[1]||null;if(!c&&we.self&&we.self.location){var p=we.self.location.protocol;c=p.substr(0,p.length-1)}s=!Pn.test(c?c.toLowerCase():"")}t=s}if(t)Qt(r,"complete"),Qt(r,"success");else{r.m=6;try{var C=2<oe(r)?r.g.statusText:""}catch{C=""}r.j=C+" ["+r.aa()+"]",ss(r)}}finally{Bi(r)}}}function Bi(r,e){if(r.g){Y(r);const t=r.g,s=r.C[0]?Le:null;r.g=null,r.C=null,e||Qt(r,"ready");try{t.onreadystatechange=s}catch{}}}function Y(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(we.clearTimeout(r.A),r.A=null)}function oe(r){return r.g?r.g.readyState:0}function fe(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case M1:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function _e(r){let e="";return f1(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function $e(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=_e(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):qn(r,e,t))}function Dt(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ot(r){this.Ca=0,this.i=[],this.j=new F2,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Dt("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Dt("baseRetryDelayMs",5e3,r),this.bb=Dt("retryDelaySeedMs",1e4,r),this.$a=Dt("forwardChannelMaxRetries",2,r),this.ta=Dt("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Wr(r&&r.concurrentRequestLimit),this.Fa=new xs,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function xt(r){if(q(r),3==r.G){var e=r.U++,t=Ii(r.F);qn(t,"SID",r.I),qn(t,"RID",e),qn(t,"TYPE","terminate"),nt(r,t),(e=new tr(r,r.j,e,void 0)).K=2,e.v=oi(Ii(t)),t=!1,we.navigator&&we.navigator.sendBeacon&&(t=we.navigator.sendBeacon(e.v.toString(),"")),!t&&we.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yi(e.l,null),e.g.da(e.v)),e.F=Date.now(),J2(e)}Ar(r)}function L(r){r.g&&(ln(r),r.g.cancel(),r.g=null)}function q(r){L(r),r.u&&(we.clearTimeout(r.u),r.u=null),sn(r),r.h.cancel(),r.m&&("number"==typeof r.m&&we.clearTimeout(r.m),r.m=null)}function k(r){Zi(r.h)||r.m||(r.m=!0,bi(r.Ja,r),r.C=0)}function Ce(r,e){var t;t=e?e.m:r.U++;const s=Ii(r.F);qn(s,"SID",r.I),qn(s,"RID",t),qn(s,"AID",r.T),nt(r,s),r.o&&r.s&&$e(s,r.o,r.s),t=new tr(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=yt(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),_n(r.h,t),Pi(t,s,e)}function nt(r,e){r.ia&&f1(r.ia,function(t,s){qn(e,s,t)}),r.l&&wi({},function(t,s){qn(e,s,t)})}function yt(r,e,t){t=Math.min(r.i.length,t);var s=r.l?Vt(r.l.Ra,r.l,r):null;e:{var c=r.i;let p=-1;for(;;){const C=["count="+t];-1==p?0<t?(p=c[0].h,C.push("ofs="+p)):p=0:C.push("ofs="+p);let z=!0;for(let Z=0;Z<t;Z++){let Q=c[Z].h;const ue=c[Z].g;if(Q-=p,0>Q)p=Math.max(0,c[Z].h-100),z=!1;else try{qr(ue,C,"req"+Q+"_")}catch{s&&s(ue)}}if(z){s=C.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,s}function a1(r){r.g||r.u||(r.Z=1,bi(r.Ia,r),r.A=0)}function $1(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=y2(Vt(r.Ia,r),Gn(r,r.A)),r.A++,0))}function ln(r){null!=r.B&&(we.clearTimeout(r.B),r.B=null)}function mn(r){r.g=new tr(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=Ii(r.sa);qn(e,"RID","rpc"),qn(e,"SID",r.I),qn(e,"CI",r.L?"0":"1"),qn(e,"AID",r.T),qn(e,"TYPE","xmlhttp"),nt(r,e),r.o&&r.s&&$e(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=oi(Ii(e)),t.s=null,t.P=!0,Zr(t,r)}function sn(r){null!=r.v&&(we.clearTimeout(r.v),r.v=null)}function f2(r,e){var t=null;if(r.g==e){sn(r),ln(r),r.g=null;var s=2}else{if(!kt(r.h,e))return;t=e.D,U2(r.h,e),s=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=r.C;Qt(s=x2(),new gs(s,t)),k(r)}else a1(r);else if(3==(c=e.o)||0==c&&0<r.pa||!(1==s&&function te(r,e){return!(mi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=y2(Vt(r.Ja,r,e),Gn(r,r.C)),r.C++,0)))}(r,e)||2==s&&$1(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),c){case 1:En(r,5);break;case 4:En(r,10);break;case 3:En(r,6);break;default:En(r,2)}}function Gn(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function En(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=Vt(r.kb,r);t||(t=new o2("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||ns(t,"https"),oi(t)),function Wi(r,e){const t=new F2;if(we.Image){const s=new Image;s.onload=x1(qi,t,s,"TestLoadImage: loaded",!0,e),s.onerror=x1(qi,t,s,"TestLoadImage: error",!1,e),s.onabort=x1(qi,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=x1(qi,t,s,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else B2(2);r.G=0,r.l&&r.l.va(e),Ar(r),q(r)}function Ar(r){if(r.G=0,r.la=[],r.l){const e=Di(r.h);(0!=e.length||0!=r.i.length)&&(dn(r.la,e),dn(r.la,r.i),r.h.i.length=0,Zt(r.i),r.i.length=0),r.l.ua()}}function _r(r,e,t){var s=t instanceof o2?Ii(t):new o2(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),d2(s,s.m);else{var c=we.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new o2(null,void 0);s&&ns(p,s),e&&(p.g=e),c&&d2(p,c),t&&(p.l=t),s=p}return e=r.za,(t=r.D)&&e&&qn(s,t,e),qn(s,"VER",r.ma),nt(r,s),s}function Yi(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ut(t&&r.Da&&!r.ra?new Ki({jb:!0}):r.ra)).Ka(r.H),e}function br(){}function Ji(){if(Cn&&!(10<=Number(Yt)))throw Error("Environmental error: no available transport.")}function j2(r,e){_t.call(this),this.g=new Ot(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Vn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vn(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new O2(this)}function Br(r){Q1.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Js(){kn.call(this),this.status=1}function O2(r){this.g=r}(ce=ut.prototype).Ka=function(r){this.L=r},ce.da=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wn.g(),this.C=function At(r){return r.h||(r.h=r.i())}(this.u?this.u:wn),this.g.onreadystatechange=Vt(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(p){return void rs(this,p)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const p of s.keys())t.set(p,s.get(p))}s=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=we.FormData&&r instanceof we.FormData,!(0<=Qn(yr,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,C]of t)this.g.setRequestHeader(p,C);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Y(this),0<this.B&&((this.K=function sr(r){return Cn&&function d1(){return function r2(r){var e=Mt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Yn(String(ct)).split("."),t=Yn("9").split("."),s=Math.max(e.length,t.length);for(let C=0;0==r&&C<s;C++){var c=e[C]||"",p=t[C]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;r=Hn(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||Hn(0==c[2].length,0==p[2].length)||Hn(c[2],p[2]),c=c[3],p=p[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.qa,this)):this.A=zn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){rs(this,p)}},ce.qa=function(){typeof et<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Qt(this,"complete"),Qt(this,"abort"),Bi(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bi(this,!0)),ut.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?os(this):this.fb())},ce.fb=function(){os(this)},ce.aa=function(){try{return 2<oe(this)?this.g.status:-1}catch{return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),re(e)}},ce.Ea=function(){return this.m},ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Ot.prototype).ma=8,ce.G=1,ce.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const c=new tr(this,this.j,r,void 0);let p=this.s;if(this.S&&(p?(p=Nt(p),L1(p,this.S)):p=this.S),null!==this.o||this.N||(c.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yt(this,c,e),qn(t=Ii(this.F),"RID",r),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),nt(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(_e(p)))+"&"+e:this.o&&$e(t,this.o,p)),_n(this.h,c),this.Ya&&qn(t,"TYPE","init"),this.O?(qn(t,"$req",e),qn(t,"SID","null"),c.Z=!0,Pi(c,t,null)):Pi(c,t,e),this.G=2}}else 3==this.G&&(r?Ce(this,r):0==this.i.length||Zi(this.h)||Ce(this))},ce.Ia=function(){if(this.u=null,mn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=y2(Vt(this.eb,this),r)}},ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,B2(10),L(this),mn(this))},ce.cb=function(){null!=this.v&&(this.v=null,L(this),$1(this),B2(19))},ce.kb=function(r){r?(this.j.info("Successfully pinged google.com"),B2(2)):(this.j.info("Failed to ping google.com"),B2(1))},(ce=br.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Ra=function(){},Ji.prototype.g=function(r,e){return new j2(r,e)},S1(j2,_t),j2.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;B2(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=_r(r,null,r.V),k(r)},j2.prototype.close=function(){xt(this.g)},j2.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Y1(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&k(e)},j2.prototype.M=function(){this.g.l=null,delete this.j,xt(this.g),delete this.g,j2.X.M.call(this)},S1(Br,Q1),S1(Js,kn),S1(O2,br),O2.prototype.xa=function(){Qt(this.g,"a")},O2.prototype.wa=function(r){Qt(this.g,new Br(r))},O2.prototype.va=function(r){Qt(this.g,new Js)},O2.prototype.ua=function(){Qt(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,j2.prototype.send=j2.prototype.u,j2.prototype.open=j2.prototype.m,j2.prototype.close=j2.prototype.close,Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,je.COMPLETE="complete",Xt.EventType=z1,z1.OPEN="a",z1.CLOSE="b",z1.ERROR="c",z1.MESSAGE="d",_t.prototype.listen=_t.prototype.N,ut.prototype.listenOnce=ut.prototype.O,ut.prototype.getLastError=ut.prototype.Oa,ut.prototype.getLastErrorCode=ut.prototype.Ea,ut.prototype.getStatus=ut.prototype.aa,ut.prototype.getResponseJson=ut.prototype.Sa,ut.prototype.getResponseText=ut.prototype.fa,ut.prototype.send=ut.prototype.da,ut.prototype.setWithCredentials=ut.prototype.Ka;var Co=Ct.createWebChannelTransport=function(){return new Ji},Ga=Ct.getStatEventTarget=function(){return x2()},so=Ct.ErrorCode=Ke,_a=Ct.EventType=je,Mo=Ct.Event=Ci,oo=Ct.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},zs=Ct.FetchXmlHttpFactory=Ki,Us=Ct.WebChannel=Xt,wo=Ct.XhrIo=ut;const ea="@firebase/firestore";class zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let ai="9.15.0";const Yr=new ht.Yd("@firebase/firestore");function Ls(){return Yr.logLevel}function qt(r,...e){if(Yr.logLevel<=ht.in.DEBUG){const t=e.map(ao);Yr.debug(`Firestore (${ai}): ${r}`,...t)}}function gi(r,...e){if(Yr.logLevel<=ht.in.ERROR){const t=e.map(ao);Yr.error(`Firestore (${ai}): ${r}`,...t)}}function as(r,...e){if(Yr.logLevel<=ht.in.WARN){const t=e.map(ao);Yr.warn(`Firestore (${ai}): ${r}`,...t)}}function ao(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function l1(r="Unexpected state"){const e=`FIRESTORE (${ai}) INTERNAL ASSERTION FAILED: `+r;throw gi(e),new Error(e)}function C1(r,e){r||l1()}function c1(r,e){return r}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends tt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class G2{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ei{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class $2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xs{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const p=Q=>this.i!==c?(c=this.i,t(Q)):Promise.resolve();let C=new G2;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new G2,e.enqueueRetryable(()=>p(this.currentUser))};const z=()=>{const Q=C;e.enqueueRetryable((0,He.Z)(function*(){yield Q.promise,yield p(s.currentUser)}))},Z=Q=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),z()};this.t.onInit(Q=>Z(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?Z(Q):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),C.resolve(),C=new G2)}},0),z()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(C1("string"==typeof s.accessToken),new Ei(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return C1(null===e||"string"==typeof e),new zi(e)}}class cs{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(C1(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class eo{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c}getToken(){return Promise.resolve(new cs(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Do{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q2{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=p=>{null!=p.error&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const C=p.token!==this.A;return this.A=p.token,qt("FirebaseAppCheckTokenProvider",`Received ${C?"new":"existing"} token.`),C?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const c=p=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?c(p):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(C1("string"==typeof t.token),this.A=t.token,new Do(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Eo(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class js{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=Eo(40);for(let p=0;p<c.length;++p)s.length<20&&c[p]<t&&(s+=e.charAt(c[p]%e.length))}return s}}function X1(r,e){return r<e?-1:r>e?1:0}function or(r,e,t){return r.length===e.length&&r.every((s,c)=>t(s,e[c]))}function So(r){return r+"\0"}class D2{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new jt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new jt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new jt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return D2.fromMillis(Date.now())}static fromDate(e){return D2.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new D2(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?X1(this.nanoseconds,e.nanoseconds):X1(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class P1{constructor(e){this.timestamp=e}static fromTimestamp(e){return new P1(e)}static min(){return new P1(new D2(0,0))}static max(){return new P1(new D2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kn{constructor(e,t,s){void 0===t?t=0:t>e.length&&l1(),void 0===s?s=e.length-t:s>e.length-t&&l1(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Kn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const p=e.get(c),C=t.get(c);if(p<C)return-1;if(p>C)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sn extends Kn{construct(e,t,s){return new Sn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new jt(bt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new Sn(t)}static emptyPath(){return new Sn([])}}const co=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Kn{construct(e,t,s){return new Fn(e,t,s)}static isValidIdentifier(e){return co.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const p=()=>{if(0===s.length)throw new jt(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let C=!1;for(;c<e.length;){const z=e[c];if("\\"===z){if(c+1===e.length)throw new jt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Z=e[c+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new jt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=Z,c+=2}else"`"===z?(C=!C,c++):"."!==z||C?(s+=z,c++):(p(),c++)}if(p(),C)throw new jt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(t)}static emptyPath(){return new Fn([])}}class e1{constructor(e){this.path=e}static fromPath(e){return new e1(Sn.fromString(e))}static fromName(e){return new e1(Sn.fromString(e).popFirst(5))}static empty(){return new e1(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new e1(new Sn(e.slice()))}}class Ts{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function ys(r){return r.fields.find(e=>2===e.kind)}function vi(r){return r.fields.filter(e=>2!==e.kind)}Ts.UNKNOWN_ID=-1;class ls{constructor(e,t){this.fieldPath=e,this.kind=t}}class h2{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new h2(0,Jr.min())}}function lo(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,c=P1.fromTimestamp(1e9===s?new D2(t+1,0):new D2(t,s));return new Jr(c,e1.empty(),e)}function ta(r){return new Jr(r.readTime,r.key,-1)}class Jr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Jr(P1.min(),e1.empty(),-1)}static max(){return new Jr(P1.max(),e1.empty(),-1)}}function Lo(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=e1.comparator(r.documentKey,e.documentKey),0!==t?t:X1(r.largestBatchId,e.largestBatchId))}const ba="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gs(r){return ds.apply(this,arguments)}function ds(){return ds=(0,He.Z)(function*(r){if(r.code!==bt.FAILED_PRECONDITION||r.message!==ba)throw r;qt("LocalStore","Unexpectedly lost primary lease")}),ds.apply(this,arguments)}class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&l1(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vt((s,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof vt?t:vt.resolve(t)}catch(t){return vt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):vt.reject(t)}static resolve(e){return new vt((t,s)=>{t(e)})}static reject(e){return new vt((t,s)=>{s(e)})}static waitFor(e){return new vt((t,s)=>{let c=0,p=0,C=!1;e.forEach(z=>{++c,z.next(()=>{++p,C&&p===c&&t()},Z=>s(Z))}),C=!0,p===c&&t()})}static or(e){let t=vt.resolve(!1);for(const s of e)t=t.next(c=>c?vt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,p)=>{s.push(t.call(this,c,p))}),this.waitFor(s)}static mapArray(e,t){return new vt((s,c)=>{const p=e.length,C=new Array(p);let z=0;for(let Z=0;Z<p;Z++){const Q=Z;t(e[Q]).next(ue=>{C[Q]=ue,++z,z===p&&s(C)},ue=>c(ue))}})}static doWhile(e,t){return new vt((s,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):s()};p()})}}class uo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new G2,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new bs(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const c=no(s.target.error);this.P.reject(new bs(e,c))}}static open(e,t,s,c){try{return new uo(t,e.transaction(c,s))}catch(p){throw new bs(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new To(t)}}class c2{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===c2.D((0,tt.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qt("SimpleDb","Removing database:",e),Li(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,tt.hl)())return!1;if(c2.N())return!0;const e=(0,tt.z$)(),t=c2.D(e),s=0<t&&t<10,c=c2.k(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,He.Z)(function*(){return t.db||(qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=C=>{s(C.target.result)},p.onblocked=()=>{c(new bs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=C=>{const z=C.target.error;c("VersionError"===z.name?new jt(bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===z.name?new jt(bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+z):new bs(e,z))},p.onupgradeneeded=C=>{qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',C.oldVersion),t.S.$(C.target.result,p.transaction,C.oldVersion,t.version).next(()=>{qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var p=this;return(0,He.Z)(function*(){const C="readonly"===t;let z=0;for(;;){++z;try{p.db=yield p.F(e);const Z=uo.open(p.db,e,C?"readonly":"readwrite",s),Q=c(Z).next(ue=>(Z.V(),ue)).catch(ue=>(Z.abort(ue),vt.reject(ue))).toPromise();return Q.catch(()=>{}),yield Z.v,Q}catch(Z){const Q=Z,ue="FirebaseError"!==Q.name&&z<3;if(qt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ue),p.close(),!ue)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class to{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Li(this.q.delete())}}class bs extends jt{constructor(e,t){super(bt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Os(r){return"IndexedDbTransactionError"===r.name}class To{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(qt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Li(s)}add(e){return qt("SimpleDb","ADD",this.store.name,e,e),Li(this.store.add(e))}get(e){return Li(this.store.get(e)).next(t=>(void 0===t&&(t=null),qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return qt("SimpleDb","DELETE",this.store.name,e),Li(this.store.delete(e))}count(){return qt("SimpleDb","COUNT",this.store.name),Li(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),p=[];return this.H(c,(C,z)=>{p.push(z)}).next(()=>p)}{const c=this.store.getAll(s.range);return new vt((p,C)=>{c.onerror=z=>{C(z.target.error)},c.onsuccess=z=>{p(z.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new vt((c,p)=>{s.onerror=C=>{p(C.target.error)},s.onsuccess=C=>{c(C.target.result)}})}Y(e,t){qt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const c=this.cursor(s);return this.H(c,(p,C,z)=>z.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.H(c,t)}tt(e){const t=this.cursor({});return new vt((s,c)=>{t.onerror=p=>{const C=no(p.target.error);c(C)},t.onsuccess=p=>{const C=p.target.result;C?e(C.primaryKey,C.value).next(z=>{z?C.continue():s()}):s()}})}H(e,t){const s=[];return new vt((c,p)=>{e.onerror=C=>{p(C.target.error)},e.onsuccess=C=>{const z=C.target.result;if(!z)return void c();const Z=new to(z),Q=t(z.primaryKey,z.value,Z);if(Q instanceof vt){const ue=Q.catch(ke=>(Z.done(),vt.reject(ke)));s.push(ue)}Z.isDone?c():null===Z.G?z.continue():z.continue(Z.G)}}).next(()=>vt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Li(r){return new vt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const c=no(s.target.error);t(c)}})}let Ir=!1;function no(r){const e=c2.D((0,tt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new jt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ir||(Ir=!0,setTimeout(()=>{throw s},0)),s}}return r}class xr{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,He.Z)(function*(){t.task=null;try{qt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Os(s)?qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Gs(s)}yield t.nt(6e4)}))}}class $s{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,He.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let c=t,p=!0;return vt.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(C=>{if(null!==C&&!s.has(C))return qt("IndexBackiller",`Processing collection: ${C}`),this.rt(e,C,c).next(z=>{c-=z,s.add(C)});p=!1})).next(()=>t-c)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(p=>{const C=p.changes;return this.localStore.indexManager.updateIndexEntries(e,C).next(()=>this.ot(c,p)).next(z=>(qt("IndexBackiller",`Updating offset: ${z}`),this.localStore.indexManager.updateCollectionGroup(e,t,z))).next(()=>C.size)}))}ot(e,t){let s=e;return t.changes.forEach((c,p)=>{const C=ta(p);Lo(C,s)>0&&(s=C)}),new Jr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Mr=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>s.writeSequenceNumber(c))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return r.at=-1,r})();class A{constructor(e,t,s,c,p,C,z,Z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=p,this.forceLongPolling=C,this.autoDetectLongPolling=z,this.useFetchStreams=Z}}class I{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new I("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof I&&e.projectId===this.projectId&&e.database===this.database}}function S(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function R(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function j(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ne(r){return null==r}function ve(r){return 0===r&&1/r==-1/0}function D(r){return"number"==typeof r&&Number.isInteger(r)&&!ve(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class m{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new m(t)}static fromUint8Array(e){const t=function(s){let c="";for(let p=0;p<s.length;++p)c+=String.fromCharCode(s[p]);return c}(e);return new m(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return X1(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}m.EMPTY_BYTE_STRING=new m("");const T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B(r){if(C1(!!r),"string"==typeof r){let e=0;const t=T.exec(r);if(C1(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ee(r.seconds),nanos:ee(r.nanos)}}function ee(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Se(r){return"string"==typeof r?m.fromBase64String(r):m.fromUint8Array(r)}function Oe(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dt(r){const e=r.mapValue.fields.__previous_value__;return Oe(e)?dt(e):e}function St(r){const e=B(r.mapValue.fields.__local_write_time__.timestampValue);return new D2(e.seconds,e.nanos)}const p1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_1={nullValue:"NULL_VALUE"};function on(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Oe(r)?4:ie(r)?9007199254740991:10:l1()}function fn(r,e){if(r===e)return!0;const t=on(r);if(t!==on(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return St(r).isEqual(St(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const p=B(s.timestampValue),C=B(c.timestampValue);return p.seconds===C.seconds&&p.nanos===C.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,Se(r.bytesValue).isEqual(Se(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,c){return ee(s.geoPointValue.latitude)===ee(c.geoPointValue.latitude)&&ee(s.geoPointValue.longitude)===ee(c.geoPointValue.longitude)}(r,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return ee(s.integerValue)===ee(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const p=ee(s.doubleValue),C=ee(c.doubleValue);return p===C?ve(p)===ve(C):isNaN(p)&&isNaN(C)}return!1}(r,e);case 9:return or(r.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:return function(s,c){const p=s.mapValue.fields||{},C=c.mapValue.fields||{};if(S(p)!==S(C))return!1;for(const z in p)if(p.hasOwnProperty(z)&&(void 0===C[z]||!fn(p[z],C[z])))return!1;return!0}(r,e);default:return l1()}var c}function en(r,e){return void 0!==(r.values||[]).find(t=>fn(t,e))}function K1(r,e){if(r===e)return 0;const t=on(r),s=on(e);if(t!==s)return X1(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return X1(r.booleanValue,e.booleanValue);case 2:return function(c,p){const C=ee(c.integerValue||c.doubleValue),z=ee(p.integerValue||p.doubleValue);return C<z?-1:C>z?1:C===z?0:isNaN(C)?isNaN(z)?0:-1:1}(r,e);case 3:return b2(r.timestampValue,e.timestampValue);case 4:return b2(St(r),St(e));case 5:return X1(r.stringValue,e.stringValue);case 6:return function(c,p){const C=Se(c),z=Se(p);return C.compareTo(z)}(r.bytesValue,e.bytesValue);case 7:return function(c,p){const C=c.split("/"),z=p.split("/");for(let Z=0;Z<C.length&&Z<z.length;Z++){const Q=X1(C[Z],z[Z]);if(0!==Q)return Q}return X1(C.length,z.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,p){const C=X1(ee(c.latitude),ee(p.latitude));return 0!==C?C:X1(ee(c.longitude),ee(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,p){const C=c.values||[],z=p.values||[];for(let Z=0;Z<C.length&&Z<z.length;++Z){const Q=K1(C[Z],z[Z]);if(Q)return Q}return X1(C.length,z.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===p1.mapValue&&p===p1.mapValue)return 0;if(c===p1.mapValue)return 1;if(p===p1.mapValue)return-1;const C=c.fields||{},z=Object.keys(C),Z=p.fields||{},Q=Object.keys(Z);z.sort(),Q.sort();for(let ue=0;ue<z.length&&ue<Q.length;++ue){const ke=X1(z[ue],Q[ue]);if(0!==ke)return ke;const pt=K1(C[z[ue]],Z[Q[ue]]);if(0!==pt)return pt}return X1(z.length,Q.length)}(r.mapValue,e.mapValue);default:throw l1()}}function b2(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return X1(r,e);const t=B(r),s=B(e),c=X1(t.seconds,s.seconds);return 0!==c?c:X1(t.nanos,s.nanos)}function $n(r){return Qi(r)}function Qi(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const c=B(s);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Se(r.bytesValue).toBase64():"referenceValue"in r?e1.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let c="[",p=!0;for(const C of s.values||[])p?p=!1:c+=",",c+=Qi(C);return c+"]"}(r.arrayValue):"mapValue"in r?function(s){const c=Object.keys(s.fields||{}).sort();let p="{",C=!0;for(const z of c)C?C=!1:p+=",",p+=`${z}:${Qi(s.fields[z])}`;return p+"}"}(r.mapValue):l1();var e}function X2(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ei(r){return!!r&&"integerValue"in r}function Rs(r){return!!r&&"arrayValue"in r}function E2(r){return!!r&&"nullValue"in r}function zr(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function H(r){return!!r&&"mapValue"in r}function G(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return R(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=G(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=G(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ie(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ye(r){return"nullValue"in r?_1:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?X2(I.empty(),e1.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:l1()}function Qe(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?X2(I.empty(),e1.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?p1:l1()}function mt(r,e){const t=K1(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function $t(r,e){const t=K1(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class w1{constructor(e,t){this.position=e,this.inclusive=t}}function Lt(r,e,t){let s=0;for(let c=0;c<r.position.length;c++){const p=e[c],C=r.position[c];if(s=p.field.isKeyField()?e1.comparator(e1.fromName(C.referenceValue),t.key):K1(C,t.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Bt(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!fn(r.position[t],e.position[t]))return!1;return!0}class h1{}class Ht extends h1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Ns(e,t,s):"array-contains"===t?new B6(e,s):"in"===t?new f3(e,s):"not-in"===t?new V4(e,s):"array-contains-any"===t?new Wa(e,s):new Ht(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new $a(e,s):new Za(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(K1(t,this.value)):null!==t&&on(this.value)===on(t)&&this.matchesComparison(K1(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return l1()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class j1 extends h1{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new j1(e,t)}matches(e){return t2(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function t2(r){return"and"===r.op}function Oi(r){return"or"===r.op}function Cs(r){return S2(r)&&t2(r)}function S2(r){for(const e of r.filters)if(e instanceof j1)return!1;return!0}function ar(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+$n(r.value);{const e=r.filters.map(t=>ar(t)).join(",");return`${r.op}(${e})`}}function Ur(r,e){return r instanceof Ht?(t=r,(s=e)instanceof Ht&&t.op===s.op&&t.field.isEqual(s.field)&&fn(t.value,s.value)):r instanceof j1?function(t,s){return s instanceof j1&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,p,C)=>c&&Ur(p,s.filters[C]),!0)}(r,e):void l1();var t,s}function Ui(r,e){const t=r.filters.concat(e);return j1.create(t,r.op)}function Ro(r){return r instanceof Ht?`${(e=r).field.canonicalString()} ${e.op} ${$n(e.value)}`:r instanceof j1?function(e){return e.op.toString()+" {"+e.getFilters().map(Ro).join(" ,")+"}"}(r):"Filter";var e}class Ns extends Ht{constructor(e,t,s){super(e,t,s),this.key=e1.fromName(s.referenceValue)}matches(e){const t=e1.comparator(e.key,this.key);return this.matchesComparison(t)}}class $a extends Ht{constructor(e,t){super(e,"in",t),this.keys=q3(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Za extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=q3(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q3(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>e1.fromName(s.referenceValue))}class B6 extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rs(t)&&en(t.arrayValue,this.value)}}class f3 extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&en(this.value.arrayValue,t)}}class V4 extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(en(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!en(this.value.arrayValue,t)}}class Wa extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>en(this.value.arrayValue,s))}}class Ca{constructor(e,t="asc"){this.field=e,this.dir=t}}function K3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Lr{constructor(e,t){this.comparator=e,this.root=t||As.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,As.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,As.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g4(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g4(this.root,e,this.comparator,!1)}getReverseIterator(){return new g4(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g4(this.root,e,this.comparator,!0)}}class g4{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?s(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class As{constructor(e,t,s,c,p){this.key=e,this.value=t,this.color=s??As.RED,this.left=c??As.EMPTY,this.right=p??As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,p){return new As(e??this.key,t??this.value,s??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const p=s(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return As.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw l1();const e=this.left.check();if(e!==this.right.check())throw l1();return e+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=new class{constructor(){this.size=0}get key(){throw l1()}get value(){throw l1()}get color(){throw l1()}get left(){throw l1()}get right(){throw l1()}copy(r,e,t,s,c){return this}insert(r,e,t){return new As(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y3(this.data.getIterator())}getIteratorFrom(e){return new Y3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=s.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yi(this.comparator);return t.data=e,t}}class Y3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ma(r){return r.hasNext()?r.getNext():void 0}class Zs{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Zs([])}unionWith(e){let t=new yi(Fn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return or(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Is{constructor(e){this.value=e}static empty(){return new Is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!H(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=G(t)}setAll(e){let t=Fn.emptyPath(),s={},c=[];e.forEach((C,z)=>{if(!t.isImmediateParentOf(z)){const Z=this.getFieldsMap(t);this.applyChanges(Z,s,c),s={},c=[],t=z.popLast()}C?s[z.lastSegment()]=G(C):c.push(z.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,s,c)}delete(e){const t=this.field(e.popLast());H(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];H(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){R(t,(c,p)=>e[c]=p);for(const c of s)delete e[c]}clone(){return new Is(G(this.value))}}function h3(r){const e=[];return R(r.fields,(t,s)=>{const c=new Fn([t]);if(H(s)){const p=h3(s.mapValue).fields;if(0===p.length)e.push(c);else for(const C of p)e.push(c.child(C))}else e.push(c)}),new Zs(e)}class Xi{constructor(e,t,s,c,p,C,z){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=p,this.data=C,this.documentState=z}static newInvalidDocument(e){return new Xi(e,0,P1.min(),P1.min(),P1.min(),Is.empty(),0)}static newFoundDocument(e,t,s,c){return new Xi(e,1,t,P1.min(),s,c,0)}static newNoDocument(e,t){return new Xi(e,2,t,P1.min(),P1.min(),Is.empty(),0)}static newUnknownDocument(e,t){return new Xi(e,3,t,P1.min(),P1.min(),Is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(P1.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=P1.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(e,t=null,s=[],c=[],p=null,C=null,z=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=p,this.startAt=C,this.endAt=z,this.ft=null}}function U6(r,e=null,t=[],s=[],c=null,p=null,C=null){return new Bc(r,e,t,s,c,p,C)}function qa(r){const e=c1(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ar(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),ne(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>$n(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>$n(s)).join(",")),e.ft=t}return e.ft}function p3(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!K3(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ur(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Bt(r.startAt,e.startAt)&&Bt(r.endAt,e.endAt)}function m3(r){return e1.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function H4(r,e){return r.filters.filter(t=>t instanceof Ht&&t.field.isEqual(e))}function g3(r,e,t){let s=_1,c=!0;for(const p of H4(r,e)){let C=_1,z=!0;switch(p.op){case"<":case"<=":C=ye(p.value);break;case"==":case"in":case">=":C=p.value;break;case">":C=p.value,z=!1;break;case"!=":case"not-in":C=_1}mt({value:s,inclusive:c},{value:C,inclusive:z})<0&&(s=C,c=z)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const C=t.position[p];mt({value:s,inclusive:c},{value:C,inclusive:t.inclusive})<0&&(s=C,c=t.inclusive);break}return{value:s,inclusive:c}}function F4(r,e,t){let s=p1,c=!0;for(const p of H4(r,e)){let C=p1,z=!0;switch(p.op){case">=":case">":C=Qe(p.value),z=!1;break;case"==":case"in":case"<=":C=p.value;break;case"<":C=p.value,z=!1;break;case"!=":case"not-in":C=p1}$t({value:s,inclusive:c},{value:C,inclusive:z})>0&&(s=C,c=z)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const C=t.position[p];$t({value:s,inclusive:c},{value:C,inclusive:t.inclusive})>0&&(s=C,c=t.inclusive);break}return{value:s,inclusive:c}}class ko{constructor(e,t=null,s=[],c=[],p=null,C="F",z=null,Z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=p,this.limitType=C,this.startAt=z,this.endAt=Z,this.dt=null,this._t=null}}function v4(r,e,t,s,c,p,C,z){return new ko(r,e,t,s,c,p,C,z)}function ks(r){return new ko(r)}function J3(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Q3(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function y4(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function v3(r){return null!==r.collectionGroup}function Po(r){const e=c1(r);if(null===e.dt){e.dt=[];const t=y4(e),s=Q3(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new Ca(t)),e.dt.push(new Ca(Fn.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.dt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ca(Fn.keyField(),p))}}}return e.dt}function fs(r){const e=c1(r);if(!e._t)if("F"===e.limitType)e._t=U6(e.path,e.collectionGroup,Po(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Po(e))t.push(new Ca(p.field,"desc"===p.dir?"asc":"desc"));const s=e.endAt?new w1(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new w1(e.startAt.position,e.startAt.inclusive):null;e._t=U6(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function X3(r,e){e.getFirstInequalityField(),y4(r);const t=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ps(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ti(r,e){return p3(fs(r),fs(e))&&r.limitType===e.limitType}function B4(r){return`${qa(fs(r))}|lt:${r.limitType}`}function U4(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Ro(s)).join(", ")}]`),ne(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>$n(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>$n(s)).join(",")),`Target(${t})`}(fs(r))}; limitType=${r.limitType})`}function Or(r,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):e1.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(r,e)&&function(t,s){for(const c of Po(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(r,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(c,p,C){const z=Lt(c,p,C);return c.inclusive?z<=0:z<0}(t.startAt,Po(t),s)||t.endAt&&!function(c,p,C){const z=Lt(c,p,C);return c.inclusive?z>=0:z>0}(t.endAt,Po(t),s)));var t,s}function j4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function e6(r){return(e,t)=>{let s=!1;for(const c of Po(r)){const p=fo(c,e,t);if(0!==p)return p;s=s||c.field.isKeyField()}return 0}}function fo(r,e,t){const s=r.field.isKeyField()?e1.comparator(e.key,t.key):function(c,p,C){const z=p.data.field(c),Z=C.data.field(c);return null!==z&&null!==Z?K1(z,Z):l1()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return l1()}}function Ms(r,e){if(r.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ve(e)?"-0":e}}function No(r){return{integerValue:""+r}}function na(r,e){return D(e)?No(e):Ms(r,e)}class _4{constructor(){this._=void 0}}function y3(r,e,t){return r instanceof Vo?function(s,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):r instanceof io?Ho(r,e):r instanceof Ws?b4(r,e):function(s,c){const p=n6(s,c),C=wa(p)+wa(s.gt);return ei(p)&&ei(s.gt)?No(C):Ms(s.yt,C)}(r,e)}function t6(r,e,t){return r instanceof io?Ho(r,e):r instanceof Ws?b4(r,e):t}function n6(r,e){return r instanceof Fo?ei(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Vo extends _4{}class io extends _4{constructor(e){super(),this.elements=e}}function Ho(r,e){const t=ia(e);for(const s of r.elements)t.some(c=>fn(c,s))||t.push(s);return{arrayValue:{values:t}}}class Ws extends _4{constructor(e){super(),this.elements=e}}function b4(r,e){let t=ia(e);for(const s of r.elements)t=t.filter(c=>!fn(c,s));return{arrayValue:{values:t}}}class Fo extends _4{constructor(e,t){super(),this.yt=e,this.gt=t}}function wa(r){return ee(r.integerValue||r.doubleValue)}function ia(r){return Rs(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Da{constructor(e,t){this.field=e,this.transform=t}}class Ka{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _3(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Ea{}function C4(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Sa(r.key,er.none()):new Ya(r.key,r.data,er.none());{const t=r.data,s=Is.empty();let c=new yi(Fn.comparator);for(let p of e.fields)if(!c.has(p)){let C=t.field(p);null===C&&p.length>1&&(p=p.popLast(),C=t.field(p)),null===C?s.delete(p):s.set(p,C),c=c.add(p)}return new sa(r.key,s,new Zs(c.toArray()),er.none())}}function G6(r,e,t){r instanceof Ya?function(s,c,p){const C=s.value.clone(),z=$6(s.fieldTransforms,c,p.transformResults);C.setAll(z),c.convertToFoundDocument(p.version,C).setHasCommittedMutations()}(r,e,t):r instanceof sa?function(s,c,p){if(!_3(s.precondition,c))return void c.convertToUnknownDocument(p.version);const C=$6(s.fieldTransforms,c,p.transformResults),z=c.data;z.setAll(G4(s)),z.setAll(C),c.convertToFoundDocument(p.version,z).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function b3(r,e,t,s){return r instanceof Ya?function(c,p,C,z){if(!_3(c.precondition,p))return C;const Z=c.value.clone(),Q=Z6(c.fieldTransforms,z,p);return Z.setAll(Q),p.convertToFoundDocument(p.version,Z).setHasLocalMutations(),null}(r,e,t,s):r instanceof sa?function(c,p,C,z){if(!_3(c.precondition,p))return C;const Z=Z6(c.fieldTransforms,z,p),Q=p.data;return Q.setAll(G4(c)),Q.setAll(Z),p.convertToFoundDocument(p.version,Q).setHasLocalMutations(),null===C?null:C.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ue=>ue.field))}(r,e,t,s):(C=t,_3(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):C);var p,C}function ra(r,e){let t=null;for(const s of r.fieldTransforms){const c=e.data.field(s.field),p=n6(s.transform,c||null);null!=p&&(null===t&&(t=Is.empty()),t.set(s.field,p))}return t||null}function C3(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&or(t,s,(c,p)=>function j6(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof io&&s instanceof io||t instanceof Ws&&s instanceof Ws?or(t.elements,s.elements,fn):t instanceof Fo&&s instanceof Fo?fn(t.gt,s.gt):t instanceof Vo&&s instanceof Vo);var t,s}(c,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Ya extends Ea{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class sa extends Ea{constructor(e,t,s,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function G4(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function $6(r,e,t){const s=new Map;C1(r.length===t.length);for(let c=0;c<t.length;c++){const p=r[c],C=p.transform,z=e.data.field(p.field);s.set(p.field,t6(C,z,t[c]))}return s}function Z6(r,e,t){const s=new Map;for(const c of r){const p=c.transform,C=t.data.field(c.field);s.set(c.field,y3(p,C,e))}return s}class Sa extends Ea{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M3 extends Ea{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ta{constructor(e){this.count=e}}var cr,l2;function Na(r){switch(r){default:return l1();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function $4(r){if(void 0===r)return gi("GRPC error has no .code"),bt.UNKNOWN;switch(r){case cr.OK:return bt.OK;case cr.CANCELLED:return bt.CANCELLED;case cr.UNKNOWN:return bt.UNKNOWN;case cr.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case cr.INTERNAL:return bt.INTERNAL;case cr.UNAVAILABLE:return bt.UNAVAILABLE;case cr.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case cr.NOT_FOUND:return bt.NOT_FOUND;case cr.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case cr.ABORTED:return bt.ABORTED;case cr.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case cr.DATA_LOSS:return bt.DATA_LOSS;default:return l1()}}(l2=cr||(cr={}))[l2.OK=0]="OK",l2[l2.CANCELLED=1]="CANCELLED",l2[l2.UNKNOWN=2]="UNKNOWN",l2[l2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",l2[l2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",l2[l2.NOT_FOUND=5]="NOT_FOUND",l2[l2.ALREADY_EXISTS=6]="ALREADY_EXISTS",l2[l2.PERMISSION_DENIED=7]="PERMISSION_DENIED",l2[l2.UNAUTHENTICATED=16]="UNAUTHENTICATED",l2[l2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",l2[l2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",l2[l2.ABORTED=10]="ABORTED",l2[l2.OUT_OF_RANGE=11]="OUT_OF_RANGE",l2[l2.UNIMPLEMENTED=12]="UNIMPLEMENTED",l2[l2.INTERNAL=13]="INTERNAL",l2[l2.UNAVAILABLE=14]="UNAVAILABLE",l2[l2.DATA_LOSS=15]="DATA_LOSS";class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,p]of s)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){R(this.inner,(t,s)=>{for(const[c,p]of s)e(c,p)})}isEmpty(){return j(this.inner)}size(){return this.innerSize}}const L0=new Lr(e1.comparator);function hs(){return L0}const ho=new Lr(e1.comparator);function Aa(...r){let e=ho;for(const t of r)e=e.insert(t.key,t);return e}function Bo(r){let e=ho;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function qs(){return Uo()}function M4(){return Uo()}function Uo(){return new Vs(r=>r.toString(),(r,e)=>r.isEqual(e))}const ro=new Lr(e1.comparator),oa=new yi(e1.comparator);function Zn(...r){let e=oa;for(const t of r)e=e.add(t);return e}const i6=new yi(X1);function aa(){return i6}class jo{constructor(e,t,s,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new jo(P1.min(),c,aa(),hs(),Zn())}}class Ia{constructor(e,t,s,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ia(s,t,Zn(),Zn(),Zn())}}class xa{constructor(e,t,s,c){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=c}}class w4{constructor(e,t){this.targetId=e,this.Et=t}}class Ks{constructor(e,t,s=m.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class Ja{constructor(){this.At=0,this.Rt=Z4(),this.bt=m.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Zn(),t=Zn(),s=Zn();return this.Rt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:l1()}}),new Ia(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=Z4()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class D4{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=hs(),this.qt=E4(),this.Ut=new yi(X1)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:l1()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,c)=>{this.zt(c)&&t(c)})}Jt(e){const t=e.targetId,s=e.Et.count,c=this.Yt(t);if(c){const p=c.target;if(m3(p))if(0===s){const C=new e1(p.path);this.Qt(t,C,Xi.newNoDocument(C,P1.min()))}else C1(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((p,C)=>{const z=this.Yt(C);if(z){if(p.current&&m3(z.target)){const Z=new e1(z.target.path);null!==this.Lt.get(Z)||this.te(C,Z)||this.Qt(C,Z,Xi.newNoDocument(Z,e))}p.St&&(t.set(C,p.Ct()),p.xt())}});let s=Zn();this.qt.forEach((p,C)=>{let z=!0;C.forEachWhile(Z=>{const Q=this.Yt(Z);return!Q||2===Q.purpose||(z=!1,!1)}),z&&(s=s.add(p))}),this.Lt.forEach((p,C)=>C.setReadTime(e));const c=new jo(e,t,this.Ut,this.Lt,s);return this.Lt=hs(),this.qt=E4(),this.Ut=new yi(X1),c}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const c=this.Wt(e);this.te(e,t)?c.Nt(t,1):c.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Ja,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new yi(X1),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||qt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Ja),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function E4(){return new Lr(e1.comparator)}function Z4(){return new Lr(e1.comparator)}const Qa={asc:"ASCENDING",desc:"DESCENDING"},ws={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w3={and:"AND",or:"OR"};class r6{constructor(e,t){this.databaseId=e,this.wt=t}}function za(r,e){return r.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function po(r,e){return r.wt?e.toBase64():e.toUint8Array()}function ca(r,e){return za(r,e.toTimestamp())}function Si(r){return C1(!!r),P1.fromTimestamp(function(e){const t=B(e);return new D2(t.seconds,t.nanos)}(r))}function La(r,e){return(t=r,new Sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Go(r){const e=Sn.fromString(r);return C1(o6(e)),e}function la(r,e){return La(r.databaseId,e.path)}function mo(r,e){const t=Go(e);if(t.get(1)!==r.databaseId.projectId)throw new jt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new jt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new e1(w(t))}function D3(r,e){return La(r.databaseId,e)}function W6(r){const e=Go(r);return 4===e.length?Sn.emptyPath():w(e)}function Xa(r){return new Sn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function w(r){return C1(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function h(r,e,t){return{name:la(r,e),fields:t.value.mapValue.fields}}function y(r,e,t){const s=mo(r,e.name),c=Si(e.updateTime),p=e.createTime?Si(e.createTime):P1.min(),C=new Is({mapValue:{fields:e.fields}}),z=Xi.newFoundDocument(s,c,p,C);return t&&z.setHasCommittedMutations(),t?z.setHasCommittedMutations():z}function ae(r,e){let t;if(e instanceof Ya)t={update:h(r,e.key,e.value)};else if(e instanceof Sa)t={delete:la(r,e.key)};else if(e instanceof sa)t={update:h(r,e.key,e.data),updateMask:s6(e.fieldMask)};else{if(!(e instanceof M3))return l1();t={verify:la(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,p){const C=p.transform;if(C instanceof Vo)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof io)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Ws)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Fo)return{fieldPath:p.field.canonicalString(),increment:C.gt};throw l1()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:ca(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:l1()),t;var c}function qe(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?er.updateTime(Si(c.updateTime)):void 0!==c.exists?er.exists(c.exists):er.none():er.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(p,C){let z=null;"setToServerValue"in C?(C1("REQUEST_TIME"===C.setToServerValue),z=new Vo):"appendMissingElements"in C?z=new io(C.appendMissingElements.values||[]):"removeAllFromArray"in C?z=new Ws(C.removeAllFromArray.values||[]):"increment"in C?z=new Fo(p,C.increment):l1();const Z=Fn.fromServerFormat(C.fieldPath);return new Da(Z,z)}(r,c)):[];var c;if(e.update){const c=mo(r,e.update.name),p=new Is({mapValue:{fields:e.update.fields}});if(e.updateMask){const C=new Zs((e.updateMask.fieldPaths||[]).map(Q=>Fn.fromServerFormat(Q)));return new sa(c,p,C,t,s)}return new Ya(c,p,t,s)}if(e.delete){const c=mo(r,e.delete);return new Sa(c,t)}if(e.verify){const c=mo(r,e.verify);return new M3(c,t)}return l1()}function v1(r,e){return{documents:[D3(r,e.path)]}}function H1(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=D3(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=D3(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(Z){if(0!==Z.length)return W4(j1.create(Z,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(Z){if(0!==Z.length)return Z.map(Q=>{return{field:Oa((ue=Q).field),direction:Qr(ue.dir)};var ue})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const C=(Q=e.limit,r.wt||ne(Q)?Q:{value:Q});var Q,z,Z;return null!==C&&(t.structuredQuery.limit=C),e.startAt&&(t.structuredQuery.startAt={before:(z=e.startAt).inclusive,values:z.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Z=e.endAt).inclusive,values:Z.position}),t}function bn(r){let e=W6(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){C1(1===s);const ue=t.from[0];ue.allDescendants?c=ue.collectionId:e=e.child(ue.collectionId)}let p=[];t.where&&(p=function(ue){const ke=wr(ue);return ke instanceof j1&&Cs(ke)?ke.getFilters():[ke]}(t.where));let C=[];t.orderBy&&(C=t.orderBy.map(ue=>{return new Ca(e4((ke=ue).field),function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ke.direction));var ke}));let z=null;t.limit&&(z=function(ue){let ke;return ke="object"==typeof ue?ue.value:ue,ne(ke)?null:ke}(t.limit));let Z=null;var ue;t.startAt&&(Z=new w1((ue=t.startAt).values||[],!!ue.before));let Q=null;return t.endAt&&(Q=function(ue){return new w1(ue.values||[],!ue.before)}(t.endAt)),v4(e,c,C,p,z,"F",Z,Q)}function wr(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=e4(e.unaryFilter.field);return Ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=e4(e.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=e4(e.unaryFilter.field);return Ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=e4(e.unaryFilter.field);return Ht.create(p,"!=",{nullValue:"NULL_VALUE"});default:return l1()}}(r):void 0!==r.fieldFilter?Ht.create(e4((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return l1()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return j1.create(e.compositeFilter.filters.map(t=>wr(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return l1()}}(e.compositeFilter.op))}(r):l1();var e}function Qr(r){return Qa[r]}function ua(r){return ws[r]}function E3(r){return w3[r]}function Oa(r){return{fieldPath:r.canonicalString()}}function e4(r){return Fn.fromServerFormat(r.fieldPath)}function W4(r){return r instanceof Ht?function(e){if("=="===e.op){if(zr(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NAN"}};if(E2(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zr(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NAN"}};if(E2(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(e.field),op:ua(e.op),value:e.value}}}(r):r instanceof j1?function(e){const t=e.getFilters().map(s=>W4(s));return 1===t.length?t[0]:{compositeFilter:{op:E3(e.op),filters:t}}}(r):l1()}function s6(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o6(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Ds(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=S3(e)),e=a6(r.get(t),e);return S3(e)}function a6(r,e){let t=e;const s=r.length;for(let c=0;c<s;c++){const p=r.charAt(c);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function S3(r){return r+"\x01\x01"}function $o(r){const e=r.length;if(C1(e>=2),2===e)return C1("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Sn.emptyPath();const t=e-2,s=[];let c="";for(let p=0;p<e;){const C=r.indexOf("\x01",p);switch((C<0||C>t)&&l1(),r.charAt(C+1)){case"\x01":const z=r.substring(p,C);let Z;0===c.length?Z=z:(c+=z,Z=c,c=""),s.push(Z);break;case"\x10":c+=r.substring(p,C),c+="\0";break;case"\x11":c+=r.substring(p,C+1);break;default:l1()}p=C+2}return new Sn(s)}const T3=["userId","batchId"];function Ra(r,e){return[r,Ds(e)]}function ka(r,e,t){return[r,Ds(e),t]}const c6={},q6=["prefixPath","collectionGroup","readTime","documentId"],Uc=["prefixPath","collectionGroup","documentId"],jc=["collectionGroup","readTime","prefixPath","documentId"],b7=["canonicalId","targetId"],C7=["targetId","path"],M7=["path","targetId"],l6=["collectionId","parent"],O0=["indexId","uid"],w7=["uid","sequenceNumber"],D7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gc=["indexId","uid","orderedDocumentKey"],R0=["userId","collectionPath","documentId"],y5=["userId","collectionPath","largestBatchId"],_5=["userId","collectionGroup","largestBatchId"],$c=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zc=[...$c,"documentOverlays"],N3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k0=N3,P0=[...k0,"indexConfiguration","indexState","indexEntries"];class V0 extends Oo{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function C2(r,e){const t=c1(r);return c2.M(t.se,e)}class A3{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&G6(p,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=b3(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=b3(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=M4();return this.mutations.forEach(c=>{const p=e.get(c.key),C=p.overlayedDocument;let z=this.applyToLocalView(C,p.mutatedFields);z=t.has(c.key)?null:z;const Z=C4(C,z);null!==Z&&s.set(c.key,Z),C.isValidDocument()||C.convertToNoDocument(P1.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zn())}isEqual(e){return this.batchId===e.batchId&&or(this.mutations,e.mutations,(t,s)=>C3(t,s))&&or(this.baseMutations,e.baseMutations,(t,s)=>C3(t,s))}}class H0{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){C1(e.mutations.length===s.length);let c=ro;const p=e.mutations;for(let C=0;C<p.length;C++)c=c.insert(p[C].key,s[C].version);return new H0(e,t,s,c)}}class u6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class t4{constructor(e,t,s,c,p=P1.min(),C=P1.min(),z=m.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=z}withSequenceNumber(e){return new t4(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new t4(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new t4(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wc{constructor(e){this.ie=e}}function qc(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:K6(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:la(c=r.ie,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:za(c,p.version.toTimestamp()),createTime:za(c,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:q4(e.version)};else{if(!e.isUnknownDocument())return l1();s.unknownDocument={path:t.path.toArray(),version:q4(e.version)}}var c,p;return s}function K6(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function q4(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function S4(r){const e=new D2(r.seconds,r.nanoseconds);return P1.fromTimestamp(e)}function K4(r,e){const t=(e.baseMutations||[]).map(p=>qe(r.ie,p));for(let p=0;p<e.mutations.length-1;++p){const C=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(C.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const s=e.mutations.map(p=>qe(r.ie,p)),c=D2.fromMillis(e.localWriteTimeMs);return new A3(e.batchId,c,t,s)}function Pa(r){const e=S4(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?S4(r.lastLimboFreeSnapshotVersion):P1.min();let s;var c;return void 0!==r.query.documents?(C1(1===(c=r.query).documents.length),s=fs(ks(W6(c.documents[0])))):s=fs(bn(r.query)),new t4(s,r.targetId,0,r.lastListenSequenceNumber,e,t,m.fromBase64String(r.resumeToken))}function f(r,e){const t=q4(e.snapshotVersion),s=q4(e.lastLimboFreeSnapshotVersion);let c;c=m3(e.target)?v1(r.ie,e.target):H1(r.ie,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qa(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function b(r){const e=bn({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ps(e,e.limit,"L"):e}function u(r,e){return new u6(e.largestBatchId,qe(r.ie,e.overlayMutation))}function M(r,e){const t=e.path.lastSegment();return[r,Ds(e.path.popLast()),t]}function O(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:q4(s.readTime),documentKey:Ds(s.documentKey.path),largestBatchId:s.largestBatchId}}class W{getBundleMetadata(e,t){return Me(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:S4(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Me(e).put({bundleId:(s=t).id,createTime:q4(Si(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ue(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:b(c.bundledQuery),readTime:S4(c.readTime)};var c})}saveNamedQuery(e,t){return Ue(e).put({name:(s=t).name,readTime:q4(Si(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Me(r){return C2(r,"bundles")}function Ue(r){return C2(r,"namedQueries")}class Be{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Be(e,t.uid||"")}getOverlay(e,t){return Et(e).get(M(this.userId,t)).next(s=>s?u(this.yt,s):null)}getOverlays(e,t){const s=qs();return vt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((p,C)=>{const z=new u6(t,C);c.push(this.oe(e,z))}),vt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(C=>c.add(Ds(C.getCollectionPath())));const p=[];return c.forEach(C=>{const z=IDBKeyRange.bound([this.userId,C,s],[this.userId,C,s+1],!1,!0);p.push(Et(e).Y("collectionPathOverlayIndex",z))}),vt.waitFor(p)}getOverlaysForCollection(e,t,s){const c=qs(),p=Ds(t),C=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Et(e).W("collectionPathOverlayIndex",C).next(z=>{for(const Z of z){const Q=u(this.yt,Z);c.set(Q.getKey(),Q)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const p=qs();let C;const z=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Et(e).Z({index:"collectionGroupOverlayIndex",range:z},(Z,Q,ue)=>{const ke=u(this.yt,Q);p.size()<c||ke.largestBatchId===C?(p.set(ke.getKey(),ke),C=ke.largestBatchId):ue.done()}).next(()=>p)}oe(e,t){return Et(e).put(function(s,c,p){const[C,z,Z]=M(c,p.mutation.key);return{userId:c,collectionPath:z,documentId:Z,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:ae(s.ie,p.mutation)}}(this.yt,this.userId,t))}}function Et(r){return C2(r,"documentOverlays")}class It{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ee(e.integerValue));else if("doubleValue"in e){const s=ee(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),ve(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Se(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?ie(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):l1()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const c of Object.keys(s))this.de(c,t),this.ce(s[c],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const c of s)this.ce(c,t)}me(e,t){this.he(t,37),e1.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function F1(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function N1(r){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const p=F1(255&t[c]);if(s+=p,8!==p)break}return s}(r);return Math.ceil(e/8)}It.Ie=new It;class G1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const c=t.codePointAt(0);this.Ee(240|c>>>18),this.Ee(128|63&c>>>12),this.Ee(128|63&c>>>6),this.Ee(128|63&c)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const c=t.codePointAt(0);this.be(240|c>>>18),this.be(128|63&c>>>12),this.be(128|63&c>>>6),this.be(128|63&c)}}this.Pe()}Se(e){const t=this.De(e),s=N1(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}xe(e){const t=this.De(e),s=N1(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class V2{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class gn{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class On{constructor(){this.$e=new G1,this.Be=new V2(this.$e),this.Le=new gn(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class n2{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new n2(this.indexId,this.documentKey,this.arrayValue,s)}}function Bn(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=_i(r.arrayValue,e.arrayValue),0!==t?t:(t=_i(r.directionalValue,e.directionalValue),0!==t?t:e1.comparator(r.documentKey,e.documentKey)))}function _i(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class u2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){C1(e.collectionGroup===this.collectionId);const t=ys(e);if(void 0!==t&&!this.We(t))return!1;const s=vi(e);let c=0,p=0;for(;c<s.length&&this.We(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Qe){const C=s[c];if(!this.ze(this.Qe,C)||!this.He(this.Ke[p++],C))return!1;++c}for(;c<s.length;++c){const C=s[c];if(p>=this.Ke.length||!this.He(this.Ke[p++],C))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function M2(r){var e,t;if(C1(r instanceof Ht||r instanceof j1),r instanceof Ht){if(r instanceof f3){const c=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(p=>Ht.create(r.field,"==",p)))||[];return j1.create(c,"or")}return r}const s=r.filters.map(c=>M2(c));return j1.create(s,r.op)}function T2(r){if(0===r.getFilters().length)return[];const e=ji(M2(r));return C1(jr(e)),Ti(e)||ci(e)?[e]:e.getFilters()}function Ti(r){return r instanceof Ht}function ci(r){return r instanceof j1&&Cs(r)}function jr(r){return Ti(r)||ci(r)||function(e){if(e instanceof j1&&Oi(e)){for(const t of e.getFilters())if(!Ti(t)&&!ci(t))return!1;return!0}return!1}(r)}function ji(r){if(C1(r instanceof Ht||r instanceof j1),r instanceof Ht)return r;if(1===r.filters.length)return ji(r.filters[0]);const e=r.filters.map(s=>ji(s));let t=j1.create(e,r.op);return t=Es(t),jr(t)?t:(C1(t instanceof j1),C1(t2(t)),C1(t.filters.length>1),t.filters.reduce((s,c)=>Dr(s,c)))}function Dr(r,e){let t;return C1(r instanceof Ht||r instanceof j1),C1(e instanceof Ht||e instanceof j1),t=r instanceof Ht?e instanceof Ht?j1.create([r,e],"and"):Ao(r,e):e instanceof Ht?Ao(e,r):function(s,c){if(C1(s.filters.length>0&&c.filters.length>0),t2(s)&&t2(c))return Ui(s,c.getFilters());const p=Oi(s)?s:c,C=Oi(s)?c:s,z=p.filters.map(Z=>Dr(Z,C));return j1.create(z,"or")}(r,e),Es(t)}function Ao(r,e){if(t2(e))return Ui(e,r.getFilters());{const t=e.filters.map(s=>Dr(r,s));return j1.create(t,"or")}}function Es(r){if(C1(r instanceof Ht||r instanceof j1),r instanceof Ht)return r;const e=r.getFilters();if(1===e.length)return Es(e[0]);if(S2(r))return r;const t=e.map(c=>Es(c)),s=[];return t.forEach(c=>{c instanceof Ht?s.push(c):c instanceof j1&&(c.op===r.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:j1.create(s,r.op)}class T4{constructor(){this.Je=new Zo}addToCollectionParentIndex(e,t){return this.Je.add(t),vt.resolve()}getCollectionParents(e,t){return vt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return vt.resolve()}deleteFieldIndex(e,t){return vt.resolve()}getDocumentsMatchingTarget(e,t){return vt.resolve(null)}getIndexType(e,t){return vt.resolve(0)}getFieldIndexes(e,t){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,t){return vt.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return vt.resolve(Jr.min())}updateCollectionGroup(e,t,s){return vt.resolve()}updateIndexEntries(e,t){return vt.resolve()}}class Zo{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new yi(Sn.comparator),p=!c.has(s);return this.index[t]=c.add(s),p}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new yi(Sn.comparator)).toArray()}}const Hs=new Uint8Array(0);class Io{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Zo,this.Xe=new Vs(s=>qa(s),(s,c)=>p3(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const p={collectionId:s,parent:Ds(c)};return I3(e).put(p)}return vt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[So(t),""],!1,!0);return I3(e).W(c).next(p=>{for(const C of p){if(C.collectionId!==t)break;s.push($o(C.parent))}return s})}addFieldIndex(e,t){const s=Y4(e),c={indexId:(C=t).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(z=>[z.fieldPath.canonicalString(),z.kind])};var C;delete c.indexId;const p=s.add(c);if(t.indexState){const C=N4(e);return p.next(z=>{C.put(O(z,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const s=Y4(e),c=N4(e),p=xo(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=xo(e);let c=!0;const p=new Map;return vt.forEach(this.Ze(t),C=>this.tn(e,C).next(z=>{c&&(c=!!z),p.set(C,z)})).next(()=>{if(c){let C=Zn();const z=[];return vt.forEach(p,(Z,Q)=>{var ue;qt("IndexedDbIndexManager",`Using index ${ue=Z,`id=${ue.indexId}|cg=${ue.collectionGroup}|f=${ue.fields.map(Z2=>`${Z2.fieldPath}:${Z2.kind}`).join(",")}`} to execute ${qa(t)}`);const ke=function(Z2,Gr){const ni=ys(Gr);if(void 0===ni)return null;for(const li of H4(Z2,ni.fieldPath))switch(li.op){case"array-contains-any":return li.value.arrayValue.values||[];case"array-contains":return[li.value]}return null}(Q,Z),pt=function(Z2,Gr){const ni=new Map;for(const li of vi(Gr))for(const $r of H4(Z2,li.fieldPath))switch($r.op){case"==":case"in":ni.set(li.fieldPath.canonicalString(),$r.value);break;case"not-in":case"!=":return ni.set(li.fieldPath.canonicalString(),$r.value),Array.from(ni.values())}return null}(Q,Z),Ut=function(Z2,Gr){const ni=[];let li=!0;for(const $r of vi(Gr)){const I0=0===$r.kind?g3(Z2,$r.fieldPath,Z2.startAt):F4(Z2,$r.fieldPath,Z2.startAt);ni.push(I0.value),li&&(li=I0.inclusive)}return new w1(ni,li)}(Q,Z),Kt=function(Z2,Gr){const ni=[];let li=!0;for(const $r of vi(Gr)){const I0=0===$r.kind?F4(Z2,$r.fieldPath,Z2.endAt):g3(Z2,$r.fieldPath,Z2.endAt);ni.push(I0.value),li&&(li=I0.inclusive)}return new w1(ni,li)}(Q,Z),k1=this.en(Z,Q,Ut),un=this.en(Z,Q,Kt),Gi=this.nn(Z,Q,pt),kr=this.sn(Z.indexId,ke,k1,Ut.inclusive,un,Kt.inclusive,Gi);return vt.forEach(kr,Z2=>s.J(Z2,t.limit).next(Gr=>{Gr.forEach(ni=>{const li=e1.fromSegments(ni.documentKey);C.has(li)||(C=C.add(li),z.push(li))})}))}).next(()=>z)}return vt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:T2(j1.create(e.filters,"and")).map(s=>U6(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,c,p,C,z){const Z=(null!=t?t.length:1)*Math.max(s.length,p.length),Q=Z/(null!=t?t.length:1),ue=[];for(let ke=0;ke<Z;++ke){const pt=t?this.rn(t[ke/Q]):Hs,Ut=this.on(e,pt,s[ke%Q],c),Kt=this.un(e,pt,p[ke%Q],C),k1=z.map(un=>this.on(e,pt,un,!0));ue.push(...this.createRange(Ut,Kt,k1))}return ue}on(e,t,s,c){const p=new n2(e,e1.empty(),t,s);return c?p:p.Ue()}un(e,t,s,c){const p=new n2(e,e1.empty(),t,s);return c?p.Ue():p}tn(e,t){const s=new u2(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let C=null;for(const z of p)s.je(z)&&(!C||z.fields.length>C.fields.length)&&(C=z);return C})}getIndexType(e,t){let s=2;const c=this.Ze(t);return vt.forEach(c,p=>this.tn(e,p).next(C=>{C?0!==s&&C.fields.length<function(z){let Z=new yi(Fn.comparator),Q=!1;for(const ue of z.filters)for(const ke of ue.getFlattenedFilters())ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?Q=!0:Z=Z.add(ke.field));for(const ue of z.orderBy)ue.field.isKeyField()||(Z=Z.add(ue.field));return Z.size+(Q?1:0)}(p)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}cn(e,t){const s=new On;for(const c of vi(e)){const p=t.data.field(c.fieldPath);if(null==p)return null;const C=s.qe(c.kind);It.Ie.ue(p,C)}return s.Fe()}rn(e){const t=new On;return It.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new On;return It.Ie.ue(X2(this.databaseId,t),s.qe(function(c){const p=vi(c);return 0===p.length?0:p[p.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let c=[];c.push(new On);let p=0;for(const C of vi(e)){const z=s[p++];for(const Z of c)if(this.hn(t,C.fieldPath)&&Rs(z))c=this.ln(c,C,z);else{const Q=Z.qe(C.kind);It.Ie.ue(z,Q)}}return this.fn(c)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const c=[...e],p=[];for(const C of s.arrayValue.values||[])for(const z of c){const Z=new On;Z.seed(z.Fe()),It.Ie.ue(C,Z.qe(t.kind)),p.push(Z)}return p}hn(e,t){return!!e.filters.find(s=>s instanceof Ht&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Y4(e),c=N4(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(p=>{const C=[];return vt.forEach(p,z=>c.get([z.indexId,this.uid]).next(Z=>{C.push(function(Q,ue){const ke=ue?new h2(ue.sequenceNumber,new Jr(S4(ue.readTime),new e1($o(ue.documentKey)),ue.largestBatchId)):h2.empty(),pt=Q.fields.map(([Ut,Kt])=>new ls(Fn.fromServerFormat(Ut),Kt));return new Ts(Q.indexId,Q.collectionGroup,pt,ke)}(z,Z))})).next(()=>C)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const p=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:X1(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=Y4(e),p=N4(e);return this.dn(e).next(C=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(z=>vt.forEach(z,Z=>p.put(O(Z.indexId,this.user,C,s)))))}updateIndexEntries(e,t){const s=new Map;return vt.forEach(t,(c,p)=>{const C=s.get(c.collectionGroup);return(C?vt.resolve(C):this.getFieldIndexes(e,c.collectionGroup)).next(z=>(s.set(c.collectionGroup,z),vt.forEach(z,Z=>this._n(e,c,Z).next(Q=>{const ue=this.wn(p,Z);return Q.isEqual(ue)?vt.resolve():this.mn(e,p,Z,Q,ue)}))))})}gn(e,t,s,c){return xo(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,c){return xo(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const c=xo(e);let p=new yi(Bn);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(C,z)=>{p=p.add(new n2(s.indexId,t,z.arrayValue,z.directionalValue))}).next(()=>p)}wn(e,t){let s=new yi(Bn);const c=this.cn(t,e);if(null==c)return s;const p=ys(t);if(null!=p){const C=e.data.field(p.fieldPath);if(Rs(C))for(const z of C.arrayValue.values||[])s=s.add(new n2(t.indexId,e.key,this.rn(z),c))}else s=s.add(new n2(t.indexId,e.key,Hs,c));return s}mn(e,t,s,c,p){qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const C=[];return function(z,Z,Q,ue,ke){const pt=z.getIterator(),Ut=Z.getIterator();let Kt=Ma(pt),k1=Ma(Ut);for(;Kt||k1;){let un=!1,Gi=!1;if(Kt&&k1){const kr=Q(Kt,k1);kr<0?Gi=!0:kr>0&&(un=!0)}else null!=Kt?Gi=!0:un=!0;un?(ue(k1),k1=Ma(Ut)):Gi?(ke(Kt),Kt=Ma(pt)):(Kt=Ma(pt),k1=Ma(Ut))}}(c,p,Bn,z=>{C.push(this.gn(e,t,s,z))},z=>{C.push(this.yn(e,t,s,z))}),vt.waitFor(C)}dn(e){let t=1;return N4(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,p)=>{p.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((C,z)=>Bn(C,z)).filter((C,z,Z)=>!z||0!==Bn(C,Z[z-1]));const c=[];c.push(e);for(const C of s){const z=Bn(C,e),Z=Bn(C,t);if(0===z)c[0]=e.Ue();else if(z>0&&Z<0)c.push(C),c.push(C.Ue());else if(Z>0)break}c.push(t);const p=[];for(let C=0;C<c.length;C+=2){if(this.pn(c[C],c[C+1]))return[];p.push(IDBKeyRange.bound([c[C].indexId,this.uid,c[C].arrayValue,c[C].directionalValue,Hs,[]],[c[C+1].indexId,this.uid,c[C+1].arrayValue,c[C+1].directionalValue,Hs,[]]))}return p}pn(e,t){return Bn(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(da)}getMinOffset(e,t){return vt.mapArray(this.Ze(t),s=>this.tn(e,s).next(c=>c||l1())).next(da)}}function I3(r){return C2(r,"collectionParents")}function xo(r){return C2(r,"indexEntries")}function Y4(r){return C2(r,"indexConfiguration")}function N4(r){return C2(r,"indexState")}function da(r){C1(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const c=r[s].indexState.offset;Lo(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Jr(e.readTime,e.documentKey,t)}const x3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lr{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function go(r,e,t){const s=r.store("mutations"),c=r.store("documentMutations"),p=[],C=IDBKeyRange.only(t.batchId);let z=0;const Z=s.Z({range:C},(ue,ke,pt)=>(z++,pt.delete()));p.push(Z.next(()=>{C1(1===z)}));const Q=[];for(const ue of t.mutations){const ke=ka(e,ue.key.path,t.batchId);p.push(c.delete(ke)),Q.push(ue.key)}return vt.waitFor(p).next(()=>Q)}function n4(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw l1();e=r.noDocument}return JSON.stringify(e).length}lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(41943040,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);class J4{constructor(e,t,s,c){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=c,this.In={}}static re(e,t,s,c){C1(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new J4(p,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).Z({index:"userMutationsIndex",range:s},(c,p,C)=>{t=!1,C.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const p=Q4(e),C=fa(e);return C.add({}).next(z=>{C1("number"==typeof z);const Z=new A3(z,t,s,c),Q=function(pt,Ut,Kt){const k1=Kt.baseMutations.map(Gi=>ae(pt.ie,Gi)),un=Kt.mutations.map(Gi=>ae(pt.ie,Gi));return{userId:Ut,batchId:Kt.batchId,localWriteTimeMs:Kt.localWriteTime.toMillis(),baseMutations:k1,mutations:un}}(this.yt,this.userId,Z),ue=[];let ke=new yi((pt,Ut)=>X1(pt.canonicalString(),Ut.canonicalString()));for(const pt of c){const Ut=ka(this.userId,pt.key.path,z);ke=ke.add(pt.key.path.popLast()),ue.push(C.put(Q)),ue.push(p.put(Ut,c6))}return ke.forEach(pt=>{ue.push(this.indexManager.addToCollectionParentIndex(e,pt))}),e.addOnCommittedListener(()=>{this.In[z]=Z.keys()}),vt.waitFor(ue).next(()=>Z)})}lookupMutationBatch(e,t){return fa(e).get(t).next(s=>s?(C1(s.userId===this.userId),K4(this.yt,s)):null)}Tn(e,t){return this.In[t]?vt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return fa(e).Z({index:"userMutationsIndex",range:c},(C,z,Z)=>{z.userId===this.userId&&(C1(z.batchId>=s),p=K4(this.yt,z)),Z.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return fa(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,p,C)=>{s=p.batchId,C.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).W("userMutationsIndex",t).next(s=>s.map(c=>K4(this.yt,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Ra(this.userId,t.path),c=IDBKeyRange.lowerBound(s),p=[];return Q4(e).Z({range:c},(C,z,Z)=>{const[Q,ue,ke]=C,pt=$o(ue);if(Q===this.userId&&t.path.isEqual(pt))return fa(e).get(ke).next(Ut=>{if(!Ut)throw l1();C1(Ut.userId===this.userId),p.push(K4(this.yt,Ut))});Z.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yi(X1);const c=[];return t.forEach(p=>{const C=Ra(this.userId,p.path),z=IDBKeyRange.lowerBound(C),Z=Q4(e).Z({range:z},(Q,ue,ke)=>{const[pt,Ut,Kt]=Q,k1=$o(Ut);pt===this.userId&&p.path.isEqual(k1)?s=s.add(Kt):ke.done()});c.push(Z)}),vt.waitFor(c).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,p=Ra(this.userId,s),C=IDBKeyRange.lowerBound(p);let z=new yi(X1);return Q4(e).Z({range:C},(Z,Q,ue)=>{const[ke,pt,Ut]=Z,Kt=$o(pt);ke===this.userId&&s.isPrefixOf(Kt)?Kt.length===c&&(z=z.add(Ut)):ue.done()}).next(()=>this.En(e,z))}En(e,t){const s=[],c=[];return t.forEach(p=>{c.push(fa(e).get(p).next(C=>{if(null===C)throw l1();C1(C.userId===this.userId),s.push(K4(this.yt,C))}))}),vt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return go(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),vt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return vt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return Q4(e).Z({range:s},(p,C,z)=>{if(p[0]===this.userId){const Z=$o(p[1]);c.push(Z)}else z.done()}).next(()=>{C1(0===c.length)})})}containsKey(e,t){return Va(e,this.userId,t)}Rn(e){return d6(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Va(r,e,t){const s=Ra(e,t.path),c=s[1],p=IDBKeyRange.lowerBound(s);let C=!1;return Q4(r).Z({range:p,X:!0},(z,Z,Q)=>{const[ue,ke,pt]=z;ue===e&&ke===c&&(C=!0),Q.done()}).next(()=>C)}function fa(r){return C2(r,"mutations")}function Q4(r){return C2(r,"documentMutations")}function d6(r){return C2(r,"mutationQueues")}class i4{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new i4(0)}static vn(){return new i4(-1)}}class Y6{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new i4(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>P1.fromTimestamp(new D2(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>r4(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(C1(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let c=0;const p=[];return r4(e).Z((C,z)=>{const Z=Pa(z);Z.sequenceNumber<=t&&null===s.get(Z.targetId)&&(c++,p.push(this.removeTargetData(e,Z)))}).next(()=>vt.waitFor(p)).next(()=>c)}forEachTarget(e,t){return r4(e).Z((s,c)=>{const p=Pa(c);t(p)})}Vn(e){return f6(e).get("targetGlobalKey").next(t=>(C1(null!==t),t))}Sn(e,t){return f6(e).put("targetGlobalKey",t)}Dn(e,t){return r4(e).put(f(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=qa(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return r4(e).Z({range:c,index:"queryTargetsIndex"},(C,z,Z)=>{const Q=Pa(z);p3(t,Q.target)&&(p=Q,Z.done())}).next(()=>p)}addMatchingKeys(e,t,s){const c=[],p=Ha(e);return t.forEach(C=>{const z=Ds(C.path);c.push(p.put({targetId:s,path:z})),c.push(this.referenceDelegate.addReference(e,s,C))}),vt.waitFor(c)}removeMatchingKeys(e,t,s){const c=Ha(e);return vt.forEach(t,p=>{const C=Ds(p.path);return vt.waitFor([c.delete([s,C]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,t){const s=Ha(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=Ha(e);let p=Zn();return c.Z({range:s,X:!0},(C,z,Z)=>{const Q=$o(C[1]),ue=new e1(Q);p=p.add(ue)}).next(()=>p)}containsKey(e,t){const s=Ds(t.path),c=IDBKeyRange.bound([s],[So(s)],!1,!0);let p=0;return Ha(e).Z({index:"documentTargetsIndex",X:!0,range:c},([C,z],Z,Q)=>{0!==C&&(p++,Q.done())}).next(()=>p>0)}ne(e,t){return r4(e).get(t).next(s=>s?Pa(s):null)}}function r4(r){return C2(r,"targets")}function f6(r){return C2(r,"targetGlobal")}function Ha(r){return C2(r,"targetDocuments")}function z3([r,e],[t,s]){const c=X1(r,t);return 0===c?X1(e,s):c}class L3{constructor(e){this.xn=e,this.buffer=new yi(z3),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();z3(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kc{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,He.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Os(s)?qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Gs(s)}yield t.Fn(3e5)}))}}class A4{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return vt.resolve(Mr.at);const s=new L3(t);return this.$n.forEachTarget(e,c=>s.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>s.On(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(x3)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x3):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,c,p,C,z,Z,Q;const ue=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),c=this.params.maximumSequenceNumbersToCollect):c=ke,C=Date.now(),this.nthSequenceNumber(e,c))).next(ke=>(s=ke,z=Date.now(),this.removeTargets(e,s,t))).next(ke=>(p=ke,Z=Date.now(),this.removeOrphanedDocuments(e,s))).next(ke=>(Q=Date.now(),Ls()<=ht.in.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-ue}ms\n\tDetermined least recently used ${c} in `+(z-C)+`ms\n\tRemoved ${p} targets in `+(Z-z)+`ms\n\tRemoved ${ke} documents in `+(Q-Z)+`ms\nTotal Duration: ${Q-ue}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:ke})))}}class h6{constructor(e,t){this.db=e,this.garbageCollector=new A4(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,c)=>t(c))}addReference(e,t,s){return O3(e,s)}removeReference(e,t,s){return O3(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return O3(e,t)}Gn(e,t){return function(s,c){let p=!1;return d6(s).tt(C=>Va(s,C,c).next(z=>(z&&(p=!0),vt.resolve(!z)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Kn(e,(C,z)=>{if(z<=t){const Z=this.Gn(e,C).next(Q=>{if(!Q)return p++,s.getEntry(e,C).next(()=>(s.removeEntry(C,P1.min()),Ha(e).delete([0,Ds(C.path)])))});c.push(Z)}}).next(()=>vt.waitFor(c)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return O3(e,t)}Kn(e,t){const s=Ha(e);let c,p=Mr.at;return s.Z({index:"documentTargetsIndex"},([C,z],{path:Z,sequenceNumber:Q})=>{0===C?(p!==Mr.at&&t(new e1($o(c)),p),p=Q,c=Z):p=Mr.at}).next(()=>{p!==Mr.at&&t(new e1($o(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function O3(r,e){return Ha(r).put((s=r.currentSequenceNumber,{targetId:0,path:Ds(e.path),sequenceNumber:s}));var s}class J6{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?vt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q6{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return s4(e).put(s)}removeEntry(e,t,s){return s4(e).delete(function(c,p){const C=c.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],K6(p),C[C.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=Xi.newInvalidDocument(t);return s4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(e0(t))},(c,p)=>{s=this.jn(t,p)}).next(()=>s)}Wn(e,t){let s={size:0,document:Xi.newInvalidDocument(t)};return s4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(e0(t))},(c,p)=>{s={document:this.jn(t,p),size:n4(p)}}).next(()=>s)}getEntries(e,t){let s=hs();return this.zn(e,t,(c,p)=>{const C=this.jn(c,p);s=s.insert(c,C)}).next(()=>s)}Hn(e,t){let s=hs(),c=new Lr(e1.comparator);return this.zn(e,t,(p,C)=>{const z=this.jn(p,C);s=s.insert(p,z),c=c.insert(p,n4(C))}).next(()=>({documents:s,Jn:c}))}zn(e,t,s){if(t.isEmpty())return vt.resolve();let c=new yi(S7);t.forEach(Z=>c=c.add(Z));const p=IDBKeyRange.bound(e0(c.first()),e0(c.last())),C=c.getIterator();let z=C.getNext();return s4(e).Z({index:"documentKeyIndex",range:p},(Z,Q,ue)=>{const ke=e1.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;z&&S7(z,ke)<0;)s(z,null),z=C.getNext();z&&z.isEqual(ke)&&(s(z,Q),z=C.hasNext()?C.getNext():null),z?ue.j(e0(z)):ue.done()}).next(()=>{for(;z;)s(z,null),z=C.hasNext()?C.getNext():null})}getAllFromCollection(e,t,s){const c=[t.popLast().toArray(),t.lastSegment(),K6(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return s4(e).W(IDBKeyRange.bound(c,p,!0)).next(C=>{let z=hs();for(const Z of C){const Q=this.jn(e1.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);z=z.insert(Q.key,Q)}return z})}getAllFromCollectionGroup(e,t,s,c){let p=hs();const C=E7(t,s),z=E7(t,Jr.max());return s4(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(C,z,!0)},(Z,Q,ue)=>{const ke=this.jn(e1.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);p=p.insert(ke.key,ke),p.size===c&&ue.done()}).next(()=>p)}newChangeBuffer(e){return new I4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Wo(e).get("remoteDocumentGlobalKey").next(t=>(C1(!!t),t))}Qn(e,t){return Wo(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function b5(r,e){let t;if(e.document)t=y(r.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=e1.fromSegments(e.noDocument.path),c=S4(e.noDocument.readTime);t=Xi.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return l1();{const s=e1.fromSegments(e.unknownDocument.path),c=S4(e.unknownDocument.version);t=Xi.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new D2(s[0],s[1]);return P1.fromTimestamp(c)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(P1.min()))return s}return Xi.newInvalidDocument(e)}}function X6(r){return new Q6(r)}class I4 extends J6{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vs(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new yi((p,C)=>X1(p.canonicalString(),C.canonicalString()));return this.changes.forEach((p,C)=>{const z=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,z.readTime)),C.isValidDocument()){const Z=qc(this.Yn.yt,C);c=c.add(p.path.popLast()),s+=n4(Z)-z.size,t.push(this.Yn.addEntry(e,p,Z))}else if(s-=z.size,this.trackRemovals){const Z=qc(this.Yn.yt,C.convertToNoDocument(P1.min()));t.push(this.Yn.addEntry(e,p,Z))}}),c.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,s)),vt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:c})=>(c.forEach((p,C)=>{this.Xn.set(p,{size:C,readTime:s.get(p).readTime})}),s))}}function Wo(r){return C2(r,"remoteDocumentGlobal")}function s4(r){return C2(r,"remoteDocumentsV14")}function e0(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function E7(r,e){const t=e.documentKey.path.toArray();return[r,K6(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function S7(r,e){const t=r.path.toArray(),s=e.path.toArray();let c=0;for(let p=0;p<t.length-2&&p<s.length-2;++p)if(c=X1(t[p],s[p]),c)return c;return c=X1(t.length,s.length),c||(c=X1(t[t.length-2],s[s.length-2]),c||X1(t[t.length-1],s[s.length-1]))}class C5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class T7{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&b3(s.mutation,c,Zs.empty(),D2.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Zn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Zn()){const c=qs();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(p=>{let C=Aa();return p.forEach((z,Z)=>{C=C.insert(z,Z.overlayedDocument)}),C}))}getOverlayedDocuments(e,t){const s=qs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Zn()))}populateOverlays(e,t,s){const c=[];return s.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((C,z)=>{t.set(C,z)})})}computeViews(e,t,s,c){let p=hs();const C=Uo(),z=Uo();return t.forEach((Z,Q)=>{const ue=s.get(Q.key);c.has(Q.key)&&(void 0===ue||ue.mutation instanceof sa)?p=p.insert(Q.key,Q):void 0!==ue&&(C.set(Q.key,ue.mutation.getFieldMask()),b3(ue.mutation,Q,ue.mutation.getFieldMask(),D2.now()))}),this.recalculateAndSaveOverlays(e,p).next(Z=>(Z.forEach((Q,ue)=>C.set(Q,ue)),t.forEach((Q,ue)=>{var ke;return z.set(Q,new C5(ue,null!==(ke=C.get(Q))&&void 0!==ke?ke:null))}),z))}recalculateAndSaveOverlays(e,t){const s=Uo();let c=new Lr((C,z)=>C-z),p=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(C=>{for(const z of C)z.keys().forEach(Z=>{const Q=t.get(Z);if(null===Q)return;let ue=s.get(Z)||Zs.empty();ue=z.applyToLocalView(Q,ue),s.set(Z,ue);const ke=(c.get(z.batchId)||Zn()).add(Z);c=c.insert(z.batchId,ke)})}).next(()=>{const C=[],z=c.getReverseIterator();for(;z.hasNext();){const Z=z.getNext(),Q=Z.key,ue=Z.value,ke=M4();ue.forEach(pt=>{if(!p.has(pt)){const Ut=C4(t.get(pt),s.get(pt));null!==Ut&&ke.set(pt,Ut),p=p.add(pt)}}),C.push(this.documentOverlayCache.saveOverlays(e,Q,ke))}return vt.waitFor(C)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return e1.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):v3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(p=>{const C=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-p.size):vt.resolve(qs());let z=-1,Z=p;return C.next(Q=>vt.forEach(Q,(ue,ke)=>(z<ke.largestBatchId&&(z=ke.largestBatchId),p.get(ue)?vt.resolve():this.remoteDocumentCache.getEntry(e,ue).next(pt=>{Z=Z.insert(ue,pt)}))).next(()=>this.populateOverlays(e,Q,p)).next(()=>this.computeViews(e,Z,Q,Zn())).next(ue=>({batchId:z,changes:Bo(ue)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new e1(t)).next(s=>{let c=Aa();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let p=Aa();return this.indexManager.getCollectionParents(e,c).next(C=>vt.forEach(C,z=>{const Z=(Q=t,ue=z.child(c),new ko(ue,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ue;return this.getDocumentsMatchingCollectionQuery(e,Z,s).next(Q=>{Q.forEach((ue,ke)=>{p=p.insert(ue,ke)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(p=>(c=p,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(p=>{p.forEach((z,Z)=>{const Q=Z.getKey();null===c.get(Q)&&(c=c.insert(Q,Xi.newInvalidDocument(Q)))});let C=Aa();return c.forEach((z,Z)=>{const Q=p.get(z);void 0!==Q&&b3(Q.mutation,Z,Zs.empty(),D2.now()),Or(t,Z)&&(C=C.insert(z,Z))}),C})}}class M5{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return vt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Si(s.createTime)}),vt.resolve()}getNamedQuery(e,t){return vt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:b(s.bundledQuery),readTime:Si(s.readTime)}),vt.resolve();var s}}class b9{constructor(){this.overlays=new Lr(e1.comparator),this.es=new Map}getOverlay(e,t){return vt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=qs();return vt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,p)=>{this.oe(e,t,p)}),vt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.es.get(s);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(s)),vt.resolve()}getOverlaysForCollection(e,t,s){const c=qs(),p=t.length+1,C=new e1(t.child("")),z=this.overlays.getIteratorFrom(C);for(;z.hasNext();){const Z=z.getNext().value,Q=Z.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===p&&Z.largestBatchId>s&&c.set(Z.getKey(),Z)}return vt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let p=new Lr((Q,ue)=>Q-ue);const C=this.overlays.getIterator();for(;C.hasNext();){const Q=C.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let ue=p.get(Q.largestBatchId);null===ue&&(ue=qs(),p=p.insert(Q.largestBatchId,ue)),ue.set(Q.getKey(),Q)}}const z=qs(),Z=p.getIterator();for(;Z.hasNext()&&(Z.getNext().value.forEach((Q,ue)=>z.set(Q,ue)),!(z.size()>=c)););return vt.resolve(z)}oe(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const C=this.es.get(c.largestBatchId).delete(s.key);this.es.set(c.largestBatchId,C)}this.overlays=this.overlays.insert(s.key,new u6(t,s));let p=this.es.get(t);void 0===p&&(p=Zn(),this.es.set(t,p)),this.es.set(t,p.add(s.key))}}class F0{constructor(){this.ns=new yi(Fs.ss),this.rs=new yi(Fs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Fs(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Fs(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new e1(new Sn([])),s=new Fs(t,e),c=new Fs(t,e+1),p=[];return this.rs.forEachInRange([s,c],C=>{this.cs(C),p.push(C.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new e1(new Sn([])),s=new Fs(t,e),c=new Fs(t,e+1);let p=Zn();return this.rs.forEachInRange([s,c],C=>{p=p.add(C.key)}),p}containsKey(e){const t=new Fs(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Fs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return e1.comparator(e.key,t.key)||X1(e._s,t._s)}static os(e,t){return X1(e._s,t._s)||e1.comparator(e.key,t.key)}}class w5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new yi(Fs.ss)}checkEmpty(e){return vt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const p=this.ws;this.ws++;const C=new A3(p,t,s,c);this.mutationQueue.push(C);for(const z of c)this.gs=this.gs.add(new Fs(z.key,p)),this.indexManager.addToCollectionParentIndex(e,z.key.path.popLast());return vt.resolve(C)}lookupMutationBatch(e,t){return vt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),p=c<0?0:c;return vt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Fs(t,0),c=new Fs(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([s,c],C=>{const z=this.ys(C._s);p.push(z)}),vt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yi(X1);return t.forEach(c=>{const p=new Fs(c,0),C=new Fs(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,C],z=>{s=s.add(z._s)})}),vt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let p=s;e1.isDocumentKey(p)||(p=p.child(""));const C=new Fs(new e1(p),0);let z=new yi(X1);return this.gs.forEachWhile(Z=>{const Q=Z.key.path;return!!s.isPrefixOf(Q)&&(Q.length===c&&(z=z.add(Z._s)),!0)},C),vt.resolve(this.Is(z))}Is(e){const t=[];return e.forEach(s=>{const c=this.ys(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){C1(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return vt.forEach(t.mutations,c=>{const p=new Fs(c.key,t.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Fs(t,0),c=this.gs.firstAfterOrEqual(s);return vt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return vt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class N7{constructor(e){this.Es=e,this.docs=new Lr(e1.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),p=c?c.size:0,C=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:C}),this.size+=C-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return vt.resolve(s?s.document.mutableCopy():Xi.newInvalidDocument(t))}getEntries(e,t){let s=hs();return t.forEach(c=>{const p=this.docs.get(c);s=s.insert(c,p?p.document.mutableCopy():Xi.newInvalidDocument(c))}),vt.resolve(s)}getAllFromCollection(e,t,s){let c=hs();const p=new e1(t.child("")),C=this.docs.getIteratorFrom(p);for(;C.hasNext();){const{key:z,value:{document:Z}}=C.getNext();if(!t.isPrefixOf(z.path))break;z.path.length>t.length+1||Lo(ta(Z),s)<=0||(c=c.insert(Z.key,Z.mutableCopy()))}return vt.resolve(c)}getAllFromCollectionGroup(e,t,s,c){l1()}As(e,t){return vt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new A7(this)}getSize(e){return vt.resolve(this.size)}}class A7 extends J6{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(s)}),vt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ha{constructor(e){this.persistence=e,this.Rs=new Vs(t=>qa(t),p3),this.lastRemoteSnapshotVersion=P1.min(),this.highestTargetId=0,this.bs=0,this.Ps=new F0,this.targetCount=0,this.vs=i4.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,c)=>t(c)),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),vt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new i4(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,vt.resolve()}updateTargetData(e,t){return this.Dn(t),vt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,t,s){let c=0;const p=[];return this.Rs.forEach((C,z)=>{z.sequenceNumber<=t&&null===s.get(z.targetId)&&(this.Rs.delete(C),p.push(this.removeMatchingKeysForTargetId(e,z.targetId)),c++)}),vt.waitFor(p).next(()=>c)}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return vt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),vt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(C=>{p.push(c.markPotentiallyOrphaned(e,C))}),vt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),vt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return vt.resolve(s)}containsKey(e,t){return vt.resolve(this.Ps.containsKey(t))}}class D5{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Mr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ha(this),this.indexManager=new T4,this.remoteDocumentCache=new N7(s=>this.referenceDelegate.xs(s)),this.yt=new Wc(t),this.Ns=new M5(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new w5(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){qt("MemoryPersistence","Starting transaction:",e);const c=new E5(this.Ss.next());return this.referenceDelegate.ks(),s(c).next(p=>this.referenceDelegate.Os(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ms(e,t){return vt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class E5 extends Oo{constructor(e){super(),this.currentSequenceNumber=e}}class B0{constructor(e){this.persistence=e,this.Fs=new F0,this.$s=null}static Bs(e){return new B0(e)}get Ls(){if(this.$s)return this.$s;throw l1()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),vt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),vt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),vt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ls.add(p.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.Ls,s=>{const c=e1.fromPath(s);return this.qs(e,c).next(p=>{p||t.removeEntry(c,P1.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return vt.or([()=>vt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class I7{constructor(e){this.yt=e}$(e,t,s,c){const p=new uo("createOrUpgrade",t);var z;s<1&&c>=1&&(e.createObjectStore("owner"),(z=e).createObjectStore("mutationQueues",{keyPath:"userId"}),z.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T3,{unique:!0}),z.createObjectStore("documentMutations"),S5(e),function(z){z.createObjectStore("remoteDocuments")}(e));let C=vt.resolve();return s<3&&c>=3&&(0!==s&&(function(z){z.deleteObjectStore("targetDocuments"),z.deleteObjectStore("targets"),z.deleteObjectStore("targetGlobal")}(e),S5(e)),C=C.next(()=>function(z){const Z=z.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:P1.min().toTimestamp(),targetCount:0};return Z.put("targetGlobalKey",Q)}(p))),s<4&&c>=4&&(0!==s&&(C=C.next(()=>function(z,Z){return Z.store("mutations").W().next(Q=>{z.deleteObjectStore("mutations"),z.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T3,{unique:!0});const ue=Z.store("mutations"),ke=Q.map(pt=>ue.put(pt));return vt.waitFor(ke)})}(e,p))),C=C.next(()=>{!function(z){z.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(C=C.next(()=>this.Us(p))),s<6&&c>=6&&(C=C.next(()=>(function(z){z.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),s<7&&c>=7&&(C=C.next(()=>this.Gs(p))),s<8&&c>=8&&(C=C.next(()=>this.Qs(e,p))),s<9&&c>=9&&(C=C.next(()=>{!function(z){z.objectStoreNames.contains("remoteDocumentChanges")&&z.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(C=C.next(()=>this.js(p))),s<11&&c>=11&&(C=C.next(()=>{(function(z){z.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(z){z.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(C=C.next(()=>{!function(z){const Z=z.createObjectStore("documentOverlays",{keyPath:R0});Z.createIndex("collectionPathOverlayIndex",y5,{unique:!1}),Z.createIndex("collectionGroupOverlayIndex",_5,{unique:!1})}(e)})),s<13&&c>=13&&(C=C.next(()=>function(z){const Z=z.createObjectStore("remoteDocumentsV14",{keyPath:q6});Z.createIndex("documentKeyIndex",Uc),Z.createIndex("collectionGroupIndex",jc)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(C=C.next(()=>this.zs(e,p))),s<15&&c>=15&&(C=C.next(()=>function(z){z.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),z.createObjectStore("indexState",{keyPath:O0}).createIndex("sequenceNumberIndex",w7,{unique:!1}),z.createObjectStore("indexEntries",{keyPath:D7}).createIndex("documentKeyIndex",Gc,{unique:!1})}(e))),C}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,c)=>{t+=n4(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(c=>vt.forEach(c,p=>{const C=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",C).next(z=>vt.forEach(z,Z=>{C1(Z.userId===p.userId);const Q=K4(this.yt,Z);return go(e,p.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return s.Z((C,z)=>{const Z=new Sn(C),Q=[0,Ds(Z)];p.push(t.get(Q).next(ue=>ue?vt.resolve():t.put({targetId:0,path:Ds(Z),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>vt.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:l6});const s=t.store("collectionParents"),c=new Zo,p=C=>{if(c.add(C)){const z=C.lastSegment(),Z=C.popLast();return s.put({collectionId:z,parent:Ds(Z)})}};return t.store("remoteDocuments").Z({X:!0},(C,z)=>{const Z=new Sn(C);return p(Z.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([C,z,Z],Q)=>{const ue=$o(z);return p(ue.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,c)=>{const p=Pa(c),C=f(this.yt,p);return t.put(C)})}Ws(e,t){const s=t.store("remoteDocuments"),c=[];return s.Z((p,C)=>{const z=t.store("remoteDocumentsV14"),Z=(Q=C,Q.document?new e1(Sn.fromString(Q.document.name).popFirst(5)):Q.noDocument?e1.fromSegments(Q.noDocument.path):Q.unknownDocument?e1.fromSegments(Q.unknownDocument.path):l1()).path.toArray();var Q;const ue={prefixPath:Z.slice(0,Z.length-2),collectionGroup:Z[Z.length-2],documentId:Z[Z.length-1],readTime:C.readTime||[0,0],unknownDocument:C.unknownDocument,noDocument:C.noDocument,document:C.document,hasCommittedMutations:!!C.hasCommittedMutations};c.push(z.put(ue))}).next(()=>vt.waitFor(c))}zs(e,t){const s=t.store("mutations"),c=X6(this.yt),p=new D5(B0.Bs,this.yt.ie);return s.W().next(C=>{const z=new Map;return C.forEach(Z=>{var Q;let ue=null!==(Q=z.get(Z.userId))&&void 0!==Q?Q:Zn();K4(this.yt,Z).keys().forEach(ke=>ue=ue.add(ke)),z.set(Z.userId,ue)}),vt.forEach(z,(Z,Q)=>{const ue=new zi(Q),ke=Be.re(this.yt,ue),pt=p.getIndexManager(ue),Ut=J4.re(ue,this.yt,pt,p.referenceDelegate);return new T7(c,Ut,ke,pt).recalculateAndSaveOverlaysForDocumentKeys(new V0(t,Mr.at),Z).next()})})}}function S5(r){r.createObjectStore("targetDocuments",{keyPath:C7}).createIndex("documentTargetsIndex",M7,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",b7,{unique:!0}),r.createObjectStore("targetGlobal")}const Yc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class U0{constructor(e,t,s,c,p,C,z,Z,Q,ue,ke=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=p,this.window=C,this.document=z,this.Js=Q,this.Ys=ue,this.Xs=ke,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=pt=>Promise.resolve(),!U0.C())throw new jt(bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new h6(this,c),this.ii=t+"main",this.yt=new Wc(Z),this.ri=new c2(this.ii,this.Xs,new I7(this.yt)),this.Cs=new Y6(this.referenceDelegate,this.yt),this.remoteDocumentCache=X6(this.yt),this.Ns=new W,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ue&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new jt(bt.FAILED_PRECONDITION,Yc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Mr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,He.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,He.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,He.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>j0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Os(e))return qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return t0(e).get("owner").next(t=>vt.resolve(this.mi(t)))}gi(e){return j0(e).delete(this.clientId)}yi(){var e=this;return(0,He.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=C2(s,"clientMetadata");return c.W().next(p=>{const C=e.Ii(p,18e5),z=p.filter(Z=>-1===C.indexOf(Z));return vt.forEach(z,Z=>c.delete(Z.clientId)).next(()=>z)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?vt.resolve(!0):t0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new jt(bt.FAILED_PRECONDITION,Yc);return!1}}return!(!this.networkEnabled||!this.inForeground)||j0(e).W().next(s=>void 0===this.Ii(s,5e3).find(c=>{if(this.clientId!==c.clientId){const C=!this.inForeground&&c.inForeground,z=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||C&&z)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,He.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new V0(t,Mr.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>j0(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return J4.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Io(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Be.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){qt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",p=15===(C=this.Xs)?P0:14===C?k0:13===C?N3:12===C?Zc:11===C?$c:void l1();var C;let z;return this.ri.runTransaction(e,c,p,Z=>(z=new V0(Z,this.Ss?this.Ss.next():Mr.at),"readwrite-primary"===t?this.fi(z).next(Q=>!!Q||this.di(z)).next(Q=>{if(!Q)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new jt(bt.FAILED_PRECONDITION,ba);return s(z)}).next(Q=>this.wi(z).next(()=>Q)):this.Vi(z).next(()=>s(z)))).then(Z=>(z.raiseOnCommittedEvent(),Z))}Vi(e){return t0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new jt(bt.FAILED_PRECONDITION,Yc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return t0(e).put("owner",t)}static C(){return c2.C()}_i(e){const t=t0(e);return t.get("owner").next(s=>this.mi(s)?(qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):vt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(gi(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return qt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return gi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function t0(r){return C2(r,"owner")}function j0(r){return C2(r,"clientMetadata")}function Jc(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Wn{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=c}static Ci(e,t){let s=Zn(),c=Zn();for(const p of t.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Wn(e,t.fromCache,s,c)}}class Qc{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,c){return this.ki(e,t).next(p=>p||this.Oi(e,t,c,s)).next(p=>p||this.Mi(e,t))}ki(e,t){if(J3(t))return vt.resolve(null);let s=fs(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Ps(t,null,"F"),s=fs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const C=Zn(...p);return this.Ni.getDocuments(e,C).next(z=>this.indexManager.getMinOffset(e,s).next(Z=>{const Q=this.Fi(t,z);return this.$i(t,Q,C,Z.readTime)?this.ki(e,Ps(t,null,"F")):this.Bi(e,Q,t,Z)}))})))}Oi(e,t,s,c){return J3(t)||c.isEqual(P1.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(p=>{const C=this.Fi(t,p);return this.$i(t,C,s,c)?this.Mi(e,t):(Ls()<=ht.in.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),U4(t)),this.Bi(e,C,t,lo(c,-1)))})}Fi(e,t){let s=new yi(e6(e));return t.forEach((c,p)=>{Or(e,p)&&(s=s.add(p))}),s}$i(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Mi(e,t){return Ls()<=ht.in.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",U4(t)),this.Ni.getDocumentsMatchingQuery(e,t,Jr.min())}Bi(e,t,s,c){return this.Ni.getDocumentsMatchingQuery(e,s,c).next(p=>(t.forEach(C=>{p=p.insert(C.key,C)}),p))}}class T5{constructor(e,t,s,c){this.persistence=e,this.Li=t,this.yt=c,this.qi=new Lr(X1),this.Ui=new Vs(p=>qa(p),p3),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T7(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Xc(r,e,t,s){return new T5(r,e,t,s)}function N5(r,e){return e8.apply(this,arguments)}function e8(){return e8=(0,He.Z)(function*(r,e){const t=c1(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(p=>(c=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(p=>{const C=[],z=[];let Z=Zn();for(const Q of c){C.push(Q.batchId);for(const ue of Q.mutations)Z=Z.add(ue.key)}for(const Q of p){z.push(Q.batchId);for(const ue of Q.mutations)Z=Z.add(ue.key)}return t.localDocuments.getDocuments(s,Z).next(Q=>({ji:Q,removedBatchIds:C,addedBatchIds:z}))})})}),e8.apply(this,arguments)}function A5(r,e){const t=c1(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(C,z,Z,Q){const ue=Z.batch,ke=ue.keys();let pt=vt.resolve();return ke.forEach(Ut=>{pt=pt.next(()=>Q.getEntry(z,Ut)).next(Kt=>{const k1=Z.docVersions.get(Ut);C1(null!==k1),Kt.version.compareTo(k1)<0&&(ue.applyToRemoteDocument(Kt,Z),Kt.isValidDocument()&&(Kt.setReadTime(Z.commitVersion),Q.addEntry(Kt)))})}),pt.next(()=>C.mutationQueue.removeMutationBatch(z,ue))}(t,s,e,p).next(()=>p.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let z=Zn();for(let Z=0;Z<C.mutationResults.length;++Z)C.mutationResults[Z].transformResults.length>0&&(z=z.add(C.batch.mutations[Z].key));return z}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}function I5(r){const e=c1(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function x5(r,e){const t=c1(r),s=e.snapshotVersion;let c=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const C=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.qi;const z=[];e.targetChanges.forEach((ue,ke)=>{const pt=c.get(ke);if(!pt)return;z.push(t.Cs.removeMatchingKeys(p,ue.removedDocuments,ke).next(()=>t.Cs.addMatchingKeys(p,ue.addedDocuments,ke)));let Ut=pt.withSequenceNumber(p.currentSequenceNumber);var Kt,k1,un;e.targetMismatches.has(ke)?Ut=Ut.withResumeToken(m.EMPTY_BYTE_STRING,P1.min()).withLastLimboFreeSnapshotVersion(P1.min()):ue.resumeToken.approximateByteSize()>0&&(Ut=Ut.withResumeToken(ue.resumeToken,s)),c=c.insert(ke,Ut),k1=Ut,un=ue,(0===(Kt=pt).resumeToken.approximateByteSize()||k1.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||un.addedDocuments.size+un.modifiedDocuments.size+un.removedDocuments.size>0)&&z.push(t.Cs.updateTargetData(p,Ut))});let Z=hs(),Q=Zn();if(e.documentUpdates.forEach(ue=>{e.resolvedLimboDocuments.has(ue)&&z.push(t.persistence.referenceDelegate.updateLimboDocument(p,ue))}),z.push(z5(p,C,e.documentUpdates).next(ue=>{Z=ue.Wi,Q=ue.zi})),!s.isEqual(P1.min())){const ue=t.Cs.getLastRemoteSnapshotVersion(p).next(ke=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,s));z.push(ue)}return vt.waitFor(z).next(()=>C.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,Z,Q)).next(()=>Z)}).then(p=>(t.qi=c,p))}function z5(r,e,t){let s=Zn(),c=Zn();return t.forEach(p=>s=s.add(p)),e.getEntries(r,s).next(p=>{let C=hs();return t.forEach((z,Z)=>{const Q=p.get(z);Z.isFoundDocument()!==Q.isFoundDocument()&&(c=c.add(z)),Z.isNoDocument()&&Z.version.isEqual(P1.min())?(e.removeEntry(z,Z.readTime),C=C.insert(z,Z)):!Q.isValidDocument()||Z.version.compareTo(Q.version)>0||0===Z.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(Z),C=C.insert(z,Z)):qt("LocalStore","Ignoring outdated watch update for ",z,". Current version:",Q.version," Watch version:",Z.version)}),{Wi:C,zi:c}})}function x7(r,e){const t=c1(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function n0(r,e){const t=c1(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Cs.getTargetData(s,e).next(p=>p?(c=p,vt.resolve(c)):t.Cs.allocateTargetId(s).next(C=>(c=new t4(e,C,0,s.currentSequenceNumber),t.Cs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.qi.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function R3(r,e,t){return G0.apply(this,arguments)}function G0(){return G0=(0,He.Z)(function*(r,e,t){const s=c1(r),c=s.qi.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",p,C=>s.persistence.referenceDelegate.removeTarget(C,c)))}catch(C){if(!Os(C))throw C;qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${C}`)}s.qi=s.qi.remove(e),s.Ui.delete(c.target)}),G0.apply(this,arguments)}function o4(r,e,t){const s=c1(r);let c=P1.min(),p=Zn();return s.persistence.runTransaction("Execute query","readonly",C=>function(z,Z,Q){const ue=c1(z),ke=ue.Ui.get(Q);return void 0!==ke?vt.resolve(ue.qi.get(ke)):ue.Cs.getTargetData(Z,Q)}(s,C,fs(e)).next(z=>{if(z)return c=z.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(C,z.targetId).next(Z=>{p=Z})}).next(()=>s.Li.getDocumentsMatchingQuery(C,e,t?c:P1.min(),t?p:Zn())).next(z=>(Z0(s,j4(e),z),{documents:z,Hi:p})))}function t8(r,e){const t=c1(r),s=c1(t.Cs),c=t.qi.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",p=>s.ne(p,e).next(C=>C?C.target:null))}function $0(r,e){const t=c1(r),s=t.Ki.get(e)||P1.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,lo(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Z0(t,e,c),c))}function Z0(r,e,t){let s=r.Ki.get(e)||P1.min();t.forEach((c,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),r.Ki.set(e,s)}function L5(){return L5=(0,He.Z)(function*(r,e,t,s){const c=c1(r);let p=Zn(),C=hs();for(const Q of t){const ue=e.Ji(Q.metadata.name);Q.document&&(p=p.add(ue));const ke=e.Yi(Q);ke.setReadTime(e.Xi(Q.metadata.readTime)),C=C.insert(ue,ke)}const z=c.Gi.newChangeBuffer({trackRemovals:!0}),Z=yield n0(c,(Q=s,fs(ks(Sn.fromString(`__bundle__/docs/${Q}`)))));var Q;return c.persistence.runTransaction("Apply bundle documents","readwrite",Q=>z5(Q,z,C).next(ue=>(z.apply(Q),ue)).next(ue=>c.Cs.removeMatchingKeysForTargetId(Q,Z.targetId).next(()=>c.Cs.addMatchingKeys(Q,p,Z.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Q,ue.Wi,ue.zi)).next(()=>ue.Wi)))}),L5.apply(this,arguments)}function C9(r,e){return O5.apply(this,arguments)}function O5(){return O5=(0,He.Z)(function*(r,e,t=Zn()){const s=yield n0(r,fs(b(e.bundledQuery))),c=c1(r);return c.persistence.runTransaction("Save named query","readwrite",p=>{const C=Si(e.readTime);if(s.snapshotVersion.compareTo(C)>=0)return c.Ns.saveNamedQuery(p,e);const z=s.withResumeToken(m.EMPTY_BYTE_STRING,C);return c.qi=c.qi.insert(z.targetId,z),c.Cs.updateTargetData(p,z).next(()=>c.Cs.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>c.Cs.addMatchingKeys(p,t,s.targetId)).next(()=>c.Ns.saveNamedQuery(p,e))})}),O5.apply(this,arguments)}function R5(r,e){return`firestore_clients_${r}_${e}`}function n8(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function k5(r,e){return`firestore_targets_${r}_${e}`}class W0{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static Zi(e,t,s){const c=JSON.parse(s);let p,C="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return C&&c.error&&(C="string"==typeof c.error.message&&"string"==typeof c.error.code,C&&(p=new jt(c.error.code,c.error.message))),C?new W0(e,t,c.state,p):(gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class a4{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let c,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(c=new jt(s.error.code,s.error.message))),p?new a4(e,s.state,c):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class q0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,p=aa();for(let C=0;c&&C<s.activeTargetIds.length;++C)c=D(s.activeTargetIds[C]),p=p.add(s.activeTargetIds[C]);return c?new q0(e,p):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class K0{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new K0(t.clientId,t.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class p6{constructor(){this.activeTargetIds=aa()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i8{constructor(e,t,s,c,p){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Lr(X1),this.started=!1,this.cr=[];const C=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=R5(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new p6),this.lr=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(z){return`firestore_bundle_loaded_v2_${z}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,He.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const p=e.getItem(R5(e.persistenceKey,c));if(p){const C=q0.Zi(c,p);C&&(e.ur=e.ur.insert(C.clientId,C))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const c=e.yr(s);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(k5(this.persistenceKey,e));if(s){const c=a4.Zi(e,s);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(k5(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Er(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return qt("SharedClientState","READ",e,t),t}setItem(e,t){qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(qt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,He.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const c=t.vr(s.key);return t.Vr(c,null)}{const c=t.Sr(s.key,s.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const c=t.Dr(s.key,s.newValue);if(c)return t.Cr(c)}}else if(t._r.test(s.key)){if(null!==s.newValue){const c=t.Nr(s.key,s.newValue);if(c)return t.kr(c)}}else if(s.key===t.wr){if(null!==s.newValue){const c=t.yr(s.newValue);if(c)return t.pr(c)}}else if(s.key===t.hr){const c=function(p){let C=Mr.at;if(null!=p)try{const z=JSON.parse(p);C1("number"==typeof z),C=z}catch(z){gi("SharedClientState","Failed to read sequence number from WebStorage",z)}return C}(s.newValue);c!==Mr.at&&t.sequenceNumberHandler(c)}else if(s.key===t.mr){const c=t.Or(s.newValue);yield Promise.all(c.map(p=>t.syncEngine.Mr(p)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const c=new W0(this.currentUser,e,t,s),p=n8(this.persistenceKey,this.currentUser,e);this.setItem(p,c.tr())}Er(e){const t=n8(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const c=k5(this.persistenceKey,e),p=new a4(e,t,s);this.setItem(c,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return q0.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),c=Number(s[1]);return W0.Zi(new zi(void 0!==s[2]?s[2]:null),c,t)}Nr(e,t){const s=this._r.exec(e),c=Number(s[1]);return a4.Zi(c,t)}yr(e){return K0.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,He.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),p=this.Ir(s),C=[],z=[];return p.forEach(Z=>{c.has(Z)||C.push(Z)}),c.forEach(Z=>{p.has(Z)||z.push(Z)}),this.syncEngine.Br(C,z).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=aa();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class r8{constructor(){this.Lr=new p6,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new p6,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class L7{Ur(e){}shutdown(){}}class P5{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const O7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R7{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class k7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,c,p){const C=this.ho(e,t);qt("RestConnection","Sending: ",C,s);const z={};return this.lo(z,c,p),this.fo(e,C,z,s).then(Z=>(qt("RestConnection","Received: ",Z),Z),Z=>{throw as("RestConnection",`${e} failed with error: `,Z,"url: ",C,"request:",s),Z})}_o(e,t,s,c,p,C){return this.ao(e,t,s,c,p)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ai,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),s&&s.headers.forEach((c,p)=>e[p]=c)}ho(e,t){return`${this.oo}/v1/${t}:${O7[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,c){return new Promise((p,C)=>{const z=new wo;z.setWithCredentials(!0),z.listenOnce(_a.COMPLETE,()=>{try{switch(z.getLastErrorCode()){case so.NO_ERROR:const Q=z.getResponseJson();qt("Connection","XHR received:",JSON.stringify(Q)),p(Q);break;case so.TIMEOUT:qt("Connection",'RPC "'+e+'" timed out'),C(new jt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case so.HTTP_ERROR:const ue=z.getStatus();if(qt("Connection",'RPC "'+e+'" failed with status:',ue,"response text:",z.getResponseText()),ue>0){let ke=z.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const pt=ke?.error;if(pt&&pt.status&&pt.message){const Ut=function(Kt){const k1=Kt.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(k1)>=0?k1:bt.UNKNOWN}(pt.status);C(new jt(Ut,pt.message))}else C(new jt(bt.UNKNOWN,"Server responded with status "+z.getStatus()))}else C(new jt(bt.UNAVAILABLE,"Connection failed."));break;default:l1()}}finally{qt("Connection",'RPC "'+e+'" completed.')}});const Z=JSON.stringify(c);z.send(t,"POST",Z,s,15)})}wo(e,t,s){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Co(),C=Ga(),z={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(z.xmlHttpFactory=new zs({})),this.lo(z.initMessageHeaders,t,s),z.encodeInitMessageHeaders=!0;const Z=c.join("");qt("Connection","Creating WebChannel: "+Z,z);const Q=p.createWebChannel(Z,z);let ue=!1,ke=!1;const pt=new R7({Hr:Kt=>{ke?qt("Connection","Not sending because WebChannel is closed:",Kt):(ue||(qt("Connection","Opening WebChannel transport."),Q.open(),ue=!0),qt("Connection","WebChannel sending:",Kt),Q.send(Kt))},Jr:()=>Q.close()}),Ut=(Kt,k1,un)=>{Kt.listen(k1,Gi=>{try{un(Gi)}catch(kr){setTimeout(()=>{throw kr},0)}})};return Ut(Q,Us.EventType.OPEN,()=>{ke||qt("Connection","WebChannel transport opened.")}),Ut(Q,Us.EventType.CLOSE,()=>{ke||(ke=!0,qt("Connection","WebChannel transport closed"),pt.io())}),Ut(Q,Us.EventType.ERROR,Kt=>{ke||(ke=!0,as("Connection","WebChannel transport errored:",Kt),pt.io(new jt(bt.UNAVAILABLE,"The operation could not be completed")))}),Ut(Q,Us.EventType.MESSAGE,Kt=>{var k1;if(!ke){const un=Kt.data[0];C1(!!un);const Gi=un,kr=Gi.error||(null===(k1=Gi[0])||void 0===k1?void 0:k1.error);if(kr){qt("Connection","WebChannel received error:",kr);const Z2=kr.status;let Gr=function(li){const $r=cr[li];if(void 0!==$r)return $4($r)}(Z2),ni=kr.message;void 0===Gr&&(Gr=bt.INTERNAL,ni="Unknown error status: "+Z2+" with message "+kr.message),ke=!0,pt.io(new jt(Gr,ni)),Q.close()}else qt("Connection","WebChannel received:",un),pt.ro(un)}}),Ut(C,Mo.STAT_EVENT,Kt=>{Kt.stat===oo.PROXY?qt("Connection","Detected buffering proxy"):Kt.stat===oo.NOPROXY&&qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{pt.so()},0),pt}}function s8(){return typeof window<"u"?window:null}function Y0(){return typeof document<"u"?document:null}function m6(r){return new r6(r,!0)}class J0{constructor(e,t,s=1e3,c=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=c,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-s);c>0&&qt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Q0{constructor(e,t,s,c,p,C,z,Z){this.Hs=e,this.vo=s,this.Vo=c,this.connection=p,this.authCredentialsProvider=C,this.appCheckCredentialsProvider=z,this.listener=Z,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new J0(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,He.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,He.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,He.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===bt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.So===t&&this.Go(s,c)},s=>{e(()=>{const c=new jt(bt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(c)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{s(()=>this.Qo(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,He.Z)(function*(){e.state=0,e.start()}))}Qo(e){return qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M9 extends Q0{constructor(e,t,s,c,p,C){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,C),this.yt=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function J(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(Z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:l1(),c=e.targetChange.targetIds||[],p=function(Z,Q){return Z.wt?(C1(void 0===Q||"string"==typeof Q),m.fromBase64String(Q||"")):(C1(void 0===Q||Q instanceof Uint8Array),m.fromUint8Array(Q||new Uint8Array))}(r,e.targetChange.resumeToken),C=e.targetChange.cause,z=C&&function(Z){const Q=void 0===Z.code?bt.UNKNOWN:$4(Z.code);return new jt(Q,Z.message||"")}(C);t=new Ks(s,c,p,z||null)}else if("documentChange"in e){const s=e.documentChange,c=mo(r,s.document.name),p=Si(s.document.updateTime),C=s.document.createTime?Si(s.document.createTime):P1.min(),z=new Is({mapValue:{fields:s.document.fields}}),Z=Xi.newFoundDocument(c,p,C,z);t=new xa(s.targetIds||[],s.removedTargetIds||[],Z.key,Z)}else if("documentDelete"in e){const s=e.documentDelete,c=mo(r,s.document),p=s.readTime?Si(s.readTime):P1.min(),C=Xi.newNoDocument(c,p);t=new xa([],s.removedTargetIds||[],C.key,C)}else if("documentRemove"in e){const s=e.documentRemove,c=mo(r,s.document);t=new xa([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return l1();{const s=e.filter,p=new Ta(s.count||0);t=new w4(s.targetId,p)}}var Z;return t}(this.yt,e),s=function(c){if(!("targetChange"in c))return P1.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?P1.min():p.readTime?Si(p.readTime):P1.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=Xa(this.yt),t.addTarget=function(c,p){let C;const z=p.target;return C=m3(z)?{documents:v1(c,z)}:{query:H1(c,z)},C.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?C.resumeToken=po(c,p.resumeToken):p.snapshotVersion.compareTo(P1.min())>0&&(C.readTime=za(c,p.snapshotVersion.toTimestamp())),C}(this.yt,e);const s=function hn(r,e){const t=function(s,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return l1()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=Xa(this.yt),t.removeTarget=e,this.Bo(t)}}class o8 extends Q0{constructor(e,t,s,c,p,C){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,C),this.yt=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(C1(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Tt(r,e){return r&&r.length>0?(C1(void 0!==e),r.map(t=>function(s,c){let p=Si(s.updateTime?s.updateTime:c);return p.isEqual(P1.min())&&(p=Si(c)),new Ka(p,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.Zo(s,t)}return C1(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Xa(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ae(this.yt,s))};this.Bo(t)}}class P7 extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=c,this.nu=!1}su(){if(this.nu)throw new jt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.ao(e,t,s,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new jt(bt.UNKNOWN,c.toString())})}_o(e,t,s,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,C])=>this.connection._o(e,t,s,p,C,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new jt(bt.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class V5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(gi(t),this.ou=!1):qt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class H5{constructor(e,t,s,c,p){var C=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.Ur(z=>{s.enqueueAndForget((0,He.Z)(function*(){var Z;c4(C)&&(qt("RemoteStore","Restarting streams for network reachability change."),yield(Z=(0,He.Z)(function*(Q){const ue=c1(Q);ue._u.add(4),yield k3(ue),ue.gu.set("Unknown"),ue._u.delete(4),yield e3(ue)}),function(Q){return Z.apply(this,arguments)})(C))}))}),this.gu=new V5(s,c)}}function e3(r){return qo.apply(this,arguments)}function qo(){return qo=(0,He.Z)(function*(r){if(c4(r))for(const e of r.wu)yield e(!0)}),qo.apply(this,arguments)}function k3(r){return a8.apply(this,arguments)}function a8(){return a8=(0,He.Z)(function*(r){for(const e of r.wu)yield e(!1)}),a8.apply(this,arguments)}function g6(r,e){const t=c1(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),F5(t)?s0(t):a0(t).ko()&&r0(t,e))}function Ko(r,e){const t=c1(r),s=a0(t);t.du.delete(e),s.ko()&&c8(t,e),0===t.du.size&&(s.ko()?s.Fo():c4(t)&&t.gu.set("Unknown"))}function r0(r,e){r.yu.Ot(e.targetId),a0(r).zo(e)}function c8(r,e){r.yu.Ot(e),a0(r).Ho(e)}function s0(r){r.yu=new D4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>r.du.get(e)||null}),a0(r).start(),r.gu.uu()}function F5(r){return c4(r)&&!a0(r).No()&&r.du.size>0}function c4(r){return 0===c1(r)._u.size}function V7(r){r.yu=void 0}function X0(r){return v6.apply(this,arguments)}function v6(){return v6=(0,He.Z)(function*(r){r.du.forEach((e,t)=>{r0(r,e)})}),v6.apply(this,arguments)}function l8(r,e){return o0.apply(this,arguments)}function o0(){return o0=(0,He.Z)(function*(r,e){V7(r),F5(r)?(r.gu.hu(e),s0(r)):r.gu.set("Unknown")}),o0.apply(this,arguments)}function u8(r,e,t){return B5.apply(this,arguments)}function B5(){return B5=(0,He.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof Ks&&2===e.state&&e.cause)try{yield(s=(0,He.Z)(function*(c,p){const C=p.cause;for(const z of p.targetIds)c.du.has(z)&&(yield c.remoteSyncer.rejectListen(z,C),c.du.delete(z),c.yu.removeTarget(z))}),function(c,p){return s.apply(this,arguments)})(r,e)}catch(s){qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ec(r,s)}else if(e instanceof xa?r.yu.Kt(e):e instanceof w4?r.yu.Jt(e):r.yu.jt(e),!t.isEqual(P1.min()))try{const s=yield I5(r.localStore);t.compareTo(s)>=0&&(yield function(c,p){const C=c.yu.Zt(p);return C.targetChanges.forEach((z,Z)=>{if(z.resumeToken.approximateByteSize()>0){const Q=c.du.get(Z);Q&&c.du.set(Z,Q.withResumeToken(z.resumeToken,p))}}),C.targetMismatches.forEach(z=>{const Z=c.du.get(z);if(!Z)return;c.du.set(z,Z.withResumeToken(m.EMPTY_BYTE_STRING,Z.snapshotVersion)),c8(c,z);const Q=new t4(Z.target,z,1,Z.sequenceNumber);r0(c,Q)}),c.remoteSyncer.applyRemoteEvent(C)}(r,t))}catch(s){qt("RemoteStore","Failed to raise snapshot:",s),yield ec(r,s)}var s}),B5.apply(this,arguments)}function ec(r,e,t){return d8.apply(this,arguments)}function d8(){return d8=(0,He.Z)(function*(r,e,t){if(!Os(e))throw e;r._u.add(1),yield k3(r),r.gu.set("Offline"),t||(t=()=>I5(r.localStore)),r.asyncQueue.enqueueRetryable((0,He.Z)(function*(){qt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield e3(r)}))}),d8.apply(this,arguments)}function U5(r,e){return e().catch(t=>ec(r,t,e))}function y6(r){return tc.apply(this,arguments)}function tc(){return tc=(0,He.Z)(function*(r){const e=c1(r),t=vo(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;D9(e);)try{const c=yield x7(e.localStore,s);if(null===c){0===e.fu.length&&t.Fo();break}s=c.batchId,H7(e,c)}catch(c){yield ec(e,c)}F7(e)&&f8(e)}),tc.apply(this,arguments)}function D9(r){return c4(r)&&r.fu.length<10}function H7(r,e){r.fu.push(e);const t=vo(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function F7(r){return c4(r)&&!vo(r).No()&&r.fu.length>0}function f8(r){vo(r).start()}function j5(r){return h8.apply(this,arguments)}function h8(){return h8=(0,He.Z)(function*(r){vo(r).eu()}),h8.apply(this,arguments)}function p8(r){return G5.apply(this,arguments)}function G5(){return G5=(0,He.Z)(function*(r){const e=vo(r);for(const t of r.fu)e.Xo(t.mutations)}),G5.apply(this,arguments)}function E9(r,e,t){return $5.apply(this,arguments)}function $5(){return $5=(0,He.Z)(function*(r,e,t){const s=r.fu.shift(),c=H0.from(s,e,t);yield U5(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield y6(r)}),$5.apply(this,arguments)}function S9(r,e){return Z5.apply(this,arguments)}function Z5(){return Z5=(0,He.Z)(function*(r,e){var t;e&&vo(r).Yo&&(yield(t=(0,He.Z)(function*(s,c){if(Na(p=c.code)&&p!==bt.ABORTED){const C=s.fu.shift();vo(s).Mo(),yield U5(s,()=>s.remoteSyncer.rejectFailedWrite(C.batchId,c)),yield y6(s)}var p}),function(s,c){return t.apply(this,arguments)})(r,e)),F7(r)&&f8(r)}),Z5.apply(this,arguments)}function B7(r,e){return W5.apply(this,arguments)}function W5(){return W5=(0,He.Z)(function*(r,e){const t=c1(r);t.asyncQueue.verifyOperationInProgress(),qt("RemoteStore","RemoteStore received new credentials");const s=c4(t);t._u.add(3),yield k3(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield e3(t)}),W5.apply(this,arguments)}function q5(r,e){return K5.apply(this,arguments)}function K5(){return K5=(0,He.Z)(function*(r,e){const t=c1(r);e?(t._u.delete(2),yield e3(t)):e||(t._u.add(2),yield k3(t),t.gu.set("Unknown"))}),K5.apply(this,arguments)}function a0(r){return r.pu||(r.pu=function(e,t,s){const c=c1(e);return c.su(),new M9(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(r.datastore,r.asyncQueue,{Yr:X0.bind(null,r),Zr:l8.bind(null,r),Wo:u8.bind(null,r)}),r.wu.push(function(){var e=(0,He.Z)(function*(t){t?(r.pu.Mo(),F5(r)?s0(r):r.gu.set("Unknown")):(yield r.pu.stop(),V7(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function vo(r){return r.Iu||(r.Iu=function(e,t,s){const c=c1(e);return c.su(),new o8(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(r.datastore,r.asyncQueue,{Yr:j5.bind(null,r),Zr:S9.bind(null,r),tu:p8.bind(null,r),Zo:E9.bind(null,r)}),r.wu.push(function(){var e=(0,He.Z)(function*(t){t?(r.Iu.Mo(),yield y6(r)):(yield r.Iu.stop(),r.fu.length>0&&(qt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class c0{constructor(e,t,s,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=p,this.deferred=new G2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(e,t,s,c,p){const C=Date.now()+s,z=new c0(e,t,C,c,p);return z.start(s),z}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jt(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _6(r,e){if(gi("AsyncQueue",`${e}: ${r}`),Os(r))return new jt(bt.UNAVAILABLE,`${e}: ${r}`);throw r}class P3{constructor(e){this.comparator=e?(t,s)=>e(t,s)||e1.comparator(t.key,s.key):(t,s)=>e1.comparator(t.key,s.key),this.keyedMap=Aa(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new P3(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof P3)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=s.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new P3;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class nc{constructor(){this.Tu=new Lr(e1.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):l1():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class V3{constructor(e,t,s,c,p,C,z,Z,Q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=p,this.fromCache=C,this.syncStateChanged=z,this.excludesMetadataChanges=Z,this.hasCachedResults=Q}static fromInitialDocuments(e,t,s,c,p){const C=[];return t.forEach(z=>{C.push({type:0,doc:z})}),new V3(e,t,P3.emptySet(t),C,s,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ti(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class m8{constructor(){this.Au=void 0,this.listeners=[]}}class U7{constructor(){this.queries=new Vs(e=>B4(e),ti),this.onlineState="Unknown",this.Ru=new Set}}function l4(r,e){return ic.apply(this,arguments)}function ic(){return ic=(0,He.Z)(function*(r,e){const t=c1(r),s=e.query;let c=!1,p=t.queries.get(s);if(p||(c=!0,p=new m8),c)try{p.Au=yield t.onListen(s)}catch(C){const z=_6(C,`Initialization of query '${U4(e.query)}' failed`);return void e.onError(z)}t.queries.set(s,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&y8(t)}),ic.apply(this,arguments)}function g8(r,e){return v8.apply(this,arguments)}function v8(){return v8=(0,He.Z)(function*(r,e){const t=c1(r),s=e.query;let c=!1;const p=t.queries.get(s);if(p){const C=p.listeners.indexOf(e);C>=0&&(p.listeners.splice(C,1),c=0===p.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),v8.apply(this,arguments)}function Y5(r,e){const t=c1(r);let s=!1;for(const c of e){const C=t.queries.get(c.query);if(C){for(const z of C.listeners)z.Pu(c)&&(s=!0);C.Au=c}}s&&y8(t)}function j7(r,e,t){const s=c1(r),c=s.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);s.queries.delete(e)}function y8(r){r.Ru.forEach(e=>{e.next()})}class b6{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new V3(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=V3.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class C6{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class rc{constructor(e){this.yt=e}Ji(e){return mo(this.yt,e)}Yi(e){return e.metadata.exists?y(this.yt,e.document,!1):Xi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Si(e)}}class M6{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sc(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=Sn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new rc(this.yt);for(const c of e)if(c.metadata.queries){const p=s.Ji(c.metadata.name);for(const C of c.metadata.queries){const z=(t.get(C)||Zn()).add(p);t.set(C,z)}}return t}complete(){var e=this;return(0,He.Z)(function*(){const t=yield function z7(r,e,t,s){return L5.apply(this,arguments)}(e.localStore,new rc(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const c of e.queries)yield C9(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function sc(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class l0{constructor(e){this.key=e}}class _8{constructor(e){this.key=e}}class b8{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zn(),this.mutatedKeys=Zn(),this.Gu=e6(e),this.Qu=new P3(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new nc,c=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,C=c,z=!1;const Z="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Q="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ue,ke)=>{const pt=c.get(ue),Ut=Or(this.query,ke)?ke:null,Kt=!!pt&&this.mutatedKeys.has(pt.key),k1=!!Ut&&(Ut.hasLocalMutations||this.mutatedKeys.has(Ut.key)&&Ut.hasCommittedMutations);let un=!1;pt&&Ut?pt.data.isEqual(Ut.data)?Kt!==k1&&(s.track({type:3,doc:Ut}),un=!0):this.Hu(pt,Ut)||(s.track({type:2,doc:Ut}),un=!0,(Z&&this.Gu(Ut,Z)>0||Q&&this.Gu(Ut,Q)<0)&&(z=!0)):!pt&&Ut?(s.track({type:0,doc:Ut}),un=!0):pt&&!Ut&&(s.track({type:1,doc:pt}),un=!0,(Z||Q)&&(z=!0)),un&&(Ut?(C=C.add(Ut),p=k1?p.add(ue):p.delete(ue)):(C=C.delete(ue),p=p.delete(ue)))}),null!==this.query.limit)for(;C.size>this.query.limit;){const ue="F"===this.query.limitType?C.last():C.first();C=C.delete(ue.key),p=p.delete(ue.key),s.track({type:1,doc:ue})}return{Qu:C,zu:s,$i:z,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((Q,ue)=>function(ke,pt){const Ut=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return l1()}};return Ut(ke)-Ut(pt)}(Q.type,ue.type)||this.Gu(Q.doc,ue.doc)),this.Ju(s);const C=t?this.Yu():[],z=0===this.Ku.size&&this.current?1:0,Z=z!==this.Uu;return this.Uu=z,0!==p.length||Z?{snapshot:new V3(this.query,e.Qu,c,p,e.mutatedKeys,0===z,Z,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:C}:{Xu:C}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new nc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zn(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new _8(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new l0(s))}),t}tc(e){this.qu=e.Hi,this.Ku=Zn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return V3.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class C8{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class M8{constructor(e){this.key=e,this.nc=!1}}class J5{constructor(e,t,s,c,p,C){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=C,this.sc={},this.ic=new Vs(z=>B4(z),ti),this.rc=new Map,this.oc=new Set,this.uc=new Lr(e1.comparator),this.cc=new Map,this.ac=new F0,this.hc={},this.lc=new Map,this.fc=i4.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function w8(r,e){return D8.apply(this,arguments)}function D8(){return D8=(0,He.Z)(function*(r,e){const t=dc(r);let s,c;const p=t.ic.get(e);if(p)s=p.targetId,t.sharedClientState.addLocalQueryTarget(s),c=p.view.ec();else{const C=yield n0(t.localStore,fs(e));t.isPrimaryClient&&g6(t.remoteStore,C);const z=t.sharedClientState.addLocalQueryTarget(C.targetId);s=C.targetId,c=yield Q5(t,e,s,"current"===z,C.resumeToken)}return c}),D8.apply(this,arguments)}function Q5(r,e,t,s,c){return E8.apply(this,arguments)}function E8(){return E8=(0,He.Z)(function*(r,e,t,s,c){r._c=(ke,pt,Ut)=>{return(Kt=(0,He.Z)(function*(k1,un,Gi,kr){let Z2=un.view.Wu(Gi);Z2.$i&&(Z2=yield o4(k1.localStore,un.query,!1).then(({documents:li})=>un.view.Wu(li,Z2)));const Gr=kr&&kr.targetChanges.get(un.targetId),ni=un.view.applyChanges(Z2,k1.isPrimaryClient,Gr);return x8(k1,un.targetId,ni.Xu),ni.snapshot}),function(k1,un,Gi,kr){return Kt.apply(this,arguments)})(r,ke,pt,Ut);var Kt};const p=yield o4(r.localStore,e,!0),C=new b8(e,p.Hi),z=C.Wu(p.documents),Z=Ia.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,c),Q=C.applyChanges(z,r.isPrimaryClient,Z);x8(r,t,Q.Xu);const ue=new C8(e,t,C);return r.ic.set(e,ue),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),Q.snapshot}),E8.apply(this,arguments)}function X5(r,e){return S8.apply(this,arguments)}function S8(){return S8=(0,He.Z)(function*(r,e){const t=c1(r),s=t.ic.get(e),c=t.rc.get(s.targetId);if(c.length>1)return t.rc.set(s.targetId,c.filter(p=>!ti(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield R3(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ko(t.remoteStore,s.targetId),H3(t,s.targetId)}).catch(Gs))):(H3(t,s.targetId),yield R3(t.localStore,s.targetId,!0))}),S8.apply(this,arguments)}function oc(){return oc=(0,He.Z)(function*(r,e,t){const s=fc(r);try{const c=yield function(p,C){const z=c1(p),Z=D2.now(),Q=C.reduce((pt,Ut)=>pt.add(Ut.key),Zn());let ue,ke;return z.persistence.runTransaction("Locally write mutations","readwrite",pt=>{let Ut=hs(),Kt=Zn();return z.Gi.getEntries(pt,Q).next(k1=>{Ut=k1,Ut.forEach((un,Gi)=>{Gi.isValidDocument()||(Kt=Kt.add(un))})}).next(()=>z.localDocuments.getOverlayedDocuments(pt,Ut)).next(k1=>{ue=k1;const un=[];for(const Gi of C){const kr=ra(Gi,ue.get(Gi.key).overlayedDocument);null!=kr&&un.push(new sa(Gi.key,kr,h3(kr.value.mapValue),er.exists(!0)))}return z.mutationQueue.addMutationBatch(pt,Z,un,C)}).next(k1=>{ke=k1;const un=k1.applyToLocalDocumentSet(ue,Kt);return z.documentOverlayCache.saveOverlays(pt,k1.batchId,un)})}).then(()=>({batchId:ke.batchId,changes:Bo(ue)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,C,z){let Z=p.hc[p.currentUser.toKey()];Z||(Z=new Lr(X1)),Z=Z.insert(C,z),p.hc[p.currentUser.toKey()]=Z}(s,c.batchId,t),yield x4(s,c.changes),yield y6(s.remoteStore)}catch(c){const p=_6(c,"Failed to persist write");t.reject(p)}}),oc.apply(this,arguments)}function tl(r,e){return yo.apply(this,arguments)}function yo(){return yo=(0,He.Z)(function*(r,e){const t=c1(r);try{const s=yield x5(t.localStore,e);e.targetChanges.forEach((c,p)=>{const C=t.cc.get(p);C&&(C1(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?C.nc=!0:c.modifiedDocuments.size>0?C1(C.nc):c.removedDocuments.size>0&&(C1(C.nc),C.nc=!1))}),yield x4(t,s,e)}catch(s){yield Gs(s)}}),yo.apply(this,arguments)}function T8(r,e,t){const s=c1(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.ic.forEach((p,C)=>{const z=C.view.bu(e);z.snapshot&&c.push(z.snapshot)}),function(p,C){const z=c1(p);z.onlineState=C;let Z=!1;z.queries.forEach((Q,ue)=>{for(const ke of ue.listeners)ke.bu(C)&&(Z=!0)}),Z&&y8(z)}(s.eventManager,e),c.length&&s.sc.Wo(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function G7(r,e,t){return nl.apply(this,arguments)}function nl(){return nl=(0,He.Z)(function*(r,e,t){const s=c1(r);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.cc.get(e),p=c&&c.key;if(p){let C=new Lr(e1.comparator);C=C.insert(p,Xi.newNoDocument(p,P1.min()));const z=Zn().add(p),Z=new jo(P1.min(),new Map,new yi(X1),C,z);yield tl(s,Z),s.uc=s.uc.remove(p),s.cc.delete(e),cc(s)}else yield R3(s.localStore,e,!1).then(()=>H3(s,e,t)).catch(Gs)}),nl.apply(this,arguments)}function $7(r,e){return u0.apply(this,arguments)}function u0(){return u0=(0,He.Z)(function*(r,e){const t=c1(r),s=e.batch.batchId;try{const c=yield A5(t.localStore,e);I8(t,s,null),ac(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield x4(t,c)}catch(c){yield Gs(c)}}),u0.apply(this,arguments)}function il(r,e,t){return N8.apply(this,arguments)}function N8(){return N8=(0,He.Z)(function*(r,e,t){const s=c1(r);try{const c=yield function(p,C){const z=c1(p);return z.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let Q;return z.mutationQueue.lookupMutationBatch(Z,C).next(ue=>(C1(null!==ue),Q=ue.keys(),z.mutationQueue.removeMutationBatch(Z,ue))).next(()=>z.mutationQueue.performConsistencyCheck(Z)).next(()=>z.documentOverlayCache.removeOverlaysForBatchId(Z,Q,C)).next(()=>z.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Z,Q)).next(()=>z.localDocuments.getDocuments(Z,Q))})}(s.localStore,e);I8(s,e,t),ac(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield x4(s,c)}catch(c){yield Gs(c)}}),N8.apply(this,arguments)}function A8(){return A8=(0,He.Z)(function*(r,e){const t=c1(r);c4(t.remoteStore)||qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const C=c1(p);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",z=>C.mutationQueue.getHighestUnacknowledgedBatchId(z))}(t.localStore);if(-1===s)return void e.resolve();const c=t.lc.get(s)||[];c.push(e),t.lc.set(s,c)}catch(s){const c=_6(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),A8.apply(this,arguments)}function ac(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function I8(r,e,t){const s=c1(r);let c=s.hc[s.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),s.hc[s.currentUser.toKey()]=c}}function H3(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.rc.get(e))r.ic.delete(s),t&&r.sc.wc(s,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(s=>{r.ac.containsKey(s)||rl(r,s)})}function rl(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Ko(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),cc(r))}function x8(r,e,t){for(const s of t)s instanceof l0?(r.ac.addReference(s.key,e),sl(r,s)):s instanceof _8?(qt("SyncEngine","Document no longer in limbo: "+s.key),r.ac.removeReference(s.key,e),r.ac.containsKey(s.key)||rl(r,s.key)):l1()}function sl(r,e){const t=e.key,s=t.path.canonicalString();r.uc.get(t)||r.oc.has(s)||(qt("SyncEngine","New document in limbo: "+t),r.oc.add(s),cc(r))}function cc(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new e1(Sn.fromString(e)),s=r.fc.next();r.cc.set(s,new M8(t)),r.uc=r.uc.insert(t,s),g6(r.remoteStore,new t4(fs(ks(t.path)),s,2,Mr.at))}}function x4(r,e,t){return pa.apply(this,arguments)}function pa(){return pa=(0,He.Z)(function*(r,e,t){const s=c1(r),c=[],p=[],C=[];var z;s.ic.isEmpty()||(s.ic.forEach((z,Z)=>{C.push(s._c(Z,e,t).then(Q=>{if((Q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(Z.targetId,Q?.fromCache?"not-current":"current"),Q){c.push(Q);const ue=Wn.Ci(Z.targetId,Q);p.push(ue)}}))}),yield Promise.all(C),s.sc.Wo(c),yield(z=(0,He.Z)(function*(Z,Q){const ue=c1(Z);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>vt.forEach(Q,pt=>vt.forEach(pt.Si,Ut=>ue.persistence.referenceDelegate.addReference(ke,pt.targetId,Ut)).next(()=>vt.forEach(pt.Di,Ut=>ue.persistence.referenceDelegate.removeReference(ke,pt.targetId,Ut)))))}catch(ke){if(!Os(ke))throw ke;qt("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of Q){const pt=ke.targetId;if(!ke.fromCache){const Ut=ue.qi.get(pt),k1=Ut.withLastLimboFreeSnapshotVersion(Ut.snapshotVersion);ue.qi=ue.qi.insert(pt,k1)}}}),function(Z,Q){return z.apply(this,arguments)})(s.localStore,p))}),pa.apply(this,arguments)}function z8(r,e){return L8.apply(this,arguments)}function L8(){return L8=(0,He.Z)(function*(r,e){const t=c1(r);if(!t.currentUser.isEqual(e)){qt("SyncEngine","User change. New user:",e.toKey());const s=yield N5(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(C=>{C.forEach(z=>{z.reject(new jt(bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield x4(t,s.ji)}var c}),L8.apply(this,arguments)}function W7(r,e){const t=c1(r),s=t.cc.get(e);if(s&&s.nc)return Zn().add(s.key);{let c=Zn();const p=t.rc.get(e);if(!p)return c;for(const C of p){const z=t.ic.get(C);c=c.unionWith(z.view.ju)}return c}}function T9(r,e){return lc.apply(this,arguments)}function lc(){return lc=(0,He.Z)(function*(r,e){const t=c1(r),s=yield o4(t.localStore,e.query,!0),c=e.view.tc(s);return t.isPrimaryClient&&x8(t,e.targetId,c.Xu),c}),lc.apply(this,arguments)}function q7(r,e){return O8.apply(this,arguments)}function O8(){return O8=(0,He.Z)(function*(r,e){const t=c1(r);return $0(t.localStore,e).then(s=>x4(t,s))}),O8.apply(this,arguments)}function K7(r,e,t,s){return d0.apply(this,arguments)}function d0(){return d0=(0,He.Z)(function*(r,e,t,s){const c=c1(r),p=yield function(C,z){const Z=c1(C),Q=c1(Z.mutationQueue);return Z.persistence.runTransaction("Lookup mutation documents","readonly",ue=>Q.Tn(ue,z).next(ke=>ke?Z.localDocuments.getDocuments(ue,ke):vt.resolve(null)))}(c.localStore,e);var z;null!==p?("pending"===t?yield y6(c.remoteStore):"acknowledged"===t||"rejected"===t?(I8(c,e,s||null),ac(c,e),z=e,c1(c1(c.localStore).mutationQueue).An(z)):l1(),yield x4(c,p)):qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),d0.apply(this,arguments)}function R8(){return R8=(0,He.Z)(function*(r,e){const t=c1(r);if(dc(t),fc(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield f0(t,s.toArray());t.dc=!0,yield q5(t.remoteStore,!0);for(const p of c)g6(t.remoteStore,p)}else if(!1===e&&!1!==t.dc){const s=[];let c=Promise.resolve();t.rc.forEach((p,C)=>{t.sharedClientState.isLocalQueryTarget(C)?s.push(C):c=c.then(()=>(H3(t,C),R3(t.localStore,C,!0))),Ko(t.remoteStore,C)}),yield c,yield f0(t,s),function(p){const C=c1(p);C.cc.forEach((z,Z)=>{Ko(C.remoteStore,Z)}),C.ac.fs(),C.cc=new Map,C.uc=new Lr(e1.comparator)}(t),t.dc=!1,yield q5(t.remoteStore,!1)}}),R8.apply(this,arguments)}function f0(r,e,t){return h0.apply(this,arguments)}function h0(){return h0=(0,He.Z)(function*(r,e,t){const s=c1(r),c=[],p=[];for(const C of e){let z;const Z=s.rc.get(C);if(Z&&0!==Z.length){z=yield n0(s.localStore,fs(Z[0]));for(const Q of Z){const ue=s.ic.get(Q),ke=yield T9(s,ue);ke.snapshot&&p.push(ke.snapshot)}}else{const Q=yield t8(s.localStore,C);z=yield n0(s.localStore,Q),yield Q5(s,p0(Q),C,!1,z.resumeToken)}c.push(z)}return s.sc.Wo(p),c}),h0.apply(this,arguments)}function p0(r){return v4(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function N9(r){const e=c1(r);return c1(c1(e.localStore).persistence).vi()}function k8(r,e,t,s){return ol.apply(this,arguments)}function ol(){return ol=(0,He.Z)(function*(r,e,t,s){const c=c1(r);if(c.dc)return void qt("SyncEngine","Ignoring unexpected query state notification.");const p=c.rc.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const C=yield $0(c.localStore,j4(p[0])),z=jo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,m.EMPTY_BYTE_STRING);yield x4(c,C,z);break}case"rejected":yield R3(c.localStore,e,!0),H3(c,e,s);break;default:l1()}}),ol.apply(this,arguments)}function al(r,e,t){return uc.apply(this,arguments)}function uc(){return uc=(0,He.Z)(function*(r,e,t){const s=dc(r);if(s.dc){for(const c of e){if(s.rc.has(c)){qt("SyncEngine","Adding an already active target "+c);continue}const p=yield t8(s.localStore,c),C=yield n0(s.localStore,p);yield Q5(s,p0(p),C.targetId,!1,C.resumeToken),g6(s.remoteStore,C)}for(const c of t)s.rc.has(c)&&(yield R3(s.localStore,c,!1).then(()=>{Ko(s.remoteStore,c),H3(s,c)}).catch(Gs))}}),uc.apply(this,arguments)}function dc(r){const e=c1(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G7.bind(null,e),e.sc.Wo=Y5.bind(null,e.eventManager),e.sc.wc=j7.bind(null,e.eventManager),e}function fc(r){const e=c1(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=il.bind(null,e),e}class u4{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,He.Z)(function*(){t.yt=m6(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Xc(this.persistence,new Qc,e.initialUser,this.yt)}yc(e){return new D5(B0.Bs,this.yt)}gc(e){return new r8}terminate(){var e=this;return(0,He.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class m0 extends u4{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,He.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield fc(s.Ac.syncEngine),yield y6(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Xc(this.persistence,new Qc,e.initialUser,this.yt)}Tc(e,t){return new Kc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new $s(t,this.persistence);return new xr(e.asyncQueue,s)}yc(e){const t=Jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new U0(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,s8(),Y0(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new r8}}class hc extends m0{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,He.Z)(function*(){yield t().call(s,e);const c=s.Ac.syncEngine;s.sharedClientState instanceof i8&&(s.sharedClientState.syncEngine={Fr:K7.bind(null,c),$r:k8.bind(null,c),Br:al.bind(null,c),vi:N9.bind(null,c),Mr:q7.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var p=(0,He.Z)(function*(C){yield function Y7(r,e){return R8.apply(this,arguments)}(s.Ac.syncEngine,C),s.gcScheduler&&(C&&!s.gcScheduler.started?s.gcScheduler.start():C||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(C&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():C||s.indexBackfillerScheduler.stop())});return function(C){return p.apply(this,arguments)}}())})()}gc(e){const t=s8();if(!i8.C(t))throw new jt(bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new i8(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class F3{initialize(e,t){var s=this;return(0,He.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>T8(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=z8.bind(null,s.syncEngine),yield q5(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new U7}createDatastore(e){const t=m6(e.databaseInfo.databaseId),s=new k7(e.databaseInfo);return new P7(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,p=z=>T8(this.syncEngine,z,0),C=P5.C()?new P5:new L7,new H5(t,s,c,p,C);var t,s,c,p,C}createSyncEngine(e,t){return function(s,c,p,C,z,Z,Q){const ue=new J5(s,c,p,C,z,Z);return Q&&(ue.dc=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,He.Z)(function*(t){const s=c1(t);qt("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield k3(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function V8(r,e,t){if(!t)throw new jt(bt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function pc(r,e,t,s){if(!0===e&&!0===s)throw new jt(bt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function H8(r){if(!e1.isDocumentKey(r))throw new jt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cl(r){if(e1.isDocumentKey(r))throw new jt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mc(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":l1()}function g2(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new jt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mc(r);throw new jt(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function ll(r,e){if(e<=0)throw new jt(bt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const J7=new Map;class ul{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new jt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ul({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new jt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new jt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ul(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zo;switch(t.type){case"gapi":return new eo(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new jt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=J7.get(e);t&&(qt("ComponentProvider","Removing Datastore"),J7.delete(e),t.terminate())}(this),Promise.resolve()}}class Er{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class Ys{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Fa extends Ys{constructor(e,t,s){super(e,t,ks(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new e1(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function vc(r,e,...t){if(r=(0,tt.m9)(r),V8("collection","path",e),r instanceof gc){const s=Sn.fromString(e,...t);return cl(s),new Fa(r,null,s)}{if(!(r instanceof Er||r instanceof Fa))throw new jt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Sn.fromString(e,...t));return cl(s),new Fa(r.firestore,null,s)}}function w6(r,e,...t){if(r=(0,tt.m9)(r),1===arguments.length&&(e=js.R()),V8("doc","path",e),r instanceof gc){const s=Sn.fromString(e,...t);return H8(s),new Er(r,null,new e1(s))}{if(!(r instanceof Er||r instanceof Fa))throw new jt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Sn.fromString(e,...t));return H8(s),new Er(r.firestore,r instanceof Fa?r.converter:null,new e1(s))}}function fl(r,e){return r=(0,tt.m9)(r),e=(0,tt.m9)(e),(r instanceof Er||r instanceof Fa)&&(e instanceof Er||e instanceof Fa)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function F8(r,e){return r=(0,tt.m9)(r),e=(0,tt.m9)(e),r instanceof Ys&&e instanceof Ys&&r.firestore===e.firestore&&ti(r._query,e._query)&&r.converter===e.converter}function hl(r,e=10240){let t=0;return{read:()=>(0,He.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,He.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class X7{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new G2,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,He.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,He.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),c=Number(s);isNaN(c)&&e.Dc(`length string (${s}) is not valid number`);const p=yield e.Cc(c);return new C6(JSON.parse(p),t.length+c)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,He.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,He.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class I9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,He.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new jt(bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,He.Z)(function*(p,C){const z=c1(p),Z=Xa(z.yt)+"/documents",Q={documents:C.map(Ut=>la(z.yt,Ut))},ue=yield z._o("BatchGetDocuments",Z,Q,C.length),ke=new Map;ue.forEach(Ut=>{const Kt=function N(r,e){return"found"in e?function(t,s){C1(!!s.found);const c=mo(t,s.found.name),p=Si(s.found.updateTime),C=s.found.createTime?Si(s.found.createTime):P1.min(),z=new Is({mapValue:{fields:s.found.fields}});return Xi.newFoundDocument(c,p,C,z)}(r,e):"missing"in e?function(t,s){C1(!!s.missing),C1(!!s.readTime);const c=mo(t,s.missing),p=Si(s.readTime);return Xi.newNoDocument(c,p)}(r,e):l1()}(z.yt,Ut);ke.set(Kt.key.toString(),Kt)});const pt=[];return C.forEach(Ut=>{const Kt=ke.get(Ut.toString());C1(!!Kt),pt.push(Kt)}),pt}),function(p,C){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,He.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const p=e1.fromPath(c);e.mutations.push(new M3(p,e.precondition(p)))}),yield(s=(0,He.Z)(function*(c,p){const C=c1(c),z=Xa(C.yt)+"/documents",Z={writes:p.map(Q=>ae(C.yt,Q))};yield C.ao("Commit",z,Z)}),function(c,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw l1();t=P1.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new jt(bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(P1.min())?er.exists(!1):er.updateTime(t):er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(P1.min()))throw new jt(bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(t)}return er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class g0{constructor(e,t,s,c,p){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=p,this.kc=s.maxAttempts,this.xo=new J0(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,He.Z)(function*(){const t=new I9(e.datastore),s=e.Mc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.Fc(p)}))}).catch(c=>{e.Fc(c)})}))}Mc(e){try{const t=this.updateFunction(e);return!ne(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Na(t)}return!1}}class eu{constructor(e,t,s,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=zi.UNAUTHENTICATED,this.clientId=js.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var C=(0,He.Z)(function*(z){qt("FirestoreClient","Received user=",z.uid),yield p.authCredentialListener(z),p.user=z});return function(z){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(s,C=>(qt("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}getConfiguration(){var e=this;return(0,He.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new jt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new G2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=_6(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function pl(r,e){return v0.apply(this,arguments)}function v0(){return v0=(0,He.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var c=(0,He.Z)(function*(p){s.isEqual(p)||(yield N5(e.localStore,p),s=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),v0.apply(this,arguments)}function ml(r,e){return ma.apply(this,arguments)}function ma(){return ma=(0,He.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield U3(r);qt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(c=>B7(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,p)=>B7(e.remoteStore,p)),r.onlineComponents=e}),ma.apply(this,arguments)}function U3(r){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,He.Z)(function*(r){return r.offlineComponents||(qt("FirestoreClient","Using default OfflineComponentProvider"),yield pl(r,new u4)),r.offlineComponents}),Bs.apply(this,arguments)}function d4(r){return D6.apply(this,arguments)}function D6(){return D6=(0,He.Z)(function*(r){return r.onlineComponents||(qt("FirestoreClient","Using default OnlineComponentProvider"),yield ml(r,new F3)),r.onlineComponents}),D6.apply(this,arguments)}function Yo(r){return U3(r).then(e=>e.persistence)}function E6(r){return U3(r).then(e=>e.localStore)}function t3(r){return d4(r).then(e=>e.remoteStore)}function n3(r){return d4(r).then(e=>e.syncEngine)}function Ba(r){return r3.apply(this,arguments)}function r3(){return r3=(0,He.Z)(function*(r){const e=yield d4(r),t=e.eventManager;return t.onListen=w8.bind(null,e.syncEngine),t.onUnlisten=X5.bind(null,e.syncEngine),t}),r3.apply(this,arguments)}function G3(r,e,t={}){const s=new G2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(c,p,C,z,Z){const Q=new yc({next:ke=>{p.enqueueAndForget(()=>g8(c,ue));const pt=ke.docs.has(C);!pt&&ke.fromCache?Z.reject(new jt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):pt&&ke.fromCache&&z&&"server"===z.source?Z.reject(new jt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Z.resolve(ke)},error:ke=>Z.reject(ke)}),ue=new b6(ks(C.path),Q,{includeMetadataChanges:!0,Nu:!0});return l4(c,ue)}(yield Ba(r),r.asyncQueue,e,t,s)})),s.promise}function B8(r,e,t={}){const s=new G2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(c,p,C,z,Z){const Q=new yc({next:ke=>{p.enqueueAndForget(()=>g8(c,ue)),ke.fromCache&&"server"===z.source?Z.reject(new jt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Z.resolve(ke)},error:ke=>Z.reject(ke)}),ue=new b6(C,Q,{includeMetadataChanges:!0,Nu:!0});return l4(c,ue)}(yield Ba(r),r.asyncQueue,e,t,s)})),s.promise}class bl{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new J0(this,"async_queue_retry"),this.Wc=()=>{const t=Y0();t&&qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Y0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Y0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new G2;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,He.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Os(t))throw t;qt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,gi("INTERNAL UNHANDLED ERROR: ",function(p){let C=p.message||"";return p.stack&&(C=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),C}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=c0.createAndSchedule(this,e,t,s,p=>this.Yc(p));return this.Uc.push(c),c}zc(){this.Kc&&l1()}verifyOperationInProgress(){}Xc(){var e=this;return(0,He.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function bc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(r)}class Cl{constructor(){this._progressObserver={},this._taskCompletionResolver=new G2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends gc{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new bl,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||U8(this),this._firestoreClient.terminate()}}function ps(r){return r._firestoreClient||U8(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function U8(r){var e;const t=r._freezeSettings(),s=(p=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new A(r._databaseId,p,r._persistenceKey,(z=t).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,z.useFetchStreams));var p,z;r._firestoreClient=new eu(r._authCredentials,r._appCheckCredentials,r._queue,s)}function wl(r,e,t){const s=new G2;return r.asyncQueue.enqueue((0,He.Z)(function*(){try{yield pl(r,t),yield ml(r,e),s.resolve()}catch(c){const p=c;if(!("FirebaseError"===(C=p).name?C.code===bt.FAILED_PRECONDITION||C.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw p;as("Error enabling offline persistence. Falling back to persistence disabled: "+p),s.reject(p)}var C})).then(()=>s.promise)}function W8(r){if(r._initialized||r._terminated)throw new jt(bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(m.fromBase64String(e))}catch(t){throw new jt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ga(m.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class f4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new jt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class z4{constructor(e){this._methodName=e}}class A6{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new jt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new jt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X1(this._lat,e._lat)||X1(this._long,e._long)}}const ru=/^__.*__$/;class Sl{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ya(e,this.data,t,this.fieldTransforms)}}class q8{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function K8(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw l1()}}class y0{constructor(e,t,s,c,p,C){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=c,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=C||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.ua(e),c}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return C0(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(K8(this.sa)&&ru.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class su{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||m6(e)}da(e,t,s,c=!1){return new y0({sa:e,methodName:t,fa:s,path:Fn.emptyPath(),oa:!1,la:c},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function s3(r){const e=r._freezeSettings(),t=m6(r._databaseId);return new su(r._databaseId,!!e.ignoreUndefinedProperties,t)}function _0(r,e,t,s,c,p={}){const C=r.da(p.merge||p.mergeFields?2:0,e,t,c);Q8("Data must be an object, but it was:",C,s);const z=ou(s,C);let Z,Q;if(p.merge)Z=new Zs(C.fieldMask),Q=C.fieldTransforms;else if(p.mergeFields){const ue=[];for(const ke of p.mergeFields){const pt=Sc(e,ke,t);if(!C.contains(pt))throw new jt(bt.INVALID_ARGUMENT,`Field '${pt}' is specified in your field mask but missing from your input data.`);Il(ue,pt)||ue.push(pt)}Z=new Zs(ue),Q=C.fieldTransforms.filter(ke=>Z.covers(ke.field))}else Z=null,Q=C.fieldTransforms;return new Sl(new Is(z),Z,Q)}class $3 extends z4{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $3}}function b0(r,e,t){return new y0({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class wc extends z4{_toFieldTransform(e){return new Da(e.path,new Vo)}isEqual(e){return e instanceof wc}}class Tl extends z4{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=b0(this,e,!0),s=this._a.map(p=>o3(p,t)),c=new io(s);return new Da(e.path,c)}isEqual(e){return this===e}}class Y8 extends z4{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=b0(this,e,!0),s=this._a.map(p=>o3(p,t)),c=new Ws(s);return new Da(e.path,c)}isEqual(e){return this===e}}class Nl extends z4{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Fo(e.yt,na(e.yt,this.wa));return new Da(e.path,t)}isEqual(e){return this===e}}function Dc(r,e,t,s){const c=r.da(1,e,t);Q8("Data must be an object, but it was:",c,s);const p=[],C=Is.empty();R(s,(Z,Q)=>{const ue=Xr(e,Z,t);Q=(0,tt.m9)(Q);const ke=c.ca(ue);if(Q instanceof $3)p.push(ue);else{const pt=o3(Q,ke);null!=pt&&(p.push(ue),C.set(ue,pt))}});const z=new Zs(p);return new q8(C,z,c.fieldTransforms)}function Ec(r,e,t,s,c,p){const C=r.da(1,e,t),z=[Sc(e,s,t)],Z=[c];if(p.length%2!=0)throw new jt(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pt=0;pt<p.length;pt+=2)z.push(Sc(e,p[pt])),Z.push(p[pt+1]);const Q=[],ue=Is.empty();for(let pt=z.length-1;pt>=0;--pt)if(!Il(Q,z[pt])){const Ut=z[pt];let Kt=Z[pt];Kt=(0,tt.m9)(Kt);const k1=C.ca(Ut);if(Kt instanceof $3)Q.push(Ut);else{const un=o3(Kt,k1);null!=un&&(Q.push(Ut),ue.set(Ut,un))}}const ke=new Zs(Q);return new q8(ue,ke,C.fieldTransforms)}function J8(r,e,t,s=!1){return o3(t,r.da(s?4:3,e))}function o3(r,e){if(Al(r=(0,tt.m9)(r)))return Q8("Unsupported field value:",e,r),ou(r,e);if(r instanceof z4)return function(t,s){if(!K8(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const c=[];let p=0;for(const C of t){let z=o3(C,s.aa(p));null==z&&(z={nullValue:"NULL_VALUE"}),c.push(z),p++}return{arrayValue:{values:c}}}(r,e)}return function(t,s){if(null===(t=(0,tt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return na(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=D2.fromDate(t);return{timestampValue:za(s.yt,c)}}if(t instanceof D2){const c=new D2(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:za(s.yt,c)}}if(t instanceof A6)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ga)return{bytesValue:po(s.yt,t._byteString)};if(t instanceof Er){const c=s.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw s.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:La(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${mc(t)}`)}(r,e)}function ou(r,e){const t={};return j(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):R(r,(s,c)=>{const p=o3(c,e.ra(s));null!=p&&(t[s]=p)}),{mapValue:{fields:t}}}function Al(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof D2||r instanceof A6||r instanceof ga||r instanceof Er||r instanceof z4)}function Q8(r,e,t){if(!Al(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=mc(t);throw e.ha("an object"===s?r+" a custom object":r+" "+s)}var s}function Sc(r,e,t){if((e=(0,tt.m9)(e))instanceof f4)return e._internalPath;if("string"==typeof e)return Xr(r,e);throw C0("Field path arguments must be of type string or ",r,!1,void 0,t)}const au=new RegExp("[~\\*/\\[\\]]");function Xr(r,e,t){if(e.search(au)>=0)throw C0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new f4(...e.split("."))._internalPath}catch{throw C0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function C0(r,e,t,s,c){const p=s&&!s.isEmpty(),C=void 0!==c;let z=`Function ${e}() called with invalid data`;t&&(z+=" (via `toFirestore()`)"),z+=". ";let Z="";return(p||C)&&(Z+=" (found",p&&(Z+=` in field ${s}`),C&&(Z+=` in document ${c}`),Z+=")"),new jt(bt.INVALID_ARGUMENT,z+r+Z)}function Il(r,e){return r.some(t=>t.isEqual(e))}class M0{constructor(e,t,s,c,p){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xl extends M0{data(){return super.data()}}function Tc(r,e){return"string"==typeof e?Xr(r,e):e instanceof f4?e._internalPath:e._delegate._internalPath}function X8(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new jt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nc{}class h4 extends Nc{}function a3(r,e,...t){let s=[];e instanceof Nc&&s.push(e),s=s.concat(t),function(c){const p=c.filter(z=>z instanceof I6).length,C=c.filter(z=>z instanceof w0).length;if(p>1||p>0&&C>0)throw new jt(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)r=c._apply(r);return r}class w0 extends h4{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new w0(e,t,s)}_apply(e){const t=this._parse(e);return Ac(e._query,t),new Ys(e.firestore,e.converter,X3(e._query,t))}_parse(e){const t=s3(e.firestore);return function(c,p,C,z,Z,Q,ue){let ke;if(Z.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){Vl(ue,Q);const pt=[];for(const Ut of ue)pt.push(Pl(z,c,Ut));ke={arrayValue:{values:pt}}}else ke=Pl(z,c,ue)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||Vl(ue,Q),ke=J8(C,"where",ue,"in"===Q||"not-in"===Q);return Ht.create(Z,Q,ke)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class I6 extends Nc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I6(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:j1.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let p=s;const C=c.getFlattenedFilters();for(const z of C)Ac(p,z),p=X3(p,z)}(e._query,t),new Ys(e.firestore,e.converter,X3(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class D0 extends h4{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new D0(e,t)}_apply(e){const t=function(s,c,p){if(null!==s.startAt)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Ca(c,p);return function(z,Z){if(null===Q3(z)){const Q=y4(z);null!==Q&&x6(0,Q,Z.field)}}(s,C),C}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(s,c){const p=s.explicitOrderBy.concat([c]);return new ko(s.path,s.collectionGroup,p,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Jo extends h4{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Jo(e,t,s)}_apply(e){return new Ys(e.firestore,e.converter,Ps(e._query,this._limit,this._limitType))}}class Qo extends h4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Qo(e,t,s)}_apply(e){const t=kl(e,this.type,this._docOrFields,this._inclusive);return new Ys(e.firestore,e.converter,(c=t,new ko((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class E0 extends h4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new E0(e,t,s)}_apply(e){const t=kl(e,this.type,this._docOrFields,this._inclusive);return new Ys(e.firestore,e.converter,(c=t,new ko((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function kl(r,e,t,s){if(t[0]=(0,tt.m9)(t[0]),t[0]instanceof M0)return function(c,p,C,z,Z){if(!z)throw new jt(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const Q=[];for(const ue of Po(c))if(ue.field.isKeyField())Q.push(X2(p,z.key));else{const ke=z.data.field(ue.field);if(Oe(ke))throw new jt(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const pt=ue.field.canonicalString();throw new jt(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${pt}' (used as the orderBy) does not exist.`)}Q.push(ke)}return new w1(Q,Z)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const c=s3(r.firestore);return function(p,C,z,Z,Q,ue){const ke=p.explicitOrderBy;if(Q.length>ke.length)throw new jt(bt.INVALID_ARGUMENT,`Too many arguments provided to ${Z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const pt=[];for(let Ut=0;Ut<Q.length;Ut++){const Kt=Q[Ut];if(ke[Ut].field.isKeyField()){if("string"!=typeof Kt)throw new jt(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Z}(), but got a ${typeof Kt}`);if(!v3(p)&&-1!==Kt.indexOf("/"))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Z}() must be a plain document ID, but '${Kt}' contains a slash.`);const k1=p.path.child(Sn.fromString(Kt));if(!e1.isDocumentKey(k1))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Z}() must result in a valid document path, but '${k1}' is not because it contains an odd number of segments.`);const un=new e1(k1);pt.push(X2(C,un))}else{const k1=J8(z,Z,Kt);pt.push(k1)}}return new w1(pt,ue)}(r._query,r.firestore._databaseId,c,e,t,s)}}function Pl(r,e,t){if("string"==typeof(t=(0,tt.m9)(t))){if(""===t)throw new jt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v3(e)&&-1!==t.indexOf("/"))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Sn.fromString(t));if(!e1.isDocumentKey(s))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return X2(r,new e1(s))}if(t instanceof Er)return X2(r,t._key);throw new jt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(t)}.`)}function Vl(r,e){if(!Array.isArray(r)||0===r.length)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new jt(bt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ac(r,e){if(e.isInequality()){const s=y4(r),c=e.field;if(null!==s&&!s.isEqual(c))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const p=Q3(r);null!==p&&x6(0,c,p)}const t=function(s,c){for(const p of s)for(const C of p.getFlattenedFilters())if(c.indexOf(C.op)>=0)return C.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new jt(bt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function x6(r,e,t){if(!t.isEqual(e))throw new jt(bt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ic{convertValue(e,t="none"){switch(on(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Se(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw l1()}}convertObject(e,t){const s={};return R(e.fields,(c,p)=>{s[c]=this.convertValue(p,t)}),s}convertGeoPoint(e){return new A6(ee(e.latitude),ee(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=dt(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(St(e));default:return null}}convertTimestamp(e){const t=B(e);return new D2(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Sn.fromString(e);C1(o6(s));const c=new I(s.get(1),s.get(3)),p=new e1(s.popFirst(5));return c.isEqual(t)||gi(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function xc(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Fl extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}class c3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends M0{constructor(e,t,s,c,p,C){super(e,t,s,c,C),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new S0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Tc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class S0 extends va{data(e={}){return super.data(e)}}class L4{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new c3(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new S0(this._firestore,this._userDataWriter,s.key,s,new c3(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let p=0;return s._snapshot.docChanges.map(C=>({type:"added",doc:new S0(s._firestore,s._userDataWriter,C.doc.key,C.doc,new c3(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:p++}))}{let p=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(C=>c||3!==C.type).map(C=>{const z=new S0(s._firestore,s._userDataWriter,C.doc.key,C.doc,new c3(s._snapshot.mutatedKeys.has(C.doc.key),s._snapshot.fromCache),s.query.converter);let Z=-1,Q=-1;return 0!==C.type&&(Z=p.indexOf(C.doc.key),p=p.delete(C.doc.key)),1!==C.type&&(p=p.add(C.doc),Q=p.indexOf(C.doc.key)),{type:Bl(C.type),doc:z,oldIndex:Z,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Bl(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return l1()}}function zc(r,e){return r instanceof va&&e instanceof va?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof L4&&e instanceof L4&&r._firestore===e._firestore&&F8(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class O4 extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}function t5(r,e,t){r=g2(r,Er);const s=g2(r.firestore,Sr),c=xc(r.converter,e,t);return z6(s,[_0(s3(s),"setDoc",r._key,c,null!==r.converter,t).toMutation(r._key,er.none())])}function n5(r,e,t,...s){r=g2(r,Er);const c=g2(r.firestore,Sr),p=s3(c);let C;return C="string"==typeof(e=(0,tt.m9)(e))||e instanceof f4?Ec(p,"updateDoc",r._key,e,t,s):Dc(p,"updateDoc",r._key,e),z6(c,[C.toMutation(r._key,er.exists(!0))])}function Wl(r,...e){var t,s,c;r=(0,tt.m9)(r);let p={includeMetadataChanges:!1},C=0;"object"!=typeof e[C]||bc(e[C])||(p=e[C],C++);const z={includeMetadataChanges:p.includeMetadataChanges};if(bc(e[C])){const ke=e[C];e[C]=null===(t=ke.next)||void 0===t?void 0:t.bind(ke),e[C+1]=null===(s=ke.error)||void 0===s?void 0:s.bind(ke),e[C+2]=null===(c=ke.complete)||void 0===c?void 0:c.bind(ke)}let Z,Q,ue;if(r instanceof Er)Q=g2(r.firestore,Sr),ue=ks(r._key.path),Z={next:ke=>{e[C]&&e[C](i5(Q,r,ke))},error:e[C+1],complete:e[C+2]};else{const ke=g2(r,Ys);Q=g2(ke.firestore,Sr),ue=ke._query;const pt=new O4(Q);Z={next:Ut=>{e[C]&&e[C](new L4(Q,pt,ke,Ut))},error:e[C+1],complete:e[C+2]},X8(r._query)}return function(ke,pt,Ut,Kt){const k1=new yc(Kt),un=new b6(pt,k1,Ut);return ke.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return l4(yield Ba(ke),un)})),()=>{k1.bc(),ke.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return g8(yield Ba(ke),un)}))}}(ps(Q),ue,z,Z)}function z6(r,e){return function(t,s){const c=new G2;return t.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function el(r,e,t){return oc.apply(this,arguments)}(yield n3(t),s,c)})),c.promise}(ps(r),e)}function i5(r,e,t){const s=t.docs.get(e._key),c=new O4(r);return new va(r,c,e._key,s,new c3(t.hasPendingWrites,t.fromCache),e.converter)}const hu={maxAttempts:5};class ql{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=s3(e)}set(e,t,s){this._verifyNotCommitted();const c=l3(e,this._firestore),p=xc(c.converter,t,s),C=_0(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,s);return this._mutations.push(C.toMutation(c._key,er.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const p=l3(e,this._firestore);let C;return C="string"==typeof(t=(0,tt.m9)(t))||t instanceof f4?Ec(this._dataReader,"WriteBatch.update",p._key,t,s,c):Dc(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(C.toMutation(p._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=l3(e,this._firestore);return this._mutations=this._mutations.concat(new Sa(t._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new jt(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function l3(r,e){if((r=(0,tt.m9)(r)).firestore!==e)throw new jt(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class pu extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=s3(e)}get(e){const t=l3(e,this._firestore),s=new Fl(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return l1();const p=c[0];if(p.isFoundDocument())return new M0(this._firestore,s,p.key,p,t.converter);if(p.isNoDocument())return new M0(this._firestore,s,t._key,null,t.converter);throw l1()})}set(e,t,s){const c=l3(e,this._firestore),p=xc(c.converter,t,s),C=_0(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,s);return this._transaction.set(c._key,C),this}update(e,t,s,...c){const p=l3(e,this._firestore);let C;return C="string"==typeof(t=(0,tt.m9)(t))||t instanceof f4?Ec(this._dataReader,"Transaction.update",p._key,t,s,c):Dc(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,C),this}delete(e){const t=l3(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=l3(e,this._firestore),s=new O4(this._firestore);return super.get(e).then(c=>new va(this._firestore,s,t._key,c._document,new c3(!1,!1),t.converter))}}function Oc(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new jt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function s5(){if(typeof Uint8Array>"u")throw new jt("unimplemented","Uint8Arrays are not available in this environment.")}function o5(){if(!function g(){return typeof atob<"u"}())throw new jt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){ai=s1.SDK_VERSION,(0,s1._registerComponent)(new at.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const p=t.getProvider("app").getImmediate(),C=new Sr(new Xs(t.getProvider("auth-internal")),new Q2(t.getProvider("app-check-internal")),function(z,Z){if(!Object.prototype.hasOwnProperty.apply(z.options,["projectId"]))throw new jt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new I(z.options.projectId,Z)}(p,s),p);return c=Object.assign({useFetchStreams:e},c),C._setSettings(c),C},"PUBLIC").setMultipleInstances(!0)),(0,s1.registerVersion)(ea,"3.8.0",r),(0,s1.registerVersion)(ea,"3.8.0","esm2017")}();class L6{constructor(e){this._delegate=e}static fromBase64String(e){return o5(),new L6(ga.fromBase64String(e))}static fromUint8Array(e){return s5(),new L6(ga.fromUint8Array(e))}toBase64(){return o5(),this._delegate.toBase64()}toUint8Array(){return s5(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function T0(r){return function Jl(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Z3{enableIndexedDbPersistence(e,t){return function j8(r,e){W8(r=g2(r,Sr));const t=ps(r),s=r._freezeSettings(),c=new F3;return wl(t,c,new m0(c,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function G8(r){W8(r=g2(r,Sr));const e=ps(r),t=r._freezeSettings(),s=new F3;return wl(e,s,new hc(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Cc(r){if(r._initialized&&!r._terminated)throw new jt(bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new G2;return r._queue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{yield(t=(0,He.Z)(function*(s){if(!c2.C())return Promise.resolve();const c=s+"main";yield c2.delete(c)}),function(s){return t.apply(this,arguments)})(Jc(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ql{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof I||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&as("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function dl(r,e,t,s={}){var c;const p=(r=g2(r,gc))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&as("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let C,z;if("string"==typeof s.mockUserToken)C=s.mockUserToken,z=zi.MOCK_USER;else{C=(0,tt.Sg)(s.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const Z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Z)throw new jt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");z=new zi(Z)}r._authCredentials=new $2(new Ei(C,z))}}(this._delegate,e,t,s)}enableNetwork(){return function $8(r){return function S6(r){return r.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield Yo(r),t=yield t3(r);return e.setNetworkEnabled(!0),function(s){const c=c1(s);return c._u.delete(0),e3(c)}(t)}))}(ps(r=g2(r,Sr)))}(this._delegate)}disableNetwork(){return function nu(r){return function T6(r){return r.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield Yo(r),t=yield t3(r);return e.setNetworkEnabled(!1),(s=(0,He.Z)(function*(c){const p=c1(c);p._u.add(0),yield k3(p),p.gu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(ps(r=g2(r,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,pc("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Mc(r){return function(e){const t=new G2;return e.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function Z7(r,e){return A8.apply(this,arguments)}(yield n3(e),t)})),t.promise}(ps(r=g2(r,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function fu(r,e){return function vl(r,e){const t=new yc(e);return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return s=yield Ba(r),c=t,c1(s).Ru.add(c),void c.next();var s,c})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return s=yield Ba(r),c=t,void c1(s).Ru.delete(c);var s,c}))}}(ps(r=g2(r,Sr)),bc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new jt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new R4(this,vc(this._delegate,e))}catch(t){throw _o(t,"collection()","Firestore.collection()")}}doc(e){try{return new ya(this,w6(this._delegate,e))}catch(t){throw _o(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bo(this,function Q7(r,e){if(r=g2(r,gc),V8("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jt(bt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ys(r,null,(t=e,new ko(Sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _o(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mu(r,e,t){r=g2(r,Sr);const s=Object.assign(Object.assign({},hu),t);return function(c){if(c.maxAttempts<1)throw new jt(bt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,p,C){const z=new G2;return c.asyncQueue.enqueueAndForget((0,He.Z)(function*(){const Z=yield function j3(r){return d4(r).then(e=>e.datastore)}(c);new g0(c.asyncQueue,Z,C,p,z).run()})),z.promise}(ps(r),c=>e(new pu(r,c)),s)}(this._delegate,t=>e(new wu(this,t)))}batch(){return ps(this._delegate),new kc(new ql(this._delegate,e=>z6(this._delegate,e)))}loadBundle(e){return function Z8(r,e){const t=ps(r=g2(r,Sr)),s=new Cl;return function yl(r,e,t,s){const c=function(p,C){let z;return z="string"==typeof p?(new TextEncoder).encode(p):p,Z=function(Z,Q){if(Z instanceof Uint8Array)return hl(Z,Q);if(Z instanceof ArrayBuffer)return hl(new Uint8Array(Z),Q);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(z),new X7(Z,C);var Z}(t,m6(e));r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){!function P8(r,e,t){const s=c1(r);var c;(c=(0,He.Z)(function*(p,C,z){try{const Z=yield C.getMetadata();if(yield function(pt,Ut){const Kt=c1(pt),k1=Si(Ut.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",un=>Kt.Ns.getBundleMetadata(un,Ut.id)).then(un=>!!un&&un.createTime.compareTo(k1)>=0)}(p.localStore,Z))return yield C.close(),z._completeWith({taskState:"Success",documentsLoaded:(pt=Z).totalDocuments,bytesLoaded:pt.totalBytes,totalDocuments:pt.totalDocuments,totalBytes:pt.totalBytes}),Promise.resolve(new Set);z._updateProgress(sc(Z));const Q=new M6(Z,p.localStore,C.yt);let ue=yield C.mc();for(;ue;){const pt=yield Q.Fu(ue);pt&&z._updateProgress(pt),ue=yield C.mc()}const ke=yield Q.complete();return yield x4(p,ke.Lu,void 0),yield function(pt,Ut){const Kt=c1(pt);return Kt.persistence.runTransaction("Save bundle","readwrite",k1=>Kt.Ns.saveBundleMetadata(k1,Ut))}(p.localStore,Z),z._completeWith(ke.progress),Promise.resolve(ke.Bu)}catch(Z){return as("SyncEngine",`Loading bundle failed with ${Z}`),z._failWith(Z),Promise.resolve(new Set)}var pt}),function(p,C,z){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield n3(r),c,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function El(r,e){return function _l(r,e){return r.asyncQueue.enqueue((0,He.Z)(function*(){return function(t,s){const c=c1(t);return c.persistence.runTransaction("Get named query","readonly",p=>c.Ns.getNamedQuery(p,s))}(yield E6(r),e)}))}(ps(r=g2(r,Sr)),e).then(t=>t?new Ys(r,null,t.query):null)}(this._delegate,e).then(t=>t?new bo(this,t):null)}}class Rc extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new L6(new ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ya.forKey(t,this.firestore,null)}}class wu{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rc(e)}get(e){const t=p4(e);return this._delegate.get(t).then(s=>new N0(this._firestore,new va(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=p4(e);return s?(Oc("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const p=p4(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...c),this}delete(e){const t=p4(e);return this._delegate.delete(t),this}}class kc{constructor(e){this._delegate=e}set(e,t,s){const c=p4(e);return s?(Oc("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const p=p4(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...c),this}delete(e){const t=p4(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class R6{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new S0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A0(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=R6.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let p=c.get(t);return p||(p=new R6(e,new Rc(e),t),c.set(t,p)),p}}R6.INSTANCES=new WeakMap;class ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rc(e)}static forPath(e,t,s){if(e.length%2!=0)throw new jt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ya(t,new Er(t._delegate,s,new e1(e)))}static forKey(e,t,s){return new ya(t,new Er(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new R4(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new R4(this.firestore,vc(this._delegate,e))}catch(t){throw _o(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tt.m9)(e))instanceof Er&&fl(this._delegate,e)}set(e,t){t=Oc("DocumentReference.set",t);try{return t?t5(this._delegate,e,t):t5(this._delegate,e)}catch(s){throw _o(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?n5(this._delegate,e):n5(this._delegate,e,t,...s)}catch(c){throw _o(c,"updateDoc()","DocumentReference.update()")}}delete(){return function uu(r){return z6(g2(r.firestore,Sr),[new Sa(r._key,er.none())])}(this._delegate)}onSnapshot(...e){const t=Du(e),s=Dn(e,c=>new N0(this.firestore,new va(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Wl(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function Ul(r){r=g2(r,Er);const e=g2(r.firestore,Sr),t=ps(e),s=new O4(e);return function N6(r,e){const t=new G2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(s=(0,He.Z)(function*(c,p,C){try{const z=yield function(Z,Q){const ue=c1(Z);return ue.persistence.runTransaction("read document","readonly",ke=>ue.localDocuments.getDocument(ke,Q))}(c,p);z.isFoundDocument()?C.resolve(z):z.isNoDocument()?C.resolve(null):C.reject(new jt(bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(z){const Z=_6(z,`Failed to get document '${p} from cache`);C.reject(Z)}}),function(c,p,C){return s.apply(this,arguments)})(yield E6(r),e,t);var s})),t.promise}(t,r._key).then(c=>new va(e,s,r._key,c,new c3(null!==c&&c.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function jl(r){r=g2(r,Er);const e=g2(r.firestore,Sr);return G3(ps(e),r._key,{source:"server"}).then(t=>i5(e,r,t))}(this._delegate):function Lc(r){r=g2(r,Er);const e=g2(r.firestore,Sr);return G3(ps(e),r._key).then(t=>i5(e,r,t))}(this._delegate),t.then(s=>new N0(this.firestore,new va(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ya(this.firestore,this._delegate.withConverter(e?R6.getInstance(this.firestore,e):null))}}function _o(r,e,t){return r.message=r.message.replace(e,t),r}function Du(r){for(const e of r)if("object"==typeof e&&!T0(e))return e;return{}}function Dn(r,e){var t,s;let c;return c=T0(r[0])?r[0]:T0(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:p=>{c.next&&c.next(e(p))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class N0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zc(this._delegate,e._delegate)}}class A0 extends N0{data(e){const t=this._delegate.data(e);return function Qs(r,e){r||l1()}(void 0!==t),t}}class bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rc(e)}where(e,t,s){try{return new bo(this.firestore,a3(this._delegate,function zl(r,e,t){const s=e,c=Tc("where",r);return w0._create(c,s,t)}(e,t,s)))}catch(c){throw _o(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bo(this.firestore,a3(this._delegate,function e5(r,e="asc"){const t=e,s=Tc("orderBy",r);return D0._create(s,t)}(e,t)))}catch(s){throw _o(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bo(this.firestore,a3(this._delegate,function cu(r){return ll("limit",r),Jo._create("limit",r,"F")}(e)))}catch(t){throw _o(t,"limit()","Query.limit()")}}limitToLast(e){try{return new bo(this.firestore,a3(this._delegate,function Ol(r){return ll("limitToLast",r),Jo._create("limitToLast",r,"L")}(e)))}catch(t){throw _o(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new bo(this.firestore,a3(this._delegate,function Ua(...r){return Qo._create("startAt",r,!0)}(...e)))}catch(t){throw _o(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new bo(this.firestore,a3(this._delegate,function ja(...r){return Qo._create("startAfter",r,!1)}(...e)))}catch(t){throw _o(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new bo(this.firestore,a3(this._delegate,function Rl(...r){return E0._create("endBefore",r,!1)}(...e)))}catch(t){throw _o(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new bo(this.firestore,a3(this._delegate,function lu(...r){return E0._create("endAt",r,!0)}(...e)))}catch(t){throw _o(t,"endAt()","Query.endAt()")}}isEqual(e){return F8(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function $l(r){r=g2(r,Ys);const e=g2(r.firestore,Sr),t=ps(e),s=new O4(e);return function gl(r,e){const t=new G2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(s=(0,He.Z)(function*(c,p,C){try{const z=yield o4(c,p,!0),Z=new b8(p,z.Hi),Q=Z.Wu(z.documents),ue=Z.applyChanges(Q,!1);C.resolve(ue.snapshot)}catch(z){const Z=_6(z,`Failed to execute query '${p} against cache`);C.reject(Z)}}),function(c,p,C){return s.apply(this,arguments)})(yield E6(r),e,t);var s})),t.promise}(t,r._query).then(c=>new L4(e,s,r,c))}(this._delegate):"server"===e?.source?function Zl(r){r=g2(r,Ys);const e=g2(r.firestore,Sr),t=ps(e),s=new O4(e);return B8(t,r._query,{source:"server"}).then(c=>new L4(e,s,r,c))}(this._delegate):function Gl(r){r=g2(r,Ys);const e=g2(r.firestore,Sr),t=ps(e),s=new O4(e);return X8(r._query),B8(t,r._query).then(c=>new L4(e,s,r,c))}(this._delegate),t.then(s=>new a5(this.firestore,new L4(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Du(e),s=Dn(e,c=>new a5(this.firestore,new L4(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Wl(this._delegate,t,s)}withConverter(e){return new bo(this.firestore,this._delegate.withConverter(e?R6.getInstance(this.firestore,e):null))}}class k6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new A0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class a5{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new A0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new k6(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new A0(this._firestore,s))})}isEqual(e){return zc(this._delegate,e._delegate)}}class R4 extends bo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ya(this.firestore,e):null}doc(e){try{return new ya(this.firestore,void 0===e?w6(this._delegate):w6(this._delegate,e))}catch(t){throw _o(t,"doc()","CollectionReference.doc()")}}add(e){return function du(r,e){const t=g2(r.firestore,Sr),s=w6(r),c=xc(r.converter,e);return z6(t,[_0(s3(r.firestore),"addDoc",s._key,c,null!==r.converter,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new ya(this.firestore,t))}isEqual(e){return fl(this._delegate,e._delegate)}withConverter(e){return new R4(this.firestore,this._delegate.withConverter(e?R6.getInstance(this.firestore,e):null))}}function p4(r){return g2(r,Er)}class Rr{constructor(...e){this._delegate=new f4(...e)}static documentId(){return new Rr(Fn.keyField().canonicalString())}isEqual(e){return(e=(0,tt.m9)(e))instanceof f4&&this._delegate._internalPath.isEqual(e._internalPath)}}class P6{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vu(){return new wc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new P6(e)}static delete(){const e=function gu(){return new $3("deleteField")}();return e._methodName="FieldValue.delete",new P6(e)}static arrayUnion(...e){const t=function yu(...r){return new Tl("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new P6(t)}static arrayRemove(...e){const t=function _u(...r){return new Y8("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new P6(t)}static increment(e){const t=function bu(r){return new Nl("increment",r)}(e);return t._methodName="FieldValue.increment",new P6(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Xl={Firestore:Ql,GeoPoint:A6,Timestamp:D2,Blob:L6,Transaction:wu,WriteBatch:kc,DocumentReference:ya,DocumentSnapshot:N0,Query:bo,QueryDocumentSnapshot:A0,QuerySnapshot:a5,CollectionReference:R4,FieldPath:Rr,FieldValue:P6,setLogLevel:function O6(r){!function vs(r){Yr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function Eu(r){(function e7(r,e){r.INTERNAL.registerComponent(new at.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},Xl)))})(r,(e,t)=>new Ql(e,t,new Z3)),r.registerVersion("@firebase/firestore-compat","0.3.0")}(ot.Z);var k4=F(3385),t7=F(6217),n7=F(9260);function r7(r,e){return function i7(r,e=_.z){return new X.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function c5(r,e){return r7(r,e).pipe((0,pe.U)(t=>({payload:t,type:"query"})))}function u3(r,e){return c5(r,e).pipe((0,de.O)(void 0),he(),(0,pe.U)(([t,s])=>{const c=s.payload.docChanges(),p=c.map(C=>({type:C.type,payload:C}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((C,z)=>{const Z=c.find(ue=>ue.doc.ref.isEqual(C.ref)),Q=t?.payload.docs.find(ue=>ue.ref.isEqual(C.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(C.metadata)||!Z&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(C.metadata)||p.push({type:"modified",payload:{oldIndex:z,newIndex:z,type:"modified",doc:C}})}),p}))}function s7(r,e,t){return u3(r,t).pipe((0,ze.R)((s,c)=>function Tu(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function Pc(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return l5(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return l5(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return l5(r,e.oldIndex,1)}return r}(r,s))}),r}(s,c.map(p=>p.payload),e),[]),(0,it.x)(),(0,pe.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function l5(r,e,t,...s){const c=r.slice();return c.splice(e,t,...s),c}function u5(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class d5{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=u3(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pe.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,de.O)(void 0),he(),(0,st.h)(([s,c])=>c.length>0||!s),(0,pe.U)(([s,c])=>c),Ne.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ze.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=u5(e);return s7(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(e={}){return c5(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ne.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(Ne.iC)}add(e){return this.ref.add(e)}doc(e){return new f5(this.ref.doc(e),this.afs)}}class f5{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:p}=o7(s,t);return new d5(c,p,this.afs)}snapshotChanges(){return function Su(r,e){return r7(r,e).pipe((0,de.O)(void 0),he(),(0,pe.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ie.D)(this.ref.get(e)).pipe(Ne.iC)}}class Nu{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?u3(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,st.h)(t=>t.length>0),Ne.iC):u3(this.query,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ze.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=u5(e);return s7(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(e={}){return c5(this.query,this.afs.schedulers.outsideAngular).pipe((0,pe.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),Ne.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(Ne.iC)}}const V6=new l.OlP("angularfire2.enableFirestorePersistence"),H6=new l.OlP("angularfire2.firestore.persistenceSettings"),Au=new l.OlP("angularfire2.firestore.settings"),Iu=new l.OlP("angularfire2.firestore.use-emulator");function o7(r,e=(t=>t)){return{query:e(r),ref:r}}let h5=(()=>{class r{constructor(t,s,c,p,C,z,Z,Q,ue,ke,pt,Ut,Kt,k1,un,Gi,kr){this.schedulers=Z;const Z2=(0,Ye.on)(t,z,s),Gr=ue;ke&&(0,k4.nw)(Z2,z,pt,Kt,k1,un,Ut,Gi),[this.firestore,this.persistenceEnabled$]=(0,Ye.cc)(`${Z2.name}.firestore`,"AngularFirestore",Z2.name,()=>{const ni=z.runOutsideAngular(()=>Z2.firestore());if(p&&ni.settings(p),Gr&&ni.useEmulator(...Gr),c&&!(0,Gt.PM)(C)){const li=()=>{try{return(0,Ie.D)(ni.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch($r){return typeof console<"u"&&console.warn($r),(0,Te.of)(!1)}};return[ni,z.runOutsideAngular(li)]}return[ni,(0,Te.of)(!1)]},[p,Gr,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:C}=o7(c,s),z=this.schedulers.ngZone.run(()=>p);return new d5(z,C,this)}collectionGroup(t,s){const c=s||(C=>C),p=this.firestore.collectionGroup(t);return new Nu(c(p),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new f5(c,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(l.LFG(Ye.Dh),l.LFG(Ye.xv,8),l.LFG(V6,8),l.LFG(Au,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ne.HU),l.LFG(H6,8),l.LFG(Iu,8),l.LFG(k4.zQ,8),l.LFG(k4.Qv,8),l.LFG(k4.L6,8),l.LFG(k4._Q,8),l.LFG(k4.rT,8),l.LFG(k4.lh,8),l.LFG(k4.f7,8),l.LFG(t7.nm,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),a7=(()=>{class r{constructor(){n7.Z.registerVersion("angularfire",Ne.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:V6,useValue:!0},{provide:H6,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[h5]}),r})()},2011:(r1,Je,F)=>{F.d(Je,{Dh:()=>Re,GT:()=>Ne,cc:()=>st,hO:()=>it,on:()=>he,pX:()=>Te,xv:()=>Ve});var l=F(4650),_=F(9260),X=F(2122);r1=F.hmd(r1);const Ie=["ngOnDestroy"],Te=(ot,He,s1,at={})=>new Proxy(ot,{get:(ht,tt)=>s1.runOutsideAngular(()=>{var Pt;if(ot[tt])return!(null===(Pt=at?.spy)||void 0===Pt)&&Pt.get&&at.spy.get(tt,ot[tt]),ot[tt];if(Ie.indexOf(tt)>-1)return()=>{};const Ct=He.toPromise().then(ce=>{const et=ce&&ce[tt];return"function"==typeof et?et.bind(ce):et&&et.then?et.then(we=>s1.run(()=>we)):s1.run(()=>et)});return new Proxy(()=>{},{get:(ce,et)=>Ct[et],apply:(ce,et,we)=>Ct.then(Le=>{var rt;const Fe=Le&&Le(...we);return!(null===(rt=at?.spy)||void 0===rt)&&rt.apply&&at.spy.apply(tt,we,Fe),Fe})})})}),Ne=(ot,He)=>{He.forEach(s1=>{Object.getOwnPropertyNames(s1.prototype||s1).forEach(at=>{Object.defineProperty(ot.prototype,at,Object.getOwnPropertyDescriptor(s1.prototype||s1,at))})})};class de{constructor(He){return He}}const Re=new l.OlP("angularfire2.app.options"),Ve=new l.OlP("angularfire2.app.name");function he(ot,He,s1){const ht="object"==typeof s1&&s1||{};ht.name=ht.name||"string"==typeof s1&&s1||"[DEFAULT]";const Pt=_.Z.apps.filter(Ct=>Ct&&Ct.name===ht.name)[0]||He.runOutsideAngular(()=>_.Z.initializeApp(ot,ht));try{JSON.stringify(ot)!==JSON.stringify(Pt.options)&&pe("error",`${Pt.name} Firebase App already initialized with different options${r1.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Pt)}const pe=(ot,...He)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ot](...He)},ze={provide:de,useFactory:he,deps:[Re,l.R0b,[new l.FiY,Ve]]};let it=(()=>{class ot{constructor(s1){_.Z.registerVersion("angularfire",X.q4.full,"core"),_.Z.registerVersion("angularfire",X.q4.full,"app-compat"),_.Z.registerVersion("angular",l.q4F.full,s1.toString())}static initializeApp(s1,at){return{ngModule:ot,providers:[{provide:Re,useValue:s1},{provide:Ve,useValue:at}]}}}return ot.\u0275fac=function(s1){return new(s1||ot)(l.LFG(l.Lbi))},ot.\u0275mod=l.oAB({type:ot}),ot.\u0275inj=l.cJS({providers:[ze]}),ot})();function st(ot,He,s1,at,ht){const[,tt,Pt]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===ot)||[];if(tt)return function Ye(ot,He){try{return ot.toString()===He.toString()}catch{return ot===He}}(ht,Pt)||(ft("error",`${He} was already initialized on the ${s1} Firebase App with different settings.${Gt?" You may need to reload as Firebase is not HMR aware.":""}`),ft("warn",{is:ht,was:Pt})),tt;{const Ct=at();return globalThis.\u0275AngularfireInstanceCache.push([ot,Ct,ht]),Ct}}const Gt=!!r1.hot,ft=(ot,...He)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ot](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(r1,Je,F)=>{F.d(Je,{q4:()=>ne,iC:()=>ei,HU:()=>en,vb:()=>p1,JM:()=>St});var l=F(4650),_=F(259),X=F(5861),Ie=F(9681),Te=F(2090),Ne=F(4859),de=F(1877),Re=F(8766);const Ve="@firebase/installations",ze="w:0.6.0",it="FIS_v2",He=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function s1(H){return H instanceof Te.ZR&&H.code.includes("request-failed")}function at({projectId:H}){return`https://firebaseinstallations.googleapis.com/v1/projects/${H}/installations`}function ht(H){return{token:H.token,requestStatus:2,expiresIn:Le(H.expiresIn),creationTime:Date.now()}}function tt(H,G){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,X.Z)(function*(H,G){const ye=(yield G.json()).error;return He.create("request-failed",{requestName:H,serverCode:ye.code,serverMessage:ye.message,serverStatus:ye.status})})).apply(this,arguments)}function Ct({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function ce(H,{refreshToken:G}){const ie=Ct(H);return ie.append("Authorization",function rt(H){return`${it} ${H}`}(G)),ie}function et(H){return we.apply(this,arguments)}function we(){return(we=(0,X.Z)(function*(H){const G=yield H();return G.status>=500&&G.status<600?H():G})).apply(this,arguments)}function Le(H){return Number(H.replace("s","000"))}function Fe(H,G){return zt.apply(this,arguments)}function zt(){return(zt=(0,X.Z)(function*({appConfig:H,heartbeatServiceProvider:G},{fid:ie}){const ye=at(H),Qe=Ct(H),mt=G.getImmediate({optional:!0});if(mt){const Bt=yield mt.getHeartbeatsHeader();Bt&&Qe.append("x-firebase-client",Bt)}const w1={method:"POST",headers:Qe,body:JSON.stringify({fid:ie,authVersion:it,appId:H.appId,sdkVersion:ze})},Lt=yield et(()=>fetch(ye,w1));if(Lt.ok){const Bt=yield Lt.json();return{fid:Bt.fid||ie,registrationStatus:2,refreshToken:Bt.refreshToken,authToken:ht(Bt.authToken)}}throw yield tt("Create Installation",Lt)})).apply(this,arguments)}function Rt(H){return new Promise(G=>{setTimeout(G,H)})}const B1=/^[cdef][\w-]{21}$/;function Vt(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const ie=function x1(H){return function y1(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return B1.test(ie)?ie:""}catch{return""}}function S1(H){return`${H.appName}!${H.appId}`}const T1=new Map;function D1(H,G){const ie=S1(H);dn(ie,G),function Mn(H,G){const ie=function Vn(){return!In&&"BroadcastChannel"in self&&(In=new BroadcastChannel("[Firebase] FID Change"),In.onmessage=H=>{dn(H.data.key,H.data.fid)}),In}();ie&&ie.postMessage({key:H,fid:G}),function Yn(){0===T1.size&&In&&(In.close(),In=null)}()}(ie,G)}function dn(H,G){const ie=T1.get(H);if(ie)for(const ye of ie)ye(G)}let In=null;const Z1="firebase-installations-store";let vn=null;function r2(){return vn||(vn=(0,Re.X3)("firebase-installations-database",1,{upgrade:(H,G)=>{0===G&&H.createObjectStore(Z1)}})),vn}function Wt(H,G){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,X.Z)(function*(H,G){const ie=S1(H),Qe=(yield r2()).transaction(Z1,"readwrite"),mt=Qe.objectStore(Z1),$t=yield mt.get(ie);return yield mt.put(G,ie),yield Qe.done,(!$t||$t.fid!==G.fid)&&D1(H,G.fid),G})).apply(this,arguments)}function Nn(H){return pn.apply(this,arguments)}function pn(){return(pn=(0,X.Z)(function*(H){const G=S1(H),ye=(yield r2()).transaction(Z1,"readwrite");yield ye.objectStore(Z1).delete(G),yield ye.done})).apply(this,arguments)}function N2(H,G){return R2.apply(this,arguments)}function R2(){return(R2=(0,X.Z)(function*(H,G){const ie=S1(H),Qe=(yield r2()).transaction(Z1,"readwrite"),mt=Qe.objectStore(Z1),$t=yield mt.get(ie),w1=G($t);return void 0===w1?yield mt.delete(ie):yield mt.put(w1,ie),yield Qe.done,w1&&(!$t||$t.fid!==w1.fid)&&D1(H,w1.fid),w1})).apply(this,arguments)}function u1(H){return ct.apply(this,arguments)}function ct(){return(ct=(0,X.Z)(function*(H){let G;const ie=yield N2(H.appConfig,ye=>{const Qe=Ae(ye),mt=be(H,Qe);return G=mt.registrationPromise,mt.installationEntry});return""===ie.fid?{installationEntry:yield G}:{installationEntry:ie,registrationPromise:G}})).apply(this,arguments)}function Ae(H){return Yt(H||{fid:Vt(),registrationStatus:0})}function be(H,G){if(0===G.registrationStatus){if(!navigator.onLine)return{installationEntry:G,registrationPromise:Promise.reject(He.create("app-offline"))};const ie={fid:G.fid,registrationStatus:1,registrationTime:Date.now()},ye=function lt(H,G){return Mt.apply(this,arguments)}(H,ie);return{installationEntry:ie,registrationPromise:ye}}return 1===G.registrationStatus?{installationEntry:G,registrationPromise:d1(H)}:{installationEntry:G}}function Mt(){return(Mt=(0,X.Z)(function*(H,G){try{const ie=yield Fe(H,G);return Wt(H.appConfig,ie)}catch(ie){throw s1(ie)&&409===ie.customData.serverCode?yield Nn(H.appConfig):yield Wt(H.appConfig,{fid:G.fid,registrationStatus:0}),ie}})).apply(this,arguments)}function d1(H){return b1.apply(this,arguments)}function b1(){return(b1=(0,X.Z)(function*(H){let G=yield m1(H.appConfig);for(;1===G.registrationStatus;)yield Rt(100),G=yield m1(H.appConfig);if(0===G.registrationStatus){const{installationEntry:ie,registrationPromise:ye}=yield u1(H);return ye||ie}return G})).apply(this,arguments)}function m1(H){return N2(H,G=>{if(!G)throw He.create("installation-not-found");return Yt(G)})}function Yt(H){return function yn(H){return 1===H.registrationStatus&&H.registrationTime+1e4<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function tn(H,G){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,X.Z)(function*({appConfig:H,heartbeatServiceProvider:G},ie){const ye=nn(H,ie),Qe=ce(H,ie),mt=G.getImmediate({optional:!0});if(mt){const Bt=yield mt.getHeartbeatsHeader();Bt&&Qe.append("x-firebase-client",Bt)}const w1={method:"POST",headers:Qe,body:JSON.stringify({installation:{sdkVersion:ze,appId:H.appId}})},Lt=yield et(()=>fetch(ye,w1));if(Lt.ok)return ht(yield Lt.json());throw yield tt("Generate Auth Token",Lt)})).apply(this,arguments)}function nn(H,{fid:G}){return`${at(H)}/${G}/authTokens:generate`}function W1(H){return an.apply(this,arguments)}function an(){return(an=(0,X.Z)(function*(H,G=!1){let ie;const ye=yield N2(H.appConfig,mt=>{if(!V1(mt))throw He.create("not-registered");const $t=mt.authToken;if(!G&&xe($t))return mt;if(1===$t.requestStatus)return ie=f1(H,G),mt;{if(!navigator.onLine)throw He.create("app-offline");const w1=Pe(mt);return ie=L1(H,w1),w1}});return ie?yield ie:ye.authToken})).apply(this,arguments)}function f1(H,G){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,X.Z)(function*(H,G){let ie=yield t1(H.appConfig);for(;1===ie.authToken.requestStatus;)yield Rt(100),ie=yield t1(H.appConfig);const ye=ie.authToken;return 0===ye.requestStatus?W1(H,G):ye})).apply(this,arguments)}function t1(H){return N2(H,G=>{if(!V1(G))throw He.create("not-registered");return function wt(H){return 1===H.requestStatus&&H.requestTime+1e4<Date.now()}(G.authToken)?Object.assign(Object.assign({},G),{authToken:{requestStatus:0}}):G})}function L1(H,G){return E1.apply(this,arguments)}function E1(){return(E1=(0,X.Z)(function*(H,G){try{const ie=yield tn(H,G),ye=Object.assign(Object.assign({},G),{authToken:ie});return yield Wt(H.appConfig,ye),ie}catch(ie){if(!s1(ie)||401!==ie.customData.serverCode&&404!==ie.customData.serverCode){const ye=Object.assign(Object.assign({},G),{authToken:{requestStatus:0}});yield Wt(H.appConfig,ye)}else yield Nn(H.appConfig);throw ie}})).apply(this,arguments)}function V1(H){return void 0!==H&&2===H.registrationStatus}function xe(H){return 2===H.requestStatus&&!function De(H){const G=Date.now();return G<H.creationTime||H.creationTime+H.expiresIn<G+36e5}(H)}function Pe(H){const G={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:G})}function o1(){return(o1=(0,X.Z)(function*(H){const G=H,{installationEntry:ie,registrationPromise:ye}=yield u1(G);return ye?ye.catch(console.error):W1(G).catch(console.error),ie.fid})).apply(this,arguments)}function U1(){return(U1=(0,X.Z)(function*(H,G=!1){const ie=H;return yield cn(ie),(yield W1(ie,G)).token})).apply(this,arguments)}function cn(H){return q1.apply(this,arguments)}function q1(){return(q1=(0,X.Z)(function*(H){const{registrationPromise:G}=yield u1(H);G&&(yield G)})).apply(this,arguments)}function xn(H){return He.create("missing-app-config-values",{valueName:H})}const k2="installations",Rn=H=>{const G=H.getProvider("app").getImmediate(),ie=function Y1(H){if(!H||!H.options)throw xn("App Configuration");if(!H.name)throw xn("App Name");const G=["projectId","apiKey","appId"];for(const ie of G)if(!H.options[ie])throw xn(ie);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(G);return{app:G,appConfig:ie,heartbeatServiceProvider:(0,Ie._getProvider)(G,"heartbeat"),_delete:()=>Promise.resolve()}},A2=H=>{const G=H.getProvider("app").getImmediate(),ie=(0,Ie._getProvider)(G,k2).getImmediate();return{getId:()=>function Ze(H){return o1.apply(this,arguments)}(ie),getToken:Qe=>function n1(H){return U1.apply(this,arguments)}(ie,Qe)}};(function bi(){(0,Ie._registerComponent)(new Ne.wA(k2,Rn,"PUBLIC")),(0,Ie._registerComponent)(new Ne.wA("installations-internal",A2,"PRIVATE"))})(),(0,Ie.registerVersion)(Ve,"0.6.0"),(0,Ie.registerVersion)(Ve,"0.6.0","esm2017");const W2="@firebase/remote-config",p2=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ms{constructor(G,ie,ye,Qe){this.client=G,this.storage=ie,this.storageCache=ye,this.logger=Qe}isCachedDataFresh(G,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ye=Date.now()-ie,Qe=ye<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ye}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${Qe}.`),Qe}fetch(G){var ie=this;return(0,X.Z)(function*(){const[ye,Qe]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(Qe&&ie.isCachedDataFresh(G.cacheMaxAgeMillis,ye))return Qe;G.eTag=Qe&&Qe.eTag;const mt=yield ie.client.fetch(G),$t=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===mt.status&&$t.push(ie.storage.setLastSuccessfulFetchResponse(mt)),yield Promise.all($t),mt})()}}function B2(H=navigator){return H.languages&&H.languages[0]||H.language}class gs{constructor(G,ie,ye,Qe,mt,$t){this.firebaseInstallations=G,this.sdkVersion=ie,this.namespace=ye,this.projectId=Qe,this.apiKey=mt,this.appId=$t}fetch(G){var ie=this;return(0,X.Z)(function*(){const[ye,Qe]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),$t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,w1={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},Lt={sdk_version:ie.sdkVersion,app_instance_id:ye,app_instance_id_token:Qe,app_id:ie.appId,language_code:B2()},Bt={method:"POST",headers:w1,body:JSON.stringify(Lt)},h1=fetch($t,Bt),Ht=new Promise((ar,Ur)=>{G.signal.addEventListener(()=>{const Ui=new Error("The operation was aborted.");Ui.name="AbortError",Ur(Ui)})});let j1;try{yield Promise.race([h1,Ht]),j1=yield h1}catch(ar){let Ur="fetch-client-network";throw"AbortError"===ar?.name&&(Ur="fetch-timeout"),p2.create(Ur,{originalErrorMessage:ar?.message})}let t2=j1.status;const Oi=j1.headers.get("ETag")||void 0;let Cs,S2;if(200===j1.status){let ar;try{ar=yield j1.json()}catch(Ur){throw p2.create("fetch-client-parse",{originalErrorMessage:Ur?.message})}Cs=ar.entries,S2=ar.state}if("INSTANCE_STATE_UNSPECIFIED"===S2?t2=500:"NO_CHANGE"===S2?t2=304:("NO_TEMPLATE"===S2||"EMPTY_CONFIG"===S2)&&(Cs={}),304!==t2&&200!==t2)throw p2.create("fetch-status",{httpStatus:t2});return{status:t2,eTag:Oi,config:Cs}})()}}class je{constructor(G,ie){this.client=G,this.storage=ie}fetch(G){var ie=this;return(0,X.Z)(function*(){const ye=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(G,ye)})()}attemptFetch(G,{throttleEndTimeMillis:ie,backoffCount:ye}){var Qe=this;return(0,X.Z)(function*(){yield function y2(H,G){return new Promise((ie,ye)=>{const Qe=Math.max(G-Date.now(),0),mt=setTimeout(ie,Qe);H.addEventListener(()=>{clearTimeout(mt),ye(p2.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,ie);try{const mt=yield Qe.client.fetch(G);return yield Qe.storage.deleteThrottleMetadata(),mt}catch(mt){if(!function Ke(H){if(!(H instanceof Te.ZR&&H.customData))return!1;const G=Number(H.customData.httpStatus);return 429===G||500===G||503===G||504===G}(mt))throw mt;const $t={throttleEndTimeMillis:Date.now()+(0,Te.$s)(ye),backoffCount:ye+1};return yield Qe.storage.setThrottleMetadata($t),Qe.attemptFetch(G,$t)}})()}}class Xt{constructor(G,ie,ye,Qe,mt){this.app=G,this._client=ie,this._storageCache=ye,this._storage=Qe,this._logger=mt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function z1(H,G){const ie=H.target.error||void 0;return p2.create(G,{originalErrorMessage:ie&&ie?.message})}const Q1="app_namespace_store";class tr{constructor(G,ie,ye,Qe=function $i(){return new Promise((H,G)=>{try{const ie=indexedDB.open("firebase_remote_config",1);ie.onerror=ye=>{G(z1(ye,"storage-open"))},ie.onsuccess=ye=>{H(ye.target.result)},ie.onupgradeneeded=ye=>{0===ye.oldVersion&&ye.target.result.createObjectStore(Q1,{keyPath:"compositeKey"})}}catch(ie){G(p2.create("storage-open",{originalErrorMessage:ie?.message}))}})}()){this.appId=G,this.appName=ie,this.namespace=ye,this.openDbPromise=Qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var ie=this;return(0,X.Z)(function*(){const ye=yield ie.openDbPromise;return new Promise((Qe,mt)=>{const w1=ye.transaction([Q1],"readonly").objectStore(Q1),Lt=ie.createCompositeKey(G);try{const Bt=w1.get(Lt);Bt.onerror=h1=>{mt(z1(h1,"storage-get"))},Bt.onsuccess=h1=>{const Ht=h1.target.result;Qe(Ht?Ht.value:void 0)}}catch(Bt){mt(p2.create("storage-get",{originalErrorMessage:Bt?.message}))}})})()}set(G,ie){var ye=this;return(0,X.Z)(function*(){const Qe=yield ye.openDbPromise;return new Promise((mt,$t)=>{const Lt=Qe.transaction([Q1],"readwrite").objectStore(Q1),Bt=ye.createCompositeKey(G);try{const h1=Lt.put({compositeKey:Bt,value:ie});h1.onerror=Ht=>{$t(z1(Ht,"storage-set"))},h1.onsuccess=()=>{mt()}}catch(h1){$t(p2.create("storage-set",{originalErrorMessage:h1?.message}))}})})()}delete(G){var ie=this;return(0,X.Z)(function*(){const ye=yield ie.openDbPromise;return new Promise((Qe,mt)=>{const w1=ye.transaction([Q1],"readwrite").objectStore(Q1),Lt=ie.createCompositeKey(G);try{const Bt=w1.delete(Lt);Bt.onerror=h1=>{mt(z1(h1,"storage-delete"))},Bt.onsuccess=()=>{Qe()}}catch(Bt){mt(p2.create("storage-delete",{originalErrorMessage:Bt?.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class ii{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,X.Z)(function*(){const ie=G.storage.getLastFetchStatus(),ye=G.storage.getLastSuccessfulFetchTimestampMillis(),Qe=G.storage.getActiveConfig(),mt=yield ie;mt&&(G.lastFetchStatus=mt);const $t=yield ye;$t&&(G.lastSuccessfulFetchTimestampMillis=$t);const w1=yield Qe;w1&&(G.activeConfig=w1)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function Pi(){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,X.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function ri(){(0,Ie._registerComponent)(new Ne.wA("remote-config",function H(G,{instanceIdentifier:ie}){const ye=G.getProvider("app").getImmediate(),Qe=G.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw p2.create("registration-window");if(!(0,Te.hl)())throw p2.create("indexed-db-unavailable");const{projectId:mt,apiKey:$t,appId:w1}=ye.options;if(!mt)throw p2.create("registration-project-id");if(!$t)throw p2.create("registration-api-key");if(!w1)throw p2.create("registration-app-id");const Lt=new tr(w1,ye.name,ie=ie||"firebase"),Bt=new ii(Lt),h1=new de.Yd(W2);h1.logLevel=de.in.ERROR;const Ht=new gs(Qe,Ie.SDK_VERSION,ie,mt,$t,w1),j1=new je(Ht,Lt),t2=new ms(j1,Lt,Bt,h1),Oi=new Xt(ye,t2,Bt,Lt,h1);return function jn(H){const G=(0,Te.m9)(H);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}(Oi),Oi},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(W2,"0.4.0"),(0,Ie.registerVersion)(W2,"0.4.0","esm2017")}();const z2="/firebase-messaging-sw.js",fi="/firebase-cloud-messaging-push-scope",Ai="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nr="google.c.a.c_id",s2="google.c.a.c_l",hr="google.c.a.ts",pr="google.c.a.e";var Mi=(()=>{return(H=Mi||(Mi={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",Mi;var H})();function si(H){const G=new Uint8Array(H);return btoa(String.fromCharCode(...G)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wi(H){const ie=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ye=atob(ie),Qe=new Uint8Array(ye.length);for(let mt=0;mt<ye.length;++mt)Qe[mt]=ye.charCodeAt(mt);return Qe}const Vi="fcm_token_details_db",o2="fcm_token_object_Store";function Ii(H){return ns.apply(this,arguments)}function ns(){return ns=(0,X.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(mt=>mt.name).includes(Vi))return null;let G=null;return(yield(0,Re.X3)(Vi,5,{upgrade:(ye=(0,X.Z)(function*(Qe,mt,$t,w1){var Lt;if(mt<2||!Qe.objectStoreNames.contains(o2))return;const Bt=w1.objectStore(o2),h1=yield Bt.index("fcmSenderId").get(H);if(yield Bt.clear(),h1)if(2===mt){const Ht=h1;if(!Ht.auth||!Ht.p256dh||!Ht.endpoint)return;G={token:Ht.fcmToken,createTime:null!==(Lt=Ht.createTime)&&void 0!==Lt?Lt:Date.now(),subscriptionOptions:{auth:Ht.auth,p256dh:Ht.p256dh,endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:"string"==typeof Ht.vapidKey?Ht.vapidKey:si(Ht.vapidKey)}}}else if(3===mt){const Ht=h1;G={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:si(Ht.auth),p256dh:si(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:si(Ht.vapidKey)}}}else if(4===mt){const Ht=h1;G={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:si(Ht.auth),p256dh:si(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:si(Ht.vapidKey)}}}}),function(mt,$t,w1,Lt){return ye.apply(this,arguments)})})).close(),yield(0,Re.Lj)(Vi),yield(0,Re.Lj)("fcm_vapid_details_db"),yield(0,Re.Lj)("undefined"),d2(G)?G:null;var ye}),ns.apply(this,arguments)}function d2(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:G}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof G.auth&&G.auth.length>0&&"string"==typeof G.p256dh&&G.p256dh.length>0&&"string"==typeof G.endpoint&&G.endpoint.length>0&&"string"==typeof G.swScope&&G.swScope.length>0&&"string"==typeof G.vapidKey&&G.vapidKey.length>0}const oi="firebase-messaging-store";let L2=null;function pi(){return L2||(L2=(0,Re.X3)("firebase-messaging-database",1,{upgrade:(H,G)=>{0===G&&H.createObjectStore(oi)}})),L2}function is(H){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,X.Z)(function*(H){const G=m2(H),ye=yield(yield pi()).transaction(oi).objectStore(oi).get(G);if(ye)return ye;{const Qe=yield Ii(H.appConfig.senderId);if(Qe)return yield An(H,Qe),Qe}})).apply(this,arguments)}function An(H,G){return gr.apply(this,arguments)}function gr(){return(gr=(0,X.Z)(function*(H,G){const ie=m2(H),Qe=(yield pi()).transaction(oi,"readwrite");return yield Qe.objectStore(oi).put(G,ie),yield Qe.done,G})).apply(this,arguments)}function ir(H){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,X.Z)(function*(H){const G=m2(H),ye=(yield pi()).transaction(oi,"readwrite");yield ye.objectStore(oi).delete(G),yield ye.done})).apply(this,arguments)}function m2({appConfig:H}){return H.appId}const e2=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function R1(H,G){return rr.apply(this,arguments)}function rr(){return(rr=(0,X.Z)(function*(H,G){const ie=yield Zi(H),ye=kt(G),Qe={method:"POST",headers:ie,body:JSON.stringify(ye)};let mt;try{mt=yield(yield fetch(vr(H.appConfig),Qe)).json()}catch($t){throw e2.create("token-subscribe-failed",{errorInfo:$t?.toString()})}if(mt.error)throw e2.create("token-subscribe-failed",{errorInfo:mt.error.message});if(!mt.token)throw e2.create("token-subscribe-no-token");return mt.token})).apply(this,arguments)}function xi(H,G){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,X.Z)(function*(H,G){const ie=yield Zi(H),ye=kt(G.subscriptionOptions),Qe={method:"PATCH",headers:ie,body:JSON.stringify(ye)};let mt;try{mt=yield(yield fetch(`${vr(H.appConfig)}/${G.token}`,Qe)).json()}catch($t){throw e2.create("token-update-failed",{errorInfo:$t?.toString()})}if(mt.error)throw e2.create("token-update-failed",{errorInfo:mt.error.message});if(!mt.token)throw e2.create("token-update-no-token");return mt.token})).apply(this,arguments)}function Fi(H,G){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,X.Z)(function*(H,G){const ye={method:"DELETE",headers:yield Zi(H)};try{const mt=yield(yield fetch(`${vr(H.appConfig)}/${G}`,ye)).json();if(mt.error)throw e2.create("token-unsubscribe-failed",{errorInfo:mt.error.message})}catch(Qe){throw e2.create("token-unsubscribe-failed",{errorInfo:Qe?.toString()})}})).apply(this,arguments)}function vr({projectId:H}){return`https://fcmregistrations.googleapis.com/v1/projects/${H}/registrations`}function Zi(H){return mi.apply(this,arguments)}function mi(){return(mi=(0,X.Z)(function*({appConfig:H,installations:G}){const ie=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function kt({p256dh:H,auth:G,endpoint:ie,vapidKey:ye}){const Qe={web:{endpoint:ie,auth:G,p256dh:H}};return ye!==Ai&&(Qe.web.applicationPubKey=ye),Qe}const _n=6048e5;function U2(H){return Di.apply(this,arguments)}function Di(){return(Di=(0,X.Z)(function*(H){const G=yield Ss(H.swRegistration,H.vapidKey),ie={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:G.endpoint,auth:si(G.getKey("auth")),p256dh:si(G.getKey("p256dh"))},ye=yield is(H.firebaseDependencies);if(ye){if($(ye.subscriptionOptions,ie))return Date.now()>=ye.createTime+_n?qr(H,{token:ye.token,createTime:Date.now(),subscriptionOptions:ie}):ye.token;try{yield Fi(H.firebaseDependencies,ye.token)}catch(Qe){console.warn(Qe)}return qi(H.firebaseDependencies,ie)}return qi(H.firebaseDependencies,ie)})).apply(this,arguments)}function a2(H){return xs.apply(this,arguments)}function xs(){return(xs=(0,X.Z)(function*(H){const G=yield is(H.firebaseDependencies);G&&(yield Fi(H.firebaseDependencies,G.token),yield ir(H.firebaseDependencies));const ie=yield H.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()})).apply(this,arguments)}function qr(H,G){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,X.Z)(function*(H,G){try{const ie=yield xi(H.firebaseDependencies,G),ye=Object.assign(Object.assign({},G),{token:ie,createTime:Date.now()});return yield An(H.firebaseDependencies,ye),ie}catch(ie){throw yield a2(H),ie}})).apply(this,arguments)}function qi(H,G){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,X.Z)(function*(H,G){const ye={token:yield R1(H,G),createTime:Date.now(),subscriptionOptions:G};return yield An(H,ye),ye.token})).apply(this,arguments)}function Ss(H,G){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,X.Z)(function*(H,G){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wi(G)})})).apply(this,arguments)}function $(H,G){return G.vapidKey===H.vapidKey&&G.endpoint===H.endpoint&&G.auth===H.auth&&G.p256dh===H.p256dh}function U(H){const G={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function V(H,G){if(!G.notification)return;H.notification={};const ie=G.notification.title;ie&&(H.notification.title=ie);const ye=G.notification.body;ye&&(H.notification.body=ye);const Qe=G.notification.image;Qe&&(H.notification.image=Qe);const mt=G.notification.icon;mt&&(H.notification.icon=mt)}(G,H),function re(H,G){!G.data||(H.data=G.data)}(G,H),function ut(H,G){var ie,ye,Qe,mt,$t;if(!(G.fcmOptions||null!==(ie=G.notification)&&void 0!==ie&&ie.click_action))return;H.fcmOptions={};const w1=null!==(Qe=null===(ye=G.fcmOptions)||void 0===ye?void 0:ye.link)&&void 0!==Qe?Qe:null===(mt=G.notification)||void 0===mt?void 0:mt.click_action;w1&&(H.fcmOptions.link=w1);const Lt=null===($t=G.fcmOptions)||void 0===$t?void 0:$t.analytics_label;Lt&&(H.fcmOptions.analyticsLabel=Lt)}(G,H),G}function M1(H){return"object"==typeof H&&!!H&&Nr in H}function Pn(H,G){const ie=[];for(let ye=0;ye<H.length;ye++)ie.push(H.charAt(ye)),ye<G.length&&ie.push(G.charAt(ye));return ie.join("")}function sr(H){return e2.create("missing-app-config-values",{valueName:H})}Pn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rs{constructor(G,ie,ye){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Qe=function yr(H){if(!H||!H.options)throw sr("App Configuration Object");if(!H.name)throw sr("App Name");const G=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=H;for(const ye of G)if(!ie[ye])throw sr(ye);return{appName:H.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(G);this.firebaseDependencies={app:G,appConfig:Qe,installations:ie,analyticsProvider:ye}}_delete(){return Promise.resolve()}}function ss(H){return os.apply(this,arguments)}function os(){return(os=(0,X.Z)(function*(H){try{H.swRegistration=yield navigator.serviceWorker.register(z2,{scope:fi}),H.swRegistration.update().catch(()=>{})}catch(G){throw e2.create("failed-service-worker-registration",{browserErrorMessage:G?.message})}})).apply(this,arguments)}function Bi(H,G){return Y.apply(this,arguments)}function Y(){return(Y=(0,X.Z)(function*(H,G){if(!G&&!H.swRegistration&&(yield ss(H)),G||!H.swRegistration){if(!(G instanceof ServiceWorkerRegistration))throw e2.create("invalid-sw-registration");H.swRegistration=G}})).apply(this,arguments)}function oe(H,G){return fe.apply(this,arguments)}function fe(){return(fe=(0,X.Z)(function*(H,G){G?H.vapidKey=G:H.vapidKey||(H.vapidKey=Ai)})).apply(this,arguments)}function $e(){return($e=(0,X.Z)(function*(H,G){if(!navigator)throw e2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw e2.create("permission-blocked");return yield oe(H,G?.vapidKey),yield Bi(H,G?.serviceWorkerRegistration),U2(H)})).apply(this,arguments)}function Dt(H,G,ie){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,X.Z)(function*(H,G,ie){const ye=xt(G);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(ye,{message_id:ie[Nr],message_name:ie[s2],message_time:ie[hr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xt(H){switch(H){case Mi.NOTIFICATION_CLICKED:return"notification_open";case Mi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function q(){return(q=(0,X.Z)(function*(H,G){const ie=G.data;if(!ie.isFirebaseMessaging)return;H.onMessageHandler&&ie.messageType===Mi.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(U(ie)):H.onMessageHandler.next(U(ie)));const ye=ie.data;M1(ye)&&"1"===ye[pr]&&(yield Dt(H,ie.messageType,ye))})).apply(this,arguments)}const k="@firebase/messaging",Ce=H=>{const G=new rs(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function L(H,G){return q.apply(this,arguments)}(G,ie)),G},nt=H=>{const G=H.getProvider("messaging").getImmediate();return{getToken:ye=>function _e(H,G){return $e.apply(this,arguments)}(G,ye)}};function a1(){return $1.apply(this,arguments)}function $1(){return($1=(0,X.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yt(){(0,Ie._registerComponent)(new Ne.wA("messaging",Ce,"PUBLIC")),(0,Ie._registerComponent)(new Ne.wA("messaging-internal",nt,"PRIVATE")),(0,Ie.registerVersion)(k,"0.12.0"),(0,Ie.registerVersion)(k,"0.12.0","esm2017")}();const Yi="analytics",br="firebase_id",Br="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Js="https://www.googletagmanager.com/gtag/js",O2=new de.Yd("@firebase/analytics");function Co(H){return Promise.all(H.map(G=>G.catch(ie=>ie)))}function Ga(H,G){const ie=document.createElement("script");ie.src=`${Js}?l=${H}&id=${G}`,ie.async=!0,document.head.appendChild(ie)}function _a(H,G,ie,ye,Qe,mt){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,X.Z)(function*(H,G,ie,ye,Qe,mt){const $t=ye[Qe];try{if($t)yield G[$t];else{const Lt=(yield Co(ie)).find(Bt=>Bt.measurementId===Qe);Lt&&(yield G[Lt.appId])}}catch(w1){O2.error(w1)}H("config",Qe,mt)})).apply(this,arguments)}function oo(H,G,ie,ye,Qe){return zs.apply(this,arguments)}function zs(){return(zs=(0,X.Z)(function*(H,G,ie,ye,Qe){try{let mt=[];if(Qe&&Qe.send_to){let $t=Qe.send_to;Array.isArray($t)||($t=[$t]);const w1=yield Co(ie);for(const Lt of $t){const Bt=w1.find(Ht=>Ht.measurementId===Lt),h1=Bt&&G[Bt.appId];if(!h1){mt=[];break}mt.push(h1)}}0===mt.length&&(mt=Object.values(G)),yield Promise.all(mt),H("event",ye,Qe||{})}catch(mt){O2.error(mt)}})).apply(this,arguments)}function ea(H){const G=window.document.getElementsByTagName("script");for(const ie of Object.values(G))if(ie.src&&ie.src.includes(Js)&&ie.src.includes(H))return ie;return null}const ai=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qt=new class vs{constructor(G={},ie=1e3){this.throttleMetadata=G,this.intervalMillis=ie}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,ie){this.throttleMetadata[G]=ie}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function gi(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function as(H){return ao.apply(this,arguments)}function ao(){return(ao=(0,X.Z)(function*(H){var G;const{appId:ie,apiKey:ye}=H,Qe={method:"GET",headers:gi(ye)},mt=Br.replace("{app-id}",ie),$t=yield fetch(mt,Qe);if(200!==$t.status&&304!==$t.status){let w1="";try{const Lt=yield $t.json();null!==(G=Lt.error)&&void 0!==G&&G.message&&(w1=Lt.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:w1})}return $t.json()})).apply(this,arguments)}function l1(H){return C1.apply(this,arguments)}function C1(){return(C1=(0,X.Z)(function*(H,G=qt,ie){const{appId:ye,apiKey:Qe,measurementId:mt}=H.options;if(!ye)throw ai.create("no-app-id");if(!Qe){if(mt)return{measurementId:mt,appId:ye};throw ai.create("no-api-key")}const $t=G.getThrottleMetadata(ye)||{backoffCount:0,throttleEndTimeMillis:Date.now()},w1=new G2;return setTimeout((0,X.Z)(function*(){w1.abort()}),void 0!==ie?ie:6e4),Qs({appId:ye,apiKey:Qe,measurementId:mt},$t,w1,G)})).apply(this,arguments)}function Qs(H,G,ie){return c1.apply(this,arguments)}function c1(){return(c1=(0,X.Z)(function*(H,{throttleEndTimeMillis:G,backoffCount:ie},ye,Qe=qt){var mt;const{appId:$t,measurementId:w1}=H;try{yield bt(ye,G)}catch(Lt){if(w1)return O2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${w1} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:$t,measurementId:w1};throw Lt}try{const Lt=yield as(H);return Qe.deleteThrottleMetadata($t),Lt}catch(Lt){const Bt=Lt;if(!jt(Bt)){if(Qe.deleteThrottleMetadata($t),w1)return O2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${w1} provided in the "measurementId" field in the local Firebase config. [${Bt?.message}]`),{appId:$t,measurementId:w1};throw Lt}const h1=503===Number(null===(mt=Bt?.customData)||void 0===mt?void 0:mt.httpStatus)?(0,Te.$s)(ie,Qe.intervalMillis,30):(0,Te.$s)(ie,Qe.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+h1,backoffCount:ie+1};return Qe.setThrottleMetadata($t,Ht),O2.debug(`Calling attemptFetch again in ${h1} millis`),Qs(H,Ht,ye,Qe)}})).apply(this,arguments)}function bt(H,G){return new Promise((ie,ye)=>{const Qe=Math.max(G-Date.now(),0),mt=setTimeout(ie,Qe);H.addEventListener(()=>{clearTimeout(mt),ye(ai.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}function jt(H){if(!(H instanceof Te.ZR&&H.customData))return!1;const G=Number(H.customData.httpStatus);return 429===G||500===G||503===G||504===G}class G2{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}let Ei,X1;function $2(){return($2=(0,X.Z)(function*(H,G,ie,ye,Qe){if(Qe&&Qe.global)H("event",ie,ye);else{const mt=yield G;H("event",ie,Object.assign(Object.assign({},ye),{send_to:mt}))}})).apply(this,arguments)}function or(H){X1=H}function So(H){Ei=H}function D2(){return P1.apply(this,arguments)}function P1(){return(P1=(0,X.Z)(function*(){if(!(0,Te.hl)())return O2.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(H){return O2.warn(ai.create("indexeddb-unavailable",{errorInfo:H?.toString()}).message),!1}return!0})).apply(this,arguments)}function Sn(){return(Sn=(0,X.Z)(function*(H,G,ie,ye,Qe,mt,$t){var w1;const Lt=l1(H);Lt.then(t2=>{ie[t2.measurementId]=t2.appId,H.options.measurementId&&t2.measurementId!==H.options.measurementId&&O2.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${t2.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t2=>O2.error(t2)),G.push(Lt);const Bt=D2().then(t2=>{if(t2)return ye.getId()}),[h1,Ht]=yield Promise.all([Lt,Bt]);ea(mt)||Ga(mt,h1.measurementId),X1&&(Qe("consent","default",X1),or(void 0)),Qe("js",new Date);const j1=null!==(w1=$t?.config)&&void 0!==w1?w1:{};return j1.origin="firebase",j1.update=!0,null!=Ht&&(j1[br]=Ht),Qe("config",h1.measurementId,j1),Ei&&(Qe("set",Ei),So(void 0)),h1.measurementId})).apply(this,arguments)}class co{constructor(G){this.app=G}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},e1=[];const Ts={};let _s,ls,ys="dataLayer",us=!1;function ta(H,G,ie){!function lo(){const H=[];if((0,Te.ru)()&&H.push("This is a browser extension environment."),(0,Te.zI)()||H.push("Cookies are not available."),H.length>0){const G=H.map((ye,Qe)=>`(${Qe+1}) ${ye}`).join(" "),ie=ai.create("invalid-analytics-context",{errorInfo:G});O2.warn(ie.message)}}();const ye=H.options.appId;if(!ye)throw ai.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw ai.create("no-api-key");O2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[ye])throw ai.create("already-exists",{id:ye});if(!us){!function so(H){let G=[];Array.isArray(window[H])?G=window[H]:window[H]=G}(ys);const{wrappedGtag:mt,gtagCore:$t}=function wo(H,G,ie,ye,Qe){let mt=function(...$t){window[ye].push(arguments)};return window[Qe]&&"function"==typeof window[Qe]&&(mt=window[Qe]),window[Qe]=function Us(H,G,ie,ye){function mt(){return(mt=(0,X.Z)(function*($t,w1,Lt){try{"event"===$t?yield oo(H,G,ie,w1,Lt):"config"===$t?yield _a(H,G,ie,ye,w1,Lt):"consent"===$t?H("consent","update",Lt):H("set",w1)}catch(Bt){O2.error(Bt)}})).apply(this,arguments)}return function Qe($t,w1,Lt){return mt.apply(this,arguments)}}(mt,H,G,ie),{gtagCore:mt,wrappedGtag:window[Qe]}}(Fn,e1,Ts,ys,"gtag");ls=mt,_s=$t,us=!0}return Fn[ye]=function Kn(H,G,ie,ye,Qe,mt,$t){return Sn.apply(this,arguments)}(H,e1,Ts,G,_s,ys,ie),new co(H)}function ba(){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,X.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const Os="@firebase/analytics";!function Li(){(0,Ie._registerComponent)(new Ne.wA(Yi,(G,{options:ie})=>ta(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),ie),"PUBLIC")),(0,Ie._registerComponent)(new Ne.wA("analytics-internal",function H(G){try{const ie=G.getProvider(Yi).getImmediate();return{logEvent:(ye,Qe,mt)=>function to(H,G,ie,ye){H=(0,Te.m9)(H),function zo(H,G,ie,ye,Qe){return $2.apply(this,arguments)}(ls,Fn[H.app.options.appId],G,ie,ye).catch(Qe=>O2.error(Qe))}(ie,ye,Qe,mt)}}catch(ie){throw ai.create("interop-component-reg-failed",{reason:ie})}},"PRIVATE")),(0,Ie.registerVersion)(Os,"0.9.0"),(0,Ie.registerVersion)(Os,"0.9.0","esm2017")}();var Ir=F(4408),xr=F(7565);const Mr=new class $s extends xr.v{}(class no extends Ir.o{constructor(G,ie){super(G,ie),this.scheduler=G,this.work=ie}schedule(G,ie=0){return ie>0?super.schedule(G,ie):(this.delay=ie,this.state=G,this.scheduler.flush(this),this)}execute(G,ie){return ie>0||this.closed?super.execute(G,ie):this._execute(G,ie)}requestAsyncId(G,ie,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(G,ie,ye):(G.flush(this),0)}});var I=F(4986),S=F(8505),R=F(9468),j=F(5363);const ne=new l.GfV("7.5.0"),ve="__angularfire_symbol__analyticsIsSupportedValue",D="__angularfire_symbol__analyticsIsSupported",g="__angularfire_symbol__remoteConfigIsSupportedValue",m="__angularfire_symbol__remoteConfigIsSupported",T="__angularfire_symbol__messagingIsSupportedValue",B="__angularfire_symbol__messagingIsSupported";function St(H,G,ie){if(G){if(1===G.length)return G[0];const mt=G.filter($t=>$t.app===ie);if(1===mt.length)return mt[0]}return ie.container.getProvider(H).getImmediate({optional:!0})}globalThis[D]||(globalThis[D]=ba().then(H=>globalThis[ve]=H).catch(()=>globalThis[ve]=!1)),globalThis[B]||(globalThis[B]=a1().then(H=>globalThis[T]=H).catch(()=>globalThis[T]=!1)),globalThis[m]||(globalThis[m]=Pi().then(H=>globalThis[g]=H).catch(()=>globalThis[g]=!1));const p1=(H,G)=>{const ie=G?[G]:(0,_.C6)(),ye=[];return ie.forEach(Qe=>{Qe.container.getProvider(H).instances.forEach($t=>{ye.includes($t)||ye.push($t)})}),ye};function _1(){}class on{constructor(G,ie=Mr){this.zone=G,this.delegate=ie}now(){return this.delegate.now()}schedule(G,ie,ye){const Qe=this.zone;return this.delegate.schedule(function($t){Qe.runGuarded(()=>{G.apply(this,[$t])})},ie,ye)}}class fn{constructor(G){this.zone=G,this.task=null}call(G,ie){const ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_1,{},_1,_1)),ie.pipe((0,S.b)({next:ye,complete:ye,error:ye})).subscribe(G).add(ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let en=(()=>{class H{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new on(Zone.current)),this.insideAngular=ie.run(()=>new on(Zone.current,I.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function(ie){return new(ie||H)(l.LFG(l.R0b))},H.\u0275prov=l.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function K1(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function ei(H){return K1(),function Rs(H){return function(ie){return(ie=ie.lift(new fn(H.ngZone))).pipe((0,R.R)(H.outsideAngular),(0,j.Q)(H.insideAngular))}}(K1())(H)}},2090:(r1,Je,F)=>{F.d(Je,{$s:()=>t1,BH:()=>O1,G6:()=>tt,L:()=>Re,LL:()=>T1,Pz:()=>B1,Sg:()=>Vt,UG:()=>Ye,US:()=>Ne,ZB:()=>pe,ZR:()=>S1,aH:()=>y1,b$:()=>ot,eu:()=>Ct,hl:()=>Pt,jU:()=>Gt,m9:()=>V1,ne:()=>ct,pd:()=>R2,r3:()=>Jn,ru:()=>ft,tV:()=>Ve,uI:()=>st,vZ:()=>Wt,w1:()=>s1,xO:()=>pn,xb:()=>vn,z$:()=>it,zI:()=>ce,zd:()=>N2});const Ie=function(xe){const De=[];let Pe=0;for(let wt=0;wt<xe.length;wt++){let Ze=xe.charCodeAt(wt);Ze<128?De[Pe++]=Ze:Ze<2048?(De[Pe++]=Ze>>6|192,De[Pe++]=63&Ze|128):55296==(64512&Ze)&&wt+1<xe.length&&56320==(64512&xe.charCodeAt(wt+1))?(Ze=65536+((1023&Ze)<<10)+(1023&xe.charCodeAt(++wt)),De[Pe++]=Ze>>18|240,De[Pe++]=Ze>>12&63|128,De[Pe++]=Ze>>6&63|128,De[Pe++]=63&Ze|128):(De[Pe++]=Ze>>12|224,De[Pe++]=Ze>>6&63|128,De[Pe++]=63&Ze|128)}return De},Ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,De){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Pe=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,wt=[];for(let Ze=0;Ze<xe.length;Ze+=3){const o1=xe[Ze],n1=Ze+1<xe.length,U1=n1?xe[Ze+1]:0,cn=Ze+2<xe.length,q1=cn?xe[Ze+2]:0;let le=(15&U1)<<2|q1>>6,We=63&q1;cn||(We=64,n1||(le=64)),wt.push(Pe[o1>>2],Pe[(3&o1)<<4|U1>>4],Pe[le],Pe[We])}return wt.join("")},encodeString(xe,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(xe):this.encodeByteArray(Ie(xe),De)},decodeString(xe,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(xe):function(xe){const De=[];let Pe=0,wt=0;for(;Pe<xe.length;){const Ze=xe[Pe++];if(Ze<128)De[wt++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){const o1=xe[Pe++];De[wt++]=String.fromCharCode((31&Ze)<<6|63&o1)}else if(Ze>239&&Ze<365){const cn=((7&Ze)<<18|(63&xe[Pe++])<<12|(63&xe[Pe++])<<6|63&xe[Pe++])-65536;De[wt++]=String.fromCharCode(55296+(cn>>10)),De[wt++]=String.fromCharCode(56320+(1023&cn))}else{const o1=xe[Pe++],n1=xe[Pe++];De[wt++]=String.fromCharCode((15&Ze)<<12|(63&o1)<<6|63&n1)}}return De.join("")}(this.decodeStringToByteArray(xe,De))},decodeStringToByteArray(xe,De){this.init_();const Pe=De?this.charToByteMapWebSafe_:this.charToByteMap_,wt=[];for(let Ze=0;Ze<xe.length;){const o1=Pe[xe.charAt(Ze++)],U1=Ze<xe.length?Pe[xe.charAt(Ze)]:0;++Ze;const q1=Ze<xe.length?Pe[xe.charAt(Ze)]:64;++Ze;const me=Ze<xe.length?Pe[xe.charAt(Ze)]:64;if(++Ze,null==o1||null==U1||null==q1||null==me)throw Error();wt.push(o1<<2|U1>>4),64!==q1&&(wt.push(U1<<4&240|q1>>2),64!==me&&wt.push(q1<<6&192|me))}return wt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}},Re=function(xe){return function(xe){const De=Ie(xe);return Ne.encodeByteArray(De,!0)}(xe).replace(/\./g,"")},Ve=function(xe){try{return Ne.decodeString(xe,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function pe(xe,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return De}for(const Pe in De)!De.hasOwnProperty(Pe)||!ze(Pe)||(xe[Pe]=pe(xe[Pe],De[Pe]));return xe}function ze(xe){return"__proto__"!==xe}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Gt(){return"object"==typeof self&&self.self===self}function ft(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function s1(){const xe=it();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function tt(){return!Ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){try{return"object"==typeof indexedDB}catch{return!1}}function Ct(){return new Promise((xe,De)=>{try{let Pe=!0;const wt="validate-browser-context-for-indexeddb-analytics-module",Ze=self.indexedDB.open(wt);Ze.onsuccess=()=>{Ze.result.close(),Pe||self.indexedDB.deleteDatabase(wt),xe(!0)},Ze.onupgradeneeded=()=>{Pe=!1},Ze.onerror=()=>{var o1;De((null===(o1=Ze.error)||void 0===o1?void 0:o1.message)||"")}}catch(Pe){De(Pe)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fe=()=>{try{return function et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const xe=process.env.__FIREBASE_DEFAULTS__;return xe?JSON.parse(xe):void 0})()||(()=>{if(typeof document>"u")return;let xe;try{xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const De=xe&&Ve(xe[1]);return De&&JSON.parse(De)})()}catch(xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xe}`)}},y1=()=>{var xe;return null===(xe=Fe())||void 0===xe?void 0:xe.config},B1=xe=>{var De;return null===(De=Fe())||void 0===De?void 0:De[`_${xe}`]};class O1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,Pe)=>{this.resolve=De,this.reject=Pe})}wrapCallback(De){return(Pe,wt)=>{Pe?this.reject(Pe):this.resolve(wt),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(Pe):De(Pe,wt))}}}function Vt(xe,De){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const wt=De||"demo-project",Ze=xe.iat||0,o1=xe.sub||xe.user_id;if(!o1)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const n1=Object.assign({iss:`https://securetoken.google.com/${wt}`,aud:wt,iat:Ze,exp:Ze+3600,auth_time:Ze,sub:o1,user_id:o1,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(n1)),""].join(".")}class S1 extends Error{constructor(De,Pe,wt){super(Pe),this.code=De,this.customData=wt,this.name="FirebaseError",Object.setPrototypeOf(this,S1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T1.prototype.create)}}class T1{constructor(De,Pe,wt){this.service=De,this.serviceName=Pe,this.errors=wt}create(De,...Pe){const wt=Pe[0]||{},Ze=`${this.service}/${De}`,o1=this.errors[De],n1=o1?function D1(xe,De){return xe.replace(Qn,(Pe,wt)=>{const Ze=De[wt];return null!=Ze?String(Ze):`<${wt}?>`})}(o1,wt):"Error";return new S1(Ze,`${this.serviceName}: ${n1} (${Ze}).`,wt)}}const Qn=/\{\$([^}]+)}/g;function Jn(xe,De){return Object.prototype.hasOwnProperty.call(xe,De)}function vn(xe){for(const De in xe)if(Object.prototype.hasOwnProperty.call(xe,De))return!1;return!0}function Wt(xe,De){if(xe===De)return!0;const Pe=Object.keys(xe),wt=Object.keys(De);for(const Ze of Pe){if(!wt.includes(Ze))return!1;const o1=xe[Ze],n1=De[Ze];if(Cn(o1)&&Cn(n1)){if(!Wt(o1,n1))return!1}else if(o1!==n1)return!1}for(const Ze of wt)if(!Pe.includes(Ze))return!1;return!0}function Cn(xe){return null!==xe&&"object"==typeof xe}function pn(xe){const De=[];for(const[Pe,wt]of Object.entries(xe))Array.isArray(wt)?wt.forEach(Ze=>{De.push(encodeURIComponent(Pe)+"="+encodeURIComponent(Ze))}):De.push(encodeURIComponent(Pe)+"="+encodeURIComponent(wt));return De.length?"&"+De.join("&"):""}function N2(xe){const De={};return xe.replace(/^\?/,"").split("&").forEach(wt=>{if(wt){const[Ze,o1]=wt.split("=");De[decodeURIComponent(Ze)]=decodeURIComponent(o1)}}),De}function R2(xe){const De=xe.indexOf("?");if(!De)return"";const Pe=xe.indexOf("#",De);return xe.substring(De,Pe>0?Pe:void 0)}function ct(xe,De){const Pe=new Ae(xe,De);return Pe.subscribe.bind(Pe)}class Ae{constructor(De,Pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Pe,this.task.then(()=>{De(this)}).catch(wt=>{this.error(wt)})}next(De){this.forEachObserver(Pe=>{Pe.next(De)})}error(De){this.forEachObserver(Pe=>{Pe.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,Pe,wt){let Ze;if(void 0===De&&void 0===Pe&&void 0===wt)throw new Error("Missing Observer.");Ze=function lt(xe,De){if("object"!=typeof xe||null===xe)return!1;for(const Pe of De)if(Pe in xe&&"function"==typeof xe[Pe])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:Pe,complete:wt},void 0===Ze.next&&(Ze.next=Mt),void 0===Ze.error&&(Ze.error=Mt),void 0===Ze.complete&&(Ze.complete=Mt);const o1=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ze.error(this.finalError):Ze.complete()}catch{}}),this.observers.push(Ze),o1}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let Pe=0;Pe<this.observers.length;Pe++)this.sendOne(Pe,De)}sendOne(De,Pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{Pe(this.observers[De])}catch(wt){typeof console<"u"&&console.error&&console.error(wt)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mt(){}function t1(xe,De=1e3,Pe=2){const wt=De*Math.pow(Pe,xe),Ze=Math.round(.5*wt*(Math.random()-.5)*2);return Math.min(144e5,wt+Ze)}function V1(xe){return xe&&xe._delegate?xe._delegate:xe}},7063:(r1,Je,F)=>{F.d(Je,{a:()=>Ie});var l=F(4650),_=F(182),X=F(2431);let Ie=(()=>{class Te{constructor(de,Re){this.authService=de,this.router=Re}canActivate(de,Re){return this.authService.isAuth()?this.authService.isAuth():(this.router.navigate(["login"]),!1)}}return Te.\u0275fac=function(de){return new(de||Te)(l.LFG(_.e),l.LFG(X.F0))},Te.\u0275prov=l.Yz7({token:Te,factory:Te.\u0275fac}),Te})()},2767:(r1,Je,F)=>{F.d(Je,{n:()=>Re});var l=F(6895),_=F(433),X=F(3101),Ie=F(2011),Te=F(2340),Ne=F(3385),de=F(4650);let Re=(()=>{class Ve{}return Ve.\u0275fac=function(pe){return new(pe||Ve)},Ve.\u0275mod=de.oAB({type:Ve}),Ve.\u0275inj=de.cJS({imports:[l.ez,_.u5,X.yb,Ie.hO.initializeApp(Te.N.firebase),Ne.ww]}),Ve})()},182:(r1,Je,F)=>{F.d(Je,{e:()=>he});var l=F(5861),_=F(7579),X=F(3900),Ie=F(9646),Te=F(9260),Ne=F(4650),de=F(2431),Re=F(3385),Ve=F(3101);let he=(()=>{class pe{constructor(it,st,Ye){this.router=it,this.afAuth=st,this.afs=Ye,this.authChange=new _.x,this.isAuthenticated=!1,this.user$=this.afAuth.authState.pipe((0,X.w)(Gt=>Gt?this.afs.doc(`users/${Gt.uid}`).valueChanges():(0,Ie.of)(null)))}googleSignin(){var it=this;return(0,l.Z)(function*(){const st=new Te.Z.auth.GoogleAuthProvider,Ye=yield it.afAuth.signInWithPopup(st);return it.updateUserData(Ye.user)})()}updateUserData(it){return this.userId=it?.uid,this.afs.doc(`users/${it?.uid}`).set({uid:it.uid,email:it.email,displayName:it.displayName,photoURL:it.photoURL},{merge:!0})}iniAuthListener(){this.afAuth.authState.subscribe(it=>{it?(this.onSuccessfulAuthentication(),this.updateUserData(it)):this.onUnsuccessfulAuthentication()})}registerUser(it){this.afAuth.createUserWithEmailAndPassword(it.email,it.password).then(st=>{console.log(st),this.onSuccessfulAuthentication()}).catch(st=>{console.log(st)})}login(it){this.afAuth.signInWithEmailAndPassword(it.email,it.password).then(st=>{console.log(st)}).catch(st=>{console.log(st)})}logout(){this.afAuth.signOut()}isAuth(){return this.isAuthenticated}onSuccessfulAuthentication(){this.isAuthenticated=!0,this.authChange.next(!0)}onUnsuccessfulAuthentication(){this.isAuthenticated=!1,this.authChange.next(!1),this.router.navigate([""])}}return pe.\u0275fac=function(it){return new(it||pe)(Ne.LFG(de.F0),Ne.LFG(Re.zQ),Ne.LFG(Ve.ST))},pe.\u0275prov=Ne.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},3919:(r1,Je,F)=>{F.d(Je,{z:()=>X});var l=F(4650),_=F(6683);let X=(()=>{class Ie{constructor(Ne){this.activeModal=Ne}ngOnInit(){}}return Ie.\u0275fac=function(Ne){return new(Ne||Ie)(l.Y36(_.Kz))},Ie.\u0275cmp=l.Xpm({type:Ie,selectors:[["app-confirm-modal"]],inputs:{message:"message"},decls:9,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(Ne,de){1&Ne&&(l.TgZ(0,"div",0)(1,"h4",1),l._uU(2),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return de.activeModal.dismiss("Cross click")}),l.qZA()(),l.TgZ(4,"div",3)(5,"button",4),l.NdJ("click",function(){return de.activeModal.close("Yes")}),l._uU(6," Yes "),l.qZA(),l.TgZ(7,"button",5),l.NdJ("click",function(){return de.activeModal.close("No")}),l._uU(8," No "),l.qZA()()),2&Ne&&(l.xp6(2),l.Oqu(de.message))}}),Ie})()},837:(r1,Je,F)=>{F.d(Je,{z:()=>Re});var l=F(4650),_=F(6895);let X=(()=>{class Ve{constructor(){}}return Ve.\u0275fac=function(pe){return new(pe||Ve)},Ve.\u0275cmp=l.Xpm({type:Ve,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(pe,ze){1&pe&&(l.TgZ(0,"div",0),l._UZ(1,"div")(2,"div")(3,"div")(4,"div"),l.qZA())},styles:[".lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:black;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),Ve})();function Ie(Ve,he){1&Ve&&(l.TgZ(0,"div",4),l.Hsn(1,1),l.qZA())}function Te(Ve,he){1&Ve&&(l.TgZ(0,"div",5),l._UZ(1,"app-loading-spinner"),l.qZA())}const Ne=[[["","pageHeader",""]],[["","pageContent",""]]],de=["[pageHeader]","[pageContent]"];let Re=(()=>{class Ve{constructor(){this.contentLoaded=!1}ngOnInit(){}onClickAddButton(){console.log("hello world")}}return Ve.\u0275fac=function(pe){return new(pe||Ve)},Ve.\u0275cmp=l.Xpm({type:Ve,selectors:[["app-content-wrapper"]],inputs:{contentLoaded:"contentLoaded"},ngContentSelectors:de,decls:5,vars:2,consts:[[1,"content-wrapper"],[1,"page-header"],["class","content-container",4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],[1,"content-container"],[1,"loading-spinner-container"]],template:function(pe,ze){1&pe&&(l.F$t(Ne),l.TgZ(0,"div",0)(1,"div",1),l.Hsn(2),l.qZA(),l.YNc(3,Ie,2,0,"div",2),l.YNc(4,Te,2,0,"div",3),l.qZA()),2&pe&&(l.xp6(3),l.Q6J("ngIf",ze.contentLoaded),l.xp6(1),l.Q6J("ngIf",!ze.contentLoaded))},dependencies:[_.O5,X],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:100vw;padding-left:10px;padding-right:10px}.content-container[_ngcontent-%COMP%]{margin-top:10px}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:60vh;flex-wrap:wrap;padding-left:10px;padding-right:10px;justify-content:center}']}),Ve})()},4769:(r1,Je,F)=>{F.d(Je,{e:()=>Ie});var l=F(6895),_=F(6683),X=F(4650);let Ie=(()=>{class Te{}return Te.\u0275fac=function(de){return new(de||Te)},Te.\u0275mod=X.oAB({type:Te}),Te.\u0275inj=X.cJS({imports:[l.ez,_.IJ,_.XC,_.IJ,_.XC]}),Te})()},3909:(r1,Je,F)=>{F.d(Je,{C:()=>vg});var Vt={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},Cr={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},or={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},Ur={prefix:"fas",iconName:"gamepad",icon:[640,512,[],"f11b","M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"]},ha={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},t8={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},A6={prefix:"fas",iconName:"tools",icon:[512,512,[],"f7d9","M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"]},Y8={prefix:"fas",iconName:"trash-alt",icon:[448,512,[],"f2ed","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},Ll={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},u7={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},gg=F(4650);let vg=(()=>{class _7{constructor(){this.faDumbbell=Cr,this.faUser=Ll,this.faGoogle=u7,this.faEdit=or,this.faPlus=t8,this.faPencilAlt=ha,this.faTools=A6,this.faTrashAlt=Y8,this.faArrowLeft=Vt,this.faGamepad=Ur}}return _7.\u0275fac=function(_g){return new(_g||_7)},_7.\u0275prov=gg.Yz7({token:_7,factory:_7.\u0275fac,providedIn:"root"}),_7})()},2340:(r1,Je,F)=>{F.d(Je,{N:()=>l});const l={production:!0,firebase:{apiKey:"AIzaSyBhyZOhjOEyor9d77QOlILrHlQcqFFcQdY",authDomain:"adultery-prod.firebaseapp.com",projectId:"adultery-prod",storageBucket:"adultery-prod.appspot.com",messagingSenderId:"1064210384939",appId:"1:1064210384939:web:46399359cb7ff93afb826e"}}},1668:(r1,Je,F)=>{var l=F(1481),_=F(4650),X=F(2431),Ie=F(7063),Te=F(182),Ne=F(3909),de=F(433);let Re=(()=>{class D{constructor(){}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-google-button"]],decls:6,vars:0,consts:[[1,"google-btn"],[1,"google-icon-wrapper"],["src","https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",1,"google-icon"],[1,"btn-text"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"img",2),_.qZA(),_.TgZ(3,"p",3)(4,"b"),_._uU(5,"Sign in with google"),_.qZA()()())},styles:[".google-btn[_ngcontent-%COMP%]{cursor:pointer;width:184px;height:42px;background-color:#4285f4;border-radius:2px;box-shadow:0 3px 4px #00000040}.google-btn[_ngcontent-%COMP%]   .google-icon-wrapper[_ngcontent-%COMP%]{position:absolute;margin-top:1px;margin-left:1px;width:40px;height:40px;border-radius:2px;background-color:#fff}.google-btn[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{position:absolute;margin-top:11px;margin-left:11px;width:18px;height:18px}.google-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{float:right;margin:11px 11px 0 0;color:#fff;font-size:14px;letter-spacing:.2px;font-family:Roboto}.google-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #4285f4}.google-btn[_ngcontent-%COMP%]:active{background:#1669f2}"]}),D})(),Ve=(()=>{class D{constructor(m,T){this.authService=m,this.icon=T}ngOnInit(){}onSubmit(m){this.authService.login({email:m.value.email,password:m.value.password})}onOathSignIn(){this.authService.googleSignin()}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(Te.e),_.Y36(Ne.C))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"login-page"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(m,T){if(1&m){const B=_.EpF();_.TgZ(0,"div",0)(1,"form",1,2),_.NdJ("ngSubmit",function(){_.CHM(B);const Se=_.MAs(2);return _.KtG(T.onSubmit(Se))}),_.TgZ(3,"h1"),_._uU(4,"Welcome back fellow adult!"),_.qZA(),_.TgZ(5,"div",3),_._UZ(6,"input",4,5),_.qZA(),_.TgZ(8,"div",3),_._UZ(9,"input",6,7),_.qZA(),_.TgZ(11,"button",8),_._uU(12," Login "),_.qZA(),_.TgZ(13,"app-google-button",9),_.NdJ("click",function(){return T.onOathSignIn()}),_.qZA()()()}if(2&m){const B=_.MAs(2);_.xp6(11),_.Q6J("disabled",!B.valid)}},dependencies:[de._Y,de.Fj,de.JJ,de.JL,de.Q7,de.wO,de.On,de.F,Re],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),D})(),he=(()=>{class D{constructor(m,T){this.authService=m,this.icon=T}ngOnInit(){}onSubmit(m){this.authService.registerUser({email:m.value.email,password:m.value.password})}onOathSignIn(){this.authService.googleSignin()}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(Te.e),_.Y36(Ne.C))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-signup"]],decls:13,vars:1,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(m,T){if(1&m){const B=_.EpF();_.TgZ(0,"form",0,1),_.NdJ("ngSubmit",function(){_.CHM(B);const Se=_.MAs(1);return _.KtG(T.onSubmit(Se))}),_.TgZ(2,"h1"),_._uU(3,"Sign Up to Start Adulting!"),_.qZA(),_.TgZ(4,"div",2),_._UZ(5,"input",3,4),_.qZA(),_.TgZ(7,"div",2),_._UZ(8,"input",5,6),_.qZA(),_.TgZ(10,"button",7),_._uU(11," Sign Up "),_.qZA(),_.TgZ(12,"app-google-button",8),_.NdJ("click",function(){return T.onOathSignIn()}),_.qZA()()}if(2&m){const B=_.MAs(1);_.xp6(10),_.Q6J("disabled",!B.valid)}},dependencies:[de._Y,de.Fj,de.JJ,de.JL,de.Q7,de.wO,de.On,de.F,Re],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),D})();var pe=F(837);let ze=(()=>{class D{constructor(){}ngOnInit(){}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-feature-coming-soon"]],decls:12,vars:1,consts:[[3,"contentLoaded"],["pageContent","",1,"page-container"],[1,"gif-container"],["src","https://media.giphy.com/media/H1dxi6xdh4NGQCZSvz/giphy.gif"],["src","https://media.giphy.com/media/l0HefZY0mFfLS9AFa/giphy.gif"]],template:function(m,T){1&m&&(_.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),_._uU(3,"This feature is not available yet"),_.qZA(),_.TgZ(4,"p"),_._uU(5," Our team of highly adult developers are working around the clock to bring more awesome features to this app. "),_.qZA(),_.TgZ(6,"div",2),_._UZ(7,"img",3),_.qZA(),_.TgZ(8,"p"),_._uU(9,"This one is currently in progress. It's going to be..."),_.qZA(),_.TgZ(10,"div",2),_._UZ(11,"img",4),_.qZA()()()),2&m&&_.Q6J("contentLoaded",!0)},dependencies:[pe.z],styles:[".page-container[_ngcontent-%COMP%]{display:flex;gap:10px;text-align:center;flex-direction:column}"]}),D})();var it=F(6683),st=F(7579),Ye=F(4004),Gt=F(3101);let ft=(()=>{class D{constructor(m,T){this.firestore=m,this.authService=T,this.exercises=[],this.exercisesChanged=new st.x}fetchExercises(){const m=this.authService.userId;this.firestore.collection("exercises",T=>T.where("userId","==",m)).snapshotChanges().pipe((0,Ye.U)(T=>T.map(B=>({id:B.payload.doc.id,defaultExercise:B.payload.doc.data().defaultExercise,defaultTags:B.payload.doc.data().defaultTags,description:B.payload.doc.data().description,exerciseImage:B.payload.doc.data().exerciseImage,name:B.payload.doc.data().name,userId:B.payload.doc.data().userId})))).subscribe(T=>{this.exercises=T,this.exercisesChanged.next([...this.exercises])})}addNewExercise(m){this.firestore.collection("exercises").add({...m})}updateExercise(m){this.firestore.collection("exercises").doc(m.id).update({name:m.name,description:m.description})}deleteExercise(m){this.firestore.collection("exercises").doc(m.id).delete()}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(Gt.ST),_.LFG(Te.e))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})(),ot=(()=>{class D{constructor(m,T,B){this.activeModal=m,this.exercisesService=T,this.authService=B}onSubmit(m){this.exercisesService.addNewExercise({id:"",userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:m.value.exerciseName,description:m.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(it.Kz),_.Y36(ft),_.Y36(Te.e))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-add-exercise-modal"]],decls:20,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name","ngModel","","placeholder","Enter name",1,"form-control"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","ngModel","","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(m,T){if(1&m){const B=_.EpF();_.TgZ(0,"div",0)(1,"h4",1),_._uU(2,"Create New Exercise"),_.qZA(),_.TgZ(3,"button",2),_.NdJ("click",function(){return T.activeModal.dismiss("Cross click")}),_.qZA()(),_.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),_._uU(9,"Name"),_.qZA(),_._UZ(10,"input",7,8),_.qZA(),_.TgZ(12,"div",5)(13,"label",9),_._uU(14,"Description"),_.qZA(),_._UZ(15,"textarea",10,11),_.qZA()()(),_.TgZ(17,"div",12)(18,"button",13),_.NdJ("click",function(){_.CHM(B);const Se=_.MAs(6);return _.KtG(T.onSubmit(Se))}),_._uU(19," Submit "),_.qZA()()}},dependencies:[de._Y,de.Fj,de.JJ,de.JL,de.On,de.F]}),D})();var He=F(6895),s1=F(3919);let at=(()=>{class D{constructor(m,T,B,ee){this.activeModal=m,this.exercisesService=T,this.authService=B,this.modalService=ee}onSubmit(m){this.exercisesService.updateExercise({id:this.exerciseToEdit.id,userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:m.value.exerciseName,description:m.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}onDelete(){const m=this.modalService.open(s1.z);m.componentInstance.message=`Are you sure you want to delete ${this.exerciseToEdit.name}?`,m.result.then(T=>{"Yes"===T&&(this.exercisesService.deleteExercise(this.exerciseToEdit),this.activeModal.close("Close click"))})}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(it.Kz),_.Y36(ft),_.Y36(Te.e),_.Y36(it.FF))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-edit-exercise-modal"]],inputs:{exerciseToEdit:"exerciseToEdit"},decls:22,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name",1,"form-control",3,"ngModel"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control",3,"ngModel"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(m,T){if(1&m){const B=_.EpF();_.TgZ(0,"div",0)(1,"h4",1),_._uU(2),_.qZA(),_.TgZ(3,"button",2),_.NdJ("click",function(){return T.activeModal.dismiss("Cross click")}),_.qZA()(),_.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),_._uU(9,"Name"),_.qZA(),_._UZ(10,"input",7,8),_.qZA(),_.TgZ(12,"div",5)(13,"label",9),_._uU(14,"Description"),_.qZA(),_._UZ(15,"textarea",10,11),_.qZA()()(),_.TgZ(17,"div",12)(18,"button",13),_.NdJ("click",function(){_.CHM(B);const Se=_.MAs(6);return _.KtG(T.onSubmit(Se))}),_._uU(19," Submit "),_.qZA(),_.TgZ(20,"button",14),_.NdJ("click",function(){return T.onDelete()}),_._uU(21," Delete Exercise "),_.qZA()()}2&m&&(_.xp6(2),_.hij("Edit ",T.exerciseToEdit.name,""),_.xp6(8),_.Q6J("ngModel",T.exerciseToEdit.name),_.xp6(5),_.Q6J("ngModel",T.exerciseToEdit.description))},dependencies:[de._Y,de.Fj,de.JJ,de.JL,de.On,de.F]}),D})(),ht=(()=>{class D{constructor(m,T){this.firestore=m,this.authService=T,this.fitnessLogs=[],this.fitnessLogsChanged=new st.x}fetchLogs(m){const T=this.authService.userId;this.firestore.collection("fitnessLogs",B=>B.where("userId","==",T).where("parentId","==",m).orderBy("date","asc")).snapshotChanges().pipe((0,Ye.U)(B=>B.map(ee=>({id:ee.payload.doc.id,date:ee.payload.doc.data().date.toDate(),text:ee.payload.doc.data().text,userId:ee.payload.doc.data().userId,parentId:ee.payload.doc.data().parentId})))).subscribe(B=>{this.fitnessLogs=B,this.fitnessLogsChanged.next([...this.fitnessLogs])})}addNewLog(m){this.firestore.collection("fitnessLogs").add({...m})}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(Gt.ST),_.LFG(Te.e))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),tt=(()=>{class D{constructor(m,T,B){this.activeModal=m,this.authService=T,this.fitnessLogsService=B}ngOnInit(){}onSubmit(m){const T=m.value.logDescription,B=this.getDate();this.fitnessLogsService.addNewLog({id:"",date:B,text:T,userId:this.authService.userId,parentId:this.parentItem.id}),this.activeModal.close("Close click")}getDate(){return new Date}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(it.Kz),_.Y36(Te.e),_.Y36(ht))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-add-fitness-log-modal"]],inputs:{parentItem:"parentItem"},decls:15,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["id","logDescription","name","logDescription","ngModel","","rows","3","placeholder","Add your log here...",1,"form-control"],["logDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(m,T){if(1&m){const B=_.EpF();_.TgZ(0,"div",0)(1,"h4",1),_._uU(2),_.qZA(),_.TgZ(3,"button",2),_.NdJ("click",function(){return T.activeModal.dismiss("Cross click")}),_.qZA()(),_.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5),_._UZ(8,"textarea",6,7),_.qZA()()(),_.TgZ(10,"div",8)(11,"button",9),_.NdJ("click",function(){_.CHM(B);const Se=_.MAs(6);return _.KtG(T.onSubmit(Se))}),_._uU(12," Submit "),_.qZA(),_.TgZ(13,"button",10),_.NdJ("click",function(){return T.activeModal.close("No")}),_._uU(14," Cancel "),_.qZA()()}2&m&&(_.xp6(2),_.hij("Add New Log for ",T.parentItem.name,""))},dependencies:[de._Y,de.Fj,de.JJ,de.JL,de.On,de.F]}),D})();var Pt=F(3868);function Ct(D,g){if(1&D&&(_.TgZ(0,"div")(1,"span",5),_._uU(2),_.ALo(3,"date"),_.qZA(),_.TgZ(4,"span",6),_._uU(5),_.qZA()()),2&D){const m=g.$implicit;_.xp6(2),_.hij("",_.lcZ(3,2,m.date)," -"),_.xp6(3),_.hij(" ",m.text,"")}}let ce=(()=>{class D{constructor(m,T,B){this.icon=m,this.modalService=T,this.fitnessLogsService=B,this.fitnessLogs=[],this.fitnessLogsLoaded=!1}ngOnInit(){this.fitnessLogsSubscription=this.fitnessLogsService.fitnessLogsChanged.subscribe(m=>{this.fitnessLogs=m,this.fitnessLogsLoaded=!0}),this.fitnessLogsService.fetchLogs(this.parentItem.id)}ngOnDestroy(){this.fitnessLogsSubscription.unsubscribe()}onClickAddLog(){this.modalService.open(tt).componentInstance.parentItem=this.parentItem}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(Ne.C),_.Y36(it.FF),_.Y36(ht))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-fitness-logs"]],inputs:{parentItem:"parentItem"},decls:7,vars:2,consts:[[1,"logs-section"],[1,"title-section"],[1,"pencil-icon"],[3,"icon","click"],[4,"ngFor","ngForOf"],[1,"log-date"],[1,"log-text"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0)(1,"div",1)(2,"h5"),_._uU(3,"Logs"),_.qZA(),_.TgZ(4,"div",2)(5,"fa-icon",3),_.NdJ("click",function(){return T.onClickAddLog()}),_.qZA()()(),_.YNc(6,Ct,6,4,"div",4),_.qZA()),2&m&&(_.xp6(5),_.Q6J("icon",T.icon.faPencilAlt),_.xp6(1),_.Q6J("ngForOf",T.fitnessLogs))},dependencies:[Pt.BN,He.sg,He.uU],styles:[".pencil-icon[_ngcontent-%COMP%]{cursor:pointer}.title-section[_ngcontent-%COMP%]{display:flex;gap:10px}"]}),D})(),et=(()=>{class D{constructor(m){this.activeModal=m}ngOnInit(){}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(it.Kz))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-view-exercise-modal"]],inputs:{exercise:"exercise"},decls:9,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"src"],[3,"parentItem"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0)(1,"h4",1),_._uU(2),_.qZA(),_.TgZ(3,"button",2),_.NdJ("click",function(){return T.activeModal.dismiss("Cross click")}),_.qZA()(),_.TgZ(4,"div",3),_._UZ(5,"img",4),_.TgZ(6,"p"),_._uU(7),_.qZA(),_._UZ(8,"app-fitness-logs",5),_.qZA()),2&m&&(_.xp6(2),_.Oqu(T.exercise.name),_.xp6(3),_.Q6J("src",T.exercise.exerciseImage,_.LSH),_.xp6(2),_.Oqu(T.exercise.description),_.xp6(1),_.Q6J("parentItem",T.exercise))},dependencies:[ce]}),D})(),we=(()=>{class D{constructor(){}ngOnInit(){}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-exercise-tag"]],inputs:{tag:"tag"},decls:3,vars:1,consts:[[1,"tag"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0)(1,"span"),_._uU(2),_.qZA()()),2&m&&(_.xp6(2),_.Oqu(T.tag))},styles:[".tag[_ngcontent-%COMP%]{border:2px solid black;padding:2px}"]}),D})();function Le(D,g){1&D&&_._UZ(0,"app-exercise-tag",5),2&D&&_.Q6J("tag",g.$implicit)}let rt=(()=>{class D{constructor(m,T){this.icon=m,this.modalService=T}ngOnInit(){}onClickEditButton(){this.modalService.open(at).componentInstance.exerciseToEdit=this.exercise}onClickExerciseItem(){this.modalService.open(et).componentInstance.exercise=this.exercise}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(Ne.C),_.Y36(it.FF))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-exercise-library-item"]],inputs:{exercise:"exercise"},decls:7,vars:3,consts:[[1,"exercise-item-container",3,"click"],[1,"name-container"],[1,"tag-container"],[3,"tag",4,"ngFor","ngForOf"],[1,"edit-button",3,"icon","click"],[3,"tag"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0),_.NdJ("click",function(){return T.onClickExerciseItem()}),_.TgZ(1,"div",1)(2,"span"),_._uU(3),_.qZA()(),_.TgZ(4,"div",2),_.YNc(5,Le,1,1,"app-exercise-tag",3),_.qZA(),_.TgZ(6,"fa-icon",4),_.NdJ("click",function(ee){return T.onClickEditButton(),ee.stopPropagation()}),_.qZA()()),2&m&&(_.xp6(3),_.Oqu(T.exercise.name),_.xp6(2),_.Q6J("ngForOf",T.exercise.defaultTags),_.xp6(1),_.Q6J("icon",T.icon.faEdit))},dependencies:[Pt.BN,He.sg,we],styles:[".exercise-item-container[_ngcontent-%COMP%]{border:2px solid grey;width:90%;margin-left:auto;margin-right:auto;display:flex;gap:20%;padding:10px;cursor:pointer}.tag-container[_ngcontent-%COMP%]{display:flex;gap:5px}.edit-button[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;transition:background-color .5s;padding:2px;border-radius:20%}.edit-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.name-container[_ngcontent-%COMP%]{width:200px}"]}),D})(),Fe=(()=>{class D{constructor(m){this.icon=m}ngOnInit(){}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(Ne.C))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-add-button"]],decls:2,vars:1,consts:[[1,"add-button"],[3,"icon"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0),_._UZ(1,"fa-icon",1),_.qZA()),2&m&&(_.xp6(1),_.Q6J("icon",T.icon.faPlus))},dependencies:[Pt.BN],styles:[".add-button[_ngcontent-%COMP%]{border:2px solid black;width:70px;height:70px;display:flex;justify-content:center;align-items:center;border-radius:50%;cursor:pointer;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}fa-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),D})();function zt(D,g){1&D&&_._UZ(0,"app-exercise-library-item",7),2&D&&_.Q6J("exercise",g.$implicit)}let Rt=(()=>{class D{constructor(m,T){this.exercisesService=m,this.modalService=T,this.defaultExercises=[],this.exercisesLoaded=!1}ngOnInit(){this.exercisesSubscription=this.exercisesService.exercisesChanged.subscribe(m=>{this.defaultExercises=m,this.exercisesLoaded=!0}),this.exercisesService.fetchExercises()}ngOnDestroy(){this.exercisesSubscription.unsubscribe()}onClickAddButton(){this.modalService.open(ot)}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(ft),_.Y36(it.FF))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-exercise-library"]],decls:9,vars:2,consts:[[3,"contentLoaded"],["pageHeader",""],["pageContent",""],[1,"exercises-container"],[3,"exercise",4,"ngFor","ngForOf"],[1,"add-button-container"],[3,"click"],[3,"exercise"]],template:function(m,T){1&m&&(_.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),_._uU(3,"Exercise Library"),_.qZA()(),_.TgZ(4,"div",2)(5,"div",3),_.YNc(6,zt,1,1,"app-exercise-library-item",4),_.qZA(),_.TgZ(7,"div",5)(8,"app-add-button",6),_.NdJ("click",function(){return T.onClickAddButton()}),_.qZA()()()()),2&m&&(_.Q6J("contentLoaded",T.exercisesLoaded),_.xp6(6),_.Q6J("ngForOf",T.defaultExercises))},dependencies:[pe.z,He.sg,rt,Fe],styles:[".exercises-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;flex-direction:column}app-exercise-library-item[_ngcontent-%COMP%]{width:100%}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}"]}),D})();var y1=F(5861);let B1=(()=>{class D{constructor(m,T){this.authService=m,this.firestore=T,this.groups=[],this.groupsChanged=new st.x}fetchGroups(){var m=this;return(0,y1.Z)(function*(){const T=m.authService.userId;m.firestore.collection("groups",B=>B.where("userIds","array-contains",T)).snapshotChanges().pipe((0,Ye.U)(B=>B.map(ee=>(ee.payload.doc.data().id||m.addPayloadIdToGroup(ee.payload.doc.id),{id:ee.payload.doc.id,groupName:ee.payload.doc.data().groupName,userIds:ee.payload.doc.data().userIds})))).subscribe(B=>{m.groups=B,m.groupsChanged.next([...m.groups])})})()}addNewGroup(m){this.firestore.collection("groups").add({...m})}addPayloadIdToGroup(m){this.firestore.collection("groups").doc(m).update({id:m})}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(Te.e),_.LFG(Gt.ST))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),O1=(()=>{class D{constructor(m,T,B){this.activeModal=m,this.groupService=T,this.authService=B,this.groupModel={id:"",groupName:null,userIds:[this.authService.userId]},this.groupToEdit&&(this.groupModel={...this.groupToEdit})}ngOnInit(){}onSubmit(m){this.groupService.addNewGroup(this.groupModel),this.activeModal.close("Close click")}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(it.Kz),_.Y36(B1),_.Y36(Te.e))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-add-or-edit-group-modal"]],inputs:{groupToEdit:"groupToEdit"},decls:15,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","groupName"],["type","text","name","groupName","id","groupName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(m,T){if(1&m){const B=_.EpF();_.TgZ(0,"div",0)(1,"h4",1),_._uU(2),_.qZA(),_.TgZ(3,"button",2),_.NdJ("click",function(){return T.activeModal.dismiss("Cross click")}),_.qZA()(),_.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),_._uU(9,"Group Name"),_.qZA(),_.TgZ(10,"input",7),_.NdJ("ngModelChange",function(Se){return T.groupModel.groupName=Se}),_.qZA()(),_._UZ(11,"div",5),_.qZA()(),_.TgZ(12,"div",8)(13,"button",9),_.NdJ("click",function(){_.CHM(B);const Se=_.MAs(6);return _.KtG(T.onSubmit(Se))}),_._uU(14," Submit "),_.qZA()()}if(2&m){const B=_.MAs(6);_.xp6(2),_.hij(" ",T.groupToEdit?"Edit Group":"Create New Group"," "),_.xp6(8),_.Q6J("ngModel",T.groupModel.groupName),_.xp6(3),_.Q6J("disabled",!B.valid)}},dependencies:[de._Y,de.Fj,de.JJ,de.JL,de.Q7,de.On,de.F]}),D})();function Vt(D,g){if(1&D&&(_.TgZ(0,"tr")(1,"td",7),_._uU(2),_.qZA(),_._UZ(3,"td",7),_.qZA()),2&D){const m=g.$implicit;_.xp6(2),_.Oqu(m.groupName)}}let x1=(()=>{class D{constructor(m,T){this.modalService=m,this.groupService=T,this.contentLoaded=!0,this.groups=[]}ngOnInit(){this.groupsSubscription=this.groupService.groupsChanged.subscribe(m=>{this.groups=m,this.contentLoaded=!0}),this.groupService.fetchGroups()}addNewGroup(){this.modalService.open(O1)}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(it.FF),_.Y36(B1))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-groups-page"]],decls:15,vars:2,consts:[[3,"contentLoaded"],["pageHeader",""],["pageContent",""],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["scope","row"]],template:function(m,T){1&m&&(_.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),_._uU(3,"Groups"),_.qZA()(),_.TgZ(4,"div",2)(5,"table",3)(6,"thead")(7,"tr")(8,"th",4),_._uU(9,"Group Name"),_.qZA(),_._UZ(10,"th",4),_.qZA()(),_.TgZ(11,"tbody"),_.YNc(12,Vt,4,1,"tr",5),_.qZA()(),_.TgZ(13,"button",6),_.NdJ("click",function(){return T.addNewGroup()}),_._uU(14,"Add Group +"),_.qZA()()()),2&m&&(_.Q6J("contentLoaded",T.contentLoaded),_.xp6(12),_.Q6J("ngForOf",T.groups))},dependencies:[pe.z,He.sg]}),D})();var S1=F(8996),T1=F(9646),D1=F(4408),Qn=F(727);const Zt={schedule(D){let g=requestAnimationFrame,m=cancelAnimationFrame;const{delegate:T}=Zt;T&&(g=T.requestAnimationFrame,m=T.cancelAnimationFrame);const B=g(ee=>{m=void 0,D(ee)});return new Qn.w0(()=>m?.(B))},requestAnimationFrame(...D){const{delegate:g}=Zt;return(g?.requestAnimationFrame||requestAnimationFrame)(...D)},cancelAnimationFrame(...D){const{delegate:g}=Zt;return(g?.cancelAnimationFrame||cancelAnimationFrame)(...D)},delegate:void 0};var Mn=F(7565);const Vn=new class In extends Mn.v{flush(g){this._active=!0;const m=this._scheduled;this._scheduled=void 0;const{actions:T}=this;let B;g=g||T.shift();do{if(B=g.execute(g.state,g.delay))break}while((g=T[0])&&g.id===m&&T.shift());if(this._active=!1,B){for(;(g=T[0])&&g.id===m&&T.shift();)g.unsubscribe();throw B}}}(class dn extends D1.o{constructor(g,m){super(g,m),this.scheduler=g,this.work=m}requestAsyncId(g,m,T=0){return null!==T&&T>0?super.requestAsyncId(g,m,T):(g.actions.push(this),g._scheduled||(g._scheduled=Zt.requestAnimationFrame(()=>g.flush(void 0))))}recycleAsyncId(g,m,T=0){var B;if(null!=T?T>0:this.delay>0)return super.recycleAsyncId(g,m,T);const{actions:ee}=g;null!=m&&(null===(B=ee[ee.length-1])||void 0===B?void 0:B.id)!==m&&(Zt.cancelAnimationFrame(m),g._scheduled=void 0)}});var Hn=F(1135),Jn=F(9770),Z1=F(9751),vn=F(8505),r2=F(3151),Wt=F(5363),Cn=F(9300),Nn=F(3900),pn=F(2722);const N2=["container"],R2=new _.OlP("LottieOptions");let ct=(()=>{class D{constructor(m,T){this.ngZone=m,this.options=T,this.player$=function u1(D,g){const m=D();return(m instanceof Promise?(0,S1.D)(m).pipe((0,Ye.U)(B=>B.default||B)):(0,T1.of)(m)).pipe((0,vn.b)(B=>B.useWebWorker(g)),(0,r2.d)({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,Wt.Q)(Vn))}loadAnimation(m){return this.player$.pipe((0,Ye.U)(T=>this.createAnimationItem(T,m)))}resolveOptions(m,T){return Object.assign({container:T,renderer:"svg",loop:!0,autoplay:!0},m)}createAnimationItem(m,T){return this.ngZone.runOutsideAngular(()=>m.loadAnimation(T))}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(_.R0b),_.LFG(R2))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),Ae=(()=>{class D{constructor(m,T,B){this.ngZone=m,this.platformId=T,this.animationLoader=B,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new st.x,this.loadAnimation$=new st.x,this.animationItem$=new Hn.X(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(m,T){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([m,T]))}getAnimationItem(){return(0,Jn.P)(()=>this.animationItem$).pipe((0,Cn.h)(m=>null!==m))}awaitAnimationItemAndStartListening(m){return this.getAnimationItem().pipe((0,Nn.w)(T=>new Z1.y(B=>{this.ngZone.runOutsideAngular(()=>{T.addEventListener(m,ee=>{this.ngZone.runOutsideAngular(()=>{B.next(ee)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,Cn.h)(([T])=>(0,He.NF)(this.platformId)&&void 0!==T.options)).pipe((0,Nn.w)(([T,B])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(T.options.currentValue,B)))),(0,pn.R)(this.destroy$)).subscribe(T=>{this.ngZone.run(()=>this.animationItem$.next(T))})}destroyAnimation(){const m=this.animationItem$.getValue();null!==m&&(m.destroy(),this.animationItem$.next(null))}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(_.R0b),_.Y36(_.Lbi),_.Y36(ct))},D.\u0275dir=_.lG2({type:D,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),D})(),lt=(()=>{class D extends Ae{constructor(m,T,B){super(m,T,B),this.width=null,this.height=null,this.container=null}ngOnChanges(m){super.loadAnimation(m,this.container.nativeElement)}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(_.R0b),_.Y36(_.Lbi),_.Y36(ct))},D.\u0275cmp=_.Xpm({type:D,selectors:[["ng-lottie"]],viewQuery:function(m,T){if(1&m&&_.Gf(N2,7),2&m){let B;_.iGM(B=_.CRH())&&(T.container=B.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[_.qOj,_.TTD,_.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(m,T){1&m&&_._UZ(0,"div",0,1),2&m&&(_.Udp("width",T.width||"100%")("height",T.height||"100%"),_.Q6J("ngStyle",T.styles)("ngClass",T.containerClass))},dependencies:[He.ez,He.mk,He.PC],encapsulation:2,changeDetection:0}),D})(),Mt=(()=>{class D{static forRoot(m){return{ngModule:D,providers:[{provide:R2,useValue:m}]}}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275mod=_.oAB({type:D}),D.\u0275inj=_.cJS({imports:[lt]}),D})(),Xn=(()=>{class D{constructor(){this.animationTypes=new Map([["kidAgainAnimation","https://assets1.lottiefiles.com/private_files/lf30_x8jhuhr4.json"],["fitnessAnimation","https://assets2.lottiefiles.com/packages/lf20_ju61m9x9.json"],["timeManagementAnimation","https://assets1.lottiefiles.com/packages/lf20_i7ooqm2q.json"],["financeAnimation","https://assets2.lottiefiles.com/packages/lf20_qxdztkhq.json"]]),this.animationSize="medium",this.animationCreated=new _.vpe,this.animationPath=""}ngOnInit(){this.animationPath=this.getAnimationPath(this.animationKey),this.options={path:this.animationPath}}getAnimationPath(m){const T=this.animationTypes.get(m);if(null!=T)return T;throw new Error(`The animation ${m} does not exist \u{1f62d}`)}onAnimate(m){this.animationCreated.emit(m)}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-animation"]],inputs:{animationKey:"animationKey",animationSize:"animationSize"},outputs:{animationCreated:"animationCreated"},decls:2,vars:1,consts:[[1,"lottie-animation","mt-10"],[3,"options","animationCreated"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0)(1,"ng-lottie",1),_.NdJ("animationCreated",function(ee){return T.onAnimate(ee)})("animationCreated",function(ee){return T.onAnimate(ee)}),_.qZA()()),2&m&&(_.xp6(1),_.Q6J("options",T.options))},dependencies:[lt],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:relative}"]}),D})();const W1=[{path:"",component:(()=>{class D{constructor(m){this.router=m}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(X.F0))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-home-page"]],decls:29,vars:0,consts:[[1,"home-page-section"],[1,"home-page-section-title"],["animationKey","kidAgainAnimation"],[1,"login-or-sign-up-buttons-container"],["type","button",1,"btn","btn-primary",3,"click"],["animationKey","fitnessAnimation"],["animationKey","timeManagementAnimation"],["animationKey","financeAnimation"]],template:function(m,T){1&m&&(_.TgZ(0,"div",0)(1,"div",1)(2,"h1"),_._uU(3,"An app to make adulting easier"),_.qZA(),_.TgZ(4,"h1"),_._uU(5,"So you can be a kid again"),_.qZA()(),_._UZ(6,"app-animation",2),_.TgZ(7,"div",3)(8,"button",4),_.NdJ("click",function(){return T.router.navigate(["/login"])}),_._uU(9," Login "),_.qZA(),_.TgZ(10,"button",4),_.NdJ("click",function(){return T.router.navigate(["/signup"])}),_._uU(11," Sign Up "),_.qZA()()(),_.TgZ(12,"div",0)(13,"div",1)(14,"h1"),_._uU(15,"Reach your fitness goals"),_.qZA()(),_._UZ(16,"app-animation",5),_.qZA(),_.TgZ(17,"div",0)(18,"div",1)(19,"h1"),_._uU(20,"Impress your mom"),_.qZA(),_.TgZ(21,"h1"),_._uU(22,"with your time management skills"),_.qZA()(),_._UZ(23,"app-animation",6),_.qZA(),_.TgZ(24,"div",0)(25,"div",1)(26,"h1"),_._uU(27,"Be your financial best"),_.qZA()(),_._UZ(28,"app-animation",7),_.qZA())},dependencies:[Xn],styles:[".home-page-section-title[_ngcontent-%COMP%]{margin:auto;width:90%}app-animation[_ngcontent-%COMP%]{max-width:500px}.login-or-sign-up-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),D})()},{path:"login",component:Ve},{path:"signup",component:he},{path:"exercise-library",component:Rt,canActivate:[Ie.a]},{path:"groups",component:x1,canActivate:[Ie.a]},{path:"coming-soon",component:ze,canActivate:[Ie.a]},{path:"shopping-list-page",loadChildren:()=>F.e(941).then(F.bind(F,5941)).then(D=>D.ShoppingListModule)},{path:"shopping-list-page/shopping-list/:shopping-list-id",loadChildren:()=>F.e(941).then(F.bind(F,5941)).then(D=>D.ShoppingListModule)}];let an=(()=>{class D{}return D.\u0275fac=function(m){return new(m||D)},D.\u0275mod=_.oAB({type:D}),D.\u0275inj=_.cJS({providers:[Ie.a],imports:[X.Bz.forRoot(W1),X.Bz]}),D})();function f1(D,g){if(1&D){const m=_.EpF();_.TgZ(0,"li",9)(1,"a",10),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(2,"Login "),_.qZA()()}2&D&&(_.xp6(1),_.Q6J("routerLink","login"))}function Nt(D,g){if(1&D){const m=_.EpF();_.TgZ(0,"li",9)(1,"a",10),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(2,"Sign Up "),_.qZA()()}2&D&&(_.xp6(1),_.Q6J("routerLink","signup"))}function t1(D,g){if(1&D&&(_.TgZ(0,"a",17),_._uU(1),_.qZA()),2&D){const m=g.ngIf;_.xp6(1),_.hij(" ",m.email," ")}}function L1(D,g){if(1&D){const m=_.EpF();_.TgZ(0,"li",9)(1,"div",11)(2,"span",12),_._UZ(3,"fa-icon",13),_.YNc(4,t1,2,1,"a",14),_.ALo(5,"async"),_.qZA(),_.TgZ(6,"div",15)(7,"button",16),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return B.isMenuCollapsed=!0,_.KtG(B.authService.logout())}),_._uU(8," Sign Out "),_.qZA()()()()}if(2&D){const m=_.oxw();_.xp6(3),_.Q6J("icon",m.icon.faUser),_.xp6(1),_.Q6J("ngIf",_.lcZ(5,2,m.authService.user$))}}const E1=function(){return["active"]};function V1(D,g){if(1&D){const m=_.EpF();_.TgZ(0,"li",9)(1,"div",11)(2,"span",12),_._UZ(3,"fa-icon",13),_.TgZ(4,"a",17),_._uU(5,"Fitness"),_.qZA()(),_.TgZ(6,"div",15)(7,"button",18),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(8," Exercises "),_.qZA(),_.TgZ(9,"button",18),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(10," Workouts "),_.qZA(),_.TgZ(11,"button",18),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(12," Plans "),_.qZA()()()()}if(2&D){const m=_.oxw();_.xp6(3),_.Q6J("icon",m.icon.faDumbbell),_.xp6(4),_.Q6J("routerLink","exercise-library")("routerLinkActive",_.DdM(7,E1)),_.xp6(2),_.Q6J("routerLink","coming-soon")("routerLinkActive",_.DdM(8,E1)),_.xp6(2),_.Q6J("routerLink","coming-soon")("routerLinkActive",_.DdM(9,E1))}}function xe(D,g){if(1&D){const m=_.EpF();_.TgZ(0,"li",9)(1,"div",11)(2,"span",12),_._UZ(3,"fa-icon",13),_.TgZ(4,"a",17),_._uU(5,"Tool Belt"),_.qZA()(),_.TgZ(6,"div",15)(7,"button",18),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(8," Shopping List "),_.qZA(),_.TgZ(9,"button",18),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(10," Meal Planner "),_.qZA()()()()}if(2&D){const m=_.oxw();_.xp6(3),_.Q6J("icon",m.icon.faTools),_.xp6(4),_.Q6J("routerLink","shopping-list-page")("routerLinkActive",_.DdM(5,E1)),_.xp6(2),_.Q6J("routerLink","coming-soon")("routerLinkActive",_.DdM(6,E1))}}function De(D,g){if(1&D&&(_.TgZ(0,"li",9)(1,"span",12),_._UZ(2,"fa-icon",13),_.TgZ(3,"a",19),_._uU(4,"Groups"),_.qZA()()()),2&D){const m=_.oxw();_.xp6(2),_.Q6J("icon",m.icon.faUser),_.xp6(1),_.Q6J("routerLink","groups")("routerLinkActive",_.DdM(3,E1))}}function Pe(D,g){if(1&D){const m=_.EpF();_.TgZ(0,"li",9)(1,"div",11)(2,"span",12),_._UZ(3,"fa-icon",13),_.TgZ(4,"a",17),_._uU(5,"Games"),_.qZA()(),_.TgZ(6,"div",15)(7,"button",18),_.NdJ("click",function(){_.CHM(m);const B=_.oxw();return _.KtG(B.isMenuCollapsed=!0)}),_._uU(8," Adultagotchi "),_.qZA()()()()}if(2&D){const m=_.oxw();_.xp6(3),_.Q6J("icon",m.icon.faGamepad),_.xp6(4),_.Q6J("routerLink","coming-soon")("routerLinkActive",_.DdM(3,E1))}}let wt=(()=>{class D{constructor(m,T){this.icon=m,this.authService=T,this.isAuth=!1,this.isMenuCollapsed=!0}ngOnInit(){this.authSubscription=this.authService.authChange.subscribe(m=>{this.isAuth=m})}ngOnDestroy(){this.authSubscription.unsubscribe()}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(Ne.C),_.Y36(Te.e))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-nav"]],decls:18,vars:11,consts:[[1,"navbar","navbar-expand-lg","navbar-light","mb-3"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],[1,"three","navbar-toggler"],["id","hamburger-1",1,"hamburger",3,"click"],[1,"line"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["class","nav-item active",4,"ngIf"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink","click"],["ngbDropdown",""],[1,"nav-link-container"],[3,"icon"],["class","nav-link","style","cursor: pointer","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],["ngbDropdownToggle","",1,"nav-link",2,"cursor","pointer"],["ngbDropdownItem","",3,"routerLink","routerLinkActive","click"],[1,"nav-link",2,"cursor","pointer",3,"routerLink","routerLinkActive"]],template:function(m,T){1&m&&(_.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),_._uU(3,"Adultery"),_.qZA(),_.TgZ(4,"div",3)(5,"div",4),_.NdJ("click",function(){return T.isMenuCollapsed=!T.isMenuCollapsed}),_._UZ(6,"span",5)(7,"span",5)(8,"span",5),_.qZA()(),_.TgZ(9,"div",6)(10,"ul",7),_.YNc(11,f1,3,1,"li",8),_.YNc(12,Nt,3,1,"li",8),_.YNc(13,L1,9,4,"li",8),_.YNc(14,V1,13,10,"li",8),_.YNc(15,xe,11,7,"li",8),_.YNc(16,De,5,4,"li",8),_.YNc(17,Pe,9,4,"li",8),_.qZA()()()()),2&m&&(_.xp6(2),_.Q6J("routerLink","."),_.xp6(3),_.ekj("is-active",!T.isMenuCollapsed),_.xp6(4),_.Q6J("ngbCollapse",T.isMenuCollapsed),_.xp6(2),_.Q6J("ngIf",!T.isAuth),_.xp6(1),_.Q6J("ngIf",!T.isAuth),_.xp6(1),_.Q6J("ngIf",T.isAuth),_.xp6(1),_.Q6J("ngIf",T.isAuth),_.xp6(1),_.Q6J("ngIf",T.isAuth),_.xp6(1),_.Q6J("ngIf",T.isAuth),_.xp6(1),_.Q6J("ngIf",T.isAuth))},dependencies:[X.rH,X.yS,X.Od,Pt.BN,it._D,it.jt,it.iD,it.Vi,it.TH,it.M2,He.O5,He.Ov],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.navbar[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{background-color:#000;min-height:90px}.navbar-logo-img[_ngcontent-%COMP%]{max-height:75px}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%], .a[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]:active, .navbar-brand[_ngcontent-%COMP%]:focus{color:#ababab}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item.active[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]:hover{background-color:#000;color:#ababab}.navbar-toggler[_ngcontent-%COMP%]{color:#fff}.hamburger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:50px;height:5px;background-color:#ecf0f1;display:block;margin:8px auto;transition:all .3s ease-in-out}.hamburger[_ngcontent-%COMP%]:hover{cursor:pointer}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(13px) rotate(45deg)}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-13px) rotate(-45deg)}.nav-link-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media (min-width: 650px){fa-icon[_ngcontent-%COMP%]{display:none}}']}),D})();const Ze=[[["","pageHeader",""]],[["","pageContent",""]],[["","pageFooter",""]]],o1=["[pageHeader]","[pageContent]","[pageFooter]"];let n1=(()=>{class D{constructor(){}ngOnInit(){}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-page-wrapper"]],ngContentSelectors:o1,decls:7,vars:0,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer"]],template:function(m,T){1&m&&(_.F$t(Ze),_.TgZ(0,"div",0)(1,"div",1),_.Hsn(2),_.qZA(),_.TgZ(3,"div",2),_.Hsn(4,1),_.qZA(),_.TgZ(5,"div",3),_.Hsn(6,2),_.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll;margin-top:90px;display:flex;justify-content:center}.adultery-page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;overflow:hidden}']}),D})(),U1=(()=>{class D{constructor(m,T){this.authService=T,this.title="adultery"}ngOnInit(){this.authService.iniAuthListener()}}return D.\u0275fac=function(m){return new(m||D)(_.Y36(Gt.ST),_.Y36(Te.e))},D.\u0275cmp=_.Xpm({type:D,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page-wrapper"],[1,"desktop-header"],["pageHeader","",1,"header"],["pageContent","",1,"content"],["pageFooter","",1,"footer"]],template:function(m,T){1&m&&(_.TgZ(0,"app-page-wrapper",0),_._UZ(1,"div",1),_.TgZ(2,"div",2),_._UZ(3,"app-nav"),_.qZA(),_.TgZ(4,"div",3),_._UZ(5,"router-outlet"),_.qZA(),_._UZ(6,"div",4),_.qZA())},dependencies:[X.lC,wt,n1],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}']}),D})();var cn=F(529);let q1=(()=>{class D{constructor(m){this.firestore=m,this.defaultQuotes=[],this.quotesChanged=new st.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,Ye.U)(m=>m.map(T=>({id:T.payload.doc.id,...T.payload.doc.data()})))).subscribe(m=>{this.defaultQuotes=m,this.quotesChanged.next([...this.defaultQuotes])})}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(Gt.ST))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})();class Ee{}const le="*";function A1(D,g=null){return{type:2,steps:D,options:g}}function Y1(D){return{type:6,styles:D,offset:null}}function q2(D){Promise.resolve().then(D)}class w2{constructor(g=0,m=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=g+m}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){q2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(g=>g()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(g){this._position=this.totalTime?g*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(g){const m="start"==g?this._onStartFns:this._onDoneFns;m.forEach(T=>T()),m.length=0}}class I2{constructor(g){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=g;let m=0,T=0,B=0;const ee=this.players.length;0==ee?q2(()=>this._onFinish()):this.players.forEach(Se=>{Se.onDone(()=>{++m==ee&&this._onFinish()}),Se.onDestroy(()=>{++T==ee&&this._onDestroy()}),Se.onStart(()=>{++B==ee&&this._onStart()})}),this.totalTime=this.players.reduce((Se,Oe)=>Math.max(Se,Oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this.players.forEach(g=>g.init())}onStart(g){this._onStartFns.push(g)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(g=>g()),this._onStartFns=[])}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(g=>g.play())}pause(){this.players.forEach(g=>g.pause())}restart(){this.players.forEach(g=>g.restart())}finish(){this._onFinish(),this.players.forEach(g=>g.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(g=>g.destroy()),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this.players.forEach(g=>g.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(g){const m=g*this.totalTime;this.players.forEach(T=>{const B=T.totalTime?Math.min(1,m/T.totalTime):1;T.setPosition(B)})}getPosition(){const g=this.players.reduce((m,T)=>null===m||T.totalTime>m.totalTime?T:m,null);return null!=g?g.getPosition():0}beforeDestroy(){this.players.forEach(g=>{g.beforeDestroy&&g.beforeDestroy()})}triggerCallback(g){const m="start"==g?this._onStartFns:this._onDoneFns;m.forEach(T=>T()),m.length=0}}function zn(D){return new _.vHH(3e3,!1)}function Pi(){return typeof window<"u"&&typeof window.document<"u"}function Zr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function z2(D){switch(D.length){case 0:return new w2;case 1:return D[0];default:return new I2(D)}}function fi(D,g,m,T,B=new Map,ee=new Map){const Se=[],Oe=[];let dt=-1,St=null;if(T.forEach(p1=>{const _1=p1.get("offset"),on=_1==dt,fn=on&&St||new Map;p1.forEach((en,K1)=>{let b2=K1,$n=en;if("offset"!==K1)switch(b2=g.normalizePropertyName(b2,Se),$n){case"!":$n=B.get(K1);break;case le:$n=ee.get(K1);break;default:$n=g.normalizeStyleValue(K1,b2,$n,Se)}fn.set(b2,$n)}),on||Oe.push(fn),St=fn,dt=_1}),Se.length)throw function Xe(D){return new _.vHH(3502,!1)}();return Oe}function Ai(D,g,m,T){switch(g){case"start":D.onStart(()=>T(m&&J2(m,"start",D)));break;case"done":D.onDone(()=>T(m&&J2(m,"done",D)));break;case"destroy":D.onDestroy(()=>T(m&&J2(m,"destroy",D)))}}function J2(D,g,m){const ee=Nr(D.element,D.triggerName,D.fromState,D.toState,g||D.phaseName,m.totalTime??D.totalTime,!!m.disabled),Se=D._data;return null!=Se&&(ee._data=Se),ee}function Nr(D,g,m,T,B="",ee=0,Se){return{element:D,triggerName:g,fromState:m,toState:T,phaseName:B,totalTime:ee,disabled:!!Se}}function s2(D,g,m){let T=D.get(g);return T||D.set(g,T=m),T}function hr(D){const g=D.indexOf(":");return[D.substring(1,g),D.slice(g+1)]}let pr=(D,g)=>!1,hi=(D,g,m)=>[],Mi=null;function si(D){const g=D.parentNode||D.host;return g===Mi?null:g}(Zr()||typeof Element<"u")&&(Pi()?(Mi=(()=>document.documentElement)(),pr=(D,g)=>{for(;g;){if(g===D)return!0;g=si(g)}return!1}):pr=(D,g)=>D.contains(g),hi=(D,g,m)=>{if(m)return Array.from(D.querySelectorAll(g));const T=D.querySelector(g);return T?[T]:[]});let mr=null,o2=!1;const nr=pr,qn=hi;let L2=(()=>{class D{validateStyleProperty(m){return function Ii(D){mr||(mr=function d2(){return typeof document<"u"?document.body:null}()||{},o2=!!mr.style&&"WebkitAppearance"in mr.style);let g=!0;return mr.style&&!function Vi(D){return"ebkit"==D.substring(1,6)}(D)&&(g=D in mr.style,!g&&o2&&(g="Webkit"+D.charAt(0).toUpperCase()+D.slice(1)in mr.style)),g}(m)}matchesElement(m,T){return!1}containsElement(m,T){return nr(m,T)}getParentElement(m){return si(m)}query(m,T,B){return qn(m,T,B)}computeStyle(m,T,B){return B||""}animate(m,T,B,ee,Se,Oe=[],dt){return new w2(B,ee)}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})(),pi=(()=>{class D{}return D.NOOP=new L2,D})();const gr="ng-enter",ir="ng-leave",Hr="ng-trigger",m2=".ng-trigger",_2="ng-animating",e2=".ng-animating";function R1(D){if("number"==typeof D)return D;const g=D.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:rr(parseFloat(g[1]),g[2])}function rr(D,g){return"s"===g?1e3*D:D}function xi(D,g,m){return D.hasOwnProperty("duration")?D:function Fr(D,g,m){let B,ee=0,Se="";if("string"==typeof D){const Oe=D.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Oe)return g.push(zn()),{duration:0,delay:0,easing:""};B=rr(parseFloat(Oe[1]),Oe[2]);const dt=Oe[3];null!=dt&&(ee=rr(parseFloat(dt),Oe[4]));const St=Oe[5];St&&(Se=St)}else B=D;if(!m){let Oe=!1,dt=g.length;B<0&&(g.push(function Pr(){return new _.vHH(3100,!1)}()),Oe=!0),ee<0&&(g.push(function H2(){return new _.vHH(3101,!1)}()),Oe=!0),Oe&&g.splice(dt,0,zn())}return{duration:B,delay:ee,easing:Se}}(D,g,m)}function Fi(D,g={}){return Object.keys(D).forEach(m=>{g[m]=D[m]}),g}function Wr(D){const g=new Map;return Object.keys(D).forEach(m=>{g.set(m,D[m])}),g}function mi(D,g=new Map,m){if(m)for(let[T,B]of m)g.set(T,B);for(let[T,B]of D)g.set(T,B);return g}function kt(D,g,m){return m?g+":"+m+";":""}function _n(D){let g="";for(let m=0;m<D.style.length;m++){const T=D.style.item(m);g+=kt(0,T,D.style.getPropertyValue(T))}for(const m in D.style)D.style.hasOwnProperty(m)&&!m.startsWith("_")&&(g+=kt(0,$(m),D.style[m]));D.setAttribute("style",g)}function U2(D,g,m){D.style&&(g.forEach((T,B)=>{const ee=Kr(B);m&&!m.has(B)&&m.set(B,D.style[ee]),D.style[ee]=T}),Zr()&&_n(D))}function Di(D,g){D.style&&(g.forEach((m,T)=>{const B=Kr(T);D.style[B]=""}),Zr()&&_n(D))}function a2(D){return Array.isArray(D)?1==D.length?D[0]:A1(D):D}const qr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wi(D){let g=[];if("string"==typeof D){let m;for(;m=qr.exec(D);)g.push(m[1]);qr.lastIndex=0}return g}function qi(D,g,m){const T=D.toString(),B=T.replace(qr,(ee,Se)=>{let Oe=g[Se];return null==Oe&&(m.push(function Y2(D){return new _.vHH(3003,!1)}()),Oe=""),Oe.toString()});return B==T?D:B}function Ki(D){const g=[];let m=D.next();for(;!m.done;)g.push(m.value),m=D.next();return g}const Ss=/-+([a-z0-9])/g;function Kr(D){return D.replace(Ss,(...g)=>g[1].toUpperCase())}function $(D){return D.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function re(D,g,m){switch(g.type){case 7:return D.visitTrigger(g,m);case 0:return D.visitState(g,m);case 1:return D.visitTransition(g,m);case 2:return D.visitSequence(g,m);case 3:return D.visitGroup(g,m);case 4:return D.visitAnimate(g,m);case 5:return D.visitKeyframes(g,m);case 6:return D.visitStyle(g,m);case 8:return D.visitReference(g,m);case 9:return D.visitAnimateChild(g,m);case 10:return D.visitAnimateRef(g,m);case 11:return D.visitQuery(g,m);case 12:return D.visitStagger(g,m);default:throw function ui(D){return new _.vHH(3004,!1)}()}}function ut(D,g){return window.getComputedStyle(D)[g]}function Y(D,g){const m=[];return"string"==typeof D?D.split(/\s*,\s*/).forEach(T=>function oe(D,g,m){if(":"==D[0]){const dt=function fe(D,g){switch(D){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,T)=>parseFloat(T)>parseFloat(m);case":decrement":return(m,T)=>parseFloat(T)<parseFloat(m);default:return g.push(function gs(D){return new _.vHH(3016,!1)}()),"* => *"}}(D,m);if("function"==typeof dt)return void g.push(dt);D=dt}const T=D.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return m.push(function B2(D){return new _.vHH(3015,!1)}()),g;const B=T[1],ee=T[2],Se=T[3];g.push(Dt(B,Se));"<"==ee[0]&&!("*"==B&&"*"==Se)&&g.push(Dt(Se,B))}(T,m,g)):m.push(D),m}const _e=new Set(["true","1"]),$e=new Set(["false","0"]);function Dt(D,g){const m=_e.has(D)||$e.has(D),T=_e.has(g)||$e.has(g);return(B,ee)=>{let Se="*"==D||D==B,Oe="*"==g||g==ee;return!Se&&m&&"boolean"==typeof B&&(Se=B?_e.has(D):$e.has(D)),!Oe&&T&&"boolean"==typeof ee&&(Oe=ee?_e.has(g):$e.has(g)),Se&&Oe}}const xt=new RegExp("s*:selfs*,?","g");function L(D,g,m,T){return new k(D).build(g,m,T)}class k{constructor(g){this._driver=g}build(g,m,T){const B=new nt(m);return this._resetContextStyleTimingState(B),re(this,a2(g),B)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,m){let T=m.queryCount=0,B=m.depCount=0;const ee=[],Se=[];return"@"==g.name.charAt(0)&&m.errors.push(function F2(){return new _.vHH(3006,!1)}()),g.definitions.forEach(Oe=>{if(this._resetContextStyleTimingState(m),0==Oe.type){const dt=Oe,St=dt.name;St.toString().split(/\s*,\s*/).forEach(p1=>{dt.name=p1,ee.push(this.visitState(dt,m))}),dt.name=St}else if(1==Oe.type){const dt=this.visitTransition(Oe,m);T+=dt.queryCount,B+=dt.depCount,Se.push(dt)}else m.errors.push(function jn(){return new _.vHH(3007,!1)}())}),{type:7,name:g.name,states:ee,transitions:Se,queryCount:T,depCount:B,options:null}}visitState(g,m){const T=this.visitStyle(g.styles,m),B=g.options&&g.options.params||null;if(T.containsDynamicStyles){const ee=new Set,Se=B||{};T.styles.forEach(Oe=>{Oe instanceof Map&&Oe.forEach(dt=>{Wi(dt).forEach(St=>{Se.hasOwnProperty(St)||ee.add(St)})})}),ee.size&&(Ki(ee.values()),m.errors.push(function ki(D,g){return new _.vHH(3008,!1)}()))}return{type:0,name:g.name,style:T,options:B?{params:B}:null}}visitTransition(g,m){m.queryCount=0,m.depCount=0;const T=re(this,a2(g.animation),m);return{type:1,matchers:Y(g.expr,m.errors),animation:T,queryCount:m.queryCount,depCount:m.depCount,options:$1(g.options)}}visitSequence(g,m){return{type:2,steps:g.steps.map(T=>re(this,T,m)),options:$1(g.options)}}visitGroup(g,m){const T=m.currentTime;let B=0;const ee=g.steps.map(Se=>{m.currentTime=T;const Oe=re(this,Se,m);return B=Math.max(B,m.currentTime),Oe});return m.currentTime=B,{type:3,steps:ee,options:$1(g.options)}}visitAnimate(g,m){const T=function a1(D,g){if(D.hasOwnProperty("duration"))return D;if("number"==typeof D)return ln(xi(D,g).duration,0,"");const m=D;if(m.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=ln(0,0,"");return ee.dynamic=!0,ee.strValue=m,ee}const B=xi(m,g);return ln(B.duration,B.delay,B.easing)}(g.timings,m.errors);m.currentAnimateTimings=T;let B,ee=g.styles?g.styles:Y1({});if(5==ee.type)B=this.visitKeyframes(ee,m);else{let Se=g.styles,Oe=!1;if(!Se){Oe=!0;const St={};T.easing&&(St.easing=T.easing),Se=Y1(St)}m.currentTime+=T.duration+T.delay;const dt=this.visitStyle(Se,m);dt.isEmptyStep=Oe,B=dt}return m.currentAnimateTimings=null,{type:4,timings:T,style:B,options:null}}visitStyle(g,m){const T=this._makeStyleAst(g,m);return this._validateStyleAst(T,m),T}_makeStyleAst(g,m){const T=[],B=Array.isArray(g.styles)?g.styles:[g.styles];for(let Oe of B)"string"==typeof Oe?Oe===le?T.push(Oe):m.errors.push(new _.vHH(3002,!1)):T.push(Wr(Oe));let ee=!1,Se=null;return T.forEach(Oe=>{if(Oe instanceof Map&&(Oe.has("easing")&&(Se=Oe.get("easing"),Oe.delete("easing")),!ee))for(let dt of Oe.values())if(dt.toString().indexOf("{{")>=0){ee=!0;break}}),{type:6,styles:T,easing:Se,offset:g.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(g,m){const T=m.currentAnimateTimings;let B=m.currentTime,ee=m.currentTime;T&&ee>0&&(ee-=T.duration+T.delay),g.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((Oe,dt)=>{const St=m.collectedStyles.get(m.currentQuerySelector),p1=St.get(dt);let _1=!0;p1&&(ee!=B&&ee>=p1.startTime&&B<=p1.endTime&&(m.errors.push(function ur(D,g,m,T,B){return new _.vHH(3010,!1)}()),_1=!1),ee=p1.startTime),_1&&St.set(dt,{startTime:ee,endTime:B}),m.options&&function xs(D,g,m){const T=g.params||{},B=Wi(D);B.length&&B.forEach(ee=>{T.hasOwnProperty(ee)||m.push(function K2(D){return new _.vHH(3001,!1)}())})}(Oe,m.options,m.errors)})})}visitKeyframes(g,m){const T={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function Ci(){return new _.vHH(3011,!1)}()),T;let ee=0;const Se=[];let Oe=!1,dt=!1,St=0;const p1=g.steps.map($n=>{const Qi=this._makeStyleAst($n,m);let X2=null!=Qi.offset?Qi.offset:function yt(D){if("string"==typeof D)return null;let g=null;if(Array.isArray(D))D.forEach(m=>{if(m instanceof Map&&m.has("offset")){const T=m;g=parseFloat(T.get("offset")),T.delete("offset")}});else if(D instanceof Map&&D.has("offset")){const m=D;g=parseFloat(m.get("offset")),m.delete("offset")}return g}(Qi.styles),ei=0;return null!=X2&&(ee++,ei=Qi.offset=X2),dt=dt||ei<0||ei>1,Oe=Oe||ei<St,St=ei,Se.push(ei),Qi});dt&&m.errors.push(function dr(){return new _.vHH(3012,!1)}()),Oe&&m.errors.push(function x2(){return new _.vHH(3200,!1)}());const _1=g.steps.length;let on=0;ee>0&&ee<_1?m.errors.push(function Tr(){return new _.vHH(3202,!1)}()):0==ee&&(on=1/(_1-1));const fn=_1-1,en=m.currentTime,K1=m.currentAnimateTimings,b2=K1.duration;return p1.forEach(($n,Qi)=>{const X2=on>0?Qi==fn?1:on*Qi:Se[Qi],ei=X2*b2;m.currentTime=en+K1.delay+ei,K1.duration=ei,this._validateStyleAst($n,m),$n.offset=X2,T.styles.push($n)}),T}visitReference(g,m){return{type:8,animation:re(this,a2(g.animation),m),options:$1(g.options)}}visitAnimateChild(g,m){return m.depCount++,{type:9,options:$1(g.options)}}visitAnimateRef(g,m){return{type:10,animation:this.visitReference(g.animation,m),options:$1(g.options)}}visitQuery(g,m){const T=m.currentQuerySelector,B=g.options||{};m.queryCount++,m.currentQuery=g;const[ee,Se]=function te(D){const g=!!D.split(/\s*,\s*/).find(m=>":self"==m);return g&&(D=D.replace(xt,"")),D=D.replace(/@\*/g,m2).replace(/@\w+/g,m=>m2+"-"+m.slice(1)).replace(/:animating/g,e2),[D,g]}(g.selector);m.currentQuerySelector=T.length?T+" "+ee:ee,s2(m.collectedStyles,m.currentQuerySelector,new Map);const Oe=re(this,a2(g.animation),m);return m.currentQuery=null,m.currentQuerySelector=T,{type:11,selector:ee,limit:B.limit||0,optional:!!B.optional,includeSelf:Se,animation:Oe,originalSelector:g.selector,options:$1(g.options)}}visitStagger(g,m){m.currentQuery||m.errors.push(function Vr(){return new _.vHH(3013,!1)}());const T="full"===g.timings?{duration:0,delay:0,easing:"full"}:xi(g.timings,m.errors,!0);return{type:12,animation:re(this,a2(g.animation),m),timings:T,options:null}}}class nt{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $1(D){return D?(D=Fi(D)).params&&(D.params=function Ce(D){return D?Fi(D):null}(D.params)):D={},D}function ln(D,g,m){return{duration:D,delay:g,easing:m}}function mn(D,g,m,T,B,ee,Se=null,Oe=!1){return{type:1,element:D,keyframes:g,preStyleProps:m,postStyleProps:T,duration:B,delay:ee,totalTime:B+ee,easing:Se,subTimeline:Oe}}class sn{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,m){let T=this._map.get(g);T||this._map.set(g,T=[]),T.push(...m)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const En=new RegExp(":enter","g"),_r=new RegExp(":leave","g");function Yi(D,g,m,T,B,ee=new Map,Se=new Map,Oe,dt,St=[]){return(new br).buildKeyframes(D,g,m,T,B,ee,Se,Oe,dt,St)}class br{buildKeyframes(g,m,T,B,ee,Se,Oe,dt,St,p1=[]){St=St||new sn;const _1=new j2(g,m,St,B,ee,p1,[]);_1.options=dt;const on=dt.delay?R1(dt.delay):0;_1.currentTimeline.delayNextStep(on),_1.currentTimeline.setStyles([Se],null,_1.errors,dt),re(this,T,_1);const fn=_1.timelines.filter(en=>en.containsAnimation());if(fn.length&&Oe.size){let en;for(let K1=fn.length-1;K1>=0;K1--){const b2=fn[K1];if(b2.element===m){en=b2;break}}en&&!en.allowOnlyTimelineStyles()&&en.setStyles([Oe],null,_1.errors,dt)}return fn.length?fn.map(en=>en.buildKeyframes()):[mn(m,[],[],[],0,on,"",!1)]}visitTrigger(g,m){}visitState(g,m){}visitTransition(g,m){}visitAnimateChild(g,m){const T=m.subInstructions.get(m.element);if(T){const B=m.createSubContext(g.options),ee=m.currentTimeline.currentTime,Se=this._visitSubInstructions(T,B,B.options);ee!=Se&&m.transformIntoNewTimeline(Se)}m.previousNode=g}visitAnimateRef(g,m){const T=m.createSubContext(g.options);T.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],m,T),this.visitReference(g.animation,T),m.transformIntoNewTimeline(T.currentTimeline.currentTime),m.previousNode=g}_applyAnimationRefDelays(g,m,T){for(const B of g){const ee=B?.delay;if(ee){const Se="number"==typeof ee?ee:R1(qi(ee,B?.params??{},m.errors));T.delayNextStep(Se)}}}_visitSubInstructions(g,m,T){let ee=m.currentTimeline.currentTime;const Se=null!=T.duration?R1(T.duration):null,Oe=null!=T.delay?R1(T.delay):null;return 0!==Se&&g.forEach(dt=>{const St=m.appendInstructionToTimeline(dt,Se,Oe);ee=Math.max(ee,St.duration+St.delay)}),ee}visitReference(g,m){m.updateOptions(g.options,!0),re(this,g.animation,m),m.previousNode=g}visitSequence(g,m){const T=m.subContextCount;let B=m;const ee=g.options;if(ee&&(ee.params||ee.delay)&&(B=m.createSubContext(ee),B.transformIntoNewTimeline(),null!=ee.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=Ji);const Se=R1(ee.delay);B.delayNextStep(Se)}g.steps.length&&(g.steps.forEach(Se=>re(this,Se,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>T&&B.transformIntoNewTimeline()),m.previousNode=g}visitGroup(g,m){const T=[];let B=m.currentTimeline.currentTime;const ee=g.options&&g.options.delay?R1(g.options.delay):0;g.steps.forEach(Se=>{const Oe=m.createSubContext(g.options);ee&&Oe.delayNextStep(ee),re(this,Se,Oe),B=Math.max(B,Oe.currentTimeline.currentTime),T.push(Oe.currentTimeline)}),T.forEach(Se=>m.currentTimeline.mergeTimelineCollectedStyles(Se)),m.transformIntoNewTimeline(B),m.previousNode=g}_visitTiming(g,m){if(g.dynamic){const T=g.strValue;return xi(m.params?qi(T,m.params,m.errors):T,m.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,m){const T=m.currentAnimateTimings=this._visitTiming(g.timings,m),B=m.currentTimeline;T.delay&&(m.incrementTime(T.delay),B.snapshotCurrentStyles());const ee=g.style;5==ee.type?this.visitKeyframes(ee,m):(m.incrementTime(T.duration),this.visitStyle(ee,m),B.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=g}visitStyle(g,m){const T=m.currentTimeline,B=m.currentAnimateTimings;!B&&T.hasCurrentStyleProperties()&&T.forwardFrame();const ee=B&&B.easing||g.easing;g.isEmptyStep?T.applyEmptyStep(ee):T.setStyles(g.styles,ee,m.errors,m.options),m.previousNode=g}visitKeyframes(g,m){const T=m.currentAnimateTimings,B=m.currentTimeline.duration,ee=T.duration,Oe=m.createSubContext().currentTimeline;Oe.easing=T.easing,g.styles.forEach(dt=>{Oe.forwardTime((dt.offset||0)*ee),Oe.setStyles(dt.styles,dt.easing,m.errors,m.options),Oe.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(Oe),m.transformIntoNewTimeline(B+ee),m.previousNode=g}visitQuery(g,m){const T=m.currentTimeline.currentTime,B=g.options||{},ee=B.delay?R1(B.delay):0;ee&&(6===m.previousNode.type||0==T&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=Ji);let Se=T;const Oe=m.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!B.optional,m.errors);m.currentQueryTotal=Oe.length;let dt=null;Oe.forEach((St,p1)=>{m.currentQueryIndex=p1;const _1=m.createSubContext(g.options,St);ee&&_1.delayNextStep(ee),St===m.element&&(dt=_1.currentTimeline),re(this,g.animation,_1),_1.currentTimeline.applyStylesToKeyframe(),Se=Math.max(Se,_1.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(Se),dt&&(m.currentTimeline.mergeTimelineCollectedStyles(dt),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=g}visitStagger(g,m){const T=m.parentContext,B=m.currentTimeline,ee=g.timings,Se=Math.abs(ee.duration),Oe=Se*(m.currentQueryTotal-1);let dt=Se*m.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":dt=Oe-dt;break;case"full":dt=T.currentStaggerTime}const p1=m.currentTimeline;dt&&p1.delayNextStep(dt);const _1=p1.currentTime;re(this,g.animation,m),m.previousNode=g,T.currentStaggerTime=B.currentTime-_1+(B.startTime-T.currentTimeline.startTime)}}const Ji={};class j2{constructor(g,m,T,B,ee,Se,Oe,dt){this._driver=g,this.element=m,this.subInstructions=T,this._enterClassName=B,this._leaveClassName=ee,this.errors=Se,this.timelines=Oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ji,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=dt||new Br(this._driver,m,0),Oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,m){if(!g)return;const T=g;let B=this.options;null!=T.duration&&(B.duration=R1(T.duration)),null!=T.delay&&(B.delay=R1(T.delay));const ee=T.params;if(ee){let Se=B.params;Se||(Se=this.options.params={}),Object.keys(ee).forEach(Oe=>{(!m||!Se.hasOwnProperty(Oe))&&(Se[Oe]=qi(ee[Oe],Se,this.errors))})}}_copyOptions(){const g={};if(this.options){const m=this.options.params;if(m){const T=g.params={};Object.keys(m).forEach(B=>{T[B]=m[B]})}}return g}createSubContext(g=null,m,T){const B=m||this.element,ee=new j2(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,T||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(g),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(g){return this.previousNode=Ji,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,m,T){const B={duration:m??g.duration,delay:this.currentTimeline.currentTime+(T??0)+g.delay,easing:""},ee=new Js(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,B,g.stretchStartingKeyframe);return this.timelines.push(ee),B}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,m,T,B,ee,Se){let Oe=[];if(B&&Oe.push(this.element),g.length>0){g=(g=g.replace(En,"."+this._enterClassName)).replace(_r,"."+this._leaveClassName);let St=this._driver.query(this.element,g,1!=T);0!==T&&(St=T<0?St.slice(St.length+T,St.length):St.slice(0,T)),Oe.push(...St)}return!ee&&0==Oe.length&&Se.push(function ms(D){return new _.vHH(3014,!1)}()),Oe}}class Br{constructor(g,m,T,B){this._driver=g,this.element=m,this.startTime=T,this._elementTimelineStylesLookup=B,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+g),m&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,m){return this.applyStylesToKeyframe(),new Br(this._driver,g,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,m){this._localTimelineStyles.set(g,m),this._globalTimelineStyles.set(g,m),this._styleSummary.set(g,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[m,T]of this._globalTimelineStyles)this._backFill.set(m,T||le),this._currentKeyframe.set(m,le);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,m,T,B){m&&this._previousKeyframe.set("easing",m);const ee=B&&B.params||{},Se=function Co(D,g){const m=new Map;let T;return D.forEach(B=>{if("*"===B){T=T||g.keys();for(let ee of T)m.set(ee,le)}else mi(B,m)}),m}(g,this._globalTimelineStyles);for(let[Oe,dt]of Se){const St=qi(dt,ee,T);this._pendingStyles.set(Oe,St),this._localTimelineStyles.has(Oe)||this._backFill.set(Oe,this._globalTimelineStyles.get(Oe)??le),this._updateStyle(Oe,St)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,m)=>{this._currentKeyframe.set(m,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,g)}))}snapshotCurrentStyles(){for(let[g,m]of this._localTimelineStyles)this._pendingStyles.set(g,m),this._updateStyle(g,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let m in this._currentKeyframe)g.push(m);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((m,T)=>{const B=this._styleSummary.get(T);(!B||m.time>B.time)&&this._updateStyle(T,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,m=new Set,T=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((Oe,dt)=>{const St=mi(Oe,new Map,this._backFill);St.forEach((p1,_1)=>{"!"===p1?g.add(_1):p1===le&&m.add(_1)}),T||St.set("offset",dt/this.duration),B.push(St)});const ee=g.size?Ki(g.values()):[],Se=m.size?Ki(m.values()):[];if(T){const Oe=B[0],dt=new Map(Oe);Oe.set("offset",0),dt.set("offset",1),B=[Oe,dt]}return mn(this.element,B,ee,Se,this.duration,this.startTime,this.easing,!1)}}class Js extends Br{constructor(g,m,T,B,ee,Se,Oe=!1){super(g,m,Se.delay),this.keyframes=T,this.preStyleProps=B,this.postStyleProps=ee,this._stretchStartingKeyframe=Oe,this.timings={duration:Se.duration,delay:Se.delay,easing:Se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:m,duration:T,easing:B}=this.timings;if(this._stretchStartingKeyframe&&m){const ee=[],Se=T+m,Oe=m/Se,dt=mi(g[0]);dt.set("offset",0),ee.push(dt);const St=mi(g[0]);St.set("offset",O2(Oe)),ee.push(St);const p1=g.length-1;for(let _1=1;_1<=p1;_1++){let on=mi(g[_1]);const fn=on.get("offset");on.set("offset",O2((m+fn*T)/Se)),ee.push(on)}T=Se,m=0,B="",g=ee}return mn(this.element,g,this.preStyleProps,this.postStyleProps,T,m,B,!0)}}function O2(D,g=3){const m=Math.pow(10,g-1);return Math.round(D*m)/m}class so{}const Mo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class oo extends so{normalizePropertyName(g,m){return Kr(g)}normalizeStyleValue(g,m,T,B){let ee="";const Se=T.toString().trim();if(Mo.has(m)&&0!==T&&"0"!==T)if("number"==typeof T)ee="px";else{const Oe=T.match(/^[+-]?[\d\.]+([a-z]*)$/);Oe&&0==Oe[1].length&&B.push(function di(D,g){return new _.vHH(3005,!1)}())}return Se+ee}}function zs(D,g,m,T,B,ee,Se,Oe,dt,St,p1,_1,on){return{type:0,element:D,triggerName:g,isRemovalTransition:B,fromState:m,fromStyles:ee,toState:T,toStyles:Se,timelines:Oe,queriedElements:dt,preStyleProps:St,postStyleProps:p1,totalTime:_1,errors:on}}const Us={};class wo{constructor(g,m,T){this._triggerName=g,this.ast=m,this._stateStyles=T}match(g,m,T,B){return function zi(D,g,m,T,B){return D.some(ee=>ee(g,m,T,B))}(this.ast.matchers,g,m,T,B)}buildStyles(g,m,T){let B=this._stateStyles.get("*");return void 0!==g&&(B=this._stateStyles.get(g?.toString())||B),B?B.buildStyles(m,T):new Map}build(g,m,T,B,ee,Se,Oe,dt,St,p1){const _1=[],on=this.ast.options&&this.ast.options.params||Us,en=this.buildStyles(T,Oe&&Oe.params||Us,_1),K1=dt&&dt.params||Us,b2=this.buildStyles(B,K1,_1),$n=new Set,Qi=new Map,X2=new Map,ei="void"===B,Rs={params:ai(K1,on),delay:this.ast.options?.delay},E2=p1?[]:Yi(g,m,this.ast.animation,ee,Se,en,b2,Rs,St,_1);let zr=0;if(E2.forEach(G=>{zr=Math.max(G.duration+G.delay,zr)}),_1.length)return zs(m,this._triggerName,T,B,ei,en,b2,[],[],Qi,X2,zr,_1);E2.forEach(G=>{const ie=G.element,ye=s2(Qi,ie,new Set);G.preStyleProps.forEach(mt=>ye.add(mt));const Qe=s2(X2,ie,new Set);G.postStyleProps.forEach(mt=>Qe.add(mt)),ie!==m&&$n.add(ie)});const H=Ki($n.values());return zs(m,this._triggerName,T,B,ei,en,b2,E2,H,Qi,X2,zr)}}function ai(D,g){const m=Fi(g);for(const T in D)D.hasOwnProperty(T)&&null!=D[T]&&(m[T]=D[T]);return m}class Yr{constructor(g,m,T){this.styles=g,this.defaultParams=m,this.normalizer=T}buildStyles(g,m){const T=new Map,B=Fi(this.defaultParams);return Object.keys(g).forEach(ee=>{const Se=g[ee];null!==Se&&(B[ee]=Se)}),this.styles.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Se,Oe)=>{Se&&(Se=qi(Se,B,m));const dt=this.normalizer.normalizePropertyName(Oe,m);Se=this.normalizer.normalizeStyleValue(Oe,dt,Se,m),T.set(dt,Se)})}),T}}class vs{constructor(g,m,T){this.name=g,this.ast=m,this._normalizer=T,this.transitionFactories=[],this.states=new Map,m.states.forEach(B=>{this.states.set(B.name,new Yr(B.style,B.options&&B.options.params||{},T))}),gi(this.states,"true","1"),gi(this.states,"false","0"),m.transitions.forEach(B=>{this.transitionFactories.push(new wo(g,B,this.states))}),this.fallbackTransition=function qt(D,g,m){return new wo(D,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Se,Oe)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,m,T,B){return this.transitionFactories.find(Se=>Se.match(g,m,T,B))||null}matchStyles(g,m,T){return this.fallbackTransition.buildStyles(g,m,T)}}function gi(D,g,m){D.has(g)?D.has(m)||D.set(m,D.get(g)):D.has(m)&&D.set(g,D.get(m))}const as=new sn;class ao{constructor(g,m,T){this.bodyNode=g,this._driver=m,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,m){const T=[],ee=L(this._driver,m,T,[]);if(T.length)throw function At(D){return new _.vHH(3503,!1)}();this._animations.set(g,ee)}_buildPlayer(g,m,T){const B=g.element,ee=fi(0,this._normalizer,0,g.keyframes,m,T);return this._driver.animate(B,ee,g.duration,g.delay,g.easing,[],!0)}create(g,m,T={}){const B=[],ee=this._animations.get(g);let Se;const Oe=new Map;if(ee?(Se=Yi(this._driver,m,ee,gr,ir,new Map,new Map,T,as,B),Se.forEach(p1=>{const _1=s2(Oe,p1.element,new Map);p1.postStyleProps.forEach(on=>_1.set(on,null))})):(B.push(function Xt(){return new _.vHH(3300,!1)}()),Se=[]),B.length)throw function z1(D){return new _.vHH(3504,!1)}();Oe.forEach((p1,_1)=>{p1.forEach((on,fn)=>{p1.set(fn,this._driver.computeStyle(_1,fn,le))})});const St=z2(Se.map(p1=>{const _1=Oe.get(p1.element);return this._buildPlayer(p1,new Map,_1)}));return this._playersById.set(g,St),St.onDestroy(()=>this.destroy(g)),this.players.push(St),St}destroy(g){const m=this._getPlayer(g);m.destroy(),this._playersById.delete(g);const T=this.players.indexOf(m);T>=0&&this.players.splice(T,1)}_getPlayer(g){const m=this._playersById.get(g);if(!m)throw function Q1(D){return new _.vHH(3301,!1)}();return m}listen(g,m,T,B){const ee=Nr(m,"","","");return Ai(this._getPlayer(g),T,ee,B),()=>{}}command(g,m,T,B){if("register"==T)return void this.register(g,B[0]);if("create"==T)return void this.create(g,m,B[0]||{});const ee=this._getPlayer(g);switch(T){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(g)}}}const l1="ng-animate-queued",Qs="ng-animate-disabled",G2=[],Ei={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$2="__ng_removed";class Xs{constructor(g,m=""){this.namespaceId=m;const T=g&&g.hasOwnProperty("value");if(this.value=function js(D){return D??null}(T?g.value:g),T){const ee=Fi(g);delete ee.value,this.options=ee}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(g){const m=g.params;if(m){const T=this.options.params;Object.keys(m).forEach(B=>{null==T[B]&&(T[B]=m[B])})}}}const cs="void",eo=new Xs(cs);class Do{constructor(g,m,T){this.id=g,this.hostElement=m,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,Kn(m,this._hostClassName)}listen(g,m,T,B){if(!this._triggers.has(m))throw function kn(D,g){return new _.vHH(3302,!1)}();if(null==T||0==T.length)throw function wn(D){return new _.vHH(3303,!1)}();if(!function or(D){return"start"==D||"done"==D}(T))throw function $i(D,g){return new _.vHH(3400,!1)}();const ee=s2(this._elementListeners,g,[]),Se={name:m,phase:T,callback:B};ee.push(Se);const Oe=s2(this._engine.statesByElement,g,new Map);return Oe.has(m)||(Kn(g,Hr),Kn(g,Hr+"-"+m),Oe.set(m,eo)),()=>{this._engine.afterFlush(()=>{const dt=ee.indexOf(Se);dt>=0&&ee.splice(dt,1),this._triggers.has(m)||Oe.delete(m)})}}register(g,m){return!this._triggers.has(g)&&(this._triggers.set(g,m),!0)}_getTrigger(g){const m=this._triggers.get(g);if(!m)throw function tr(D){return new _.vHH(3401,!1)}();return m}trigger(g,m,T,B=!0){const ee=this._getTrigger(m),Se=new Cr(this.id,m,g);let Oe=this._engine.statesByElement.get(g);Oe||(Kn(g,Hr),Kn(g,Hr+"-"+m),this._engine.statesByElement.set(g,Oe=new Map));let dt=Oe.get(m);const St=new Xs(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&dt&&St.absorbOptions(dt.options),Oe.set(m,St),dt||(dt=eo),St.value!==cs&&dt.value===St.value){if(!function Ts(D,g){const m=Object.keys(D),T=Object.keys(g);if(m.length!=T.length)return!1;for(let B=0;B<m.length;B++){const ee=m[B];if(!g.hasOwnProperty(ee)||D[ee]!==g[ee])return!1}return!0}(dt.params,St.params)){const K1=[],b2=ee.matchStyles(dt.value,dt.params,K1),$n=ee.matchStyles(St.value,St.params,K1);K1.length?this._engine.reportError(K1):this._engine.afterFlush(()=>{Di(g,b2),U2(g,$n)})}return}const on=s2(this._engine.playersByElement,g,[]);on.forEach(K1=>{K1.namespaceId==this.id&&K1.triggerName==m&&K1.queued&&K1.destroy()});let fn=ee.matchTransition(dt.value,St.value,g,St.params),en=!1;if(!fn){if(!B)return;fn=ee.fallbackTransition,en=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:m,transition:fn,fromState:dt,toState:St,player:Se,isFallbackTransition:en}),en||(Kn(g,l1),Se.onStart(()=>{Sn(g,l1)})),Se.onDone(()=>{let K1=this.players.indexOf(Se);K1>=0&&this.players.splice(K1,1);const b2=this._engine.playersByElement.get(g);if(b2){let $n=b2.indexOf(Se);$n>=0&&b2.splice($n,1)}}),this.players.push(Se),on.push(Se),Se}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(m=>m.delete(g)),this._elementListeners.forEach((m,T)=>{this._elementListeners.set(T,m.filter(B=>B.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const m=this._engine.playersByElement.get(g);m&&(m.forEach(T=>T.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,m){const T=this._engine.driver.query(g,m2,!0);T.forEach(B=>{if(B[$2])return;const ee=this._engine.fetchNamespacesByElement(B);ee.size?ee.forEach(Se=>Se.triggerLeaveAnimation(B,m,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(g,m,T,B){const ee=this._engine.statesByElement.get(g),Se=new Map;if(ee){const Oe=[];if(ee.forEach((dt,St)=>{if(Se.set(St,dt.value),this._triggers.has(St)){const p1=this.trigger(g,St,cs,B);p1&&Oe.push(p1)}}),Oe.length)return this._engine.markElementAsRemoved(this.id,g,!0,m,Se),T&&z2(Oe).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const m=this._elementListeners.get(g),T=this._engine.statesByElement.get(g);if(m&&T){const B=new Set;m.forEach(ee=>{const Se=ee.name;if(B.has(Se))return;B.add(Se);const dt=this._triggers.get(Se).fallbackTransition,St=T.get(Se)||eo,p1=new Xs(cs),_1=new Cr(this.id,Se,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:Se,transition:dt,fromState:St,toState:p1,player:_1,isFallbackTransition:!0})})}}removeNode(g,m){const T=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,m),this.triggerLeaveAnimation(g,m,!0))return;let B=!1;if(T.totalAnimations){const ee=T.players.length?T.playersByQueriedElement.get(g):[];if(ee&&ee.length)B=!0;else{let Se=g;for(;Se=Se.parentNode;)if(T.statesByElement.get(Se)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(g),B)T.markElementAsRemoved(this.id,g,!1,m);else{const ee=g[$2];(!ee||ee===Ei)&&(T.afterFlush(()=>this.clearElementCache(g)),T.destroyInnerAnimations(g),T._onRemovalComplete(g,m))}}insertNode(g,m){Kn(g,this._hostClassName)}drainQueuedTransitions(g){const m=[];return this._queue.forEach(T=>{const B=T.player;if(B.destroyed)return;const ee=T.element,Se=this._elementListeners.get(ee);Se&&Se.forEach(Oe=>{if(Oe.name==T.triggerName){const dt=Nr(ee,T.triggerName,T.fromState.value,T.toState.value);dt._data=g,Ai(T.player,Oe.phase,dt,Oe.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):m.push(T)}),this._queue=[],m.sort((T,B)=>{const ee=T.transition.ast.depCount,Se=B.transition.ast.depCount;return 0==ee||0==Se?ee-Se:this._engine.driver.containsElement(T.element,B.element)?1:-1})}destroy(g){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let m=!1;return this._elementListeners.has(g)&&(m=!0),m=!!this._queue.find(T=>T.element===g)||m,m}}class Q2{constructor(g,m,T){this.bodyNode=g,this.driver=m,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,ee)=>{}}_onRemovalComplete(g,m){this.onRemovalComplete(g,m)}get queuedPlayers(){const g=[];return this._namespaceList.forEach(m=>{m.players.forEach(T=>{T.queued&&g.push(T)})}),g}createNamespace(g,m){const T=new Do(g,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(T,m):(this.newHostElements.set(m,T),this.collectEnterElement(m)),this._namespaceLookup[g]=T}_balanceNamespaceList(g,m){const T=this._namespaceList,B=this.namespacesByHostElement;if(T.length-1>=0){let Se=!1,Oe=this.driver.getParentElement(m);for(;Oe;){const dt=B.get(Oe);if(dt){const St=T.indexOf(dt);T.splice(St+1,0,g),Se=!0;break}Oe=this.driver.getParentElement(Oe)}Se||T.unshift(g)}else T.push(g);return B.set(m,g),g}register(g,m){let T=this._namespaceLookup[g];return T||(T=this.createNamespace(g,m)),T}registerTrigger(g,m,T){let B=this._namespaceLookup[g];B&&B.register(m,T)&&this.totalAnimations++}destroy(g,m){if(!g)return;const T=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(T.hostElement),delete this._namespaceLookup[g];const B=this._namespaceList.indexOf(T);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>T.destroy(m))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const m=new Set,T=this.statesByElement.get(g);if(T)for(let B of T.values())if(B.namespaceId){const ee=this._fetchNamespace(B.namespaceId);ee&&m.add(ee)}return m}trigger(g,m,T,B){if(X1(m)){const ee=this._fetchNamespace(g);if(ee)return ee.trigger(m,T,B),!0}return!1}insertNode(g,m,T,B){if(!X1(m))return;const ee=m[$2];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const Se=this.collectedLeaveElements.indexOf(m);Se>=0&&this.collectedLeaveElements.splice(Se,1)}if(g){const Se=this._fetchNamespace(g);Se&&Se.insertNode(m,T)}B&&this.collectEnterElement(m)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,m){m?this.disabledNodes.has(g)||(this.disabledNodes.add(g),Kn(g,Qs)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Sn(g,Qs))}removeNode(g,m,T,B){if(X1(m)){const ee=g?this._fetchNamespace(g):null;if(ee?ee.removeNode(m,B):this.markElementAsRemoved(g,m,!1,B),T){const Se=this.namespacesByHostElement.get(m);Se&&Se.id!==g&&Se.removeNode(m,B)}}else this._onRemovalComplete(m,B)}markElementAsRemoved(g,m,T,B,ee){this.collectedLeaveElements.push(m),m[$2]={namespaceId:g,setForRemoval:B,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:ee}}listen(g,m,T,B,ee){return X1(m)?this._fetchNamespace(g).listen(m,T,B,ee):()=>{}}_buildInstruction(g,m,T,B,ee){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,T,B,g.fromState.options,g.toState.options,m,ee)}destroyInnerAnimations(g){let m=this.driver.query(g,m2,!0);m.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(g,e2,!0),m.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(g){const m=this.playersByElement.get(g);m&&m.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(g){const m=this.playersByQueriedElement.get(g);m&&m.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return z2(this.players).onDone(()=>g());g()})}processLeaveNode(g){const m=g[$2];if(m&&m.setForRemoval){if(g[$2]=Ei,m.namespaceId){this.destroyInnerAnimations(g);const T=this._fetchNamespace(m.namespaceId);T&&T.clearElementCache(g)}this._onRemovalComplete(g,m.setForRemoval)}g.classList?.contains(Qs)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(g=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,B)=>this._balanceNamespaceList(T,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)Kn(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{m=this._flushAnimations(T,g)}finally{for(let B=0;B<T.length;B++)T[B]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],m.length?z2(m).onDone(()=>{T.forEach(B=>B())}):T.forEach(B=>B())}}reportError(g){throw function ii(D){return new _.vHH(3402,!1)}()}_flushAnimations(g,m){const T=new sn,B=[],ee=new Map,Se=[],Oe=new Map,dt=new Map,St=new Map,p1=new Set;this.disabledNodes.forEach(Lt=>{p1.add(Lt);const Bt=this.driver.query(Lt,".ng-animate-queued",!0);for(let h1=0;h1<Bt.length;h1++)p1.add(Bt[h1])});const _1=this.bodyNode,on=Array.from(this.statesByElement.keys()),fn=P1(on,this.collectedEnterElements),en=new Map;let K1=0;fn.forEach((Lt,Bt)=>{const h1=gr+K1++;en.set(Bt,h1),Lt.forEach(Ht=>Kn(Ht,h1))});const b2=[],$n=new Set,Qi=new Set;for(let Lt=0;Lt<this.collectedLeaveElements.length;Lt++){const Bt=this.collectedLeaveElements[Lt],h1=Bt[$2];h1&&h1.setForRemoval&&(b2.push(Bt),$n.add(Bt),h1.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(Ht=>$n.add(Ht)):Qi.add(Bt))}const X2=new Map,ei=P1(on,Array.from($n));ei.forEach((Lt,Bt)=>{const h1=ir+K1++;X2.set(Bt,h1),Lt.forEach(Ht=>Kn(Ht,h1))}),g.push(()=>{fn.forEach((Lt,Bt)=>{const h1=en.get(Bt);Lt.forEach(Ht=>Sn(Ht,h1))}),ei.forEach((Lt,Bt)=>{const h1=X2.get(Bt);Lt.forEach(Ht=>Sn(Ht,h1))}),b2.forEach(Lt=>{this.processLeaveNode(Lt)})});const Rs=[],E2=[];for(let Lt=this._namespaceList.length-1;Lt>=0;Lt--)this._namespaceList[Lt].drainQueuedTransitions(m).forEach(h1=>{const Ht=h1.player,j1=h1.element;if(Rs.push(Ht),this.collectedEnterElements.length){const Ui=j1[$2];if(Ui&&Ui.setForMove){if(Ui.previousTriggersValues&&Ui.previousTriggersValues.has(h1.triggerName)){const Ro=Ui.previousTriggersValues.get(h1.triggerName),Ns=this.statesByElement.get(h1.element);if(Ns&&Ns.has(h1.triggerName)){const $a=Ns.get(h1.triggerName);$a.value=Ro,Ns.set(h1.triggerName,$a)}}return void Ht.destroy()}}const t2=!_1||!this.driver.containsElement(_1,j1),Oi=X2.get(j1),Cs=en.get(j1),S2=this._buildInstruction(h1,T,Cs,Oi,t2);if(S2.errors&&S2.errors.length)return void E2.push(S2);if(t2)return Ht.onStart(()=>Di(j1,S2.fromStyles)),Ht.onDestroy(()=>U2(j1,S2.toStyles)),void B.push(Ht);if(h1.isFallbackTransition)return Ht.onStart(()=>Di(j1,S2.fromStyles)),Ht.onDestroy(()=>U2(j1,S2.toStyles)),void B.push(Ht);const ar=[];S2.timelines.forEach(Ui=>{Ui.stretchStartingKeyframe=!0,this.disabledNodes.has(Ui.element)||ar.push(Ui)}),S2.timelines=ar,T.append(j1,S2.timelines),Se.push({instruction:S2,player:Ht,element:j1}),S2.queriedElements.forEach(Ui=>s2(Oe,Ui,[]).push(Ht)),S2.preStyleProps.forEach((Ui,Ro)=>{if(Ui.size){let Ns=dt.get(Ro);Ns||dt.set(Ro,Ns=new Set),Ui.forEach(($a,Za)=>Ns.add(Za))}}),S2.postStyleProps.forEach((Ui,Ro)=>{let Ns=St.get(Ro);Ns||St.set(Ro,Ns=new Set),Ui.forEach(($a,Za)=>Ns.add(Za))})});if(E2.length){const Lt=[];E2.forEach(Bt=>{Lt.push(function fr(D,g){return new _.vHH(3505,!1)}())}),Rs.forEach(Bt=>Bt.destroy()),this.reportError(Lt)}const zr=new Map,H=new Map;Se.forEach(Lt=>{const Bt=Lt.element;T.has(Bt)&&(H.set(Bt,Bt),this._beforeAnimationBuild(Lt.player.namespaceId,Lt.instruction,zr))}),B.forEach(Lt=>{const Bt=Lt.element;this._getPreviousPlayers(Bt,!1,Lt.namespaceId,Lt.triggerName,null).forEach(Ht=>{s2(zr,Bt,[]).push(Ht),Ht.destroy()})});const G=b2.filter(Lt=>ys(Lt,dt,St)),ie=new Map;D2(ie,this.driver,Qi,St,le).forEach(Lt=>{ys(Lt,dt,St)&&G.push(Lt)});const Qe=new Map;fn.forEach((Lt,Bt)=>{D2(Qe,this.driver,new Set(Lt),dt,"!")}),G.forEach(Lt=>{const Bt=ie.get(Lt),h1=Qe.get(Lt);ie.set(Lt,new Map([...Array.from(Bt?.entries()??[]),...Array.from(h1?.entries()??[])]))});const mt=[],$t=[],w1={};Se.forEach(Lt=>{const{element:Bt,player:h1,instruction:Ht}=Lt;if(T.has(Bt)){if(p1.has(Bt))return h1.onDestroy(()=>U2(Bt,Ht.toStyles)),h1.disabled=!0,h1.overrideTotalTime(Ht.totalTime),void B.push(h1);let j1=w1;if(H.size>1){let Oi=Bt;const Cs=[];for(;Oi=Oi.parentNode;){const S2=H.get(Oi);if(S2){j1=S2;break}Cs.push(Oi)}Cs.forEach(S2=>H.set(S2,j1))}const t2=this._buildAnimation(h1.namespaceId,Ht,zr,ee,Qe,ie);if(h1.setRealPlayer(t2),j1===w1)mt.push(h1);else{const Oi=this.playersByElement.get(j1);Oi&&Oi.length&&(h1.parentPlayer=z2(Oi)),B.push(h1)}}else Di(Bt,Ht.fromStyles),h1.onDestroy(()=>U2(Bt,Ht.toStyles)),$t.push(h1),p1.has(Bt)&&B.push(h1)}),$t.forEach(Lt=>{const Bt=ee.get(Lt.element);if(Bt&&Bt.length){const h1=z2(Bt);Lt.setRealPlayer(h1)}}),B.forEach(Lt=>{Lt.parentPlayer?Lt.syncPlayerEvents(Lt.parentPlayer):Lt.destroy()});for(let Lt=0;Lt<b2.length;Lt++){const Bt=b2[Lt],h1=Bt[$2];if(Sn(Bt,ir),h1&&h1.hasAnimation)continue;let Ht=[];if(Oe.size){let t2=Oe.get(Bt);t2&&t2.length&&Ht.push(...t2);let Oi=this.driver.query(Bt,e2,!0);for(let Cs=0;Cs<Oi.length;Cs++){let S2=Oe.get(Oi[Cs]);S2&&S2.length&&Ht.push(...S2)}}const j1=Ht.filter(t2=>!t2.destroyed);j1.length?co(this,Bt,j1):this.processLeaveNode(Bt)}return b2.length=0,mt.forEach(Lt=>{this.players.push(Lt),Lt.onDone(()=>{Lt.destroy();const Bt=this.players.indexOf(Lt);this.players.splice(Bt,1)}),Lt.play()}),mt}elementContainsData(g,m){let T=!1;const B=m[$2];return B&&B.setForRemoval&&(T=!0),this.playersByElement.has(m)&&(T=!0),this.playersByQueriedElement.has(m)&&(T=!0),this.statesByElement.has(m)&&(T=!0),this._fetchNamespace(g).elementContainsData(m)||T}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,m,T,B,ee){let Se=[];if(m){const Oe=this.playersByQueriedElement.get(g);Oe&&(Se=Oe)}else{const Oe=this.playersByElement.get(g);if(Oe){const dt=!ee||ee==cs;Oe.forEach(St=>{St.queued||!dt&&St.triggerName!=B||Se.push(St)})}}return(T||B)&&(Se=Se.filter(Oe=>!(T&&T!=Oe.namespaceId||B&&B!=Oe.triggerName))),Se}_beforeAnimationBuild(g,m,T){const ee=m.element,Se=m.isRemovalTransition?void 0:g,Oe=m.isRemovalTransition?void 0:m.triggerName;for(const dt of m.timelines){const St=dt.element,p1=St!==ee,_1=s2(T,St,[]);this._getPreviousPlayers(St,p1,Se,Oe,m.toState).forEach(fn=>{const en=fn.getRealPlayer();en.beforeDestroy&&en.beforeDestroy(),fn.destroy(),_1.push(fn)})}Di(ee,m.fromStyles)}_buildAnimation(g,m,T,B,ee,Se){const Oe=m.triggerName,dt=m.element,St=[],p1=new Set,_1=new Set,on=m.timelines.map(en=>{const K1=en.element;p1.add(K1);const b2=K1[$2];if(b2&&b2.removedBeforeQueried)return new w2(en.duration,en.delay);const $n=K1!==dt,Qi=function Fn(D){const g=[];return e1(D,g),g}((T.get(K1)||G2).map(zr=>zr.getRealPlayer())).filter(zr=>!!zr.element&&zr.element===K1),X2=ee.get(K1),ei=Se.get(K1),Rs=fi(0,this._normalizer,0,en.keyframes,X2,ei),E2=this._buildPlayer(en,Rs,Qi);if(en.subTimeline&&B&&_1.add(K1),$n){const zr=new Cr(g,Oe,K1);zr.setRealPlayer(E2),St.push(zr)}return E2});St.forEach(en=>{s2(this.playersByQueriedElement,en.element,[]).push(en),en.onDone(()=>function Eo(D,g,m){let T=D.get(g);if(T){if(T.length){const B=T.indexOf(m);T.splice(B,1)}0==T.length&&D.delete(g)}return T}(this.playersByQueriedElement,en.element,en))}),p1.forEach(en=>Kn(en,_2));const fn=z2(on);return fn.onDestroy(()=>{p1.forEach(en=>Sn(en,_2)),U2(dt,m.toStyles)}),_1.forEach(en=>{s2(B,en,[]).push(fn)}),fn}_buildPlayer(g,m,T){return m.length>0?this.driver.animate(g.element,m,g.duration,g.delay,g.easing,T):new w2(g.duration,g.delay)}}class Cr{constructor(g,m,T){this.namespaceId=g,this.triggerName=m,this.element=T,this._player=new w2,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((m,T)=>{m.forEach(B=>Ai(g,T,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const m=this._player;m.triggerCallback&&g.onStart(()=>m.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,m){s2(this._queuedCallbacks,g,[]).push(m)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const m=this._player;m.triggerCallback&&m.triggerCallback(g)}}function X1(D){return D&&1===D.nodeType}function So(D,g){const m=D.style.display;return D.style.display=g??"none",m}function D2(D,g,m,T,B){const ee=[];m.forEach(dt=>ee.push(So(dt)));const Se=[];T.forEach((dt,St)=>{const p1=new Map;dt.forEach(_1=>{const on=g.computeStyle(St,_1,B);p1.set(_1,on),(!on||0==on.length)&&(St[$2]=zo,Se.push(St))}),D.set(St,p1)});let Oe=0;return m.forEach(dt=>So(dt,ee[Oe++])),Se}function P1(D,g){const m=new Map;if(D.forEach(Oe=>m.set(Oe,[])),0==g.length)return m;const B=new Set(g),ee=new Map;function Se(Oe){if(!Oe)return 1;let dt=ee.get(Oe);if(dt)return dt;const St=Oe.parentNode;return dt=m.has(St)?St:B.has(St)?1:Se(St),ee.set(Oe,dt),dt}return g.forEach(Oe=>{const dt=Se(Oe);1!==dt&&m.get(dt).push(Oe)}),m}function Kn(D,g){D.classList?.add(g)}function Sn(D,g){D.classList?.remove(g)}function co(D,g,m){z2(m).onDone(()=>D.processLeaveNode(g))}function e1(D,g){for(let m=0;m<D.length;m++){const T=D[m];T instanceof I2?e1(T.players,g):g.push(T)}}function ys(D,g,m){const T=m.get(D);if(!T)return!1;let B=g.get(D);return B?T.forEach(ee=>B.add(ee)):g.set(D,T),m.delete(D),!0}class vi{constructor(g,m,T){this.bodyNode=g,this._driver=m,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(B,ee)=>{},this._transitionEngine=new Q2(g,m,T),this._timelineEngine=new ao(g,m,T),this._transitionEngine.onRemovalComplete=(B,ee)=>this.onRemovalComplete(B,ee)}registerTrigger(g,m,T,B,ee){const Se=g+"-"+B;let Oe=this._triggerCache[Se];if(!Oe){const dt=[],p1=L(this._driver,ee,dt,[]);if(dt.length)throw function je(D,g){return new _.vHH(3404,!1)}();Oe=function Ls(D,g,m){return new vs(D,g,m)}(B,p1,this._normalizer),this._triggerCache[Se]=Oe}this._transitionEngine.registerTrigger(m,B,Oe)}register(g,m){this._transitionEngine.register(g,m)}destroy(g,m){this._transitionEngine.destroy(g,m)}onInsert(g,m,T,B){this._transitionEngine.insertNode(g,m,T,B)}onRemove(g,m,T,B){this._transitionEngine.removeNode(g,m,B||!1,T)}disableAnimations(g,m){this._transitionEngine.markElementAsDisabled(g,m)}process(g,m,T,B){if("@"==T.charAt(0)){const[ee,Se]=hr(T);this._timelineEngine.command(ee,m,Se,B)}else this._transitionEngine.trigger(g,m,T,B)}listen(g,m,T,B,ee){if("@"==T.charAt(0)){const[Se,Oe]=hr(T);return this._timelineEngine.listen(Se,m,Oe,ee)}return this._transitionEngine.listen(g,m,T,B,ee)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ls=(()=>{class D{constructor(m,T,B){this._element=m,this._startStyles=T,this._endStyles=B,this._state=0;let ee=D.initialStylesByElement.get(m);ee||D.initialStylesByElement.set(m,ee=new Map),this._initialStyles=ee}start(){this._state<1&&(this._startStyles&&U2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(U2(this._element,this._initialStyles),this._endStyles&&(U2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(D.initialStylesByElement.delete(this._element),this._startStyles&&(Di(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),U2(this._element,this._initialStyles),this._state=3)}}return D.initialStylesByElement=new WeakMap,D})();function us(D){let g=null;return D.forEach((m,T)=>{(function h2(D){return"display"===D||"position"===D})(T)&&(g=g||new Map,g.set(T,m))}),g}class lo{constructor(g,m,T,B){this.element=g,this.keyframes=m,this.options=T,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const m=[];return g.forEach(T=>{m.push(Object.fromEntries(T))}),m}_triggerWebAnimation(g,m,T){return g.animate(this._convertKeyframesToObject(m),T)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,B)=>{"offset"!==B&&g.set(B,this._finished?T:ut(this.element,B))}),this.currentSnapshot=g}triggerCallback(g){const m="start"===g?this._onStartFns:this._onDoneFns;m.forEach(T=>T()),m.length=0}}class ta{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,m){return!1}containsElement(g,m){return nr(g,m)}getParentElement(g){return si(g)}query(g,m,T){return qn(g,m,T)}computeStyle(g,m,T){return window.getComputedStyle(g)[m]}animate(g,m,T,B,ee,Se=[]){const dt={duration:T,delay:B,fill:0==B?"both":"forwards"};ee&&(dt.easing=ee);const St=new Map,p1=Se.filter(fn=>fn instanceof lo);(function U(D,g){return 0===D||0===g})(T,B)&&p1.forEach(fn=>{fn.currentSnapshot.forEach((en,K1)=>St.set(K1,en))});let _1=function vr(D){return D.length?D[0]instanceof Map?D:D.map(g=>Wr(g)):[]}(m).map(fn=>mi(fn));_1=function V(D,g,m){if(m.size&&g.length){let T=g[0],B=[];if(m.forEach((ee,Se)=>{T.has(Se)||B.push(Se),T.set(Se,ee)}),B.length)for(let ee=1;ee<g.length;ee++){let Se=g[ee];B.forEach(Oe=>Se.set(Oe,ut(D,Oe)))}}return g}(g,_1,St);const on=function _s(D,g){let m=null,T=null;return Array.isArray(g)&&g.length?(m=us(g[0]),g.length>1&&(T=us(g[g.length-1]))):g instanceof Map&&(m=us(g)),m||T?new ls(D,m,T):null}(g,_1);return new lo(g,_1,dt,on)}}let Jr=(()=>{class D extends Ee{constructor(m,T){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(T.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(m){const T=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(m)?A1(m):m;return Oo(this._renderer,null,T,"register",[B]),new Lo(T,this._renderer)}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(_.FYo),_.LFG(He.K0))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})();class Lo extends class me{}{constructor(g,m){super(),this._id=g,this._renderer=m}create(g,m){return new ba(this._id,g,m||{},this._renderer)}}class ba{constructor(g,m,T,B){this.id=g,this.element=m,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",T)}_listen(g,m){return this._renderer.listen(this.element,`@@${this.id}:${g}`,m)}_command(g,...m){return Oo(this._renderer,this.element,this.id,g,m)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Oo(D,g,m,T,B){return D.setProperty(g,`@@${m}:${T}`,B)}const ds="@.disabled";let vt=(()=>{class D{constructor(m,T,B){this.delegate=m,this.engine=T,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),T.onRemovalComplete=(ee,Se)=>{const Oe=Se?.parentNode(ee);Oe&&Se.removeChild(Oe,ee)}}createRenderer(m,T){const ee=this.delegate.createRenderer(m,T);if(!(m&&T&&T.data&&T.data.animation)){let p1=this._rendererCache.get(ee);return p1||(p1=new uo("",ee,this.engine,()=>this._rendererCache.delete(ee)),this._rendererCache.set(ee,p1)),p1}const Se=T.id,Oe=T.id+"-"+this._currentId;this._currentId++,this.engine.register(Oe,m);const dt=p1=>{Array.isArray(p1)?p1.forEach(dt):this.engine.registerTrigger(Se,Oe,m,p1.name,p1)};return T.data.animation.forEach(dt),new c2(this,Oe,ee,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,T,B){m>=0&&m<this._microtaskId?this._zone.run(()=>T(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ee=>{const[Se,Oe]=ee;Se(Oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([T,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(_.FYo),_.LFG(vi),_.LFG(_.R0b))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})();class uo{constructor(g,m,T,B){this.namespaceId=g,this.delegate=m,this.engine=T,this._onDestroy=B,this.destroyNode=this.delegate.destroyNode?ee=>m.destroyNode(ee):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,m){return this.delegate.createElement(g,m)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,m){this.delegate.appendChild(g,m),this.engine.onInsert(this.namespaceId,m,g,!1)}insertBefore(g,m,T,B=!0){this.delegate.insertBefore(g,m,T),this.engine.onInsert(this.namespaceId,m,g,B)}removeChild(g,m,T){this.engine.onRemove(this.namespaceId,m,this.delegate,T)}selectRootElement(g,m){return this.delegate.selectRootElement(g,m)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,m,T,B){this.delegate.setAttribute(g,m,T,B)}removeAttribute(g,m,T){this.delegate.removeAttribute(g,m,T)}addClass(g,m){this.delegate.addClass(g,m)}removeClass(g,m){this.delegate.removeClass(g,m)}setStyle(g,m,T,B){this.delegate.setStyle(g,m,T,B)}removeStyle(g,m,T){this.delegate.removeStyle(g,m,T)}setProperty(g,m,T){"@"==m.charAt(0)&&m==ds?this.disableAnimations(g,!!T):this.delegate.setProperty(g,m,T)}setValue(g,m){this.delegate.setValue(g,m)}listen(g,m,T){return this.delegate.listen(g,m,T)}disableAnimations(g,m){this.engine.disableAnimations(g,m)}}class c2 extends uo{constructor(g,m,T,B,ee){super(m,T,B,ee),this.factory=g,this.namespaceId=m}setProperty(g,m,T){"@"==m.charAt(0)?"."==m.charAt(1)&&m==ds?this.disableAnimations(g,T=void 0===T||!!T):this.engine.process(this.namespaceId,g,m.slice(1),T):this.delegate.setProperty(g,m,T)}listen(g,m,T){if("@"==m.charAt(0)){const B=function to(D){switch(D){case"body":return document.body;case"document":return document;case"window":return window;default:return D}}(g);let ee=m.slice(1),Se="";return"@"!=ee.charAt(0)&&([ee,Se]=function bs(D){const g=D.indexOf(".");return[D.substring(0,g),D.slice(g+1)]}(ee)),this.engine.listen(this.namespaceId,B,ee,Se,Oe=>{this.factory.scheduleListenerCallback(Oe._data||-1,T,Oe)})}return this.delegate.listen(g,m,T)}}const Ir=[{provide:Ee,useClass:Jr},{provide:so,useFactory:function To(){return new oo}},{provide:vi,useClass:(()=>{class D extends vi{constructor(m,T,B,ee){super(m.body,T,B)}ngOnDestroy(){this.flush()}}return D.\u0275fac=function(m){return new(m||D)(_.LFG(He.K0),_.LFG(pi),_.LFG(so),_.LFG(_.z2F))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})()},{provide:_.FYo,useFactory:function Li(D,g,m){return new vt(D,g,m)},deps:[l.se,vi,_.R0b]}],no=[{provide:pi,useFactory:()=>new ta},{provide:_.QbO,useValue:"BrowserAnimations"},...Ir],xr=[{provide:pi,useClass:L2},{provide:_.QbO,useValue:"NoopAnimations"},...Ir];let $s=(()=>{class D{static withConfig(m){return{ngModule:D,providers:m.disableAnimations?xr:no}}}return D.\u0275fac=function(m){return new(m||D)},D.\u0275mod=_.oAB({type:D}),D.\u0275inj=_.cJS({providers:no,imports:[l.b2]}),D})();var S=F(4769),R=F(2767);function j(){return F.e(487).then(F.t.bind(F,4487,23))}let ne=(()=>{class D{}return D.\u0275fac=function(m){return new(m||D)},D.\u0275mod=_.oAB({type:D,bootstrap:[U1]}),D.\u0275inj=_.cJS({providers:[q1,ft],imports:[an,Pt.uH,cn.JF,Mt.forRoot({player:j}),de.u5,S.e,R.n,l.b2,$s]}),D})();F(2340).N.production&&(0,_.G48)(),l.q6().bootstrapModule(ne).catch(D=>console.error(D))},1135:(r1,Je,F)=>{F.d(Je,{X:()=>_});var l=F(7579);class _ extends l.x{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const Te=super._subscribe(Ie);return!Te.closed&&Ie.next(this._value),Te}getValue(){const{hasError:Ie,thrownError:Te,_value:Ne}=this;if(Ie)throw Te;return this._throwIfClosed(),Ne}next(Ie){super.next(this._value=Ie)}}},9751:(r1,Je,F)=>{F.d(Je,{y:()=>Re});var l=F(930),_=F(727),X=F(8822),Ie=F(9635),Te=F(2416),Ne=F(576),de=F(2806);let Re=(()=>{class ze{constructor(st){st&&(this._subscribe=st)}lift(st){const Ye=new ze;return Ye.source=this,Ye.operator=st,Ye}subscribe(st,Ye,Gt){const ft=function pe(ze){return ze&&ze instanceof l.Lv||function he(ze){return ze&&(0,Ne.m)(ze.next)&&(0,Ne.m)(ze.error)&&(0,Ne.m)(ze.complete)}(ze)&&(0,_.Nn)(ze)}(st)?st:new l.Hp(st,Ye,Gt);return(0,de.x)(()=>{const{operator:ot,source:He}=this;ft.add(ot?ot.call(ft,He):He?this._subscribe(ft):this._trySubscribe(ft))}),ft}_trySubscribe(st){try{return this._subscribe(st)}catch(Ye){st.error(Ye)}}forEach(st,Ye){return new(Ye=Ve(Ye))((Gt,ft)=>{const ot=new l.Hp({next:He=>{try{st(He)}catch(s1){ft(s1),ot.unsubscribe()}},error:ft,complete:Gt});this.subscribe(ot)})}_subscribe(st){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(st)}[X.L](){return this}pipe(...st){return(0,Ie.U)(st)(this)}toPromise(st){return new(st=Ve(st))((Ye,Gt)=>{let ft;this.subscribe(ot=>ft=ot,ot=>Gt(ot),()=>Ye(ft))})}}return ze.create=it=>new ze(it),ze})();function Ve(ze){var it;return null!==(it=ze??Te.v.Promise)&&void 0!==it?it:Promise}},7579:(r1,Je,F)=>{F.d(Je,{x:()=>de});var l=F(9751),_=F(727);const Ie=(0,F(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=F(8737),Ne=F(2806);let de=(()=>{class Ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const ze=new Re(this,this);return ze.operator=pe,ze}_throwIfClosed(){if(this.closed)throw new Ie}next(pe){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(pe)}})}error(pe){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:ze}=this;for(;ze.length;)ze.shift().error(pe)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:ze,isStopped:it,observers:st}=this;return ze||it?_.Lc:(this.currentObservers=null,st.push(pe),new _.w0(()=>{this.currentObservers=null,(0,Te.P)(st,pe)}))}_checkFinalizedStatuses(pe){const{hasError:ze,thrownError:it,isStopped:st}=this;ze?pe.error(it):st&&pe.complete()}asObservable(){const pe=new l.y;return pe.source=this,pe}}return Ve.create=(he,pe)=>new Re(he,pe),Ve})();class Re extends de{constructor(he,pe){super(),this.destination=he,this.source=pe}next(he){var pe,ze;null===(ze=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===ze||ze.call(pe,he)}error(he){var pe,ze;null===(ze=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===ze||ze.call(pe,he)}complete(){var he,pe;null===(pe=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===pe||pe.call(he)}_subscribe(he){var pe,ze;return null!==(ze=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(he))&&void 0!==ze?ze:_.Lc}}},930:(r1,Je,F)=>{F.d(Je,{Hp:()=>Gt,Lv:()=>ze});var l=F(576),_=F(727),X=F(2416),Ie=F(7849),Te=F(5032);const Ne=Ve("C",void 0,void 0);function Ve(at,ht,tt){return{kind:at,value:ht,error:tt}}var he=F(3410),pe=F(2806);class ze extends _.w0{constructor(ht){super(),this.isStopped=!1,ht?(this.destination=ht,(0,_.Nn)(ht)&&ht.add(this)):this.destination=s1}static create(ht,tt,Pt){return new Gt(ht,tt,Pt)}next(ht){this.isStopped?He(function Re(at){return Ve("N",at,void 0)}(ht),this):this._next(ht)}error(ht){this.isStopped?He(function de(at){return Ve("E",void 0,at)}(ht),this):(this.isStopped=!0,this._error(ht))}complete(){this.isStopped?He(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ht){this.destination.next(ht)}_error(ht){try{this.destination.error(ht)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function st(at,ht){return it.call(at,ht)}class Ye{constructor(ht){this.partialObserver=ht}next(ht){const{partialObserver:tt}=this;if(tt.next)try{tt.next(ht)}catch(Pt){ft(Pt)}}error(ht){const{partialObserver:tt}=this;if(tt.error)try{tt.error(ht)}catch(Pt){ft(Pt)}else ft(ht)}complete(){const{partialObserver:ht}=this;if(ht.complete)try{ht.complete()}catch(tt){ft(tt)}}}class Gt extends ze{constructor(ht,tt,Pt){let Ct;if(super(),(0,l.m)(ht)||!ht)Ct={next:ht??void 0,error:tt??void 0,complete:Pt??void 0};else{let ce;this&&X.v.useDeprecatedNextContext?(ce=Object.create(ht),ce.unsubscribe=()=>this.unsubscribe(),Ct={next:ht.next&&st(ht.next,ce),error:ht.error&&st(ht.error,ce),complete:ht.complete&&st(ht.complete,ce)}):Ct=ht}this.destination=new Ye(Ct)}}function ft(at){X.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(at):(0,Ie.h)(at)}function He(at,ht){const{onStoppedNotification:tt}=X.v;tt&&he.z.setTimeout(()=>tt(at,ht))}const s1={closed:!0,next:Te.Z,error:function ot(at){throw at},complete:Te.Z}},727:(r1,Je,F)=>{F.d(Je,{Lc:()=>Ne,w0:()=>Te,Nn:()=>de});var l=F(576);const X=(0,F(3888).d)(Ve=>function(pe){Ve(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((ze,it)=>`${it+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var Ie=F(8737);class Te{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const st of pe)st.remove(this);else pe.remove(this);const{initialTeardown:ze}=this;if((0,l.m)(ze))try{ze()}catch(st){he=st instanceof X?st.errors:[st]}const{_finalizers:it}=this;if(it){this._finalizers=null;for(const st of it)try{Re(st)}catch(Ye){he=he??[],Ye instanceof X?he=[...he,...Ye.errors]:he.push(Ye)}}if(he)throw new X(he)}}add(he){var pe;if(he&&he!==this)if(this.closed)Re(he);else{if(he instanceof Te){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(he)}}_hasParent(he){const{_parentage:pe}=this;return pe===he||Array.isArray(pe)&&pe.includes(he)}_addParent(he){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(he),pe):pe?[pe,he]:he}_removeParent(he){const{_parentage:pe}=this;pe===he?this._parentage=null:Array.isArray(pe)&&(0,Ie.P)(pe,he)}remove(he){const{_finalizers:pe}=this;pe&&(0,Ie.P)(pe,he),he instanceof Te&&he._removeParent(this)}}Te.EMPTY=(()=>{const Ve=new Te;return Ve.closed=!0,Ve})();const Ne=Te.EMPTY;function de(Ve){return Ve instanceof Te||Ve&&"closed"in Ve&&(0,l.m)(Ve.remove)&&(0,l.m)(Ve.add)&&(0,l.m)(Ve.unsubscribe)}function Re(Ve){(0,l.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(r1,Je,F)=>{F.d(Je,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(r1,Je,F)=>{F.d(Je,{a:()=>he});var l=F(9751),_=F(4742),X=F(8996),Ie=F(4671),Te=F(3268),Ne=F(3269),de=F(1810),Re=F(5403),Ve=F(9672);function he(...it){const st=(0,Ne.yG)(it),Ye=(0,Ne.jO)(it),{args:Gt,keys:ft}=(0,_.D)(it);if(0===Gt.length)return(0,X.D)([],st);const ot=new l.y(function pe(it,st,Ye=Ie.y){return Gt=>{ze(st,()=>{const{length:ft}=it,ot=new Array(ft);let He=ft,s1=ft;for(let at=0;at<ft;at++)ze(st,()=>{const ht=(0,X.D)(it[at],st);let tt=!1;ht.subscribe((0,Re.x)(Gt,Pt=>{ot[at]=Pt,tt||(tt=!0,s1--),s1||Gt.next(Ye(ot.slice()))},()=>{--He||Gt.complete()}))},Gt)},Gt)}}(Gt,st,ft?He=>(0,de.n)(ft,He):Ie.y));return Ye?ot.pipe((0,Te.Z)(Ye)):ot}function ze(it,st,Ye){it?(0,Ve.f)(Ye,it,st):st()}},7272:(r1,Je,F)=>{F.d(Je,{z:()=>Te});var l=F(8189),X=F(3269),Ie=F(8996);function Te(...Ne){return function _(){return(0,l.J)(1)}()((0,Ie.D)(Ne,(0,X.yG)(Ne)))}},9770:(r1,Je,F)=>{F.d(Je,{P:()=>X});var l=F(9751),_=F(8421);function X(Ie){return new l.y(Te=>{(0,_.Xf)(Ie()).subscribe(Te)})}},515:(r1,Je,F)=>{F.d(Je,{E:()=>_});const _=new(F(9751).y)(Te=>Te.complete())},8996:(r1,Je,F)=>{F.d(Je,{D:()=>ht});var l=F(8421),_=F(5363),X=F(9468),Ne=F(9751),Re=F(2202),Ve=F(576),he=F(9672);function ze(tt,Pt){if(!tt)throw new Error("Iterable cannot be null");return new Ne.y(Ct=>{(0,he.f)(Ct,Pt,()=>{const ce=tt[Symbol.asyncIterator]();(0,he.f)(Ct,Pt,()=>{ce.next().then(et=>{et.done?Ct.complete():Ct.next(et.value)})},0,!0)})})}var it=F(3670),st=F(8239),Ye=F(1144),Gt=F(6495),ft=F(2206),ot=F(4532),He=F(3260);function ht(tt,Pt){return Pt?function at(tt,Pt){if(null!=tt){if((0,it.c)(tt))return function Ie(tt,Pt){return(0,l.Xf)(tt).pipe((0,X.R)(Pt),(0,_.Q)(Pt))}(tt,Pt);if((0,Ye.z)(tt))return function de(tt,Pt){return new Ne.y(Ct=>{let ce=0;return Pt.schedule(function(){ce===tt.length?Ct.complete():(Ct.next(tt[ce++]),Ct.closed||this.schedule())})})}(tt,Pt);if((0,st.t)(tt))return function Te(tt,Pt){return(0,l.Xf)(tt).pipe((0,X.R)(Pt),(0,_.Q)(Pt))}(tt,Pt);if((0,ft.D)(tt))return ze(tt,Pt);if((0,Gt.T)(tt))return function pe(tt,Pt){return new Ne.y(Ct=>{let ce;return(0,he.f)(Ct,Pt,()=>{ce=tt[Re.h](),(0,he.f)(Ct,Pt,()=>{let et,we;try{({value:et,done:we}=ce.next())}catch(Le){return void Ct.error(Le)}we?Ct.complete():Ct.next(et)},0,!0)}),()=>(0,Ve.m)(ce?.return)&&ce.return()})}(tt,Pt);if((0,He.L)(tt))return function s1(tt,Pt){return ze((0,He.Q)(tt),Pt)}(tt,Pt)}throw(0,ot.z)(tt)}(tt,Pt):(0,l.Xf)(tt)}},8421:(r1,Je,F)=>{F.d(Je,{Xf:()=>it});var l=F(655),_=F(1144),X=F(8239),Ie=F(9751),Te=F(3670),Ne=F(2206),de=F(4532),Re=F(6495),Ve=F(3260),he=F(576),pe=F(7849),ze=F(8822);function it(at){if(at instanceof Ie.y)return at;if(null!=at){if((0,Te.c)(at))return function st(at){return new Ie.y(ht=>{const tt=at[ze.L]();if((0,he.m)(tt.subscribe))return tt.subscribe(ht);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,_.z)(at))return function Ye(at){return new Ie.y(ht=>{for(let tt=0;tt<at.length&&!ht.closed;tt++)ht.next(at[tt]);ht.complete()})}(at);if((0,X.t)(at))return function Gt(at){return new Ie.y(ht=>{at.then(tt=>{ht.closed||(ht.next(tt),ht.complete())},tt=>ht.error(tt)).then(null,pe.h)})}(at);if((0,Ne.D)(at))return ot(at);if((0,Re.T)(at))return function ft(at){return new Ie.y(ht=>{for(const tt of at)if(ht.next(tt),ht.closed)return;ht.complete()})}(at);if((0,Ve.L)(at))return function He(at){return ot((0,Ve.Q)(at))}(at)}throw(0,de.z)(at)}function ot(at){return new Ie.y(ht=>{(function s1(at,ht){var tt,Pt,Ct,ce;return(0,l.mG)(this,void 0,void 0,function*(){try{for(tt=(0,l.KL)(at);!(Pt=yield tt.next()).done;)if(ht.next(Pt.value),ht.closed)return}catch(et){Ct={error:et}}finally{try{Pt&&!Pt.done&&(ce=tt.return)&&(yield ce.call(tt))}finally{if(Ct)throw Ct.error}}ht.complete()})})(at,ht).catch(tt=>ht.error(tt))})}},6451:(r1,Je,F)=>{F.d(Je,{T:()=>Ne});var l=F(8189),_=F(8421),X=F(515),Ie=F(3269),Te=F(8996);function Ne(...de){const Re=(0,Ie.yG)(de),Ve=(0,Ie._6)(de,1/0),he=de;return he.length?1===he.length?(0,_.Xf)(he[0]):(0,l.J)(Ve)((0,Te.D)(he,Re)):X.E}},9646:(r1,Je,F)=>{F.d(Je,{of:()=>X});var l=F(3269),_=F(8996);function X(...Ie){const Te=(0,l.yG)(Ie);return(0,_.D)(Ie,Te)}},5403:(r1,Je,F)=>{F.d(Je,{x:()=>_});var l=F(930);function _(Ie,Te,Ne,de,Re){return new X(Ie,Te,Ne,de,Re)}class X extends l.Lv{constructor(Te,Ne,de,Re,Ve,he){super(Te),this.onFinalize=Ve,this.shouldUnsubscribe=he,this._next=Ne?function(pe){try{Ne(pe)}catch(ze){Te.error(ze)}}:super._next,this._error=Re?function(pe){try{Re(pe)}catch(ze){Te.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(pe){Te.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4351:(r1,Je,F)=>{F.d(Je,{b:()=>X});var l=F(5577),_=F(576);function X(Ie,Te){return(0,_.m)(Te)?(0,l.z)(Ie,Te,1):(0,l.z)(Ie,1)}},6590:(r1,Je,F)=>{F.d(Je,{d:()=>X});var l=F(4482),_=F(5403);function X(Ie){return(0,l.e)((Te,Ne)=>{let de=!1;Te.subscribe((0,_.x)(Ne,Re=>{de=!0,Ne.next(Re)},()=>{de||Ne.next(Ie),Ne.complete()}))})}},1884:(r1,Je,F)=>{F.d(Je,{x:()=>Ie});var l=F(4671),_=F(4482),X=F(5403);function Ie(Ne,de=l.y){return Ne=Ne??Te,(0,_.e)((Re,Ve)=>{let he,pe=!0;Re.subscribe((0,X.x)(Ve,ze=>{const it=de(ze);(pe||!Ne(he,it))&&(pe=!1,he=it,Ve.next(ze))}))})}function Te(Ne,de){return Ne===de}},9300:(r1,Je,F)=>{F.d(Je,{h:()=>X});var l=F(4482),_=F(5403);function X(Ie,Te){return(0,l.e)((Ne,de)=>{let Re=0;Ne.subscribe((0,_.x)(de,Ve=>Ie.call(Te,Ve,Re++)&&de.next(Ve)))})}},590:(r1,Je,F)=>{F.d(Je,{P:()=>de});var l=F(6805),_=F(9300),X=F(5698),Ie=F(6590),Te=F(8068),Ne=F(4671);function de(Re,Ve){const he=arguments.length>=2;return pe=>pe.pipe(Re?(0,_.h)((ze,it)=>Re(ze,it,pe)):Ne.y,(0,X.q)(1),he?(0,Ie.d)(Ve):(0,Te.T)(()=>new l.K))}},4004:(r1,Je,F)=>{F.d(Je,{U:()=>X});var l=F(4482),_=F(5403);function X(Ie,Te){return(0,l.e)((Ne,de)=>{let Re=0;Ne.subscribe((0,_.x)(de,Ve=>{de.next(Ie.call(Te,Ve,Re++))}))})}},9718:(r1,Je,F)=>{F.d(Je,{h:()=>_});var l=F(4004);function _(X){return(0,l.U)(()=>X)}},8189:(r1,Je,F)=>{F.d(Je,{J:()=>X});var l=F(5577),_=F(4671);function X(Ie=1/0){return(0,l.z)(_.y,Ie)}},5577:(r1,Je,F)=>{F.d(Je,{z:()=>Re});var l=F(4004),_=F(8421),X=F(4482),Ie=F(9672),Te=F(5403),de=F(576);function Re(Ve,he,pe=1/0){return(0,de.m)(he)?Re((ze,it)=>(0,l.U)((st,Ye)=>he(ze,st,it,Ye))((0,_.Xf)(Ve(ze,it))),pe):("number"==typeof he&&(pe=he),(0,X.e)((ze,it)=>function Ne(Ve,he,pe,ze,it,st,Ye,Gt){const ft=[];let ot=0,He=0,s1=!1;const at=()=>{s1&&!ft.length&&!ot&&he.complete()},ht=Pt=>ot<ze?tt(Pt):ft.push(Pt),tt=Pt=>{st&&he.next(Pt),ot++;let Ct=!1;(0,_.Xf)(pe(Pt,He++)).subscribe((0,Te.x)(he,ce=>{it?.(ce),st?ht(ce):he.next(ce)},()=>{Ct=!0},void 0,()=>{if(Ct)try{for(ot--;ft.length&&ot<ze;){const ce=ft.shift();Ye?(0,Ie.f)(he,Ye,()=>tt(ce)):tt(ce)}at()}catch(ce){he.error(ce)}}))};return Ve.subscribe((0,Te.x)(he,ht,()=>{s1=!0,at()})),()=>{Gt?.()}}(ze,it,Ve,pe)))}},5363:(r1,Je,F)=>{F.d(Je,{Q:()=>Ie});var l=F(9672),_=F(4482),X=F(5403);function Ie(Te,Ne=0){return(0,_.e)((de,Re)=>{de.subscribe((0,X.x)(Re,Ve=>(0,l.f)(Re,Te,()=>Re.next(Ve),Ne),()=>(0,l.f)(Re,Te,()=>Re.complete(),Ne),Ve=>(0,l.f)(Re,Te,()=>Re.error(Ve),Ne)))})}},5026:(r1,Je,F)=>{F.d(Je,{R:()=>Ie});var l=F(4482),_=F(5403);function X(Te,Ne,de,Re,Ve){return(he,pe)=>{let ze=de,it=Ne,st=0;he.subscribe((0,_.x)(pe,Ye=>{const Gt=st++;it=ze?Te(it,Ye,Gt):(ze=!0,Ye),Re&&pe.next(it)},Ve&&(()=>{ze&&pe.next(it),pe.complete()})))}}function Ie(Te,Ne){return(0,l.e)(X(Te,Ne,arguments.length>=2,!0))}},3099:(r1,Je,F)=>{F.d(Je,{B:()=>Te});var l=F(8421),_=F(7579),X=F(930),Ie=F(4482);function Te(de={}){const{connector:Re=(()=>new _.x),resetOnError:Ve=!0,resetOnComplete:he=!0,resetOnRefCountZero:pe=!0}=de;return ze=>{let it,st,Ye,Gt=0,ft=!1,ot=!1;const He=()=>{st?.unsubscribe(),st=void 0},s1=()=>{He(),it=Ye=void 0,ft=ot=!1},at=()=>{const ht=it;s1(),ht?.unsubscribe()};return(0,Ie.e)((ht,tt)=>{Gt++,!ot&&!ft&&He();const Pt=Ye=Ye??Re();tt.add(()=>{Gt--,0===Gt&&!ot&&!ft&&(st=Ne(at,pe))}),Pt.subscribe(tt),!it&&Gt>0&&(it=new X.Hp({next:Ct=>Pt.next(Ct),error:Ct=>{ot=!0,He(),st=Ne(s1,Ve,Ct),Pt.error(Ct)},complete:()=>{ft=!0,He(),st=Ne(s1,he),Pt.complete()}}),(0,l.Xf)(ht).subscribe(it))})(ze)}}function Ne(de,Re,...Ve){if(!0===Re)return void de();if(!1===Re)return;const he=new X.Hp({next:()=>{he.unsubscribe(),de()}});return Re(...Ve).subscribe(he)}},3151:(r1,Je,F)=>{F.d(Je,{d:()=>Te});var l=F(7579),_=F(6063);class X extends l.x{constructor(de=1/0,Re=1/0,Ve=_.l){super(),this._bufferSize=de,this._windowTime=Re,this._timestampProvider=Ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Re===1/0,this._bufferSize=Math.max(1,de),this._windowTime=Math.max(1,Re)}next(de){const{isStopped:Re,_buffer:Ve,_infiniteTimeWindow:he,_timestampProvider:pe,_windowTime:ze}=this;Re||(Ve.push(de),!he&&Ve.push(pe.now()+ze)),this._trimBuffer(),super.next(de)}_subscribe(de){this._throwIfClosed(),this._trimBuffer();const Re=this._innerSubscribe(de),{_infiniteTimeWindow:Ve,_buffer:he}=this,pe=he.slice();for(let ze=0;ze<pe.length&&!de.closed;ze+=Ve?1:2)de.next(pe[ze]);return this._checkFinalizedStatuses(de),Re}_trimBuffer(){const{_bufferSize:de,_timestampProvider:Re,_buffer:Ve,_infiniteTimeWindow:he}=this,pe=(he?1:2)*de;if(de<1/0&&pe<Ve.length&&Ve.splice(0,Ve.length-pe),!he){const ze=Re.now();let it=0;for(let st=1;st<Ve.length&&Ve[st]<=ze;st+=2)it=st;it&&Ve.splice(0,it+1)}}}var Ie=F(3099);function Te(Ne,de,Re){let Ve,he=!1;return Ne&&"object"==typeof Ne?({bufferSize:Ve=1/0,windowTime:de=1/0,refCount:he=!1,scheduler:Re}=Ne):Ve=Ne??1/0,(0,Ie.B)({connector:()=>new X(Ve,de,Re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:he})}},8675:(r1,Je,F)=>{F.d(Je,{O:()=>Ie});var l=F(7272),_=F(3269),X=F(4482);function Ie(...Te){const Ne=(0,_.yG)(Te);return(0,X.e)((de,Re)=>{(Ne?(0,l.z)(Te,de,Ne):(0,l.z)(Te,de)).subscribe(Re)})}},9468:(r1,Je,F)=>{F.d(Je,{R:()=>_});var l=F(4482);function _(X,Ie=0){return(0,l.e)((Te,Ne)=>{Ne.add(X.schedule(()=>Te.subscribe(Ne),Ie))})}},3900:(r1,Je,F)=>{F.d(Je,{w:()=>Ie});var l=F(8421),_=F(4482),X=F(5403);function Ie(Te,Ne){return(0,_.e)((de,Re)=>{let Ve=null,he=0,pe=!1;const ze=()=>pe&&!Ve&&Re.complete();de.subscribe((0,X.x)(Re,it=>{Ve?.unsubscribe();let st=0;const Ye=he++;(0,l.Xf)(Te(it,Ye)).subscribe(Ve=(0,X.x)(Re,Gt=>Re.next(Ne?Ne(it,Gt,Ye,st++):Gt),()=>{Ve=null,ze()}))},()=>{pe=!0,ze()}))})}},5698:(r1,Je,F)=>{F.d(Je,{q:()=>Ie});var l=F(515),_=F(4482),X=F(5403);function Ie(Te){return Te<=0?()=>l.E:(0,_.e)((Ne,de)=>{let Re=0;Ne.subscribe((0,X.x)(de,Ve=>{++Re<=Te&&(de.next(Ve),Te<=Re&&de.complete())}))})}},2722:(r1,Je,F)=>{F.d(Je,{R:()=>Te});var l=F(4482),_=F(5403),X=F(8421),Ie=F(5032);function Te(Ne){return(0,l.e)((de,Re)=>{(0,X.Xf)(Ne).subscribe((0,_.x)(Re,()=>Re.complete(),Ie.Z)),!Re.closed&&de.subscribe(Re)})}},8505:(r1,Je,F)=>{F.d(Je,{b:()=>Te});var l=F(576),_=F(4482),X=F(5403),Ie=F(4671);function Te(Ne,de,Re){const Ve=(0,l.m)(Ne)||de||Re?{next:Ne,error:de,complete:Re}:Ne;return Ve?(0,_.e)((he,pe)=>{var ze;null===(ze=Ve.subscribe)||void 0===ze||ze.call(Ve);let it=!0;he.subscribe((0,X.x)(pe,st=>{var Ye;null===(Ye=Ve.next)||void 0===Ye||Ye.call(Ve,st),pe.next(st)},()=>{var st;it=!1,null===(st=Ve.complete)||void 0===st||st.call(Ve),pe.complete()},st=>{var Ye;it=!1,null===(Ye=Ve.error)||void 0===Ye||Ye.call(Ve,st),pe.error(st)},()=>{var st,Ye;it&&(null===(st=Ve.unsubscribe)||void 0===st||st.call(Ve)),null===(Ye=Ve.finalize)||void 0===Ye||Ye.call(Ve)}))}):Ie.y}},8068:(r1,Je,F)=>{F.d(Je,{T:()=>Ie});var l=F(6805),_=F(4482),X=F(5403);function Ie(Ne=Te){return(0,_.e)((de,Re)=>{let Ve=!1;de.subscribe((0,X.x)(Re,he=>{Ve=!0,Re.next(he)},()=>Ve?Re.complete():Re.error(Ne())))})}function Te(){return new l.K}},4408:(r1,Je,F)=>{F.d(Je,{o:()=>Te});var l=F(727);class _ extends l.w0{constructor(de,Re){super()}schedule(de,Re=0){return this}}const X={setInterval(Ne,de,...Re){const{delegate:Ve}=X;return Ve?.setInterval?Ve.setInterval(Ne,de,...Re):setInterval(Ne,de,...Re)},clearInterval(Ne){const{delegate:de}=X;return(de?.clearInterval||clearInterval)(Ne)},delegate:void 0};var Ie=F(8737);class Te extends _{constructor(de,Re){super(de,Re),this.scheduler=de,this.work=Re,this.pending=!1}schedule(de,Re=0){var Ve;if(this.closed)return this;this.state=de;const he=this.id,pe=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(pe,he,Re)),this.pending=!0,this.delay=Re,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(pe,this.id,Re),this}requestAsyncId(de,Re,Ve=0){return X.setInterval(de.flush.bind(de,this),Ve)}recycleAsyncId(de,Re,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Re;null!=Re&&X.clearInterval(Re)}execute(de,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(de,Re);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,Re){let he,Ve=!1;try{this.work(de)}catch(pe){Ve=!0,he=pe||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:de,scheduler:Re}=this,{actions:Ve}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(Ve,this),null!=de&&(this.id=this.recycleAsyncId(Re,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(r1,Je,F)=>{F.d(Je,{v:()=>X});var l=F(6063);class _{constructor(Te,Ne=_.now){this.schedulerActionCtor=Te,this.now=Ne}schedule(Te,Ne=0,de){return new this.schedulerActionCtor(this,Te).schedule(de,Ne)}}_.now=l.l.now;class X extends _{constructor(Te,Ne=_.now){super(Te,Ne),this.actions=[],this._active=!1}flush(Te){const{actions:Ne}=this;if(this._active)return void Ne.push(Te);let de;this._active=!0;do{if(de=Te.execute(Te.state,Te.delay))break}while(Te=Ne.shift());if(this._active=!1,de){for(;Te=Ne.shift();)Te.unsubscribe();throw de}}}},4986:(r1,Je,F)=>{F.d(Je,{P:()=>Ie,z:()=>X});var l=F(4408);const X=new(F(7565).v)(l.o),Ie=X},6063:(r1,Je,F)=>{F.d(Je,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(r1,Je,F)=>{F.d(Je,{z:()=>l});const l={setTimeout(_,X,...Ie){const{delegate:Te}=l;return Te?.setTimeout?Te.setTimeout(_,X,...Ie):setTimeout(_,X,...Ie)},clearTimeout(_){const{delegate:X}=l;return(X?.clearTimeout||clearTimeout)(_)},delegate:void 0}},2202:(r1,Je,F)=>{F.d(Je,{h:()=>_});const _=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(r1,Je,F)=>{F.d(Je,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(r1,Je,F)=>{F.d(Je,{K:()=>_});const _=(0,F(3888).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(r1,Je,F)=>{F.d(Je,{_6:()=>Ne,jO:()=>Ie,yG:()=>Te});var l=F(576),_=F(3532);function X(de){return de[de.length-1]}function Ie(de){return(0,l.m)(X(de))?de.pop():void 0}function Te(de){return(0,_.K)(X(de))?de.pop():void 0}function Ne(de,Re){return"number"==typeof X(de)?de.pop():Re}},4742:(r1,Je,F)=>{F.d(Je,{D:()=>Te});const{isArray:l}=Array,{getPrototypeOf:_,prototype:X,keys:Ie}=Object;function Te(de){if(1===de.length){const Re=de[0];if(l(Re))return{args:Re,keys:null};if(function Ne(de){return de&&"object"==typeof de&&_(de)===X}(Re)){const Ve=Ie(Re);return{args:Ve.map(he=>Re[he]),keys:Ve}}}return{args:de,keys:null}}},8737:(r1,Je,F)=>{function l(_,X){if(_){const Ie=_.indexOf(X);0<=Ie&&_.splice(Ie,1)}}F.d(Je,{P:()=>l})},3888:(r1,Je,F)=>{function l(_){const Ie=_(Te=>{Error.call(Te),Te.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}F.d(Je,{d:()=>l})},1810:(r1,Je,F)=>{function l(_,X){return _.reduce((Ie,Te,Ne)=>(Ie[Te]=X[Ne],Ie),{})}F.d(Je,{n:()=>l})},2806:(r1,Je,F)=>{F.d(Je,{O:()=>Ie,x:()=>X});var l=F(2416);let _=null;function X(Te){if(l.v.useDeprecatedSynchronousErrorHandling){const Ne=!_;if(Ne&&(_={errorThrown:!1,error:null}),Te(),Ne){const{errorThrown:de,error:Re}=_;if(_=null,de)throw Re}}else Te()}function Ie(Te){l.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=Te)}},9672:(r1,Je,F)=>{function l(_,X,Ie,Te=0,Ne=!1){const de=X.schedule(function(){Ie(),Ne?_.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(_.add(de),!Ne)return de}F.d(Je,{f:()=>l})},4671:(r1,Je,F)=>{function l(_){return _}F.d(Je,{y:()=>l})},1144:(r1,Je,F)=>{F.d(Je,{z:()=>l});const l=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(r1,Je,F)=>{F.d(Je,{D:()=>_});var l=F(576);function _(X){return Symbol.asyncIterator&&(0,l.m)(X?.[Symbol.asyncIterator])}},576:(r1,Je,F)=>{function l(_){return"function"==typeof _}F.d(Je,{m:()=>l})},3670:(r1,Je,F)=>{F.d(Je,{c:()=>X});var l=F(8822),_=F(576);function X(Ie){return(0,_.m)(Ie[l.L])}},6495:(r1,Je,F)=>{F.d(Je,{T:()=>X});var l=F(2202),_=F(576);function X(Ie){return(0,_.m)(Ie?.[l.h])}},8239:(r1,Je,F)=>{F.d(Je,{t:()=>_});var l=F(576);function _(X){return(0,l.m)(X?.then)}},3260:(r1,Je,F)=>{F.d(Je,{L:()=>Ie,Q:()=>X});var l=F(655),_=F(576);function X(Te){return(0,l.FC)(this,arguments,function*(){const de=Te.getReader();try{for(;;){const{value:Re,done:Ve}=yield(0,l.qq)(de.read());if(Ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Re)}}finally{de.releaseLock()}})}function Ie(Te){return(0,_.m)(Te?.getReader)}},3532:(r1,Je,F)=>{F.d(Je,{K:()=>_});var l=F(576);function _(X){return X&&(0,l.m)(X.schedule)}},4482:(r1,Je,F)=>{F.d(Je,{A:()=>_,e:()=>X});var l=F(576);function _(Ie){return(0,l.m)(Ie?.lift)}function X(Ie){return Te=>{if(_(Te))return Te.lift(function(Ne){try{return Ie(Ne,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(r1,Je,F)=>{F.d(Je,{Z:()=>Ie});var l=F(4004);const{isArray:_}=Array;function Ie(Te){return(0,l.U)(Ne=>function X(Te,Ne){return _(Ne)?Te(...Ne):Te(Ne)}(Te,Ne))}},5032:(r1,Je,F)=>{function l(){}F.d(Je,{Z:()=>l})},9635:(r1,Je,F)=>{F.d(Je,{U:()=>X,z:()=>_});var l=F(4671);function _(...Ie){return X(Ie)}function X(Ie){return 0===Ie.length?l.y:1===Ie.length?Ie[0]:function(Ne){return Ie.reduce((de,Re)=>Re(de),Ne)}}},7849:(r1,Je,F)=>{F.d(Je,{h:()=>X});var l=F(2416),_=F(3410);function X(Ie){_.z.setTimeout(()=>{const{onUnhandledError:Te}=l.v;if(!Te)throw Ie;Te(Ie)})}},4532:(r1,Je,F)=>{function l(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Je,{z:()=>l})},655:(r1,Je,F)=>{function Ie(we,Le){var rt={};for(var Fe in we)Object.prototype.hasOwnProperty.call(we,Fe)&&Le.indexOf(Fe)<0&&(rt[Fe]=we[Fe]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var zt=0;for(Fe=Object.getOwnPropertySymbols(we);zt<Fe.length;zt++)Le.indexOf(Fe[zt])<0&&Object.prototype.propertyIsEnumerable.call(we,Fe[zt])&&(rt[Fe[zt]]=we[Fe[zt]])}return rt}function Re(we,Le,rt,Fe){return new(rt||(rt=Promise))(function(Rt,y1){function B1(x1){try{Vt(Fe.next(x1))}catch(S1){y1(S1)}}function O1(x1){try{Vt(Fe.throw(x1))}catch(S1){y1(S1)}}function Vt(x1){x1.done?Rt(x1.value):function zt(Rt){return Rt instanceof rt?Rt:new rt(function(y1){y1(Rt)})}(x1.value).then(B1,O1)}Vt((Fe=Fe.apply(we,Le||[])).next())})}function ft(we){return this instanceof ft?(this.v=we,this):new ft(we)}function ot(we,Le,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var zt,Fe=rt.apply(we,Le||[]),Rt=[];return zt={},y1("next"),y1("throw"),y1("return"),zt[Symbol.asyncIterator]=function(){return this},zt;function y1(T1){Fe[T1]&&(zt[T1]=function(D1){return new Promise(function(Qn,Zt){Rt.push([T1,D1,Qn,Zt])>1||B1(T1,D1)})})}function B1(T1,D1){try{!function O1(T1){T1.value instanceof ft?Promise.resolve(T1.value.v).then(Vt,x1):S1(Rt[0][2],T1)}(Fe[T1](D1))}catch(Qn){S1(Rt[0][3],Qn)}}function Vt(T1){B1("next",T1)}function x1(T1){B1("throw",T1)}function S1(T1,D1){T1(D1),Rt.shift(),Rt.length&&B1(Rt[0][0],Rt[0][1])}}function s1(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Le=we[Symbol.asyncIterator];return Le?Le.call(we):(we=function ze(we){var Le="function"==typeof Symbol&&Symbol.iterator,rt=Le&&we[Le],Fe=0;if(rt)return rt.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Fe>=we.length&&(we=void 0),{value:we&&we[Fe++],done:!we}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),rt={},Fe("next"),Fe("throw"),Fe("return"),rt[Symbol.asyncIterator]=function(){return this},rt);function Fe(Rt){rt[Rt]=we[Rt]&&function(y1){return new Promise(function(B1,O1){!function zt(Rt,y1,B1,O1){Promise.resolve(O1).then(function(Vt){Rt({value:Vt,done:B1})},y1)}(B1,O1,(y1=we[Rt](y1)).done,y1.value)})}}}F.d(Je,{FC:()=>ot,KL:()=>s1,_T:()=>Ie,mG:()=>Re,qq:()=>ft})},6895:(r1,Je,F)=>{F.d(Je,{Do:()=>s1,EM:()=>nr,HT:()=>Te,JF:()=>is,K0:()=>de,Mx:()=>Ni,NF:()=>mr,O5:()=>jn,Ov:()=>Xt,PC:()=>ms,PM:()=>o2,S$:()=>ft,V_:()=>he,Ye:()=>at,b0:()=>He,bD:()=>Mi,ez:()=>hi,mk:()=>zn,q:()=>X,sg:()=>ui,tP:()=>B2,uU:()=>tr,w_:()=>Ne});var l=F(4650);let _=null;function X(){return _}function Te(L){_||(_=L)}class Ne{}const de=new l.OlP("DocumentToken");let Re=(()=>{class L{historyGo(k){throw new Error("Not implemented")}}return L.\u0275fac=function(k){return new(k||L)},L.\u0275prov=l.Yz7({token:L,factory:function(){return function Ve(){return(0,l.LFG)(pe)}()},providedIn:"platform"}),L})();const he=new l.OlP("Location Initialized");let pe=(()=>{class L extends Re{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(k){const te=X().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",k,!1),()=>te.removeEventListener("popstate",k)}onHashChange(k){const te=X().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",k,!1),()=>te.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,te,Ce){ze()?this._history.pushState(k,te,Ce):this.location.hash=Ce}replaceState(k,te,Ce){ze()?this._history.replaceState(k,te,Ce):this.location.hash=Ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return L.\u0275fac=function(k){return new(k||L)(l.LFG(de))},L.\u0275prov=l.Yz7({token:L,factory:function(){return function it(){return new pe((0,l.LFG)(de))}()},providedIn:"platform"}),L})();function ze(){return!!window.history.pushState}function st(L,q){if(0==L.length)return q;if(0==q.length)return L;let k=0;return L.endsWith("/")&&k++,q.startsWith("/")&&k++,2==k?L+q.substring(1):1==k?L+q:L+"/"+q}function Ye(L){const q=L.match(/#|\?|$/),k=q&&q.index||L.length;return L.slice(0,k-("/"===L[k-1]?1:0))+L.slice(k)}function Gt(L){return L&&"?"!==L[0]?"?"+L:L}let ft=(()=>{class L{historyGo(k){throw new Error("Not implemented")}}return L.\u0275fac=function(k){return new(k||L)},L.\u0275prov=l.Yz7({token:L,factory:function(){return(0,l.f3M)(He)},providedIn:"root"}),L})();const ot=new l.OlP("appBaseHref");let He=(()=>{class L extends ft{constructor(k,te){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return st(this._baseHref,k)}path(k=!1){const te=this._platformLocation.pathname+Gt(this._platformLocation.search),Ce=this._platformLocation.hash;return Ce&&k?`${te}${Ce}`:te}pushState(k,te,Ce,nt){const yt=this.prepareExternalUrl(Ce+Gt(nt));this._platformLocation.pushState(k,te,yt)}replaceState(k,te,Ce,nt){const yt=this.prepareExternalUrl(Ce+Gt(nt));this._platformLocation.replaceState(k,te,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return L.\u0275fac=function(k){return new(k||L)(l.LFG(Re),l.LFG(ot,8))},L.\u0275prov=l.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),s1=(()=>{class L extends ft{constructor(k,te){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(k){const te=st(this._baseHref,k);return te.length>0?"#"+te:te}pushState(k,te,Ce,nt){let yt=this.prepareExternalUrl(Ce+Gt(nt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.pushState(k,te,yt)}replaceState(k,te,Ce,nt){let yt=this.prepareExternalUrl(Ce+Gt(nt));0==yt.length&&(yt=this._platformLocation.pathname),this._platformLocation.replaceState(k,te,yt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return L.\u0275fac=function(k){return new(k||L)(l.LFG(Re),l.LFG(ot,8))},L.\u0275prov=l.Yz7({token:L,factory:L.\u0275fac}),L})(),at=(()=>{class L{constructor(k){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const te=this._locationStrategy.getBaseHref();this._baseHref=Ye(Pt(te)),this._locationStrategy.onPopState(Ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ce.state,type:Ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,te=""){return this.path()==this.normalize(k+Gt(te))}normalize(k){return L.stripTrailingSlash(function tt(L,q){return L&&q.startsWith(L)?q.substring(L.length):q}(this._baseHref,Pt(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,te="",Ce=null){this._locationStrategy.pushState(Ce,"",k,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Gt(te)),Ce)}replaceState(k,te="",Ce=null){this._locationStrategy.replaceState(Ce,"",k,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Gt(te)),Ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",te){this._urlChangeListeners.forEach(Ce=>Ce(k,te))}subscribe(k,te,Ce){return this._subject.subscribe({next:k,error:te,complete:Ce})}}return L.normalizeQueryParams=Gt,L.joinWithSlash=st,L.stripTrailingSlash=Ye,L.\u0275fac=function(k){return new(k||L)(l.LFG(ft))},L.\u0275prov=l.Yz7({token:L,factory:function(){return function ht(){return new at((0,l.LFG)(ft))}()},providedIn:"root"}),L})();function Pt(L){return L.replace(/\/index.html$/,"")}var we=(()=>((we=we||{})[we.Format=0]="Format",we[we.Standalone=1]="Standalone",we))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),rt=(()=>((rt=rt||{})[rt.Short=0]="Short",rt[rt.Medium=1]="Medium",rt[rt.Long=2]="Long",rt[rt.Full=3]="Full",rt))(),Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Group=1]="Group",Fe[Fe.List=2]="List",Fe[Fe.PercentSign=3]="PercentSign",Fe[Fe.PlusSign=4]="PlusSign",Fe[Fe.MinusSign=5]="MinusSign",Fe[Fe.Exponential=6]="Exponential",Fe[Fe.SuperscriptingExponent=7]="SuperscriptingExponent",Fe[Fe.PerMille=8]="PerMille",Fe[Fe.Infinity=9]="Infinity",Fe[Fe.NaN=10]="NaN",Fe[Fe.TimeSeparator=11]="TimeSeparator",Fe[Fe.CurrencyDecimal=12]="CurrencyDecimal",Fe[Fe.CurrencyGroup=13]="CurrencyGroup",Fe))();function T1(L,q){return Wt((0,l.cg1)(L)[l.wAp.DateFormat],q)}function D1(L,q){return Wt((0,l.cg1)(L)[l.wAp.TimeFormat],q)}function Qn(L,q){return Wt((0,l.cg1)(L)[l.wAp.DateTimeFormat],q)}function Zt(L,q){const k=(0,l.cg1)(L),te=k[l.wAp.NumberSymbols][q];if(typeof te>"u"){if(q===Fe.CurrencyDecimal)return k[l.wAp.NumberSymbols][Fe.Decimal];if(q===Fe.CurrencyGroup)return k[l.wAp.NumberSymbols][Fe.Group]}return te}function Jn(L){if(!L[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wt(L,q){for(let k=q;k>-1;k--)if(typeof L[k]<"u")return L[k];throw new Error("Locale data API: locale data undefined")}function Cn(L){const[q,k]=L.split(":");return{hours:+q,minutes:+k}}const R2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,u1={},ct=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ae=(()=>((Ae=Ae||{})[Ae.Short=0]="Short",Ae[Ae.ShortGMT=1]="ShortGMT",Ae[Ae.Long=2]="Long",Ae[Ae.Extended=3]="Extended",Ae))(),be=(()=>((be=be||{})[be.FullYear=0]="FullYear",be[be.Month=1]="Month",be[be.Date=2]="Date",be[be.Hours=3]="Hours",be[be.Minutes=4]="Minutes",be[be.Seconds=5]="Seconds",be[be.FractionalSeconds=6]="FractionalSeconds",be[be.Day=7]="Day",be))(),lt=(()=>((lt=lt||{})[lt.DayPeriods=0]="DayPeriods",lt[lt.Days=1]="Days",lt[lt.Months=2]="Months",lt[lt.Eras=3]="Eras",lt))();function Mt(L,q,k,te){let Ce=function o1(L){if(U1(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[Ce,nt=1,yt=1]=L.split("-").map(a1=>+a1);return d1(Ce,nt-1,yt)}const k=parseFloat(L);if(!isNaN(L-k))return new Date(k);let te;if(te=L.match(R2))return function n1(L){const q=new Date(0);let k=0,te=0;const Ce=L[8]?q.setUTCFullYear:q.setFullYear,nt=L[8]?q.setUTCHours:q.setHours;L[9]&&(k=Number(L[9]+L[10]),te=Number(L[9]+L[11])),Ce.call(q,Number(L[1]),Number(L[2])-1,Number(L[3]));const yt=Number(L[4]||0)-k,a1=Number(L[5]||0)-te,$1=Number(L[6]||0),ln=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return nt.call(q,yt,a1,$1,ln),q}(te)}const q=new Date(L);if(!U1(q))throw new Error(`Unable to convert "${L}" into a date`);return q}(L);q=b1(k,q)||q;let a1,yt=[];for(;q;){if(a1=ct.exec(q),!a1){yt.push(q);break}{yt=yt.concat(a1.slice(1));const mn=yt.pop();if(!mn)break;q=mn}}let $1=Ce.getTimezoneOffset();te&&($1=Pe(te,$1),Ce=function Ze(L,q,k){const te=k?-1:1,Ce=L.getTimezoneOffset();return function wt(L,q){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+q),L}(L,te*(Pe(q,Ce)-Ce))}(Ce,te,!0));let ln="";return yt.forEach(mn=>{const sn=function De(L){if(xe[L])return xe[L];let q;switch(L){case"G":case"GG":case"GGG":q=nn(lt.Eras,Le.Abbreviated);break;case"GGGG":q=nn(lt.Eras,Le.Wide);break;case"GGGGG":q=nn(lt.Eras,Le.Narrow);break;case"y":q=tn(be.FullYear,1,0,!1,!0);break;case"yy":q=tn(be.FullYear,2,0,!0,!0);break;case"yyy":q=tn(be.FullYear,3,0,!1,!0);break;case"yyyy":q=tn(be.FullYear,4,0,!1,!0);break;case"Y":q=V1(1);break;case"YY":q=V1(2,!0);break;case"YYY":q=V1(3);break;case"YYYY":q=V1(4);break;case"M":case"L":q=tn(be.Month,1,1);break;case"MM":case"LL":q=tn(be.Month,2,1);break;case"MMM":q=nn(lt.Months,Le.Abbreviated);break;case"MMMM":q=nn(lt.Months,Le.Wide);break;case"MMMMM":q=nn(lt.Months,Le.Narrow);break;case"LLL":q=nn(lt.Months,Le.Abbreviated,we.Standalone);break;case"LLLL":q=nn(lt.Months,Le.Wide,we.Standalone);break;case"LLLLL":q=nn(lt.Months,Le.Narrow,we.Standalone);break;case"w":q=E1(1);break;case"ww":q=E1(2);break;case"W":q=E1(1,!0);break;case"d":q=tn(be.Date,1);break;case"dd":q=tn(be.Date,2);break;case"c":case"cc":q=tn(be.Day,1);break;case"ccc":q=nn(lt.Days,Le.Abbreviated,we.Standalone);break;case"cccc":q=nn(lt.Days,Le.Wide,we.Standalone);break;case"ccccc":q=nn(lt.Days,Le.Narrow,we.Standalone);break;case"cccccc":q=nn(lt.Days,Le.Short,we.Standalone);break;case"E":case"EE":case"EEE":q=nn(lt.Days,Le.Abbreviated);break;case"EEEE":q=nn(lt.Days,Le.Wide);break;case"EEEEE":q=nn(lt.Days,Le.Narrow);break;case"EEEEEE":q=nn(lt.Days,Le.Short);break;case"a":case"aa":case"aaa":q=nn(lt.DayPeriods,Le.Abbreviated);break;case"aaaa":q=nn(lt.DayPeriods,Le.Wide);break;case"aaaaa":q=nn(lt.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":q=nn(lt.DayPeriods,Le.Abbreviated,we.Standalone,!0);break;case"bbbb":q=nn(lt.DayPeriods,Le.Wide,we.Standalone,!0);break;case"bbbbb":q=nn(lt.DayPeriods,Le.Narrow,we.Standalone,!0);break;case"B":case"BB":case"BBB":q=nn(lt.DayPeriods,Le.Abbreviated,we.Format,!0);break;case"BBBB":q=nn(lt.DayPeriods,Le.Wide,we.Format,!0);break;case"BBBBB":q=nn(lt.DayPeriods,Le.Narrow,we.Format,!0);break;case"h":q=tn(be.Hours,1,-12);break;case"hh":q=tn(be.Hours,2,-12);break;case"H":q=tn(be.Hours,1);break;case"HH":q=tn(be.Hours,2);break;case"m":q=tn(be.Minutes,1);break;case"mm":q=tn(be.Minutes,2);break;case"s":q=tn(be.Seconds,1);break;case"ss":q=tn(be.Seconds,2);break;case"S":q=tn(be.FractionalSeconds,1);break;case"SS":q=tn(be.FractionalSeconds,2);break;case"SSS":q=tn(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=an(Ae.Short);break;case"ZZZZZ":q=an(Ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=an(Ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=an(Ae.Long);break;default:return null}return xe[L]=q,q}(mn);ln+=sn?sn(Ce,k,$1):"''"===mn?"'":mn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ln}function d1(L,q,k){const te=new Date(0);return te.setFullYear(L,q,k),te.setHours(0,0,0),te}function b1(L,q){const k=function Rt(L){return(0,l.cg1)(L)[l.wAp.LocaleId]}(L);if(u1[k]=u1[k]||{},u1[k][q])return u1[k][q];let te="";switch(q){case"shortDate":te=T1(L,rt.Short);break;case"mediumDate":te=T1(L,rt.Medium);break;case"longDate":te=T1(L,rt.Long);break;case"fullDate":te=T1(L,rt.Full);break;case"shortTime":te=D1(L,rt.Short);break;case"mediumTime":te=D1(L,rt.Medium);break;case"longTime":te=D1(L,rt.Long);break;case"fullTime":te=D1(L,rt.Full);break;case"short":const Ce=b1(L,"shortTime"),nt=b1(L,"shortDate");te=m1(Qn(L,rt.Short),[Ce,nt]);break;case"medium":const yt=b1(L,"mediumTime"),a1=b1(L,"mediumDate");te=m1(Qn(L,rt.Medium),[yt,a1]);break;case"long":const $1=b1(L,"longTime"),ln=b1(L,"longDate");te=m1(Qn(L,rt.Long),[$1,ln]);break;case"full":const mn=b1(L,"fullTime"),sn=b1(L,"fullDate");te=m1(Qn(L,rt.Full),[mn,sn])}return te&&(u1[k][q]=te),te}function m1(L,q){return q&&(L=L.replace(/\{([^}]+)}/g,function(k,te){return null!=q&&te in q?q[te]:k})),L}function Yt(L,q,k="-",te,Ce){let nt="";(L<0||Ce&&L<=0)&&(Ce?L=1-L:(L=-L,nt=k));let yt=String(L);for(;yt.length<q;)yt="0"+yt;return te&&(yt=yt.slice(yt.length-q)),nt+yt}function tn(L,q,k=0,te=!1,Ce=!1){return function(nt,yt){let a1=function Xn(L,q){switch(L){case be.FullYear:return q.getFullYear();case be.Month:return q.getMonth();case be.Date:return q.getDate();case be.Hours:return q.getHours();case be.Minutes:return q.getMinutes();case be.Seconds:return q.getSeconds();case be.FractionalSeconds:return q.getMilliseconds();case be.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,nt);if((k>0||a1>-k)&&(a1+=k),L===be.Hours)0===a1&&-12===k&&(a1=12);else if(L===be.FractionalSeconds)return function yn(L,q){return Yt(L,3).substring(0,q)}(a1,q);const $1=Zt(yt,Fe.MinusSign);return Yt(a1,q,$1,te,Ce)}}function nn(L,q,k=we.Format,te=!1){return function(Ce,nt){return function W1(L,q,k,te,Ce,nt){switch(k){case lt.Months:return function O1(L,q,k){const te=(0,l.cg1)(L),nt=Wt([te[l.wAp.MonthsFormat],te[l.wAp.MonthsStandalone]],q);return Wt(nt,k)}(q,Ce,te)[L.getMonth()];case lt.Days:return function B1(L,q,k){const te=(0,l.cg1)(L),nt=Wt([te[l.wAp.DaysFormat],te[l.wAp.DaysStandalone]],q);return Wt(nt,k)}(q,Ce,te)[L.getDay()];case lt.DayPeriods:const yt=L.getHours(),a1=L.getMinutes();if(nt){const ln=function Z1(L){const q=(0,l.cg1)(L);return Jn(q),(q[l.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?Cn(te):[Cn(te[0]),Cn(te[1])])}(q),mn=function vn(L,q,k){const te=(0,l.cg1)(L);Jn(te);const nt=Wt([te[l.wAp.ExtraData][0],te[l.wAp.ExtraData][1]],q)||[];return Wt(nt,k)||[]}(q,Ce,te),sn=ln.findIndex(f2=>{if(Array.isArray(f2)){const[Gn,En]=f2,Ar=yt>=Gn.hours&&a1>=Gn.minutes,_r=yt<En.hours||yt===En.hours&&a1<En.minutes;if(Gn.hours<En.hours){if(Ar&&_r)return!0}else if(Ar||_r)return!0}else if(f2.hours===yt&&f2.minutes===a1)return!0;return!1});if(-1!==sn)return mn[sn]}return function y1(L,q,k){const te=(0,l.cg1)(L),nt=Wt([te[l.wAp.DayPeriodsFormat],te[l.wAp.DayPeriodsStandalone]],q);return Wt(nt,k)}(q,Ce,te)[yt<12?0:1];case lt.Eras:return function Vt(L,q){return Wt((0,l.cg1)(L)[l.wAp.Eras],q)}(q,te)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(Ce,nt,L,q,k,te)}}function an(L){return function(q,k,te){const Ce=-1*te,nt=Zt(k,Fe.MinusSign),yt=Ce>0?Math.floor(Ce/60):Math.ceil(Ce/60);switch(L){case Ae.Short:return(Ce>=0?"+":"")+Yt(yt,2,nt)+Yt(Math.abs(Ce%60),2,nt);case Ae.ShortGMT:return"GMT"+(Ce>=0?"+":"")+Yt(yt,1,nt);case Ae.Long:return"GMT"+(Ce>=0?"+":"")+Yt(yt,2,nt)+":"+Yt(Math.abs(Ce%60),2,nt);case Ae.Extended:return 0===te?"Z":(Ce>=0?"+":"")+Yt(yt,2,nt)+":"+Yt(Math.abs(Ce%60),2,nt);default:throw new Error(`Unknown zone width "${L}"`)}}}function L1(L){return d1(L.getFullYear(),L.getMonth(),L.getDate()+(4-L.getDay()))}function E1(L,q=!1){return function(k,te){let Ce;if(q){const nt=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,yt=k.getDate();Ce=1+Math.floor((yt+nt)/7)}else{const nt=L1(k),yt=function t1(L){const q=d1(L,0,1).getDay();return d1(L,0,1+(q<=4?4:11)-q)}(nt.getFullYear()),a1=nt.getTime()-yt.getTime();Ce=1+Math.round(a1/6048e5)}return Yt(Ce,L,Zt(te,Fe.MinusSign))}}function V1(L,q=!1){return function(k,te){return Yt(L1(k).getFullYear(),L,Zt(te,Fe.MinusSign),q)}}const xe={};function Pe(L,q){L=L.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(k)?q:k}function U1(L){return L instanceof Date&&!isNaN(L.valueOf())}function Ni(L,q){q=encodeURIComponent(q);for(const k of L.split(";")){const te=k.indexOf("="),[Ce,nt]=-1==te?[k,""]:[k.slice(0,te),k.slice(te+1)];if(Ce.trim()===q)return decodeURIComponent(nt)}return null}let zn=(()=>{class L{constructor(k,te,Ce,nt){this._iterableDiffers=k,this._keyValueDiffers=te,this._ngEl=Ce,this._renderer=nt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(te=>this._toggleClass(te.key,te.currentValue)),k.forEachChangedItem(te=>this._toggleClass(te.key,te.currentValue)),k.forEachRemovedItem(te=>{te.previousValue&&this._toggleClass(te.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(te=>{if("string"!=typeof te.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(te.item)}`);this._toggleClass(te.item,!0)}),k.forEachRemovedItem(te=>this._toggleClass(te.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(te=>this._toggleClass(te,!0)):Object.keys(k).forEach(te=>this._toggleClass(te,!!k[te])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(te=>this._toggleClass(te,!1)):Object.keys(k).forEach(te=>this._toggleClass(te,!1)))}_toggleClass(k,te){(k=k.trim())&&k.split(/\s+/g).forEach(Ce=>{te?this._renderer.addClass(this._ngEl.nativeElement,Ce):this._renderer.removeClass(this._ngEl.nativeElement,Ce)})}}return L.\u0275fac=function(k){return new(k||L)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),L})();class Y2{constructor(q,k,te,Ce){this.$implicit=q,this.ngForOf=k,this.index=te,this.count=Ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ui=(()=>{class L{constructor(k,te,Ce){this._viewContainer=k,this._template=te,this._differs=Ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const te=this._viewContainer;k.forEachOperation((Ce,nt,yt)=>{if(null==Ce.previousIndex)te.createEmbeddedView(this._template,new Y2(Ce.item,this._ngForOf,-1,-1),null===yt?void 0:yt);else if(null==yt)te.remove(null===nt?void 0:nt);else if(null!==nt){const a1=te.get(nt);te.move(a1,yt),di(a1,Ce)}});for(let Ce=0,nt=te.length;Ce<nt;Ce++){const a1=te.get(Ce).context;a1.index=Ce,a1.count=nt,a1.ngForOf=this._ngForOf}k.forEachIdentityChange(Ce=>{di(te.get(Ce.currentIndex),Ce)})}static ngTemplateContextGuard(k,te){return!0}}return L.\u0275fac=function(k){return new(k||L)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),L})();function di(L,q){L.context.$implicit=q.item}let jn=(()=>{class L{constructor(k,te){this._viewContainer=k,this._context=new ki,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Ln("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Ln("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,te){return!0}}return L.\u0275fac=function(k){return new(k||L)(l.Y36(l.s_b),l.Y36(l.Rgc))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),L})();class ki{constructor(){this.$implicit=null,this.ngIf=null}}function Ln(L,q){if(q&&!q.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,l.AaK)(q)}'.`)}let ms=(()=>{class L{constructor(k,te,Ce){this._ngEl=k,this._differs=te,this._renderer=Ce,this._ngStyle=null,this._differ=null}set ngStyle(k){this._ngStyle=k,!this._differ&&k&&(this._differ=this._differs.find(k).create())}ngDoCheck(){if(this._differ){const k=this._differ.diff(this._ngStyle);k&&this._applyChanges(k)}}_setStyle(k,te){const[Ce,nt]=k.split("."),yt=-1===Ce.indexOf("-")?void 0:l.JOm.DashCase;null!=te?this._renderer.setStyle(this._ngEl.nativeElement,Ce,nt?`${te}${nt}`:te,yt):this._renderer.removeStyle(this._ngEl.nativeElement,Ce,yt)}_applyChanges(k){k.forEachRemovedItem(te=>this._setStyle(te.key,null)),k.forEachAddedItem(te=>this._setStyle(te.key,te.currentValue)),k.forEachChangedItem(te=>this._setStyle(te.key,te.currentValue))}}return L.\u0275fac=function(k){return new(k||L)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),L})(),B2=(()=>{class L{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ce,ngTemplateOutletContext:nt,ngTemplateOutletInjector:yt}=this;this._viewRef=te.createEmbeddedView(Ce,nt,yt?{injector:yt}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return L.\u0275fac=function(k){return new(k||L)(l.Y36(l.s_b))},L.\u0275dir=l.lG2({type:L,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),L})();function y2(L,q){return new l.vHH(2100,!1)}class Ke{createSubscription(q,k){return q.subscribe({next:k,error:te=>{throw te}})}dispose(q){q.unsubscribe()}}class je{createSubscription(q,k){return q.then(k,te=>{throw te})}dispose(q){}}const Xe=new je,At=new Ke;let Xt=(()=>{class L{constructor(k){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=k}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,te=>this._updateLatestValue(k,te))}_selectStrategy(k){if((0,l.QGY)(k))return Xe;if((0,l.F4k)(k))return At;throw y2()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,te){k===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return L.\u0275fac=function(k){return new(k||L)(l.Y36(l.sBO,16))},L.\u0275pipe=l.Yjl({name:"async",type:L,pure:!1,standalone:!0}),L})();const $i=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let tr=(()=>{class L{constructor(k,te){this.locale=k,this.defaultTimezone=te}transform(k,te="mediumDate",Ce,nt){if(null==k||""===k||k!=k)return null;try{return Mt(k,te,nt||this.locale,Ce??this.defaultTimezone??void 0)}catch(yt){throw y2()}}}return L.\u0275fac=function(k){return new(k||L)(l.Y36(l.soG,16),l.Y36($i,24))},L.\u0275pipe=l.Yjl({name:"date",type:L,pure:!0,standalone:!0}),L})(),hi=(()=>{class L{}return L.\u0275fac=function(k){return new(k||L)},L.\u0275mod=l.oAB({type:L}),L.\u0275inj=l.cJS({}),L})();const Mi="browser";function mr(L){return L===Mi}function o2(L){return"server"===L}let nr=(()=>{class L{}return L.\u0275prov=(0,l.Yz7)({token:L,providedIn:"root",factory:()=>new qn((0,l.LFG)(de),window)}),L})();class qn{constructor(q,k){this.document=q,this.window=k,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(q){this.supportsScrolling()&&this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){if(!this.supportsScrolling())return;const k=function L2(L,q){const k=L.getElementById(q)||L.getElementsByName(q)[0];if(k)return k;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const te=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let Ce=te.currentNode;for(;Ce;){const nt=Ce.shadowRoot;if(nt){const yt=nt.getElementById(q)||nt.querySelector(`[name="${q}"]`);if(yt)return yt}Ce=te.nextNode()}}return null}(this.document,q);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(q){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=q)}}scrollToElement(q){const k=q.getBoundingClientRect(),te=k.left+this.window.pageXOffset,Ce=k.top+this.window.pageYOffset,nt=this.offset();this.window.scrollTo(te-nt[0],Ce-nt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const q=oi(this.window.history)||oi(Object.getPrototypeOf(this.window.history));return!(!q||!q.writable&&!q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function oi(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class is{}},529:(r1,Je,F)=>{F.d(Je,{JF:()=>N2});var l=F(6895),_=F(4650),X=F(9646),Ie=F(9751),Te=F(4351),Ne=F(9300),de=F(4004);class Re{}class Ve{}class he{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?this.lazyInit="string"==typeof Ae?()=>{this.headers=new Map,Ae.split("\n").forEach(be=>{const lt=be.indexOf(":");if(lt>0){const Mt=be.slice(0,lt),d1=Mt.toLowerCase(),b1=be.slice(lt+1).trim();this.maybeSetNormalizedName(Mt,d1),this.headers.has(d1)?this.headers.get(d1).push(b1):this.headers.set(d1,[b1])}})}:()=>{this.headers=new Map,Object.keys(Ae).forEach(be=>{let lt=Ae[be];const Mt=be.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(Mt,lt),this.maybeSetNormalizedName(be,Mt))})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const be=this.headers.get(Ae.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,be){return this.clone({name:Ae,value:be,op:"a"})}set(Ae,be){return this.clone({name:Ae,value:be,op:"s"})}delete(Ae,be){return this.clone({name:Ae,value:be,op:"d"})}maybeSetNormalizedName(Ae,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(be=>{this.headers.set(be,Ae.headers.get(be)),this.normalizedNames.set(be,Ae.normalizedNames.get(be))})}clone(Ae){const be=new he;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),be}applyUpdate(Ae){const be=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let lt=Ae.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(Ae.name,be);const Mt=("a"===Ae.op?this.headers.get(be):void 0)||[];Mt.push(...lt),this.headers.set(be,Mt);break;case"d":const d1=Ae.value;if(d1){let b1=this.headers.get(be);if(!b1)return;b1=b1.filter(m1=>-1===d1.indexOf(m1)),0===b1.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,b1)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>Ae(this.normalizedNames.get(be),this.headers.get(be)))}}class ze{encodeKey(Ae){return Gt(Ae)}encodeValue(Ae){return Gt(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const st=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gt(ct){return encodeURIComponent(ct).replace(st,(Ae,be)=>Ye[be]??Ae)}function ft(ct){return`${ct}`}class ot{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new ze,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function it(ct,Ae){const be=new Map;return ct.length>0&&ct.replace(/^\?/,"").split("&").forEach(Mt=>{const d1=Mt.indexOf("="),[b1,m1]=-1==d1?[Ae.decodeKey(Mt),""]:[Ae.decodeKey(Mt.slice(0,d1)),Ae.decodeValue(Mt.slice(d1+1))],Yt=be.get(b1)||[];Yt.push(m1),be.set(b1,Yt)}),be}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(be=>{const lt=Ae.fromObject[be],Mt=Array.isArray(lt)?lt.map(ft):[ft(lt)];this.map.set(be,Mt)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const be=this.map.get(Ae);return be?be[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,be){return this.clone({param:Ae,value:be,op:"a"})}appendAll(Ae){const be=[];return Object.keys(Ae).forEach(lt=>{const Mt=Ae[lt];Array.isArray(Mt)?Mt.forEach(d1=>{be.push({param:lt,value:d1,op:"a"})}):be.push({param:lt,value:Mt,op:"a"})}),this.clone(be)}set(Ae,be){return this.clone({param:Ae,value:be,op:"s"})}delete(Ae,be){return this.clone({param:Ae,value:be,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const be=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(lt=>be+"="+this.encoder.encodeValue(lt)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const be=new ot({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(Ae),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const be=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];be.push(ft(Ae.value)),this.map.set(Ae.param,be);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let lt=this.map.get(Ae.param)||[];const Mt=lt.indexOf(ft(Ae.value));-1!==Mt&&lt.splice(Mt,1),lt.length>0?this.map.set(Ae.param,lt):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class s1{constructor(){this.map=new Map}set(Ae,be){return this.map.set(Ae,be),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function ht(ct){return typeof ArrayBuffer<"u"&&ct instanceof ArrayBuffer}function tt(ct){return typeof Blob<"u"&&ct instanceof Blob}function Pt(ct){return typeof FormData<"u"&&ct instanceof FormData}class ce{constructor(Ae,be,lt,Mt){let d1;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function at(ct){switch(ct){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Mt?(this.body=void 0!==lt?lt:null,d1=Mt):d1=lt,d1&&(this.reportProgress=!!d1.reportProgress,this.withCredentials=!!d1.withCredentials,d1.responseType&&(this.responseType=d1.responseType),d1.headers&&(this.headers=d1.headers),d1.context&&(this.context=d1.context),d1.params&&(this.params=d1.params)),this.headers||(this.headers=new he),this.context||(this.context=new s1),this.params){const b1=this.params.toString();if(0===b1.length)this.urlWithParams=be;else{const m1=be.indexOf("?");this.urlWithParams=be+(-1===m1?"?":m1<be.length-1?"&":"")+b1}}else this.params=new ot,this.urlWithParams=be}serializeBody(){return null===this.body?null:ht(this.body)||tt(this.body)||Pt(this.body)||function Ct(ct){return typeof URLSearchParams<"u"&&ct instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ot?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pt(this.body)?null:tt(this.body)?this.body.type||null:ht(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ot?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){const be=Ae.method||this.method,lt=Ae.url||this.url,Mt=Ae.responseType||this.responseType,d1=void 0!==Ae.body?Ae.body:this.body,b1=void 0!==Ae.withCredentials?Ae.withCredentials:this.withCredentials,m1=void 0!==Ae.reportProgress?Ae.reportProgress:this.reportProgress;let Yt=Ae.headers||this.headers,yn=Ae.params||this.params;const tn=Ae.context??this.context;return void 0!==Ae.setHeaders&&(Yt=Object.keys(Ae.setHeaders).reduce((Xn,nn)=>Xn.set(nn,Ae.setHeaders[nn]),Yt)),Ae.setParams&&(yn=Object.keys(Ae.setParams).reduce((Xn,nn)=>Xn.set(nn,Ae.setParams[nn]),yn)),new ce(be,lt,d1,{params:yn,headers:Yt,context:tn,reportProgress:m1,responseType:Mt,withCredentials:b1})}}var et=(()=>((et=et||{})[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et))();class we{constructor(Ae,be=200,lt="OK"){this.headers=Ae.headers||new he,this.status=void 0!==Ae.status?Ae.status:be,this.statusText=Ae.statusText||lt,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends we{constructor(Ae={}){super(Ae),this.type=et.ResponseHeader}clone(Ae={}){return new Le({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class rt extends we{constructor(Ae={}){super(Ae),this.type=et.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new rt({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class Fe extends we{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function zt(ct,Ae){return{body:Ae,headers:ct.headers,context:ct.context,observe:ct.observe,params:ct.params,reportProgress:ct.reportProgress,responseType:ct.responseType,withCredentials:ct.withCredentials}}let Rt=(()=>{class ct{constructor(be){this.handler=be}request(be,lt,Mt={}){let d1;if(be instanceof ce)d1=be;else{let Yt,yn;Yt=Mt.headers instanceof he?Mt.headers:new he(Mt.headers),Mt.params&&(yn=Mt.params instanceof ot?Mt.params:new ot({fromObject:Mt.params})),d1=new ce(be,lt,void 0!==Mt.body?Mt.body:null,{headers:Yt,context:Mt.context,params:yn,reportProgress:Mt.reportProgress,responseType:Mt.responseType||"json",withCredentials:Mt.withCredentials})}const b1=(0,X.of)(d1).pipe((0,Te.b)(Yt=>this.handler.handle(Yt)));if(be instanceof ce||"events"===Mt.observe)return b1;const m1=b1.pipe((0,Ne.h)(Yt=>Yt instanceof rt));switch(Mt.observe||"body"){case"body":switch(d1.responseType){case"arraybuffer":return m1.pipe((0,de.U)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Yt.body}));case"blob":return m1.pipe((0,de.U)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof Blob))throw new Error("Response is not a Blob.");return Yt.body}));case"text":return m1.pipe((0,de.U)(Yt=>{if(null!==Yt.body&&"string"!=typeof Yt.body)throw new Error("Response is not a string.");return Yt.body}));default:return m1.pipe((0,de.U)(Yt=>Yt.body))}case"response":return m1;default:throw new Error(`Unreachable: unhandled observe type ${Mt.observe}}`)}}delete(be,lt={}){return this.request("DELETE",be,lt)}get(be,lt={}){return this.request("GET",be,lt)}head(be,lt={}){return this.request("HEAD",be,lt)}jsonp(be,lt){return this.request("JSONP",be,{params:(new ot).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,lt={}){return this.request("OPTIONS",be,lt)}patch(be,lt,Mt={}){return this.request("PATCH",be,zt(Mt,lt))}post(be,lt,Mt={}){return this.request("POST",be,zt(Mt,lt))}put(be,lt,Mt={}){return this.request("PUT",be,zt(Mt,lt))}}return ct.\u0275fac=function(be){return new(be||ct)(_.LFG(Re))},ct.\u0275prov=_.Yz7({token:ct,factory:ct.\u0275fac}),ct})();class y1{constructor(Ae,be){this.next=Ae,this.interceptor=be}handle(Ae){return this.interceptor.intercept(Ae,this.next)}}const B1=new _.OlP("HTTP_INTERCEPTORS");let O1=(()=>{class ct{intercept(be,lt){return lt.handle(be)}}return ct.\u0275fac=function(be){return new(be||ct)},ct.\u0275prov=_.Yz7({token:ct,factory:ct.\u0275fac}),ct})();const In=/^\)\]\}',?\n/;let Yn=(()=>{class ct{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ie.y(lt=>{const Mt=this.xhrFactory.build();if(Mt.open(be.method,be.urlWithParams),be.withCredentials&&(Mt.withCredentials=!0),be.headers.forEach((W1,an)=>Mt.setRequestHeader(W1,an.join(","))),be.headers.has("Accept")||Mt.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const W1=be.detectContentTypeHeader();null!==W1&&Mt.setRequestHeader("Content-Type",W1)}if(be.responseType){const W1=be.responseType.toLowerCase();Mt.responseType="json"!==W1?W1:"text"}const d1=be.serializeBody();let b1=null;const m1=()=>{if(null!==b1)return b1;const W1=Mt.statusText||"OK",an=new he(Mt.getAllResponseHeaders()),f1=function Vn(ct){return"responseURL"in ct&&ct.responseURL?ct.responseURL:/^X-Request-URL:/m.test(ct.getAllResponseHeaders())?ct.getResponseHeader("X-Request-URL"):null}(Mt)||be.url;return b1=new Le({headers:an,status:Mt.status,statusText:W1,url:f1}),b1},Yt=()=>{let{headers:W1,status:an,statusText:f1,url:Nt}=m1(),t1=null;204!==an&&(t1=typeof Mt.response>"u"?Mt.responseText:Mt.response),0===an&&(an=t1?200:0);let L1=an>=200&&an<300;if("json"===be.responseType&&"string"==typeof t1){const E1=t1;t1=t1.replace(In,"");try{t1=""!==t1?JSON.parse(t1):null}catch(V1){t1=E1,L1&&(L1=!1,t1={error:V1,text:t1})}}L1?(lt.next(new rt({body:t1,headers:W1,status:an,statusText:f1,url:Nt||void 0})),lt.complete()):lt.error(new Fe({error:t1,headers:W1,status:an,statusText:f1,url:Nt||void 0}))},yn=W1=>{const{url:an}=m1(),f1=new Fe({error:W1,status:Mt.status||0,statusText:Mt.statusText||"Unknown Error",url:an||void 0});lt.error(f1)};let tn=!1;const Xn=W1=>{tn||(lt.next(m1()),tn=!0);let an={type:et.DownloadProgress,loaded:W1.loaded};W1.lengthComputable&&(an.total=W1.total),"text"===be.responseType&&!!Mt.responseText&&(an.partialText=Mt.responseText),lt.next(an)},nn=W1=>{let an={type:et.UploadProgress,loaded:W1.loaded};W1.lengthComputable&&(an.total=W1.total),lt.next(an)};return Mt.addEventListener("load",Yt),Mt.addEventListener("error",yn),Mt.addEventListener("timeout",yn),Mt.addEventListener("abort",yn),be.reportProgress&&(Mt.addEventListener("progress",Xn),null!==d1&&Mt.upload&&Mt.upload.addEventListener("progress",nn)),Mt.send(d1),lt.next({type:et.Sent}),()=>{Mt.removeEventListener("error",yn),Mt.removeEventListener("abort",yn),Mt.removeEventListener("load",Yt),Mt.removeEventListener("timeout",yn),be.reportProgress&&(Mt.removeEventListener("progress",Xn),null!==d1&&Mt.upload&&Mt.upload.removeEventListener("progress",nn)),Mt.readyState!==Mt.DONE&&Mt.abort()}})}}return ct.\u0275fac=function(be){return new(be||ct)(_.LFG(l.JF))},ct.\u0275prov=_.Yz7({token:ct,factory:ct.\u0275fac}),ct})();const Hn=new _.OlP("XSRF_COOKIE_NAME"),Jn=new _.OlP("XSRF_HEADER_NAME");class Z1{}let vn=(()=>{class ct{constructor(be,lt,Mt){this.doc=be,this.platform=lt,this.cookieName=Mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,l.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return ct.\u0275fac=function(be){return new(be||ct)(_.LFG(l.K0),_.LFG(_.Lbi),_.LFG(Hn))},ct.\u0275prov=_.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),r2=(()=>{class ct{constructor(be,lt){this.tokenService=be,this.headerName=lt}intercept(be,lt){const Mt=be.url.toLowerCase();if("GET"===be.method||"HEAD"===be.method||Mt.startsWith("http://")||Mt.startsWith("https://"))return lt.handle(be);const d1=this.tokenService.getToken();return null!==d1&&!be.headers.has(this.headerName)&&(be=be.clone({headers:be.headers.set(this.headerName,d1)})),lt.handle(be)}}return ct.\u0275fac=function(be){return new(be||ct)(_.LFG(Z1),_.LFG(Jn))},ct.\u0275prov=_.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),Wt=(()=>{class ct{constructor(be,lt){this.backend=be,this.injector=lt,this.chain=null}handle(be){if(null===this.chain){const lt=this.injector.get(B1,[]);this.chain=lt.reduceRight((Mt,d1)=>new y1(Mt,d1),this.backend)}return this.chain.handle(be)}}return ct.\u0275fac=function(be){return new(be||ct)(_.LFG(Ve),_.LFG(_.zs3))},ct.\u0275prov=_.Yz7({token:ct,factory:ct.\u0275fac}),ct})(),pn=(()=>{class ct{static disable(){return{ngModule:ct,providers:[{provide:r2,useClass:O1}]}}static withOptions(be={}){return{ngModule:ct,providers:[be.cookieName?{provide:Hn,useValue:be.cookieName}:[],be.headerName?{provide:Jn,useValue:be.headerName}:[]]}}}return ct.\u0275fac=function(be){return new(be||ct)},ct.\u0275mod=_.oAB({type:ct}),ct.\u0275inj=_.cJS({providers:[r2,{provide:B1,useExisting:r2,multi:!0},{provide:Z1,useClass:vn},{provide:Hn,useValue:"XSRF-TOKEN"},{provide:Jn,useValue:"X-XSRF-TOKEN"}]}),ct})(),N2=(()=>{class ct{}return ct.\u0275fac=function(be){return new(be||ct)},ct.\u0275mod=_.oAB({type:ct}),ct.\u0275inj=_.cJS({providers:[Rt,{provide:Re,useClass:Wt},Yn,{provide:Ve,useExisting:Yn}],imports:[pn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),ct})()},4650:(r1,Je,F)=>{F.d(Je,{$8M:()=>co,$Z:()=>V5,AFp:()=>Gd,ALo:()=>ud,AaK:()=>Re,CHM:()=>U2,CRH:()=>bd,CZH:()=>h7,CqO:()=>iu,D6c:()=>Vp,DdM:()=>td,EJc:()=>Xh,EiD:()=>k0,EpF:()=>W8,F$t:()=>s3,F4k:()=>f4,FYo:()=>Va,FiY:()=>w1,G48:()=>bp,Gf:()=>yd,GfV:()=>i4,Gpc:()=>pe,Hsn:()=>_0,Ikx:()=>T0,JOm:()=>ks,JVY:()=>Oa,KtG:()=>Di,L6k:()=>e4,LAX:()=>s6,LFG:()=>E2,LMc:()=>Fp,LSH:()=>u6,Lbi:()=>Kh,Lck:()=>Wf,MAs:()=>U8,MGl:()=>b0,MMx:()=>Hu,NdJ:()=>z4,OlP:()=>h2,Oqu:()=>zc,PXZ:()=>pp,Q6J:()=>j8,QGY:()=>ga,QP$:()=>U1,QbO:()=>Yh,Qsj:()=>fa,QtT:()=>j9,R0b:()=>m4,RDi:()=>w,Rgc:()=>g5,SBq:()=>go,SDv:()=>U9,Sil:()=>tp,Suo:()=>_d,TTD:()=>Ai,TgZ:()=>Cc,Tol:()=>Ol,Udp:()=>D0,VKq:()=>nd,W1O:()=>Dd,WLB:()=>id,X6Q:()=>_p,XFs:()=>Wt,Xpm:()=>Nt,Xts:()=>f,Y36:()=>X4,YKP:()=>Z9,YNc:()=>tu,Yjl:()=>wt,Yz7:()=>D1,Z0I:()=>Mn,ZZ4:()=>l9,_Bn:()=>$9,_UZ:()=>$8,_Vd:()=>da,_c5:()=>kp,_uU:()=>Bl,aQg:()=>u9,c2e:()=>Jh,cJS:()=>Zt,cg1:()=>kc,dDg:()=>up,dqk:()=>Mt,eBb:()=>W4,eFA:()=>rf,ekj:()=>e5,eoX:()=>ef,f3M:()=>H,g9A:()=>Zd,h0i:()=>Vc,hGG:()=>Pp,hij:()=>Lc,iGM:()=>vd,ifc:()=>lt,ip1:()=>jd,jDz:()=>q9,kEZ:()=>rd,kL8:()=>ya,lG2:()=>Pe,lcZ:()=>dd,lqb:()=>u2,lri:()=>Qd,mCW:()=>Ra,n5z:()=>D2,oAB:()=>V1,oJD:()=>A3,oxw:()=>y0,pB0:()=>o6,pQV:()=>Lu,q3G:()=>C2,q4F:()=>Y6,qLn:()=>L3,qOj:()=>vc,qZA:()=>Mc,qzn:()=>ua,rWj:()=>Xd,s9C:()=>$3,sBO:()=>Cp,sIi:()=>g0,s_b:()=>l7,soG:()=>p7,tb:()=>Wd,tp0:()=>Bt,uIk:()=>E6,vHH:()=>Ye,vpe:()=>d3,wAp:()=>Dn,xp6:()=>Qc,z2F:()=>m7,z3N:()=>Qr,zSh:()=>gn,zs3:()=>o4});var l=F(7579),_=F(727),X=F(9751),Ie=F(6451),Te=F(3099);function Ne(n){for(let i in n)if(n[i]===Ne)return i;throw Error("Could not find renamed property on target object.")}function de(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ve(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const he=Ne({__forward_ref__:Ne});function pe(n){return n.__forward_ref__=pe,n.toString=function(){return Re(this())},n}function ze(n){return it(n)?n():n}function it(n){return"function"==typeof n&&n.hasOwnProperty(he)&&n.__forward_ref__===pe}class Ye extends Error{constructor(i,o){super(function Gt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function ft(n){return"string"==typeof n?n:null==n?"":String(n)}function ht(n,i){throw new Ye(-201,!1)}function Vt(n,i,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}function D1(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function dn(n){return In(n,Jn)||In(n,vn)}function Mn(n){return null!==dn(n)}function In(n,i){return n.hasOwnProperty(i)?n[i]:null}function Hn(n){return n&&(n.hasOwnProperty(Z1)||n.hasOwnProperty(r2))?n[Z1]:null}const Jn=Ne({\u0275prov:Ne}),Z1=Ne({\u0275inj:Ne}),vn=Ne({ngInjectableDef:Ne}),r2=Ne({ngInjectorDef:Ne});var Wt=(()=>((Wt=Wt||{})[Wt.Default=0]="Default",Wt[Wt.Host=1]="Host",Wt[Wt.Self=2]="Self",Wt[Wt.SkipSelf=4]="SkipSelf",Wt[Wt.Optional=8]="Optional",Wt))();let Cn;function pn(n){const i=Cn;return Cn=n,i}function N2(n,i,o){const a=dn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Wt.Optional?null:void 0!==i?i:void ht(Re(n))}function u1(n){return{toString:n}.toString()}var ct=(()=>((ct=ct||{})[ct.OnPush=0]="OnPush",ct[ct.Default=1]="Default",ct))(),lt=(()=>{return(n=lt||(lt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lt;var n})();const Mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),m1={},Yt=[],yn=Ne({\u0275cmp:Ne}),tn=Ne({\u0275dir:Ne}),Xn=Ne({\u0275pipe:Ne}),nn=Ne({\u0275mod:Ne}),W1=Ne({\u0275fac:Ne}),an=Ne({__NG_ELEMENT_ID__:Ne});let f1=0;function Nt(n){return u1(()=>{const o=!0===n.standalone,a={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ct.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lt.Emulated,id:"c"+f1++,styles:n.styles||Yt,_:null,setInput:null,schemas:n.schemas||null,tView:null},v=n.dependencies,E=n.features;return d.inputs=De(n.inputs,a),d.outputs=De(n.outputs),E&&E.forEach(x=>x(d)),d.directiveDefs=v?()=>("function"==typeof v?v():v).map(L1).filter(E1):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(n1).filter(E1):null,d})}function L1(n){return Ze(n)||o1(n)}function E1(n){return null!==n}function V1(n){return u1(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function De(n,i){if(null==n)return m1;const o={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],v=d;Array.isArray(d)&&(v=d[1],d=d[0]),o[d]=a,i&&(i[d]=v)}return o}const Pe=Nt;function wt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ze(n){return n[yn]||null}function o1(n){return n[tn]||null}function n1(n){return n[Xn]||null}function U1(n){const i=Ze(n)||o1(n)||n1(n);return null!==i&&i.standalone}function cn(n,i){const o=n[nn]||null;if(!o&&!0===i)throw new Error(`Type ${Re(n)} does not have '\u0275mod' property.`);return o}function Ln(n){return Array.isArray(n)&&"object"==typeof n[1]}function P2(n){return Array.isArray(n)&&!0===n[1]}function ur(n){return 0!=(8&n.flags)}function Ci(n){return 2==(2&n.flags)}function dr(n){return 1==(1&n.flags)}function x2(n){return null!==n.template}function Tr(n){return 0!=(256&n[2])}function z2(n,i){return n.hasOwnProperty(W1)?n[W1]:null}class fi{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ai(){return J2}function J2(n){return n.type.prototype.ngOnChanges&&(n.setInput=s2),Nr}function Nr(){const n=pr(this),i=n?.current;if(i){const o=n.previous;if(o===m1)n.previous=i;else for(let a in i)o[a]=i[a];n.current=null,this.ngOnChanges(i)}}function s2(n,i,o,a){const d=pr(n)||function hi(n,i){return n[hr]=i}(n,{previous:m1,current:null}),v=d.current||(d.current={}),E=d.previous,x=this.declaredInputs[o],P=E[x];v[x]=new fi(P&&P.currentValue,i,E===m1),n[a]=i}Ai.ngInherit=!0;const hr="__ngSimpleChanges__";function pr(n){return n[hr]||null}function d2(n){for(;Array.isArray(n);)n=n[0];return n}function oi(n,i){return d2(i[n])}function L2(n,i){return d2(i[n.index])}function is(n,i){return n.data[i]}function Hi(n,i){return n[i]}function An(n,i){const o=i[n];return Ln(o)?o:o[0]}function ir(n){return 64==(64&n[2])}function m2(n,i){return null==i?null:n[i]}function _2(n){n[18]=0}function e2(n,i){n[5]+=i;let o=n,a=n[3];for(;null!==a&&(1===i&&1===o[5]||-1===i&&0===o[5]);)a[5]+=i,o=a,a=a[3]}const R1={lFrame:Ot(null),bindingsEnabled:!0};function vr(){return R1.bindingsEnabled}function kt(){return R1.lFrame.lView}function _n(){return R1.lFrame.tView}function U2(n){return R1.lFrame.contextLView=n,n[8]}function Di(n){return R1.lFrame.contextLView=null,n}function a2(){let n=xs();for(;null!==n&&64===n.type;)n=n.parent;return n}function xs(){return R1.lFrame.currentTNode}function qr(){const n=R1.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Wi(n,i){const o=R1.lFrame;o.currentTNode=n,o.isParent=i}function qi(){return R1.lFrame.isParent}function Ki(){R1.lFrame.isParent=!1}function V(){const n=R1.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function M1(){return R1.lFrame.bindingIndex++}function Pn(n){const i=R1.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function sr(n){R1.lFrame.inI18n=n}function rs(n,i){const o=R1.lFrame;o.bindingIndex=o.bindingRootIndex=n,os(i)}function os(n){R1.lFrame.currentDirectiveIndex=n}function Y(){return R1.lFrame.currentQueryIndex}function oe(n){R1.lFrame.currentQueryIndex=n}function fe(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function _e(n,i,o){if(o&Wt.SkipSelf){let d=i,v=n;for(;!(d=d.parent,null!==d||o&Wt.Host||(d=fe(v),null===d||(v=v[15],10&d.type))););if(null===d)return!1;i=d,n=v}const a=R1.lFrame=Dt();return a.currentTNode=i,a.lView=n,!0}function $e(n){const i=Dt(),o=n[1];R1.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Dt(){const n=R1.lFrame,i=null===n?null:n.child;return null===i?Ot(n):i}function Ot(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function xt(){const n=R1.lFrame;return R1.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const L=xt;function q(){const n=xt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ce(){return R1.lFrame.selectedIndex}function nt(n){R1.lFrame.selectedIndex=n}function yt(){const n=R1.lFrame;return is(n.tView,n.selectedIndex)}function Gn(n,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const v=n.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:x,ngAfterViewInit:P,ngAfterViewChecked:K,ngOnDestroy:se}=v;E&&(n.contentHooks||(n.contentHooks=[])).push(-o,E),x&&((n.contentHooks||(n.contentHooks=[])).push(o,x),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,x)),P&&(n.viewHooks||(n.viewHooks=[])).push(-o,P),K&&((n.viewHooks||(n.viewHooks=[])).push(o,K),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,K)),null!=se&&(n.destroyHooks||(n.destroyHooks=[])).push(o,se)}}function En(n,i,o){Yi(n,i,3,o)}function Ar(n,i,o,a){(3&n[2])===o&&Yi(n,i,o,a)}function _r(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function Yi(n,i,o,a){const v=a??-1,E=i.length-1;let x=0;for(let P=void 0!==a?65535&n[18]:0;P<E;P++)if("number"==typeof i[P+1]){if(x=i[P],null!=a&&x>=a)break}else i[P]<0&&(n[18]+=65536),(x<v||-1==v)&&(br(n,o,i,P),n[18]=(4294901760&n[18])+P+2),P++}function br(n,i,o,a){const d=o[a]<0,v=o[a+1],x=n[d?-o[a]:o[a]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{v.call(x)}finally{}}}else try{v.call(x)}finally{}}class j2{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function oo(n,i,o){let a=0;for(;a<o.length;){const d=o[a];if("number"==typeof d){if(0!==d)break;a++;const v=o[a++],E=o[a++],x=o[a++];n.setAttribute(i,E,x,v)}else{const v=d,E=o[++a];Us(v)?n.setProperty(i,v,E):n.setAttribute(i,v,E),a++}}return a}function zs(n){return 3===n||4===n||6===n}function Us(n){return 64===n.charCodeAt(0)}function wo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const d=i[a];"number"==typeof d?o=d:0===o||ea(n,o,d,null,-1===o||2===o?i[++a]:null)}}return n}function ea(n,i,o,a,d){let v=0,E=n.length;if(-1===i)E=-1;else for(;v<n.length;){const x=n[v++];if("number"==typeof x){if(x===i){E=-1;break}if(x>i){E=v-1;break}}}for(;v<n.length;){const x=n[v];if("number"==typeof x)break;if(x===o){if(null===a)return void(null!==d&&(n[v+1]=d));if(a===n[v+1])return void(n[v+2]=d)}v++,null!==a&&v++,null!==d&&v++}-1!==E&&(n.splice(E,0,i),v=E+1),n.splice(v++,0,o),null!==a&&n.splice(v++,0,a),null!==d&&n.splice(v++,0,d)}function zi(n){return-1!==n}function ai(n){return 32767&n}function Ls(n,i){let o=function Yr(n){return n>>16}(n),a=i;for(;o>0;)a=a[15],o--;return a}let vs=!0;function qt(n){const i=vs;return vs=n,i}let l1=0;const C1={};function c1(n,i){const o=jt(n,i);if(-1!==o)return o;const a=i[1];a.firstCreatePass&&(n.injectorIndex=i.length,bt(a.data,n),bt(i,null),bt(a.blueprint,null));const d=G2(n,i),v=n.injectorIndex;if(zi(d)){const E=ai(d),x=Ls(d,i),P=x[1].data;for(let K=0;K<8;K++)i[v+K]=x[E+K]|P[E+K]}return i[v+8]=d,v}function bt(n,i){n.push(0,0,0,0,0,0,0,0,i)}function jt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function G2(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,d=i;for(;null!==d;){if(a=Sn(d),null===a)return-1;if(o++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function Ei(n,i,o){!function Qs(n,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(an)&&(a=o[an]),null==a&&(a=o[an]=l1++);const d=255&a;i.data[n+(d>>5)]|=1<<d}(n,i,o)}function $2(n,i,o){if(o&Wt.Optional||void 0!==n)return n;ht()}function Xs(n,i,o,a){if(o&Wt.Optional&&void 0===a&&(a=null),0==(o&(Wt.Self|Wt.Host))){const d=n[9],v=pn(void 0);try{return d?d.get(i,a,o&Wt.Optional):N2(i,a,o&Wt.Optional)}finally{pn(v)}}return $2(a,0,o)}function cs(n,i,o,a=Wt.Default,d){if(null!==n){if(1024&i[2]){const E=function Kn(n,i,o,a,d){let v=n,E=i;for(;null!==v&&null!==E&&1024&E[2]&&!(256&E[2]);){const x=eo(v,E,o,a|Wt.Self,C1);if(x!==C1)return x;let P=v.parent;if(!P){const K=E[21];if(K){const se=K.get(o,C1,a);if(se!==C1)return se}P=Sn(E),E=E[15]}v=P}return d}(n,i,o,a,C1);if(E!==C1)return E}const v=eo(n,i,o,a,C1);if(v!==C1)return v}return Xs(i,o,a,d)}function eo(n,i,o,a,d){const v=function Eo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(an)?n[an]:void 0;return"number"==typeof i?i>=0?255&i:So:i}(o);if("function"==typeof v){if(!_e(i,n,a))return a&Wt.Host?$2(d,0,a):Xs(i,o,a,d);try{const E=v(a);if(null!=E||a&Wt.Optional)return E;ht()}finally{L()}}else if("number"==typeof v){let E=null,x=jt(n,i),P=-1,K=a&Wt.Host?i[16][6]:null;for((-1===x||a&Wt.SkipSelf)&&(P=-1===x?G2(n,i):i[x+8],-1!==P&&X1(a,!1)?(E=i[1],x=ai(P),i=Ls(P,i)):x=-1);-1!==x;){const se=i[1];if(js(v,x,se.data)){const ge=Do(x,i,o,E,a,K);if(ge!==C1)return ge}P=i[x+8],-1!==P&&X1(a,i[1].data[x+8]===K)&&js(v,x,i)?(E=se,x=ai(P),i=Ls(P,i)):x=-1}}return d}function Do(n,i,o,a,d,v){const E=i[1],x=E.data[n+8],se=Q2(x,E,o,null==a?Ci(x)&&vs:a!=E&&0!=(3&x.type),d&Wt.Host&&v===x);return null!==se?Cr(i,E,se,x):C1}function Q2(n,i,o,a,d){const v=n.providerIndexes,E=i.data,x=1048575&v,P=n.directiveStart,se=v>>20,Ge=d?x+se:n.directiveEnd;for(let gt=a?x:x+se;gt<Ge;gt++){const Ft=E[gt];if(gt<P&&o===Ft||gt>=P&&Ft.type===o)return gt}if(d){const gt=E[P];if(gt&&x2(gt)&&gt.type===o)return P}return null}function Cr(n,i,o,a){let d=n[o];const v=i.data;if(function Br(n){return n instanceof j2}(d)){const E=d;E.resolving&&function He(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ot(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ft(n)}(v[o]));const x=qt(E.canSeeViewProviders);E.resolving=!0;const P=E.injectImpl?pn(E.injectImpl):null;_e(n,a,Wt.Default);try{d=n[o]=E.factory(void 0,v,n,a),i.firstCreatePass&&o>=a.directiveStart&&function f2(n,i,o){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:v}=i.type.prototype;if(a){const E=J2(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,E)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,d),v&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,v))}(o,v[o],i)}finally{null!==P&&pn(P),qt(x),E.resolving=!1,L()}}return d}function js(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function X1(n,i){return!(n&Wt.Self||n&Wt.Host&&i)}class or{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return cs(this._tNode,this._lView,i,a,o)}}function So(){return new or(a2(),kt())}function D2(n){return u1(()=>{const i=n.prototype.constructor,o=i[W1]||P1(i),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const v=d[W1]||P1(d);if(v&&v!==o)return v;d=Object.getPrototypeOf(d)}return v=>new v})}function P1(n){return it(n)?()=>{const i=P1(ze(n));return i&&i()}:z2(n)}function Sn(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function co(n){return function zo(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const a=o.length;let d=0;for(;d<a;){const v=o[d];if(zs(v))break;if(0===v)d+=2;else if("number"==typeof v)for(d++;d<a&&"string"==typeof o[d];)d++;else{if(v===i)return o[d+1];d+=2}}}return null}(a2(),n)}const e1="__parameters__";function _s(n,i,o){return u1(()=>{const a=function vi(n){return function(...o){if(n){const a=n(...o);for(const d in a)this[d]=a[d]}}}(i);function d(...v){if(this instanceof d)return a.apply(this,v),this;const E=new d(...v);return x.annotation=E,x;function x(P,K,se){const ge=P.hasOwnProperty(e1)?P[e1]:Object.defineProperty(P,e1,{value:[]})[e1];for(;ge.length<=se;)ge.push(null);return(ge[se]=ge[se]||[]).push(E),P}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class h2{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=D1({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Li(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(i===n&&(i=n.slice(0,o)),Li(a,i)):i!==n&&i.push(a)}return i}function Ir(n,i){n.forEach(o=>Array.isArray(o)?Ir(o,i):i(o))}function no(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function xr(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function $s(n,i){const o=[];for(let a=0;a<n;a++)o.push(i);return o}function ne(n,i,o){let a=D(n,i);return a>=0?n[1|a]=o:(a=~a,function I(n,i,o,a){let d=n.length;if(d==i)n.push(o,a);else if(1===d)n.push(a,n[0]),n[0]=o;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=o,n[i+1]=a}}(n,a,i,o)),a}function ve(n,i){const o=D(n,i);if(o>=0)return n[1|o]}function D(n,i){return function m(n,i,o){let a=0,d=n.length>>o;for(;d!==a;){const v=a+(d-a>>1),E=n[v<<o];if(i===E)return v<<o;E>i?d=v:a=v+1}return~(d<<o)}(n,i,1)}const on={},fn="__NG_DI_FLAG__",en="ngTempTokenPath",b2=/\n/gm,Qi="__source";let X2;function ei(n){const i=X2;return X2=n,i}function Rs(n,i=Wt.Default){if(void 0===X2)throw new Ye(-203,!1);return null===X2?N2(n,void 0,i):X2.get(n,i&Wt.Optional?null:void 0,i)}function E2(n,i=Wt.Default){return(function Nn(){return Cn}()||Rs)(ze(n),i)}function H(n,i=Wt.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),E2(n,i)}function G(n){const i=[];for(let o=0;o<n.length;o++){const a=ze(n[o]);if(Array.isArray(a)){if(0===a.length)throw new Ye(900,!1);let d,v=Wt.Default;for(let E=0;E<a.length;E++){const x=a[E],P=ye(x);"number"==typeof P?-1===P?d=x.token:v|=P:d=x}i.push(E2(d,v))}else i.push(E2(a))}return i}function ie(n,i){return n[fn]=i,n.prototype[fn]=i,n}function ye(n){return n[fn]}const w1=ie(_s("Optional"),8),Bt=ie(_s("SkipSelf"),4);var ks=(()=>((ks=ks||{})[ks.Important=1]="Important",ks[ks.DashCase=2]="DashCase",ks))();const J3=/^>|^->|<!--|-->|--!>|<!-$/g,Q3=/(<|>)/;const Po=new Map;let fs=0;const fo="__ngContext__";function Ms(n,i){Ln(i)?(n[fo]=i[20],function Ps(n){Po.set(n[20],n)}(i)):n[fo]=i}let Fo;function wa(n,i){return Fo(n,i)}function Ka(n){const i=n[3];return P2(i)?i[3]:i}function Ea(n){return G6(n[13])}function C4(n){return G6(n[4])}function G6(n){for(;null!==n&&!P2(n);)n=n[4];return n}function ra(n,i,o,a,d){if(null!=a){let v,E=!1;P2(a)?v=a:Ln(a)&&(E=!0,a=a[0]);const x=d2(a);0===n&&null!==o?null==d?qs(i,o,x):Bo(i,o,x,d||null,!0):1===n&&null!==o?Bo(i,o,x,d||null,!0):2===n?E4(i,x,E):3===n&&i.destroyNode(x),null!=v&&function r6(n,i,o,a,d){const v=o[7];v!==d2(o)&&ra(i,n,a,v,d);for(let x=10;x<o.length;x++){const P=o[x];Qa(P[1],P,n,i,a,v)}}(i,n,v,o,d)}}function C3(n,i){return n.createText(i)}function Ya(n,i,o){n.setValue(i,o)}function sa(n,i){return n.createComment(function v3(n){return n.replace(J3,i=>i.replace(Q3,"\u200b$1\u200b"))}(i))}function G4(n,i,o){return n.createElement(i,o)}function l2(n,i){const o=n[9],a=o.indexOf(i),d=i[3];512&i[2]&&(i[2]&=-513,e2(d,-1)),o.splice(a,1)}function Na(n,i){if(n.length<=10)return;const o=10+i,a=n[o];if(a){const d=a[17];null!==d&&d!==n&&l2(d,a),i>0&&(n[o-1][4]=a[4]);const v=xr(n,10+i);!function $6(n,i){Qa(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const E=v[19];null!==E&&E.detachView(v[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function $4(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&Qa(n,i,o,3,null,null),function M3(n){let i=n[13];if(!i)return Vs(n[1],n);for(;i;){let o=null;if(Ln(i))o=i[13];else{const a=i[10];a&&(o=a)}if(!o){for(;i&&!i[4]&&i!==n;)Ln(i)&&Vs(i[1],i),i=i[3];null===i&&(i=n),Ln(i)&&Vs(i[1],i),o=i&&i[4]}i=o}}(i)}}function Vs(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function hs(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const d=i[o[a]];if(!(d instanceof j2)){const v=o[a+1];if(Array.isArray(v))for(let E=0;E<v.length;E+=2){const x=d[v[E]],P=v[E+1];try{P.call(x)}finally{}}else try{v.call(d)}finally{}}}}(n,i),function L0(n,i){const o=n.cleanup,a=i[7];let d=-1;if(null!==o)for(let v=0;v<o.length-1;v+=2)if("string"==typeof o[v]){const E=o[v+1],x="function"==typeof E?E(i):d2(i[E]),P=a[d=o[v+2]],K=o[v+3];"boolean"==typeof K?x.removeEventListener(o[v],P,K):K>=0?a[d=K]():a[d=-K].unsubscribe(),v+=2}else{const E=a[d=o[v+1]];o[v].call(E)}if(null!==a){for(let v=d+1;v<a.length;v++)(0,a[v])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&P2(i[3])){o!==i[3]&&l2(o,i);const a=i[19];null!==a&&a.detachView(n)}!function B4(n){Po.delete(n[20])}(i)}}function ho(n,i,o){return Aa(n,i.parent,o)}function Aa(n,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[0];if(2&a.flags){const d=n.data[a.directiveStart].encapsulation;if(d===lt.None||d===lt.Emulated)return null}return L2(a,o)}function Bo(n,i,o,a,d){n.insertBefore(i,o,a,d)}function qs(n,i,o){n.appendChild(i,o)}function M4(n,i,o,a,d){null!==a?Bo(n,i,o,a,d):qs(n,i,o)}function oa(n,i){return n.parentNode(i)}function i6(n,i,o){return jo(n,i,o)}function aa(n,i,o){return 40&n.type?L2(n,o):null}let Ia,Si,Xa,y,jo=aa;function xa(n,i){jo=n,Ia=i}function w4(n,i,o,a){const d=ho(n,a,i),v=i[11],x=i6(a.parent||i[6],a,i);if(null!=d)if(Array.isArray(o))for(let P=0;P<o.length;P++)M4(v,d,o[P],x,!1);else M4(v,d,o,x,!1);void 0!==Ia&&Ia(v,a,i,o,d)}function Ks(n,i){if(null!==i){const o=i.type;if(3&o)return L2(i,n);if(4&o)return D4(-1,n[i.index]);if(8&o){const a=i.child;if(null!==a)return Ks(n,a);{const d=n[i.index];return P2(d)?D4(-1,d):d2(d)}}if(32&o)return wa(i,n)()||d2(n[i.index]);{const a=Ja(n,i);return null!==a?Array.isArray(a)?a[0]:Ks(Ka(n[16]),a):Ks(n,i.next)}}return null}function Ja(n,i){return null!==i?n[16][6].projection[i.projection]:null}function D4(n,i){const o=10+n+1;if(o<i.length){const a=i[o],d=a[1].firstChild;if(null!==d)return Ks(a,d)}return i[7]}function E4(n,i,o){const a=oa(n,i);a&&function Uo(n,i,o,a){n.removeChild(i,o,a)}(n,a,i,o)}function Z4(n,i,o,a,d,v,E){for(;null!=o;){const x=a[o.index],P=o.type;if(E&&0===i&&(x&&Ms(d2(x),a),o.flags|=4),64!=(64&o.flags))if(8&P)Z4(n,i,o.child,a,d,v,!1),ra(i,n,d,x,v);else if(32&P){const K=wa(o,a);let se;for(;se=K();)ra(i,n,d,se,v);ra(i,n,d,x,v)}else 16&P?w3(n,i,a,o,d,v):ra(i,n,d,x,v);o=E?o.projectionNext:o.next}}function Qa(n,i,o,a,d,v){Z4(o,a,n.firstChild,i,d,v,!1)}function w3(n,i,o,a,d,v){const E=o[16],P=E[6].projection[a.projection];if(Array.isArray(P))for(let K=0;K<P.length;K++)ra(i,n,d,P[K],v);else Z4(n,i,P,E[3],d,v,!0)}function po(n,i,o){n.setAttribute(i,"style",o)}function ca(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Go(n){return function La(){if(void 0===Si&&(Si=null,Mt.trustedTypes))try{Si=Mt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Si}()?.createHTML(n)||n}function w(n){Xa=n}function h(){return void 0!==Xa?Xa:typeof document<"u"?document:void 0}function J(n){return function N(){if(void 0===y&&(y=null,Mt.trustedTypes))try{y=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return y}()?.createHTML(n)||n}class Tt{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class v1 extends Tt{getTypeName(){return"HTML"}}class H1 extends Tt{getTypeName(){return"Style"}}class bn extends Tt{getTypeName(){return"Script"}}class hn extends Tt{getTypeName(){return"URL"}}class wr extends Tt{getTypeName(){return"ResourceURL"}}function Qr(n){return n instanceof Tt?n.changingThisBreaksApplicationSecurity:n}function ua(n,i){const o=function E3(n){return n instanceof Tt&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function Oa(n){return new v1(n)}function e4(n){return new H1(n)}function W4(n){return new bn(n)}function s6(n){return new hn(n)}function o6(n){return new wr(n)}function Ds(n){const i=new S3(n);return function $o(){try{return!!(new window.DOMParser).parseFromString(Go(""),"text/html")}catch{return!1}}()?new a6(i):i}class a6{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Go(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class S3{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Go(i),o;const a=this.inertDocument.createElement("body");return a.innerHTML=Go(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(i){const o=i.attributes;for(let d=o.length-1;0<d;d--){const E=o.item(d).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&i.removeAttribute(E)}let a=i.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const T3=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ra(n){return(n=String(n)).match(T3)?n:"unsafe:"+n}function ka(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function c6(...n){const i={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const q6=ka("area,br,col,hr,img,wbr"),Uc=ka("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jc=ka("rp,rt"),l6=c6(q6,c6(Uc,ka("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),c6(jc,ka("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),c6(jc,Uc)),O0=ka("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gc=c6(O0,ka("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ka("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R0=ka("script,style,template");class y5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!l6.hasOwnProperty(o))return this.sanitizedSomething=!0,!R0.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let d=0;d<a.length;d++){const v=a.item(d),E=v.name,x=E.toLowerCase();if(!Gc.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let P=v.value;O0[x]&&(P=Ra(P)),this.buf.push(" ",E,'="',Zc(P),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();l6.hasOwnProperty(o)&&!q6.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Zc(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const _5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$c=/([^\#-~ |!])/g;function Zc(n){return n.replace(/&/g,"&amp;").replace(_5,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace($c,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let N3;function k0(n,i){let o=null;try{N3=N3||Ds(n);let a=i?String(i):"";o=N3.getInertBodyElement(a);let d=5,v=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=v,v=o.innerHTML,o=N3.getInertBodyElement(a)}while(a!==v);return Go((new y5).sanitizeChildren(P0(o)||o))}finally{if(o){const a=P0(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function P0(n){return"content"in n&&function V0(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var C2=(()=>((C2=C2||{})[C2.NONE=0]="NONE",C2[C2.HTML=1]="HTML",C2[C2.STYLE=2]="STYLE",C2[C2.SCRIPT=3]="SCRIPT",C2[C2.URL=4]="URL",C2[C2.RESOURCE_URL=5]="RESOURCE_URL",C2))();function A3(n){const i=Pa();return i?J(i.sanitize(C2.HTML,n)||""):ua(n,"HTML")?J(Qr(n)):k0(h(),ft(n))}function u6(n){const i=Pa();return i?i.sanitize(C2.URL,n)||"":ua(n,"URL")?Qr(n):Ra(ft(n))}function Pa(){const n=kt();return n&&n[12]}const f=new h2("ENVIRONMENT_INITIALIZER"),b=new h2("INJECTOR",-1),u=new h2("INJECTOR_DEF_TYPES");class M{get(i,o=on){if(o===on){const a=new Error(`NullInjectorError: No provider for ${Re(i)}!`);throw a.name="NullInjectorError",a}return o}}function O(...n){return{\u0275providers:W(0,n)}}function W(n,...i){const o=[],a=new Set;let d;return Ir(i,v=>{const E=v;Ue(E,o,[],a)&&(d||(d=[]),d.push(E))}),void 0!==d&&Me(d,o),o}function Me(n,i){for(let o=0;o<n.length;o++){const{providers:d}=n[o];Ir(d,v=>{i.push(v)})}}function Ue(n,i,o,a){if(!(n=ze(n)))return!1;let d=null,v=Hn(n);const E=!v&&Ze(n);if(v||E){if(E&&!E.standalone)return!1;d=n}else{const P=n.ngModule;if(v=Hn(P),!v)return!1;d=P}const x=a.has(d);if(E){if(x)return!1;if(a.add(d),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const K of P)Ue(K,i,o,a)}}else{if(!v)return!1;{if(null!=v.imports&&!x){let K;a.add(d);try{Ir(v.imports,se=>{Ue(se,i,o,a)&&(K||(K=[]),K.push(se))})}finally{}void 0!==K&&Me(K,i)}if(!x){const K=z2(d)||(()=>new d);i.push({provide:d,useFactory:K,deps:Yt},{provide:u,useValue:d,multi:!0},{provide:f,useValue:()=>E2(d),multi:!0})}const P=v.providers;null==P||x||Ir(P,se=>{i.push(se)})}}return d!==n&&void 0!==n.providers}const Et=Ne({provide:String,useValue:Ne});function It(n){return null!==n&&"object"==typeof n&&Et in n}function G1(n){return"function"==typeof n}const gn=new h2("Set Injector scope."),On={},n2={};let Bn;function _i(){return void 0===Bn&&(Bn=new M),Bn}class u2{}class M2 extends u2{constructor(i,o,a,d){super(),this.parent=o,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zo(i,E=>this.processProvider(E)),this.records.set(b,ji(void 0,this)),d.has("environment")&&this.records.set(u2,ji(void 0,this));const v=this.records.get(gn);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(u.multi,Yt,Wt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=ei(this),a=pn(void 0);try{return i()}finally{ei(o),pn(a)}}get(i,o=on,a=Wt.Default){this.assertNotDestroyed();const d=ei(this),v=pn(void 0);try{if(!(a&Wt.SkipSelf)){let x=this.records.get(i);if(void 0===x){const P=function Es(n){return"function"==typeof n||"object"==typeof n&&n instanceof h2}(i)&&dn(i);x=P&&this.injectableDefInScope(P)?ji(T2(i),On):null,this.records.set(i,x)}if(null!=x)return this.hydrate(i,x)}return(a&Wt.Self?_i():this.parent).get(i,o=a&Wt.Optional&&o===on?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[en]=E[en]||[]).unshift(Re(i)),d)throw E;return function Qe(n,i,o,a){const d=n[en];throw i[Qi]&&d.unshift(i[Qi]),n.message=function mt(n,i,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=Re(i);if(Array.isArray(i))d=i.map(Re).join(" -> ");else if("object"==typeof i){let v=[];for(let E in i)if(i.hasOwnProperty(E)){let x=i[E];v.push(E+":"+("string"==typeof x?JSON.stringify(x):Re(x)))}d=`{${v.join(", ")}}`}return`${o}${a?"("+a+")":""}[${d}]: ${n.replace(b2,"\n  ")}`}("\n"+n.message,d,o,a),n.ngTokenPath=d,n[en]=null,n}(E,i,"R3InjectorError",this.source)}throw E}finally{pn(v),ei(d)}}resolveInjectorInitializers(){const i=ei(this),o=pn(void 0);try{const a=this.get(f.multi,Yt,Wt.Self);for(const d of a)d()}finally{ei(i),pn(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(Re(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(i){let o=G1(i=ze(i))?i:ze(i&&i.provide);const a=function ci(n){return It(n)?ji(void 0,n.useValue):ji(jr(n),On)}(i);if(G1(i)||!0!==i.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=ji(void 0,On,!0),d.factory=()=>G(d.multi),this.records.set(o,d)),o=i,d.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===On&&(o.value=n2,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Ao(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ze(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function T2(n){const i=dn(n),o=null!==i?i.factory:z2(n);if(null!==o)return o;if(n instanceof h2)throw new Ye(204,!1);if(n instanceof Function)return function Ti(n){const i=n.length;if(i>0)throw $s(i,"?"),new Ye(204,!1);const o=function Vn(n){const i=n&&(n[Jn]||n[vn]);if(i){const o=function Yn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ye(204,!1)}function jr(n,i,o){let a;if(G1(n)){const d=ze(n);return z2(d)||T2(d)}if(It(n))a=()=>ze(n.useValue);else if(function N1(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...G(n.deps||[]));else if(function F1(n){return!(!n||!n.useExisting)}(n))a=()=>E2(ze(n.useExisting));else{const d=ze(n&&(n.useClass||n.provide));if(!function Dr(n){return!!n.deps}(n))return z2(d)||T2(d);a=()=>new d(...G(n.deps))}return a}function ji(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function T4(n){return!!n.\u0275providers}function Zo(n,i){for(const o of n)Array.isArray(o)?Zo(o,i):T4(o)?Zo(o.\u0275providers,i):i(o)}class Io{}class N4{resolveComponentFactory(i){throw function I3(n){const i=Error(`No component factory found for ${Re(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let da=(()=>{class n{}return n.NULL=new N4,n})();function x3(){return lr(a2(),kt())}function lr(n,i){return new go(L2(n,i))}let go=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=x3,n})();function n4(n){return n instanceof go?n.nativeElement:n}class Va{}let fa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Q4(){const n=kt(),o=An(a2().index,n);return(Ln(o)?o:n)[11]}(),n})(),d6=(()=>{class n{}return n.\u0275prov=D1({token:n,providedIn:"root",factory:()=>null}),n})();class i4{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Y6=new i4("14.2.12"),r4={};function z3(n){return n.ngOriginalError}class L3{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&z3(i);for(;o&&z3(o);)o=z3(o);return o||null}}function Wo(n){return n instanceof Function?n():n}function M5(n,i,o){let a=n.length;for(;;){const d=n.indexOf(i,o);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const v=i.length;if(d+v===a||n.charCodeAt(d+v)<=32)return d}o=d+1}}const F0="ng-template";function Fs(n,i,o){let a=0;for(;a<n.length;){let d=n[a++];if(o&&"class"===d){if(d=n[a],-1!==M5(d.toLowerCase(),i,0))return!0}else if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function w5(n){return 4===n.type&&n.value!==F0}function N7(n,i,o){return i===(4!==n.type||o?n.value:F0)}function A7(n,i,o){let a=4;const d=n.attrs||[],v=function I7(n){for(let i=0;i<n.length;i++)if(zs(n[i]))return i;return n.length}(d);let E=!1;for(let x=0;x<i.length;x++){const P=i[x];if("number"!=typeof P){if(!E)if(4&a){if(a=2|1&a,""!==P&&!N7(n,P,o)||""===P&&1===i.length){if(ha(a))return!1;E=!0}}else{const K=8&a?P:i[++x];if(8&a&&null!==n.attrs){if(!Fs(n.attrs,K,o)){if(ha(a))return!1;E=!0}continue}const ge=D5(8&a?"class":P,d,w5(n),o);if(-1===ge){if(ha(a))return!1;E=!0;continue}if(""!==K){let Ge;Ge=ge>v?"":d[ge+1].toLowerCase();const gt=8&a?Ge:null;if(gt&&-1!==M5(gt,K,0)||2&a&&K!==Ge){if(ha(a))return!1;E=!0}}}}else{if(!E&&!ha(a)&&!ha(P))return!1;if(E&&ha(P))continue;E=!1,a=P|1&a}}return ha(a)||E}function ha(n){return 0==(1&n)}function D5(n,i,o,a){if(null===i)return-1;let d=0;if(a||!o){let v=!1;for(;d<i.length;){const E=i[d];if(E===n)return d;if(3===E||6===E)v=!0;else{if(1===E||2===E){let x=i[++d];for(;"string"==typeof x;)x=i[++d];continue}if(4===E)break;if(0===E){d+=4;continue}}d+=v?1:2}return-1}return function S5(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,n)}function E5(n,i,o=!1){for(let a=0;a<i.length;a++)if(A7(n,i[a],o))return!0;return!1}function Yc(n,i){e:for(let o=0;o<i.length;o++){const a=i[o];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function U0(n,i){return n?":not("+i.trim()+")":i}function t0(n){let i=n[0],o=1,a=2,d="",v=!1;for(;o<n.length;){let E=n[o];if("string"==typeof E)if(2&a){const x=n[++o];d+="["+E+(x.length>0?'="'+x+'"':"")+"]"}else 8&a?d+="."+E:4&a&&(d+=" "+E);else""!==d&&!ha(E)&&(i+=U0(v,d),d=""),a=E,v=v||!ha(a);o++}return""!==d&&(i+=U0(v,d)),i}const Wn={};function Qc(n){T5(_n(),kt(),Ce()+n,!1)}function T5(n,i,o,a){if(!a)if(3==(3&i[2])){const v=n.preOrderCheckHooks;null!==v&&En(i,v,o)}else{const v=n.preOrderHooks;null!==v&&Ar(i,v,0,o)}nt(o)}function R3(n,i=null,o=null,a){const d=G0(n,i,o,a);return d.resolveInjectorInitializers(),d}function G0(n,i=null,o=null,a,d=new Set){const v=[o||Yt,O(n)];return a=a||("object"==typeof n?void 0:Re(n)),new M2(v,i||_i(),a||null,d)}let o4=(()=>{class n{static create(o,a){if(Array.isArray(o))return R3({name:""},a,o,"");{const d=o.name??"";return R3({name:d},o.parent,o.providers,d)}}}return n.THROW_IF_NOT_FOUND=on,n.NULL=new M,n.\u0275prov=D1({token:n,providedIn:"any",factory:()=>E2(b)}),n.__NG_ELEMENT_ID__=-1,n})();function X4(n,i=Wt.Default){const o=kt();return null===o?E2(n,i):cs(a2(),o,ze(n),i)}function V5(){throw new Error("invalid")}function e3(n,i){return n<<17|i<<2}function qo(n){return n>>17&32767}function g6(n){return 2|n}function Ko(n){return(131068&n)>>2}function r0(n,i){return-131069&n|i<<2}function s0(n){return 1|n}function Y5(n,i){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a],v=o[a+1];if(-1!==v){const E=n.data[v];oe(d),E.contentQueries(2,i[v],v)}}}function b6(n,i,o,a,d,v,E,x,P,K,se){const ge=i.blueprint.slice();return ge[0]=d,ge[2]=76|a,(null!==se||n&&1024&n[2])&&(ge[2]|=1024),_2(ge),ge[3]=ge[15]=n,ge[8]=o,ge[10]=E||n&&n[10],ge[11]=x||n&&n[11],ge[12]=P||n&&n[12]||null,ge[9]=K||n&&n[9]||null,ge[6]=v,ge[20]=function X3(){return fs++}(),ge[21]=se,ge[16]=2==i.type?n[16]:ge,ge}function C6(n,i,o,a,d){let v=n.data[i];if(null===v)v=rc(n,i,o,a,d),function yr(){return R1.lFrame.inI18n}()&&(v.flags|=64);else if(64&v.type){v.type=o,v.value=a,v.attrs=d;const E=qr();v.injectorIndex=null===E?-1:E.injectorIndex}return Wi(v,!0),v}function rc(n,i,o,a,d){const v=xs(),E=qi(),P=n.data[i]=function S8(n,i,o,a,d,v){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?v:v&&v.parent,o,i,a,d);return null===n.firstChild&&(n.firstChild=P),null!==v&&(E?null==v.child&&null!==P.parent&&(v.child=P):null===v.next&&(v.next=P)),P}function M6(n,i,o,a){if(0===o)return-1;const d=i.length;for(let v=0;v<o;v++)i.push(a),n.blueprint.push(a),n.data.push(null);return d}function sc(n,i,o){$e(i);try{const a=n.viewQuery;null!==a&&k8(1,a,o);const d=n.template;null!==d&&_8(n,i,d,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Y5(n,i),n.staticViewQueries&&k8(2,n.viewQuery,o);const v=n.components;null!==v&&function y8(n,i){for(let o=0;o<i.length;o++)Y7(n,i[o])}(i,v)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[2]&=-5,q()}}function l0(n,i,o,a){const d=i[2];if(128!=(128&d)){$e(i);try{_2(i),function ut(n){return R1.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&_8(n,i,o,2,a);const E=3==(3&d);if(E){const K=n.preOrderCheckHooks;null!==K&&En(i,K,null)}else{const K=n.preOrderHooks;null!==K&&Ar(i,K,0,null),_r(i,0)}if(function O8(n){for(let i=Ea(n);null!==i;i=C4(i)){if(!i[2])continue;const o=i[9];for(let a=0;a<o.length;a++){const d=o[a],v=d[3];0==(512&d[2])&&e2(v,1),d[2]|=512}}}(i),function q7(n){for(let i=Ea(n);null!==i;i=C4(i))for(let o=10;o<i.length;o++){const a=i[o],d=a[1];ir(a)&&l0(d,a,d.template,a[8])}}(i),null!==n.contentQueries&&Y5(n,i),E){const K=n.contentCheckHooks;null!==K&&En(i,K)}else{const K=n.contentHooks;null!==K&&Ar(i,K,1),_r(i,1)}!function v8(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const d=o[a];if(d<0)nt(~d);else{const v=d,E=o[++a],x=o[++a];rs(E,v),x(2,i[v])}}}finally{nt(-1)}}(n,i);const x=n.components;null!==x&&function j7(n,i){for(let o=0;o<i.length;o++)K7(n,i[o])}(i,x);const P=n.viewQuery;if(null!==P&&k8(2,P,a),E){const K=n.viewCheckHooks;null!==K&&En(i,K)}else{const K=n.viewHooks;null!==K&&Ar(i,K,2),_r(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,e2(i[3],-1))}finally{q()}}}function _8(n,i,o,a,d){const v=Ce(),E=2&a;try{nt(-1),E&&i.length>22&&T5(n,i,22,!1),o(a,d)}finally{nt(v)}}function C8(n,i,o){!vr()||(function Z7(n,i,o,a){const d=o.directiveStart,v=o.directiveEnd;n.firstCreatePass||c1(o,i),Ms(a,i);const E=o.initialInputs;for(let x=d;x<v;x++){const P=n.data[x],K=x2(P);K&&x4(i,o,P);const se=Cr(i,n,x,o);Ms(se,i),null!==E&&L8(0,x-d,se,P,0,E),K&&(An(o.index,i)[8]=se)}}(n,i,o,L2(o,i)),128==(128&o.flags)&&function A8(n,i,o){const a=o.directiveStart,d=o.directiveEnd,v=o.index,E=function ss(){return R1.lFrame.currentDirectiveIndex}();try{nt(v);for(let x=a;x<d;x++){const P=n.data[x],K=i[x];os(x),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&ac(P,K)}}finally{nt(-1),os(E)}}(n,i,o))}function M8(n,i,o=L2){const a=i.localNames;if(null!==a){let d=i.index+1;for(let v=0;v<a.length;v+=2){const E=a[v+1],x=-1===E?o(i,n):n[E];n[d++]=x}}}function J5(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=w8(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function w8(n,i,o,a,d,v,E,x,P,K){const se=22+a,ge=se+d,Ge=function D8(n,i){const o=[];for(let a=0;a<i;a++)o.push(a<n?null:Wn);return o}(se,ge),gt="function"==typeof K?K():K;return Ge[1]={type:n,blueprint:Ge,template:o,queries:null,viewQuery:x,declTNode:i,data:Ge.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:gt,incompleteFirstPass:!1}}function X5(n,i,o,a){const d=al(i);null===o?d.push(a):(d.push(o),n.firstCreatePass&&uc(n).push(a,d.length-1))}function el(n,i,o){for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(i,d):o[a]=[i,d]}return o}function oc(n,i){const a=i.directiveEnd,d=n.data,v=i.attrs,E=[];let x=null,P=null;for(let K=i.directiveStart;K<a;K++){const se=d[K],ge=se.inputs,Ge=null===v||w5(i)?null:W7(ge,v);E.push(Ge),x=el(ge,K,x),P=el(se.outputs,K,P)}null!==x&&(x.hasOwnProperty("class")&&(i.flags|=16),x.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=E,i.inputs=x,i.outputs=P}function yo(n,i,o,a,d,v,E,x){const P=L2(i,o);let se,K=i.inputs;!x&&null!=K&&(se=K[a])?(P8(n,o,se,a,d),Ci(i)&&T8(o,i.index)):3&i.type&&(a=function tl(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=E?E(d,i.value||"",a):d,v.setProperty(P,a,d))}function T8(n,i){const o=An(i,n);16&o[2]||(o[2]|=32)}function u0(n,i,o,a){let d=!1;if(vr()){const v=function I8(n,i,o){const a=n.directiveRegistry;let d=null;if(a)for(let v=0;v<a.length;v++){const E=a[v];E5(o,E.selectors,!1)&&(d||(d=[]),Ei(c1(o,i),n,E.type),x2(E)?(H3(n,o),d.unshift(E)):d.push(E))}return d}(n,i,o),E=null===a?null:{"":-1};if(null!==v){d=!0,sl(o,n.data.length,v.length);for(let se=0;se<v.length;se++){const ge=v[se];ge.providersResolver&&ge.providersResolver(ge)}let x=!1,P=!1,K=M6(n,i,v.length,null);for(let se=0;se<v.length;se++){const ge=v[se];o.mergedAttrs=wo(o.mergedAttrs,ge.hostAttrs),cc(n,o,i,K,ge),x8(K,ge,E),null!==ge.contentQueries&&(o.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(o.flags|=128);const Ge=ge.type.prototype;!x&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),x=!0),!P&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),P=!0),K++}oc(n,o)}E&&function rl(n,i,o){if(i){const a=n.localNames=[];for(let d=0;d<i.length;d+=2){const v=o[i[d+1]];if(null==v)throw new Ye(-301,!1);a.push(i[d],v)}}}(o,a,E)}return o.mergedAttrs=wo(o.mergedAttrs,o.attrs),d}function il(n,i,o,a,d,v){const E=v.hostBindings;if(E){let x=n.hostBindingOpCodes;null===x&&(x=n.hostBindingOpCodes=[]);const P=~i.index;(function N8(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(x)!=P&&x.push(P),x.push(a,d,E)}}function ac(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function H3(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function x8(n,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=n;x2(i)&&(o[""]=n)}}function sl(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function cc(n,i,o,a,d){n.data[a]=d;const v=d.factory||(d.factory=z2(d.type)),E=new j2(v,x2(d),X4);n.blueprint[a]=E,o[a]=E,il(n,i,0,a,M6(n,o,d.hostVars,Wn),d)}function x4(n,i,o){const a=L2(i,n),d=J5(o),v=n[10],E=f0(n,b6(n,d,null,o.onPush?32:16,a,i,v,v.createRenderer(a,o),null,null,null));n[i.index]=E}function z8(n,i,o,a,d,v,E){if(null==v)n.removeAttribute(i,d,o);else{const x=null==E?ft(v):E(v,a||"",d);n.setAttribute(i,d,x,o)}}function L8(n,i,o,a,d,v){const E=v[i];if(null!==E){const x=a.setInput;for(let P=0;P<E.length;){const K=E[P++],se=E[P++],ge=E[P++];null!==x?a.setInput(o,ge,K,se):o[se]=ge}}}function W7(n,i){let o=null,a=0;for(;a<i.length;){const d=i[a];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,n[d],i[a+1])),a+=2}else a+=2;else a+=4}return o}function lc(n,i,o,a){return new Array(n,!0,!1,i,null,0,a,o,null,null)}function K7(n,i){const o=An(i,n);if(ir(o)){const a=o[1];48&o[2]?l0(a,o,a.template,o[8]):o[5]>0&&d0(o)}}function d0(n){for(let a=Ea(n);null!==a;a=C4(a))for(let d=10;d<a.length;d++){const v=a[d];if(ir(v))if(512&v[2]){const E=v[1];l0(E,v,E.template,v[8])}else v[5]>0&&d0(v)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const d=An(o[a],n);ir(d)&&d[5]>0&&d0(d)}}function Y7(n,i){const o=An(i,n),a=o[1];(function R8(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(a,o),sc(a,o,o[8])}function f0(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function h0(n){for(;n;){n[2]|=32;const i=Ka(n);if(Tr(n)&&!i)return n;n=i}return null}function p0(n,i,o,a=!0){const d=i[10];d.begin&&d.begin();try{l0(n,i,n.template,o)}catch(E){throw a&&fc(i,E),E}finally{d.end&&d.end()}}function k8(n,i,o){oe(0),i(n,o)}function al(n){return n[7]||(n[7]=[])}function uc(n){return n.cleanup||(n.cleanup=[])}function fc(n,i){const o=n[9],a=o?o.get(L3,null):null;a&&a.handleError(i)}function P8(n,i,o,a,d){for(let v=0;v<o.length;){const E=o[v++],x=o[v++],P=i[E],K=n.data[E];null!==K.setInput?K.setInput(P,d,a,x):P[x]=d}}function m0(n,i,o){let a=o?n.styles:null,d=o?n.classes:null,v=0;if(null!==i)for(let E=0;E<i.length;E++){const x=i[E];"number"==typeof x?v=x:1==v?d=Ve(d,x):2==v&&(a=Ve(a,x+": "+i[++E]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=d:n.classesWithoutHost=d}function hc(n,i,o,a,d=!1){for(;null!==o;){const v=i[o.index];if(null!==v&&a.push(d2(v)),P2(v))for(let x=10;x<v.length;x++){const P=v[x],K=P[1].firstChild;null!==K&&hc(P[1],P,K,a)}const E=o.type;if(8&E)hc(n,i,o.child,a);else if(32&E){const x=wa(o,i);let P;for(;P=x();)a.push(P)}else if(16&E){const x=Ja(i,o);if(Array.isArray(x))a.push(...x);else{const P=Ka(i[16]);hc(P[1],P,x,a,!0)}}o=d?o.projectionNext:o.next}return a}class F3{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return hc(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(P2(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(Na(i,a),xr(o,a))}this._attachedToViewContainer=!1}$4(this._lView[1],this._lView)}onDestroy(i){X5(this._lView[1],this._lView,null,i)}markForCheck(){h0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){p0(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sa(n,i){Qa(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=i}}class V8 extends F3{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;p0(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class pc extends da{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Ze(i);return new g2(o,this.ngModule)}}function H8(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class mc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){const d=this.injector.get(i,r4,a);return d!==r4||o===r4?d:this.parentInjector.get(i,o,a)}}class g2 extends Io{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function j0(n){return n.map(t0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return H8(this.componentDef.inputs)}get outputs(){return H8(this.componentDef.outputs)}create(i,o,a,d){let v=(d=d||this.ngModule)instanceof u2?d:d?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const E=v?new mc(i,v):i,x=E.get(Va,null);if(null===x)throw new Ye(407,!1);const P=E.get(d6,null),K=x.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",ge=a?function E8(n,i,o){return n.selectRootElement(i,o===lt.ShadowDom)}(K,a,this.componentDef.encapsulation):G4(K,se,function cl(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(se)),Ge=this.componentDef.onPush?288:272,gt=w8(0,null,null,1,0,null,null,null,null,null),Ft=b6(null,gt,null,Ge,null,null,x,K,P,E,null);let g1,I1;$e(Ft);try{const rn=function dl(n,i,o,a,d,v){const E=o[1];o[22]=n;const P=C6(E,22,2,"#host",null),K=P.mergedAttrs=i.hostAttrs;null!==K&&(m0(P,K,!0),null!==n&&(oo(d,n,K),null!==P.classes&&ca(d,n,P.classes),null!==P.styles&&po(d,n,P.styles)));const se=a.createRenderer(n,i),ge=b6(o,J5(i),null,i.onPush?32:16,o[22],P,a,se,v||null,null,null);return E.firstCreatePass&&(Ei(c1(P,o),E,i.type),H3(E,P),sl(P,o.length,1)),f0(o,ge),o[22]=ge}(ge,this.componentDef,Ft,x,K);if(ge)if(a)oo(K,ge,["ng-version",Y6.full]);else{const{attrs:Tn,classes:Jt}=function Jc(n){const i=[],o=[];let a=1,d=2;for(;a<n.length;){let v=n[a];if("string"==typeof v)2===d?""!==v&&i.push(v,n[++a]):8===d&&o.push(v);else{if(!ha(d))break;d=v}a++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Tn&&oo(K,ge,Tn),Jt&&Jt.length>0&&ca(K,ge,Jt.join(" "))}if(I1=is(gt,22),void 0!==o){const Tn=I1.projection=[];for(let Jt=0;Jt<this.ngContentSelectors.length;Jt++){const Un=o[Jt];Tn.push(null!=Un?Array.from(Un):null)}}g1=function Er(n,i,o,a){const d=o[1],v=function $7(n,i,o){const a=a2();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),cc(n,a,i,M6(n,i,1,null),o),oc(n,a));const d=Cr(i,n,a.directiveStart,a);Ms(d,i);const v=L2(a,i);return v&&Ms(v,i),d}(d,o,i);if(n[8]=o[8]=v,null!==a)for(const x of a)x(v,i);if(i.contentQueries){const x=a2();i.contentQueries(1,v,x.directiveStart)}const E=a2();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(nt(E.index),il(o[1],E,0,E.directiveStart,E.directiveEnd,i),ac(i,v)),v}(rn,this.componentDef,Ft,[Ys]),sc(gt,Ft,null)}finally{q()}return new ul(this.componentType,g1,lr(I1,Ft),Ft,I1)}}class ul extends class Hs{}{constructor(i,o,a,d,v){super(),this.location=a,this._rootLView=d,this._tNode=v,this.instance=o,this.hostView=this.changeDetectorRef=new V8(d),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[i])){const v=this._rootLView;P8(v[1],v,d,i,o),T8(v,this._tNode.index)}}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ys(){const n=a2();Gn(kt()[1],n)}function vc(n){let i=function Fa(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;i;){let d;if(x2(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ye(903,!1);d=i.\u0275dir}if(d){if(o){a.push(d);const E=n;E.inputs=w6(n.inputs),E.declaredInputs=w6(n.declaredInputs),E.outputs=w6(n.outputs);const x=d.hostBindings;x&&hl(n,x);const P=d.viewQuery,K=d.contentQueries;if(P&&fl(n,P),K&&F8(n,K),de(n.inputs,d.inputs),de(n.declaredInputs,d.declaredInputs),de(n.outputs,d.outputs),x2(d)&&d.data.animation){const se=n.data;se.animation=(se.animation||[]).concat(d.data.animation)}}const v=d.features;if(v)for(let E=0;E<v.length;E++){const x=v[E];x&&x.ngInherit&&x(n),x===vc&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Q7(n){let i=0,o=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=i+=d.hostVars,d.hostAttrs=wo(d.hostAttrs,o=wo(o,d.hostAttrs))}}(a)}function w6(n){return n===m1?{}:n===Yt?[]:n}function fl(n,i){const o=n.viewQuery;n.viewQuery=o?(a,d)=>{i(a,d),o(a,d)}:i}function F8(n,i){const o=n.contentQueries;n.contentQueries=o?(a,d,v)=>{i(a,d,v),o(a,d,v)}:i}function hl(n,i){const o=n.hostBindings;n.hostBindings=o?(a,d)=>{i(a,d),o(a,d)}:i}let _c=null;function B3(){if(!_c){const n=Mt.Symbol;if(n&&n.iterator)_c=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const a=i[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(_c=a)}}}return _c}function g0(n){return!!v0(n)&&(Array.isArray(n)||!(n instanceof Map)&&B3()in n)}function v0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ma(n,i,o){return n[i]=o}function Bs(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function d4(n,i,o,a){const d=Bs(n,i,o);return Bs(n,i+1,a)||d}function E6(n,i,o,a){const d=kt();return Bs(d,M1(),i)&&(_n(),function pa(n,i,o,a,d,v){const E=L2(n,i);z8(i[11],E,v,n.value,o,a,d)}(yt(),d,n,i,o,a)),E6}function n3(n,i,o,a){return Bs(n,M1(),o)?i+ft(o)+a:Wn}function tu(n,i,o,a,d,v,E,x){const P=kt(),K=_n(),se=n+22,ge=K.firstCreatePass?function x9(n,i,o,a,d,v,E,x,P){const K=i.consts,se=C6(i,n,4,E||null,m2(K,x));u0(i,o,se,m2(K,P)),Gn(i,se);const ge=se.tViews=w8(2,se,a,d,v,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,se),ge.queries=i.queries.embeddedTView(se)),se}(se,K,P,i,o,a,d,v,E):K.data[se];Wi(ge,!1);const Ge=P[11].createComment("");w4(K,P,Ge,ge),Ms(Ge,P),f0(P,P[se]=lc(Ge,P,Ge,ge)),dr(ge)&&C8(K,P,ge),null!=E&&M8(P,ge,x)}function U8(n){return Hi(function Kr(){return R1.lFrame.contextLView}(),22+n)}function j8(n,i,o){const a=kt();return Bs(a,M1(),i)&&yo(_n(),yt(),a,n,i,a[11],o,!1),j8}function G8(n,i,o,a,d){const E=d?"class":"style";P8(n,o,i.inputs[E],E,a)}function Cc(n,i,o,a){const d=kt(),v=_n(),E=22+n,x=d[11],P=d[E]=G4(x,i,function sn(){return R1.lFrame.currentNamespace}()),K=v.firstCreatePass?function wl(n,i,o,a,d,v,E){const x=i.consts,K=C6(i,n,2,d,m2(x,v));return u0(i,o,K,m2(x,E)),null!==K.attrs&&m0(K,K.attrs,!1),null!==K.mergedAttrs&&m0(K,K.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,K),K}(E,v,d,0,i,o,a):v.data[E];Wi(K,!0);const se=K.mergedAttrs;null!==se&&oo(x,P,se);const ge=K.classes;null!==ge&&ca(x,P,ge);const Ge=K.styles;return null!==Ge&&po(x,P,Ge),64!=(64&K.flags)&&w4(v,d,P,K),0===function Fr(){return R1.lFrame.elementDepthCount}()&&Ms(P,d),function Fi(){R1.lFrame.elementDepthCount++}(),dr(K)&&(C8(v,d,K),function b8(n,i,o){if(ur(i)){const d=i.directiveEnd;for(let v=i.directiveStart;v<d;v++){const E=n.data[v];E.contentQueries&&E.contentQueries(1,o[v],v)}}}(v,K,d)),null!==a&&M8(d,K),Cc}function Mc(){let n=a2();qi()?Ki():(n=n.parent,Wi(n,!1));const i=n;!function Wr(){R1.lFrame.elementDepthCount--}();const o=_n();return o.firstCreatePass&&(Gn(o,n),ur(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Ga(n){return 0!=(16&n.flags)}(i)&&G8(o,i,kt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function so(n){return 0!=(32&n.flags)}(i)&&G8(o,i,kt(),i.stylesWithoutHost,!1),Mc}function $8(n,i,o,a){return Cc(n,i,o,a),Mc(),$8}function W8(){return kt()}function ga(n){return!!n&&"function"==typeof n.then}function f4(n){return!!n&&"function"==typeof n.subscribe}const iu=f4;function z4(n,i,o,a){const d=kt(),v=_n(),E=a2();return function Sl(n,i,o,a,d,v,E,x){const P=dr(a),se=n.firstCreatePass&&uc(n),ge=i[8],Ge=al(i);let gt=!0;if(3&a.type||x){const I1=L2(a,i),rn=x?x(I1):I1,Tn=Ge.length,Jt=x?Ri=>x(d2(Ri[a.index])):a.index;let Un=null;if(!x&&P&&(Un=function ru(n,i,o,a){const d=n.cleanup;if(null!=d)for(let v=0;v<d.length-1;v+=2){const E=d[v];if(E===o&&d[v+1]===a){const x=i[7],P=d[v+2];return x.length>P?x[P]:null}"string"==typeof E&&(v+=2)}return null}(n,i,d,a.index)),null!==Un)(Un.__ngLastListenerFn__||Un).__ngNextListenerFn__=v,Un.__ngLastListenerFn__=v,gt=!1;else{v=K8(a,i,ge,v,!1);const Ri=o.listen(rn,d,v);Ge.push(v,Ri),se&&se.push(d,Jt,Tn,Tn+1)}}else v=K8(a,i,ge,v,!1);const Ft=a.outputs;let g1;if(gt&&null!==Ft&&(g1=Ft[d])){const I1=g1.length;if(I1)for(let rn=0;rn<I1;rn+=2){const es=i[g1[rn]][g1[rn+1]].subscribe(v),z0=Ge.length;Ge.push(v,es),se&&se.push(d,a.index,z0,-(z0+1))}}}(v,d,d[11],E,n,i,0,a),z4}function q8(n,i,o,a){try{return!1!==o(a)}catch(d){return fc(n,d),!1}}function K8(n,i,o,a,d){return function v(E){if(E===Function)return a;h0(2&n.flags?An(n.index,i):i);let P=q8(i,0,a,E),K=v.__ngNextListenerFn__;for(;K;)P=q8(i,0,K,E)&&P,K=K.__ngNextListenerFn__;return d&&!1===P&&(E.preventDefault(),E.returnValue=!1),P}}function y0(n=1){return function k(n){return(R1.lFrame.contextLView=function te(n,i){for(;n>0;)i=i[15],n--;return i}(n,R1.lFrame.contextLView))[8]}(n)}function su(n,i){let o=null;const a=function B0(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let d=0;d<i.length;d++){const v=i[d];if("*"!==v){if(null===a?E5(n,v,!0):Yc(a,v))return d}else o=d}return o}function s3(n){const i=kt()[16][6];if(!i.projection){const a=i.projection=$s(n?n.length:1,null),d=a.slice();let v=i.child;for(;null!==v;){const E=n?su(v,n):0;null!==E&&(d[E]?d[E].projectionNext=v:a[E]=v,d[E]=v),v=v.next}}}function _0(n,i=0,o){const a=kt(),d=_n(),v=C6(d,22+n,16,null,o||null);null===v.projection&&(v.projection=i),Ki(),64!=(64&v.flags)&&function ws(n,i,o){w3(i[11],0,i,o,ho(n,o,i),i6(o.parent||i[6],o,i))}(d,a,v)}function $3(n,i,o){return b0(n,"",i,"",o),$3}function b0(n,i,o,a,d){const v=kt(),E=n3(v,i,o,a);return E!==Wn&&yo(_n(),yt(),v,n,E,v[11],d,!1),b0}function Sc(n,i,o,a,d){const v=n[o+1],E=null===i;let x=a?qo(v):Ko(v),P=!1;for(;0!==x&&(!1===P||E);){const se=n[x+1];au(n[x],i)&&(P=!0,n[x+1]=a?s0(se):g6(se)),x=a?qo(se):Ko(se)}P&&(n[o+1]=a?g6(v):s0(v))}function au(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&D(n,i)>=0}const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C0(n){return n.substring(Xr.key,Xr.keyEnd)}function xl(n,i){const o=Xr.textEnd;return o===i?-1:(i=Xr.keyEnd=function a3(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Xr.key=i,o),h4(n,i,o))}function h4(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function D0(n,i,o){return Ua(n,i,o,!1),D0}function e5(n,i){return Ua(n,i,null,!0),e5}function Ol(n){!function ja(n,i,o,a){const d=_n(),v=Pn(2);d.firstUpdatePass&&Rl(d,null,v,a);const E=kt();if(o!==Wn&&Bs(E,v,o)){const x=d.data[Ce()];if(L4(x,a)&&!E0(d,v)){let P=a?x.classesWithoutHost:x.stylesWithoutHost;null!==P&&(o=Ve(P,o||"")),G8(d,x,E,o,a)}else!function xc(n,i,o,a,d,v,E,x){d===Wn&&(d=Yt);let P=0,K=0,se=0<d.length?d[0]:null,ge=0<v.length?v[0]:null;for(;null!==se||null!==ge;){const Ge=P<d.length?d[P+1]:void 0,gt=K<v.length?v[K+1]:void 0;let g1,Ft=null;se===ge?(P+=2,K+=2,Ge!==gt&&(Ft=ge,g1=gt)):null===ge||null!==se&&se<ge?(P+=2,Ft=se):(K+=2,Ft=ge,g1=gt),null!==Ft&&Fl(n,i,o,a,Ft,g1,E,x),se=P<d.length?d[P]:null,ge=K<v.length?v[K]:null}}(d,x,E,E[11],E[v+1],E[v+1]=function Hl(n,i,o){if(null==o||""===o)return Yt;const a=[],d=Qr(o);if(Array.isArray(d))for(let v=0;v<d.length;v++)n(a,d[v],!0);else if("object"==typeof d)for(const v in d)d.hasOwnProperty(v)&&n(a,v,d[v]);else"string"==typeof d&&i(a,d);return a}(n,i,o),a,v)}}(ne,Qo,n,!0)}function Qo(n,i){for(let o=function M0(n){return function Nc(n){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=n.length}(n),xl(n,h4(n,0,Xr.textEnd))}(i);o>=0;o=xl(i,o))ne(n,C0(i),!0)}function Ua(n,i,o,a){const d=kt(),v=_n(),E=Pn(2);v.firstUpdatePass&&Rl(v,n,E,a),i!==Wn&&Bs(d,E,i)&&Fl(v,v.data[Ce()],d,d[11],n,d[E+1]=function S0(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Re(Qr(n)))),n}(i,o),a,E)}function E0(n,i){return i>=n.expandoStartIndex}function Rl(n,i,o,a){const d=n.data;if(null===d[o+1]){const v=d[Ce()],E=E0(n,o);L4(v,a)&&null===i&&!E&&(i=!1),i=function lu(n,i,o,a){const d=function Bi(n){const i=R1.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let v=a?i.residualClasses:i.residualStyles;if(null===d)0===(a?i.classBindings:i.styleBindings)&&(o=x6(o=Ac(null,n,i,o,a),i.attrs,a),v=null);else{const E=i.directiveStylingLast;if(-1===E||n[E]!==d)if(o=Ac(d,n,i,o,a),null===v){let P=function kl(n,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==Ko(a))return n[qo(a)]}(n,i,a);void 0!==P&&Array.isArray(P)&&(P=Ac(null,n,i,P[1],a),P=x6(P,i.attrs,a),function Pl(n,i,o,a){n[qo(o?i.classBindings:i.styleBindings)]=a}(n,i,a,P))}else v=function Vl(n,i,o){let a;const d=i.directiveEnd;for(let v=1+i.directiveStylingLast;v<d;v++)a=x6(a,n[v].hostAttrs,o);return x6(a,i.attrs,o)}(n,i,a)}return void 0!==v&&(a?i.residualClasses=v:i.residualStyles=v),o}(d,v,i,a),function Al(n,i,o,a,d,v){let E=v?i.classBindings:i.styleBindings,x=qo(E),P=Ko(E);n[a]=o;let se,K=!1;if(Array.isArray(o)){const ge=o;se=ge[1],(null===se||D(ge,se)>0)&&(K=!0)}else se=o;if(d)if(0!==P){const Ge=qo(n[x+1]);n[a+1]=e3(Ge,x),0!==Ge&&(n[Ge+1]=r0(n[Ge+1],a)),n[x+1]=function a8(n,i){return 131071&n|i<<17}(n[x+1],a)}else n[a+1]=e3(x,0),0!==x&&(n[x+1]=r0(n[x+1],a)),x=a;else n[a+1]=e3(P,0),0===x?x=a:n[P+1]=r0(n[P+1],a),P=a;K&&(n[a+1]=g6(n[a+1])),Sc(n,se,a,!0),Sc(n,se,a,!1),function Q8(n,i,o,a,d){const v=d?n.residualClasses:n.residualStyles;null!=v&&"string"==typeof i&&D(v,i)>=0&&(o[a+1]=s0(o[a+1]))}(i,se,n,a,v),E=e3(x,P),v?i.classBindings=E:i.styleBindings=E}(d,v,i,o,E,a)}}function Ac(n,i,o,a,d){let v=null;const E=o.directiveEnd;let x=o.directiveStylingLast;for(-1===x?x=o.directiveStart:x++;x<E&&(v=i[x],a=x6(a,v.hostAttrs,d),v!==n);)x++;return null!==n&&(o.directiveStylingLast=x),a}function x6(n,i,o){const a=o?1:2;let d=-1;if(null!==i)for(let v=0;v<i.length;v++){const E=i[v];"number"==typeof E?d=E:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ne(n,E,!!o||i[++v]))}return void 0===n?null:n}function Fl(n,i,o,a,d,v,E,x){if(!(3&i.type))return;const P=n.data,K=P[x+1];va(function c8(n){return 1==(1&n)}(K)?c3(P,i,o,d,Ko(K),E):void 0)||(va(v)||function k3(n){return 2==(2&n)}(K)&&(v=c3(P,null,o,d,x,E)),function za(n,i,o,a,d){if(i)d?n.addClass(o,a):n.removeClass(o,a);else{let v=-1===a.indexOf("-")?void 0:ks.DashCase;null==d?n.removeStyle(o,a,v):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),v|=ks.Important),n.setStyle(o,a,d,v))}}(a,E,oi(Ce(),o),d,v))}function c3(n,i,o,a,d,v){const E=null===i;let x;for(;d>0;){const P=n[d],K=Array.isArray(P),se=K?P[1]:P,ge=null===se;let Ge=o[d+1];Ge===Wn&&(Ge=ge?Yt:void 0);let gt=ge?ve(Ge,a):se===a?Ge:void 0;if(K&&!va(gt)&&(gt=ve(P,a)),va(gt)&&(x=gt,E))return x;const Ft=n[d+1];d=E?qo(Ft):Ko(Ft)}if(null!==i){let P=v?i.residualClasses:i.residualStyles;null!=P&&(x=ve(P,a))}return x}function va(n){return void 0!==n}function L4(n,i){return 0!=(n.flags&(i?16:32))}function Bl(n,i=""){const o=kt(),a=_n(),d=n+22,v=a.firstCreatePass?C6(a,d,1,i,null):a.data[d],E=o[d]=C3(o[11],i);w4(a,o,E,v),Wi(v,!1)}function zc(n){return Lc("",n,""),zc}function Lc(n,i,o){const a=kt(),d=n3(a,n,i,o);return d!==Wn&&function u4(n,i,o){const a=oi(i,n);Ya(n[11],a,o)}(a,Ce(),d),Lc}function T0(n,i,o){const a=kt();return Bs(a,M1(),i)&&yo(_n(),yt(),a,n,i,a[11],o,!0),T0}const Z3=void 0;var Rc=["en",[["a","p"],["AM","PM"],Z3],[["AM","PM"],Z3,Z3],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Z3,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Z3,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Z3,"{1} 'at' {0}",Z3],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ql(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let O6={};function kc(n){const i=function N0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=_o(i);if(o)return o;const a=i.split("-")[0];if(o=_o(a),o)return o;if("en"===a)return Rc;throw new Ye(701,!1)}function ya(n){return kc(n)[Dn.PluralCase]}function _o(n){return n in O6||(O6[n]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[n]),O6[n]}var Dn=(()=>((Dn=Dn||{})[Dn.LocaleId=0]="LocaleId",Dn[Dn.DayPeriodsFormat=1]="DayPeriodsFormat",Dn[Dn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dn[Dn.DaysFormat=3]="DaysFormat",Dn[Dn.DaysStandalone=4]="DaysStandalone",Dn[Dn.MonthsFormat=5]="MonthsFormat",Dn[Dn.MonthsStandalone=6]="MonthsStandalone",Dn[Dn.Eras=7]="Eras",Dn[Dn.FirstDayOfWeek=8]="FirstDayOfWeek",Dn[Dn.WeekendRange=9]="WeekendRange",Dn[Dn.DateFormat=10]="DateFormat",Dn[Dn.TimeFormat=11]="TimeFormat",Dn[Dn.DateTimeFormat=12]="DateTimeFormat",Dn[Dn.NumberSymbols=13]="NumberSymbols",Dn[Dn.NumberFormats=14]="NumberFormats",Dn[Dn.CurrencyCode=15]="CurrencyCode",Dn[Dn.CurrencySymbol=16]="CurrencySymbol",Dn[Dn.CurrencyName=17]="CurrencyName",Dn[Dn.Currencies=18]="Currencies",Dn[Dn.Directionality=19]="Directionality",Dn[Dn.PluralCase=20]="PluralCase",Dn[Dn.ExtraData=21]="ExtraData",Dn))();const A0=["zero","one","two","few","many"],k6="en-US",R4={marker:"element"},p4={marker:"ICU"};var Rr=(()=>((Rr=Rr||{})[Rr.SHIFT=2]="SHIFT",Rr[Rr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Rr[Rr.COMMENT=2]="COMMENT",Rr))();let Xl=k6;function e7(n){(function O1(n,i){null==n&&Vt(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Xl=n.toLowerCase().replace(/_/g,"-"))}function k4(n,i,o){const a=i.insertBeforeIndex,d=Array.isArray(a)?a[0]:a;return null===d?aa(n,0,o):d2(o[d])}function t7(n,i,o,a,d){const v=i.insertBeforeIndex;if(Array.isArray(v)){let E=a,x=null;if(3&i.type||(x=E,E=d),null!==E&&0==(2&i.flags))for(let P=1;P<v.length;P++)Bo(n,E,o[v[P]],x,!1)}}function n7(n,i){if(n.push(i),n.length>1)for(let o=n.length-2;o>=0;o--){const a=n[o];i7(a)||r7(a,i)&&null===Su(a)&&c5(a,i.index)}}function i7(n){return!(64&n.type)}function r7(n,i){return i7(i)||n.index>i.index}function Su(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function c5(n,i){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=i:(xa(k4,t7),n.insertBeforeIndex=i)}function u3(n,i){const o=n.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function l5(n,i,o){const a=rc(n,o,64,null,null);return n7(i,a),a}function Pc(n,i){const o=i[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function u5(n){return n>>>17}function d5(n){return(131070&n)>>>1}let V6=0,H6=0;function h5(n,i,o,a){const d=o[11];let E,v=null;for(let x=0;x<i.length;x++){const P=i[x];if("string"==typeof P){const K=i[++x];null===o[K]&&(o[K]=C3(d,P))}else if("number"==typeof P)switch(1&P){case 0:const K=u5(P);let se,ge;if(null===v&&(v=K,E=oa(d,a)),K===v?(se=a,ge=E):(se=null,ge=d2(o[K])),null!==ge){const g1=d5(P);Bo(d,ge,o[g1],se,!1);const rn=u3(n,g1);if(null!==rn&&"object"==typeof rn){const Tn=Pc(rn,o);null!==Tn&&h5(n,rn.create[Tn],o,o[rn.anchorIdx])}}break;case 1:const gt=i[++x],Ft=i[++x];z8(d,oi(P>>>1,o),null,null,gt,Ft,null)}else switch(P){case p4:const K=i[++x],se=i[++x];null===o[se]&&Ms(o[se]=sa(d,K),o);break;case R4:const ge=i[++x],Ge=i[++x];null===o[Ge]&&Ms(o[Ge]=G4(d,ge,null),o)}}}function a7(n,i,o,a,d){for(let v=0;v<o.length;v++){const E=o[v],x=o[++v];if(E&d){let P="";for(let K=v+1;K<=v+x;K++){const se=o[K];if("string"==typeof se)P+=se;else if("number"==typeof se)if(se<0)P+=ft(i[a-se]);else{const ge=se>>>2;switch(3&se){case 1:const Ge=o[++K],gt=o[++K],Ft=n.data[ge];"string"==typeof Ft?z8(i[11],i[ge],null,Ft,Ge,P,gt):yo(n,Ft,i,Ge,P,i[11],gt,!1);break;case 0:const g1=i[ge];null!==g1&&Ya(i[11],g1,P);break;case 2:e(n,u3(n,ge),i,P);break;case 3:r(n,u3(n,ge),a,i)}}}}else{const P=o[v+1];if(P>0&&3==(3&P)){const se=u3(n,P>>>2);i[se.currentCaseLViewIndex]<0&&r(n,se,a,i)}}v+=x}}function r(n,i,o,a){let d=a[i.currentCaseLViewIndex];if(null!==d){let v=V6;d<0&&(d=a[i.currentCaseLViewIndex]=~d,v=-1),a7(n,a,i.update[d],o,v)}}function e(n,i,o,a){const d=function s(n,i){let o=n.cases.indexOf(i);if(-1===o)switch(n.type){case 1:{const a=function bo(n,i){const o=ya(i)(parseInt(n,10)),a=A0[o];return void 0!==a?a:"other"}(i,function Eu(){return Xl}());o=n.cases.indexOf(a),-1===o&&"other"!==a&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(i,a);if(Pc(i,o)!==d&&(t(n,i,o),o[i.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const E=o[i.anchorIdx];E&&h5(n,i.create[d],o,E)}}function t(n,i,o){let a=Pc(i,o);if(null!==a){const d=i.remove[a];for(let v=0;v<d.length;v++){const E=d[v];if(E>0){const x=oi(E,o);null!==x&&E4(o[11],x)}else t(n,u3(n,~E),o)}}}function c(){const n=[];let o,a,i=-1;function v(x,P){i=0;const K=Pc(x,P);a=null!==K?x.remove[K]:Yt}function E(){if(i<a.length){const x=a[i++];return x>0?o[x]:(n.push(i,a),v(o[1].data[~x],o),E())}return 0===n.length?null:(a=n.pop(),i=n.pop(),E())}return function d(x,P){for(o=P;n.length;)n.pop();return v(x.value,P),E}}const ue=/\ufffd(\d+):?\d*\ufffd/gi,pt=/\ufffd(\d+)\ufffd/,Ut=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,k1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,un=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Gi=/\uE500/g;function Gr(n,i,o,a,d,v,E){const x=M6(n,a,1,null);let P=x<<Rr.SHIFT,K=qr();i===K&&(K=null),null===K&&(P|=Rr.APPEND_EAGERLY),E&&(P|=Rr.COMMENT,function ia(n){void 0===Fo&&(Fo=n())}(c)),d.push(P,null===v?"":v);const se=rc(n,x,E?32:1,null===v?"":v,null);n7(o,se);const ge=se.index;return Wi(se,!1),null!==K&&i!==K&&function Tu(n,i){let o=n.insertBeforeIndex;null===o?(xa(k4,t7),o=n.insertBeforeIndex=[null,i]):(function et(n,i,o){n!=i&&Vt(o,n,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(K,ge),se}function ni(n,i,o,a,d,v,E){const x=E.match(ue),P=Gr(n,i,o,v,a,x?null:E,!1);x&&$r(d,E,P.index,null,0,null)}function $r(n,i,o,a,d,v){const E=n.length,x=E+1;n.push(null,null);const P=E+2,K=i.split(ue);let se=0;for(let ge=0;ge<K.length;ge++){const Ge=K[ge];if(1&ge){const gt=d+parseInt(Ge,10);n.push(-1-gt),se|=O9(gt)}else""!==Ge&&n.push(Ge)}return n.push(o<<2|(a?1:0)),a&&n.push(a,v),n[E]=se,n[x]=n.length-P,se}function O9(n){return 1<<Math.min(n,31)}function R9(n){let i,v,o="",a=0,d=!1;for(;null!==(i=k1.exec(n));)d?i[0]===`\ufffd/*${v}\ufffd`&&(a=i.index,d=!1):(o+=n.substring(a,i.index+i[0].length),v=i[1],d=!0);return o+=n.slice(a),o}function k9(n,i,o,a,d,v){let E=0;const x={type:d.type,currentCaseLViewIndex:M6(n,i,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function If(n,i,o){n.push(O9(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,d,v),function s7(n,i,o){const a=n.data[i];null===a?n.data[i]=o:a.value=o}(n,v,x);const P=d.values;for(let K=0;K<P.length;K++){const se=P[K],ge=[];for(let Ge=0;Ge<se.length;Ge++){const gt=se[Ge];if("string"!=typeof gt){const Ft=ge.push(gt)-1;se[Ge]=`\x3c!--\ufffd${Ft}\ufffd--\x3e`}}E=Nf(n,x,i,o,a,d.cases[K],se.join(""),ge)|E}E&&function xf(n,i,o){n.push(i,1,o<<2|3)}(o,E,v)}function Tf(n){const i=[],o=[];let a=1,d=0;const v=xu(n=n.replace(Ut,function(E,x,P){return a="select"===P?0:1,d=parseInt(x.slice(1),10),""}));for(let E=0;E<v.length;){let x=v[E++].trim();1===a&&(x=x.replace(/\s*(?:=)?(\w+)\s*/,"$1")),x.length&&i.push(x);const P=xu(v[E++]);i.length>o.length&&o.push(P)}return{type:a,mainBinding:d,cases:i,values:o}}function xu(n){if(!n)return[];let i=0;const o=[],a=[],d=/[{}]/g;let v;for(d.lastIndex=0;v=d.exec(n);){const x=v.index;if("}"==v[0]){if(o.pop(),0==o.length){const P=n.substring(i,x);Ut.test(P)?a.push(Tf(P)):a.push(P),i=x+1}}else{if(0==o.length){const P=n.substring(i,x);a.push(P),i=x+1}o.push("{")}}const E=n.substring(i);return a.push(E),a}function Nf(n,i,o,a,d,v,E,x){const P=[],K=[],se=[];i.cases.push(v),i.create.push(P),i.remove.push(K),i.update.push(se);const Ge=Ds(h()).getInertBodyElement(E),gt=P0(Ge)||Ge;return gt?P9(n,i,o,a,P,K,se,gt,d,x,0):0}function P9(n,i,o,a,d,v,E,x,P,K,se){let ge=0,Ge=x.firstChild;for(;Ge;){const gt=M6(n,o,1,null);switch(Ge.nodeType){case Node.ELEMENT_NODE:const Ft=Ge,g1=Ft.tagName.toLowerCase();if(l6.hasOwnProperty(g1)){zu(d,R4,g1,P,gt),n.data[gt]=g1;const Jt=Ft.attributes;for(let Un=0;Un<Jt.length;Un++){const Ri=Jt.item(Un),es=Ri.name.toLowerCase();Ri.value.match(ue)?Gc.hasOwnProperty(es)&&$r(E,Ri.value,gt,Ri.name,0,O0[es]?Ra:null):zf(d,gt,Ri)}ge=P9(n,i,o,a,d,v,E,Ge,gt,K,se+1)|ge,V9(v,gt,se)}break;case Node.TEXT_NODE:const I1=Ge.textContent||"",rn=I1.match(ue);zu(d,null,rn?"":I1,P,gt),V9(v,gt,se),rn&&(ge=$r(E,I1,gt,null,0,null)|ge);break;case Node.COMMENT_NODE:const Tn=pt.exec(Ge.textContent||"");if(Tn){const Un=K[parseInt(Tn[1],10)];zu(d,p4,"",P,gt),k9(n,o,a,P,Un,gt),Af(v,gt,se)}}Ge=Ge.nextSibling}return ge}function V9(n,i,o){0===o&&n.push(i)}function Af(n,i,o){0===o&&(n.push(~i),n.push(i))}function zu(n,i,o,a,d){null!==i&&n.push(i),n.push(o,d,function Nu(n,i,o){return n|i<<17|o<<1}(0,a,d))}function zf(n,i,o){n.push(i<<1|1,o.name,o.value)}function F9(n,i,o=-1){const a=_n(),d=kt(),v=22+n,E=m2(a.consts,i),x=qr();a.firstCreatePass&&function Z2(n,i,o,a,d,v){const E=qr(),x=[],P=[],K=[[]];d=function Sf(n,i){if(function Ef(n){return-1===n}(i))return R9(n);{const o=n.indexOf(`:${i}\ufffd`)+2+i.toString().length,a=n.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return R9(n.substring(o,a))}}(d,v);const se=function kr(n){return n.replace(Gi," ")}(d).split(un);for(let ge=0;ge<se.length;ge++){let Ge=se[ge];if(0==(1&ge)){const gt=xu(Ge);for(let Ft=0;Ft<gt.length;Ft++){let g1=gt[Ft];if(0==(1&Ft)){const I1=g1;""!==I1&&ni(n,E,K[0],x,P,o,I1)}else{const I1=g1;if("object"!=typeof I1)throw new Error(`Unable to parse ICU expression in "${d}" message.`);k9(n,o,P,i,I1,Gr(n,E,K[0],o,x,"",!0).index)}}}else{const gt=47===Ge.charCodeAt(0),g1=(Ge.charCodeAt(gt?1:0),22+Number.parseInt(Ge.substring(gt?2:1)));if(gt)K.shift(),Wi(qr(),!1);else{const I1=l5(n,K[0],g1);K.unshift([]),Wi(I1,!0)}}}n.data[a]={create:x,update:P}}(a,null===x?0:x.index,d,v,E,o);const P=a.data[v],se=Aa(a,x===d[6]?null:x,d);(function o7(n,i,o,a){const d=n[11];for(let v=0;v<i.length;v++){const E=i[v++],x=i[v],P=(E&Rr.COMMENT)===Rr.COMMENT,K=(E&Rr.APPEND_EAGERLY)===Rr.APPEND_EAGERLY,se=E>>>Rr.SHIFT;let ge=n[se];null===ge&&(ge=n[se]=P?d.createComment(x):C3(d,x)),K&&null!==o&&Bo(d,o,ge,a,!1)}})(d,P.create,se,x&&8&x.type?d[x.index]:null),sr(!0)}function U9(n,i,o){F9(n,i,o),function B9(){sr(!1)}()}function Lu(n){return function Au(n){n&&(V6|=1<<Math.min(H6,31)),H6++}(Bs(kt(),M1(),n)),Lu}function j9(n){!function Iu(n,i,o){if(H6>0){const a=n.data[o];a7(n,i,Array.isArray(a)?a:a.update,function re(){return R1.lFrame.bindingIndex}()-H6-1,V6)}V6=0,H6=0}(_n(),kt(),n+22)}function Ou(n,i,o,a,d){if(n=ze(n),Array.isArray(n))for(let v=0;v<n.length;v++)Ou(n[v],i,o,a,d);else{const v=_n(),E=kt();let x=G1(n)?n:ze(n.provide),P=jr(n);const K=a2(),se=1048575&K.providerIndexes,ge=K.directiveStart,Ge=K.providerIndexes>>20;if(G1(n)||!n.multi){const gt=new j2(P,d,X4),Ft=ku(x,i,d?se:se+Ge,ge);-1===Ft?(Ei(c1(K,E),v,x),Ru(v,n,i.length),i.push(x),K.directiveStart++,K.directiveEnd++,d&&(K.providerIndexes+=1048576),o.push(gt),E.push(gt)):(o[Ft]=gt,E[Ft]=gt)}else{const gt=ku(x,i,se+Ge,ge),Ft=ku(x,i,se,se+Ge),g1=gt>=0&&o[gt],I1=Ft>=0&&o[Ft];if(d&&!I1||!d&&!g1){Ei(c1(K,E),v,x);const rn=function Zf(n,i,o,a,d){const v=new j2(n,o,X4);return v.multi=[],v.index=i,v.componentProviders=0,G9(v,d,a&&!o),v}(d?$f:Gf,o.length,d,a,P);!d&&I1&&(o[Ft].providerFactory=rn),Ru(v,n,i.length,0),i.push(x),K.directiveStart++,K.directiveEnd++,d&&(K.providerIndexes+=1048576),o.push(rn),E.push(rn)}else Ru(v,n,gt>-1?gt:Ft,G9(o[d?Ft:gt],P,!d&&a));!d&&a&&I1&&o[Ft].componentProviders++}}}function Ru(n,i,o,a){const d=G1(i),v=function V2(n){return!!n.useClass}(i);if(d||v){const P=(v?ze(i.useClass):i).prototype.ngOnDestroy;if(P){const K=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const se=K.indexOf(o);-1===se?K.push(o,[a,P]):K[se+1].push(a,P)}else K.push(o,P)}}}function G9(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function ku(n,i,o,a){for(let d=o;d<a;d++)if(i[d]===n)return d;return-1}function Gf(n,i,o,a){return Pu(this.multi,[])}function $f(n,i,o,a){const d=this.multi;let v;if(this.providerFactory){const E=this.providerFactory.componentProviders,x=Cr(o,o[1],this.providerFactory.index,a);v=x.slice(0,E),Pu(d,v);for(let P=E;P<x.length;P++)v.push(x[P])}else v=[],Pu(d,v);return v}function Pu(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function $9(n,i=[]){return o=>{o.providersResolver=(a,d)=>function jf(n,i,o){const a=_n();if(a.firstCreatePass){const d=x2(n);Ou(o,a.data,a.blueprint,d,!0),Ou(i,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,i)}}class Vc{}class Z9{}function Wf(n,i){return new W9(n,i??null)}class W9 extends Vc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pc(this);const a=cn(i);this._bootstrapComponents=Wo(a.bootstrap),this._r3Injector=G0(i,o,[{provide:Vc,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],Re(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Vu extends Z9{constructor(i){super(),this.moduleType=i}create(i){return new W9(this.moduleType,i)}}class qf extends Vc{constructor(i,o,a){super(),this.componentFactoryResolver=new pc(this),this.instance=null;const d=new M2([...i,{provide:Vc,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],o||_i(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Hu(n,i,o=null){return new qf(n,i,o).injector}let Kf=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=W(0,o.type),d=a.length>0?Hu([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,d)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=D1({token:n,providedIn:"environment",factory:()=>new n(E2(u2))}),n})();function q9(n){n.getStandaloneInjector=i=>i.get(Kf).getOrCreateStandaloneInjector(n)}function td(n,i,o){const a=V()+n,d=kt();return d[a]===Wn?ma(d,a,o?i.call(o):i()):function U3(n,i){return n[i]}(d,a)}function nd(n,i,o,a){return sd(kt(),V(),n,i,o,a)}function id(n,i,o,a,d){return function od(n,i,o,a,d,v,E){const x=i+o;return d4(n,x,d,v)?ma(n,x+2,E?a.call(E,d,v):a(d,v)):p5(n,x+2)}(kt(),V(),n,i,o,a,d)}function rd(n,i,o,a,d,v){return function ad(n,i,o,a,d,v,E,x){const P=i+o;return function D6(n,i,o,a,d){const v=d4(n,i,o,a);return Bs(n,i+2,d)||v}(n,P,d,v,E)?ma(n,P+3,x?a.call(x,d,v,E):a(d,v,E)):p5(n,P+3)}(kt(),V(),n,i,o,a,d,v)}function p5(n,i){const o=n[i];return o===Wn?void 0:o}function sd(n,i,o,a,d,v){const E=i+o;return Bs(n,E,d)?ma(n,E+1,v?a.call(v,d):a(d)):p5(n,E+1)}function ud(n,i){const o=_n();let a;const d=n+22;o.firstCreatePass?(a=function uh(n,i){if(i)for(let o=i.length-1;o>=0;o--){const a=i[o];if(n===a.name)return a}}(i,o.pipeRegistry),o.data[d]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,a.onDestroy)):a=o.data[d];const v=a.factory||(a.factory=z2(a.type)),E=pn(X4);try{const x=qt(!1),P=v();return qt(x),function ps(n,i,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=a}(o,kt(),d,P),P}finally{pn(E)}}function dd(n,i,o){const a=n+22,d=kt(),v=Hi(d,a);return function m5(n,i){return n[1].data[i].pure}(d,a)?sd(d,V(),i,v.transform,o,v):v.transform(o)}function Bu(n){return i=>{setTimeout(n,void 0,i)}}const d3=class mh extends l.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let d=i,v=o||(()=>null),E=a;if(i&&"object"==typeof i){const P=i;d=P.next?.bind(P),v=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(v=Bu(v),d&&(d=Bu(d)),E&&(E=Bu(E)));const x=super.subscribe({next:d,error:v,complete:E});return i instanceof _.w0&&i.add(x),x}};function gh(){return this._results[B3()]()}class Uu{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=B3(),a=Uu.prototype;a[o]||(a[o]=gh)}get changes(){return this._changes||(this._changes=new d3)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const d=Li(i);(this._changesDetected=!function To(n,i,o){if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],v=i[a];if(o&&(d=o(d),v=o(v)),v!==d)return!1}return!0}(a._results,d,o))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let g5=(()=>{class n{}return n.__NG_ELEMENT_ID__=_h,n})();const vh=g5,yh=class extends vh{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(i,o){const a=this._declarationTContainer.tViews,d=b6(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,o||null);d[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(d[19]=E.createEmbeddedView(a)),sc(a,d,i),new F3(d)}};function _h(){return c7(a2(),kt())}function c7(n,i){return 4&n.type?new yh(i,n,lr(n,i)):null}let l7=(()=>{class n{}return n.__NG_ELEMENT_ID__=bh,n})();function bh(){return pd(a2(),kt())}const Ch=l7,fd=class extends Ch{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return lr(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){const i=G2(this._hostTNode,this._hostLView);if(zi(i)){const o=Ls(i,this._hostLView),a=ai(i);return new or(o[1].data[a+8],o)}return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=hd(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,a){let d,v;"number"==typeof a?d=a:null!=a&&(d=a.index,v=a.injector);const E=i.createEmbeddedView(o||{},v);return this.insert(E,d),E}createComponent(i,o,a,d,v){const E=i&&!function bs(n){return"function"==typeof n}(i);let x;if(E)x=o;else{const ge=o||{};x=ge.index,a=ge.injector,d=ge.projectableNodes,v=ge.environmentInjector||ge.ngModuleRef}const P=E?i:new g2(Ze(i)),K=a||this.parentInjector;if(!v&&null==P.ngModule){const Ge=(E?K:this.parentInjector).get(u2,null);Ge&&(v=Ge)}const se=P.create(K,d,void 0,v);return this.insert(se.hostView,x),se}insert(i,o){const a=i._lView,d=a[1];if(function Hr(n){return P2(n[3])}(a)){const se=this.indexOf(i);if(-1!==se)this.detach(se);else{const ge=a[3],Ge=new fd(ge,ge[6],ge[3]);Ge.detach(Ge.indexOf(i))}}const v=this._adjustIndex(o),E=this._lContainer;!function Ta(n,i,o,a){const d=10+a,v=o.length;a>0&&(o[d-1][4]=i),a<v-10?(i[4]=o[d],no(o,10+a,i)):(o.push(i),i[4]=null),i[3]=o;const E=i[17];null!==E&&o!==E&&function cr(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(E,i);const x=i[19];null!==x&&x.insertView(n),i[2]|=64}(d,a,E,v);const x=D4(v,E),P=a[11],K=oa(P,E[7]);return null!==K&&function Z6(n,i,o,a,d,v){a[0]=d,a[6]=i,Qa(n,a,o,1,d,v)}(d,E[6],P,a,K,x),i.attachToViewContainerRef(),no(ju(E),v,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=hd(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=Na(this._lContainer,o);a&&(xr(ju(this._lContainer),o),$4(a[1],a))}detach(i){const o=this._adjustIndex(i,-1),a=Na(this._lContainer,o);return a&&null!=xr(ju(this._lContainer),o)?new F3(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function hd(n){return n[8]}function ju(n){return n[8]||(n[8]=[])}function pd(n,i){let o;const a=i[n.index];if(P2(a))o=a;else{let d;if(8&n.type)d=d2(a);else{const v=i[11];d=v.createComment("");const E=L2(n,i);Bo(v,oa(v,E),d,function Zn(n,i){return n.nextSibling(i)}(v,E),!1)}i[n.index]=o=lc(a,i,d,n),f0(i,o)}return new fd(o,n,i)}class Gu{constructor(i){this.queryList=i,this.matches=null}clone(){return new Gu(this.queryList)}setDirty(){this.queryList.setDirty()}}class $u{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,d=[];for(let v=0;v<a;v++){const E=o.getByIndex(v);d.push(this.queries[E.indexInDeclarationView].clone())}return new $u(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==wd(i,o).matches&&this.queries[o].setDirty()}}class md{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class Zu{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const d=null!==o?o.length:0,v=this.getByIndex(a).embeddedTView(i,d);v&&(v.indexInDeclarationView=a,null!==o?o.push(v):o=[v])}return null!==o?new Zu(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class u7{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new u7(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const v=a[d];this.matchTNodeWithReadOption(i,o,Dh(o,v)),this.matchTNodeWithReadOption(i,o,Q2(o,i,v,!1,!1))}else a===g5?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Q2(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===go||d===l7||d===g5&&4&o.type)this.addMatch(o.index,-2);else{const v=Q2(o,i,d,!1,!1);null!==v&&this.addMatch(o.index,v)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function Dh(n,i){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function Sh(n,i,o,a){return-1===o?function Eh(n,i){return 11&n.type?lr(n,i):4&n.type?c7(n,i):null}(i,n):-2===o?function Th(n,i,o){return o===go?lr(i,n):o===g5?c7(i,n):o===l7?pd(i,n):void 0}(n,i,a):Cr(n,n[1],o,i)}function gd(n,i,o,a){const d=i[19].queries[a];if(null===d.matches){const v=n.data,E=o.matches,x=[];for(let P=0;P<E.length;P+=2){const K=E[P];x.push(K<0?null:Sh(i,v[K],E[P+1],o.metadata.read))}d.matches=x}return d.matches}function Wu(n,i,o,a){const d=n.queries.getByIndex(o),v=d.matches;if(null!==v){const E=gd(n,i,d,o);for(let x=0;x<v.length;x+=2){const P=v[x];if(P>0)a.push(E[x/2]);else{const K=v[x+1],se=i[-P];for(let ge=10;ge<se.length;ge++){const Ge=se[ge];Ge[17]===Ge[3]&&Wu(Ge[1],Ge,K,a)}if(null!==se[9]){const ge=se[9];for(let Ge=0;Ge<ge.length;Ge++){const gt=ge[Ge];Wu(gt[1],gt,K,a)}}}}}return a}function vd(n){const i=kt(),o=_n(),a=Y();oe(a+1);const d=wd(o,a);if(n.dirty&&function gr(n){return 4==(4&n[2])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const v=d.crossesNgTemplate?Wu(o,i,a,[]):gd(o,i,d,a);n.reset(v,n4),n.notifyOnChanges()}return!0}return!1}function yd(n,i,o){const a=_n();a.firstCreatePass&&(Md(a,new md(n,i,o),-1),2==(2&i)&&(a.staticViewQueries=!0)),Cd(a,kt(),i)}function _d(n,i,o,a){const d=_n();if(d.firstCreatePass){const v=a2();Md(d,new md(i,o,a),v.index),function Ah(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(d,n),2==(2&o)&&(d.staticContentQueries=!0)}Cd(d,kt(),o)}function bd(){return function Nh(n,i){return n[19].queries[i].queryList}(kt(),Y())}function Cd(n,i,o){const a=new Uu(4==(4&o));X5(n,i,a,a.destroy),null===i[19]&&(i[19]=new $u),i[19].queries.push(new Gu(a))}function Md(n,i,o){null===n.queries&&(n.queries=new Zu),n.queries.track(new u7(i,o))}function wd(n,i){return n.queries.getByIndex(i)}function Dd(n,i){return c7(n,i)}function f7(...n){}const jd=new h2("Application Initializer");let h7=(()=>{class n{constructor(o){this.appInits=o,this.resolve=f7,this.reject=f7,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const v=this.appInits[d]();if(ga(v))o.push(v);else if(iu(v)){const E=new Promise((x,P)=>{v.subscribe({complete:x,error:P})});o.push(E)}}Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(E2(jd,8))},n.\u0275prov=D1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gd=new h2("AppId",{providedIn:"root",factory:function $d(){return`${Qu()}${Qu()}${Qu()}`}});function Qu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zd=new h2("Platform Initializer"),Kh=new h2("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wd=new h2("appBootstrapListener"),Yh=new h2("AnimationModuleType");let Jh=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=D1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const p7=new h2("LocaleId",{providedIn:"root",factory:()=>H(p7,Wt.Optional|Wt.SkipSelf)||function Qh(){return typeof $localize<"u"&&$localize.locale||k6}()}),Xh=new h2("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ep{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let tp=(()=>{class n{compileModuleSync(o){return new Vu(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),v=Wo(cn(o).declarations).reduce((E,x)=>{const P=Ze(x);return P&&E.push(new g2(P)),E},[]);return new ep(a,v)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=D1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rp=(()=>Promise.resolve(0))();function Xu(n){typeof Zone>"u"?rp.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class m4{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new d3(!1),this.onMicrotaskEmpty=new d3(!1),this.onStable=new d3(!1),this.onError=new d3(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const v=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new v("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&o,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function sp(){let n=Mt.requestAnimationFrame,i=Mt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function cp(n){const i=()=>{!function ap(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,t9(n),n.isCheckStableRunning=!0,e9(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),t9(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,d,v,E,x)=>{try{return Yd(n),o.invokeTask(d,v,E,x)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||n.shouldCoalesceRunChangeDetection)&&i(),Jd(n)}},onInvoke:(o,a,d,v,E,x,P)=>{try{return Yd(n),o.invoke(d,v,E,x,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),Jd(n)}},onHasTask:(o,a,d,v)=>{o.hasTask(d,v),a===d&&("microTask"==v.change?(n._hasPendingMicrotasks=v.microTask,t9(n),e9(n)):"macroTask"==v.change&&(n.hasPendingMacrotasks=v.macroTask))},onHandleError:(o,a,d,v)=>(o.handleError(d,v),n.runOutsideAngular(()=>n.onError.emit(v)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!m4.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(m4.isInAngularZone())throw new Ye(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,d){const v=this._inner,E=v.scheduleEventTask("NgZoneEvent: "+d,i,op,f7,f7);try{return v.runTask(E,o,a)}finally{v.cancelTask(E)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const op={};function e9(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function t9(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Yd(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Jd(n){n._nesting--,e9(n)}class lp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new d3,this.onMicrotaskEmpty=new d3,this.onStable=new d3,this.onError=new d3}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,d){return i.apply(o,a)}}const Qd=new h2(""),Xd=new h2("");let n9,up=(()=>{class n{constructor(o,a,d){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,n9||(function dp(n){n9=n}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{m4.assertNotInAngularZone(),Xu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xu(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let v=-1;a&&a>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==v),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:v,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}}return n.\u0275fac=function(o){return new(o||n)(E2(m4),E2(ef),E2(Xd))},n.\u0275prov=D1({token:n,factory:n.\u0275fac}),n})(),ef=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return n9?.findTestabilityInTree(this,o,a)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=D1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),F6=null;const tf=new h2("AllowMultipleToken"),i9=new h2("PlatformDestroyListeners");class pp{constructor(i,o){this.name=i,this.token=o}}function rf(n,i,o=[]){const a=`Platform: ${i}`,d=new h2(a);return(v=[])=>{let E=r9();if(!E||E.injector.get(tf,!1)){const x=[...o,...v,{provide:d,useValue:!0}];n?n(x):function mp(n){if(F6&&!F6.get(tf,!1))throw new Ye(400,!1);F6=n;const i=n.get(af);(function nf(n){const i=n.get(Zd,null);i&&i.forEach(o=>o())})(n)}(function sf(n=[],i){return o4.create({name:i,providers:[{provide:gn,useValue:"platform"},{provide:i9,useValue:new Set([()=>F6=null])},...n]})}(x,a))}return function vp(n){const i=r9();if(!i)throw new Ye(401,!1);return i}()}}function r9(){return F6?.get(af)??null}let af=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=function lf(n,i){let o;return o="noop"===n?new lp:("zone.js"===n?void 0:n)||new m4(i),o}(a?.ngZone,function cf(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),v=[{provide:m4,useValue:d}];return d.run(()=>{const E=o4.create({providers:v,parent:this.injector,name:o.moduleType.name}),x=o.create(E),P=x.injector.get(L3,null);if(!P)throw new Ye(402,!1);return d.runOutsideAngular(()=>{const K=d.onError.subscribe({next:se=>{P.handleError(se)}});x.onDestroy(()=>{g7(this._modules,x),K.unsubscribe()})}),function uf(n,i,o){try{const a=o();return ga(a)?a.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(P,d,()=>{const K=x.injector.get(h7);return K.runInitializers(),K.donePromise.then(()=>(e7(x.injector.get(p7,k6)||k6),this._moduleDoBootstrap(x),x))})})}bootstrapModule(o,a=[]){const d=df({},a);return function fp(n,i,o){const a=new Vu(o);return Promise.resolve(a)}(0,0,o).then(v=>this.bootstrapModuleFactory(v,d))}_moduleDoBootstrap(o){const a=o.injector.get(m7);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Ye(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(i9,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(E2(o4))},n.\u0275prov=D1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function df(n,i){return Array.isArray(i)?i.reduce(df,n):{...n,...i}}let m7=(()=>{class n{constructor(o,a,d){this._zone=o,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new X.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),E=new X.y(x=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{m4.assertNotInAngularZone(),Xu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{m4.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{P.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Ie.T)(v,E.pipe((0,Te.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof Io;if(!this._injector.get(h7).done)throw!d&&U1(o),new Ye(405,false);let E;E=d?o:this._injector.get(da).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const x=function hp(n){return n.isBoundToModule}(E)?void 0:this._injector.get(Vc),K=E.create(o4.NULL,[],a||E.selector,x),se=K.location.nativeElement,ge=K.injector.get(Qd,null);return ge?.registerApplication(se),K.onDestroy(()=>{this.detachView(K.hostView),g7(this.components,K),ge?.unregisterApplication(se)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;g7(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Wd,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>g7(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ye(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(E2(m4),E2(u2),E2(L3))},n.\u0275prov=D1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g7(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let hf=!0,pf=!1;function _p(){return pf=!0,hf}function bp(){if(pf)throw new Error("Cannot enable prod mode after platform setup.");hf=!1}let Cp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Mp,n})();function Mp(n){return function wp(n,i,o){if(Ci(n)&&!o){const a=An(n.index,i);return new F3(a,a)}return 47&n.type?new F3(i[16],i):null}(a2(),kt(),16==(16&n))}class yf{constructor(){}supports(i){return g0(i)}create(i){return new Ap(i)}}const Np=(n,i)=>i;class Ap{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Np}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,d=0,v=null;for(;o||a;){const E=!a||o&&o.currentIndex<bf(a,d,v)?o:a,x=bf(E,d,v),P=E.currentIndex;if(E===a)d--,a=a._nextRemoved;else if(o=o._next,null==E.previousIndex)d++;else{v||(v=[]);const K=x-d,se=P-d;if(K!=se){for(let Ge=0;Ge<K;Ge++){const gt=Ge<v.length?v[Ge]:v[Ge]=0,Ft=gt+Ge;se<=Ft&&Ft<K&&(v[Ge]=gt+1)}v[E.previousIndex]=se-K}}x!==P&&i(E,x,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!g0(i))throw new Ye(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,v,E,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let x=0;x<this.length;x++)v=i[x],E=this._trackByFn(x,v),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,v,E,x)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,E,x),a=!0),o=o._next}else d=0,function pl(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[B3()]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,x=>{E=this._trackByFn(d,x),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,x,E,d)),Object.is(o.item,x)||this._addIdentityChange(o,x)):(o=this._mismatch(o,x,E,d),a=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,d){let v;return null===i?v=this._itTail:(v=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,v,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,v,d)):i=this._addAfter(new Ip(o,a),v,d),i}_verifyReinsertion(i,o,a,d){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==v?i=this._reinsertAfter(v,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,v=i._nextRemoved;return null===d?this._removalsHead=v:d._nextRemoved=v,null===v?this._removalsTail=d:v._prevRemoved=d,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const d=null===o?this._itHead:o._next;return i._next=d,i._prev=o,null===d?this._itTail=i:d._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new _f),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _f),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Ip{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xp{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class _f{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new xp,this.map.set(o,a)),a.add(i)}get(i,o){const d=this.map.get(i);return d?d.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bf(n,i,o){const a=n.previousIndex;if(null===a)return a;let d=0;return o&&a<o.length&&(d=o[a]),a+i+d}class Cf{constructor(){}supports(i){return i instanceof Map||v0(i)}create(){return new zp}}class zp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||v0(i)))throw new Ye(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const v=this._getOrCreateRecordForKey(d,a);o=this._insertBeforeOrAppend(o,v)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,o);const v=d._prev,E=d._next;return v&&(v._next=E),E&&(E._prev=v),d._next=null,d._prev=null,d}const a=new Lp(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class Lp{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mf(){return new l9([new yf])}let l9=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Mf()),deps:[[n,new Bt,new w1]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new Ye(901,!1)}}return n.\u0275prov=D1({token:n,providedIn:"root",factory:Mf}),n})();function wf(){return new u9([new Cf])}let u9=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||wf()),deps:[[n,new Bt,new w1]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new Ye(901,!1)}}return n.\u0275prov=D1({token:n,providedIn:"root",factory:wf}),n})();const kp=rf(null,"core",[]);let Pp=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(E2(m7))},n.\u0275mod=V1({type:n}),n.\u0275inj=Zt({}),n})();function Vp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Fp(n,i){const o=Ze(n),a=i.elementInjector||_i();return new g2(o).create(a,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(r1,Je,F)=>{F.d(Je,{Fj:()=>at,u5:()=>U2,wO:()=>xi,qQ:()=>gr,JJ:()=>ct,JL:()=>Ae,F:()=>Ln,On:()=>At,wV:()=>Q1,Q7:()=>m2,_Y:()=>Xt});var l=F(4650),_=F(6895),X=F(8996),Ie=F(9751),Te=F(4742),Ne=F(8421),de=F(3269),Re=F(5403),Ve=F(3268),he=F(1810),ze=F(4004);let it=(()=>{class ${constructor(V,re){this._renderer=V,this._elementRef=re,this.onChange=ut=>{},this.onTouched=()=>{}}setProperty(V,re){this._renderer.setProperty(this._elementRef.nativeElement,V,re)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(l.Qsj),l.Y36(l.SBq))},$.\u0275dir=l.lG2({type:$}),$})(),st=(()=>{class $ extends it{}return $.\u0275fac=function(){let U;return function(re){return(U||(U=l.n5z($)))(re||$)}}(),$.\u0275dir=l.lG2({type:$,features:[l.qOj]}),$})();const Ye=new l.OlP("NgValueAccessor"),ot={provide:Ye,useExisting:(0,l.Gpc)(()=>at),multi:!0},s1=new l.OlP("CompositionEventMode");let at=(()=>{class $ extends it{constructor(V,re,ut){super(V,re),this._compositionMode=ut,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function He(){const $=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(s1,8))},$.\u0275dir=l.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,re){1&V&&l.NdJ("input",function(M1){return re._handleInput(M1.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(M1){return re._compositionEnd(M1.target.value)})},features:[l._Bn([ot]),l.qOj]}),$})();function tt($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}const Ct=new l.OlP("NgValidators"),ce=new l.OlP("NgAsyncValidators");function Fe($){return tt($.value)?{required:!0}:null}function Vt($){return null}function x1($){return null!=$}function S1($){return(0,l.QGY)($)?(0,X.D)($):$}function T1($){let U={};return $.forEach(V=>{U=null!=V?{...U,...V}:U}),0===Object.keys(U).length?null:U}function D1($,U){return U.map(V=>V($))}function Zt($){return $.map(U=>function Qn($){return!$.validate}(U)?U:V=>U.validate(V))}function Mn($){return null!=$?function dn($){if(!$)return null;const U=$.filter(x1);return 0==U.length?null:function(V){return T1(D1(V,U))}}(Zt($)):null}function Vn($){return null!=$?function In($){if(!$)return null;const U=$.filter(x1);return 0==U.length?null:function(V){return function pe(...$){const U=(0,de.jO)($),{args:V,keys:re}=(0,Te.D)($),ut=new Ie.y(M1=>{const{length:Pn}=V;if(!Pn)return void M1.complete();const yr=new Array(Pn);let sr=Pn,rs=Pn;for(let ss=0;ss<Pn;ss++){let os=!1;(0,Ne.Xf)(V[ss]).subscribe((0,Re.x)(M1,Bi=>{os||(os=!0,rs--),yr[ss]=Bi},()=>sr--,void 0,()=>{(!sr||!os)&&(rs||M1.next(re?(0,he.n)(re,yr):yr),M1.complete())}))}});return U?ut.pipe((0,Ve.Z)(U)):ut}(D1(V,U).map(S1)).pipe((0,ze.U)(T1))}}(Zt($)):null}function Yn($,U){return null===$?[U]:Array.isArray($)?[...$,U]:[$,U]}function Z1($){return $?Array.isArray($)?$:[$]:[]}function vn($,U){return Array.isArray($)?$.includes(U):$===U}function r2($,U){const V=Z1(U);return Z1($).forEach(ut=>{vn(V,ut)||V.push(ut)}),V}function Wt($,U){return Z1(U).filter(V=>!vn($,V))}class Cn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=Mn(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=Vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U){this.control&&this.control.reset(U)}hasError(U,V){return!!this.control&&this.control.hasError(U,V)}getError(U,V){return this.control?this.control.getError(U,V):null}}class Nn extends Cn{get formDirective(){return null}get path(){return null}}class pn extends Cn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class N2{constructor(U){this._cd=U}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ct=(()=>{class $ extends N2{constructor(V){super(V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(pn,2))},$.\u0275dir=l.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,re){2&V&&l.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},features:[l.qOj]}),$})(),Ae=(()=>{class $ extends N2{constructor(V){super(V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(Nn,10))},$.\u0275dir=l.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,re){2&V&&l.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},features:[l.qOj]}),$})();const V1="VALID",xe="INVALID",De="PENDING",Pe="DISABLED";function wt($){return(U1($)?$.validators:$)||null}function Ze($){return Array.isArray($)?Mn($):$||null}function o1($,U){return(U1(U)?U.asyncValidators:$)||null}function n1($){return Array.isArray($)?Vn($):$||null}function U1($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class Ee{constructor(U,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=U,this._rawAsyncValidators=V,this._composedValidatorFn=Ze(this._rawValidators),this._composedAsyncValidatorFn=n1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===V1}get invalid(){return this.status===xe}get pending(){return this.status==De}get disabled(){return this.status===Pe}get enabled(){return this.status!==Pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._rawValidators=U,this._composedValidatorFn=Ze(U)}setAsyncValidators(U){this._rawAsyncValidators=U,this._composedAsyncValidatorFn=n1(U)}addValidators(U){this.setValidators(r2(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(r2(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(Wt(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(Wt(U,this._rawAsyncValidators))}hasValidator(U){return vn(this._rawValidators,U)}hasAsyncValidator(U){return vn(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=De,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const V=this._parentMarkedDirty(U.onlySelf);this.status=Pe,this.errors=null,this._forEachChild(re=>{re.disable({...U,onlySelf:!0})}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...U,skipPristineCheck:V}),this._onDisabledChange.forEach(re=>re(!0))}enable(U={}){const V=this._parentMarkedDirty(U.onlySelf);this.status=V1,this._forEachChild(re=>{re.enable({...U,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors({...U,skipPristineCheck:V}),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}getRawValue(){return this.value}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===V1||this.status===De)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pe:V1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;const V=S1(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,V={}){this.errors=U,this._updateControlsErrors(!1!==V.emitEvent)}get(U){let V=U;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((re,ut)=>re&&re._find(ut),this)}getError(U,V){const re=V?this.get(V):this;return re&&re.errors?re.errors[U]:null}hasError(U,V){return!!this.getError(U,V)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Pe:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(xe)?xe:V1}_anyControlsHaveStatus(U){return this._anyControls(V=>V.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){U1(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(U){return null}}class me extends Ee{constructor(U,V,re){super(wt(V),o1(re,V)),this.controls=U,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,V){return this.controls[U]?this.controls[U]:(this.controls[U]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(U,V,re={}){this.registerControl(U,V),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(U,V={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(U,V,re={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],V&&this.registerControl(U,V),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,V={}){(function q1($,U,V){$._forEachChild((re,ut)=>{if(void 0===V[ut])throw new l.vHH(1002,"")})})(this,0,U),Object.keys(U).forEach(re=>{(function cn($,U,V){const re=$.controls;if(!(U?Object.keys(re):re).length)throw new l.vHH(1e3,"");if(!re[V])throw new l.vHH(1001,"")})(this,!0,re),this.controls[re].setValue(U[re],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(U,V={}){null!=U&&(Object.keys(U).forEach(re=>{const ut=this.controls[re];ut&&ut.patchValue(U[re],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(U={},V={}){this._forEachChild((re,ut)=>{re.reset(U[ut],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(U,V,re)=>(U[re]=V.getRawValue(),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(V,re)=>!!re._syncPendingControls()||V);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(V=>{const re=this.controls[V];re&&U(re,V)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const[V,re]of Object.entries(this.controls))if(this.contains(V)&&U(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,re,ut)=>((re.enabled||this.disabled)&&(V[ut]=re.value),V))}_reduceChildren(U,V){let re=U;return this._forEachChild((ut,M1)=>{re=V(re,ut,M1)}),re}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(U){return this.controls.hasOwnProperty(U)?this.controls[U]:null}}function Y1($,U){Rn($,U),U.valueAccessor.writeValue($.value),$.disabled&&U.valueAccessor.setDisabledState?.(!0),function bi($,U){U.valueAccessor.registerOnChange(V=>{$._pendingValue=V,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&v2($,U)})}($,U),function q2($,U){const V=(re,ut)=>{U.valueAccessor.writeValue(re),ut&&U.viewToModelUpdate(re)};$.registerOnChange(V),U._registerOnDestroy(()=>{$._unregisterOnChange(V)})}($,U),function W2($,U){U.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&v2($,U),"submit"!==$.updateOn&&$.markAsTouched()})}($,U),function J1($,U){if(U.valueAccessor.setDisabledState){const V=re=>{U.valueAccessor.setDisabledState(re)};$.registerOnDisabledChange(V),U._registerOnDestroy(()=>{$._unregisterOnDisabledChange(V)})}}($,U)}function k2($,U){$.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(U)})}function Rn($,U){const V=function Hn($){return $._rawValidators}($);null!==U.validator?$.setValidators(Yn(V,U.validator)):"function"==typeof V&&$.setValidators([V]);const re=function Jn($){return $._rawAsyncValidators}($);null!==U.asyncValidator?$.setAsyncValidators(Yn(re,U.asyncValidator)):"function"==typeof re&&$.setAsyncValidators([re]);const ut=()=>$.updateValueAndValidity();k2(U._rawValidators,ut),k2(U._rawAsyncValidators,ut)}function v2($,U){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const jn={provide:Nn,useExisting:(0,l.Gpc)(()=>Ln)},ki=(()=>Promise.resolve())();let Ln=(()=>{class $ extends Nn{constructor(V,re){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new me({},Mn(V),Vn(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){ki.then(()=>{const re=this._findContainer(V.path);V.control=re.registerControl(V.name,V.control),Y1(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){ki.then(()=>{const re=this._findContainer(V.path);re&&re.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){ki.then(()=>{const re=this._findContainer(V.path),ut=new me({});(function w2($,U){Rn($,U)})(ut,V),re.registerControl(V.name,ut),ut.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){ki.then(()=>{const re=this._findContainer(V.path);re&&re.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,re){ki.then(()=>{this.form.get(V.path).setValue(re)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,function Y2($,U){$._syncPendingControls(),U.forEach(V=>{const re=V.control;"submit"===re.updateOn&&re._pendingChange&&(V.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(Ct,10),l.Y36(ce,10))},$.\u0275dir=l.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,re){1&V&&l.NdJ("submit",function(M1){return re.onSubmit(M1)})("reset",function(){return re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([jn]),l.qOj]}),$})();function P2($,U){const V=$.indexOf(U);V>-1&&$.splice(V,1)}function ur($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const Ci=class extends Ee{constructor(U=null,V,re){super(wt(V),o1(re,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U1(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=ur(U)?U.value:U)}setValue(U,V={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(U,V={}){this.setValue(U,V)}reset(U=this.defaultValue,V={}){this._applyFormState(U),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){P2(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){P2(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){ur(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}},je={provide:pn,useExisting:(0,l.Gpc)(()=>At)},Xe=(()=>Promise.resolve())();let At=(()=>{class $ extends pn{constructor(V,re,ut,M1,Pn){super(),this._changeDetectorRef=Pn,this.control=new Ci,this._registered=!1,this.update=new l.vpe,this._parent=V,this._setValidators(re),this._setAsyncValidators(ut),this.valueAccessor=function ui($,U){if(!U)return null;let V,re,ut;return Array.isArray(U),U.forEach(M1=>{M1.constructor===at?V=M1:function K2($){return Object.getPrototypeOf($.constructor)===st}(M1)?re=M1:ut=M1}),ut||re||V||null}(0,M1)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const re=V.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),function H2($,U){if(!$.hasOwnProperty("model"))return!1;const V=$.model;return!!V.isFirstChange()||!Object.is(U,V.currentValue)}(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Y1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Xe.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const re=V.isDisabled.currentValue,ut=0!==re&&(0,l.D6c)(re);Xe.then(()=>{ut&&!this.control.disabled?this.control.disable():!ut&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?function A1($,U){return[...U.path,$]}(V,this._parent):[V]}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(Nn,9),l.Y36(Ct,10),l.Y36(ce,10),l.Y36(Ye,10),l.Y36(l.sBO,8))},$.\u0275dir=l.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([je]),l.qOj,l.TTD]}),$})(),Xt=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275dir=l.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const z1={provide:Ye,useExisting:(0,l.Gpc)(()=>Q1),multi:!0};let Q1=(()=>{class $ extends st{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=re=>{V(""==re?null:parseFloat(re))}}}return $.\u0275fac=function(){let U;return function(re){return(U||(U=l.n5z($)))(re||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(V,re){1&V&&l.NdJ("input",function(M1){return re.onChange(M1.target.value)})("blur",function(){return re.onTouched()})},features:[l._Bn([z1]),l.qOj]}),$})(),$i=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({}),$})();let pi=(()=>{class ${constructor(){this._validator=Vt}ngOnChanges(V){if(this.inputName in V){const re=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(re),this._validator=this._enabled?this.createValidator(re):Vt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return $.\u0275fac=function(V){return new(V||$)},$.\u0275dir=l.lG2({type:$,features:[l.TTD]}),$})();const An={provide:Ct,useExisting:(0,l.Gpc)(()=>gr),multi:!0};let gr=(()=>{class $ extends pi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=V=>function L2($){return"number"==typeof $?$:parseFloat($)}(V),this.createValidator=V=>function Le($){return U=>{if(tt(U.value)||tt($))return null;const V=parseFloat(U.value);return!isNaN(V)&&V<$?{min:{min:$,actual:U.value}}:null}}(V)}}return $.\u0275fac=function(){let U;return function(re){return(U||(U=l.n5z($)))(re||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,re){2&V&&l.uIk("min",re._enabled?re.min:null)},inputs:{min:"min"},features:[l._Bn([An]),l.qOj]}),$})();const ir={provide:Ct,useExisting:(0,l.Gpc)(()=>m2),multi:!0};let m2=(()=>{class $ extends pi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=V=>Fe}enabled(V){return V}}return $.\u0275fac=function(){let U;return function(re){return(U||(U=l.n5z($)))(re||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(V,re){2&V&&l.uIk("required",re._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([ir]),l.qOj]}),$})();const rr={provide:Ct,useExisting:(0,l.Gpc)(()=>xi),multi:!0};let xi=(()=>{class $ extends pi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=V=>function oi($){return"number"==typeof $?$:parseInt($,10)}(V),this.createValidator=V=>function y1($){return U=>tt(U.value)||!function Pt($){return null!=$&&"number"==typeof $.length}(U.value)?null:U.value.length<$?{minlength:{requiredLength:$,actualLength:U.value.length}}:null}(V)}}return $.\u0275fac=function(){let U;return function(re){return(U||(U=l.n5z($)))(re||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(V,re){2&V&&l.uIk("minlength",re._enabled?re.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([rr]),l.qOj]}),$})(),_n=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({imports:[$i]}),$})(),U2=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({imports:[_n]}),$})()},1481:(r1,Je,F)=>{F.d(Je,{Dx:()=>ct,H7:()=>n1,b2:()=>Nn,q6:()=>vn,se:()=>Fe});var l=F(6895),_=F(4650);class X extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends X{static makeCurrent(){(0,l.HT)(new Ie)}onAndCancel(me,le,We){return me.addEventListener(le,We,!1),()=>{me.removeEventListener(le,We,!1)}}dispatchEvent(me,le){me.dispatchEvent(le)}remove(me){me.parentNode&&me.parentNode.removeChild(me)}createElement(me,le){return(le=le||this.getDefaultDocument()).createElement(me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(me){return me.nodeType===Node.ELEMENT_NODE}isShadowRoot(me){return me instanceof DocumentFragment}getGlobalEventTarget(me,le){return"window"===le?window:"document"===le?me:"body"===le?me.body:null}getBaseHref(me){const le=function Ne(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==le?null:function Re(Ee){de=de||document.createElement("a"),de.setAttribute("href",Ee);const me=de.pathname;return"/"===me.charAt(0)?me:`/${me}`}(le)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(me){return(0,l.Mx)(document.cookie,me)}}let de,Te=null;const Ve=new _.OlP("TRANSITION_ID"),pe=[{provide:_.ip1,useFactory:function he(Ee,me,le){return()=>{le.get(_.CZH).donePromise.then(()=>{const We=(0,l.q)(),_t=me.querySelectorAll(`style[ng-transition="${Ee}"]`);for(let Qt=0;Qt<_t.length;Qt++)We.remove(_t[Qt])})}},deps:[Ve,l.K0,_.zs3],multi:!0}];let it=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(le){return new(le||Ee)},Ee.\u0275prov=_.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const st=new _.OlP("EventManagerPlugins");let Ye=(()=>{class Ee{constructor(le,We){this._zone=We,this._eventNameToPlugin=new Map,le.forEach(_t=>_t.manager=this),this._plugins=le.slice().reverse()}addEventListener(le,We,_t){return this._findPluginFor(We).addEventListener(le,We,_t)}addGlobalEventListener(le,We,_t){return this._findPluginFor(We).addGlobalEventListener(le,We,_t)}getZone(){return this._zone}_findPluginFor(le){const We=this._eventNameToPlugin.get(le);if(We)return We;const _t=this._plugins;for(let Qt=0;Qt<_t.length;Qt++){const A1=_t[Qt];if(A1.supports(le))return this._eventNameToPlugin.set(le,A1),A1}throw new Error(`No event manager plugin found for event ${le}`)}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(st),_.LFG(_.R0b))},Ee.\u0275prov=_.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Gt{constructor(me){this._doc=me}addGlobalEventListener(me,le,We){const _t=(0,l.q)().getGlobalEventTarget(this._doc,me);if(!_t)throw new Error(`Unsupported event target ${_t} for event ${le}`);return this.addEventListener(_t,le,We)}}let ft=(()=>{class Ee{constructor(){this._stylesSet=new Set}addStyles(le){const We=new Set;le.forEach(_t=>{this._stylesSet.has(_t)||(this._stylesSet.add(_t),We.add(_t))}),this.onStylesAdded(We)}onStylesAdded(le){}getAllStyles(){return Array.from(this._stylesSet)}}return Ee.\u0275fac=function(le){return new(le||Ee)},Ee.\u0275prov=_.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),ot=(()=>{class Ee extends ft{constructor(le){super(),this._doc=le,this._hostNodes=new Map,this._hostNodes.set(le.head,[])}_addStylesToHost(le,We,_t){le.forEach(Qt=>{const A1=this._doc.createElement("style");A1.textContent=Qt,_t.push(We.appendChild(A1))})}addHost(le){const We=[];this._addStylesToHost(this._stylesSet,le,We),this._hostNodes.set(le,We)}removeHost(le){const We=this._hostNodes.get(le);We&&We.forEach(He),this._hostNodes.delete(le)}onStylesAdded(le){this._hostNodes.forEach((We,_t)=>{this._addStylesToHost(le,_t,We)})}ngOnDestroy(){this._hostNodes.forEach(le=>le.forEach(He))}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(l.K0))},Ee.\u0275prov=_.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();function He(Ee){(0,l.q)().remove(Ee)}const s1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g;function we(Ee,me,le){for(let We=0;We<me.length;We++){let _t=me[We];Array.isArray(_t)?we(Ee,_t,le):(_t=_t.replace(at,Ee),le.push(_t))}return le}function Le(Ee){return me=>{if("__ngUnwrap__"===me)return Ee;!1===Ee(me)&&(me.preventDefault(),me.returnValue=!1)}}let Fe=(()=>{class Ee{constructor(le,We,_t){this.eventManager=le,this.sharedStylesHost=We,this.appId=_t,this.rendererByCompId=new Map,this.defaultRenderer=new zt(le)}createRenderer(le,We){if(!le||!We)return this.defaultRenderer;switch(We.encapsulation){case _.ifc.Emulated:{let _t=this.rendererByCompId.get(We.id);return _t||(_t=new O1(this.eventManager,this.sharedStylesHost,We,this.appId),this.rendererByCompId.set(We.id,_t)),_t.applyToHost(le),_t}case 1:case _.ifc.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,le,We);default:if(!this.rendererByCompId.has(We.id)){const _t=we(We.id,We.styles,[]);this.sharedStylesHost.addStyles(_t),this.rendererByCompId.set(We.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(Ye),_.LFG(ot),_.LFG(_.AFp))},Ee.\u0275prov=_.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class zt{constructor(me){this.eventManager=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(me,le){return le?document.createElementNS(s1[le]||le,me):document.createElement(me)}createComment(me){return document.createComment(me)}createText(me){return document.createTextNode(me)}appendChild(me,le){(B1(me)?me.content:me).appendChild(le)}insertBefore(me,le,We){me&&(B1(me)?me.content:me).insertBefore(le,We)}removeChild(me,le){me&&me.removeChild(le)}selectRootElement(me,le){let We="string"==typeof me?document.querySelector(me):me;if(!We)throw new Error(`The selector "${me}" did not match any elements`);return le||(We.textContent=""),We}parentNode(me){return me.parentNode}nextSibling(me){return me.nextSibling}setAttribute(me,le,We,_t){if(_t){le=_t+":"+le;const Qt=s1[_t];Qt?me.setAttributeNS(Qt,le,We):me.setAttribute(le,We)}else me.setAttribute(le,We)}removeAttribute(me,le,We){if(We){const _t=s1[We];_t?me.removeAttributeNS(_t,le):me.removeAttribute(`${We}:${le}`)}else me.removeAttribute(le)}addClass(me,le){me.classList.add(le)}removeClass(me,le){me.classList.remove(le)}setStyle(me,le,We,_t){_t&(_.JOm.DashCase|_.JOm.Important)?me.style.setProperty(le,We,_t&_.JOm.Important?"important":""):me.style[le]=We}removeStyle(me,le,We){We&_.JOm.DashCase?me.style.removeProperty(le):me.style[le]=""}setProperty(me,le,We){me[le]=We}setValue(me,le){me.nodeValue=le}listen(me,le,We){return"string"==typeof me?this.eventManager.addGlobalEventListener(me,le,Le(We)):this.eventManager.addEventListener(me,le,Le(We))}}function B1(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class O1 extends zt{constructor(me,le,We,_t){super(me),this.component=We;const Qt=we(_t+"-"+We.id,We.styles,[]);le.addStyles(Qt),this.contentAttr=function ce(Ee){return"_ngcontent-%COMP%".replace(at,Ee)}(_t+"-"+We.id),this.hostAttr=function et(Ee){return"_nghost-%COMP%".replace(at,Ee)}(_t+"-"+We.id)}applyToHost(me){super.setAttribute(me,this.hostAttr,"")}createElement(me,le){const We=super.createElement(me,le);return super.setAttribute(We,this.contentAttr,""),We}}class Vt extends zt{constructor(me,le,We,_t){super(me),this.sharedStylesHost=le,this.hostEl=We,this.shadowRoot=We.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qt=we(_t.id,_t.styles,[]);for(let A1=0;A1<Qt.length;A1++){const Y1=document.createElement("style");Y1.textContent=Qt[A1],this.shadowRoot.appendChild(Y1)}}nodeOrShadowRoot(me){return me===this.hostEl?this.shadowRoot:me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(me,le){return super.appendChild(this.nodeOrShadowRoot(me),le)}insertBefore(me,le,We){return super.insertBefore(this.nodeOrShadowRoot(me),le,We)}removeChild(me,le){return super.removeChild(this.nodeOrShadowRoot(me),le)}parentNode(me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(me)))}}let x1=(()=>{class Ee extends Gt{constructor(le){super(le)}supports(le){return!0}addEventListener(le,We,_t){return le.addEventListener(We,_t,!1),()=>this.removeEventListener(le,We,_t)}removeEventListener(le,We,_t){return le.removeEventListener(We,_t)}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(l.K0))},Ee.\u0275prov=_.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const S1=["alt","control","meta","shift"],T1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D1={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let Qn=(()=>{class Ee extends Gt{constructor(le){super(le)}supports(le){return null!=Ee.parseEventName(le)}addEventListener(le,We,_t){const Qt=Ee.parseEventName(We),A1=Ee.eventCallback(Qt.fullKey,_t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(le,Qt.domEventName,A1))}static parseEventName(le){const We=le.toLowerCase().split("."),_t=We.shift();if(0===We.length||"keydown"!==_t&&"keyup"!==_t)return null;const Qt=Ee._normalizeKey(We.pop());let A1="",Y1=We.indexOf("code");if(Y1>-1&&(We.splice(Y1,1),A1="code."),S1.forEach(k2=>{const J1=We.indexOf(k2);J1>-1&&(We.splice(J1,1),A1+=k2+".")}),A1+=Qt,0!=We.length||0===Qt.length)return null;const xn={};return xn.domEventName=_t,xn.fullKey=A1,xn}static matchEventFullKeyCode(le,We){let _t=T1[le.key]||le.key,Qt="";return We.indexOf("code.")>-1&&(_t=le.code,Qt="code."),!(null==_t||!_t)&&(_t=_t.toLowerCase()," "===_t?_t="space":"."===_t&&(_t="dot"),S1.forEach(A1=>{A1!==_t&&(0,D1[A1])(le)&&(Qt+=A1+".")}),Qt+=_t,Qt===We)}static eventCallback(le,We,_t){return Qt=>{Ee.matchEventFullKeyCode(Qt,le)&&_t.runGuarded(()=>We(Qt))}}static _normalizeKey(le){return"esc"===le?"escape":le}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(l.K0))},Ee.\u0275prov=_.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const vn=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:l.bD},{provide:_.g9A,useValue:function Yn(){Ie.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function Jn(){return(0,_.RDi)(document),document},deps:[]}]),r2=new _.OlP(""),Wt=[{provide:_.rWj,useClass:class ze{addToWindow(me){_.dqk.getAngularTestability=(We,_t=!0)=>{const Qt=me.findTestabilityInTree(We,_t);if(null==Qt)throw new Error("Could not find testability for element.");return Qt},_.dqk.getAllAngularTestabilities=()=>me.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>me.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(We=>{const _t=_.dqk.getAllAngularTestabilities();let Qt=_t.length,A1=!1;const Y1=function(xn){A1=A1||xn,Qt--,0==Qt&&We(A1)};_t.forEach(function(xn){xn.whenStable(Y1)})})}findTestabilityInTree(me,le,We){return null==le?null:me.getTestability(le)??(We?(0,l.q)().isShadowRoot(le)?this.findTestabilityInTree(me,le.host,!0):this.findTestabilityInTree(me,le.parentElement,!0):null)}},deps:[]},{provide:_.lri,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b,_.eoX,_.rWj]}],Cn=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function Hn(){return new _.qLn},deps:[]},{provide:st,useClass:x1,multi:!0,deps:[l.K0,_.R0b,_.Lbi]},{provide:st,useClass:Qn,multi:!0,deps:[l.K0]},{provide:Fe,useClass:Fe,deps:[Ye,ot,_.AFp]},{provide:_.FYo,useExisting:Fe},{provide:ft,useExisting:ot},{provide:ot,useClass:ot,deps:[l.K0]},{provide:Ye,useClass:Ye,deps:[st,_.R0b]},{provide:l.JF,useClass:it,deps:[]},[]];let Nn=(()=>{class Ee{constructor(le){}static withServerTransition(le){return{ngModule:Ee,providers:[{provide:_.AFp,useValue:le.appId},{provide:Ve,useExisting:_.AFp},pe]}}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(r2,12))},Ee.\u0275mod=_.oAB({type:Ee}),Ee.\u0275inj=_.cJS({providers:[...Cn,...Wt],imports:[l.ez,_.hGG]}),Ee})(),ct=(()=>{class Ee{constructor(le){this._doc=le}getTitle(){return this._doc.title}setTitle(le){this._doc.title=le||""}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(l.K0))},Ee.\u0275prov=_.Yz7({token:Ee,factory:function(le){let We=null;return We=le?new le:function u1(){return new ct((0,_.LFG)(l.K0))}(),We},providedIn:"root"}),Ee})();typeof window<"u"&&window;let n1=(()=>{class Ee{}return Ee.\u0275fac=function(le){return new(le||Ee)},Ee.\u0275prov=_.Yz7({token:Ee,factory:function(le){let We=null;return We=le?new(le||Ee):_.LFG(cn),We},providedIn:"root"}),Ee})(),cn=(()=>{class Ee extends n1{constructor(le){super(),this._doc=le}sanitize(le,We){if(null==We)return null;switch(le){case _.q3G.NONE:return We;case _.q3G.HTML:return(0,_.qzn)(We,"HTML")?(0,_.z3N)(We):(0,_.EiD)(this._doc,String(We)).toString();case _.q3G.STYLE:return(0,_.qzn)(We,"Style")?(0,_.z3N)(We):We;case _.q3G.SCRIPT:if((0,_.qzn)(We,"Script"))return(0,_.z3N)(We);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.qzn)(We,"URL")?(0,_.z3N)(We):(0,_.mCW)(String(We));case _.q3G.RESOURCE_URL:if((0,_.qzn)(We,"ResourceURL"))return(0,_.z3N)(We);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${le} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(le){return(0,_.JVY)(le)}bypassSecurityTrustStyle(le){return(0,_.L6k)(le)}bypassSecurityTrustScript(le){return(0,_.eBb)(le)}bypassSecurityTrustUrl(le){return(0,_.LAX)(le)}bypassSecurityTrustResourceUrl(le){return(0,_.pB0)(le)}}return Ee.\u0275fac=function(le){return new(le||Ee)(_.LFG(l.K0))},Ee.\u0275prov=_.Yz7({token:Ee,factory:function(le){let We=null;return We=le?new le:function U1(Ee){return new cn(Ee.get(l.K0))}(_.LFG(_.zs3)),We},providedIn:"root"}),Ee})()},2431:(r1,Je,F)=>{F.d(Je,{gz:()=>ri,F0:()=>Q2,rH:()=>js,Od:()=>or,yS:()=>X1,Bz:()=>bs,lC:()=>ns});var l=F(4650),_=F(8996),X=F(9646),Ie=F(1135),Te=F(6805),Ne=F(9841),de=F(7272),Re=F(9770),Ve=F(9635),he=F(9751),pe=F(576);function ze(A,I){const S=(0,pe.m)(A)?A:()=>A,R=j=>j.error(S());return new he.y(I?j=>I.schedule(R,0,j):R)}var it=F(515),st=F(727),Ye=F(4482),Gt=F(5403);function ft(){return(0,Ye.e)((A,I)=>{let S=null;A._refCount++;const R=(0,Gt.x)(I,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(S=null);const j=A._connection,ne=S;S=null,j&&(!ne||j===ne)&&j.unsubscribe(),I.unsubscribe()});A.subscribe(R),R.closed||(S=A.connect())})}class ot extends he.y{constructor(I,S){super(),this.source=I,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new st.w0;const S=this.getSubject();I.add(this.source.subscribe((0,Gt.x)(S,void 0,()=>{this._teardown(),S.complete()},R=>{this._teardown(),S.error(R)},()=>this._teardown()))),I.closed&&(this._connection=null,I=st.w0.EMPTY)}return I}refCount(){return ft()(this)}}var He=F(7579),s1=F(6895),at=F(4004),ht=F(3900),tt=F(5698),Pt=F(8675),Ct=F(9300),ce=F(5577),et=F(590),we=F(4351),Le=F(8505),rt=F(8421);function Fe(A){return(0,Ye.e)((I,S)=>{let ne,R=null,j=!1;R=I.subscribe((0,Gt.x)(S,void 0,void 0,ve=>{ne=(0,rt.Xf)(A(ve,Fe(A)(I))),R?(R.unsubscribe(),R=null,ne.subscribe(S)):j=!0})),j&&(R.unsubscribe(),R=null,ne.subscribe(S))})}var zt=F(5026);function Rt(A){return A<=0?()=>it.E:(0,Ye.e)((I,S)=>{let R=[];I.subscribe((0,Gt.x)(S,j=>{R.push(j),A<R.length&&R.shift()},()=>{for(const j of R)S.next(j);S.complete()},void 0,()=>{R=null}))})}var y1=F(8068),B1=F(6590),O1=F(4671);function Vt(A,I){const S=arguments.length>=2;return R=>R.pipe(A?(0,Ct.h)((j,ne)=>A(j,ne,R)):O1.y,Rt(1),S?(0,B1.d)(I):(0,y1.T)(()=>new Te.K))}var S1=F(9718);function T1(A){return(0,Ye.e)((I,S)=>{try{I.subscribe(S)}finally{S.add(A)}})}var D1=F(8189),Qn=F(1481);const Zt="primary",dn=Symbol("RouteTitle");class Mn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const S=this.params[I];return Array.isArray(S)?S[0]:S}return null}getAll(I){if(this.has(I)){const S=this.params[I];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function In(A){return new Mn(A)}function Vn(A,I,S){const R=S.path.split("/");if(R.length>A.length||"full"===S.pathMatch&&(I.hasChildren()||R.length<A.length))return null;const j={};for(let ne=0;ne<R.length;ne++){const ve=R[ne],D=A[ne];if(ve.startsWith(":"))j[ve.substring(1)]=D;else if(ve!==D.path)return null}return{consumed:A.slice(0,R.length),posParams:j}}function Hn(A,I){const S=A?Object.keys(A):void 0,R=I?Object.keys(I):void 0;if(!S||!R||S.length!=R.length)return!1;let j;for(let ne=0;ne<S.length;ne++)if(j=S[ne],!Jn(A[j],I[j]))return!1;return!0}function Jn(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const S=[...A].sort(),R=[...I].sort();return S.every((j,ne)=>R[ne]===j)}return A===I}function Z1(A){return Array.prototype.concat.apply([],A)}function vn(A){return A.length>0?A[A.length-1]:null}function Wt(A,I){for(const S in A)A.hasOwnProperty(S)&&I(A[S],S)}function Cn(A){return(0,l.CqO)(A)?A:(0,l.QGY)(A)?(0,_.D)(Promise.resolve(A)):(0,X.of)(A)}const N2={exact:function Ae(A,I,S){if(!tn(A.segments,I.segments)||!d1(A.segments,I.segments,S)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const R in I.children)if(!A.children[R]||!Ae(A.children[R],I.children[R],S))return!1;return!0},subset:lt},R2={exact:function ct(A,I){return Hn(A,I)},subset:function be(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(S=>Jn(A[S],I[S]))},ignored:()=>!0};function u1(A,I,S){return N2[S.paths](A.root,I.root,S.matrixParams)&&R2[S.queryParams](A.queryParams,I.queryParams)&&!("exact"===S.fragment&&A.fragment!==I.fragment)}function lt(A,I,S){return Mt(A,I,I.segments,S)}function Mt(A,I,S,R){if(A.segments.length>S.length){const j=A.segments.slice(0,S.length);return!(!tn(j,S)||I.hasChildren()||!d1(j,S,R))}if(A.segments.length===S.length){if(!tn(A.segments,S)||!d1(A.segments,S,R))return!1;for(const j in I.children)if(!A.children[j]||!lt(A.children[j],I.children[j],R))return!1;return!0}{const j=S.slice(0,A.segments.length),ne=S.slice(A.segments.length);return!!(tn(A.segments,j)&&d1(A.segments,j,R)&&A.children[Zt])&&Mt(A.children[Zt],I,ne,R)}}function d1(A,I,S){return I.every((R,j)=>R2[S](A[j].parameters,R.parameters))}class b1{constructor(I,S,R){this.root=I,this.queryParams=S,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return an.serialize(this)}}class m1{constructor(I,S){this.segments=I,this.children=S,this.parent=null,Wt(S,(R,j)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return f1(this)}}class Yt{constructor(I,S){this.path=I,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=In(this.parameters)),this._parameterMap}toString(){return Pe(this)}}function tn(A,I){return A.length===I.length&&A.every((S,R)=>S.path===I[R].path)}let nn=(()=>{class A{}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=l.Yz7({token:A,factory:function(){return new W1},providedIn:"root"}),A})();class W1{parse(I){const S=new me(I);return new b1(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(I){const S=`/${Nt(I.root,!0)}`,R=function Ze(A){const I=Object.keys(A).map(S=>{const R=A[S];return Array.isArray(R)?R.map(j=>`${L1(S)}=${L1(j)}`).join("&"):`${L1(S)}=${L1(R)}`}).filter(S=>!!S);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${S}${R}${"string"==typeof I.fragment?`#${function E1(A){return encodeURI(A)}(I.fragment)}`:""}`}}const an=new W1;function f1(A){return A.segments.map(I=>Pe(I)).join("/")}function Nt(A,I){if(!A.hasChildren())return f1(A);if(I){const S=A.children[Zt]?Nt(A.children[Zt],!1):"",R=[];return Wt(A.children,(j,ne)=>{ne!==Zt&&R.push(`${ne}:${Nt(j,!1)}`)}),R.length>0?`${S}(${R.join("//")})`:S}{const S=function Xn(A,I){let S=[];return Wt(A.children,(R,j)=>{j===Zt&&(S=S.concat(I(R,j)))}),Wt(A.children,(R,j)=>{j!==Zt&&(S=S.concat(I(R,j)))}),S}(A,(R,j)=>j===Zt?[Nt(A.children[Zt],!1)]:[`${j}:${Nt(R,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Zt]?`${f1(A)}/${S[0]}`:`${f1(A)}/(${S.join("//")})`}}function t1(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function L1(A){return t1(A).replace(/%3B/gi,";")}function V1(A){return t1(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xe(A){return decodeURIComponent(A)}function De(A){return xe(A.replace(/\+/g,"%20"))}function Pe(A){return`${V1(A.path)}${function wt(A){return Object.keys(A).map(I=>`;${V1(I)}=${V1(A[I])}`).join("")}(A.parameters)}`}const o1=/^[^\/()?;=#]+/;function n1(A){const I=A.match(o1);return I?I[0]:""}const U1=/^[^=?&#]+/,q1=/^[^&#]+/;class me{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m1([],{}):new m1([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(I.length>0||Object.keys(S).length>0)&&(R[Zt]=new m1(I,S)),R}parseSegment(){const I=n1(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(I),new Yt(xe(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const S=n1(this.remaining);if(!S)return;this.capture(S);let R="";if(this.consumeOptional("=")){const j=n1(this.remaining);j&&(R=j,this.capture(R))}I[xe(S)]=xe(R)}parseQueryParam(I){const S=function cn(A){const I=A.match(U1);return I?I[0]:""}(this.remaining);if(!S)return;this.capture(S);let R="";if(this.consumeOptional("=")){const ve=function Ee(A){const I=A.match(q1);return I?I[0]:""}(this.remaining);ve&&(R=ve,this.capture(R))}const j=De(S),ne=De(R);if(I.hasOwnProperty(j)){let ve=I[j];Array.isArray(ve)||(ve=[ve],I[j]=ve),ve.push(ne)}else I[j]=ne}parseParens(I){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=n1(this.remaining),j=this.remaining[R.length];if("/"!==j&&")"!==j&&";"!==j)throw new l.vHH(4010,!1);let ne;R.indexOf(":")>-1?(ne=R.slice(0,R.indexOf(":")),this.capture(ne),this.capture(":")):I&&(ne=Zt);const ve=this.parseChildren();S[ne]=1===Object.keys(ve).length?ve[Zt]:new m1([],ve),this.consumeOptional("//")}return S}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new l.vHH(4011,!1)}}function le(A){return A.segments.length>0?new m1([],{[Zt]:A}):A}function We(A){const I={};for(const R of Object.keys(A.children)){const ne=We(A.children[R]);(ne.segments.length>0||ne.hasChildren())&&(I[R]=ne)}return function _t(A){if(1===A.numberOfChildren&&A.children[Zt]){const I=A.children[Zt];return new m1(A.segments.concat(I.segments),I.children)}return A}(new m1(A.segments,I))}function Qt(A){return A instanceof b1}function J1(A,I,S,R,j){if(0===S.length)return bi(I.root,I.root,I.root,R,j);const ne=function q2(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new v2(!0,0,A);let I=0,S=!1;const R=A.reduce((j,ne,ve)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const D={};return Wt(ne.outlets,(g,m)=>{D[m]="string"==typeof g?g.split("/"):g}),[...j,{outlets:D}]}if(ne.segmentPath)return[...j,ne.segmentPath]}return"string"!=typeof ne?[...j,ne]:0===ve?(ne.split("/").forEach((D,g)=>{0==g&&"."===D||(0==g&&""===D?S=!0:".."===D?I++:""!=D&&j.push(D))}),j):[...j,ne]},[]);return new v2(S,I,R)}(S);return ne.toRoot()?bi(I.root,I.root,new m1([],{}),R,j):function ve(g){const m=function p2(A,I,S,R){if(A.isAbsolute)return new w2(I.root,!0,0);if(-1===R)return new w2(S,S===I.root,0);return function Ni(A,I,S){let R=A,j=I,ne=S;for(;ne>j;){if(ne-=j,R=R.parent,!R)throw new l.vHH(4005,!1);j=R.segments.length}return new w2(R,!1,j-ne)}(S,R+(Rn(A.commands[0])?0:1),A.numberOfDoubleDots)}(ne,I,A.snapshot?._urlSegment,g),T=m.processChildren?H2(m.segmentGroup,m.index,ne.commands):Pr(m.segmentGroup,m.index,ne.commands);return bi(I.root,m.segmentGroup,T,R,j)}(A.snapshot?._lastPathIndex)}function Rn(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function A2(A){return"object"==typeof A&&null!=A&&A.outlets}function bi(A,I,S,R,j){let ve,ne={};R&&Wt(R,(g,m)=>{ne[m]=Array.isArray(g)?g.map(T=>`${T}`):`${g}`}),ve=A===I?S:W2(A,I,S);const D=le(We(ve));return new b1(D,ne,j)}function W2(A,I,S){const R={};return Wt(A.children,(j,ne)=>{R[ne]=j===I?S:W2(j,I,S)}),new m1(A.segments,R)}class v2{constructor(I,S,R){if(this.isAbsolute=I,this.numberOfDoubleDots=S,this.commands=R,I&&R.length>0&&Rn(R[0]))throw new l.vHH(4003,!1);const j=R.find(A2);if(j&&j!==vn(R))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class w2{constructor(I,S,R){this.segmentGroup=I,this.processChildren=S,this.index=R}}function Pr(A,I,S){if(A||(A=new m1([],{})),0===A.segments.length&&A.hasChildren())return H2(A,I,S);const R=function K2(A,I,S){let R=0,j=I;const ne={match:!1,pathIndex:0,commandIndex:0};for(;j<A.segments.length;){if(R>=S.length)return ne;const ve=A.segments[j],D=S[R];if(A2(D))break;const g=`${D}`,m=R<S.length-1?S[R+1]:null;if(j>0&&void 0===g)break;if(g&&m&&"object"==typeof m&&void 0===m.outlets){if(!F2(g,m,ve))return ne;R+=2}else{if(!F2(g,{},ve))return ne;R++}j++}return{match:!0,pathIndex:j,commandIndex:R}}(A,I,S),j=S.slice(R.commandIndex);if(R.match&&R.pathIndex<A.segments.length){const ne=new m1(A.segments.slice(0,R.pathIndex),{});return ne.children[Zt]=new m1(A.segments.slice(R.pathIndex),A.children),H2(ne,0,j)}return R.match&&0===j.length?new m1(A.segments,{}):R.match&&!A.hasChildren()?Y2(A,I,S):R.match?H2(A,0,j):Y2(A,I,S)}function H2(A,I,S){if(0===S.length)return new m1(A.segments,{});{const R=function zn(A){return A2(A[0])?A[0].outlets:{[Zt]:A}}(S),j={};return Wt(R,(ne,ve)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(j[ve]=Pr(A.children[ve],I,ne))}),Wt(A.children,(ne,ve)=>{void 0===R[ve]&&(j[ve]=ne)}),new m1(A.segments,j)}}function Y2(A,I,S){const R=A.segments.slice(0,I);let j=0;for(;j<S.length;){const ne=S[j];if(A2(ne)){const g=ui(ne.outlets);return new m1(R,g)}if(0===j&&Rn(S[0])){R.push(new Yt(A.segments[I].path,di(S[0]))),j++;continue}const ve=A2(ne)?ne.outlets[Zt]:`${ne}`,D=j<S.length-1?S[j+1]:null;ve&&D&&Rn(D)?(R.push(new Yt(ve,di(D))),j+=2):(R.push(new Yt(ve,{})),j++)}return new m1(R,{})}function ui(A){const I={};return Wt(A,(S,R)=>{"string"==typeof S&&(S=[S]),null!==S&&(I[R]=Y2(new m1([],{}),0,S))}),I}function di(A){const I={};return Wt(A,(S,R)=>I[R]=`${S}`),I}function F2(A,I,S){return A==S.path&&Hn(I,S.parameters)}class jn{constructor(I,S){this.id=I,this.url=S}}class ki extends jn{constructor(I,S,R="imperative",j=null){super(I,S),this.type=0,this.navigationTrigger=R,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ln extends jn{constructor(I,S,R){super(I,S),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class P2 extends jn{constructor(I,S,R,j){super(I,S),this.reason=R,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ur extends jn{constructor(I,S,R,j){super(I,S),this.error=R,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ci extends jn{constructor(I,S,R,j){super(I,S),this.urlAfterRedirects=R,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr extends jn{constructor(I,S,R,j){super(I,S),this.urlAfterRedirects=R,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x2 extends jn{constructor(I,S,R,j,ne){super(I,S),this.urlAfterRedirects=R,this.state=j,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tr extends jn{constructor(I,S,R,j){super(I,S),this.urlAfterRedirects=R,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends jn{constructor(I,S,R,j){super(I,S),this.urlAfterRedirects=R,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class B2{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gs{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y2{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(I,S,R){this.routerEvent=I,this.position=S,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xt{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const S=this.pathFromRoot(I);return S.length>1?S[S.length-2]:null}children(I){const S=z1(I,this._root);return S?S.children.map(R=>R.value):[]}firstChild(I){const S=z1(I,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(I){const S=Q1(I,this._root);return S.length<2?[]:S[S.length-2].children.map(j=>j.value).filter(j=>j!==I)}pathFromRoot(I){return Q1(I,this._root).map(S=>S.value)}}function z1(A,I){if(A===I.value)return I;for(const S of I.children){const R=z1(A,S);if(R)return R}return null}function Q1(A,I){if(A===I.value)return[I];for(const S of I.children){const R=Q1(A,S);if(R.length)return R.unshift(I),R}return[]}class kn{constructor(I,S){this.value=I,this.children=S}toString(){return`TreeNode(${this.value})`}}function wn(A){const I={};return A&&A.children.forEach(S=>I[S.value.outlet]=S),I}class $i extends Xt{constructor(I,S){super(I),this.snapshot=S,z2(this,I)}toString(){return this.snapshot.toString()}}function tr(A,I){const S=function ii(A,I){const ve=new Pi([],{},{},"",{},Zt,I,null,A.root,-1,{});return new Zr("",new kn(ve,[]))}(A,I),R=new Ie.X([new Yt("",{})]),j=new Ie.X({}),ne=new Ie.X({}),ve=new Ie.X({}),D=new Ie.X(""),g=new ri(R,j,ve,D,ne,Zt,I,S.root);return g.snapshot=S.root,new $i(new kn(g,[]),S)}class ri{constructor(I,S,R,j,ne,ve,D,g){this.url=I,this.params=S,this.queryParams=R,this.fragment=j,this.data=ne,this.outlet=ve,this.component=D,this.title=this.data?.pipe((0,at.U)(m=>m[dn]))??(0,X.of)(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(I=>In(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(I=>In(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fr(A,I="emptyOnly"){const S=A.pathFromRoot;let R=0;if("always"!==I)for(R=S.length-1;R>=1;){const j=S[R],ne=S[R-1];if(j.routeConfig&&""===j.routeConfig.path)R--;else{if(ne.component)break;R--}}return function ts(A){return A.reduce((I,S)=>({params:{...I.params,...S.params},data:{...I.data,...S.data},resolve:{...S.data,...I.resolve,...S.routeConfig?.data,...S._resolvedData}}),{params:{},data:{},resolve:{}})}(S.slice(R))}class Pi{constructor(I,S,R,j,ne,ve,D,g,m,T,B,ee){this.url=I,this.params=S,this.queryParams=R,this.fragment=j,this.data=ne,this.outlet=ve,this.component=D,this.title=this.data?.[dn],this.routeConfig=g,this._urlSegment=m,this._lastPathIndex=T,this._correctedLastPathIndex=ee??T,this._resolve=B}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=In(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zr extends Xt{constructor(I,S){super(S),this.url=I,z2(this,S)}toString(){return fi(this._root)}}function z2(A,I){I.value._routerState=A,I.children.forEach(S=>z2(A,S))}function fi(A){const I=A.children.length>0?` { ${A.children.map(fi).join(", ")} } `:"";return`${A.value}${I}`}function Ai(A){if(A.snapshot){const I=A.snapshot,S=A._futureSnapshot;A.snapshot=S,Hn(I.queryParams,S.queryParams)||A.queryParams.next(S.queryParams),I.fragment!==S.fragment&&A.fragment.next(S.fragment),Hn(I.params,S.params)||A.params.next(S.params),function Yn(A,I){if(A.length!==I.length)return!1;for(let S=0;S<A.length;++S)if(!Hn(A[S],I[S]))return!1;return!0}(I.url,S.url)||A.url.next(S.url),Hn(I.data,S.data)||A.data.next(S.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function J2(A,I){const S=Hn(A.params,I.params)&&function yn(A,I){return tn(A,I)&&A.every((S,R)=>Hn(S.parameters,I[R].parameters))}(A.url,I.url);return S&&!(!A.parent!=!I.parent)&&(!A.parent||J2(A.parent,I.parent))}function s2(A,I,S){if(S&&A.shouldReuseRoute(I.value,S.value.snapshot)){const R=S.value;R._futureSnapshot=I.value;const j=function hr(A,I,S){return I.children.map(R=>{for(const j of S.children)if(A.shouldReuseRoute(R.value,j.value.snapshot))return s2(A,R,j);return s2(A,R)})}(A,I,S);return new kn(R,j)}{if(A.shouldAttach(I.value)){const ne=A.retrieve(I.value);if(null!==ne){const ve=ne.route;return ve.value._futureSnapshot=I.value,ve.children=I.children.map(D=>s2(A,D)),ve}}const R=function pr(A){return new ri(new Ie.X(A.url),new Ie.X(A.params),new Ie.X(A.queryParams),new Ie.X(A.fragment),new Ie.X(A.data),A.outlet,A.component,A)}(I.value),j=I.children.map(ne=>s2(A,ne));return new kn(R,j)}}const hi="ngNavigationCancelingError";function Mi(A,I){const{redirectTo:S,navigationBehaviorOptions:R}=Qt(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,j=si(!1,0,I);return j.url=S,j.navigationBehaviorOptions=R,j}function si(A,I,S){const R=new Error("NavigationCancelingError: "+(A||""));return R[hi]=!0,R.cancellationCode=I,S&&(R.url=S),R}function wi(A){return Vi(A)&&Qt(A.url)}function Vi(A){return A&&A[hi]}class mr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new o2,this.attachRef=null}}let o2=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(S,R){const j=this.getOrCreateContext(S);j.outlet=R,this.contexts.set(S,j)}onChildOutletDestroyed(S){const R=this.getContext(S);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let R=this.getContext(S);return R||(R=new mr,this.contexts.set(S,R)),R}getContext(S){return this.contexts.get(S)||null}}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Ii=!1;let ns=(()=>{class A{constructor(S,R,j,ne,ve){this.parentContexts=S,this.location=R,this.changeDetector=ne,this.environmentInjector=ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=j||Zt,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Ii);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Ii);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Ii);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,R){this.activated=S,this._activatedRoute=R,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,R){if(this.isActivated)throw new l.vHH(4013,Ii);this._activatedRoute=S;const j=this.location,ve=S._futureSnapshot.component,D=this.parentContexts.getOrCreateContext(this.name).children,g=new d2(S,D,j.injector);if(R&&function nr(A){return!!A.resolveComponentFactory}(R)){const m=R.resolveComponentFactory(ve);this.activated=j.createComponent(m,j.length,g)}else this.activated=j.createComponent(ve,{index:j.length,injector:g,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(S){return new(S||A)(l.Y36(o2),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},A.\u0275dir=l.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),A})();class d2{constructor(I,S,R){this.route=I,this.childContexts=S,this.parent=R}get(I,S){return I===ri?this.route:I===o2?this.childContexts:this.parent.get(I,S)}}let qn=(()=>{class A{}return A.\u0275fac=function(S){return new(S||A)},A.\u0275cmp=l.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(S,R){1&S&&l._UZ(0,"router-outlet")},dependencies:[ns],encapsulation:2}),A})();function oi(A,I){return A.providers&&!A._injector&&(A._injector=(0,l.MMx)(A.providers,I,`Route: ${A.path}`)),A._injector??I}function m2(A){const I=A.children&&A.children.map(m2),S=I?{...A,children:I}:{...A};return!S.component&&!S.loadComponent&&(I||S.loadChildren)&&S.outlet&&S.outlet!==Zt&&(S.component=qn),S}function _2(A){return A.outlet||Zt}function e2(A,I){const S=A.filter(R=>_2(R)===I);return S.push(...A.filter(R=>_2(R)!==I)),S}function R1(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let I=A.parent;I;I=I.parent){const S=I.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class xi{constructor(I,S,R,j){this.routeReuseStrategy=I,this.futureState=S,this.currState=R,this.forwardEvent=j}activate(I){const S=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,R,I),Ai(this.futureState.root),this.activateChildRoutes(S,R,I)}deactivateChildRoutes(I,S,R){const j=wn(S);I.children.forEach(ne=>{const ve=ne.value.outlet;this.deactivateRoutes(ne,j[ve],R),delete j[ve]}),Wt(j,(ne,ve)=>{this.deactivateRouteAndItsChildren(ne,R)})}deactivateRoutes(I,S,R){const j=I.value,ne=S?S.value:null;if(j===ne)if(j.component){const ve=R.getContext(j.outlet);ve&&this.deactivateChildRoutes(I,S,ve.children)}else this.deactivateChildRoutes(I,S,R);else ne&&this.deactivateRouteAndItsChildren(S,R)}deactivateRouteAndItsChildren(I,S){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,S):this.deactivateRouteAndOutlet(I,S)}detachAndStoreRouteSubtree(I,S){const R=S.getContext(I.value.outlet),j=R&&I.value.component?R.children:S,ne=wn(I);for(const ve of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ve],j);if(R&&R.outlet){const ve=R.outlet.detach(),D=R.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ve,route:I,contexts:D})}}deactivateRouteAndOutlet(I,S){const R=S.getContext(I.value.outlet),j=R&&I.value.component?R.children:S,ne=wn(I);for(const ve of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[ve],j);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(I,S,R){const j=wn(S);I.children.forEach(ne=>{this.activateRoutes(ne,j[ne.value.outlet],R),this.forwardEvent(new je(ne.value.snapshot))}),I.children.length&&this.forwardEvent(new y2(I.value.snapshot))}activateRoutes(I,S,R){const j=I.value,ne=S?S.value:null;if(Ai(j),j===ne)if(j.component){const ve=R.getOrCreateContext(j.outlet);this.activateChildRoutes(I,S,ve.children)}else this.activateChildRoutes(I,S,R);else if(j.component){const ve=R.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const D=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ve.children.onOutletReAttached(D.contexts),ve.attachRef=D.componentRef,ve.route=D.route.value,ve.outlet&&ve.outlet.attach(D.componentRef,D.route.value),Ai(D.route.value),this.activateChildRoutes(I,null,ve.children)}else{const D=R1(j.snapshot),g=D?.get(l._Vd)??null;ve.attachRef=null,ve.route=j,ve.resolver=g,ve.injector=D,ve.outlet&&ve.outlet.activateWith(j,ve.injector),this.activateChildRoutes(I,null,ve.children)}}else this.activateChildRoutes(I,null,R)}}class Fr{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Fi{constructor(I,S){this.component=I,this.route=S}}function Wr(A,I,S){const R=A._root;return mi(R,I?I._root:null,S,[R.value])}function Zi(A,I){const S=Symbol(),R=I.get(A,S);return R===S?"function"!=typeof A||(0,l.Z0I)(A)?I.get(A):A:R}function mi(A,I,S,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=wn(I);return A.children.forEach(ve=>{(function kt(A,I,S,R,j={canDeactivateChecks:[],canActivateChecks:[]}){const ne=A.value,ve=I?I.value:null,D=S?S.getContext(A.value.outlet):null;if(ve&&ne.routeConfig===ve.routeConfig){const g=function _n(A,I,S){if("function"==typeof S)return S(A,I);switch(S){case"pathParamsChange":return!tn(A.url,I.url);case"pathParamsOrQueryParamsChange":return!tn(A.url,I.url)||!Hn(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!J2(A,I)||!Hn(A.queryParams,I.queryParams);default:return!J2(A,I)}}(ve,ne,ne.routeConfig.runGuardsAndResolvers);g?j.canActivateChecks.push(new Fr(R)):(ne.data=ve.data,ne._resolvedData=ve._resolvedData),mi(A,I,ne.component?D?D.children:null:S,R,j),g&&D&&D.outlet&&D.outlet.isActivated&&j.canDeactivateChecks.push(new Fi(D.outlet.component,ve))}else ve&&U2(I,D,j),j.canActivateChecks.push(new Fr(R)),mi(A,null,ne.component?D?D.children:null:S,R,j)})(ve,ne[ve.value.outlet],S,R.concat([ve.value]),j),delete ne[ve.value.outlet]}),Wt(ne,(ve,D)=>U2(ve,S.getContext(D),j)),j}function U2(A,I,S){const R=wn(A),j=A.value;Wt(R,(ne,ve)=>{U2(ne,j.component?I?I.children.getContext(ve):null:I,S)}),S.canDeactivateChecks.push(new Fi(j.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,j))}function Di(A){return"function"==typeof A}function $(A){return A instanceof Te.K||"EmptyError"===A?.name}const U=Symbol("INITIAL_VALUE");function V(){return(0,ht.w)(A=>(0,Ne.a)(A.map(I=>I.pipe((0,tt.q)(1),(0,Pt.O)(U)))).pipe((0,at.U)(I=>{for(const S of I)if(!0!==S){if(S===U)return U;if(!1===S||S instanceof b1)return S}return!0}),(0,Ct.h)(I=>I!==U),(0,tt.q)(1)))}function Bi(A){return(0,Ve.z)((0,Le.b)(I=>{if(Qt(I))throw Mi(0,I)}),(0,at.U)(I=>!0===I))}const oe={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fe(A,I,S,R,j){const ne=_e(A,I,S);return ne.matched?function Y(A,I,S,R){const j=I.canMatch;if(!j||0===j.length)return(0,X.of)(!0);const ne=j.map(ve=>{const D=Zi(ve,A);return Cn(function Ki(A){return A&&Di(A.canMatch)}(D)?D.canMatch(I,S):A.runInContext(()=>D(I,S)))});return(0,X.of)(ne).pipe(V(),Bi())}(R=oi(I,R),I,S).pipe((0,at.U)(ve=>!0===ve?ne:{...oe})):(0,X.of)(ne)}function _e(A,I,S){if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||S.length>0)?{...oe}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const j=(I.matcher||Vn)(S,A,I);if(!j)return{...oe};const ne={};Wt(j.posParams,(D,g)=>{ne[g]=D.path});const ve=j.consumed.length>0?{...ne,...j.consumed[j.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:j.consumed,remainingSegments:S.slice(j.consumed.length),parameters:ve,positionalParamSegments:j.posParams??{}}}function $e(A,I,S,R,j="corrected"){if(S.length>0&&function xt(A,I,S){return S.some(R=>q(A,I,R)&&_2(R)!==Zt)}(A,S,R)){const ve=new m1(I,function Ot(A,I,S,R){const j={};j[Zt]=R,R._sourceSegment=A,R._segmentIndexShift=I.length;for(const ne of S)if(""===ne.path&&_2(ne)!==Zt){const ve=new m1([],{});ve._sourceSegment=A,ve._segmentIndexShift=I.length,j[_2(ne)]=ve}return j}(A,I,R,new m1(S,A.children)));return ve._sourceSegment=A,ve._segmentIndexShift=I.length,{segmentGroup:ve,slicedSegments:[]}}if(0===S.length&&function L(A,I,S){return S.some(R=>q(A,I,R))}(A,S,R)){const ve=new m1(A.segments,function Dt(A,I,S,R,j,ne){const ve={};for(const D of R)if(q(A,S,D)&&!j[_2(D)]){const g=new m1([],{});g._sourceSegment=A,g._segmentIndexShift="legacy"===ne?A.segments.length:I.length,ve[_2(D)]=g}return{...j,...ve}}(A,I,S,R,A.children,j));return ve._sourceSegment=A,ve._segmentIndexShift=I.length,{segmentGroup:ve,slicedSegments:S}}const ne=new m1(A.segments,A.children);return ne._sourceSegment=A,ne._segmentIndexShift=I.length,{segmentGroup:ne,slicedSegments:S}}function q(A,I,S){return(!(A.hasChildren()||I.length>0)||"full"!==S.pathMatch)&&""===S.path}function k(A,I,S,R){return!!(_2(A)===R||R!==Zt&&q(I,S,A))&&("**"===A.path||_e(I,A,S).matched)}function te(A,I,S){return 0===I.length&&!A.children[S]}const Ce=!1;class nt{constructor(I){this.segmentGroup=I||null}}class yt{constructor(I){this.urlTree=I}}function a1(A){return ze(new nt(A))}function $1(A){return ze(new yt(A))}class f2{constructor(I,S,R,j,ne){this.injector=I,this.configLoader=S,this.urlSerializer=R,this.urlTree=j,this.config=ne,this.allowRedirects=!0}apply(){const I=$e(this.urlTree.root,[],[],this.config).segmentGroup,S=new m1(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,S,Zt).pipe((0,at.U)(ne=>this.createUrlTree(We(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(ne=>{if(ne instanceof yt)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof nt?this.noMatchError(ne):ne}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,Zt).pipe((0,at.U)(j=>this.createUrlTree(We(j),I.queryParams,I.fragment))).pipe(Fe(j=>{throw j instanceof nt?this.noMatchError(j):j}))}noMatchError(I){return new l.vHH(4002,Ce)}createUrlTree(I,S,R){const j=le(I);return new b1(j,S,R)}expandSegmentGroup(I,S,R,j){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(I,S,R).pipe((0,at.U)(ne=>new m1([],ne))):this.expandSegment(I,R,S,R.segments,j,!0)}expandChildren(I,S,R){const j=[];for(const ne of Object.keys(R.children))"primary"===ne?j.unshift(ne):j.push(ne);return(0,_.D)(j).pipe((0,we.b)(ne=>{const ve=R.children[ne],D=e2(S,ne);return this.expandSegmentGroup(I,D,ve,ne).pipe((0,at.U)(g=>({segment:g,outlet:ne})))}),(0,zt.R)((ne,ve)=>(ne[ve.outlet]=ve.segment,ne),{}),Vt())}expandSegment(I,S,R,j,ne,ve){return(0,_.D)(R).pipe((0,we.b)(D=>this.expandSegmentAgainstRoute(I,S,R,D,j,ne,ve).pipe(Fe(m=>{if(m instanceof nt)return(0,X.of)(null);throw m}))),(0,et.P)(D=>!!D),Fe((D,g)=>{if($(D))return te(S,j,ne)?(0,X.of)(new m1([],{})):a1(S);throw D}))}expandSegmentAgainstRoute(I,S,R,j,ne,ve,D){return k(j,S,ne,ve)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(I,S,j,ne,ve):D&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,S,R,j,ne,ve):a1(S):a1(S)}expandSegmentAgainstRouteUsingRedirect(I,S,R,j,ne,ve){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,R,j,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(I,S,R,j,ne,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,S,R,j){const ne=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?$1(ne):this.lineralizeSegments(R,ne).pipe((0,ce.z)(ve=>{const D=new m1(ve,{});return this.expandSegment(I,D,S,ve,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,S,R,j,ne,ve){const{matched:D,consumedSegments:g,remainingSegments:m,positionalParamSegments:T}=_e(S,j,ne);if(!D)return a1(S);const B=this.applyRedirectCommands(g,j.redirectTo,T);return j.redirectTo.startsWith("/")?$1(B):this.lineralizeSegments(j,B).pipe((0,ce.z)(ee=>this.expandSegment(I,S,R,ee.concat(m),ve,!1)))}matchSegmentAgainstRoute(I,S,R,j,ne){return"**"===R.path?(I=oi(R,I),R.loadChildren?(R._loadedRoutes?(0,X.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(I,R)).pipe((0,at.U)(D=>(R._loadedRoutes=D.routes,R._loadedInjector=D.injector,new m1(j,{})))):(0,X.of)(new m1(j,{}))):fe(S,R,j,I).pipe((0,ht.w)(({matched:ve,consumedSegments:D,remainingSegments:g})=>ve?this.getChildConfig(I=R._injector??I,R,j).pipe((0,ce.z)(T=>{const B=T.injector??I,ee=T.routes,{segmentGroup:Se,slicedSegments:Oe}=$e(S,D,g,ee),dt=new m1(Se.segments,Se.children);if(0===Oe.length&&dt.hasChildren())return this.expandChildren(B,ee,dt).pipe((0,at.U)(on=>new m1(D,on)));if(0===ee.length&&0===Oe.length)return(0,X.of)(new m1(D,{}));const St=_2(R)===ne;return this.expandSegment(B,dt,ee,Oe,St?Zt:ne,!0).pipe((0,at.U)(_1=>new m1(D.concat(_1.segments),_1.children)))})):a1(S)))}getChildConfig(I,S,R){return S.children?(0,X.of)({routes:S.children,injector:I}):S.loadChildren?void 0!==S._loadedRoutes?(0,X.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function os(A,I,S,R){const j=I.canLoad;if(void 0===j||0===j.length)return(0,X.of)(!0);const ne=j.map(ve=>{const D=Zi(ve,A);return Cn(function xs(A){return A&&Di(A.canLoad)}(D)?D.canLoad(I,S):A.runInContext(()=>D(I,S)))});return(0,X.of)(ne).pipe(V(),Bi())}(I,S,R).pipe((0,ce.z)(j=>j?this.configLoader.loadChildren(I,S).pipe((0,Le.b)(ne=>{S._loadedRoutes=ne.routes,S._loadedInjector=ne.injector})):function mn(A){return ze(si(Ce,3))}())):(0,X.of)({routes:[],injector:I})}lineralizeSegments(I,S){let R=[],j=S.root;for(;;){if(R=R.concat(j.segments),0===j.numberOfChildren)return(0,X.of)(R);if(j.numberOfChildren>1||!j.children[Zt])return ze(new l.vHH(4e3,Ce));j=j.children[Zt]}}applyRedirectCommands(I,S,R){return this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),I,R)}applyRedirectCreateUrlTree(I,S,R,j){const ne=this.createSegmentGroup(I,S.root,R,j);return new b1(ne,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(I,S){const R={};return Wt(I,(j,ne)=>{if("string"==typeof j&&j.startsWith(":")){const D=j.substring(1);R[ne]=S[D]}else R[ne]=j}),R}createSegmentGroup(I,S,R,j){const ne=this.createSegments(I,S.segments,R,j);let ve={};return Wt(S.children,(D,g)=>{ve[g]=this.createSegmentGroup(I,D,R,j)}),new m1(ne,ve)}createSegments(I,S,R,j){return S.map(ne=>ne.path.startsWith(":")?this.findPosParam(I,ne,j):this.findOrReturn(ne,R))}findPosParam(I,S,R){const j=R[S.path.substring(1)];if(!j)throw new l.vHH(4001,Ce);return j}findOrReturn(I,S){let R=0;for(const j of S){if(j.path===I.path)return S.splice(R),j;R++}return I}}class Ar{}class br{constructor(I,S,R,j,ne,ve,D,g){this.injector=I,this.rootComponentType=S,this.config=R,this.urlTree=j,this.url=ne,this.paramsInheritanceStrategy=ve,this.relativeLinkResolution=D,this.urlSerializer=g}recognize(){const I=$e(this.urlTree.root,[],[],this.config.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,Zt).pipe((0,at.U)(S=>{if(null===S)return null;const R=new Pi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new kn(R,S),ne=new Zr(this.url,j);return this.inheritParamsAndData(ne._root),ne}))}inheritParamsAndData(I){const S=I.value,R=fr(S,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data),I.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(I,S,R,j){return 0===R.segments.length&&R.hasChildren()?this.processChildren(I,S,R):this.processSegment(I,S,R,R.segments,j)}processChildren(I,S,R){return(0,_.D)(Object.keys(R.children)).pipe((0,we.b)(j=>{const ne=R.children[j],ve=e2(S,j);return this.processSegmentGroup(I,ve,ne,j)}),(0,zt.R)((j,ne)=>j&&ne?(j.push(...ne),j):null),function x1(A,I=!1){return(0,Ye.e)((S,R)=>{let j=0;S.subscribe((0,Gt.x)(R,ne=>{const ve=A(ne,j++);(ve||I)&&R.next(ne),!ve&&R.complete()}))})}(j=>null!==j),(0,B1.d)(null),Vt(),(0,at.U)(j=>{if(null===j)return null;const ne=Js(j);return function Ji(A){A.sort((I,S)=>I.value.outlet===Zt?-1:S.value.outlet===Zt?1:I.value.outlet.localeCompare(S.value.outlet))}(ne),ne}))}processSegment(I,S,R,j,ne){return(0,_.D)(S).pipe((0,we.b)(ve=>this.processSegmentAgainstRoute(ve._injector??I,ve,R,j,ne)),(0,et.P)(ve=>!!ve),Fe(ve=>{if($(ve))return te(R,j,ne)?(0,X.of)([]):(0,X.of)(null);throw ve}))}processSegmentAgainstRoute(I,S,R,j,ne){if(S.redirectTo||!k(S,R,j,ne))return(0,X.of)(null);let ve;if("**"===S.path){const D=j.length>0?vn(j).parameters:{},g=Ga(R)+j.length,m=new Pi(j,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_a(S),_2(S),S.component??S._loadedComponent??null,S,Co(R),g,Mo(S),g);ve=(0,X.of)({snapshot:m,consumedSegments:[],remainingSegments:[]})}else ve=fe(R,S,j,I).pipe((0,at.U)(({matched:D,consumedSegments:g,remainingSegments:m,parameters:T})=>{if(!D)return null;const B=Ga(R)+g.length;return{snapshot:new Pi(g,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_a(S),_2(S),S.component??S._loadedComponent??null,S,Co(R),B,Mo(S),B),consumedSegments:g,remainingSegments:m}}));return ve.pipe((0,ht.w)(D=>{if(null===D)return(0,X.of)(null);const{snapshot:g,consumedSegments:m,remainingSegments:T}=D;I=S._injector??I;const B=S._loadedInjector??I,ee=function j2(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(S),{segmentGroup:Se,slicedSegments:Oe}=$e(R,m,T,ee.filter(St=>void 0===St.redirectTo),this.relativeLinkResolution);if(0===Oe.length&&Se.hasChildren())return this.processChildren(B,ee,Se).pipe((0,at.U)(St=>null===St?null:[new kn(g,St)]));if(0===ee.length&&0===Oe.length)return(0,X.of)([new kn(g,[])]);const dt=_2(S)===ne;return this.processSegment(B,ee,Se,Oe,dt?Zt:ne).pipe((0,at.U)(St=>null===St?null:[new kn(g,St)]))}))}}function Br(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Js(A){const I=[],S=new Set;for(const R of A){if(!Br(R)){I.push(R);continue}const j=I.find(ne=>R.value.routeConfig===ne.value.routeConfig);void 0!==j?(j.children.push(...R.children),S.add(j)):I.push(R)}for(const R of S){const j=Js(R.children);I.push(new kn(R.value,j))}return I.filter(R=>!S.has(R))}function Co(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function Ga(A){let I=A,S=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,S+=I._segmentIndexShift??0;return S-1}function _a(A){return A.data||{}}function Mo(A){return A.resolve||{}}function ai(A){return"string"==typeof A.title||null===A.title}function Yr(A){return(0,ht.w)(I=>{const S=A(I);return S?(0,_.D)(S).pipe((0,at.U)(()=>I)):(0,X.of)(I)})}let Ls=(()=>{class A{buildTitle(S){let R,j=S.root;for(;void 0!==j;)R=this.getResolvedTitleForRoute(j)??R,j=j.children.find(ne=>ne.outlet===Zt);return R}getResolvedTitleForRoute(S){return S.data[dn]}}return A.\u0275fac=function(S){return new(S||A)},A.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(vs)},providedIn:"root"}),A})(),vs=(()=>{class A extends Ls{constructor(S){super(),this.title=S}updateTitle(S){const R=this.buildTitle(S);void 0!==R&&this.title.setTitle(R)}}return A.\u0275fac=function(S){return new(S||A)(l.LFG(Qn.Dx))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class gi{}class ao extends class as{shouldDetach(I){return!1}store(I,S){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,S){return I.routeConfig===S.routeConfig}}{}const C1=new l.OlP("",{providedIn:"root",factory:()=>({})}),c1=new l.OlP("ROUTES");let bt=(()=>{class A{constructor(S,R){this.injector=S,this.compiler=R,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,X.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const R=Cn(S.loadComponent()).pipe((0,Le.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=ne}),T1(()=>{this.componentLoaders.delete(S)})),j=new ot(R,()=>new He.x).pipe(ft());return this.componentLoaders.set(S,j),j}loadChildren(S,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,X.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ne=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,at.U)(D=>{this.onLoadEndListener&&this.onLoadEndListener(R);let g,m,T=!1;Array.isArray(D)?m=D:(g=D.create(S).injector,m=Z1(g.get(c1,[],l.XFs.Self|l.XFs.Optional)));return{routes:m.map(m2),injector:g}}),T1(()=>{this.childrenLoaders.delete(R)})),ve=new ot(ne,()=>new He.x).pipe(ft());return this.childrenLoaders.set(R,ve),ve}loadModuleFactoryOrRoutes(S){return Cn(S()).pipe((0,ce.z)(R=>R instanceof l.YKP||Array.isArray(R)?(0,X.of)(R):(0,_.D)(this.compiler.compileModuleAsync(R))))}}return A.\u0275fac=function(S){return new(S||A)(l.LFG(l.zs3),l.LFG(l.Sil))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class jt{}class G2{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,S){return I}}function zo(A){throw A}function $2(A,I,S){return I.parse("/")}const Xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Do(){const A=(0,l.f3M)(nn),I=(0,l.f3M)(o2),S=(0,l.f3M)(s1.Ye),R=(0,l.f3M)(l.zs3),j=(0,l.f3M)(l.Sil),ne=(0,l.f3M)(c1,{optional:!0})??[],ve=(0,l.f3M)(C1,{optional:!0})??{},D=(0,l.f3M)(vs),g=(0,l.f3M)(Ls,{optional:!0}),m=(0,l.f3M)(jt,{optional:!0}),T=(0,l.f3M)(gi,{optional:!0}),B=new Q2(null,A,I,S,R,j,Z1(ne));return m&&(B.urlHandlingStrategy=m),T&&(B.routeReuseStrategy=T),B.titleStrategy=g??D,function eo(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(I.canceledNavigationResolution=A.canceledNavigationResolution)}(ve,B),B}let Q2=(()=>{class A{constructor(S,R,j,ne,ve,D,g){this.rootComponentType=S,this.urlSerializer=R,this.rootContexts=j,this.location=ne,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new He.x,this.errorHandler=zo,this.malformedUriErrorHandler=$2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,X.of)(void 0),this.urlHandlingStrategy=new G2,this.routeReuseStrategy=new ao,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ve.get(bt),this.configLoader.onLoadEndListener=ee=>this.triggerEvent(new B2(ee)),this.configLoader.onLoadStartListener=ee=>this.triggerEvent(new ms(ee)),this.ngModule=ve.get(l.h0i),this.console=ve.get(l.c2e);const B=ve.get(l.R0b);this.isNgZoneEnabled=B instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function pn(){return new b1(new m1([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tr(this.currentUrlTree,this.rootComponentType),this.transitions=new Ie.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(S){const R=this.events;return S.pipe((0,Ct.h)(j=>0!==j.id),(0,at.U)(j=>({...j,extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,ht.w)(j=>{let ne=!1,ve=!1;return(0,X.of)(j).pipe((0,Le.b)(D=>{this.currentNavigation={id:D.id,initialUrl:D.rawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ht.w)(D=>{const g=this.browserUrlTree.toString(),m=!this.navigated||D.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return Eo(D.source)&&(this.browserUrlTree=D.extractedUrl),(0,X.of)(D).pipe((0,ht.w)(B=>{const ee=this.transitions.getValue();return R.next(new ki(B.id,this.serializeUrl(B.extractedUrl),B.source,B.restoredState)),ee!==this.transitions.getValue()?it.E:Promise.resolve(B)}),function Gn(A,I,S,R){return(0,ht.w)(j=>function sn(A,I,S,R,j){return new f2(A,I,S,R,j).apply()}(A,I,S,j.extractedUrl,R).pipe((0,at.U)(ne=>({...j,urlAfterRedirects:ne}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Le.b)(B=>{this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects},j.urlAfterRedirects=B.urlAfterRedirects}),function oo(A,I,S,R,j,ne){return(0,ce.z)(ve=>function Yi(A,I,S,R,j,ne,ve="emptyOnly",D="legacy"){return new br(A,I,S,R,j,ve,D,ne).recognize().pipe((0,ht.w)(g=>null===g?function _r(A){return new he.y(I=>I.error(A))}(new Ar):(0,X.of)(g)))}(A,I,S,ve.urlAfterRedirects,R.serialize(ve.urlAfterRedirects),R,j,ne).pipe((0,at.U)(D=>({...ve,targetSnapshot:D}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Le.b)(B=>{if(j.targetSnapshot=B.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const Se=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(Se,B)}this.browserUrlTree=B.urlAfterRedirects}const ee=new Ci(B.id,this.serializeUrl(B.extractedUrl),this.serializeUrl(B.urlAfterRedirects),B.targetSnapshot);R.next(ee)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ee,extractedUrl:Se,source:Oe,restoredState:dt,extras:St}=D,p1=new ki(ee,this.serializeUrl(Se),Oe,dt);R.next(p1);const _1=tr(Se,this.rootComponentType).snapshot;return j={...D,targetSnapshot:_1,urlAfterRedirects:Se,extras:{...St,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)(j)}return this.rawUrlTree=D.rawUrl,D.resolve(null),it.E}),(0,Le.b)(D=>{const g=new dr(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(g)}),(0,at.U)(D=>j={...D,guards:Wr(D.targetSnapshot,D.currentSnapshot,this.rootContexts)}),function re(A,I){return(0,ce.z)(S=>{const{targetSnapshot:R,currentSnapshot:j,guards:{canActivateChecks:ne,canDeactivateChecks:ve}}=S;return 0===ve.length&&0===ne.length?(0,X.of)({...S,guardsResult:!0}):function ut(A,I,S,R){return(0,_.D)(A).pipe((0,ce.z)(j=>function ss(A,I,S,R,j){const ne=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,X.of)(!0);const ve=ne.map(D=>{const g=R1(I)??j,m=Zi(D,g);return Cn(function qi(A){return A&&Di(A.canDeactivate)}(m)?m.canDeactivate(A,I,S,R):g.runInContext(()=>m(A,I,S,R))).pipe((0,et.P)())});return(0,X.of)(ve).pipe(V())}(j.component,j.route,S,I,R)),(0,et.P)(j=>!0!==j,!0))}(ve,R,j,A).pipe((0,ce.z)(D=>D&&function a2(A){return"boolean"==typeof A}(D)?function M1(A,I,S,R){return(0,_.D)(I).pipe((0,we.b)(j=>(0,de.z)(function yr(A,I){return null!==A&&I&&I(new gs(A)),(0,X.of)(!0)}(j.route.parent,R),function Pn(A,I){return null!==A&&I&&I(new Ke(A)),(0,X.of)(!0)}(j.route,R),function rs(A,I,S){const R=I[I.length-1],ne=I.slice(0,I.length-1).reverse().map(ve=>function vr(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(ve)).filter(ve=>null!==ve).map(ve=>(0,Re.P)(()=>{const D=ve.guards.map(g=>{const m=R1(ve.node)??S,T=Zi(g,m);return Cn(function Wi(A){return A&&Di(A.canActivateChild)}(T)?T.canActivateChild(R,A):m.runInContext(()=>T(R,A))).pipe((0,et.P)())});return(0,X.of)(D).pipe(V())}));return(0,X.of)(ne).pipe(V())}(A,j.path,S),function sr(A,I,S){const R=I.routeConfig?I.routeConfig.canActivate:null;if(!R||0===R.length)return(0,X.of)(!0);const j=R.map(ne=>(0,Re.P)(()=>{const ve=R1(I)??S,D=Zi(ne,ve);return Cn(function qr(A){return A&&Di(A.canActivate)}(D)?D.canActivate(I,A):ve.runInContext(()=>D(I,A))).pipe((0,et.P)())}));return(0,X.of)(j).pipe(V())}(A,j.route,S))),(0,et.P)(j=>!0!==j,!0))}(R,ne,A,I):(0,X.of)(D)),(0,at.U)(D=>({...S,guardsResult:D})))})}(this.ngModule.injector,D=>this.triggerEvent(D)),(0,Le.b)(D=>{if(j.guardsResult=D.guardsResult,Qt(D.guardsResult))throw Mi(0,D.guardsResult);const g=new x2(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.triggerEvent(g)}),(0,Ct.h)(D=>!!D.guardsResult||(this.restoreHistory(D),this.cancelNavigationTransition(D,"",3),!1)),Yr(D=>{if(D.guards.canActivateChecks.length)return(0,X.of)(D).pipe((0,Le.b)(g=>{const m=new Tr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(m)}),(0,ht.w)(g=>{let m=!1;return(0,X.of)(g).pipe(function zs(A,I){return(0,ce.z)(S=>{const{targetSnapshot:R,guards:{canActivateChecks:j}}=S;if(!j.length)return(0,X.of)(S);let ne=0;return(0,_.D)(j).pipe((0,we.b)(ve=>function Us(A,I,S,R){const j=A.routeConfig,ne=A._resolve;return void 0!==j?.title&&!ai(j)&&(ne[dn]=j.title),function wo(A,I,S,R){const j=function ea(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===j.length)return(0,X.of)({});const ne={};return(0,_.D)(j).pipe((0,ce.z)(ve=>function zi(A,I,S,R){const j=R1(I)??R,ne=Zi(A,j);return Cn(ne.resolve?ne.resolve(I,S):j.runInContext(()=>ne(I,S)))}(A[ve],I,S,R).pipe((0,et.P)(),(0,Le.b)(D=>{ne[ve]=D}))),Rt(1),(0,S1.h)(ne),Fe(ve=>$(ve)?it.E:ze(ve)))}(ne,A,I,R).pipe((0,at.U)(ve=>(A._resolvedData=ve,A.data=fr(A,S).resolve,j&&ai(j)&&(A.data[dn]=j.title),null)))}(ve.route,R,A,I)),(0,Le.b)(()=>ne++),Rt(1),(0,ce.z)(ve=>ne===j.length?(0,X.of)(S):it.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Le.b)({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Le.b)(g=>{const m=new Vr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(m)}))}),Yr(D=>{const g=m=>{const T=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Le.b)(B=>{m.component=B}),(0,at.U)(()=>{})));for(const B of m.children)T.push(...g(B));return T};return(0,Ne.a)(g(D.targetSnapshot.root)).pipe((0,B1.d)(),(0,tt.q)(1))}),Yr(()=>this.afterPreactivation()),(0,at.U)(D=>{const g=function Nr(A,I,S){const R=s2(A,I._root,S?S._root:void 0);return new $i(R,I)}(this.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return j={...D,targetRouterState:g}}),(0,Le.b)(D=>{this.currentUrlTree=D.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl),this.routerState=D.targetRouterState,"deferred"===this.urlUpdateStrategy&&(D.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,D),this.browserUrlTree=D.urlAfterRedirects)}),((A,I,S)=>(0,at.U)(R=>(new xi(I,R.targetRouterState,R.currentRouterState,S).activate(A),R)))(this.rootContexts,this.routeReuseStrategy,D=>this.triggerEvent(D)),(0,Le.b)({next(){ne=!0},complete(){ne=!0}}),T1(()=>{ne||ve||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),Fe(D=>{if(ve=!0,Vi(D)){wi(D)||(this.navigated=!0,this.restoreHistory(j,!0));const g=new P2(j.id,this.serializeUrl(j.extractedUrl),D.message,D.cancellationCode);if(R.next(g),wi(D)){const m=this.urlHandlingStrategy.merge(D.url,this.rawUrlTree),T={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Eo(j.source)};this.scheduleNavigation(m,"imperative",null,T,{resolve:j.resolve,reject:j.reject,promise:j.promise})}else j.resolve(!1)}else{this.restoreHistory(j,!0);const g=new ur(j.id,this.serializeUrl(j.extractedUrl),D,j.targetSnapshot??void 0);R.next(g);try{j.resolve(this.errorHandler(D))}catch(m){j.reject(m)}}return it.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}setTransition(S){this.transitions.next({...this.transitions.value,...S})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const R="popstate"===S.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{const j={replaceUrl:!0},ne=S.state?.navigationId?S.state:null;if(ne){const D={...ne};delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(j.state=D)}const ve=this.parseUrl(S.url);this.scheduleNavigation(ve,R,ne,j)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){this.config=S.map(m2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,R={}){const{relativeTo:j,queryParams:ne,fragment:ve,queryParamsHandling:D,preserveFragment:g}=R,m=j||this.routerState.root,T=g?this.currentUrlTree.fragment:ve;let B=null;switch(D){case"merge":B={...this.currentUrlTree.queryParams,...ne};break;case"preserve":B=this.currentUrlTree.queryParams;break;default:B=ne||null}return null!==B&&(B=this.removeEmptyProps(B)),J1(m,this.currentUrlTree,S,B,T??null)}navigateByUrl(S,R={skipLocationChange:!1}){const j=Qt(S)?S:this.parseUrl(S),ne=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ne,"imperative",null,R)}navigate(S,R={skipLocationChange:!1}){return function Cr(A){for(let I=0;I<A.length;I++){if(null==A[I])throw new l.vHH(4008,false)}}(S),this.navigateByUrl(this.createUrlTree(S,R),R)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let R;try{R=this.urlSerializer.parse(S)}catch(j){R=this.malformedUriErrorHandler(j,this.urlSerializer,S)}return R}isActive(S,R){let j;if(j=!0===R?{...Xs}:!1===R?{...cs}:R,Qt(S))return u1(this.currentUrlTree,S,j);const ne=this.parseUrl(S);return u1(this.currentUrlTree,ne,j)}removeEmptyProps(S){return Object.keys(S).reduce((R,j)=>{const ne=S[j];return null!=ne&&(R[j]=ne),R},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new Ln(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,R,j,ne,ve){if(this.disposed)return Promise.resolve(!1);let D,g,m;ve?(D=ve.resolve,g=ve.reject,m=ve.promise):m=new Promise((ee,Se)=>{D=ee,g=Se});const T=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),B=j&&j.\u0275routerPageId?j.\u0275routerPageId:ne.replaceUrl||ne.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):B=0,this.setTransition({id:T,targetPageId:B,source:R,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:ne,resolve:D,reject:g,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(ee=>Promise.reject(ee))}setBrowserUrl(S,R){const j=this.urlSerializer.serialize(S),ne={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.isCurrentPathEqualTo(j)||R.extras.replaceUrl?this.location.replaceState(j,"",ne):this.location.go(j,"",ne)}restoreHistory(S,R=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===j?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===j&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(j)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,R,j){const ne=new P2(S.id,this.serializeUrl(S.extractedUrl),R,j);this.triggerEvent(ne),S.resolve(!1)}generateNgRouterState(S,R){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:R}:{navigationId:S}}}return A.\u0275fac=function(S){l.$Z()},A.\u0275prov=l.Yz7({token:A,factory:function(){return Do()},providedIn:"root"}),A})();function Eo(A){return"imperative"!==A}let js=(()=>{class A{constructor(S,R,j,ne,ve){this.router=S,this.route=R,this.tabIndexAttribute=j,this.renderer=ne,this.el=ve,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new He.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(S){this._preserveFragment=(0,l.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,l.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,l.D6c)(S)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(S){if(null!=this.tabIndexAttribute)return;const R=this.renderer,j=this.el.nativeElement;null!==S?R.setAttribute(j,"tabindex",S):R.removeAttribute(j,"tabindex")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(S){return new(S||A)(l.Y36(Q2),l.Y36(ri),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},A.\u0275dir=l.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,R){1&S&&l.NdJ("click",function(){return R.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),A})(),X1=(()=>{class A{constructor(S,R,j){this.router=S,this.route=R,this.locationStrategy=j,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new He.x,this.subscription=S.events.subscribe(ne=>{ne instanceof Ln&&this.updateTargetUrlAndHref()})}set preserveFragment(S){this._preserveFragment=(0,l.D6c)(S)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(S){this._skipLocationChange=(0,l.D6c)(S)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(S){this._replaceUrl=(0,l.D6c)(S)}get replaceUrl(){return this._replaceUrl}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:null}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,R,j,ne,ve){return!!(0!==S||R||j||ne||ve||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(S){return new(S||A)(l.Y36(Q2),l.Y36(ri),l.Y36(s1.S$))},A.\u0275dir=l.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,R){1&S&&l.NdJ("click",function(ne){return R.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&S&&l.uIk("target",R.target)("href",R.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),A})(),or=(()=>{class A{constructor(S,R,j,ne,ve,D){this.router=S,this.element=R,this.renderer=j,this.cdr=ne,this.link=ve,this.linkWithHref=D,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=S.events.subscribe(g=>{g instanceof Ln&&this.update()})}ngAfterContentInit(){(0,X.of)(this.links.changes,this.linksWithHrefs.changes,(0,X.of)(null)).pipe((0,D1.J)()).subscribe(S=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const S=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(R=>!!R).map(R=>R.onChanges);this.linkInputChangesSubscription=(0,_.D)(S).pipe((0,D1.J)()).subscribe(R=>{this.isActive!==this.isLinkActive(this.router)(R)&&this.update()})}set routerLinkActive(S){const R=Array.isArray(S)?S:S.split(" ");this.classes=R.filter(j=>!!j)}ngOnChanges(S){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const S=this.hasActiveLinks();this.isActive!==S&&(this.isActive=S,this.cdr.markForCheck(),this.classes.forEach(R=>{S?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),S&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(S))})}isLinkActive(S){const R=function So(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>!!j.urlTree&&S.isActive(j.urlTree,R)}hasActiveLinks(){const S=this.isLinkActive(this.router);return this.link&&S(this.link)||this.linkWithHref&&S(this.linkWithHref)||this.links.some(S)||this.linksWithHrefs.some(S)}}return A.\u0275fac=function(S){return new(S||A)(l.Y36(Q2),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(js,8),l.Y36(X1,8))},A.\u0275dir=l.lG2({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(S,R,j){if(1&S&&(l.Suo(j,js,5),l.Suo(j,X1,5)),2&S){let ne;l.iGM(ne=l.CRH())&&(R.links=ne),l.iGM(ne=l.CRH())&&(R.linksWithHrefs=ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),A})();class D2{}let Sn=(()=>{class A{constructor(S,R,j,ne,ve){this.router=S,this.injector=j,this.preloadingStrategy=ne,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.h)(S=>S instanceof Ln),(0,we.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,R){const j=[];for(const ne of R){ne.providers&&!ne._injector&&(ne._injector=(0,l.MMx)(ne.providers,S,`Route: ${ne.path}`));const ve=ne._injector??S,D=ne._loadedInjector??ve;ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent?j.push(this.preloadConfig(ve,ne)):(ne.children||ne._loadedRoutes)&&j.push(this.processRoutes(D,ne.children??ne._loadedRoutes))}return(0,_.D)(j).pipe((0,D1.J)())}preloadConfig(S,R){return this.preloadingStrategy.preload(R,()=>{let j;j=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(S,R):(0,X.of)(null);const ne=j.pipe((0,ce.z)(ve=>null===ve?(0,X.of)(void 0):(R._loadedRoutes=ve.routes,R._loadedInjector=ve.injector,this.processRoutes(ve.injector??S,ve.routes))));if(R.loadComponent&&!R._loadedComponent){const ve=this.loader.loadComponent(R);return(0,_.D)([ne,ve]).pipe((0,D1.J)())}return ne})}}return A.\u0275fac=function(S){return new(S||A)(l.LFG(Q2),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(D2),l.LFG(bt))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const co=new l.OlP("");let Fn=(()=>{class A{constructor(S,R,j={}){this.router=S,this.viewportScroller=R,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Ln&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Xe&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,R){this.router.triggerEvent(new Xe(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(S){l.$Z()},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac}),A})();function vi(A,I){return{\u0275kind:A,\u0275providers:I}}function _s(A){return[{provide:c1,multi:!0,useValue:A}]}function us(){const A=(0,l.f3M)(l.zs3);return I=>{const S=A.get(l.z2F);if(I!==S.components[0])return;const R=A.get(Q2),j=A.get(h2);1===A.get(lo)&&R.initialNavigation(),A.get(ba,null,l.XFs.Optional)?.setUpPreloading(),A.get(co,null,l.XFs.Optional)?.init(),R.resetRootComponentType(S.componentTypes[0]),j.closed||(j.next(),j.unsubscribe())}}const h2=new l.OlP("",{factory:()=>new He.x}),lo=new l.OlP("",{providedIn:"root",factory:()=>1});const ba=new l.OlP("");function Oo(A){return vi(0,[{provide:ba,useExisting:Sn},{provide:D2,useExisting:A}])}const uo=new l.OlP("ROUTER_FORROOT_GUARD"),c2=[s1.Ye,{provide:nn,useClass:W1},{provide:Q2,useFactory:Do},o2,{provide:ri,useFactory:function ys(A){return A.routerState.root},deps:[Q2]},bt];function to(){return new l.PXZ("Router",Q2)}let bs=(()=>{class A{constructor(S){}static forRoot(S,R){return{ngModule:A,providers:[c2,[],_s(S),{provide:uo,useFactory:Ir,deps:[[Q2,new l.FiY,new l.tp0]]},{provide:C1,useValue:R||{}},R?.useHash?{provide:s1.S$,useClass:s1.Do}:{provide:s1.S$,useClass:s1.b0},{provide:co,useFactory:()=>{const A=(0,l.f3M)(Q2),I=(0,l.f3M)(s1.EM),S=(0,l.f3M)(C1);return S.scrollOffset&&I.setOffset(S.scrollOffset),new Fn(A,I,S)}},R?.preloadingStrategy?Oo(R.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:to},R?.initialNavigation?no(R):[],[{provide:xr,useFactory:us},{provide:l.tb,multi:!0,useExisting:xr}]]}}static forChild(S){return{ngModule:A,providers:[_s(S)]}}}return A.\u0275fac=function(S){return new(S||A)(l.LFG(uo,8))},A.\u0275mod=l.oAB({type:A}),A.\u0275inj=l.cJS({imports:[qn]}),A})();function Ir(A){return"guarded"}function no(A){return["disabled"===A.initialNavigation?vi(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const I=(0,l.f3M)(Q2);return()=>{I.setUpLocationChangeListener()}}},{provide:lo,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?vi(2,[{provide:lo,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:I=>{const S=I.get(s1.V_,Promise.resolve());let R=!1;return()=>S.then(()=>new Promise(ne=>{const ve=I.get(Q2),D=I.get(h2);(function j(ne){I.get(Q2).events.pipe((0,Ct.h)(D=>D instanceof Ln||D instanceof P2||D instanceof ur),(0,at.U)(D=>D instanceof Ln||D instanceof P2&&(0===D.code||1===D.code)&&null),(0,Ct.h)(D=>null!==D),(0,tt.q)(1)).subscribe(()=>{ne()})})(()=>{ne(!0),R=!0}),ve.afterPreactivation=()=>(ne(!0),R||D.closed?(0,X.of)(void 0):D),ve.initialNavigation()}))}}]).\u0275providers:[]]}const xr=new l.OlP("")},3942:(r1,Je,F)=>{F.d(Je,{Z:()=>Ye});var l=F(2090),_=F(4859),X=F(9681),Ie=F(1877);class Te{constructor(ft,ot){this._delegate=ft,this.firebase=ot,(0,X._addComponent)(ft,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=ft.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this._delegate.automaticDataCollectionEnabled=ft}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ft=>{this._delegate.checkDestroyed(),ft()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(ft,ot=X._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const s1=this._delegate.container.getProvider(ft);return!s1.isInitialized()&&"EXPLICIT"===(null===(He=s1.getComponent())||void 0===He?void 0:He.instantiationMode)&&s1.initialize(),s1.getImmediate({identifier:ot})}_removeServiceInstance(ft,ot=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ft).clearInstance(ot)}_addComponent(ft){(0,X._addComponent)(this._delegate,ft)}_addOrOverwriteComponent(ft){(0,X._addOrOverwriteComponent)(this._delegate,ft)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ve(){const Gt=function Re(Gt){const ft={},ot={__esModule:!0,initializeApp:function at(Ct,ce={}){const et=X.initializeApp(Ct,ce);if((0,l.r3)(ft,et.name))return ft[et.name];const we=new Gt(et,ot);return ft[et.name]=we,we},app:s1,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function tt(Ct){const ce=Ct.name,et=ce.replace("-compat","");if(X._registerComponent(Ct)&&"PUBLIC"===Ct.type){const we=(Le=s1())=>{if("function"!=typeof Le[et])throw de.create("invalid-app-argument",{appName:ce});return Le[et]()};void 0!==Ct.serviceProps&&(0,l.ZB)(we,Ct.serviceProps),ot[et]=we,Gt.prototype[et]=function(...Le){return this._getService.bind(this,ce).apply(this,Ct.multipleInstances?Le:[])}}return"PUBLIC"===Ct.type?ot[et]:null},removeApp:function He(Ct){delete ft[Ct]},useAsService:function Pt(Ct,ce){return"serverAuth"===ce?null:ce},modularAPIs:X}};function s1(Ct){if(!(0,l.r3)(ft,Ct=Ct||X._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:Ct});return ft[Ct]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function ht(){return Object.keys(ft).map(Ct=>ft[Ct])}}),s1.App=Gt,ot}(Te);return Gt.INTERNAL=Object.assign(Object.assign({},Gt.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function ft(ot){(0,l.ZB)(Gt,ot)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Gt}(),pe=new Ie.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){pe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Gt=self.firebase.SDK_VERSION;Gt&&Gt.indexOf("LITE")>=0&&pe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=he;!function st(Gt){(0,X.registerVersion)("@firebase/app-compat","0.2.0",Gt)}()},9681:(r1,Je,F)=>{F.r(Je),F.d(Je,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>Hn,_DEFAULT_ENTRY_NAME:()=>O1,_addComponent:()=>T1,_addOrOverwriteComponent:()=>D1,_apps:()=>x1,_clearComponents:()=>Mn,_components:()=>S1,_getProvider:()=>Zt,_registerComponent:()=>Qn,_removeServiceInstance:()=>dn,deleteApp:()=>r2,getApp:()=>Z1,getApps:()=>vn,initializeApp:()=>Jn,onLog:()=>Nn,registerVersion:()=>Cn,setLogLevel:()=>pn});var l=F(5861),_=F(4859),X=F(1877),Ie=F(2090),Te=F(8766);class Ne{constructor(Nt){this.container=Nt}getPlatformInfoString(){return this.container.getProviders().map(t1=>{if(function de(f1){return"VERSION"===f1.getComponent()?.type}(t1)){const L1=t1.getImmediate();return`${L1.library}/${L1.version}`}return null}).filter(t1=>t1).join(" ")}}const Re="@firebase/app",he=new X.Yd("@firebase/app"),O1="[DEFAULT]",Vt={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},x1=new Map,S1=new Map;function T1(f1,Nt){try{f1.container.addComponent(Nt)}catch(t1){he.debug(`Component ${Nt.name} failed to register with FirebaseApp ${f1.name}`,t1)}}function D1(f1,Nt){f1.container.addOrOverwriteComponent(Nt)}function Qn(f1){const Nt=f1.name;if(S1.has(Nt))return he.debug(`There were multiple attempts to register component ${Nt}.`),!1;S1.set(Nt,f1);for(const t1 of x1.values())T1(t1,f1);return!0}function Zt(f1,Nt){const t1=f1.container.getProvider("heartbeat").getImmediate({optional:!0});return t1&&t1.triggerHeartbeat(),f1.container.getProvider(Nt)}function dn(f1,Nt,t1=O1){Zt(f1,Nt).clearInstance(t1)}function Mn(){S1.clear()}const Vn=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yn{constructor(Nt,t1,L1){this._isDeleted=!1,this._options=Object.assign({},Nt),this._config=Object.assign({},t1),this._name=t1.name,this._automaticDataCollectionEnabled=t1.automaticDataCollectionEnabled,this._container=L1,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Nt){this._isDeleted=Nt}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Hn="9.15.0";function Jn(f1,Nt={}){let t1=f1;"object"!=typeof Nt&&(Nt={name:Nt});const L1=Object.assign({name:O1,automaticDataCollectionEnabled:!1},Nt),E1=L1.name;if("string"!=typeof E1||!E1)throw Vn.create("bad-app-name",{appName:String(E1)});if(t1||(t1=(0,Ie.aH)()),!t1)throw Vn.create("no-options");const V1=x1.get(E1);if(V1){if((0,Ie.vZ)(t1,V1.options)&&(0,Ie.vZ)(L1,V1.config))return V1;throw Vn.create("duplicate-app",{appName:E1})}const xe=new _.H0(E1);for(const Pe of S1.values())xe.addComponent(Pe);const De=new Yn(t1,L1,xe);return x1.set(E1,De),De}function Z1(f1=O1){const Nt=x1.get(f1);if(!Nt&&f1===O1)return Jn();if(!Nt)throw Vn.create("no-app",{appName:f1});return Nt}function vn(){return Array.from(x1.values())}function r2(f1){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(f1){const Nt=f1.name;x1.has(Nt)&&(x1.delete(Nt),yield Promise.all(f1.container.getProviders().map(t1=>t1.delete())),f1.isDeleted=!0)})).apply(this,arguments)}function Cn(f1,Nt,t1){var L1;let E1=null!==(L1=Vt[f1])&&void 0!==L1?L1:f1;t1&&(E1+=`-${t1}`);const V1=E1.match(/\s|\//),xe=Nt.match(/\s|\//);if(V1||xe){const De=[`Unable to register library "${E1}" with version "${Nt}":`];return V1&&De.push(`library name "${E1}" contains illegal characters (whitespace or "/")`),V1&&xe&&De.push("and"),xe&&De.push(`version name "${Nt}" contains illegal characters (whitespace or "/")`),void he.warn(De.join(" "))}Qn(new _.wA(`${E1}-version`,()=>({library:E1,version:Nt}),"VERSION"))}function Nn(f1,Nt){if(null!==f1&&"function"!=typeof f1)throw Vn.create("invalid-log-argument");(0,X.Am)(f1,Nt)}function pn(f1){(0,X.Ub)(f1)}const u1="firebase-heartbeat-store";let ct=null;function Ae(){return ct||(ct=(0,Te.X3)("firebase-heartbeat-database",1,{upgrade:(f1,Nt)=>{0===Nt&&f1.createObjectStore(u1)}}).catch(f1=>{throw Vn.create("idb-open",{originalErrorMessage:f1.message})})),ct}function lt(){return(lt=(0,l.Z)(function*(f1){try{return(yield Ae()).transaction(u1).objectStore(u1).get(b1(f1))}catch(Nt){if(Nt instanceof Ie.ZR)he.warn(Nt.message);else{const t1=Vn.create("idb-get",{originalErrorMessage:Nt?.message});he.warn(t1.message)}}})).apply(this,arguments)}function Mt(f1,Nt){return d1.apply(this,arguments)}function d1(){return(d1=(0,l.Z)(function*(f1,Nt){try{const L1=(yield Ae()).transaction(u1,"readwrite");return yield L1.objectStore(u1).put(Nt,b1(f1)),L1.done}catch(t1){if(t1 instanceof Ie.ZR)he.warn(t1.message);else{const L1=Vn.create("idb-set",{originalErrorMessage:t1?.message});he.warn(L1.message)}}})).apply(this,arguments)}function b1(f1){return`${f1.name}!${f1.options.appId}`}class yn{constructor(Nt){this.container=Nt,this._heartbeatsCache=null;const t1=this.container.getProvider("app").getImmediate();this._storage=new nn(t1),this._heartbeatsCachePromise=this._storage.read().then(L1=>(this._heartbeatsCache=L1,L1))}triggerHeartbeat(){var Nt=this;return(0,l.Z)(function*(){const L1=Nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),E1=tn();if(null===Nt._heartbeatsCache&&(Nt._heartbeatsCache=yield Nt._heartbeatsCachePromise),Nt._heartbeatsCache.lastSentHeartbeatDate!==E1&&!Nt._heartbeatsCache.heartbeats.some(V1=>V1.date===E1))return Nt._heartbeatsCache.heartbeats.push({date:E1,agent:L1}),Nt._heartbeatsCache.heartbeats=Nt._heartbeatsCache.heartbeats.filter(V1=>{const xe=new Date(V1.date).valueOf();return Date.now()-xe<=2592e6}),Nt._storage.overwrite(Nt._heartbeatsCache)})()}getHeartbeatsHeader(){var Nt=this;return(0,l.Z)(function*(){if(null===Nt._heartbeatsCache&&(yield Nt._heartbeatsCachePromise),null===Nt._heartbeatsCache||0===Nt._heartbeatsCache.heartbeats.length)return"";const t1=tn(),{heartbeatsToSend:L1,unsentEntries:E1}=function Xn(f1,Nt=1024){const t1=[];let L1=f1.slice();for(const E1 of f1){const V1=t1.find(xe=>xe.agent===E1.agent);if(V1){if(V1.dates.push(E1.date),W1(t1)>Nt){V1.dates.pop();break}}else if(t1.push({agent:E1.agent,dates:[E1.date]}),W1(t1)>Nt){t1.pop();break}L1=L1.slice(1)}return{heartbeatsToSend:t1,unsentEntries:L1}}(Nt._heartbeatsCache.heartbeats),V1=(0,Ie.L)(JSON.stringify({version:2,heartbeats:L1}));return Nt._heartbeatsCache.lastSentHeartbeatDate=t1,E1.length>0?(Nt._heartbeatsCache.heartbeats=E1,yield Nt._storage.overwrite(Nt._heartbeatsCache)):(Nt._heartbeatsCache.heartbeats=[],Nt._storage.overwrite(Nt._heartbeatsCache)),V1})()}}function tn(){return(new Date).toISOString().substring(0,10)}class nn{constructor(Nt){this.app=Nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Nt=this;return(0,l.Z)(function*(){return(yield Nt._canUseIndexedDBPromise)&&(yield function be(f1){return lt.apply(this,arguments)}(Nt.app))||{heartbeats:[]}})()}overwrite(Nt){var t1=this;return(0,l.Z)(function*(){var L1;if(yield t1._canUseIndexedDBPromise){const V1=yield t1.read();return Mt(t1.app,{lastSentHeartbeatDate:null!==(L1=Nt.lastSentHeartbeatDate)&&void 0!==L1?L1:V1.lastSentHeartbeatDate,heartbeats:Nt.heartbeats})}})()}add(Nt){var t1=this;return(0,l.Z)(function*(){var L1;if(yield t1._canUseIndexedDBPromise){const V1=yield t1.read();return Mt(t1.app,{lastSentHeartbeatDate:null!==(L1=Nt.lastSentHeartbeatDate)&&void 0!==L1?L1:V1.lastSentHeartbeatDate,heartbeats:[...V1.heartbeats,...Nt.heartbeats]})}})()}}function W1(f1){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:f1})).length}!function an(f1){Qn(new _.wA("platform-logger",Nt=>new Ne(Nt),"PRIVATE")),Qn(new _.wA("heartbeat",Nt=>new yn(Nt),"PRIVATE")),Cn(Re,"0.9.0",f1),Cn(Re,"0.9.0","esm2017"),Cn("fire-js","")}("")},4859:(r1,Je,F)=>{F.d(Je,{H0:()=>Re,wA:()=>X});var l=F(5861),_=F(2090);class X{constructor(he,pe,ze){this.name=he,this.instanceFactory=pe,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Ie="[DEFAULT]";class Te{constructor(he,pe){this.name=he,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const pe=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(pe)){const ze=new _.BH;if(this.instancesDeferred.set(pe,ze),this.isInitialized(pe)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:pe});it&&ze.resolve(it)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(he){var pe;const ze=this.normalizeInstanceIdentifier(he?.identifier),it=null!==(pe=he?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(st){if(it)return null;throw st}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function de(Ve){return"EAGER"===Ve.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[pe,ze]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(pe);try{const st=this.getOrInitializeService({instanceIdentifier:it});ze.resolve(st)}catch{}}}}clearInstance(he=Ie){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,l.Z)(function*(){const pe=Array.from(he.instances.values());yield Promise.all([...pe.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...pe.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Ie){return this.instances.has(he)}getOptions(he=Ie){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:pe={}}=he,ze=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:ze,options:pe});for(const[st,Ye]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(st)&&Ye.resolve(it);return it}onInit(he,pe){var ze;const it=this.normalizeInstanceIdentifier(pe),st=null!==(ze=this.onInitCallbacks.get(it))&&void 0!==ze?ze:new Set;st.add(he),this.onInitCallbacks.set(it,st);const Ye=this.instances.get(it);return Ye&&he(Ye,it),()=>{st.delete(he)}}invokeOnInitCallbacks(he,pe){const ze=this.onInitCallbacks.get(pe);if(ze)for(const it of ze)try{it(he,pe)}catch{}}getOrInitializeService({instanceIdentifier:he,options:pe={}}){let ze=this.instances.get(he);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=he,Ve===Ie?void 0:Ve),options:pe}),this.instances.set(he,ze),this.instancesOptions.set(he,pe),this.invokeOnInitCallbacks(ze,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,ze)}catch{}var Ve;return ze||null}normalizeInstanceIdentifier(he=Ie){return this.component?this.component.multipleInstances?he:Ie:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const pe=this.getProvider(he.name);if(pe.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);pe.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const pe=new Te(he,this);return this.providers.set(he,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(r1,Je,F)=>{F.d(Je,{Am:()=>Ve,Ub:()=>Re,Yd:()=>de,in:()=>_});const l=[];var _=(()=>{return(he=_||(_={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",_;var he})();const X={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},Ie=_.INFO,Te={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Ne=(he,pe,...ze)=>{if(pe<he.logLevel)return;const it=(new Date).toISOString(),st=Te[pe];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[st](`[${it}]  ${he.name}:`,...ze)};class de{constructor(pe){this.name=pe,this._logLevel=Ie,this._logHandler=Ne,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in _))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?X[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...pe),this._logHandler(this,_.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...pe),this._logHandler(this,_.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,_.INFO,...pe),this._logHandler(this,_.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,_.WARN,...pe),this._logHandler(this,_.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...pe),this._logHandler(this,_.ERROR,...pe)}}function Re(he){l.forEach(pe=>{pe.setLogLevel(he)})}function Ve(he,pe){for(const ze of l){let it=null;pe&&pe.level&&(it=X[pe.level]),ze.userLogHandler=null===he?null:(st,Ye,...Gt)=>{const ft=Gt.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch{return null}}).filter(ot=>ot).join(" ");Ye>=(it??st.logLevel)&&he({level:_[Ye].toLowerCase(),message:ft,args:Gt,type:st.name})}}}},3868:(r1,Je,F)=>{F.d(Je,{BN:()=>Pn,uH:()=>Bi});var l=F(4650);function _(Y){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(Y)}function Ie(Y,oe){for(var fe=0;fe<oe.length;fe++){var _e=oe[fe];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(Y,_e.key,_e)}}function Ne(Y,oe,fe){return oe in Y?Object.defineProperty(Y,oe,{value:fe,enumerable:!0,configurable:!0,writable:!0}):Y[oe]=fe,Y}function de(Y){for(var oe=1;oe<arguments.length;oe++){var fe=null!=arguments[oe]?arguments[oe]:{},_e=Object.keys(fe);"function"==typeof Object.getOwnPropertySymbols&&(_e=_e.concat(Object.getOwnPropertySymbols(fe).filter(function($e){return Object.getOwnPropertyDescriptor(fe,$e).enumerable}))),_e.forEach(function($e){Ne(Y,$e,fe[$e])})}return Y}function Re(Y,oe){return function pe(Y){if(Array.isArray(Y))return Y}(Y)||function it(Y,oe){var fe=[],_e=!0,$e=!1,Dt=void 0;try{for(var xt,Ot=Y[Symbol.iterator]();!(_e=(xt=Ot.next()).done)&&(fe.push(xt.value),!oe||fe.length!==oe);_e=!0);}catch(L){$e=!0,Dt=L}finally{try{!_e&&null!=Ot.return&&Ot.return()}finally{if($e)throw Dt}}return fe}(Y,oe)||function Ye(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft={},ot={};try{typeof window<"u"&&(ft=window),typeof document<"u"&&(ot=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var ht=(ft.navigator||{}).userAgent,tt=void 0===ht?"":ht,Pt=ft,Ct=ot,Le=!!Ct.documentElement&&!!Ct.head&&"function"==typeof Ct.addEventListener&&"function"==typeof Ct.createElement,Fe=(~tt.indexOf("MSIE")||tt.indexOf("Trident/"),"___FONT_AWESOME___"),y1="svg-inline--fa",Hn=[1,2,3,4,5,6,7,8,9,10],Jn=Hn.concat([11,12,13,14,15,16,17,18,19,20]),vn={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Wt=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",vn.GROUP,vn.SWAP_OPACITY,vn.PRIMARY,vn.SECONDARY].concat(Hn.map(function(Y){return"".concat(Y,"x")})).concat(Jn.map(function(Y){return"w-".concat(Y)})),Pt.FontAwesomeConfig||{});Ct&&"function"==typeof Ct.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(Y){var oe=Re(Y,2),_e=oe[1],$e=function Nn(Y){return""===Y||"false"!==Y&&("true"===Y||Y)}(function Cn(Y){var oe=Ct.querySelector("script["+Y+"]");if(oe)return oe.getAttribute(Y)}(oe[0]));null!=$e&&(Wt[_e]=$e)});var R2=de({},{familyPrefix:"fa",replacementClass:y1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Wt);R2.autoReplaceSvg||(R2.observeMutations=!1);var u1=de({},R2);Pt.FontAwesomeConfig=u1;var ct=Pt||{};ct[Fe]||(ct[Fe]={}),ct[Fe].styles||(ct[Fe].styles={}),ct[Fe].hooks||(ct[Fe].hooks={}),ct[Fe].shims||(ct[Fe].shims=[]);var Ae=ct[Fe],be=[];Le&&((Ct.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ct.readyState)||Ct.addEventListener("DOMContentLoaded",function Y(){Ct.removeEventListener("DOMContentLoaded",Y),be.map(function(oe){return oe()})}));var an,b1="pending",m1="settled",Yt="fulfilled",yn="rejected",tn=function(){},Xn=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,nn=typeof setImmediate>"u"?setTimeout:setImmediate,W1=[];function f1(){for(var Y=0;Y<W1.length;Y++)W1[Y][0](W1[Y][1]);W1=[],an=!1}function Nt(Y,oe){W1.push([Y,oe]),an||(an=!0,nn(f1,0))}function L1(Y){var oe=Y.owner,fe=oe._state,_e=oe._data,$e=Y[fe],Dt=Y.then;if("function"==typeof $e){fe=Yt;try{_e=$e(_e)}catch(Ot){De(Dt,Ot)}}E1(Dt,_e)||(fe===Yt&&V1(Dt,_e),fe===yn&&De(Dt,_e))}function E1(Y,oe){var fe;try{if(Y===oe)throw new TypeError("A promises callback cannot return that same promise.");if(oe&&("function"==typeof oe||"object"===_(oe))){var _e=oe.then;if("function"==typeof _e)return _e.call(oe,function($e){fe||(fe=!0,oe===$e?xe(Y,$e):V1(Y,$e))},function($e){fe||(fe=!0,De(Y,$e))}),!0}}catch($e){return fe||De(Y,$e),!0}return!1}function V1(Y,oe){(Y===oe||!E1(Y,oe))&&xe(Y,oe)}function xe(Y,oe){Y._state===b1&&(Y._state=m1,Y._data=oe,Nt(wt,Y))}function De(Y,oe){Y._state===b1&&(Y._state=m1,Y._data=oe,Nt(Ze,Y))}function Pe(Y){Y._then=Y._then.forEach(L1)}function wt(Y){Y._state=Yt,Pe(Y)}function Ze(Y){Y._state=yn,Pe(Y),!Y._handled&&Xn&&global.process.emit("unhandledRejection",Y._data,Y)}function o1(Y){global.process.emit("rejectionHandled",Y)}function n1(Y){if("function"!=typeof Y)throw new TypeError("Promise resolver "+Y+" is not a function");if(!(this instanceof n1))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function t1(Y,oe){function _e($e){De(oe,$e)}try{Y(function fe($e){V1(oe,$e)},_e)}catch($e){_e($e)}}(Y,this)}n1.prototype={constructor:n1,_state:b1,_then:null,_data:void 0,_handled:!1,then:function(oe,fe){var _e={owner:this,then:new this.constructor(tn),fulfilled:oe,rejected:fe};return(fe||oe)&&!this._handled&&(this._handled=!0,this._state===yn&&Xn&&Nt(o1,this)),this._state===Yt||this._state===yn?Nt(L1,_e):this._then.push(_e),_e.then},catch:function(oe){return this.then(null,oe)}},n1.all=function(Y){if(!Array.isArray(Y))throw new TypeError("You must pass an array to Promise.all().");return new n1(function(oe,fe){var _e=[],$e=0;function Dt(L){return $e++,function(q){_e[L]=q,--$e||oe(_e)}}for(var xt,Ot=0;Ot<Y.length;Ot++)(xt=Y[Ot])&&"function"==typeof xt.then?xt.then(Dt(Ot),fe):_e[Ot]=xt;$e||oe(_e)})},n1.race=function(Y){if(!Array.isArray(Y))throw new TypeError("You must pass an array to Promise.race().");return new n1(function(oe,fe){for(var $e,_e=0;_e<Y.length;_e++)($e=Y[_e])&&"function"==typeof $e.then?$e.then(oe,fe):oe($e)})},n1.resolve=function(Y){return Y&&"object"===_(Y)&&Y.constructor===n1?Y:new n1(function(oe){oe(Y)})},n1.reject=function(Y){return new n1(function(oe,fe){fe(Y)})};var q1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function We(){for(var Y=12,oe="";Y-- >0;)oe+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return oe}function Y1(Y){return"".concat(Y).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k2(Y){return Object.keys(Y||{}).reduce(function(oe,fe){return oe+"".concat(fe,": ").concat(Y[fe],";")},"")}function J1(Y){return Y.size!==q1.size||Y.x!==q1.x||Y.y!==q1.y||Y.rotate!==q1.rotate||Y.flipX||Y.flipY}function Rn(Y){var oe=Y.transform,_e=Y.iconWidth,$e={transform:"translate(".concat(Y.containerWidth/2," 256)")},Dt="translate(".concat(32*oe.x,", ").concat(32*oe.y,") "),Ot="scale(".concat(oe.size/16*(oe.flipX?-1:1),", ").concat(oe.size/16*(oe.flipY?-1:1),") "),xt="rotate(".concat(oe.rotate," 0 0)");return{outer:$e,inner:{transform:"".concat(Dt," ").concat(Ot," ").concat(xt)},path:{transform:"translate(".concat(_e/2*-1," -256)")}}}var bi={x:0,y:0,width:"100%",height:"100%"};function W2(Y){var oe=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Y.attributes&&(Y.attributes.fill||oe)&&(Y.attributes.fill="black"),Y}function v2(Y){return"g"===Y.tag?Y.children:[Y]}function Ni(Y){var oe=Y.icons,fe=oe.main,_e=oe.mask,$e=Y.prefix,Dt=Y.iconName,Ot=Y.transform,xt=Y.symbol,L=Y.title,q=Y.maskId,k=Y.titleId,te=Y.extra,Ce=Y.watchable,nt=void 0!==Ce&&Ce,yt=_e.found?_e:fe,a1=yt.width,$1=yt.height,ln="fak"===$e,mn=ln?"":"fa-w-".concat(Math.ceil(a1/$1*16)),sn=[u1.replacementClass,Dt?"".concat(u1.familyPrefix,"-").concat(Dt):"",mn].filter(function(br){return-1===te.classes.indexOf(br)}).filter(function(br){return""!==br||!!br}).concat(te.classes).join(" "),f2={children:[],attributes:de({},te.attributes,{"data-prefix":$e,"data-icon":Dt,class:sn,role:te.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(a1," ").concat($1)})},Gn=ln&&!~te.classes.indexOf("fa-fw")?{width:"".concat(a1/$1*16*.0625,"em")}:{};nt&&(f2.attributes["data-fa-i2svg"]=""),L&&f2.children.push({tag:"title",attributes:{id:f2.attributes["aria-labelledby"]||"title-".concat(k||We())},children:[L]});var En=de({},f2,{prefix:$e,iconName:Dt,main:fe,mask:_e,maskId:q,transform:Ot,symbol:xt,styles:de({},Gn,te.styles)}),Ar=_e.found&&fe.found?function q2(Y){var oe=Y.children,fe=Y.attributes,_e=Y.main,$e=Y.mask,Dt=Y.maskId,L=_e.icon,k=$e.icon,te=Rn({transform:Y.transform,containerWidth:$e.width,iconWidth:_e.width}),Ce={tag:"rect",attributes:de({},bi,{fill:"white"})},nt=L.children?{children:L.children.map(W2)}:{},yt={tag:"g",attributes:de({},te.inner),children:[W2(de({tag:L.tag,attributes:de({},L.attributes,te.path)},nt))]},a1={tag:"g",attributes:de({},te.outer),children:[yt]},$1="mask-".concat(Dt||We()),ln="clip-".concat(Dt||We()),mn={tag:"mask",attributes:de({},bi,{id:$1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Ce,a1]},sn={tag:"defs",children:[{tag:"clipPath",attributes:{id:ln},children:v2(k)},mn]};return oe.push(sn,{tag:"rect",attributes:de({fill:"currentColor","clip-path":"url(#".concat(ln,")"),mask:"url(#".concat($1,")")},bi)}),{children:oe,attributes:fe}}(En):function w2(Y){var oe=Y.children,fe=Y.attributes,_e=Y.main,$e=Y.transform,Ot=k2(Y.styles);if(Ot.length>0&&(fe.style=Ot),J1($e)){var xt=Rn({transform:$e,containerWidth:_e.width,iconWidth:_e.width});oe.push({tag:"g",attributes:de({},xt.outer),children:[{tag:"g",attributes:de({},xt.inner),children:[{tag:_e.icon.tag,children:_e.icon.children,attributes:de({},_e.icon.attributes,xt.path)}]}]})}else oe.push(_e.icon);return{children:oe,attributes:fe}}(En),Yi=Ar.attributes;return En.children=Ar.children,En.attributes=Yi,xt?function p2(Y){var fe=Y.iconName,_e=Y.children,Dt=Y.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:de({},Y.attributes,{id:!0===Dt?"".concat(Y.prefix,"-").concat(u1.familyPrefix,"-").concat(fe):Dt}),children:_e}]}]}(En):function I2(Y){var oe=Y.children,fe=Y.main,_e=Y.mask,$e=Y.attributes,Dt=Y.styles,Ot=Y.transform;if(J1(Ot)&&fe.found&&!_e.found){var q={x:fe.width/fe.height/2,y:.5};$e.style=k2(de({},Dt,{"transform-origin":"".concat(q.x+Ot.x/16,"em ").concat(q.y+Ot.y/16,"em")}))}return[{tag:"svg",attributes:$e,children:oe}]}(En)}var ki=function(oe,fe,_e,$e){var L,q,k,Dt=Object.keys(oe),Ot=Dt.length,xt=void 0!==$e?function(oe,fe){return function(_e,$e,Dt,Ot){return oe.call(fe,_e,$e,Dt,Ot)}}(fe,$e):fe;for(void 0===_e?(L=1,k=oe[Dt[0]]):(L=0,k=_e);L<Ot;L++)k=xt(k,oe[q=Dt[L]],q,oe);return k};function P2(Y,oe){var fe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_e=fe.skipHooks,$e=void 0!==_e&&_e,Dt=Object.keys(oe).reduce(function(Ot,xt){var L=oe[xt];return L.icon?Ot[L.iconName]=L.icon:Ot[xt]=L,Ot},{});"function"!=typeof Ae.hooks.addPack||$e?Ae.styles[Y]=de({},Ae.styles[Y]||{},Dt):Ae.hooks.addPack(Y,Dt),"fas"===Y&&P2("fa",oe)}var ur=Ae.styles,Ci=Ae.shims,Vr=function(){var oe=function($e){return ki(ur,function(Dt,Ot,xt){return Dt[xt]=ki(Ot,$e,{}),Dt},{})};oe(function(_e,$e,Dt){return $e[3]&&(_e[$e[3]]=Dt),_e}),oe(function(_e,$e,Dt){var Ot=$e[2];return _e[Dt]=Dt,Ot.forEach(function(xt){_e[xt]=Dt}),_e});var fe="far"in ur;ki(Ci,function(_e,$e){var Ot=$e[1];return"far"===Ot&&!fe&&(Ot="fas"),_e[$e[0]]={prefix:Ot,iconName:$e[2]},_e},{})};function Xe(Y,oe,fe){if(Y&&Y[oe]&&Y[oe][fe])return{prefix:oe,iconName:fe,icon:Y[oe][fe]}}function At(Y){var oe=Y.tag,fe=Y.attributes,_e=void 0===fe?{}:fe,$e=Y.children,Dt=void 0===$e?[]:$e;return"string"==typeof Y?Y1(Y):"<".concat(oe," ").concat(function xn(Y){return Object.keys(Y||{}).reduce(function(oe,fe){return oe+"".concat(fe,'="').concat(Y1(Y[fe]),'" ')},"").trim()}(_e),">").concat(Dt.map(At).join(""),"</").concat(oe,">")}Vr();function hi(Y){this.name="MissingIcon",this.message=Y||"Icon unavailable",this.stack=(new Error).stack}(hi.prototype=Object.create(Error.prototype)).constructor=hi;var Mi={fill:"currentColor"},si={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Vi=(de({},Mi,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),de({},si,{attributeName:"opacity"}));function nr(Y){var oe=Y[0],fe=Y[1],Dt=Re(Y.slice(4),1)[0];return{found:!0,width:oe,height:fe,icon:Array.isArray(Dt)?{tag:"g",attributes:{class:"".concat(u1.familyPrefix,"-").concat(vn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(u1.familyPrefix,"-").concat(vn.SECONDARY),fill:"currentColor",d:Dt[0]}},{tag:"path",attributes:{class:"".concat(u1.familyPrefix,"-").concat(vn.PRIMARY),fill:"currentColor",d:Dt[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:Dt}}}}function rr(){u1.autoAddCss&&!Zi&&(function me(Y){if(Y&&Le){var oe=Ct.createElement("style");oe.setAttribute("type","text/css"),oe.innerHTML=Y;for(var fe=Ct.head.childNodes,_e=null,$e=fe.length-1;$e>-1;$e--){var Dt=fe[$e],Ot=(Dt.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Ot)>-1&&(_e=Dt)}return Ct.head.insertBefore(oe,_e),Y}}(function e2(){var Y="fa",oe=y1,fe=u1.familyPrefix,_e=u1.replacementClass,$e='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(fe!==Y||_e!==oe){var Dt=new RegExp("\\.".concat(Y,"\\-"),"g"),Ot=new RegExp("\\--".concat(Y,"\\-"),"g"),xt=new RegExp("\\.".concat(oe),"g");$e=$e.replace(Dt,".".concat(fe,"-")).replace(Ot,"--".concat(fe,"-")).replace(xt,".".concat(_e))}return $e}()),Zi=!0)}function xi(Y,oe){return Object.defineProperty(Y,"abstract",{get:oe}),Object.defineProperty(Y,"html",{get:function(){return Y.abstract.map(function(_e){return At(_e)})}}),Object.defineProperty(Y,"node",{get:function(){if(Le){var _e=Ct.createElement("div");return _e.innerHTML=Y.html,_e.children}}}),Y}function Fr(Y){var oe=Y.prefix,fe=void 0===oe?"fa":oe,_e=Y.iconName;if(_e)return Xe(Wr.definitions,fe,_e)||Xe(Ae.styles,fe,_e)}de({},Mi,{cx:"256",cy:"364",r:"28"}),de({},si,{attributeName:"r",values:"28;14;28;28;14;28;"}),de({},Vi,{values:"1;0;1;1;0;1;"}),de({},Mi,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),de({},Vi,{values:"1;0;0;0;0;1;"}),de({},Mi,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),de({},Vi,{values:"0;0;1;1;0;0;"});var Wr=new(function(){function Y(){(function X(Y,oe){if(!(Y instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,Y),this.definitions={}}return function Te(Y,oe,fe){oe&&Ie(Y.prototype,oe),fe&&Ie(Y,fe)}(Y,[{key:"add",value:function(){for(var fe=this,_e=arguments.length,$e=new Array(_e),Dt=0;Dt<_e;Dt++)$e[Dt]=arguments[Dt];var Ot=$e.reduce(this._pullDefinitions,{});Object.keys(Ot).forEach(function(xt){fe.definitions[xt]=de({},fe.definitions[xt]||{},Ot[xt]),P2(xt,Ot[xt]),Vr()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(fe,_e){var $e=_e.prefix&&_e.iconName&&_e.icon?{0:_e}:_e;return Object.keys($e).map(function(Dt){var Ot=$e[Dt],xt=Ot.prefix,L=Ot.iconName,q=Ot.icon;fe[xt]||(fe[xt]={}),fe[xt][L]=q}),fe}}]),Y}()),Zi=!1,kt_transform=function(oe){return function(oe){var fe={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return oe?oe.toLowerCase().split(" ").reduce(function(_e,$e){var Dt=$e.toLowerCase().split("-"),Ot=Dt[0],xt=Dt.slice(1).join("-");if(Ot&&"h"===xt)return _e.flipX=!0,_e;if(Ot&&"v"===xt)return _e.flipY=!0,_e;if(xt=parseFloat(xt),isNaN(xt))return _e;switch(Ot){case"grow":_e.size=_e.size+xt;break;case"shrink":_e.size=_e.size-xt;break;case"left":_e.x=_e.x-xt;break;case"right":_e.x=_e.x+xt;break;case"up":_e.y=_e.y-xt;break;case"down":_e.y=_e.y+xt;break;case"rotate":_e.rotate=_e.rotate+xt}return _e},fe):fe}(oe)},_n=function Fi(Y){return function(oe){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=(oe||{}).icon?oe:Fr(oe||{}),$e=fe.mask;return $e&&($e=($e||{}).icon?$e:Fr($e||{})),Y(_e,de({},fe,{mask:$e}))}}(function(Y){var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},fe=oe.transform,_e=void 0===fe?q1:fe,$e=oe.symbol,Dt=void 0!==$e&&$e,Ot=oe.mask,xt=void 0===Ot?null:Ot,L=oe.maskId,q=void 0===L?null:L,k=oe.title,te=void 0===k?null:k,Ce=oe.titleId,nt=void 0===Ce?null:Ce,yt=oe.classes,a1=void 0===yt?[]:yt,$1=oe.attributes,ln=void 0===$1?{}:$1,mn=oe.styles,sn=void 0===mn?{}:mn;if(Y){var f2=Y.prefix,Gn=Y.iconName,En=Y.icon;return xi(de({type:"icon"},Y),function(){return rr(),u1.autoA11y&&(te?ln["aria-labelledby"]="".concat(u1.replacementClass,"-title-").concat(nt||We()):(ln["aria-hidden"]="true",ln.focusable="false")),Ni({icons:{main:nr(En),mask:xt?nr(xt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f2,iconName:Gn,transform:de({},q1,_e),symbol:Dt,title:te,maskId:q,titleId:nt,extra:{attributes:ln,styles:sn,classes:a1}})})}}),Wi=F(1481);const qi=["*"],Kr=Y=>{const oe={"fa-spin":Y.spin,"fa-pulse":Y.pulse,"fa-fw":Y.fixedWidth,"fa-border":Y.border,"fa-inverse":Y.inverse,"fa-layers-counter":Y.counter,"fa-flip-horizontal":"horizontal"===Y.flip||"both"===Y.flip,"fa-flip-vertical":"vertical"===Y.flip||"both"===Y.flip,[`fa-${Y.size}`]:null!==Y.size,[`fa-rotate-${Y.rotate}`]:null!==Y.rotate,[`fa-pull-${Y.pull}`]:null!==Y.pull,[`fa-stack-${Y.stackItemSize}`]:null!=Y.stackItemSize};return Object.keys(oe).map(fe=>oe[fe]?fe:null).filter(fe=>fe)};let V=(()=>{class Y{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return Y.\u0275fac=function(fe){return new(fe||Y)},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),re=(()=>{class Y{constructor(){this.definitions={}}addIcons(...fe){for(const _e of fe)_e.prefix in this.definitions||(this.definitions[_e.prefix]={}),this.definitions[_e.prefix][_e.iconName]=_e}addIconPacks(...fe){for(const _e of fe){const $e=Object.keys(_e).map(Dt=>_e[Dt]);this.addIcons(...$e)}}getIconDefinition(fe,_e){return fe in this.definitions&&_e in this.definitions[fe]?this.definitions[fe][_e]:null}}return Y.\u0275fac=function(fe){return new(fe||Y)},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),ut=(()=>{class Y{constructor(){this.stackItemSize="1x"}ngOnChanges(fe){if("size"in fe)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return Y.\u0275fac=function(fe){return new(fe||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[l.TTD]}),Y})(),M1=(()=>{class Y{constructor(fe,_e){this.renderer=fe,this.elementRef=_e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(fe){"size"in fe&&(null!=fe.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${fe.size.currentValue}`),null!=fe.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${fe.size.previousValue}`))}}return Y.\u0275fac=function(fe){return new(fe||Y)(l.Y36(l.Qsj),l.Y36(l.SBq))},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["fa-stack"]],inputs:{size:"size"},features:[l.TTD],ngContentSelectors:qi,decls:1,vars:0,template:function(fe,_e){1&fe&&(l.F$t(),l.Hsn(0))},encapsulation:2}),Y})(),Pn=(()=>{class Y{constructor(fe,_e,$e,Dt,Ot){this.sanitizer=fe,this.config=_e,this.iconLibrary=$e,this.stackItem=Dt,this.classes=[],null!=Ot&&null==Dt&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(fe){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let _e=null;if(_e=this.icon??this.config.fallbackIcon,fe){const $e=this.findIconDefinition(_e);if(null!=$e){const Dt=this.buildParams();this.renderIcon($e,Dt)}}}render(){this.ngOnChanges({})}findIconDefinition(fe){const _e=((Y,oe)=>(Y=>void 0!==Y.prefix&&void 0!==Y.iconName)(Y)?Y:Array.isArray(Y)&&2===Y.length?{prefix:Y[0],iconName:Y[1]}:"string"==typeof Y?{prefix:oe,iconName:Y}:void 0)(fe,this.config.defaultPrefix);return"icon"in _e?_e:this.iconLibrary.getIconDefinition(_e.prefix,_e.iconName)??((Y=>{throw new Error(`Could not find icon with iconName=${Y.iconName} and prefix=${Y.prefix} in the icon library.`)})(_e),null)}buildParams(){const fe={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},_e="string"==typeof this.transform?kt_transform(this.transform):this.transform;return{title:this.title,transform:_e,classes:[...Kr(fe),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(fe,_e){const $e=_n(fe,_e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml($e.html.join("\n"))}}return Y.\u0275fac=function(fe){return new(fe||Y)(l.Y36(Wi.H7),l.Y36(V),l.Y36(re),l.Y36(ut,8),l.Y36(M1,8))},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(fe,_e){2&fe&&(l.Ikx("innerHTML",_e.renderedIconHTML,l.oJD),l.uIk("title",_e.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[l.TTD],decls:0,vars:0,template:function(fe,_e){},encapsulation:2}),Y})(),Bi=(()=>{class Y{}return Y.\u0275fac=function(fe){return new(fe||Y)},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({}),Y})()},6683:(r1,Je,F)=>{F.d(Je,{Kz:()=>qs,_D:()=>I,jt:()=>Vs,TH:()=>cr,Vi:()=>l2,XC:()=>hs,iD:()=>$4,FF:()=>aa,IJ:()=>Pa,M2:()=>Ta});var l=F(4650),_=F(6895),X=F(9751),Ie=F(515),Te=F(9646),Ne=F(7579),de=F(8421),Re=F(5577),Ve=F(1144),he=F(576),pe=F(3268);const ze=["addListener","removeListener"],it=["addEventListener","removeEventListener"],st=["on","off"];function Ye(f,b,u,M){if((0,he.m)(u)&&(M=u,u=void 0),M)return Ye(f,b,u).pipe((0,pe.Z)(M));const[O,W]=function He(f){return(0,he.m)(f.addEventListener)&&(0,he.m)(f.removeEventListener)}(f)?it.map(Me=>Ue=>f[Me](b,Ue,u)):function ft(f){return(0,he.m)(f.addListener)&&(0,he.m)(f.removeListener)}(f)?ze.map(Gt(f,b)):function ot(f){return(0,he.m)(f.on)&&(0,he.m)(f.off)}(f)?st.map(Gt(f,b)):[];if(!O&&(0,Ve.z)(f))return(0,Re.z)(Me=>Ye(Me,b,u))((0,de.Xf)(f));if(!O)throw new TypeError("Invalid event target");return new X.y(Me=>{const Ue=(...Be)=>Me.next(1<Be.length?Be:Be[0]);return O(Ue),()=>W(Ue)})}function Gt(f,b){return u=>M=>f[u](b,M)}var s1=F(4986),at=F(3532);function tt(f=0,b,u=s1.P){let M=-1;return null!=b&&((0,at.K)(b)?u=b:M=b),new X.y(O=>{let W=function ht(f){return f instanceof Date&&!isNaN(f)}(f)?+f-u.now():f;W<0&&(W=0);let Me=0;return u.schedule(function(){O.closed||(O.next(Me++),0<=M?this.schedule(void 0,M):O.complete())},W)})}const{isArray:Pt}=Array;function Ct(f){return 1===f.length&&Pt(f[0])?f[0]:f}var ce=F(5403);function et(...f){return 1===(f=Ct(f)).length?(0,de.Xf)(f[0]):new X.y(function we(f){return b=>{let u=[];for(let M=0;u&&!b.closed&&M<f.length;M++)u.push((0,de.Xf)(f[M]).subscribe((0,ce.x)(b,O=>{if(u){for(let W=0;W<u.length;W++)W!==M&&u[W].unsubscribe();u=null}b.next(O)})))}}(f))}F(1135),F(9841);var Fe=F(5032);new X.y(Fe.Z);var y1=F(3269);function B1(...f){const b=(0,y1.jO)(f),u=Ct(f);return u.length?new X.y(M=>{let O=u.map(()=>[]),W=u.map(()=>!1);M.add(()=>{O=W=null});for(let Me=0;!M.closed&&Me<u.length;Me++)(0,de.Xf)(u[Me]).subscribe((0,ce.x)(M,Ue=>{if(O[Me].push(Ue),O.every(Be=>Be.length)){const Be=O.map(Et=>Et.shift());M.next(b?b(...Be):Be),O.some((Et,It)=>!Et.length&&W[It])&&M.complete()}},()=>{W[Me]=!0,!O[Me].length&&M.complete()}));return()=>{O=W=null}}):Ie.E}var O1=F(7272),x1=F(2722),S1=F(9300),T1=F(5698),D1=F(4004),dn=(F(8675),F(1884),F(3900)),Mn=F(8505),In=F(4482),Vn=F(4671);function Yn(...f){const b=(0,y1.jO)(f);return(0,In.e)((u,M)=>{const O=f.length,W=new Array(O);let Me=f.map(()=>!1),Ue=!1;for(let Be=0;Be<O;Be++)(0,de.Xf)(f[Be]).subscribe((0,ce.x)(M,Et=>{W[Be]=Et,!Ue&&!Me[Be]&&(Me[Be]=!0,(Ue=Me.every(Vn.y))&&(Me=null))},Fe.Z));u.subscribe((0,ce.x)(M,Be=>{if(Ue){const Et=[Be,...W];M.next(b?b(...Et):Et)}}))})}var Jn=F(9718);function Z1(f,b){return b?u=>(0,O1.z)(b.pipe((0,T1.q)(1),function Hn(){return(0,In.e)((f,b)=>{f.subscribe((0,ce.x)(b,Fe.Z))})}()),u.pipe(Z1(f))):(0,Re.z)((u,M)=>f(u,M).pipe((0,T1.q)(1),(0,Jn.h)(u)))}var Wt=F(433),Cn={left:"right",right:"left",bottom:"top",top:"bottom"};function Nn(f){return f.replace(/left|right|bottom|top/g,function(b){return Cn[b]})}function pn(f){return f.split("-")[0]}var N2={start:"end",end:"start"};function R2(f){return f.replace(/start|end/g,function(b){return N2[b]})}var u1="top",ct="bottom",Ae="right",be="left",lt="auto",Mt=[u1,ct,Ae,be],d1="start",b1="end",Yt="viewport",yn="popper",Xn=Mt.reduce(function(f,b){return f.concat([b+"-"+d1,b+"-"+b1])},[]),nn=[].concat(Mt,[lt]).reduce(function(f,b){return f.concat([b,b+"-"+d1,b+"-"+b1])},[]),De=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Pe(f){if(null==f)return window;if("[object Window]"!==f.toString()){var b=f.ownerDocument;return b&&b.defaultView||window}return f}function wt(f){return f instanceof Pe(f).Element||f instanceof Element}function Ze(f){return f instanceof Pe(f).HTMLElement||f instanceof HTMLElement}function o1(f){return!(typeof ShadowRoot>"u")&&(f instanceof Pe(f).ShadowRoot||f instanceof ShadowRoot)}function n1(f){return((wt(f)?f.ownerDocument:f.document)||window.document).documentElement}var U1=Math.max,cn=Math.min,q1=Math.round;function Ee(){var f=navigator.userAgentData;return null!=f&&f.brands?f.brands.map(function(b){return b.brand+"/"+b.version}).join(" "):navigator.userAgent}function me(){return!/^((?!chrome|android).)*safari/i.test(Ee())}function le(f,b,u){void 0===b&&(b=!1),void 0===u&&(u=!1);var M=f.getBoundingClientRect(),O=1,W=1;b&&Ze(f)&&(O=f.offsetWidth>0&&q1(M.width)/f.offsetWidth||1,W=f.offsetHeight>0&&q1(M.height)/f.offsetHeight||1);var Ue=(wt(f)?Pe(f):window).visualViewport,Be=!me()&&u,Et=(M.left+(Be&&Ue?Ue.offsetLeft:0))/O,It=(M.top+(Be&&Ue?Ue.offsetTop:0))/W,F1=M.width/O,N1=M.height/W;return{width:F1,height:N1,top:It,right:Et+F1,bottom:It+N1,left:Et,x:Et,y:It}}function We(f){var b=Pe(f);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function _t(f){return le(n1(f)).left+We(f).scrollLeft}function A1(f){return Pe(f).getComputedStyle(f)}function xn(f){return f?(f.nodeName||"").toLowerCase():null}function k2(f){return"html"===xn(f)?f:f.assignedSlot||f.parentNode||(o1(f)?f.host:null)||n1(f)}function J1(f){var b=A1(f);return/auto|scroll|overlay|hidden/.test(b.overflow+b.overflowY+b.overflowX)}function Rn(f){return["html","body","#document"].indexOf(xn(f))>=0?f.ownerDocument.body:Ze(f)&&J1(f)?f:Rn(k2(f))}function A2(f,b){var u;void 0===b&&(b=[]);var M=Rn(f),O=M===(null==(u=f.ownerDocument)?void 0:u.body),W=Pe(M),Me=O?[W].concat(W.visualViewport||[],J1(M)?M:[]):M,Ue=b.concat(Me);return O?Ue:Ue.concat(A2(k2(Me)))}function bi(f){return["table","td","th"].indexOf(xn(f))>=0}function W2(f){return Ze(f)&&"fixed"!==A1(f).position?f.offsetParent:null}function q2(f){for(var b=Pe(f),u=W2(f);u&&bi(u)&&"static"===A1(u).position;)u=W2(u);return u&&("html"===xn(u)||"body"===xn(u)&&"static"===A1(u).position)?b:u||function v2(f){var b=/firefox/i.test(Ee());if(/Trident/i.test(Ee())&&Ze(f)&&"fixed"===A1(f).position)return null;var O=k2(f);for(o1(O)&&(O=O.host);Ze(O)&&["html","body"].indexOf(xn(O))<0;){var W=A1(O);if("none"!==W.transform||"none"!==W.perspective||"paint"===W.contain||-1!==["transform","perspective"].indexOf(W.willChange)||b&&"filter"===W.willChange||b&&W.filter&&"none"!==W.filter)return O;O=O.parentNode}return null}(f)||b}function w2(f,b){var u=b.getRootNode&&b.getRootNode();if(f.contains(b))return!0;if(u&&o1(u)){var M=b;do{if(M&&f.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function I2(f){return Object.assign({},f,{left:f.x,top:f.y,right:f.x+f.width,bottom:f.y+f.height})}function Ni(f,b,u){return b===Yt?I2(function Qt(f,b){var u=Pe(f),M=n1(f),O=u.visualViewport,W=M.clientWidth,Me=M.clientHeight,Ue=0,Be=0;if(O){W=O.width,Me=O.height;var Et=me();(Et||!Et&&"fixed"===b)&&(Ue=O.offsetLeft,Be=O.offsetTop)}return{width:W,height:Me,x:Ue+_t(f),y:Be}}(f,u)):wt(b)?function p2(f,b){var u=le(f,!1,"fixed"===b);return u.top=u.top+f.clientTop,u.left=u.left+f.clientLeft,u.bottom=u.top+f.clientHeight,u.right=u.left+f.clientWidth,u.width=f.clientWidth,u.height=f.clientHeight,u.x=u.left,u.y=u.top,u}(b,u):I2(function Y1(f){var b,u=n1(f),M=We(f),O=null==(b=f.ownerDocument)?void 0:b.body,W=U1(u.scrollWidth,u.clientWidth,O?O.scrollWidth:0,O?O.clientWidth:0),Me=U1(u.scrollHeight,u.clientHeight,O?O.scrollHeight:0,O?O.clientHeight:0),Ue=-M.scrollLeft+_t(f),Be=-M.scrollTop;return"rtl"===A1(O||u).direction&&(Ue+=U1(u.clientWidth,O?O.clientWidth:0)-W),{width:W,height:Me,x:Ue,y:Be}}(n1(f)))}function H2(f){return f.split("-")[1]}function K2(f){return["top","bottom"].indexOf(f)>=0?"x":"y"}function Y2(f){var Be,b=f.reference,u=f.element,M=f.placement,O=M?pn(M):null,W=M?H2(M):null,Me=b.x+b.width/2-u.width/2,Ue=b.y+b.height/2-u.height/2;switch(O){case u1:Be={x:Me,y:b.y-u.height};break;case ct:Be={x:Me,y:b.y+b.height};break;case Ae:Be={x:b.x+b.width,y:Ue};break;case be:Be={x:b.x-u.width,y:Ue};break;default:Be={x:b.x,y:b.y}}var Et=O?K2(O):null;if(null!=Et){var It="y"===Et?"height":"width";switch(W){case d1:Be[Et]=Be[Et]-(b[It]/2-u[It]/2);break;case b1:Be[Et]=Be[Et]+(b[It]/2-u[It]/2)}}return Be}function di(f){return Object.assign({},{top:0,right:0,bottom:0,left:0},f)}function F2(f,b){return b.reduce(function(u,M){return u[M]=f,u},{})}function jn(f,b){void 0===b&&(b={});var M=b.placement,O=void 0===M?f.placement:M,W=b.strategy,Me=void 0===W?f.strategy:W,Ue=b.boundary,Be=void 0===Ue?"clippingParents":Ue,Et=b.rootBoundary,It=void 0===Et?Yt:Et,F1=b.elementContext,N1=void 0===F1?yn:F1,G1=b.altBoundary,V2=void 0!==G1&&G1,gn=b.padding,On=void 0===gn?0:gn,n2=di("number"!=typeof On?On:F2(On,Mt)),_i=f.rects.popper,u2=f.elements[V2?N1===yn?"reference":yn:N1],M2=function Pr(f,b,u,M){var O="clippingParents"===b?function zn(f){var b=A2(k2(f)),M=["absolute","fixed"].indexOf(A1(f).position)>=0&&Ze(f)?q2(f):f;return wt(M)?b.filter(function(O){return wt(O)&&w2(O,M)&&"body"!==xn(O)}):[]}(f):[].concat(b),W=[].concat(O,[u]),Ue=W.reduce(function(Be,Et){var It=Ni(f,Et,M);return Be.top=U1(It.top,Be.top),Be.right=cn(It.right,Be.right),Be.bottom=cn(It.bottom,Be.bottom),Be.left=U1(It.left,Be.left),Be},Ni(f,W[0],M));return Ue.width=Ue.right-Ue.left,Ue.height=Ue.bottom-Ue.top,Ue.x=Ue.left,Ue.y=Ue.top,Ue}(wt(u2)?u2:u2.contextElement||n1(f.elements.popper),Be,It,Me),T2=le(f.elements.reference),Ti=Y2({reference:T2,element:_i,strategy:"absolute",placement:O}),ci=I2(Object.assign({},_i,Ti)),jr=N1===yn?ci:T2,ji={top:M2.top-jr.top+n2.top,bottom:jr.bottom-M2.bottom+n2.bottom,left:M2.left-jr.left+n2.left,right:jr.right-M2.right+n2.right},Dr=f.modifiersData.offset;if(N1===yn&&Dr){var Ao=Dr[O];Object.keys(ji).forEach(function(Es){var T4=[Ae,ct].indexOf(Es)>=0?1:-1,Zo=[u1,ct].indexOf(Es)>=0?"y":"x";ji[Es]+=Ao[Zo]*T4})}return ji}const ur={name:"flip",enabled:!0,phase:"main",fn:function P2(f){var b=f.state,u=f.options,M=f.name;if(!b.modifiersData[M]._skip){for(var O=u.mainAxis,W=void 0===O||O,Me=u.altAxis,Ue=void 0===Me||Me,Be=u.fallbackPlacements,Et=u.padding,It=u.boundary,F1=u.rootBoundary,N1=u.altBoundary,G1=u.flipVariations,V2=void 0===G1||G1,gn=u.allowedAutoPlacements,On=b.options.placement,n2=pn(On),_i=Be||(n2!==On&&V2?function Ln(f){if(pn(f)===lt)return[];var b=Nn(f);return[R2(f),b,R2(b)]}(On):[Nn(On)]),u2=[On].concat(_i).reduce(function(lr,go){return lr.concat(pn(go)===lt?function ki(f,b){void 0===b&&(b={});var O=b.boundary,W=b.rootBoundary,Me=b.padding,Ue=b.flipVariations,Be=b.allowedAutoPlacements,Et=void 0===Be?nn:Be,It=H2(b.placement),F1=It?Ue?Xn:Xn.filter(function(V2){return H2(V2)===It}):Mt,N1=F1.filter(function(V2){return Et.indexOf(V2)>=0});0===N1.length&&(N1=F1);var G1=N1.reduce(function(V2,gn){return V2[gn]=jn(f,{placement:gn,boundary:O,rootBoundary:W,padding:Me})[pn(gn)],V2},{});return Object.keys(G1).sort(function(V2,gn){return G1[V2]-G1[gn]})}(b,{placement:go,boundary:It,rootBoundary:F1,padding:Et,flipVariations:V2,allowedAutoPlacements:gn}):go)},[]),M2=b.rects.reference,T2=b.rects.popper,Ti=new Map,ci=!0,jr=u2[0],ji=0;ji<u2.length;ji++){var Dr=u2[ji],Ao=pn(Dr),Es=H2(Dr)===d1,T4=[u1,ct].indexOf(Ao)>=0,Zo=T4?"width":"height",Hs=jn(b,{placement:Dr,boundary:It,rootBoundary:F1,altBoundary:N1,padding:Et}),Io=T4?Es?Ae:be:Es?ct:u1;M2[Zo]>T2[Zo]&&(Io=Nn(Io));var I3=Nn(Io),xo=[];if(W&&xo.push(Hs[Ao]<=0),Ue&&xo.push(Hs[Io]<=0,Hs[I3]<=0),xo.every(function(lr){return lr})){jr=Dr,ci=!1;break}Ti.set(Dr,xo)}if(ci)for(var N4=function(go){var n4=u2.find(function(J4){var Va=Ti.get(J4);if(Va)return Va.slice(0,go).every(function(fa){return fa})});if(n4)return jr=n4,"break"},da=V2?3:1;da>0&&"break"!==N4(da);da--);b.placement!==jr&&(b.modifiersData[M]._skip=!0,b.placement=jr,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function dr(f,b,u){return U1(f,cn(b,u))}function Tr(f){var b=le(f),u=f.offsetWidth,M=f.offsetHeight;return Math.abs(b.width-u)<=1&&(u=b.width),Math.abs(b.height-M)<=1&&(M=b.height),{x:f.offsetLeft,y:f.offsetTop,width:u,height:M}}const ms={name:"preventOverflow",enabled:!0,phase:"main",fn:function Vr(f){var b=f.state,u=f.options,M=f.name,O=u.mainAxis,W=void 0===O||O,Me=u.altAxis,Ue=void 0!==Me&&Me,N1=u.tether,G1=void 0===N1||N1,V2=u.tetherOffset,gn=void 0===V2?0:V2,On=jn(b,{boundary:u.boundary,rootBoundary:u.rootBoundary,padding:u.padding,altBoundary:u.altBoundary}),n2=pn(b.placement),Bn=H2(b.placement),_i=!Bn,u2=K2(n2),M2=function Ci(f){return"x"===f?"y":"x"}(u2),T2=b.modifiersData.popperOffsets,Ti=b.rects.reference,ci=b.rects.popper,jr="function"==typeof gn?gn(Object.assign({},b.rects,{placement:b.placement})):gn,ji="number"==typeof jr?{mainAxis:jr,altAxis:jr}:Object.assign({mainAxis:0,altAxis:0},jr),Dr=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,Ao={x:0,y:0};if(T2){if(W){var Es,T4="y"===u2?u1:be,Zo="y"===u2?ct:Ae,Hs="y"===u2?"height":"width",Io=T2[u2],I3=Io+On[T4],xo=Io-On[Zo],Y4=G1?-ci[Hs]/2:0,N4=Bn===d1?Ti[Hs]:ci[Hs],da=Bn===d1?-ci[Hs]:-Ti[Hs],x3=b.elements.arrow,lr=G1&&x3?Tr(x3):{width:0,height:0},go=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},n4=go[T4],J4=go[Zo],Va=dr(0,Ti[Hs],lr[Hs]),fa=_i?Ti[Hs]/2-Y4-Va-n4-ji.mainAxis:N4-Va-n4-ji.mainAxis,Q4=_i?-Ti[Hs]/2+Y4+Va+J4+ji.mainAxis:da+Va+J4+ji.mainAxis,d6=b.elements.arrow&&q2(b.elements.arrow),Y6=null!=(Es=Dr?.[u2])?Es:0,f6=Io+Q4-Y6,Ha=dr(G1?cn(I3,Io+fa-Y6-(d6?"y"===u2?d6.clientTop||0:d6.clientLeft||0:0)):I3,Io,G1?U1(xo,f6):xo);T2[u2]=Ha,Ao[u2]=Ha-Io}if(Ue){var z3,A4=T2[M2],h6="y"===M2?"height":"width",O3=A4+On["x"===u2?u1:be],J6=A4-On["x"===u2?ct:Ae],Q6=-1!==[u1,be].indexOf(n2),X6=null!=(z3=Dr?.[M2])?z3:0,I4=Q6?O3:A4-Ti[h6]-ci[h6]-X6+ji.altAxis,Wo=Q6?A4+Ti[h6]+ci[h6]-X6-ji.altAxis:J6,s4=G1&&Q6?function x2(f,b,u){var M=dr(f,b,u);return M>u?u:M}(I4,A4,Wo):dr(G1?I4:O3,A4,G1?Wo:J6);T2[M2]=s4,Ao[M2]=s4-A4}b.modifiersData[M]=Ao}},requiresIfExists:["offset"]},Ke={name:"arrow",enabled:!0,phase:"main",fn:function gs(f){var b,u=f.state,M=f.name,O=f.options,W=u.elements.arrow,Me=u.modifiersData.popperOffsets,Ue=pn(u.placement),Be=K2(Ue),It=[be,Ae].indexOf(Ue)>=0?"height":"width";if(W&&Me){var F1=function(b,u){return di("number"!=typeof(b="function"==typeof b?b(Object.assign({},u.rects,{placement:u.placement})):b)?b:F2(b,Mt))}(O.padding,u),N1=Tr(W),G1="y"===Be?u1:be,V2="y"===Be?ct:Ae,gn=u.rects.reference[It]+u.rects.reference[Be]-Me[Be]-u.rects.popper[It],On=Me[Be]-u.rects.reference[Be],n2=q2(W),Bn=n2?"y"===Be?n2.clientHeight||0:n2.clientWidth||0:0,T2=Bn/2-N1[It]/2+(gn/2-On/2),Ti=dr(F1[G1],T2,Bn-N1[It]-F1[V2]);u.modifiersData[M]=((b={})[Be]=Ti,b.centerOffset=Ti-T2,b)}},effect:function y2(f){var b=f.state,M=f.options.element,O=void 0===M?"[data-popper-arrow]":M;null!=O&&("string"==typeof O&&!(O=b.elements.popper.querySelector(O))||!w2(b.elements.popper,O)||(b.elements.arrow=O))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xt(f,b,u){void 0===u&&(u=!1);var M=Ze(b),O=Ze(b)&&function At(f){var b=f.getBoundingClientRect(),u=q1(b.width)/f.offsetWidth||1,M=q1(b.height)/f.offsetHeight||1;return 1!==u||1!==M}(b),W=n1(b),Me=le(f,O,u),Ue={scrollLeft:0,scrollTop:0},Be={x:0,y:0};return(M||!M&&!u)&&(("body"!==xn(b)||J1(W))&&(Ue=function Xe(f){return f!==Pe(f)&&Ze(f)?function je(f){return{scrollLeft:f.scrollLeft,scrollTop:f.scrollTop}}(f):We(f)}(b)),Ze(b)?((Be=le(b,!0)).x+=b.clientLeft,Be.y+=b.clientTop):W&&(Be.x=_t(W))),{x:Me.left+Ue.scrollLeft-Be.x,y:Me.top+Ue.scrollTop-Be.y,width:Me.width,height:Me.height}}function z1(f){var b=new Map,u=new Set,M=[];function O(W){u.add(W.name),[].concat(W.requires||[],W.requiresIfExists||[]).forEach(function(Ue){if(!u.has(Ue)){var Be=b.get(Ue);Be&&O(Be)}}),M.push(W)}return f.forEach(function(W){b.set(W.name,W)}),f.forEach(function(W){u.has(W.name)||O(W)}),M}function kn(f){var b;return function(){return b||(b=new Promise(function(u){Promise.resolve().then(function(){b=void 0,u(f())})})),b}}var ii={placement:"bottom",modifiers:[],strategy:"absolute"};function ri(){for(var f=arguments.length,b=new Array(f),u=0;u<f;u++)b[u]=arguments[u];return!b.some(function(M){return!(M&&"function"==typeof M.getBoundingClientRect)})}function fr(f){void 0===f&&(f={});var u=f.defaultModifiers,M=void 0===u?[]:u,O=f.defaultOptions,W=void 0===O?ii:O;return function(Ue,Be,Et){void 0===Et&&(Et=W);var It={placement:"bottom",orderedModifiers:[],options:Object.assign({},ii,W),modifiersData:{},elements:{reference:Ue,popper:Be},attributes:{},styles:{}},F1=[],N1=!1,G1={state:It,setOptions:function(n2){var Bn="function"==typeof n2?n2(It.options):n2;gn(),It.options=Object.assign({},W,It.options,Bn),It.scrollParents={reference:wt(Ue)?A2(Ue):Ue.contextElement?A2(Ue.contextElement):[],popper:A2(Be)};var _i=function Q1(f){var b=z1(f);return De.reduce(function(u,M){return u.concat(b.filter(function(O){return O.phase===M}))},[])}(function wn(f){var b=f.reduce(function(u,M){var O=u[M.name];return u[M.name]=O?Object.assign({},O,M,{options:Object.assign({},O.options,M.options),data:Object.assign({},O.data,M.data)}):M,u},{});return Object.keys(b).map(function(u){return b[u]})}([].concat(M,It.options.modifiers)));return It.orderedModifiers=_i.filter(function(Dr){return Dr.enabled}),function V2(){It.orderedModifiers.forEach(function(On){var Bn=On.options,u2=On.effect;if("function"==typeof u2){var M2=u2({state:It,name:On.name,instance:G1,options:void 0===Bn?{}:Bn});F1.push(M2||function(){})}})}(),G1.update()},forceUpdate:function(){if(!N1){var n2=It.elements,Bn=n2.reference,_i=n2.popper;if(ri(Bn,_i)){It.rects={reference:Xt(Bn,q2(_i),"fixed"===It.options.strategy),popper:Tr(_i)},It.reset=!1,It.placement=It.options.placement,It.orderedModifiers.forEach(function(Dr){return It.modifiersData[Dr.name]=Object.assign({},Dr.data)});for(var M2=0;M2<It.orderedModifiers.length;M2++)if(!0!==It.reset){var T2=It.orderedModifiers[M2],Ti=T2.fn,ci=T2.options;"function"==typeof Ti&&(It=Ti({state:It,options:void 0===ci?{}:ci,name:T2.name,instance:G1})||It)}else It.reset=!1,M2=-1}}},update:kn(function(){return new Promise(function(On){G1.forceUpdate(),On(It)})}),destroy:function(){gn(),N1=!0}};if(!ri(Ue,Be))return G1;function gn(){F1.forEach(function(On){return On()}),F1=[]}return G1.setOptions(Et).then(function(On){!N1&&Et.onFirstUpdate&&Et.onFirstUpdate(On)}),G1}}var Pi={passive:!0},J2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function s2(f){var b,u=f.popper,M=f.popperRect,O=f.placement,W=f.variation,Me=f.offsets,Ue=f.position,Be=f.gpuAcceleration,Et=f.adaptive,It=f.roundOffsets,F1=f.isFixed,N1=Me.x,G1=void 0===N1?0:N1,V2=Me.y,gn=void 0===V2?0:V2,On="function"==typeof It?It({x:G1,y:gn}):{x:G1,y:gn};G1=On.x,gn=On.y;var n2=Me.hasOwnProperty("x"),Bn=Me.hasOwnProperty("y"),_i=be,u2=u1,M2=window;if(Et){var T2=q2(u),Ti="clientHeight",ci="clientWidth";T2===Pe(u)&&"static"!==A1(T2=n1(u)).position&&"absolute"===Ue&&(Ti="scrollHeight",ci="scrollWidth"),(O===u1||(O===be||O===Ae)&&W===b1)&&(u2=ct,gn-=(F1&&T2===M2&&M2.visualViewport?M2.visualViewport.height:T2[Ti])-M.height,gn*=Be?1:-1),O!==be&&(O!==u1&&O!==ct||W!==b1)||(_i=Ae,G1-=(F1&&T2===M2&&M2.visualViewport?M2.visualViewport.width:T2[ci])-M.width,G1*=Be?1:-1)}var Es,Dr=Object.assign({position:Ue},Et&&J2),Ao=!0===It?function Nr(f){var u=f.y,O=window.devicePixelRatio||1;return{x:q1(f.x*O)/O||0,y:q1(u*O)/O||0}}({x:G1,y:gn}):{x:G1,y:gn};return G1=Ao.x,gn=Ao.y,Object.assign({},Dr,Be?((Es={})[u2]=Bn?"0":"",Es[_i]=n2?"0":"",Es.transform=(M2.devicePixelRatio||1)<=1?"translate("+G1+"px, "+gn+"px)":"translate3d("+G1+"px, "+gn+"px, 0)",Es):((b={})[u2]=Bn?gn+"px":"",b[_i]=n2?G1+"px":"",b.transform="",b))}var Vi=fr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Zr(f){var b=f.state,u=f.instance,M=f.options,O=M.scroll,W=void 0===O||O,Me=M.resize,Ue=void 0===Me||Me,Be=Pe(b.elements.popper),Et=[].concat(b.scrollParents.reference,b.scrollParents.popper);return W&&Et.forEach(function(It){It.addEventListener("scroll",u.update,Pi)}),Ue&&Be.addEventListener("resize",u.update,Pi),function(){W&&Et.forEach(function(It){It.removeEventListener("scroll",u.update,Pi)}),Ue&&Be.removeEventListener("resize",u.update,Pi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function fi(f){var b=f.state;b.modifiersData[f.name]=Y2({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function hr(f){var b=f.state,u=f.options,M=u.gpuAcceleration,O=void 0===M||M,W=u.adaptive,Me=void 0===W||W,Ue=u.roundOffsets,Be=void 0===Ue||Ue,It={placement:pn(b.placement),variation:H2(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:O,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,s2(Object.assign({},It,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:Me,roundOffsets:Be})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,s2(Object.assign({},It,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Be})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function hi(f){var b=f.state;Object.keys(b.elements).forEach(function(u){var M=b.styles[u]||{},O=b.attributes[u]||{},W=b.elements[u];!Ze(W)||!xn(W)||(Object.assign(W.style,M),Object.keys(O).forEach(function(Me){var Ue=O[Me];!1===Ue?W.removeAttribute(Me):W.setAttribute(Me,!0===Ue?"":Ue)}))})},effect:function Mi(f){var b=f.state,u={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,u.popper),b.styles=u,b.elements.arrow&&Object.assign(b.elements.arrow.style,u.arrow),function(){Object.keys(b.elements).forEach(function(M){var O=b.elements[M],W=b.attributes[M]||{},Ue=Object.keys(b.styles.hasOwnProperty(M)?b.styles[M]:u[M]).reduce(function(Be,Et){return Be[Et]="",Be},{});!Ze(O)||!xn(O)||(Object.assign(O.style,Ue),Object.keys(W).forEach(function(Be){O.removeAttribute(Be)}))})}},requires:["computeStyles"]}]});const Ii={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function o2(f){var b=f.state,M=f.name,O=f.options.offset,W=void 0===O?[0,0]:O,Me=nn.reduce(function(It,F1){return It[F1]=function mr(f,b,u){var M=pn(f),O=[be,u1].indexOf(M)>=0?-1:1,W="function"==typeof u?u(Object.assign({},b,{placement:f})):u,Me=W[0],Ue=W[1];return Me=Me||0,Ue=(Ue||0)*O,[be,Ae].indexOf(M)>=0?{x:Ue,y:Me}:{x:Me,y:Ue}}(F1,b.rects,W),It},{}),Ue=Me[b.placement],Et=Ue.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=Ue.x,b.modifiersData.popperOffsets.y+=Et),b.modifiersData[M]=Me}},Hi=["*"],M1=["dialog"];function G2(f){return"string"==typeof f}function $2(f){return null!=f}function Cr(f){return(f||document.body).getBoundingClientRect()}const or={animation:!0,transitionTimerDelayMs:5},So=()=>{},{transitionTimerDelayMs:D2}=or,P1=new Map,Kn=(f,b,u,M)=>{let O=M.context||{};const W=P1.get(b);if(W)switch(M.runningTransition){case"continue":return Ie.E;case"stop":f.run(()=>W.transition$.complete()),O=Object.assign(W.context,O),P1.delete(b)}const Me=u(b,M.animation,O)||So;if(!M.animation||"none"===window.getComputedStyle(b).transitionProperty)return f.run(()=>Me()),(0,Te.of)(void 0).pipe(function Eo(f){return b=>new X.y(u=>b.subscribe({next:Me=>f.run(()=>u.next(Me)),error:Me=>f.run(()=>u.error(Me)),complete:()=>f.run(()=>u.complete())}))}(f));const Ue=new Ne.x,Be=new Ne.x,Et=Ue.pipe(function Vt(...f){return b=>(0,O1.z)(b,(0,Te.of)(...f))}(!0));P1.set(b,{transition$:Ue,complete:()=>{Be.next(),Be.complete()},context:O});const It=function X1(f){const{transitionDelay:b,transitionDuration:u}=window.getComputedStyle(f);return 1e3*(parseFloat(b)+parseFloat(u))}(b);return f.runOutsideAngular(()=>{const F1=Ye(b,"transitionend").pipe((0,x1.R)(Et),(0,S1.h)(({target:G1})=>G1===b));et(tt(It+D2).pipe((0,x1.R)(Et)),F1,Be).pipe((0,x1.R)(Et)).subscribe(()=>{P1.delete(b),f.run(()=>{Me(),Ue.next(),Ue.complete()})})}),Ue.asObservable()},Fn=(f,b,u)=>{let{direction:M,maxHeight:O}=u;const{classList:W}=f;function Me(){W.add("collapse"),"show"===M?W.add("show"):W.remove("show")}if(b)return O||(O=function co(f){if(typeof navigator>"u")return"0px";const{classList:b}=f,u=b.contains("show");u||b.add("show"),f.style.height="";const M=f.getBoundingClientRect().height+"px";return u||b.remove("show"),M}(f),u.maxHeight=O,f.style.height="show"!==M?O:"0px",W.remove("collapse"),W.remove("collapsing"),W.remove("show"),Cr(f),W.add("collapsing")),f.style.height="show"===M?O:"0px",()=>{Me(),W.remove("collapsing"),f.style.height=""};Me()};let e1=(()=>{class f{constructor(){this.animation=or.animation}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Lo=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),ds=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),Mr=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),A=(()=>{class f{constructor(u){this._ngbConfig=u}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(e1))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),I=(()=>{class f{constructor(u,M,O){this._element=u,this._zone=O,this.collapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=M.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:u}){u.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(u=this.collapsed){this.collapsed=!u,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(u,M){return Kn(this._zone,this._element.nativeElement,Fn,{animation:M,runningTransition:"stop",context:{direction:u?"hide":"show"}})}_runTransitionWithEvents(u,M){this._runTransition(u,M).subscribe(()=>{u?this.hidden.emit():this.shown.emit()})}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.SBq),l.Y36(A),l.Y36(l.R0b))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[l.TTD]}),f})(),S=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();var ye=(()=>{return(f=ye||(ye={}))[f.Tab=9]="Tab",f[f.Enter=13]="Enter",f[f.Escape=27]="Escape",f[f.Space=32]="Space",f[f.PageUp=33]="PageUp",f[f.PageDown=34]="PageDown",f[f.End=35]="End",f[f.Home=36]="Home",f[f.ArrowLeft=37]="ArrowLeft",f[f.ArrowUp=38]="ArrowUp",f[f.ArrowRight=39]="ArrowRight",f[f.ArrowDown=40]="ArrowDown",ye;var f})();const Lt=(f,b)=>!!b&&b.some(u=>u.contains(f)),Bt=(f,b)=>!b||null!=function Q2(f,b){return!b||typeof f.closest>"u"?null:f.closest(b)}(f,b),h1=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function j1(f,b,u,M,O,W,Me,Ue){u&&f.runOutsideAngular((f=>h1?()=>setTimeout(()=>f(),100):f)(()=>{const Et=Ye(b,"keydown").pipe((0,x1.R)(O),(0,S1.h)(N1=>N1.which===ye.Escape),(0,Mn.b)(N1=>N1.preventDefault())),It=Ye(b,"mousedown").pipe((0,D1.U)(N1=>{const G1=N1.target;return 2!==N1.button&&!Lt(G1,Me)&&("inside"===u?Lt(G1,W)&&Bt(G1,Ue):"outside"===u?!Lt(G1,W):Bt(G1,Ue)||!Lt(G1,W))}),(0,x1.R)(O)),F1=Ye(b,"mouseup").pipe(Yn(It),(0,S1.h)(([N1,G1])=>G1),function vn(f,b=s1.z){const u=tt(f,b);return Z1(()=>u)}(0),(0,x1.R)(O));et([Et.pipe((0,D1.U)(N1=>0)),F1.pipe((0,D1.U)(N1=>1))]).subscribe(N1=>f.run(()=>M(N1)))}))}const t2=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Oi(f){const b=Array.from(f.querySelectorAll(t2)).filter(u=>-1!==u.tabIndex);return[b[0],b[b.length-1]]}const S2=/\s+/,ar=/  +/gi,Ur=/^start/,Ui=/^end/,Ro=/-(top|left)$/,Ns=/-(bottom|right)$/,Za=/^left/,q3=/^right/,B6=/^start/,f3=/^end/;function Wa({placement:f,baseClass:b}){let u=Array.isArray(f)?f:f.split(S2),O=u.findIndex(Be=>"auto"===Be);O>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Be){null==u.find(Et=>-1!==Et.search("^"+Be))&&u.splice(O++,1,Be)});const W=u.map(Be=>function $a(f){return f.replace(Ur,"left").replace(Ui,"right").replace(Ro,"-start").replace(Ns,"-end")}(Be));return{placement:W.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!b,phase:"write",fn({state:Be}){const Et=new RegExp(b+"(-[a-z]+)*","gi"),It=Be.elements.popper,F1=Be.placement;let N1=It.className;N1=N1.replace(Et,""),N1+=` ${function V4(f,b){let[u,M]=b.split("-");const O=u.replace(Za,"start").replace(q3,"end");let W=[O];if(M){let Me=M;("left"===u||"right"===u)&&(Me=Me.replace(B6,"top").replace(f3,"bottom")),W.push(`${O}-${Me}`)}return f&&(W=W.map(Me=>`${f}-${Me}`)),W.join(" ")}(b,F1)}`,N1=N1.trim().replace(ar," "),It.className=N1}},ur,ms,Ke,{enabled:!0,name:"flip",options:{fallbackPlacements:W}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Ca(f){return f}function g4(f){return b=>(b.modifiers.push(Ii,{name:"offset",options:{offset:()=>f}}),b)}new Date(1882,10,12),new Date(2174,10,25);let Sa=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez,Wt.u5]}),f})(),M3=(()=>{class f{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Ta=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275dir=l.lG2({type:f,selectors:[["",8,"navbar"]]}),f})(),cr=(()=>{class f{constructor(u,M){this.elementRef=u,this._renderer=M,this._disabled=!1}set disabled(u){this._disabled=""===u||!0===u,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.SBq),l.Y36(l.Qsj))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(u,M){2&u&&(l.Ikx("tabIndex",M.disabled?-1:0),l.ekj("disabled",M.disabled))},inputs:{disabled:"disabled"}}),f})(),l2=(()=>{class f{constructor(u,M){this.dropdown=u,this.placement="bottom",this.isOpen=!1,this.nativeElement=M.nativeElement}}return f.\u0275fac=function(u){return new(u||f)(l.Y36((0,l.Gpc)(()=>Vs)),l.Y36(l.SBq))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(u,M,O){if(1&u&&l.Suo(O,cr,4),2&u){let W;l.iGM(W=l.CRH())&&(M.menuItems=W)}},hostVars:4,hostBindings:function(u,M){1&u&&l.NdJ("keydown.ArrowUp",function(W){return M.dropdown.onKeyDown(W)})("keydown.ArrowDown",function(W){return M.dropdown.onKeyDown(W)})("keydown.Home",function(W){return M.dropdown.onKeyDown(W)})("keydown.End",function(W){return M.dropdown.onKeyDown(W)})("keydown.Enter",function(W){return M.dropdown.onKeyDown(W)})("keydown.Space",function(W){return M.dropdown.onKeyDown(W)})("keydown.Tab",function(W){return M.dropdown.onKeyDown(W)})("keydown.Shift.Tab",function(W){return M.dropdown.onKeyDown(W)}),2&u&&l.ekj("dropdown-menu",!0)("show",M.dropdown.isOpen())}}),f})(),Na=(()=>{class f{constructor(u,M){this.dropdown=u,this.nativeElement=M.nativeElement}}return f.\u0275fac=function(u){return new(u||f)(l.Y36((0,l.Gpc)(()=>Vs)),l.Y36(l.SBq))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(u,M){2&u&&l.uIk("aria-expanded",M.dropdown.isOpen())}}),f})(),$4=(()=>{class f extends Na{constructor(u,M){super(u,M)}}return f.\u0275fac=function(u){return new(u||f)(l.Y36((0,l.Gpc)(()=>Vs)),l.Y36(l.SBq))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(u,M){1&u&&l.NdJ("click",function(){return M.dropdown.toggle()})("keydown.ArrowUp",function(W){return M.dropdown.onKeyDown(W)})("keydown.ArrowDown",function(W){return M.dropdown.onKeyDown(W)})("keydown.Home",function(W){return M.dropdown.onKeyDown(W)})("keydown.End",function(W){return M.dropdown.onKeyDown(W)})("keydown.Tab",function(W){return M.dropdown.onKeyDown(W)})("keydown.Shift.Tab",function(W){return M.dropdown.onKeyDown(W)}),2&u&&l.uIk("aria-expanded",M.dropdown.isOpen())},features:[l._Bn([{provide:Na,useExisting:(0,l.Gpc)(()=>f)}]),l.qOj]}),f})(),Vs=(()=>{class f{constructor(u,M,O,W,Me,Ue,Be){this._changeDetector=u,this._document=O,this._ngZone=W,this._elementRef=Me,this._renderer=Ue,this._destroyCloseHandlers$=new Ne.x,this._bodyContainer=null,this._positioning=function K3(){let f=null;return{createPopper(b){if(!f){let M=(b.updatePopperOptions||Ca)(Wa(b));f=Vi(b.hostElement,b.targetElement,M)}},update(){f&&f.update()},setOptions(b){if(f){let M=(b.updatePopperOptions||Ca)(Wa(b));f.setOptions(M)}},destroy(){f&&(f.destroy(),f=null)}}}(),this._open=!1,this.openChange=new l.vpe,this.placement=M.placement,this.container=M.container,this.autoClose=M.autoClose,this.display=Be?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,T1.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(u){if(u.container&&this._open&&this._applyContainer(this.container),u.placement&&!u.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),u.dropdownClass){const{currentValue:M,previousValue:O}=u.dropdownClass;this._applyCustomDropdownClass(M,O)}u.autoClose&&this._open&&(this.autoClose=u.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:g4([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),j1(this._ngZone,this._document,this.autoClose,u=>{this.close(),0===u&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(u){const M=u.which,O=this._getMenuElements();let W=-1,Me=null;const Ue=this._isEventFromToggle(u);if(!Ue&&O.length&&O.forEach((Be,Et)=>{Be.contains(u.target)&&(Me=Be),Be===this._document.activeElement&&(W=Et)}),M!==ye.Space&&M!==ye.Enter){if(M!==ye.Tab){if(Ue||Me){if(this.open(),O.length){switch(M){case ye.ArrowDown:W=Math.min(W+1,O.length-1);break;case ye.ArrowUp:if(this._isDropup()&&-1===W){W=O.length-1;break}W=Math.max(W-1,0);break;case ye.Home:W=0;break;case ye.End:W=O.length-1}O[W].focus()}u.preventDefault()}}else if(u.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===u.target)return void("body"!==this.container||u.shiftKey?u.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const Be=this._menu.nativeElement.querySelectorAll(t2);u.shiftKey&&u.target===Be[0]?(this._anchor.nativeElement.focus(),u.preventDefault()):!u.shiftKey&&u.target===Be[Be.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Ye(u.target,"focusout").pipe((0,T1.q)(1)).subscribe(({relatedTarget:Be})=>{this._elementRef.nativeElement.contains(Be)||this.close()})}}else Me&&(!0===this.autoClose||"inside"===this.autoClose)&&Ye(Me,"click").pipe((0,T1.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(u){return this._anchor.nativeElement.contains(u.target)}_getMenuElements(){const u=this._menu;return null==u?[]:u.menuItems.filter(M=>!M.disabled).map(M=>M.elementRef.nativeElement)}_positionMenu(){const u=this._menu;this.isOpen()&&u&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(u){return Array.isArray(u)?u[0]:u.split(" ")[0]}_resetContainer(){const u=this._renderer;this._menu&&u.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(u.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(u=null){if(this._resetContainer(),"body"===u){const M=this._renderer,O=this._menu.nativeElement,W=this._bodyContainer=this._bodyContainer||M.createElement("div");M.setStyle(W,"position","absolute"),M.setStyle(O,"position","static"),M.setStyle(W,"z-index","1055"),M.appendChild(W,O),M.appendChild(this._document.body,W)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(u,M){const O="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;O&&(M&&this._renderer.removeClass(O,M),u&&this._renderer.addClass(O,u))}_applyPlacementClasses(u){const M=this._menu;if(M){u||(u=this._getFirstPlacement(this.placement));const O=this._renderer,W=this._elementRef.nativeElement;O.removeClass(W,"dropup"),O.removeClass(W,"dropdown");const{nativeElement:Me}=M;"static"===this.display?(M.placement=null,O.setAttribute(Me,"data-bs-popper","static")):(M.placement=u,O.removeAttribute(Me,"data-bs-popper"));const Ue=-1!==u.search("^top")?"dropup":"dropdown";O.addClass(W,Ue);const Be=this._bodyContainer;Be&&(O.removeClass(Be,"dropup"),O.removeClass(Be,"dropdown"),O.addClass(Be,Ue))}}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.sBO),l.Y36(M3),l.Y36(_.K0),l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ta,8))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdown",""]],contentQueries:function(u,M,O){if(1&u&&(l.Suo(O,l2,5),l.Suo(O,Na,5)),2&u){let W;l.iGM(W=l.CRH())&&(M._menu=W.first),l.iGM(W=l.CRH())&&(M._anchor=W.first)}},hostVars:2,hostBindings:function(u,M){2&u&&l.ekj("show",M.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[l.TTD]}),f})(),hs=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();class ho{constructor(b,u,M){this.nodes=b,this.viewRef=u,this.componentRef=M}}let Bo=(()=>{class f{constructor(u,M){this._el=u,this._zone=M}ngOnInit(){this._zone.onStable.asObservable().pipe((0,T1.q)(1)).subscribe(()=>{Kn(this._zone,this._el.nativeElement,(u,M)=>{M&&Cr(u),u.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Kn(this._zone,this._el.nativeElement,({classList:u})=>u.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.SBq),l.Y36(l.R0b))},f.\u0275cmp=l.Xpm({type:f,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(u,M){2&u&&(l.Tol("modal-backdrop"+(M.backdropClass?" "+M.backdropClass:"")),l.ekj("show",!M.animation)("fade",M.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(u,M){},encapsulation:2}),f})();class qs{close(b){}dismiss(b){}}class M4{constructor(b,u,M,O){this._windowCmptRef=b,this._contentRef=u,this._backdropCmptRef=M,this._beforeDismiss=O,this._closed=new Ne.x,this._dismissed=new Ne.x,this._hidden=new Ne.x,b.instance.dismissEvent.subscribe(W=>{this.dismiss(W)}),this.result=new Promise((W,Me)=>{this._resolve=W,this._reject=Me}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,x1.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,x1.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(b){this._windowCmptRef&&(this._closed.next(b),this._resolve(b),this._removeModalElements())}_dismiss(b){this._dismissed.next(b),this._reject(b),this._removeModalElements()}dismiss(b){if(this._windowCmptRef)if(this._beforeDismiss){const u=this._beforeDismiss();!function Xs(f){return f&&f.then}(u)?!1!==u&&this._dismiss(b):u.then(M=>{!1!==M&&this._dismiss(b)},()=>{})}else this._dismiss(b)}_removeModalElements(){const b=this._windowCmptRef.instance.hide(),u=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Te.of)(void 0);b.subscribe(()=>{const{nativeElement:M}=this._windowCmptRef.location;M.parentNode.removeChild(M),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),u.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:M}=this._backdropCmptRef.location;M.parentNode.removeChild(M),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),B1(b,u).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Uo=(()=>{return(f=Uo||(Uo={}))[f.BACKDROP_CLICK=0]="BACKDROP_CLICK",f[f.ESC=1]="ESC",Uo;var f})();let ro=(()=>{class f{constructor(u,M,O){this._document=u,this._elRef=M,this._zone=O,this._closed$=new Ne.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Ne.x,this.hidden=new Ne.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":G2(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(u){this.dismissEvent.emit(u)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,T1.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:u}=this._elRef,M={animation:this.animation,runningTransition:"stop"},Me=B1(Kn(this._zone,u,()=>u.classList.remove("show"),M),Kn(this._zone,this._dialogEl.nativeElement,()=>{},M));return Me.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Me}_show(){const u={animation:this.animation,runningTransition:"continue"};B1(Kn(this._zone,this._elRef.nativeElement,(W,Me)=>{Me&&Cr(W),W.classList.add("show")},u),Kn(this._zone,this._dialogEl.nativeElement,()=>{},u)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:u}=this._elRef;this._zone.runOutsideAngular(()=>{Ye(u,"keydown").pipe((0,x1.R)(this._closed$),(0,S1.h)(O=>O.which===ye.Escape)).subscribe(O=>{this.keyboard?requestAnimationFrame(()=>{O.defaultPrevented||this._zone.run(()=>this.dismiss(Uo.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let M=!1;Ye(this._dialogEl.nativeElement,"mousedown").pipe((0,x1.R)(this._closed$),(0,Mn.b)(()=>M=!1),(0,dn.w)(()=>Ye(u,"mouseup").pipe((0,x1.R)(this._closed$),(0,T1.q)(1))),(0,S1.h)(({target:O})=>u===O)).subscribe(()=>{M=!0}),Ye(u,"click").pipe((0,x1.R)(this._closed$)).subscribe(({target:O})=>{u===O&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!M&&this._zone.run(()=>this.dismiss(Uo.BACKDROP_CLICK))),M=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:u}=this._elRef;if(!u.contains(document.activeElement)){const M=u.querySelector("[ngbAutofocus]"),O=Oi(u)[0];(M||O||u).focus()}}_restoreFocus(){const u=this._document.body,M=this._elWithFocus;let O;O=M&&M.focus&&u.contains(M)?M:u,this._zone.runOutsideAngular(()=>{setTimeout(()=>O.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Kn(this._zone,this._elRef.nativeElement,({classList:u})=>(u.add("modal-static"),()=>u.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(_.K0),l.Y36(l.SBq),l.Y36(l.R0b))},f.\u0275cmp=l.Xpm({type:f,selectors:[["ngb-modal-window"]],viewQuery:function(u,M){if(1&u&&l.Gf(M1,7),2&u){let O;l.iGM(O=l.CRH())&&(M._dialogEl=O.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(u,M){2&u&&(l.uIk("aria-modal",!0)("aria-labelledby",M.ariaLabelledBy)("aria-describedby",M.ariaDescribedBy),l.Tol("modal d-block"+(M.windowClass?" "+M.windowClass:"")),l.ekj("fade",M.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Hi,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(u,M){1&u&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&u&&l.Tol("modal-dialog"+(M.size?" modal-"+M.size:"")+(M.centered?" modal-dialog-centered":"")+M.fullscreenClass+(M.scrollable?" modal-dialog-scrollable":"")+(M.modalDialogClass?" "+M.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),f})(),oa=(()=>{class f{constructor(u){this._document=u}hide(){const u=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),M=this._document.body,O=M.style,{overflow:W,paddingRight:Me}=O;if(u>0){const Ue=parseFloat(window.getComputedStyle(M).paddingRight);O.paddingRight=`${Ue+u}px`}return O.overflow="hidden",()=>{u>0&&(O.paddingRight=Me),O.overflow=W}}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(_.K0))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Zn=(()=>{class f{constructor(u,M,O,W,Me,Ue){this._applicationRef=u,this._injector=M,this._document=O,this._scrollBar=W,this._rendererFactory=Me,this._ngZone=Ue,this._activeWindowCmptHasChanged=new Ne.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Be=this._windowCmpts[this._windowCmpts.length-1];((f,b,u,M=!1)=>{this._ngZone.runOutsideAngular(()=>{const O=Ye(b,"focusin").pipe((0,x1.R)(u),(0,D1.U)(W=>W.target));Ye(b,"keydown").pipe((0,x1.R)(u),(0,S1.h)(W=>W.which===ye.Tab),Yn(O)).subscribe(([W,Me])=>{const[Ue,Be]=Oi(b);(Me===Ue||Me===b)&&W.shiftKey&&(Be.focus(),W.preventDefault()),Me===Be&&!W.shiftKey&&(Ue.focus(),W.preventDefault())}),M&&Ye(b,"click").pipe((0,x1.R)(u),Yn(O),(0,D1.U)(W=>W[1])).subscribe(W=>W.focus())})})(0,Be.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Be.location.nativeElement)}})}_restoreScrollBar(){const u=this._scrollBarRestoreFn;u&&(this._scrollBarRestoreFn=null,u())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(u,M,O){const W=O.container instanceof HTMLElement?O.container:$2(O.container)?this._document.querySelector(O.container):this._document.body,Me=this._rendererFactory.createRenderer(null,null);if(!W)throw new Error(`The specified modal container "${O.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ue=new qs,Be=this._getContentRef(O.injector||u,M,Ue,O);let Et=!1!==O.backdrop?this._attachBackdrop(W):void 0,It=this._attachWindowComponent(W,Be.nodes),F1=new M4(It,Be,Et,O.beforeDismiss);return this._registerModalRef(F1),this._registerWindowCmpt(It),F1.hidden.pipe((0,T1.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Me.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ue.close=N1=>{F1.close(N1)},Ue.dismiss=N1=>{F1.dismiss(N1)},this._applyWindowOptions(It.instance,O),1===this._modalRefs.length&&Me.addClass(this._document.body,"modal-open"),Et&&Et.instance&&(this._applyBackdropOptions(Et.instance,O),Et.changeDetectorRef.detectChanges()),It.changeDetectorRef.detectChanges(),F1}get activeInstances(){return this._activeInstances}dismissAll(u){this._modalRefs.forEach(M=>M.dismiss(u))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(u){let M=(0,l.LMc)(Bo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(M.hostView),u.appendChild(M.location.nativeElement),M}_attachWindowComponent(u,M){let O=(0,l.LMc)(ro,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:M});return this._applicationRef.attachView(O.hostView),u.appendChild(O.location.nativeElement),O}_applyWindowOptions(u,M){this._windowAttributes.forEach(O=>{$2(M[O])&&(u[O]=M[O])})}_applyBackdropOptions(u,M){this._backdropAttributes.forEach(O=>{$2(M[O])&&(u[O]=M[O])})}_getContentRef(u,M,O,W){return M?M instanceof l.Rgc?this._createFromTemplateRef(M,O):G2(M)?this._createFromString(M):this._createFromComponent(u,M,O,W):new ho([])}_createFromTemplateRef(u,M){const W=u.createEmbeddedView({$implicit:M,close(Me){M.close(Me)},dismiss(Me){M.dismiss(Me)}});return this._applicationRef.attachView(W),new ho([W.rootNodes],W)}_createFromString(u){const M=this._document.createTextNode(`${u}`);return new ho([[M]])}_createFromComponent(u,M,O,W){const Me=l.zs3.create({providers:[{provide:qs,useValue:O}],parent:u}),Ue=(0,l.LMc)(M,{environmentInjector:this._applicationRef.injector,elementInjector:Me}),Be=Ue.location.nativeElement;return W.scrollable&&Be.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ue.hostView),new ho([[Be]],Ue.hostView,Ue)}_setAriaHidden(u){const M=u.parentElement;M&&u!==this._document.body&&(Array.from(M.children).forEach(O=>{O!==u&&"SCRIPT"!==O.nodeName&&(this._ariaHiddenValues.set(O,O.getAttribute("aria-hidden")),O.setAttribute("aria-hidden","true"))}),this._setAriaHidden(M))}_revertAriaHidden(){this._ariaHiddenValues.forEach((u,M)=>{u?M.setAttribute("aria-hidden",u):M.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(u){const M=()=>{const O=this._modalRefs.indexOf(u);O>-1&&(this._modalRefs.splice(O,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(u),this._activeInstances.emit(this._modalRefs),u.result.then(M,M)}_registerWindowCmpt(u){this._windowCmpts.push(u),this._activeWindowCmptHasChanged.next(),u.onDestroy(()=>{const M=this._windowCmpts.indexOf(u);M>-1&&(this._windowCmpts.splice(M,1),this._activeWindowCmptHasChanged.next())})}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(_.K0),l.LFG(oa),l.LFG(l.FYo),l.LFG(l.R0b))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),i6=(()=>{class f{constructor(u){this._ngbConfig=u,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(e1))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),aa=(()=>{class f{constructor(u,M,O){this._injector=u,this._modalStack=M,this._config=O}open(u,M={}){const O={...this._config,animation:this._config.animation,...M};return this._modalStack.open(this._injector,u,O)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(u){this._modalStack.dismissAll(u)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(l.zs3),l.LFG(Zn),l.LFG(i6))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),jo=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({providers:[aa]}),f})(),za=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),w=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),wr=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),E3=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),W4=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),q6=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),l6=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),R0=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();new l.OlP("live announcer delay",{providedIn:"root",factory:function N3(){return 100}});let A3=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[_.ez]}),f})(),S4=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();const K4=[Lo,ds,Mr,S,Sa,hs,jo,za,S4,w,wr,E3,W4,q6,l6,R0,A3];let Pa=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[K4,Lo,ds,Mr,S,Sa,hs,jo,za,S4,w,wr,E3,W4,q6,l6,R0,A3]}),f})()},259:(r1,Je,F)=>{F.d(Je,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.15.0","app")},9260:(r1,Je,F)=>{F.d(Je,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(r1,Je,F)=>{F.r(Je);var l=F(5861),_=F(3942),X=F(2090),Ie=F(9681),Te=F(1877),Ne=F(655),de=F(4859);const Ye=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Gt=function st(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new Te.Yd("@firebase/auth");function s1(w,...h){He.logLevel<=Te.in.ERROR&&He.error(`Auth (${Ie.SDK_VERSION}): ${w}`,...h)}function at(w,...h){throw Ct(w,...h)}function ht(w,...h){return Ct(w,...h)}function tt(w,h,y){const N=Object.assign(Object.assign({},Gt()),{[h]:y});return new X.LL("auth","Firebase",N).create(h,{appName:w.name})}function Pt(w,h,y){if(!(h instanceof y))throw y.name!==h.constructor.name&&at(w,"argument-error"),tt(w,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ct(w,...h){if("string"!=typeof w){const y=h[0],N=[...h.slice(1)];return N[0]&&(N[0].appName=w.name),w._errorFactory.create(y,...N)}return ft.create(w,...h)}function ce(w,h,...y){if(!w)throw Ct(h,...y)}function et(w){const h="INTERNAL ASSERTION FAILED: "+w;throw s1(h),new Error(h)}function we(w,h){w||et(h)}const Le=new Map;function rt(w){we(w instanceof Function,"Expected a class definition");let h=Le.get(w);return h?(we(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,Le.set(w,h),h)}function Rt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function y1(){return"http:"===B1()||"https:"===B1()}function B1(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class x1{constructor(h,y){this.shortDelay=h,this.longDelay=y,we(y>h,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function O1(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(y1()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S1(w,h){we(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return h?`${y}${h.startsWith("/")?h.slice(1):h}`:y}class T1{static initialize(h,y,N){this.fetchImpl=h,y&&(this.headersImpl=y),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qn=new x1(3e4,6e4);function Zt(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function dn(w,h,y,N){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(w,h,y,N,J={}){return In(w,J,(0,l.Z)(function*(){let ae={},qe={};N&&("GET"===h?qe=N:ae={body:JSON.stringify(N)});const Tt=(0,X.xO)(Object.assign({key:w.config.apiKey},qe)).slice(1),v1=yield w._getAdditionalHeaders();return v1["Content-Type"]="application/json",w.languageCode&&(v1["X-Firebase-Locale"]=w.languageCode),T1.fetch()(Jn(w,w.config.apiHost,y,Tt),Object.assign({method:h,headers:v1,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function In(w,h,y){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(w,h,y){w._canInitEmulator=!1;const N=Object.assign(Object.assign({},D1),h);try{const J=new Z1(w),ae=yield Promise.race([y(),J.promise]);J.clearNetworkTimeout();const qe=yield ae.json();if("needConfirmation"in qe)throw vn(w,"account-exists-with-different-credential",qe);if(ae.ok&&!("errorMessage"in qe))return qe;{const Tt=ae.ok?qe.errorMessage:qe.error.message,[v1,H1]=Tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===v1)throw vn(w,"credential-already-in-use",qe);if("EMAIL_EXISTS"===v1)throw vn(w,"email-already-in-use",qe);if("USER_DISABLED"===v1)throw vn(w,"user-disabled",qe);const bn=N[v1]||v1.toLowerCase().replace(/[_\s]+/g,"-");if(H1)throw tt(w,bn,H1);at(w,bn)}}catch(J){if(J instanceof X.ZR)throw J;at(w,"network-request-failed")}})).apply(this,arguments)}function Yn(w,h,y,N){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(w,h,y,N,J={}){const ae=yield dn(w,h,y,N,J);return"mfaPendingCredential"in ae&&at(w,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function Jn(w,h,y,N){const J=`${h}${y}?${N}`;return w.config.emulator?S1(w.config,J):`${w.config.apiScheme}://${J}`}class Z1{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((y,N)=>{this.timer=setTimeout(()=>N(ht(this.auth,"network-request-failed")),Qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(w,h,y){const N={appName:w.name};y.email&&(N.email=y.email),y.phoneNumber&&(N.phoneNumber=y.phoneNumber);const J=ht(w,h,N);return J.customData._tokenResponse=y,J}function Wt(){return(Wt=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Cn(w,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pn(w,h){return N2.apply(this,arguments)}function N2(){return(N2=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function R2(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ae(){return(Ae=(0,l.Z)(function*(w,h=!1){const y=(0,X.m9)(w),N=yield y.getIdToken(h),J=lt(N);ce(J&&J.exp&&J.auth_time&&J.iat,y.auth,"internal-error");const ae="object"==typeof J.firebase?J.firebase:void 0,qe=ae?.sign_in_provider;return{claims:J,token:N,authTime:R2(be(J.auth_time)),issuedAtTime:R2(be(J.iat)),expirationTime:R2(be(J.exp)),signInProvider:qe||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function be(w){return 1e3*Number(w)}function lt(w){const[h,y,N]=w.split(".");if(void 0===h||void 0===y||void 0===N)return s1("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,X.tV)(y);return J?JSON.parse(J):(s1("Failed to decode base64 JWT payload"),null)}catch(J){return s1("Caught error parsing JWT payload as JSON",J?.toString()),null}}function d1(w,h){return b1.apply(this,arguments)}function b1(){return(b1=(0,l.Z)(function*(w,h,y=!1){if(y)return h;try{return yield h}catch(N){throw N instanceof X.ZR&&m1(N)&&w.auth.currentUser===w&&(yield w.auth.signOut()),N}})).apply(this,arguments)}function m1({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Yt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var y;if(h){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const J=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(h=!1){var y=this;if(!this.isRunning)return;const N=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),N)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&h.schedule(!0))}h.schedule()})()}}class yn{constructor(h,y){this.createdAt=h,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=R2(this.lastLoginAt),this.creationTime=R2(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(w){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(w){var h;const y=w.auth,N=yield w.getIdToken(),J=yield d1(w,pn(y,{idToken:N}));ce(J?.users.length,y,"internal-error");const ae=J.users[0];w._notifyReloadListener(ae);const qe=null!==(h=ae.providerUserInfo)&&void 0!==h&&h.length?f1(ae.providerUserInfo):[],Tt=an(w.providerData,qe),bn=!!w.isAnonymous&&!(w.email&&ae.passwordHash||Tt?.length),hn={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:Tt,metadata:new yn(ae.createdAt,ae.lastLoginAt),isAnonymous:bn};Object.assign(w,hn)})).apply(this,arguments)}function W1(){return(W1=(0,l.Z)(function*(w){const h=(0,X.m9)(w);yield tn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function an(w,h){return[...w.filter(N=>!h.some(J=>J.providerId===N.providerId)),...h]}function f1(w){return w.map(h=>{var{providerId:y}=h,N=(0,Ne._T)(h,["providerId"]);return{providerId:y,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function t1(){return(t1=(0,l.Z)(function*(w,h){const y=yield In(w,{},(0,l.Z)(function*(){const N=(0,X.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:J,apiKey:ae}=w.config,qe=Jn(w,J,"/v1/token",`key=${ae}`),Tt=yield w._getAdditionalHeaders();return Tt["Content-Type"]="application/x-www-form-urlencoded",T1.fetch()(qe,{method:"POST",headers:Tt,body:N})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class L1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ce(h.idToken,"internal-error"),ce(typeof h.idToken<"u","internal-error"),ce(typeof h.refreshToken<"u","internal-error");const y="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Mt(w){const h=lt(w);return ce(h,"internal-error"),ce(typeof h.exp<"u","internal-error"),ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,y)}getToken(h,y=!1){var N=this;return(0,l.Z)(function*(){return ce(!N.accessToken||N.refreshToken,h,"user-token-expired"),y||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(h,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,y){var N=this;return(0,l.Z)(function*(){const{accessToken:J,refreshToken:ae,expiresIn:qe}=yield function Nt(w,h){return t1.apply(this,arguments)}(h,y);N.updateTokensAndExpiration(J,ae,Number(qe))})()}updateTokensAndExpiration(h,y,N){this.refreshToken=y||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(h,y){const{refreshToken:N,accessToken:J,expirationTime:ae}=y,qe=new L1;return N&&(ce("string"==typeof N,"internal-error",{appName:h}),qe.refreshToken=N),J&&(ce("string"==typeof J,"internal-error",{appName:h}),qe.accessToken=J),ae&&(ce("number"==typeof ae,"internal-error",{appName:h}),qe.expirationTime=ae),qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new L1,this.toJSON())}_performRefresh(){return et("not implemented")}}function E1(w,h){ce("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class V1{constructor(h){var{uid:y,auth:N,stsTokenManager:J}=h,ae=(0,Ne._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=N,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new yn(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(h){var y=this;return(0,l.Z)(function*(){const N=yield d1(y,y.stsTokenManager.getToken(y.auth,h));return ce(N,y.auth,"internal-error"),y.accessToken!==N&&(y.accessToken=N,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),N})()}getIdTokenResult(h){return function ct(w){return Ae.apply(this,arguments)}(this,h)}reload(){return function nn(w){return W1.apply(this,arguments)}(this)}_assign(h){this!==h&&(ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(y=>Object.assign({},y)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new V1(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,y=!1){var N=this;return(0,l.Z)(function*(){let J=!1;h.idToken&&h.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(h),J=!0),y&&(yield tn(N)),yield N.auth._persistUserIfCurrent(N),J&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var h=this;return(0,l.Z)(function*(){const y=yield h.getIdToken();return yield d1(h,function r2(w,h){return Wt.apply(this,arguments)}(h.auth,{idToken:y})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,y){var N,J,ae,qe,Tt,v1,H1,bn;const hn=null!==(N=y.displayName)&&void 0!==N?N:void 0,wr=null!==(J=y.email)&&void 0!==J?J:void 0,Qr=null!==(ae=y.phoneNumber)&&void 0!==ae?ae:void 0,ua=null!==(qe=y.photoURL)&&void 0!==qe?qe:void 0,E3=null!==(Tt=y.tenantId)&&void 0!==Tt?Tt:void 0,Oa=null!==(v1=y._redirectEventId)&&void 0!==v1?v1:void 0,e4=null!==(H1=y.createdAt)&&void 0!==H1?H1:void 0,W4=null!==(bn=y.lastLoginAt)&&void 0!==bn?bn:void 0,{uid:s6,emailVerified:o6,isAnonymous:Ds,providerData:a6,stsTokenManager:S3}=y;ce(s6&&S3,h,"internal-error");const $o=L1.fromJSON(this.name,S3);ce("string"==typeof s6,h,"internal-error"),E1(hn,h.name),E1(wr,h.name),ce("boolean"==typeof o6,h,"internal-error"),ce("boolean"==typeof Ds,h,"internal-error"),E1(Qr,h.name),E1(ua,h.name),E1(E3,h.name),E1(Oa,h.name),E1(e4,h.name),E1(W4,h.name);const T3=new V1({uid:s6,auth:h,email:wr,emailVerified:o6,displayName:hn,isAnonymous:Ds,photoURL:ua,phoneNumber:Qr,tenantId:E3,stsTokenManager:$o,createdAt:e4,lastLoginAt:W4});return a6&&Array.isArray(a6)&&(T3.providerData=a6.map(Ra=>Object.assign({},Ra))),Oa&&(T3._redirectEventId=Oa),T3}static _fromIdTokenResponse(h,y,N=!1){return(0,l.Z)(function*(){const J=new L1;J.updateFromServerResponse(y);const ae=new V1({uid:y.localId,auth:h,stsTokenManager:J,isAnonymous:N});return yield tn(ae),ae})()}}const De=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,N){var J=this;return(0,l.Z)(function*(){J.storage[y]=N})()}_get(y){var N=this;return(0,l.Z)(function*(){const J=N.storage[y];return void 0===J?null:J})()}_remove(y){var N=this;return(0,l.Z)(function*(){delete N.storage[y]})()}_addListener(y,N){}_removeListener(y,N){}}return w.type="NONE",w})();function Pe(w,h,y){return`firebase:${w}:${h}:${y}`}class wt{constructor(h,y,N){this.persistence=h,this.auth=y,this.userKey=N;const{config:J,name:ae}=this.auth;this.fullUserKey=Pe(this.userKey,J.apiKey,ae),this.fullPersistenceKey=Pe("persistence",J.apiKey,ae),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const y=yield h.persistence._get(h.fullUserKey);return y?V1._fromJSON(h.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var y=this;return(0,l.Z)(function*(){if(y.persistence===h)return;const N=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=h,N?y.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,y,N="authUser"){return(0,l.Z)(function*(){if(!y.length)return new wt(rt(De),h,N);const J=(yield Promise.all(y.map(function(){var H1=(0,l.Z)(function*(bn){if(yield bn._isAvailable())return bn});return function(bn){return H1.apply(this,arguments)}}()))).filter(H1=>H1);let ae=J[0]||rt(De);const qe=Pe(N,h.config.apiKey,h.name);let Tt=null;for(const H1 of y)try{const bn=yield H1._get(qe);if(bn){const hn=V1._fromJSON(h,bn);H1!==ae&&(Tt=hn),ae=H1;break}}catch{}const v1=J.filter(H1=>H1._shouldAllowMigration);return ae._shouldAllowMigration&&v1.length?(ae=v1[0],Tt&&(yield ae._set(qe,Tt.toJSON())),yield Promise.all(y.map(function(){var H1=(0,l.Z)(function*(bn){if(bn!==ae)try{yield bn._remove(qe)}catch{}});return function(bn){return H1.apply(this,arguments)}}())),new wt(ae,h,N)):new wt(ae,h,N)})()}}function Ze(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(cn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(o1(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ee(h))return"Blackberry";if(me(h))return"Webos";if(n1(h))return"Safari";if((h.includes("chrome/")||U1(h))&&!h.includes("edge/"))return"Chrome";if(q1(h))return"Android";{const N=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function o1(w=(0,X.z$)()){return/firefox\//i.test(w)}function n1(w=(0,X.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function U1(w=(0,X.z$)()){return/crios\//i.test(w)}function cn(w=(0,X.z$)()){return/iemobile/i.test(w)}function q1(w=(0,X.z$)()){return/android/i.test(w)}function Ee(w=(0,X.z$)()){return/blackberry/i.test(w)}function me(w=(0,X.z$)()){return/webos/i.test(w)}function le(w=(0,X.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function A1(w=(0,X.z$)()){return le(w)||q1(w)||me(w)||Ee(w)||/windows phone/i.test(w)||cn(w)}function xn(w,h=[]){let y;switch(w){case"Browser":y=Ze((0,X.z$)());break;case"Worker":y=`${Ze((0,X.z$)())}-${w}`;break;default:y=w}const N=h.length?h.join(","):"FirebaseCore-web";return`${y}/JsCore/${Ie.SDK_VERSION}/${N}`}class k2{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,y){const N=ae=>new Promise((qe,Tt)=>{try{qe(h(ae))}catch(v1){Tt(v1)}});N.onAbort=y,this.queue.push(N);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(h){var y=this;return(0,l.Z)(function*(){if(y.auth.currentUser===h)return;const N=[];try{for(const J of y.queue)yield J(h),J.onAbort&&N.push(J.onAbort)}catch(J){N.reverse();for(const ae of N)try{ae()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}class J1{constructor(h,y,N){this.app=h,this.heartbeatServiceProvider=y,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A2(this),this.idTokenSubscription=new A2(this),this.beforeStateQueue=new k2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(h,y){var N=this;return y&&(this._popupRedirectResolver=rt(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var J,ae;if(!N._deleted&&(N.persistenceManager=yield wt.create(N,h),!N._deleted)){if(null!==(J=N._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(y),N.lastNotifiedUid=(null===(ae=N.currentUser)||void 0===ae?void 0:ae.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const y=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||y){if(h.currentUser&&y&&h.currentUser.uid===y.uid)return h._currentUser._assign(y),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(y,!0)}})()}initializeCurrentUser(h){var y=this;return(0,l.Z)(function*(){var N;const J=yield y.assertedPersistence.getCurrentUser();let ae=J,qe=!1;if(h&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Tt=null===(N=y.redirectUser)||void 0===N?void 0:N._redirectEventId,v1=ae?._redirectEventId,H1=yield y.tryRedirectSignIn(h);(!Tt||Tt===v1)&&H1?.user&&(ae=H1.user,qe=!0)}if(!ae)return y.directlySetCurrentUser(null);if(!ae._redirectEventId){if(qe)try{yield y.beforeStateQueue.runMiddleware(ae)}catch(Tt){ae=J,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Tt))}return ae?y.reloadAndSetCurrentUserOrClear(ae):y.directlySetCurrentUser(null)}return ce(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ae._redirectEventId?y.directlySetCurrentUser(ae):y.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(h){var y=this;return(0,l.Z)(function*(){let N=null;try{N=yield y._popupRedirectResolver._completeRedirectFn(y,h,!0)}catch{yield y._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(h){var y=this;return(0,l.Z)(function*(){try{yield tn(h)}catch(N){if("auth/network-request-failed"!==N?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Vt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var y=this;return(0,l.Z)(function*(){const N=h?(0,X.m9)(h):null;return N&&ce(N.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(N&&N._clone(y))})()}_updateCurrentUser(h,y=!1){var N=this;return(0,l.Z)(function*(){if(!N._deleted)return h&&ce(N.tenantId===h.tenantId,N,"tenant-id-mismatch"),y||(yield N.beforeStateQueue.runMiddleware(h)),N.queue((0,l.Z)(function*(){yield N.directlySetCurrentUser(h),N.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(rt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new X.LL("auth","Firebase",h())}onAuthStateChanged(h,y,N){return this.registerStateListener(this.authStateSubscription,h,y,N)}beforeAuthStateChanged(h,y){return this.beforeStateQueue.pushCallback(h,y)}onIdTokenChanged(h,y,N){return this.registerStateListener(this.idTokenSubscription,h,y,N)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,y){var N=this;return(0,l.Z)(function*(){const J=yield N.getOrInitRedirectPersistenceManager(y);return null===h?J.removeCurrentUser():J.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const N=h&&rt(h)||y._popupRedirectResolver;ce(N,y,"argument-error"),y.redirectPersistenceManager=yield wt.create(y,[rt(N._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(h){var y=this;return(0,l.Z)(function*(){var N,J;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(N=y._currentUser)||void 0===N?void 0:N._redirectEventId)===h?y._currentUser:(null===(J=y.redirectUser)||void 0===J?void 0:J._redirectEventId)===h?y.redirectUser:null})()}_persistUserIfCurrent(h){var y=this;return(0,l.Z)(function*(){if(h===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(y=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,y,N,J){if(this._deleted)return()=>{};const ae="function"==typeof y?y:y.next.bind(y),qe=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(qe,this,"internal-error"),qe.then(()=>ae(this.currentUser)),"function"==typeof y?h.addObserver(y,N,J):h.addObserver(y)}directlySetCurrentUser(h){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==h&&y._currentUser._stopProactiveRefresh(),h&&y.isProactiveRefreshEnabled&&h._startProactiveRefresh(),y.currentUser=h,h?yield y.assertedPersistence.setCurrentUser(h):yield y.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var y;const N={"X-Client-Version":h.clientVersion};h.app.options.appId&&(N["X-Firebase-gmpid"]=h.app.options.appId);const J=yield null===(y=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return J&&(N["X-Firebase-Client"]=J),N})()}}function Rn(w){return(0,X.m9)(w)}class A2{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,X.ne)(y=>this.observer=y)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function W2(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function q2(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class I2{constructor(h,y){this.providerId=h,this.signInMethod=y}toJSON(){return et("not implemented")}_getIdTokenResponse(h){return et("not implemented")}_linkToIdToken(h,y){return et("not implemented")}_getReauthenticationResolver(h){return et("not implemented")}}function p2(w,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:resetPassword",Zt(w,h))})).apply(this,arguments)}function zn(w,h){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function H2(w,h){return K2.apply(this,arguments)}function K2(){return(K2=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:update",Zt(w,h))})).apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signInWithPassword",Zt(w,h))})).apply(this,arguments)}function di(w,h){return F2.apply(this,arguments)}function F2(){return(F2=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:sendOobCode",Zt(w,h))})).apply(this,arguments)}function jn(w,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(w,h){return di(w,h)})).apply(this,arguments)}function Ln(w,h){return P2.apply(this,arguments)}function P2(){return(P2=(0,l.Z)(function*(w,h){return di(w,h)})).apply(this,arguments)}function ur(w,h){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(w,h){return di(w,h)})).apply(this,arguments)}function dr(w,h){return x2.apply(this,arguments)}function x2(){return(x2=(0,l.Z)(function*(w,h){return di(w,h)})).apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signInWithEmailLink",Zt(w,h))})).apply(this,arguments)}function B2(){return(B2=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signInWithEmailLink",Zt(w,h))})).apply(this,arguments)}class gs extends I2{constructor(h,y,N,J=null){super("password",N),this._email=h,this._password=y,this._tenantId=J}static _fromEmailAndPassword(h,y){return new gs(h,y,"password")}static _fromEmailAndCode(h,y,N=null){return new gs(h,y,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const y="string"==typeof h?JSON.parse(h):h;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(h){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return function Y2(w,h){return ui.apply(this,arguments)}(h,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Tr(w,h){return Vr.apply(this,arguments)}(h,{email:y._email,oobCode:y._password});default:at(h,"internal-error")}})()}_linkToIdToken(h,y){var N=this;return(0,l.Z)(function*(){switch(N.signInMethod){case"password":return zn(h,{idToken:y,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function ms(w,h){return B2.apply(this,arguments)}(h,{idToken:y,email:N._email,oobCode:N._password});default:at(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function y2(w,h){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signInWithIdp",Zt(w,h))})).apply(this,arguments)}class Xe extends I2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const y=new Xe(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(y.idToken=h.idToken),h.accessToken&&(y.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(y.nonce=h.nonce),h.pendingToken&&(y.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(y.accessToken=h.oauthToken,y.secret=h.oauthTokenSecret):at("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const y="string"==typeof h?JSON.parse(h):h,{providerId:N,signInMethod:J}=y,ae=(0,Ne._T)(y,["providerId","signInMethod"]);if(!N||!J)return null;const qe=new Xe(N,J);return qe.idToken=ae.idToken||void 0,qe.accessToken=ae.accessToken||void 0,qe.secret=ae.secret,qe.nonce=ae.nonce,qe.pendingToken=ae.pendingToken||null,qe}_getIdTokenResponse(h){return y2(h,this.buildRequest())}_linkToIdToken(h,y){const N=this.buildRequest();return N.idToken=y,y2(h,N)}_getReauthenticationResolver(h){const y=this.buildRequest();return y.autoCreate=!1,y2(h,y)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),h.postBody=(0,X.xO)(y)}return h}}function At(w,h){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:sendVerificationCode",Zt(w,h))})).apply(this,arguments)}function Q1(){return(Q1=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signInWithPhoneNumber",Zt(w,h))})).apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(w,h){const y=yield Yn(w,"POST","/v1/accounts:signInWithPhoneNumber",Zt(w,h));if(y.temporaryProof)throw vn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const $i={USER_NOT_FOUND:"user-not-found"};function ii(){return(ii=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signInWithPhoneNumber",Zt(w,Object.assign(Object.assign({},h),{operation:"REAUTH"})),$i)})).apply(this,arguments)}class ri extends I2{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,y){return new ri({verificationId:h,verificationCode:y})}static _fromTokenResponse(h,y){return new ri({phoneNumber:h,temporaryProof:y})}_getIdTokenResponse(h){return function z1(w,h){return Q1.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,y){return function kn(w,h){return wn.apply(this,arguments)}(h,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function tr(w,h){return ii.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:y,verificationId:N,verificationCode:J}=this.params;return h&&y?{temporaryProof:h,phoneNumber:y}:{sessionInfo:N,code:J}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:y,verificationCode:N,phoneNumber:J,temporaryProof:ae}=h;return N||y||J||ae?new ri({verificationId:y,verificationCode:N,phoneNumber:J,temporaryProof:ae}):null}}class Pi{constructor(h){var y,N,J,ae,qe,Tt;const v1=(0,X.zd)((0,X.pd)(h)),H1=null!==(y=v1.apiKey)&&void 0!==y?y:null,bn=null!==(N=v1.oobCode)&&void 0!==N?N:null,hn=function fr(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=v1.mode)&&void 0!==J?J:null);ce(H1&&bn&&hn,"argument-error"),this.apiKey=H1,this.operation=hn,this.code=bn,this.continueUrl=null!==(ae=v1.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(qe=v1.languageCode)&&void 0!==qe?qe:null,this.tenantId=null!==(Tt=v1.tenantId)&&void 0!==Tt?Tt:null}static parseLink(h){const y=function ts(w){const h=(0,X.zd)((0,X.pd)(w)).link,y=h?(0,X.zd)((0,X.pd)(h)).deep_link_id:null,N=(0,X.zd)((0,X.pd)(w)).deep_link_id;return(N?(0,X.zd)((0,X.pd)(N)).link:null)||N||y||h||w}(h);try{return new Pi(y)}catch{return null}}}let z2=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,N){return gs._fromEmailAndPassword(y,N)}static credentialWithLink(y,N){const J=Pi.parseLink(N);return ce(J,"argument-error"),gs._fromEmailAndCode(y,J.code,J.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class fi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ai extends fi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class J2 extends Ai{static credentialFromJSON(h){const y="string"==typeof h?JSON.parse(h):h;return ce("providerId"in y&&"signInMethod"in y,"argument-error"),Xe._fromParams(y)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ce(h.idToken||h.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return J2.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return J2.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:y,oauthAccessToken:N,oauthTokenSecret:J,pendingToken:ae,nonce:qe,providerId:Tt}=h;if(!N&&!J&&!y&&!ae||!Tt)return null;try{return new J2(Tt)._credential({idToken:y,accessToken:N,nonce:qe,pendingToken:ae})}catch{return null}}}let Nr=(()=>{class w extends Ai{constructor(){super("facebook.com")}static credential(y){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),s2=(()=>{class w extends Ai{constructor(){super("google.com"),this.addScope("profile")}static credential(y,N){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:N})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:N,oauthAccessToken:J}=y;if(!N&&!J)return null;try{return w.credential(N,J)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),hr=(()=>{class w extends Ai{constructor(){super("github.com")}static credential(y){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class hi extends I2{constructor(h,y){super(h,h),this.pendingToken=y}_getIdTokenResponse(h){return y2(h,this.buildRequest())}_linkToIdToken(h,y){const N=this.buildRequest();return N.idToken=y,y2(h,N)}_getReauthenticationResolver(h){const y=this.buildRequest();return y.autoCreate=!1,y2(h,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const y="string"==typeof h?JSON.parse(h):h,{providerId:N,signInMethod:J,pendingToken:ae}=y;return N&&J&&ae&&N===J?new hi(N,ae):null}static _create(h,y){return new hi(h,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class si extends fi{constructor(h){ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return si.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return si.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const y=hi.fromJSON(h);return ce(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:y,providerId:N}=h;if(!y||!N)return null;try{return hi._create(N,y)}catch{return null}}}let wi=(()=>{class w extends Ai{constructor(){super("twitter.com")}static credential(y,N){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:N})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:N,oauthTokenSecret:J}=y;if(!N||!J)return null;try{return w.credential(N,J)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Vi(w,h){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signUp",Zt(w,h))})).apply(this,arguments)}class o2{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,y,N,J=!1){return(0,l.Z)(function*(){const ae=yield V1._fromIdTokenResponse(h,N,J),qe=Ii(N);return new o2({user:ae,providerId:qe,_tokenResponse:N,operationType:y})})()}static _forOperation(h,y,N){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(N,!0);const J=Ii(N);return new o2({user:h,providerId:J,_tokenResponse:N,operationType:y})})()}}function Ii(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function d2(){return(d2=(0,l.Z)(function*(w){var h;const y=Rn(w);if(yield y._initializationPromise,null!==(h=y.currentUser)&&void 0!==h&&h.isAnonymous)return new o2({user:y.currentUser,providerId:null,operationType:"signIn"});const N=yield Vi(y,{returnSecureToken:!0}),J=yield o2._fromIdTokenResponse(y,"signIn",N,!0);return yield y._updateCurrentUser(J.user),J})).apply(this,arguments)}class nr extends X.ZR{constructor(h,y,N,J){var ae;super(y.code,y.message),this.operationType=N,this.user=J,Object.setPrototypeOf(this,nr.prototype),this.customData={appName:h.name,tenantId:null!==(ae=h.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:y.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(h,y,N,J){return new nr(h,y,N,J)}}function qn(w,h,y,N){return("reauthenticate"===h?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?nr._fromErrorAndOperation(w,ae,h,N):ae})}function oi(w){return new Set(w.map(({providerId:h})=>h).filter(h=>!!h))}function pi(){return(pi=(0,l.Z)(function*(w,h){const y=(0,X.m9)(w);yield An(!0,y,h);const{providerUserInfo:N}=yield Cn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[h]}),J=oi(N||[]);return y.providerData=y.providerData.filter(ae=>J.has(ae.providerId)),J.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function is(w,h){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(w,h,y=!1){const N=yield d1(w,h._linkToIdToken(w.auth,yield w.getIdToken()),y);return o2._forOperation(w,"link",N)})).apply(this,arguments)}function An(w,h,y){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(w,h,y){yield tn(h);const J=!1===w?"provider-already-linked":"no-such-provider";ce(oi(h.providerData).has(y)===w,h.auth,J)})).apply(this,arguments)}function ir(w,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(w,h,y=!1){const{auth:N}=w,J="reauthenticate";try{const ae=yield d1(w,qn(N,J,h,w),y);ce(ae.idToken,N,"internal-error");const qe=lt(ae.idToken);ce(qe,N,"internal-error");const{sub:Tt}=qe;return ce(w.uid===Tt,N,"user-mismatch"),o2._forOperation(w,J,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&at(N,"user-mismatch"),ae}})).apply(this,arguments)}function m2(w,h){return _2.apply(this,arguments)}function _2(){return(_2=(0,l.Z)(function*(w,h,y=!1){const N="signIn",J=yield qn(w,N,h),ae=yield o2._fromIdTokenResponse(w,N,J);return y||(yield w._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function e2(w,h){return R1.apply(this,arguments)}function R1(){return(R1=(0,l.Z)(function*(w,h){return m2(Rn(w),h)})).apply(this,arguments)}function rr(w,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(w,h){const y=(0,X.m9)(w);return yield An(!1,y,h.providerId),is(y,h)})).apply(this,arguments)}function Fr(w,h){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(w,h){return ir((0,X.m9)(w),h)})).apply(this,arguments)}function Wr(w,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(w,h){return Yn(w,"POST","/v1/accounts:signInWithCustomToken",Zt(w,h))})).apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(w,h){const y=Rn(w),N=yield Wr(y,{token:h,returnSecureToken:!0}),J=yield o2._fromIdTokenResponse(y,"signIn",N);return yield y._updateCurrentUser(J.user),J})).apply(this,arguments)}class kt{constructor(h,y){this.factorId=h,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(h,y){return"phoneInfo"in y?_n._fromServerResponse(h,y):at(h,"internal-error")}}class _n extends kt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,y){return new _n(y)}}function U2(w,h,y){var N;ce((null===(N=y.url)||void 0===N?void 0:N.length)>0,w,"invalid-continue-uri"),ce(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=y.url,h.dynamicLinkDomain=y.dynamicLinkDomain,h.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ce(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=y.iOS.bundleId),y.android&&(ce(y.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=y.android.installApp,h.androidMinimumVersionCode=y.android.minimumVersion,h.androidPackageName=y.android.packageName)}function a2(){return(a2=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w),J={requestType:"PASSWORD_RESET",email:h};y&&U2(N,J,y),yield Ln(N,J)})).apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(w,h,y){yield p2((0,X.m9)(w),{oobCode:h,newPassword:y})})).apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(w,h){yield H2((0,X.m9)(w),{oobCode:h})})).apply(this,arguments)}function Ki(w,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(w,h){const y=(0,X.m9)(w),N=yield p2(y,{oobCode:h}),J=N.requestType;switch(ce(J,y,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(N.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(N.mfaInfo,y,"internal-error");default:ce(N.email,y,"internal-error")}let ae=null;return N.mfaInfo&&(ae=kt._fromServerResponse(Rn(y),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:ae},operation:J}})).apply(this,arguments)}function $(){return($=(0,l.Z)(function*(w,h){const{data:y}=yield Ki((0,X.m9)(w),h);return y.email})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(w,h,y){const N=Rn(w),J=yield Vi(N,{returnSecureToken:!0,email:h,password:y}),ae=yield o2._fromIdTokenResponse(N,"signIn",J);return yield N._updateCurrentUser(ae.user),ae})).apply(this,arguments)}function M1(){return(M1=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w),J={requestType:"EMAIL_SIGNIN",email:h};ce(y.handleCodeInApp,N,"argument-error"),y&&U2(N,J,y),yield ur(N,J)})).apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w),J=z2.credentialWithLink(h,y||Rt());return ce(J._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),e2(N,J)})).apply(this,arguments)}function rs(w,h){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:createAuthUri",Zt(w,h))})).apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(w,h){const N={identifier:h,continueUri:y1()?Rt():"http://localhost"},{signinMethods:J}=yield rs((0,X.m9)(w),N);return J||[]})).apply(this,arguments)}function oe(){return(oe=(0,l.Z)(function*(w,h){const y=(0,X.m9)(w),J={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};h&&U2(y.auth,J,h);const{email:ae}=yield jn(y.auth,J);ae!==w.email&&(yield w.reload())})).apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:h};y&&U2(N.auth,ae,y);const{email:qe}=yield dr(N.auth,ae);qe!==w.email&&(yield w.reload())})).apply(this,arguments)}function $e(w,h){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(w,h){return dn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(w,{displayName:h,photoURL:y}){if(void 0===h&&void 0===y)return;const N=(0,X.m9)(w),ae={idToken:yield N.getIdToken(),displayName:h,photoUrl:y,returnSecureToken:!0},qe=yield d1(N,$e(N.auth,ae));N.displayName=qe.displayName||null,N.photoURL=qe.photoUrl||null;const Tt=N.providerData.find(({providerId:v1})=>"password"===v1);Tt&&(Tt.displayName=N.displayName,Tt.photoURL=N.photoURL),yield N._updateTokensIfNecessary(qe)})).apply(this,arguments)}function k(w,h,y){return te.apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(w,h,y){const{auth:N}=w,ae={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(ae.email=h),y&&(ae.password=y);const qe=yield d1(w,zn(N,ae));yield w._updateTokensIfNecessary(qe,!0)})).apply(this,arguments)}class nt{constructor(h,y,N={}){this.isNewUser=h,this.providerId=y,this.profile=N}}class yt extends nt{constructor(h,y,N,J){super(h,y,N),this.username=J}}class a1 extends nt{constructor(h,y){super(h,"facebook.com",y)}}class $1 extends yt{constructor(h,y){super(h,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class ln extends nt{constructor(h,y){super(h,"google.com",y)}}class mn extends yt{constructor(h,y,N){super(h,"twitter.com",y,N)}}function sn(w){const{user:h,_tokenResponse:y}=w;return h.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ce(w){var h,y;if(!w)return null;const{providerId:N}=w,J=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ae=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!N&&w?.idToken){const qe=null===(y=null===(h=lt(w.idToken))||void 0===h?void 0:h.firebase)||void 0===y?void 0:y.sign_in_provider;if(qe)return new nt(ae,"anonymous"!==qe&&"custom"!==qe?qe:null)}if(!N)return null;switch(N){case"facebook.com":return new a1(ae,J);case"github.com":return new $1(ae,J);case"google.com":return new ln(ae,J);case"twitter.com":return new mn(ae,J,w.screenName||null);case"custom":case"anonymous":return new nt(ae,null);default:return new nt(ae,N,J)}}(y)}class Br{constructor(h,y,N){this.type=h,this.credential=y,this.auth=N}static _fromIdtoken(h,y){return new Br("enroll",h,y)}static _fromMfaPendingCredential(h){return new Br("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var y,N;if(h?.multiFactorSession){if(null!==(y=h.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Br._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(N=h.multiFactorSession)&&void 0!==N&&N.idToken)return Br._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Js{constructor(h,y,N){this.session=h,this.hints=y,this.signInResolver=N}static _fromError(h,y){const N=Rn(h),J=y.customData._serverResponse,ae=(J.mfaInfo||[]).map(Tt=>kt._fromServerResponse(N,Tt));ce(J.mfaPendingCredential,N,"internal-error");const qe=Br._fromMfaPendingCredential(J.mfaPendingCredential);return new Js(qe,ae,function(){var Tt=(0,l.Z)(function*(v1){const H1=yield v1._process(N,qe);delete J.mfaInfo,delete J.mfaPendingCredential;const bn=Object.assign(Object.assign({},J),{idToken:H1.idToken,refreshToken:H1.refreshToken});switch(y.operationType){case"signIn":const hn=yield o2._fromIdTokenResponse(N,y.operationType,bn);return yield N._updateCurrentUser(hn.user),hn;case"reauthenticate":return ce(y.user,N,"internal-error"),o2._forOperation(y.user,y.operationType,bn);default:at(N,"internal-error")}});return function(v1){return Tt.apply(this,arguments)}}())}resolveSignIn(h){var y=this;return(0,l.Z)(function*(){return y.signInResolver(h)})()}}function Co(w,h){return dn(w,"POST","/v2/accounts/mfaEnrollment:start",Zt(w,h))}class _a{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(N=>kt._fromServerResponse(h.auth,N)))})}static _fromUser(h){return new _a(h)}getSession(){var h=this;return(0,l.Z)(function*(){return Br._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,y){var N=this;return(0,l.Z)(function*(){const J=h,ae=yield N.getSession(),qe=yield d1(N.user,J._process(N.user.auth,ae,y));return yield N.user._updateTokensIfNecessary(qe),N.user.reload()})()}unenroll(h){var y=this;return(0,l.Z)(function*(){const N="string"==typeof h?h:h.uid,J=yield y.user.getIdToken(),ae=yield d1(y.user,function so(w,h){return dn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(w,h))}(y.user.auth,{idToken:J,mfaEnrollmentId:N}));y.enrolledFactors=y.enrolledFactors.filter(({uid:qe})=>qe!==N),yield y.user._updateTokensIfNecessary(ae);try{yield y.user.reload()}catch(qe){if("auth/user-token-expired"!==qe?.code)throw qe}})()}}const Mo=new WeakMap,zs="__sak";class Us{constructor(h,y){this.storageRetriever=h,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(zs,"1"),this.storage.removeItem(zs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,y){return this.storage.setItem(h,JSON.stringify(y)),Promise.resolve()}_get(h){const y=this.storage.getItem(h);return Promise.resolve(y?JSON.parse(y):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yr=(()=>{class w extends Us{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,N)=>this.onStorageEvent(y,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wo(){const w=(0,X.z$)();return n1(w)||le(w)}()&&function Y1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const N of Object.keys(this.listeners)){const J=this.storage.getItem(N),ae=this.localCache[N];J!==ae&&y(N,ae,J)}}onStorageEvent(y,N=!1){if(!y.key)return void this.forAllChangedKeys((Tt,v1,H1)=>{this.notifyListeners(Tt,H1)});const J=y.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Tt=this.storage.getItem(J);if(y.newValue!==Tt)null!==y.newValue?this.storage.setItem(J,y.newValue):this.storage.removeItem(J);else if(this.localCache[J]===y.newValue&&!N)return}const ae=()=>{const Tt=this.storage.getItem(J);!N&&this.localCache[J]===Tt||this.notifyListeners(J,Tt)},qe=this.storage.getItem(J);!function Qt(){return(0,X.w1)()&&10===document.documentMode}()||qe===y.newValue||y.newValue===y.oldValue?ae():setTimeout(ae,10)}notifyListeners(y,N){this.localCache[y]=N;const J=this.listeners[y];if(J)for(const ae of Array.from(J))ae(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,N,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:N,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(N)}_removeListener(y,N){this.listeners[y]&&(this.listeners[y].delete(N),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,N){var J=()=>super._set,ae=this;return(0,l.Z)(function*(){yield J().call(ae,y,N),ae.localCache[y]=JSON.stringify(N)})()}_get(y){var N=()=>super._get,J=this;return(0,l.Z)(function*(){const ae=yield N().call(J,y);return J.localCache[y]=JSON.stringify(ae),ae})()}_remove(y){var N=()=>super._remove,J=this;return(0,l.Z)(function*(){yield N().call(J,y),delete J.localCache[y]})()}}return w.type="LOCAL",w})(),vs=(()=>{class w extends Us{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,N){}_removeListener(y,N){}}return w.type="SESSION",w})();let gi=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const N=this.receivers.find(ae=>ae.isListeningto(y));if(N)return N;const J=new w(y);return this.receivers.push(J),J}isListeningto(y){return this.eventTarget===y}handleEvent(y){var N=this;return(0,l.Z)(function*(){const J=y,{eventId:ae,eventType:qe,data:Tt}=J.data,v1=N.handlersMap[qe];if(!v1?.size)return;J.ports[0].postMessage({status:"ack",eventId:ae,eventType:qe});const H1=Array.from(v1).map(function(){var hn=(0,l.Z)(function*(wr){return wr(J.origin,Tt)});return function(wr){return hn.apply(this,arguments)}}()),bn=yield function qt(w){return Promise.all(w.map(function(){var h=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(N){return{fulfilled:!1,reason:N}}});return function(y){return h.apply(this,arguments)}}()))}(H1);J.ports[0].postMessage({status:"done",eventId:ae,eventType:qe,response:bn})})()}_subscribe(y,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(N)}_unsubscribe(y,N){this.handlersMap[y]&&N&&this.handlersMap[y].delete(N),(!N||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function as(w="",h=10){let y="";for(let N=0;N<h;N++)y+=Math.floor(10*Math.random());return w+y}class ao{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,y,N=50){var J=this;return(0,l.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let qe,Tt;return new Promise((v1,H1)=>{const bn=as("",20);ae.port1.start();const hn=setTimeout(()=>{H1(new Error("unsupported_event"))},N);Tt={messageChannel:ae,onMessage(wr){const Qr=wr;if(Qr.data.eventId===bn)switch(Qr.data.status){case"ack":clearTimeout(hn),qe=setTimeout(()=>{H1(new Error("timeout"))},3e3);break;case"done":clearTimeout(qe),v1(Qr.data.response);break;default:clearTimeout(hn),clearTimeout(qe),H1(new Error("invalid_response"))}}},J.handlers.add(Tt),ae.port1.addEventListener("message",Tt.onMessage),J.target.postMessage({eventType:h,eventId:bn,data:y},[ae.port2])}).finally(()=>{Tt&&J.removeMessageHandler(Tt)})})()}}function l1(){return window}function Qs(){return typeof l1().WorkerGlobalScope<"u"&&"function"==typeof l1().importScripts}function bt(){return(bt=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ei="firebaseLocalStorageDb",$2="firebaseLocalStorage",Xs="fbase_key";class cs{constructor(h){this.request=h}toPromise(){return new Promise((h,y)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function eo(w,h){return w.transaction([$2],h?"readwrite":"readonly").objectStore($2)}function Q2(){const w=indexedDB.open(Ei,1);return new Promise((h,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const N=w.result;try{N.createObjectStore($2,{keyPath:Xs})}catch(J){y(J)}}),w.addEventListener("success",(0,l.Z)(function*(){const N=w.result;N.objectStoreNames.contains($2)?h(N):(N.close(),yield function Do(){const w=indexedDB.deleteDatabase(Ei);return new cs(w).toPromise()}(),h(yield Q2()))}))})}function Cr(w,h,y){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(w,h,y){const N=eo(w,!0).put({[Xs]:h,value:y});return new cs(N).toPromise()})).apply(this,arguments)}function X1(){return(X1=(0,l.Z)(function*(w,h){const y=eo(w,!1).get(h),N=yield new cs(y).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function or(w,h){const y=eo(w,!0).delete(h);return new cs(y).toPromise()}const Kn=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield Q2()),y.db})()}_withRetries(y){var N=this;return(0,l.Z)(function*(){let J=0;for(;;)try{const ae=yield N._openDb();return yield y(ae)}catch(ae){if(J++>3)throw ae;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return Qs()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=gi._getInstance(function G2(){return Qs()?self:null}()),y.receiver._subscribe("keyChanged",function(){var N=(0,l.Z)(function*(J,ae){return{keyProcessed:(yield y._poll()).includes(ae.key)}});return function(J,ae){return N.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var N=(0,l.Z)(function*(J,ae){return["keyChanged"]});return function(J,ae){return N.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var N,J;if(y.activeServiceWorker=yield function c1(){return bt.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ao(y.activeServiceWorker);const ae=yield y.sender._send("ping",{},800);!ae||(null===(N=ae[0])||void 0===N?void 0:N.fulfilled)&&(null===(J=ae[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var N=this;return(0,l.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function jt(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:y},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Q2();return yield Cr(y,zs,"1"),yield or(y,zs),!0}catch{}return!1})()}_withPendingWrite(y){var N=this;return(0,l.Z)(function*(){N.pendingWrites++;try{yield y()}finally{N.pendingWrites--}})()}_set(y,N){var J=this;return(0,l.Z)(function*(){return J._withPendingWrite((0,l.Z)(function*(){return yield J._withRetries(ae=>Cr(ae,y,N)),J.localCache[y]=N,J.notifyServiceWorker(y)}))})()}_get(y){var N=this;return(0,l.Z)(function*(){const J=yield N._withRetries(ae=>function js(w,h){return X1.apply(this,arguments)}(ae,y));return N.localCache[y]=J,J})()}_remove(y){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(J=>or(J,y)),delete N.localCache[y],N.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const N=yield y._withRetries(qe=>{const Tt=eo(qe,!1).getAll();return new cs(Tt).toPromise()});if(!N)return[];if(0!==y.pendingWrites)return[];const J=[],ae=new Set;for(const{fbase_key:qe,value:Tt}of N)ae.add(qe),JSON.stringify(y.localCache[qe])!==JSON.stringify(Tt)&&(y.notifyListeners(qe,Tt),J.push(qe));for(const qe of Object.keys(y.localCache))y.localCache[qe]&&!ae.has(qe)&&(y.notifyListeners(qe,null),J.push(qe));return J})()}notifyListeners(y,N){this.localCache[y]=N;const J=this.listeners[y];if(J)for(const ae of Array.from(J))ae(N)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(N)}_removeListener(y,N){this.listeners[y]&&(this.listeners[y].delete(N),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Sn(w,h){return dn(w,"POST","/v2/accounts/mfaSignIn:start",Zt(w,h))}function e1(){return(e1=(0,l.Z)(function*(w){return(yield dn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ys(w){return new Promise((h,y)=>{const N=document.createElement("script");N.setAttribute("src",w),N.onload=h,N.onerror=J=>{const ae=ht("internal-error");ae.customData=J,y(ae)},N.type="text/javascript",N.charset="UTF-8",function Ts(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(N)})}function vi(w){return`__${w}${Math.floor(1e6*Math.random())}`}const us=1e12;class h2{constructor(h){this.auth=h,this.counter=us,this._widgets=new Map}render(h,y){const N=this.counter;return this._widgets.set(N,new lo(h,this.auth.name,y||{})),this.counter++,N}reset(h){var y;const N=h||us;null===(y=this._widgets.get(N))||void 0===y||y.delete(),this._widgets.delete(N)}getResponse(h){var y;return(null===(y=this._widgets.get(h||us))||void 0===y?void 0:y.getResponse())||""}execute(h){var y=this;return(0,l.Z)(function*(){var N;return null===(N=y._widgets.get(h||us))||void 0===N||N.execute(),""})()}}class lo{constructor(h,y,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof h?document.getElementById(h):h;ce(J,"argument-error",{appName:y}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ta(w){const h=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<w;N++)h.push(y.charAt(Math.floor(Math.random()*y.length)));return h.join("")}(50);const{callback:h,"expired-callback":y}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jr=vi("rcb"),Lo=new x1(3e4,6e4);class Oo{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=l1().grecaptcha)||void 0===h||!h.render)}load(h,y=""){return ce(function Gs(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),h,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(l1().grecaptcha):new Promise((N,J)=>{const ae=l1().setTimeout(()=>{J(ht(h,"network-request-failed"))},Lo.get());l1()[Jr]=()=>{l1().clearTimeout(ae),delete l1()[Jr];const Tt=l1().grecaptcha;if(!Tt)return void J(ht(h,"internal-error"));const v1=Tt.render;Tt.render=(H1,bn)=>{const hn=v1(H1,bn);return this.counter++,hn},this.hostLanguage=y,N(Tt)},ys(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:Jr,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ae),J(ht(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var y;return!(null===(y=l1().grecaptcha)||void 0===y||!y.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ds{load(h){return(0,l.Z)(function*(){return new h2(h)})()}clearedOneInstance(){}}const vt="recaptcha",uo={theme:"light",type:"image"};class c2{constructor(h,y=Object.assign({},uo),N){this.parameters=y,this.type=vt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(N),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof h?document.getElementById(h):h;ce(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ds:new Oo,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const y=yield h.render(),N=h.getAssertedRecaptcha();return N.getResponse(y)||new Promise(ae=>{const qe=Tt=>{!Tt||(h.tokenChangeListeners.delete(qe),ae(Tt))};h.tokenChangeListeners.add(qe),h.isInvisible&&N.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return y=>{if(this.tokenChangeListeners.forEach(N=>N(y)),"function"==typeof h)h(y);else if("string"==typeof h){const N=l1()[h];"function"==typeof N&&N(y)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let y=h.container;if(!h.isInvisible){const N=document.createElement("div");y.appendChild(N),y=N}h.widgetId=h.getAssertedRecaptcha().render(y,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){ce(y1()&&!Qs(),h.auth,"internal-error"),yield function to(){let w=null;return new Promise(h=>{"complete"!==document.readyState?(w=()=>h(),window.addEventListener("load",w)):h()}).catch(h=>{throw w&&window.removeEventListener("load",w),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const y=yield function Fn(w){return e1.apply(this,arguments)}(h.auth);ce(y,h.auth,"internal-error"),h.parameters.sitekey=y})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bs{constructor(h,y){this.verificationId=h,this.onConfirmation=y}confirm(h){const y=ri._fromVerification(this.verificationId,h);return this.onConfirmation(y)}}function To(){return(To=(0,l.Z)(function*(w,h,y){const N=Rn(w),J=yield $s(N,h,(0,X.m9)(y));return new bs(J,ae=>e2(N,ae))})).apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w);yield An(!1,N,"phone");const J=yield $s(N.auth,h,(0,X.m9)(y));return new bs(J,ae=>rr(N,ae))})).apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w),J=yield $s(N.auth,h,(0,X.m9)(y));return new bs(J,ae=>Fr(N,ae))})).apply(this,arguments)}function $s(w,h,y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(w,h,y){var N;const J=yield y.verify();try{let ae;if(ce("string"==typeof J,w,"argument-error"),ce(y.type===vt,w,"argument-error"),ae="string"==typeof h?{phoneNumber:h}:h,"session"in ae){const qe=ae.session;if("phoneNumber"in ae)return ce("enroll"===qe.type,w,"internal-error"),(yield Co(w,{idToken:qe.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{ce("signin"===qe.type,w,"internal-error");const Tt=(null===(N=ae.multiFactorHint)||void 0===N?void 0:N.uid)||ae.multiFactorUid;return ce(Tt,w,"missing-multi-factor-info"),(yield Sn(w,{mfaPendingCredential:qe.credential,mfaEnrollmentId:Tt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:qe}=yield At(w,{phoneNumber:ae.phoneNumber,recaptchaToken:J});return qe}}finally{y._reset()}})).apply(this,arguments)}function I(){return(I=(0,l.Z)(function*(w,h){yield is((0,X.m9)(w),h)})).apply(this,arguments)}let S=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Rn(y)}verifyPhoneNumber(y,N){return $s(this.auth,y,(0,X.m9)(N))}static credential(y,N){return ri._fromVerification(y,N)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:N,temporaryProof:J}=y;return N&&J?ri._fromTokenResponse(N,J):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function R(w,h){return h?rt(h):(ce(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class j extends I2{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return y2(h,this._buildIdpRequest())}_linkToIdToken(h,y){return y2(h,this._buildIdpRequest(y))}_getReauthenticationResolver(h){return y2(h,this._buildIdpRequest())}_buildIdpRequest(h){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(y.idToken=h),y}}function ne(w){return m2(w.auth,new j(w),w.bypassAuthState)}function ve(w){const{auth:h,user:y}=w;return ce(y,h,"internal-error"),ir(y,new j(w),w.bypassAuthState)}function D(w){return g.apply(this,arguments)}function g(){return(g=(0,l.Z)(function*(w){const{auth:h,user:y}=w;return ce(y,h,"internal-error"),is(y,new j(w),w.bypassAuthState)})).apply(this,arguments)}class m{constructor(h,y,N,J,ae=!1){this.auth=h,this.resolver=N,this.user=J,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var h=this;return new Promise(function(){var y=(0,l.Z)(function*(N,J){h.pendingPromise={resolve:N,reject:J};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ae){h.reject(ae)}});return function(N,J){return y.apply(this,arguments)}}())}onAuthEvent(h){var y=this;return(0,l.Z)(function*(){const{urlResponse:N,sessionId:J,postBody:ae,tenantId:qe,error:Tt,type:v1}=h;if(Tt)return void y.reject(Tt);const H1={auth:y.auth,requestUri:N,sessionId:J,tenantId:qe||void 0,postBody:ae||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(v1)(H1))}catch(bn){y.reject(bn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ne;case"linkViaPopup":case"linkViaRedirect":return D;case"reauthViaPopup":case"reauthViaRedirect":return ve;default:at(this.auth,"internal-error")}}resolve(h){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const T=new x1(2e3,1e4);function ee(){return(ee=(0,l.Z)(function*(w,h,y){const N=Rn(w);Pt(w,h,fi);const J=R(N,y);return new p1(N,"signInViaPopup",h,J).executeNotNull()})).apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w);Pt(N.auth,h,fi);const J=R(N.auth,y);return new p1(N.auth,"reauthViaPopup",h,J,N).executeNotNull()})).apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w);Pt(N.auth,h,fi);const J=R(N.auth,y);return new p1(N.auth,"linkViaPopup",h,J,N).executeNotNull()})).apply(this,arguments)}let p1=(()=>{class w extends m{constructor(y,N,J,ae,qe){super(y,N,ae,qe),this.provider=J,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const N=yield y.execute();return ce(N,y.auth,"internal-error"),N})()}onExecution(){var y=this;return(0,l.Z)(function*(){we(1===y.filter.length,"Popup operations only handle one event");const N=as();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],N),y.authWindow.associatedEvent=N,y.resolver._originValidation(y.auth).catch(J=>{y.reject(J)}),y.resolver._isIframeWebStorageSupported(y.auth,J=>{J||y.reject(ht(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ht(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var N,J;this.pollId=null!==(J=null===(N=this.authWindow)||void 0===N?void 0:N.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ht(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,T.get())};y()}}return w.currentPopupAction=null,w})();const on=new Map;class fn extends m{constructor(h,y,N=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,N),this.eventId=null}execute(){var h=()=>super.execute,y=this;return(0,l.Z)(function*(){let N=on.get(y.auth._key());if(!N){try{const ae=(yield function en(w,h){return K1.apply(this,arguments)}(y.resolver,y.auth))?yield h().call(y):null;N=()=>Promise.resolve(ae)}catch(J){N=()=>Promise.reject(J)}on.set(y.auth._key(),N)}return y.bypassAuthState||on.set(y.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(h){var y=()=>super.onAuthEvent,N=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return y().call(N,h);if("unknown"!==h.type){if(h.eventId){const J=yield N.auth._redirectUserForId(h.eventId);if(J)return N.user=J,y().call(N,h);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function K1(){return(K1=(0,l.Z)(function*(w,h){const y=Rs(h),N=ei(w);if(!(yield N._isAvailable()))return!1;const J="true"===(yield N._get(y));return yield N._remove(y),J})).apply(this,arguments)}function b2(w,h){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(w,h){return ei(w)._set(Rs(h),"true")})).apply(this,arguments)}function X2(w,h){on.set(w._key(),h)}function ei(w){return rt(w._redirectPersistence)}function Rs(w){return Pe("pendingRedirect",w.config.apiKey,w.name)}function H(){return(H=(0,l.Z)(function*(w,h,y){const N=Rn(w);Pt(w,h,fi);const J=R(N,y);return yield b2(J,N),J._openRedirect(N,h,"signInViaRedirect")})).apply(this,arguments)}function ye(){return(ye=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w);Pt(N.auth,h,fi);const J=R(N.auth,y);yield b2(J,N.auth);const ae=yield Ht(N);return J._openRedirect(N.auth,h,"reauthViaRedirect",ae)})).apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(w,h,y){const N=(0,X.m9)(w);Pt(N.auth,h,fi);const J=R(N.auth,y);yield An(!1,N,h.providerId),yield b2(J,N.auth);const ae=yield Ht(N);return J._openRedirect(N.auth,h,"linkViaRedirect",ae)})).apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(w,h){return yield Rn(w)._initializationPromise,Bt(w,h,!1)})).apply(this,arguments)}function Bt(w,h){return h1.apply(this,arguments)}function h1(){return(h1=(0,l.Z)(function*(w,h,y=!1){const N=Rn(w),J=R(N,h),qe=yield new fn(N,J,y).execute();return qe&&!y&&(delete qe.user._redirectEventId,yield N._persistUserIfCurrent(qe.user),yield N._setRedirectUser(null,h)),qe})).apply(this,arguments)}function Ht(w){return j1.apply(this,arguments)}function j1(){return(j1=(0,l.Z)(function*(w){const h=as(`${w.uid}:::`);return w._redirectEventId=h,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),h})).apply(this,arguments)}class Oi{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let y=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(h,N)&&(y=!0,this.sendToConsumer(h,N),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ar(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S2(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=h,y=!0)),y}sendToConsumer(h,y){var N;if(h.error&&!S2(h)){const J=(null===(N=h.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";y.onError(ht(this.auth,J))}else y.onAuthEvent(h)}isEventForConsumer(h,y){const N=null===y.eventId||!!h.eventId&&h.eventId===y.eventId;return y.filter.includes(h.type)&&N}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cs(h))}saveEventToCache(h){this.cachedEventUids.add(Cs(h)),this.lastProcessedEventTime=Date.now()}}function Cs(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function S2({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function Ur(w){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(w,h={}){return dn(w,"GET","/v1/projects",h)})).apply(this,arguments)}const Ro=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ns=/^https?/;function Za(){return(Za=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield Ur(w);for(const y of h)try{if(q3(y))return}catch{}at(w,"unauthorized-domain")})).apply(this,arguments)}function q3(w){const h=Rt(),{protocol:y,hostname:N}=new URL(h);if(w.startsWith("chrome-extension://")){const qe=new URL(w);return""===qe.hostname&&""===N?"chrome-extension:"===y&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===y&&qe.hostname===N}if(!Ns.test(y))return!1;if(Ro.test(w))return N===w;const J=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(N)}const B6=new x1(3e4,6e4);function f3(){const w=l1().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Wa=null;function Ca(w){return Wa=Wa||function V4(w){return new Promise((h,y)=>{var N,J,ae;function qe(){f3(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{f3(),y(ht(w,"network-request-failed"))},timeout:B6.get()})}if(null!==(J=null===(N=l1().gapi)||void 0===N?void 0:N.iframes)&&void 0!==J&&J.Iframe)h(gapi.iframes.getContext());else{if(null===(ae=l1().gapi)||void 0===ae||!ae.load){const Tt=vi("iframefcb");return l1()[Tt]=()=>{gapi.load?qe():y(ht(w,"network-request-failed"))},ys(`https://apis.google.com/js/api.js?onload=${Tt}`).catch(v1=>y(v1))}qe()}}).catch(h=>{throw Wa=null,h})}(w),Wa}const K3=new x1(5e3,15e3),As={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y3(w){const h=w.config;ce(h.authDomain,w,"auth-domain-config-required");const y=h.emulator?S1(h,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,N={apiKey:h.apiKey,appName:w.name,v:Ie.SDK_VERSION},J=yi.get(w.config.apiHost);J&&(N.eid=J);const ae=w._getFrameworks();return ae.length&&(N.fw=ae.join(",")),`${y}?${(0,X.xO)(N).slice(1)}`}function Zs(){return Zs=(0,l.Z)(function*(w){const h=yield Ca(w),y=l1().gapi;return ce(y,w,"internal-error"),h.open({where:document.body,url:Y3(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:As,dontclear:!0},N=>new Promise(function(){var J=(0,l.Z)(function*(ae,qe){yield N.restyle({setHideOnLeave:!1});const Tt=ht(w,"network-request-failed"),v1=l1().setTimeout(()=>{qe(Tt)},K3.get());function H1(){l1().clearTimeout(v1),ae(N)}N.ping(H1).then(H1,()=>{qe(Tt)})});return function(ae,qe){return J.apply(this,arguments)}}()))}),Zs.apply(this,arguments)}const Is={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qa{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F4(w,h,y,N,J,ae){ce(w.config.authDomain,w,"auth-domain-config-required"),ce(w.config.apiKey,w,"invalid-api-key");const qe={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:N,v:Ie.SDK_VERSION,eventId:J};if(h instanceof fi){h.setDefaultLanguage(w.languageCode),qe.providerId=h.providerId||"",(0,X.xb)(h.getCustomParameters())||(qe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[v1,H1]of Object.entries(ae||{}))qe[v1]=H1}if(h instanceof Ai){const v1=h.getScopes().filter(H1=>""!==H1);v1.length>0&&(qe.scopes=v1.join(","))}w.tenantId&&(qe.tid=w.tenantId);const Tt=qe;for(const v1 of Object.keys(Tt))void 0===Tt[v1]&&delete Tt[v1];return`${function ko({config:w}){return w.emulator?S1(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,X.xO)(Tt).slice(1)}`}const v4="webStorageSupport";class y4 extends class Q3{constructor(h){this.factorId=h}_process(h,y,N){switch(y.type){case"enroll":return this._finalizeEnroll(h,y.credential,N);case"signin":return this._finalizeSignIn(h,y.credential);default:return et("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new y4(h)}_finalizeEnroll(h,y,N){return function Ga(w,h){return dn(w,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(w,h))}(h,{idToken:y,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,y){return function co(w,h){return dn(w,"POST","/v2/accounts/mfaSignIn:finalize",Zt(w,h))}(h,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let v3=(()=>{class w{constructor(){}static assertion(y){return y4._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Po="@firebase/auth";class X3{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const y=this.auth.onIdTokenChanged(N=>{h(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,y),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const y=this.internalListeners.get(h);!y||(this.internalListeners.delete(h),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fo(){return window}function na(){return(na=(0,l.Z)(function*(w,h,y){var N;const{BuildInfo:J}=fo();we(h.sessionId,"AuthEvent did not contain a session ID");const ae=yield Ho(h.sessionId),qe={};return le()?qe.ibi=J.packageName:q1()?qe.apn=J.packageName:at(w,"operation-not-supported-in-this-environment"),J.displayName&&(qe.appDisplayName=J.displayName),qe.sessionId=ae,F4(w,y,h.type,void 0,null!==(N=h.eventId)&&void 0!==N?N:void 0,qe)})).apply(this,arguments)}function y3(){return(y3=(0,l.Z)(function*(w){const{BuildInfo:h}=fo(),y={};le()?y.iosBundleId=h.packageName:q1()?y.androidPackageName=h.packageName:at(w,"operation-not-supported-in-this-environment"),yield Ur(w,y)})).apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(w,h,y){const{cordova:N}=fo();let J=()=>{};try{yield new Promise((ae,qe)=>{let Tt=null;function v1(){var hn;ae();const wr=null===(hn=N.plugins.browsertab)||void 0===hn?void 0:hn.close;"function"==typeof wr&&wr(),"function"==typeof y?.close&&y.close()}function H1(){Tt||(Tt=window.setTimeout(()=>{qe(ht(w,"redirect-cancelled-by-user"))},2e3))}function bn(){"visible"===document?.visibilityState&&H1()}h.addPassiveListener(v1),document.addEventListener("resume",H1,!1),q1()&&document.addEventListener("visibilitychange",bn,!1),J=()=>{h.removePassiveListener(v1),document.removeEventListener("resume",H1,!1),document.removeEventListener("visibilitychange",bn,!1),Tt&&window.clearTimeout(Tt)}})}finally{J()}})).apply(this,arguments)}function Ho(w){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(w){const h=b4(w),y=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(y)).map(J=>J.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function b4(w){if(we(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const h=new ArrayBuffer(w.length),y=new Uint8Array(h);for(let N=0;N<w.length;N++)y[N]=w.charCodeAt(N);return y}(0,X.Pz)("authIdTokenMaxAge"),function ti(w){(0,Ie._registerComponent)(new de.wA("auth",(h,{options:y})=>{const N=h.getProvider("app").getImmediate(),J=h.getProvider("heartbeat"),{apiKey:ae,authDomain:qe}=N.options;return((Tt,v1)=>{ce(ae&&!ae.includes(":"),"invalid-api-key",{appName:Tt.name}),ce(!qe?.includes(":"),"argument-error",{appName:Tt.name});const H1={apiKey:ae,authDomain:qe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(w)},bn=new J1(Tt,v1,H1);return function zt(w,h){const y=h?.persistence||[],N=(Array.isArray(y)?y:[y]).map(rt);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(N,h?.popupRedirectResolver)}(bn,y),bn})(N,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,y,N)=>{h.getProvider("auth-internal").initialize()})),(0,Ie._registerComponent)(new de.wA("auth-internal",h=>{const y=Rn(h.getProvider("auth").getImmediate());return new X3(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)(Po,"0.21.0",function Ps(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,Ie.registerVersion)(Po,"0.21.0","esm2017")}("Browser");class wa extends Oi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(h)),super.onEvent(h)}initialized(){var h=this;return(0,l.Z)(function*(){yield h.initPromise})()}}function j6(w){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(w){const h=yield Ea()._get(C4(w));return h&&(yield Ea()._remove(C4(w))),h})).apply(this,arguments)}function _3(){const w=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const N=Math.floor(Math.random()*h.length);w.push(h.charAt(N))}return w.join("")}function Ea(){return rt(Yr)}function C4(w){return Pe("authEvent",w.config.apiKey,w.name)}function ra(w){if(!w?.includes("?"))return{};const[h,...y]=w.split("?");return(0,X.zd)(y.join("?"))}function G4(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ht("no-auth-event")}}function Ta(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function l2(w=(0,X.z$)()){return!("file:"!==Ta()&&"ionic:"!==Ta()&&"capacitor:"!==Ta()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function hs(){try{const w=self.localStorage,h=as();if(w)return w.setItem(h,"1"),w.removeItem(h),!function L0(w=(0,X.z$)()){return function $4(){return(0,X.w1)()&&11===document?.documentMode}()||function Vs(w=(0,X.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,X.hl)()}catch{return ho()&&(0,X.hl)()}return!1}function ho(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Aa(){return(function cr(){return"http:"===Ta()||"https:"===Ta()}()||(0,X.ru)()||l2())&&!function Na(){return(0,X.b$)()||(0,X.UG)()}()&&hs()&&!ho()}function Bo(){return l2()&&typeof document<"u"}function M4(){return(M4=(0,l.Z)(function*(){return!!Bo()&&new Promise(w=>{const h=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),w(!0)})})})).apply(this,arguments)}const ro={LOCAL:"local",NONE:"none",SESSION:"session"},oa=ce,Zn="persistence";function aa(w){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(w){yield w._initializationPromise;const h=xa(),y=Pe(Zn,w.config.apiKey,w.name);h&&h.setItem(y,w._getPersistence())})).apply(this,arguments)}function xa(){var w;try{return(null===(w=function Uo(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const w4=ce;class Ks{constructor(){this.browserResolver=rt(class ks{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Bt,this._overrideRedirectResult=X2}_openPopup(h,y,N,J){var ae=this;return(0,l.Z)(function*(){var qe;we(null===(qe=ae.eventManagers[h._key()])||void 0===qe?void 0:qe.manager,"_initialize() not called before _openPopup()");const Tt=F4(h,y,N,Rt(),J);return function p3(w,h,y,N=500,J=600){const ae=Math.max((window.screen.availHeight-J)/2,0).toString(),qe=Math.max((window.screen.availWidth-N)/2,0).toString();let Tt="";const v1=Object.assign(Object.assign({},Is),{width:N.toString(),height:J.toString(),top:ae,left:qe}),H1=(0,X.z$)().toLowerCase();y&&(Tt=U1(H1)?"_blank":y),o1(H1)&&(h=h||"http://localhost",v1.scrollbars="yes");const bn=Object.entries(v1).reduce((wr,[Qr,ua])=>`${wr}${Qr}=${ua},`,"");if(function _t(w=(0,X.z$)()){var h;return le(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(H1)&&"_self"!==Tt)return function m3(w,h){const y=document.createElement("a");y.href=w,y.target=h;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(N)}(h||"",Tt),new qa(null);const hn=window.open(h||"",Tt,bn);ce(hn,w,"popup-blocked");try{hn.focus()}catch{}return new qa(hn)}(h,Tt,as())})()}_openRedirect(h,y,N,J){var ae=this;return(0,l.Z)(function*(){return yield ae._originValidation(h),function C1(w){l1().location.href=w}(F4(h,y,N,Rt(),J)),new Promise(()=>{})})()}_initialize(h){const y=h._key();if(this.eventManagers[y]){const{manager:J,promise:ae}=this.eventManagers[y];return J?Promise.resolve(J):(we(ae,"If manager is not set, promise should be"),ae)}const N=this.initAndGetManager(h);return this.eventManagers[y]={promise:N},N.catch(()=>{delete this.eventManagers[y]}),N}initAndGetManager(h){var y=this;return(0,l.Z)(function*(){const N=yield function Ma(w){return Zs.apply(this,arguments)}(h),J=new Oi(h);return N.register("authEvent",ae=>(ce(ae?.authEvent,h,"invalid-auth-event"),{status:J.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[h._key()]={manager:J},y.iframes[h._key()]=N,J})()}_isIframeWebStorageSupported(h,y){this.iframes[h._key()].send(v4,{type:v4},J=>{var ae;const qe=null===(ae=J?.[0])||void 0===ae?void 0:ae[v4];void 0!==qe&&y(!!qe),at(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const y=h._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function $a(w){return Za.apply(this,arguments)}(h)),this.originValidationPromises[y]}get _shouldInitProactively(){return A1()||n1()||le()}}),this.cordovaResolver=rt(class Ya{constructor(){this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bt,this._overrideRedirectResult=X2}_initialize(h){var y=this;return(0,l.Z)(function*(){const N=h._key();let J=y.eventManagers.get(N);return J||(J=new wa(h),y.eventManagers.set(N,J),y.attachCallbackListeners(h,J)),J})()}_openPopup(h){at(h,"operation-not-supported-in-this-environment")}_openRedirect(h,y,N,J){var ae=this;return(0,l.Z)(function*(){!function io(w){var h,y,N,J,ae,qe,Tt,v1,H1,bn;const hn=fo();ce("function"==typeof(null===(h=hn?.universalLinks)||void 0===h?void 0:h.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(typeof(null===(y=hn?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce("function"==typeof(null===(ae=null===(J=null===(N=hn?.cordova)||void 0===N?void 0:N.plugins)||void 0===J?void 0:J.browsertab)||void 0===ae?void 0:ae.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(v1=null===(Tt=null===(qe=hn?.cordova)||void 0===qe?void 0:qe.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===v1?void 0:v1.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(bn=null===(H1=hn?.cordova)||void 0===H1?void 0:H1.InAppBrowser)||void 0===bn?void 0:bn.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const qe=yield ae._initialize(h);yield qe.initialized(),qe.resetRedirect(),function Qi(){on.clear()}(),yield ae._originValidation(h);const Tt=function ia(w,h,y=null){return{type:h,eventId:y,urlResponse:null,sessionId:_3(),postBody:null,tenantId:w.tenantId,error:ht(w,"no-auth-event")}}(h,N,J);yield function Da(w,h){return Ea()._set(C4(w),h)}(h,Tt);const v1=yield function No(w,h,y){return na.apply(this,arguments)}(h,Tt,y),H1=yield function t6(w){const{cordova:h}=fo();return new Promise(y=>{h.plugins.browsertab.isAvailable(N=>{let J=null;N?h.plugins.browsertab.openUrl(w):J=h.InAppBrowser.open(w,function We(w=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),y(J)})})}(v1);return function n6(w,h,y){return Vo.apply(this,arguments)}(h,qe,H1)})()}_isIframeWebStorageSupported(h,y){throw new Error("Method not implemented.")}_originValidation(h){const y=h._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function _4(w){return y3.apply(this,arguments)}(h)),this.originValidationPromises[y]}attachCallbackListeners(h,y){const{universalLinks:N,handleOpenURL:J,BuildInfo:ae}=fo(),qe=setTimeout((0,l.Z)(function*(){yield j6(h),y.onEvent(G4())}),500),Tt=function(){var bn=(0,l.Z)(function*(hn){clearTimeout(qe);const wr=yield j6(h);let Qr=null;wr&&hn?.url&&(Qr=function er(w,h){var y,N;const J=function b3(w){const h=ra(w),y=h.link?decodeURIComponent(h.link):void 0,N=ra(y).link,J=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ra(J).link||J||N||y||w}(h);if(J.includes("/__/auth/callback")){const ae=ra(J),qe=ae.firebaseError?function G6(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(ae.firebaseError)):null,Tt=null===(N=null===(y=qe?.code)||void 0===y?void 0:y.split("auth/"))||void 0===N?void 0:N[1],v1=Tt?ht(Tt):null;return v1?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:v1,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:J,postBody:null}}return null}(wr,hn.url)),y.onEvent(Qr||G4())});return function(wr){return bn.apply(this,arguments)}}();typeof N<"u"&&"function"==typeof N.subscribe&&N.subscribe(null,Tt);const v1=J,H1=`${ae.packageName.toLowerCase()}://`;fo().handleOpenURL=function(){var bn=(0,l.Z)(function*(hn){if(hn.toLowerCase().startsWith(H1)&&Tt({url:hn}),"function"==typeof v1)try{v1(hn)}catch(wr){console.error(wr)}});return function(hn){return bn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Bt,this._overrideRedirectResult=X2}_initialize(h){var y=this;return(0,l.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,y,N,J){var ae=this;return(0,l.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openPopup(h,y,N,J)})()}_openRedirect(h,y,N,J){var ae=this;return(0,l.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._openRedirect(h,y,N,J)})()}_isIframeWebStorageSupported(h,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,y)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Bo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return w4(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,l.Z)(function*(){if(h.underlyingResolver)return;const y=yield function qs(){return M4.apply(this,arguments)}();h.underlyingResolver=y?h.cordovaResolver:h.browserResolver})()}}function Ja(w){return w.unwrap()}function E4(w){return Qa(w)}function Qa(w){const{_tokenResponse:h}=w instanceof X.ZR?w.customData:w;if(!h)return null;if(!(w instanceof X.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return S.credentialFromResult(w);const y=h.providerId;if(!y||"password"===y)return null;let N;switch(y){case"google.com":N=s2;break;case"facebook.com":N=Nr;break;case"github.com":N=hr;break;case"twitter.com":N=wi;break;default:const{oauthIdToken:J,oauthAccessToken:ae,oauthTokenSecret:qe,pendingToken:Tt,nonce:v1}=h;return ae||qe||J||Tt?Tt?y.startsWith("saml.")?hi._create(y,Tt):Xe._fromParams({providerId:y,signInMethod:y,pendingToken:Tt,idToken:J,accessToken:ae}):new J2(y).credential({idToken:J,accessToken:ae,rawNonce:v1}):null}return w instanceof X.ZR?N.credentialFromError(w):N.credentialFromResult(w)}function ws(w,h){return h.catch(y=>{throw y instanceof X.ZR&&function Z4(w,h){var y;const N=null===(y=h.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new za(w,function O2(w,h){var y;const N=(0,X.m9)(w),J=h;return ce(h.customData.operationType,N,"argument-error"),ce(null===(y=J.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,N,"argument-error"),Js._fromError(N,J)}(w,h));else if(N){const J=Qa(h),ae=h;J&&(ae.credential=J,ae.tenantId=N.tenantId||void 0,ae.email=N.email||void 0,ae.phoneNumber=N.phoneNumber||void 0)}}(w,y),y}).then(y=>{const J=y.user;return{operationType:y.operationType,credential:E4(y),additionalUserInfo:sn(y),user:po.getOrCreate(J)}})}function w3(w,h){return r6.apply(this,arguments)}function r6(){return(r6=(0,l.Z)(function*(w,h){const y=yield h;return{verificationId:y.verificationId,confirm:N=>ws(w,y.confirm(N))}})).apply(this,arguments)}class za{constructor(h,y){this.resolver=y,this.auth=function D4(w){return w.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ws(Ja(this.auth),this.resolver.resolveSignIn(h))}}class po{constructor(h){this._delegate=h,this.multiFactor=function oo(w){const h=(0,X.m9)(w);return Mo.has(h)||Mo.set(h,_a._fromUser(h)),Mo.get(h)}(h)}static getOrCreate(h){return po.USER_MAP.has(h)||po.USER_MAP.set(h,new po(h)),po.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var y=this;return(0,l.Z)(function*(){return ws(y.auth,rr(y._delegate,h))})()}linkWithPhoneNumber(h,y){var N=this;return(0,l.Z)(function*(){return w3(N.auth,function Li(w,h,y){return Ir.apply(this,arguments)}(N._delegate,h,y))})()}linkWithPopup(h){var y=this;return(0,l.Z)(function*(){return ws(y.auth,function dt(w,h,y){return St.apply(this,arguments)}(y._delegate,h,Ks))})()}linkWithRedirect(h){var y=this;return(0,l.Z)(function*(){return yield aa(Rn(y.auth)),function Qe(w,h,y){return function mt(w,h,y){return $t.apply(this,arguments)}(w,h,y)}(y._delegate,h,Ks)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var y=this;return(0,l.Z)(function*(){return ws(y.auth,Fr(y._delegate,h))})()}reauthenticateWithPhoneNumber(h,y){return w3(this.auth,function no(w,h,y){return xr.apply(this,arguments)}(this._delegate,h,y))}reauthenticateWithPopup(h){return ws(this.auth,function Se(w,h,y){return Oe.apply(this,arguments)}(this._delegate,h,Ks))}reauthenticateWithRedirect(h){var y=this;return(0,l.Z)(function*(){return yield aa(Rn(y.auth)),function G(w,h,y){return function ie(w,h,y){return ye.apply(this,arguments)}(w,h,y)}(y._delegate,h,Ks)})()}sendEmailVerification(h){return function Y(w,h){return oe.apply(this,arguments)}(this._delegate,h)}unlink(h){var y=this;return(0,l.Z)(function*(){return yield function L2(w,h){return pi.apply(this,arguments)}(y._delegate,h),y})()}updateEmail(h){return function L(w,h){return k((0,X.m9)(w),h,null)}(this._delegate,h)}updatePassword(h){return function q(w,h){return k((0,X.m9)(w),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function A(w,h){return I.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ot(w,h){return xt.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,y){return function fe(w,h,y){return _e.apply(this,arguments)}(this._delegate,h,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}po.USER_MAP=new WeakMap;const ca=ce;let Si=(()=>{class w{constructor(y,N){if(this.app=y,N.isInitialized())return this._delegate=N.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:J}=y.options;ca(J,"invalid-api-key",{appName:y.name}),ca(J,"invalid-api-key",{appName:y.name});const ae=typeof window<"u"?Ks:void 0;this._delegate=N.initialize({options:{persistence:Go(J,y.name),popupRedirectResolver:ae}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,N){!function bi(w,h,y){const N=Rn(w);ce(N._canInitEmulator,N,"emulator-config-failed"),ce(/^https?:\/\//.test(h),N,"invalid-emulator-scheme");const J=!!y?.disableWarnings,ae=W2(h),{host:qe,port:Tt}=function v2(w){const h=W2(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!y)return{host:"",port:null};const N=y[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(N);if(J){const ae=J[1];return{host:ae,port:q2(N.substr(ae.length+1))}}{const[ae,qe]=N.split(":");return{host:ae,port:q2(qe)}}}(h);N.config.emulator={url:`${ae}//${qe}${null===Tt?"":`:${Tt}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:qe,port:Tt,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function w2(){function w(){const h=document.createElement("p"),y=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,y,N)}applyActionCode(y){return function Wi(w,h){return qi.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Ki(this._delegate,y)}confirmPasswordReset(y,N){return function xs(w,h,y){return qr.apply(this,arguments)}(this._delegate,y,N)}createUserWithEmailAndPassword(y,N){var J=this;return(0,l.Z)(function*(){return ws(J._delegate,function U(w,h,y){return V.apply(this,arguments)}(J._delegate,y,N))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function os(w,h){return Bi.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Pn(w,h){return"EMAIL_SIGNIN"===Pi.parseLink(h)?.operation}(0,y)}getRedirectResult(){var y=this;return(0,l.Z)(function*(){ca(Aa(),y._delegate,"operation-not-supported-in-this-environment");const N=yield function w1(w,h){return Lt.apply(this,arguments)}(y._delegate,Ks);return N?ws(y._delegate,Promise.resolve(N)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function $6(w,h){Rn(w)._logFramework(h)}(this._delegate,y)}onAuthStateChanged(y,N,J){const{next:ae,error:qe,complete:Tt}=La(y,N,J);return this._delegate.onAuthStateChanged(ae,qe,Tt)}onIdTokenChanged(y,N,J){const{next:ae,error:qe,complete:Tt}=La(y,N,J);return this._delegate.onIdTokenChanged(ae,qe,Tt)}sendSignInLinkToEmail(y,N){return function ut(w,h,y){return M1.apply(this,arguments)}(this._delegate,y,N)}sendPasswordResetEmail(y,N){return function Di(w,h,y){return a2.apply(this,arguments)}(this._delegate,y,N||void 0)}setPersistence(y){var N=this;return(0,l.Z)(function*(){let J;switch(function i6(w,h){oa(Object.values(ro).includes(h),w,"invalid-persistence-type"),(0,X.b$)()?oa(h!==ro.SESSION,w,"unsupported-persistence-type"):(0,X.UG)()?oa(h===ro.NONE,w,"unsupported-persistence-type"):ho()?oa(h===ro.NONE||h===ro.LOCAL&&(0,X.hl)(),w,"unsupported-persistence-type"):oa(h===ro.NONE||hs(),w,"unsupported-persistence-type")}(N._delegate,y),y){case ro.SESSION:J=vs;break;case ro.LOCAL:J=(yield rt(Kn)._isAvailable())?Kn:Yr;break;case ro.NONE:J=De;break;default:return at("argument-error",{appName:N._delegate.name})}return N._delegate.setPersistence(J)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return ws(this._delegate,function ns(w){return d2.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return ws(this._delegate,e2(this._delegate,y))}signInWithCustomToken(y){return ws(this._delegate,function Zi(w,h){return mi.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,N){return ws(this._delegate,function re(w,h,y){return e2((0,X.m9)(w),z2.credential(h,y))}(this._delegate,y,N))}signInWithEmailLink(y,N){return ws(this._delegate,function yr(w,h,y){return sr.apply(this,arguments)}(this._delegate,y,N))}signInWithPhoneNumber(y,N){return w3(this._delegate,function Os(w,h,y){return To.apply(this,arguments)}(this._delegate,y,N))}signInWithPopup(y){var N=this;return(0,l.Z)(function*(){return ca(Aa(),N._delegate,"operation-not-supported-in-this-environment"),ws(N._delegate,function B(w,h,y){return ee.apply(this,arguments)}(N._delegate,y,Ks))})()}signInWithRedirect(y){var N=this;return(0,l.Z)(function*(){return ca(Aa(),N._delegate,"operation-not-supported-in-this-environment"),yield aa(N._delegate),function E2(w,h,y){return function zr(w,h,y){return H.apply(this,arguments)}(w,h,y)}(N._delegate,y,Ks)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function Kr(w,h){return $.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=ro,w})();function La(w,h,y){let N=w;"function"!=typeof w&&({next:N,error:h,complete:y}=w);const J=N;return{next:qe=>J(qe&&po.getOrCreate(qe)),error:h,complete:y}}function Go(w,h){const y=function Ia(w,h){const y=xa();if(!y)return[];const N=Pe(Zn,w,h);switch(y.getItem(N)){case ro.NONE:return[De];case ro.LOCAL:return[Kn,vs];case ro.SESSION:return[vs];default:return[]}}(w,h);if(typeof self<"u"&&!y.includes(Kn)&&y.push(Kn),typeof window<"u")for(const N of[Yr,vs])y.includes(N)||y.push(N);return y.includes(De)||y.push(De),y}class la{constructor(){this.providerId="phone",this._delegate=new S(Ja(_.Z.auth()))}static credential(h,y){return S.credential(h,y)}verifyPhoneNumber(h,y){return this._delegate.verifyPhoneNumber(h,y)}unwrap(){return this._delegate}}la.PHONE_SIGN_IN_METHOD=S.PHONE_SIGN_IN_METHOD,la.PROVIDER_ID=S.PROVIDER_ID;const mo=ce;class D3{constructor(h,y,N=_.Z.app()){var J;mo(null===(J=N.options)||void 0===J?void 0:J.apiKey,"invalid-api-key",{appName:N.name}),this._delegate=new c2(h,y,N.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Xa(w){w.INTERNAL.registerComponent(new de.wA("auth-compat",h=>{const y=h.getProvider("app-compat").getImmediate(),N=h.getProvider("auth");return new Si(y,N)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:z2,FacebookAuthProvider:Nr,GithubAuthProvider:hr,GoogleAuthProvider:s2,OAuthProvider:J2,SAMLAuthProvider:si,PhoneAuthProvider:la,PhoneMultiFactorGenerator:v3,RecaptchaVerifier:D3,TwitterAuthProvider:wi,Auth:Si,AuthCredential:I2,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.3.0")}(_.Z)},8766:(r1,Je,F)=>{F.d(Je,{Lj:()=>at,X3:()=>s1});var l=F(5861);let X,Ie;const de=new WeakMap,Re=new WeakMap,Ve=new WeakMap,he=new WeakMap,pe=new WeakMap;let st={get(ce,et,we){if(ce instanceof IDBTransaction){if("done"===et)return Re.get(ce);if("objectStoreNames"===et)return ce.objectStoreNames||Ve.get(ce);if("store"===et)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return ot(ce[et])},set:(ce,et,we)=>(ce[et]=we,!0),has:(ce,et)=>ce instanceof IDBTransaction&&("done"===et||"store"===et)||et in ce};function ft(ce){return"function"==typeof ce?function Gt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...et){return ce.apply(He(this),et),ot(de.get(this))}:function(...et){return ot(ce.apply(He(this),et))}:function(et,...we){const Le=ce.call(He(this),et,...we);return Ve.set(Le,et.sort?et.sort():[et]),ot(Le)}}(ce):(ce instanceof IDBTransaction&&function it(ce){if(Re.has(ce))return;const et=new Promise((we,Le)=>{const rt=()=>{ce.removeEventListener("complete",Fe),ce.removeEventListener("error",zt),ce.removeEventListener("abort",zt)},Fe=()=>{we(),rt()},zt=()=>{Le(ce.error||new DOMException("AbortError","AbortError")),rt()};ce.addEventListener("complete",Fe),ce.addEventListener("error",zt),ce.addEventListener("abort",zt)});Re.set(ce,et)}(ce),((ce,et)=>et.some(we=>ce instanceof we))(ce,function Te(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,st):ce)}function ot(ce){if(ce instanceof IDBRequest)return function ze(ce){const et=new Promise((we,Le)=>{const rt=()=>{ce.removeEventListener("success",Fe),ce.removeEventListener("error",zt)},Fe=()=>{we(ot(ce.result)),rt()},zt=()=>{Le(ce.error),rt()};ce.addEventListener("success",Fe),ce.addEventListener("error",zt)});return et.then(we=>{we instanceof IDBCursor&&de.set(we,ce)}).catch(()=>{}),pe.set(et,ce),et}(ce);if(he.has(ce))return he.get(ce);const et=ft(ce);return et!==ce&&(he.set(ce,et),pe.set(et,ce)),et}const He=ce=>pe.get(ce);function s1(ce,et,{blocked:we,upgrade:Le,blocking:rt,terminated:Fe}={}){const zt=indexedDB.open(ce,et),Rt=ot(zt);return Le&&zt.addEventListener("upgradeneeded",y1=>{Le(ot(zt.result),y1.oldVersion,y1.newVersion,ot(zt.transaction))}),we&&zt.addEventListener("blocked",()=>we()),Rt.then(y1=>{Fe&&y1.addEventListener("close",()=>Fe()),rt&&y1.addEventListener("versionchange",()=>rt())}).catch(()=>{}),Rt}function at(ce,{blocked:et}={}){const we=indexedDB.deleteDatabase(ce);return et&&we.addEventListener("blocked",()=>et()),ot(we).then(()=>{})}const ht=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],Pt=new Map;function Ct(ce,et){if(!(ce instanceof IDBDatabase)||et in ce||"string"!=typeof et)return;if(Pt.get(et))return Pt.get(et);const we=et.replace(/FromIndex$/,""),Le=et!==we,rt=tt.includes(we);if(!(we in(Le?IDBIndex:IDBObjectStore).prototype)||!rt&&!ht.includes(we))return;const Fe=function(){var zt=(0,l.Z)(function*(Rt,...y1){const B1=this.transaction(Rt,rt?"readwrite":"readonly");let O1=B1.store;return Le&&(O1=O1.index(y1.shift())),(yield Promise.all([O1[we](...y1),rt&&B1.done]))[0]});return function(y1){return zt.apply(this,arguments)}}();return Pt.set(et,Fe),Fe}!function Ye(ce){st=ce(st)}(ce=>({...ce,get:(et,we,Le)=>Ct(et,we)||ce.get(et,we,Le),has:(et,we)=>!!Ct(et,we)||ce.has(et,we)}))},5861:(r1,Je,F)=>{function l(X,Ie,Te,Ne,de,Re,Ve){try{var he=X[Re](Ve),pe=he.value}catch(ze){return void Te(ze)}he.done?Ie(pe):Promise.resolve(pe).then(Ne,de)}function _(X){return function(){var Ie=this,Te=arguments;return new Promise(function(Ne,de){var Re=X.apply(Ie,Te);function Ve(pe){l(Re,Ne,de,Ve,he,"next",pe)}function he(pe){l(Re,Ne,de,Ve,he,"throw",pe)}Ve(void 0)})}}F.d(Je,{Z:()=>_})}},r1=>{r1(r1.s=1668)}]);