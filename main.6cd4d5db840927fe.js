"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{6217:($t,We,U)=>{U.d(We,{nm:()=>Mi});var l=U(2122);U(4650),U(259);var tt=U(5861),at=U(9681),Ke=U(4859),xt=U(2090),bt=U(1877);const le=new Map,ct={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function Ie(Ge){return le.get(Ge)||Object.assign({},ct)}function Pe(){return ye}class b1{constructor(Fe,qe,Ct,Ft,C1){if(this.operation=Fe,this.retryPolicy=qe,this.getWaitDuration=Ct,this.lowerBound=Ft,this.upperBound=C1,this.pending=null,this.nextErrorWaitInterval=Ft,Ft>C1)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Fe){var qe=this;return(0,tt.Z)(function*(){qe.stop();try{qe.pending=new xt.BH,yield function p1(Ge){return new Promise(Fe=>{setTimeout(Fe,Ge)})}(qe.getNextRun(Fe)),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new xt.BH,yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(Ct){qe.retryPolicy(Ct)?qe.process(!1).catch(()=>{}):qe.stop()}})()}getNextRun(Fe){if(Fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const f1=new xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Pt(Ge){if(!Ie(Ge).activated)throw f1.create("use-before-activation",{appName:Ge.name})}function Pn(Ge,Fe){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,tt.Z)(function*({url:Ge,body:Fe},qe){const Ct={"Content-Type":"application/json"},Ft=qe.getImmediate({optional:!0});if(Ft){const si=yield Ft.getHeartbeatsHeader();si&&(Ct["X-Firebase-Client"]=si)}const C1={method:"POST",body:JSON.stringify(Fe),headers:Ct};let V1,Bn;try{V1=yield fetch(Ge,C1)}catch(si){throw f1.create("fetch-network-error",{originalErrorMessage:si?.message})}if(200!==V1.status)throw f1.create("fetch-status-error",{httpStatus:V1.status});try{Bn=yield V1.json()}catch(si){throw f1.create("fetch-parse-error",{originalErrorMessage:si?.message})}const gn=Bn.ttl.match(/^([\d.]+)(s)$/);if(!gn||!gn[2]||isNaN(Number(gn[1])))throw f1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Bn.ttl}`});const sr=1e3*Number(gn[1]),zr=Date.now();return{token:Bn.token,expireTimeMillis:zr+sr,issuedAtTimeMillis:zr}})).apply(this,arguments)}function c2(Ge,Fe){const{projectId:qe,appId:Ct,apiKey:Ft}=Ge.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${qe}/apps/${Ct}:exchangeDebugToken?key=${Ft}`,body:{debug_token:Fe}}}const m2="firebase-app-check-store";let mn=null;function Tn(){return mn||(mn=new Promise((Ge,Fe)=>{try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=Ct=>{Ge(Ct.target.result)},qe.onerror=Ct=>{var Ft;Fe(f1.create("storage-open",{originalErrorMessage:null===(Ft=Ct.target.error)||void 0===Ft?void 0:Ft.message}))},qe.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore(m2,{keyPath:"compositeKey"})}}catch(qe){Fe(f1.create("storage-open",{originalErrorMessage:qe?.message}))}}),mn)}function W1(){return(W1=(0,tt.Z)(function*(Ge,Fe){const Ct=(yield Tn()).transaction(m2,"readwrite"),C1=Ct.objectStore(m2).put({compositeKey:Ge,value:Fe});return new Promise((V1,Bn)=>{C1.onsuccess=gn=>{V1()},Ct.onerror=gn=>{var sr;Bn(f1.create("storage-set",{originalErrorMessage:null===(sr=gn.target.error)||void 0===sr?void 0:sr.message}))}})})).apply(this,arguments)}const bn=new bt.Yd("@firebase/app-check");function T1(Ge,Fe){return(0,xt.hl)()?function U2(Ge,Fe){return function sn(Ge,Fe){return W1.apply(this,arguments)}(function an(Ge){return`${Ge.options.appId}-${Ge.name}`}(Ge),Fe)}(Ge,Fe).catch(qe=>{bn.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function j2(){return Pe().enabled}function Cn(){return l2.apply(this,arguments)}function l2(){return(l2=(0,tt.Z)(function*(){const Ge=Pe();if(Ge.enabled&&Ge.token)return Ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Qt={error:"UNKNOWN_ERROR"};function _t(Ge){return xt.US.encodeString(JSON.stringify(Ge),!1)}function Xt(Ge){return A1.apply(this,arguments)}function A1(){return(A1=(0,tt.Z)(function*(Ge,Fe=!1){const qe=Ge.app;Pt(qe);const Ct=Ie(qe);let C1,Ft=Ct.token;if(Ft&&!pt(Ft)&&(Ct.token=void 0,Ft=void 0),!Ft){const gn=yield Ct.cachedTokenPromise;gn&&(pt(gn)?Ft=gn:yield T1(qe,void 0))}if(!Fe&&Ft&&pt(Ft))return{token:Ft.token};let Bn,V1=!1;if(j2()){Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=Pn(c2(qe,yield Cn()),Ge.heartbeatServiceProvider).finally(()=>{Ct.exchangeTokenPromise=void 0}),V1=!0);const gn=yield Ct.exchangeTokenPromise;return yield T1(qe,gn),Ct.token=gn,{token:gn.token}}try{Ct.exchangeTokenPromise||(Ct.exchangeTokenPromise=Ct.provider.getToken().finally(()=>{Ct.exchangeTokenPromise=void 0}),V1=!0),Ft=yield Ie(qe).exchangeTokenPromise}catch(gn){"appCheck/throttled"===gn.code?bn.warn(gn.message):bn.error(gn),C1=gn}return Ft?C1?Bn=pt(Ft)?{token:Ft.token,internalError:C1}:Ue(C1):(Bn={token:Ft.token},Ct.token=Ft,yield T1(qe,Ft)):Bn=Ue(C1),V1&&xe(qe,Bn),Bn})).apply(this,arguments)}function z1(Ge,Fe){const qe=Ie(Ge),Ct=qe.tokenObservers.filter(Ft=>Ft.next!==Fe);0===Ct.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),qe.tokenObservers=Ct}function Se(Ge){const{app:Fe}=Ge,qe=Ie(Fe);let Ct=qe.tokenRefresher;Ct||(Ct=function _e(Ge){const{app:Fe}=Ge;return new b1((0,tt.Z)(function*(){let Ct;if(Ct=Ie(Fe).token?yield Xt(Ge,!0):yield Xt(Ge),Ct.error)throw Ct.error;if(Ct.internalError)throw Ct.internalError}),()=>!0,()=>{const qe=Ie(Fe);if(qe.token){let Ct=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return Ct=Math.min(Ct,qe.token.expireTimeMillis-3e5),Math.max(0,Ct-Date.now())}return 0},3e4,96e4)}(Ge),qe.tokenRefresher=Ct),!Ct.isRunning()&&qe.isTokenAutoRefreshEnabled&&Ct.start()}function xe(Ge,Fe){const qe=Ie(Ge).tokenObservers;for(const Ct of qe)try{"EXTERNAL"===Ct.type&&null!=Fe.error?Ct.error(Fe.error):Ct.next(Fe)}catch{}}function pt(Ge){return Ge.expireTimeMillis-Date.now()>0}function Ue(Ge){return{token:_t(Qt),error:Ge}}class jt{constructor(Fe,qe){this.app=Fe,this.heartbeatServiceProvider=qe}_delete(){const{tokenObservers:Fe}=Ie(this.app);for(const qe of Fe)z1(this.app,qe.next);return Promise.resolve()}}const Q2="app-check-internal";!function ui(){(0,at._registerComponent)(new Ke.wA("app-check",Ge=>function e1(Ge,Fe){return new jt(Ge,Fe)}(Ge.getProvider("app").getImmediate(),Ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ge,Fe,qe)=>{Ge.getProvider(Q2).initialize()})),(0,at._registerComponent)(new Ke.wA(Q2,Ge=>function G1(Ge){return{getToken:Fe=>Xt(Ge,Fe),addTokenListener:Fe=>function I1(Ge,Fe,qe,Ct){const{app:Ft}=Ge,C1=Ie(Ft);if(C1.tokenObservers=[...C1.tokenObservers,{next:qe,error:Ct,type:Fe}],C1.token&&pt(C1.token)){const Bn=C1.token;Promise.resolve().then(()=>{qe({token:Bn.token}),Se(Ge)}).catch(()=>{})}C1.cachedTokenPromise.then(()=>Se(Ge))}(Ge,"INTERNAL",Fe),removeTokenListener:Fe=>z1(Ge.app,Fe)}}(Ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,at.registerVersion)("@firebase/app-check","0.6.0")}();class Mi{constructor(){return(0,l.vb)("app-check")}}typeof window<"u"&&window},3385:($t,We,U)=>{U.d(We,{zQ:()=>Ie,ww:()=>Ye,rT:()=>bt,f7:()=>ct,L6:()=>Ke,_Q:()=>xt,lh:()=>le,Qv:()=>at,nw:()=>ye});var l=U(4650),M=U(7579),X=U(9646),Ce=U(9751),Te=U(8996),Ee=U(6451),Re=U(5363),ze=U(3900),ke=U(4004),pe=U(3151),he=U(590),Ne=U(576);function st(Pe,Mt){return(0,Ne.m)(Mt)?(0,ze.w)(()=>Pe,Mt):(0,ze.w)(()=>Pe)}var et=U(9468),$e=U(9300),Rt=U(2122),ut=U(2011),ot=U(6895),He=U(6217),Wt=U(9260);const at=new l.OlP("angularfire2.auth.use-emulator"),Ke=new l.OlP("angularfire2.auth.settings"),xt=new l.OlP("angularfire2.auth.tenant-id"),bt=new l.OlP("angularfire2.auth.langugage-code"),le=new l.OlP("angularfire2.auth.use-device-language"),ct=new l.OlP("angularfire.auth.persistence"),ye=(Pe,Mt,wt,a1,j1,N1,Nt,b1)=>(0,ut.cc)(`${Pe.name}.auth`,"AngularFireAuth",Pe.name,()=>{const p1=Mt.runOutsideAngular(()=>Pe.auth());if(wt&&p1.useEmulator(...wt),a1&&(p1.tenantId=a1),p1.languageCode=j1,N1&&p1.useDeviceLanguage(),Nt)for(const[m1,f1]of Object.entries(Nt))p1.settings[m1]=f1;return b1&&p1.setPersistence(b1),p1},[wt,a1,j1,N1,Nt,b1]);let Ie=(()=>{class Pe{constructor(wt,a1,j1,N1,Nt,b1,p1,m1,f1,n2,Pt,en){const pn=new M.x,Pn=(0,X.of)(void 0).pipe((0,Re.Q)(Nt.outsideAngular),(0,ze.w)(()=>N1.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9169)))),(0,ke.U)(()=>(0,ut.on)(wt,N1,a1)),(0,ke.U)(Fn=>ye(Fn,N1,b1,m1,f1,n2,p1,Pt)),(0,pe.d)({bufferSize:1,refCount:!1}));if((0,ot.PM)(j1))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{Pn.pipe((0,he.P)()).subscribe();const r2=Pn.pipe((0,ze.w)(R1=>R1.getRedirectResult().then(On=>On,()=>null)),Rt.iC,(0,pe.d)({bufferSize:1,refCount:!1})),Yn=Pn.pipe((0,ze.w)(R1=>new Ce.y(On=>({unsubscribe:N1.runOutsideAngular(()=>R1.onAuthStateChanged(m2=>On.next(m2),m2=>On.error(m2),()=>On.complete()))})))),c2=Pn.pipe((0,ze.w)(R1=>new Ce.y(On=>({unsubscribe:N1.runOutsideAngular(()=>R1.onIdTokenChanged(m2=>On.next(m2),m2=>On.error(m2),()=>On.complete()))}))));this.authState=r2.pipe(st(Yn),(0,et.R)(Nt.outsideAngular),(0,Re.Q)(Nt.insideAngular)),this.user=r2.pipe(st(c2),(0,et.R)(Nt.outsideAngular),(0,Re.Q)(Nt.insideAngular)),this.idToken=this.user.pipe((0,ze.w)(R1=>R1?(0,Te.D)(R1.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,ze.w)(R1=>R1?(0,Te.D)(R1.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,Ee.T)(r2,pn,this.authState.pipe((0,$e.h)(R1=>!R1))).pipe((0,ke.U)(R1=>R1?.user?R1:null),(0,et.R)(Nt.outsideAngular),(0,Re.Q)(Nt.insideAngular))}return(0,ut.pX)(this,Pn,N1,{spy:{apply:(Fn,r2,Yn)=>{(Fn.startsWith("signIn")||Fn.startsWith("createUser"))&&Yn.then(c2=>pn.next(c2))}}})}}return Pe.\u0275fac=function(wt){return new(wt||Pe)(l.LFG(ut.Dh),l.LFG(ut.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Rt.HU),l.LFG(at,8),l.LFG(Ke,8),l.LFG(xt,8),l.LFG(bt,8),l.LFG(le,8),l.LFG(ct,8),l.LFG(He.nm,8))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"any"}),Pe})(),Ye=(()=>{class Pe{constructor(){Wt.Z.registerVersion("angularfire",Rt.q4.full,"auth-compat")}}return Pe.\u0275fac=function(wt){return new(wt||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({providers:[Ie]}),Pe})()},3101:($t,We,U)=>{U.d(We,{ST:()=>wl,yb:()=>Du});var l=U(4650),M=U(4986),X=U(9751),Ce=U(8996),Te=U(9646),Ee=U(2122),Re=U(8675),ze=U(4482),ke=U(5403);function pe(){return(0,ze.e)((r,e)=>{let t,s=!1;r.subscribe((0,ke.x)(e,c=>{const g=t;t=c,s&&e.next([g,c]),s=!0}))})}var le,he=U(4004),Ne=U(5026),st=U(1884),et=U(9300),$e=U(2011),Rt=U(6895),ot=(U(9169),U(3942)),He=U(5861),Wt=U(9681),tt=U(4859),at=U(1877),Ke=U(2090),xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt={},ct=ct||{},ye=xt||self;function Ie(){}function Ye(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Pe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var wt="closure_uid_"+(1e9*Math.random()>>>0),a1=0;function j1(r,e,t){return r.call.apply(r.bind,arguments)}function N1(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function Nt(r,e,t){return(Nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j1:N1).apply(null,arguments)}function b1(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function p1(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(s,c,g){for(var w=Array(arguments.length-2),L=2;L<arguments.length;L++)w[L-2]=arguments[L];return e.prototype[c].apply(s,w)}}function m1(){this.s=this.s,this.o=this.o}m1.prototype.s=!1,m1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Mt(r){Object.prototype.hasOwnProperty.call(r,wt)&&r[wt]||(r[wt]=++a1)}(this)},m1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n2=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Pt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function en(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ye(s)){const c=r.length||0,g=s.length||0;r.length=c+g;for(let w=0;w<g;w++)r[c+w]=s[w]}else r.push(s)}}function pn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ye.addEventListener("test",Ie,e),ye.removeEventListener("test",Ie,e)}catch{}return r}();function Fn(r){return/^[\s\xa0]*$/.test(r)}var r2=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Yn(r,e){return r<e?-1:r>e?1:0}function c2(){var r=ye.navigator;return r&&(r=r.userAgent)?r:""}function R1(r){return-1!=c2().indexOf(r)}function On(r){return On[" "](r),r}On[" "]=Ie;var sn,r,Vt=R1("Opera"),mn=R1("Trident")||R1("MSIE"),Tn=R1("Edge"),rn=Tn||mn,U2=R1("Gecko")&&!(-1!=c2().toLowerCase().indexOf("webkit")&&!R1("Edge"))&&!(R1("Trident")||R1("MSIE"))&&!R1("Edge"),Ci=-1!=c2().toLowerCase().indexOf("webkit")&&!R1("Edge");function ln(){var r=ye.document;return r?r.documentMode:void 0}e:{var W1="",Jt=(r=c2(),U2?/rv:([^\);]+)(\)|;)/.exec(r):Tn?/Edge\/([\d\.]+)/.exec(r):mn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ci?/WebKit\/(\S+)/.exec(r):Vt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Jt&&(W1=Jt?Jt[1]:""),mn){var t1=ln();if(null!=t1&&t1>parseFloat(W1)){sn=String(t1);break e}}sn=W1}var an={};var T1=ye.document&&mn&&(ln()||parseInt(sn,10))||void 0;function C2(r,e){if(pn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(U2){e:{try{On(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Q1[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&C2.X.h.call(this)}}p1(C2,pn);var Q1={2:"touch",3:"pen",4:"mouse"};C2.prototype.h=function(){C2.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var j2="closure_listenable_"+(1e6*Math.random()|0),Cn=0;function l2(r,e,t,s,c){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=c,this.key=++Cn,this.ba=this.ea=!1}function M2(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function Qt(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function _t(r){const e={};for(const t in r)e[t]=r[t];return e}const Xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A1(r,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)r[t]=s[t];for(let g=0;g<Xt.length;g++)t=Xt[g],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function I1(r){this.src=r,this.g={},this.h=0}function z1(r,e){var t=e.type;if(t in r.g){var g,s=r.g[t],c=n2(s,e);(g=0<=c)&&Array.prototype.splice.call(s,c,1),g&&(M2(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Se(r,e,t,s){for(var c=0;c<r.length;++c){var g=r[c];if(!g.ba&&g.listener==e&&g.capture==!!t&&g.ha==s)return c}return-1}I1.prototype.add=function(r,e,t,s,c){var g=r.toString();(r=this.g[g])||(r=this.g[g]=[],this.h++);var w=Se(r,e,s,c);return-1<w?(e=r[w],t||(e.ea=!1)):((e=new l2(e,this.src,g,!!s,c)).ea=t,r.push(e)),e};var _e="closure_lm_"+(1e6*Math.random()|0),xe={};function pt(r,e,t,s,c){if(s&&s.once)return e1(r,e,t,s,c);if(Array.isArray(e)){for(var g=0;g<e.length;g++)pt(r,e[g],t,s,c);return null}return t=je(t),r&&r[j2]?r.N(e,t,Pe(s)?!!s.capture:!!s,c):Ue(r,e,t,!1,s,c)}function Ue(r,e,t,s,c,g){if(!e)throw Error("Invalid event type");var w=Pe(c)?!!c.capture:!!c,L=fe(r);if(L||(r[_e]=L=new I1(r)),(t=L.add(e,t,s,w,g)).proxy)return t;if(s=function jt(){const e=be;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Pn||(c=w),void 0===c&&(c=!1),r.addEventListener(e.toString(),s,c);else if(r.attachEvent)r.attachEvent(K1(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function e1(r,e,t,s,c){if(Array.isArray(e)){for(var g=0;g<e.length;g++)e1(r,e[g],t,s,c);return null}return t=je(t),r&&r[j2]?r.O(e,t,Pe(s)?!!s.capture:!!s,c):Ue(r,e,t,!0,s,c)}function G1(r,e,t,s,c){if(Array.isArray(e))for(var g=0;g<e.length;g++)G1(r,e[g],t,s,c);else s=Pe(s)?!!s.capture:!!s,t=je(t),r&&r[j2]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Se(g=r.g[e],t,s,c))&&(M2(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete r.g[e],r.h--))):r&&(r=fe(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Se(e,t,s,c)),(t=-1<r?e[r]:null)&&un(t))}function un(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[j2])z1(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(K1(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=fe(e))?(z1(t,r),0==t.h&&(t.src=null,e[_e]=null)):M2(r)}}}function K1(r){return r in xe?xe[r]:xe[r]="on"+r}function be(r,e){if(r.ba)r=!0;else{e=new C2(e,this);var t=r.listener,s=r.ha||r.src;r.ea&&un(r),r=t.call(s,e)}return r}function fe(r){return(r=r[_e])instanceof I1?r:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(r){return"function"==typeof r?r:(r[ue]||(r[ue]=function(e){return r.handleEvent(e)}),r[ue])}function ft(){m1.call(this),this.i=new I1(this),this.P=this,this.I=null}function Ut(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new pn(e,r);else if(e instanceof pn)e.target=e.target||r;else{var c=e;A1(e=new pn(s,r),c)}if(c=!0,t)for(var g=t.length-1;0<=g;g--){var w=e.g=t[g];c=g1(w,s,!0,e)&&c}if(c=g1(w=e.g=r,s,!0,e)&&c,c=g1(w,s,!1,e)&&c,t)for(g=0;g<t.length;g++)c=g1(w=e.g=t[g],s,!1,e)&&c}function g1(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,g=0;g<e.length;++g){var w=e[g];if(w&&!w.ba&&w.capture==t){var L=w.listener,Z=w.ha||w.src;w.ea&&z1(r.i,w),c=!1!==L.call(Z,s)&&c}}return c&&!s.defaultPrevented}p1(ft,m1),ft.prototype[j2]=!0,ft.prototype.removeEventListener=function(r,e,t,s){G1(this,r,e,t,s)},ft.prototype.M=function(){if(ft.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)M2(t[s]);delete r.g[e],r.h--}}this.I=null},ft.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},ft.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var B1=ye.JSON.stringify;function Mn(){var r=G2;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var J2,P1=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new An,r=>r.reset());class An{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function w2(r){ye.setTimeout(()=>{throw r},0)}function xi(r,e){J2||function u2(){var r=ye.Promise.resolve(void 0);J2=function(){r.then(O2)}}(),ii||(J2(),ii=!0),G2.add(r,e)}var ii=!1,G2=new class Y2{constructor(){this.h=this.g=null}add(e,t){const s=P1.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function O2(){for(var r;r=Mn();){try{r.h.call(r.g)}catch(t){w2(t)}var e=P1;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ii=!1}function g2(r,e){ft.call(this),this.h=r||1,this.g=e||ye,this.j=Nt(this.lb,this),this.l=Date.now()}function ji(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function kn(r,e,t){if("function"==typeof r)t&&(r=Nt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Nt(r.handleEvent,r)}return 2147483647<Number(e)?-1:ye.setTimeout(r,e||0)}function Wr(r){r.g=kn(()=>{r.g=null,r.i&&(r.i=!1,Wr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}p1(g2,ft),(le=g2.prototype).ca=!1,le.R=null,le.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ut(this,"tick"),this.ca&&(ji(this),this.start()))}},le.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){g2.X.M.call(this),ji(this),delete this.g};class Q2 extends m1{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Wr(this)}M(){super.M(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(r){m1.call(this),this.h=r,this.g={}}p1(ui,m1);var zi=[];function di(r,e,t,s){Array.isArray(t)||(t&&(zi[0]=t.toString()),t=zi);for(var c=0;c<t.length;c++){var g=pt(e,t[c],s||r.handleEvent,!1,r.h||r);if(!g)break;r.g[g.key]=g}}function Mi(r){Qt(r.g,function(e,t){this.g.hasOwnProperty(t)&&un(e)},r),r.g={}}function ri(){this.g=!0}function In(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ir(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var g=c[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var w=1;w<c.length;w++)c[w]=""}}}return B1(t)}catch{return e}}(r,t)+(s?" "+s:"")})}ui.prototype.M=function(){ui.X.M.call(this),Mi(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ri.prototype.Aa=function(){this.g=!1},ri.prototype.info=function(){};var wi={},xr=null;function R2(){return xr=xr||new ft}function qr(r){pn.call(this,wi.Pa,r)}function fs(r){const e=R2();Ut(e,new qr(e))}function so(r,e){pn.call(this,wi.STAT_EVENT,r),this.stat=e}function $2(r){const e=R2();Ut(e,new so(e,r))}function Gs(r,e){pn.call(this,wi.Qa,r),this.size=e}function d2(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){r()},e)}wi.Pa="serverreachability",p1(qr,pn),wi.STAT_EVENT="statevent",p1(so,pn),wi.Qa="timingevent",p1(Gs,pn);var Ge={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fe={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qe(){}function Ft(){}qe.prototype.h=null;var gn,C1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function V1(){pn.call(this,"d")}function Bn(){pn.call(this,"c")}function sr(){}function zr(r,e,t,s){this.l=r,this.j=e,this.m=t,this.U=s||1,this.S=new ui(this),this.O=fi,this.T=new g2(r=rn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}p1(V1,pn),p1(Bn,pn),p1(sr,qe),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},gn=new sr;var fi=45e3,hs={},As={};function Gi(r,e,t){r.K=1,r.v=X2(Ri(e)),r.s=t,r.P=!0,$s(r,null)}function $s(r,e){r.F=Date.now(),hi(r),r.A=Ri(r.v);var t=r.A,s=r.U;Array.isArray(s)||(s=[String(s)]),qs(t.i,"t",s),r.C=0,t=r.l.H,r.h=new si,r.g=br(r.l,t?e:null,!r.s),0<r.N&&(r.L=new Q2(Nt(r.La,r,r.g),r.N)),di(r.S,r.g,"readystatechange",r.ib),e=r.H?_t(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),fs(),function Vn(r,e,t,s,c,g){r.info(function(){if(r.g)if(g)for(var w="",L=g.split("&"),Z=0;Z<L.length;Z++){var Q=L[Z].split("=");if(1<Q.length){var ce=Q[0];Q=Q[1];var Ae=ce.split("_");w=2<=Ae.length&&"type"==Ae[1]?w+(ce+"=")+Q+"&":w+(ce+"=redacted&")}}else w=null;else w=g;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+w})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Li(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function Oi(r,e,t){let c,s=!0;for(;!r.I&&r.C<t.length;){if(c=Yi(r,t),c==As){4==e&&(r.o=4,$2(14),s=!1),In(r.j,r.m,null,"[Incomplete Response]");break}if(c==hs){r.o=4,$2(15),In(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}In(r.j,r.m,c,null),or(r,c)}Li(r)&&c!=As&&c!=hs&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,$2(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),jn(e),e.K=!0,$2(11))):(In(r.j,r.m,t,"[Invalid Chunked Response]"),Kr(r),Lr(r))}function Yi(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?As:(t=Number(e.substring(t,s)),isNaN(t)?hs:(s+=1)+t>e.length?As:(e=e.substr(s,t),r.C=s+t,e))}function hi(r){r.V=Date.now()+r.O,ps(r,r.O)}function ps(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=d2(Nt(r.gb,r),e)}function Di(r){r.B&&(ye.clearTimeout(r.B),r.B=null)}function Lr(r){0==r.l.G||r.I||oi(r.l,r)}function Kr(r){Di(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,ji(r.T),Mi(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function or(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||Dt(t.h,r)))if(!r.J&&Dt(t.h,r)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;vn(t),R(t)}xn(t),$2(18)}}else t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=d2(Nt(t.cb,t),6e3));if(1>=kr(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Wn(t,11)}else if((r.J||t.g==r)&&vn(t),!Fn(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let Q=c[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const ce=Q[3];null!=ce&&(t.ma=ce,t.j.info("VER="+t.ma));const Ae=Q[4];null!=Ae&&(t.Ca=Ae,t.j.info("SVER="+t.Ca));const nt=Q[5];null!=nt&&"number"==typeof nt&&0<nt&&(t.J=s=1.5*nt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const St=r.g;if(St){const Lt=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lt){var g=s.h;g.g||-1==Lt.indexOf("spdy")&&-1==Lt.indexOf("quic")&&-1==Lt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(dn(g,g.h),g.h=null))}if(s.D){const h1=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;h1&&(s.za=h1,s2(s.F,s.D,h1))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var w=r;if((s=t).sa=_r(s,s.H?s.ka:null,s.V),w.J){vr(s.h,w);var L=w,Z=s.J;Z&&L.setTimeout(Z),L.B&&(Di(L),hi(L)),s.g=w}else r1(s);0<t.i.length&&F(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Wn(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Wn(t,7):lo(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}fs()}catch{}}function pi(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ye(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ki(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ye(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ar(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ye(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),c=s.length,g=0;g<c;g++)e.call(void 0,s[g],t&&t[g],r)}(le=zr.prototype).setTimeout=function(r){this.O=r},le.ib=function(r){r=r.target;const e=this.L;e&&3==Vi(r)?e.l():this.La(r)},le.La=function(r){try{if(r==this.g)e:{const ce=Vi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ce)&&(3!=ce||rn||this.g&&(this.h.h||this.g.fa()||co(this.g)))){this.I||4!=ce||7==e||fs(),Di(this);var t=this.g.aa();this.Y=t;t:if(Li(this)){var s=co(this.g);r="";var c=s.length,g=4==Vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),Lr(this);var w="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:g&&e==c-1});s.splice(0,c),this.h.g+=r,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==t,function rr(r,e,t,s,c,g,w){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+g+" "+w})}(this.j,this.u,this.A,this.m,this.U,ce,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var L,Z=this.g;if((L=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fn(L)){var Q=L;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,$2(12),Kr(this),Lr(this);break e}In(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,or(this,t)}this.P?(Oi(this,ce,w),rn&&this.i&&3==ce&&(di(this.S,this.T,"tick",this.hb),this.T.start())):(In(this.j,this.m,w,null),or(this,w)),4==ce&&Kr(this),this.i&&!this.I&&(4==ce?oi(this.l,this):(this.i=!1,hi(this)))}else 400==t&&0<w.indexOf("Unknown SID")?(this.o=3,$2(12)):(this.o=0,$2(13)),Kr(this),Lr(this)}}}catch{}},le.hb=function(){if(this.g){var r=Vi(this.g),e=this.g.fa();this.C<e.length&&(Di(this),Oi(this,r,e),this.i&&4!=r&&hi(this))}},le.cancel=function(){this.I=!0,Kr(this)},le.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function k2(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fs(),$2(17)),Kr(this),this.o=2,Lr(this)):ps(this,this.V-r)};var cr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o2(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof o2){this.h=void 0!==e?e:r.h,ms(this,r.j),this.s=r.s,this.g=r.g,f2(this,r.m),this.l=r.l,e=r.i;var t=new N2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Yr(this,t),this.o=r.o}else r&&(t=String(r).match(cr))?(this.h=!!e,ms(this,t[1]||"",!0),this.s=P2(t[2]||""),this.g=P2(t[3]||"",!0),f2(this,t[4]),this.l=P2(t[5]||"",!0),Yr(this,t[6]||"",!0),this.o=P2(t[7]||"")):(this.h=!!e,this.i=new N2(null,this.h))}function Ri(r){return new o2(r)}function ms(r,e,t){r.j=t?P2(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function f2(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Yr(r,e,t){e instanceof N2?(r.i=e,function xs(r,e){e&&!r.j&&(v2(r),r.i=null,r.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(h2(this,s),qs(this,c,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Pi(e,Jr)),r.i=new N2(e,r.h))}function s2(r,e,t){r.i.set(e,t)}function X2(r){return s2(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function P2(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Pi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Zs),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Zs(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}o2.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Pi(e,lr,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Pi(e,lr,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Pi(t,"/"==t.charAt(0)?Is:wn,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Pi(t,Ws)),r.join("")};var lr=/[#\/\?@]/g,wn=/[#\?:]/g,Is=/[#\?]/g,Jr=/[#\?@]/g,Ws=/#/g;function N2(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function v2(r){r.g||(r.g=new Map,r.h=0,r.i&&function oo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),c=null;if(0<=s){var g=r[t].substring(0,s);c=r[t].substring(s+1)}else g=r[t];e(g,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function h2(r,e){v2(r),e=Qr(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function L1(r,e){return v2(r),e=Qr(r,e),r.g.has(e)}function qs(r,e,t){h2(r,e),0<t.length&&(r.i=null,r.g.set(Qr(r,e),Pt(t)),r.h+=t.length)}function Qr(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ks(r){this.l=r||gr,r=ye.PerformanceNavigationTiming?0<(r=ye.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ye.g&&ye.g.Ga&&ye.g.Ga()&&ye.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=N2.prototype).add=function(r,e){v2(this),this.i=null,r=Qr(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},le.forEach=function(r,e){v2(this),this.g.forEach(function(t,s){t.forEach(function(c){r.call(e,c,s,this)},this)},this)},le.oa=function(){v2(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=r[s];for(let g=0;g<c.length;g++)t.push(e[s])}return t},le.W=function(r){v2(this);let e=[];if("string"==typeof r)L1(this,r)&&(e=e.concat(this.g.get(Qr(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},le.set=function(r,e){return v2(this),this.i=null,L1(this,r=Qr(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},le.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const g=encodeURIComponent(String(s)),w=this.W(s);for(s=0;s<w.length;s++){var c=g;""!==w[s]&&(c+="="+encodeURIComponent(String(w[s]))),r.push(c)}}return this.i=r.join("&")};var gr=10;function Xr(r){return!!r.h||!!r.g&&r.g.size>=r.j}function kr(r){return r.h?1:r.g?r.g.size:0}function Dt(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function dn(r,e){r.g?r.g.add(e):r.h=e}function vr(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Rr(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Pt(r.i)}function y2(){}function So(){this.g=new y2}function Ys(r,e,t){const s=t||"";try{pi(r,function(c,g){let w=c;Pe(c)&&(w=B1(c)),e.push(s+g+"="+encodeURIComponent(w))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function es(r,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Pr(r){this.l=r.ac||null,this.j=r.jb||!1}function ao(r,e){ft.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ks.prototype.cancel=function(){if(this.i=Rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},y2.prototype.stringify=function(r){return ye.JSON.stringify(r,void 0)},y2.prototype.parse=function(r){return ye.JSON.parse(r,void 0)},p1(Pr,qe),Pr.prototype.g=function(){return new ao(this.l,this.j)},Pr.prototype.i=function(r){return function(){return r}}({}),p1(ao,ft);var Js=0;function W(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function B(r){r.readyState=4,r.l=null,r.j=null,r.A=null,V(r)}function V(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(le=ao.prototype).open=function(r,e){if(this.readyState!=Js)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,V(this)},le.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||ye).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,B(this)),this.readyState=Js},le.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,V(this)),this.g&&(this.readyState=3,V(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},le.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?B(this):V(this),3==this.readyState&&W(this)}},le.Va=function(r){this.g&&(this.response=this.responseText=r,B(this))},le.Ua=function(r){this.g&&(this.response=r,B(this))},le.ga=function(){this.g&&B(this)},le.setRequestHeader=function(r,e){this.v.append(r,e)},le.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var oe=ye.JSON.parse;function Qe(r){ft.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=d1,this.K=this.L=!1}p1(Qe,ft);var d1="",Un=/^https?$/i,dr=["POST","PUT"];function gs(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ts(r),yr(r)}function ts(r){r.D||(r.D=!0,Ut(r,"complete"),Ut(r,"error"))}function ns(r){if(r.h&&typeof ct<"u"&&(!r.C[1]||4!=Vi(r)||2!=r.aa()))if(r.v&&4==Vi(r))kn(r.Ha,0,r);else if(Ut(r,"readystatechange"),4==Vi(r)){r.h=!1;try{const L=r.aa();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===L){var c=String(r.H).match(cr)[1]||null;if(!c&&ye.self&&ye.self.location){var g=ye.self.location.protocol;c=g.substr(0,g.length-1)}s=!Un.test(c?c.toLowerCase():"")}t=s}if(t)Ut(r,"complete"),Ut(r,"success");else{r.m=6;try{var w=2<Vi(r)?r.g.statusText:""}catch{w=""}r.j=w+" ["+r.aa()+"]",ts(r)}}finally{yr(r)}}}function yr(r,e){if(r.g){No(r);const t=r.g,s=r.C[0]?Ie:null;r.g=null,r.C=null,e||Ut(r,"ready");try{t.onreadystatechange=s}catch{}}}function No(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(ye.clearTimeout(r.A),r.A=null)}function Vi(r){return r.g?r.g.readyState:0}function co(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case d1:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(r){let e="";return Qt(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function is(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=zs(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):s2(r,e,t))}function Ls(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function To(r){this.Ca=0,this.i=[],this.j=new ri,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ls("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ls("baseRetryDelayMs",5e3,r),this.bb=Ls("retryDelaySeedMs",1e4,r),this.$a=Ls("forwardChannelMaxRetries",2,r),this.ta=Ls("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Ks(r&&r.concurrentRequestLimit),this.Fa=new So,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function lo(r){if(J(r),3==r.G){var e=r.U++,t=Ri(r.F);s2(t,"SID",r.I),s2(t,"RID",e),s2(t,"TYPE","terminate"),Xe(r,t),(e=new zr(r,r.j,e,void 0)).K=2,e.v=X2(Ri(t)),t=!1,ye.navigator&&ye.navigator.sendBeacon&&(t=ye.navigator.sendBeacon(e.v.toString(),"")),!t&&ye.Image&&((new Image).src=e.v,t=!0),t||(e.g=br(e.l,null),e.g.da(e.v)),e.F=Date.now(),hi(e)}rs(r)}function R(r){r.g&&(jn(r),r.g.cancel(),r.g=null)}function J(r){R(r),r.u&&(ye.clearTimeout(r.u),r.u=null),vn(r),r.h.cancel(),r.m&&("number"==typeof r.m&&ye.clearTimeout(r.m),r.m=null)}function F(r){Xr(r.h)||r.m||(r.m=!0,xi(r.Ja,r),r.C=0)}function De(r,e){var t;t=e?e.m:r.U++;const s=Ri(r.F);s2(s,"SID",r.I),s2(s,"RID",t),s2(s,"AID",r.T),Xe(r,s),r.o&&r.s&&is(s,r.o,r.s),t=new zr(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=mt(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),dn(r.h,t),Gi(t,s,e)}function Xe(r,e){r.ia&&Qt(r.ia,function(t,s){s2(e,s,t)}),r.l&&pi({},function(t,s){s2(e,s,t)})}function mt(r,e,t){t=Math.min(r.i.length,t);var s=r.l?Nt(r.l.Ra,r.l,r):null;e:{var c=r.i;let g=-1;for(;;){const w=["count="+t];-1==g?0<t?(g=c[0].h,w.push("ofs="+g)):g=0:w.push("ofs="+g);let L=!0;for(let Z=0;Z<t;Z++){let Q=c[Z].h;const ce=c[Z].g;if(Q-=g,0>Q)g=Math.max(0,c[Z].h-100),L=!1;else try{Ys(ce,w,"req"+Q+"_")}catch{s&&s(ce)}}if(L){s=w.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,s}function r1(r){r.g||r.u||(r.Z=1,xi(r.Ia,r),r.A=0)}function xn(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=d2(Nt(r.Ia,r),Jn(r,r.A)),r.A++,0))}function jn(r){null!=r.B&&(ye.clearTimeout(r.B),r.B=null)}function Gn(r){r.g=new zr(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=Ri(r.sa);s2(e,"RID","rpc"),s2(e,"SID",r.I),s2(e,"CI",r.L?"0":"1"),s2(e,"AID",r.T),s2(e,"TYPE","xmlhttp"),Xe(r,e),r.o&&r.s&&is(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=X2(Ri(e)),t.s=null,t.P=!0,$s(t,r)}function vn(r){null!=r.v&&(ye.clearTimeout(r.v),r.v=null)}function oi(r,e){var t=null;if(r.g==e){vn(r),jn(r),r.g=null;var s=2}else{if(!Dt(r.h,e))return;t=e.D,vr(r.h,e),s=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=r.C;Ut(s=R2(),new Gs(s,t)),F(r)}else r1(r);else if(3==(c=e.o)||0==c&&0<r.pa||!(1==s&&function ne(r,e){return!(kr(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=d2(Nt(r.Ja,r,e),Jn(r,r.C)),r.C++,0)))}(r,e)||2==s&&xn(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),c){case 1:Wn(r,5);break;case 4:Wn(r,10);break;case 3:Wn(r,6);break;default:Wn(r,2)}}function Jn(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function Wn(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=Nt(r.kb,r);t||(t=new o2("//www.google.com/images/cleardot.gif"),ye.location&&"http"==ye.location.protocol||ms(t,"https"),X2(t)),function ur(r,e){const t=new ri;if(ye.Image){const s=new Image;s.onload=b1(es,t,s,"TestLoadImage: loaded",!0,e),s.onerror=b1(es,t,s,"TestLoadImage: error",!1,e),s.onabort=b1(es,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=b1(es,t,s,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else $2(2);r.G=0,r.l&&r.l.va(e),rs(r),J(r)}function rs(r){if(r.G=0,r.la=[],r.l){const e=Rr(r.h);(0!=e.length||0!=r.i.length)&&(en(r.la,e),en(r.la,r.i),r.h.i.length=0,Pt(r.i),r.i.length=0),r.l.ua()}}function _r(r,e,t){var s=t instanceof o2?Ri(t):new o2(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),f2(s,s.m);else{var c=ye.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var g=new o2(null,void 0);s&&ms(g,s),e&&(g.g=e),c&&f2(g,c),t&&(g.l=t),s=g}return e=r.za,(t=r.D)&&e&&s2(s,t,e),s2(s,"VER",r.ma),Xe(r,s),s}function br(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(t&&r.Da&&!r.ra?new Pr({jb:!0}):r.ra)).Ka(r.H),e}function vs(){}function fr(){if(mn&&!(10<=Number(T1)))throw Error("Environmental error: no available transport.")}function Z2(r,e){ft.call(this),this.g=new To(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Fn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fn(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new D2(this)}function ys(r){V1.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ao(){Bn.call(this),this.status=1}function D2(r){this.g=r}(le=Qe.prototype).Ka=function(r){this.L=r},le.da=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gn.g(),this.C=function Ct(r){return r.h||(r.h=r.i())}(this.u?this.u:gn),this.g.onreadystatechange=Nt(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(g){return void gs(this,g)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const g of s.keys())t.set(g,s.get(g))}s=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),c=ye.FormData&&r instanceof ye.FormData,!(0<=n2(dr,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,w]of t)this.g.setRequestHeader(g,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{No(this),0<this.B&&((this.K=function Ji(r){return mn&&function bn(){return function m2(r){var e=an;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=r2(String(sn)).split("."),t=r2("9").split("."),s=Math.max(e.length,t.length);for(let w=0;0==r&&w<s;w++){var c=e[w]||"",g=t[w]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==c[0].length&&0==g[0].length)break;r=Yn(0==c[1].length?0:parseInt(c[1],10),0==g[1].length?0:parseInt(g[1],10))||Yn(0==c[2].length,0==g[2].length)||Yn(c[2],g[2]),c=c[3],g=g[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.qa,this)):this.A=kn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(g){gs(this,g)}},le.qa=function(){typeof ct<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))},le.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ut(this,"complete"),Ut(this,"abort"),yr(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yr(this,!0)),Qe.X.M.call(this)},le.Ha=function(){this.s||(this.F||this.v||this.l?ns(this):this.fb())},le.fb=function(){ns(this)},le.aa=function(){try{return 2<Vi(this)?this.g.status:-1}catch{return-1}},le.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),oe(e)}},le.Ea=function(){return this.m},le.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=To.prototype).ma=8,le.G=1,le.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const c=new zr(this,this.j,r,void 0);let g=this.s;if(this.S&&(g?(g=_t(g),A1(g,this.S)):g=this.S),null!==this.o||this.N||(c.H=g,g=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mt(this,c,e),s2(t=Ri(this.F),"RID",r),s2(t,"CVER",22),this.D&&s2(t,"X-HTTP-Session-Id",this.D),Xe(this,t),g&&(this.N?e="headers="+encodeURIComponent(String(zs(g)))+"&"+e:this.o&&is(t,this.o,g)),dn(this.h,c),this.Ya&&s2(t,"TYPE","init"),this.O?(s2(t,"$req",e),s2(t,"SID","null"),c.Z=!0,Gi(c,t,null)):Gi(c,t,e),this.G=2}}else 3==this.G&&(r?De(this,r):0==this.i.length||Xr(this.h)||De(this))},le.Ia=function(){if(this.u=null,Gn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=d2(Nt(this.eb,this),r)}},le.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,$2(10),R(this),Gn(this))},le.cb=function(){null!=this.v&&(this.v=null,R(this),xn(this),$2(19))},le.kb=function(r){r?(this.j.info("Successfully pinged google.com"),$2(2)):(this.j.info("Failed to ping google.com"),$2(1))},(le=vs.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Ra=function(){},fr.prototype.g=function(r,e){return new Z2(r,e)},p1(Z2,ft),Z2.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;$2(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=_r(r,null,r.V),F(r)},Z2.prototype.close=function(){lo(this.g)},Z2.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=B1(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&F(e)},Z2.prototype.M=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Z2.X.M.call(this)},p1(ys,V1),p1(Ao,Bn),p1(D2,vs),D2.prototype.xa=function(){Ut(this.g,"a")},D2.prototype.wa=function(r){Ut(this.g,new ys(r))},D2.prototype.va=function(r){Ut(this.g,new Ao)},D2.prototype.ua=function(){Ut(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,Z2.prototype.send=Z2.prototype.u,Z2.prototype.open=Z2.prototype.m,Z2.prototype.close=Z2.prototype.close,Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,Fe.COMPLETE="complete",Ft.EventType=C1,C1.OPEN="a",C1.CLOSE="b",C1.ERROR="c",C1.MESSAGE="d",ft.prototype.listen=ft.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.Oa,Qe.prototype.getLastErrorCode=Qe.prototype.Ea,Qe.prototype.getStatus=Qe.prototype.aa,Qe.prototype.getResponseJson=Qe.prototype.Sa,Qe.prototype.getResponseText=Qe.prototype.fa,Qe.prototype.send=Qe.prototype.da,Qe.prototype.setWithCredentials=Qe.prototype.Ka;var ua=bt.createWebChannelTransport=function(){return new fr},$4=bt.getStatEventTarget=function(){return R2()},Ha=bt.ErrorCode=Ge,y4=bt.EventType=Fe,da=bt.Event=wi,Ho=bt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},uo=bt.FetchXmlHttpFactory=Pr,Fo=bt.WebChannel=Ft,Fa=bt.XhrIo=Qe;const Ba="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let W2="9.15.0";const Vr=new at.Yd("@firebase/firestore");function Qs(){return Vr.logLevel}function Ot(r,...e){if(Vr.logLevel<=at.in.DEBUG){const t=e.map(Bo);Vr.debug(`Firestore (${W2}): ${r}`,...t)}}function ai(r,...e){if(Vr.logLevel<=at.in.ERROR){const t=e.map(Bo);Vr.error(`Firestore (${W2}): ${r}`,...t)}}function ss(r,...e){if(Vr.logLevel<=at.in.WARN){const t=e.map(Bo);Vr.warn(`Firestore (${W2}): ${r}`,...t)}}function Bo(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Zt(r="Unexpected state"){const e=`FIRESTORE (${W2}) INTERNAL ASSERTION FAILED: `+r;throw ai(e),new Error(e)}function n1(r,e){r||Zt()}function Gt(r,e){return r}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Ke.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class T2{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ua{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class Cr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ha{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const g=Q=>this.i!==c?(c=this.i,t(Q)):Promise.resolve();let w=new T2;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new T2,e.enqueueRetryable(()=>g(this.currentUser))};const L=()=>{const Q=w;e.enqueueRetryable((0,He.Z)(function*(){yield Q.promise,yield g(s.currentUser)}))},Z=Q=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(Q=>Z(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?Z(Q):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new T2)}},0),L()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(n1("string"==typeof s.accessToken),new gi(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return n1(null===e||"string"==typeof e),new mi(e)}}class fo{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(n1(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class pa{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c}getToken(){return Promise.resolve(new fo(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ma{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=g=>{null!=g.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const w=g.token!==this.A;return this.A=g.token,Ot("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>s(g))};const c=g=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.T.onInit(g=>c(g)),setTimeout(()=>{if(!this.appCheck){const g=this.T.getImmediate({optional:!0});g?c(g):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(n1("string"==typeof t.token),this.A=t.token,new ma(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ga(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class ho{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=ga(40);for(let g=0;g<c.length;++g)s.length<20&&c[g]<t&&(s+=e.charAt(c[g]%e.length))}return s}}function H1(r,e){return r<e?-1:r>e?1:0}function Qi(r,e,t){return r.length===e.length&&r.every((s,c)=>t(s,e[c]))}function va(r){return r+"\0"}class _2{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _2.fromMillis(Date.now())}static fromDate(e){return _2.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new _2(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?H1(this.nanoseconds,e.nanoseconds):H1(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class M1{constructor(e){this.timestamp=e}static fromTimestamp(e){return new M1(e)}static min(){return new M1(new _2(0,0))}static max(){return new M1(new _2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class A2{constructor(e,t,s){void 0===t?t=0:t>e.length&&Zt(),void 0===s?s=e.length-t:s>e.length-t&&Zt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===A2.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof A2?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const g=e.get(c),w=t.get(c);if(g<w)return-1;if(g>w)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class En extends A2{construct(e,t,s){return new En(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Tt(dt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new En(t)}static emptyPath(){return new En([])}}const Uo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends A2{construct(e,t,s){return new Sn(e,t,s)}static isValidIdentifier(e){return Uo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const g=()=>{if(0===s.length)throw new Tt(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let w=!1;for(;c<e.length;){const L=e[c];if("\\"===L){if(c+1===e.length)throw new Tt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const Z=e[c+1];if("\\"!==Z&&"."!==Z&&"`"!==Z)throw new Tt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=Z,c+=2}else"`"===L?(w=!w,c++):"."!==L||w?(s+=L,c++):(g(),c++)}if(g(),w)throw new Tt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(En.fromString(e))}static fromName(e){return new Bt(En.fromString(e).popFirst(5))}static empty(){return new Bt(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===En.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return En.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new En(e.slice()))}}class Os{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function ks(r){return r.fields.find(e=>2===e.kind)}function Ei(r){return r.fields.filter(e=>2!==e.kind)}Os.UNKNOWN_ID=-1;class os{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qn(0,Fr.min())}}function ya(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,c=M1.fromTimestamp(1e9===s?new _2(t+1,0):new _2(t,s));return new Fr(c,Bt.empty(),e)}function _4(r){return new Fr(r.readTime,r.key,-1)}class Fr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Fr(M1.min(),Bt.empty(),-1)}static max(){return new Fr(M1.max(),Bt.empty(),-1)}}function ja(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Bt.comparator(r.documentKey,e.documentKey),0!==t?t:H1(r.largestBatchId,e.largestBatchId))}const Z4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _a(r){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,He.Z)(function*(r){if(r.code!==dt.FAILED_PRECONDITION||r.message!==Z4)throw r;Ot("LocalStore","Unexpectedly lost primary lease")}),Cs.apply(this,arguments)}class rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rt((s,c)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(s,c)},this.catchCallback=g=>{this.wrapFailure(t,g).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof rt?t:rt.resolve(t)}catch(t){return rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.reject(t)}static resolve(e){return new rt((t,s)=>{t(e)})}static reject(e){return new rt((t,s)=>{s(e)})}static waitFor(e){return new rt((t,s)=>{let c=0,g=0,w=!1;e.forEach(L=>{++c,L.next(()=>{++g,w&&g===c&&t()},Z=>s(Z))}),w=!0,g===c&&t()})}static or(e){let t=rt.resolve(!1);for(const s of e)t=t.next(c=>c?rt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,g)=>{s.push(t.call(this,c,g))}),this.waitFor(s)}static mapArray(e,t){return new rt((s,c)=>{const g=e.length,w=new Array(g);let L=0;for(let Z=0;Z<g;Z++){const Q=Z;t(e[Q]).next(ce=>{w[Q]=ce,++L,L===g&&s(w)},ce=>c(ce))}})}static doWhile(e,t){return new rt((s,c)=>{const g=()=>{!0===e()?t().next(()=>{g()},c):s()};g()})}}class ba{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new T2,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ms(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const c=Ma(s.target.error);this.P.reject(new Ms(e,c))}}static open(e,t,s,c){try{return new ba(t,e.transaction(c,s))}catch(g){throw new Ms(t,g)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ot("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ca(t)}}class qn{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===qn.D((0,Ke.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ot("SimpleDb","Removing database:",e),vi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ke.hl)())return!1;if(qn.N())return!0;const e=(0,Ke.z$)(),t=qn.D(e),s=0<t&&t<10,c=qn.k(e),g=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||g)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,He.Z)(function*(){return t.db||(Ot("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=w=>{s(w.target.result)},g.onblocked=()=>{c(new Ms(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=w=>{const L=w.target.error;c("VersionError"===L.name?new Tt(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===L.name?new Tt(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+L):new Ms(e,L))},g.onupgradeneeded=w=>{Ot("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',w.oldVersion),t.S.$(w.target.result,g.transaction,w.oldVersion,t.version).next(()=>{Ot("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var g=this;return(0,He.Z)(function*(){const w="readonly"===t;let L=0;for(;;){++L;try{g.db=yield g.F(e);const Z=ba.open(g.db,e,w?"readonly":"readwrite",s),Q=c(Z).next(ce=>(Z.V(),ce)).catch(ce=>(Z.abort(ce),rt.reject(ce))).toPromise();return Q.catch(()=>{}),yield Z.v,Q}catch(Z){const Q=Z,ce="FirebaseError"!==Q.name&&L<3;if(Ot("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ce),g.close(),!ce)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Io{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return vi(this.q.delete())}}class Ms extends Tt{constructor(e,t){super(dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xs(r){return"IndexedDbTransactionError"===r.name}class Ca{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ot("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ot("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),vi(s)}add(e){return Ot("SimpleDb","ADD",this.store.name,e,e),vi(this.store.add(e))}get(e){return vi(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ot("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ot("SimpleDb","DELETE",this.store.name,e),vi(this.store.delete(e))}count(){return Ot("SimpleDb","COUNT",this.store.name),vi(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),g=[];return this.H(c,(w,L)=>{g.push(L)}).next(()=>g)}{const c=this.store.getAll(s.range);return new rt((g,w)=>{c.onerror=L=>{w(L.target.error)},c.onsuccess=L=>{g(L.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new rt((c,g)=>{s.onerror=w=>{g(w.target.error)},s.onsuccess=w=>{c(w.target.result)}})}Y(e,t){Ot("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const c=this.cursor(s);return this.H(c,(g,w,L)=>L.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.H(c,t)}tt(e){const t=this.cursor({});return new rt((s,c)=>{t.onerror=g=>{const w=Ma(g.target.error);c(w)},t.onsuccess=g=>{const w=g.target.result;w?e(w.primaryKey,w.value).next(L=>{L?w.continue():s()}):s()}})}H(e,t){const s=[];return new rt((c,g)=>{e.onerror=w=>{g(w.target.error)},e.onsuccess=w=>{const L=w.target.result;if(!L)return void c();const Z=new Io(L),Q=t(L.primaryKey,L.value,Z);if(Q instanceof rt){const ce=Q.catch(Ae=>(Z.done(),rt.reject(Ae)));s.push(ce)}Z.isDone?c():null===Z.G?L.continue():L.continue(Z.G)}}).next(()=>rt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vi(r){return new rt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const c=Ma(s.target.error);t(c)}})}let Mr=!1;function Ma(r){const e=qn.D((0,Ke.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mr||(Mr=!0,setTimeout(()=>{throw s},0)),s}}return r}class wr{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ot("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,He.Z)(function*(){t.task=null;try{Ot("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Xs(s)?Ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield _a(s)}yield t.nt(6e4)}))}}class po{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,He.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let c=t,g=!0;return rt.doWhile(()=>!0===g&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!s.has(w))return Ot("IndexBackiller",`Processing collection: ${w}`),this.rt(e,w,c).next(L=>{c-=L,s.add(w)});g=!1})).next(()=>t-c)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(g=>{const w=g.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.ot(c,g)).next(L=>(Ot("IndexBackiller",`Updating offset: ${L}`),this.localStore.indexManager.updateCollectionGroup(e,t,L))).next(()=>w.size)}))}ot(e,t){let s=e;return t.changes.forEach((c,g)=>{const w=_4(g);ja(w,s)>0&&(s=w)}),new Fr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let $i=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>s.writeSequenceNumber(c))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return r.at=-1,r})();class A{constructor(e,t,s,c,g,w,L,Z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=g,this.forceLongPolling=w,this.autoDetectLongPolling=L,this.useFetchStreams=Z}}class I{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new I("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof I&&e.projectId===this.projectId&&e.database===this.database}}function N(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function k(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function j(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ee(r){return null==r}function me(r){return 0===r&&1/r==-1/0}function we(r){return"number"==typeof r&&Number.isInteger(r)&&!me(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zt(t)}static fromUint8Array(e){const t=function(s){let c="";for(let g=0;g<s.length;++g)c+=String.fromCharCode(s[g]);return c}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return H1(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const fn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function s1(r){if(n1(!!r),"string"==typeof r){let e=0;const t=fn.exec(r);if(n1(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:F1(r.seconds),nanos:F1(r.nanos)}}function F1(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Si(r){return"string"==typeof r?zt.fromBase64String(r):zt.fromUint8Array(r)}function as(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mo(r){const e=r.mapValue.fields.__previous_value__;return as(e)?mo(e):e}function yi(r){const e=s1(r.mapValue.fields.__local_write_time__.timestampValue);return new _2(e.seconds,e.nanos)}const Dr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cs={nullValue:"NULL_VALUE"};function Xi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?as(r)?4:te(r)?9007199254740991:10:Zt()}function Ps(r,e){if(r===e)return!0;const t=Xi(r);if(t!==Xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yi(r).isEqual(yi(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const g=s1(s.timestampValue),w=s1(c.timestampValue);return g.seconds===w.seconds&&g.nanos===w.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,Si(r.bytesValue).isEqual(Si(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,c){return F1(s.geoPointValue.latitude)===F1(c.geoPointValue.latitude)&&F1(s.geoPointValue.longitude)===F1(c.geoPointValue.longitude)}(r,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return F1(s.integerValue)===F1(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const g=F1(s.doubleValue),w=F1(c.doubleValue);return g===w?me(g)===me(w):isNaN(g)&&isNaN(w)}return!1}(r,e);case 9:return Qi(r.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(s,c){const g=s.mapValue.fields||{},w=c.mapValue.fields||{};if(N(g)!==N(w))return!1;for(const L in g)if(g.hasOwnProperty(L)&&(void 0===w[L]||!Ps(g[L],w[L])))return!1;return!0}(r,e);default:return Zt()}var c}function xo(r,e){return void 0!==(r.values||[]).find(t=>Ps(t,e))}function Er(r,e){if(r===e)return 0;const t=Xi(r),s=Xi(e);if(t!==s)return H1(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return H1(r.booleanValue,e.booleanValue);case 2:return function(c,g){const w=F1(c.integerValue||c.doubleValue),L=F1(g.integerValue||g.doubleValue);return w<L?-1:w>L?1:w===L?0:isNaN(w)?isNaN(L)?0:-1:1}(r,e);case 3:return W4(r.timestampValue,e.timestampValue);case 4:return W4(yi(r),yi(e));case 5:return H1(r.stringValue,e.stringValue);case 6:return function(c,g){const w=Si(c),L=Si(g);return w.compareTo(L)}(r.bytesValue,e.bytesValue);case 7:return function(c,g){const w=c.split("/"),L=g.split("/");for(let Z=0;Z<w.length&&Z<L.length;Z++){const Q=H1(w[Z],L[Z]);if(0!==Q)return Q}return H1(w.length,L.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,g){const w=H1(F1(c.latitude),F1(g.latitude));return 0!==w?w:H1(F1(c.longitude),F1(g.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,g){const w=c.values||[],L=g.values||[];for(let Z=0;Z<w.length&&Z<L.length;++Z){const Q=Er(w[Z],L[Z]);if(Q)return Q}return H1(w.length,L.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,g){if(c===Dr.mapValue&&g===Dr.mapValue)return 0;if(c===Dr.mapValue)return 1;if(g===Dr.mapValue)return-1;const w=c.fields||{},L=Object.keys(w),Z=g.fields||{},Q=Object.keys(Z);L.sort(),Q.sort();for(let ce=0;ce<L.length&&ce<Q.length;++ce){const Ae=H1(L[ce],Q[ce]);if(0!==Ae)return Ae;const nt=Er(w[L[ce]],Z[Q[ce]]);if(0!==nt)return nt}return H1(L.length,Q.length)}(r.mapValue,e.mapValue);default:throw Zt()}}function W4(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return H1(r,e);const t=s1(r),s=s1(e),c=H1(t.seconds,s.seconds);return 0!==c?c:H1(t.nanos,s.nanos)}function Br(r){return C3(r)}function C3(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const c=s1(s);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Si(r.bytesValue).toBase64():"referenceValue"in r?Bt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let c="[",g=!0;for(const w of s.values||[])g?g=!1:c+=",",c+=C3(w);return c+"]"}(r.arrayValue):"mapValue"in r?function(s){const c=Object.keys(s.fields||{}).sort();let g="{",w=!0;for(const L of c)w?w=!1:g+=",",g+=`${L}:${C3(s.fields[L])}`;return g+"}"}(r.mapValue):Zt();var e}function Vs(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function go(r){return!!r&&"integerValue"in r}function Ga(r){return!!r&&"arrayValue"in r}function Ni(r){return!!r&&"nullValue"in r}function M3(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function H(r){return!!r&&"mapValue"in r}function G(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return k(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=G(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=G(r.arrayValue.values[t]);return e}return Object.assign({},r)}function te(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ge(r){return"nullValue"in r?cs:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Vs(I.empty(),Bt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Zt()}function Ze(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Vs(I.empty(),Bt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Dr:Zt()}function lt(r,e){const t=Er(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function It(r,e){const t=Er(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class c1{constructor(e,t){this.position=e,this.inclusive=t}}function E1(r,e,t){let s=0;for(let c=0;c<r.position.length;c++){const g=e[c],w=r.position[c];if(s=g.field.isKeyField()?Bt.comparator(Bt.fromName(w.referenceValue),t.key):Er(w,t.data.field(g.field)),"desc"===g.dir&&(s*=-1),0!==s)break}return s}function x1(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ps(r.position[t],e.position[t]))return!1;return!0}class zn{}class Yt extends zn{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new F6(e,t,s):"array-contains"===t?new F0(e,s):"in"===t?new e6(e,s):"not-in"===t?new w3(e,s):"array-contains-any"===t?new C4(e,s):new Yt(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new H0(e,s):new B6(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Er(t,this.value)):null!==t&&Xi(this.value)===Xi(t)&&this.matchesComparison(Er(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class tn extends zn{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new tn(e,t)}matches(e){return I2(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function I2(r){return"and"===r.op}function vo(r){return"or"===r.op}function $a(r){return jo(r)&&I2(r)}function jo(r){for(const e of r.filters)if(e instanceof tn)return!1;return!0}function er(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+Br(r.value);{const e=r.filters.map(t=>er(t)).join(",");return`${r.op}(${e})`}}function Ur(r,e){return r instanceof Yt?(t=r,(s=e)instanceof Yt&&t.op===s.op&&t.field.isEqual(s.field)&&Ps(t.value,s.value)):r instanceof tn?function(t,s){return s instanceof tn&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,g,w)=>c&&Ur(g,s.filters[w]),!0)}(r,e):void Zt();var t,s}function Za(r,e){const t=r.filters.concat(e);return tn.create(t,r.op)}function V0(r){return r instanceof Yt?`${(e=r).field.canonicalString()} ${e.op} ${Br(e.value)}`:r instanceof tn?function(e){return e.op.toString()+" {"+e.getFilters().map(V0).join(" ,")+"}"}(r):"Filter";var e}class F6 extends Yt{constructor(e,t,s){super(e,t,s),this.key=Bt.fromName(s.referenceValue)}matches(e){const t=Bt.comparator(e.key,this.key);return this.matchesComparison(t)}}class H0 extends Yt{constructor(e,t){super(e,"in",t),this.keys=U6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class B6 extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=U6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function U6(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Bt.fromName(s.referenceValue))}class F0 extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ga(t)&&xo(t.arrayValue,this.value)}}class e6 extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xo(this.value.arrayValue,t)}}class w3 extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xo(this.value.arrayValue,t)}}class C4 extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ga(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>xo(this.value.arrayValue,s))}}class Wa{constructor(e,t="asc"){this.field=e,this.dir=t}}function j6(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Zi{constructor(e,t){this.comparator=e,this.root=t||ls.EMPTY}insert(e,t){return new Zi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new Zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new q4(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new q4(this.root,e,this.comparator,!1)}getReverseIterator(){return new q4(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new q4(this.root,e,this.comparator,!0)}}class q4{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?s(e.key,t):1,t&&c&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ls{constructor(e,t,s,c,g){this.key=e,this.value=t,this.color=s??ls.RED,this.left=c??ls.EMPTY,this.right=g??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,g){return new ls(e??this.key,t??this.value,s??this.color,c??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const g=s(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===g?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return ls.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Zt();const e=this.left.check();if(e!==this.right.check())throw Zt();return e+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1,ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt()}get value(){throw Zt()}get color(){throw Zt()}get left(){throw Zt()}get right(){throw Zt()}copy(r,e,t,s,c){return this}insert(r,e,t){return new ls(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class H2{constructor(e){this.comparator=e,this.data=new Zi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G6(this.data.getIterator())}getIteratorFrom(e){return new G6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof H2)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,g=s.getNext().key;if(0!==this.comparator(c,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new H2(this.comparator);return t.data=e,t}}class G6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qa(r){return r.hasNext()?r.getNext():void 0}class Hs{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Hs([])}unionWith(e){let t=new H2(Sn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qi(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!H(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=G(t)}setAll(e){let t=Sn.emptyPath(),s={},c=[];e.forEach((w,L)=>{if(!t.isImmediateParentOf(L)){const Z=this.getFieldsMap(t);this.applyChanges(Z,s,c),s={},c=[],t=L.popLast()}w?s[L.lastSegment()]=G(w):c.push(L.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,s,c)}delete(e){const t=this.field(e.popLast());H(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];H(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){k(t,(c,g)=>e[c]=g);for(const c of s)delete e[c]}clone(){return new us(G(this.value))}}function t6(r){const e=[];return k(r.fields,(t,s)=>{const c=new Sn([t]);if(H(s)){const g=t6(s.mapValue).fields;if(0===g.length)e.push(c);else for(const w of g)e.push(c.child(w))}else e.push(c)}),new Hs(e)}class _i{constructor(e,t,s,c,g,w,L){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=g,this.data=w,this.documentState=L}static newInvalidDocument(e){return new _i(e,0,M1.min(),M1.min(),M1.min(),us.empty(),0)}static newFoundDocument(e,t,s,c){return new _i(e,1,t,M1.min(),s,c,0)}static newNoDocument(e,t){return new _i(e,2,t,M1.min(),M1.min(),us.empty(),0)}static newUnknownDocument(e,t){return new _i(e,3,t,M1.min(),M1.min(),us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(M1.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=M1.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Q8{constructor(e,t=null,s=[],c=[],g=null,w=null,L=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=g,this.startAt=w,this.endAt=L,this.ft=null}}function B0(r,e=null,t=[],s=[],c=null,g=null,w=null){return new Q8(r,e,t,s,c,g,w)}function M4(r){const e=Gt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>er(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),ee(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Br(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Br(s)).join(",")),e.ft=t}return e.ft}function n6(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!j6(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Ur(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!x1(r.startAt,e.startAt)&&x1(r.endAt,e.endAt)}function i6(r){return Bt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function D3(r,e){return r.filters.filter(t=>t instanceof Yt&&t.field.isEqual(e))}function r6(r,e,t){let s=cs,c=!0;for(const g of D3(r,e)){let w=cs,L=!0;switch(g.op){case"<":case"<=":w=ge(g.value);break;case"==":case"in":case">=":w=g.value;break;case">":w=g.value,L=!1;break;case"!=":case"not-in":w=cs}lt({value:s,inclusive:c},{value:w,inclusive:L})<0&&(s=w,c=L)}if(null!==t)for(let g=0;g<r.orderBy.length;++g)if(r.orderBy[g].field.isEqual(e)){const w=t.position[g];lt({value:s,inclusive:c},{value:w,inclusive:t.inclusive})<0&&(s=w,c=t.inclusive);break}return{value:s,inclusive:c}}function E3(r,e,t){let s=Dr,c=!0;for(const g of D3(r,e)){let w=Dr,L=!0;switch(g.op){case">=":case">":w=Ze(g.value),L=!1;break;case"==":case"in":case"<=":w=g.value;break;case"<":w=g.value,L=!1;break;case"!=":case"not-in":w=Dr}It({value:s,inclusive:c},{value:w,inclusive:L})>0&&(s=w,c=L)}if(null!==t)for(let g=0;g<r.orderBy.length;++g)if(r.orderBy[g].field.isEqual(e)){const w=t.position[g];It({value:s,inclusive:c},{value:w,inclusive:t.inclusive})>0&&(s=w,c=t.inclusive);break}return{value:s,inclusive:c}}class Go{constructor(e,t=null,s=[],c=[],g=null,w="F",L=null,Z=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=g,this.limitType=w,this.startAt=L,this.endAt=Z,this.dt=null,this._t=null}}function K4(r,e,t,s,c,g,w,L){return new Go(r,e,t,s,c,g,w,L)}function ws(r){return new Go(r)}function $6(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Z6(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Y4(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function s6(r){return null!==r.collectionGroup}function $o(r){const e=Gt(r);if(null===e.dt){e.dt=[];const t=Y4(e),s=Z6(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new Wa(t)),e.dt.push(new Wa(Sn.keyField(),"asc"));else{let c=!1;for(const g of e.explicitOrderBy)e.dt.push(g),g.field.isKeyField()&&(c=!0);if(!c){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Wa(Sn.keyField(),g))}}}return e.dt}function Sr(r){const e=Gt(r);if(!e._t)if("F"===e.limitType)e._t=B0(e.path,e.collectionGroup,$o(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of $o(e))t.push(new Wa(g.field,"desc"===g.dir?"asc":"desc"));const s=e.endAt?new c1(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new c1(e.startAt.position,e.startAt.inclusive):null;e._t=B0(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function W6(r,e){e.getFirstInequalityField(),Y4(r);const t=r.filters.concat([e]);return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ds(r,e,t){return new Go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function E2(r,e){return n6(Sr(r),Sr(e))&&r.limitType===e.limitType}function S3(r){return`${M4(Sr(r))}|lt:${r.limitType}`}function N3(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>V0(s)).join(", ")}]`),ee(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Br(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Br(s)).join(",")),`Target(${t})`}(Sr(r))}; limitType=${r.limitType})`}function Wi(r,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Bt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(r,e)&&function(t,s){for(const c of $o(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(r,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(c,g,w){const L=E1(c,g,w);return c.inclusive?L<=0:L<0}(t.startAt,$o(t),s)||t.endAt&&!function(c,g,w){const L=E1(c,g,w);return c.inclusive?L>=0:L>0}(t.endAt,$o(t),s)));var t,s}function T3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q6(r){return(e,t)=>{let s=!1;for(const c of $o(r)){const g=yo(c,e,t);if(0!==g)return g;s=s||c.field.isKeyField()}return 0}}function yo(r,e,t){const s=r.field.isKeyField()?Bt.comparator(e.key,t.key):function(c,g,w){const L=g.data.field(c),Z=w.data.field(c);return null!==L&&null!==Z?Er(L,Z):Zt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Zt()}}function jr(r,e){if(r.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(e)?"-0":e}}function zo(r){return{integerValue:""+r}}function wa(r,e){return we(e)?zo(e):jr(r,e)}class J4{constructor(){this._=void 0}}function o6(r,e,t){return r instanceof Zo?function(s,c){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&(g.fields.__previous_value__=c),{mapValue:g}}(t,e):r instanceof eo?Wo(r,e):r instanceof Fs?Q4(r,e):function(s,c){const g=Y6(s,c),w=Ka(g)+Ka(s.gt);return go(g)&&go(s.gt)?zo(w):jr(s.yt,w)}(r,e)}function K6(r,e,t){return r instanceof eo?Wo(r,e):r instanceof Fs?Q4(r,e):t}function Y6(r,e){return r instanceof qo?go(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Zo extends J4{}class eo extends J4{constructor(e){super(),this.elements=e}}function Wo(r,e){const t=Da(e);for(const s of r.elements)t.some(c=>Ps(c,s))||t.push(s);return{arrayValue:{values:t}}}class Fs extends J4{constructor(e){super(),this.elements=e}}function Q4(r,e){let t=Da(e);for(const s of r.elements)t=t.filter(c=>!Ps(c,s));return{arrayValue:{values:t}}}class qo extends J4{constructor(e,t){super(),this.yt=e,this.gt=t}}function Ka(r){return F1(r.integerValue||r.doubleValue)}function Da(r){return Ga(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ya{constructor(e,t){this.field=e,this.transform=t}}class w4{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a6(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Ja{}function X4(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Qa(r.key,bi.none()):new D4(r.key,r.data,bi.none());{const t=r.data,s=us.empty();let c=new H2(Sn.comparator);for(let g of e.fields)if(!c.has(g)){let w=t.field(g);null===w&&g.length>1&&(g=g.popLast(),w=t.field(g)),null===w?s.delete(g):s.set(g,w),c=c.add(g)}return new Sa(r.key,s,new Hs(c.toArray()),bi.none())}}function j0(r,e,t){r instanceof D4?function(s,c,g){const w=s.value.clone(),L=G0(s.fieldTransforms,c,g.transformResults);w.setAll(L),c.convertToFoundDocument(g.version,w).setHasCommittedMutations()}(r,e,t):r instanceof Sa?function(s,c,g){if(!a6(s.precondition,c))return void c.convertToUnknownDocument(g.version);const w=G0(s.fieldTransforms,c,g.transformResults),L=c.data;L.setAll(A3(s)),L.setAll(w),c.convertToFoundDocument(g.version,L).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function c6(r,e,t,s){return r instanceof D4?function(c,g,w,L){if(!a6(c.precondition,g))return w;const Z=c.value.clone(),Q=$0(c.fieldTransforms,L,g);return Z.setAll(Q),g.convertToFoundDocument(g.version,Z).setHasLocalMutations(),null}(r,e,t,s):r instanceof Sa?function(c,g,w,L){if(!a6(c.precondition,g))return w;const Z=$0(c.fieldTransforms,L,g),Q=g.data;return Q.setAll(A3(c)),Q.setAll(Z),g.convertToFoundDocument(g.version,Q).setHasLocalMutations(),null===w?null:w.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ce=>ce.field))}(r,e,t,s):(w=t,a6(r.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):w);var g,w}function Ea(r,e){let t=null;for(const s of r.fieldTransforms){const c=e.data.field(s.field),g=Y6(s.transform,c||null);null!=g&&(null===t&&(t=us.empty()),t.set(s.field,g))}return t||null}function l6(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Qi(t,s,(c,g)=>function U0(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof eo&&s instanceof eo||t instanceof Fs&&s instanceof Fs?Qi(t.elements,s.elements,Ps):t instanceof qo&&s instanceof qo?Ps(t.gt,s.gt):t instanceof Zo&&s instanceof Zo);var t,s}(c,g))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class D4 extends Ja{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Sa extends Ja{constructor(e,t,s,c,g=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function A3(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function G0(r,e,t){const s=new Map;n1(r.length===t.length);for(let c=0;c<t.length;c++){const g=r[c],w=g.transform,L=e.data.field(g.field);s.set(g.field,K6(w,L,t[c]))}return s}function $0(r,e,t){const s=new Map;for(const c of r){const g=c.transform,w=t.data.field(c.field);s.set(c.field,o6(g,w,e))}return s}class Qa extends Ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u6 extends Ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xa{constructor(e){this.count=e}}var Ti,$n;function e4(r){switch(r){default:return Zt();case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0}}function I3(r){if(void 0===r)return ai("GRPC error has no .code"),dt.UNKNOWN;switch(r){case Ti.OK:return dt.OK;case Ti.CANCELLED:return dt.CANCELLED;case Ti.UNKNOWN:return dt.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return dt.INTERNAL;case Ti.UNAVAILABLE:return dt.UNAVAILABLE;case Ti.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Ti.NOT_FOUND:return dt.NOT_FOUND;case Ti.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Ti.ABORTED:return dt.ABORTED;case Ti.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Ti.DATA_LOSS:return dt.DATA_LOSS;default:return Zt()}}($n=Ti||(Ti={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";class Es{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,g]of s)if(this.equalsFn(c,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let g=0;g<c.length;g++)if(this.equalsFn(c[g][0],e))return void(c[g]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){k(this.inner,(t,s)=>{for(const[c,g]of s)e(c,g)})}isEmpty(){return j(this.inner)}size(){return this.innerSize}}const Vc=new Zi(Bt.comparator);function Nr(){return Vc}const _o=new Zi(Bt.comparator);function t4(...r){let e=_o;for(const t of r)e=e.insert(t.key,t);return e}function Ko(r){let e=_o;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Bs(){return Yo()}function e3(){return Yo()}function Yo(){return new Es(r=>r.toString(),(r,e)=>r.isEqual(e))}const to=new Zi(Bt.comparator),Na=new H2(Bt.comparator);function Dn(...r){let e=Na;for(const t of r)e=e.add(t);return e}const J6=new H2(H1);function Ta(){return J6}class Jo{constructor(e,t,s,c,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,n4.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Jo(M1.min(),c,Ta(),Nr(),Dn())}}class n4{constructor(e,t,s,c,g){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new n4(s,t,Dn(),Dn(),Dn())}}class i4{constructor(e,t,s,c){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=c}}class t3{constructor(e,t){this.targetId=e,this.Et=t}}class Us{constructor(e,t,s=zt.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class E4{constructor(){this.At=0,this.Rt=x3(),this.bt=zt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Dn(),t=Dn(),s=Dn();return this.Rt.forEach((c,g)=>{switch(g){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:Zt()}}),new n4(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=x3()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class n3{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Nr(),this.qt=r3(),this.Ut=new H2(H1)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:Zt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,c)=>{this.zt(c)&&t(c)})}Jt(e){const t=e.targetId,s=e.Et.count,c=this.Yt(t);if(c){const g=c.target;if(i6(g))if(0===s){const w=new Bt(g.path);this.Qt(t,w,_i.newNoDocument(w,M1.min()))}else n1(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((g,w)=>{const L=this.Yt(w);if(L){if(g.current&&i6(L.target)){const Z=new Bt(L.target.path);null!==this.Lt.get(Z)||this.te(w,Z)||this.Qt(w,Z,_i.newNoDocument(Z,e))}g.St&&(t.set(w,g.Ct()),g.xt())}});let s=Dn();this.qt.forEach((g,w)=>{let L=!0;w.forEachWhile(Z=>{const Q=this.Yt(Z);return!Q||2===Q.purpose||(L=!1,!1)}),L&&(s=s.add(g))}),this.Lt.forEach((g,w)=>w.setReadTime(e));const c=new Jo(e,t,this.Ut,this.Lt,s);return this.Lt=Nr(),this.qt=r3(),this.Ut=new H2(H1),c}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const c=this.Wt(e);this.te(e,t)?c.Nt(t,1):c.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new E4,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new H2(H1),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new E4),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function r3(){return new Zi(Bt.comparator)}function x3(){return new Zi(Bt.comparator)}const S4={asc:"ASCENDING",desc:"DESCENDING"},Gr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d6={and:"AND",or:"OR"};class Q6{constructor(e,t){this.databaseId=e,this.wt=t}}function r4(r,e){return r.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bo(r,e){return r.wt?e.toBase64():e.toUint8Array()}function Aa(r,e){return r4(r,e.toTimestamp())}function q2(r){return n1(!!r),M1.fromTimestamp(function(e){const t=s1(e);return new _2(t.seconds,t.nanos)}(r))}function s4(r,e){return(t=r,new En(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Qo(r){const e=En.fromString(r);return n1(e0(e)),e}function Ia(r,e){return s4(r.databaseId,e.path)}function Co(r,e){const t=Qo(e);if(t.get(1)!==r.databaseId.projectId)throw new Tt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Tt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Bt(E(t))}function f6(r,e){return s4(r.databaseId,e)}function Z0(r){const e=Qo(r);return 4===e.length?En.emptyPath():E(e)}function N4(r){return new En(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function E(r){return n1(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function m(r,e,t){return{name:Ia(r,e),fields:t.value.mapValue.fields}}function _(r,e,t){const s=Co(r,e.name),c=q2(e.updateTime),g=e.createTime?q2(e.createTime):M1.min(),w=new us({mapValue:{fields:e.fields}}),L=_i.newFoundDocument(s,c,g,w);return t&&L.setHasCommittedMutations(),t?L.setHasCommittedMutations():L}function se(r,e){let t;if(e instanceof D4)t={update:m(r,e.key,e.value)};else if(e instanceof Qa)t={delete:Ia(r,e.key)};else if(e instanceof Sa)t={update:m(r,e.key,e.data),updateMask:X6(e.fieldMask)};else{if(!(e instanceof u6))return Zt();t={verify:Ia(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,g){const w=g.transform;if(w instanceof Zo)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof eo)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Fs)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof qo)return{fieldPath:g.field.canonicalString(),increment:w.gt};throw Zt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Aa(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Zt()),t;var c}function Be(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?bi.updateTime(q2(c.updateTime)):void 0!==c.exists?bi.exists(c.exists):bi.none():bi.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(g,w){let L=null;"setToServerValue"in w?(n1("REQUEST_TIME"===w.setToServerValue),L=new Zo):"appendMissingElements"in w?L=new eo(w.appendMissingElements.values||[]):"removeAllFromArray"in w?L=new Fs(w.removeAllFromArray.values||[]):"increment"in w?L=new qo(g,w.increment):Zt();const Z=Sn.fromServerFormat(w.fieldPath);return new Ya(Z,L)}(r,c)):[];var c;if(e.update){const c=Co(r,e.update.name),g=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new Hs((e.updateMask.fieldPaths||[]).map(Q=>Sn.fromServerFormat(Q)));return new Sa(c,g,w,t,s)}return new D4(c,g,t,s)}if(e.delete){const c=Co(r,e.delete);return new Qa(c,t)}if(e.verify){const c=Co(r,e.verify);return new u6(c,t)}return Zt()}function Kt(r,e){return{documents:[f6(r,e.path)]}}function v1(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=f6(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=f6(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(Z){if(0!==Z.length)return z3(tn.create(Z,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const g=function(Z){if(0!==Z.length)return Z.map(Q=>{return{field:o4((ce=Q).field),direction:hr(ce.dir)};var ce})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const w=(Q=e.limit,r.wt||ee(Q)?Q:{value:Q});var Q,L,Z;return null!==w&&(t.structuredQuery.limit=w),e.startAt&&(t.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(t.structuredQuery.endAt={before:!(Z=e.endAt).inclusive,values:Z.position}),t}function Y1(r){let e=Z0(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){n1(1===s);const ce=t.from[0];ce.allDescendants?c=ce.collectionId:e=e.child(ce.collectionId)}let g=[];t.where&&(g=function(ce){const Ae=Hi(ce);return Ae instanceof tn&&$a(Ae)?Ae.getFilters():[Ae]}(t.where));let w=[];t.orderBy&&(w=t.orderBy.map(ce=>{return new Wa(T4((Ae=ce).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ae.direction));var Ae}));let L=null;t.limit&&(L=function(ce){let Ae;return Ae="object"==typeof ce?ce.value:ce,ee(Ae)?null:Ae}(t.limit));let Z=null;var ce;t.startAt&&(Z=new c1((ce=t.startAt).values||[],!!ce.before));let Q=null;return t.endAt&&(Q=function(ce){return new c1(ce.values||[],!ce.before)}(t.endAt)),K4(e,c,w,g,L,"F",Z,Q)}function Hi(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=T4(e.unaryFilter.field);return Yt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=T4(e.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=T4(e.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=T4(e.unaryFilter.field);return Yt.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Zt()}}(r):void 0!==r.fieldFilter?Yt.create(T4((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return tn.create(e.compositeFilter.filters.map(t=>Hi(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Zt()}}(e.compositeFilter.op))}(r):Zt();var e}function hr(r){return S4[r]}function xa(r){return Gr[r]}function h6(r){return d6[r]}function o4(r){return{fieldPath:r.canonicalString()}}function T4(r){return Sn.fromServerFormat(r.fieldPath)}function z3(r){return r instanceof Yt?function(e){if("=="===e.op){if(M3(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NAN"}};if(Ni(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(M3(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NOT_NAN"}};if(Ni(e.value))return{unaryFilter:{field:o4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o4(e.field),op:xa(e.op),value:e.value}}}(r):r instanceof tn?function(e){const t=e.getFilters().map(s=>z3(s));return 1===t.length?t[0]:{compositeFilter:{op:h6(e.op),filters:t}}}(r):Zt()}function X6(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function e0(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function $r(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=p6(e)),e=t0(r.get(t),e);return p6(e)}function t0(r,e){let t=e;const s=r.length;for(let c=0;c<s;c++){const g=r.charAt(c);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function p6(r){return r+"\x01\x01"}function Xo(r){const e=r.length;if(n1(e>=2),2===e)return n1("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),En.emptyPath();const t=e-2,s=[];let c="";for(let g=0;g<e;){const w=r.indexOf("\x01",g);switch((w<0||w>t)&&Zt(),r.charAt(w+1)){case"\x01":const L=r.substring(g,w);let Z;0===c.length?Z=L:(c+=L,Z=c,c=""),s.push(Z);break;case"\x10":c+=r.substring(g,w),c+="\0";break;case"\x11":c+=r.substring(g,w+1);break;default:Zt()}g=w+2}return new En(s)}const m6=["userId","batchId"];function a4(r,e){return[r,$r(e)]}function c4(r,e,t){return[r,$r(e),t]}const n0={},W0=["prefixPath","collectionGroup","readTime","documentId"],X8=["prefixPath","collectionGroup","documentId"],e5=["collectionGroup","readTime","prefixPath","documentId"],Bu=["canonicalId","targetId"],Uu=["targetId","path"],ju=["path","targetId"],r0=["collectionId","parent"],Hc=["indexId","uid"],Gu=["uid","sequenceNumber"],$u=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],t5=["indexId","uid","orderedDocumentKey"],Fc=["userId","collectionPath","documentId"],Ol=["userId","collectionPath","largestBatchId"],kl=["userId","collectionGroup","largestBatchId"],n5=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],i5=[...n5,"documentOverlays"],g6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bc=g6,Uc=[...Bc,"indexConfiguration","indexState","indexEntries"];class jc extends b4{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Xn(r,e){const t=Gt(r);return qn.M(t.se,e)}class v6{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const g=this.mutations[c];g.key.isEqual(e.key)&&j0(g,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=c6(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=c6(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=e3();return this.mutations.forEach(c=>{const g=e.get(c.key),w=g.overlayedDocument;let L=this.applyToLocalView(w,g.mutatedFields);L=t.has(c.key)?null:L;const Z=X4(w,L);null!==Z&&s.set(c.key,Z),w.isValidDocument()||w.convertToNoDocument(M1.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&Qi(this.mutations,e.mutations,(t,s)=>l6(t,s))&&Qi(this.baseMutations,e.baseMutations,(t,s)=>l6(t,s))}}class Gc{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){n1(e.mutations.length===s.length);let c=to;const g=e.mutations;for(let w=0;w<g.length;w++)c=c.insert(g[w].key,s[w].version);return new Gc(e,t,s,c)}}class s0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class A4{constructor(e,t,s,c,g=M1.min(),w=M1.min(),L=zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=L}withSequenceNumber(e){return new A4(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new A4(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new A4(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class r5{constructor(e){this.ie=e}}function s5(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:q0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ia(c=r.ie,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:r4(c,g.version.toTimestamp()),createTime:r4(c,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:L3(e.version)};else{if(!e.isUnknownDocument())return Zt();s.unknownDocument={path:t.path.toArray(),version:L3(e.version)}}var c,g;return s}function q0(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function L3(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function s3(r){const e=new _2(r.seconds,r.nanoseconds);return M1.fromTimestamp(e)}function O3(r,e){const t=(e.baseMutations||[]).map(g=>Be(r.ie,g));for(let g=0;g<e.mutations.length-1;++g){const w=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(w.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const s=e.mutations.map(g=>Be(r.ie,g)),c=_2.fromMillis(e.localWriteTimeMs);return new v6(e.batchId,c,t,s)}function l4(r){const e=s3(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?s3(r.lastLimboFreeSnapshotVersion):M1.min();let s;var c;return void 0!==r.query.documents?(n1(1===(c=r.query).documents.length),s=Sr(ws(Z0(c.documents[0])))):s=Sr(Y1(r.query)),new A4(s,r.targetId,0,r.lastListenSequenceNumber,e,t,zt.fromBase64String(r.resumeToken))}function p(r,e){const t=L3(e.snapshotVersion),s=L3(e.lastLimboFreeSnapshotVersion);let c;c=i6(e.target)?Kt(r.ie,e.target):v1(r.ie,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:M4(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function C(r){const e=Y1({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ds(e,e.limit,"L"):e}function d(r,e){return new s0(e.largestBatchId,Be(r.ie,e.overlayMutation))}function D(r,e){const t=e.path.lastSegment();return[r,$r(e.path.popLast()),t]}function O(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:L3(s.readTime),documentKey:$r(s.documentKey.path),largestBatchId:s.largestBatchId}}class q{getBundleMetadata(e,t){return ve(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:s3(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return ve(e).put({bundleId:(s=t).id,createTime:L3(q2(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Oe(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:C(c.bundledQuery),readTime:s3(c.readTime)};var c})}saveNamedQuery(e,t){return Oe(e).put({name:(s=t).name,readTime:L3(q2(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ve(r){return Xn(r,"bundles")}function Oe(r){return Xn(r,"namedQueries")}class Le{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Le(e,t.uid||"")}getOverlay(e,t){return ht(e).get(D(this.userId,t)).next(s=>s?d(this.yt,s):null)}getOverlays(e,t){const s=Bs();return rt.forEach(t,c=>this.getOverlay(e,c).next(g=>{null!==g&&s.set(c,g)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((g,w)=>{const L=new s0(t,w);c.push(this.oe(e,L))}),rt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(w=>c.add($r(w.getCollectionPath())));const g=[];return c.forEach(w=>{const L=IDBKeyRange.bound([this.userId,w,s],[this.userId,w,s+1],!1,!0);g.push(ht(e).Y("collectionPathOverlayIndex",L))}),rt.waitFor(g)}getOverlaysForCollection(e,t,s){const c=Bs(),g=$r(t),w=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,Number.POSITIVE_INFINITY],!0);return ht(e).W("collectionPathOverlayIndex",w).next(L=>{for(const Z of L){const Q=d(this.yt,Z);c.set(Q.getKey(),Q)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const g=Bs();let w;const L=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ht(e).Z({index:"collectionGroupOverlayIndex",range:L},(Z,Q,ce)=>{const Ae=d(this.yt,Q);g.size()<c||Ae.largestBatchId===w?(g.set(Ae.getKey(),Ae),w=Ae.largestBatchId):ce.done()}).next(()=>g)}oe(e,t){return ht(e).put(function(s,c,g){const[w,L,Z]=D(c,g.mutation.key);return{userId:c,collectionPath:L,documentId:Z,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:se(s.ie,g.mutation)}}(this.yt,this.userId,t))}}function ht(r){return Xn(r,"documentOverlays")}class yt{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(F1(e.integerValue));else if("doubleValue"in e){const s=F1(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),me(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Si(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?te(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Zt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const c of Object.keys(s))this.de(c,t),this.ce(s[c],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const c of s)this.ce(c,t)}me(e,t){this.he(t,37),Bt.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function y1(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function l1(r){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const g=y1(255&t[c]);if(s+=g,8!==g)break}return s}(r);return Math.ceil(e/8)}yt.Ie=new yt;class w1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const c=t.codePointAt(0);this.Ee(240|c>>>18),this.Ee(128|63&c>>>12),this.Ee(128|63&c>>>6),this.Ee(128|63&c)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const c=t.codePointAt(0);this.be(240|c>>>18),this.be(128|63&c>>>12),this.be(128|63&c>>>6),this.be(128|63&c)}}this.Pe()}Se(e){const t=this.De(e),s=l1(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}xe(e){const t=this.De(e),s=l1(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(c){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,c,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class p2{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class q1{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class cn{constructor(){this.$e=new w1,this.Be=new p2(this.$e),this.Le=new q1(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Hn{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Hn(this.indexId,this.documentKey,this.arrayValue,s)}}function yn(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=F2(r.arrayValue,e.arrayValue),0!==t?t:(t=F2(r.directionalValue,e.directionalValue),0!==t?t:Bt.comparator(r.documentKey,e.documentKey)))}function F2(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Zn{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){n1(e.collectionGroup===this.collectionId);const t=ks(e);if(void 0!==t&&!this.We(t))return!1;const s=Ei(e);let c=0,g=0;for(;c<s.length&&this.We(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Qe){const w=s[c];if(!this.ze(this.Qe,w)||!this.He(this.Ke[g++],w))return!1;++c}for(;c<s.length;++c){const w=s[c];if(g>=this.Ke.length||!this.He(this.Ke[g++],w))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function e2(r){var e,t;if(n1(r instanceof Yt||r instanceof tn),r instanceof Yt){if(r instanceof e6){const c=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(g=>Yt.create(r.field,"==",g)))||[];return tn.create(c,"or")}return r}const s=r.filters.map(c=>e2(c));return tn.create(s,r.op)}function a2(r){if(0===r.getFilters().length)return[];const e=ci(e2(r));return n1(tr(e)),K2(e)||x2(e)?[e]:e.getFilters()}function K2(r){return r instanceof Yt}function x2(r){return r instanceof tn&&$a(r)}function tr(r){return K2(r)||x2(r)||function(e){if(e instanceof tn&&vo(e)){for(const t of e.getFilters())if(!K2(t)&&!x2(t))return!1;return!0}return!1}(r)}function ci(r){if(n1(r instanceof Yt||r instanceof tn),r instanceof Yt)return r;if(1===r.filters.length)return ci(r.filters[0]);const e=r.filters.map(s=>ci(s));let t=tn.create(e,r.op);return t=Zr(t),tr(t)?t:(n1(t instanceof tn),n1(I2(t)),n1(t.filters.length>1),t.filters.reduce((s,c)=>Fi(s,c)))}function Fi(r,e){let t;return n1(r instanceof Yt||r instanceof tn),n1(e instanceof Yt||e instanceof tn),t=r instanceof Yt?e instanceof Yt?tn.create([r,e],"and"):Lo(r,e):e instanceof Yt?Lo(e,r):function(s,c){if(n1(s.filters.length>0&&c.filters.length>0),I2(s)&&I2(c))return Za(s,c.getFilters());const g=vo(s)?s:c,w=vo(s)?c:s,L=g.filters.map(Z=>Fi(Z,w));return tn.create(L,"or")}(r,e),Zr(t)}function Lo(r,e){if(I2(e))return Za(e,r.getFilters());{const t=e.filters.map(s=>Fi(r,s));return tn.create(t,"or")}}function Zr(r){if(n1(r instanceof Yt||r instanceof tn),r instanceof Yt)return r;const e=r.getFilters();if(1===e.length)return Zr(e[0]);if(jo(r))return r;const t=e.map(c=>Zr(c)),s=[];return t.forEach(c=>{c instanceof Yt?s.push(c):c instanceof tn&&(c.op===r.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:tn.create(s,r.op)}class o3{constructor(){this.Je=new ea}addToCollectionParentIndex(e,t){return this.Je.add(t),rt.resolve()}getCollectionParents(e,t){return rt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return rt.resolve()}deleteFieldIndex(e,t){return rt.resolve()}getDocumentsMatchingTarget(e,t){return rt.resolve(null)}getIndexType(e,t){return rt.resolve(0)}getFieldIndexes(e,t){return rt.resolve([])}getNextCollectionGroupToUpdate(e){return rt.resolve(null)}getMinOffset(e,t){return rt.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,t){return rt.resolve(Fr.min())}updateCollectionGroup(e,t,s){return rt.resolve()}updateIndexEntries(e,t){return rt.resolve()}}class ea{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new H2(En.comparator),g=!c.has(s);return this.index[t]=c.add(s),g}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new H2(En.comparator)).toArray()}}const Ss=new Uint8Array(0);class Oo{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new ea,this.Xe=new Es(s=>M4(s),(s,c)=>n6(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const g={collectionId:s,parent:$r(c)};return y6(e).put(g)}return rt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[va(t),""],!1,!0);return y6(e).W(c).next(g=>{for(const w of g){if(w.collectionId!==t)break;s.push(Xo(w.parent))}return s})}addFieldIndex(e,t){const s=k3(e),c={indexId:(w=t).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var w;delete c.indexId;const g=s.add(c);if(t.indexState){const w=a3(e);return g.next(L=>{w.put(O(L,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const s=k3(e),c=a3(e),g=ko(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=ko(e);let c=!0;const g=new Map;return rt.forEach(this.Ze(t),w=>this.tn(e,w).next(L=>{c&&(c=!!L),g.set(w,L)})).next(()=>{if(c){let w=Dn();const L=[];return rt.forEach(g,(Z,Q)=>{var ce;Ot("IndexedDbIndexManager",`Using index ${ce=Z,`id=${ce.indexId}|cg=${ce.collectionGroup}|f=${ce.fields.map(b2=>`${b2.fieldPath}:${b2.kind}`).join(",")}`} to execute ${M4(t)}`);const Ae=function(b2,nr){const S2=ks(nr);if(void 0===S2)return null;for(const z2 of D3(b2,S2.fieldPath))switch(z2.op){case"array-contains-any":return z2.value.arrayValue.values||[];case"array-contains":return[z2.value]}return null}(Q,Z),nt=function(b2,nr){const S2=new Map;for(const z2 of Ei(nr))for(const ir of D3(b2,z2.fieldPath))switch(ir.op){case"==":case"in":S2.set(z2.fieldPath.canonicalString(),ir.value);break;case"not-in":case"!=":return S2.set(z2.fieldPath.canonicalString(),ir.value),Array.from(S2.values())}return null}(Q,Z),St=function(b2,nr){const S2=[];let z2=!0;for(const ir of Ei(nr)){const Nc=0===ir.kind?r6(b2,ir.fieldPath,b2.startAt):E3(b2,ir.fieldPath,b2.startAt);S2.push(Nc.value),z2&&(z2=Nc.inclusive)}return new c1(S2,z2)}(Q,Z),Lt=function(b2,nr){const S2=[];let z2=!0;for(const ir of Ei(nr)){const Nc=0===ir.kind?E3(b2,ir.fieldPath,b2.endAt):r6(b2,ir.fieldPath,b2.endAt);S2.push(Nc.value),z2&&(z2=Nc.inclusive)}return new c1(S2,z2)}(Q,Z),h1=this.en(Z,Q,St),U1=this.en(Z,Q,Lt),li=this.nn(Z,Q,nt),Ki=this.sn(Z.indexId,Ae,h1,St.inclusive,U1,Lt.inclusive,li);return rt.forEach(Ki,b2=>s.J(b2,t.limit).next(nr=>{nr.forEach(S2=>{const z2=Bt.fromSegments(S2.documentKey);w.has(z2)||(w=w.add(z2),L.push(z2))})}))}).next(()=>L)}return rt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:a2(tn.create(e.filters,"and")).map(s=>B0(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,c,g,w,L){const Z=(null!=t?t.length:1)*Math.max(s.length,g.length),Q=Z/(null!=t?t.length:1),ce=[];for(let Ae=0;Ae<Z;++Ae){const nt=t?this.rn(t[Ae/Q]):Ss,St=this.on(e,nt,s[Ae%Q],c),Lt=this.un(e,nt,g[Ae%Q],w),h1=L.map(U1=>this.on(e,nt,U1,!0));ce.push(...this.createRange(St,Lt,h1))}return ce}on(e,t,s,c){const g=new Hn(e,Bt.empty(),t,s);return c?g:g.Ue()}un(e,t,s,c){const g=new Hn(e,Bt.empty(),t,s);return c?g.Ue():g}tn(e,t){const s=new Zn(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(g=>{let w=null;for(const L of g)s.je(L)&&(!w||L.fields.length>w.fields.length)&&(w=L);return w})}getIndexType(e,t){let s=2;const c=this.Ze(t);return rt.forEach(c,g=>this.tn(e,g).next(w=>{w?0!==s&&w.fields.length<function(L){let Z=new H2(Sn.comparator),Q=!1;for(const ce of L.filters)for(const Ae of ce.getFlattenedFilters())Ae.field.isKeyField()||("array-contains"===Ae.op||"array-contains-any"===Ae.op?Q=!0:Z=Z.add(Ae.field));for(const ce of L.orderBy)ce.field.isKeyField()||(Z=Z.add(ce.field));return Z.size+(Q?1:0)}(g)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}cn(e,t){const s=new cn;for(const c of Ei(e)){const g=t.data.field(c.fieldPath);if(null==g)return null;const w=s.qe(c.kind);yt.Ie.ue(g,w)}return s.Fe()}rn(e){const t=new cn;return yt.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new cn;return yt.Ie.ue(Vs(this.databaseId,t),s.qe(function(c){const g=Ei(c);return 0===g.length?0:g[g.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let c=[];c.push(new cn);let g=0;for(const w of Ei(e)){const L=s[g++];for(const Z of c)if(this.hn(t,w.fieldPath)&&Ga(L))c=this.ln(c,w,L);else{const Q=Z.qe(w.kind);yt.Ie.ue(L,Q)}}return this.fn(c)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const c=[...e],g=[];for(const w of s.arrayValue.values||[])for(const L of c){const Z=new cn;Z.seed(L.Fe()),yt.Ie.ue(w,Z.qe(t.kind)),g.push(Z)}return g}hn(e,t){return!!e.filters.find(s=>s instanceof Yt&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=k3(e),c=a3(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(g=>{const w=[];return rt.forEach(g,L=>c.get([L.indexId,this.uid]).next(Z=>{w.push(function(Q,ce){const Ae=ce?new Qn(ce.sequenceNumber,new Fr(s3(ce.readTime),new Bt(Xo(ce.documentKey)),ce.largestBatchId)):Qn.empty(),nt=Q.fields.map(([St,Lt])=>new os(Sn.fromServerFormat(St),Lt));return new Os(Q.indexId,Q.collectionGroup,nt,Ae)}(L,Z))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const g=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==g?g:H1(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=k3(e),g=a3(e);return this.dn(e).next(w=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(L=>rt.forEach(L,Z=>g.put(O(Z.indexId,this.user,w,s)))))}updateIndexEntries(e,t){const s=new Map;return rt.forEach(t,(c,g)=>{const w=s.get(c.collectionGroup);return(w?rt.resolve(w):this.getFieldIndexes(e,c.collectionGroup)).next(L=>(s.set(c.collectionGroup,L),rt.forEach(L,Z=>this._n(e,c,Z).next(Q=>{const ce=this.wn(g,Z);return Q.isEqual(ce)?rt.resolve():this.mn(e,g,Z,Q,ce)}))))})}gn(e,t,s,c){return ko(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,c){return ko(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const c=ko(e);let g=new H2(yn);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(w,L)=>{g=g.add(new Hn(s.indexId,t,L.arrayValue,L.directionalValue))}).next(()=>g)}wn(e,t){let s=new H2(yn);const c=this.cn(t,e);if(null==c)return s;const g=ks(t);if(null!=g){const w=e.data.field(g.fieldPath);if(Ga(w))for(const L of w.arrayValue.values||[])s=s.add(new Hn(t.indexId,e.key,this.rn(L),c))}else s=s.add(new Hn(t.indexId,e.key,Ss,c));return s}mn(e,t,s,c,g){Ot("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(L,Z,Q,ce,Ae){const nt=L.getIterator(),St=Z.getIterator();let Lt=qa(nt),h1=qa(St);for(;Lt||h1;){let U1=!1,li=!1;if(Lt&&h1){const Ki=Q(Lt,h1);Ki<0?li=!0:Ki>0&&(U1=!0)}else null!=Lt?li=!0:U1=!0;U1?(ce(h1),h1=qa(St)):li?(Ae(Lt),Lt=qa(nt)):(Lt=qa(nt),h1=qa(St))}}(c,g,yn,L=>{w.push(this.gn(e,t,s,L))},L=>{w.push(this.yn(e,t,s,L))}),rt.waitFor(w)}dn(e){let t=1;return a3(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,g)=>{g.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((w,L)=>yn(w,L)).filter((w,L,Z)=>!L||0!==yn(w,Z[L-1]));const c=[];c.push(e);for(const w of s){const L=yn(w,e),Z=yn(w,t);if(0===L)c[0]=e.Ue();else if(L>0&&Z<0)c.push(w),c.push(w.Ue());else if(Z>0)break}c.push(t);const g=[];for(let w=0;w<c.length;w+=2){if(this.pn(c[w],c[w+1]))return[];g.push(IDBKeyRange.bound([c[w].indexId,this.uid,c[w].arrayValue,c[w].directionalValue,Ss,[]],[c[w+1].indexId,this.uid,c[w+1].arrayValue,c[w+1].directionalValue,Ss,[]]))}return g}pn(e,t){return yn(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(za)}getMinOffset(e,t){return rt.mapArray(this.Ze(t),s=>this.tn(e,s).next(c=>c||Zt())).next(za)}}function y6(r){return Xn(r,"collectionParents")}function ko(r){return Xn(r,"indexEntries")}function k3(r){return Xn(r,"indexConfiguration")}function a3(r){return Xn(r,"indexState")}function za(r){n1(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const c=r[s].indexState.offset;ja(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Fr(e.readTime,e.documentKey,t)}const _6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ai{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ai(e,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mo(r,e,t){const s=r.store("mutations"),c=r.store("documentMutations"),g=[],w=IDBKeyRange.only(t.batchId);let L=0;const Z=s.Z({range:w},(ce,Ae,nt)=>(L++,nt.delete()));g.push(Z.next(()=>{n1(1===L)}));const Q=[];for(const ce of t.mutations){const Ae=c4(e,ce.key.path,t.batchId);g.push(c.delete(Ae)),Q.push(ce.key)}return rt.waitFor(g).next(()=>Q)}function I4(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Zt();e=r.noDocument}return JSON.stringify(e).length}Ai.DEFAULT_COLLECTION_PERCENTILE=10,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ai.DEFAULT=new Ai(41943040,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ai.DISABLED=new Ai(-1,0,0);class R3{constructor(e,t,s,c){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=c,this.In={}}static re(e,t,s,c){n1(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new R3(g,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return La(e).Z({index:"userMutationsIndex",range:s},(c,g,w)=>{t=!1,w.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const g=P3(e),w=La(e);return w.add({}).next(L=>{n1("number"==typeof L);const Z=new v6(L,t,s,c),Q=function(nt,St,Lt){const h1=Lt.baseMutations.map(li=>se(nt.ie,li)),U1=Lt.mutations.map(li=>se(nt.ie,li));return{userId:St,batchId:Lt.batchId,localWriteTimeMs:Lt.localWriteTime.toMillis(),baseMutations:h1,mutations:U1}}(this.yt,this.userId,Z),ce=[];let Ae=new H2((nt,St)=>H1(nt.canonicalString(),St.canonicalString()));for(const nt of c){const St=c4(this.userId,nt.key.path,L);Ae=Ae.add(nt.key.path.popLast()),ce.push(w.put(Q)),ce.push(g.put(St,n0))}return Ae.forEach(nt=>{ce.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.In[L]=Z.keys()}),rt.waitFor(ce).next(()=>Z)})}lookupMutationBatch(e,t){return La(e).get(t).next(s=>s?(n1(s.userId===this.userId),O3(this.yt,s)):null)}Tn(e,t){return this.In[t]?rt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let g=null;return La(e).Z({index:"userMutationsIndex",range:c},(w,L,Z)=>{L.userId===this.userId&&(n1(L.batchId>=s),g=O3(this.yt,L)),Z.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return La(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,g,w)=>{s=g.batchId,w.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return La(e).W("userMutationsIndex",t).next(s=>s.map(c=>O3(this.yt,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=a4(this.userId,t.path),c=IDBKeyRange.lowerBound(s),g=[];return P3(e).Z({range:c},(w,L,Z)=>{const[Q,ce,Ae]=w,nt=Xo(ce);if(Q===this.userId&&t.path.isEqual(nt))return La(e).get(Ae).next(St=>{if(!St)throw Zt();n1(St.userId===this.userId),g.push(O3(this.yt,St))});Z.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new H2(H1);const c=[];return t.forEach(g=>{const w=a4(this.userId,g.path),L=IDBKeyRange.lowerBound(w),Z=P3(e).Z({range:L},(Q,ce,Ae)=>{const[nt,St,Lt]=Q,h1=Xo(St);nt===this.userId&&g.path.isEqual(h1)?s=s.add(Lt):Ae.done()});c.push(Z)}),rt.waitFor(c).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,g=a4(this.userId,s),w=IDBKeyRange.lowerBound(g);let L=new H2(H1);return P3(e).Z({range:w},(Z,Q,ce)=>{const[Ae,nt,St]=Z,Lt=Xo(nt);Ae===this.userId&&s.isPrefixOf(Lt)?Lt.length===c&&(L=L.add(St)):ce.done()}).next(()=>this.En(e,L))}En(e,t){const s=[],c=[];return t.forEach(g=>{c.push(La(e).get(g).next(w=>{if(null===w)throw Zt();n1(w.userId===this.userId),s.push(O3(this.yt,w))}))}),rt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return Mo(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),rt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return rt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return P3(e).Z({range:s},(g,w,L)=>{if(g[0]===this.userId){const Z=Xo(g[1]);c.push(Z)}else L.done()}).next(()=>{n1(0===c.length)})})}containsKey(e,t){return u4(e,this.userId,t)}Rn(e){return o0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function u4(r,e,t){const s=a4(e,t.path),c=s[1],g=IDBKeyRange.lowerBound(s);let w=!1;return P3(r).Z({range:g,X:!0},(L,Z,Q)=>{const[ce,Ae,nt]=L;ce===e&&Ae===c&&(w=!0),Q.done()}).next(()=>w)}function La(r){return Xn(r,"mutations")}function P3(r){return Xn(r,"documentMutations")}function o0(r){return Xn(r,"mutationQueues")}class x4{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new x4(0)}static vn(){return new x4(-1)}}class K0{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new x4(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>M1.fromTimestamp(new _2(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>z4(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(n1(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let c=0;const g=[];return z4(e).Z((w,L)=>{const Z=l4(L);Z.sequenceNumber<=t&&null===s.get(Z.targetId)&&(c++,g.push(this.removeTargetData(e,Z)))}).next(()=>rt.waitFor(g)).next(()=>c)}forEachTarget(e,t){return z4(e).Z((s,c)=>{const g=l4(c);t(g)})}Vn(e){return a0(e).get("targetGlobalKey").next(t=>(n1(null!==t),t))}Sn(e,t){return a0(e).put("targetGlobalKey",t)}Dn(e,t){return z4(e).put(p(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=M4(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let g=null;return z4(e).Z({range:c,index:"queryTargetsIndex"},(w,L,Z)=>{const Q=l4(L);n6(t,Q.target)&&(g=Q,Z.done())}).next(()=>g)}addMatchingKeys(e,t,s){const c=[],g=d4(e);return t.forEach(w=>{const L=$r(w.path);c.push(g.put({targetId:s,path:L})),c.push(this.referenceDelegate.addReference(e,s,w))}),rt.waitFor(c)}removeMatchingKeys(e,t,s){const c=d4(e);return rt.forEach(t,g=>{const w=$r(g.path);return rt.waitFor([c.delete([s,w]),this.referenceDelegate.removeReference(e,s,g)])})}removeMatchingKeysForTargetId(e,t){const s=d4(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=d4(e);let g=Dn();return c.Z({range:s,X:!0},(w,L,Z)=>{const Q=Xo(w[1]),ce=new Bt(Q);g=g.add(ce)}).next(()=>g)}containsKey(e,t){const s=$r(t.path),c=IDBKeyRange.bound([s],[va(s)],!1,!0);let g=0;return d4(e).Z({index:"documentTargetsIndex",X:!0,range:c},([w,L],Z,Q)=>{0!==w&&(g++,Q.done())}).next(()=>g>0)}ne(e,t){return z4(e).get(t).next(s=>s?l4(s):null)}}function z4(r){return Xn(r,"targets")}function a0(r){return Xn(r,"targetGlobal")}function d4(r){return Xn(r,"targetDocuments")}function b6([r,e],[t,s]){const c=H1(r,t);return 0===c?H1(e,s):c}class C6{constructor(e){this.xn=e,this.buffer=new H2(b6),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();b6(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o5{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,He.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Xs(s)?Ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield _a(s)}yield t.Fn(3e5)}))}}class c3{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return rt.resolve($i.at);const s=new C6(t);return this.$n.forEachTarget(e,c=>s.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>s.On(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(_6)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_6):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,c,g,w,L,Z,Q;const ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),c=this.params.maximumSequenceNumbersToCollect):c=Ae,w=Date.now(),this.nthSequenceNumber(e,c))).next(Ae=>(s=Ae,L=Date.now(),this.removeTargets(e,s,t))).next(Ae=>(g=Ae,Z=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ae=>(Q=Date.now(),Qs()<=at.in.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-ce}ms\n\tDetermined least recently used ${c} in `+(L-w)+`ms\n\tRemoved ${g} targets in `+(Z-L)+`ms\n\tRemoved ${Ae} documents in `+(Q-Z)+`ms\nTotal Duration: ${Q-ce}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:g,documentsRemoved:Ae})))}}class c0{constructor(e,t){this.db=e,this.garbageCollector=new c3(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,c)=>t(c))}addReference(e,t,s){return M6(e,s)}removeReference(e,t,s){return M6(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return M6(e,t)}Gn(e,t){return function(s,c){let g=!1;return o0(s).tt(w=>u4(s,w,c).next(L=>(L&&(g=!0),rt.resolve(!L)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let g=0;return this.Kn(e,(w,L)=>{if(L<=t){const Z=this.Gn(e,w).next(Q=>{if(!Q)return g++,s.getEntry(e,w).next(()=>(s.removeEntry(w,M1.min()),d4(e).delete([0,$r(w.path)])))});c.push(Z)}}).next(()=>rt.waitFor(c)).next(()=>s.apply(e)).next(()=>g)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return M6(e,t)}Kn(e,t){const s=d4(e);let c,g=$i.at;return s.Z({index:"documentTargetsIndex"},([w,L],{path:Z,sequenceNumber:Q})=>{0===w?(g!==$i.at&&t(new Bt(Xo(c)),g),g=Q,c=Z):g=$i.at}).next(()=>{g!==$i.at&&t(new Bt(Xo(c)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function M6(r,e){return d4(r).put((s=r.currentSequenceNumber,{targetId:0,path:$r(e.path),sequenceNumber:s}));var s}class Y0{constructor(){this.changes=new Es(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?rt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class J0{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return L4(e).put(s)}removeEntry(e,t,s){return L4(e).delete(function(c,g){const w=c.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],q0(g),w[w.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=_i.newInvalidDocument(t);return L4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(c,g)=>{s=this.jn(t,g)}).next(()=>s)}Wn(e,t){let s={size:0,document:_i.newInvalidDocument(t)};return L4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(c,g)=>{s={document:this.jn(t,g),size:I4(g)}}).next(()=>s)}getEntries(e,t){let s=Nr();return this.zn(e,t,(c,g)=>{const w=this.jn(c,g);s=s.insert(c,w)}).next(()=>s)}Hn(e,t){let s=Nr(),c=new Zi(Bt.comparator);return this.zn(e,t,(g,w)=>{const L=this.jn(g,w);s=s.insert(g,L),c=c.insert(g,I4(w))}).next(()=>({documents:s,Jn:c}))}zn(e,t,s){if(t.isEmpty())return rt.resolve();let c=new H2(Wu);t.forEach(Z=>c=c.add(Z));const g=IDBKeyRange.bound(X0(c.first()),X0(c.last())),w=c.getIterator();let L=w.getNext();return L4(e).Z({index:"documentKeyIndex",range:g},(Z,Q,ce)=>{const Ae=Bt.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;L&&Wu(L,Ae)<0;)s(L,null),L=w.getNext();L&&L.isEqual(Ae)&&(s(L,Q),L=w.hasNext()?w.getNext():null),L?ce.j(X0(L)):ce.done()}).next(()=>{for(;L;)s(L,null),L=w.hasNext()?w.getNext():null})}getAllFromCollection(e,t,s){const c=[t.popLast().toArray(),t.lastSegment(),q0(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],g=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return L4(e).W(IDBKeyRange.bound(c,g,!0)).next(w=>{let L=Nr();for(const Z of w){const Q=this.jn(Bt.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);L=L.insert(Q.key,Q)}return L})}getAllFromCollectionGroup(e,t,s,c){let g=Nr();const w=Zu(t,s),L=Zu(t,Fr.max());return L4(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,L,!0)},(Z,Q,ce)=>{const Ae=this.jn(Bt.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);g=g.insert(Ae.key,Ae),g.size===c&&ce.done()}).next(()=>g)}newChangeBuffer(e){return new l3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ta(e).get("remoteDocumentGlobalKey").next(t=>(n1(!!t),t))}Qn(e,t){return ta(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function Rl(r,e){let t;if(e.document)t=_(r.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Bt.fromSegments(e.noDocument.path),c=s3(e.noDocument.readTime);t=_i.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Zt();{const s=Bt.fromSegments(e.unknownDocument.path),c=s3(e.unknownDocument.version);t=_i.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new _2(s[0],s[1]);return M1.fromTimestamp(c)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(M1.min()))return s}return _i.newInvalidDocument(e)}}function Q0(r){return new J0(r)}class l3 extends Y0{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Es(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new H2((g,w)=>H1(g.canonicalString(),w.canonicalString()));return this.changes.forEach((g,w)=>{const L=this.Xn.get(g);if(t.push(this.Yn.removeEntry(e,g,L.readTime)),w.isValidDocument()){const Z=s5(this.Yn.yt,w);c=c.add(g.path.popLast()),s+=I4(Z)-L.size,t.push(this.Yn.addEntry(e,g,Z))}else if(s-=L.size,this.trackRemovals){const Z=s5(this.Yn.yt,w.convertToNoDocument(M1.min()));t.push(this.Yn.addEntry(e,g,Z))}}),c.forEach(g=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.Yn.updateMetadata(e,s)),rt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:c})=>(c.forEach((g,w)=>{this.Xn.set(g,{size:w,readTime:s.get(g).readTime})}),s))}}function ta(r){return Xn(r,"remoteDocumentGlobal")}function L4(r){return Xn(r,"remoteDocumentsV14")}function X0(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zu(r,e){const t=e.documentKey.path.toArray();return[r,q0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Wu(r,e){const t=r.path.toArray(),s=e.path.toArray();let c=0;for(let g=0;g<t.length-2&&g<s.length-2;++g)if(c=H1(t[g],s[g]),c)return c;return c=H1(t.length,s.length),c||(c=H1(t[t.length-2],s[s.length-2]),c||H1(t[t.length-1],s[s.length-1]))}class Pl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qu{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&c6(s.mutation,c,Hs.empty(),_2.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Dn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Dn()){const c=Bs();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(g=>{let w=t4();return g.forEach((L,Z)=>{w=w.insert(L,Z.overlayedDocument)}),w}))}getOverlayedDocuments(e,t){const s=Bs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Dn()))}populateOverlays(e,t,s){const c=[];return s.forEach(g=>{t.has(g)||c.push(g)}),this.documentOverlayCache.getOverlays(e,c).next(g=>{g.forEach((w,L)=>{t.set(w,L)})})}computeViews(e,t,s,c){let g=Nr();const w=Yo(),L=Yo();return t.forEach((Z,Q)=>{const ce=s.get(Q.key);c.has(Q.key)&&(void 0===ce||ce.mutation instanceof Sa)?g=g.insert(Q.key,Q):void 0!==ce&&(w.set(Q.key,ce.mutation.getFieldMask()),c6(ce.mutation,Q,ce.mutation.getFieldMask(),_2.now()))}),this.recalculateAndSaveOverlays(e,g).next(Z=>(Z.forEach((Q,ce)=>w.set(Q,ce)),t.forEach((Q,ce)=>{var Ae;return L.set(Q,new Pl(ce,null!==(Ae=w.get(Q))&&void 0!==Ae?Ae:null))}),L))}recalculateAndSaveOverlays(e,t){const s=Yo();let c=new Zi((w,L)=>w-L),g=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(w=>{for(const L of w)L.keys().forEach(Z=>{const Q=t.get(Z);if(null===Q)return;let ce=s.get(Z)||Hs.empty();ce=L.applyToLocalView(Q,ce),s.set(Z,ce);const Ae=(c.get(L.batchId)||Dn()).add(Z);c=c.insert(L.batchId,Ae)})}).next(()=>{const w=[],L=c.getReverseIterator();for(;L.hasNext();){const Z=L.getNext(),Q=Z.key,ce=Z.value,Ae=e3();ce.forEach(nt=>{if(!g.has(nt)){const St=X4(t.get(nt),s.get(nt));null!==St&&Ae.set(nt,St),g=g.add(nt)}}),w.push(this.documentOverlayCache.saveOverlays(e,Q,Ae))}return rt.waitFor(w)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Bt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):s6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(g=>{const w=c-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-g.size):rt.resolve(Bs());let L=-1,Z=g;return w.next(Q=>rt.forEach(Q,(ce,Ae)=>(L<Ae.largestBatchId&&(L=Ae.largestBatchId),g.get(ce)?rt.resolve():this.remoteDocumentCache.getEntry(e,ce).next(nt=>{Z=Z.insert(ce,nt)}))).next(()=>this.populateOverlays(e,Q,g)).next(()=>this.computeViews(e,Z,Q,Dn())).next(ce=>({batchId:L,changes:Ko(ce)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Bt(t)).next(s=>{let c=t4();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let g=t4();return this.indexManager.getCollectionParents(e,c).next(w=>rt.forEach(w,L=>{const Z=(Q=t,ce=L.child(c),new Go(ce,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,ce;return this.getDocumentsMatchingCollectionQuery(e,Z,s).next(Q=>{Q.forEach((ce,Ae)=>{g=g.insert(ce,Ae)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(g=>(c=g,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(g=>{g.forEach((L,Z)=>{const Q=Z.getKey();null===c.get(Q)&&(c=c.insert(Q,_i.newInvalidDocument(Q)))});let w=t4();return c.forEach((L,Z)=>{const Q=g.get(L);void 0!==Q&&c6(Q.mutation,Z,Hs.empty(),_2.now()),Wi(t,Z)&&(w=w.insert(L,Z))}),w})}}class Vl{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return rt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:q2(s.createTime)}),rt.resolve()}getNamedQuery(e,t){return rt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:C(s.bundledQuery),readTime:q2(s.readTime)}),rt.resolve();var s}}class uf{constructor(){this.overlays=new Zi(Bt.comparator),this.es=new Map}getOverlay(e,t){return rt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Bs();return rt.forEach(t,c=>this.getOverlay(e,c).next(g=>{null!==g&&s.set(c,g)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,g)=>{this.oe(e,t,g)}),rt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.es.get(s);return void 0!==c&&(c.forEach(g=>this.overlays=this.overlays.remove(g)),this.es.delete(s)),rt.resolve()}getOverlaysForCollection(e,t,s){const c=Bs(),g=t.length+1,w=new Bt(t.child("")),L=this.overlays.getIteratorFrom(w);for(;L.hasNext();){const Z=L.getNext().value,Q=Z.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===g&&Z.largestBatchId>s&&c.set(Z.getKey(),Z)}return rt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let g=new Zi((Q,ce)=>Q-ce);const w=this.overlays.getIterator();for(;w.hasNext();){const Q=w.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let ce=g.get(Q.largestBatchId);null===ce&&(ce=Bs(),g=g.insert(Q.largestBatchId,ce)),ce.set(Q.getKey(),Q)}}const L=Bs(),Z=g.getIterator();for(;Z.hasNext()&&(Z.getNext().value.forEach((Q,ce)=>L.set(Q,ce)),!(L.size()>=c)););return rt.resolve(L)}oe(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const w=this.es.get(c.largestBatchId).delete(s.key);this.es.set(c.largestBatchId,w)}this.overlays=this.overlays.insert(s.key,new s0(t,s));let g=this.es.get(t);void 0===g&&(g=Dn(),this.es.set(t,g)),this.es.set(t,g.add(s.key))}}class $c{constructor(){this.ns=new H2(Ns.ss),this.rs=new H2(Ns.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Ns(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Ns(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new Bt(new En([])),s=new Ns(t,e),c=new Ns(t,e+1),g=[];return this.rs.forEachInRange([s,c],w=>{this.cs(w),g.push(w.key)}),g}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Bt(new En([])),s=new Ns(t,e),c=new Ns(t,e+1);let g=Dn();return this.rs.forEachInRange([s,c],w=>{g=g.add(w.key)}),g}containsKey(e){const t=new Ns(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ns{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Bt.comparator(e.key,t.key)||H1(e._s,t._s)}static os(e,t){return H1(e._s,t._s)||Bt.comparator(e.key,t.key)}}class Hl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new H2(Ns.ss)}checkEmpty(e){return rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const g=this.ws;this.ws++;const w=new v6(g,t,s,c);this.mutationQueue.push(w);for(const L of c)this.gs=this.gs.add(new Ns(L.key,g)),this.indexManager.addToCollectionParentIndex(e,L.key.path.popLast());return rt.resolve(w)}lookupMutationBatch(e,t){return rt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),g=c<0?0:c;return rt.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ns(t,0),c=new Ns(t,Number.POSITIVE_INFINITY),g=[];return this.gs.forEachInRange([s,c],w=>{const L=this.ys(w._s);g.push(L)}),rt.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new H2(H1);return t.forEach(c=>{const g=new Ns(c,0),w=new Ns(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([g,w],L=>{s=s.add(L._s)})}),rt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let g=s;Bt.isDocumentKey(g)||(g=g.child(""));const w=new Ns(new Bt(g),0);let L=new H2(H1);return this.gs.forEachWhile(Z=>{const Q=Z.key.path;return!!s.isPrefixOf(Q)&&(Q.length===c&&(L=L.add(Z._s)),!0)},w),rt.resolve(this.Is(L))}Is(e){const t=[];return e.forEach(s=>{const c=this.ys(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){n1(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return rt.forEach(t.mutations,c=>{const g=new Ns(c.key,t.batchId);return s=s.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Ns(t,0),c=this.gs.firstAfterOrEqual(s);return rt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return rt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ku{constructor(e){this.Es=e,this.docs=new Zi(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),g=c?c.size:0,w=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:w}),this.size+=w-g,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return rt.resolve(s?s.document.mutableCopy():_i.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach(c=>{const g=this.docs.get(c);s=s.insert(c,g?g.document.mutableCopy():_i.newInvalidDocument(c))}),rt.resolve(s)}getAllFromCollection(e,t,s){let c=Nr();const g=new Bt(t.child("")),w=this.docs.getIteratorFrom(g);for(;w.hasNext();){const{key:L,value:{document:Z}}=w.getNext();if(!t.isPrefixOf(L.path))break;L.path.length>t.length+1||ja(_4(Z),s)<=0||(c=c.insert(Z.key,Z.mutableCopy()))}return rt.resolve(c)}getAllFromCollectionGroup(e,t,s,c){Zt()}As(e,t){return rt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Yu(this)}getSize(e){return rt.resolve(this.size)}}class Yu extends Y0{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(s)}),rt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class f4{constructor(e){this.persistence=e,this.Rs=new Es(t=>M4(t),n6),this.lastRemoteSnapshotVersion=M1.min(),this.highestTargetId=0,this.bs=0,this.Ps=new $c,this.targetCount=0,this.vs=x4.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,c)=>t(c)),rt.resolve()}getLastRemoteSnapshotVersion(e){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),rt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new x4(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,rt.resolve()}updateTargetData(e,t){return this.Dn(t),rt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,rt.resolve()}removeTargets(e,t,s){let c=0;const g=[];return this.Rs.forEach((w,L)=>{L.sequenceNumber<=t&&null===s.get(L.targetId)&&(this.Rs.delete(w),g.push(this.removeMatchingKeysForTargetId(e,L.targetId)),c++)}),rt.waitFor(g).next(()=>c)}getTargetCount(e){return rt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return rt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),rt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const c=this.persistence.referenceDelegate,g=[];return c&&t.forEach(w=>{g.push(c.markPotentiallyOrphaned(e,w))}),rt.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),rt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return rt.resolve(s)}containsKey(e,t){return rt.resolve(this.Ps.containsKey(t))}}class Fl{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $i(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new f4(this),this.indexManager=new o3,this.remoteDocumentCache=new Ku(s=>this.referenceDelegate.xs(s)),this.yt=new r5(t),this.Ns=new Vl(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Hl(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Ot("MemoryPersistence","Starting transaction:",e);const c=new Bl(this.Ss.next());return this.referenceDelegate.ks(),s(c).next(g=>this.referenceDelegate.Os(c).next(()=>g)).toPromise().then(g=>(c.raiseOnCommittedEvent(),g))}Ms(e,t){return rt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class Bl extends b4{constructor(e){super(),this.currentSequenceNumber=e}}class Zc{constructor(e){this.persistence=e,this.Fs=new $c,this.$s=null}static Bs(e){return new Zc(e)}get Ls(){if(this.$s)return this.$s;throw Zt()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),rt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),rt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(g=>this.Ls.add(g.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Ls,s=>{const c=Bt.fromPath(s);return this.qs(e,c).next(g=>{g||t.removeEntry(c,M1.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return rt.or([()=>rt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Ju{constructor(e){this.yt=e}$(e,t,s,c){const g=new ba("createOrUpgrade",t);var L;s<1&&c>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m6,{unique:!0}),L.createObjectStore("documentMutations"),a5(e),function(L){L.createObjectStore("remoteDocuments")}(e));let w=rt.resolve();return s<3&&c>=3&&(0!==s&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),a5(e)),w=w.next(()=>function(L){const Z=L.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:M1.min().toTimestamp(),targetCount:0};return Z.put("targetGlobalKey",Q)}(g))),s<4&&c>=4&&(0!==s&&(w=w.next(()=>function(L,Z){return Z.store("mutations").W().next(Q=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",m6,{unique:!0});const ce=Z.store("mutations"),Ae=Q.map(nt=>ce.put(nt));return rt.waitFor(Ae)})}(e,g))),w=w.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(w=w.next(()=>this.Us(g))),s<6&&c>=6&&(w=w.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(g)))),s<7&&c>=7&&(w=w.next(()=>this.Gs(g))),s<8&&c>=8&&(w=w.next(()=>this.Qs(e,g))),s<9&&c>=9&&(w=w.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(w=w.next(()=>this.js(g))),s<11&&c>=11&&(w=w.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(w=w.next(()=>{!function(L){const Z=L.createObjectStore("documentOverlays",{keyPath:Fc});Z.createIndex("collectionPathOverlayIndex",Ol,{unique:!1}),Z.createIndex("collectionGroupOverlayIndex",kl,{unique:!1})}(e)})),s<13&&c>=13&&(w=w.next(()=>function(L){const Z=L.createObjectStore("remoteDocumentsV14",{keyPath:W0});Z.createIndex("documentKeyIndex",X8),Z.createIndex("collectionGroupIndex",e5)}(e)).next(()=>this.Ws(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(w=w.next(()=>this.zs(e,g))),s<15&&c>=15&&(w=w.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:Hc}).createIndex("sequenceNumberIndex",Gu,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:$u}).createIndex("documentKeyIndex",t5,{unique:!1})}(e))),w}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,c)=>{t+=I4(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(c=>rt.forEach(c,g=>{const w=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",w).next(L=>rt.forEach(L,Z=>{n1(Z.userId===g.userId);const Q=O3(this.yt,Z);return Mo(e,g.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const g=[];return s.Z((w,L)=>{const Z=new En(w),Q=[0,$r(Z)];g.push(t.get(Q).next(ce=>ce?rt.resolve():t.put({targetId:0,path:$r(Z),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>rt.waitFor(g))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:r0});const s=t.store("collectionParents"),c=new ea,g=w=>{if(c.add(w)){const L=w.lastSegment(),Z=w.popLast();return s.put({collectionId:L,parent:$r(Z)})}};return t.store("remoteDocuments").Z({X:!0},(w,L)=>{const Z=new En(w);return g(Z.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([w,L,Z],Q)=>{const ce=Xo(L);return g(ce.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,c)=>{const g=l4(c),w=p(this.yt,g);return t.put(w)})}Ws(e,t){const s=t.store("remoteDocuments"),c=[];return s.Z((g,w)=>{const L=t.store("remoteDocumentsV14"),Z=(Q=w,Q.document?new Bt(En.fromString(Q.document.name).popFirst(5)):Q.noDocument?Bt.fromSegments(Q.noDocument.path):Q.unknownDocument?Bt.fromSegments(Q.unknownDocument.path):Zt()).path.toArray();var Q;const ce={prefixPath:Z.slice(0,Z.length-2),collectionGroup:Z[Z.length-2],documentId:Z[Z.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};c.push(L.put(ce))}).next(()=>rt.waitFor(c))}zs(e,t){const s=t.store("mutations"),c=Q0(this.yt),g=new Fl(Zc.Bs,this.yt.ie);return s.W().next(w=>{const L=new Map;return w.forEach(Z=>{var Q;let ce=null!==(Q=L.get(Z.userId))&&void 0!==Q?Q:Dn();O3(this.yt,Z).keys().forEach(Ae=>ce=ce.add(Ae)),L.set(Z.userId,ce)}),rt.forEach(L,(Z,Q)=>{const ce=new mi(Q),Ae=Le.re(this.yt,ce),nt=g.getIndexManager(ce),St=R3.re(ce,this.yt,nt,g.referenceDelegate);return new qu(c,St,Ae,nt).recalculateAndSaveOverlaysForDocumentKeys(new jc(t,$i.at),Z).next()})})}}function a5(r){r.createObjectStore("targetDocuments",{keyPath:Uu}).createIndex("documentTargetsIndex",ju,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bu,{unique:!0}),r.createObjectStore("targetGlobal")}const c5="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wc{constructor(e,t,s,c,g,w,L,Z,Q,ce,Ae=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=g,this.window=w,this.document=L,this.Js=Q,this.Ys=ce,this.Xs=Ae,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=nt=>Promise.resolve(),!Wc.C())throw new Tt(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new c0(this,c),this.ii=t+"main",this.yt=new r5(Z),this.ri=new qn(this.ii,this.Xs,new Ju(this.yt)),this.Cs=new K0(this.referenceDelegate,this.yt),this.remoteDocumentCache=Q0(this.yt),this.Ns=new q,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ce&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tt(dt.FAILED_PRECONDITION,c5);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $i(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,He.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,He.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,He.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Xs(e))return Ot("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return ec(e).get("owner").next(t=>rt.resolve(this.mi(t)))}gi(e){return qc(e).delete(this.clientId)}yi(){var e=this;return(0,He.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Xn(s,"clientMetadata");return c.W().next(g=>{const w=e.Ii(g,18e5),L=g.filter(Z=>-1===w.indexOf(Z));return rt.forEach(L,Z=>c.delete(Z.clientId)).next(()=>L)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?rt.resolve(!0):ec(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Tt(dt.FAILED_PRECONDITION,c5);return!1}}return!(!this.networkEnabled||!this.inForeground)||qc(e).W().next(s=>void 0===this.Ii(s,5e3).find(c=>{if(this.clientId!==c.clientId){const w=!this.inForeground&&c.inForeground,L=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||w&&L)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ot("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,He.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new jc(t,$i.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>qc(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return R3.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Oo(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Le.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Ot("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",g=15===(w=this.Xs)?Uc:14===w?Bc:13===w?g6:12===w?i5:11===w?n5:void Zt();var w;let L;return this.ri.runTransaction(e,c,g,Z=>(L=new jc(Z,this.Ss?this.Ss.next():$i.at),"readwrite-primary"===t?this.fi(L).next(Q=>!!Q||this.di(L)).next(Q=>{if(!Q)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Tt(dt.FAILED_PRECONDITION,Z4);return s(L)}).next(Q=>this.wi(L).next(()=>Q)):this.Vi(L).next(()=>s(L)))).then(Z=>(L.raiseOnCommittedEvent(),Z))}Vi(e){return ec(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Tt(dt.FAILED_PRECONDITION,c5)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ec(e).put("owner",t)}static C(){return qn.C()}_i(e){const t=ec(e);return t.get("owner").next(s=>this.mi(s)?(Ot("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):rt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(ai(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ot("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ai("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ec(r){return Xn(r,"owner")}function qc(r){return Xn(r,"clientMetadata")}function l5(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Nn{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=c}static Ci(e,t){let s=Dn(),c=Dn();for(const g of t.docChanges)switch(g.type){case 0:s=s.add(g.doc.key);break;case 1:c=c.add(g.doc.key)}return new Nn(e,t.fromCache,s,c)}}class u5{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,c){return this.ki(e,t).next(g=>g||this.Oi(e,t,c,s)).next(g=>g||this.Mi(e,t))}ki(e,t){if($6(t))return rt.resolve(null);let s=Sr(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Ds(t,null,"F"),s=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(g=>{const w=Dn(...g);return this.Ni.getDocuments(e,w).next(L=>this.indexManager.getMinOffset(e,s).next(Z=>{const Q=this.Fi(t,L);return this.$i(t,Q,w,Z.readTime)?this.ki(e,Ds(t,null,"F")):this.Bi(e,Q,t,Z)}))})))}Oi(e,t,s,c){return $6(t)||c.isEqual(M1.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(g=>{const w=this.Fi(t,g);return this.$i(t,w,s,c)?this.Mi(e,t):(Qs()<=at.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),N3(t)),this.Bi(e,w,t,ya(c,-1)))})}Fi(e,t){let s=new H2(q6(e));return t.forEach((c,g)=>{Wi(e,g)&&(s=s.add(g))}),s}$i(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(c)>0)}Mi(e,t){return Qs()<=at.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",N3(t)),this.Ni.getDocumentsMatchingQuery(e,t,Fr.min())}Bi(e,t,s,c){return this.Ni.getDocumentsMatchingQuery(e,s,c).next(g=>(t.forEach(w=>{g=g.insert(w.key,w)}),g))}}class Ul{constructor(e,t,s,c){this.persistence=e,this.Li=t,this.yt=c,this.qi=new Zi(H1),this.Ui=new Es(g=>M4(g),n6),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qu(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function d5(r,e,t,s){return new Ul(r,e,t,s)}function jl(r,e){return f5.apply(this,arguments)}function f5(){return f5=(0,He.Z)(function*(r,e){const t=Gt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(g=>(c=g,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(g=>{const w=[],L=[];let Z=Dn();for(const Q of c){w.push(Q.batchId);for(const ce of Q.mutations)Z=Z.add(ce.key)}for(const Q of g){L.push(Q.batchId);for(const ce of Q.mutations)Z=Z.add(ce.key)}return t.localDocuments.getDocuments(s,Z).next(Q=>({ji:Q,removedBatchIds:w,addedBatchIds:L}))})})}),f5.apply(this,arguments)}function Gl(r,e){const t=Gt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),g=t.Gi.newChangeBuffer({trackRemovals:!0});return function(w,L,Z,Q){const ce=Z.batch,Ae=ce.keys();let nt=rt.resolve();return Ae.forEach(St=>{nt=nt.next(()=>Q.getEntry(L,St)).next(Lt=>{const h1=Z.docVersions.get(St);n1(null!==h1),Lt.version.compareTo(h1)<0&&(ce.applyToRemoteDocument(Lt,Z),Lt.isValidDocument()&&(Lt.setReadTime(Z.commitVersion),Q.addEntry(Lt)))})}),nt.next(()=>w.mutationQueue.removeMutationBatch(L,ce))}(t,s,e,g).next(()=>g.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let L=Dn();for(let Z=0;Z<w.mutationResults.length;++Z)w.mutationResults[Z].transformResults.length>0&&(L=L.add(w.batch.mutations[Z].key));return L}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}function $l(r){const e=Gt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Zl(r,e){const t=Gt(r),s=e.snapshotVersion;let c=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const w=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.qi;const L=[];e.targetChanges.forEach((ce,Ae)=>{const nt=c.get(Ae);if(!nt)return;L.push(t.Cs.removeMatchingKeys(g,ce.removedDocuments,Ae).next(()=>t.Cs.addMatchingKeys(g,ce.addedDocuments,Ae)));let St=nt.withSequenceNumber(g.currentSequenceNumber);var Lt,h1,U1;e.targetMismatches.has(Ae)?St=St.withResumeToken(zt.EMPTY_BYTE_STRING,M1.min()).withLastLimboFreeSnapshotVersion(M1.min()):ce.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(ce.resumeToken,s)),c=c.insert(Ae,St),h1=St,U1=ce,(0===(Lt=nt).resumeToken.approximateByteSize()||h1.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||U1.addedDocuments.size+U1.modifiedDocuments.size+U1.removedDocuments.size>0)&&L.push(t.Cs.updateTargetData(g,St))});let Z=Nr(),Q=Dn();if(e.documentUpdates.forEach(ce=>{e.resolvedLimboDocuments.has(ce)&&L.push(t.persistence.referenceDelegate.updateLimboDocument(g,ce))}),L.push(Wl(g,w,e.documentUpdates).next(ce=>{Z=ce.Wi,Q=ce.zi})),!s.isEqual(M1.min())){const ce=t.Cs.getLastRemoteSnapshotVersion(g).next(Ae=>t.Cs.setTargetsMetadata(g,g.currentSequenceNumber,s));L.push(ce)}return rt.waitFor(L).next(()=>w.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,Z,Q)).next(()=>Z)}).then(g=>(t.qi=c,g))}function Wl(r,e,t){let s=Dn(),c=Dn();return t.forEach(g=>s=s.add(g)),e.getEntries(r,s).next(g=>{let w=Nr();return t.forEach((L,Z)=>{const Q=g.get(L);Z.isFoundDocument()!==Q.isFoundDocument()&&(c=c.add(L)),Z.isNoDocument()&&Z.version.isEqual(M1.min())?(e.removeEntry(L,Z.readTime),w=w.insert(L,Z)):!Q.isValidDocument()||Z.version.compareTo(Q.version)>0||0===Z.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(Z),w=w.insert(L,Z)):Ot("LocalStore","Ignoring outdated watch update for ",L,". Current version:",Q.version," Watch version:",Z.version)}),{Wi:w,zi:c}})}function Qu(r,e){const t=Gt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function tc(r,e){const t=Gt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Cs.getTargetData(s,e).next(g=>g?(c=g,rt.resolve(c)):t.Cs.allocateTargetId(s).next(w=>(c=new A4(e,w,0,s.currentSequenceNumber),t.Cs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.qi.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function w6(r,e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,He.Z)(function*(r,e,t){const s=Gt(r),c=s.qi.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",g,w=>s.persistence.referenceDelegate.removeTarget(w,c)))}catch(w){if(!Xs(w))throw w;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}s.qi=s.qi.remove(e),s.Ui.delete(c.target)}),Kc.apply(this,arguments)}function O4(r,e,t){const s=Gt(r);let c=M1.min(),g=Dn();return s.persistence.runTransaction("Execute query","readonly",w=>function(L,Z,Q){const ce=Gt(L),Ae=ce.Ui.get(Q);return void 0!==Ae?rt.resolve(ce.qi.get(Ae)):ce.Cs.getTargetData(Z,Q)}(s,w,Sr(e)).next(L=>{if(L)return c=L.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(w,L.targetId).next(Z=>{g=Z})}).next(()=>s.Li.getDocumentsMatchingQuery(w,e,t?c:M1.min(),t?g:Dn())).next(L=>(Jc(s,T3(e),L),{documents:L,Hi:g})))}function ql(r,e){const t=Gt(r),s=Gt(t.Cs),c=t.qi.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",g=>s.ne(g,e).next(w=>w?w.target:null))}function Yc(r,e){const t=Gt(r),s=t.Ki.get(e)||M1.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,ya(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Jc(t,e,c),c))}function Jc(r,e,t){let s=r.Ki.get(e)||M1.min();t.forEach((c,g)=>{g.readTime.compareTo(s)>0&&(s=g.readTime)}),r.Ki.set(e,s)}function Kl(){return Kl=(0,He.Z)(function*(r,e,t,s){const c=Gt(r);let g=Dn(),w=Nr();for(const Q of t){const ce=e.Ji(Q.metadata.name);Q.document&&(g=g.add(ce));const Ae=e.Yi(Q);Ae.setReadTime(e.Xi(Q.metadata.readTime)),w=w.insert(ce,Ae)}const L=c.Gi.newChangeBuffer({trackRemovals:!0}),Z=yield tc(c,(Q=s,Sr(ws(En.fromString(`__bundle__/docs/${Q}`)))));var Q;return c.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Wl(Q,L,w).next(ce=>(L.apply(Q),ce)).next(ce=>c.Cs.removeMatchingKeysForTargetId(Q,Z.targetId).next(()=>c.Cs.addMatchingKeys(Q,g,Z.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Q,ce.Wi,ce.zi)).next(()=>ce.Wi)))}),Kl.apply(this,arguments)}function e9(r,e){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,He.Z)(function*(r,e,t=Dn()){const s=yield tc(r,Sr(C(e.bundledQuery))),c=Gt(r);return c.persistence.runTransaction("Save named query","readwrite",g=>{const w=q2(e.readTime);if(s.snapshotVersion.compareTo(w)>=0)return c.Ns.saveNamedQuery(g,e);const L=s.withResumeToken(zt.EMPTY_BYTE_STRING,w);return c.qi=c.qi.insert(L.targetId,L),c.Cs.updateTargetData(g,L).next(()=>c.Cs.removeMatchingKeysForTargetId(g,s.targetId)).next(()=>c.Cs.addMatchingKeys(g,t,s.targetId)).next(()=>c.Ns.saveNamedQuery(g,e))})}),Yl.apply(this,arguments)}function Jl(r,e){return`firestore_clients_${r}_${e}`}function h5(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ql(r,e){return`firestore_targets_${r}_${e}`}class Qc{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static Zi(e,t,s){const c=JSON.parse(s);let g,w="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return w&&c.error&&(w="string"==typeof c.error.message&&"string"==typeof c.error.code,w&&(g=new Tt(c.error.code,c.error.message))),w?new Qc(e,t,c.state,g):(ai("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class k4{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let c,g="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return g&&s.error&&(g="string"==typeof s.error.message&&"string"==typeof s.error.code,g&&(c=new Tt(s.error.code,s.error.message))),g?new k4(e,s.state,c):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,g=Ta();for(let w=0;c&&w<s.activeTargetIds.length;++w)c=we(s.activeTargetIds[w]),g=g.add(s.activeTargetIds[w]);return c?new Xc(e,g):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class e8{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new e8(t.clientId,t.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class l0{constructor(){this.activeTargetIds=Ta()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p5{constructor(e,t,s,c,g){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Zi(H1),this.started=!1,this.cr=[];const w=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.ar=Jl(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new l0),this.lr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,He.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const g=e.getItem(Jl(e.persistenceKey,c));if(g){const w=Xc.Zi(c,g);w&&(e.ur=e.ur.insert(w.clientId,w))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const c=e.yr(s);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ql(this.persistenceKey,e));if(s){const c=k4.Zi(e,s);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ql(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Er(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ot("SharedClientState","READ",e,t),t}setItem(e,t){Ot("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ot("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ot("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,He.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const c=t.vr(s.key);return t.Vr(c,null)}{const c=t.Sr(s.key,s.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const c=t.Dr(s.key,s.newValue);if(c)return t.Cr(c)}}else if(t._r.test(s.key)){if(null!==s.newValue){const c=t.Nr(s.key,s.newValue);if(c)return t.kr(c)}}else if(s.key===t.wr){if(null!==s.newValue){const c=t.yr(s.newValue);if(c)return t.pr(c)}}else if(s.key===t.hr){const c=function(g){let w=$i.at;if(null!=g)try{const L=JSON.parse(g);n1("number"==typeof L),w=L}catch(L){ai("SharedClientState","Failed to read sequence number from WebStorage",L)}return w}(s.newValue);c!==$i.at&&t.sequenceNumberHandler(c)}else if(s.key===t.mr){const c=t.Or(s.newValue);yield Promise.all(c.map(g=>t.syncEngine.Mr(g)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const c=new Qc(this.currentUser,e,t,s),g=h5(this.persistenceKey,this.currentUser,e);this.setItem(g,c.tr())}Er(e){const t=h5(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const c=Ql(this.persistenceKey,e),g=new k4(e,t,s);this.setItem(c,g.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Xc.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),c=Number(s[1]);return Qc.Zi(new mi(void 0!==s[2]?s[2]:null),c,t)}Nr(e,t){const s=this._r.exec(e),c=Number(s[1]);return k4.Zi(c,t)}yr(e){return e8.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,He.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ot("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),g=this.Ir(s),w=[],L=[];return g.forEach(Z=>{c.has(Z)||w.push(Z)}),c.forEach(Z=>{g.has(Z)||L.push(Z)}),this.syncEngine.Br(w,L).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ta();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class m5{constructor(){this.Lr=new l0,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new l0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class t9{Ur(e){}shutdown(){}}class Xl{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const n9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i9{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class r9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,c,g){const w=this.ho(e,t);Ot("RestConnection","Sending: ",w,s);const L={};return this.lo(L,c,g),this.fo(e,w,L,s).then(Z=>(Ot("RestConnection","Received: ",Z),Z),Z=>{throw ss("RestConnection",`${e} failed with error: `,Z,"url: ",w,"request:",s),Z})}_o(e,t,s,c,g,w){return this.ao(e,t,s,c,g)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+W2,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,g)=>e[g]=c),s&&s.headers.forEach((c,g)=>e[g]=c)}ho(e,t){return`${this.oo}/v1/${t}:${n9[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,c){return new Promise((g,w)=>{const L=new Fa;L.setWithCredentials(!0),L.listenOnce(y4.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Ha.NO_ERROR:const Q=L.getResponseJson();Ot("Connection","XHR received:",JSON.stringify(Q)),g(Q);break;case Ha.TIMEOUT:Ot("Connection",'RPC "'+e+'" timed out'),w(new Tt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Ha.HTTP_ERROR:const ce=L.getStatus();if(Ot("Connection",'RPC "'+e+'" failed with status:',ce,"response text:",L.getResponseText()),ce>0){let Ae=L.getResponseJson();Array.isArray(Ae)&&(Ae=Ae[0]);const nt=Ae?.error;if(nt&&nt.status&&nt.message){const St=function(Lt){const h1=Lt.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(h1)>=0?h1:dt.UNKNOWN}(nt.status);w(new Tt(St,nt.message))}else w(new Tt(dt.UNKNOWN,"Server responded with status "+L.getStatus()))}else w(new Tt(dt.UNAVAILABLE,"Connection failed."));break;default:Zt()}}finally{Ot("Connection",'RPC "'+e+'" completed.')}});const Z=JSON.stringify(c);L.send(t,"POST",Z,s,15)})}wo(e,t,s){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=ua(),w=$4(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new uo({})),this.lo(L.initMessageHeaders,t,s),L.encodeInitMessageHeaders=!0;const Z=c.join("");Ot("Connection","Creating WebChannel: "+Z,L);const Q=g.createWebChannel(Z,L);let ce=!1,Ae=!1;const nt=new i9({Hr:Lt=>{Ae?Ot("Connection","Not sending because WebChannel is closed:",Lt):(ce||(Ot("Connection","Opening WebChannel transport."),Q.open(),ce=!0),Ot("Connection","WebChannel sending:",Lt),Q.send(Lt))},Jr:()=>Q.close()}),St=(Lt,h1,U1)=>{Lt.listen(h1,li=>{try{U1(li)}catch(Ki){setTimeout(()=>{throw Ki},0)}})};return St(Q,Fo.EventType.OPEN,()=>{Ae||Ot("Connection","WebChannel transport opened.")}),St(Q,Fo.EventType.CLOSE,()=>{Ae||(Ae=!0,Ot("Connection","WebChannel transport closed"),nt.io())}),St(Q,Fo.EventType.ERROR,Lt=>{Ae||(Ae=!0,ss("Connection","WebChannel transport errored:",Lt),nt.io(new Tt(dt.UNAVAILABLE,"The operation could not be completed")))}),St(Q,Fo.EventType.MESSAGE,Lt=>{var h1;if(!Ae){const U1=Lt.data[0];n1(!!U1);const li=U1,Ki=li.error||(null===(h1=li[0])||void 0===h1?void 0:h1.error);if(Ki){Ot("Connection","WebChannel received error:",Ki);const b2=Ki.status;let nr=function(z2){const ir=Ti[z2];if(void 0!==ir)return I3(ir)}(b2),S2=Ki.message;void 0===nr&&(nr=dt.INTERNAL,S2="Unknown error status: "+b2+" with message "+Ki.message),Ae=!0,nt.io(new Tt(nr,S2)),Q.close()}else Ot("Connection","WebChannel received:",U1),nt.ro(U1)}}),St(w,da.STAT_EVENT,Lt=>{Lt.stat===Ho.PROXY?Ot("Connection","Detected buffering proxy"):Lt.stat===Ho.NOPROXY&&Ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{nt.so()},0),nt}}function g5(){return typeof window<"u"?window:null}function t8(){return typeof document<"u"?document:null}function u0(r){return new Q6(r,!0)}class n8{constructor(e,t,s=1e3,c=1.5,g=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=c,this.po=g,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-s);c>0&&Ot("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class i8{constructor(e,t,s,c,g,w,L,Z){this.Hs=e,this.vo=s,this.Vo=c,this.connection=g,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=L,this.listener=Z,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new n8(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,He.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,He.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,He.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===dt.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===dt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.So===t&&this.Go(s,c)},s=>{e(()=>{const c=new Tt(dt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(c)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{s(()=>this.Qo(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,He.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class df extends i8{constructor(e,t,s,c,g,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,w),this.yt=g}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Y(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(Z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:Zt(),c=e.targetChange.targetIds||[],g=function(Z,Q){return Z.wt?(n1(void 0===Q||"string"==typeof Q),zt.fromBase64String(Q||"")):(n1(void 0===Q||Q instanceof Uint8Array),zt.fromUint8Array(Q||new Uint8Array))}(r,e.targetChange.resumeToken),w=e.targetChange.cause,L=w&&function(Z){const Q=void 0===Z.code?dt.UNKNOWN:I3(Z.code);return new Tt(Q,Z.message||"")}(w);t=new Us(s,c,g,L||null)}else if("documentChange"in e){const s=e.documentChange,c=Co(r,s.document.name),g=q2(s.document.updateTime),w=s.document.createTime?q2(s.document.createTime):M1.min(),L=new us({mapValue:{fields:s.document.fields}}),Z=_i.newFoundDocument(c,g,w,L);t=new i4(s.targetIds||[],s.removedTargetIds||[],Z.key,Z)}else if("documentDelete"in e){const s=e.documentDelete,c=Co(r,s.document),g=s.readTime?q2(s.readTime):M1.min(),w=_i.newNoDocument(c,g);t=new i4([],s.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const s=e.documentRemove,c=Co(r,s.document);t=new i4([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Zt();{const s=e.filter,g=new Xa(s.count||0);t=new t3(s.targetId,g)}}var Z;return t}(this.yt,e),s=function(c){if(!("targetChange"in c))return M1.min();const g=c.targetChange;return g.targetIds&&g.targetIds.length?M1.min():g.readTime?q2(g.readTime):M1.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=N4(this.yt),t.addTarget=function(c,g){let w;const L=g.target;return w=i6(L)?{documents:Kt(c,L)}:{query:v1(c,L)},w.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?w.resumeToken=bo(c,g.resumeToken):g.snapshotVersion.compareTo(M1.min())>0&&(w.readTime=r4(c,g.snapshotVersion.toTimestamp())),w}(this.yt,e);const s=function $1(r,e){const t=function(s,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=N4(this.yt),t.removeTarget=e,this.Bo(t)}}class v5 extends i8{constructor(e,t,s,c,g,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,w),this.yt=g,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(n1(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function vt(r,e){return r&&r.length>0?(n1(void 0!==e),r.map(t=>function(s,c){let g=q2(s.updateTime?s.updateTime:c);return g.isEqual(M1.min())&&(g=q2(c)),new w4(g,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=q2(e.commitTime);return this.listener.Zo(s,t)}return n1(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=N4(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>se(this.yt,s))};this.Bo(t)}}class s9 extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=c,this.nu=!1}su(){if(this.nu)throw new Tt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,g])=>this.connection.ao(e,t,s,c,g)).catch(c=>{throw"FirebaseError"===c.name?(c.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Tt(dt.UNKNOWN,c.toString())})}_o(e,t,s,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,w])=>this.connection._o(e,t,s,g,w,c)).catch(g=>{throw"FirebaseError"===g.name?(g.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Tt(dt.UNKNOWN,g.toString())})}terminate(){this.nu=!0}}class e7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ai(t),this.ou=!1):Ot("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class t7{constructor(e,t,s,c,g){var w=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=g,this.mu.Ur(L=>{s.enqueueAndForget((0,He.Z)(function*(){var Z;R4(w)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(Z=(0,He.Z)(function*(Q){const ce=Gt(Q);ce._u.add(4),yield D6(ce),ce.gu.set("Unknown"),ce._u.delete(4),yield H3(ce)}),function(Q){return Z.apply(this,arguments)})(w))}))}),this.gu=new e7(s,c)}}function H3(r){return na.apply(this,arguments)}function na(){return na=(0,He.Z)(function*(r){if(R4(r))for(const e of r.wu)yield e(!0)}),na.apply(this,arguments)}function D6(r){return y5.apply(this,arguments)}function y5(){return y5=(0,He.Z)(function*(r){for(const e of r.wu)yield e(!1)}),y5.apply(this,arguments)}function d0(r,e){const t=Gt(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),n7(t)?ic(t):sc(t).ko()&&nc(t,e))}function ia(r,e){const t=Gt(r),s=sc(t);t.du.delete(e),s.ko()&&_5(t,e),0===t.du.size&&(s.ko()?s.Fo():R4(t)&&t.gu.set("Unknown"))}function nc(r,e){r.yu.Ot(e.targetId),sc(r).zo(e)}function _5(r,e){r.yu.Ot(e),sc(r).Ho(e)}function ic(r){r.yu=new n3({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>r.du.get(e)||null}),sc(r).start(),r.gu.uu()}function n7(r){return R4(r)&&!sc(r).No()&&r.du.size>0}function R4(r){return 0===Gt(r)._u.size}function o9(r){r.yu=void 0}function r8(r){return f0.apply(this,arguments)}function f0(){return f0=(0,He.Z)(function*(r){r.du.forEach((e,t)=>{nc(r,e)})}),f0.apply(this,arguments)}function b5(r,e){return rc.apply(this,arguments)}function rc(){return rc=(0,He.Z)(function*(r,e){o9(r),n7(r)?(r.gu.hu(e),ic(r)):r.gu.set("Unknown")}),rc.apply(this,arguments)}function C5(r,e,t){return i7.apply(this,arguments)}function i7(){return i7=(0,He.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof Us&&2===e.state&&e.cause)try{yield(s=(0,He.Z)(function*(c,g){const w=g.cause;for(const L of g.targetIds)c.du.has(L)&&(yield c.remoteSyncer.rejectListen(L,w),c.du.delete(L),c.yu.removeTarget(L))}),function(c,g){return s.apply(this,arguments)})(r,e)}catch(s){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield s8(r,s)}else if(e instanceof i4?r.yu.Kt(e):e instanceof t3?r.yu.Jt(e):r.yu.jt(e),!t.isEqual(M1.min()))try{const s=yield $l(r.localStore);t.compareTo(s)>=0&&(yield function(c,g){const w=c.yu.Zt(g);return w.targetChanges.forEach((L,Z)=>{if(L.resumeToken.approximateByteSize()>0){const Q=c.du.get(Z);Q&&c.du.set(Z,Q.withResumeToken(L.resumeToken,g))}}),w.targetMismatches.forEach(L=>{const Z=c.du.get(L);if(!Z)return;c.du.set(L,Z.withResumeToken(zt.EMPTY_BYTE_STRING,Z.snapshotVersion)),_5(c,L);const Q=new A4(Z.target,L,1,Z.sequenceNumber);nc(c,Q)}),c.remoteSyncer.applyRemoteEvent(w)}(r,t))}catch(s){Ot("RemoteStore","Failed to raise snapshot:",s),yield s8(r,s)}var s}),i7.apply(this,arguments)}function s8(r,e,t){return M5.apply(this,arguments)}function M5(){return M5=(0,He.Z)(function*(r,e,t){if(!Xs(e))throw e;r._u.add(1),yield D6(r),r.gu.set("Offline"),t||(t=()=>$l(r.localStore)),r.asyncQueue.enqueueRetryable((0,He.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield H3(r)}))}),M5.apply(this,arguments)}function r7(r,e){return e().catch(t=>s8(r,t,e))}function h0(r){return o8.apply(this,arguments)}function o8(){return o8=(0,He.Z)(function*(r){const e=Gt(r),t=wo(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;hf(e);)try{const c=yield Qu(e.localStore,s);if(null===c){0===e.fu.length&&t.Fo();break}s=c.batchId,a9(e,c)}catch(c){yield s8(e,c)}c9(e)&&w5(e)}),o8.apply(this,arguments)}function hf(r){return R4(r)&&r.fu.length<10}function a9(r,e){r.fu.push(e);const t=wo(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function c9(r){return R4(r)&&!wo(r).No()&&r.fu.length>0}function w5(r){wo(r).start()}function s7(r){return D5.apply(this,arguments)}function D5(){return D5=(0,He.Z)(function*(r){wo(r).eu()}),D5.apply(this,arguments)}function E5(r){return o7.apply(this,arguments)}function o7(){return o7=(0,He.Z)(function*(r){const e=wo(r);for(const t of r.fu)e.Xo(t.mutations)}),o7.apply(this,arguments)}function pf(r,e,t){return a7.apply(this,arguments)}function a7(){return a7=(0,He.Z)(function*(r,e,t){const s=r.fu.shift(),c=Gc.from(s,e,t);yield r7(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield h0(r)}),a7.apply(this,arguments)}function mf(r,e){return c7.apply(this,arguments)}function c7(){return c7=(0,He.Z)(function*(r,e){var t;e&&wo(r).Yo&&(yield(t=(0,He.Z)(function*(s,c){if(e4(g=c.code)&&g!==dt.ABORTED){const w=s.fu.shift();wo(s).Mo(),yield r7(s,()=>s.remoteSyncer.rejectFailedWrite(w.batchId,c)),yield h0(s)}var g}),function(s,c){return t.apply(this,arguments)})(r,e)),c9(r)&&w5(r)}),c7.apply(this,arguments)}function l9(r,e){return l7.apply(this,arguments)}function l7(){return l7=(0,He.Z)(function*(r,e){const t=Gt(r);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const s=R4(t);t._u.add(3),yield D6(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield H3(t)}),l7.apply(this,arguments)}function u7(r,e){return d7.apply(this,arguments)}function d7(){return d7=(0,He.Z)(function*(r,e){const t=Gt(r);e?(t._u.delete(2),yield H3(t)):e||(t._u.add(2),yield D6(t),t.gu.set("Unknown"))}),d7.apply(this,arguments)}function sc(r){return r.pu||(r.pu=function(e,t,s){const c=Gt(e);return c.su(),new df(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(r.datastore,r.asyncQueue,{Yr:r8.bind(null,r),Zr:b5.bind(null,r),Wo:C5.bind(null,r)}),r.wu.push(function(){var e=(0,He.Z)(function*(t){t?(r.pu.Mo(),n7(r)?ic(r):r.gu.set("Unknown")):(yield r.pu.stop(),o9(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function wo(r){return r.Iu||(r.Iu=function(e,t,s){const c=Gt(e);return c.su(),new v5(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(r.datastore,r.asyncQueue,{Yr:s7.bind(null,r),Zr:mf.bind(null,r),tu:E5.bind(null,r),Zo:pf.bind(null,r)}),r.wu.push(function(){var e=(0,He.Z)(function*(t){t?(r.Iu.Mo(),yield h0(r)):(yield r.Iu.stop(),r.fu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class oc{constructor(e,t,s,c,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=g,this.deferred=new T2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,t,s,c,g){const w=Date.now()+s,L=new oc(e,t,w,c,g);return L.start(s),L}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tt(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(r,e){if(ai("AsyncQueue",`${e}: ${r}`),Xs(r))return new Tt(dt.UNAVAILABLE,`${e}: ${r}`);throw r}class E6{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Bt.comparator(t.key,s.key):(t,s)=>Bt.comparator(t.key,s.key),this.keyedMap=t4(),this.sortedSet=new Zi(this.comparator)}static emptySet(e){return new E6(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof E6)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,g=s.getNext().key;if(!c.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new E6;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class a8{constructor(){this.Tu=new Zi(Bt.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Zt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class S6{constructor(e,t,s,c,g,w,L,Z,Q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=g,this.fromCache=w,this.syncStateChanged=L,this.excludesMetadataChanges=Z,this.hasCachedResults=Q}static fromInitialDocuments(e,t,s,c,g){const w=[];return t.forEach(L=>{w.push({type:0,doc:L})}),new S6(e,t,E6.emptySet(t),w,s,c,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class S5{constructor(){this.Au=void 0,this.listeners=[]}}class u9{constructor(){this.queries=new Es(e=>S3(e),E2),this.onlineState="Unknown",this.Ru=new Set}}function P4(r,e){return c8.apply(this,arguments)}function c8(){return c8=(0,He.Z)(function*(r,e){const t=Gt(r),s=e.query;let c=!1,g=t.queries.get(s);if(g||(c=!0,g=new S5),c)try{g.Au=yield t.onListen(s)}catch(w){const L=p0(w,`Initialization of query '${N3(e.query)}' failed`);return void e.onError(L)}t.queries.set(s,g),g.listeners.push(e),e.bu(t.onlineState),g.Au&&e.Pu(g.Au)&&A5(t)}),c8.apply(this,arguments)}function N5(r,e){return T5.apply(this,arguments)}function T5(){return T5=(0,He.Z)(function*(r,e){const t=Gt(r),s=e.query;let c=!1;const g=t.queries.get(s);if(g){const w=g.listeners.indexOf(e);w>=0&&(g.listeners.splice(w,1),c=0===g.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),T5.apply(this,arguments)}function f7(r,e){const t=Gt(r);let s=!1;for(const c of e){const w=t.queries.get(c.query);if(w){for(const L of w.listeners)L.Pu(c)&&(s=!0);w.Au=c}}s&&A5(t)}function d9(r,e,t){const s=Gt(r),c=s.queries.get(e);if(c)for(const g of c.listeners)g.onError(t);s.queries.delete(e)}function A5(r){r.Ru.forEach(e=>{e.next()})}class m0{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new S6(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=S6.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class g0{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class l8{constructor(e){this.yt=e}Ji(e){return Co(this.yt,e)}Yi(e){return e.metadata.exists?_(this.yt,e.document,!1):_i.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return q2(e)}}class v0{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=u8(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=En.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new l8(this.yt);for(const c of e)if(c.metadata.queries){const g=s.Ji(c.metadata.name);for(const w of c.metadata.queries){const L=(t.get(w)||Dn()).add(g);t.set(w,L)}}return t}complete(){var e=this;return(0,He.Z)(function*(){const t=yield function Xu(r,e,t,s){return Kl.apply(this,arguments)}(e.localStore,new l8(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const c of e.queries)yield e9(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function u8(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class ac{constructor(e){this.key=e}}class I5{constructor(e){this.key=e}}class x5{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Dn(),this.mutatedKeys=Dn(),this.Gu=q6(e),this.Qu=new E6(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new a8,c=t?t.Qu:this.Qu;let g=t?t.mutatedKeys:this.mutatedKeys,w=c,L=!1;const Z="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Q="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ce,Ae)=>{const nt=c.get(ce),St=Wi(this.query,Ae)?Ae:null,Lt=!!nt&&this.mutatedKeys.has(nt.key),h1=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let U1=!1;nt&&St?nt.data.isEqual(St.data)?Lt!==h1&&(s.track({type:3,doc:St}),U1=!0):this.Hu(nt,St)||(s.track({type:2,doc:St}),U1=!0,(Z&&this.Gu(St,Z)>0||Q&&this.Gu(St,Q)<0)&&(L=!0)):!nt&&St?(s.track({type:0,doc:St}),U1=!0):nt&&!St&&(s.track({type:1,doc:nt}),U1=!0,(Z||Q)&&(L=!0)),U1&&(St?(w=w.add(St),g=h1?g.add(ce):g.delete(ce)):(w=w.delete(ce),g=g.delete(ce)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const ce="F"===this.query.limitType?w.last():w.first();w=w.delete(ce.key),g=g.delete(ce.key),s.track({type:1,doc:ce})}return{Qu:w,zu:s,$i:L,mutatedKeys:g}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const g=e.zu.Eu();g.sort((Q,ce)=>function(Ae,nt){const St=Lt=>{switch(Lt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt()}};return St(Ae)-St(nt)}(Q.type,ce.type)||this.Gu(Q.doc,ce.doc)),this.Ju(s);const w=t?this.Yu():[],L=0===this.Ku.size&&this.current?1:0,Z=L!==this.Uu;return this.Uu=L,0!==g.length||Z?{snapshot:new S6(this.query,e.Qu,c,g,e.mutatedKeys,0===L,Z,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:w}:{Xu:w}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new a8,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Dn(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new I5(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new ac(s))}),t}tc(e){this.qu=e.Hi,this.Ku=Dn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return S6.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class z5{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class L5{constructor(e){this.key=e,this.nc=!1}}class h7{constructor(e,t,s,c,g,w){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=g,this.maxConcurrentLimboResolutions=w,this.sc={},this.ic=new Es(L=>S3(L),E2),this.rc=new Map,this.oc=new Set,this.uc=new Zi(Bt.comparator),this.cc=new Map,this.ac=new $c,this.hc={},this.lc=new Map,this.fc=x4.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function O5(r,e){return k5.apply(this,arguments)}function k5(){return k5=(0,He.Z)(function*(r,e){const t=g8(r);let s,c;const g=t.ic.get(e);if(g)s=g.targetId,t.sharedClientState.addLocalQueryTarget(s),c=g.view.ec();else{const w=yield tc(t.localStore,Sr(e));t.isPrimaryClient&&d0(t.remoteStore,w);const L=t.sharedClientState.addLocalQueryTarget(w.targetId);s=w.targetId,c=yield p7(t,e,s,"current"===L,w.resumeToken)}return c}),k5.apply(this,arguments)}function p7(r,e,t,s,c){return R5.apply(this,arguments)}function R5(){return R5=(0,He.Z)(function*(r,e,t,s,c){r._c=(Ae,nt,St)=>{return(Lt=(0,He.Z)(function*(h1,U1,li,Ki){let b2=U1.view.Wu(li);b2.$i&&(b2=yield O4(h1.localStore,U1.query,!1).then(({documents:z2})=>U1.view.Wu(z2,b2)));const nr=Ki&&Ki.targetChanges.get(U1.targetId),S2=U1.view.applyChanges(b2,h1.isPrimaryClient,nr);return U5(h1,U1.targetId,S2.Xu),S2.snapshot}),function(h1,U1,li,Ki){return Lt.apply(this,arguments)})(r,Ae,nt,St);var Lt};const g=yield O4(r.localStore,e,!0),w=new x5(e,g.Hi),L=w.Wu(g.documents),Z=n4.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,c),Q=w.applyChanges(L,r.isPrimaryClient,Z);U5(r,t,Q.Xu);const ce=new z5(e,t,w);return r.ic.set(e,ce),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),Q.snapshot}),R5.apply(this,arguments)}function m7(r,e){return P5.apply(this,arguments)}function P5(){return P5=(0,He.Z)(function*(r,e){const t=Gt(r),s=t.ic.get(e),c=t.rc.get(s.targetId);if(c.length>1)return t.rc.set(s.targetId,c.filter(g=>!E2(g,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield w6(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ia(t.remoteStore,s.targetId),N6(t,s.targetId)}).catch(_a))):(N6(t,s.targetId),yield w6(t.localStore,s.targetId,!0))}),P5.apply(this,arguments)}function d8(){return d8=(0,He.Z)(function*(r,e,t){const s=v8(r);try{const c=yield function(g,w){const L=Gt(g),Z=_2.now(),Q=w.reduce((nt,St)=>nt.add(St.key),Dn());let ce,Ae;return L.persistence.runTransaction("Locally write mutations","readwrite",nt=>{let St=Nr(),Lt=Dn();return L.Gi.getEntries(nt,Q).next(h1=>{St=h1,St.forEach((U1,li)=>{li.isValidDocument()||(Lt=Lt.add(U1))})}).next(()=>L.localDocuments.getOverlayedDocuments(nt,St)).next(h1=>{ce=h1;const U1=[];for(const li of w){const Ki=Ea(li,ce.get(li.key).overlayedDocument);null!=Ki&&U1.push(new Sa(li.key,Ki,t6(Ki.value.mapValue),bi.exists(!0)))}return L.mutationQueue.addMutationBatch(nt,Z,U1,w)}).next(h1=>{Ae=h1;const U1=h1.applyToLocalDocumentSet(ce,Lt);return L.documentOverlayCache.saveOverlays(nt,h1.batchId,U1)})}).then(()=>({batchId:Ae.batchId,changes:Ko(ce)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(g,w,L){let Z=g.hc[g.currentUser.toKey()];Z||(Z=new Zi(H1)),Z=Z.insert(w,L),g.hc[g.currentUser.toKey()]=Z}(s,c.batchId,t),yield u3(s,c.changes),yield h0(s.remoteStore)}catch(c){const g=p0(c,"Failed to persist write");t.reject(g)}}),d8.apply(this,arguments)}function v7(r,e){return Do.apply(this,arguments)}function Do(){return Do=(0,He.Z)(function*(r,e){const t=Gt(r);try{const s=yield Zl(t.localStore,e);e.targetChanges.forEach((c,g)=>{const w=t.cc.get(g);w&&(n1(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?w.nc=!0:c.modifiedDocuments.size>0?n1(w.nc):c.removedDocuments.size>0&&(n1(w.nc),w.nc=!1))}),yield u3(t,s,e)}catch(s){yield _a(s)}}),Do.apply(this,arguments)}function V5(r,e,t){const s=Gt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.ic.forEach((g,w)=>{const L=w.view.bu(e);L.snapshot&&c.push(L.snapshot)}),function(g,w){const L=Gt(g);L.onlineState=w;let Z=!1;L.queries.forEach((Q,ce)=>{for(const Ae of ce.listeners)Ae.bu(w)&&(Z=!0)}),Z&&A5(L)}(s.eventManager,e),c.length&&s.sc.Wo(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function f9(r,e,t){return y7.apply(this,arguments)}function y7(){return y7=(0,He.Z)(function*(r,e,t){const s=Gt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.cc.get(e),g=c&&c.key;if(g){let w=new Zi(Bt.comparator);w=w.insert(g,_i.newNoDocument(g,M1.min()));const L=Dn().add(g),Z=new Jo(M1.min(),new Map,new H2(H1),w,L);yield v7(s,Z),s.uc=s.uc.remove(g),s.cc.delete(e),h8(s)}else yield w6(s.localStore,e,!1).then(()=>N6(s,e,t)).catch(_a)}),y7.apply(this,arguments)}function h9(r,e){return cc.apply(this,arguments)}function cc(){return cc=(0,He.Z)(function*(r,e){const t=Gt(r),s=e.batch.batchId;try{const c=yield Gl(t.localStore,e);B5(t,s,null),f8(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield u3(t,c)}catch(c){yield _a(c)}}),cc.apply(this,arguments)}function _7(r,e,t){return H5.apply(this,arguments)}function H5(){return H5=(0,He.Z)(function*(r,e,t){const s=Gt(r);try{const c=yield function(g,w){const L=Gt(g);return L.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let Q;return L.mutationQueue.lookupMutationBatch(Z,w).next(ce=>(n1(null!==ce),Q=ce.keys(),L.mutationQueue.removeMutationBatch(Z,ce))).next(()=>L.mutationQueue.performConsistencyCheck(Z)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(Z,Q,w)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Z,Q)).next(()=>L.localDocuments.getDocuments(Z,Q))})}(s.localStore,e);B5(s,e,t),f8(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield u3(s,c)}catch(c){yield _a(c)}}),H5.apply(this,arguments)}function F5(){return F5=(0,He.Z)(function*(r,e){const t=Gt(r);R4(t.remoteStore)||Ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const w=Gt(g);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>w.mutationQueue.getHighestUnacknowledgedBatchId(L))}(t.localStore);if(-1===s)return void e.resolve();const c=t.lc.get(s)||[];c.push(e),t.lc.set(s,c)}catch(s){const c=p0(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),F5.apply(this,arguments)}function f8(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function B5(r,e,t){const s=Gt(r);let c=s.hc[s.currentUser.toKey()];if(c){const g=c.get(e);g&&(t?g.reject(t):g.resolve(),c=c.remove(e)),s.hc[s.currentUser.toKey()]=c}}function N6(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.rc.get(e))r.ic.delete(s),t&&r.sc.wc(s,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(s=>{r.ac.containsKey(s)||b7(r,s)})}function b7(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(ia(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),h8(r))}function U5(r,e,t){for(const s of t)s instanceof ac?(r.ac.addReference(s.key,e),C7(r,s)):s instanceof I5?(Ot("SyncEngine","Document no longer in limbo: "+s.key),r.ac.removeReference(s.key,e),r.ac.containsKey(s.key)||b7(r,s.key)):Zt()}function C7(r,e){const t=e.key,s=t.path.canonicalString();r.uc.get(t)||r.oc.has(s)||(Ot("SyncEngine","New document in limbo: "+t),r.oc.add(s),h8(r))}function h8(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new Bt(En.fromString(e)),s=r.fc.next();r.cc.set(s,new L5(t)),r.uc=r.uc.insert(t,s),d0(r.remoteStore,new A4(Sr(ws(t.path)),s,2,$i.at))}}function u3(r,e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,He.Z)(function*(r,e,t){const s=Gt(r),c=[],g=[],w=[];var L;s.ic.isEmpty()||(s.ic.forEach((L,Z)=>{w.push(s._c(Z,e,t).then(Q=>{if((Q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(Z.targetId,Q?.fromCache?"not-current":"current"),Q){c.push(Q);const ce=Nn.Ci(Z.targetId,Q);g.push(ce)}}))}),yield Promise.all(w),s.sc.Wo(c),yield(L=(0,He.Z)(function*(Z,Q){const ce=Gt(Z);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ae=>rt.forEach(Q,nt=>rt.forEach(nt.Si,St=>ce.persistence.referenceDelegate.addReference(Ae,nt.targetId,St)).next(()=>rt.forEach(nt.Di,St=>ce.persistence.referenceDelegate.removeReference(Ae,nt.targetId,St)))))}catch(Ae){if(!Xs(Ae))throw Ae;Ot("LocalStore","Failed to update sequence numbers: "+Ae)}for(const Ae of Q){const nt=Ae.targetId;if(!Ae.fromCache){const St=ce.qi.get(nt),h1=St.withLastLimboFreeSnapshotVersion(St.snapshotVersion);ce.qi=ce.qi.insert(nt,h1)}}}),function(Z,Q){return L.apply(this,arguments)})(s.localStore,g))}),Oa.apply(this,arguments)}function j5(r,e){return G5.apply(this,arguments)}function G5(){return G5=(0,He.Z)(function*(r,e){const t=Gt(r);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const s=yield jl(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(w=>{w.forEach(L=>{L.reject(new Tt(dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield u3(t,s.ji)}var c}),G5.apply(this,arguments)}function m9(r,e){const t=Gt(r),s=t.cc.get(e);if(s&&s.nc)return Dn().add(s.key);{let c=Dn();const g=t.rc.get(e);if(!g)return c;for(const w of g){const L=t.ic.get(w);c=c.unionWith(L.view.ju)}return c}}function gf(r,e){return p8.apply(this,arguments)}function p8(){return p8=(0,He.Z)(function*(r,e){const t=Gt(r),s=yield O4(t.localStore,e.query,!0),c=e.view.tc(s);return t.isPrimaryClient&&U5(t,e.targetId,c.Xu),c}),p8.apply(this,arguments)}function g9(r,e){return $5.apply(this,arguments)}function $5(){return $5=(0,He.Z)(function*(r,e){const t=Gt(r);return Yc(t.localStore,e).then(s=>u3(t,s))}),$5.apply(this,arguments)}function v9(r,e,t,s){return lc.apply(this,arguments)}function lc(){return lc=(0,He.Z)(function*(r,e,t,s){const c=Gt(r),g=yield function(w,L){const Z=Gt(w),Q=Gt(Z.mutationQueue);return Z.persistence.runTransaction("Lookup mutation documents","readonly",ce=>Q.Tn(ce,L).next(Ae=>Ae?Z.localDocuments.getDocuments(ce,Ae):rt.resolve(null)))}(c.localStore,e);var L;null!==g?("pending"===t?yield h0(c.remoteStore):"acknowledged"===t||"rejected"===t?(B5(c,e,s||null),f8(c,e),L=e,Gt(Gt(c.localStore).mutationQueue).An(L)):Zt(),yield u3(c,g)):Ot("SyncEngine","Cannot apply mutation batch with id: "+e)}),lc.apply(this,arguments)}function Z5(){return Z5=(0,He.Z)(function*(r,e){const t=Gt(r);if(g8(t),v8(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield uc(t,s.toArray());t.dc=!0,yield u7(t.remoteStore,!0);for(const g of c)d0(t.remoteStore,g)}else if(!1===e&&!1!==t.dc){const s=[];let c=Promise.resolve();t.rc.forEach((g,w)=>{t.sharedClientState.isLocalQueryTarget(w)?s.push(w):c=c.then(()=>(N6(t,w),w6(t.localStore,w,!0))),ia(t.remoteStore,w)}),yield c,yield uc(t,s),function(g){const w=Gt(g);w.cc.forEach((L,Z)=>{ia(w.remoteStore,Z)}),w.ac.fs(),w.cc=new Map,w.uc=new Zi(Bt.comparator)}(t),t.dc=!1,yield u7(t.remoteStore,!1)}}),Z5.apply(this,arguments)}function uc(r,e,t){return dc.apply(this,arguments)}function dc(){return dc=(0,He.Z)(function*(r,e,t){const s=Gt(r),c=[],g=[];for(const w of e){let L;const Z=s.rc.get(w);if(Z&&0!==Z.length){L=yield tc(s.localStore,Sr(Z[0]));for(const Q of Z){const ce=s.ic.get(Q),Ae=yield gf(s,ce);Ae.snapshot&&g.push(Ae.snapshot)}}else{const Q=yield ql(s.localStore,w);L=yield tc(s.localStore,Q),yield p7(s,fc(Q),w,!1,L.resumeToken)}c.push(L)}return s.sc.Wo(g),c}),dc.apply(this,arguments)}function fc(r){return K4(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function vf(r){const e=Gt(r);return Gt(Gt(e.localStore).persistence).vi()}function W5(r,e,t,s){return M7.apply(this,arguments)}function M7(){return M7=(0,He.Z)(function*(r,e,t,s){const c=Gt(r);if(c.dc)return void Ot("SyncEngine","Ignoring unexpected query state notification.");const g=c.rc.get(e);if(g&&g.length>0)switch(t){case"current":case"not-current":{const w=yield Yc(c.localStore,T3(g[0])),L=Jo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,zt.EMPTY_BYTE_STRING);yield u3(c,w,L);break}case"rejected":yield w6(c.localStore,e,!0),N6(c,e,s);break;default:Zt()}}),M7.apply(this,arguments)}function w7(r,e,t){return m8.apply(this,arguments)}function m8(){return m8=(0,He.Z)(function*(r,e,t){const s=g8(r);if(s.dc){for(const c of e){if(s.rc.has(c)){Ot("SyncEngine","Adding an already active target "+c);continue}const g=yield ql(s.localStore,c),w=yield tc(s.localStore,g);yield p7(s,fc(g),w.targetId,!1,w.resumeToken),d0(s.remoteStore,w)}for(const c of t)s.rc.has(c)&&(yield w6(s.localStore,c,!1).then(()=>{ia(s.remoteStore,c),N6(s,c)}).catch(_a))}}),m8.apply(this,arguments)}function g8(r){const e=Gt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=v7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f9.bind(null,e),e.sc.Wo=f7.bind(null,e.eventManager),e.sc.wc=d9.bind(null,e.eventManager),e}function v8(r){const e=Gt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_7.bind(null,e),e}class V4{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,He.Z)(function*(){t.yt=u0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return d5(this.persistence,new u5,e.initialUser,this.yt)}yc(e){return new Fl(Zc.Bs,this.yt)}gc(e){return new m5}terminate(){var e=this;return(0,He.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hc extends V4{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,He.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield v8(s.Ac.syncEngine),yield h0(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return d5(this.persistence,new u5,e.initialUser,this.yt)}Tc(e,t){return new o5(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new po(t,this.persistence);return new wr(e.asyncQueue,s)}yc(e){const t=l5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ai.withCacheSize(this.cacheSizeBytes):Ai.DEFAULT;return new Wc(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,g5(),t8(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new m5}}class y8 extends hc{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,He.Z)(function*(){yield t().call(s,e);const c=s.Ac.syncEngine;s.sharedClientState instanceof p5&&(s.sharedClientState.syncEngine={Fr:v9.bind(null,c),$r:W5.bind(null,c),Br:w7.bind(null,c),vi:vf.bind(null,c),Mr:g9.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var g=(0,He.Z)(function*(w){yield function y9(r,e){return Z5.apply(this,arguments)}(s.Ac.syncEngine,w),s.gcScheduler&&(w&&!s.gcScheduler.started?s.gcScheduler.start():w||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(w&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():w||s.indexBackfillerScheduler.stop())});return function(w){return g.apply(this,arguments)}}())})()}gc(e){const t=g5();if(!p5.C(t))throw new Tt(dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=l5(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new p5(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class T6{initialize(e,t){var s=this;return(0,He.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>V5(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=j5.bind(null,s.syncEngine),yield u7(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new u9}createDatastore(e){const t=u0(e.databaseInfo.databaseId),s=new r9(e.databaseInfo);return new s9(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,g=L=>V5(this.syncEngine,L,0),w=Xl.C()?new Xl:new t9,new t7(t,s,c,g,w);var t,s,c,g,w}createSyncEngine(e,t){return function(s,c,g,w,L,Z,Q){const ce=new h7(s,c,g,w,L,Z);return Q&&(ce.dc=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,He.Z)(function*(t){const s=Gt(t);Ot("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield D6(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function K5(r,e,t){if(!t)throw new Tt(dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _8(r,e,t,s){if(!0===e&&!0===s)throw new Tt(dt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Y5(r){if(!Bt.isDocumentKey(r))throw new Tt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function D7(r){if(Bt.isDocumentKey(r))throw new Tt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function b8(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Zt()}function Kn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Tt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=b8(r);throw new Tt(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function E7(r,e){if(e<=0)throw new Tt(dt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const _9=new Map;class S7{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Tt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C8{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Tt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Tt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S7(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ua;switch(t.type){case"gapi":return new pa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Tt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_9.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),_9.delete(e),t.terminate())}(this),Promise.resolve()}}class Bi{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new h4(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class js{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class h4 extends js{constructor(e,t,s){super(e,t,ws(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new Bt(e))}withConverter(e){return new h4(this.firestore,e,this._path)}}function M8(r,e,...t){if(r=(0,Ke.m9)(r),K5("collection","path",e),r instanceof C8){const s=En.fromString(e,...t);return D7(s),new h4(r,null,s)}{if(!(r instanceof Bi||r instanceof h4))throw new Tt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(En.fromString(e,...t));return D7(s),new h4(r.firestore,null,s)}}function y0(r,e,...t){if(r=(0,Ke.m9)(r),1===arguments.length&&(e=ho.R()),K5("doc","path",e),r instanceof C8){const s=En.fromString(e,...t);return Y5(s),new Bi(r,null,new Bt(s))}{if(!(r instanceof Bi||r instanceof h4))throw new Tt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(En.fromString(e,...t));return Y5(s),new Bi(r.firestore,r instanceof h4?r.converter:null,new Bt(s))}}function T7(r,e){return r=(0,Ke.m9)(r),e=(0,Ke.m9)(e),(r instanceof Bi||r instanceof h4)&&(e instanceof Bi||e instanceof h4)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function J5(r,e){return r=(0,Ke.m9)(r),e=(0,Ke.m9)(e),r instanceof js&&e instanceof js&&r.firestore===e.firestore&&E2(r._query,e._query)&&r.converter===e.converter}function A7(r,e=10240){let t=0;return{read:()=>(0,He.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,He.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class w8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class C9{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new T2,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,He.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,He.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),c=Number(s);isNaN(c)&&e.Dc(`length string (${s}) is not valid number`);const g=yield e.Cc(c);return new g0(JSON.parse(g),t.length+c)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,He.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,He.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class _f{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,He.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Tt(dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,He.Z)(function*(g,w){const L=Gt(g),Z=N4(L.yt)+"/documents",Q={documents:w.map(St=>Ia(L.yt,St))},ce=yield L._o("BatchGetDocuments",Z,Q,w.length),Ae=new Map;ce.forEach(St=>{const Lt=function T(r,e){return"found"in e?function(t,s){n1(!!s.found);const c=Co(t,s.found.name),g=q2(s.found.updateTime),w=s.found.createTime?q2(s.found.createTime):M1.min(),L=new us({mapValue:{fields:s.found.fields}});return _i.newFoundDocument(c,g,w,L)}(r,e):"missing"in e?function(t,s){n1(!!s.missing),n1(!!s.readTime);const c=Co(t,s.missing),g=q2(s.readTime);return _i.newNoDocument(c,g)}(r,e):Zt()}(L.yt,St);Ae.set(Lt.key.toString(),Lt)});const nt=[];return w.forEach(St=>{const Lt=Ae.get(St.toString());n1(!!Lt),nt.push(Lt)}),nt}),function(g,w){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,He.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const g=Bt.fromPath(c);e.mutations.push(new u6(g,e.precondition(g)))}),yield(s=(0,He.Z)(function*(c,g){const w=Gt(c),L=N4(w.yt)+"/documents",Z={writes:g.map(Q=>se(w.yt,Q))};yield w.ao("Commit",L,Z)}),function(c,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zt();t=M1.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Tt(dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(M1.min())?bi.exists(!1):bi.updateTime(t):bi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(M1.min()))throw new Tt(dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(t)}return bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pc{constructor(e,t,s,c,g){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=g,this.kc=s.maxAttempts,this.xo=new n8(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,He.Z)(function*(){const t=new _f(e.datastore),s=e.Mc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(g=>{e.Fc(g)}))}).catch(c=>{e.Fc(c)})}))}Mc(e){try{const t=this.updateFunction(e);return!ee(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!e4(t)}return!1}}class M9{constructor(e,t,s,c){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=mi.UNAUTHENTICATED,this.clientId=ho.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var w=(0,He.Z)(function*(L){Ot("FirestoreClient","Received user=",L.uid),yield g.authCredentialListener(L),g.user=L});return function(L){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(s,w=>(Ot("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,He.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new T2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=p0(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function I7(r,e){return mc.apply(this,arguments)}function mc(){return mc=(0,He.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var c=(0,He.Z)(function*(g){s.isEqual(g)||(yield jl(e.localStore,g),s=g)});return function(g){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),mc.apply(this,arguments)}function x7(r,e){return ka.apply(this,arguments)}function ka(){return ka=(0,He.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield I6(r);Ot("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(c=>l9(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,g)=>l9(e.remoteStore,g)),r.onlineComponents=e}),ka.apply(this,arguments)}function I6(r){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,He.Z)(function*(r){return r.offlineComponents||(Ot("FirestoreClient","Using default OfflineComponentProvider"),yield I7(r,new V4)),r.offlineComponents}),Ts.apply(this,arguments)}function H4(r){return _0.apply(this,arguments)}function _0(){return _0=(0,He.Z)(function*(r){return r.onlineComponents||(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield x7(r,new T6)),r.onlineComponents}),_0.apply(this,arguments)}function ra(r){return I6(r).then(e=>e.persistence)}function b0(r){return I6(r).then(e=>e.localStore)}function F3(r){return H4(r).then(e=>e.remoteStore)}function B3(r){return H4(r).then(e=>e.syncEngine)}function p4(r){return U3.apply(this,arguments)}function U3(){return U3=(0,He.Z)(function*(r){const e=yield H4(r),t=e.eventManager;return t.onListen=O5.bind(null,e.syncEngine),t.onUnlisten=m7.bind(null,e.syncEngine),t}),U3.apply(this,arguments)}function z6(r,e,t={}){const s=new T2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(c,g,w,L,Z){const Q=new w8({next:Ae=>{g.enqueueAndForget(()=>N5(c,ce));const nt=Ae.docs.has(w);!nt&&Ae.fromCache?Z.reject(new Tt(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):nt&&Ae.fromCache&&L&&"server"===L.source?Z.reject(new Tt(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Z.resolve(Ae)},error:Ae=>Z.reject(Ae)}),ce=new m0(ws(w.path),Q,{includeMetadataChanges:!0,Nu:!0});return P4(c,ce)}(yield p4(r),r.asyncQueue,e,t,s)})),s.promise}function Q5(r,e,t={}){const s=new T2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(c,g,w,L,Z){const Q=new w8({next:Ae=>{g.enqueueAndForget(()=>N5(c,ce)),Ae.fromCache&&"server"===L.source?Z.reject(new Tt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Z.resolve(Ae)},error:Ae=>Z.reject(Ae)}),ce=new m0(w,Q,{includeMetadataChanges:!0,Nu:!0});return P4(c,ce)}(yield p4(r),r.asyncQueue,e,t,s)})),s.promise}class R7{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new n8(this,"async_queue_retry"),this.Wc=()=>{const t=t8();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=t8();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=t8();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new T2;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,He.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Xs(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,ai("INTERNAL UNHANDLED ERROR: ",function(g){let w=g.message||"";return g.stack&&(w=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),w}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=oc.createAndSchedule(this,e,t,s,g=>this.Yc(g));return this.Uc.push(c),c}zc(){this.Kc&&Zt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,He.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function E8(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(r)}class P7{constructor(){this._progressObserver={},this._taskCompletionResolver=new T2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ui extends C8{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new R7,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||X5(this),this._firestoreClient.terminate()}}function Tr(r){return r._firestoreClient||X5(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function X5(r){var e;const t=r._freezeSettings(),s=(g=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new A(r._databaseId,g,r._persistenceKey,(L=t).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var g,L;r._firestoreClient=new M9(r._authCredentials,r._appCheckCredentials,r._queue,s)}function H7(r,e,t){const s=new T2;return r.asyncQueue.enqueue((0,He.Z)(function*(){try{yield I7(r,t),yield x7(r,e),s.resolve()}catch(c){const g=c;if(!("FirebaseError"===(w=g).name?w.code===dt.FAILED_PRECONDITION||w.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw g;ss("Error enabling offline persistence. Falling back to persistence disabled: "+g),s.reject(g)}var w})).then(()=>s.promise)}function rl(r){if(r._initialized||r._terminated)throw new Tt(dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ra(zt.fromBase64String(e))}catch(t){throw new Tt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ra(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class F4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Tt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class d3{constructor(e){this._methodName=e}}class gc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Tt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Tt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return H1(this._lat,e._lat)||H1(this._long,e._long)}}const S9=/^__.*__$/;class U7{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new D4(e,this.data,t,this.fieldTransforms)}}class sl{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ol(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt()}}class D0{constructor(e,t,s,c,g,w){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=c,void 0===g&&this.na(),this.fieldTransforms=g||[],this.fieldMask=w||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new D0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.ua(e),c}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return _c(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ol(this.sa)&&S9.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class N9{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||u0(e)}da(e,t,s,c=!1){return new D0({sa:e,methodName:t,fa:s,path:Sn.emptyPath(),oa:!1,la:c},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function j3(r){const e=r._freezeSettings(),t=u0(r._databaseId);return new N9(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vc(r,e,t,s,c,g={}){const w=r.da(g.merge||g.mergeFields?2:0,e,t,c);cl("Data must be an object, but it was:",w,s);const L=T9(s,w);let Z,Q;if(g.merge)Z=new Hs(w.fieldMask),Q=w.fieldTransforms;else if(g.mergeFields){const ce=[];for(const Ae of g.mergeFields){const nt=x8(e,Ae,t);if(!w.contains(nt))throw new Tt(dt.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);W7(ce,nt)||ce.push(nt)}Z=new Hs(ce),Q=w.fieldTransforms.filter(Ae=>Z.covers(Ae.field))}else Z=null,Q=w.fieldTransforms;return new U7(new us(L),Z,Q)}class L6 extends d3{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof L6}}function yc(r,e,t){return new D0({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class T8 extends d3{_toFieldTransform(e){return new Ya(e.path,new Zo)}isEqual(e){return e instanceof T8}}class j7 extends d3{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=yc(this,e,!0),s=this._a.map(g=>G3(g,t)),c=new eo(s);return new Ya(e.path,c)}isEqual(e){return this===e}}class G7 extends d3{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=yc(this,e,!0),s=this._a.map(g=>G3(g,t)),c=new Fs(s);return new Ya(e.path,c)}isEqual(e){return this===e}}class $7 extends d3{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new qo(e.yt,wa(e.yt,this.wa));return new Ya(e.path,t)}isEqual(e){return this===e}}function A8(r,e,t,s){const c=r.da(1,e,t);cl("Data must be an object, but it was:",c,s);const g=[],w=us.empty();k(s,(Z,Q)=>{const ce=pr(e,Z,t);Q=(0,Ke.m9)(Q);const Ae=c.ca(ce);if(Q instanceof L6)g.push(ce);else{const nt=G3(Q,Ae);null!=nt&&(g.push(ce),w.set(ce,nt))}});const L=new Hs(g);return new sl(w,L,c.fieldTransforms)}function I8(r,e,t,s,c,g){const w=r.da(1,e,t),L=[x8(e,s,t)],Z=[c];if(g.length%2!=0)throw new Tt(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<g.length;nt+=2)L.push(x8(e,g[nt])),Z.push(g[nt+1]);const Q=[],ce=us.empty();for(let nt=L.length-1;nt>=0;--nt)if(!W7(Q,L[nt])){const St=L[nt];let Lt=Z[nt];Lt=(0,Ke.m9)(Lt);const h1=w.ca(St);if(Lt instanceof L6)Q.push(St);else{const U1=G3(Lt,h1);null!=U1&&(Q.push(St),ce.set(St,U1))}}const Ae=new Hs(Q);return new sl(ce,Ae,w.fieldTransforms)}function al(r,e,t,s=!1){return G3(t,r.da(s?4:3,e))}function G3(r,e){if(Z7(r=(0,Ke.m9)(r)))return cl("Unsupported field value:",e,r),T9(r,e);if(r instanceof d3)return function(t,s){if(!ol(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const c=[];let g=0;for(const w of t){let L=G3(w,s.aa(g));null==L&&(L={nullValue:"NULL_VALUE"}),c.push(L),g++}return{arrayValue:{values:c}}}(r,e)}return function(t,s){if(null===(t=(0,Ke.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wa(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=_2.fromDate(t);return{timestampValue:r4(s.yt,c)}}if(t instanceof _2){const c=new _2(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:r4(s.yt,c)}}if(t instanceof gc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ra)return{bytesValue:bo(s.yt,t._byteString)};if(t instanceof Bi){const c=s.databaseId,g=t.firestore._databaseId;if(!g.isEqual(c))throw s.ha(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:s4(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${b8(t)}`)}(r,e)}function T9(r,e){const t={};return j(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(r,(s,c)=>{const g=G3(c,e.ra(s));null!=g&&(t[s]=g)}),{mapValue:{fields:t}}}function Z7(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof _2||r instanceof gc||r instanceof Ra||r instanceof Bi||r instanceof d3)}function cl(r,e,t){if(!Z7(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=b8(t);throw e.ha("an object"===s?r+" a custom object":r+" "+s)}var s}function x8(r,e,t){if((e=(0,Ke.m9)(e))instanceof F4)return e._internalPath;if("string"==typeof e)return pr(r,e);throw _c("Field path arguments must be of type string or ",r,!1,void 0,t)}const A9=new RegExp("[~\\*/\\[\\]]");function pr(r,e,t){if(e.search(A9)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new F4(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _c(r,e,t,s,c){const g=s&&!s.isEmpty(),w=void 0!==c;let L=`Function ${e}() called with invalid data`;t&&(L+=" (via `toFirestore()`)"),L+=". ";let Z="";return(g||w)&&(Z+=" (found",g&&(Z+=` in field ${s}`),w&&(Z+=` in document ${c}`),Z+=")"),new Tt(dt.INVALID_ARGUMENT,L+r+Z)}function W7(r,e){return r.some(t=>t.isEqual(e))}class bc{constructor(e,t,s,c,g){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new q7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(z8("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class q7 extends bc{data(){return super.data()}}function z8(r,e){return"string"==typeof e?pr(r,e):e instanceof F4?e._internalPath:e._delegate._internalPath}function ll(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Tt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L8{}class B4 extends L8{}function $3(r,e,...t){let s=[];e instanceof L8&&s.push(e),s=s.concat(t),function(c){const g=c.filter(L=>L instanceof E0).length,w=c.filter(L=>L instanceof Cc).length;if(g>1||g>0&&w>0)throw new Tt(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)r=c._apply(r);return r}class Cc extends B4{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Cc(e,t,s)}_apply(e){const t=this._parse(e);return O8(e._query,t),new js(e.firestore,e.converter,W6(e._query,t))}_parse(e){const t=j3(e.firestore);return function(c,g,w,L,Z,Q,ce){let Ae;if(Z.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Tt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){tu(ce,Q);const nt=[];for(const St of ce)nt.push(eu(L,c,St));Ae={arrayValue:{values:nt}}}else Ae=eu(L,c,ce)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||tu(ce,Q),Ae=al(w,"where",ce,"in"===Q||"not-in"===Q);return Yt.create(Z,Q,Ae)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class E0 extends L8{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new E0(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:tn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let g=s;const w=c.getFlattenedFilters();for(const L of w)O8(g,L),g=W6(g,L)}(e._query,t),new js(e.firestore,e.converter,W6(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Mc extends B4{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mc(e,t)}_apply(e){const t=function(s,c,g){if(null!==s.startAt)throw new Tt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Tt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new Wa(c,g);return function(L,Z){if(null===Z6(L)){const Q=Y4(L);null!==Q&&S0(0,Q,Z.field)}}(s,w),w}(e._query,this._field,this._direction);return new js(e.firestore,e.converter,function(s,c){const g=s.explicitOrderBy.concat([c]);return new Go(s.path,s.collectionGroup,g,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class sa extends B4{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new sa(e,t,s)}_apply(e){return new js(e.firestore,e.converter,Ds(e._query,this._limit,this._limitType))}}class oa extends B4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new oa(e,t,s)}_apply(e){const t=X7(e,this.type,this._docOrFields,this._inclusive);return new js(e.firestore,e.converter,(c=t,new Go((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class wc extends B4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new wc(e,t,s)}_apply(e){const t=X7(e,this.type,this._docOrFields,this._inclusive);return new js(e.firestore,e.converter,(c=t,new Go((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function X7(r,e,t,s){if(t[0]=(0,Ke.m9)(t[0]),t[0]instanceof bc)return function(c,g,w,L,Z){if(!L)throw new Tt(dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const Q=[];for(const ce of $o(c))if(ce.field.isKeyField())Q.push(Vs(g,L.key));else{const Ae=L.data.field(ce.field);if(as(Ae))throw new Tt(dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ae){const nt=ce.field.canonicalString();throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nt}' (used as the orderBy) does not exist.`)}Q.push(Ae)}return new c1(Q,Z)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const c=j3(r.firestore);return function(g,w,L,Z,Q,ce){const Ae=g.explicitOrderBy;if(Q.length>Ae.length)throw new Tt(dt.INVALID_ARGUMENT,`Too many arguments provided to ${Z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nt=[];for(let St=0;St<Q.length;St++){const Lt=Q[St];if(Ae[St].field.isKeyField()){if("string"!=typeof Lt)throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Z}(), but got a ${typeof Lt}`);if(!s6(g)&&-1!==Lt.indexOf("/"))throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Z}() must be a plain document ID, but '${Lt}' contains a slash.`);const h1=g.path.child(En.fromString(Lt));if(!Bt.isDocumentKey(h1))throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Z}() must result in a valid document path, but '${h1}' is not because it contains an odd number of segments.`);const U1=new Bt(h1);nt.push(Vs(w,U1))}else{const h1=al(L,Z,Lt);nt.push(h1)}}return new c1(nt,ce)}(r._query,r.firestore._databaseId,c,e,t,s)}}function eu(r,e,t){if("string"==typeof(t=(0,Ke.m9)(t))){if(""===t)throw new Tt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s6(e)&&-1!==t.indexOf("/"))throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(En.fromString(t));if(!Bt.isDocumentKey(s))throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vs(r,new Bt(s))}if(t instanceof Bi)return Vs(r,t._key);throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b8(t)}.`)}function tu(r,e){if(!Array.isArray(r)||0===r.length)throw new Tt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Tt(dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function O8(r,e){if(e.isInequality()){const s=Y4(r),c=e.field;if(null!==s&&!s.isEqual(c))throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const g=Z6(r);null!==g&&S0(0,c,g)}const t=function(s,c){for(const g of s)for(const w of g.getFlattenedFilters())if(c.indexOf(w.op)>=0)return w.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Tt(dt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function S0(r,e,t){if(!t.isEqual(e))throw new Tt(dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class k8{convertValue(e,t="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return F1(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zt()}}convertObject(e,t){const s={};return k(e.fields,(c,g)=>{s[c]=this.convertValue(g,t)}),s}convertGeoPoint(e){return new gc(F1(e.latitude),F1(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=mo(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yi(e));default:return null}}convertTimestamp(e){const t=s1(e);return new _2(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=En.fromString(e);n1(e0(s));const c=new I(s.get(1),s.get(3)),g=new Bt(s.popFirst(5));return c.isEqual(t)||ai(`Document ${g} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function R8(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class iu extends k8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}class Z3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pa extends bc{constructor(e,t,s,c,g,w){super(e,t,s,c,w),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(z8("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Dc extends Pa{data(e={}){return super.data(e)}}class f3{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new Z3(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Dc(this._firestore,this._userDataWriter,s.key,s,new Z3(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let g=0;return s._snapshot.docChanges.map(w=>({type:"added",doc:new Dc(s._firestore,s._userDataWriter,w.doc.key,w.doc,new Z3(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:g++}))}{let g=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(w=>c||3!==w.type).map(w=>{const L=new Dc(s._firestore,s._userDataWriter,w.doc.key,w.doc,new Z3(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter);let Z=-1,Q=-1;return 0!==w.type&&(Z=g.indexOf(w.doc.key),g=g.delete(w.doc.key)),1!==w.type&&(g=g.add(w.doc),Q=g.indexOf(w.doc.key)),{type:ru(w.type),doc:L,oldIndex:Z,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ru(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt()}}function P8(r,e){return r instanceof Pa&&e instanceof Pa?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof f3&&e instanceof f3&&r._firestore===e._firestore&&J5(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class h3 extends k8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,t)}}function dl(r,e,t){r=Kn(r,Bi);const s=Kn(r.firestore,Ui),c=R8(r.converter,e,t);return N0(s,[vc(j3(s),"setDoc",r._key,c,null!==r.converter,t).toMutation(r._key,bi.none())])}function fl(r,e,t,...s){r=Kn(r,Bi);const c=Kn(r.firestore,Ui),g=j3(c);let w;return w="string"==typeof(e=(0,Ke.m9)(e))||e instanceof F4?I8(g,"updateDoc",r._key,e,t,s):A8(g,"updateDoc",r._key,e),N0(c,[w.toMutation(r._key,bi.exists(!0))])}function uu(r,...e){var t,s,c;r=(0,Ke.m9)(r);let g={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||E8(e[w])||(g=e[w],w++);const L={includeMetadataChanges:g.includeMetadataChanges};if(E8(e[w])){const Ae=e[w];e[w]=null===(t=Ae.next)||void 0===t?void 0:t.bind(Ae),e[w+1]=null===(s=Ae.error)||void 0===s?void 0:s.bind(Ae),e[w+2]=null===(c=Ae.complete)||void 0===c?void 0:c.bind(Ae)}let Z,Q,ce;if(r instanceof Bi)Q=Kn(r.firestore,Ui),ce=ws(r._key.path),Z={next:Ae=>{e[w]&&e[w](hl(Q,r,Ae))},error:e[w+1],complete:e[w+2]};else{const Ae=Kn(r,js);Q=Kn(Ae.firestore,Ui),ce=Ae._query;const nt=new h3(Q);Z={next:St=>{e[w]&&e[w](new f3(Q,nt,Ae,St))},error:e[w+1],complete:e[w+2]},ll(r._query)}return function(Ae,nt,St,Lt){const h1=new w8(Lt),U1=new m0(nt,h1,St);return Ae.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return P4(yield p4(Ae),U1)})),()=>{h1.bc(),Ae.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return N5(yield p4(Ae),U1)}))}}(Tr(Q),ce,L,Z)}function N0(r,e){return function(t,s){const c=new T2;return t.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function g7(r,e,t){return d8.apply(this,arguments)}(yield B3(t),s,c)})),c.promise}(Tr(r),e)}function hl(r,e,t){const s=t.docs.get(e._key),c=new h3(r);return new Pa(r,c,e._key,s,new Z3(t.hasPendingWrites,t.fromCache),e.converter)}const k9={maxAttempts:5};class du{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=j3(e)}set(e,t,s){this._verifyNotCommitted();const c=W3(e,this._firestore),g=R8(c.converter,t,s),w=vc(this._dataReader,"WriteBatch.set",c._key,g,null!==c.converter,s);return this._mutations.push(w.toMutation(c._key,bi.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const g=W3(e,this._firestore);let w;return w="string"==typeof(t=(0,Ke.m9)(t))||t instanceof F4?I8(this._dataReader,"WriteBatch.update",g._key,t,s,c):A8(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(w.toMutation(g._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=W3(e,this._firestore);return this._mutations=this._mutations.concat(new Qa(t._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function W3(r,e){if((r=(0,Ke.m9)(r)).firestore!==e)throw new Tt(dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class R9 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=j3(e)}get(e){const t=W3(e,this._firestore),s=new iu(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return Zt();const g=c[0];if(g.isFoundDocument())return new bc(this._firestore,s,g.key,g,t.converter);if(g.isNoDocument())return new bc(this._firestore,s,t._key,null,t.converter);throw Zt()})}set(e,t,s){const c=W3(e,this._firestore),g=R8(c.converter,t,s),w=vc(this._dataReader,"Transaction.set",c._key,g,null!==c.converter,s);return this._transaction.set(c._key,w),this}update(e,t,s,...c){const g=W3(e,this._firestore);let w;return w="string"==typeof(t=(0,Ke.m9)(t))||t instanceof F4?I8(this._dataReader,"Transaction.update",g._key,t,s,c):A8(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,w),this}delete(e){const t=W3(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=W3(e,this._firestore),s=new h3(this._firestore);return super.get(e).then(c=>new Pa(this._firestore,s,t._key,c._document,new Z3(!1,!1),t.converter))}}function H8(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function ml(){if(typeof Uint8Array>"u")throw new Tt("unimplemented","Uint8Arrays are not available in this environment.")}function gl(){if(!function gt(){return typeof atob<"u"}())throw new Tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){W2=Wt.SDK_VERSION,(0,Wt._registerComponent)(new tt.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const g=t.getProvider("app").getImmediate(),w=new Ui(new ha(t.getProvider("auth-internal")),new V2(t.getProvider("app-check-internal")),function(L,Z){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new Tt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new I(L.options.projectId,Z)}(g,s),g);return c=Object.assign({useFetchStreams:e},c),w._setSettings(c),w},"PUBLIC").setMultipleInstances(!0)),(0,Wt.registerVersion)(Ba,"3.8.0",r),(0,Wt.registerVersion)(Ba,"3.8.0","esm2017")}();class T0{constructor(e){this._delegate=e}static fromBase64String(e){return gl(),new T0(Ra.fromBase64String(e))}static fromUint8Array(e){return ml(),new T0(Ra.fromUint8Array(e))}toBase64(){return gl(),this._delegate.toBase64()}toUint8Array(){return ml(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ec(r){return function pu(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class O6{enableIndexedDbPersistence(e,t){return function el(r,e){rl(r=Kn(r,Ui));const t=Tr(r),s=r._freezeSettings(),c=new T6;return H7(t,c,new hc(c,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tl(r){rl(r=Kn(r,Ui));const e=Tr(r),t=r._freezeSettings(),s=new T6;return H7(e,s,new y8(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function S8(r){if(r._initialized&&!r._terminated)throw new Tt(dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new T2;return r._queue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{yield(t=(0,He.Z)(function*(s){if(!qn.C())return Promise.resolve();const c=s+"main";yield qn.delete(c)}),function(s){return t.apply(this,arguments)})(l5(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mu{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof I||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ss("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function N7(r,e,t,s={}){var c;const g=(r=Kn(r,C8))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&ss("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let w,L;if("string"==typeof s.mockUserToken)w=s.mockUserToken,L=mi.MOCK_USER;else{w=(0,Ke.Sg)(s.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const Z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Z)throw new Tt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new mi(Z)}r._authCredentials=new Cr(new gi(w,L))}}(this._delegate,e,t,s)}enableNetwork(){return function nl(r){return function C0(r){return r.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield ra(r),t=yield F3(r);return e.setNetworkEnabled(!0),function(s){const c=Gt(s);return c._u.delete(0),H3(c)}(t)}))}(Tr(r=Kn(r,Ui)))}(this._delegate)}disableNetwork(){return function D9(r){return function M0(r){return r.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield ra(r),t=yield F3(r);return e.setNetworkEnabled(!1),(s=(0,He.Z)(function*(c){const g=Gt(c);g._u.add(0),yield D6(g),g.gu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(Tr(r=Kn(r,Ui)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,_8("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function N8(r){return function(e){const t=new T2;return e.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function p9(r,e){return F5.apply(this,arguments)}(yield B3(e),t)})),t.promise}(Tr(r=Kn(r,Ui)))}(this._delegate)}onSnapshotsInSync(e){return function O9(r,e){return function L7(r,e){const t=new w8(e);return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return s=yield p4(r),c=t,Gt(s).Ru.add(c),void c.next();var s,c})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return s=yield p4(r),c=t,void Gt(s).Ru.delete(c);var s,c}))}}(Tr(r=Kn(r,Ui)),E8(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new p3(this,M8(this._delegate,e))}catch(t){throw no(t,"collection()","Firestore.collection()")}}doc(e){try{return new aa(this,y0(this._delegate,e))}catch(t){throw no(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ro(this,function b9(r,e){if(r=Kn(r,C8),K5("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tt(dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new js(r,null,(t=e,new Go(En.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw no(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function P9(r,e,t){r=Kn(r,Ui);const s=Object.assign(Object.assign({},k9),t);return function(c){if(c.maxAttempts<1)throw new Tt(dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,g,w){const L=new T2;return c.asyncQueue.enqueueAndForget((0,He.Z)(function*(){const Z=yield function x6(r){return H4(r).then(e=>e.datastore)}(c);new pc(c.asyncQueue,Z,w,g,L).run()})),L.promise}(Tr(r),c=>e(new R9(r,c)),s)}(this._delegate,t=>e(new $9(this,t)))}batch(){return Tr(this._delegate),new B8(new du(this._delegate,e=>N0(this._delegate,e)))}loadBundle(e){return function il(r,e){const t=Tr(r=Kn(r,Ui)),s=new P7;return function O7(r,e,t,s){const c=function(g,w){let L;return L="string"==typeof g?(new TextEncoder).encode(g):g,Z=function(Z,Q){if(Z instanceof Uint8Array)return A7(Z,Q);if(Z instanceof ArrayBuffer)return A7(new Uint8Array(Z),Q);if(Z instanceof ReadableStream)return Z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new C9(Z,w);var Z}(t,u0(e));r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){!function q5(r,e,t){const s=Gt(r);var c;(c=(0,He.Z)(function*(g,w,L){try{const Z=yield w.getMetadata();if(yield function(nt,St){const Lt=Gt(nt),h1=q2(St.createTime);return Lt.persistence.runTransaction("hasNewerBundle","readonly",U1=>Lt.Ns.getBundleMetadata(U1,St.id)).then(U1=>!!U1&&U1.createTime.compareTo(h1)>=0)}(g.localStore,Z))return yield w.close(),L._completeWith({taskState:"Success",documentsLoaded:(nt=Z).totalDocuments,bytesLoaded:nt.totalBytes,totalDocuments:nt.totalDocuments,totalBytes:nt.totalBytes}),Promise.resolve(new Set);L._updateProgress(u8(Z));const Q=new v0(Z,g.localStore,w.yt);let ce=yield w.mc();for(;ce;){const nt=yield Q.Fu(ce);nt&&L._updateProgress(nt),ce=yield w.mc()}const Ae=yield Q.complete();return yield u3(g,Ae.Lu,void 0),yield function(nt,St){const Lt=Gt(nt);return Lt.persistence.runTransaction("Save bundle","readwrite",h1=>Lt.Ns.saveBundleMetadata(h1,St))}(g.localStore,Z),L._completeWith(Ae.progress),Promise.resolve(Ae.Bu)}catch(Z){return ss("SyncEngine",`Loading bundle failed with ${Z}`),L._failWith(Z),Promise.resolve(new Set)}var nt}),function(g,w,L){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield B3(r),c,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function B7(r,e){return function k7(r,e){return r.asyncQueue.enqueue((0,He.Z)(function*(){return function(t,s){const c=Gt(t);return c.persistence.runTransaction("Get named query","readonly",g=>c.Ns.getNamedQuery(g,s))}(yield b0(r),e)}))}(Tr(r=Kn(r,Ui)),e).then(t=>t?new js(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Ro(this,t):null)}}class F8 extends k8{constructor(e){super(),this.firestore=e}convertBytes(e){return new T0(new Ra(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return aa.forKey(t,this.firestore,null)}}class $9{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new F8(e)}get(e){const t=U4(e);return this._delegate.get(t).then(s=>new Sc(this._firestore,new Pa(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=U4(e);return s?(H8("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const g=U4(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,s,...c),this}delete(e){const t=U4(e);return this._delegate.delete(t),this}}class B8{constructor(e){this._delegate=e}set(e,t,s){const c=U4(e);return s?(H8("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const g=U4(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,s,...c),this}delete(e){const t=U4(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class I0{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Dc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new U8(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=I0.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let g=c.get(t);return g||(g=new I0(e,new F8(e),t),c.set(t,g)),g}}I0.INSTANCES=new WeakMap;class aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new F8(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new aa(t,new Bi(t._delegate,s,new Bt(e)))}static forKey(e,t,s){return new aa(t,new Bi(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new p3(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new p3(this.firestore,M8(this._delegate,e))}catch(t){throw no(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ke.m9)(e))instanceof Bi&&T7(this._delegate,e)}set(e,t){t=H8("DocumentReference.set",t);try{return t?dl(this._delegate,e,t):dl(this._delegate,e)}catch(s){throw no(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?fl(this._delegate,e):fl(this._delegate,e,t,...s)}catch(c){throw no(c,"updateDoc()","DocumentReference.update()")}}delete(){return function z9(r){return N0(Kn(r.firestore,Ui),[new Qa(r._key,bi.none())])}(this._delegate)}onSnapshot(...e){const t=Z9(e),s=X1(e,c=>new Sc(this.firestore,new Pa(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return uu(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function su(r){r=Kn(r,Bi);const e=Kn(r.firestore,Ui),t=Tr(e),s=new h3(e);return function w0(r,e){const t=new T2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(s=(0,He.Z)(function*(c,g,w){try{const L=yield function(Z,Q){const ce=Gt(Z);return ce.persistence.runTransaction("read document","readonly",Ae=>ce.localDocuments.getDocument(Ae,Q))}(c,g);L.isFoundDocument()?w.resolve(L):L.isNoDocument()?w.resolve(null):w.reject(new Tt(dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const Z=p0(L,`Failed to get document '${g} from cache`);w.reject(Z)}}),function(c,g,w){return s.apply(this,arguments)})(yield b0(r),e,t);var s})),t.promise}(t,r._key).then(c=>new Pa(e,s,r._key,c,new Z3(null!==c&&c.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function ou(r){r=Kn(r,Bi);const e=Kn(r.firestore,Ui);return z6(Tr(e),r._key,{source:"server"}).then(t=>hl(e,r,t))}(this._delegate):function V8(r){r=Kn(r,Bi);const e=Kn(r.firestore,Ui);return z6(Tr(e),r._key).then(t=>hl(e,r,t))}(this._delegate),t.then(s=>new Sc(this.firestore,new Pa(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new aa(this.firestore,this._delegate.withConverter(e?I0.getInstance(this.firestore,e):null))}}function no(r,e,t){return r.message=r.message.replace(e,t),r}function Z9(r){for(const e of r)if("object"==typeof e&&!Ec(e))return e;return{}}function X1(r,e){var t,s;let c;return c=Ec(r[0])?r[0]:Ec(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:g=>{c.next&&c.next(e(g))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class Sc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return P8(this._delegate,e._delegate)}}class U8 extends Sc{data(e){const t=this._delegate.data(e);return function fa(r,e){r||Zt()}(void 0!==t),t}}class Ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new F8(e)}where(e,t,s){try{return new Ro(this.firestore,$3(this._delegate,function K7(r,e,t){const s=e,c=z8("where",r);return Cc._create(c,s,t)}(e,t,s)))}catch(c){throw no(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ro(this.firestore,$3(this._delegate,function ul(r,e="asc"){const t=e,s=z8("orderBy",r);return Mc._create(s,t)}(e,t)))}catch(s){throw no(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ro(this.firestore,$3(this._delegate,function Y7(r){return E7("limit",r),sa._create("limit",r,"F")}(e)))}catch(t){throw no(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ro(this.firestore,$3(this._delegate,function J7(r){return E7("limitToLast",r),sa._create("limitToLast",r,"L")}(e)))}catch(t){throw no(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ro(this.firestore,$3(this._delegate,function m4(...r){return oa._create("startAt",r,!0)}(...e)))}catch(t){throw no(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ro(this.firestore,$3(this._delegate,function g4(...r){return oa._create("startAfter",r,!1)}(...e)))}catch(t){throw no(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ro(this.firestore,$3(this._delegate,function Q7(...r){return wc._create("endBefore",r,!1)}(...e)))}catch(t){throw no(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ro(this.firestore,$3(this._delegate,function x9(...r){return wc._create("endAt",r,!0)}(...e)))}catch(t){throw no(t,"endAt()","Query.endAt()")}}isEqual(e){return J5(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function cu(r){r=Kn(r,js);const e=Kn(r.firestore,Ui),t=Tr(e),s=new h3(e);return function z7(r,e){const t=new T2;return r.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(s=(0,He.Z)(function*(c,g,w){try{const L=yield O4(c,g,!0),Z=new x5(g,L.Hi),Q=Z.Wu(L.documents),ce=Z.applyChanges(Q,!1);w.resolve(ce.snapshot)}catch(L){const Z=p0(L,`Failed to execute query '${g} against cache`);w.reject(Z)}}),function(c,g,w){return s.apply(this,arguments)})(yield b0(r),e,t);var s})),t.promise}(t,r._query).then(c=>new f3(e,s,r,c))}(this._delegate):"server"===e?.source?function lu(r){r=Kn(r,js);const e=Kn(r.firestore,Ui),t=Tr(e),s=new h3(e);return Q5(t,r._query,{source:"server"}).then(c=>new f3(e,s,r,c))}(this._delegate):function au(r){r=Kn(r,js);const e=Kn(r.firestore,Ui),t=Tr(e),s=new h3(e);return ll(r._query),Q5(t,r._query).then(c=>new f3(e,s,r,c))}(this._delegate),t.then(s=>new vl(this.firestore,new f3(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Z9(e),s=X1(e,c=>new vl(this.firestore,new f3(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return uu(this._delegate,t,s)}withConverter(e){return new Ro(this.firestore,this._delegate.withConverter(e?I0.getInstance(this.firestore,e):null))}}class x0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new U8(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vl{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new U8(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new x0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new U8(this._firestore,s))})}isEqual(e){return P8(this._delegate,e._delegate)}}class p3 extends Ro{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new aa(this.firestore,e):null}doc(e){try{return new aa(this.firestore,void 0===e?y0(this._delegate):y0(this._delegate,e))}catch(t){throw no(t,"doc()","CollectionReference.doc()")}}add(e){return function L9(r,e){const t=Kn(r.firestore,Ui),s=y0(r),c=R8(r.converter,e);return N0(t,[vc(j3(r.firestore),"addDoc",s._key,c,null!==r.converter,{}).toMutation(s._key,bi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new aa(this.firestore,t))}isEqual(e){return T7(this._delegate,e._delegate)}withConverter(e){return new p3(this.firestore,this._delegate.withConverter(e?I0.getInstance(this.firestore,e):null))}}function U4(r){return Kn(r,Bi)}class qi{constructor(...e){this._delegate=new F4(...e)}static documentId(){return new qi(Sn.keyField().canonicalString())}isEqual(e){return(e=(0,Ke.m9)(e))instanceof F4&&this._delegate._internalPath.isEqual(e._internalPath)}}class z0{constructor(e){this._delegate=e}static serverTimestamp(){const e=function H9(){return new T8("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new z0(e)}static delete(){const e=function V9(){return new L6("deleteField")}();return e._methodName="FieldValue.delete",new z0(e)}static arrayUnion(...e){const t=function F9(...r){return new j7("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new z0(t)}static arrayRemove(...e){const t=function B9(...r){return new G7("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new z0(t)}static increment(e){const t=function U9(r){return new $7("increment",r)}(e);return t._methodName="FieldValue.increment",new z0(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gu={Firestore:mu,GeoPoint:gc,Timestamp:_2,Blob:T0,Transaction:$9,WriteBatch:B8,DocumentReference:aa,DocumentSnapshot:Sc,Query:Ro,QueryDocumentSnapshot:U8,QuerySnapshot:vl,CollectionReference:p3,FieldPath:qi,FieldValue:z0,setLogLevel:function A0(r){!function _s(r){Vr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function W9(r){(function vu(r,e){r.INTERNAL.registerComponent(new tt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},gu)))})(r,(e,t)=>new mu(e,t,new O6)),r.registerVersion("@firebase/firestore-compat","0.3.0")}(ot.Z);var m3=U(3385),yu=U(6217),_u=U(9260);function Cu(r,e){return function bu(r,e=M.z){return new X.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function yl(r,e){return Cu(r,e).pipe((0,he.U)(t=>({payload:t,type:"query"})))}function q3(r,e){return yl(r,e).pipe((0,Re.O)(void 0),pe(),(0,he.U)(([t,s])=>{const c=s.payload.docChanges(),g=c.map(w=>({type:w.type,payload:w}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((w,L)=>{const Z=c.find(ce=>ce.doc.ref.isEqual(w.ref)),Q=t?.payload.docs.find(ce=>ce.ref.isEqual(w.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(w.metadata)||!Z&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(w.metadata)||g.push({type:"modified",payload:{oldIndex:L,newIndex:L,type:"modified",doc:w}})}),g}))}function Mu(r,e,t){return q3(r,t).pipe((0,Ne.R)((s,c)=>function K9(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function j8(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return _l(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _l(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _l(r,e.oldIndex,1)}return r}(r,s))}),r}(s,c.map(g=>g.payload),e),[]),(0,st.x)(),(0,he.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function _l(r,e,t,...s){const c=r.slice();return c.splice(e,t,...s),c}function bl(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Cl{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=q3(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,he.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,Re.O)(void 0),pe(),(0,et.h)(([s,c])=>c.length>0||!s),(0,he.U)(([s,c])=>c),Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=bl(e);return Mu(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return yl(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ee.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(Ee.iC)}add(e){return this.ref.add(e)}doc(e){return new Ml(this.ref.doc(e),this.afs)}}class Ml{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:g}=wu(s,t);return new Cl(c,g,this.afs)}snapshotChanges(){return function q9(r,e){return Cu(r,e).pipe((0,Re.O)(void 0),pe(),(0,he.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ce.D)(this.ref.get(e)).pipe(Ee.iC)}}class Y9{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?q3(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,et.h)(t=>t.length>0),Ee.iC):q3(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=bl(e);return Mu(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ee.iC)}valueChanges(e={}){return yl(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),Ee.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(Ee.iC)}}const L0=new l.OlP("angularfire2.enableFirestorePersistence"),O0=new l.OlP("angularfire2.firestore.persistenceSettings"),J9=new l.OlP("angularfire2.firestore.settings"),Q9=new l.OlP("angularfire2.firestore.use-emulator");function wu(r,e=(t=>t)){return{query:e(r),ref:r}}let wl=(()=>{class r{constructor(t,s,c,g,w,L,Z,Q,ce,Ae,nt,St,Lt,h1,U1,li,Ki){this.schedulers=Z;const b2=(0,$e.on)(t,L,s),nr=ce;Ae&&(0,m3.nw)(b2,L,nt,Lt,h1,U1,St,li),[this.firestore,this.persistenceEnabled$]=(0,$e.cc)(`${b2.name}.firestore`,"AngularFirestore",b2.name,()=>{const S2=L.runOutsideAngular(()=>b2.firestore());if(g&&S2.settings(g),nr&&S2.useEmulator(...nr),c&&!(0,Rt.PM)(w)){const z2=()=>{try{return(0,Ce.D)(S2.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(ir){return typeof console<"u"&&console.warn(ir),(0,Te.of)(!1)}};return[S2,L.runOutsideAngular(z2)]}return[S2,(0,Te.of)(!1)]},[g,nr,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:w}=wu(c,s),L=this.schedulers.ngZone.run(()=>g);return new Cl(L,w,this)}collectionGroup(t,s){const c=s||(w=>w),g=this.firestore.collectionGroup(t);return new Y9(c(g),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new Ml(c,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(l.LFG($e.Dh),l.LFG($e.xv,8),l.LFG(L0,8),l.LFG(J9,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ee.HU),l.LFG(O0,8),l.LFG(Q9,8),l.LFG(m3.zQ,8),l.LFG(m3.Qv,8),l.LFG(m3.L6,8),l.LFG(m3._Q,8),l.LFG(m3.rT,8),l.LFG(m3.lh,8),l.LFG(m3.f7,8),l.LFG(yu.nm,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Du=(()=>{class r{constructor(){_u.Z.registerVersion("angularfire",Ee.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:L0,useValue:!0},{provide:O0,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[wl]}),r})()},2011:($t,We,U)=>{U.d(We,{Dh:()=>ze,GT:()=>Ee,cc:()=>et,hO:()=>st,on:()=>pe,pX:()=>Te,xv:()=>ke});var l=U(4650),M=U(9260),X=U(2122);$t=U.hmd($t);const Ce=["ngOnDestroy"],Te=(ot,He,Wt,tt={})=>new Proxy(ot,{get:(at,Ke)=>Wt.runOutsideAngular(()=>{var xt;if(ot[Ke])return!(null===(xt=tt?.spy)||void 0===xt)&&xt.get&&tt.spy.get(Ke,ot[Ke]),ot[Ke];if(Ce.indexOf(Ke)>-1)return()=>{};const bt=He.toPromise().then(le=>{const ct=le&&le[Ke];return"function"==typeof ct?ct.bind(le):ct&&ct.then?ct.then(ye=>Wt.run(()=>ye)):Wt.run(()=>ct)});return new Proxy(()=>{},{get:(le,ct)=>bt[ct],apply:(le,ct,ye)=>bt.then(Ie=>{var Ye;const Pe=Ie&&Ie(...ye);return!(null===(Ye=tt?.spy)||void 0===Ye)&&Ye.apply&&tt.spy.apply(Ke,ye,Pe),Pe})})})}),Ee=(ot,He)=>{He.forEach(Wt=>{Object.getOwnPropertyNames(Wt.prototype||Wt).forEach(tt=>{Object.defineProperty(ot.prototype,tt,Object.getOwnPropertyDescriptor(Wt.prototype||Wt,tt))})})};class Re{constructor(He){return He}}const ze=new l.OlP("angularfire2.app.options"),ke=new l.OlP("angularfire2.app.name");function pe(ot,He,Wt){const at="object"==typeof Wt&&Wt||{};at.name=at.name||"string"==typeof Wt&&Wt||"[DEFAULT]";const xt=M.Z.apps.filter(bt=>bt&&bt.name===at.name)[0]||He.runOutsideAngular(()=>M.Z.initializeApp(ot,at));try{JSON.stringify(ot)!==JSON.stringify(xt.options)&&he("error",`${xt.name} Firebase App already initialized with different options${$t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Re(xt)}const he=(ot,...He)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ot](...He)},Ne={provide:Re,useFactory:pe,deps:[ze,l.R0b,[new l.FiY,ke]]};let st=(()=>{class ot{constructor(Wt){M.Z.registerVersion("angularfire",X.q4.full,"core"),M.Z.registerVersion("angularfire",X.q4.full,"app-compat"),M.Z.registerVersion("angular",l.q4F.full,Wt.toString())}static initializeApp(Wt,tt){return{ngModule:ot,providers:[{provide:ze,useValue:Wt},{provide:ke,useValue:tt}]}}}return ot.\u0275fac=function(Wt){return new(Wt||ot)(l.LFG(l.Lbi))},ot.\u0275mod=l.oAB({type:ot}),ot.\u0275inj=l.cJS({providers:[Ne]}),ot})();function et(ot,He,Wt,tt,at){const[,Ke,xt]=globalThis.\u0275AngularfireInstanceCache.find(bt=>bt[0]===ot)||[];if(Ke)return function $e(ot,He){try{return ot.toString()===He.toString()}catch{return ot===He}}(at,xt)||(ut("error",`${He} was already initialized on the ${Wt} Firebase App with different settings.${Rt?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:at,was:xt})),Ke;{const bt=tt();return globalThis.\u0275AngularfireInstanceCache.push([ot,bt,at]),bt}}const Rt=!!$t.hot,ut=(ot,...He)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ot](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:($t,We,U)=>{U.d(We,{q4:()=>ee,iC:()=>go,HU:()=>xo,vb:()=>Dr,JM:()=>yi});var l=U(4650),M=U(259),X=U(5861),Ce=U(9681),Te=U(2090),Ee=U(4859),Re=U(1877),ze=U(8766);const ke="@firebase/installations",Ne="w:0.6.0",st="FIS_v2",He=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Wt(H){return H instanceof Te.ZR&&H.code.includes("request-failed")}function tt({projectId:H}){return`https://firebaseinstallations.googleapis.com/v1/projects/${H}/installations`}function at(H){return{token:H.token,requestStatus:2,expiresIn:Ie(H.expiresIn),creationTime:Date.now()}}function Ke(H,G){return xt.apply(this,arguments)}function xt(){return(xt=(0,X.Z)(function*(H,G){const ge=(yield G.json()).error;return He.create("request-failed",{requestName:H,serverCode:ge.code,serverMessage:ge.message,serverStatus:ge.status})})).apply(this,arguments)}function bt({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function le(H,{refreshToken:G}){const te=bt(H);return te.append("Authorization",function Ye(H){return`${st} ${H}`}(G)),te}function ct(H){return ye.apply(this,arguments)}function ye(){return(ye=(0,X.Z)(function*(H){const G=yield H();return G.status>=500&&G.status<600?H():G})).apply(this,arguments)}function Ie(H){return Number(H.replace("s","000"))}function Pe(H,G){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,X.Z)(function*({appConfig:H,heartbeatServiceProvider:G},{fid:te}){const ge=tt(H),Ze=bt(H),lt=G.getImmediate({optional:!0});if(lt){const x1=yield lt.getHeartbeatsHeader();x1&&Ze.append("x-firebase-client",x1)}const c1={method:"POST",headers:Ze,body:JSON.stringify({fid:te,authVersion:st,appId:H.appId,sdkVersion:Ne})},E1=yield ct(()=>fetch(ge,c1));if(E1.ok){const x1=yield E1.json();return{fid:x1.fid||te,registrationStatus:2,refreshToken:x1.refreshToken,authToken:at(x1.authToken)}}throw yield Ke("Create Installation",E1)})).apply(this,arguments)}function wt(H){return new Promise(G=>{setTimeout(G,H)})}const j1=/^[cdef][\w-]{21}$/;function Nt(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const te=function b1(H){return function a1(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return j1.test(te)?te:""}catch{return""}}function p1(H){return`${H.appName}!${H.appId}`}const m1=new Map;function f1(H,G){const te=p1(H);en(te,G),function pn(H,G){const te=function Fn(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=H=>{en(H.data.key,H.data.fid)}),Pn}();te&&te.postMessage({key:H,fid:G}),function r2(){0===m1.size&&Pn&&(Pn.close(),Pn=null)}()}(te,G)}function en(H,G){const te=m1.get(H);if(te)for(const ge of te)ge(G)}let Pn=null;const R1="firebase-installations-store";let On=null;function m2(){return On||(On=(0,ze.X3)("firebase-installations-database",1,{upgrade:(H,G)=>{0===G&&H.createObjectStore(R1)}})),On}function Vt(H,G){return mn.apply(this,arguments)}function mn(){return(mn=(0,X.Z)(function*(H,G){const te=p1(H),Ze=(yield m2()).transaction(R1,"readwrite"),lt=Ze.objectStore(R1),It=yield lt.get(te);return yield lt.put(G,te),yield Ze.done,(!It||It.fid!==G.fid)&&f1(H,G.fid),G})).apply(this,arguments)}function Tn(H){return rn.apply(this,arguments)}function rn(){return(rn=(0,X.Z)(function*(H){const G=p1(H),ge=(yield m2()).transaction(R1,"readwrite");yield ge.objectStore(R1).delete(G),yield ge.done})).apply(this,arguments)}function U2(H,G){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,X.Z)(function*(H,G){const te=p1(H),Ze=(yield m2()).transaction(R1,"readwrite"),lt=Ze.objectStore(R1),It=yield lt.get(te),c1=G(It);return void 0===c1?yield lt.delete(te):yield lt.put(c1,te),yield Ze.done,c1&&(!It||It.fid!==c1.fid)&&f1(H,c1.fid),c1})).apply(this,arguments)}function ln(H){return sn.apply(this,arguments)}function sn(){return(sn=(0,X.Z)(function*(H){let G;const te=yield U2(H.appConfig,ge=>{const Ze=W1(ge),lt=Jt(H,Ze);return G=lt.registrationPromise,lt.installationEntry});return""===te.fid?{installationEntry:yield G}:{installationEntry:te,registrationPromise:G}})).apply(this,arguments)}function W1(H){return T1(H||{fid:Nt(),registrationStatus:0})}function Jt(H,G){if(0===G.registrationStatus){if(!navigator.onLine)return{installationEntry:G,registrationPromise:Promise.reject(He.create("app-offline"))};const te={fid:G.fid,registrationStatus:1,registrationTime:Date.now()},ge=function t1(H,G){return an.apply(this,arguments)}(H,te);return{installationEntry:te,registrationPromise:ge}}return 1===G.registrationStatus?{installationEntry:G,registrationPromise:bn(H)}:{installationEntry:G}}function an(){return(an=(0,X.Z)(function*(H,G){try{const te=yield Pe(H,G);return Vt(H.appConfig,te)}catch(te){throw Wt(te)&&409===te.customData.serverCode?yield Tn(H.appConfig):yield Vt(H.appConfig,{fid:G.fid,registrationStatus:0}),te}})).apply(this,arguments)}function bn(H){return J1.apply(this,arguments)}function J1(){return(J1=(0,X.Z)(function*(H){let G=yield S1(H.appConfig);for(;1===G.registrationStatus;)yield wt(100),G=yield S1(H.appConfig);if(0===G.registrationStatus){const{installationEntry:te,registrationPromise:ge}=yield ln(H);return ge||te}return G})).apply(this,arguments)}function S1(H){return U2(H,G=>{if(!G)throw He.create("installation-not-found");return T1(G)})}function T1(H){return function C2(H){return 1===H.registrationStatus&&H.registrationTime+1e4<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function Q1(H,G){return j2.apply(this,arguments)}function j2(){return(j2=(0,X.Z)(function*({appConfig:H,heartbeatServiceProvider:G},te){const ge=Cn(H,te),Ze=le(H,te),lt=G.getImmediate({optional:!0});if(lt){const x1=yield lt.getHeartbeatsHeader();x1&&Ze.append("x-firebase-client",x1)}const c1={method:"POST",headers:Ze,body:JSON.stringify({installation:{sdkVersion:Ne,appId:H.appId}})},E1=yield ct(()=>fetch(ge,c1));if(E1.ok)return at(yield E1.json());throw yield Ke("Generate Auth Token",E1)})).apply(this,arguments)}function Cn(H,{fid:G}){return`${tt(H)}/${G}/authTokens:generate`}function l2(H){return M2.apply(this,arguments)}function M2(){return(M2=(0,X.Z)(function*(H,G=!1){let te;const ge=yield U2(H.appConfig,lt=>{if(!z1(lt))throw He.create("not-registered");const It=lt.authToken;if(!G&&Se(It))return lt;if(1===It.requestStatus)return te=Qt(H,G),lt;{if(!navigator.onLine)throw He.create("app-offline");const c1=xe(lt);return te=A1(H,c1),c1}});return te?yield te:ge.authToken})).apply(this,arguments)}function Qt(H,G){return _t.apply(this,arguments)}function _t(){return(_t=(0,X.Z)(function*(H,G){let te=yield Xt(H.appConfig);for(;1===te.authToken.requestStatus;)yield wt(100),te=yield Xt(H.appConfig);const ge=te.authToken;return 0===ge.requestStatus?l2(H,G):ge})).apply(this,arguments)}function Xt(H){return U2(H,G=>{if(!z1(G))throw He.create("not-registered");return function pt(H){return 1===H.requestStatus&&H.requestTime+1e4<Date.now()}(G.authToken)?Object.assign(Object.assign({},G),{authToken:{requestStatus:0}}):G})}function A1(H,G){return I1.apply(this,arguments)}function I1(){return(I1=(0,X.Z)(function*(H,G){try{const te=yield Q1(H,G),ge=Object.assign(Object.assign({},G),{authToken:te});return yield Vt(H.appConfig,ge),te}catch(te){if(!Wt(te)||401!==te.customData.serverCode&&404!==te.customData.serverCode){const ge=Object.assign(Object.assign({},G),{authToken:{requestStatus:0}});yield Vt(H.appConfig,ge)}else yield Tn(H.appConfig);throw te}})).apply(this,arguments)}function z1(H){return void 0!==H&&2===H.registrationStatus}function Se(H){return 2===H.requestStatus&&!function _e(H){const G=Date.now();return G<H.creationTime||H.creationTime+H.expiresIn<G+36e5}(H)}function xe(H){const G={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:G})}function jt(){return(jt=(0,X.Z)(function*(H){const G=H,{installationEntry:te,registrationPromise:ge}=yield ln(G);return ge?ge.catch(console.error):l2(G).catch(console.error),te.fid})).apply(this,arguments)}function G1(){return(G1=(0,X.Z)(function*(H,G=!1){const te=H;return yield un(te),(yield l2(te,G)).token})).apply(this,arguments)}function un(H){return K1.apply(this,arguments)}function K1(){return(K1=(0,X.Z)(function*(H){const{registrationPromise:G}=yield ln(H);G&&(yield G)})).apply(this,arguments)}function Mn(H){return He.create("missing-app-config-values",{valueName:H})}const Y2="installations",An=H=>{const G=H.getProvider("app").getImmediate(),te=function B1(H){if(!H||!H.options)throw Mn("App Configuration");if(!H.name)throw Mn("App Name");const G=["projectId","apiKey","appId"];for(const te of G)if(!H.options[te])throw Mn(te);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(G);return{app:G,appConfig:te,heartbeatServiceProvider:(0,Ce._getProvider)(G,"heartbeat"),_delete:()=>Promise.resolve()}},w2=H=>{const G=H.getProvider("app").getImmediate(),te=(0,Ce._getProvider)(G,Y2).getImmediate();return{getId:()=>function Ue(H){return jt.apply(this,arguments)}(te),getToken:Ze=>function e1(H){return G1.apply(this,arguments)}(te,Ze)}};(function xi(){(0,Ce._registerComponent)(new Ee.wA(Y2,An,"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("installations-internal",w2,"PRIVATE"))})(),(0,Ce.registerVersion)(ke,"0.6.0"),(0,Ce.registerVersion)(ke,"0.6.0","esm2017");const J2="@firebase/remote-config",g2=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class so{constructor(G,te,ge,Ze){this.client=G,this.storage=te,this.storageCache=ge,this.logger=Ze}isCachedDataFresh(G,te){if(!te)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ge=Date.now()-te,Ze=ge<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${Ze}.`),Ze}fetch(G){var te=this;return(0,X.Z)(function*(){const[ge,Ze]=yield Promise.all([te.storage.getLastSuccessfulFetchTimestampMillis(),te.storage.getLastSuccessfulFetchResponse()]);if(Ze&&te.isCachedDataFresh(G.cacheMaxAgeMillis,ge))return Ze;G.eTag=Ze&&Ze.eTag;const lt=yield te.client.fetch(G),It=[te.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===lt.status&&It.push(te.storage.setLastSuccessfulFetchResponse(lt)),yield Promise.all(It),lt})()}}function $2(H=navigator){return H.languages&&H.languages[0]||H.language}class Gs{constructor(G,te,ge,Ze,lt,It){this.firebaseInstallations=G,this.sdkVersion=te,this.namespace=ge,this.projectId=Ze,this.apiKey=lt,this.appId=It}fetch(G){var te=this;return(0,X.Z)(function*(){const[ge,Ze]=yield Promise.all([te.firebaseInstallations.getId(),te.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${te.projectId}/namespaces/${te.namespace}:fetch?key=${te.apiKey}`,c1={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},E1={sdk_version:te.sdkVersion,app_instance_id:ge,app_instance_id_token:Ze,app_id:te.appId,language_code:$2()},x1={method:"POST",headers:c1,body:JSON.stringify(E1)},zn=fetch(It,x1),Yt=new Promise((er,Ur)=>{G.signal.addEventListener(()=>{const Za=new Error("The operation was aborted.");Za.name="AbortError",Ur(Za)})});let tn;try{yield Promise.race([zn,Yt]),tn=yield zn}catch(er){let Ur="fetch-client-network";throw"AbortError"===er?.name&&(Ur="fetch-timeout"),g2.create(Ur,{originalErrorMessage:er?.message})}let I2=tn.status;const vo=tn.headers.get("ETag")||void 0;let $a,jo;if(200===tn.status){let er;try{er=yield tn.json()}catch(Ur){throw g2.create("fetch-client-parse",{originalErrorMessage:Ur?.message})}$a=er.entries,jo=er.state}if("INSTANCE_STATE_UNSPECIFIED"===jo?I2=500:"NO_CHANGE"===jo?I2=304:("NO_TEMPLATE"===jo||"EMPTY_CONFIG"===jo)&&($a={}),304!==I2&&200!==I2)throw g2.create("fetch-status",{httpStatus:I2});return{status:I2,eTag:vo,config:$a}})()}}class Fe{constructor(G,te){this.client=G,this.storage=te}fetch(G){var te=this;return(0,X.Z)(function*(){const ge=(yield te.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return te.attemptFetch(G,ge)})()}attemptFetch(G,{throttleEndTimeMillis:te,backoffCount:ge}){var Ze=this;return(0,X.Z)(function*(){yield function d2(H,G){return new Promise((te,ge)=>{const Ze=Math.max(G-Date.now(),0),lt=setTimeout(te,Ze);H.addEventListener(()=>{clearTimeout(lt),ge(g2.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,te);try{const lt=yield Ze.client.fetch(G);return yield Ze.storage.deleteThrottleMetadata(),lt}catch(lt){if(!function Ge(H){if(!(H instanceof Te.ZR&&H.customData))return!1;const G=Number(H.customData.httpStatus);return 429===G||500===G||503===G||504===G}(lt))throw lt;const It={throttleEndTimeMillis:Date.now()+(0,Te.$s)(ge),backoffCount:ge+1};return yield Ze.storage.setThrottleMetadata(It),Ze.attemptFetch(G,It)}})()}}class Ft{constructor(G,te,ge,Ze,lt){this.app=G,this._client=te,this._storageCache=ge,this._storage=Ze,this._logger=lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function C1(H,G){const te=H.target.error||void 0;return g2.create(G,{originalErrorMessage:te&&te?.message})}const V1="app_namespace_store";class zr{constructor(G,te,ge,Ze=function sr(){return new Promise((H,G)=>{try{const te=indexedDB.open("firebase_remote_config",1);te.onerror=ge=>{G(C1(ge,"storage-open"))},te.onsuccess=ge=>{H(ge.target.result)},te.onupgradeneeded=ge=>{0===ge.oldVersion&&ge.target.result.createObjectStore(V1,{keyPath:"compositeKey"})}}catch(te){G(g2.create("storage-open",{originalErrorMessage:te?.message}))}})}()){this.appId=G,this.appName=te,this.namespace=ge,this.openDbPromise=Ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var te=this;return(0,X.Z)(function*(){const ge=yield te.openDbPromise;return new Promise((Ze,lt)=>{const c1=ge.transaction([V1],"readonly").objectStore(V1),E1=te.createCompositeKey(G);try{const x1=c1.get(E1);x1.onerror=zn=>{lt(C1(zn,"storage-get"))},x1.onsuccess=zn=>{const Yt=zn.target.result;Ze(Yt?Yt.value:void 0)}}catch(x1){lt(g2.create("storage-get",{originalErrorMessage:x1?.message}))}})})()}set(G,te){var ge=this;return(0,X.Z)(function*(){const Ze=yield ge.openDbPromise;return new Promise((lt,It)=>{const E1=Ze.transaction([V1],"readwrite").objectStore(V1),x1=ge.createCompositeKey(G);try{const zn=E1.put({compositeKey:x1,value:te});zn.onerror=Yt=>{It(C1(Yt,"storage-set"))},zn.onsuccess=()=>{lt()}}catch(zn){It(g2.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(G){var te=this;return(0,X.Z)(function*(){const ge=yield te.openDbPromise;return new Promise((Ze,lt)=>{const c1=ge.transaction([V1],"readwrite").objectStore(V1),E1=te.createCompositeKey(G);try{const x1=c1.delete(E1);x1.onerror=zn=>{lt(C1(zn,"storage-delete"))},x1.onsuccess=()=>{Ze()}}catch(x1){lt(g2.create("storage-delete",{originalErrorMessage:x1?.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class si{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,X.Z)(function*(){const te=G.storage.getLastFetchStatus(),ge=G.storage.getLastSuccessfulFetchTimestampMillis(),Ze=G.storage.getActiveConfig(),lt=yield te;lt&&(G.lastFetchStatus=lt);const It=yield ge;It&&(G.lastSuccessfulFetchTimestampMillis=It);const c1=yield Ze;c1&&(G.activeConfig=c1)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function Gi(){return $s.apply(this,arguments)}function $s(){return($s=(0,X.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function fi(){(0,Ce._registerComponent)(new Ee.wA("remote-config",function H(G,{instanceIdentifier:te}){const ge=G.getProvider("app").getImmediate(),Ze=G.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw g2.create("registration-window");if(!(0,Te.hl)())throw g2.create("indexed-db-unavailable");const{projectId:lt,apiKey:It,appId:c1}=ge.options;if(!lt)throw g2.create("registration-project-id");if(!It)throw g2.create("registration-api-key");if(!c1)throw g2.create("registration-app-id");const E1=new zr(c1,ge.name,te=te||"firebase"),x1=new si(E1),zn=new Re.Yd(J2);zn.logLevel=Re.in.ERROR;const Yt=new Gs(Ze,Ce.SDK_VERSION,te,lt,It,c1),tn=new Fe(Yt,E1),I2=new so(tn,E1,x1,zn),vo=new Ft(ge,I2,x1,E1,zn);return function Vn(H){const G=(0,Te.m9)(H);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}(vo),vo},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(J2,"0.4.0"),(0,Ce.registerVersion)(J2,"0.4.0","esm2017")}();const Li="/firebase-messaging-sw.js",Oi="/firebase-cloud-messaging-push-scope",Yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ps="google.c.a.c_id",Di="google.c.a.c_l",Lr="google.c.a.ts",Kr="google.c.a.e";var ar=(()=>{return(H=ar||(ar={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",ar;var H})();function ki(H){const G=new Uint8Array(H);return btoa(String.fromCharCode(...G)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pi(H){const te=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ge=atob(te),Ze=new Uint8Array(ge.length);for(let lt=0;lt<ge.length;++lt)Ze[lt]=ge.charCodeAt(lt);return Ze}const cr="fcm_token_details_db",o2="fcm_token_object_Store";function Ri(H){return ms.apply(this,arguments)}function ms(){return ms=(0,X.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(cr))return null;let G=null;return(yield(0,ze.X3)(cr,5,{upgrade:(ge=(0,X.Z)(function*(Ze,lt,It,c1){var E1;if(lt<2||!Ze.objectStoreNames.contains(o2))return;const x1=c1.objectStore(o2),zn=yield x1.index("fcmSenderId").get(H);if(yield x1.clear(),zn)if(2===lt){const Yt=zn;if(!Yt.auth||!Yt.p256dh||!Yt.endpoint)return;G={token:Yt.fcmToken,createTime:null!==(E1=Yt.createTime)&&void 0!==E1?E1:Date.now(),subscriptionOptions:{auth:Yt.auth,p256dh:Yt.p256dh,endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:"string"==typeof Yt.vapidKey?Yt.vapidKey:ki(Yt.vapidKey)}}}else if(3===lt){const Yt=zn;G={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:ki(Yt.auth),p256dh:ki(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:ki(Yt.vapidKey)}}}else if(4===lt){const Yt=zn;G={token:Yt.fcmToken,createTime:Yt.createTime,subscriptionOptions:{auth:ki(Yt.auth),p256dh:ki(Yt.p256dh),endpoint:Yt.endpoint,swScope:Yt.swScope,vapidKey:ki(Yt.vapidKey)}}}}),function(lt,It,c1,E1){return ge.apply(this,arguments)})})).close(),yield(0,ze.Lj)(cr),yield(0,ze.Lj)("fcm_vapid_details_db"),yield(0,ze.Lj)("undefined"),f2(G)?G:null;var ge}),ms.apply(this,arguments)}function f2(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:G}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof G.auth&&G.auth.length>0&&"string"==typeof G.p256dh&&G.p256dh.length>0&&"string"==typeof G.endpoint&&G.endpoint.length>0&&"string"==typeof G.swScope&&G.swScope.length>0&&"string"==typeof G.vapidKey&&G.vapidKey.length>0}const X2="firebase-messaging-store";let P2=null;function Pi(){return P2||(P2=(0,ze.X3)("firebase-messaging-database",1,{upgrade:(H,G)=>{0===G&&H.createObjectStore(X2)}})),P2}function Zs(H){return lr.apply(this,arguments)}function lr(){return(lr=(0,X.Z)(function*(H){const G=N2(H),ge=yield(yield Pi()).transaction(X2).objectStore(X2).get(G);if(ge)return ge;{const Ze=yield Ri(H.appConfig.senderId);if(Ze)return yield wn(H,Ze),Ze}})).apply(this,arguments)}function wn(H,G){return Is.apply(this,arguments)}function Is(){return(Is=(0,X.Z)(function*(H,G){const te=N2(H),Ze=(yield Pi()).transaction(X2,"readwrite");return yield Ze.objectStore(X2).put(G,te),yield Ze.done,G})).apply(this,arguments)}function Jr(H){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,X.Z)(function*(H){const G=N2(H),ge=(yield Pi()).transaction(X2,"readwrite");yield ge.objectStore(X2).delete(G),yield ge.done})).apply(this,arguments)}function N2({appConfig:H}){return H.appId}const h2=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function L1(H,G){return qs.apply(this,arguments)}function qs(){return(qs=(0,X.Z)(function*(H,G){const te=yield Xr(H),ge=Dt(G),Ze={method:"POST",headers:te,body:JSON.stringify(ge)};let lt;try{lt=yield(yield fetch(gr(H.appConfig),Ze)).json()}catch(It){throw h2.create("token-subscribe-failed",{errorInfo:It?.toString()})}if(lt.error)throw h2.create("token-subscribe-failed",{errorInfo:lt.error.message});if(!lt.token)throw h2.create("token-subscribe-no-token");return lt.token})).apply(this,arguments)}function Qr(H,G){return xs.apply(this,arguments)}function xs(){return(xs=(0,X.Z)(function*(H,G){const te=yield Xr(H),ge=Dt(G.subscriptionOptions),Ze={method:"PATCH",headers:te,body:JSON.stringify(ge)};let lt;try{lt=yield(yield fetch(`${gr(H.appConfig)}/${G.token}`,Ze)).json()}catch(It){throw h2.create("token-update-failed",{errorInfo:It?.toString()})}if(lt.error)throw h2.create("token-update-failed",{errorInfo:lt.error.message});if(!lt.token)throw h2.create("token-update-no-token");return lt.token})).apply(this,arguments)}function Or(H,G){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,X.Z)(function*(H,G){const ge={method:"DELETE",headers:yield Xr(H)};try{const lt=yield(yield fetch(`${gr(H.appConfig)}/${G}`,ge)).json();if(lt.error)throw h2.create("token-unsubscribe-failed",{errorInfo:lt.error.message})}catch(Ze){throw h2.create("token-unsubscribe-failed",{errorInfo:Ze?.toString()})}})).apply(this,arguments)}function gr({projectId:H}){return`https://fcmregistrations.googleapis.com/v1/projects/${H}/registrations`}function Xr(H){return kr.apply(this,arguments)}function kr(){return(kr=(0,X.Z)(function*({appConfig:H,installations:G}){const te=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${te}`})})).apply(this,arguments)}function Dt({p256dh:H,auth:G,endpoint:te,vapidKey:ge}){const Ze={web:{endpoint:te,auth:G,p256dh:H}};return ge!==Yi&&(Ze.web.applicationPubKey=ge),Ze}const dn=6048e5;function vr(H){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,X.Z)(function*(H){const G=yield ao(H.swRegistration,H.vapidKey),te={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:G.endpoint,auth:ki(G.getKey("auth")),p256dh:ki(G.getKey("p256dh"))},ge=yield Zs(H.firebaseDependencies);if(ge){if(W(ge.subscriptionOptions,te))return Date.now()>=ge.createTime+dn?Ys(H,{token:ge.token,createTime:Date.now(),subscriptionOptions:te}):ge.token;try{yield Or(H.firebaseDependencies,ge.token)}catch(Ze){console.warn(Ze)}return es(H.firebaseDependencies,te)}return es(H.firebaseDependencies,te)})).apply(this,arguments)}function y2(H){return So.apply(this,arguments)}function So(){return(So=(0,X.Z)(function*(H){const G=yield Zs(H.firebaseDependencies);G&&(yield Or(H.firebaseDependencies,G.token),yield Jr(H.firebaseDependencies));const te=yield H.swRegistration.pushManager.getSubscription();return!te||te.unsubscribe()})).apply(this,arguments)}function Ys(H,G){return ur.apply(this,arguments)}function ur(){return(ur=(0,X.Z)(function*(H,G){try{const te=yield Qr(H.firebaseDependencies,G),ge=Object.assign(Object.assign({},G),{token:te,createTime:Date.now()});return yield wn(H.firebaseDependencies,ge),te}catch(te){throw yield y2(H),te}})).apply(this,arguments)}function es(H,G){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,X.Z)(function*(H,G){const ge={token:yield L1(H,G),createTime:Date.now(),subscriptionOptions:G};return yield wn(H,ge),ge.token})).apply(this,arguments)}function ao(H,G){return Js.apply(this,arguments)}function Js(){return(Js=(0,X.Z)(function*(H,G){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pi(G)})})).apply(this,arguments)}function W(H,G){return G.vapidKey===H.vapidKey&&G.endpoint===H.endpoint&&G.auth===H.auth&&G.p256dh===H.p256dh}function B(H){const G={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function V(H,G){if(!G.notification)return;H.notification={};const te=G.notification.title;te&&(H.notification.title=te);const ge=G.notification.body;ge&&(H.notification.body=ge);const Ze=G.notification.image;Ze&&(H.notification.image=Ze);const lt=G.notification.icon;lt&&(H.notification.icon=lt)}(G,H),function oe(H,G){!G.data||(H.data=G.data)}(G,H),function Qe(H,G){var te,ge,Ze,lt,It;if(!(G.fcmOptions||null!==(te=G.notification)&&void 0!==te&&te.click_action))return;H.fcmOptions={};const c1=null!==(Ze=null===(ge=G.fcmOptions)||void 0===ge?void 0:ge.link)&&void 0!==Ze?Ze:null===(lt=G.notification)||void 0===lt?void 0:lt.click_action;c1&&(H.fcmOptions.link=c1);const E1=null===(It=G.fcmOptions)||void 0===It?void 0:It.analytics_label;E1&&(H.fcmOptions.analyticsLabel=E1)}(G,H),G}function d1(H){return"object"==typeof H&&!!H&&ps in H}function Un(H,G){const te=[];for(let ge=0;ge<H.length;ge++)te.push(H.charAt(ge)),ge<G.length&&te.push(G.charAt(ge));return te.join("")}function Ji(H){return h2.create("missing-app-config-values",{valueName:H})}Un("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Un("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gs{constructor(G,te,ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ze=function dr(H){if(!H||!H.options)throw Ji("App Configuration Object");if(!H.name)throw Ji("App Name");const G=["projectId","apiKey","appId","messagingSenderId"],{options:te}=H;for(const ge of G)if(!te[ge])throw Ji(ge);return{appName:H.name,projectId:te.projectId,apiKey:te.apiKey,appId:te.appId,senderId:te.messagingSenderId}}(G);this.firebaseDependencies={app:G,appConfig:Ze,installations:te,analyticsProvider:ge}}_delete(){return Promise.resolve()}}function ts(H){return ns.apply(this,arguments)}function ns(){return(ns=(0,X.Z)(function*(H){try{H.swRegistration=yield navigator.serviceWorker.register(Li,{scope:Oi}),H.swRegistration.update().catch(()=>{})}catch(G){throw h2.create("failed-service-worker-registration",{browserErrorMessage:G?.message})}})).apply(this,arguments)}function yr(H,G){return No.apply(this,arguments)}function No(){return(No=(0,X.Z)(function*(H,G){if(!G&&!H.swRegistration&&(yield ts(H)),G||!H.swRegistration){if(!(G instanceof ServiceWorkerRegistration))throw h2.create("invalid-sw-registration");H.swRegistration=G}})).apply(this,arguments)}function Vi(H,G){return co.apply(this,arguments)}function co(){return(co=(0,X.Z)(function*(H,G){G?H.vapidKey=G:H.vapidKey||(H.vapidKey=Yi)})).apply(this,arguments)}function is(){return(is=(0,X.Z)(function*(H,G){if(!navigator)throw h2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw h2.create("permission-blocked");return yield Vi(H,G?.vapidKey),yield yr(H,G?.serviceWorkerRegistration),vr(H)})).apply(this,arguments)}function Ls(H,G,te){return To.apply(this,arguments)}function To(){return(To=(0,X.Z)(function*(H,G,te){const ge=lo(G);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(ge,{message_id:te[ps],message_name:te[Di],message_time:te[Lr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lo(H){switch(H){case ar.NOTIFICATION_CLICKED:return"notification_open";case ar.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function J(){return(J=(0,X.Z)(function*(H,G){const te=G.data;if(!te.isFirebaseMessaging)return;H.onMessageHandler&&te.messageType===ar.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(B(te)):H.onMessageHandler.next(B(te)));const ge=te.data;d1(ge)&&"1"===ge[Kr]&&(yield Ls(H,te.messageType,ge))})).apply(this,arguments)}const F="@firebase/messaging",De=H=>{const G=new gs(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",te=>function R(H,G){return J.apply(this,arguments)}(G,te)),G},Xe=H=>{const G=H.getProvider("messaging").getImmediate();return{getToken:ge=>function zs(H,G){return is.apply(this,arguments)}(G,ge)}};function r1(){return xn.apply(this,arguments)}function xn(){return(xn=(0,X.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mt(){(0,Ce._registerComponent)(new Ee.wA("messaging",De,"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("messaging-internal",Xe,"PRIVATE")),(0,Ce.registerVersion)(F,"0.12.0"),(0,Ce.registerVersion)(F,"0.12.0","esm2017")}();const br="analytics",vs="firebase_id",ys="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ao="https://www.googletagmanager.com/gtag/js",D2=new Re.Yd("@firebase/analytics");function ua(H){return Promise.all(H.map(G=>G.catch(te=>te)))}function $4(H,G){const te=document.createElement("script");te.src=`${Ao}?l=${H}&id=${G}`,te.async=!0,document.head.appendChild(te)}function y4(H,G,te,ge,Ze,lt){return da.apply(this,arguments)}function da(){return(da=(0,X.Z)(function*(H,G,te,ge,Ze,lt){const It=ge[Ze];try{if(It)yield G[It];else{const E1=(yield ua(te)).find(x1=>x1.measurementId===Ze);E1&&(yield G[E1.appId])}}catch(c1){D2.error(c1)}H("config",Ze,lt)})).apply(this,arguments)}function Ho(H,G,te,ge,Ze){return uo.apply(this,arguments)}function uo(){return(uo=(0,X.Z)(function*(H,G,te,ge,Ze){try{let lt=[];if(Ze&&Ze.send_to){let It=Ze.send_to;Array.isArray(It)||(It=[It]);const c1=yield ua(te);for(const E1 of It){const x1=c1.find(Yt=>Yt.measurementId===E1),zn=x1&&G[x1.appId];if(!zn){lt=[];break}lt.push(zn)}}0===lt.length&&(lt=Object.values(G)),yield Promise.all(lt),H("event",ge,Ze||{})}catch(lt){D2.error(lt)}})).apply(this,arguments)}function Ba(H){const G=window.document.getElementsByTagName("script");for(const te of Object.values(G))if(te.src&&te.src.includes(Ao)&&te.src.includes(H))return te;return null}const W2=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ot=new class _s{constructor(G={},te=1e3){this.throttleMetadata=G,this.intervalMillis=te}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,te){this.throttleMetadata[G]=te}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function ai(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function ss(H){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,X.Z)(function*(H){var G;const{appId:te,apiKey:ge}=H,Ze={method:"GET",headers:ai(ge)},lt=ys.replace("{app-id}",te),It=yield fetch(lt,Ze);if(200!==It.status&&304!==It.status){let c1="";try{const E1=yield It.json();null!==(G=E1.error)&&void 0!==G&&G.message&&(c1=E1.error.message)}catch{}throw W2.create("config-fetch-failed",{httpStatus:It.status,responseMessage:c1})}return It.json()})).apply(this,arguments)}function Zt(H){return n1.apply(this,arguments)}function n1(){return(n1=(0,X.Z)(function*(H,G=Ot,te){const{appId:ge,apiKey:Ze,measurementId:lt}=H.options;if(!ge)throw W2.create("no-app-id");if(!Ze){if(lt)return{measurementId:lt,appId:ge};throw W2.create("no-api-key")}const It=G.getThrottleMetadata(ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c1=new T2;return setTimeout((0,X.Z)(function*(){c1.abort()}),void 0!==te?te:6e4),fa({appId:ge,apiKey:Ze,measurementId:lt},It,c1,G)})).apply(this,arguments)}function fa(H,G,te){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,X.Z)(function*(H,{throttleEndTimeMillis:G,backoffCount:te},ge,Ze=Ot){var lt;const{appId:It,measurementId:c1}=H;try{yield dt(ge,G)}catch(E1){if(c1)return D2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c1} provided in the "measurementId" field in the local Firebase config. [${E1?.message}]`),{appId:It,measurementId:c1};throw E1}try{const E1=yield ss(H);return Ze.deleteThrottleMetadata(It),E1}catch(E1){const x1=E1;if(!Tt(x1)){if(Ze.deleteThrottleMetadata(It),c1)return D2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c1} provided in the "measurementId" field in the local Firebase config. [${x1?.message}]`),{appId:It,measurementId:c1};throw E1}const zn=503===Number(null===(lt=x1?.customData)||void 0===lt?void 0:lt.httpStatus)?(0,Te.$s)(te,Ze.intervalMillis,30):(0,Te.$s)(te,Ze.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+zn,backoffCount:te+1};return Ze.setThrottleMetadata(It,Yt),D2.debug(`Calling attemptFetch again in ${zn} millis`),fa(H,Yt,ge,Ze)}})).apply(this,arguments)}function dt(H,G){return new Promise((te,ge)=>{const Ze=Math.max(G-Date.now(),0),lt=setTimeout(te,Ze);H.addEventListener(()=>{clearTimeout(lt),ge(W2.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}function Tt(H){if(!(H instanceof Te.ZR&&H.customData))return!1;const G=Number(H.customData.httpStatus);return 429===G||500===G||503===G||504===G}class T2{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}let gi,H1;function Cr(){return(Cr=(0,X.Z)(function*(H,G,te,ge,Ze){if(Ze&&Ze.global)H("event",te,ge);else{const lt=yield G;H("event",te,Object.assign(Object.assign({},ge),{send_to:lt}))}})).apply(this,arguments)}function Qi(H){H1=H}function va(H){gi=H}function _2(){return M1.apply(this,arguments)}function M1(){return(M1=(0,X.Z)(function*(){if(!(0,Te.hl)())return D2.warn(W2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(H){return D2.warn(W2.create("indexeddb-unavailable",{errorInfo:H?.toString()}).message),!1}return!0})).apply(this,arguments)}function En(){return(En=(0,X.Z)(function*(H,G,te,ge,Ze,lt,It){var c1;const E1=Zt(H);E1.then(I2=>{te[I2.measurementId]=I2.appId,H.options.measurementId&&I2.measurementId!==H.options.measurementId&&D2.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${I2.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I2=>D2.error(I2)),G.push(E1);const x1=_2().then(I2=>{if(I2)return ge.getId()}),[zn,Yt]=yield Promise.all([E1,x1]);Ba(lt)||$4(lt,zn.measurementId),H1&&(Ze("consent","default",H1),Qi(void 0)),Ze("js",new Date);const tn=null!==(c1=It?.config)&&void 0!==c1?c1:{};return tn.origin="firebase",tn.update=!0,null!=Yt&&(tn[vs]=Yt),Ze("config",zn.measurementId,tn),gi&&(Ze("set",gi),va(void 0)),zn.measurementId})).apply(this,arguments)}class Uo{constructor(G){this.app=G}_delete(){return delete Sn[this.app.options.appId],Promise.resolve()}}let Sn={},Bt=[];const Os={};let bs,os,ks="dataLayer",Rs=!1;function _4(H,G,te){!function ya(){const H=[];if((0,Te.ru)()&&H.push("This is a browser extension environment."),(0,Te.zI)()||H.push("Cookies are not available."),H.length>0){const G=H.map((ge,Ze)=>`(${Ze+1}) ${ge}`).join(" "),te=W2.create("invalid-analytics-context",{errorInfo:G});D2.warn(te.message)}}();const ge=H.options.appId;if(!ge)throw W2.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw W2.create("no-api-key");D2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sn[ge])throw W2.create("already-exists",{id:ge});if(!Rs){!function Ha(H){let G=[];Array.isArray(window[H])?G=window[H]:window[H]=G}(ks);const{wrappedGtag:lt,gtagCore:It}=function Fa(H,G,te,ge,Ze){let lt=function(...It){window[ge].push(arguments)};return window[Ze]&&"function"==typeof window[Ze]&&(lt=window[Ze]),window[Ze]=function Fo(H,G,te,ge){function lt(){return(lt=(0,X.Z)(function*(It,c1,E1){try{"event"===It?yield Ho(H,G,te,c1,E1):"config"===It?yield y4(H,G,te,ge,c1,E1):"consent"===It?H("consent","update",E1):H("set",c1)}catch(x1){D2.error(x1)}})).apply(this,arguments)}return function Ze(It,c1,E1){return lt.apply(this,arguments)}}(lt,H,G,te),{gtagCore:lt,wrappedGtag:window[Ze]}}(Sn,Bt,Os,ks,"gtag");os=lt,bs=It,Rs=!0}return Sn[ge]=function A2(H,G,te,ge,Ze,lt,It){return En.apply(this,arguments)}(H,Bt,Os,G,bs,ks,te),new Uo(H)}function Z4(){return b4.apply(this,arguments)}function b4(){return(b4=(0,X.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const Xs="@firebase/analytics";!function vi(){(0,Ce._registerComponent)(new Ee.wA(br,(G,{options:te})=>_4(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),te),"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("analytics-internal",function H(G){try{const te=G.getProvider(br).getImmediate();return{logEvent:(ge,Ze,lt)=>function Io(H,G,te,ge){H=(0,Te.m9)(H),function Ua(H,G,te,ge,Ze){return Cr.apply(this,arguments)}(os,Sn[H.app.options.appId],G,te,ge).catch(Ze=>D2.error(Ze))}(te,ge,Ze,lt)}}catch(te){throw W2.create("interop-component-reg-failed",{reason:te})}},"PRIVATE")),(0,Ce.registerVersion)(Xs,"0.9.0"),(0,Ce.registerVersion)(Xs,"0.9.0","esm2017")}();var Mr=U(4408),wr=U(7565);const $i=new class po extends wr.v{}(class Ma extends Mr.o{constructor(G,te){super(G,te),this.scheduler=G,this.work=te}schedule(G,te=0){return te>0?super.schedule(G,te):(this.delay=te,this.state=G,this.scheduler.flush(this),this)}execute(G,te){return te>0||this.closed?super.execute(G,te):this._execute(G,te)}requestAsyncId(G,te,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(G,te,ge):(G.flush(this),0)}});var I=U(4986),N=U(8505),k=U(9468),j=U(5363);const ee=new l.GfV("7.5.0"),me="__angularfire_symbol__analyticsIsSupportedValue",we="__angularfire_symbol__analyticsIsSupported",gt="__angularfire_symbol__remoteConfigIsSupportedValue",zt="__angularfire_symbol__remoteConfigIsSupported",fn="__angularfire_symbol__messagingIsSupportedValue",s1="__angularfire_symbol__messagingIsSupported";function yi(H,G,te){if(G){if(1===G.length)return G[0];const lt=G.filter(It=>It.app===te);if(1===lt.length)return lt[0]}return te.container.getProvider(H).getImmediate({optional:!0})}globalThis[we]||(globalThis[we]=Z4().then(H=>globalThis[me]=H).catch(()=>globalThis[me]=!1)),globalThis[s1]||(globalThis[s1]=r1().then(H=>globalThis[fn]=H).catch(()=>globalThis[fn]=!1)),globalThis[zt]||(globalThis[zt]=Gi().then(H=>globalThis[gt]=H).catch(()=>globalThis[gt]=!1));const Dr=(H,G)=>{const te=G?[G]:(0,M.C6)(),ge=[];return te.forEach(Ze=>{Ze.container.getProvider(H).instances.forEach(It=>{ge.includes(It)||ge.push(It)})}),ge};function cs(){}class Xi{constructor(G,te=$i){this.zone=G,this.delegate=te}now(){return this.delegate.now()}schedule(G,te,ge){const Ze=this.zone;return this.delegate.schedule(function(It){Ze.runGuarded(()=>{G.apply(this,[It])})},te,ge)}}class Ps{constructor(G){this.zone=G,this.task=null}call(G,te){const ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),te.pipe((0,N.b)({next:ge,complete:ge,error:ge})).subscribe(G).add(ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xo=(()=>{class H{constructor(te){this.ngZone=te,this.outsideAngular=te.runOutsideAngular(()=>new Xi(Zone.current)),this.insideAngular=te.run(()=>new Xi(Zone.current,I.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function(te){return new(te||H)(l.LFG(l.R0b))},H.\u0275prov=l.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function Er(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function go(H){return Er(),function Ga(H){return function(te){return(te=te.lift(new Ps(H.ngZone))).pipe((0,k.R)(H.outsideAngular),(0,j.Q)(H.insideAngular))}}(Er())(H)}},2090:($t,We,U)=>{U.d(We,{$s:()=>Xt,BH:()=>N1,G6:()=>Ke,L:()=>ze,LL:()=>m1,Pz:()=>j1,Sg:()=>Nt,UG:()=>$e,US:()=>Ee,ZB:()=>he,ZR:()=>p1,aH:()=>a1,b$:()=>ot,eu:()=>bt,hl:()=>xt,jU:()=>Rt,m9:()=>z1,ne:()=>sn,pd:()=>Ci,r3:()=>c2,ru:()=>ut,tV:()=>ke,uI:()=>et,vZ:()=>Vt,w1:()=>Wt,xO:()=>rn,xb:()=>On,z$:()=>st,zI:()=>le,zd:()=>U2});const Ce=function(Se){const _e=[];let xe=0;for(let pt=0;pt<Se.length;pt++){let Ue=Se.charCodeAt(pt);Ue<128?_e[xe++]=Ue:Ue<2048?(_e[xe++]=Ue>>6|192,_e[xe++]=63&Ue|128):55296==(64512&Ue)&&pt+1<Se.length&&56320==(64512&Se.charCodeAt(pt+1))?(Ue=65536+((1023&Ue)<<10)+(1023&Se.charCodeAt(++pt)),_e[xe++]=Ue>>18|240,_e[xe++]=Ue>>12&63|128,_e[xe++]=Ue>>6&63|128,_e[xe++]=63&Ue|128):(_e[xe++]=Ue>>12|224,_e[xe++]=Ue>>6&63|128,_e[xe++]=63&Ue|128)}return _e},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,_e){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,pt=[];for(let Ue=0;Ue<Se.length;Ue+=3){const jt=Se[Ue],e1=Ue+1<Se.length,G1=e1?Se[Ue+1]:0,un=Ue+2<Se.length,K1=un?Se[Ue+2]:0;let ue=(15&G1)<<2|K1>>6,je=63&K1;un||(je=64,e1||(ue=64)),pt.push(xe[jt>>2],xe[(3&jt)<<4|G1>>4],xe[ue],xe[je])}return pt.join("")},encodeString(Se,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Se):this.encodeByteArray(Ce(Se),_e)},decodeString(Se,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Se):function(Se){const _e=[];let xe=0,pt=0;for(;xe<Se.length;){const Ue=Se[xe++];if(Ue<128)_e[pt++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){const jt=Se[xe++];_e[pt++]=String.fromCharCode((31&Ue)<<6|63&jt)}else if(Ue>239&&Ue<365){const un=((7&Ue)<<18|(63&Se[xe++])<<12|(63&Se[xe++])<<6|63&Se[xe++])-65536;_e[pt++]=String.fromCharCode(55296+(un>>10)),_e[pt++]=String.fromCharCode(56320+(1023&un))}else{const jt=Se[xe++],e1=Se[xe++];_e[pt++]=String.fromCharCode((15&Ue)<<12|(63&jt)<<6|63&e1)}}return _e.join("")}(this.decodeStringToByteArray(Se,_e))},decodeStringToByteArray(Se,_e){this.init_();const xe=_e?this.charToByteMapWebSafe_:this.charToByteMap_,pt=[];for(let Ue=0;Ue<Se.length;){const jt=xe[Se.charAt(Ue++)],G1=Ue<Se.length?xe[Se.charAt(Ue)]:0;++Ue;const K1=Ue<Se.length?xe[Se.charAt(Ue)]:64;++Ue;const fe=Ue<Se.length?xe[Se.charAt(Ue)]:64;if(++Ue,null==jt||null==G1||null==K1||null==fe)throw Error();pt.push(jt<<2|G1>>4),64!==K1&&(pt.push(G1<<4&240|K1>>2),64!==fe&&pt.push(K1<<6&192|fe))}return pt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}},ze=function(Se){return function(Se){const _e=Ce(Se);return Ee.encodeByteArray(_e,!0)}(Se).replace(/\./g,"")},ke=function(Se){try{return Ee.decodeString(Se,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function he(Se,_e){if(!(_e instanceof Object))return _e;switch(_e.constructor){case Date:return new Date(_e.getTime());case Object:void 0===Se&&(Se={});break;case Array:Se=[];break;default:return _e}for(const xe in _e)!_e.hasOwnProperty(xe)||!Ne(xe)||(Se[xe]=he(Se[xe],_e[xe]));return Se}function Ne(Se){return"__proto__"!==Se}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function $e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Rt(){return"object"==typeof self&&self.self===self}function ut(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const Se=st();return Se.indexOf("MSIE ")>=0||Se.indexOf("Trident/")>=0}function Ke(){return!$e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xt(){try{return"object"==typeof indexedDB}catch{return!1}}function bt(){return new Promise((Se,_e)=>{try{let xe=!0;const pt="validate-browser-context-for-indexeddb-analytics-module",Ue=self.indexedDB.open(pt);Ue.onsuccess=()=>{Ue.result.close(),xe||self.indexedDB.deleteDatabase(pt),Se(!0)},Ue.onupgradeneeded=()=>{xe=!1},Ue.onerror=()=>{var jt;_e((null===(jt=Ue.error)||void 0===jt?void 0:jt.message)||"")}}catch(xe){_e(xe)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Pe=()=>{try{return function ct(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Se=process.env.__FIREBASE_DEFAULTS__;return Se?JSON.parse(Se):void 0})()||(()=>{if(typeof document>"u")return;let Se;try{Se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=Se&&ke(Se[1]);return _e&&JSON.parse(_e)})()}catch(Se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Se}`)}},a1=()=>{var Se;return null===(Se=Pe())||void 0===Se?void 0:Se.config},j1=Se=>{var _e;return null===(_e=Pe())||void 0===_e?void 0:_e[`_${Se}`]};class N1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,xe)=>{this.resolve=_e,this.reject=xe})}wrapCallback(_e){return(xe,pt)=>{xe?this.reject(xe):this.resolve(pt),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(xe):_e(xe,pt))}}}function Nt(Se,_e){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pt=_e||"demo-project",Ue=Se.iat||0,jt=Se.sub||Se.user_id;if(!jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const e1=Object.assign({iss:`https://securetoken.google.com/${pt}`,aud:pt,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:jt,user_id:jt,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(e1)),""].join(".")}class p1 extends Error{constructor(_e,xe,pt){super(xe),this.code=_e,this.customData=pt,this.name="FirebaseError",Object.setPrototypeOf(this,p1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m1.prototype.create)}}class m1{constructor(_e,xe,pt){this.service=_e,this.serviceName=xe,this.errors=pt}create(_e,...xe){const pt=xe[0]||{},Ue=`${this.service}/${_e}`,jt=this.errors[_e],e1=jt?function f1(Se,_e){return Se.replace(n2,(xe,pt)=>{const Ue=_e[pt];return null!=Ue?String(Ue):`<${pt}?>`})}(jt,pt):"Error";return new p1(Ue,`${this.serviceName}: ${e1} (${Ue}).`,pt)}}const n2=/\{\$([^}]+)}/g;function c2(Se,_e){return Object.prototype.hasOwnProperty.call(Se,_e)}function On(Se){for(const _e in Se)if(Object.prototype.hasOwnProperty.call(Se,_e))return!1;return!0}function Vt(Se,_e){if(Se===_e)return!0;const xe=Object.keys(Se),pt=Object.keys(_e);for(const Ue of xe){if(!pt.includes(Ue))return!1;const jt=Se[Ue],e1=_e[Ue];if(mn(jt)&&mn(e1)){if(!Vt(jt,e1))return!1}else if(jt!==e1)return!1}for(const Ue of pt)if(!xe.includes(Ue))return!1;return!0}function mn(Se){return null!==Se&&"object"==typeof Se}function rn(Se){const _e=[];for(const[xe,pt]of Object.entries(Se))Array.isArray(pt)?pt.forEach(Ue=>{_e.push(encodeURIComponent(xe)+"="+encodeURIComponent(Ue))}):_e.push(encodeURIComponent(xe)+"="+encodeURIComponent(pt));return _e.length?"&"+_e.join("&"):""}function U2(Se){const _e={};return Se.replace(/^\?/,"").split("&").forEach(pt=>{if(pt){const[Ue,jt]=pt.split("=");_e[decodeURIComponent(Ue)]=decodeURIComponent(jt)}}),_e}function Ci(Se){const _e=Se.indexOf("?");if(!_e)return"";const xe=Se.indexOf("#",_e);return Se.substring(_e,xe>0?xe:void 0)}function sn(Se,_e){const xe=new W1(Se,_e);return xe.subscribe.bind(xe)}class W1{constructor(_e,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{_e(this)}).catch(pt=>{this.error(pt)})}next(_e){this.forEachObserver(xe=>{xe.next(_e)})}error(_e){this.forEachObserver(xe=>{xe.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,xe,pt){let Ue;if(void 0===_e&&void 0===xe&&void 0===pt)throw new Error("Missing Observer.");Ue=function t1(Se,_e){if("object"!=typeof Se||null===Se)return!1;for(const xe of _e)if(xe in Se&&"function"==typeof Se[xe])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:xe,complete:pt},void 0===Ue.next&&(Ue.next=an),void 0===Ue.error&&(Ue.error=an),void 0===Ue.complete&&(Ue.complete=an);const jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ue.error(this.finalError):Ue.complete()}catch{}}),this.observers.push(Ue),jt}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,_e)}sendOne(_e,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{xe(this.observers[_e])}catch(pt){typeof console<"u"&&console.error&&console.error(pt)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}function Xt(Se,_e=1e3,xe=2){const pt=_e*Math.pow(xe,Se),Ue=Math.round(.5*pt*(Math.random()-.5)*2);return Math.min(144e5,pt+Ue)}function z1(Se){return Se&&Se._delegate?Se._delegate:Se}},2767:($t,We,U)=>{U.d(We,{n:()=>Te});var l=U(6895),M=U(433),X=U(182),Ce=U(4650);let Te=(()=>{class Ee{}return Ee.\u0275fac=function(ze){return new(ze||Ee)},Ee.\u0275mod=Ce.oAB({type:Ee}),Ee.\u0275inj=Ce.cJS({providers:[X.e],imports:[l.ez,M.u5]}),Ee})()},182:($t,We,U)=>{U.d(We,{e:()=>pe});var l=U(5861),M=U(7579),X=U(3900),Ce=U(9646),Te=U(9260),Ee=U(4650),Re=U(2431),ze=U(3385),ke=U(3101);let pe=(()=>{class he{constructor(st,et,$e){this.router=st,this.afAuth=et,this.afs=$e,this.authChange=new M.x,this.isAuthenticated=!1,this.user$=this.afAuth.authState.pipe((0,X.w)(Rt=>Rt?this.afs.doc(`users/${Rt.uid}`).valueChanges():(0,Ce.of)(null)))}googleSignin(){var st=this;return(0,l.Z)(function*(){const et=new Te.Z.auth.GoogleAuthProvider,$e=yield st.afAuth.signInWithPopup(et);return st.updateUserData($e.user)})()}updateUserData(st){return this.userId=st?.uid,this.afs.doc(`users/${st?.uid}`).set({uid:st.uid,email:st.email,displayName:st.displayName,photoURL:st.photoURL},{merge:!0})}iniAuthListener(){this.afAuth.authState.subscribe(st=>{st?(this.onSuccessfulAuthentication(),this.updateUserData(st)):this.onUnsuccessfulAuthentication()})}registerUser(st){this.afAuth.createUserWithEmailAndPassword(st.email,st.password).then(et=>{console.log(et),this.onSuccessfulAuthentication()}).catch(et=>{console.log(et)})}login(st){this.afAuth.signInWithEmailAndPassword(st.email,st.password).then(et=>{console.log(et)}).catch(et=>{console.log(et)})}logout(){this.afAuth.signOut()}isAuth(){return this.isAuthenticated}onSuccessfulAuthentication(){this.isAuthenticated=!0,this.authChange.next(!0),this.router.navigate([""])}onUnsuccessfulAuthentication(){this.isAuthenticated=!1,this.authChange.next(!1),this.router.navigate([""])}}return he.\u0275fac=function(st){return new(st||he)(Ee.LFG(Re.F0),Ee.LFG(ze.zQ),Ee.LFG(ke.ST))},he.\u0275prov=Ee.Yz7({token:he,factory:he.\u0275fac}),he})()},837:($t,We,U)=>{U.d(We,{z:()=>ze});var l=U(4650),M=U(6895);let X=(()=>{class ke{constructor(){}}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275cmp=l.Xpm({type:ke,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(he,Ne){1&he&&(l.TgZ(0,"div",0),l._UZ(1,"div")(2,"div")(3,"div")(4,"div"),l.qZA())},styles:[".lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:black;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),ke})();function Ce(ke,pe){1&ke&&(l.TgZ(0,"div",4),l.Hsn(1,1),l.qZA())}function Te(ke,pe){1&ke&&(l.TgZ(0,"div",5),l._UZ(1,"app-loading-spinner"),l.qZA())}const Ee=[[["","pageHeader",""]],[["","pageContent",""]]],Re=["[pageHeader]","[pageContent]"];let ze=(()=>{class ke{constructor(){this.contentLoaded=!1}ngOnInit(){}onClickAddButton(){console.log("hello world")}}return ke.\u0275fac=function(he){return new(he||ke)},ke.\u0275cmp=l.Xpm({type:ke,selectors:[["app-content-wrapper"]],inputs:{contentLoaded:"contentLoaded"},ngContentSelectors:Re,decls:5,vars:2,consts:[[1,"content-wrapper"],[1,"page-header"],["class","content-container",4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],[1,"content-container"],[1,"loading-spinner-container"]],template:function(he,Ne){1&he&&(l.F$t(Ee),l.TgZ(0,"div",0)(1,"div",1),l.Hsn(2),l.qZA(),l.YNc(3,Ce,2,0,"div",2),l.YNc(4,Te,2,0,"div",3),l.qZA()),2&he&&(l.xp6(3),l.Q6J("ngIf",Ne.contentLoaded),l.xp6(1),l.Q6J("ngIf",!Ne.contentLoaded))},dependencies:[M.O5,X],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:100vw;padding-left:10px;padding-right:10px}.content-container[_ngcontent-%COMP%]{margin-top:10px}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:60vh;flex-wrap:wrap;padding-left:10px;padding-right:10px;justify-content:center}']}),ke})()},4769:($t,We,U)=>{U.d(We,{e:()=>X});var l=U(6895),M=U(4650);let X=(()=>{class Ce{}return Ce.\u0275fac=function(Ee){return new(Ee||Ce)},Ce.\u0275mod=M.oAB({type:Ce}),Ce.\u0275inj=M.cJS({imports:[l.ez]}),Ce})()},2340:($t,We,U)=>{U.d(We,{N:()=>l});const l={production:!0,firebase:{apiKey:"AIzaSyBhyZOhjOEyor9d77QOlILrHlQcqFFcQdY",authDomain:"adultery-prod.firebaseapp.com",projectId:"adultery-prod",storageBucket:"adultery-prod.appspot.com",messagingSenderId:"1064210384939",appId:"1:1064210384939:web:46399359cb7ff93afb826e"}}},5380:($t,We,U)=>{var l=U(1481),M=U(4650),X=U(2431),Ce=U(182);let Te=(()=>{class v{constructor(f,b){this.authService=f,this.router=b}canActivate(f,b){return this.authService.isAuth()?this.authService.isAuth():(this.router.navigate(["login"]),!1)}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(Ce.e),M.LFG(X.F0))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})();var va={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},En={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},a5={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},e9={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},D0={prefix:"fas",iconName:"tools",icon:[512,512,[],"f7d9","M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"]},Y7={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},gd={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]};let ku=(()=>{class v{constructor(){this.faDumbbell=va,this.faUser=Y7,this.faGoogle=gd,this.faEdit=En,this.faPlus=e9,this.faPencilAlt=a5,this.faTools=D0}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var B2=U(433);let h_=(()=>{class v{constructor(){}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-google-button"]],decls:6,vars:0,consts:[[1,"google-btn"],[1,"google-icon-wrapper"],["src","https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",1,"google-icon"],[1,"btn-text"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0)(1,"div",1),M._UZ(2,"img",2),M.qZA(),M.TgZ(3,"p",3)(4,"b"),M._uU(5,"Sign in with google"),M.qZA()()())},styles:[".google-btn[_ngcontent-%COMP%]{cursor:pointer;width:184px;height:42px;background-color:#4285f4;border-radius:2px;box-shadow:0 3px 4px #00000040}.google-btn[_ngcontent-%COMP%]   .google-icon-wrapper[_ngcontent-%COMP%]{position:absolute;margin-top:1px;margin-left:1px;width:40px;height:40px;border-radius:2px;background-color:#fff}.google-btn[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{position:absolute;margin-top:11px;margin-left:11px;width:18px;height:18px}.google-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{float:right;margin:11px 11px 0 0;color:#fff;font-size:14px;letter-spacing:.2px;font-family:Roboto}.google-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #4285f4}.google-btn[_ngcontent-%COMP%]:active{background:#1669f2}"]}),v})(),tM=(()=>{class v{constructor(f,b){this.authService=f,this.icon=b}ngOnInit(){}onSubmit(f){this.authService.login({email:f.value.email,password:f.value.password})}onOathSignIn(){this.authService.googleSignin()}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(Ce.e),M.Y36(ku))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"login-page"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(f,b){if(1&f){const x=M.EpF();M.TgZ(0,"div",0)(1,"form",1,2),M.NdJ("ngSubmit",function(){M.CHM(x);const ie=M.MAs(2);return M.KtG(b.onSubmit(ie))}),M.TgZ(3,"h1"),M._uU(4,"Welcome back fellow adult!"),M.qZA(),M.TgZ(5,"div",3),M._UZ(6,"input",4,5),M.qZA(),M.TgZ(8,"div",3),M._UZ(9,"input",6,7),M.qZA(),M.TgZ(11,"button",8),M._uU(12," Login "),M.qZA(),M.TgZ(13,"app-google-button",9),M.NdJ("click",function(){return b.onOathSignIn()}),M.qZA()()()}if(2&f){const x=M.MAs(2);M.xp6(11),M.Q6J("disabled",!x.valid)}},dependencies:[B2._Y,B2.Fj,B2.JJ,B2.JL,B2.Q7,B2.wO,B2.On,B2.F,h_],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),v})(),nM=(()=>{class v{constructor(f,b){this.authService=f,this.icon=b}ngOnInit(){}onSubmit(f){this.authService.registerUser({email:f.value.email,password:f.value.password})}onOathSignIn(){this.authService.googleSignin()}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(Ce.e),M.Y36(ku))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-signup"]],decls:13,vars:1,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(f,b){if(1&f){const x=M.EpF();M.TgZ(0,"form",0,1),M.NdJ("ngSubmit",function(){M.CHM(x);const ie=M.MAs(1);return M.KtG(b.onSubmit(ie))}),M.TgZ(2,"h1"),M._uU(3,"Sign Up to Start Adulting!"),M.qZA(),M.TgZ(4,"div",2),M._UZ(5,"input",3,4),M.qZA(),M.TgZ(7,"div",2),M._UZ(8,"input",5,6),M.qZA(),M.TgZ(10,"button",7),M._uU(11," Sign Up "),M.qZA(),M.TgZ(12,"app-google-button",8),M.NdJ("click",function(){return b.onOathSignIn()}),M.qZA()()}if(2&f){const x=M.MAs(1);M.xp6(10),M.Q6J("disabled",!x.valid)}},dependencies:[B2._Y,B2.Fj,B2.JJ,B2.JL,B2.Q7,B2.wO,B2.On,B2.F,h_],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),v})();var p_=U(837);let iM=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-feature-coming-soon"]],decls:12,vars:1,consts:[[3,"contentLoaded"],["pageContent","",1,"page-container"],[1,"gif-container"],["src","https://media.giphy.com/media/H1dxi6xdh4NGQCZSvz/giphy.gif"],["src","https://media.giphy.com/media/l0HefZY0mFfLS9AFa/giphy.gif"]],template:function(f,b){1&f&&(M.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),M._uU(3,"This feature is not available yet"),M.qZA(),M.TgZ(4,"p"),M._uU(5," Our team of highly adult developers are working around the clock to bring more awesome features to this app. "),M.qZA(),M.TgZ(6,"div",2),M._UZ(7,"img",3),M.qZA(),M.TgZ(8,"p"),M._uU(9,"This one is currently in progress. It's going to be..."),M.qZA(),M.TgZ(10,"div",2),M._UZ(11,"img",4),M.qZA()()()),2&f&&M.Q6J("contentLoaded",!0)},dependencies:[p_.z],styles:[".page-container[_ngcontent-%COMP%]{display:flex;gap:10px;text-align:center;flex-direction:column}"]}),v})();var la=U(6683),Gd=U(7579),Ic=U(4004),$d=U(3101);let up=(()=>{class v{constructor(f,b){this.firestore=f,this.authService=b,this.exercises=[],this.exercisesChanged=new Gd.x}fetchExercises(){const f=this.authService.userId;this.firestore.collection("exercises",b=>b.where("userId","==",f)).snapshotChanges().pipe((0,Ic.U)(b=>b.map(x=>({id:x.payload.doc.id,defaultExercise:x.payload.doc.data().defaultExercise,defaultTags:x.payload.doc.data().defaultTags,description:x.payload.doc.data().description,exerciseImage:x.payload.doc.data().exerciseImage,name:x.payload.doc.data().name,userId:x.payload.doc.data().userId})))).subscribe(b=>{this.exercises=b,this.exercisesChanged.next([...this.exercises])})}addNewExercise(f){this.firestore.collection("exercises").add({...f})}updateExercise(f){this.firestore.collection("exercises").doc(f.id).update({name:f.name,description:f.description})}deleteExercise(f){this.firestore.collection("exercises").doc(f.id).delete()}}return v.\u0275fac=function(f){return new(f||v)(M.LFG($d.ST),M.LFG(Ce.e))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})(),rM=(()=>{class v{constructor(f,b,x){this.activeModal=f,this.exercisesService=b,this.authService=x}onSubmit(f){this.exercisesService.addNewExercise({id:"",userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:f.value.exerciseName,description:f.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(la.Kz),M.Y36(up),M.Y36(Ce.e))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-add-exercise-modal"]],decls:20,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name","ngModel","","placeholder","Enter name",1,"form-control"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","ngModel","","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(f,b){if(1&f){const x=M.EpF();M.TgZ(0,"div",0)(1,"h4",1),M._uU(2,"Create New Exercise"),M.qZA(),M.TgZ(3,"button",2),M.NdJ("click",function(){return b.activeModal.dismiss("Cross click")}),M.qZA()(),M.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),M._uU(9,"Name"),M.qZA(),M._UZ(10,"input",7,8),M.qZA(),M.TgZ(12,"div",5)(13,"label",9),M._uU(14,"Description"),M.qZA(),M._UZ(15,"textarea",10,11),M.qZA()()(),M.TgZ(17,"div",12)(18,"button",13),M.NdJ("click",function(){M.CHM(x);const ie=M.MAs(6);return M.KtG(b.onSubmit(ie))}),M._uU(19," Submit "),M.qZA()()}},dependencies:[B2._Y,B2.Fj,B2.JJ,B2.JL,B2.On,B2.F]}),v})();var v4=U(6895);let sM=(()=>{class v{constructor(f){this.activeModal=f}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(la.Kz))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-confirm-modal"]],inputs:{message:"message"},decls:9,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0)(1,"h4",1),M._uU(2),M.qZA(),M.TgZ(3,"button",2),M.NdJ("click",function(){return b.activeModal.dismiss("Cross click")}),M.qZA()(),M.TgZ(4,"div",3)(5,"button",4),M.NdJ("click",function(){return b.activeModal.close("Yes")}),M._uU(6," Yes "),M.qZA(),M.TgZ(7,"button",5),M.NdJ("click",function(){return b.activeModal.close("No")}),M._uU(8," No "),M.qZA()()),2&f&&(M.xp6(2),M.Oqu(b.message))}}),v})(),oM=(()=>{class v{constructor(f,b,x,$){this.activeModal=f,this.exercisesService=b,this.authService=x,this.modalService=$}onSubmit(f){this.exercisesService.updateExercise({id:this.exerciseToEdit.id,userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:f.value.exerciseName,description:f.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}onDelete(){const f=this.modalService.open(sM);f.componentInstance.message=`Are you sure you want to delete ${this.exerciseToEdit.name}?`,f.result.then(b=>{"Yes"===b&&(this.exercisesService.deleteExercise(this.exerciseToEdit),this.activeModal.close("Close click"))})}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(la.Kz),M.Y36(up),M.Y36(Ce.e),M.Y36(la.FF))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-edit-exercise-modal"]],inputs:{exerciseToEdit:"exerciseToEdit"},decls:22,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name",1,"form-control",3,"ngModel"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control",3,"ngModel"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(f,b){if(1&f){const x=M.EpF();M.TgZ(0,"div",0)(1,"h4",1),M._uU(2),M.qZA(),M.TgZ(3,"button",2),M.NdJ("click",function(){return b.activeModal.dismiss("Cross click")}),M.qZA()(),M.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),M._uU(9,"Name"),M.qZA(),M._UZ(10,"input",7,8),M.qZA(),M.TgZ(12,"div",5)(13,"label",9),M._uU(14,"Description"),M.qZA(),M._UZ(15,"textarea",10,11),M.qZA()()(),M.TgZ(17,"div",12)(18,"button",13),M.NdJ("click",function(){M.CHM(x);const ie=M.MAs(6);return M.KtG(b.onSubmit(ie))}),M._uU(19," Submit "),M.qZA(),M.TgZ(20,"button",14),M.NdJ("click",function(){return b.onDelete()}),M._uU(21," Delete Exercise "),M.qZA()()}2&f&&(M.xp6(2),M.hij("Edit ",b.exerciseToEdit.name,""),M.xp6(8),M.Q6J("ngModel",b.exerciseToEdit.name),M.xp6(5),M.Q6J("ngModel",b.exerciseToEdit.description))},dependencies:[B2._Y,B2.Fj,B2.JJ,B2.JL,B2.On,B2.F]}),v})(),m_=(()=>{class v{constructor(f,b){this.firestore=f,this.authService=b,this.fitnessLogs=[],this.fitnessLogsChanged=new Gd.x}fetchLogs(f){const b=this.authService.userId;this.firestore.collection("fitnessLogs",x=>x.where("userId","==",b).where("parentId","==",f)).snapshotChanges().pipe((0,Ic.U)(x=>x.map($=>({id:$.payload.doc.id,date:$.payload.doc.data().date.toDate(),text:$.payload.doc.data().text,userId:$.payload.doc.data().userId,parentId:$.payload.doc.data().parentId})))).subscribe(x=>{this.fitnessLogs=x,this.fitnessLogsChanged.next([...this.fitnessLogs])})}addNewLog(f){this.firestore.collection("fitnessLogs").add({...f})}}return v.\u0275fac=function(f){return new(f||v)(M.LFG($d.ST),M.LFG(Ce.e))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),aM=(()=>{class v{constructor(f,b,x){this.activeModal=f,this.authService=b,this.fitnessLogsService=x}ngOnInit(){}onSubmit(f){const b=f.value.logDescription,x=this.getDate();this.fitnessLogsService.addNewLog({id:"",date:x,text:b,userId:this.authService.userId,parentId:this.parentItem.id}),this.activeModal.close("Close click")}getDate(){return new Date}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(la.Kz),M.Y36(Ce.e),M.Y36(m_))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-add-fitness-log-modal"]],inputs:{parentItem:"parentItem"},decls:15,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["id","logDescription","name","logDescription","ngModel","","rows","3","placeholder","Add your log here...",1,"form-control"],["logDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(f,b){if(1&f){const x=M.EpF();M.TgZ(0,"div",0)(1,"h4",1),M._uU(2),M.qZA(),M.TgZ(3,"button",2),M.NdJ("click",function(){return b.activeModal.dismiss("Cross click")}),M.qZA()(),M.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5),M._UZ(8,"textarea",6,7),M.qZA()()(),M.TgZ(10,"div",8)(11,"button",9),M.NdJ("click",function(){M.CHM(x);const ie=M.MAs(6);return M.KtG(b.onSubmit(ie))}),M._uU(12," Submit "),M.qZA(),M.TgZ(13,"button",10),M.NdJ("click",function(){return b.activeModal.close("No")}),M._uU(14," Cancel "),M.qZA()()}2&f&&(M.xp6(2),M.hij("Add New Log for ",b.parentItem.name,""))},dependencies:[B2._Y,B2.Fj,B2.JJ,B2.JL,B2.On,B2.F]}),v})();function Zd(v){return(Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(v)}function g_(v,u){for(var f=0;f<u.length;f++){var b=u[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}function uM(v,u,f){return u in v?Object.defineProperty(v,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):v[u]=f,v}function L2(v){for(var u=1;u<arguments.length;u++){var f=null!=arguments[u]?arguments[u]:{},b=Object.keys(f);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(f).filter(function(x){return Object.getOwnPropertyDescriptor(f,x).enumerable}))),b.forEach(function(x){uM(v,x,f[x])})}return v}function sv(v,u){return function fM(v){if(Array.isArray(v))return v}(v)||function pM(v,u){var f=[],b=!0,x=!1,$=void 0;try{for(var ae,ie=v[Symbol.iterator]();!(b=(ae=ie.next()).done)&&(f.push(ae.value),!u||f.length!==u);b=!0);}catch(Me){x=!0,$=Me}finally{try{!b&&null!=ie.return&&ie.return()}finally{if(x)throw $}}return f}(v,u)||function gM(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var av={},y_={};try{typeof window<"u"&&(av=window),typeof document<"u"&&(y_=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var C_=(av.navigator||{}).userAgent,M_=void 0===C_?"":C_,Ru=av,io=y_,xc=!!io.documentElement&&!!io.head&&"function"==typeof io.addEventListener&&"function"==typeof io.createElement,zc=(~M_.indexOf("MSIE")||M_.indexOf("Trident/"),"___FONT_AWESOME___"),S_="svg-inline--fa",I_=[1,2,3,4,5,6,7,8,9,10],NM=I_.concat([11,12,13,14,15,16,17,18,19,20]),Tl={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},x_=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Tl.GROUP,Tl.SWAP_OPACITY,Tl.PRIMARY,Tl.SECONDARY].concat(I_.map(function(v){return"".concat(v,"x")})).concat(NM.map(function(v){return"w-".concat(v)})),Ru.FontAwesomeConfig||{});io&&"function"==typeof io.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(v){var u=sv(v,2),b=u[1],x=function xM(v){return""===v||"false"!==v&&("true"===v||v)}(function IM(v){var u=io.querySelector("script["+v+"]");if(u)return u.getAttribute(v)}(u[0]));null!=x&&(x_[b]=x)});var uv=L2({},{familyPrefix:"fa",replacementClass:S_,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},x_);uv.autoReplaceSvg||(uv.observeMutations=!1);var t2=L2({},uv);Ru.FontAwesomeConfig=t2;var Lc=Ru||{};Lc[zc]||(Lc[zc]={}),Lc[zc].styles||(Lc[zc].styles={}),Lc[zc].hooks||(Lc[zc].hooks={}),Lc[zc].shims||(Lc[zc].shims=[]);var R6=Lc[zc],z_=[];xc&&((io.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(io.readyState)||io.addEventListener("DOMContentLoaded",function v(){io.removeEventListener("DOMContentLoaded",v),z_.map(function(u){return u()})}));var fv,dv="pending",L_="settled",hp="fulfilled",pp="rejected",RM=function(){},O_=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,PM=typeof setImmediate>"u"?setTimeout:setImmediate,Wd=[];function VM(){for(var v=0;v<Wd.length;v++)Wd[v][0](Wd[v][1]);Wd=[],fv=!1}function mp(v,u){Wd.push([v,u]),fv||(fv=!0,PM(VM,0))}function k_(v){var u=v.owner,f=u._state,b=u._data,x=v[f],$=v.then;if("function"==typeof x){f=hp;try{b=x(b)}catch(ie){qd($,ie)}}R_($,b)||(f===hp&&hv($,b),f===pp&&qd($,b))}function R_(v,u){var f;try{if(v===u)throw new TypeError("A promises callback cannot return that same promise.");if(u&&("function"==typeof u||"object"===Zd(u))){var b=u.then;if("function"==typeof b)return b.call(u,function(x){f||(f=!0,u===x?P_(v,x):hv(v,x))},function(x){f||(f=!0,qd(v,x))}),!0}}catch(x){return f||qd(v,x),!0}return!1}function hv(v,u){(v===u||!R_(v,u))&&P_(v,u)}function P_(v,u){v._state===dv&&(v._state=L_,v._data=u,mp(FM,v))}function qd(v,u){v._state===dv&&(v._state=L_,v._data=u,mp(BM,v))}function V_(v){v._then=v._then.forEach(k_)}function FM(v){v._state=hp,V_(v)}function BM(v){v._state=pp,V_(v),!v._handled&&O_&&global.process.emit("unhandledRejection",v._data,v)}function UM(v){global.process.emit("rejectionHandled",v)}function v3(v){if("function"!=typeof v)throw new TypeError("Promise resolver "+v+" is not a function");if(!(this instanceof v3))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function HM(v,u){function b(x){qd(u,x)}try{v(function f(x){hv(u,x)},b)}catch(x){b(x)}}(v,this)}v3.prototype={constructor:v3,_state:dv,_then:null,_data:void 0,_handled:!1,then:function(u,f){var b={owner:this,then:new this.constructor(RM),fulfilled:u,rejected:f};return(f||u)&&!this._handled&&(this._handled=!0,this._state===pp&&O_&&mp(UM,this)),this._state===hp||this._state===pp?mp(k_,b):this._then.push(b),b.then},catch:function(u){return this.then(null,u)}},v3.all=function(v){if(!Array.isArray(v))throw new TypeError("You must pass an array to Promise.all().");return new v3(function(u,f){var b=[],x=0;function $(Me){return x++,function(Je){b[Me]=Je,--x||u(b)}}for(var ae,ie=0;ie<v.length;ie++)(ae=v[ie])&&"function"==typeof ae.then?ae.then($(ie),f):b[ie]=ae;x||u(b)})},v3.race=function(v){if(!Array.isArray(v))throw new TypeError("You must pass an array to Promise.race().");return new v3(function(u,f){for(var x,b=0;b<v.length;b++)(x=v[b])&&"function"==typeof x.then?x.then(u,f):u(x)})},v3.resolve=function(v){return v&&"object"===Zd(v)&&v.constructor===v3?v:new v3(function(u){u(v)})},v3.reject=function(v){return new v3(function(u,f){f(v)})};var Oc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Kd(){for(var v=12,u="";v-- >0;)u+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return u}function F_(v){return"".concat(v).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function gp(v){return Object.keys(v||{}).reduce(function(u,f){return u+"".concat(f,": ").concat(v[f],";")},"")}function mv(v){return v.size!==Oc.size||v.x!==Oc.x||v.y!==Oc.y||v.rotate!==Oc.rotate||v.flipX||v.flipY}function B_(v){var u=v.transform,b=v.iconWidth,x={transform:"translate(".concat(v.containerWidth/2," 256)")},$="translate(".concat(32*u.x,", ").concat(32*u.y,") "),ie="scale(".concat(u.size/16*(u.flipX?-1:1),", ").concat(u.size/16*(u.flipY?-1:1),") "),ae="rotate(".concat(u.rotate," 0 0)");return{outer:x,inner:{transform:"".concat($," ").concat(ie," ").concat(ae)},path:{transform:"translate(".concat(b/2*-1," -256)")}}}var gv={x:0,y:0,width:"100%",height:"100%"};function U_(v){var u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return v.attributes&&(v.attributes.fill||u)&&(v.attributes.fill="black"),v}function qM(v){return"g"===v.tag?v.children:[v]}function vv(v){var u=v.icons,f=u.main,b=u.mask,x=v.prefix,$=v.iconName,ie=v.transform,ae=v.symbol,Me=v.title,Je=v.maskId,At=v.titleId,Ht=v.extra,D1=v.watchable,_1=void 0!==D1&&D1,o1=b.found?b:f,k1=o1.width,Rn=o1.height,on="fak"===x,ti=on?"":"fa-w-".concat(Math.ceil(k1/Rn*16)),Ar=[t2.replacementClass,$?"".concat(t2.familyPrefix,"-").concat($):"",ti].filter(function(G4){return-1===Ht.classes.indexOf(G4)}).filter(function(G4){return""!==G4||!!G4}).concat(Ht.classes).join(" "),Ii={children:[],attributes:L2({},Ht.attributes,{"data-prefix":x,"data-icon":$,class:Ar,role:Ht.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(k1," ").concat(Rn)})},Q3=on&&!~Ht.classes.indexOf("fa-fw")?{width:"".concat(k1/Rn*16*.0625,"em")}:{};_1&&(Ii.attributes["data-fa-i2svg"]=""),Me&&Ii.children.push({tag:"title",attributes:{id:Ii.attributes["aria-labelledby"]||"title-".concat(At||Kd())},children:[Me]});var Eo=L2({},Ii,{prefix:x,iconName:$,main:f,mask:b,maskId:Je,transform:ie,symbol:ae,styles:L2({},Q3,Ht.styles)}),Po=b.found&&f.found?function KM(v){var u=v.children,f=v.attributes,b=v.main,x=v.mask,$=v.maskId,Me=b.icon,At=x.icon,Ht=B_({transform:v.transform,containerWidth:x.width,iconWidth:b.width}),D1={tag:"rect",attributes:L2({},gv,{fill:"white"})},_1=Me.children?{children:Me.children.map(U_)}:{},o1={tag:"g",attributes:L2({},Ht.inner),children:[U_(L2({tag:Me.tag,attributes:L2({},Me.attributes,Ht.path)},_1))]},k1={tag:"g",attributes:L2({},Ht.outer),children:[o1]},Rn="mask-".concat($||Kd()),on="clip-".concat($||Kd()),ti={tag:"mask",attributes:L2({},gv,{id:Rn,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[D1,k1]},Ar={tag:"defs",children:[{tag:"clipPath",attributes:{id:on},children:qM(At)},ti]};return u.push(Ar,{tag:"rect",attributes:L2({fill:"currentColor","clip-path":"url(#".concat(on,")"),mask:"url(#".concat(Rn,")")},gv)}),{children:u,attributes:f}}(Eo):function YM(v){var u=v.children,f=v.attributes,b=v.main,x=v.transform,ie=gp(v.styles);if(ie.length>0&&(f.style=ie),mv(x)){var ae=B_({transform:x,containerWidth:b.width,iconWidth:b.width});u.push({tag:"g",attributes:L2({},ae.outer),children:[{tag:"g",attributes:L2({},ae.inner),children:[{tag:b.icon.tag,children:b.icon.children,attributes:L2({},b.icon.attributes,ae.path)}]}]})}else u.push(b.icon);return{children:u,attributes:f}}(Eo),H6=Po.attributes;return Eo.children=Po.children,Eo.attributes=H6,ae?function QM(v){var f=v.iconName,b=v.children,$=v.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:L2({},v.attributes,{id:!0===$?"".concat(v.prefix,"-").concat(t2.familyPrefix,"-").concat(f):$}),children:b}]}]}(Eo):function JM(v){var u=v.children,f=v.main,b=v.mask,x=v.attributes,$=v.styles,ie=v.transform;if(mv(ie)&&f.found&&!b.found){var Je={x:f.width/f.height/2,y:.5};x.style=gp(L2({},$,{"transform-origin":"".concat(Je.x+ie.x/16,"em ").concat(Je.y+ie.y/16,"em")}))}return[{tag:"svg",attributes:x,children:u}]}(Eo)}var bv=function(u,f,b,x){var Me,Je,At,$=Object.keys(u),ie=$.length,ae=void 0!==x?function(u,f){return function(b,x,$,ie){return u.call(f,b,x,$,ie)}}(f,x):f;for(void 0===b?(Me=1,At=u[$[0]]):(Me=0,At=b);Me<ie;Me++)At=ae(At,u[Je=$[Me]],Je,u);return At};function W_(v,u){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=f.skipHooks,x=void 0!==b&&b,$=Object.keys(u).reduce(function(ie,ae){var Me=u[ae];return Me.icon?ie[Me.iconName]=Me.icon:ie[ae]=Me,ie},{});"function"!=typeof R6.hooks.addPack||x?R6.styles[v]=L2({},R6.styles[v]||{},$):R6.hooks.addPack(v,$),"fas"===v&&W_("fa",u)}var q_=R6.styles,nw=R6.shims,Q_=function(){var u=function(x){return bv(q_,function($,ie,ae){return $[ae]=bv(ie,x,{}),$},{})};u(function(b,x,$){return x[3]&&(b[x[3]]=$),b}),u(function(b,x,$){var ie=x[2];return b[$]=$,ie.forEach(function(ae){b[ae]=$}),b});var f="far"in q_;bv(nw,function(b,x){var ie=x[1];return"far"===ie&&!f&&(ie="fas"),b[x[0]]={prefix:ie,iconName:x[2]},b},{})};function eb(v,u,f){if(v&&v[u]&&v[u][f])return{prefix:u,iconName:f,icon:v[u][f]}}function Hu(v){var u=v.tag,f=v.attributes,b=void 0===f?{}:f,x=v.children,$=void 0===x?[]:x;return"string"==typeof v?F_(v):"<".concat(u," ").concat(function ZM(v){return Object.keys(v||{}).reduce(function(u,f){return u+"".concat(f,'="').concat(F_(v[f]),'" ')},"").trim()}(b),">").concat($.map(Hu).join(""),"</").concat(u,">")}Q_();function Jd(v){this.name="MissingIcon",this.message=v||"Icon unavailable",this.stack=(new Error).stack}(Jd.prototype=Object.create(Error.prototype)).constructor=Jd;var _p={fill:"currentColor"},ob={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Dv=(L2({},_p,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),L2({},ob,{attributeName:"opacity"}));function Sv(v){var u=v[0],f=v[1],$=sv(v.slice(4),1)[0];return{found:!0,width:u,height:f,icon:Array.isArray($)?{tag:"g",attributes:{class:"".concat(t2.familyPrefix,"-").concat(Tl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(t2.familyPrefix,"-").concat(Tl.SECONDARY),fill:"currentColor",d:$[0]}},{tag:"path",attributes:{class:"".concat(t2.familyPrefix,"-").concat(Tl.PRIMARY),fill:"currentColor",d:$[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:$}}}}function Qd(){t2.autoAddCss&&!Cp&&(function H_(v){if(v&&xc){var u=io.createElement("style");u.setAttribute("type","text/css"),u.innerHTML=v;for(var f=io.head.childNodes,b=null,x=f.length-1;x>-1;x--){var $=f[x],ie=($.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(ie)>-1&&(b=$)}return io.head.insertBefore(u,b),v}}(function Tv(){var v="fa",u=S_,f=t2.familyPrefix,b=t2.replacementClass,x='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(f!==v||b!==u){var $=new RegExp("\\.".concat(v,"\\-"),"g"),ie=new RegExp("\\--".concat(v,"\\-"),"g"),ae=new RegExp("\\.".concat(u),"g");x=x.replace($,".".concat(f,"-")).replace(ie,"--".concat(f,"-")).replace(ae,".".concat(b))}return x}()),Cp=!0)}function bp(v,u){return Object.defineProperty(v,"abstract",{get:u}),Object.defineProperty(v,"html",{get:function(){return v.abstract.map(function(b){return Hu(b)})}}),Object.defineProperty(v,"node",{get:function(){if(xc){var b=io.createElement("div");return b.innerHTML=v.html,b.children}}}),v}function Av(v){var u=v.prefix,f=void 0===u?"fa":u,b=v.iconName;if(b)return eb(db.definitions,f,b)||eb(R6.styles,f,b)}L2({},_p,{cx:"256",cy:"364",r:"28"}),L2({},ob,{attributeName:"r",values:"28;14;28;28;14;28;"}),L2({},Dv,{values:"1;0;1;1;0;1;"}),L2({},_p,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),L2({},Dv,{values:"1;0;0;0;0;1;"}),L2({},_p,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),L2({},Dv,{values:"0;0;1;1;0;0;"});var db=new(function(){function v(){(function cM(v,u){if(!(v instanceof u))throw new TypeError("Cannot call a class as a function")})(this,v),this.definitions={}}return function lM(v,u,f){u&&g_(v.prototype,u),f&&g_(v,f)}(v,[{key:"add",value:function(){for(var f=this,b=arguments.length,x=new Array(b),$=0;$<b;$++)x[$]=arguments[$];var ie=x.reduce(this._pullDefinitions,{});Object.keys(ie).forEach(function(ae){f.definitions[ae]=L2({},f.definitions[ae]||{},ie[ae]),W_(ae,ie[ae]),Q_()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(f,b){var x=b.prefix&&b.iconName&&b.icon?{0:b}:b;return Object.keys(x).map(function($){var ie=x[$],ae=ie.prefix,Me=ie.iconName,Je=ie.icon;f[ae]||(f[ae]={}),f[ae][Me]=Je}),f}}]),v}()),Cp=!1,fb_transform=function(u){return function(u){var f={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return u?u.toLowerCase().split(" ").reduce(function(b,x){var $=x.toLowerCase().split("-"),ie=$[0],ae=$.slice(1).join("-");if(ie&&"h"===ae)return b.flipX=!0,b;if(ie&&"v"===ae)return b.flipY=!0,b;if(ae=parseFloat(ae),isNaN(ae))return b;switch(ie){case"grow":b.size=b.size+ae;break;case"shrink":b.size=b.size-ae;break;case"left":b.x=b.x-ae;break;case"right":b.x=b.x+ae;break;case"up":b.y=b.y-ae;break;case"down":b.y=b.y+ae;break;case"rotate":b.rotate=b.rotate+ae}return b},f):f}(u)},hb=function zw(v){return function(u){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=(u||{}).icon?u:Av(u||{}),x=f.mask;return x&&(x=(x||{}).icon?x:Av(x||{})),v(b,L2({},f,{mask:x}))}}(function(v){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=u.transform,b=void 0===f?Oc:f,x=u.symbol,$=void 0!==x&&x,ie=u.mask,ae=void 0===ie?null:ie,Me=u.maskId,Je=void 0===Me?null:Me,At=u.title,Ht=void 0===At?null:At,D1=u.titleId,_1=void 0===D1?null:D1,o1=u.classes,k1=void 0===o1?[]:o1,Rn=u.attributes,on=void 0===Rn?{}:Rn,ti=u.styles,Ar=void 0===ti?{}:ti;if(v){var Ii=v.prefix,Q3=v.iconName,Eo=v.icon;return bp(L2({type:"icon"},v),function(){return Qd(),t2.autoA11y&&(Ht?on["aria-labelledby"]="".concat(t2.replacementClass,"-title-").concat(_1||Kd()):(on["aria-hidden"]="true",on.focusable="false")),vv({icons:{main:Sv(Eo),mask:ae?Sv(ae.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ii,iconName:Q3,transform:L2({},Oc,b),symbol:$,title:Ht,maskId:Je,titleId:_1,extra:{attributes:on,styles:Ar,classes:k1}})})}});const Fw=["*"],jw=v=>{const u={"fa-spin":v.spin,"fa-pulse":v.pulse,"fa-fw":v.fixedWidth,"fa-border":v.border,"fa-inverse":v.inverse,"fa-layers-counter":v.counter,"fa-flip-horizontal":"horizontal"===v.flip||"both"===v.flip,"fa-flip-vertical":"vertical"===v.flip||"both"===v.flip,[`fa-${v.size}`]:null!==v.size,[`fa-rotate-${v.rotate}`]:null!==v.rotate,[`fa-pull-${v.pull}`]:null!==v.pull,[`fa-stack-${v.stackItemSize}`]:null!=v.stackItemSize};return Object.keys(u).map(f=>u[f]?f:null).filter(f=>f)};let Zw=(()=>{class v{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Ww=(()=>{class v{constructor(){this.definitions={}}addIcons(...f){for(const b of f)b.prefix in this.definitions||(this.definitions[b.prefix]={}),this.definitions[b.prefix][b.iconName]=b}addIconPacks(...f){for(const b of f){const x=Object.keys(b).map($=>b[$]);this.addIcons(...x)}}getIconDefinition(f,b){return f in this.definitions&&b in this.definitions[f]?this.definitions[f][b]:null}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),qw=(()=>{class v{constructor(){this.stackItemSize="1x"}ngOnChanges(f){if("size"in f)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275dir=M.lG2({type:v,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[M.TTD]}),v})(),Kw=(()=>{class v{constructor(f,b){this.renderer=f,this.elementRef=b}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(f){"size"in f&&(null!=f.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${f.size.currentValue}`),null!=f.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${f.size.previousValue}`))}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(M.Qsj),M.Y36(M.SBq))},v.\u0275cmp=M.Xpm({type:v,selectors:[["fa-stack"]],inputs:{size:"size"},features:[M.TTD],ngContentSelectors:Fw,decls:1,vars:0,template:function(f,b){1&f&&(M.F$t(),M.Hsn(0))},encapsulation:2}),v})(),Mp=(()=>{class v{constructor(f,b,x,$,ie){this.sanitizer=f,this.config=b,this.iconLibrary=x,this.stackItem=$,this.classes=[],null!=ie&&null==$&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(f){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let b=null;if(b=this.icon??this.config.fallbackIcon,f){const x=this.findIconDefinition(b);if(null!=x){const $=this.buildParams();this.renderIcon(x,$)}}}render(){this.ngOnChanges({})}findIconDefinition(f){const b=((v,u)=>(v=>void 0!==v.prefix&&void 0!==v.iconName)(v)?v:Array.isArray(v)&&2===v.length?{prefix:v[0],iconName:v[1]}:"string"==typeof v?{prefix:u,iconName:v}:void 0)(f,this.config.defaultPrefix);return"icon"in b?b:this.iconLibrary.getIconDefinition(b.prefix,b.iconName)??((v=>{throw new Error(`Could not find icon with iconName=${v.iconName} and prefix=${v.prefix} in the icon library.`)})(b),null)}buildParams(){const f={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},b="string"==typeof this.transform?fb_transform(this.transform):this.transform;return{title:this.title,transform:b,classes:[...jw(f),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(f,b){const x=hb(f,b);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(x.html.join("\n"))}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(l.H7),M.Y36(Zw),M.Y36(Ww),M.Y36(qw,8),M.Y36(Kw,8))},v.\u0275cmp=M.Xpm({type:v,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(f,b){2&f&&(M.Ikx("innerHTML",b.renderedIconHTML,M.oJD),M.uIk("title",b.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[M.TTD],decls:0,vars:0,template:function(f,b){},encapsulation:2}),v})(),Yw=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=M.oAB({type:v}),v.\u0275inj=M.cJS({}),v})();function Jw(v,u){if(1&v&&(M.TgZ(0,"div")(1,"span",5),M._uU(2),M.ALo(3,"date"),M.qZA(),M.TgZ(4,"span",6),M._uU(5),M.qZA()()),2&v){const f=u.$implicit;M.xp6(2),M.hij("",M.lcZ(3,2,f.date)," -"),M.xp6(3),M.hij(" ",f.text,"")}}let Qw=(()=>{class v{constructor(f,b,x){this.icon=f,this.modalService=b,this.fitnessLogsService=x,this.fitnessLogs=[],this.fitnessLogsLoaded=!1}ngOnInit(){this.fitnessLogsSubscription=this.fitnessLogsService.fitnessLogsChanged.subscribe(f=>{this.fitnessLogs=f,this.fitnessLogsLoaded=!0}),this.fitnessLogsService.fetchLogs(this.parentItem.id)}ngOnDestroy(){this.fitnessLogsSubscription.unsubscribe()}onClickAddLog(){this.modalService.open(aM).componentInstance.parentItem=this.parentItem,console.log(this.fitnessLogsService.fitnessLogs)}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(ku),M.Y36(la.FF),M.Y36(m_))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-fitness-logs"]],inputs:{parentItem:"parentItem"},decls:7,vars:2,consts:[[1,"logs-section"],[1,"title-section"],[1,"pencil-icon"],[3,"icon","click"],[4,"ngFor","ngForOf"],[1,"log-date"],[1,"log-text"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0)(1,"div",1)(2,"h5"),M._uU(3,"Logs"),M.qZA(),M.TgZ(4,"div",2)(5,"fa-icon",3),M.NdJ("click",function(){return b.onClickAddLog()}),M.qZA()()(),M.YNc(6,Jw,6,4,"div",4),M.qZA()),2&f&&(M.xp6(5),M.Q6J("icon",b.icon.faPencilAlt),M.xp6(1),M.Q6J("ngForOf",b.fitnessLogs))},dependencies:[v4.sg,Mp,v4.uU],styles:[".pencil-icon[_ngcontent-%COMP%]{cursor:pointer}.title-section[_ngcontent-%COMP%]{display:flex;gap:10px}"]}),v})(),Xw=(()=>{class v{constructor(f){this.activeModal=f}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(la.Kz))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-view-exercise-modal"]],inputs:{exercise:"exercise"},decls:9,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"src"],[3,"parentItem"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0)(1,"h4",1),M._uU(2),M.qZA(),M.TgZ(3,"button",2),M.NdJ("click",function(){return b.activeModal.dismiss("Cross click")}),M.qZA()(),M.TgZ(4,"div",3),M._UZ(5,"img",4),M.TgZ(6,"p"),M._uU(7),M.qZA(),M._UZ(8,"app-fitness-logs",5),M.qZA()),2&f&&(M.xp6(2),M.Oqu(b.exercise.name),M.xp6(3),M.Q6J("src",b.exercise.exerciseImage,M.LSH),M.xp6(2),M.Oqu(b.exercise.description),M.xp6(1),M.Q6J("parentItem",b.exercise))},dependencies:[Qw]}),v})(),eD=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-exercise-tag"]],inputs:{tag:"tag"},decls:3,vars:1,consts:[[1,"tag"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0)(1,"span"),M._uU(2),M.qZA()()),2&f&&(M.xp6(2),M.Oqu(b.tag))},styles:[".tag[_ngcontent-%COMP%]{border:2px solid black;padding:2px}"]}),v})();function tD(v,u){1&v&&M._UZ(0,"app-exercise-tag",5),2&v&&M.Q6J("tag",u.$implicit)}let nD=(()=>{class v{constructor(f,b){this.icon=f,this.modalService=b}ngOnInit(){}onClickEditButton(){this.modalService.open(oM).componentInstance.exerciseToEdit=this.exercise}onClickExerciseItem(){this.modalService.open(Xw).componentInstance.exercise=this.exercise}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(ku),M.Y36(la.FF))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-exercise-library-item"]],inputs:{exercise:"exercise"},decls:7,vars:3,consts:[[1,"exercise-item-container",3,"click"],[1,"name-container"],[1,"tag-container"],[3,"tag",4,"ngFor","ngForOf"],[1,"edit-button",3,"icon","click"],[3,"tag"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0),M.NdJ("click",function(){return b.onClickExerciseItem()}),M.TgZ(1,"div",1)(2,"span"),M._uU(3),M.qZA()(),M.TgZ(4,"div",2),M.YNc(5,tD,1,1,"app-exercise-tag",3),M.qZA(),M.TgZ(6,"fa-icon",4),M.NdJ("click",function($){return b.onClickEditButton(),$.stopPropagation()}),M.qZA()()),2&f&&(M.xp6(3),M.Oqu(b.exercise.name),M.xp6(2),M.Q6J("ngForOf",b.exercise.defaultTags),M.xp6(1),M.Q6J("icon",b.icon.faEdit))},dependencies:[v4.sg,Mp,eD],styles:[".exercise-item-container[_ngcontent-%COMP%]{border:2px solid grey;width:90%;margin-left:auto;margin-right:auto;display:flex;gap:20%;padding:10px;cursor:pointer}.tag-container[_ngcontent-%COMP%]{display:flex;gap:5px}.edit-button[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;transition:background-color .5s;padding:2px;border-radius:20%}.edit-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.name-container[_ngcontent-%COMP%]{width:200px}"]}),v})(),iD=(()=>{class v{constructor(f){this.icon=f}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(ku))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-add-button"]],decls:2,vars:1,consts:[[1,"add-button"],[3,"icon"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0),M._UZ(1,"fa-icon",1),M.qZA()),2&f&&(M.xp6(1),M.Q6J("icon",b.icon.faPlus))},dependencies:[Mp],styles:[".add-button[_ngcontent-%COMP%]{border:2px solid black;width:70px;height:70px;display:flex;justify-content:center;align-items:center;border-radius:50%;cursor:pointer;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}fa-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),v})();function rD(v,u){1&v&&M._UZ(0,"app-exercise-library-item",7),2&v&&M.Q6J("exercise",u.$implicit)}let sD=(()=>{class v{constructor(f,b){this.exercisesService=f,this.modalService=b,this.defaultExercises=[],this.exercisesLoaded=!1}ngOnInit(){this.exercisesSubscription=this.exercisesService.exercisesChanged.subscribe(f=>{this.defaultExercises=f,this.exercisesLoaded=!0}),this.exercisesService.fetchExercises()}ngOnDestroy(){this.exercisesSubscription.unsubscribe()}onClickAddButton(){this.modalService.open(rM)}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(up),M.Y36(la.FF))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-exercise-library"]],decls:9,vars:2,consts:[[3,"contentLoaded"],["pageHeader",""],["pageContent",""],[1,"exercises-container"],[3,"exercise",4,"ngFor","ngForOf"],[1,"add-button-container"],[3,"click"],[3,"exercise"]],template:function(f,b){1&f&&(M.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),M._uU(3,"Exercise Library"),M.qZA()(),M.TgZ(4,"div",2)(5,"div",3),M.YNc(6,rD,1,1,"app-exercise-library-item",4),M.qZA(),M.TgZ(7,"div",5)(8,"app-add-button",6),M.NdJ("click",function(){return b.onClickAddButton()}),M.qZA()()()()),2&f&&(M.Q6J("contentLoaded",b.exercisesLoaded),M.xp6(6),M.Q6J("ngForOf",b.defaultExercises))},dependencies:[v4.sg,p_.z,nD,iD],styles:[".exercises-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;flex-direction:column}app-exercise-library-item[_ngcontent-%COMP%]{width:100%}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}"]}),v})();var oD=U(8996),pb=U(9646),aD=U(4408),cD=U(727);const Xd={schedule(v){let u=requestAnimationFrame,f=cancelAnimationFrame;const{delegate:b}=Xd;b&&(u=b.requestAnimationFrame,f=b.cancelAnimationFrame);const x=u($=>{f=void 0,v($)});return new cD.w0(()=>f?.(x))},requestAnimationFrame(...v){const{delegate:u}=Xd;return(u?.requestAnimationFrame||requestAnimationFrame)(...v)},cancelAnimationFrame(...v){const{delegate:u}=Xd;return(u?.cancelAnimationFrame||cancelAnimationFrame)(...v)},delegate:void 0};var uD=U(7565);const fD=new class dD extends uD.v{flush(u){this._active=!0;const f=this._scheduled;this._scheduled=void 0;const{actions:b}=this;let x;u=u||b.shift();do{if(x=u.execute(u.state,u.delay))break}while((u=b[0])&&u.id===f&&b.shift());if(this._active=!1,x){for(;(u=b[0])&&u.id===f&&b.shift();)u.unsubscribe();throw x}}}(class lD extends aD.o{constructor(u,f){super(u,f),this.scheduler=u,this.work=f}requestAsyncId(u,f,b=0){return null!==b&&b>0?super.requestAsyncId(u,f,b):(u.actions.push(this),u._scheduled||(u._scheduled=Xd.requestAnimationFrame(()=>u.flush(void 0))))}recycleAsyncId(u,f,b=0){var x;if(null!=b?b>0:this.delay>0)return super.recycleAsyncId(u,f,b);const{actions:$}=u;null!=f&&(null===(x=$[$.length-1])||void 0===x?void 0:x.id)!==f&&(Xd.cancelAnimationFrame(f),u._scheduled=void 0)}});var hD=U(1135),pD=U(9770),mb=U(9751),mD=U(8505),gD=U(3151),vD=U(5363),Iv=U(9300),gb=U(3900),yD=U(2722);const _D=["container"],xv=new M.OlP("LottieOptions");let zv=(()=>{class v{constructor(f,b){this.ngZone=f,this.options=b,this.player$=function bD(v,u){const f=v();return(f instanceof Promise?(0,oD.D)(f).pipe((0,Ic.U)(x=>x.default||x)):(0,pb.of)(f)).pipe((0,mD.b)(x=>x.useWebWorker(u)),(0,gD.d)({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,vD.Q)(fD))}loadAnimation(f){return this.player$.pipe((0,Ic.U)(b=>this.createAnimationItem(b,f)))}resolveOptions(f,b){return Object.assign({container:b,renderer:"svg",loop:!0,autoplay:!0},f)}createAnimationItem(f,b){return this.ngZone.runOutsideAngular(()=>f.loadAnimation(b))}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(M.R0b),M.LFG(xv))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),CD=(()=>{class v{constructor(f,b,x){this.ngZone=f,this.platformId=b,this.animationLoader=x,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new Gd.x,this.loadAnimation$=new Gd.x,this.animationItem$=new hD.X(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(f,b){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([f,b]))}getAnimationItem(){return(0,pD.P)(()=>this.animationItem$).pipe((0,Iv.h)(f=>null!==f))}awaitAnimationItemAndStartListening(f){return this.getAnimationItem().pipe((0,gb.w)(b=>new mb.y(x=>{this.ngZone.runOutsideAngular(()=>{b.addEventListener(f,$=>{this.ngZone.runOutsideAngular(()=>{x.next($)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,Iv.h)(([b])=>(0,v4.NF)(this.platformId)&&void 0!==b.options)).pipe((0,gb.w)(([b,x])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(b.options.currentValue,x)))),(0,yD.R)(this.destroy$)).subscribe(b=>{this.ngZone.run(()=>this.animationItem$.next(b))})}destroyAnimation(){const f=this.animationItem$.getValue();null!==f&&(f.destroy(),this.animationItem$.next(null))}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(M.R0b),M.Y36(M.Lbi),M.Y36(zv))},v.\u0275dir=M.lG2({type:v,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),v})(),vb=(()=>{class v extends CD{constructor(f,b,x){super(f,b,x),this.width=null,this.height=null,this.container=null}ngOnChanges(f){super.loadAnimation(f,this.container.nativeElement)}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(M.R0b),M.Y36(M.Lbi),M.Y36(zv))},v.\u0275cmp=M.Xpm({type:v,selectors:[["ng-lottie"]],viewQuery:function(f,b){if(1&f&&M.Gf(_D,7),2&f){let x;M.iGM(x=M.CRH())&&(b.container=x.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[M.qOj,M.TTD,M.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(f,b){1&f&&M._UZ(0,"div",0,1),2&f&&(M.Udp("width",b.width||"100%")("height",b.height||"100%"),M.Q6J("ngStyle",b.styles)("ngClass",b.containerClass))},dependencies:[v4.ez,v4.mk,v4.PC],encapsulation:2,changeDetection:0}),v})(),MD=(()=>{class v{static forRoot(f){return{ngModule:v,providers:[{provide:xv,useValue:f}]}}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=M.oAB({type:v}),v.\u0275inj=M.cJS({imports:[vb]}),v})(),DD=(()=>{class v{constructor(){this.animationTypes=new Map([["kidAgainAnimation","https://assets1.lottiefiles.com/private_files/lf30_x8jhuhr4.json"],["fitnessAnimation","https://assets2.lottiefiles.com/packages/lf20_ju61m9x9.json"],["timeManagementAnimation","https://assets1.lottiefiles.com/packages/lf20_i7ooqm2q.json"],["financeAnimation","https://assets2.lottiefiles.com/packages/lf20_qxdztkhq.json"]]),this.animationSize="medium",this.animationCreated=new M.vpe,this.animationPath=""}ngOnInit(){this.animationPath=this.getAnimationPath(this.animationKey),this.options={path:this.animationPath}}getAnimationPath(f){const b=this.animationTypes.get(f);if(null!=b)return b;throw new Error(`The animation ${f} does not exist \u{1f62d}`)}onAnimate(f){this.animationCreated.emit(f)}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-animation"]],inputs:{animationKey:"animationKey",animationSize:"animationSize"},outputs:{animationCreated:"animationCreated"},decls:2,vars:1,consts:[[1,"lottie-animation","mt-10"],[3,"options","animationCreated"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0)(1,"ng-lottie",1),M.NdJ("animationCreated",function($){return b.onAnimate($)})("animationCreated",function($){return b.onAnimate($)}),M.qZA()()),2&f&&(M.xp6(1),M.Q6J("options",b.options))},dependencies:[vb],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:relative}"]}),v})();const ED=[{path:"",component:(()=>{class v{constructor(f){this.router=f}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(X.F0))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-home-page"]],decls:29,vars:0,consts:[[1,"home-page-section"],[1,"home-page-section-title"],["animationKey","kidAgainAnimation"],[1,"login-or-sign-up-buttons-container"],["type","button",1,"btn","btn-primary",3,"click"],["animationKey","fitnessAnimation"],["animationKey","timeManagementAnimation"],["animationKey","financeAnimation"]],template:function(f,b){1&f&&(M.TgZ(0,"div",0)(1,"div",1)(2,"h1"),M._uU(3,"An app to make adulting easier"),M.qZA(),M.TgZ(4,"h1"),M._uU(5,"So you can be a kid again"),M.qZA()(),M._UZ(6,"app-animation",2),M.TgZ(7,"div",3)(8,"button",4),M.NdJ("click",function(){return b.router.navigate(["/login"])}),M._uU(9," Login "),M.qZA(),M.TgZ(10,"button",4),M.NdJ("click",function(){return b.router.navigate(["/signup"])}),M._uU(11," Sign Up "),M.qZA()()(),M.TgZ(12,"div",0)(13,"div",1)(14,"h1"),M._uU(15,"Reach your fitness goals"),M.qZA()(),M._UZ(16,"app-animation",5),M.qZA(),M.TgZ(17,"div",0)(18,"div",1)(19,"h1"),M._uU(20,"Impress your mom"),M.qZA(),M.TgZ(21,"h1"),M._uU(22,"with your time management skills"),M.qZA()(),M._UZ(23,"app-animation",6),M.qZA(),M.TgZ(24,"div",0)(25,"div",1)(26,"h1"),M._uU(27,"Be your financial best"),M.qZA()(),M._UZ(28,"app-animation",7),M.qZA())},dependencies:[DD],styles:[".home-page-section-title[_ngcontent-%COMP%]{margin:auto;width:90%}app-animation[_ngcontent-%COMP%]{max-width:500px}.login-or-sign-up-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),v})()},{path:"login",component:tM},{path:"signup",component:nM},{path:"exercise-library",component:sD,canActivate:[Te]},{path:"coming-soon",component:iM,canActivate:[Te]},{path:"shopping-list",loadChildren:()=>U.e(244).then(U.bind(U,244)).then(v=>v.ShoppingListModule)}];let SD=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=M.oAB({type:v}),v.\u0275inj=M.cJS({providers:[Te],imports:[X.Bz.forRoot(ED),X.Bz]}),v})();function ND(v,u){if(1&v){const f=M.EpF();M.TgZ(0,"li",9)(1,"a",10),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return M.KtG(x.isMenuCollapsed=!0)}),M._uU(2,"Login "),M.qZA()()}2&v&&(M.xp6(1),M.Q6J("routerLink","login"))}function TD(v,u){if(1&v){const f=M.EpF();M.TgZ(0,"li",9)(1,"a",10),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return M.KtG(x.isMenuCollapsed=!0)}),M._uU(2,"Sign Up "),M.qZA()()}2&v&&(M.xp6(1),M.Q6J("routerLink","signup"))}function AD(v,u){if(1&v&&(M.TgZ(0,"a",17),M._uU(1),M.qZA()),2&v){const f=u.ngIf;M.xp6(1),M.hij(" ",f.email," ")}}function ID(v,u){if(1&v){const f=M.EpF();M.TgZ(0,"li",9)(1,"div",11)(2,"span",12),M._UZ(3,"fa-icon",13),M.YNc(4,AD,2,1,"a",14),M.ALo(5,"async"),M.qZA(),M.TgZ(6,"div",15)(7,"button",16),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return x.isMenuCollapsed=!0,M.KtG(x.authService.logout())}),M._uU(8," Sign Out "),M.qZA()()()()}if(2&v){const f=M.oxw();M.xp6(3),M.Q6J("icon",f.icon.faUser),M.xp6(1),M.Q6J("ngIf",M.lcZ(5,2,f.authService.user$))}}const ef=function(){return["active"]};function xD(v,u){if(1&v){const f=M.EpF();M.TgZ(0,"li",9)(1,"div",11)(2,"span",12),M._UZ(3,"fa-icon",13),M.TgZ(4,"a",17),M._uU(5,"Fitness"),M.qZA()(),M.TgZ(6,"div",15)(7,"button",18),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return M.KtG(x.isMenuCollapsed=!0)}),M._uU(8," Exercises "),M.qZA(),M.TgZ(9,"button",18),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return M.KtG(x.isMenuCollapsed=!0)}),M._uU(10," Workouts "),M.qZA(),M.TgZ(11,"button",18),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return M.KtG(x.isMenuCollapsed=!0)}),M._uU(12," Plans "),M.qZA()()()()}if(2&v){const f=M.oxw();M.xp6(3),M.Q6J("icon",f.icon.faDumbbell),M.xp6(4),M.Q6J("routerLink","exercise-library")("routerLinkActive",M.DdM(7,ef)),M.xp6(2),M.Q6J("routerLink","coming-soon")("routerLinkActive",M.DdM(8,ef)),M.xp6(2),M.Q6J("routerLink","coming-soon")("routerLinkActive",M.DdM(9,ef))}}function zD(v,u){if(1&v){const f=M.EpF();M.TgZ(0,"li",9)(1,"div",11)(2,"span",12),M._UZ(3,"fa-icon",13),M.TgZ(4,"a",17),M._uU(5,"Tool Belt"),M.qZA()(),M.TgZ(6,"div",15)(7,"button",18),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return M.KtG(x.isMenuCollapsed=!0)}),M._uU(8," Shopping List "),M.qZA(),M.TgZ(9,"button",18),M.NdJ("click",function(){M.CHM(f);const x=M.oxw();return M.KtG(x.isMenuCollapsed=!0)}),M._uU(10," Meal Planner "),M.qZA()()()()}if(2&v){const f=M.oxw();M.xp6(3),M.Q6J("icon",f.icon.faTools),M.xp6(4),M.Q6J("routerLink","shopping-list")("routerLinkActive",M.DdM(5,ef)),M.xp6(2),M.Q6J("routerLink","coming-soon")("routerLinkActive",M.DdM(6,ef))}}let LD=(()=>{class v{constructor(f,b){this.icon=f,this.authService=b,this.isAuth=!1,this.isMenuCollapsed=!0}ngOnInit(){this.authSubscription=this.authService.authChange.subscribe(f=>{this.isAuth=f})}ngOnDestroy(){this.authSubscription.unsubscribe()}}return v.\u0275fac=function(f){return new(f||v)(M.Y36(ku),M.Y36(Ce.e))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-nav"]],decls:16,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","mb-3"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],[1,"three","navbar-toggler"],["id","hamburger-1",1,"hamburger",3,"click"],[1,"line"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["class","nav-item active",4,"ngIf"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink","click"],["ngbDropdown",""],[1,"nav-link-container"],[3,"icon"],["class","nav-link","style","cursor: pointer","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],["ngbDropdownToggle","",1,"nav-link",2,"cursor","pointer"],["ngbDropdownItem","",3,"routerLink","routerLinkActive","click"]],template:function(f,b){1&f&&(M.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),M._uU(3,"Adultery"),M.qZA(),M.TgZ(4,"div",3)(5,"div",4),M.NdJ("click",function(){return b.isMenuCollapsed=!b.isMenuCollapsed}),M._UZ(6,"span",5)(7,"span",5)(8,"span",5),M.qZA()(),M.TgZ(9,"div",6)(10,"ul",7),M.YNc(11,ND,3,1,"li",8),M.YNc(12,TD,3,1,"li",8),M.YNc(13,ID,9,4,"li",8),M.YNc(14,xD,13,10,"li",8),M.YNc(15,zD,11,7,"li",8),M.qZA()()()()),2&f&&(M.xp6(2),M.Q6J("routerLink","."),M.xp6(3),M.ekj("is-active",!b.isMenuCollapsed),M.xp6(4),M.Q6J("ngbCollapse",b.isMenuCollapsed),M.xp6(2),M.Q6J("ngIf",!b.isAuth),M.xp6(1),M.Q6J("ngIf",!b.isAuth),M.xp6(1),M.Q6J("ngIf",b.isAuth),M.xp6(1),M.Q6J("ngIf",b.isAuth),M.xp6(1),M.Q6J("ngIf",b.isAuth))},dependencies:[v4.O5,X.rH,X.yS,X.Od,Mp,la._D,la.jt,la.iD,la.Vi,la.TH,la.M2,v4.Ov],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.navbar[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{background-color:#000;min-height:90px}.navbar-logo-img[_ngcontent-%COMP%]{max-height:75px}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%], .a[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]:active, .navbar-brand[_ngcontent-%COMP%]:focus{color:#ababab}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item.active[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]:hover{background-color:#000;color:#ababab}.navbar-toggler[_ngcontent-%COMP%]{color:#fff}.hamburger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:50px;height:5px;background-color:#ecf0f1;display:block;margin:8px auto;transition:all .3s ease-in-out}.hamburger[_ngcontent-%COMP%]:hover{cursor:pointer}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(13px) rotate(45deg)}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-13px) rotate(-45deg)}.nav-link-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media (min-width: 650px){fa-icon[_ngcontent-%COMP%]{display:none}}']}),v})();const OD=[[["","pageHeader",""]],[["","pageContent",""]],[["","pageFooter",""]]],kD=["[pageHeader]","[pageContent]","[pageFooter]"];let RD=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-page-wrapper"]],ngContentSelectors:kD,decls:7,vars:0,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer"]],template:function(f,b){1&f&&(M.F$t(OD),M.TgZ(0,"div",0)(1,"div",1),M.Hsn(2),M.qZA(),M.TgZ(3,"div",2),M.Hsn(4,1),M.qZA(),M.TgZ(5,"div",3),M.Hsn(6,2),M.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll;margin-top:90px;display:flex;justify-content:center}.adultery-page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;overflow:hidden}']}),v})(),PD=(()=>{class v{constructor(f,b){this.authService=b,this.title="adultery"}ngOnInit(){this.authService.iniAuthListener()}}return v.\u0275fac=function(f){return new(f||v)(M.Y36($d.ST),M.Y36(Ce.e))},v.\u0275cmp=M.Xpm({type:v,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page-wrapper"],[1,"desktop-header"],["pageHeader","",1,"header"],["pageContent","",1,"content"],["pageFooter","",1,"footer"]],template:function(f,b){1&f&&(M.TgZ(0,"app-page-wrapper",0),M._UZ(1,"div",1),M.TgZ(2,"div",2),M._UZ(3,"app-nav"),M.qZA(),M.TgZ(4,"div",3),M._UZ(5,"router-outlet"),M.qZA(),M._UZ(6,"div",4),M.qZA())},dependencies:[X.lC,LD,RD],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}']}),v})();var VD=U(4351);class yb{}class _b{}class kc{constructor(u){this.normalizedNames=new Map,this.lazyUpdate=null,u?this.lazyInit="string"==typeof u?()=>{this.headers=new Map,u.split("\n").forEach(f=>{const b=f.indexOf(":");if(b>0){const x=f.slice(0,b),$=x.toLowerCase(),ie=f.slice(b+1).trim();this.maybeSetNormalizedName(x,$),this.headers.has($)?this.headers.get($).push(ie):this.headers.set($,[ie])}})}:()=>{this.headers=new Map,Object.keys(u).forEach(f=>{let b=u[f];const x=f.toLowerCase();"string"==typeof b&&(b=[b]),b.length>0&&(this.headers.set(x,b),this.maybeSetNormalizedName(f,x))})}:this.headers=new Map}has(u){return this.init(),this.headers.has(u.toLowerCase())}get(u){this.init();const f=this.headers.get(u.toLowerCase());return f&&f.length>0?f[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(u){return this.init(),this.headers.get(u.toLowerCase())||null}append(u,f){return this.clone({name:u,value:f,op:"a"})}set(u,f){return this.clone({name:u,value:f,op:"s"})}delete(u,f){return this.clone({name:u,value:f,op:"d"})}maybeSetNormalizedName(u,f){this.normalizedNames.has(f)||this.normalizedNames.set(f,u)}init(){this.lazyInit&&(this.lazyInit instanceof kc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(u=>this.applyUpdate(u)),this.lazyUpdate=null))}copyFrom(u){u.init(),Array.from(u.headers.keys()).forEach(f=>{this.headers.set(f,u.headers.get(f)),this.normalizedNames.set(f,u.normalizedNames.get(f))})}clone(u){const f=new kc;return f.lazyInit=this.lazyInit&&this.lazyInit instanceof kc?this.lazyInit:this,f.lazyUpdate=(this.lazyUpdate||[]).concat([u]),f}applyUpdate(u){const f=u.name.toLowerCase();switch(u.op){case"a":case"s":let b=u.value;if("string"==typeof b&&(b=[b]),0===b.length)return;this.maybeSetNormalizedName(u.name,f);const x=("a"===u.op?this.headers.get(f):void 0)||[];x.push(...b),this.headers.set(f,x);break;case"d":const $=u.value;if($){let ie=this.headers.get(f);if(!ie)return;ie=ie.filter(ae=>-1===$.indexOf(ae)),0===ie.length?(this.headers.delete(f),this.normalizedNames.delete(f)):this.headers.set(f,ie)}else this.headers.delete(f),this.normalizedNames.delete(f)}}forEach(u){this.init(),Array.from(this.normalizedNames.keys()).forEach(f=>u(this.normalizedNames.get(f),this.headers.get(f)))}}class HD{encodeKey(u){return bb(u)}encodeValue(u){return bb(u)}decodeKey(u){return decodeURIComponent(u)}decodeValue(u){return decodeURIComponent(u)}}const BD=/%(\d[a-f0-9])/gi,UD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bb(v){return encodeURIComponent(v).replace(BD,(u,f)=>UD[f]??u)}function wp(v){return`${v}`}class q8{constructor(u={}){if(this.updates=null,this.cloneFrom=null,this.encoder=u.encoder||new HD,u.fromString){if(u.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FD(v,u){const f=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach(x=>{const $=x.indexOf("="),[ie,ae]=-1==$?[u.decodeKey(x),""]:[u.decodeKey(x.slice(0,$)),u.decodeValue(x.slice($+1))],Me=f.get(ie)||[];Me.push(ae),f.set(ie,Me)}),f}(u.fromString,this.encoder)}else u.fromObject?(this.map=new Map,Object.keys(u.fromObject).forEach(f=>{const b=u.fromObject[f],x=Array.isArray(b)?b.map(wp):[wp(b)];this.map.set(f,x)})):this.map=null}has(u){return this.init(),this.map.has(u)}get(u){this.init();const f=this.map.get(u);return f?f[0]:null}getAll(u){return this.init(),this.map.get(u)||null}keys(){return this.init(),Array.from(this.map.keys())}append(u,f){return this.clone({param:u,value:f,op:"a"})}appendAll(u){const f=[];return Object.keys(u).forEach(b=>{const x=u[b];Array.isArray(x)?x.forEach($=>{f.push({param:b,value:$,op:"a"})}):f.push({param:b,value:x,op:"a"})}),this.clone(f)}set(u,f){return this.clone({param:u,value:f,op:"s"})}delete(u,f){return this.clone({param:u,value:f,op:"d"})}toString(){return this.init(),this.keys().map(u=>{const f=this.encoder.encodeKey(u);return this.map.get(u).map(b=>f+"="+this.encoder.encodeValue(b)).join("&")}).filter(u=>""!==u).join("&")}clone(u){const f=new q8({encoder:this.encoder});return f.cloneFrom=this.cloneFrom||this,f.updates=(this.updates||[]).concat(u),f}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(u=>this.map.set(u,this.cloneFrom.map.get(u))),this.updates.forEach(u=>{switch(u.op){case"a":case"s":const f=("a"===u.op?this.map.get(u.param):void 0)||[];f.push(wp(u.value)),this.map.set(u.param,f);break;case"d":if(void 0===u.value){this.map.delete(u.param);break}{let b=this.map.get(u.param)||[];const x=b.indexOf(wp(u.value));-1!==x&&b.splice(x,1),b.length>0?this.map.set(u.param,b):this.map.delete(u.param)}}}),this.cloneFrom=this.updates=null)}}class jD{constructor(){this.map=new Map}set(u,f){return this.map.set(u,f),this}get(u){return this.map.has(u)||this.map.set(u,u.defaultValue()),this.map.get(u)}delete(u){return this.map.delete(u),this}has(u){return this.map.has(u)}keys(){return this.map.keys()}}function Cb(v){return typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer}function Mb(v){return typeof Blob<"u"&&v instanceof Blob}function wb(v){return typeof FormData<"u"&&v instanceof FormData}class tf{constructor(u,f,b,x){let $;if(this.url=f,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=u.toUpperCase(),function GD(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||x?(this.body=void 0!==b?b:null,$=x):$=b,$&&(this.reportProgress=!!$.reportProgress,this.withCredentials=!!$.withCredentials,$.responseType&&(this.responseType=$.responseType),$.headers&&(this.headers=$.headers),$.context&&(this.context=$.context),$.params&&(this.params=$.params)),this.headers||(this.headers=new kc),this.context||(this.context=new jD),this.params){const ie=this.params.toString();if(0===ie.length)this.urlWithParams=f;else{const ae=f.indexOf("?");this.urlWithParams=f+(-1===ae?"?":ae<f.length-1?"&":"")+ie}}else this.params=new q8,this.urlWithParams=f}serializeBody(){return null===this.body?null:Cb(this.body)||Mb(this.body)||wb(this.body)||function $D(v){return typeof URLSearchParams<"u"&&v instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof q8?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wb(this.body)?null:Mb(this.body)?this.body.type||null:Cb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof q8?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(u={}){const f=u.method||this.method,b=u.url||this.url,x=u.responseType||this.responseType,$=void 0!==u.body?u.body:this.body,ie=void 0!==u.withCredentials?u.withCredentials:this.withCredentials,ae=void 0!==u.reportProgress?u.reportProgress:this.reportProgress;let Me=u.headers||this.headers,Je=u.params||this.params;const At=u.context??this.context;return void 0!==u.setHeaders&&(Me=Object.keys(u.setHeaders).reduce((Ht,D1)=>Ht.set(D1,u.setHeaders[D1]),Me)),u.setParams&&(Je=Object.keys(u.setParams).reduce((Ht,D1)=>Ht.set(D1,u.setParams[D1]),Je)),new tf(f,b,$,{params:Je,headers:Me,context:At,reportProgress:ae,responseType:x,withCredentials:ie})}}var ro=(()=>((ro=ro||{})[ro.Sent=0]="Sent",ro[ro.UploadProgress=1]="UploadProgress",ro[ro.ResponseHeader=2]="ResponseHeader",ro[ro.DownloadProgress=3]="DownloadProgress",ro[ro.Response=4]="Response",ro[ro.User=5]="User",ro))();class Lv{constructor(u,f=200,b="OK"){this.headers=u.headers||new kc,this.status=void 0!==u.status?u.status:f,this.statusText=u.statusText||b,this.url=u.url||null,this.ok=this.status>=200&&this.status<300}}class Ov extends Lv{constructor(u={}){super(u),this.type=ro.ResponseHeader}clone(u={}){return new Ov({headers:u.headers||this.headers,status:void 0!==u.status?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}}class Dp extends Lv{constructor(u={}){super(u),this.type=ro.Response,this.body=void 0!==u.body?u.body:null}clone(u={}){return new Dp({body:void 0!==u.body?u.body:this.body,headers:u.headers||this.headers,status:void 0!==u.status?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}}class Db extends Lv{constructor(u){super(u,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${u.url||"(unknown url)"}`:`Http failure response for ${u.url||"(unknown url)"}: ${u.status} ${u.statusText}`,this.error=u.error||null}}function kv(v,u){return{body:u,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials}}let ZD=(()=>{class v{constructor(f){this.handler=f}request(f,b,x={}){let $;if(f instanceof tf)$=f;else{let Me,Je;Me=x.headers instanceof kc?x.headers:new kc(x.headers),x.params&&(Je=x.params instanceof q8?x.params:new q8({fromObject:x.params})),$=new tf(f,b,void 0!==x.body?x.body:null,{headers:Me,context:x.context,params:Je,reportProgress:x.reportProgress,responseType:x.responseType||"json",withCredentials:x.withCredentials})}const ie=(0,pb.of)($).pipe((0,VD.b)(Me=>this.handler.handle(Me)));if(f instanceof tf||"events"===x.observe)return ie;const ae=ie.pipe((0,Iv.h)(Me=>Me instanceof Dp));switch(x.observe||"body"){case"body":switch($.responseType){case"arraybuffer":return ae.pipe((0,Ic.U)(Me=>{if(null!==Me.body&&!(Me.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Me.body}));case"blob":return ae.pipe((0,Ic.U)(Me=>{if(null!==Me.body&&!(Me.body instanceof Blob))throw new Error("Response is not a Blob.");return Me.body}));case"text":return ae.pipe((0,Ic.U)(Me=>{if(null!==Me.body&&"string"!=typeof Me.body)throw new Error("Response is not a string.");return Me.body}));default:return ae.pipe((0,Ic.U)(Me=>Me.body))}case"response":return ae;default:throw new Error(`Unreachable: unhandled observe type ${x.observe}}`)}}delete(f,b={}){return this.request("DELETE",f,b)}get(f,b={}){return this.request("GET",f,b)}head(f,b={}){return this.request("HEAD",f,b)}jsonp(f,b){return this.request("JSONP",f,{params:(new q8).append(b,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(f,b={}){return this.request("OPTIONS",f,b)}patch(f,b,x={}){return this.request("PATCH",f,kv(x,b))}post(f,b,x={}){return this.request("POST",f,kv(x,b))}put(f,b,x={}){return this.request("PUT",f,kv(x,b))}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(yb))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})();class Eb{constructor(u,f){this.next=u,this.interceptor=f}handle(u){return this.interceptor.intercept(u,this.next)}}const Sb=new M.OlP("HTTP_INTERCEPTORS");let WD=(()=>{class v{intercept(f,b){return b.handle(f)}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})();const qD=/^\)\]\}',?\n/;let Nb=(()=>{class v{constructor(f){this.xhrFactory=f}handle(f){if("JSONP"===f.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mb.y(b=>{const x=this.xhrFactory.build();if(x.open(f.method,f.urlWithParams),f.withCredentials&&(x.withCredentials=!0),f.headers.forEach((_1,o1)=>x.setRequestHeader(_1,o1.join(","))),f.headers.has("Accept")||x.setRequestHeader("Accept","application/json, text/plain, */*"),!f.headers.has("Content-Type")){const _1=f.detectContentTypeHeader();null!==_1&&x.setRequestHeader("Content-Type",_1)}if(f.responseType){const _1=f.responseType.toLowerCase();x.responseType="json"!==_1?_1:"text"}const $=f.serializeBody();let ie=null;const ae=()=>{if(null!==ie)return ie;const _1=x.statusText||"OK",o1=new kc(x.getAllResponseHeaders()),k1=function KD(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}(x)||f.url;return ie=new Ov({headers:o1,status:x.status,statusText:_1,url:k1}),ie},Me=()=>{let{headers:_1,status:o1,statusText:k1,url:Rn}=ae(),on=null;204!==o1&&(on=typeof x.response>"u"?x.responseText:x.response),0===o1&&(o1=on?200:0);let ti=o1>=200&&o1<300;if("json"===f.responseType&&"string"==typeof on){const Ar=on;on=on.replace(qD,"");try{on=""!==on?JSON.parse(on):null}catch(Ii){on=Ar,ti&&(ti=!1,on={error:Ii,text:on})}}ti?(b.next(new Dp({body:on,headers:_1,status:o1,statusText:k1,url:Rn||void 0})),b.complete()):b.error(new Db({error:on,headers:_1,status:o1,statusText:k1,url:Rn||void 0}))},Je=_1=>{const{url:o1}=ae(),k1=new Db({error:_1,status:x.status||0,statusText:x.statusText||"Unknown Error",url:o1||void 0});b.error(k1)};let At=!1;const Ht=_1=>{At||(b.next(ae()),At=!0);let o1={type:ro.DownloadProgress,loaded:_1.loaded};_1.lengthComputable&&(o1.total=_1.total),"text"===f.responseType&&!!x.responseText&&(o1.partialText=x.responseText),b.next(o1)},D1=_1=>{let o1={type:ro.UploadProgress,loaded:_1.loaded};_1.lengthComputable&&(o1.total=_1.total),b.next(o1)};return x.addEventListener("load",Me),x.addEventListener("error",Je),x.addEventListener("timeout",Je),x.addEventListener("abort",Je),f.reportProgress&&(x.addEventListener("progress",Ht),null!==$&&x.upload&&x.upload.addEventListener("progress",D1)),x.send($),b.next({type:ro.Sent}),()=>{x.removeEventListener("error",Je),x.removeEventListener("abort",Je),x.removeEventListener("load",Me),x.removeEventListener("timeout",Je),f.reportProgress&&(x.removeEventListener("progress",Ht),null!==$&&x.upload&&x.upload.removeEventListener("progress",D1)),x.readyState!==x.DONE&&x.abort()}})}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(v4.JF))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})();const Rv=new M.OlP("XSRF_COOKIE_NAME"),Pv=new M.OlP("XSRF_HEADER_NAME");class Tb{}let YD=(()=>{class v{constructor(f,b,x){this.doc=f,this.platform=b,this.cookieName=x,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const f=this.doc.cookie||"";return f!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v4.Mx)(f,this.cookieName),this.lastCookieString=f),this.lastToken}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(v4.K0),M.LFG(M.Lbi),M.LFG(Rv))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})(),Vv=(()=>{class v{constructor(f,b){this.tokenService=f,this.headerName=b}intercept(f,b){const x=f.url.toLowerCase();if("GET"===f.method||"HEAD"===f.method||x.startsWith("http://")||x.startsWith("https://"))return b.handle(f);const $=this.tokenService.getToken();return null!==$&&!f.headers.has(this.headerName)&&(f=f.clone({headers:f.headers.set(this.headerName,$)})),b.handle(f)}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(Tb),M.LFG(Pv))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})(),JD=(()=>{class v{constructor(f,b){this.backend=f,this.injector=b,this.chain=null}handle(f){if(null===this.chain){const b=this.injector.get(Sb,[]);this.chain=b.reduceRight((x,$)=>new Eb(x,$),this.backend)}return this.chain.handle(f)}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(_b),M.LFG(M.zs3))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})(),QD=(()=>{class v{static disable(){return{ngModule:v,providers:[{provide:Vv,useClass:WD}]}}static withOptions(f={}){return{ngModule:v,providers:[f.cookieName?{provide:Rv,useValue:f.cookieName}:[],f.headerName?{provide:Pv,useValue:f.headerName}:[]]}}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=M.oAB({type:v}),v.\u0275inj=M.cJS({providers:[Vv,{provide:Sb,useExisting:Vv,multi:!0},{provide:Tb,useClass:YD},{provide:Rv,useValue:"XSRF-TOKEN"},{provide:Pv,useValue:"X-XSRF-TOKEN"}]}),v})(),XD=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=M.oAB({type:v}),v.\u0275inj=M.cJS({providers:[ZD,{provide:yb,useClass:JD},Nb,{provide:_b,useExisting:Nb}],imports:[QD.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),v})(),eE=(()=>{class v{constructor(f){this.firestore=f,this.defaultQuotes=[],this.quotesChanged=new Gd.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,Ic.U)(f=>f.map(b=>({id:b.payload.doc.id,...b.payload.doc.data()})))).subscribe(f=>{this.defaultQuotes=f,this.quotesChanged.next([...this.defaultQuotes])})}}return v.\u0275fac=function(f){return new(f||v)(M.LFG($d.ST))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})();class Ab{}const Rc="*";function Ib(v,u=null){return{type:2,steps:v,options:u}}function xb(v){return{type:6,styles:v,offset:null}}function zb(v){Promise.resolve().then(v)}class nf{constructor(u=0,f=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=u+f}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(u=>u()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(u){this._position=this.totalTime?u*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(u){const f="start"==u?this._onStartFns:this._onDoneFns;f.forEach(b=>b()),f.length=0}}class Lb{constructor(u){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=u;let f=0,b=0,x=0;const $=this.players.length;0==$?zb(()=>this._onFinish()):this.players.forEach(ie=>{ie.onDone(()=>{++f==$&&this._onFinish()}),ie.onDestroy(()=>{++b==$&&this._onDestroy()}),ie.onStart(()=>{++x==$&&this._onStart()})}),this.totalTime=this.players.reduce((ie,ae)=>Math.max(ie,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this.players.forEach(u=>u.init())}onStart(u){this._onStartFns.push(u)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(u=>u()),this._onStartFns=[])}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(u=>u.play())}pause(){this.players.forEach(u=>u.pause())}restart(){this.players.forEach(u=>u.restart())}finish(){this._onFinish(),this.players.forEach(u=>u.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(u=>u.destroy()),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this.players.forEach(u=>u.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(u){const f=u*this.totalTime;this.players.forEach(b=>{const x=b.totalTime?Math.min(1,f/b.totalTime):1;b.setPosition(x)})}getPosition(){const u=this.players.reduce((f,b)=>null===f||b.totalTime>f.totalTime?b:f,null);return null!=u?u.getPosition():0}beforeDestroy(){this.players.forEach(u=>{u.beforeDestroy&&u.beforeDestroy()})}triggerCallback(u){const f="start"==u?this._onStartFns:this._onDoneFns;f.forEach(b=>b()),f.length=0}}function Ob(v){return new M.vHH(3e3,!1)}function RE(){return typeof window<"u"&&typeof window.document<"u"}function Fv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function K8(v){switch(v.length){case 0:return new nf;case 1:return v[0];default:return new Lb(v)}}function kb(v,u,f,b,x=new Map,$=new Map){const ie=[],ae=[];let Me=-1,Je=null;if(b.forEach(At=>{const Ht=At.get("offset"),D1=Ht==Me,_1=D1&&Je||new Map;At.forEach((o1,k1)=>{let Rn=k1,on=o1;if("offset"!==k1)switch(Rn=u.normalizePropertyName(Rn,ie),on){case"!":on=x.get(k1);break;case Rc:on=$.get(k1);break;default:on=u.normalizeStyleValue(k1,Rn,on,ie)}_1.set(Rn,on)}),D1||ae.push(_1),Je=_1,Me=Ht}),ie.length)throw function DE(v){return new M.vHH(3502,!1)}();return ae}function Bv(v,u,f,b){switch(u){case"start":v.onStart(()=>b(f&&Uv(f,"start",v)));break;case"done":v.onDone(()=>b(f&&Uv(f,"done",v)));break;case"destroy":v.onDestroy(()=>b(f&&Uv(f,"destroy",v)))}}function Uv(v,u,f){const $=jv(v.element,v.triggerName,v.fromState,v.toState,u||v.phaseName,f.totalTime??v.totalTime,!!f.disabled),ie=v._data;return null!=ie&&($._data=ie),$}function jv(v,u,f,b,x="",$=0,ie){return{element:v,triggerName:u,fromState:f,toState:b,phaseName:x,totalTime:$,disabled:!!ie}}function y3(v,u,f){let b=v.get(u);return b||v.set(u,b=f),b}function Rb(v){const u=v.indexOf(":");return[v.substring(1,u),v.slice(u+1)]}let Gv=(v,u)=>!1,Pb=(v,u,f)=>[],Vb=null;function $v(v){const u=v.parentNode||v.host;return u===Vb?null:u}(Fv()||typeof Element<"u")&&(RE()?(Vb=(()=>document.documentElement)(),Gv=(v,u)=>{for(;u;){if(u===v)return!0;u=$v(u)}return!1}):Gv=(v,u)=>v.contains(u),Pb=(v,u,f)=>{if(f)return Array.from(v.querySelectorAll(u));const b=v.querySelector(u);return b?[b]:[]});let Al=null,Hb=!1;const Fb=Gv,Bb=Pb;let Ub=(()=>{class v{validateStyleProperty(f){return function VE(v){Al||(Al=function HE(){return typeof document<"u"?document.body:null}()||{},Hb=!!Al.style&&"WebkitAppearance"in Al.style);let u=!0;return Al.style&&!function PE(v){return"ebkit"==v.substring(1,6)}(v)&&(u=v in Al.style,!u&&Hb&&(u="Webkit"+v.charAt(0).toUpperCase()+v.slice(1)in Al.style)),u}(f)}matchesElement(f,b){return!1}containsElement(f,b){return Fb(f,b)}getParentElement(f){return $v(f)}query(f,b,x){return Bb(f,b,x)}computeStyle(f,b,x){return x||""}animate(f,b,x,$,ie,ae=[],Me){return new nf(x,$)}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})(),Zv=(()=>{class v{}return v.NOOP=new Ub,v})();const Wv="ng-enter",Ep="ng-leave",Sp="ng-trigger",Np=".ng-trigger",Gb="ng-animating",qv=".ng-animating";function Pc(v){if("number"==typeof v)return v;const u=v.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:Kv(parseFloat(u[1]),u[2])}function Kv(v,u){return"s"===u?1e3*v:v}function Tp(v,u,f){return v.hasOwnProperty("duration")?v:function UE(v,u,f){let x,$=0,ie="";if("string"==typeof v){const ae=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ae)return u.push(Ob()),{duration:0,delay:0,easing:""};x=Kv(parseFloat(ae[1]),ae[2]);const Me=ae[3];null!=Me&&($=Kv(parseFloat(Me),ae[4]));const Je=ae[5];Je&&(ie=Je)}else x=v;if(!f){let ae=!1,Me=u.length;x<0&&(u.push(function nE(){return new M.vHH(3100,!1)}()),ae=!0),$<0&&(u.push(function iE(){return new M.vHH(3101,!1)}()),ae=!0),ae&&u.splice(Me,0,Ob())}return{duration:x,delay:$,easing:ie}}(v,u,f)}function rf(v,u={}){return Object.keys(v).forEach(f=>{u[f]=v[f]}),u}function $b(v){const u=new Map;return Object.keys(v).forEach(f=>{u.set(f,v[f])}),u}function Y8(v,u=new Map,f){if(f)for(let[b,x]of f)u.set(b,x);for(let[b,x]of v)u.set(b,x);return u}function Wb(v,u,f){return f?u+":"+f+";":""}function qb(v){let u="";for(let f=0;f<v.style.length;f++){const b=v.style.item(f);u+=Wb(0,b,v.style.getPropertyValue(b))}for(const f in v.style)v.style.hasOwnProperty(f)&&!f.startsWith("_")&&(u+=Wb(0,ZE(f),v.style[f]));v.setAttribute("style",u)}function R0(v,u,f){v.style&&(u.forEach((b,x)=>{const $=Jv(x);f&&!f.has(x)&&f.set(x,v.style[$]),v.style[$]=b}),Fv()&&qb(v))}function Il(v,u){v.style&&(u.forEach((f,b)=>{const x=Jv(b);v.style[x]=""}),Fv()&&qb(v))}function sf(v){return Array.isArray(v)?1==v.length?v[0]:Ib(v):v}const Yv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Kb(v){let u=[];if("string"==typeof v){let f;for(;f=Yv.exec(v);)u.push(f[1]);Yv.lastIndex=0}return u}function af(v,u,f){const b=v.toString(),x=b.replace(Yv,($,ie)=>{let ae=u[ie];return null==ae&&(f.push(function sE(v){return new M.vHH(3003,!1)}()),ae=""),ae.toString()});return x==b?v:x}function Ap(v){const u=[];let f=v.next();for(;!f.done;)u.push(f.value),f=v.next();return u}const $E=/-+([a-z0-9])/g;function Jv(v){return v.replace($E,(...u)=>u[1].toUpperCase())}function ZE(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _3(v,u,f){switch(u.type){case 7:return v.visitTrigger(u,f);case 0:return v.visitState(u,f);case 1:return v.visitTransition(u,f);case 2:return v.visitSequence(u,f);case 3:return v.visitGroup(u,f);case 4:return v.visitAnimate(u,f);case 5:return v.visitKeyframes(u,f);case 6:return v.visitStyle(u,f);case 8:return v.visitReference(u,f);case 9:return v.visitAnimateChild(u,f);case 10:return v.visitAnimateRef(u,f);case 11:return v.visitQuery(u,f);case 12:return v.visitStagger(u,f);default:throw function oE(v){return new M.vHH(3004,!1)}()}}function Yb(v,u){return window.getComputedStyle(v)[u]}function QE(v,u){const f=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(b=>function XE(v,u,f){if(":"==v[0]){const Me=function eS(v,u){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(f,b)=>parseFloat(b)>parseFloat(f);case":decrement":return(f,b)=>parseFloat(b)<parseFloat(f);default:return u.push(function bE(v){return new M.vHH(3016,!1)}()),"* => *"}}(v,f);if("function"==typeof Me)return void u.push(Me);v=Me}const b=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return f.push(function _E(v){return new M.vHH(3015,!1)}()),u;const x=b[1],$=b[2],ie=b[3];u.push(Jb(x,ie));"<"==$[0]&&!("*"==x&&"*"==ie)&&u.push(Jb(ie,x))}(b,f,u)):f.push(v),f}const Lp=new Set(["true","1"]),Op=new Set(["false","0"]);function Jb(v,u){const f=Lp.has(v)||Op.has(v),b=Lp.has(u)||Op.has(u);return(x,$)=>{let ie="*"==v||v==x,ae="*"==u||u==$;return!ie&&f&&"boolean"==typeof x&&(ie=x?Lp.has(v):Op.has(v)),!ae&&b&&"boolean"==typeof $&&(ae=$?Lp.has(u):Op.has(u)),ie&&ae}}const tS=new RegExp("s*:selfs*,?","g");function Qv(v,u,f,b){return new nS(v).build(u,f,b)}class nS{constructor(u){this._driver=u}build(u,f,b){const x=new sS(f);return this._resetContextStyleTimingState(x),_3(this,sf(u),x)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,f){let b=f.queryCount=0,x=f.depCount=0;const $=[],ie=[];return"@"==u.name.charAt(0)&&f.errors.push(function cE(){return new M.vHH(3006,!1)}()),u.definitions.forEach(ae=>{if(this._resetContextStyleTimingState(f),0==ae.type){const Me=ae,Je=Me.name;Je.toString().split(/\s*,\s*/).forEach(At=>{Me.name=At,$.push(this.visitState(Me,f))}),Me.name=Je}else if(1==ae.type){const Me=this.visitTransition(ae,f);b+=Me.queryCount,x+=Me.depCount,ie.push(Me)}else f.errors.push(function lE(){return new M.vHH(3007,!1)}())}),{type:7,name:u.name,states:$,transitions:ie,queryCount:b,depCount:x,options:null}}visitState(u,f){const b=this.visitStyle(u.styles,f),x=u.options&&u.options.params||null;if(b.containsDynamicStyles){const $=new Set,ie=x||{};b.styles.forEach(ae=>{ae instanceof Map&&ae.forEach(Me=>{Kb(Me).forEach(Je=>{ie.hasOwnProperty(Je)||$.add(Je)})})}),$.size&&(Ap($.values()),f.errors.push(function uE(v,u){return new M.vHH(3008,!1)}()))}return{type:0,name:u.name,style:b,options:x?{params:x}:null}}visitTransition(u,f){f.queryCount=0,f.depCount=0;const b=_3(this,sf(u.animation),f);return{type:1,matchers:QE(u.expr,f.errors),animation:b,queryCount:f.queryCount,depCount:f.depCount,options:xl(u.options)}}visitSequence(u,f){return{type:2,steps:u.steps.map(b=>_3(this,b,f)),options:xl(u.options)}}visitGroup(u,f){const b=f.currentTime;let x=0;const $=u.steps.map(ie=>{f.currentTime=b;const ae=_3(this,ie,f);return x=Math.max(x,f.currentTime),ae});return f.currentTime=x,{type:3,steps:$,options:xl(u.options)}}visitAnimate(u,f){const b=function aS(v,u){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return Xv(Tp(v,u).duration,0,"");const f=v;if(f.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=Xv(0,0,"");return $.dynamic=!0,$.strValue=f,$}const x=Tp(f,u);return Xv(x.duration,x.delay,x.easing)}(u.timings,f.errors);f.currentAnimateTimings=b;let x,$=u.styles?u.styles:xb({});if(5==$.type)x=this.visitKeyframes($,f);else{let ie=u.styles,ae=!1;if(!ie){ae=!0;const Je={};b.easing&&(Je.easing=b.easing),ie=xb(Je)}f.currentTime+=b.duration+b.delay;const Me=this.visitStyle(ie,f);Me.isEmptyStep=ae,x=Me}return f.currentAnimateTimings=null,{type:4,timings:b,style:x,options:null}}visitStyle(u,f){const b=this._makeStyleAst(u,f);return this._validateStyleAst(b,f),b}_makeStyleAst(u,f){const b=[],x=Array.isArray(u.styles)?u.styles:[u.styles];for(let ae of x)"string"==typeof ae?ae===Rc?b.push(ae):f.errors.push(new M.vHH(3002,!1)):b.push($b(ae));let $=!1,ie=null;return b.forEach(ae=>{if(ae instanceof Map&&(ae.has("easing")&&(ie=ae.get("easing"),ae.delete("easing")),!$))for(let Me of ae.values())if(Me.toString().indexOf("{{")>=0){$=!0;break}}),{type:6,styles:b,easing:ie,offset:u.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(u,f){const b=f.currentAnimateTimings;let x=f.currentTime,$=f.currentTime;b&&$>0&&($-=b.duration+b.delay),u.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((ae,Me)=>{const Je=f.collectedStyles.get(f.currentQuerySelector),At=Je.get(Me);let Ht=!0;At&&($!=x&&$>=At.startTime&&x<=At.endTime&&(f.errors.push(function fE(v,u,f,b,x){return new M.vHH(3010,!1)}()),Ht=!1),$=At.startTime),Ht&&Je.set(Me,{startTime:$,endTime:x}),f.options&&function GE(v,u,f){const b=u.params||{},x=Kb(v);x.length&&x.forEach($=>{b.hasOwnProperty($)||f.push(function rE(v){return new M.vHH(3001,!1)}())})}(ae,f.options,f.errors)})})}visitKeyframes(u,f){const b={type:5,styles:[],options:null};if(!f.currentAnimateTimings)return f.errors.push(function hE(){return new M.vHH(3011,!1)}()),b;let $=0;const ie=[];let ae=!1,Me=!1,Je=0;const At=u.steps.map(on=>{const ti=this._makeStyleAst(on,f);let Ar=null!=ti.offset?ti.offset:function oS(v){if("string"==typeof v)return null;let u=null;if(Array.isArray(v))v.forEach(f=>{if(f instanceof Map&&f.has("offset")){const b=f;u=parseFloat(b.get("offset")),b.delete("offset")}});else if(v instanceof Map&&v.has("offset")){const f=v;u=parseFloat(f.get("offset")),f.delete("offset")}return u}(ti.styles),Ii=0;return null!=Ar&&($++,Ii=ti.offset=Ar),Me=Me||Ii<0||Ii>1,ae=ae||Ii<Je,Je=Ii,ie.push(Ii),ti});Me&&f.errors.push(function pE(){return new M.vHH(3012,!1)}()),ae&&f.errors.push(function mE(){return new M.vHH(3200,!1)}());const Ht=u.steps.length;let D1=0;$>0&&$<Ht?f.errors.push(function gE(){return new M.vHH(3202,!1)}()):0==$&&(D1=1/(Ht-1));const _1=Ht-1,o1=f.currentTime,k1=f.currentAnimateTimings,Rn=k1.duration;return At.forEach((on,ti)=>{const Ar=D1>0?ti==_1?1:D1*ti:ie[ti],Ii=Ar*Rn;f.currentTime=o1+k1.delay+Ii,k1.duration=Ii,this._validateStyleAst(on,f),on.offset=Ar,b.styles.push(on)}),b}visitReference(u,f){return{type:8,animation:_3(this,sf(u.animation),f),options:xl(u.options)}}visitAnimateChild(u,f){return f.depCount++,{type:9,options:xl(u.options)}}visitAnimateRef(u,f){return{type:10,animation:this.visitReference(u.animation,f),options:xl(u.options)}}visitQuery(u,f){const b=f.currentQuerySelector,x=u.options||{};f.queryCount++,f.currentQuery=u;const[$,ie]=function iS(v){const u=!!v.split(/\s*,\s*/).find(f=>":self"==f);return u&&(v=v.replace(tS,"")),v=v.replace(/@\*/g,Np).replace(/@\w+/g,f=>Np+"-"+f.slice(1)).replace(/:animating/g,qv),[v,u]}(u.selector);f.currentQuerySelector=b.length?b+" "+$:$,y3(f.collectedStyles,f.currentQuerySelector,new Map);const ae=_3(this,sf(u.animation),f);return f.currentQuery=null,f.currentQuerySelector=b,{type:11,selector:$,limit:x.limit||0,optional:!!x.optional,includeSelf:ie,animation:ae,originalSelector:u.selector,options:xl(u.options)}}visitStagger(u,f){f.currentQuery||f.errors.push(function vE(){return new M.vHH(3013,!1)}());const b="full"===u.timings?{duration:0,delay:0,easing:"full"}:Tp(u.timings,f.errors,!0);return{type:12,animation:_3(this,sf(u.animation),f),timings:b,options:null}}}class sS{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xl(v){return v?(v=rf(v)).params&&(v.params=function rS(v){return v?rf(v):null}(v.params)):v={},v}function Xv(v,u,f){return{duration:v,delay:u,easing:f}}function ey(v,u,f,b,x,$,ie=null,ae=!1){return{type:1,element:v,keyframes:u,preStyleProps:f,postStyleProps:b,duration:x,delay:$,totalTime:x+$,easing:ie,subTimeline:ae}}class kp{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,f){let b=this._map.get(u);b||this._map.set(u,b=[]),b.push(...f)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const uS=new RegExp(":enter","g"),fS=new RegExp(":leave","g");function ty(v,u,f,b,x,$=new Map,ie=new Map,ae,Me,Je=[]){return(new hS).buildKeyframes(v,u,f,b,x,$,ie,ae,Me,Je)}class hS{buildKeyframes(u,f,b,x,$,ie,ae,Me,Je,At=[]){Je=Je||new kp;const Ht=new ny(u,f,Je,x,$,At,[]);Ht.options=Me;const D1=Me.delay?Pc(Me.delay):0;Ht.currentTimeline.delayNextStep(D1),Ht.currentTimeline.setStyles([ie],null,Ht.errors,Me),_3(this,b,Ht);const _1=Ht.timelines.filter(o1=>o1.containsAnimation());if(_1.length&&ae.size){let o1;for(let k1=_1.length-1;k1>=0;k1--){const Rn=_1[k1];if(Rn.element===f){o1=Rn;break}}o1&&!o1.allowOnlyTimelineStyles()&&o1.setStyles([ae],null,Ht.errors,Me)}return _1.length?_1.map(o1=>o1.buildKeyframes()):[ey(f,[],[],[],0,D1,"",!1)]}visitTrigger(u,f){}visitState(u,f){}visitTransition(u,f){}visitAnimateChild(u,f){const b=f.subInstructions.get(f.element);if(b){const x=f.createSubContext(u.options),$=f.currentTimeline.currentTime,ie=this._visitSubInstructions(b,x,x.options);$!=ie&&f.transformIntoNewTimeline(ie)}f.previousNode=u}visitAnimateRef(u,f){const b=f.createSubContext(u.options);b.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],f,b),this.visitReference(u.animation,b),f.transformIntoNewTimeline(b.currentTimeline.currentTime),f.previousNode=u}_applyAnimationRefDelays(u,f,b){for(const x of u){const $=x?.delay;if($){const ie="number"==typeof $?$:Pc(af($,x?.params??{},f.errors));b.delayNextStep(ie)}}}_visitSubInstructions(u,f,b){let $=f.currentTimeline.currentTime;const ie=null!=b.duration?Pc(b.duration):null,ae=null!=b.delay?Pc(b.delay):null;return 0!==ie&&u.forEach(Me=>{const Je=f.appendInstructionToTimeline(Me,ie,ae);$=Math.max($,Je.duration+Je.delay)}),$}visitReference(u,f){f.updateOptions(u.options,!0),_3(this,u.animation,f),f.previousNode=u}visitSequence(u,f){const b=f.subContextCount;let x=f;const $=u.options;if($&&($.params||$.delay)&&(x=f.createSubContext($),x.transformIntoNewTimeline(),null!=$.delay)){6==x.previousNode.type&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Rp);const ie=Pc($.delay);x.delayNextStep(ie)}u.steps.length&&(u.steps.forEach(ie=>_3(this,ie,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>b&&x.transformIntoNewTimeline()),f.previousNode=u}visitGroup(u,f){const b=[];let x=f.currentTimeline.currentTime;const $=u.options&&u.options.delay?Pc(u.options.delay):0;u.steps.forEach(ie=>{const ae=f.createSubContext(u.options);$&&ae.delayNextStep($),_3(this,ie,ae),x=Math.max(x,ae.currentTimeline.currentTime),b.push(ae.currentTimeline)}),b.forEach(ie=>f.currentTimeline.mergeTimelineCollectedStyles(ie)),f.transformIntoNewTimeline(x),f.previousNode=u}_visitTiming(u,f){if(u.dynamic){const b=u.strValue;return Tp(f.params?af(b,f.params,f.errors):b,f.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,f){const b=f.currentAnimateTimings=this._visitTiming(u.timings,f),x=f.currentTimeline;b.delay&&(f.incrementTime(b.delay),x.snapshotCurrentStyles());const $=u.style;5==$.type?this.visitKeyframes($,f):(f.incrementTime(b.duration),this.visitStyle($,f),x.applyStylesToKeyframe()),f.currentAnimateTimings=null,f.previousNode=u}visitStyle(u,f){const b=f.currentTimeline,x=f.currentAnimateTimings;!x&&b.hasCurrentStyleProperties()&&b.forwardFrame();const $=x&&x.easing||u.easing;u.isEmptyStep?b.applyEmptyStep($):b.setStyles(u.styles,$,f.errors,f.options),f.previousNode=u}visitKeyframes(u,f){const b=f.currentAnimateTimings,x=f.currentTimeline.duration,$=b.duration,ae=f.createSubContext().currentTimeline;ae.easing=b.easing,u.styles.forEach(Me=>{ae.forwardTime((Me.offset||0)*$),ae.setStyles(Me.styles,Me.easing,f.errors,f.options),ae.applyStylesToKeyframe()}),f.currentTimeline.mergeTimelineCollectedStyles(ae),f.transformIntoNewTimeline(x+$),f.previousNode=u}visitQuery(u,f){const b=f.currentTimeline.currentTime,x=u.options||{},$=x.delay?Pc(x.delay):0;$&&(6===f.previousNode.type||0==b&&f.currentTimeline.hasCurrentStyleProperties())&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Rp);let ie=b;const ae=f.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!x.optional,f.errors);f.currentQueryTotal=ae.length;let Me=null;ae.forEach((Je,At)=>{f.currentQueryIndex=At;const Ht=f.createSubContext(u.options,Je);$&&Ht.delayNextStep($),Je===f.element&&(Me=Ht.currentTimeline),_3(this,u.animation,Ht),Ht.currentTimeline.applyStylesToKeyframe(),ie=Math.max(ie,Ht.currentTimeline.currentTime)}),f.currentQueryIndex=0,f.currentQueryTotal=0,f.transformIntoNewTimeline(ie),Me&&(f.currentTimeline.mergeTimelineCollectedStyles(Me),f.currentTimeline.snapshotCurrentStyles()),f.previousNode=u}visitStagger(u,f){const b=f.parentContext,x=f.currentTimeline,$=u.timings,ie=Math.abs($.duration),ae=ie*(f.currentQueryTotal-1);let Me=ie*f.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":Me=ae-Me;break;case"full":Me=b.currentStaggerTime}const At=f.currentTimeline;Me&&At.delayNextStep(Me);const Ht=At.currentTime;_3(this,u.animation,f),f.previousNode=u,b.currentStaggerTime=x.currentTime-Ht+(x.startTime-b.currentTimeline.startTime)}}const Rp={};class ny{constructor(u,f,b,x,$,ie,ae,Me){this._driver=u,this.element=f,this.subInstructions=b,this._enterClassName=x,this._leaveClassName=$,this.errors=ie,this.timelines=ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Me||new Pp(this._driver,f,0),ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,f){if(!u)return;const b=u;let x=this.options;null!=b.duration&&(x.duration=Pc(b.duration)),null!=b.delay&&(x.delay=Pc(b.delay));const $=b.params;if($){let ie=x.params;ie||(ie=this.options.params={}),Object.keys($).forEach(ae=>{(!f||!ie.hasOwnProperty(ae))&&(ie[ae]=af($[ae],ie,this.errors))})}}_copyOptions(){const u={};if(this.options){const f=this.options.params;if(f){const b=u.params={};Object.keys(f).forEach(x=>{b[x]=f[x]})}}return u}createSubContext(u=null,f,b){const x=f||this.element,$=new ny(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,b||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(u),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(u){return this.previousNode=Rp,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,f,b){const x={duration:f??u.duration,delay:this.currentTimeline.currentTime+(b??0)+u.delay,easing:""},$=new pS(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,x,u.stretchStartingKeyframe);return this.timelines.push($),x}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,f,b,x,$,ie){let ae=[];if(x&&ae.push(this.element),u.length>0){u=(u=u.replace(uS,"."+this._enterClassName)).replace(fS,"."+this._leaveClassName);let Je=this._driver.query(this.element,u,1!=b);0!==b&&(Je=b<0?Je.slice(Je.length+b,Je.length):Je.slice(0,b)),ae.push(...Je)}return!$&&0==ae.length&&ie.push(function yE(v){return new M.vHH(3014,!1)}()),ae}}class Pp{constructor(u,f,b,x){this._driver=u,this.element=f,this.startTime=b,this._elementTimelineStylesLookup=x,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(f),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(f,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const f=1===this._keyframes.size&&this._pendingStyles.size;this.duration||f?(this.forwardTime(this.currentTime+u),f&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,f){return this.applyStylesToKeyframe(),new Pp(this._driver,u,f||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,f){this._localTimelineStyles.set(u,f),this._globalTimelineStyles.set(u,f),this._styleSummary.set(u,{time:this.currentTime,value:f})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[f,b]of this._globalTimelineStyles)this._backFill.set(f,b||Rc),this._currentKeyframe.set(f,Rc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,f,b,x){f&&this._previousKeyframe.set("easing",f);const $=x&&x.params||{},ie=function mS(v,u){const f=new Map;let b;return v.forEach(x=>{if("*"===x){b=b||u.keys();for(let $ of b)f.set($,Rc)}else Y8(x,f)}),f}(u,this._globalTimelineStyles);for(let[ae,Me]of ie){const Je=af(Me,$,b);this._pendingStyles.set(ae,Je),this._localTimelineStyles.has(ae)||this._backFill.set(ae,this._globalTimelineStyles.get(ae)??Rc),this._updateStyle(ae,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,f)=>{this._currentKeyframe.set(f,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,f)=>{this._currentKeyframe.has(f)||this._currentKeyframe.set(f,u)}))}snapshotCurrentStyles(){for(let[u,f]of this._localTimelineStyles)this._pendingStyles.set(u,f),this._updateStyle(u,f)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let f in this._currentKeyframe)u.push(f);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((f,b)=>{const x=this._styleSummary.get(b);(!x||f.time>x.time)&&this._updateStyle(b,f.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,f=new Set,b=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((ae,Me)=>{const Je=Y8(ae,new Map,this._backFill);Je.forEach((At,Ht)=>{"!"===At?u.add(Ht):At===Rc&&f.add(Ht)}),b||Je.set("offset",Me/this.duration),x.push(Je)});const $=u.size?Ap(u.values()):[],ie=f.size?Ap(f.values()):[];if(b){const ae=x[0],Me=new Map(ae);ae.set("offset",0),Me.set("offset",1),x=[ae,Me]}return ey(this.element,x,$,ie,this.duration,this.startTime,this.easing,!1)}}class pS extends Pp{constructor(u,f,b,x,$,ie,ae=!1){super(u,f,ie.delay),this.keyframes=b,this.preStyleProps=x,this.postStyleProps=$,this._stretchStartingKeyframe=ae,this.timings={duration:ie.duration,delay:ie.delay,easing:ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:f,duration:b,easing:x}=this.timings;if(this._stretchStartingKeyframe&&f){const $=[],ie=b+f,ae=f/ie,Me=Y8(u[0]);Me.set("offset",0),$.push(Me);const Je=Y8(u[0]);Je.set("offset",eC(ae)),$.push(Je);const At=u.length-1;for(let Ht=1;Ht<=At;Ht++){let D1=Y8(u[Ht]);const _1=D1.get("offset");D1.set("offset",eC((f+_1*b)/ie)),$.push(D1)}b=ie,f=0,x="",u=$}return ey(this.element,u,this.preStyleProps,this.postStyleProps,b,f,x,!0)}}function eC(v,u=3){const f=Math.pow(10,u-1);return Math.round(v*f)/f}class iy{}const gS=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vS extends iy{normalizePropertyName(u,f){return Jv(u)}normalizeStyleValue(u,f,b,x){let $="";const ie=b.toString().trim();if(gS.has(f)&&0!==b&&"0"!==b)if("number"==typeof b)$="px";else{const ae=b.match(/^[+-]?[\d\.]+([a-z]*)$/);ae&&0==ae[1].length&&x.push(function aE(v,u){return new M.vHH(3005,!1)}())}return ie+$}}function tC(v,u,f,b,x,$,ie,ae,Me,Je,At,Ht,D1){return{type:0,element:v,triggerName:u,isRemovalTransition:x,fromState:f,fromStyles:$,toState:b,toStyles:ie,timelines:ae,queriedElements:Me,preStyleProps:Je,postStyleProps:At,totalTime:Ht,errors:D1}}const ry={};class nC{constructor(u,f,b){this._triggerName=u,this.ast=f,this._stateStyles=b}match(u,f,b,x){return function yS(v,u,f,b,x){return v.some($=>$(u,f,b,x))}(this.ast.matchers,u,f,b,x)}buildStyles(u,f,b){let x=this._stateStyles.get("*");return void 0!==u&&(x=this._stateStyles.get(u?.toString())||x),x?x.buildStyles(f,b):new Map}build(u,f,b,x,$,ie,ae,Me,Je,At){const Ht=[],D1=this.ast.options&&this.ast.options.params||ry,o1=this.buildStyles(b,ae&&ae.params||ry,Ht),k1=Me&&Me.params||ry,Rn=this.buildStyles(x,k1,Ht),on=new Set,ti=new Map,Ar=new Map,Ii="void"===x,Q3={params:_S(k1,D1),delay:this.ast.options?.delay},Eo=At?[]:ty(u,f,this.ast.animation,$,ie,o1,Rn,Q3,Je,Ht);let Po=0;if(Eo.forEach(H6=>{Po=Math.max(H6.duration+H6.delay,Po)}),Ht.length)return tC(f,this._triggerName,b,x,Ii,o1,Rn,[],[],ti,Ar,Po,Ht);Eo.forEach(H6=>{const G4=H6.element,yC=y3(ti,G4,new Set);H6.preStyleProps.forEach(zl=>yC.add(zl));const lf=y3(Ar,G4,new Set);H6.postStyleProps.forEach(zl=>lf.add(zl)),G4!==f&&on.add(G4)});const V6=Ap(on.values());return tC(f,this._triggerName,b,x,Ii,o1,Rn,Eo,V6,ti,Ar,Po)}}function _S(v,u){const f=rf(u);for(const b in v)v.hasOwnProperty(b)&&null!=v[b]&&(f[b]=v[b]);return f}class bS{constructor(u,f,b){this.styles=u,this.defaultParams=f,this.normalizer=b}buildStyles(u,f){const b=new Map,x=rf(this.defaultParams);return Object.keys(u).forEach($=>{const ie=u[$];null!==ie&&(x[$]=ie)}),this.styles.styles.forEach($=>{"string"!=typeof $&&$.forEach((ie,ae)=>{ie&&(ie=af(ie,x,f));const Me=this.normalizer.normalizePropertyName(ae,f);ie=this.normalizer.normalizeStyleValue(ae,Me,ie,f),b.set(Me,ie)})}),b}}class MS{constructor(u,f,b){this.name=u,this.ast=f,this._normalizer=b,this.transitionFactories=[],this.states=new Map,f.states.forEach(x=>{this.states.set(x.name,new bS(x.style,x.options&&x.options.params||{},b))}),iC(this.states,"true","1"),iC(this.states,"false","0"),f.transitions.forEach(x=>{this.transitionFactories.push(new nC(u,x,this.states))}),this.fallbackTransition=function wS(v,u,f){return new nC(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ie,ae)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,f,b,x){return this.transitionFactories.find(ie=>ie.match(u,f,b,x))||null}matchStyles(u,f,b){return this.fallbackTransition.buildStyles(u,f,b)}}function iC(v,u,f){v.has(u)?v.has(f)||v.set(f,v.get(u)):v.has(f)&&v.set(u,v.get(f))}const DS=new kp;class ES{constructor(u,f,b){this.bodyNode=u,this._driver=f,this._normalizer=b,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,f){const b=[],$=Qv(this._driver,f,b,[]);if(b.length)throw function EE(v){return new M.vHH(3503,!1)}();this._animations.set(u,$)}_buildPlayer(u,f,b){const x=u.element,$=kb(0,this._normalizer,0,u.keyframes,f,b);return this._driver.animate(x,$,u.duration,u.delay,u.easing,[],!0)}create(u,f,b={}){const x=[],$=this._animations.get(u);let ie;const ae=new Map;if($?(ie=ty(this._driver,f,$,Wv,Ep,new Map,new Map,b,DS,x),ie.forEach(At=>{const Ht=y3(ae,At.element,new Map);At.postStyleProps.forEach(D1=>Ht.set(D1,null))})):(x.push(function SE(){return new M.vHH(3300,!1)}()),ie=[]),x.length)throw function NE(v){return new M.vHH(3504,!1)}();ae.forEach((At,Ht)=>{At.forEach((D1,_1)=>{At.set(_1,this._driver.computeStyle(Ht,_1,Rc))})});const Je=K8(ie.map(At=>{const Ht=ae.get(At.element);return this._buildPlayer(At,new Map,Ht)}));return this._playersById.set(u,Je),Je.onDestroy(()=>this.destroy(u)),this.players.push(Je),Je}destroy(u){const f=this._getPlayer(u);f.destroy(),this._playersById.delete(u);const b=this.players.indexOf(f);b>=0&&this.players.splice(b,1)}_getPlayer(u){const f=this._playersById.get(u);if(!f)throw function TE(v){return new M.vHH(3301,!1)}();return f}listen(u,f,b,x){const $=jv(f,"","","");return Bv(this._getPlayer(u),b,$,x),()=>{}}command(u,f,b,x){if("register"==b)return void this.register(u,x[0]);if("create"==b)return void this.create(u,f,x[0]||{});const $=this._getPlayer(u);switch(b){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(u)}}}const rC="ng-animate-queued",sy="ng-animate-disabled",IS=[],sC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Y3="__ng_removed";class oy{constructor(u,f=""){this.namespaceId=f;const b=u&&u.hasOwnProperty("value");if(this.value=function kS(v){return v??null}(b?u.value:u),b){const $=rf(u);delete $.value,this.options=$}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(u){const f=u.params;if(f){const b=this.options.params;Object.keys(f).forEach(x=>{null==b[x]&&(b[x]=f[x])})}}}const cf="void",ay=new oy(cf);class zS{constructor(u,f,b){this.id=u,this.hostElement=f,this._engine=b,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,J3(f,this._hostClassName)}listen(u,f,b,x){if(!this._triggers.has(f))throw function AE(v,u){return new M.vHH(3302,!1)}();if(null==b||0==b.length)throw function IE(v){return new M.vHH(3303,!1)}();if(!function RS(v){return"start"==v||"done"==v}(b))throw function xE(v,u){return new M.vHH(3400,!1)}();const $=y3(this._elementListeners,u,[]),ie={name:f,phase:b,callback:x};$.push(ie);const ae=y3(this._engine.statesByElement,u,new Map);return ae.has(f)||(J3(u,Sp),J3(u,Sp+"-"+f),ae.set(f,ay)),()=>{this._engine.afterFlush(()=>{const Me=$.indexOf(ie);Me>=0&&$.splice(Me,1),this._triggers.has(f)||ae.delete(f)})}}register(u,f){return!this._triggers.has(u)&&(this._triggers.set(u,f),!0)}_getTrigger(u){const f=this._triggers.get(u);if(!f)throw function zE(v){return new M.vHH(3401,!1)}();return f}trigger(u,f,b,x=!0){const $=this._getTrigger(f),ie=new cy(this.id,f,u);let ae=this._engine.statesByElement.get(u);ae||(J3(u,Sp),J3(u,Sp+"-"+f),this._engine.statesByElement.set(u,ae=new Map));let Me=ae.get(f);const Je=new oy(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&Me&&Je.absorbOptions(Me.options),ae.set(f,Je),Me||(Me=ay),Je.value!==cf&&Me.value===Je.value){if(!function HS(v,u){const f=Object.keys(v),b=Object.keys(u);if(f.length!=b.length)return!1;for(let x=0;x<f.length;x++){const $=f[x];if(!u.hasOwnProperty($)||v[$]!==u[$])return!1}return!0}(Me.params,Je.params)){const k1=[],Rn=$.matchStyles(Me.value,Me.params,k1),on=$.matchStyles(Je.value,Je.params,k1);k1.length?this._engine.reportError(k1):this._engine.afterFlush(()=>{Il(u,Rn),R0(u,on)})}return}const D1=y3(this._engine.playersByElement,u,[]);D1.forEach(k1=>{k1.namespaceId==this.id&&k1.triggerName==f&&k1.queued&&k1.destroy()});let _1=$.matchTransition(Me.value,Je.value,u,Je.params),o1=!1;if(!_1){if(!x)return;_1=$.fallbackTransition,o1=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:f,transition:_1,fromState:Me,toState:Je,player:ie,isFallbackTransition:o1}),o1||(J3(u,rC),ie.onStart(()=>{Fu(u,rC)})),ie.onDone(()=>{let k1=this.players.indexOf(ie);k1>=0&&this.players.splice(k1,1);const Rn=this._engine.playersByElement.get(u);if(Rn){let on=Rn.indexOf(ie);on>=0&&Rn.splice(on,1)}}),this.players.push(ie),D1.push(ie),ie}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(f=>f.delete(u)),this._elementListeners.forEach((f,b)=>{this._elementListeners.set(b,f.filter(x=>x.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const f=this._engine.playersByElement.get(u);f&&(f.forEach(b=>b.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,f){const b=this._engine.driver.query(u,Np,!0);b.forEach(x=>{if(x[Y3])return;const $=this._engine.fetchNamespacesByElement(x);$.size?$.forEach(ie=>ie.triggerLeaveAnimation(x,f,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(u,f,b,x){const $=this._engine.statesByElement.get(u),ie=new Map;if($){const ae=[];if($.forEach((Me,Je)=>{if(ie.set(Je,Me.value),this._triggers.has(Je)){const At=this.trigger(u,Je,cf,x);At&&ae.push(At)}}),ae.length)return this._engine.markElementAsRemoved(this.id,u,!0,f,ie),b&&K8(ae).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const f=this._elementListeners.get(u),b=this._engine.statesByElement.get(u);if(f&&b){const x=new Set;f.forEach($=>{const ie=$.name;if(x.has(ie))return;x.add(ie);const Me=this._triggers.get(ie).fallbackTransition,Je=b.get(ie)||ay,At=new oy(cf),Ht=new cy(this.id,ie,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ie,transition:Me,fromState:Je,toState:At,player:Ht,isFallbackTransition:!0})})}}removeNode(u,f){const b=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,f),this.triggerLeaveAnimation(u,f,!0))return;let x=!1;if(b.totalAnimations){const $=b.players.length?b.playersByQueriedElement.get(u):[];if($&&$.length)x=!0;else{let ie=u;for(;ie=ie.parentNode;)if(b.statesByElement.get(ie)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(u),x)b.markElementAsRemoved(this.id,u,!1,f);else{const $=u[Y3];(!$||$===sC)&&(b.afterFlush(()=>this.clearElementCache(u)),b.destroyInnerAnimations(u),b._onRemovalComplete(u,f))}}insertNode(u,f){J3(u,this._hostClassName)}drainQueuedTransitions(u){const f=[];return this._queue.forEach(b=>{const x=b.player;if(x.destroyed)return;const $=b.element,ie=this._elementListeners.get($);ie&&ie.forEach(ae=>{if(ae.name==b.triggerName){const Me=jv($,b.triggerName,b.fromState.value,b.toState.value);Me._data=u,Bv(b.player,ae.phase,Me,ae.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):f.push(b)}),this._queue=[],f.sort((b,x)=>{const $=b.transition.ast.depCount,ie=x.transition.ast.depCount;return 0==$||0==ie?$-ie:this._engine.driver.containsElement(b.element,x.element)?1:-1})}destroy(u){this.players.forEach(f=>f.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}elementContainsData(u){let f=!1;return this._elementListeners.has(u)&&(f=!0),f=!!this._queue.find(b=>b.element===u)||f,f}}class LS{constructor(u,f,b){this.bodyNode=u,this.driver=f,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(x,$)=>{}}_onRemovalComplete(u,f){this.onRemovalComplete(u,f)}get queuedPlayers(){const u=[];return this._namespaceList.forEach(f=>{f.players.forEach(b=>{b.queued&&u.push(b)})}),u}createNamespace(u,f){const b=new zS(u,f,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,f)?this._balanceNamespaceList(b,f):(this.newHostElements.set(f,b),this.collectEnterElement(f)),this._namespaceLookup[u]=b}_balanceNamespaceList(u,f){const b=this._namespaceList,x=this.namespacesByHostElement;if(b.length-1>=0){let ie=!1,ae=this.driver.getParentElement(f);for(;ae;){const Me=x.get(ae);if(Me){const Je=b.indexOf(Me);b.splice(Je+1,0,u),ie=!0;break}ae=this.driver.getParentElement(ae)}ie||b.unshift(u)}else b.push(u);return x.set(f,u),u}register(u,f){let b=this._namespaceLookup[u];return b||(b=this.createNamespace(u,f)),b}registerTrigger(u,f,b){let x=this._namespaceLookup[u];x&&x.register(f,b)&&this.totalAnimations++}destroy(u,f){if(!u)return;const b=this._fetchNamespace(u);this.afterFlush(()=>{this.namespacesByHostElement.delete(b.hostElement),delete this._namespaceLookup[u];const x=this._namespaceList.indexOf(b);x>=0&&this._namespaceList.splice(x,1)}),this.afterFlushAnimationsDone(()=>b.destroy(f))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const f=new Set,b=this.statesByElement.get(u);if(b)for(let x of b.values())if(x.namespaceId){const $=this._fetchNamespace(x.namespaceId);$&&f.add($)}return f}trigger(u,f,b,x){if(Vp(f)){const $=this._fetchNamespace(u);if($)return $.trigger(f,b,x),!0}return!1}insertNode(u,f,b,x){if(!Vp(f))return;const $=f[Y3];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const ie=this.collectedLeaveElements.indexOf(f);ie>=0&&this.collectedLeaveElements.splice(ie,1)}if(u){const ie=this._fetchNamespace(u);ie&&ie.insertNode(f,b)}x&&this.collectEnterElement(f)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,f){f?this.disabledNodes.has(u)||(this.disabledNodes.add(u),J3(u,sy)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Fu(u,sy))}removeNode(u,f,b,x){if(Vp(f)){const $=u?this._fetchNamespace(u):null;if($?$.removeNode(f,x):this.markElementAsRemoved(u,f,!1,x),b){const ie=this.namespacesByHostElement.get(f);ie&&ie.id!==u&&ie.removeNode(f,x)}}else this._onRemovalComplete(f,x)}markElementAsRemoved(u,f,b,x,$){this.collectedLeaveElements.push(f),f[Y3]={namespaceId:u,setForRemoval:x,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:$}}listen(u,f,b,x,$){return Vp(f)?this._fetchNamespace(u).listen(f,b,x,$):()=>{}}_buildInstruction(u,f,b,x,$){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,b,x,u.fromState.options,u.toState.options,f,$)}destroyInnerAnimations(u){let f=this.driver.query(u,Np,!0);f.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(f=this.driver.query(u,qv,!0),f.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(u){const f=this.playersByElement.get(u);f&&f.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(u){const f=this.playersByQueriedElement.get(u);f&&f.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return K8(this.players).onDone(()=>u());u()})}processLeaveNode(u){const f=u[Y3];if(f&&f.setForRemoval){if(u[Y3]=sC,f.namespaceId){this.destroyInnerAnimations(u);const b=this._fetchNamespace(f.namespaceId);b&&b.clearElementCache(u)}this._onRemovalComplete(u,f.setForRemoval)}u.classList?.contains(sy)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(u=-1){let f=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,x)=>this._balanceNamespaceList(b,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)J3(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{f=this._flushAnimations(b,u)}finally{for(let x=0;x<b.length;x++)b[x]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],f.length?K8(f).onDone(()=>{b.forEach(x=>x())}):b.forEach(x=>x())}}reportError(u){throw function LE(v){return new M.vHH(3402,!1)}()}_flushAnimations(u,f){const b=new kp,x=[],$=new Map,ie=[],ae=new Map,Me=new Map,Je=new Map,At=new Set;this.disabledNodes.forEach(Z1=>{At.add(Z1);const hn=this.driver.query(Z1,".ng-animate-queued",!0);for(let Ln=0;Ln<hn.length;Ln++)At.add(hn[Ln])});const Ht=this.bodyNode,D1=Array.from(this.statesByElement.keys()),_1=cC(D1,this.collectedEnterElements),o1=new Map;let k1=0;_1.forEach((Z1,hn)=>{const Ln=Wv+k1++;o1.set(hn,Ln),Z1.forEach(ni=>J3(ni,Ln))});const Rn=[],on=new Set,ti=new Set;for(let Z1=0;Z1<this.collectedLeaveElements.length;Z1++){const hn=this.collectedLeaveElements[Z1],Ln=hn[Y3];Ln&&Ln.setForRemoval&&(Rn.push(hn),on.add(hn),Ln.hasAnimation?this.driver.query(hn,".ng-star-inserted",!0).forEach(ni=>on.add(ni)):ti.add(hn))}const Ar=new Map,Ii=cC(D1,Array.from(on));Ii.forEach((Z1,hn)=>{const Ln=Ep+k1++;Ar.set(hn,Ln),Z1.forEach(ni=>J3(ni,Ln))}),u.push(()=>{_1.forEach((Z1,hn)=>{const Ln=o1.get(hn);Z1.forEach(ni=>Fu(ni,Ln))}),Ii.forEach((Z1,hn)=>{const Ln=Ar.get(hn);Z1.forEach(ni=>Fu(ni,Ln))}),Rn.forEach(Z1=>{this.processLeaveNode(Z1)})});const Q3=[],Eo=[];for(let Z1=this._namespaceList.length-1;Z1>=0;Z1--)this._namespaceList[Z1].drainQueuedTransitions(f).forEach(Ln=>{const ni=Ln.player,Vo=Ln.element;if(Q3.push(ni),this.collectedEnterElements.length){const Va=Vo[Y3];if(Va&&Va.setForMove){if(Va.previousTriggersValues&&Va.previousTriggersValues.has(Ln.triggerName)){const Ll=Va.previousTriggersValues.get(Ln.triggerName),X3=this.statesByElement.get(Ln.element);if(X3&&X3.has(Ln.triggerName)){const Bp=X3.get(Ln.triggerName);Bp.value=Ll,X3.set(Ln.triggerName,Bp)}}return void ni.destroy()}}const P0=!Ht||!this.driver.containsElement(Ht,Vo),b3=Ar.get(Vo),J8=o1.get(Vo),ds=this._buildInstruction(Ln,b,J8,b3,P0);if(ds.errors&&ds.errors.length)return void Eo.push(ds);if(P0)return ni.onStart(()=>Il(Vo,ds.fromStyles)),ni.onDestroy(()=>R0(Vo,ds.toStyles)),void x.push(ni);if(Ln.isFallbackTransition)return ni.onStart(()=>Il(Vo,ds.fromStyles)),ni.onDestroy(()=>R0(Vo,ds.toStyles)),void x.push(ni);const CC=[];ds.timelines.forEach(Va=>{Va.stretchStartingKeyframe=!0,this.disabledNodes.has(Va.element)||CC.push(Va)}),ds.timelines=CC,b.append(Vo,ds.timelines),ie.push({instruction:ds,player:ni,element:Vo}),ds.queriedElements.forEach(Va=>y3(ae,Va,[]).push(ni)),ds.preStyleProps.forEach((Va,Ll)=>{if(Va.size){let X3=Me.get(Ll);X3||Me.set(Ll,X3=new Set),Va.forEach((Bp,dy)=>X3.add(dy))}}),ds.postStyleProps.forEach((Va,Ll)=>{let X3=Je.get(Ll);X3||Je.set(Ll,X3=new Set),Va.forEach((Bp,dy)=>X3.add(dy))})});if(Eo.length){const Z1=[];Eo.forEach(hn=>{Z1.push(function OE(v,u){return new M.vHH(3505,!1)}())}),Q3.forEach(hn=>hn.destroy()),this.reportError(Z1)}const Po=new Map,V6=new Map;ie.forEach(Z1=>{const hn=Z1.element;b.has(hn)&&(V6.set(hn,hn),this._beforeAnimationBuild(Z1.player.namespaceId,Z1.instruction,Po))}),x.forEach(Z1=>{const hn=Z1.element;this._getPreviousPlayers(hn,!1,Z1.namespaceId,Z1.triggerName,null).forEach(ni=>{y3(Po,hn,[]).push(ni),ni.destroy()})});const H6=Rn.filter(Z1=>uC(Z1,Me,Je)),G4=new Map;aC(G4,this.driver,ti,Je,Rc).forEach(Z1=>{uC(Z1,Me,Je)&&H6.push(Z1)});const lf=new Map;_1.forEach((Z1,hn)=>{aC(lf,this.driver,new Set(Z1),Me,"!")}),H6.forEach(Z1=>{const hn=G4.get(Z1),Ln=lf.get(Z1);G4.set(Z1,new Map([...Array.from(hn?.entries()??[]),...Array.from(Ln?.entries()??[])]))});const zl=[],_C=[],bC={};ie.forEach(Z1=>{const{element:hn,player:Ln,instruction:ni}=Z1;if(b.has(hn)){if(At.has(hn))return Ln.onDestroy(()=>R0(hn,ni.toStyles)),Ln.disabled=!0,Ln.overrideTotalTime(ni.totalTime),void x.push(Ln);let Vo=bC;if(V6.size>1){let b3=hn;const J8=[];for(;b3=b3.parentNode;){const ds=V6.get(b3);if(ds){Vo=ds;break}J8.push(b3)}J8.forEach(ds=>V6.set(ds,Vo))}const P0=this._buildAnimation(Ln.namespaceId,ni,Po,$,lf,G4);if(Ln.setRealPlayer(P0),Vo===bC)zl.push(Ln);else{const b3=this.playersByElement.get(Vo);b3&&b3.length&&(Ln.parentPlayer=K8(b3)),x.push(Ln)}}else Il(hn,ni.fromStyles),Ln.onDestroy(()=>R0(hn,ni.toStyles)),_C.push(Ln),At.has(hn)&&x.push(Ln)}),_C.forEach(Z1=>{const hn=$.get(Z1.element);if(hn&&hn.length){const Ln=K8(hn);Z1.setRealPlayer(Ln)}}),x.forEach(Z1=>{Z1.parentPlayer?Z1.syncPlayerEvents(Z1.parentPlayer):Z1.destroy()});for(let Z1=0;Z1<Rn.length;Z1++){const hn=Rn[Z1],Ln=hn[Y3];if(Fu(hn,Ep),Ln&&Ln.hasAnimation)continue;let ni=[];if(ae.size){let P0=ae.get(hn);P0&&P0.length&&ni.push(...P0);let b3=this.driver.query(hn,qv,!0);for(let J8=0;J8<b3.length;J8++){let ds=ae.get(b3[J8]);ds&&ds.length&&ni.push(...ds)}}const Vo=ni.filter(P0=>!P0.destroyed);Vo.length?PS(this,hn,Vo):this.processLeaveNode(hn)}return Rn.length=0,zl.forEach(Z1=>{this.players.push(Z1),Z1.onDone(()=>{Z1.destroy();const hn=this.players.indexOf(Z1);this.players.splice(hn,1)}),Z1.play()}),zl}elementContainsData(u,f){let b=!1;const x=f[Y3];return x&&x.setForRemoval&&(b=!0),this.playersByElement.has(f)&&(b=!0),this.playersByQueriedElement.has(f)&&(b=!0),this.statesByElement.has(f)&&(b=!0),this._fetchNamespace(u).elementContainsData(f)||b}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,f,b,x,$){let ie=[];if(f){const ae=this.playersByQueriedElement.get(u);ae&&(ie=ae)}else{const ae=this.playersByElement.get(u);if(ae){const Me=!$||$==cf;ae.forEach(Je=>{Je.queued||!Me&&Je.triggerName!=x||ie.push(Je)})}}return(b||x)&&(ie=ie.filter(ae=>!(b&&b!=ae.namespaceId||x&&x!=ae.triggerName))),ie}_beforeAnimationBuild(u,f,b){const $=f.element,ie=f.isRemovalTransition?void 0:u,ae=f.isRemovalTransition?void 0:f.triggerName;for(const Me of f.timelines){const Je=Me.element,At=Je!==$,Ht=y3(b,Je,[]);this._getPreviousPlayers(Je,At,ie,ae,f.toState).forEach(_1=>{const o1=_1.getRealPlayer();o1.beforeDestroy&&o1.beforeDestroy(),_1.destroy(),Ht.push(_1)})}Il($,f.fromStyles)}_buildAnimation(u,f,b,x,$,ie){const ae=f.triggerName,Me=f.element,Je=[],At=new Set,Ht=new Set,D1=f.timelines.map(o1=>{const k1=o1.element;At.add(k1);const Rn=k1[Y3];if(Rn&&Rn.removedBeforeQueried)return new nf(o1.duration,o1.delay);const on=k1!==Me,ti=function VS(v){const u=[];return lC(v,u),u}((b.get(k1)||IS).map(Po=>Po.getRealPlayer())).filter(Po=>!!Po.element&&Po.element===k1),Ar=$.get(k1),Ii=ie.get(k1),Q3=kb(0,this._normalizer,0,o1.keyframes,Ar,Ii),Eo=this._buildPlayer(o1,Q3,ti);if(o1.subTimeline&&x&&Ht.add(k1),on){const Po=new cy(u,ae,k1);Po.setRealPlayer(Eo),Je.push(Po)}return Eo});Je.forEach(o1=>{y3(this.playersByQueriedElement,o1.element,[]).push(o1),o1.onDone(()=>function OS(v,u,f){let b=v.get(u);if(b){if(b.length){const x=b.indexOf(f);b.splice(x,1)}0==b.length&&v.delete(u)}return b}(this.playersByQueriedElement,o1.element,o1))}),At.forEach(o1=>J3(o1,Gb));const _1=K8(D1);return _1.onDestroy(()=>{At.forEach(o1=>Fu(o1,Gb)),R0(Me,f.toStyles)}),Ht.forEach(o1=>{y3(x,o1,[]).push(_1)}),_1}_buildPlayer(u,f,b){return f.length>0?this.driver.animate(u.element,f,u.duration,u.delay,u.easing,b):new nf(u.duration,u.delay)}}class cy{constructor(u,f,b){this.namespaceId=u,this.triggerName=f,this.element=b,this._player=new nf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((f,b)=>{f.forEach(x=>Bv(u,b,void 0,x))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const f=this._player;f.triggerCallback&&u.onStart(()=>f.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,f){y3(this._queuedCallbacks,u,[]).push(f)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const f=this._player;f.triggerCallback&&f.triggerCallback(u)}}function Vp(v){return v&&1===v.nodeType}function oC(v,u){const f=v.style.display;return v.style.display=u??"none",f}function aC(v,u,f,b,x){const $=[];f.forEach(Me=>$.push(oC(Me)));const ie=[];b.forEach((Me,Je)=>{const At=new Map;Me.forEach(Ht=>{const D1=u.computeStyle(Je,Ht,x);At.set(Ht,D1),(!D1||0==D1.length)&&(Je[Y3]=xS,ie.push(Je))}),v.set(Je,At)});let ae=0;return f.forEach(Me=>oC(Me,$[ae++])),ie}function cC(v,u){const f=new Map;if(v.forEach(ae=>f.set(ae,[])),0==u.length)return f;const x=new Set(u),$=new Map;function ie(ae){if(!ae)return 1;let Me=$.get(ae);if(Me)return Me;const Je=ae.parentNode;return Me=f.has(Je)?Je:x.has(Je)?1:ie(Je),$.set(ae,Me),Me}return u.forEach(ae=>{const Me=ie(ae);1!==Me&&f.get(Me).push(ae)}),f}function J3(v,u){v.classList?.add(u)}function Fu(v,u){v.classList?.remove(u)}function PS(v,u,f){K8(f).onDone(()=>v.processLeaveNode(u))}function lC(v,u){for(let f=0;f<v.length;f++){const b=v[f];b instanceof Lb?lC(b.players,u):u.push(b)}}function uC(v,u,f){const b=f.get(v);if(!b)return!1;let x=u.get(v);return x?b.forEach($=>x.add($)):u.set(v,b),f.delete(v),!0}class Hp{constructor(u,f,b){this.bodyNode=u,this._driver=f,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(x,$)=>{},this._transitionEngine=new LS(u,f,b),this._timelineEngine=new ES(u,f,b),this._transitionEngine.onRemovalComplete=(x,$)=>this.onRemovalComplete(x,$)}registerTrigger(u,f,b,x,$){const ie=u+"-"+x;let ae=this._triggerCache[ie];if(!ae){const Me=[],At=Qv(this._driver,$,Me,[]);if(Me.length)throw function wE(v,u){return new M.vHH(3404,!1)}();ae=function CS(v,u,f){return new MS(v,u,f)}(x,At,this._normalizer),this._triggerCache[ie]=ae}this._transitionEngine.registerTrigger(f,x,ae)}register(u,f){this._transitionEngine.register(u,f)}destroy(u,f){this._transitionEngine.destroy(u,f)}onInsert(u,f,b,x){this._transitionEngine.insertNode(u,f,b,x)}onRemove(u,f,b,x){this._transitionEngine.removeNode(u,f,x||!1,b)}disableAnimations(u,f){this._transitionEngine.markElementAsDisabled(u,f)}process(u,f,b,x){if("@"==b.charAt(0)){const[$,ie]=Rb(b);this._timelineEngine.command($,f,ie,x)}else this._transitionEngine.trigger(u,f,b,x)}listen(u,f,b,x,$){if("@"==b.charAt(0)){const[ie,ae]=Rb(b);return this._timelineEngine.listen(ie,f,ae,$)}return this._transitionEngine.listen(u,f,b,x,$)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let BS=(()=>{class v{constructor(f,b,x){this._element=f,this._startStyles=b,this._endStyles=x,this._state=0;let $=v.initialStylesByElement.get(f);$||v.initialStylesByElement.set(f,$=new Map),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&R0(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(R0(this._element,this._initialStyles),this._endStyles&&(R0(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(Il(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),R0(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function ly(v){let u=null;return v.forEach((f,b)=>{(function US(v){return"display"===v||"position"===v})(b)&&(u=u||new Map,u.set(b,f))}),u}class dC{constructor(u,f,b,x){this.element=u,this.keyframes=f,this.options=b,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const f=[];return u.forEach(b=>{f.push(Object.fromEntries(b))}),f}_triggerWebAnimation(u,f,b){return u.animate(this._convertKeyframesToObject(f),b)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((b,x)=>{"offset"!==x&&u.set(x,this._finished?b:Yb(this.element,x))}),this.currentSnapshot=u}triggerCallback(u){const f="start"===u?this._onStartFns:this._onDoneFns;f.forEach(b=>b()),f.length=0}}class jS{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,f){return!1}containsElement(u,f){return Fb(u,f)}getParentElement(u){return $v(u)}query(u,f,b){return Bb(u,f,b)}computeStyle(u,f,b){return window.getComputedStyle(u)[f]}animate(u,f,b,x,$,ie=[]){const Me={duration:b,delay:x,fill:0==x?"both":"forwards"};$&&(Me.easing=$);const Je=new Map,At=ie.filter(_1=>_1 instanceof dC);(function WE(v,u){return 0===v||0===u})(b,x)&&At.forEach(_1=>{_1.currentSnapshot.forEach((o1,k1)=>Je.set(k1,o1))});let Ht=function jE(v){return v.length?v[0]instanceof Map?v:v.map(u=>$b(u)):[]}(f).map(_1=>Y8(_1));Ht=function qE(v,u,f){if(f.size&&u.length){let b=u[0],x=[];if(f.forEach(($,ie)=>{b.has(ie)||x.push(ie),b.set(ie,$)}),x.length)for(let $=1;$<u.length;$++){let ie=u[$];x.forEach(ae=>ie.set(ae,Yb(v,ae)))}}return u}(u,Ht,Je);const D1=function FS(v,u){let f=null,b=null;return Array.isArray(u)&&u.length?(f=ly(u[0]),u.length>1&&(b=ly(u[u.length-1]))):u instanceof Map&&(f=ly(u)),f||b?new BS(v,f,b):null}(u,Ht);return new dC(u,Ht,Me,D1)}}let GS=(()=>{class v extends Ab{constructor(f,b){super(),this._nextAnimationId=0,this._renderer=f.createRenderer(b.body,{id:"0",encapsulation:M.ifc.None,styles:[],data:{animation:[]}})}build(f){const b=this._nextAnimationId.toString();this._nextAnimationId++;const x=Array.isArray(f)?Ib(f):f;return fC(this._renderer,null,b,"register",[x]),new $S(b,this._renderer)}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(M.FYo),M.LFG(v4.K0))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})();class $S extends class tE{}{constructor(u,f){super(),this._id=u,this._renderer=f}create(u,f){return new ZS(this._id,u,f||{},this._renderer)}}class ZS{constructor(u,f,b,x){this.id=u,this.element=f,this._renderer=x,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(u,f){return this._renderer.listen(this.element,`@@${this.id}:${u}`,f)}_command(u,...f){return fC(this._renderer,this.element,this.id,u,f)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fC(v,u,f,b,x){return v.setProperty(u,`@@${f}:${b}`,x)}const hC="@.disabled";let WS=(()=>{class v{constructor(f,b,x){this.delegate=f,this.engine=b,this._zone=x,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),b.onRemovalComplete=($,ie)=>{const ae=ie?.parentNode($);ae&&ie.removeChild(ae,$)}}createRenderer(f,b){const $=this.delegate.createRenderer(f,b);if(!(f&&b&&b.data&&b.data.animation)){let At=this._rendererCache.get($);return At||(At=new pC("",$,this.engine,()=>this._rendererCache.delete($)),this._rendererCache.set($,At)),At}const ie=b.id,ae=b.id+"-"+this._currentId;this._currentId++,this.engine.register(ae,f);const Me=At=>{Array.isArray(At)?At.forEach(Me):this.engine.registerTrigger(ie,ae,f,At.name,At)};return b.data.animation.forEach(Me),new qS(this,ae,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(f,b,x){f>=0&&f<this._microtaskId?this._zone.run(()=>b(x)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[ie,ae]=$;ie(ae)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,x]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(M.FYo),M.LFG(Hp),M.LFG(M.R0b))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})();class pC{constructor(u,f,b,x){this.namespaceId=u,this.delegate=f,this.engine=b,this._onDestroy=x,this.destroyNode=this.delegate.destroyNode?$=>f.destroyNode($):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(u,f){return this.delegate.createElement(u,f)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,f){this.delegate.appendChild(u,f),this.engine.onInsert(this.namespaceId,f,u,!1)}insertBefore(u,f,b,x=!0){this.delegate.insertBefore(u,f,b),this.engine.onInsert(this.namespaceId,f,u,x)}removeChild(u,f,b){this.engine.onRemove(this.namespaceId,f,this.delegate,b)}selectRootElement(u,f){return this.delegate.selectRootElement(u,f)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,f,b,x){this.delegate.setAttribute(u,f,b,x)}removeAttribute(u,f,b){this.delegate.removeAttribute(u,f,b)}addClass(u,f){this.delegate.addClass(u,f)}removeClass(u,f){this.delegate.removeClass(u,f)}setStyle(u,f,b,x){this.delegate.setStyle(u,f,b,x)}removeStyle(u,f,b){this.delegate.removeStyle(u,f,b)}setProperty(u,f,b){"@"==f.charAt(0)&&f==hC?this.disableAnimations(u,!!b):this.delegate.setProperty(u,f,b)}setValue(u,f){this.delegate.setValue(u,f)}listen(u,f,b){return this.delegate.listen(u,f,b)}disableAnimations(u,f){this.engine.disableAnimations(u,f)}}class qS extends pC{constructor(u,f,b,x,$){super(f,b,x,$),this.factory=u,this.namespaceId=f}setProperty(u,f,b){"@"==f.charAt(0)?"."==f.charAt(1)&&f==hC?this.disableAnimations(u,b=void 0===b||!!b):this.engine.process(this.namespaceId,u,f.slice(1),b):this.delegate.setProperty(u,f,b)}listen(u,f,b){if("@"==f.charAt(0)){const x=function KS(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(u);let $=f.slice(1),ie="";return"@"!=$.charAt(0)&&([$,ie]=function YS(v){const u=v.indexOf(".");return[v.substring(0,u),v.slice(u+1)]}($)),this.engine.listen(this.namespaceId,x,$,ie,ae=>{this.factory.scheduleListenerCallback(ae._data||-1,b,ae)})}return this.delegate.listen(u,f,b)}}const mC=[{provide:Ab,useClass:GS},{provide:iy,useFactory:function QS(){return new vS}},{provide:Hp,useClass:(()=>{class v extends Hp{constructor(f,b,x,$){super(f.body,b,x)}ngOnDestroy(){this.flush()}}return v.\u0275fac=function(f){return new(f||v)(M.LFG(v4.K0),M.LFG(Zv),M.LFG(iy),M.LFG(M.z2F))},v.\u0275prov=M.Yz7({token:v,factory:v.\u0275fac}),v})()},{provide:M.FYo,useFactory:function XS(v,u,f){return new WS(v,u,f)},deps:[l.se,Hp,M.R0b]}],uy=[{provide:Zv,useFactory:()=>new jS},{provide:M.QbO,useValue:"BrowserAnimations"},...mC],gC=[{provide:Zv,useClass:Ub},{provide:M.QbO,useValue:"NoopAnimations"},...mC];let eN=(()=>{class v{static withConfig(f){return{ngModule:v,providers:f.disableAnimations?gC:uy}}}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=M.oAB({type:v}),v.\u0275inj=M.cJS({providers:uy,imports:[l.b2]}),v})();var vC=U(2340),tN=U(2011),nN=U(3385),iN=U(4769),rN=U(2767);function sN(){return U.e(487).then(U.t.bind(U,4487,23))}let oN=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275mod=M.oAB({type:v,bootstrap:[PD]}),v.\u0275inj=M.cJS({providers:[eE,up],imports:[l.b2,SD,Yw,XD,eN,tN.hO.initializeApp(vC.N.firebase),$d.yb,nN.ww,MD.forRoot({player:sN}),la.IJ,la.XC,B2.u5,iN.e,rN.n]}),v})();vC.N.production&&(0,M.G48)(),l.q6().bootstrapModule(oN).catch(v=>console.error(v))},1135:($t,We,U)=>{U.d(We,{X:()=>M});var l=U(7579);class M extends l.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const Te=super._subscribe(Ce);return!Te.closed&&Ce.next(this._value),Te}getValue(){const{hasError:Ce,thrownError:Te,_value:Ee}=this;if(Ce)throw Te;return this._throwIfClosed(),Ee}next(Ce){super.next(this._value=Ce)}}},9751:($t,We,U)=>{U.d(We,{y:()=>ze});var l=U(930),M=U(727),X=U(8822),Ce=U(9635),Te=U(2416),Ee=U(576),Re=U(2806);let ze=(()=>{class Ne{constructor(et){et&&(this._subscribe=et)}lift(et){const $e=new Ne;return $e.source=this,$e.operator=et,$e}subscribe(et,$e,Rt){const ut=function he(Ne){return Ne&&Ne instanceof l.Lv||function pe(Ne){return Ne&&(0,Ee.m)(Ne.next)&&(0,Ee.m)(Ne.error)&&(0,Ee.m)(Ne.complete)}(Ne)&&(0,M.Nn)(Ne)}(et)?et:new l.Hp(et,$e,Rt);return(0,Re.x)(()=>{const{operator:ot,source:He}=this;ut.add(ot?ot.call(ut,He):He?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(et){try{return this._subscribe(et)}catch($e){et.error($e)}}forEach(et,$e){return new($e=ke($e))((Rt,ut)=>{const ot=new l.Hp({next:He=>{try{et(He)}catch(Wt){ut(Wt),ot.unsubscribe()}},error:ut,complete:Rt});this.subscribe(ot)})}_subscribe(et){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(et)}[X.L](){return this}pipe(...et){return(0,Ce.U)(et)(this)}toPromise(et){return new(et=ke(et))(($e,Rt)=>{let ut;this.subscribe(ot=>ut=ot,ot=>Rt(ot),()=>$e(ut))})}}return Ne.create=st=>new Ne(st),Ne})();function ke(Ne){var st;return null!==(st=Ne??Te.v.Promise)&&void 0!==st?st:Promise}},7579:($t,We,U)=>{U.d(We,{x:()=>Re});var l=U(9751),M=U(727);const Ce=(0,U(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=U(8737),Ee=U(2806);let Re=(()=>{class ke extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Ne=new ze(this,this);return Ne.operator=he,Ne}_throwIfClosed(){if(this.closed)throw new Ce}next(he){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(he)}})}error(he){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(he)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Ne,isStopped:st,observers:et}=this;return Ne||st?M.Lc:(this.currentObservers=null,et.push(he),new M.w0(()=>{this.currentObservers=null,(0,Te.P)(et,he)}))}_checkFinalizedStatuses(he){const{hasError:Ne,thrownError:st,isStopped:et}=this;Ne?he.error(st):et&&he.complete()}asObservable(){const he=new l.y;return he.source=this,he}}return ke.create=(pe,he)=>new ze(pe,he),ke})();class ze extends Re{constructor(pe,he){super(),this.destination=pe,this.source=he}next(pe){var he,Ne;null===(Ne=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Ne||Ne.call(he,pe)}error(pe){var he,Ne;null===(Ne=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Ne||Ne.call(he,pe)}complete(){var pe,he;null===(he=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===he||he.call(pe)}_subscribe(pe){var he,Ne;return null!==(Ne=null===(he=this.source)||void 0===he?void 0:he.subscribe(pe))&&void 0!==Ne?Ne:M.Lc}}},930:($t,We,U)=>{U.d(We,{Hp:()=>Rt,Lv:()=>Ne});var l=U(576),M=U(727),X=U(2416),Ce=U(7849),Te=U(5032);const Ee=ke("C",void 0,void 0);function ke(tt,at,Ke){return{kind:tt,value:at,error:Ke}}var pe=U(3410),he=U(2806);class Ne extends M.w0{constructor(at){super(),this.isStopped=!1,at?(this.destination=at,(0,M.Nn)(at)&&at.add(this)):this.destination=Wt}static create(at,Ke,xt){return new Rt(at,Ke,xt)}next(at){this.isStopped?He(function ze(tt){return ke("N",tt,void 0)}(at),this):this._next(at)}error(at){this.isStopped?He(function Re(tt){return ke("E",void 0,tt)}(at),this):(this.isStopped=!0,this._error(at))}complete(){this.isStopped?He(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(at){this.destination.next(at)}_error(at){try{this.destination.error(at)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function et(tt,at){return st.call(tt,at)}class $e{constructor(at){this.partialObserver=at}next(at){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(at)}catch(xt){ut(xt)}}error(at){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(at)}catch(xt){ut(xt)}else ut(at)}complete(){const{partialObserver:at}=this;if(at.complete)try{at.complete()}catch(Ke){ut(Ke)}}}class Rt extends Ne{constructor(at,Ke,xt){let bt;if(super(),(0,l.m)(at)||!at)bt={next:at??void 0,error:Ke??void 0,complete:xt??void 0};else{let le;this&&X.v.useDeprecatedNextContext?(le=Object.create(at),le.unsubscribe=()=>this.unsubscribe(),bt={next:at.next&&et(at.next,le),error:at.error&&et(at.error,le),complete:at.complete&&et(at.complete,le)}):bt=at}this.destination=new $e(bt)}}function ut(tt){X.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(tt):(0,Ce.h)(tt)}function He(tt,at){const{onStoppedNotification:Ke}=X.v;Ke&&pe.z.setTimeout(()=>Ke(tt,at))}const Wt={closed:!0,next:Te.Z,error:function ot(tt){throw tt},complete:Te.Z}},727:($t,We,U)=>{U.d(We,{Lc:()=>Ee,w0:()=>Te,Nn:()=>Re});var l=U(576);const X=(0,U(3888).d)(ke=>function(he){ke(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Ne,st)=>`${st+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Ce=U(8737);class Te{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const et of he)et.remove(this);else he.remove(this);const{initialTeardown:Ne}=this;if((0,l.m)(Ne))try{Ne()}catch(et){pe=et instanceof X?et.errors:[et]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const et of st)try{ze(et)}catch($e){pe=pe??[],$e instanceof X?pe=[...pe,...$e.errors]:pe.push($e)}}if(pe)throw new X(pe)}}add(pe){var he;if(pe&&pe!==this)if(this.closed)ze(pe);else{if(pe instanceof Te){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(pe)}}_hasParent(pe){const{_parentage:he}=this;return he===pe||Array.isArray(he)&&he.includes(pe)}_addParent(pe){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(pe),he):he?[he,pe]:pe}_removeParent(pe){const{_parentage:he}=this;he===pe?this._parentage=null:Array.isArray(he)&&(0,Ce.P)(he,pe)}remove(pe){const{_finalizers:he}=this;he&&(0,Ce.P)(he,pe),pe instanceof Te&&pe._removeParent(this)}}Te.EMPTY=(()=>{const ke=new Te;return ke.closed=!0,ke})();const Ee=Te.EMPTY;function Re(ke){return ke instanceof Te||ke&&"closed"in ke&&(0,l.m)(ke.remove)&&(0,l.m)(ke.add)&&(0,l.m)(ke.unsubscribe)}function ze(ke){(0,l.m)(ke)?ke():ke.unsubscribe()}},2416:($t,We,U)=>{U.d(We,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:($t,We,U)=>{U.d(We,{a:()=>pe});var l=U(9751),M=U(4742),X=U(8996),Ce=U(4671),Te=U(3268),Ee=U(3269),Re=U(1810),ze=U(5403),ke=U(9672);function pe(...st){const et=(0,Ee.yG)(st),$e=(0,Ee.jO)(st),{args:Rt,keys:ut}=(0,M.D)(st);if(0===Rt.length)return(0,X.D)([],et);const ot=new l.y(function he(st,et,$e=Ce.y){return Rt=>{Ne(et,()=>{const{length:ut}=st,ot=new Array(ut);let He=ut,Wt=ut;for(let tt=0;tt<ut;tt++)Ne(et,()=>{const at=(0,X.D)(st[tt],et);let Ke=!1;at.subscribe((0,ze.x)(Rt,xt=>{ot[tt]=xt,Ke||(Ke=!0,Wt--),Wt||Rt.next($e(ot.slice()))},()=>{--He||Rt.complete()}))},Rt)},Rt)}}(Rt,et,ut?He=>(0,Re.n)(ut,He):Ce.y));return $e?ot.pipe((0,Te.Z)($e)):ot}function Ne(st,et,$e){st?(0,ke.f)($e,st,et):et()}},7272:($t,We,U)=>{U.d(We,{z:()=>Te});var l=U(8189),X=U(3269),Ce=U(8996);function Te(...Ee){return function M(){return(0,l.J)(1)}()((0,Ce.D)(Ee,(0,X.yG)(Ee)))}},9770:($t,We,U)=>{U.d(We,{P:()=>X});var l=U(9751),M=U(8421);function X(Ce){return new l.y(Te=>{(0,M.Xf)(Ce()).subscribe(Te)})}},515:($t,We,U)=>{U.d(We,{E:()=>M});const M=new(U(9751).y)(Te=>Te.complete())},8996:($t,We,U)=>{U.d(We,{D:()=>at});var l=U(8421),M=U(5363),X=U(9468),Ee=U(9751),ze=U(2202),ke=U(576),pe=U(9672);function Ne(Ke,xt){if(!Ke)throw new Error("Iterable cannot be null");return new Ee.y(bt=>{(0,pe.f)(bt,xt,()=>{const le=Ke[Symbol.asyncIterator]();(0,pe.f)(bt,xt,()=>{le.next().then(ct=>{ct.done?bt.complete():bt.next(ct.value)})},0,!0)})})}var st=U(3670),et=U(8239),$e=U(1144),Rt=U(6495),ut=U(2206),ot=U(4532),He=U(3260);function at(Ke,xt){return xt?function tt(Ke,xt){if(null!=Ke){if((0,st.c)(Ke))return function Ce(Ke,xt){return(0,l.Xf)(Ke).pipe((0,X.R)(xt),(0,M.Q)(xt))}(Ke,xt);if((0,$e.z)(Ke))return function Re(Ke,xt){return new Ee.y(bt=>{let le=0;return xt.schedule(function(){le===Ke.length?bt.complete():(bt.next(Ke[le++]),bt.closed||this.schedule())})})}(Ke,xt);if((0,et.t)(Ke))return function Te(Ke,xt){return(0,l.Xf)(Ke).pipe((0,X.R)(xt),(0,M.Q)(xt))}(Ke,xt);if((0,ut.D)(Ke))return Ne(Ke,xt);if((0,Rt.T)(Ke))return function he(Ke,xt){return new Ee.y(bt=>{let le;return(0,pe.f)(bt,xt,()=>{le=Ke[ze.h](),(0,pe.f)(bt,xt,()=>{let ct,ye;try{({value:ct,done:ye}=le.next())}catch(Ie){return void bt.error(Ie)}ye?bt.complete():bt.next(ct)},0,!0)}),()=>(0,ke.m)(le?.return)&&le.return()})}(Ke,xt);if((0,He.L)(Ke))return function Wt(Ke,xt){return Ne((0,He.Q)(Ke),xt)}(Ke,xt)}throw(0,ot.z)(Ke)}(Ke,xt):(0,l.Xf)(Ke)}},8421:($t,We,U)=>{U.d(We,{Xf:()=>st});var l=U(655),M=U(1144),X=U(8239),Ce=U(9751),Te=U(3670),Ee=U(2206),Re=U(4532),ze=U(6495),ke=U(3260),pe=U(576),he=U(7849),Ne=U(8822);function st(tt){if(tt instanceof Ce.y)return tt;if(null!=tt){if((0,Te.c)(tt))return function et(tt){return new Ce.y(at=>{const Ke=tt[Ne.L]();if((0,pe.m)(Ke.subscribe))return Ke.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,M.z)(tt))return function $e(tt){return new Ce.y(at=>{for(let Ke=0;Ke<tt.length&&!at.closed;Ke++)at.next(tt[Ke]);at.complete()})}(tt);if((0,X.t)(tt))return function Rt(tt){return new Ce.y(at=>{tt.then(Ke=>{at.closed||(at.next(Ke),at.complete())},Ke=>at.error(Ke)).then(null,he.h)})}(tt);if((0,Ee.D)(tt))return ot(tt);if((0,ze.T)(tt))return function ut(tt){return new Ce.y(at=>{for(const Ke of tt)if(at.next(Ke),at.closed)return;at.complete()})}(tt);if((0,ke.L)(tt))return function He(tt){return ot((0,ke.Q)(tt))}(tt)}throw(0,Re.z)(tt)}function ot(tt){return new Ce.y(at=>{(function Wt(tt,at){var Ke,xt,bt,le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ke=(0,l.KL)(tt);!(xt=yield Ke.next()).done;)if(at.next(xt.value),at.closed)return}catch(ct){bt={error:ct}}finally{try{xt&&!xt.done&&(le=Ke.return)&&(yield le.call(Ke))}finally{if(bt)throw bt.error}}at.complete()})})(tt,at).catch(Ke=>at.error(Ke))})}},6451:($t,We,U)=>{U.d(We,{T:()=>Ee});var l=U(8189),M=U(8421),X=U(515),Ce=U(3269),Te=U(8996);function Ee(...Re){const ze=(0,Ce.yG)(Re),ke=(0,Ce._6)(Re,1/0),pe=Re;return pe.length?1===pe.length?(0,M.Xf)(pe[0]):(0,l.J)(ke)((0,Te.D)(pe,ze)):X.E}},9646:($t,We,U)=>{U.d(We,{of:()=>X});var l=U(3269),M=U(8996);function X(...Ce){const Te=(0,l.yG)(Ce);return(0,M.D)(Ce,Te)}},5403:($t,We,U)=>{U.d(We,{x:()=>M});var l=U(930);function M(Ce,Te,Ee,Re,ze){return new X(Ce,Te,Ee,Re,ze)}class X extends l.Lv{constructor(Te,Ee,Re,ze,ke,pe){super(Te),this.onFinalize=ke,this.shouldUnsubscribe=pe,this._next=Ee?function(he){try{Ee(he)}catch(Ne){Te.error(Ne)}}:super._next,this._error=ze?function(he){try{ze(he)}catch(Ne){Te.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(he){Te.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4351:($t,We,U)=>{U.d(We,{b:()=>X});var l=U(5577),M=U(576);function X(Ce,Te){return(0,M.m)(Te)?(0,l.z)(Ce,Te,1):(0,l.z)(Ce,1)}},6590:($t,We,U)=>{U.d(We,{d:()=>X});var l=U(4482),M=U(5403);function X(Ce){return(0,l.e)((Te,Ee)=>{let Re=!1;Te.subscribe((0,M.x)(Ee,ze=>{Re=!0,Ee.next(ze)},()=>{Re||Ee.next(Ce),Ee.complete()}))})}},1884:($t,We,U)=>{U.d(We,{x:()=>Ce});var l=U(4671),M=U(4482),X=U(5403);function Ce(Ee,Re=l.y){return Ee=Ee??Te,(0,M.e)((ze,ke)=>{let pe,he=!0;ze.subscribe((0,X.x)(ke,Ne=>{const st=Re(Ne);(he||!Ee(pe,st))&&(he=!1,pe=st,ke.next(Ne))}))})}function Te(Ee,Re){return Ee===Re}},9300:($t,We,U)=>{U.d(We,{h:()=>X});var l=U(4482),M=U(5403);function X(Ce,Te){return(0,l.e)((Ee,Re)=>{let ze=0;Ee.subscribe((0,M.x)(Re,ke=>Ce.call(Te,ke,ze++)&&Re.next(ke)))})}},590:($t,We,U)=>{U.d(We,{P:()=>Re});var l=U(6805),M=U(9300),X=U(5698),Ce=U(6590),Te=U(8068),Ee=U(4671);function Re(ze,ke){const pe=arguments.length>=2;return he=>he.pipe(ze?(0,M.h)((Ne,st)=>ze(Ne,st,he)):Ee.y,(0,X.q)(1),pe?(0,Ce.d)(ke):(0,Te.T)(()=>new l.K))}},4004:($t,We,U)=>{U.d(We,{U:()=>X});var l=U(4482),M=U(5403);function X(Ce,Te){return(0,l.e)((Ee,Re)=>{let ze=0;Ee.subscribe((0,M.x)(Re,ke=>{Re.next(Ce.call(Te,ke,ze++))}))})}},9718:($t,We,U)=>{U.d(We,{h:()=>M});var l=U(4004);function M(X){return(0,l.U)(()=>X)}},8189:($t,We,U)=>{U.d(We,{J:()=>X});var l=U(5577),M=U(4671);function X(Ce=1/0){return(0,l.z)(M.y,Ce)}},5577:($t,We,U)=>{U.d(We,{z:()=>ze});var l=U(4004),M=U(8421),X=U(4482),Ce=U(9672),Te=U(5403),Re=U(576);function ze(ke,pe,he=1/0){return(0,Re.m)(pe)?ze((Ne,st)=>(0,l.U)((et,$e)=>pe(Ne,et,st,$e))((0,M.Xf)(ke(Ne,st))),he):("number"==typeof pe&&(he=pe),(0,X.e)((Ne,st)=>function Ee(ke,pe,he,Ne,st,et,$e,Rt){const ut=[];let ot=0,He=0,Wt=!1;const tt=()=>{Wt&&!ut.length&&!ot&&pe.complete()},at=xt=>ot<Ne?Ke(xt):ut.push(xt),Ke=xt=>{et&&pe.next(xt),ot++;let bt=!1;(0,M.Xf)(he(xt,He++)).subscribe((0,Te.x)(pe,le=>{st?.(le),et?at(le):pe.next(le)},()=>{bt=!0},void 0,()=>{if(bt)try{for(ot--;ut.length&&ot<Ne;){const le=ut.shift();$e?(0,Ce.f)(pe,$e,()=>Ke(le)):Ke(le)}tt()}catch(le){pe.error(le)}}))};return ke.subscribe((0,Te.x)(pe,at,()=>{Wt=!0,tt()})),()=>{Rt?.()}}(Ne,st,ke,he)))}},5363:($t,We,U)=>{U.d(We,{Q:()=>Ce});var l=U(9672),M=U(4482),X=U(5403);function Ce(Te,Ee=0){return(0,M.e)((Re,ze)=>{Re.subscribe((0,X.x)(ze,ke=>(0,l.f)(ze,Te,()=>ze.next(ke),Ee),()=>(0,l.f)(ze,Te,()=>ze.complete(),Ee),ke=>(0,l.f)(ze,Te,()=>ze.error(ke),Ee)))})}},5026:($t,We,U)=>{U.d(We,{R:()=>Ce});var l=U(4482),M=U(5403);function X(Te,Ee,Re,ze,ke){return(pe,he)=>{let Ne=Re,st=Ee,et=0;pe.subscribe((0,M.x)(he,$e=>{const Rt=et++;st=Ne?Te(st,$e,Rt):(Ne=!0,$e),ze&&he.next(st)},ke&&(()=>{Ne&&he.next(st),he.complete()})))}}function Ce(Te,Ee){return(0,l.e)(X(Te,Ee,arguments.length>=2,!0))}},3099:($t,We,U)=>{U.d(We,{B:()=>Te});var l=U(8421),M=U(7579),X=U(930),Ce=U(4482);function Te(Re={}){const{connector:ze=(()=>new M.x),resetOnError:ke=!0,resetOnComplete:pe=!0,resetOnRefCountZero:he=!0}=Re;return Ne=>{let st,et,$e,Rt=0,ut=!1,ot=!1;const He=()=>{et?.unsubscribe(),et=void 0},Wt=()=>{He(),st=$e=void 0,ut=ot=!1},tt=()=>{const at=st;Wt(),at?.unsubscribe()};return(0,Ce.e)((at,Ke)=>{Rt++,!ot&&!ut&&He();const xt=$e=$e??ze();Ke.add(()=>{Rt--,0===Rt&&!ot&&!ut&&(et=Ee(tt,he))}),xt.subscribe(Ke),!st&&Rt>0&&(st=new X.Hp({next:bt=>xt.next(bt),error:bt=>{ot=!0,He(),et=Ee(Wt,ke,bt),xt.error(bt)},complete:()=>{ut=!0,He(),et=Ee(Wt,pe),xt.complete()}}),(0,l.Xf)(at).subscribe(st))})(Ne)}}function Ee(Re,ze,...ke){if(!0===ze)return void Re();if(!1===ze)return;const pe=new X.Hp({next:()=>{pe.unsubscribe(),Re()}});return ze(...ke).subscribe(pe)}},3151:($t,We,U)=>{U.d(We,{d:()=>Te});var l=U(7579),M=U(6063);class X extends l.x{constructor(Re=1/0,ze=1/0,ke=M.l){super(),this._bufferSize=Re,this._windowTime=ze,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ze===1/0,this._bufferSize=Math.max(1,Re),this._windowTime=Math.max(1,ze)}next(Re){const{isStopped:ze,_buffer:ke,_infiniteTimeWindow:pe,_timestampProvider:he,_windowTime:Ne}=this;ze||(ke.push(Re),!pe&&ke.push(he.now()+Ne)),this._trimBuffer(),super.next(Re)}_subscribe(Re){this._throwIfClosed(),this._trimBuffer();const ze=this._innerSubscribe(Re),{_infiniteTimeWindow:ke,_buffer:pe}=this,he=pe.slice();for(let Ne=0;Ne<he.length&&!Re.closed;Ne+=ke?1:2)Re.next(he[Ne]);return this._checkFinalizedStatuses(Re),ze}_trimBuffer(){const{_bufferSize:Re,_timestampProvider:ze,_buffer:ke,_infiniteTimeWindow:pe}=this,he=(pe?1:2)*Re;if(Re<1/0&&he<ke.length&&ke.splice(0,ke.length-he),!pe){const Ne=ze.now();let st=0;for(let et=1;et<ke.length&&ke[et]<=Ne;et+=2)st=et;st&&ke.splice(0,st+1)}}}var Ce=U(3099);function Te(Ee,Re,ze){let ke,pe=!1;return Ee&&"object"==typeof Ee?({bufferSize:ke=1/0,windowTime:Re=1/0,refCount:pe=!1,scheduler:ze}=Ee):ke=Ee??1/0,(0,Ce.B)({connector:()=>new X(ke,Re,ze),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:pe})}},8675:($t,We,U)=>{U.d(We,{O:()=>Ce});var l=U(7272),M=U(3269),X=U(4482);function Ce(...Te){const Ee=(0,M.yG)(Te);return(0,X.e)((Re,ze)=>{(Ee?(0,l.z)(Te,Re,Ee):(0,l.z)(Te,Re)).subscribe(ze)})}},9468:($t,We,U)=>{U.d(We,{R:()=>M});var l=U(4482);function M(X,Ce=0){return(0,l.e)((Te,Ee)=>{Ee.add(X.schedule(()=>Te.subscribe(Ee),Ce))})}},3900:($t,We,U)=>{U.d(We,{w:()=>Ce});var l=U(8421),M=U(4482),X=U(5403);function Ce(Te,Ee){return(0,M.e)((Re,ze)=>{let ke=null,pe=0,he=!1;const Ne=()=>he&&!ke&&ze.complete();Re.subscribe((0,X.x)(ze,st=>{ke?.unsubscribe();let et=0;const $e=pe++;(0,l.Xf)(Te(st,$e)).subscribe(ke=(0,X.x)(ze,Rt=>ze.next(Ee?Ee(st,Rt,$e,et++):Rt),()=>{ke=null,Ne()}))},()=>{he=!0,Ne()}))})}},5698:($t,We,U)=>{U.d(We,{q:()=>Ce});var l=U(515),M=U(4482),X=U(5403);function Ce(Te){return Te<=0?()=>l.E:(0,M.e)((Ee,Re)=>{let ze=0;Ee.subscribe((0,X.x)(Re,ke=>{++ze<=Te&&(Re.next(ke),Te<=ze&&Re.complete())}))})}},2722:($t,We,U)=>{U.d(We,{R:()=>Te});var l=U(4482),M=U(5403),X=U(8421),Ce=U(5032);function Te(Ee){return(0,l.e)((Re,ze)=>{(0,X.Xf)(Ee).subscribe((0,M.x)(ze,()=>ze.complete(),Ce.Z)),!ze.closed&&Re.subscribe(ze)})}},8505:($t,We,U)=>{U.d(We,{b:()=>Te});var l=U(576),M=U(4482),X=U(5403),Ce=U(4671);function Te(Ee,Re,ze){const ke=(0,l.m)(Ee)||Re||ze?{next:Ee,error:Re,complete:ze}:Ee;return ke?(0,M.e)((pe,he)=>{var Ne;null===(Ne=ke.subscribe)||void 0===Ne||Ne.call(ke);let st=!0;pe.subscribe((0,X.x)(he,et=>{var $e;null===($e=ke.next)||void 0===$e||$e.call(ke,et),he.next(et)},()=>{var et;st=!1,null===(et=ke.complete)||void 0===et||et.call(ke),he.complete()},et=>{var $e;st=!1,null===($e=ke.error)||void 0===$e||$e.call(ke,et),he.error(et)},()=>{var et,$e;st&&(null===(et=ke.unsubscribe)||void 0===et||et.call(ke)),null===($e=ke.finalize)||void 0===$e||$e.call(ke)}))}):Ce.y}},8068:($t,We,U)=>{U.d(We,{T:()=>Ce});var l=U(6805),M=U(4482),X=U(5403);function Ce(Ee=Te){return(0,M.e)((Re,ze)=>{let ke=!1;Re.subscribe((0,X.x)(ze,pe=>{ke=!0,ze.next(pe)},()=>ke?ze.complete():ze.error(Ee())))})}function Te(){return new l.K}},4408:($t,We,U)=>{U.d(We,{o:()=>Te});var l=U(727);class M extends l.w0{constructor(Re,ze){super()}schedule(Re,ze=0){return this}}const X={setInterval(Ee,Re,...ze){const{delegate:ke}=X;return ke?.setInterval?ke.setInterval(Ee,Re,...ze):setInterval(Ee,Re,...ze)},clearInterval(Ee){const{delegate:Re}=X;return(Re?.clearInterval||clearInterval)(Ee)},delegate:void 0};var Ce=U(8737);class Te extends M{constructor(Re,ze){super(Re,ze),this.scheduler=Re,this.work=ze,this.pending=!1}schedule(Re,ze=0){var ke;if(this.closed)return this;this.state=Re;const pe=this.id,he=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(he,pe,ze)),this.pending=!0,this.delay=ze,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(he,this.id,ze),this}requestAsyncId(Re,ze,ke=0){return X.setInterval(Re.flush.bind(Re,this),ke)}recycleAsyncId(Re,ze,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return ze;null!=ze&&X.clearInterval(ze)}execute(Re,ze){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Re,ze);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,ze){let pe,ke=!1;try{this.work(Re)}catch(he){ke=!0,pe=he||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:Re,scheduler:ze}=this,{actions:ke}=ze;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(ke,this),null!=Re&&(this.id=this.recycleAsyncId(ze,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:($t,We,U)=>{U.d(We,{v:()=>X});var l=U(6063);class M{constructor(Te,Ee=M.now){this.schedulerActionCtor=Te,this.now=Ee}schedule(Te,Ee=0,Re){return new this.schedulerActionCtor(this,Te).schedule(Re,Ee)}}M.now=l.l.now;class X extends M{constructor(Te,Ee=M.now){super(Te,Ee),this.actions=[],this._active=!1}flush(Te){const{actions:Ee}=this;if(this._active)return void Ee.push(Te);let Re;this._active=!0;do{if(Re=Te.execute(Te.state,Te.delay))break}while(Te=Ee.shift());if(this._active=!1,Re){for(;Te=Ee.shift();)Te.unsubscribe();throw Re}}}},4986:($t,We,U)=>{U.d(We,{P:()=>Ce,z:()=>X});var l=U(4408);const X=new(U(7565).v)(l.o),Ce=X},6063:($t,We,U)=>{U.d(We,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:($t,We,U)=>{U.d(We,{z:()=>l});const l={setTimeout(M,X,...Ce){const{delegate:Te}=l;return Te?.setTimeout?Te.setTimeout(M,X,...Ce):setTimeout(M,X,...Ce)},clearTimeout(M){const{delegate:X}=l;return(X?.clearTimeout||clearTimeout)(M)},delegate:void 0}},2202:($t,We,U)=>{U.d(We,{h:()=>M});const M=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($t,We,U)=>{U.d(We,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:($t,We,U)=>{U.d(We,{K:()=>M});const M=(0,U(3888).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:($t,We,U)=>{U.d(We,{_6:()=>Ee,jO:()=>Ce,yG:()=>Te});var l=U(576),M=U(3532);function X(Re){return Re[Re.length-1]}function Ce(Re){return(0,l.m)(X(Re))?Re.pop():void 0}function Te(Re){return(0,M.K)(X(Re))?Re.pop():void 0}function Ee(Re,ze){return"number"==typeof X(Re)?Re.pop():ze}},4742:($t,We,U)=>{U.d(We,{D:()=>Te});const{isArray:l}=Array,{getPrototypeOf:M,prototype:X,keys:Ce}=Object;function Te(Re){if(1===Re.length){const ze=Re[0];if(l(ze))return{args:ze,keys:null};if(function Ee(Re){return Re&&"object"==typeof Re&&M(Re)===X}(ze)){const ke=Ce(ze);return{args:ke.map(pe=>ze[pe]),keys:ke}}}return{args:Re,keys:null}}},8737:($t,We,U)=>{function l(M,X){if(M){const Ce=M.indexOf(X);0<=Ce&&M.splice(Ce,1)}}U.d(We,{P:()=>l})},3888:($t,We,U)=>{function l(M){const Ce=M(Te=>{Error.call(Te),Te.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}U.d(We,{d:()=>l})},1810:($t,We,U)=>{function l(M,X){return M.reduce((Ce,Te,Ee)=>(Ce[Te]=X[Ee],Ce),{})}U.d(We,{n:()=>l})},2806:($t,We,U)=>{U.d(We,{O:()=>Ce,x:()=>X});var l=U(2416);let M=null;function X(Te){if(l.v.useDeprecatedSynchronousErrorHandling){const Ee=!M;if(Ee&&(M={errorThrown:!1,error:null}),Te(),Ee){const{errorThrown:Re,error:ze}=M;if(M=null,Re)throw ze}}else Te()}function Ce(Te){l.v.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=Te)}},9672:($t,We,U)=>{function l(M,X,Ce,Te=0,Ee=!1){const Re=X.schedule(function(){Ce(),Ee?M.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(M.add(Re),!Ee)return Re}U.d(We,{f:()=>l})},4671:($t,We,U)=>{function l(M){return M}U.d(We,{y:()=>l})},1144:($t,We,U)=>{U.d(We,{z:()=>l});const l=M=>M&&"number"==typeof M.length&&"function"!=typeof M},2206:($t,We,U)=>{U.d(We,{D:()=>M});var l=U(576);function M(X){return Symbol.asyncIterator&&(0,l.m)(X?.[Symbol.asyncIterator])}},576:($t,We,U)=>{function l(M){return"function"==typeof M}U.d(We,{m:()=>l})},3670:($t,We,U)=>{U.d(We,{c:()=>X});var l=U(8822),M=U(576);function X(Ce){return(0,M.m)(Ce[l.L])}},6495:($t,We,U)=>{U.d(We,{T:()=>X});var l=U(2202),M=U(576);function X(Ce){return(0,M.m)(Ce?.[l.h])}},8239:($t,We,U)=>{U.d(We,{t:()=>M});var l=U(576);function M(X){return(0,l.m)(X?.then)}},3260:($t,We,U)=>{U.d(We,{L:()=>Ce,Q:()=>X});var l=U(655),M=U(576);function X(Te){return(0,l.FC)(this,arguments,function*(){const Re=Te.getReader();try{for(;;){const{value:ze,done:ke}=yield(0,l.qq)(Re.read());if(ke)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ze)}}finally{Re.releaseLock()}})}function Ce(Te){return(0,M.m)(Te?.getReader)}},3532:($t,We,U)=>{U.d(We,{K:()=>M});var l=U(576);function M(X){return X&&(0,l.m)(X.schedule)}},4482:($t,We,U)=>{U.d(We,{A:()=>M,e:()=>X});var l=U(576);function M(Ce){return(0,l.m)(Ce?.lift)}function X(Ce){return Te=>{if(M(Te))return Te.lift(function(Ee){try{return Ce(Ee,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:($t,We,U)=>{U.d(We,{Z:()=>Ce});var l=U(4004);const{isArray:M}=Array;function Ce(Te){return(0,l.U)(Ee=>function X(Te,Ee){return M(Ee)?Te(...Ee):Te(Ee)}(Te,Ee))}},5032:($t,We,U)=>{function l(){}U.d(We,{Z:()=>l})},9635:($t,We,U)=>{U.d(We,{U:()=>X,z:()=>M});var l=U(4671);function M(...Ce){return X(Ce)}function X(Ce){return 0===Ce.length?l.y:1===Ce.length?Ce[0]:function(Ee){return Ce.reduce((Re,ze)=>ze(Re),Ee)}}},7849:($t,We,U)=>{U.d(We,{h:()=>X});var l=U(2416),M=U(3410);function X(Ce){M.z.setTimeout(()=>{const{onUnhandledError:Te}=l.v;if(!Te)throw Ce;Te(Ce)})}},4532:($t,We,U)=>{function l(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(We,{z:()=>l})},655:($t,We,U)=>{function Ce(ye,Ie){var Ye={};for(var Pe in ye)Object.prototype.hasOwnProperty.call(ye,Pe)&&Ie.indexOf(Pe)<0&&(Ye[Pe]=ye[Pe]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var Mt=0;for(Pe=Object.getOwnPropertySymbols(ye);Mt<Pe.length;Mt++)Ie.indexOf(Pe[Mt])<0&&Object.prototype.propertyIsEnumerable.call(ye,Pe[Mt])&&(Ye[Pe[Mt]]=ye[Pe[Mt]])}return Ye}function ze(ye,Ie,Ye,Pe){return new(Ye||(Ye=Promise))(function(wt,a1){function j1(b1){try{Nt(Pe.next(b1))}catch(p1){a1(p1)}}function N1(b1){try{Nt(Pe.throw(b1))}catch(p1){a1(p1)}}function Nt(b1){b1.done?wt(b1.value):function Mt(wt){return wt instanceof Ye?wt:new Ye(function(a1){a1(wt)})}(b1.value).then(j1,N1)}Nt((Pe=Pe.apply(ye,Ie||[])).next())})}function ut(ye){return this instanceof ut?(this.v=ye,this):new ut(ye)}function ot(ye,Ie,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mt,Pe=Ye.apply(ye,Ie||[]),wt=[];return Mt={},a1("next"),a1("throw"),a1("return"),Mt[Symbol.asyncIterator]=function(){return this},Mt;function a1(m1){Pe[m1]&&(Mt[m1]=function(f1){return new Promise(function(n2,Pt){wt.push([m1,f1,n2,Pt])>1||j1(m1,f1)})})}function j1(m1,f1){try{!function N1(m1){m1.value instanceof ut?Promise.resolve(m1.value.v).then(Nt,b1):p1(wt[0][2],m1)}(Pe[m1](f1))}catch(n2){p1(wt[0][3],n2)}}function Nt(m1){j1("next",m1)}function b1(m1){j1("throw",m1)}function p1(m1,f1){m1(f1),wt.shift(),wt.length&&j1(wt[0][0],wt[0][1])}}function Wt(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Ie=ye[Symbol.asyncIterator];return Ie?Ie.call(ye):(ye=function Ne(ye){var Ie="function"==typeof Symbol&&Symbol.iterator,Ye=Ie&&ye[Ie],Pe=0;if(Ye)return Ye.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Pe>=ye.length&&(ye=void 0),{value:ye&&ye[Pe++],done:!ye}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),Ye={},Pe("next"),Pe("throw"),Pe("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function Pe(wt){Ye[wt]=ye[wt]&&function(a1){return new Promise(function(j1,N1){!function Mt(wt,a1,j1,N1){Promise.resolve(N1).then(function(Nt){wt({value:Nt,done:j1})},a1)}(j1,N1,(a1=ye[wt](a1)).done,a1.value)})}}}U.d(We,{FC:()=>ot,KL:()=>Wt,_T:()=>Ce,mG:()=>ze,qq:()=>ut})},6895:($t,We,U)=>{U.d(We,{Do:()=>Wt,EM:()=>Yr,HT:()=>Te,JF:()=>Zs,K0:()=>Re,Mx:()=>ji,NF:()=>oo,O5:()=>Vn,Ov:()=>Ft,PC:()=>so,PM:()=>o2,S$:()=>ut,V_:()=>pe,Ye:()=>tt,b0:()=>He,bD:()=>ar,ez:()=>or,mk:()=>kn,q:()=>X,sg:()=>di,tP:()=>$2,uU:()=>zr,w_:()=>Ee});var l=U(4650);let M=null;function X(){return M}function Te(R){M||(M=R)}class Ee{}const Re=new l.OlP("DocumentToken");let ze=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=l.Yz7({token:R,factory:function(){return function ke(){return(0,l.LFG)(he)}()},providedIn:"platform"}),R})();const pe=new l.OlP("Location Initialized");let he=(()=>{class R extends ze{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(F){const ne=X().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",F,!1),()=>ne.removeEventListener("popstate",F)}onHashChange(F){const ne=X().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",F,!1),()=>ne.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,ne,De){Ne()?this._history.pushState(F,ne,De):this.location.hash=De}replaceState(F,ne,De){Ne()?this._history.replaceState(F,ne,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return R.\u0275fac=function(F){return new(F||R)(l.LFG(Re))},R.\u0275prov=l.Yz7({token:R,factory:function(){return function st(){return new he((0,l.LFG)(Re))}()},providedIn:"platform"}),R})();function Ne(){return!!window.history.pushState}function et(R,J){if(0==R.length)return J;if(0==J.length)return R;let F=0;return R.endsWith("/")&&F++,J.startsWith("/")&&F++,2==F?R+J.substring(1):1==F?R+J:R+"/"+J}function $e(R){const J=R.match(/#|\?|$/),F=J&&J.index||R.length;return R.slice(0,F-("/"===R[F-1]?1:0))+R.slice(F)}function Rt(R){return R&&"?"!==R[0]?"?"+R:R}let ut=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=l.Yz7({token:R,factory:function(){return(0,l.f3M)(He)},providedIn:"root"}),R})();const ot=new l.OlP("appBaseHref");let He=(()=>{class R extends ut{constructor(F,ne){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=ne??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return et(this._baseHref,F)}path(F=!1){const ne=this._platformLocation.pathname+Rt(this._platformLocation.search),De=this._platformLocation.hash;return De&&F?`${ne}${De}`:ne}pushState(F,ne,De,Xe){const mt=this.prepareExternalUrl(De+Rt(Xe));this._platformLocation.pushState(F,ne,mt)}replaceState(F,ne,De,Xe){const mt=this.prepareExternalUrl(De+Rt(Xe));this._platformLocation.replaceState(F,ne,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return R.\u0275fac=function(F){return new(F||R)(l.LFG(ze),l.LFG(ot,8))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Wt=(()=>{class R extends ut{constructor(F,ne){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ne=this._platformLocation.hash;return null==ne&&(ne="#"),ne.length>0?ne.substring(1):ne}prepareExternalUrl(F){const ne=et(this._baseHref,F);return ne.length>0?"#"+ne:ne}pushState(F,ne,De,Xe){let mt=this.prepareExternalUrl(De+Rt(Xe));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(F,ne,mt)}replaceState(F,ne,De,Xe){let mt=this.prepareExternalUrl(De+Rt(Xe));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(F,ne,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return R.\u0275fac=function(F){return new(F||R)(l.LFG(ze),l.LFG(ot,8))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac}),R})(),tt=(()=>{class R{constructor(F){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const ne=this._locationStrategy.getBaseHref();this._baseHref=$e(xt(ne)),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,ne=""){return this.path()==this.normalize(F+Rt(ne))}normalize(F){return R.stripTrailingSlash(function Ke(R,J){return R&&J.startsWith(R)?J.substring(R.length):J}(this._baseHref,xt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,ne="",De=null){this._locationStrategy.pushState(De,"",F,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Rt(ne)),De)}replaceState(F,ne="",De=null){this._locationStrategy.replaceState(De,"",F,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Rt(ne)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ne=>{this._notifyUrlChangeListeners(ne.url,ne.state)})),()=>{const ne=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(ne,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",ne){this._urlChangeListeners.forEach(De=>De(F,ne))}subscribe(F,ne,De){return this._subject.subscribe({next:F,error:ne,complete:De})}}return R.normalizeQueryParams=Rt,R.joinWithSlash=et,R.stripTrailingSlash=$e,R.\u0275fac=function(F){return new(F||R)(l.LFG(ut))},R.\u0275prov=l.Yz7({token:R,factory:function(){return function at(){return new tt((0,l.LFG)(ut))}()},providedIn:"root"}),R})();function xt(R){return R.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Format=0]="Format",ye[ye.Standalone=1]="Standalone",ye))(),Ie=(()=>((Ie=Ie||{})[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie))(),Ye=(()=>((Ye=Ye||{})[Ye.Short=0]="Short",Ye[Ye.Medium=1]="Medium",Ye[Ye.Long=2]="Long",Ye[Ye.Full=3]="Full",Ye))(),Pe=(()=>((Pe=Pe||{})[Pe.Decimal=0]="Decimal",Pe[Pe.Group=1]="Group",Pe[Pe.List=2]="List",Pe[Pe.PercentSign=3]="PercentSign",Pe[Pe.PlusSign=4]="PlusSign",Pe[Pe.MinusSign=5]="MinusSign",Pe[Pe.Exponential=6]="Exponential",Pe[Pe.SuperscriptingExponent=7]="SuperscriptingExponent",Pe[Pe.PerMille=8]="PerMille",Pe[Pe.Infinity=9]="Infinity",Pe[Pe.NaN=10]="NaN",Pe[Pe.TimeSeparator=11]="TimeSeparator",Pe[Pe.CurrencyDecimal=12]="CurrencyDecimal",Pe[Pe.CurrencyGroup=13]="CurrencyGroup",Pe))();function m1(R,J){return Vt((0,l.cg1)(R)[l.wAp.DateFormat],J)}function f1(R,J){return Vt((0,l.cg1)(R)[l.wAp.TimeFormat],J)}function n2(R,J){return Vt((0,l.cg1)(R)[l.wAp.DateTimeFormat],J)}function Pt(R,J){const F=(0,l.cg1)(R),ne=F[l.wAp.NumberSymbols][J];if(typeof ne>"u"){if(J===Pe.CurrencyDecimal)return F[l.wAp.NumberSymbols][Pe.Decimal];if(J===Pe.CurrencyGroup)return F[l.wAp.NumberSymbols][Pe.Group]}return ne}function c2(R){if(!R[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vt(R,J){for(let F=J;F>-1;F--)if(typeof R[F]<"u")return R[F];throw new Error("Locale data API: locale data undefined")}function mn(R){const[J,F]=R.split(":");return{hours:+J,minutes:+F}}const Ci=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ln={},sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var W1=(()=>((W1=W1||{})[W1.Short=0]="Short",W1[W1.ShortGMT=1]="ShortGMT",W1[W1.Long=2]="Long",W1[W1.Extended=3]="Extended",W1))(),Jt=(()=>((Jt=Jt||{})[Jt.FullYear=0]="FullYear",Jt[Jt.Month=1]="Month",Jt[Jt.Date=2]="Date",Jt[Jt.Hours=3]="Hours",Jt[Jt.Minutes=4]="Minutes",Jt[Jt.Seconds=5]="Seconds",Jt[Jt.FractionalSeconds=6]="FractionalSeconds",Jt[Jt.Day=7]="Day",Jt))(),t1=(()=>((t1=t1||{})[t1.DayPeriods=0]="DayPeriods",t1[t1.Days=1]="Days",t1[t1.Months=2]="Months",t1[t1.Eras=3]="Eras",t1))();function an(R,J,F,ne){let De=function jt(R){if(G1(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[De,Xe=1,mt=1]=R.split("-").map(r1=>+r1);return bn(De,Xe-1,mt)}const F=parseFloat(R);if(!isNaN(R-F))return new Date(F);let ne;if(ne=R.match(Ci))return function e1(R){const J=new Date(0);let F=0,ne=0;const De=R[8]?J.setUTCFullYear:J.setFullYear,Xe=R[8]?J.setUTCHours:J.setHours;R[9]&&(F=Number(R[9]+R[10]),ne=Number(R[9]+R[11])),De.call(J,Number(R[1]),Number(R[2])-1,Number(R[3]));const mt=Number(R[4]||0)-F,r1=Number(R[5]||0)-ne,xn=Number(R[6]||0),jn=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Xe.call(J,mt,r1,xn,jn),J}(ne)}const J=new Date(R);if(!G1(J))throw new Error(`Unable to convert "${R}" into a date`);return J}(R);J=J1(F,J)||J;let r1,mt=[];for(;J;){if(r1=sn.exec(J),!r1){mt.push(J);break}{mt=mt.concat(r1.slice(1));const Gn=mt.pop();if(!Gn)break;J=Gn}}let xn=De.getTimezoneOffset();ne&&(xn=xe(ne,xn),De=function Ue(R,J,F){const ne=F?-1:1,De=R.getTimezoneOffset();return function pt(R,J){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+J),R}(R,ne*(xe(J,De)-De))}(De,ne,!0));let jn="";return mt.forEach(Gn=>{const vn=function _e(R){if(Se[R])return Se[R];let J;switch(R){case"G":case"GG":case"GGG":J=Cn(t1.Eras,Ie.Abbreviated);break;case"GGGG":J=Cn(t1.Eras,Ie.Wide);break;case"GGGGG":J=Cn(t1.Eras,Ie.Narrow);break;case"y":J=Q1(Jt.FullYear,1,0,!1,!0);break;case"yy":J=Q1(Jt.FullYear,2,0,!0,!0);break;case"yyy":J=Q1(Jt.FullYear,3,0,!1,!0);break;case"yyyy":J=Q1(Jt.FullYear,4,0,!1,!0);break;case"Y":J=z1(1);break;case"YY":J=z1(2,!0);break;case"YYY":J=z1(3);break;case"YYYY":J=z1(4);break;case"M":case"L":J=Q1(Jt.Month,1,1);break;case"MM":case"LL":J=Q1(Jt.Month,2,1);break;case"MMM":J=Cn(t1.Months,Ie.Abbreviated);break;case"MMMM":J=Cn(t1.Months,Ie.Wide);break;case"MMMMM":J=Cn(t1.Months,Ie.Narrow);break;case"LLL":J=Cn(t1.Months,Ie.Abbreviated,ye.Standalone);break;case"LLLL":J=Cn(t1.Months,Ie.Wide,ye.Standalone);break;case"LLLLL":J=Cn(t1.Months,Ie.Narrow,ye.Standalone);break;case"w":J=I1(1);break;case"ww":J=I1(2);break;case"W":J=I1(1,!0);break;case"d":J=Q1(Jt.Date,1);break;case"dd":J=Q1(Jt.Date,2);break;case"c":case"cc":J=Q1(Jt.Day,1);break;case"ccc":J=Cn(t1.Days,Ie.Abbreviated,ye.Standalone);break;case"cccc":J=Cn(t1.Days,Ie.Wide,ye.Standalone);break;case"ccccc":J=Cn(t1.Days,Ie.Narrow,ye.Standalone);break;case"cccccc":J=Cn(t1.Days,Ie.Short,ye.Standalone);break;case"E":case"EE":case"EEE":J=Cn(t1.Days,Ie.Abbreviated);break;case"EEEE":J=Cn(t1.Days,Ie.Wide);break;case"EEEEE":J=Cn(t1.Days,Ie.Narrow);break;case"EEEEEE":J=Cn(t1.Days,Ie.Short);break;case"a":case"aa":case"aaa":J=Cn(t1.DayPeriods,Ie.Abbreviated);break;case"aaaa":J=Cn(t1.DayPeriods,Ie.Wide);break;case"aaaaa":J=Cn(t1.DayPeriods,Ie.Narrow);break;case"b":case"bb":case"bbb":J=Cn(t1.DayPeriods,Ie.Abbreviated,ye.Standalone,!0);break;case"bbbb":J=Cn(t1.DayPeriods,Ie.Wide,ye.Standalone,!0);break;case"bbbbb":J=Cn(t1.DayPeriods,Ie.Narrow,ye.Standalone,!0);break;case"B":case"BB":case"BBB":J=Cn(t1.DayPeriods,Ie.Abbreviated,ye.Format,!0);break;case"BBBB":J=Cn(t1.DayPeriods,Ie.Wide,ye.Format,!0);break;case"BBBBB":J=Cn(t1.DayPeriods,Ie.Narrow,ye.Format,!0);break;case"h":J=Q1(Jt.Hours,1,-12);break;case"hh":J=Q1(Jt.Hours,2,-12);break;case"H":J=Q1(Jt.Hours,1);break;case"HH":J=Q1(Jt.Hours,2);break;case"m":J=Q1(Jt.Minutes,1);break;case"mm":J=Q1(Jt.Minutes,2);break;case"s":J=Q1(Jt.Seconds,1);break;case"ss":J=Q1(Jt.Seconds,2);break;case"S":J=Q1(Jt.FractionalSeconds,1);break;case"SS":J=Q1(Jt.FractionalSeconds,2);break;case"SSS":J=Q1(Jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":J=M2(W1.Short);break;case"ZZZZZ":J=M2(W1.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":J=M2(W1.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":J=M2(W1.Long);break;default:return null}return Se[R]=J,J}(Gn);jn+=vn?vn(De,F,xn):"''"===Gn?"'":Gn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),jn}function bn(R,J,F){const ne=new Date(0);return ne.setFullYear(R,J,F),ne.setHours(0,0,0),ne}function J1(R,J){const F=function wt(R){return(0,l.cg1)(R)[l.wAp.LocaleId]}(R);if(ln[F]=ln[F]||{},ln[F][J])return ln[F][J];let ne="";switch(J){case"shortDate":ne=m1(R,Ye.Short);break;case"mediumDate":ne=m1(R,Ye.Medium);break;case"longDate":ne=m1(R,Ye.Long);break;case"fullDate":ne=m1(R,Ye.Full);break;case"shortTime":ne=f1(R,Ye.Short);break;case"mediumTime":ne=f1(R,Ye.Medium);break;case"longTime":ne=f1(R,Ye.Long);break;case"fullTime":ne=f1(R,Ye.Full);break;case"short":const De=J1(R,"shortTime"),Xe=J1(R,"shortDate");ne=S1(n2(R,Ye.Short),[De,Xe]);break;case"medium":const mt=J1(R,"mediumTime"),r1=J1(R,"mediumDate");ne=S1(n2(R,Ye.Medium),[mt,r1]);break;case"long":const xn=J1(R,"longTime"),jn=J1(R,"longDate");ne=S1(n2(R,Ye.Long),[xn,jn]);break;case"full":const Gn=J1(R,"fullTime"),vn=J1(R,"fullDate");ne=S1(n2(R,Ye.Full),[Gn,vn])}return ne&&(ln[F][J]=ne),ne}function S1(R,J){return J&&(R=R.replace(/\{([^}]+)}/g,function(F,ne){return null!=J&&ne in J?J[ne]:F})),R}function T1(R,J,F="-",ne,De){let Xe="";(R<0||De&&R<=0)&&(De?R=1-R:(R=-R,Xe=F));let mt=String(R);for(;mt.length<J;)mt="0"+mt;return ne&&(mt=mt.slice(mt.length-J)),Xe+mt}function Q1(R,J,F=0,ne=!1,De=!1){return function(Xe,mt){let r1=function j2(R,J){switch(R){case Jt.FullYear:return J.getFullYear();case Jt.Month:return J.getMonth();case Jt.Date:return J.getDate();case Jt.Hours:return J.getHours();case Jt.Minutes:return J.getMinutes();case Jt.Seconds:return J.getSeconds();case Jt.FractionalSeconds:return J.getMilliseconds();case Jt.Day:return J.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Xe);if((F>0||r1>-F)&&(r1+=F),R===Jt.Hours)0===r1&&-12===F&&(r1=12);else if(R===Jt.FractionalSeconds)return function C2(R,J){return T1(R,3).substring(0,J)}(r1,J);const xn=Pt(mt,Pe.MinusSign);return T1(r1,J,xn,ne,De)}}function Cn(R,J,F=ye.Format,ne=!1){return function(De,Xe){return function l2(R,J,F,ne,De,Xe){switch(F){case t1.Months:return function N1(R,J,F){const ne=(0,l.cg1)(R),Xe=Vt([ne[l.wAp.MonthsFormat],ne[l.wAp.MonthsStandalone]],J);return Vt(Xe,F)}(J,De,ne)[R.getMonth()];case t1.Days:return function j1(R,J,F){const ne=(0,l.cg1)(R),Xe=Vt([ne[l.wAp.DaysFormat],ne[l.wAp.DaysStandalone]],J);return Vt(Xe,F)}(J,De,ne)[R.getDay()];case t1.DayPeriods:const mt=R.getHours(),r1=R.getMinutes();if(Xe){const jn=function R1(R){const J=(0,l.cg1)(R);return c2(J),(J[l.wAp.ExtraData][2]||[]).map(ne=>"string"==typeof ne?mn(ne):[mn(ne[0]),mn(ne[1])])}(J),Gn=function On(R,J,F){const ne=(0,l.cg1)(R);c2(ne);const Xe=Vt([ne[l.wAp.ExtraData][0],ne[l.wAp.ExtraData][1]],J)||[];return Vt(Xe,F)||[]}(J,De,ne),vn=jn.findIndex(oi=>{if(Array.isArray(oi)){const[Jn,Wn]=oi,rs=mt>=Jn.hours&&r1>=Jn.minutes,_r=mt<Wn.hours||mt===Wn.hours&&r1<Wn.minutes;if(Jn.hours<Wn.hours){if(rs&&_r)return!0}else if(rs||_r)return!0}else if(oi.hours===mt&&oi.minutes===r1)return!0;return!1});if(-1!==vn)return Gn[vn]}return function a1(R,J,F){const ne=(0,l.cg1)(R),Xe=Vt([ne[l.wAp.DayPeriodsFormat],ne[l.wAp.DayPeriodsStandalone]],J);return Vt(Xe,F)}(J,De,ne)[mt<12?0:1];case t1.Eras:return function Nt(R,J){return Vt((0,l.cg1)(R)[l.wAp.Eras],J)}(J,ne)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(De,Xe,R,J,F,ne)}}function M2(R){return function(J,F,ne){const De=-1*ne,Xe=Pt(F,Pe.MinusSign),mt=De>0?Math.floor(De/60):Math.ceil(De/60);switch(R){case W1.Short:return(De>=0?"+":"")+T1(mt,2,Xe)+T1(Math.abs(De%60),2,Xe);case W1.ShortGMT:return"GMT"+(De>=0?"+":"")+T1(mt,1,Xe);case W1.Long:return"GMT"+(De>=0?"+":"")+T1(mt,2,Xe)+":"+T1(Math.abs(De%60),2,Xe);case W1.Extended:return 0===ne?"Z":(De>=0?"+":"")+T1(mt,2,Xe)+":"+T1(Math.abs(De%60),2,Xe);default:throw new Error(`Unknown zone width "${R}"`)}}}function A1(R){return bn(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function I1(R,J=!1){return function(F,ne){let De;if(J){const Xe=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,mt=F.getDate();De=1+Math.floor((mt+Xe)/7)}else{const Xe=A1(F),mt=function Xt(R){const J=bn(R,0,1).getDay();return bn(R,0,1+(J<=4?4:11)-J)}(Xe.getFullYear()),r1=Xe.getTime()-mt.getTime();De=1+Math.round(r1/6048e5)}return T1(De,R,Pt(ne,Pe.MinusSign))}}function z1(R,J=!1){return function(F,ne){return T1(A1(F).getFullYear(),R,Pt(ne,Pe.MinusSign),J)}}const Se={};function xe(R,J){R=R.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(F)?J:F}function G1(R){return R instanceof Date&&!isNaN(R.valueOf())}function ji(R,J){J=encodeURIComponent(J);for(const F of R.split(";")){const ne=F.indexOf("="),[De,Xe]=-1==ne?[F,""]:[F.slice(0,ne),F.slice(ne+1)];if(De.trim()===J)return decodeURIComponent(Xe)}return null}let kn=(()=>{class R{constructor(F,ne,De,Xe){this._iterableDiffers=F,this._keyValueDiffers=ne,this._ngEl=De,this._renderer=Xe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(ne=>this._toggleClass(ne.key,ne.currentValue)),F.forEachChangedItem(ne=>this._toggleClass(ne.key,ne.currentValue)),F.forEachRemovedItem(ne=>{ne.previousValue&&this._toggleClass(ne.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(ne=>{if("string"!=typeof ne.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(ne.item)}`);this._toggleClass(ne.item,!0)}),F.forEachRemovedItem(ne=>this._toggleClass(ne.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ne=>this._toggleClass(ne,!0)):Object.keys(F).forEach(ne=>this._toggleClass(ne,!!F[ne])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(ne=>this._toggleClass(ne,!1)):Object.keys(F).forEach(ne=>this._toggleClass(ne,!1)))}_toggleClass(F,ne){(F=F.trim())&&F.split(/\s+/g).forEach(De=>{ne?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}}return R.\u0275fac=function(F){return new(F||R)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class zi{constructor(J,F,ne,De){this.$implicit=J,this.ngForOf=F,this.index=ne,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let di=(()=>{class R{constructor(F,ne,De){this._viewContainer=F,this._template=ne,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ne=this._viewContainer;F.forEachOperation((De,Xe,mt)=>{if(null==De.previousIndex)ne.createEmbeddedView(this._template,new zi(De.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)ne.remove(null===Xe?void 0:Xe);else if(null!==Xe){const r1=ne.get(Xe);ne.move(r1,mt),Mi(r1,De)}});for(let De=0,Xe=ne.length;De<Xe;De++){const r1=ne.get(De).context;r1.index=De,r1.count=Xe,r1.ngForOf=this._ngForOf}F.forEachIdentityChange(De=>{Mi(ne.get(De.currentIndex),De)})}static ngTemplateContextGuard(F,ne){return!0}}return R.\u0275fac=function(F){return new(F||R)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function Mi(R,J){R.context.$implicit=J.item}let Vn=(()=>{class R{constructor(F,ne){this._viewContainer=F,this._context=new rr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){In("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){In("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ne){return!0}}return R.\u0275fac=function(F){return new(F||R)(l.Y36(l.s_b),l.Y36(l.Rgc))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class rr{constructor(){this.$implicit=null,this.ngIf=null}}function In(R,J){if(J&&!J.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,l.AaK)(J)}'.`)}let so=(()=>{class R{constructor(F,ne,De){this._ngEl=F,this._differs=ne,this._renderer=De,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,ne){const[De,Xe]=F.split("."),mt=-1===De.indexOf("-")?void 0:l.JOm.DashCase;null!=ne?this._renderer.setStyle(this._ngEl.nativeElement,De,Xe?`${ne}${Xe}`:ne,mt):this._renderer.removeStyle(this._ngEl.nativeElement,De,mt)}_applyChanges(F){F.forEachRemovedItem(ne=>this._setStyle(ne.key,null)),F.forEachAddedItem(ne=>this._setStyle(ne.key,ne.currentValue)),F.forEachChangedItem(ne=>this._setStyle(ne.key,ne.currentValue))}}return R.\u0275fac=function(F){return new(F||R)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),R})(),$2=(()=>{class R{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const ne=this._viewContainerRef;if(this._viewRef&&ne.remove(ne.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:De,ngTemplateOutletContext:Xe,ngTemplateOutletInjector:mt}=this;this._viewRef=ne.createEmbeddedView(De,Xe,mt?{injector:mt}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(F){return new(F||R)(l.Y36(l.s_b))},R.\u0275dir=l.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),R})();function d2(R,J){return new l.vHH(2100,!1)}class Ge{createSubscription(J,F){return J.subscribe({next:F,error:ne=>{throw ne}})}dispose(J){J.unsubscribe()}}class Fe{createSubscription(J,F){return J.then(F,ne=>{throw ne})}dispose(J){}}const qe=new Fe,Ct=new Ge;let Ft=(()=>{class R{constructor(F){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ne=>this._updateLatestValue(F,ne))}_selectStrategy(F){if((0,l.QGY)(F))return qe;if((0,l.F4k)(F))return Ct;throw d2()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ne){F===this._obj&&(this._latestValue=ne,this._ref.markForCheck())}}return R.\u0275fac=function(F){return new(F||R)(l.Y36(l.sBO,16))},R.\u0275pipe=l.Yjl({name:"async",type:R,pure:!1,standalone:!0}),R})();const sr=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let zr=(()=>{class R{constructor(F,ne){this.locale=F,this.defaultTimezone=ne}transform(F,ne="mediumDate",De,Xe){if(null==F||""===F||F!=F)return null;try{return an(F,ne,Xe||this.locale,De??this.defaultTimezone??void 0)}catch(mt){throw d2()}}}return R.\u0275fac=function(F){return new(F||R)(l.Y36(l.soG,16),l.Y36(sr,24))},R.\u0275pipe=l.Yjl({name:"date",type:R,pure:!0,standalone:!0}),R})(),or=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=l.oAB({type:R}),R.\u0275inj=l.cJS({}),R})();const ar="browser";function oo(R){return R===ar}function o2(R){return"server"===R}let Yr=(()=>{class R{}return R.\u0275prov=(0,l.Yz7)({token:R,providedIn:"root",factory:()=>new s2((0,l.LFG)(Re),window)}),R})();class s2{constructor(J,F){this.document=J,this.window=F,this.offset=()=>[0,0]}setOffset(J){this.offset=Array.isArray(J)?()=>J:J}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(J){this.supportsScrolling()&&this.window.scrollTo(J[0],J[1])}scrollToAnchor(J){if(!this.supportsScrolling())return;const F=function P2(R,J){const F=R.getElementById(J)||R.getElementsByName(J)[0];if(F)return F;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const ne=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let De=ne.currentNode;for(;De;){const Xe=De.shadowRoot;if(Xe){const mt=Xe.getElementById(J)||Xe.querySelector(`[name="${J}"]`);if(mt)return mt}De=ne.nextNode()}}return null}(this.document,J);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(J){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=J)}}scrollToElement(J){const F=J.getBoundingClientRect(),ne=F.left+this.window.pageXOffset,De=F.top+this.window.pageYOffset,Xe=this.offset();this.window.scrollTo(ne-Xe[0],De-Xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const J=X2(this.window.history)||X2(Object.getPrototypeOf(this.window.history));return!(!J||!J.writable&&!J.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function X2(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Zs{}},4650:($t,We,U)=>{U.d(We,{$8M:()=>Uo,$Z:()=>e7,AFp:()=>zh,ALo:()=>Xf,AaK:()=>ze,CHM:()=>vr,CRH:()=>ch,CZH:()=>Au,CqO:()=>E9,D6c:()=>nv,DdM:()=>Gf,EJc:()=>vg,EiD:()=>Bc,EpF:()=>rl,F$t:()=>j3,F4k:()=>F4,FYo:()=>u4,FiY:()=>c1,G48:()=>Vg,Gf:()=>oh,GfV:()=>x4,Gpc:()=>he,Hsn:()=>vc,Ikx:()=>Ec,JOm:()=>ws,JVY:()=>o4,KtG:()=>Rr,L6k:()=>T4,LAX:()=>X6,LFG:()=>Ni,LMc:()=>rv,LSH:()=>s0,Lbi:()=>hg,Lck:()=>dm,MAs:()=>X5,MGl:()=>yc,MMx:()=>ad,NdJ:()=>d3,OlP:()=>Qn,Oqu:()=>P8,PXZ:()=>zg,Q6J:()=>el,QGY:()=>Ra,QP$:()=>G1,QbO:()=>pg,Qsj:()=>La,QtT:()=>zf,R0b:()=>j4,RDi:()=>E,Rgc:()=>Sl,SBq:()=>Mo,SDv:()=>xf,Sil:()=>_g,Suo:()=>ah,TTD:()=>Yi,TgZ:()=>S8,Tol:()=>J7,Udp:()=>Mc,VKq:()=>$f,W1O:()=>fh,WLB:()=>Zf,X6Q:()=>Pg,XFs:()=>Vt,Xpm:()=>_t,Xts:()=>p,Y36:()=>V3,YKP:()=>kf,YNc:()=>w9,Yjl:()=>pt,Yz7:()=>f1,Z0I:()=>pn,ZZ4:()=>Ld,_Bn:()=>Of,_UZ:()=>nl,_Vd:()=>za,_c5:()=>ev,_uU:()=>ru,aQg:()=>Od,c2e:()=>mg,cJS:()=>Pt,cg1:()=>B8,dDg:()=>Tg,dqk:()=>an,eBb:()=>z3,eFA:()=>$h,ekj:()=>ul,eoX:()=>Uh,f3M:()=>H,g9A:()=>Oh,h0i:()=>G8,hGG:()=>tv,hij:()=>V8,iGM:()=>sh,ifc:()=>t1,ip1:()=>xh,jDz:()=>Pf,kEZ:()=>Wf,kL8:()=>aa,lG2:()=>xe,lcZ:()=>eh,lqb:()=>Zn,lri:()=>Fh,mCW:()=>a4,n5z:()=>_2,oAB:()=>z1,oJD:()=>v6,oxw:()=>D0,pB0:()=>e0,pQV:()=>td,q3G:()=>Xn,q4F:()=>K0,qLn:()=>C6,qOj:()=>M8,qZA:()=>N8,qzn:()=>xa,rWj:()=>Bh,s9C:()=>L6,sBO:()=>Hg,sIi:()=>pc,s_b:()=>Su,soG:()=>Iu,tb:()=>kh,tp0:()=>x1,uIk:()=>b0,vHH:()=>$e,vpe:()=>K3,wAp:()=>X1,xp6:()=>u5,z2F:()=>xu,z3N:()=>hr,zSh:()=>q1,zs3:()=>O4});var l=U(7579),M=U(727),X=U(9751),Ce=U(6451),Te=U(3099);function Ee(n){for(let i in n)if(n[i]===Ee)return i;throw Error("Could not find renamed property on target object.")}function Re(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function ze(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ze).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ke(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const pe=Ee({__forward_ref__:Ee});function he(n){return n.__forward_ref__=he,n.toString=function(){return ze(this())},n}function Ne(n){return st(n)?n():n}function st(n){return"function"==typeof n&&n.hasOwnProperty(pe)&&n.__forward_ref__===he}class $e extends Error{constructor(i,o){super(function Rt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function ut(n){return"string"==typeof n?n:null==n?"":String(n)}function at(n,i){throw new $e(-201,!1)}function Nt(n,i,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}function f1(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function en(n){return Pn(n,c2)||Pn(n,On)}function pn(n){return null!==en(n)}function Pn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Yn(n){return n&&(n.hasOwnProperty(R1)||n.hasOwnProperty(m2))?n[R1]:null}const c2=Ee({\u0275prov:Ee}),R1=Ee({\u0275inj:Ee}),On=Ee({ngInjectableDef:Ee}),m2=Ee({ngInjectorDef:Ee});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let mn;function rn(n){const i=mn;return mn=n,i}function U2(n,i,o){const a=en(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Vt.Optional?null:void 0!==i?i:void at(ze(n))}function ln(n){return{toString:n}.toString()}var sn=(()=>((sn=sn||{})[sn.OnPush=0]="OnPush",sn[sn.Default=1]="Default",sn))(),t1=(()=>{return(n=t1||(t1={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",t1;var n})();const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),S1={},T1=[],C2=Ee({\u0275cmp:Ee}),Q1=Ee({\u0275dir:Ee}),j2=Ee({\u0275pipe:Ee}),Cn=Ee({\u0275mod:Ee}),l2=Ee({\u0275fac:Ee}),M2=Ee({__NG_ELEMENT_ID__:Ee});let Qt=0;function _t(n){return ln(()=>{const o=!0===n.standalone,a={},h={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||T1,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||t1.Emulated,id:"c"+Qt++,styles:n.styles||T1,_:null,setInput:null,schemas:n.schemas||null,tView:null},y=n.dependencies,S=n.features;return h.inputs=_e(n.inputs,a),h.outputs=_e(n.outputs),S&&S.forEach(z=>z(h)),h.directiveDefs=y?()=>("function"==typeof y?y():y).map(A1).filter(I1):null,h.pipeDefs=y?()=>("function"==typeof y?y():y).map(e1).filter(I1):null,h})}function A1(n){return Ue(n)||jt(n)}function I1(n){return null!==n}function z1(n){return ln(()=>({type:n.type,bootstrap:n.bootstrap||T1,declarations:n.declarations||T1,imports:n.imports||T1,exports:n.exports||T1,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function _e(n,i){if(null==n)return S1;const o={};for(const a in n)if(n.hasOwnProperty(a)){let h=n[a],y=h;Array.isArray(h)&&(y=h[1],h=h[0]),o[h]=a,i&&(i[h]=y)}return o}const xe=_t;function pt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ue(n){return n[C2]||null}function jt(n){return n[Q1]||null}function e1(n){return n[j2]||null}function G1(n){const i=Ue(n)||jt(n)||e1(n);return null!==i&&i.standalone}function un(n,i){const o=n[Cn]||null;if(!o&&!0===i)throw new Error(`Type ${ze(n)} does not have '\u0275mod' property.`);return o}function In(n){return Array.isArray(n)&&"object"==typeof n[1]}function k2(n){return Array.isArray(n)&&!0===n[1]}function Ir(n){return 0!=(8&n.flags)}function wi(n){return 2==(2&n.flags)}function xr(n){return 1==(1&n.flags)}function R2(n){return null!==n.template}function qr(n){return 0!=(256&n[2])}function Li(n,i){return n.hasOwnProperty(l2)?n[l2]:null}class Oi{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Yi(){return hi}function hi(n){return n.type.prototype.ngOnChanges&&(n.setInput=Di),ps}function ps(){const n=Kr(this),i=n?.current;if(i){const o=n.previous;if(o===S1)n.previous=i;else for(let a in i)o[a]=i[a];n.current=null,this.ngOnChanges(i)}}function Di(n,i,o,a){const h=Kr(n)||function or(n,i){return n[Lr]=i}(n,{previous:S1,current:null}),y=h.current||(h.current={}),S=h.previous,z=this.declaredInputs[o],P=S[z];y[z]=new Oi(P&&P.currentValue,i,S===S1),n[a]=i}Yi.ngInherit=!0;const Lr="__ngSimpleChanges__";function Kr(n){return n[Lr]||null}function f2(n){for(;Array.isArray(n);)n=n[0];return n}function X2(n,i){return f2(i[n])}function P2(n,i){return f2(i[n.index])}function Zs(n,i){return n.data[i]}function lr(n,i){return n[i]}function wn(n,i){const o=i[n];return In(o)?o:o[0]}function Jr(n){return 64==(64&n[2])}function N2(n,i){return null==i?null:n[i]}function v2(n){n[18]=0}function h2(n,i){n[5]+=i;let o=n,a=n[3];for(;null!==a&&(1===i&&1===o[5]||-1===i&&0===o[5]);)a[5]+=i,o=a,a=a[3]}const L1={lFrame:To(null),bindingsEnabled:!0};function gr(){return L1.bindingsEnabled}function Dt(){return L1.lFrame.lView}function dn(){return L1.lFrame.tView}function vr(n){return L1.lFrame.contextLView=n,n[8]}function Rr(n){return L1.lFrame.contextLView=null,n}function y2(){let n=So();for(;null!==n&&64===n.type;)n=n.parent;return n}function So(){return L1.lFrame.currentTNode}function Ys(){const n=L1.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function ur(n,i){const o=L1.lFrame;o.currentTNode=n,o.isParent=i}function es(){return L1.lFrame.isParent}function Pr(){L1.lFrame.isParent=!1}function V(){const n=L1.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function d1(){return L1.lFrame.bindingIndex++}function Un(n){const i=L1.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Ji(n){L1.lFrame.inI18n=n}function gs(n,i){const o=L1.lFrame;o.bindingIndex=o.bindingRootIndex=n,ns(i)}function ns(n){L1.lFrame.currentDirectiveIndex=n}function No(){return L1.lFrame.currentQueryIndex}function Vi(n){L1.lFrame.currentQueryIndex=n}function co(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function zs(n,i,o){if(o&Vt.SkipSelf){let h=i,y=n;for(;!(h=h.parent,null!==h||o&Vt.Host||(h=co(y),null===h||(y=y[15],10&h.type))););if(null===h)return!1;i=h,n=y}const a=L1.lFrame=Ls();return a.currentTNode=i,a.lView=n,!0}function is(n){const i=Ls(),o=n[1];L1.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ls(){const n=L1.lFrame,i=null===n?null:n.child;return null===i?To(n):i}function To(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function lo(){const n=L1.lFrame;return L1.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const R=lo;function J(){const n=lo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function De(){return L1.lFrame.selectedIndex}function Xe(n){L1.lFrame.selectedIndex=n}function mt(){const n=L1.lFrame;return Zs(n.tView,n.selectedIndex)}function Jn(n,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const y=n.data[o].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:z,ngAfterViewInit:P,ngAfterViewChecked:K,ngOnDestroy:re}=y;S&&(n.contentHooks||(n.contentHooks=[])).push(-o,S),z&&((n.contentHooks||(n.contentHooks=[])).push(o,z),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,z)),P&&(n.viewHooks||(n.viewHooks=[])).push(-o,P),K&&((n.viewHooks||(n.viewHooks=[])).push(o,K),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,K)),null!=re&&(n.destroyHooks||(n.destroyHooks=[])).push(o,re)}}function Wn(n,i,o){br(n,i,3,o)}function rs(n,i,o,a){(3&n[2])===o&&br(n,i,o,a)}function _r(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function br(n,i,o,a){const y=a??-1,S=i.length-1;let z=0;for(let P=void 0!==a?65535&n[18]:0;P<S;P++)if("number"==typeof i[P+1]){if(z=i[P],null!=a&&z>=a)break}else i[P]<0&&(n[18]+=65536),(z<y||-1==y)&&(vs(n,o,i,P),n[18]=(4294901760&n[18])+P+2),P++}function vs(n,i,o,a){const h=o[a]<0,y=o[a+1],z=n[h?-o[a]:o[a]];if(h){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{y.call(z)}finally{}}}else try{y.call(z)}finally{}}class Z2{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Ho(n,i,o){let a=0;for(;a<o.length;){const h=o[a];if("number"==typeof h){if(0!==h)break;a++;const y=o[a++],S=o[a++],z=o[a++];n.setAttribute(i,S,z,y)}else{const y=h,S=o[++a];Fo(y)?n.setProperty(i,y,S):n.setAttribute(i,y,S),a++}}return a}function uo(n){return 3===n||4===n||6===n}function Fo(n){return 64===n.charCodeAt(0)}function Fa(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const h=i[a];"number"==typeof h?o=h:0===o||Ba(n,o,h,null,-1===o||2===o?i[++a]:null)}}return n}function Ba(n,i,o,a,h){let y=0,S=n.length;if(-1===i)S=-1;else for(;y<n.length;){const z=n[y++];if("number"==typeof z){if(z===i){S=-1;break}if(z>i){S=y-1;break}}}for(;y<n.length;){const z=n[y];if("number"==typeof z)break;if(z===o){if(null===a)return void(null!==h&&(n[y+1]=h));if(a===n[y+1])return void(n[y+2]=h)}y++,null!==a&&y++,null!==h&&y++}-1!==S&&(n.splice(S,0,i),y=S+1),n.splice(y++,0,o),null!==a&&n.splice(y++,0,a),null!==h&&n.splice(y++,0,h)}function mi(n){return-1!==n}function W2(n){return 32767&n}function Qs(n,i){let o=function Vr(n){return n>>16}(n),a=i;for(;o>0;)a=a[15],o--;return a}let _s=!0;function Ot(n){const i=_s;return _s=n,i}let Zt=0;const n1={};function Gt(n,i){const o=Tt(n,i);if(-1!==o)return o;const a=i[1];a.firstCreatePass&&(n.injectorIndex=i.length,dt(a.data,n),dt(i,null),dt(a.blueprint,null));const h=T2(n,i),y=n.injectorIndex;if(mi(h)){const S=W2(h),z=Qs(h,i),P=z[1].data;for(let K=0;K<8;K++)i[y+K]=z[S+K]|P[S+K]}return i[y+8]=h,y}function dt(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Tt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function T2(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,h=i;for(;null!==h;){if(a=En(h),null===a)return-1;if(o++,h=h[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function gi(n,i,o){!function fa(n,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(M2)&&(a=o[M2]),null==a&&(a=o[M2]=Zt++);const h=255&a;i.data[n+(h>>5)]|=1<<h}(n,i,o)}function Cr(n,i,o){if(o&Vt.Optional||void 0!==n)return n;at()}function ha(n,i,o,a){if(o&Vt.Optional&&void 0===a&&(a=null),0==(o&(Vt.Self|Vt.Host))){const h=n[9],y=rn(void 0);try{return h?h.get(i,a,o&Vt.Optional):U2(i,a,o&Vt.Optional)}finally{rn(y)}}return Cr(a,0,o)}function fo(n,i,o,a=Vt.Default,h){if(null!==n){if(1024&i[2]){const S=function A2(n,i,o,a,h){let y=n,S=i;for(;null!==y&&null!==S&&1024&S[2]&&!(256&S[2]);){const z=pa(y,S,o,a|Vt.Self,n1);if(z!==n1)return z;let P=y.parent;if(!P){const K=S[21];if(K){const re=K.get(o,n1,a);if(re!==n1)return re}P=En(S),S=S[15]}y=P}return h}(n,i,o,a,n1);if(S!==n1)return S}const y=pa(n,i,o,a,n1);if(y!==n1)return y}return ha(i,o,a,h)}function pa(n,i,o,a,h){const y=function ga(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(M2)?n[M2]:void 0;return"number"==typeof i?i>=0?255&i:va:i}(o);if("function"==typeof y){if(!zs(i,n,a))return a&Vt.Host?Cr(h,0,a):ha(i,o,a,h);try{const S=y(a);if(null!=S||a&Vt.Optional)return S;at()}finally{R()}}else if("number"==typeof y){let S=null,z=Tt(n,i),P=-1,K=a&Vt.Host?i[16][6]:null;for((-1===z||a&Vt.SkipSelf)&&(P=-1===z?T2(n,i):i[z+8],-1!==P&&H1(a,!1)?(S=i[1],z=W2(P),i=Qs(P,i)):z=-1);-1!==z;){const re=i[1];if(ho(y,z,re.data)){const de=ma(z,i,o,S,a,K);if(de!==n1)return de}P=i[z+8],-1!==P&&H1(a,i[1].data[z+8]===K)&&ho(y,z,i)?(S=re,z=W2(P),i=Qs(P,i)):z=-1}}return h}function ma(n,i,o,a,h,y){const S=i[1],z=S.data[n+8],re=V2(z,S,o,null==a?wi(z)&&_s:a!=S&&0!=(3&z.type),h&Vt.Host&&y===z);return null!==re?Hr(i,S,re,z):n1}function V2(n,i,o,a,h){const y=n.providerIndexes,S=i.data,z=1048575&y,P=n.directiveStart,re=y>>20,Ve=h?z+re:n.directiveEnd;for(let it=a?z:z+re;it<Ve;it++){const Et=S[it];if(it<P&&o===Et||it>=P&&Et.type===o)return it}if(h){const it=S[P];if(it&&R2(it)&&it.type===o)return P}return null}function Hr(n,i,o,a){let h=n[o];const y=i.data;if(function ys(n){return n instanceof Z2}(h)){const S=h;S.resolving&&function He(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new $e(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ot(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ut(n)}(y[o]));const z=Ot(S.canSeeViewProviders);S.resolving=!0;const P=S.injectImpl?rn(S.injectImpl):null;zs(n,a,Vt.Default);try{h=n[o]=S.factory(void 0,y,n,a),i.firstCreatePass&&o>=a.directiveStart&&function oi(n,i,o){const{ngOnChanges:a,ngOnInit:h,ngDoCheck:y}=i.type.prototype;if(a){const S=hi(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,S),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,S)}h&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,h),y&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,y))}(o,y[o],i)}finally{null!==P&&rn(P),Ot(z),S.resolving=!1,R()}}return h}function ho(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function H1(n,i){return!(n&Vt.Self||n&Vt.Host&&i)}class Qi{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return fo(this._tNode,this._lView,i,a,o)}}function va(){return new Qi(y2(),Dt())}function _2(n){return ln(()=>{const i=n.prototype.constructor,o=i[l2]||M1(i),a=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==a;){const y=h[l2]||M1(h);if(y&&y!==o)return y;h=Object.getPrototypeOf(h)}return y=>new y})}function M1(n){return st(n)?()=>{const i=M1(Ne(n));return i&&i()}:Li(n)}function En(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function Uo(n){return function Ua(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const a=o.length;let h=0;for(;h<a;){const y=o[h];if(uo(y))break;if(0===y)h+=2;else if("number"==typeof y)for(h++;h<a&&"string"==typeof o[h];)h++;else{if(y===i)return o[h+1];h+=2}}}return null}(y2(),n)}const Bt="__parameters__";function bs(n,i,o){return ln(()=>{const a=function Ei(n){return function(...o){if(n){const a=n(...o);for(const h in a)this[h]=a[h]}}}(i);function h(...y){if(this instanceof h)return a.apply(this,y),this;const S=new h(...y);return z.annotation=S,z;function z(P,K,re){const de=P.hasOwnProperty(Bt)?P[Bt]:Object.defineProperty(P,Bt,{value:[]})[Bt];for(;de.length<=re;)de.push(null);return(de[re]=de[re]||[]).push(S),P}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}class Qn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=f1({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vi(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(i===n&&(i=n.slice(0,o)),vi(a,i)):i!==n&&i.push(a)}return i}function Mr(n,i){n.forEach(o=>Array.isArray(o)?Mr(o,i):i(o))}function Ma(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function wr(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function po(n,i){const o=[];for(let a=0;a<n;a++)o.push(i);return o}function ee(n,i,o){let a=we(n,i);return a>=0?n[1|a]=o:(a=~a,function I(n,i,o,a){let h=n.length;if(h==i)n.push(o,a);else if(1===h)n.push(a,n[0]),n[0]=o;else{for(h--,n.push(n[h-1],n[h]);h>i;)n[h]=n[h-2],h--;n[i]=o,n[i+1]=a}}(n,a,i,o)),a}function me(n,i){const o=we(n,i);if(o>=0)return n[1|o]}function we(n,i){return function zt(n,i,o){let a=0,h=n.length>>o;for(;h!==a;){const y=a+(h-a>>1),S=n[y<<o];if(i===S)return y<<o;S>i?h=y:a=y+1}return~(h<<o)}(n,i,1)}const Xi={},Ps="__NG_DI_FLAG__",xo="ngTempTokenPath",W4=/\n/gm,C3="__source";let Vs;function go(n){const i=Vs;return Vs=n,i}function Ga(n,i=Vt.Default){if(void 0===Vs)throw new $e(-203,!1);return null===Vs?U2(n,void 0,i):Vs.get(n,i&Vt.Optional?null:void 0,i)}function Ni(n,i=Vt.Default){return(function Tn(){return mn}()||Ga)(Ne(n),i)}function H(n,i=Vt.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),Ni(n,i)}function G(n){const i=[];for(let o=0;o<n.length;o++){const a=Ne(n[o]);if(Array.isArray(a)){if(0===a.length)throw new $e(900,!1);let h,y=Vt.Default;for(let S=0;S<a.length;S++){const z=a[S],P=ge(z);"number"==typeof P?-1===P?h=z.token:y|=P:h=z}i.push(Ni(h,y))}else i.push(Ni(a))}return i}function te(n,i){return n[Ps]=i,n.prototype[Ps]=i,n}function ge(n){return n[Ps]}const c1=te(bs("Optional"),8),x1=te(bs("SkipSelf"),4);var ws=(()=>((ws=ws||{})[ws.Important=1]="Important",ws[ws.DashCase=2]="DashCase",ws))();const $6=/^>|^->|<!--|-->|--!>|<!-$/g,Z6=/(<|>)/;const $o=new Map;let Sr=0;const yo="__ngContext__";function jr(n,i){In(i)?(n[yo]=i[20],function Ds(n){$o.set(n[20],n)}(i)):n[yo]=i}let qo;function Ka(n,i){return qo(n,i)}function w4(n){const i=n[3];return k2(i)?i[3]:i}function Ja(n){return j0(n[13])}function X4(n){return j0(n[4])}function j0(n){for(;null!==n&&!k2(n);)n=n[4];return n}function Ea(n,i,o,a,h){if(null!=a){let y,S=!1;k2(a)?y=a:In(a)&&(S=!0,a=a[0]);const z=f2(a);0===n&&null!==o?null==h?Bs(i,o,z):Ko(i,o,z,h||null,!0):1===n&&null!==o?Ko(i,o,z,h||null,!0):2===n?r3(i,z,S):3===n&&i.destroyNode(z),null!=y&&function Q6(n,i,o,a,h){const y=o[7];y!==f2(o)&&Ea(i,n,a,y,h);for(let z=10;z<o.length;z++){const P=o[z];S4(P[1],P,n,i,a,y)}}(i,n,y,o,h)}}function l6(n,i){return n.createText(i)}function D4(n,i,o){n.setValue(i,o)}function Sa(n,i){return n.createComment(function s6(n){return n.replace($6,i=>i.replace(Z6,"\u200b$1\u200b"))}(i))}function A3(n,i,o){return n.createElement(i,o)}function $n(n,i){const o=n[9],a=o.indexOf(i),h=i[3];512&i[2]&&(i[2]&=-513,h2(h,-1)),o.splice(a,1)}function e4(n,i){if(n.length<=10)return;const o=10+i,a=n[o];if(a){const h=a[17];null!==h&&h!==n&&$n(h,a),i>0&&(n[o-1][4]=a[4]);const y=wr(n,10+i);!function G0(n,i){S4(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const S=y[19];null!==S&&S.detachView(y[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function I3(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&S4(n,i,o,3,null,null),function u6(n){let i=n[13];if(!i)return Es(n[1],n);for(;i;){let o=null;if(In(i))o=i[13];else{const a=i[10];a&&(o=a)}if(!o){for(;i&&!i[4]&&i!==n;)In(i)&&Es(i[1],i),i=i[3];null===i&&(i=n),In(i)&&Es(i[1],i),o=i&&i[4]}i=o}}(i)}}function Es(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Nr(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const h=i[o[a]];if(!(h instanceof Z2)){const y=o[a+1];if(Array.isArray(y))for(let S=0;S<y.length;S+=2){const z=h[y[S]],P=y[S+1];try{P.call(z)}finally{}}else try{y.call(h)}finally{}}}}(n,i),function Vc(n,i){const o=n.cleanup,a=i[7];let h=-1;if(null!==o)for(let y=0;y<o.length-1;y+=2)if("string"==typeof o[y]){const S=o[y+1],z="function"==typeof S?S(i):f2(i[S]),P=a[h=o[y+2]],K=o[y+3];"boolean"==typeof K?z.removeEventListener(o[y],P,K):K>=0?a[h=K]():a[h=-K].unsubscribe(),y+=2}else{const S=a[h=o[y+1]];o[y].call(S)}if(null!==a){for(let y=h+1;y<a.length;y++)(0,a[y])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&k2(i[3])){o!==i[3]&&$n(o,i);const a=i[19];null!==a&&a.detachView(n)}!function S3(n){$o.delete(n[20])}(i)}}function _o(n,i,o){return t4(n,i.parent,o)}function t4(n,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[0];if(2&a.flags){const h=n.data[a.directiveStart].encapsulation;if(h===t1.None||h===t1.Emulated)return null}return P2(a,o)}function Ko(n,i,o,a,h){n.insertBefore(i,o,a,h)}function Bs(n,i,o){n.appendChild(i,o)}function e3(n,i,o,a,h){null!==a?Ko(n,i,o,a,h):Bs(n,i,o)}function Na(n,i){return n.parentNode(i)}function J6(n,i,o){return Jo(n,i,o)}function Ta(n,i,o){return 40&n.type?P2(n,o):null}let n4,q2,N4,_,Jo=Ta;function i4(n,i){Jo=n,n4=i}function t3(n,i,o,a){const h=_o(n,a,i),y=i[11],z=J6(a.parent||i[6],a,i);if(null!=h)if(Array.isArray(o))for(let P=0;P<o.length;P++)e3(y,h,o[P],z,!1);else e3(y,h,o,z,!1);void 0!==n4&&n4(y,a,i,o,h)}function Us(n,i){if(null!==i){const o=i.type;if(3&o)return P2(i,n);if(4&o)return n3(-1,n[i.index]);if(8&o){const a=i.child;if(null!==a)return Us(n,a);{const h=n[i.index];return k2(h)?n3(-1,h):f2(h)}}if(32&o)return Ka(i,n)()||f2(n[i.index]);{const a=E4(n,i);return null!==a?Array.isArray(a)?a[0]:Us(w4(n[16]),a):Us(n,i.next)}}return null}function E4(n,i){return null!==i?n[16][6].projection[i.projection]:null}function n3(n,i){const o=10+n+1;if(o<i.length){const a=i[o],h=a[1].firstChild;if(null!==h)return Us(a,h)}return i[7]}function r3(n,i,o){const a=Na(n,i);a&&function Yo(n,i,o,a){n.removeChild(i,o,a)}(n,a,i,o)}function x3(n,i,o,a,h,y,S){for(;null!=o;){const z=a[o.index],P=o.type;if(S&&0===i&&(z&&jr(f2(z),a),o.flags|=4),64!=(64&o.flags))if(8&P)x3(n,i,o.child,a,h,y,!1),Ea(i,n,h,z,y);else if(32&P){const K=Ka(o,a);let re;for(;re=K();)Ea(i,n,h,re,y);Ea(i,n,h,z,y)}else 16&P?d6(n,i,a,o,h,y):Ea(i,n,h,z,y);o=S?o.projectionNext:o.next}}function S4(n,i,o,a,h,y){x3(o,a,n.firstChild,i,h,y,!1)}function d6(n,i,o,a,h,y){const S=o[16],P=S[6].projection[a.projection];if(Array.isArray(P))for(let K=0;K<P.length;K++)Ea(i,n,h,P[K],y);else x3(n,i,P,S[3],h,y,!0)}function bo(n,i,o){n.setAttribute(i,"style",o)}function Aa(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Qo(n){return function s4(){if(void 0===q2&&(q2=null,an.trustedTypes))try{q2=an.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return q2}()?.createHTML(n)||n}function E(n){N4=n}function m(){return void 0!==N4?N4:typeof document<"u"?document:void 0}function Y(n){return function T(){if(void 0===_&&(_=null,an.trustedTypes))try{_=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _}()?.createHTML(n)||n}class vt{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Kt extends vt{getTypeName(){return"HTML"}}class v1 extends vt{getTypeName(){return"Style"}}class Y1 extends vt{getTypeName(){return"Script"}}class $1 extends vt{getTypeName(){return"URL"}}class Hi extends vt{getTypeName(){return"ResourceURL"}}function hr(n){return n instanceof vt?n.changingThisBreaksApplicationSecurity:n}function xa(n,i){const o=function h6(n){return n instanceof vt&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function o4(n){return new Kt(n)}function T4(n){return new v1(n)}function z3(n){return new Y1(n)}function X6(n){return new $1(n)}function e0(n){return new Hi(n)}function $r(n){const i=new p6(n);return function Xo(){try{return!!(new window.DOMParser).parseFromString(Qo(""),"text/html")}catch{return!1}}()?new t0(i):i}class t0{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Qo(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class p6{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Qo(i),o;const a=this.inertDocument.createElement("body");return a.innerHTML=Qo(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(i){const o=i.attributes;for(let h=o.length-1;0<h;h--){const S=o.item(h).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&i.removeAttribute(S)}let a=i.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const m6=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function a4(n){return(n=String(n)).match(m6)?n:"unsafe:"+n}function c4(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function n0(...n){const i={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const W0=c4("area,br,col,hr,img,wbr"),X8=c4("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),e5=c4("rp,rt"),r0=n0(W0,n0(X8,c4("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),n0(e5,c4("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),n0(e5,X8)),Hc=c4("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),t5=n0(Hc,c4("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),c4("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fc=c4("script,style,template");class Ol{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let h=this.checkClobberedElement(o,o.nextSibling);if(h){o=h;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!r0.hasOwnProperty(o))return this.sanitizedSomething=!0,!Fc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let h=0;h<a.length;h++){const y=a.item(h),S=y.name,z=S.toLowerCase();if(!t5.hasOwnProperty(z)){this.sanitizedSomething=!0;continue}let P=y.value;Hc[z]&&(P=a4(P)),this.buf.push(" ",S,'="',i5(P),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();r0.hasOwnProperty(o)&&!W0.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(i5(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const kl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n5=/([^\#-~ |!])/g;function i5(n){return n.replace(/&/g,"&amp;").replace(kl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(n5,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let g6;function Bc(n,i){let o=null;try{g6=g6||$r(n);let a=i?String(i):"";o=g6.getInertBodyElement(a);let h=5,y=a;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,a=y,y=o.innerHTML,o=g6.getInertBodyElement(a)}while(a!==y);return Qo((new Ol).sanitizeChildren(Uc(o)||o))}finally{if(o){const a=Uc(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Uc(n){return"content"in n&&function jc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function v6(n){const i=l4();return i?Y(i.sanitize(Xn.HTML,n)||""):xa(n,"HTML")?Y(hr(n)):Bc(m(),ut(n))}function s0(n){const i=l4();return i?i.sanitize(Xn.URL,n)||"":xa(n,"URL")?hr(n):a4(ut(n))}function l4(){const n=Dt();return n&&n[12]}const p=new Qn("ENVIRONMENT_INITIALIZER"),C=new Qn("INJECTOR",-1),d=new Qn("INJECTOR_DEF_TYPES");class D{get(i,o=Xi){if(o===Xi){const a=new Error(`NullInjectorError: No provider for ${ze(i)}!`);throw a.name="NullInjectorError",a}return o}}function O(...n){return{\u0275providers:q(0,n)}}function q(n,...i){const o=[],a=new Set;let h;return Mr(i,y=>{const S=y;Oe(S,o,[],a)&&(h||(h=[]),h.push(S))}),void 0!==h&&ve(h,o),o}function ve(n,i){for(let o=0;o<n.length;o++){const{providers:h}=n[o];Mr(h,y=>{i.push(y)})}}function Oe(n,i,o,a){if(!(n=Ne(n)))return!1;let h=null,y=Yn(n);const S=!y&&Ue(n);if(y||S){if(S&&!S.standalone)return!1;h=n}else{const P=n.ngModule;if(y=Yn(P),!y)return!1;h=P}const z=a.has(h);if(S){if(z)return!1;if(a.add(h),S.dependencies){const P="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const K of P)Oe(K,i,o,a)}}else{if(!y)return!1;{if(null!=y.imports&&!z){let K;a.add(h);try{Mr(y.imports,re=>{Oe(re,i,o,a)&&(K||(K=[]),K.push(re))})}finally{}void 0!==K&&ve(K,i)}if(!z){const K=Li(h)||(()=>new h);i.push({provide:h,useFactory:K,deps:T1},{provide:d,useValue:h,multi:!0},{provide:p,useValue:()=>Ni(h),multi:!0})}const P=y.providers;null==P||z||Mr(P,re=>{i.push(re)})}}return h!==n&&void 0!==n.providers}const ht=Ee({provide:String,useValue:Ee});function yt(n){return null!==n&&"object"==typeof n&&ht in n}function w1(n){return"function"==typeof n}const q1=new Qn("Set Injector scope."),cn={},Hn={};let yn;function F2(){return void 0===yn&&(yn=new D),yn}class Zn{}class e2 extends Zn{constructor(i,o,a,h){super(),this.parent=o,this.source=a,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ea(i,S=>this.processProvider(S)),this.records.set(C,ci(void 0,this)),h.has("environment")&&this.records.set(Zn,ci(void 0,this));const y=this.records.get(q1);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(d.multi,T1,Vt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=go(this),a=rn(void 0);try{return i()}finally{go(o),rn(a)}}get(i,o=Xi,a=Vt.Default){this.assertNotDestroyed();const h=go(this),y=rn(void 0);try{if(!(a&Vt.SkipSelf)){let z=this.records.get(i);if(void 0===z){const P=function Zr(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qn}(i)&&en(i);z=P&&this.injectableDefInScope(P)?ci(a2(i),cn):null,this.records.set(i,z)}if(null!=z)return this.hydrate(i,z)}return(a&Vt.Self?F2():this.parent).get(i,o=a&Vt.Optional&&o===Xi?null:o)}catch(S){if("NullInjectorError"===S.name){if((S[xo]=S[xo]||[]).unshift(ze(i)),h)throw S;return function Ze(n,i,o,a){const h=n[xo];throw i[C3]&&h.unshift(i[C3]),n.message=function lt(n,i,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let h=ze(i);if(Array.isArray(i))h=i.map(ze).join(" -> ");else if("object"==typeof i){let y=[];for(let S in i)if(i.hasOwnProperty(S)){let z=i[S];y.push(S+":"+("string"==typeof z?JSON.stringify(z):ze(z)))}h=`{${y.join(", ")}}`}return`${o}${a?"("+a+")":""}[${h}]: ${n.replace(W4,"\n  ")}`}("\n"+n.message,h,o,a),n.ngTokenPath=h,n[xo]=null,n}(S,i,"R3InjectorError",this.source)}throw S}finally{rn(y),go(h)}}resolveInjectorInitializers(){const i=go(this),o=rn(void 0);try{const a=this.get(p.multi,T1,Vt.Self);for(const h of a)h()}finally{go(i),rn(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(ze(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(i){let o=w1(i=Ne(i))?i:Ne(i&&i.provide);const a=function x2(n){return yt(n)?ci(void 0,n.useValue):ci(tr(n),cn)}(i);if(w1(i)||!0!==i.multi)this.records.get(o);else{let h=this.records.get(o);h||(h=ci(void 0,cn,!0),h.factory=()=>G(h.multi),this.records.set(o,h)),o=i,h.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===cn&&(o.value=Hn,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Lo(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ne(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function a2(n){const i=en(n),o=null!==i?i.factory:Li(n);if(null!==o)return o;if(n instanceof Qn)throw new $e(204,!1);if(n instanceof Function)return function K2(n){const i=n.length;if(i>0)throw po(i,"?"),new $e(204,!1);const o=function Fn(n){const i=n&&(n[c2]||n[On]);if(i){const o=function r2(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new $e(204,!1)}function tr(n,i,o){let a;if(w1(n)){const h=Ne(n);return Li(h)||a2(h)}if(yt(n))a=()=>Ne(n.useValue);else if(function l1(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...G(n.deps||[]));else if(function y1(n){return!(!n||!n.useExisting)}(n))a=()=>Ni(Ne(n.useExisting));else{const h=Ne(n&&(n.useClass||n.provide));if(!function Fi(n){return!!n.deps}(n))return Li(h)||a2(h);a=()=>new h(...G(n.deps))}return a}function ci(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function o3(n){return!!n.\u0275providers}function ea(n,i){for(const o of n)Array.isArray(o)?ea(o,i):o3(o)?ea(o.\u0275providers,i):i(o)}class Oo{}class a3{resolveComponentFactory(i){throw function y6(n){const i=Error(`No component factory found for ${ze(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let za=(()=>{class n{}return n.NULL=new a3,n})();function _6(){return Ai(y2(),Dt())}function Ai(n,i){return new Mo(P2(n,i))}let Mo=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=_6,n})();function I4(n){return n instanceof Mo?n.nativeElement:n}class u4{}let La=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function P3(){const n=Dt(),o=wn(y2().index,n);return(In(o)?o:n)[11]}(),n})(),o0=(()=>{class n{}return n.\u0275prov=f1({token:n,providedIn:"root",factory:()=>null}),n})();class x4{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const K0=new x4("14.2.12"),z4={};function b6(n){return n.ngOriginalError}class C6{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&b6(i);for(;o&&b6(o);)o=b6(o);return o||null}}function ta(n){return n instanceof Function?n():n}function Vl(n,i,o){let a=n.length;for(;;){const h=n.indexOf(i,o);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const y=i.length;if(h+y===a||n.charCodeAt(h+y)<=32)return h}o=h+1}}const $c="ng-template";function Ns(n,i,o){let a=0;for(;a<n.length;){let h=n[a++];if(o&&"class"===h){if(h=n[a],-1!==Vl(h.toLowerCase(),i,0))return!0}else if(1===h){for(;a<n.length&&"string"==typeof(h=n[a++]);)if(h.toLowerCase()===i)return!0;return!1}}return!1}function Hl(n){return 4===n.type&&n.value!==$c}function Ku(n,i,o){return i===(4!==n.type||o?n.value:$c)}function Yu(n,i,o){let a=4;const h=n.attrs||[],y=function Ju(n){for(let i=0;i<n.length;i++)if(uo(n[i]))return i;return n.length}(h);let S=!1;for(let z=0;z<i.length;z++){const P=i[z];if("number"!=typeof P){if(!S)if(4&a){if(a=2|1&a,""!==P&&!Ku(n,P,o)||""===P&&1===i.length){if(f4(a))return!1;S=!0}}else{const K=8&a?P:i[++z];if(8&a&&null!==n.attrs){if(!Ns(n.attrs,K,o)){if(f4(a))return!1;S=!0}continue}const de=Fl(8&a?"class":P,h,Hl(n),o);if(-1===de){if(f4(a))return!1;S=!0;continue}if(""!==K){let Ve;Ve=de>y?"":h[de+1].toLowerCase();const it=8&a?Ve:null;if(it&&-1!==Vl(it,K,0)||2&a&&K!==Ve){if(f4(a))return!1;S=!0}}}}else{if(!S&&!f4(a)&&!f4(P))return!1;if(S&&f4(P))continue;S=!1,a=P|1&a}}return f4(a)||S}function f4(n){return 0==(1&n)}function Fl(n,i,o,a){if(null===i)return-1;let h=0;if(a||!o){let y=!1;for(;h<i.length;){const S=i[h];if(S===n)return h;if(3===S||6===S)y=!0;else{if(1===S||2===S){let z=i[++h];for(;"string"==typeof z;)z=i[++h];continue}if(4===S)break;if(0===S){h+=4;continue}}h+=y?1:2}return-1}return function a5(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,n)}function Bl(n,i,o=!1){for(let a=0;a<i.length;a++)if(Yu(n,i[a],o))return!0;return!1}function c5(n,i){e:for(let o=0;o<i.length;o++){const a=i[o];if(n.length===a.length){for(let h=0;h<n.length;h++)if(n[h]!==a[h])continue e;return!0}}return!1}function Wc(n,i){return n?":not("+i.trim()+")":i}function ec(n){let i=n[0],o=1,a=2,h="",y=!1;for(;o<n.length;){let S=n[o];if("string"==typeof S)if(2&a){const z=n[++o];h+="["+S+(z.length>0?'="'+z+'"':"")+"]"}else 8&a?h+="."+S:4&a&&(h+=" "+S);else""!==h&&!f4(S)&&(i+=Wc(y,h),h=""),a=S,y=y||!f4(a);o++}return""!==h&&(i+=Wc(y,h)),i}const Nn={};function u5(n){Ul(dn(),Dt(),De()+n,!1)}function Ul(n,i,o,a){if(!a)if(3==(3&i[2])){const y=n.preOrderCheckHooks;null!==y&&Wn(i,y,o)}else{const y=n.preOrderHooks;null!==y&&rs(i,y,0,o)}Xe(o)}function w6(n,i=null,o=null,a){const h=Kc(n,i,o,a);return h.resolveInjectorInitializers(),h}function Kc(n,i=null,o=null,a,h=new Set){const y=[o||T1,O(n)];return a=a||("object"==typeof n?void 0:ze(n)),new e2(y,i||F2(),a||null,h)}let O4=(()=>{class n{static create(o,a){if(Array.isArray(o))return w6({name:""},a,o,"");{const h=o.name??"";return w6({name:h},o.parent,o.providers,h)}}}return n.THROW_IF_NOT_FOUND=Xi,n.NULL=new D,n.\u0275prov=f1({token:n,providedIn:"any",factory:()=>Ni(C)}),n.__NG_ELEMENT_ID__=-1,n})();function V3(n,i=Vt.Default){const o=Dt();return null===o?Ni(n,i):fo(y2(),o,Ne(n),i)}function e7(){throw new Error("invalid")}function H3(n,i){return n<<17|i<<2}function na(n){return n>>17&32767}function d0(n){return 2|n}function ia(n){return(131068&n)>>2}function nc(n,i){return-131069&n|i<<2}function ic(n){return 1|n}function f7(n,i){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a],y=o[a+1];if(-1!==y){const S=n.data[y];Vi(h),S.contentQueries(2,i[y],y)}}}function m0(n,i,o,a,h,y,S,z,P,K,re){const de=i.blueprint.slice();return de[0]=h,de[2]=76|a,(null!==re||n&&1024&n[2])&&(de[2]|=1024),v2(de),de[3]=de[15]=n,de[8]=o,de[10]=S||n&&n[10],de[11]=z||n&&n[11],de[12]=P||n&&n[12]||null,de[9]=K||n&&n[9]||null,de[6]=y,de[20]=function W6(){return Sr++}(),de[21]=re,de[16]=2==i.type?n[16]:de,de}function g0(n,i,o,a,h){let y=n.data[i];if(null===y)y=l8(n,i,o,a,h),function dr(){return L1.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=o,y.value=a,y.attrs=h;const S=Ys();y.injectorIndex=null===S?-1:S.injectorIndex}return ur(y,!0),y}function l8(n,i,o,a,h){const y=So(),S=es(),P=n.data[i]=function P5(n,i,o,a,h,y){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?y:y&&y.parent,o,i,a,h);return null===n.firstChild&&(n.firstChild=P),null!==y&&(S?null==y.child&&null!==P.parent&&(y.child=P):null===y.next&&(y.next=P)),P}function v0(n,i,o,a){if(0===o)return-1;const h=i.length;for(let y=0;y<o;y++)i.push(a),n.blueprint.push(a),n.data.push(null);return h}function u8(n,i,o){is(i);try{const a=n.viewQuery;null!==a&&W5(1,a,o);const h=n.template;null!==h&&I5(n,i,h,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&f7(n,i),n.staticViewQueries&&W5(2,n.viewQuery,o);const y=n.components;null!==y&&function A5(n,i){for(let o=0;o<i.length;o++)y9(n,i[o])}(i,y)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[2]&=-5,J()}}function ac(n,i,o,a){const h=i[2];if(128!=(128&h)){is(i);try{v2(i),function Qe(n){return L1.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&I5(n,i,o,2,a);const S=3==(3&h);if(S){const K=n.preOrderCheckHooks;null!==K&&Wn(i,K,null)}else{const K=n.preOrderHooks;null!==K&&rs(i,K,0,null),_r(i,0)}if(function $5(n){for(let i=Ja(n);null!==i;i=X4(i)){if(!i[2])continue;const o=i[9];for(let a=0;a<o.length;a++){const h=o[a],y=h[3];0==(512&h[2])&&h2(y,1),h[2]|=512}}}(i),function g9(n){for(let i=Ja(n);null!==i;i=X4(i))for(let o=10;o<i.length;o++){const a=i[o],h=a[1];Jr(a)&&ac(h,a,h.template,a[8])}}(i),null!==n.contentQueries&&f7(n,i),S){const K=n.contentCheckHooks;null!==K&&Wn(i,K)}else{const K=n.contentHooks;null!==K&&rs(i,K,1),_r(i,1)}!function T5(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const h=o[a];if(h<0)Xe(~h);else{const y=h,S=o[++a],z=o[++a];gs(S,y),z(2,i[y])}}}finally{Xe(-1)}}(n,i);const z=n.components;null!==z&&function d9(n,i){for(let o=0;o<i.length;o++)v9(n,i[o])}(i,z);const P=n.viewQuery;if(null!==P&&W5(2,P,a),S){const K=n.viewCheckHooks;null!==K&&Wn(i,K)}else{const K=n.viewHooks;null!==K&&rs(i,K,2),_r(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,h2(i[3],-1))}finally{J()}}}function I5(n,i,o,a,h){const y=De(),S=2&a;try{Xe(-1),S&&i.length>22&&Ul(n,i,22,!1),o(a,h)}finally{Xe(y)}}function z5(n,i,o){!gr()||(function p9(n,i,o,a){const h=o.directiveStart,y=o.directiveEnd;n.firstCreatePass||Gt(o,i),jr(a,i);const S=o.initialInputs;for(let z=h;z<y;z++){const P=n.data[z],K=R2(P);K&&u3(i,o,P);const re=Hr(i,n,z,o);jr(re,i),null!==S&&G5(0,z-h,re,P,0,S),K&&(wn(o.index,i)[8]=re)}}(n,i,o,P2(o,i)),128==(128&o.flags)&&function F5(n,i,o){const a=o.directiveStart,h=o.directiveEnd,y=o.index,S=function ts(){return L1.lFrame.currentDirectiveIndex}();try{Xe(y);for(let z=a;z<h;z++){const P=n.data[z],K=i[z];ns(z),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&f8(P,K)}}finally{Xe(-1),ns(S)}}(n,i,o))}function L5(n,i,o=P2){const a=i.localNames;if(null!==a){let h=i.index+1;for(let y=0;y<a.length;y+=2){const S=a[y+1],z=-1===S?o(i,n):n[S];n[h++]=z}}}function h7(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=O5(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function O5(n,i,o,a,h,y,S,z,P,K){const re=22+a,de=re+h,Ve=function k5(n,i){const o=[];for(let a=0;a<i;a++)o.push(a<n?null:Nn);return o}(re,de),it="function"==typeof K?K():K;return Ve[1]={type:n,blueprint:Ve,template:o,queries:null,viewQuery:z,declTNode:i,data:Ve.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:P,consts:it,incompleteFirstPass:!1}}function m7(n,i,o,a){const h=w7(i);null===o?h.push(a):(h.push(o),n.firstCreatePass&&m8(n).push(a,h.length-1))}function g7(n,i,o){for(let a in n)if(n.hasOwnProperty(a)){const h=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(i,h):o[a]=[i,h]}return o}function d8(n,i){const a=i.directiveEnd,h=n.data,y=i.attrs,S=[];let z=null,P=null;for(let K=i.directiveStart;K<a;K++){const re=h[K],de=re.inputs,Ve=null===y||Hl(i)?null:m9(de,y);S.push(Ve),z=g7(de,K,z),P=g7(re.outputs,K,P)}null!==z&&(z.hasOwnProperty("class")&&(i.flags|=16),z.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=S,i.inputs=z,i.outputs=P}function Do(n,i,o,a,h,y,S,z){const P=P2(i,o);let re,K=i.inputs;!z&&null!=K&&(re=K[a])?(q5(n,o,re,a,h),wi(i)&&V5(o,i.index)):3&i.type&&(a=function v7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),h=null!=S?S(h,i.value||"",a):h,y.setProperty(P,a,h))}function V5(n,i){const o=wn(i,n);16&o[2]||(o[2]|=32)}function cc(n,i,o,a){let h=!1;if(gr()){const y=function B5(n,i,o){const a=n.directiveRegistry;let h=null;if(a)for(let y=0;y<a.length;y++){const S=a[y];Bl(o,S.selectors,!1)&&(h||(h=[]),gi(Gt(o,i),n,S.type),R2(S)?(N6(n,o),h.unshift(S)):h.push(S))}return h}(n,i,o),S=null===a?null:{"":-1};if(null!==y){h=!0,C7(o,n.data.length,y.length);for(let re=0;re<y.length;re++){const de=y[re];de.providersResolver&&de.providersResolver(de)}let z=!1,P=!1,K=v0(n,i,y.length,null);for(let re=0;re<y.length;re++){const de=y[re];o.mergedAttrs=Fa(o.mergedAttrs,de.hostAttrs),h8(n,o,i,K,de),U5(K,de,S),null!==de.contentQueries&&(o.flags|=8),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(o.flags|=128);const Ve=de.type.prototype;!z&&(Ve.ngOnChanges||Ve.ngOnInit||Ve.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),z=!0),!P&&(Ve.ngOnChanges||Ve.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),P=!0),K++}d8(n,o)}S&&function b7(n,i,o){if(i){const a=n.localNames=[];for(let h=0;h<i.length;h+=2){const y=o[i[h+1]];if(null==y)throw new $e(-301,!1);a.push(i[h],y)}}}(o,a,S)}return o.mergedAttrs=Fa(o.mergedAttrs,o.attrs),h}function _7(n,i,o,a,h,y){const S=y.hostBindings;if(S){let z=n.hostBindingOpCodes;null===z&&(z=n.hostBindingOpCodes=[]);const P=~i.index;(function H5(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(z)!=P&&z.push(P),z.push(a,h,S)}}function f8(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function N6(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function U5(n,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=n;R2(i)&&(o[""]=n)}}function C7(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function h8(n,i,o,a,h){n.data[a]=h;const y=h.factory||(h.factory=Li(h.type)),S=new Z2(y,R2(h),V3);n.blueprint[a]=S,o[a]=S,_7(n,i,0,a,v0(n,o,h.hostVars,Nn),h)}function u3(n,i,o){const a=P2(i,n),h=h7(o),y=n[10],S=uc(n,m0(n,h,null,o.onPush?32:16,a,i,y,y.createRenderer(a,o),null,null,null));n[i.index]=S}function j5(n,i,o,a,h,y,S){if(null==y)n.removeAttribute(i,h,o);else{const z=null==S?ut(y):S(y,a||"",h);n.setAttribute(i,h,z,o)}}function G5(n,i,o,a,h,y){const S=y[i];if(null!==S){const z=a.setInput;for(let P=0;P<S.length;){const K=S[P++],re=S[P++],de=S[P++];null!==z?a.setInput(o,de,K,re):o[re]=de}}}function m9(n,i){let o=null,a=0;for(;a<i.length;){const h=i[a];if(0!==h)if(5!==h){if("number"==typeof h)break;n.hasOwnProperty(h)&&(null===o&&(o=[]),o.push(h,n[h],i[a+1])),a+=2}else a+=2;else a+=4}return o}function p8(n,i,o,a){return new Array(n,!0,!1,i,null,0,a,o,null,null)}function v9(n,i){const o=wn(i,n);if(Jr(o)){const a=o[1];48&o[2]?ac(a,o,a.template,o[8]):o[5]>0&&lc(o)}}function lc(n){for(let a=Ja(n);null!==a;a=X4(a))for(let h=10;h<a.length;h++){const y=a[h];if(Jr(y))if(512&y[2]){const S=y[1];ac(S,y,S.template,y[8])}else y[5]>0&&lc(y)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const h=wn(o[a],n);Jr(h)&&h[5]>0&&lc(h)}}function y9(n,i){const o=wn(i,n),a=o[1];(function Z5(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(a,o),u8(a,o,o[8])}function uc(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function dc(n){for(;n;){n[2]|=32;const i=w4(n);if(qr(n)&&!i)return n;n=i}return null}function fc(n,i,o,a=!0){const h=i[10];h.begin&&h.begin();try{ac(n,i,n.template,o)}catch(S){throw a&&v8(i,S),S}finally{h.end&&h.end()}}function W5(n,i,o){Vi(0),i(n,o)}function w7(n){return n[7]||(n[7]=[])}function m8(n){return n.cleanup||(n.cleanup=[])}function v8(n,i){const o=n[9],a=o?o.get(C6,null):null;a&&a.handleError(i)}function q5(n,i,o,a,h){for(let y=0;y<o.length;){const S=o[y++],z=o[y++],P=i[S],K=n.data[S];null!==K.setInput?K.setInput(P,h,a,z):P[z]=h}}function hc(n,i,o){let a=o?n.styles:null,h=o?n.classes:null,y=0;if(null!==i)for(let S=0;S<i.length;S++){const z=i[S];"number"==typeof z?y=z:1==y?h=ke(h,z):2==y&&(a=ke(a,z+": "+i[++S]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=h:n.classesWithoutHost=h}function y8(n,i,o,a,h=!1){for(;null!==o;){const y=i[o.index];if(null!==y&&a.push(f2(y)),k2(y))for(let z=10;z<y.length;z++){const P=y[z],K=P[1].firstChild;null!==K&&y8(P[1],P,K,a)}const S=o.type;if(8&S)y8(n,i,o.child,a);else if(32&S){const z=Ka(o,i);let P;for(;P=z();)a.push(P)}else if(16&S){const z=E4(i,o);if(Array.isArray(z))a.push(...z);else{const P=w4(i[16]);y8(P[1],P,z,a,!0)}}o=h?o.projectionNext:o.next}return a}class T6{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return y8(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(k2(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(e4(i,a),wr(o,a))}this._attachedToViewContainer=!1}I3(this._lView[1],this._lView)}onDestroy(i){m7(this._lView[1],this._lView,null,i)}markForCheck(){dc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){fc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qa(n,i){S4(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=i}}class K5 extends T6{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;fc(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class _8 extends za{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Ue(i);return new Kn(o,this.ngModule)}}function Y5(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class b8{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){const h=this.injector.get(i,z4,a);return h!==z4||o===z4?h:this.parentInjector.get(i,o,a)}}class Kn extends Oo{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function qc(n){return n.map(ec).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Y5(this.componentDef.inputs)}get outputs(){return Y5(this.componentDef.outputs)}create(i,o,a,h){let y=(h=h||this.ngModule)instanceof Zn?h:h?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const S=y?new b8(i,y):i,z=S.get(u4,null);if(null===z)throw new $e(407,!1);const P=S.get(o0,null),K=z.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",de=a?function R5(n,i,o){return n.selectRootElement(i,o===t1.ShadowDom)}(K,a,this.componentDef.encapsulation):A3(K,re,function D7(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(re)),Ve=this.componentDef.onPush?288:272,it=O5(0,null,null,1,0,null,null,null,null,null),Et=m0(null,it,null,Ve,null,null,z,K,P,S,null);let qt,u1;is(Et);try{const O1=function N7(n,i,o,a,h,y){const S=o[1];o[22]=n;const P=g0(S,22,2,"#host",null),K=P.mergedAttrs=i.hostAttrs;null!==K&&(hc(P,K,!0),null!==n&&(Ho(h,n,K),null!==P.classes&&Aa(h,n,P.classes),null!==P.styles&&bo(h,n,P.styles)));const re=a.createRenderer(n,i),de=m0(o,h7(i),null,i.onPush?32:16,o[22],P,a,re,y||null,null,null);return S.firstCreatePass&&(gi(Gt(P,o),S,i.type),N6(S,P),C7(P,o.length,1)),uc(o,de),o[22]=de}(de,this.componentDef,Et,z,K);if(de)if(a)Ho(K,de,["ng-version",K0.full]);else{const{attrs:nn,classes:kt}=function l5(n){const i=[],o=[];let a=1,h=2;for(;a<n.length;){let y=n[a];if("string"==typeof y)2===h?""!==y&&i.push(y,n[++a]):8===h&&o.push(y);else{if(!f4(h))break;h=y}a++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);nn&&Ho(K,de,nn),kt&&kt.length>0&&Aa(K,de,kt.join(" "))}if(u1=Zs(it,22),void 0!==o){const nn=u1.projection=[];for(let kt=0;kt<this.ngContentSelectors.length;kt++){const _n=o[kt];nn.push(null!=_n?Array.from(_n):null)}}qt=function Bi(n,i,o,a){const h=o[1],y=function h9(n,i,o){const a=y2();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),h8(n,a,i,v0(n,i,1,null),o),d8(n,a));const h=Hr(i,n,a.directiveStart,a);jr(h,i);const y=P2(a,i);return y&&jr(y,i),h}(h,o,i);if(n[8]=o[8]=y,null!==a)for(const z of a)z(y,i);if(i.contentQueries){const z=y2();i.contentQueries(1,y,z.directiveStart)}const S=y2();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Xe(S.index),_7(o[1],S,0,S.directiveStart,S.directiveEnd,i),f8(i,y)),y}(O1,this.componentDef,Et,[js]),u8(it,Et,null)}finally{J()}return new S7(this.componentType,qt,Ai(u1,Et),Et,u1)}}class S7 extends class Ss{}{constructor(i,o,a,h,y){super(),this.location=a,this._rootLView=h,this._tNode=y,this.instance=o,this.hostView=this.changeDetectorRef=new K5(h),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let h;if(null!==a&&(h=a[i])){const y=this._rootLView;q5(y[1],y,h,i,o),V5(y,this._tNode.index)}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function js(){const n=y2();Jn(Dt()[1],n)}function M8(n){let i=function h4(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;i;){let h;if(R2(n))h=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new $e(903,!1);h=i.\u0275dir}if(h){if(o){a.push(h);const S=n;S.inputs=y0(n.inputs),S.declaredInputs=y0(n.declaredInputs),S.outputs=y0(n.outputs);const z=h.hostBindings;z&&A7(n,z);const P=h.viewQuery,K=h.contentQueries;if(P&&T7(n,P),K&&J5(n,K),Re(n.inputs,h.inputs),Re(n.declaredInputs,h.declaredInputs),Re(n.outputs,h.outputs),R2(h)&&h.data.animation){const re=n.data;re.animation=(re.animation||[]).concat(h.data.animation)}}const y=h.features;if(y)for(let S=0;S<y.length;S++){const z=y[S];z&&z.ngInherit&&z(n),z===M8&&(o=!1)}}i=Object.getPrototypeOf(i)}!function b9(n){let i=0,o=null;for(let a=n.length-1;a>=0;a--){const h=n[a];h.hostVars=i+=h.hostVars,h.hostAttrs=Fa(h.hostAttrs,o=Fa(o,h.hostAttrs))}}(a)}function y0(n){return n===S1?{}:n===T1?[]:n}function T7(n,i){const o=n.viewQuery;n.viewQuery=o?(a,h)=>{i(a,h),o(a,h)}:i}function J5(n,i){const o=n.contentQueries;n.contentQueries=o?(a,h,y)=>{i(a,h,y),o(a,h,y)}:i}function A7(n,i){const o=n.hostBindings;n.hostBindings=o?(a,h)=>{i(a,h),o(a,h)}:i}let D8=null;function A6(){if(!D8){const n=an.Symbol;if(n&&n.iterator)D8=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const a=i[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(D8=a)}}}return D8}function pc(n){return!!mc(n)&&(Array.isArray(n)||!(n instanceof Map)&&A6()in n)}function mc(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ka(n,i,o){return n[i]=o}function Ts(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function H4(n,i,o,a){const h=Ts(n,i,o);return Ts(n,i+1,a)||h}function b0(n,i,o,a){const h=Dt();return Ts(h,d1(),i)&&(dn(),function Oa(n,i,o,a,h,y){const S=P2(n,i);j5(i[11],S,y,n.value,o,a,h)}(mt(),h,n,i,o,a)),b0}function B3(n,i,o,a){return Ts(n,d1(),o)?i+ut(o)+a:Nn}function w9(n,i,o,a,h,y,S,z){const P=Dt(),K=dn(),re=n+22,de=K.firstCreatePass?function bf(n,i,o,a,h,y,S,z,P){const K=i.consts,re=g0(i,n,4,S||null,N2(K,z));cc(i,o,re,N2(K,P)),Jn(i,re);const de=re.tViews=O5(2,re,a,h,y,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,re),de.queries=i.queries.embeddedTView(re)),re}(re,K,P,i,o,a,h,y,S):K.data[re];ur(de,!1);const Ve=P[11].createComment("");t3(K,P,Ve,de),jr(Ve,P),uc(P,P[re]=p8(Ve,P,Ve,de)),xr(de)&&z5(K,P,de),null!=S&&L5(P,de,z)}function X5(n){return lr(function Js(){return L1.lFrame.contextLView}(),22+n)}function el(n,i,o){const a=Dt();return Ts(a,d1(),i)&&Do(dn(),mt(),a,n,i,a[11],o,!1),el}function tl(n,i,o,a,h){const S=h?"class":"style";q5(n,o,i.inputs[S],S,a)}function S8(n,i,o,a){const h=Dt(),y=dn(),S=22+n,z=h[11],P=h[S]=A3(z,i,function vn(){return L1.lFrame.currentNamespace}()),K=y.firstCreatePass?function H7(n,i,o,a,h,y,S){const z=i.consts,K=g0(i,n,2,h,N2(z,y));return cc(i,o,K,N2(z,S)),null!==K.attrs&&hc(K,K.attrs,!1),null!==K.mergedAttrs&&hc(K,K.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,K),K}(S,y,h,0,i,o,a):y.data[S];ur(K,!0);const re=K.mergedAttrs;null!==re&&Ho(z,P,re);const de=K.classes;null!==de&&Aa(z,P,de);const Ve=K.styles;return null!==Ve&&bo(z,P,Ve),64!=(64&K.flags)&&t3(y,h,P,K),0===function xs(){return L1.lFrame.elementDepthCount}()&&jr(P,h),function Or(){L1.lFrame.elementDepthCount++}(),xr(K)&&(z5(y,h,K),function x5(n,i,o){if(Ir(i)){const h=i.directiveEnd;for(let y=i.directiveStart;y<h;y++){const S=n.data[y];S.contentQueries&&S.contentQueries(1,o[y],y)}}}(y,K,h)),null!==a&&L5(h,K),S8}function N8(){let n=y2();es()?Pr():(n=n.parent,ur(n,!1));const i=n;!function Ks(){L1.lFrame.elementDepthCount--}();const o=dn();return o.firstCreatePass&&(Jn(o,n),Ir(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function $4(n){return 0!=(16&n.flags)}(i)&&tl(o,i,Dt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ha(n){return 0!=(32&n.flags)}(i)&&tl(o,i,Dt(),i.stylesWithoutHost,!1),N8}function nl(n,i,o,a){return S8(n,i,o,a),N8(),nl}function rl(){return Dt()}function Ra(n){return!!n&&"function"==typeof n.then}function F4(n){return!!n&&"function"==typeof n.subscribe}const E9=F4;function d3(n,i,o,a){const h=Dt(),y=dn(),S=y2();return function U7(n,i,o,a,h,y,S,z){const P=xr(a),re=n.firstCreatePass&&m8(n),de=i[8],Ve=w7(i);let it=!0;if(3&a.type||z){const u1=P2(a,i),O1=z?z(u1):u1,nn=Ve.length,kt=z?ei=>z(f2(ei[a.index])):a.index;let _n=null;if(!z&&P&&(_n=function S9(n,i,o,a){const h=n.cleanup;if(null!=h)for(let y=0;y<h.length-1;y+=2){const S=h[y];if(S===o&&h[y+1]===a){const z=i[7],P=h[y+2];return z.length>P?z[P]:null}"string"==typeof S&&(y+=2)}return null}(n,i,h,a.index)),null!==_n)(_n.__ngLastListenerFn__||_n).__ngNextListenerFn__=y,_n.__ngLastListenerFn__=y,it=!1;else{y=ol(a,i,de,y,!1);const ei=o.listen(O1,h,y);Ve.push(y,ei),re&&re.push(h,kt,nn,nn+1)}}else y=ol(a,i,de,y,!1);const Et=a.outputs;let qt;if(it&&null!==Et&&(qt=Et[h])){const u1=qt.length;if(u1)for(let O1=0;O1<u1;O1+=2){const mr=i[qt[O1]][qt[O1+1]].subscribe(y),Ac=Ve.length;Ve.push(y,mr),re&&re.push(h,a.index,Ac,-(Ac+1))}}}(y,h,h[11],S,n,i,0,a),d3}function sl(n,i,o,a){try{return!1!==o(a)}catch(h){return v8(n,h),!1}}function ol(n,i,o,a,h){return function y(S){if(S===Function)return a;dc(2&n.flags?wn(n.index,i):i);let P=sl(i,0,a,S),K=y.__ngNextListenerFn__;for(;K;)P=sl(i,0,K,S)&&P,K=K.__ngNextListenerFn__;return h&&!1===P&&(S.preventDefault(),S.returnValue=!1),P}}function D0(n=1){return function F(n){return(L1.lFrame.contextLView=function ne(n,i){for(;n>0;)i=i[15],n--;return i}(n,L1.lFrame.contextLView))[8]}(n)}function N9(n,i){let o=null;const a=function Zc(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let h=0;h<i.length;h++){const y=i[h];if("*"!==y){if(null===a?Bl(n,y,!0):c5(a,y))return h}else o=h}return o}function j3(n){const i=Dt()[16][6];if(!i.projection){const a=i.projection=po(n?n.length:1,null),h=a.slice();let y=i.child;for(;null!==y;){const S=n?N9(y,n):0;null!==S&&(h[S]?h[S].projectionNext=y:a[S]=y,h[S]=y),y=y.next}}}function vc(n,i=0,o){const a=Dt(),h=dn(),y=g0(h,22+n,16,null,o||null);null===y.projection&&(y.projection=i),Pr(),64!=(64&y.flags)&&function Gr(n,i,o){d6(i[11],0,i,o,_o(n,o,i),J6(o.parent||i[6],o,i))}(h,a,y)}function L6(n,i,o){return yc(n,"",i,"",o),L6}function yc(n,i,o,a,h){const y=Dt(),S=B3(y,i,o,a);return S!==Nn&&Do(dn(),mt(),y,n,S,y[11],h,!1),yc}function x8(n,i,o,a,h){const y=n[o+1],S=null===i;let z=a?na(y):ia(y),P=!1;for(;0!==z&&(!1===P||S);){const re=n[z+1];A9(n[z],i)&&(P=!0,n[z+1]=a?ic(re):d0(re)),z=a?na(re):ia(re)}P&&(n[o+1]=a?d0(y):ic(y))}function A9(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&we(n,i)>=0}const pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _c(n){return n.substring(pr.key,pr.keyEnd)}function q7(n,i){const o=pr.textEnd;return o===i?-1:(i=pr.keyEnd=function $3(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,pr.key=i,o),B4(n,i,o))}function B4(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Mc(n,i,o){return m4(n,i,o,!1),Mc}function ul(n,i){return m4(n,i,null,!0),ul}function J7(n){!function g4(n,i,o,a){const h=dn(),y=Un(2);h.firstUpdatePass&&Q7(h,null,y,a);const S=Dt();if(o!==Nn&&Ts(S,y,o)){const z=h.data[De()];if(f3(z,a)&&!wc(h,y)){let P=a?z.classesWithoutHost:z.stylesWithoutHost;null!==P&&(o=ke(P,o||"")),tl(h,z,S,o,a)}else!function R8(n,i,o,a,h,y,S,z){h===Nn&&(h=T1);let P=0,K=0,re=0<h.length?h[0]:null,de=0<y.length?y[0]:null;for(;null!==re||null!==de;){const Ve=P<h.length?h[P+1]:void 0,it=K<y.length?y[K+1]:void 0;let qt,Et=null;re===de?(P+=2,K+=2,Ve!==it&&(Et=de,qt=it)):null===de||null!==re&&re<de?(P+=2,Et=re):(K+=2,Et=de,qt=it),null!==Et&&iu(n,i,o,a,Et,qt,S,z),re=P<h.length?h[P]:null,de=K<y.length?y[K]:null}}(h,z,S,S[11],S[y+1],S[y+1]=function nu(n,i,o){if(null==o||""===o)return T1;const a=[],h=hr(o);if(Array.isArray(h))for(let y=0;y<h.length;y++)n(a,h[y],!0);else if("object"==typeof h)for(const y in h)h.hasOwnProperty(y)&&n(a,y,h[y]);else"string"==typeof h&&i(a,h);return a}(n,i,o),a,y)}}(ee,oa,n,!0)}function oa(n,i){for(let o=function bc(n){return function L8(n){pr.key=0,pr.keyEnd=0,pr.value=0,pr.valueEnd=0,pr.textEnd=n.length}(n),q7(n,B4(n,0,pr.textEnd))}(i);o>=0;o=q7(i,o))ee(n,_c(i),!0)}function m4(n,i,o,a){const h=Dt(),y=dn(),S=Un(2);y.firstUpdatePass&&Q7(y,n,S,a),i!==Nn&&Ts(h,S,i)&&iu(y,y.data[De()],h,h[11],n,h[S+1]=function Dc(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ze(hr(n)))),n}(i,o),a,S)}function wc(n,i){return i>=n.expandoStartIndex}function Q7(n,i,o,a){const h=n.data;if(null===h[o+1]){const y=h[De()],S=wc(n,o);f3(y,a)&&null===i&&!S&&(i=!1),i=function x9(n,i,o,a){const h=function yr(n){const i=L1.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let y=a?i.residualClasses:i.residualStyles;if(null===h)0===(a?i.classBindings:i.styleBindings)&&(o=S0(o=O8(null,n,i,o,a),i.attrs,a),y=null);else{const S=i.directiveStylingLast;if(-1===S||n[S]!==h)if(o=O8(h,n,i,o,a),null===y){let P=function X7(n,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==ia(a))return n[na(a)]}(n,i,a);void 0!==P&&Array.isArray(P)&&(P=O8(null,n,i,P[1],a),P=S0(P,i.attrs,a),function eu(n,i,o,a){n[na(o?i.classBindings:i.styleBindings)]=a}(n,i,a,P))}else y=function tu(n,i,o){let a;const h=i.directiveEnd;for(let y=1+i.directiveStylingLast;y<h;y++)a=S0(a,n[y].hostAttrs,o);return S0(a,i.attrs,o)}(n,i,a)}return void 0!==y&&(a?i.residualClasses=y:i.residualStyles=y),o}(h,y,i,a),function Z7(n,i,o,a,h,y){let S=y?i.classBindings:i.styleBindings,z=na(S),P=ia(S);n[a]=o;let re,K=!1;if(Array.isArray(o)){const de=o;re=de[1],(null===re||we(de,re)>0)&&(K=!0)}else re=o;if(h)if(0!==P){const Ve=na(n[z+1]);n[a+1]=H3(Ve,z),0!==Ve&&(n[Ve+1]=nc(n[Ve+1],a)),n[z+1]=function y5(n,i){return 131071&n|i<<17}(n[z+1],a)}else n[a+1]=H3(z,0),0!==z&&(n[z+1]=nc(n[z+1],a)),z=a;else n[a+1]=H3(P,0),0===z?z=a:n[P+1]=nc(n[P+1],a),P=a;K&&(n[a+1]=d0(n[a+1])),x8(n,re,a,!0),x8(n,re,a,!1),function cl(n,i,o,a,h){const y=h?n.residualClasses:n.residualStyles;null!=y&&"string"==typeof i&&we(y,i)>=0&&(o[a+1]=ic(o[a+1]))}(i,re,n,a,y),S=H3(z,P),y?i.classBindings=S:i.styleBindings=S}(h,y,i,o,S,a)}}function O8(n,i,o,a,h){let y=null;const S=o.directiveEnd;let z=o.directiveStylingLast;for(-1===z?z=o.directiveStart:z++;z<S&&(y=i[z],a=S0(a,y.hostAttrs,h),y!==n);)z++;return null!==n&&(o.directiveStylingLast=z),a}function S0(n,i,o){const a=o?1:2;let h=-1;if(null!==i)for(let y=0;y<i.length;y++){const S=i[y];"number"==typeof S?h=S:h===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ee(n,S,!!o||i[++y]))}return void 0===n?null:n}function iu(n,i,o,a,h,y,S,z){if(!(3&i.type))return;const P=n.data,K=P[z+1];Pa(function _5(n){return 1==(1&n)}(K)?Z3(P,i,o,h,ia(K),S):void 0)||(Pa(y)||function D6(n){return 2==(2&n)}(K)&&(y=Z3(P,null,o,h,z,S)),function r4(n,i,o,a,h){if(i)h?n.addClass(o,a):n.removeClass(o,a);else{let y=-1===a.indexOf("-")?void 0:ws.DashCase;null==h?n.removeStyle(o,a,y):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),y|=ws.Important),n.setStyle(o,a,h,y))}}(a,S,X2(De(),o),h,y))}function Z3(n,i,o,a,h,y){const S=null===i;let z;for(;h>0;){const P=n[h],K=Array.isArray(P),re=K?P[1]:P,de=null===re;let Ve=o[h+1];Ve===Nn&&(Ve=de?T1:void 0);let it=de?me(Ve,a):re===a?Ve:void 0;if(K&&!Pa(it)&&(it=me(P,a)),Pa(it)&&(z=it,S))return z;const Et=n[h+1];h=S?na(Et):ia(Et)}if(null!==i){let P=y?i.residualClasses:i.residualStyles;null!=P&&(z=me(P,a))}return z}function Pa(n){return void 0!==n}function f3(n,i){return 0!=(n.flags&(i?16:32))}function ru(n,i=""){const o=Dt(),a=dn(),h=n+22,y=a.firstCreatePass?g0(a,h,1,i,null):a.data[h],S=o[h]=l6(o[11],i);t3(a,o,S,y),ur(y,!1)}function P8(n){return V8("",n,""),P8}function V8(n,i,o){const a=Dt(),h=B3(a,n,i,o);return h!==Nn&&function V4(n,i,o){const a=X2(i,n);D4(n[11],a,o)}(a,De(),h),V8}function Ec(n,i,o){const a=Dt();return Ts(a,d1(),i)&&Do(dn(),mt(),a,n,i,a[11],o,!0),Ec}const O6=void 0;var F8=["en",[["a","p"],["AM","PM"],O6],[["AM","PM"],O6,O6],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],O6,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],O6,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",O6,"{1} 'at' {0}",O6],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mu(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let A0={};function B8(n){const i=function Sc(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=no(i);if(o)return o;const a=i.split("-")[0];if(o=no(a),o)return o;if("en"===a)return F8;throw new $e(701,!1)}function aa(n){return B8(n)[X1.PluralCase]}function no(n){return n in A0||(A0[n]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[n]),A0[n]}var X1=(()=>((X1=X1||{})[X1.LocaleId=0]="LocaleId",X1[X1.DayPeriodsFormat=1]="DayPeriodsFormat",X1[X1.DayPeriodsStandalone=2]="DayPeriodsStandalone",X1[X1.DaysFormat=3]="DaysFormat",X1[X1.DaysStandalone=4]="DaysStandalone",X1[X1.MonthsFormat=5]="MonthsFormat",X1[X1.MonthsStandalone=6]="MonthsStandalone",X1[X1.Eras=7]="Eras",X1[X1.FirstDayOfWeek=8]="FirstDayOfWeek",X1[X1.WeekendRange=9]="WeekendRange",X1[X1.DateFormat=10]="DateFormat",X1[X1.TimeFormat=11]="TimeFormat",X1[X1.DateTimeFormat=12]="DateTimeFormat",X1[X1.NumberSymbols=13]="NumberSymbols",X1[X1.NumberFormats=14]="NumberFormats",X1[X1.CurrencyCode=15]="CurrencyCode",X1[X1.CurrencySymbol=16]="CurrencySymbol",X1[X1.CurrencyName=17]="CurrencyName",X1[X1.Currencies=18]="Currencies",X1[X1.Directionality=19]="Directionality",X1[X1.PluralCase=20]="PluralCase",X1[X1.ExtraData=21]="ExtraData",X1))();const U8=["zero","one","two","few","many"],x0="en-US",p3={marker:"element"},U4={marker:"ICU"};var qi=(()=>((qi=qi||{})[qi.SHIFT=2]="SHIFT",qi[qi.APPEND_EAGERLY=1]="APPEND_EAGERLY",qi[qi.COMMENT=2]="COMMENT",qi))();let gu=x0;function vu(n){(function N1(n,i){null==n&&Nt(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(gu=n.toLowerCase().replace(/_/g,"-"))}function m3(n,i,o){const a=i.insertBeforeIndex,h=Array.isArray(a)?a[0]:a;return null===h?Ta(n,0,o):f2(o[h])}function yu(n,i,o,a,h){const y=i.insertBeforeIndex;if(Array.isArray(y)){let S=a,z=null;if(3&i.type||(z=S,S=h),null!==S&&0==(2&i.flags))for(let P=1;P<y.length;P++)Ko(n,S,o[y[P]],z,!1)}}function _u(n,i){if(n.push(i),n.length>1)for(let o=n.length-2;o>=0;o--){const a=n[o];bu(a)||Cu(a,i)&&null===q9(a)&&yl(a,i.index)}}function bu(n){return!(64&n.type)}function Cu(n,i){return bu(i)||n.index>i.index}function q9(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function yl(n,i){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=i:(i4(m3,yu),n.insertBeforeIndex=i)}function q3(n,i){const o=n.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function _l(n,i,o){const a=l8(n,o,64,null,null);return _u(i,a),a}function j8(n,i){const o=i[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function bl(n){return n>>>17}function Cl(n){return(131070&n)>>>1}let L0=0,O0=0;function wl(n,i,o,a){const h=o[11];let S,y=null;for(let z=0;z<i.length;z++){const P=i[z];if("string"==typeof P){const K=i[++z];null===o[K]&&(o[K]=l6(h,P))}else if("number"==typeof P)switch(1&P){case 0:const K=bl(P);let re,de;if(null===y&&(y=K,S=Na(h,a)),K===y?(re=a,de=S):(re=null,de=f2(o[K])),null!==de){const qt=Cl(P);Ko(h,de,o[qt],re,!1);const O1=q3(n,qt);if(null!==O1&&"object"==typeof O1){const nn=j8(O1,o);null!==nn&&wl(n,O1.create[nn],o,o[O1.anchorIdx])}}break;case 1:const it=i[++z],Et=i[++z];j5(h,X2(P>>>1,o),null,null,it,Et,null)}else switch(P){case U4:const K=i[++z],re=i[++z];null===o[re]&&jr(o[re]=Sa(h,K),o);break;case p3:const de=i[++z],Ve=i[++z];null===o[Ve]&&jr(o[Ve]=A3(h,de,null),o)}}}function Du(n,i,o,a,h){for(let y=0;y<o.length;y++){const S=o[y],z=o[++y];if(S&h){let P="";for(let K=y+1;K<=y+z;K++){const re=o[K];if("string"==typeof re)P+=re;else if("number"==typeof re)if(re<0)P+=ut(i[a-re]);else{const de=re>>>2;switch(3&re){case 1:const Ve=o[++K],it=o[++K],Et=n.data[de];"string"==typeof Et?j5(i[11],i[de],null,Et,Ve,P,it):Do(n,Et,i,Ve,P,i[11],it,!1);break;case 0:const qt=i[de];null!==qt&&D4(i[11],qt,P);break;case 2:e(n,q3(n,de),i,P);break;case 3:r(n,q3(n,de),a,i)}}}}else{const P=o[y+1];if(P>0&&3==(3&P)){const re=q3(n,P>>>2);i[re.currentCaseLViewIndex]<0&&r(n,re,a,i)}}y+=z}}function r(n,i,o,a){let h=a[i.currentCaseLViewIndex];if(null!==h){let y=L0;h<0&&(h=a[i.currentCaseLViewIndex]=~h,y=-1),Du(n,a,i.update[h],o,y)}}function e(n,i,o,a){const h=function s(n,i){let o=n.cases.indexOf(i);if(-1===o)switch(n.type){case 1:{const a=function Ro(n,i){const o=aa(i)(parseInt(n,10)),a=U8[o];return void 0!==a?a:"other"}(i,function W9(){return gu}());o=n.cases.indexOf(a),-1===o&&"other"!==a&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(i,a);if(j8(i,o)!==h&&(t(n,i,o),o[i.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const S=o[i.anchorIdx];S&&wl(n,i.create[h],o,S)}}function t(n,i,o){let a=j8(i,o);if(null!==a){const h=i.remove[a];for(let y=0;y<h.length;y++){const S=h[y];if(S>0){const z=X2(S,o);null!==z&&r3(o[11],z)}else t(n,q3(n,~S),o)}}}function c(){const n=[];let o,a,i=-1;function y(z,P){i=0;const K=j8(z,P);a=null!==K?z.remove[K]:T1}function S(){if(i<a.length){const z=a[i++];return z>0?o[z]:(n.push(i,a),y(o[1].data[~z],o),S())}return 0===n.length?null:(a=n.pop(),i=n.pop(),S())}return function h(z,P){for(o=P;n.length;)n.pop();return y(z.value,P),S}}const ce=/\ufffd(\d+):?\d*\ufffd/gi,nt=/\ufffd(\d+)\ufffd/,St=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,h1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,U1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,li=/\uE500/g;function nr(n,i,o,a,h,y,S){const z=v0(n,a,1,null);let P=z<<qi.SHIFT,K=Ys();i===K&&(K=null),null===K&&(P|=qi.APPEND_EAGERLY),S&&(P|=qi.COMMENT,function Da(n){void 0===qo&&(qo=n())}(c)),h.push(P,null===y?"":y);const re=l8(n,z,S?32:1,null===y?"":y,null);_u(o,re);const de=re.index;return ur(re,!1),null!==K&&i!==K&&function K9(n,i){let o=n.insertBeforeIndex;null===o?(i4(m3,yu),o=n.insertBeforeIndex=[null,i]):(function ct(n,i,o){n!=i&&Nt(o,n,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(K,de),re}function S2(n,i,o,a,h,y,S){const z=S.match(ce),P=nr(n,i,o,y,a,z?null:S,!1);z&&ir(h,S,P.index,null,0,null)}function ir(n,i,o,a,h,y){const S=n.length,z=S+1;n.push(null,null);const P=S+2,K=i.split(ce);let re=0;for(let de=0;de<K.length;de++){const Ve=K[de];if(1&de){const it=h+parseInt(Ve,10);n.push(-1-it),re|=wf(it)}else""!==Ve&&n.push(Ve)}return n.push(o<<2|(a?1:0)),a&&n.push(a,y),n[S]=re,n[z]=n.length-P,re}function wf(n){return 1<<Math.min(n,31)}function Df(n){let i,y,o="",a=0,h=!1;for(;null!==(i=h1.exec(n));)h?i[0]===`\ufffd/*${y}\ufffd`&&(a=i.index,h=!1):(o+=n.substring(a,i.index+i[0].length),y=i[1],h=!0);return o+=n.slice(a),o}function Ef(n,i,o,a,h,y){let S=0;const z={type:h.type,currentCaseLViewIndex:v0(n,i,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function qp(n,i,o){n.push(wf(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,h,y),function Mu(n,i,o){const a=n.data[i];null===a?n.data[i]=o:a.value=o}(n,y,z);const P=h.values;for(let K=0;K<P.length;K++){const re=P[K],de=[];for(let Ve=0;Ve<re.length;Ve++){const it=re[Ve];if("string"!=typeof it){const Et=de.push(it)-1;re[Ve]=`\x3c!--\ufffd${Et}\ufffd--\x3e`}}S=Zp(n,z,i,o,a,h.cases[K],re.join(""),de)|S}S&&function Kp(n,i,o){n.push(i,1,o<<2|3)}(o,S,y)}function $p(n){const i=[],o=[];let a=1,h=0;const y=X9(n=n.replace(St,function(S,z,P){return a="select"===P?0:1,h=parseInt(z.slice(1),10),""}));for(let S=0;S<y.length;){let z=y[S++].trim();1===a&&(z=z.replace(/\s*(?:=)?(\w+)\s*/,"$1")),z.length&&i.push(z);const P=X9(y[S++]);i.length>o.length&&o.push(P)}return{type:a,mainBinding:h,cases:i,values:o}}function X9(n){if(!n)return[];let i=0;const o=[],a=[],h=/[{}]/g;let y;for(h.lastIndex=0;y=h.exec(n);){const z=y.index;if("}"==y[0]){if(o.pop(),0==o.length){const P=n.substring(i,z);St.test(P)?a.push($p(P)):a.push(P),i=z+1}}else{if(0==o.length){const P=n.substring(i,z);a.push(P),i=z+1}o.push("{")}}const S=n.substring(i);return a.push(S),a}function Zp(n,i,o,a,h,y,S,z){const P=[],K=[],re=[];i.cases.push(y),i.create.push(P),i.remove.push(K),i.update.push(re);const Ve=$r(m()).getInertBodyElement(S),it=Uc(Ve)||Ve;return it?Sf(n,i,o,a,P,K,re,it,h,z,0):0}function Sf(n,i,o,a,h,y,S,z,P,K,re){let de=0,Ve=z.firstChild;for(;Ve;){const it=v0(n,o,1,null);switch(Ve.nodeType){case Node.ELEMENT_NODE:const Et=Ve,qt=Et.tagName.toLowerCase();if(r0.hasOwnProperty(qt)){ed(h,p3,qt,P,it),n.data[it]=qt;const kt=Et.attributes;for(let _n=0;_n<kt.length;_n++){const ei=kt.item(_n),mr=ei.name.toLowerCase();ei.value.match(ce)?t5.hasOwnProperty(mr)&&ir(S,ei.value,it,ei.name,0,Hc[mr]?a4:null):Yp(h,it,ei)}de=Sf(n,i,o,a,h,y,S,Ve,it,K,re+1)|de,Nf(y,it,re)}break;case Node.TEXT_NODE:const u1=Ve.textContent||"",O1=u1.match(ce);ed(h,null,O1?"":u1,P,it),Nf(y,it,re),O1&&(de=ir(S,u1,it,null,0,null)|de);break;case Node.COMMENT_NODE:const nn=nt.exec(Ve.textContent||"");if(nn){const _n=K[parseInt(nn[1],10)];ed(h,U4,"",P,it),Ef(n,o,a,P,_n,it),Wp(y,it,re)}}Ve=Ve.nextSibling}return de}function Nf(n,i,o){0===o&&n.push(i)}function Wp(n,i,o){0===o&&(n.push(~i),n.push(i))}function ed(n,i,o,a,h){null!==i&&n.push(i),n.push(o,h,function Y9(n,i,o){return n|i<<17|o<<1}(0,a,h))}function Yp(n,i,o){n.push(i<<1|1,o.name,o.value)}function Af(n,i,o=-1){const a=dn(),h=Dt(),y=22+n,S=N2(a.consts,i),z=Ys();a.firstCreatePass&&function b2(n,i,o,a,h,y){const S=Ys(),z=[],P=[],K=[[]];h=function Gp(n,i){if(function jp(n){return-1===n}(i))return Df(n);{const o=n.indexOf(`:${i}\ufffd`)+2+i.toString().length,a=n.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return Df(n.substring(o,a))}}(h,y);const re=function Ki(n){return n.replace(li," ")}(h).split(U1);for(let de=0;de<re.length;de++){let Ve=re[de];if(0==(1&de)){const it=X9(Ve);for(let Et=0;Et<it.length;Et++){let qt=it[Et];if(0==(1&Et)){const u1=qt;""!==u1&&S2(n,S,K[0],z,P,o,u1)}else{const u1=qt;if("object"!=typeof u1)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Ef(n,o,P,i,u1,nr(n,S,K[0],o,z,"",!0).index)}}}else{const it=47===Ve.charCodeAt(0),qt=(Ve.charCodeAt(it?1:0),22+Number.parseInt(Ve.substring(it?2:1)));if(it)K.shift(),ur(Ys(),!1);else{const u1=_l(n,K[0],qt);K.unshift([]),ur(u1,!0)}}}n.data[a]={create:z,update:P}}(a,null===z?0:z.index,h,y,S,o);const P=a.data[y],re=t4(a,z===h[6]?null:z,h);(function wu(n,i,o,a){const h=n[11];for(let y=0;y<i.length;y++){const S=i[y++],z=i[y],P=(S&qi.COMMENT)===qi.COMMENT,K=(S&qi.APPEND_EAGERLY)===qi.APPEND_EAGERLY,re=S>>>qi.SHIFT;let de=n[re];null===de&&(de=n[re]=P?h.createComment(z):l6(h,z)),K&&null!==o&&Ko(h,o,de,a,!1)}})(h,P.create,re,z&&8&z.type?h[z.index]:null),Ji(!0)}function xf(n,i,o){Af(n,i,o),function If(){Ji(!1)}()}function td(n){return function J9(n){n&&(L0|=1<<Math.min(O0,31)),O0++}(Ts(Dt(),d1(),n)),td}function zf(n){!function Q9(n,i,o){if(O0>0){const a=n.data[o];Du(n,i,Array.isArray(a)?a:a.update,function oe(){return L1.lFrame.bindingIndex}()-O0-1,L0)}L0=0,O0=0}(dn(),Dt(),n+22)}function nd(n,i,o,a,h){if(n=Ne(n),Array.isArray(n))for(let y=0;y<n.length;y++)nd(n[y],i,o,a,h);else{const y=dn(),S=Dt();let z=w1(n)?n:Ne(n.provide),P=tr(n);const K=y2(),re=1048575&K.providerIndexes,de=K.directiveStart,Ve=K.providerIndexes>>20;if(w1(n)||!n.multi){const it=new Z2(P,h,V3),Et=rd(z,i,h?re:re+Ve,de);-1===Et?(gi(Gt(K,S),y,z),id(y,n,i.length),i.push(z),K.directiveStart++,K.directiveEnd++,h&&(K.providerIndexes+=1048576),o.push(it),S.push(it)):(o[Et]=it,S[Et]=it)}else{const it=rd(z,i,re+Ve,de),Et=rd(z,i,re,re+Ve),qt=it>=0&&o[it],u1=Et>=0&&o[Et];if(h&&!u1||!h&&!qt){gi(Gt(K,S),y,z);const O1=function um(n,i,o,a,h){const y=new Z2(n,o,V3);return y.multi=[],y.index=i,y.componentProviders=0,Lf(y,h,a&&!o),y}(h?lm:cm,o.length,h,a,P);!h&&u1&&(o[Et].providerFactory=O1),id(y,n,i.length,0),i.push(z),K.directiveStart++,K.directiveEnd++,h&&(K.providerIndexes+=1048576),o.push(O1),S.push(O1)}else id(y,n,it>-1?it:Et,Lf(o[h?Et:it],P,!h&&a));!h&&a&&u1&&o[Et].componentProviders++}}}function id(n,i,o,a){const h=w1(i),y=function p2(n){return!!n.useClass}(i);if(h||y){const P=(y?Ne(i.useClass):i).prototype.ngOnDestroy;if(P){const K=n.destroyHooks||(n.destroyHooks=[]);if(!h&&i.multi){const re=K.indexOf(o);-1===re?K.push(o,[a,P]):K[re+1].push(a,P)}else K.push(o,P)}}}function Lf(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function rd(n,i,o,a){for(let h=o;h<a;h++)if(i[h]===n)return h;return-1}function cm(n,i,o,a){return sd(this.multi,[])}function lm(n,i,o,a){const h=this.multi;let y;if(this.providerFactory){const S=this.providerFactory.componentProviders,z=Hr(o,o[1],this.providerFactory.index,a);y=z.slice(0,S),sd(h,y);for(let P=S;P<z.length;P++)y.push(z[P])}else y=[],sd(h,y);return y}function sd(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Of(n,i=[]){return o=>{o.providersResolver=(a,h)=>function am(n,i,o){const a=dn();if(a.firstCreatePass){const h=R2(n);nd(o,a.data,a.blueprint,h,!0),nd(i,a.data,a.blueprint,h,!1)}}(a,h?h(n):n,i)}}class G8{}class kf{}function dm(n,i){return new Rf(n,i??null)}class Rf extends G8{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _8(this);const a=un(i);this._bootstrapComponents=ta(a.bootstrap),this._r3Injector=Kc(i,o,[{provide:G8,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],ze(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class od extends kf{constructor(i){super(),this.moduleType=i}create(i){return new Rf(this.moduleType,i)}}class fm extends G8{constructor(i,o,a){super(),this.componentFactoryResolver=new _8(this),this.instance=null;const h=new e2([...i,{provide:G8,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],o||F2(),a,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ad(n,i,o=null){return new fm(n,i,o).injector}let hm=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=q(0,o.type),h=a.length>0?ad([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,h)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=f1({token:n,providedIn:"environment",factory:()=>new n(Ni(Zn))}),n})();function Pf(n){n.getStandaloneInjector=i=>i.get(hm).getOrCreateStandaloneInjector(n)}function Gf(n,i,o){const a=V()+n,h=Dt();return h[a]===Nn?ka(h,a,o?i.call(o):i()):function I6(n,i){return n[i]}(h,a)}function $f(n,i,o,a){return qf(Dt(),V(),n,i,o,a)}function Zf(n,i,o,a,h){return function Kf(n,i,o,a,h,y,S){const z=i+o;return H4(n,z,h,y)?ka(n,z+2,S?a.call(S,h,y):a(h,y)):Dl(n,z+2)}(Dt(),V(),n,i,o,a,h)}function Wf(n,i,o,a,h,y){return function Yf(n,i,o,a,h,y,S,z){const P=i+o;return function _0(n,i,o,a,h){const y=H4(n,i,o,a);return Ts(n,i+2,h)||y}(n,P,h,y,S)?ka(n,P+3,z?a.call(z,h,y,S):a(h,y,S)):Dl(n,P+3)}(Dt(),V(),n,i,o,a,h,y)}function Dl(n,i){const o=n[i];return o===Nn?void 0:o}function qf(n,i,o,a,h,y){const S=i+o;return Ts(n,S,h)?ka(n,S+1,y?a.call(y,h):a(h)):Dl(n,S+1)}function Xf(n,i){const o=dn();let a;const h=n+22;o.firstCreatePass?(a=function Tm(n,i){if(i)for(let o=i.length-1;o>=0;o--){const a=i[o];if(n===a.name)return a}}(i,o.pipeRegistry),o.data[h]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(h,a.onDestroy)):a=o.data[h];const y=a.factory||(a.factory=Li(a.type)),S=rn(V3);try{const z=Ot(!1),P=y();return Ot(z),function Tr(n,i,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=a}(o,Dt(),h,P),P}finally{rn(S)}}function eh(n,i,o){const a=n+22,h=Dt(),y=lr(h,a);return function El(n,i){return n[1].data[i].pure}(h,a)?qf(h,V(),i,y.transform,o,y):y.transform(o)}function ld(n){return i=>{setTimeout(n,void 0,i)}}const K3=class Lm extends l.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let h=i,y=o||(()=>null),S=a;if(i&&"object"==typeof i){const P=i;h=P.next?.bind(P),y=P.error?.bind(P),S=P.complete?.bind(P)}this.__isAsync&&(y=ld(y),h&&(h=ld(h)),S&&(S=ld(S)));const z=super.subscribe({next:h,error:y,complete:S});return i instanceof M.w0&&i.add(z),z}};function Om(){return this._results[A6()]()}class ud{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=A6(),a=ud.prototype;a[o]||(a[o]=Om)}get changes(){return this._changes||(this._changes=new K3)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const h=vi(i);(this._changesDetected=!function Ca(n,i,o){if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let h=n[a],y=i[a];if(o&&(h=o(h),y=o(y)),y!==h)return!1}return!0}(a._results,h,o))&&(a._results=h,a.length=h.length,a.last=h[this.length-1],a.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sl=(()=>{class n{}return n.__NG_ELEMENT_ID__=Pm,n})();const km=Sl,Rm=class extends km{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(i,o){const a=this._declarationTContainer.tViews,h=m0(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,o||null);h[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(h[19]=S.createEmbeddedView(a)),u8(a,h,i),new T6(h)}};function Pm(){return Eu(y2(),Dt())}function Eu(n,i){return 4&n.type?new Rm(i,n,Ai(n,i)):null}let Su=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vm,n})();function Vm(){return ih(y2(),Dt())}const Hm=Su,th=class extends Hm{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return Ai(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const i=T2(this._hostTNode,this._hostLView);if(mi(i)){const o=Qs(i,this._hostLView),a=W2(i);return new Qi(o[1].data[a+8],o)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=nh(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,a){let h,y;"number"==typeof a?h=a:null!=a&&(h=a.index,y=a.injector);const S=i.createEmbeddedView(o||{},y);return this.insert(S,h),S}createComponent(i,o,a,h,y){const S=i&&!function Ms(n){return"function"==typeof n}(i);let z;if(S)z=o;else{const de=o||{};z=de.index,a=de.injector,h=de.projectableNodes,y=de.environmentInjector||de.ngModuleRef}const P=S?i:new Kn(Ue(i)),K=a||this.parentInjector;if(!y&&null==P.ngModule){const Ve=(S?K:this.parentInjector).get(Zn,null);Ve&&(y=Ve)}const re=P.create(K,h,void 0,y);return this.insert(re.hostView,z),re}insert(i,o){const a=i._lView,h=a[1];if(function Ws(n){return k2(n[3])}(a)){const re=this.indexOf(i);if(-1!==re)this.detach(re);else{const de=a[3],Ve=new th(de,de[6],de[3]);Ve.detach(Ve.indexOf(i))}}const y=this._adjustIndex(o),S=this._lContainer;!function Xa(n,i,o,a){const h=10+a,y=o.length;a>0&&(o[h-1][4]=i),a<y-10?(i[4]=o[h],Ma(o,10+a,i)):(o.push(i),i[4]=null),i[3]=o;const S=i[17];null!==S&&o!==S&&function Ti(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(S,i);const z=i[19];null!==z&&z.insertView(n),i[2]|=64}(h,a,S,y);const z=n3(y,S),P=a[11],K=Na(P,S[7]);return null!==K&&function $0(n,i,o,a,h,y){a[0]=h,a[6]=i,S4(n,a,o,1,h,y)}(h,S[6],P,a,K,z),i.attachToViewContainerRef(),Ma(dd(S),y,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=nh(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=e4(this._lContainer,o);a&&(wr(dd(this._lContainer),o),I3(a[1],a))}detach(i){const o=this._adjustIndex(i,-1),a=e4(this._lContainer,o);return a&&null!=wr(dd(this._lContainer),o)?new T6(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function nh(n){return n[8]}function dd(n){return n[8]||(n[8]=[])}function ih(n,i){let o;const a=i[n.index];if(k2(a))o=a;else{let h;if(8&n.type)h=f2(a);else{const y=i[11];h=y.createComment("");const S=P2(n,i);Ko(y,Na(y,S),h,function Dn(n,i){return n.nextSibling(i)}(y,S),!1)}i[n.index]=o=p8(a,i,h,n),uc(i,o)}return new th(o,n,i)}class fd{constructor(i){this.queryList=i,this.matches=null}clone(){return new fd(this.queryList)}setDirty(){this.queryList.setDirty()}}class hd{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,h=[];for(let y=0;y<a;y++){const S=o.getByIndex(y);h.push(this.queries[S.indexInDeclarationView].clone())}return new hd(h)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==dh(i,o).matches&&this.queries[o].setDirty()}}class rh{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class pd{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const h=null!==o?o.length:0,y=this.getByIndex(a).embeddedTView(i,h);y&&(y.indexInDeclarationView=a,null!==o?o.push(y):o=[y])}return null!==o?new pd(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class md{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new md(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let h=0;h<a.length;h++){const y=a[h];this.matchTNodeWithReadOption(i,o,Um(o,y)),this.matchTNodeWithReadOption(i,o,V2(o,i,y,!1,!1))}else a===Sl?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,V2(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const h=this.metadata.read;if(null!==h)if(h===Mo||h===Su||h===Sl&&4&o.type)this.addMatch(o.index,-2);else{const y=V2(o,i,h,!1,!1);null!==y&&this.addMatch(o.index,y)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function Um(n,i){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function Gm(n,i,o,a){return-1===o?function jm(n,i){return 11&n.type?Ai(n,i):4&n.type?Eu(n,i):null}(i,n):-2===o?function $m(n,i,o){return o===Mo?Ai(i,n):o===Sl?Eu(i,n):o===Su?ih(i,n):void 0}(n,i,a):Hr(n,n[1],o,i)}function gd(n,i,o,a){const h=i[19].queries[a];if(null===h.matches){const y=n.data,S=o.matches,z=[];for(let P=0;P<S.length;P+=2){const K=S[P];z.push(K<0?null:Gm(i,y[K],S[P+1],o.metadata.read))}h.matches=z}return h.matches}function vd(n,i,o,a){const h=n.queries.getByIndex(o),y=h.matches;if(null!==y){const S=gd(n,i,h,o);for(let z=0;z<y.length;z+=2){const P=y[z];if(P>0)a.push(S[z/2]);else{const K=y[z+1],re=i[-P];for(let de=10;de<re.length;de++){const Ve=re[de];Ve[17]===Ve[3]&&vd(Ve[1],Ve,K,a)}if(null!==re[9]){const de=re[9];for(let Ve=0;Ve<de.length;Ve++){const it=de[Ve];vd(it[1],it,K,a)}}}}}return a}function sh(n){const i=Dt(),o=dn(),a=No();Vi(a+1);const h=dh(o,a);if(n.dirty&&function Is(n){return 4==(4&n[2])}(i)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const y=h.crossesNgTemplate?vd(o,i,a,[]):gd(o,i,h,a);n.reset(y,I4),n.notifyOnChanges()}return!0}return!1}function oh(n,i,o){const a=dn();a.firstCreatePass&&(uh(a,new rh(n,i,o),-1),2==(2&i)&&(a.staticViewQueries=!0)),lh(a,Dt(),i)}function ah(n,i,o,a){const h=dn();if(h.firstCreatePass){const y=y2();uh(h,new rh(i,o,a),y.index),function Wm(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(h,n),2==(2&o)&&(h.staticContentQueries=!0)}lh(h,Dt(),o)}function ch(){return function Zm(n,i){return n[19].queries[i].queryList}(Dt(),No())}function lh(n,i,o){const a=new ud(4==(4&o));m7(n,i,a,a.destroy),null===i[19]&&(i[19]=new hd),i[19].queries.push(new fd(a))}function uh(n,i,o){null===n.queries&&(n.queries=new pd),n.queries.track(new md(i,o))}function dh(n,i){return n.queries.getByIndex(i)}function fh(n,i){return Eu(n,i)}function Tu(...n){}const xh=new Qn("Application Initializer");let Au=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Tu,this.reject=Tu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,h)=>{this.resolve=a,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const y=this.appInits[h]();if(Ra(y))o.push(y);else if(E9(y)){const S=new Promise((z,P)=>{y.subscribe({complete:z,error:P})});o.push(S)}}Promise.all(o).then(()=>{a()}).catch(h=>{this.reject(h)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Ni(xh,8))},n.\u0275prov=f1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zh=new Qn("AppId",{providedIn:"root",factory:function Lh(){return`${Md()}${Md()}${Md()}`}});function Md(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Oh=new Qn("Platform Initializer"),hg=new Qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),kh=new Qn("appBootstrapListener"),pg=new Qn("AnimationModuleType");let mg=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=f1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Iu=new Qn("LocaleId",{providedIn:"root",factory:()=>H(Iu,Vt.Optional|Vt.SkipSelf)||function gg(){return typeof $localize<"u"&&$localize.locale||x0}()}),vg=new Qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class yg{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let _g=(()=>{class n{compileModuleSync(o){return new od(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),y=ta(un(o).declarations).reduce((S,z)=>{const P=Ue(z);return P&&S.push(new Kn(P)),S},[]);return new yg(a,y)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=f1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mg=(()=>Promise.resolve(0))();function wd(n){typeof Zone>"u"?Mg.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class j4{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new K3(!1),this.onMicrotaskEmpty=new K3(!1),this.onStable=new K3(!1),this.onError=new K3(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const y=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new y("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!a&&o,h.shouldCoalesceRunChangeDetection=a,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function wg(){let n=an.requestAnimationFrame,i=an.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Sg(n){const i=()=>{!function Eg(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(an,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ed(n),n.isCheckStableRunning=!0,Dd(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ed(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,h,y,S,z)=>{try{return Vh(n),o.invokeTask(h,y,S,z)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||n.shouldCoalesceRunChangeDetection)&&i(),Hh(n)}},onInvoke:(o,a,h,y,S,z,P)=>{try{return Vh(n),o.invoke(h,y,S,z,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),Hh(n)}},onHasTask:(o,a,h,y)=>{o.hasTask(h,y),a===h&&("microTask"==y.change?(n._hasPendingMicrotasks=y.microTask,Ed(n),Dd(n)):"macroTask"==y.change&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,a,h,y)=>(o.handleError(h,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!j4.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(j4.isInAngularZone())throw new $e(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,h){const y=this._inner,S=y.scheduleEventTask("NgZoneEvent: "+h,i,Dg,Tu,Tu);try{return y.runTask(S,o,a)}finally{y.cancelTask(S)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const Dg={};function Dd(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ed(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Vh(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Hh(n){n._nesting--,Dd(n)}class Ng{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new K3,this.onMicrotaskEmpty=new K3,this.onStable=new K3,this.onError=new K3}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,h){return i.apply(o,a)}}const Fh=new Qn(""),Bh=new Qn("");let Sd,Tg=(()=>{class n{constructor(o,a,h){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sd||(function Ag(n){Sd=n}(h),h.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{j4.assertNotInAngularZone(),wd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wd(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,h){let y=-1;a&&a>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==y),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:y,updateCb:h})}whenStable(o,a,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,h){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ni(j4),Ni(Uh),Ni(Bh))},n.\u0275prov=f1({token:n,factory:n.\u0275fac}),n})(),Uh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return Sd?.findTestabilityInTree(this,o,a)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=f1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),k0=null;const jh=new Qn("AllowMultipleToken"),Nd=new Qn("PlatformDestroyListeners");class zg{constructor(i,o){this.name=i,this.token=o}}function $h(n,i,o=[]){const a=`Platform: ${i}`,h=new Qn(a);return(y=[])=>{let S=Td();if(!S||S.injector.get(jh,!1)){const z=[...o,...y,{provide:h,useValue:!0}];n?n(z):function Lg(n){if(k0&&!k0.get(jh,!1))throw new $e(400,!1);k0=n;const i=n.get(Wh);(function Gh(n){const i=n.get(Oh,null);i&&i.forEach(o=>o())})(n)}(function Zh(n=[],i){return O4.create({name:i,providers:[{provide:q1,useValue:"platform"},{provide:Nd,useValue:new Set([()=>k0=null])},...n]})}(z,a))}return function kg(n){const i=Td();if(!i)throw new $e(401,!1);return i}()}}function Td(){return k0?.get(Wh)??null}let Wh=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const h=function Kh(n,i){let o;return o="noop"===n?new Ng:("zone.js"===n?void 0:n)||new j4(i),o}(a?.ngZone,function qh(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),y=[{provide:j4,useValue:h}];return h.run(()=>{const S=O4.create({providers:y,parent:this.injector,name:o.moduleType.name}),z=o.create(S),P=z.injector.get(C6,null);if(!P)throw new $e(402,!1);return h.runOutsideAngular(()=>{const K=h.onError.subscribe({next:re=>{P.handleError(re)}});z.onDestroy(()=>{zu(this._modules,z),K.unsubscribe()})}),function Yh(n,i,o){try{const a=o();return Ra(a)?a.catch(h=>{throw i.runOutsideAngular(()=>n.handleError(h)),h}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(P,h,()=>{const K=z.injector.get(Au);return K.runInitializers(),K.donePromise.then(()=>(vu(z.injector.get(Iu,x0)||x0),this._moduleDoBootstrap(z),z))})})}bootstrapModule(o,a=[]){const h=Jh({},a);return function Ig(n,i,o){const a=new od(o);return Promise.resolve(a)}(0,0,o).then(y=>this.bootstrapModuleFactory(y,h))}_moduleDoBootstrap(o){const a=o.injector.get(xu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>a.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new $e(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(Nd,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Ni(O4))},n.\u0275prov=f1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Jh(n,i){return Array.isArray(i)?i.reduce(Jh,n):{...n,...i}}let xu=(()=>{class n{constructor(o,a,h){this._zone=o,this._injector=a,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new X.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),S=new X.y(z=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{j4.assertNotInAngularZone(),wd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{j4.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{P.unsubscribe(),K.unsubscribe()}});this.isStable=(0,Ce.T)(y,S.pipe((0,Te.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const h=o instanceof Oo;if(!this._injector.get(Au).done)throw!h&&G1(o),new $e(405,false);let S;S=h?o:this._injector.get(za).resolveComponentFactory(o),this.componentTypes.push(S.componentType);const z=function xg(n){return n.isBoundToModule}(S)?void 0:this._injector.get(G8),K=S.create(O4.NULL,[],a||S.selector,z),re=K.location.nativeElement,de=K.injector.get(Fh,null);return de?.registerApplication(re),K.onDestroy(()=>{this.detachView(K.hostView),zu(this.components,K),de?.unregisterApplication(re)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new $e(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;zu(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(kh,[]).concat(this._bootstrapListeners).forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>zu(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new $e(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Ni(j4),Ni(Zn),Ni(C6))},n.\u0275prov=f1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zu(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let Xh=!0,ep=!1;function Pg(){return ep=!0,Xh}function Vg(){if(ep)throw new Error("Cannot enable prod mode after platform setup.");Xh=!1}let Hg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Fg,n})();function Fg(n){return function Bg(n,i,o){if(wi(n)&&!o){const a=wn(n.index,i);return new T6(a,a)}return 47&n.type?new T6(i[16],i):null}(y2(),Dt(),16==(16&n))}class rp{constructor(){}supports(i){return pc(i)}create(i){return new Wg(i)}}const Zg=(n,i)=>i;class Wg{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Zg}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,h=0,y=null;for(;o||a;){const S=!a||o&&o.currentIndex<op(a,h,y)?o:a,z=op(S,h,y),P=S.currentIndex;if(S===a)h--,a=a._nextRemoved;else if(o=o._next,null==S.previousIndex)h++;else{y||(y=[]);const K=z-h,re=P-h;if(K!=re){for(let Ve=0;Ve<K;Ve++){const it=Ve<y.length?y[Ve]:y[Ve]=0,Et=it+Ve;re<=Et&&Et<K&&(y[Ve]=it+1)}y[S.previousIndex]=re-K}}z!==P&&i(S,z,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!pc(i))throw new $e(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let h,y,S,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let z=0;z<this.length;z++)y=i[z],S=this._trackByFn(z,y),null!==o&&Object.is(o.trackById,S)?(a&&(o=this._verifyReinsertion(o,y,S,z)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,S,z),a=!0),o=o._next}else h=0,function I7(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[A6()]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,z=>{S=this._trackByFn(h,z),null!==o&&Object.is(o.trackById,S)?(a&&(o=this._verifyReinsertion(o,z,S,h)),Object.is(o.item,z)||this._addIdentityChange(o,z)):(o=this._mismatch(o,z,S,h),a=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,h){let y;return null===i?y=this._itTail:(y=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,y,h)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,h))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,y,h)):i=this._addAfter(new qg(o,a),y,h),i}_verifyReinsertion(i,o,a,h){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==y?i=this._reinsertAfter(y,i._prev,h):i.currentIndex!=h&&(i.currentIndex=h,this._addToMoves(i,h)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const h=i._prevRemoved,y=i._nextRemoved;return null===h?this._removalsHead=y:h._nextRemoved=y,null===y?this._removalsTail=h:y._prevRemoved=h,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const h=null===o?this._itHead:o._next;return i._next=h,i._prev=o,null===h?this._itTail=i:h._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new sp),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sp),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class qg{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kg{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class sp{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new Kg,this.map.set(o,a)),a.add(i)}get(i,o){const h=this.map.get(i);return h?h.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function op(n,i,o){const a=n.previousIndex;if(null===a)return a;let h=0;return o&&a<o.length&&(h=o[a]),a+i+h}class ap{constructor(){}supports(i){return i instanceof Map||mc(i)}create(){return new Yg}}class Yg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||mc(i)))throw new $e(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const y=this._getOrCreateRecordForKey(h,a);o=this._insertBeforeOrAppend(o,y)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const h=this._records.get(i);this._maybeAddToChanges(h,o);const y=h._prev,S=h._next;return y&&(y._next=S),S&&(S._prev=y),h._next=null,h._prev=null,h}const a=new Jg(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class Jg{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cp(){return new Ld([new rp])}let Ld=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const h=a.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||cp()),deps:[[n,new x1,new c1]]}}find(o){const a=this.factories.find(h=>h.supports(o));if(null!=a)return a;throw new $e(901,!1)}}return n.\u0275prov=f1({token:n,providedIn:"root",factory:cp}),n})();function lp(){return new Od([new ap])}let Od=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const h=a.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||lp()),deps:[[n,new x1,new c1]]}}find(o){const a=this.factories.find(h=>h.supports(o));if(a)return a;throw new $e(901,!1)}}return n.\u0275prov=f1({token:n,providedIn:"root",factory:lp}),n})();const ev=$h(null,"core",[]);let tv=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Ni(xu))},n.\u0275mod=z1({type:n}),n.\u0275inj=Pt({}),n})();function nv(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function rv(n,i){const o=Ue(n),a=i.elementInjector||F2();return new Kn(o).create(a,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:($t,We,U)=>{U.d(We,{Fj:()=>tt,u5:()=>vr,wO:()=>Qr,JJ:()=>sn,JL:()=>W1,F:()=>In,On:()=>Ct,Q7:()=>N2,_Y:()=>Ft});var l=U(4650),M=U(6895),X=U(8996),Ce=U(9751),Te=U(4742),Ee=U(8421),Re=U(3269),ze=U(5403),ke=U(3268),pe=U(1810),Ne=U(4004);let st=(()=>{class W{constructor(V,oe){this._renderer=V,this._elementRef=oe,this.onChange=Qe=>{},this.onTouched=()=>{}}setProperty(V,oe){this._renderer.setProperty(this._elementRef.nativeElement,V,oe)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return W.\u0275fac=function(V){return new(V||W)(l.Y36(l.Qsj),l.Y36(l.SBq))},W.\u0275dir=l.lG2({type:W}),W})(),et=(()=>{class W extends st{}return W.\u0275fac=function(){let B;return function(oe){return(B||(B=l.n5z(W)))(oe||W)}}(),W.\u0275dir=l.lG2({type:W,features:[l.qOj]}),W})();const $e=new l.OlP("NgValueAccessor"),ot={provide:$e,useExisting:(0,l.Gpc)(()=>tt),multi:!0},Wt=new l.OlP("CompositionEventMode");let tt=(()=>{class W extends st{constructor(V,oe,Qe){super(V,oe),this._compositionMode=Qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function He(){const W=(0,M.q)()?(0,M.q)().getUserAgent():"";return/android (\d+)/.test(W.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return W.\u0275fac=function(V){return new(V||W)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Wt,8))},W.\u0275dir=l.lG2({type:W,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,oe){1&V&&l.NdJ("input",function(d1){return oe._handleInput(d1.target.value)})("blur",function(){return oe.onTouched()})("compositionstart",function(){return oe._compositionStart()})("compositionend",function(d1){return oe._compositionEnd(d1.target.value)})},features:[l._Bn([ot]),l.qOj]}),W})();function Ke(W){return null==W||("string"==typeof W||Array.isArray(W))&&0===W.length}const bt=new l.OlP("NgValidators"),le=new l.OlP("NgAsyncValidators");function Pe(W){return Ke(W.value)?{required:!0}:null}function Nt(W){return null}function b1(W){return null!=W}function p1(W){return(0,l.QGY)(W)?(0,X.D)(W):W}function m1(W){let B={};return W.forEach(V=>{B=null!=V?{...B,...V}:B}),0===Object.keys(B).length?null:B}function f1(W,B){return B.map(V=>V(W))}function Pt(W){return W.map(B=>function n2(W){return!W.validate}(B)?B:V=>B.validate(V))}function pn(W){return null!=W?function en(W){if(!W)return null;const B=W.filter(b1);return 0==B.length?null:function(V){return m1(f1(V,B))}}(Pt(W)):null}function Fn(W){return null!=W?function Pn(W){if(!W)return null;const B=W.filter(b1);return 0==B.length?null:function(V){return function he(...W){const B=(0,Re.jO)(W),{args:V,keys:oe}=(0,Te.D)(W),Qe=new Ce.y(d1=>{const{length:Un}=V;if(!Un)return void d1.complete();const dr=new Array(Un);let Ji=Un,gs=Un;for(let ts=0;ts<Un;ts++){let ns=!1;(0,Ee.Xf)(V[ts]).subscribe((0,ze.x)(d1,yr=>{ns||(ns=!0,gs--),dr[ts]=yr},()=>Ji--,void 0,()=>{(!Ji||!ns)&&(gs||d1.next(oe?(0,pe.n)(oe,dr):dr),d1.complete())}))}});return B?Qe.pipe((0,ke.Z)(B)):Qe}(f1(V,B).map(p1)).pipe((0,Ne.U)(m1))}}(Pt(W)):null}function r2(W,B){return null===W?[B]:Array.isArray(W)?[...W,B]:[W,B]}function R1(W){return W?Array.isArray(W)?W:[W]:[]}function On(W,B){return Array.isArray(W)?W.includes(B):W===B}function m2(W,B){const V=R1(B);return R1(W).forEach(Qe=>{On(V,Qe)||V.push(Qe)}),V}function Vt(W,B){return R1(B).filter(V=>!On(W,V))}class mn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=pn(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,V){return!!this.control&&this.control.hasError(B,V)}getError(B,V){return this.control?this.control.getError(B,V):null}}class Tn extends mn{get formDirective(){return null}get path(){return null}}class rn extends mn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U2{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let sn=(()=>{class W extends U2{constructor(V){super(V)}}return W.\u0275fac=function(V){return new(V||W)(l.Y36(rn,2))},W.\u0275dir=l.lG2({type:W,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,oe){2&V&&l.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)},features:[l.qOj]}),W})(),W1=(()=>{class W extends U2{constructor(V){super(V)}}return W.\u0275fac=function(V){return new(V||W)(l.Y36(Tn,10))},W.\u0275dir=l.lG2({type:W,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,oe){2&V&&l.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)("ng-submitted",oe.isSubmitted)},features:[l.qOj]}),W})();const z1="VALID",Se="INVALID",_e="PENDING",xe="DISABLED";function pt(W){return(G1(W)?W.validators:W)||null}function Ue(W){return Array.isArray(W)?pn(W):W||null}function jt(W,B){return(G1(B)?B.asyncValidators:W)||null}function e1(W){return Array.isArray(W)?Fn(W):W||null}function G1(W){return null!=W&&!Array.isArray(W)&&"object"==typeof W}class be{constructor(B,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=V,this._composedValidatorFn=Ue(this._rawValidators),this._composedAsyncValidatorFn=e1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===z1}get invalid(){return this.status===Se}get pending(){return this.status==_e}get disabled(){return this.status===xe}get enabled(){return this.status!==xe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=Ue(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=e1(B)}addValidators(B){this.setValidators(m2(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(m2(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators(Vt(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators(Vt(B,this._rawAsyncValidators))}hasValidator(B){return On(this._rawValidators,B)}hasAsyncValidator(B){return On(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=_e,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const V=this._parentMarkedDirty(B.onlySelf);this.status=xe,this.errors=null,this._forEachChild(oe=>{oe.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:V}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(B={}){const V=this._parentMarkedDirty(B.onlySelf);this.status=z1,this._forEachChild(oe=>{oe.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:V}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===z1||this.status===_e)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xe:z1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator=!0;const V=p1(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,V={}){this.errors=B,this._updateControlsErrors(!1!==V.emitEvent)}get(B){let V=B;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((oe,Qe)=>oe&&oe._find(Qe),this)}getError(B,V){const oe=V?this.get(V):this;return oe&&oe.errors?oe.errors[B]:null}hasError(B,V){return!!this.getError(B,V)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?xe:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(Se)?Se:z1}_anyControlsHaveStatus(B){return this._anyControls(V=>V.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){G1(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}}class fe extends be{constructor(B,V,oe){super(pt(V),jt(oe,V)),this.controls=B,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,V){return this.controls[B]?this.controls[B]:(this.controls[B]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(B,V,oe={}){this.registerControl(B,V),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(B,V={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(B,V,oe={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],V&&this.registerControl(B,V),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,V={}){(function K1(W,B,V){W._forEachChild((oe,Qe)=>{if(void 0===V[Qe])throw new l.vHH(1002,"")})})(this,0,B),Object.keys(B).forEach(oe=>{(function un(W,B,V){const oe=W.controls;if(!(B?Object.keys(oe):oe).length)throw new l.vHH(1e3,"");if(!oe[V])throw new l.vHH(1001,"")})(this,!0,oe),this.controls[oe].setValue(B[oe],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(B,V={}){null!=B&&(Object.keys(B).forEach(oe=>{const Qe=this.controls[oe];Qe&&Qe.patchValue(B[oe],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(B={},V={}){this._forEachChild((oe,Qe)=>{oe.reset(B[Qe],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(B,V,oe)=>(B[oe]=V.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(V,oe)=>!!oe._syncPendingControls()||V);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(V=>{const oe=this.controls[V];oe&&B(oe,V)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[V,oe]of Object.entries(this.controls))if(this.contains(V)&&B(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,oe,Qe)=>((oe.enabled||this.disabled)&&(V[Qe]=oe.value),V))}_reduceChildren(B,V){let oe=B;return this._forEachChild((Qe,d1)=>{oe=V(oe,Qe,d1)}),oe}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}function B1(W,B){An(W,B),B.valueAccessor.writeValue(W.value),W.disabled&&B.valueAccessor.setDisabledState?.(!0),function xi(W,B){B.valueAccessor.registerOnChange(V=>{W._pendingValue=V,W._pendingChange=!0,W._pendingDirty=!0,"change"===W.updateOn&&u2(W,B)})}(W,B),function ii(W,B){const V=(oe,Qe)=>{B.valueAccessor.writeValue(oe),Qe&&B.viewToModelUpdate(oe)};W.registerOnChange(V),B._registerOnDestroy(()=>{W._unregisterOnChange(V)})}(W,B),function J2(W,B){B.valueAccessor.registerOnTouched(()=>{W._pendingTouched=!0,"blur"===W.updateOn&&W._pendingChange&&u2(W,B),"submit"!==W.updateOn&&W.markAsTouched()})}(W,B),function P1(W,B){if(B.valueAccessor.setDisabledState){const V=oe=>{B.valueAccessor.setDisabledState(oe)};W.registerOnDisabledChange(V),B._registerOnDestroy(()=>{W._unregisterOnDisabledChange(V)})}}(W,B)}function Y2(W,B){W.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(B)})}function An(W,B){const V=function Yn(W){return W._rawValidators}(W);null!==B.validator?W.setValidators(r2(V,B.validator)):"function"==typeof V&&W.setValidators([V]);const oe=function c2(W){return W._rawAsyncValidators}(W);null!==B.asyncValidator?W.setAsyncValidators(r2(oe,B.asyncValidator)):"function"==typeof oe&&W.setAsyncValidators([oe]);const Qe=()=>W.updateValueAndValidity();Y2(B._rawValidators,Qe),Y2(B._rawAsyncValidators,Qe)}function u2(W,B){W._pendingDirty&&W.markAsDirty(),W.setValue(W._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate(W._pendingValue),W._pendingChange=!1}const Vn={provide:Tn,useExisting:(0,l.Gpc)(()=>In)},rr=(()=>Promise.resolve())();let In=(()=>{class W extends Tn{constructor(V,oe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new fe({},pn(V),Fn(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){rr.then(()=>{const oe=this._findContainer(V.path);V.control=oe.registerControl(V.name,V.control),B1(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){rr.then(()=>{const oe=this._findContainer(V.path);oe&&oe.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){rr.then(()=>{const oe=this._findContainer(V.path),Qe=new fe({});(function G2(W,B){An(W,B)})(Qe,V),oe.registerControl(V.name,Qe),Qe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){rr.then(()=>{const oe=this._findContainer(V.path);oe&&oe.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,oe){rr.then(()=>{this.form.get(V.path).setValue(oe)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,function zi(W,B){W._syncPendingControls(),B.forEach(V=>{const oe=V.control;"submit"===oe.updateOn&&oe._pendingChange&&(V.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return W.\u0275fac=function(V){return new(V||W)(l.Y36(bt,10),l.Y36(le,10))},W.\u0275dir=l.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,oe){1&V&&l.NdJ("submit",function(d1){return oe.onSubmit(d1)})("reset",function(){return oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Vn]),l.qOj]}),W})();function k2(W,B){const V=W.indexOf(B);V>-1&&W.splice(V,1)}function Ir(W){return"object"==typeof W&&null!==W&&2===Object.keys(W).length&&"value"in W&&"disabled"in W}const wi=class extends be{constructor(B=null,V,oe){super(pt(V),jt(oe,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),G1(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=Ir(B)?B.value:B)}setValue(B,V={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(B,V={}){this.setValue(B,V)}reset(B=this.defaultValue,V={}){this._applyFormState(B),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){k2(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){k2(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){Ir(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},Fe={provide:rn,useExisting:(0,l.Gpc)(()=>Ct)},qe=(()=>Promise.resolve())();let Ct=(()=>{class W extends rn{constructor(V,oe,Qe,d1,Un){super(),this._changeDetectorRef=Un,this.control=new wi,this._registered=!1,this.update=new l.vpe,this._parent=V,this._setValidators(oe),this._setAsyncValidators(Qe),this.valueAccessor=function di(W,B){if(!B)return null;let V,oe,Qe;return Array.isArray(B),B.forEach(d1=>{d1.constructor===tt?V=d1:function ui(W){return Object.getPrototypeOf(W.constructor)===et}(d1)?oe=d1:Qe=d1}),Qe||oe||V||null}(0,d1)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const oe=V.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),function Q2(W,B){if(!W.hasOwnProperty("model"))return!1;const V=W.model;return!!V.isFirstChange()||!Object.is(B,V.currentValue)}(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){B1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){qe.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const oe=V.isDisabled.currentValue,Qe=0!==oe&&(0,l.D6c)(oe);qe.then(()=>{Qe&&!this.control.disabled?this.control.disable():!Qe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?function g1(W,B){return[...B.path,W]}(V,this._parent):[V]}}return W.\u0275fac=function(V){return new(V||W)(l.Y36(Tn,9),l.Y36(bt,10),l.Y36(le,10),l.Y36($e,10),l.Y36(l.sBO,8))},W.\u0275dir=l.lG2({type:W,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Fe]),l.qOj,l.TTD]}),W})(),Ft=(()=>{class W{}return W.\u0275fac=function(V){return new(V||W)},W.\u0275dir=l.lG2({type:W,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),W})(),sr=(()=>{class W{}return W.\u0275fac=function(V){return new(V||W)},W.\u0275mod=l.oAB({type:W}),W.\u0275inj=l.cJS({}),W})();let Pi=(()=>{class W{constructor(){this._validator=Nt}ngOnChanges(V){if(this.inputName in V){const oe=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):Nt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return W.\u0275fac=function(V){return new(V||W)},W.\u0275dir=l.lG2({type:W,features:[l.TTD]}),W})();const Jr={provide:bt,useExisting:(0,l.Gpc)(()=>N2),multi:!0};let N2=(()=>{class W extends Pi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=V=>Pe}enabled(V){return V}}return W.\u0275fac=function(){let B;return function(oe){return(B||(B=l.n5z(W)))(oe||W)}}(),W.\u0275dir=l.lG2({type:W,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(V,oe){2&V&&l.uIk("required",oe._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Jr]),l.qOj]}),W})();const qs={provide:bt,useExisting:(0,l.Gpc)(()=>Qr),multi:!0};let Qr=(()=>{class W extends Pi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=V=>function X2(W){return"number"==typeof W?W:parseInt(W,10)}(V),this.createValidator=V=>function a1(W){return B=>Ke(B.value)||!function xt(W){return null!=W&&"number"==typeof W.length}(B.value)?null:B.value.length<W?{minlength:{requiredLength:W,actualLength:B.value.length}}:null}(V)}}return W.\u0275fac=function(){let B;return function(oe){return(B||(B=l.n5z(W)))(oe||W)}}(),W.\u0275dir=l.lG2({type:W,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(V,oe){2&V&&l.uIk("minlength",oe._enabled?oe.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([qs]),l.qOj]}),W})(),dn=(()=>{class W{}return W.\u0275fac=function(V){return new(V||W)},W.\u0275mod=l.oAB({type:W}),W.\u0275inj=l.cJS({imports:[sr]}),W})(),vr=(()=>{class W{}return W.\u0275fac=function(V){return new(V||W)},W.\u0275mod=l.oAB({type:W}),W.\u0275inj=l.cJS({imports:[dn]}),W})()},1481:($t,We,U)=>{U.d(We,{Dx:()=>sn,H7:()=>e1,b2:()=>Tn,q6:()=>On,se:()=>Pe});var l=U(6895),M=U(4650);class X extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends X{static makeCurrent(){(0,l.HT)(new Ce)}onAndCancel(fe,ue,je){return fe.addEventListener(ue,je,!1),()=>{fe.removeEventListener(ue,je,!1)}}dispatchEvent(fe,ue){fe.dispatchEvent(ue)}remove(fe){fe.parentNode&&fe.parentNode.removeChild(fe)}createElement(fe,ue){return(ue=ue||this.getDefaultDocument()).createElement(fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(fe){return fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(fe){return fe instanceof DocumentFragment}getGlobalEventTarget(fe,ue){return"window"===ue?window:"document"===ue?fe:"body"===ue?fe.body:null}getBaseHref(fe){const ue=function Ee(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==ue?null:function ze(be){Re=Re||document.createElement("a"),Re.setAttribute("href",be);const fe=Re.pathname;return"/"===fe.charAt(0)?fe:`/${fe}`}(ue)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(fe){return(0,l.Mx)(document.cookie,fe)}}let Re,Te=null;const ke=new M.OlP("TRANSITION_ID"),he=[{provide:M.ip1,useFactory:function pe(be,fe,ue){return()=>{ue.get(M.CZH).donePromise.then(()=>{const je=(0,l.q)(),ft=fe.querySelectorAll(`style[ng-transition="${be}"]`);for(let Ut=0;Ut<ft.length;Ut++)je.remove(ft[Ut])})}},deps:[ke,l.K0,M.zs3],multi:!0}];let st=(()=>{class be{build(){return new XMLHttpRequest}}return be.\u0275fac=function(ue){return new(ue||be)},be.\u0275prov=M.Yz7({token:be,factory:be.\u0275fac}),be})();const et=new M.OlP("EventManagerPlugins");let $e=(()=>{class be{constructor(ue,je){this._zone=je,this._eventNameToPlugin=new Map,ue.forEach(ft=>ft.manager=this),this._plugins=ue.slice().reverse()}addEventListener(ue,je,ft){return this._findPluginFor(je).addEventListener(ue,je,ft)}addGlobalEventListener(ue,je,ft){return this._findPluginFor(je).addGlobalEventListener(ue,je,ft)}getZone(){return this._zone}_findPluginFor(ue){const je=this._eventNameToPlugin.get(ue);if(je)return je;const ft=this._plugins;for(let Ut=0;Ut<ft.length;Ut++){const g1=ft[Ut];if(g1.supports(ue))return this._eventNameToPlugin.set(ue,g1),g1}throw new Error(`No event manager plugin found for event ${ue}`)}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG(et),M.LFG(M.R0b))},be.\u0275prov=M.Yz7({token:be,factory:be.\u0275fac}),be})();class Rt{constructor(fe){this._doc=fe}addGlobalEventListener(fe,ue,je){const ft=(0,l.q)().getGlobalEventTarget(this._doc,fe);if(!ft)throw new Error(`Unsupported event target ${ft} for event ${ue}`);return this.addEventListener(ft,ue,je)}}let ut=(()=>{class be{constructor(){this._stylesSet=new Set}addStyles(ue){const je=new Set;ue.forEach(ft=>{this._stylesSet.has(ft)||(this._stylesSet.add(ft),je.add(ft))}),this.onStylesAdded(je)}onStylesAdded(ue){}getAllStyles(){return Array.from(this._stylesSet)}}return be.\u0275fac=function(ue){return new(ue||be)},be.\u0275prov=M.Yz7({token:be,factory:be.\u0275fac}),be})(),ot=(()=>{class be extends ut{constructor(ue){super(),this._doc=ue,this._hostNodes=new Map,this._hostNodes.set(ue.head,[])}_addStylesToHost(ue,je,ft){ue.forEach(Ut=>{const g1=this._doc.createElement("style");g1.textContent=Ut,ft.push(je.appendChild(g1))})}addHost(ue){const je=[];this._addStylesToHost(this._stylesSet,ue,je),this._hostNodes.set(ue,je)}removeHost(ue){const je=this._hostNodes.get(ue);je&&je.forEach(He),this._hostNodes.delete(ue)}onStylesAdded(ue){this._hostNodes.forEach((je,ft)=>{this._addStylesToHost(ue,ft,je)})}ngOnDestroy(){this._hostNodes.forEach(ue=>ue.forEach(He))}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG(l.K0))},be.\u0275prov=M.Yz7({token:be,factory:be.\u0275fac}),be})();function He(be){(0,l.q)().remove(be)}const Wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tt=/%COMP%/g;function ye(be,fe,ue){for(let je=0;je<fe.length;je++){let ft=fe[je];Array.isArray(ft)?ye(be,ft,ue):(ft=ft.replace(tt,be),ue.push(ft))}return ue}function Ie(be){return fe=>{if("__ngUnwrap__"===fe)return be;!1===be(fe)&&(fe.preventDefault(),fe.returnValue=!1)}}let Pe=(()=>{class be{constructor(ue,je,ft){this.eventManager=ue,this.sharedStylesHost=je,this.appId=ft,this.rendererByCompId=new Map,this.defaultRenderer=new Mt(ue)}createRenderer(ue,je){if(!ue||!je)return this.defaultRenderer;switch(je.encapsulation){case M.ifc.Emulated:{let ft=this.rendererByCompId.get(je.id);return ft||(ft=new N1(this.eventManager,this.sharedStylesHost,je,this.appId),this.rendererByCompId.set(je.id,ft)),ft.applyToHost(ue),ft}case 1:case M.ifc.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,ue,je);default:if(!this.rendererByCompId.has(je.id)){const ft=ye(je.id,je.styles,[]);this.sharedStylesHost.addStyles(ft),this.rendererByCompId.set(je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG($e),M.LFG(ot),M.LFG(M.AFp))},be.\u0275prov=M.Yz7({token:be,factory:be.\u0275fac}),be})();class Mt{constructor(fe){this.eventManager=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(fe,ue){return ue?document.createElementNS(Wt[ue]||ue,fe):document.createElement(fe)}createComment(fe){return document.createComment(fe)}createText(fe){return document.createTextNode(fe)}appendChild(fe,ue){(j1(fe)?fe.content:fe).appendChild(ue)}insertBefore(fe,ue,je){fe&&(j1(fe)?fe.content:fe).insertBefore(ue,je)}removeChild(fe,ue){fe&&fe.removeChild(ue)}selectRootElement(fe,ue){let je="string"==typeof fe?document.querySelector(fe):fe;if(!je)throw new Error(`The selector "${fe}" did not match any elements`);return ue||(je.textContent=""),je}parentNode(fe){return fe.parentNode}nextSibling(fe){return fe.nextSibling}setAttribute(fe,ue,je,ft){if(ft){ue=ft+":"+ue;const Ut=Wt[ft];Ut?fe.setAttributeNS(Ut,ue,je):fe.setAttribute(ue,je)}else fe.setAttribute(ue,je)}removeAttribute(fe,ue,je){if(je){const ft=Wt[je];ft?fe.removeAttributeNS(ft,ue):fe.removeAttribute(`${je}:${ue}`)}else fe.removeAttribute(ue)}addClass(fe,ue){fe.classList.add(ue)}removeClass(fe,ue){fe.classList.remove(ue)}setStyle(fe,ue,je,ft){ft&(M.JOm.DashCase|M.JOm.Important)?fe.style.setProperty(ue,je,ft&M.JOm.Important?"important":""):fe.style[ue]=je}removeStyle(fe,ue,je){je&M.JOm.DashCase?fe.style.removeProperty(ue):fe.style[ue]=""}setProperty(fe,ue,je){fe[ue]=je}setValue(fe,ue){fe.nodeValue=ue}listen(fe,ue,je){return"string"==typeof fe?this.eventManager.addGlobalEventListener(fe,ue,Ie(je)):this.eventManager.addEventListener(fe,ue,Ie(je))}}function j1(be){return"TEMPLATE"===be.tagName&&void 0!==be.content}class N1 extends Mt{constructor(fe,ue,je,ft){super(fe),this.component=je;const Ut=ye(ft+"-"+je.id,je.styles,[]);ue.addStyles(Ut),this.contentAttr=function le(be){return"_ngcontent-%COMP%".replace(tt,be)}(ft+"-"+je.id),this.hostAttr=function ct(be){return"_nghost-%COMP%".replace(tt,be)}(ft+"-"+je.id)}applyToHost(fe){super.setAttribute(fe,this.hostAttr,"")}createElement(fe,ue){const je=super.createElement(fe,ue);return super.setAttribute(je,this.contentAttr,""),je}}class Nt extends Mt{constructor(fe,ue,je,ft){super(fe),this.sharedStylesHost=ue,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ut=ye(ft.id,ft.styles,[]);for(let g1=0;g1<Ut.length;g1++){const B1=document.createElement("style");B1.textContent=Ut[g1],this.shadowRoot.appendChild(B1)}}nodeOrShadowRoot(fe){return fe===this.hostEl?this.shadowRoot:fe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(fe,ue){return super.appendChild(this.nodeOrShadowRoot(fe),ue)}insertBefore(fe,ue,je){return super.insertBefore(this.nodeOrShadowRoot(fe),ue,je)}removeChild(fe,ue){return super.removeChild(this.nodeOrShadowRoot(fe),ue)}parentNode(fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(fe)))}}let b1=(()=>{class be extends Rt{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,je,ft){return ue.addEventListener(je,ft,!1),()=>this.removeEventListener(ue,je,ft)}removeEventListener(ue,je,ft){return ue.removeEventListener(je,ft)}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG(l.K0))},be.\u0275prov=M.Yz7({token:be,factory:be.\u0275fac}),be})();const p1=["alt","control","meta","shift"],m1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f1={alt:be=>be.altKey,control:be=>be.ctrlKey,meta:be=>be.metaKey,shift:be=>be.shiftKey};let n2=(()=>{class be extends Rt{constructor(ue){super(ue)}supports(ue){return null!=be.parseEventName(ue)}addEventListener(ue,je,ft){const Ut=be.parseEventName(je),g1=be.eventCallback(Ut.fullKey,ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(ue,Ut.domEventName,g1))}static parseEventName(ue){const je=ue.toLowerCase().split("."),ft=je.shift();if(0===je.length||"keydown"!==ft&&"keyup"!==ft)return null;const Ut=be._normalizeKey(je.pop());let g1="",B1=je.indexOf("code");if(B1>-1&&(je.splice(B1,1),g1="code."),p1.forEach(Y2=>{const P1=je.indexOf(Y2);P1>-1&&(je.splice(P1,1),g1+=Y2+".")}),g1+=Ut,0!=je.length||0===Ut.length)return null;const Mn={};return Mn.domEventName=ft,Mn.fullKey=g1,Mn}static matchEventFullKeyCode(ue,je){let ft=m1[ue.key]||ue.key,Ut="";return je.indexOf("code.")>-1&&(ft=ue.code,Ut="code."),!(null==ft||!ft)&&(ft=ft.toLowerCase()," "===ft?ft="space":"."===ft&&(ft="dot"),p1.forEach(g1=>{g1!==ft&&(0,f1[g1])(ue)&&(Ut+=g1+".")}),Ut+=ft,Ut===je)}static eventCallback(ue,je,ft){return Ut=>{be.matchEventFullKeyCode(Ut,ue)&&ft.runGuarded(()=>je(Ut))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG(l.K0))},be.\u0275prov=M.Yz7({token:be,factory:be.\u0275fac}),be})();const On=(0,M.eFA)(M._c5,"browser",[{provide:M.Lbi,useValue:l.bD},{provide:M.g9A,useValue:function r2(){Ce.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function c2(){return(0,M.RDi)(document),document},deps:[]}]),m2=new M.OlP(""),Vt=[{provide:M.rWj,useClass:class Ne{addToWindow(fe){M.dqk.getAngularTestability=(je,ft=!0)=>{const Ut=fe.findTestabilityInTree(je,ft);if(null==Ut)throw new Error("Could not find testability for element.");return Ut},M.dqk.getAllAngularTestabilities=()=>fe.getAllTestabilities(),M.dqk.getAllAngularRootElements=()=>fe.getAllRootElements(),M.dqk.frameworkStabilizers||(M.dqk.frameworkStabilizers=[]),M.dqk.frameworkStabilizers.push(je=>{const ft=M.dqk.getAllAngularTestabilities();let Ut=ft.length,g1=!1;const B1=function(Mn){g1=g1||Mn,Ut--,0==Ut&&je(g1)};ft.forEach(function(Mn){Mn.whenStable(B1)})})}findTestabilityInTree(fe,ue,je){return null==ue?null:fe.getTestability(ue)??(je?(0,l.q)().isShadowRoot(ue)?this.findTestabilityInTree(fe,ue.host,!0):this.findTestabilityInTree(fe,ue.parentElement,!0):null)}},deps:[]},{provide:M.lri,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]},{provide:M.dDg,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]}],mn=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function Yn(){return new M.qLn},deps:[]},{provide:et,useClass:b1,multi:!0,deps:[l.K0,M.R0b,M.Lbi]},{provide:et,useClass:n2,multi:!0,deps:[l.K0]},{provide:Pe,useClass:Pe,deps:[$e,ot,M.AFp]},{provide:M.FYo,useExisting:Pe},{provide:ut,useExisting:ot},{provide:ot,useClass:ot,deps:[l.K0]},{provide:$e,useClass:$e,deps:[et,M.R0b]},{provide:l.JF,useClass:st,deps:[]},[]];let Tn=(()=>{class be{constructor(ue){}static withServerTransition(ue){return{ngModule:be,providers:[{provide:M.AFp,useValue:ue.appId},{provide:ke,useExisting:M.AFp},he]}}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG(m2,12))},be.\u0275mod=M.oAB({type:be}),be.\u0275inj=M.cJS({providers:[...mn,...Vt],imports:[l.ez,M.hGG]}),be})(),sn=(()=>{class be{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG(l.K0))},be.\u0275prov=M.Yz7({token:be,factory:function(ue){let je=null;return je=ue?new ue:function ln(){return new sn((0,M.LFG)(l.K0))}(),je},providedIn:"root"}),be})();typeof window<"u"&&window;let e1=(()=>{class be{}return be.\u0275fac=function(ue){return new(ue||be)},be.\u0275prov=M.Yz7({token:be,factory:function(ue){let je=null;return je=ue?new(ue||be):M.LFG(un),je},providedIn:"root"}),be})(),un=(()=>{class be extends e1{constructor(ue){super(),this._doc=ue}sanitize(ue,je){if(null==je)return null;switch(ue){case M.q3G.NONE:return je;case M.q3G.HTML:return(0,M.qzn)(je,"HTML")?(0,M.z3N)(je):(0,M.EiD)(this._doc,String(je)).toString();case M.q3G.STYLE:return(0,M.qzn)(je,"Style")?(0,M.z3N)(je):je;case M.q3G.SCRIPT:if((0,M.qzn)(je,"Script"))return(0,M.z3N)(je);throw new Error("unsafe value used in a script context");case M.q3G.URL:return(0,M.qzn)(je,"URL")?(0,M.z3N)(je):(0,M.mCW)(String(je));case M.q3G.RESOURCE_URL:if((0,M.qzn)(je,"ResourceURL"))return(0,M.z3N)(je);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ue} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ue){return(0,M.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,M.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,M.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,M.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,M.pB0)(ue)}}return be.\u0275fac=function(ue){return new(ue||be)(M.LFG(l.K0))},be.\u0275prov=M.Yz7({token:be,factory:function(ue){let je=null;return je=ue?new ue:function G1(be){return new un(be.get(l.K0))}(M.LFG(M.zs3)),je},providedIn:"root"}),be})()},2431:($t,We,U)=>{U.d(We,{F0:()=>V2,rH:()=>ho,Od:()=>Qi,yS:()=>H1,Bz:()=>Ms,lC:()=>ms});var l=U(4650),M=U(8996),X=U(9646),Ce=U(1135),Te=U(6805),Ee=U(9841),Re=U(7272),ze=U(9770),ke=U(9635),pe=U(9751),he=U(576);function Ne(A,I){const N=(0,he.m)(A)?A:()=>A,k=j=>j.error(N());return new pe.y(I?j=>I.schedule(k,0,j):k)}var st=U(515),et=U(727),$e=U(4482),Rt=U(5403);function ut(){return(0,$e.e)((A,I)=>{let N=null;A._refCount++;const k=(0,Rt.x)(I,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(N=null);const j=A._connection,ee=N;N=null,j&&(!ee||j===ee)&&j.unsubscribe(),I.unsubscribe()});A.subscribe(k),k.closed||(N=A.connect())})}class ot extends pe.y{constructor(I,N){super(),this.source=I,this.subjectFactory=N,this._subject=null,this._refCount=0,this._connection=null,(0,$e.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new et.w0;const N=this.getSubject();I.add(this.source.subscribe((0,Rt.x)(N,void 0,()=>{this._teardown(),N.complete()},k=>{this._teardown(),N.error(k)},()=>this._teardown()))),I.closed&&(this._connection=null,I=et.w0.EMPTY)}return I}refCount(){return ut()(this)}}var He=U(7579),Wt=U(6895),tt=U(4004),at=U(3900),Ke=U(5698),xt=U(8675),bt=U(9300),le=U(5577),ct=U(590),ye=U(4351),Ie=U(8505),Ye=U(8421);function Pe(A){return(0,$e.e)((I,N)=>{let ee,k=null,j=!1;k=I.subscribe((0,Rt.x)(N,void 0,void 0,me=>{ee=(0,Ye.Xf)(A(me,Pe(A)(I))),k?(k.unsubscribe(),k=null,ee.subscribe(N)):j=!0})),j&&(k.unsubscribe(),k=null,ee.subscribe(N))})}var Mt=U(5026);function wt(A){return A<=0?()=>st.E:(0,$e.e)((I,N)=>{let k=[];I.subscribe((0,Rt.x)(N,j=>{k.push(j),A<k.length&&k.shift()},()=>{for(const j of k)N.next(j);N.complete()},void 0,()=>{k=null}))})}var a1=U(8068),j1=U(6590),N1=U(4671);function Nt(A,I){const N=arguments.length>=2;return k=>k.pipe(A?(0,bt.h)((j,ee)=>A(j,ee,k)):N1.y,wt(1),N?(0,j1.d)(I):(0,a1.T)(()=>new Te.K))}var p1=U(9718);function m1(A){return(0,$e.e)((I,N)=>{try{I.subscribe(N)}finally{N.add(A)}})}var f1=U(8189),n2=U(1481);const Pt="primary",en=Symbol("RouteTitle");class pn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const N=this.params[I];return Array.isArray(N)?N[0]:N}return null}getAll(I){if(this.has(I)){const N=this.params[I];return Array.isArray(N)?N:[N]}return[]}get keys(){return Object.keys(this.params)}}function Pn(A){return new pn(A)}function Fn(A,I,N){const k=N.path.split("/");if(k.length>A.length||"full"===N.pathMatch&&(I.hasChildren()||k.length<A.length))return null;const j={};for(let ee=0;ee<k.length;ee++){const me=k[ee],we=A[ee];if(me.startsWith(":"))j[me.substring(1)]=we;else if(me!==we.path)return null}return{consumed:A.slice(0,k.length),posParams:j}}function Yn(A,I){const N=A?Object.keys(A):void 0,k=I?Object.keys(I):void 0;if(!N||!k||N.length!=k.length)return!1;let j;for(let ee=0;ee<N.length;ee++)if(j=N[ee],!c2(A[j],I[j]))return!1;return!0}function c2(A,I){if(Array.isArray(A)&&Array.isArray(I)){if(A.length!==I.length)return!1;const N=[...A].sort(),k=[...I].sort();return N.every((j,ee)=>k[ee]===j)}return A===I}function R1(A){return Array.prototype.concat.apply([],A)}function On(A){return A.length>0?A[A.length-1]:null}function Vt(A,I){for(const N in A)A.hasOwnProperty(N)&&I(A[N],N)}function mn(A){return(0,l.CqO)(A)?A:(0,l.QGY)(A)?(0,M.D)(Promise.resolve(A)):(0,X.of)(A)}const U2={exact:function W1(A,I,N){if(!Q1(A.segments,I.segments)||!bn(A.segments,I.segments,N)||A.numberOfChildren!==I.numberOfChildren)return!1;for(const k in I.children)if(!A.children[k]||!W1(A.children[k],I.children[k],N))return!1;return!0},subset:t1},Ci={exact:function sn(A,I){return Yn(A,I)},subset:function Jt(A,I){return Object.keys(I).length<=Object.keys(A).length&&Object.keys(I).every(N=>c2(A[N],I[N]))},ignored:()=>!0};function ln(A,I,N){return U2[N.paths](A.root,I.root,N.matrixParams)&&Ci[N.queryParams](A.queryParams,I.queryParams)&&!("exact"===N.fragment&&A.fragment!==I.fragment)}function t1(A,I,N){return an(A,I,I.segments,N)}function an(A,I,N,k){if(A.segments.length>N.length){const j=A.segments.slice(0,N.length);return!(!Q1(j,N)||I.hasChildren()||!bn(j,N,k))}if(A.segments.length===N.length){if(!Q1(A.segments,N)||!bn(A.segments,N,k))return!1;for(const j in I.children)if(!A.children[j]||!t1(A.children[j],I.children[j],k))return!1;return!0}{const j=N.slice(0,A.segments.length),ee=N.slice(A.segments.length);return!!(Q1(A.segments,j)&&bn(A.segments,j,k)&&A.children[Pt])&&an(A.children[Pt],I,ee,k)}}function bn(A,I,N){return I.every((k,j)=>Ci[N](A[j].parameters,k.parameters))}class J1{constructor(I,N,k){this.root=I,this.queryParams=N,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return M2.serialize(this)}}class S1{constructor(I,N){this.segments=I,this.children=N,this.parent=null,Vt(N,(k,j)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qt(this)}}class T1{constructor(I,N){this.path=I,this.parameters=N}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return xe(this)}}function Q1(A,I){return A.length===I.length&&A.every((N,k)=>N.path===I[k].path)}let Cn=(()=>{class A{}return A.\u0275fac=function(N){return new(N||A)},A.\u0275prov=l.Yz7({token:A,factory:function(){return new l2},providedIn:"root"}),A})();class l2{parse(I){const N=new fe(I);return new J1(N.parseRootSegment(),N.parseQueryParams(),N.parseFragment())}serialize(I){const N=`/${_t(I.root,!0)}`,k=function Ue(A){const I=Object.keys(A).map(N=>{const k=A[N];return Array.isArray(k)?k.map(j=>`${A1(N)}=${A1(j)}`).join("&"):`${A1(N)}=${A1(k)}`}).filter(N=>!!N);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${N}${k}${"string"==typeof I.fragment?`#${function I1(A){return encodeURI(A)}(I.fragment)}`:""}`}}const M2=new l2;function Qt(A){return A.segments.map(I=>xe(I)).join("/")}function _t(A,I){if(!A.hasChildren())return Qt(A);if(I){const N=A.children[Pt]?_t(A.children[Pt],!1):"",k=[];return Vt(A.children,(j,ee)=>{ee!==Pt&&k.push(`${ee}:${_t(j,!1)}`)}),k.length>0?`${N}(${k.join("//")})`:N}{const N=function j2(A,I){let N=[];return Vt(A.children,(k,j)=>{j===Pt&&(N=N.concat(I(k,j)))}),Vt(A.children,(k,j)=>{j!==Pt&&(N=N.concat(I(k,j)))}),N}(A,(k,j)=>j===Pt?[_t(A.children[Pt],!1)]:[`${j}:${_t(k,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Pt]?`${Qt(A)}/${N[0]}`:`${Qt(A)}/(${N.join("//")})`}}function Xt(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function A1(A){return Xt(A).replace(/%3B/gi,";")}function z1(A){return Xt(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(A){return decodeURIComponent(A)}function _e(A){return Se(A.replace(/\+/g,"%20"))}function xe(A){return`${z1(A.path)}${function pt(A){return Object.keys(A).map(I=>`;${z1(I)}=${z1(A[I])}`).join("")}(A.parameters)}`}const jt=/^[^\/()?;=#]+/;function e1(A){const I=A.match(jt);return I?I[0]:""}const G1=/^[^=?&#]+/,K1=/^[^&#]+/;class fe{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new S1([],{}):new S1([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let N={};this.peekStartsWith("/(")&&(this.capture("/"),N=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(I.length>0||Object.keys(N).length>0)&&(k[Pt]=new S1(I,N)),k}parseSegment(){const I=e1(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(I),new T1(Se(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const N=e1(this.remaining);if(!N)return;this.capture(N);let k="";if(this.consumeOptional("=")){const j=e1(this.remaining);j&&(k=j,this.capture(k))}I[Se(N)]=Se(k)}parseQueryParam(I){const N=function un(A){const I=A.match(G1);return I?I[0]:""}(this.remaining);if(!N)return;this.capture(N);let k="";if(this.consumeOptional("=")){const me=function be(A){const I=A.match(K1);return I?I[0]:""}(this.remaining);me&&(k=me,this.capture(k))}const j=_e(N),ee=_e(k);if(I.hasOwnProperty(j)){let me=I[j];Array.isArray(me)||(me=[me],I[j]=me),me.push(ee)}else I[j]=ee}parseParens(I){const N={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=e1(this.remaining),j=this.remaining[k.length];if("/"!==j&&")"!==j&&";"!==j)throw new l.vHH(4010,!1);let ee;k.indexOf(":")>-1?(ee=k.slice(0,k.indexOf(":")),this.capture(ee),this.capture(":")):I&&(ee=Pt);const me=this.parseChildren();N[ee]=1===Object.keys(me).length?me[Pt]:new S1([],me),this.consumeOptional("//")}return N}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new l.vHH(4011,!1)}}function ue(A){return A.segments.length>0?new S1([],{[Pt]:A}):A}function je(A){const I={};for(const k of Object.keys(A.children)){const ee=je(A.children[k]);(ee.segments.length>0||ee.hasChildren())&&(I[k]=ee)}return function ft(A){if(1===A.numberOfChildren&&A.children[Pt]){const I=A.children[Pt];return new S1(A.segments.concat(I.segments),I.children)}return A}(new S1(A.segments,I))}function Ut(A){return A instanceof J1}function P1(A,I,N,k,j){if(0===N.length)return xi(I.root,I.root,I.root,k,j);const ee=function ii(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new u2(!0,0,A);let I=0,N=!1;const k=A.reduce((j,ee,me)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const we={};return Vt(ee.outlets,(gt,zt)=>{we[zt]="string"==typeof gt?gt.split("/"):gt}),[...j,{outlets:we}]}if(ee.segmentPath)return[...j,ee.segmentPath]}return"string"!=typeof ee?[...j,ee]:0===me?(ee.split("/").forEach((we,gt)=>{0==gt&&"."===we||(0==gt&&""===we?N=!0:".."===we?I++:""!=we&&j.push(we))}),j):[...j,ee]},[]);return new u2(N,I,k)}(N);return ee.toRoot()?xi(I.root,I.root,new S1([],{}),k,j):function me(gt){const zt=function g2(A,I,N,k){if(A.isAbsolute)return new G2(I.root,!0,0);if(-1===k)return new G2(N,N===I.root,0);return function ji(A,I,N){let k=A,j=I,ee=N;for(;ee>j;){if(ee-=j,k=k.parent,!k)throw new l.vHH(4005,!1);j=k.segments.length}return new G2(k,!1,j-ee)}(N,k+(An(A.commands[0])?0:1),A.numberOfDoubleDots)}(ee,I,A.snapshot?._urlSegment,gt),fn=zt.processChildren?Q2(zt.segmentGroup,zt.index,ee.commands):Wr(zt.segmentGroup,zt.index,ee.commands);return xi(I.root,zt.segmentGroup,fn,k,j)}(A.snapshot?._lastPathIndex)}function An(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function w2(A){return"object"==typeof A&&null!=A&&A.outlets}function xi(A,I,N,k,j){let me,ee={};k&&Vt(k,(gt,zt)=>{ee[zt]=Array.isArray(gt)?gt.map(fn=>`${fn}`):`${gt}`}),me=A===I?N:J2(A,I,N);const we=ue(je(me));return new J1(we,ee,j)}function J2(A,I,N){const k={};return Vt(A.children,(j,ee)=>{k[ee]=j===I?N:J2(j,I,N)}),new S1(A.segments,k)}class u2{constructor(I,N,k){if(this.isAbsolute=I,this.numberOfDoubleDots=N,this.commands=k,I&&k.length>0&&An(k[0]))throw new l.vHH(4003,!1);const j=k.find(w2);if(j&&j!==On(k))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class G2{constructor(I,N,k){this.segmentGroup=I,this.processChildren=N,this.index=k}}function Wr(A,I,N){if(A||(A=new S1([],{})),0===A.segments.length&&A.hasChildren())return Q2(A,I,N);const k=function ui(A,I,N){let k=0,j=I;const ee={match:!1,pathIndex:0,commandIndex:0};for(;j<A.segments.length;){if(k>=N.length)return ee;const me=A.segments[j],we=N[k];if(w2(we))break;const gt=`${we}`,zt=k<N.length-1?N[k+1]:null;if(j>0&&void 0===gt)break;if(gt&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!ri(gt,zt,me))return ee;k+=2}else{if(!ri(gt,{},me))return ee;k++}j++}return{match:!0,pathIndex:j,commandIndex:k}}(A,I,N),j=N.slice(k.commandIndex);if(k.match&&k.pathIndex<A.segments.length){const ee=new S1(A.segments.slice(0,k.pathIndex),{});return ee.children[Pt]=new S1(A.segments.slice(k.pathIndex),A.children),Q2(ee,0,j)}return k.match&&0===j.length?new S1(A.segments,{}):k.match&&!A.hasChildren()?zi(A,I,N):k.match?Q2(A,0,j):zi(A,I,N)}function Q2(A,I,N){if(0===N.length)return new S1(A.segments,{});{const k=function kn(A){return w2(A[0])?A[0].outlets:{[Pt]:A}}(N),j={};return Vt(k,(ee,me)=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(j[me]=Wr(A.children[me],I,ee))}),Vt(A.children,(ee,me)=>{void 0===k[me]&&(j[me]=ee)}),new S1(A.segments,j)}}function zi(A,I,N){const k=A.segments.slice(0,I);let j=0;for(;j<N.length;){const ee=N[j];if(w2(ee)){const gt=di(ee.outlets);return new S1(k,gt)}if(0===j&&An(N[0])){k.push(new T1(A.segments[I].path,Mi(N[0]))),j++;continue}const me=w2(ee)?ee.outlets[Pt]:`${ee}`,we=j<N.length-1?N[j+1]:null;me&&we&&An(we)?(k.push(new T1(me,Mi(we))),j+=2):(k.push(new T1(me,{})),j++)}return new S1(k,{})}function di(A){const I={};return Vt(A,(N,k)=>{"string"==typeof N&&(N=[N]),null!==N&&(I[k]=zi(new S1([],{}),0,N))}),I}function Mi(A){const I={};return Vt(A,(N,k)=>I[k]=`${N}`),I}function ri(A,I,N){return A==N.path&&Yn(I,N.parameters)}class Vn{constructor(I,N){this.id=I,this.url=N}}class rr extends Vn{constructor(I,N,k="imperative",j=null){super(I,N),this.type=0,this.navigationTrigger=k,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class In extends Vn{constructor(I,N,k){super(I,N),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class k2 extends Vn{constructor(I,N,k,j){super(I,N),this.reason=k,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ir extends Vn{constructor(I,N,k,j){super(I,N),this.error=k,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wi extends Vn{constructor(I,N,k,j){super(I,N),this.urlAfterRedirects=k,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends Vn{constructor(I,N,k,j){super(I,N),this.urlAfterRedirects=k,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R2 extends Vn{constructor(I,N,k,j,ee){super(I,N),this.urlAfterRedirects=k,this.state=j,this.shouldActivate=ee,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qr extends Vn{constructor(I,N,k,j){super(I,N),this.urlAfterRedirects=k,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends Vn{constructor(I,N,k,j){super(I,N),this.urlAfterRedirects=k,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $2{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gs{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d2{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(I,N,k){this.routerEvent=I,this.position=N,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ft{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const N=this.pathFromRoot(I);return N.length>1?N[N.length-2]:null}children(I){const N=C1(I,this._root);return N?N.children.map(k=>k.value):[]}firstChild(I){const N=C1(I,this._root);return N&&N.children.length>0?N.children[0].value:null}siblings(I){const N=V1(I,this._root);return N.length<2?[]:N[N.length-2].children.map(j=>j.value).filter(j=>j!==I)}pathFromRoot(I){return V1(I,this._root).map(N=>N.value)}}function C1(A,I){if(A===I.value)return I;for(const N of I.children){const k=C1(A,N);if(k)return k}return null}function V1(A,I){if(A===I.value)return[I];for(const N of I.children){const k=V1(A,N);if(k.length)return k.unshift(I),k}return[]}class Bn{constructor(I,N){this.value=I,this.children=N}toString(){return`TreeNode(${this.value})`}}function gn(A){const I={};return A&&A.children.forEach(N=>I[N.value.outlet]=N),I}class sr extends Ft{constructor(I,N){super(I),this.snapshot=N,Li(this,I)}toString(){return this.snapshot.toString()}}function zr(A,I){const N=function si(A,I){const me=new Gi([],{},{},"",{},Pt,I,null,A.root,-1,{});return new $s("",new Bn(me,[]))}(A,I),k=new Ce.X([new T1("",{})]),j=new Ce.X({}),ee=new Ce.X({}),me=new Ce.X({}),we=new Ce.X(""),gt=new fi(k,j,me,we,ee,Pt,I,N.root);return gt.snapshot=N.root,new sr(new Bn(gt,[]),N)}class fi{constructor(I,N,k,j,ee,me,we,gt){this.url=I,this.params=N,this.queryParams=k,this.fragment=j,this.data=ee,this.outlet=me,this.component=we,this.title=this.data?.pipe((0,tt.U)(zt=>zt[en]))??(0,X.of)(void 0),this._futureSnapshot=gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(I=>Pn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(I=>Pn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hs(A,I="emptyOnly"){const N=A.pathFromRoot;let k=0;if("always"!==I)for(k=N.length-1;k>=1;){const j=N[k],ee=N[k-1];if(j.routeConfig&&""===j.routeConfig.path)k--;else{if(ee.component)break;k--}}return function As(A){return A.reduce((I,N)=>({params:{...I.params,...N.params},data:{...I.data,...N.data},resolve:{...N.data,...I.resolve,...N.routeConfig?.data,...N._resolvedData}}),{params:{},data:{},resolve:{}})}(N.slice(k))}class Gi{constructor(I,N,k,j,ee,me,we,gt,zt,fn,s1,F1){this.url=I,this.params=N,this.queryParams=k,this.fragment=j,this.data=ee,this.outlet=me,this.component=we,this.title=this.data?.[en],this.routeConfig=gt,this._urlSegment=zt,this._lastPathIndex=fn,this._correctedLastPathIndex=F1??fn,this._resolve=s1}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $s extends Ft{constructor(I,N){super(N),this.url=I,Li(this,N)}toString(){return Oi(this._root)}}function Li(A,I){I.value._routerState=A,I.children.forEach(N=>Li(A,N))}function Oi(A){const I=A.children.length>0?` { ${A.children.map(Oi).join(", ")} } `:"";return`${A.value}${I}`}function Yi(A){if(A.snapshot){const I=A.snapshot,N=A._futureSnapshot;A.snapshot=N,Yn(I.queryParams,N.queryParams)||A.queryParams.next(N.queryParams),I.fragment!==N.fragment&&A.fragment.next(N.fragment),Yn(I.params,N.params)||A.params.next(N.params),function r2(A,I){if(A.length!==I.length)return!1;for(let N=0;N<A.length;++N)if(!Yn(A[N],I[N]))return!1;return!0}(I.url,N.url)||A.url.next(N.url),Yn(I.data,N.data)||A.data.next(N.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function hi(A,I){const N=Yn(A.params,I.params)&&function C2(A,I){return Q1(A,I)&&A.every((N,k)=>Yn(N.parameters,I[k].parameters))}(A.url,I.url);return N&&!(!A.parent!=!I.parent)&&(!A.parent||hi(A.parent,I.parent))}function Di(A,I,N){if(N&&A.shouldReuseRoute(I.value,N.value.snapshot)){const k=N.value;k._futureSnapshot=I.value;const j=function Lr(A,I,N){return I.children.map(k=>{for(const j of N.children)if(A.shouldReuseRoute(k.value,j.value.snapshot))return Di(A,k,j);return Di(A,k)})}(A,I,N);return new Bn(k,j)}{if(A.shouldAttach(I.value)){const ee=A.retrieve(I.value);if(null!==ee){const me=ee.route;return me.value._futureSnapshot=I.value,me.children=I.children.map(we=>Di(A,we)),me}}const k=function Kr(A){return new fi(new Ce.X(A.url),new Ce.X(A.params),new Ce.X(A.queryParams),new Ce.X(A.fragment),new Ce.X(A.data),A.outlet,A.component,A)}(I.value),j=I.children.map(ee=>Di(A,ee));return new Bn(k,j)}}const or="ngNavigationCancelingError";function ar(A,I){const{redirectTo:N,navigationBehaviorOptions:k}=Ut(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,j=ki(!1,0,I);return j.url=N,j.navigationBehaviorOptions=k,j}function ki(A,I,N){const k=new Error("NavigationCancelingError: "+(A||""));return k[or]=!0,k.cancellationCode=I,N&&(k.url=N),k}function pi(A){return cr(A)&&Ut(A.url)}function cr(A){return A&&A[or]}class oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new o2,this.attachRef=null}}let o2=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(N,k){const j=this.getOrCreateContext(N);j.outlet=k,this.contexts.set(N,j)}onChildOutletDestroyed(N){const k=this.getContext(N);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const N=this.contexts;return this.contexts=new Map,N}onOutletReAttached(N){this.contexts=N}getOrCreateContext(N){let k=this.getContext(N);return k||(k=new oo,this.contexts.set(N,k)),k}getContext(N){return this.contexts.get(N)||null}}return A.\u0275fac=function(N){return new(N||A)},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Ri=!1;let ms=(()=>{class A{constructor(N,k,j,ee,me){this.parentContexts=N,this.location=k,this.changeDetector=ee,this.environmentInjector=me,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=j||Pt,N.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const N=this.parentContexts.getContext(this.name);N&&N.route&&(N.attachRef?this.attach(N.attachRef,N.route):this.activateWith(N.route,N.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Ri);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Ri);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Ri);this.location.detach();const N=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(N.instance),N}attach(N,k){this.activated=N,this._activatedRoute=k,this.location.insert(N.hostView),this.attachEvents.emit(N.instance)}deactivate(){if(this.activated){const N=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(N)}}activateWith(N,k){if(this.isActivated)throw new l.vHH(4013,Ri);this._activatedRoute=N;const j=this.location,me=N._futureSnapshot.component,we=this.parentContexts.getOrCreateContext(this.name).children,gt=new f2(N,we,j.injector);if(k&&function Yr(A){return!!A.resolveComponentFactory}(k)){const zt=k.resolveComponentFactory(me);this.activated=j.createComponent(zt,j.length,gt)}else this.activated=j.createComponent(me,{index:j.length,injector:gt,environmentInjector:k??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(N){return new(N||A)(l.Y36(o2),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},A.\u0275dir=l.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),A})();class f2{constructor(I,N,k){this.route=I,this.childContexts=N,this.parent=k}get(I,N){return I===fi?this.route:I===o2?this.childContexts:this.parent.get(I,N)}}let s2=(()=>{class A{}return A.\u0275fac=function(N){return new(N||A)},A.\u0275cmp=l.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(N,k){1&N&&l._UZ(0,"router-outlet")},dependencies:[ms],encapsulation:2}),A})();function X2(A,I){return A.providers&&!A._injector&&(A._injector=(0,l.MMx)(A.providers,I,`Route: ${A.path}`)),A._injector??I}function N2(A){const I=A.children&&A.children.map(N2),N=I?{...A,children:I}:{...A};return!N.component&&!N.loadComponent&&(I||N.loadChildren)&&N.outlet&&N.outlet!==Pt&&(N.component=s2),N}function v2(A){return A.outlet||Pt}function h2(A,I){const N=A.filter(k=>v2(k)===I);return N.push(...A.filter(k=>v2(k)!==I)),N}function L1(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let I=A.parent;I;I=I.parent){const N=I.routeConfig;if(N?._loadedInjector)return N._loadedInjector;if(N?._injector)return N._injector}return null}class Qr{constructor(I,N,k,j){this.routeReuseStrategy=I,this.futureState=N,this.currState=k,this.forwardEvent=j}activate(I){const N=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(N,k,I),Yi(this.futureState.root),this.activateChildRoutes(N,k,I)}deactivateChildRoutes(I,N,k){const j=gn(N);I.children.forEach(ee=>{const me=ee.value.outlet;this.deactivateRoutes(ee,j[me],k),delete j[me]}),Vt(j,(ee,me)=>{this.deactivateRouteAndItsChildren(ee,k)})}deactivateRoutes(I,N,k){const j=I.value,ee=N?N.value:null;if(j===ee)if(j.component){const me=k.getContext(j.outlet);me&&this.deactivateChildRoutes(I,N,me.children)}else this.deactivateChildRoutes(I,N,k);else ee&&this.deactivateRouteAndItsChildren(N,k)}deactivateRouteAndItsChildren(I,N){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,N):this.deactivateRouteAndOutlet(I,N)}detachAndStoreRouteSubtree(I,N){const k=N.getContext(I.value.outlet),j=k&&I.value.component?k.children:N,ee=gn(I);for(const me of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[me],j);if(k&&k.outlet){const me=k.outlet.detach(),we=k.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:me,route:I,contexts:we})}}deactivateRouteAndOutlet(I,N){const k=N.getContext(I.value.outlet),j=k&&I.value.component?k.children:N,ee=gn(I);for(const me of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[me],j);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(I,N,k){const j=gn(N);I.children.forEach(ee=>{this.activateRoutes(ee,j[ee.value.outlet],k),this.forwardEvent(new Fe(ee.value.snapshot))}),I.children.length&&this.forwardEvent(new d2(I.value.snapshot))}activateRoutes(I,N,k){const j=I.value,ee=N?N.value:null;if(Yi(j),j===ee)if(j.component){const me=k.getOrCreateContext(j.outlet);this.activateChildRoutes(I,N,me.children)}else this.activateChildRoutes(I,N,k);else if(j.component){const me=k.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const we=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),me.children.onOutletReAttached(we.contexts),me.attachRef=we.componentRef,me.route=we.route.value,me.outlet&&me.outlet.attach(we.componentRef,we.route.value),Yi(we.route.value),this.activateChildRoutes(I,null,me.children)}else{const we=L1(j.snapshot),gt=we?.get(l._Vd)??null;me.attachRef=null,me.route=j,me.resolver=gt,me.injector=we,me.outlet&&me.outlet.activateWith(j,me.injector),this.activateChildRoutes(I,null,me.children)}}else this.activateChildRoutes(I,null,k)}}class xs{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Or{constructor(I,N){this.component=I,this.route=N}}function Ks(A,I,N){const k=A._root;return kr(k,I?I._root:null,N,[k.value])}function Xr(A,I){const N=Symbol(),k=I.get(A,N);return k===N?"function"!=typeof A||(0,l.Z0I)(A)?I.get(A):A:k}function kr(A,I,N,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const ee=gn(I);return A.children.forEach(me=>{(function Dt(A,I,N,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const ee=A.value,me=I?I.value:null,we=N?N.getContext(A.value.outlet):null;if(me&&ee.routeConfig===me.routeConfig){const gt=function dn(A,I,N){if("function"==typeof N)return N(A,I);switch(N){case"pathParamsChange":return!Q1(A.url,I.url);case"pathParamsOrQueryParamsChange":return!Q1(A.url,I.url)||!Yn(A.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hi(A,I)||!Yn(A.queryParams,I.queryParams);default:return!hi(A,I)}}(me,ee,ee.routeConfig.runGuardsAndResolvers);gt?j.canActivateChecks.push(new xs(k)):(ee.data=me.data,ee._resolvedData=me._resolvedData),kr(A,I,ee.component?we?we.children:null:N,k,j),gt&&we&&we.outlet&&we.outlet.isActivated&&j.canDeactivateChecks.push(new Or(we.outlet.component,me))}else me&&vr(I,we,j),j.canActivateChecks.push(new xs(k)),kr(A,null,ee.component?we?we.children:null:N,k,j)})(me,ee[me.value.outlet],N,k.concat([me.value]),j),delete ee[me.value.outlet]}),Vt(ee,(me,we)=>vr(me,N.getContext(we),j)),j}function vr(A,I,N){const k=gn(A),j=A.value;Vt(k,(ee,me)=>{vr(ee,j.component?I?I.children.getContext(me):null:I,N)}),N.canDeactivateChecks.push(new Or(j.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,j))}function Rr(A){return"function"==typeof A}function W(A){return A instanceof Te.K||"EmptyError"===A?.name}const B=Symbol("INITIAL_VALUE");function V(){return(0,at.w)(A=>(0,Ee.a)(A.map(I=>I.pipe((0,Ke.q)(1),(0,xt.O)(B)))).pipe((0,tt.U)(I=>{for(const N of I)if(!0!==N){if(N===B)return B;if(!1===N||N instanceof J1)return N}return!0}),(0,bt.h)(I=>I!==B),(0,Ke.q)(1)))}function yr(A){return(0,ke.z)((0,Ie.b)(I=>{if(Ut(I))throw ar(0,I)}),(0,tt.U)(I=>!0===I))}const Vi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function co(A,I,N,k,j){const ee=zs(A,I,N);return ee.matched?function No(A,I,N,k){const j=I.canMatch;if(!j||0===j.length)return(0,X.of)(!0);const ee=j.map(me=>{const we=Xr(me,A);return mn(function Pr(A){return A&&Rr(A.canMatch)}(we)?we.canMatch(I,N):A.runInContext(()=>we(I,N)))});return(0,X.of)(ee).pipe(V(),yr())}(k=X2(I,k),I,N).pipe((0,tt.U)(me=>!0===me?ee:{...Vi})):(0,X.of)(ee)}function zs(A,I,N){if(""===I.path)return"full"===I.pathMatch&&(A.hasChildren()||N.length>0)?{...Vi}:{matched:!0,consumedSegments:[],remainingSegments:N,parameters:{},positionalParamSegments:{}};const j=(I.matcher||Fn)(N,A,I);if(!j)return{...Vi};const ee={};Vt(j.posParams,(we,gt)=>{ee[gt]=we.path});const me=j.consumed.length>0?{...ee,...j.consumed[j.consumed.length-1].parameters}:ee;return{matched:!0,consumedSegments:j.consumed,remainingSegments:N.slice(j.consumed.length),parameters:me,positionalParamSegments:j.posParams??{}}}function is(A,I,N,k,j="corrected"){if(N.length>0&&function lo(A,I,N){return N.some(k=>J(A,I,k)&&v2(k)!==Pt)}(A,N,k)){const me=new S1(I,function To(A,I,N,k){const j={};j[Pt]=k,k._sourceSegment=A,k._segmentIndexShift=I.length;for(const ee of N)if(""===ee.path&&v2(ee)!==Pt){const me=new S1([],{});me._sourceSegment=A,me._segmentIndexShift=I.length,j[v2(ee)]=me}return j}(A,I,k,new S1(N,A.children)));return me._sourceSegment=A,me._segmentIndexShift=I.length,{segmentGroup:me,slicedSegments:[]}}if(0===N.length&&function R(A,I,N){return N.some(k=>J(A,I,k))}(A,N,k)){const me=new S1(A.segments,function Ls(A,I,N,k,j,ee){const me={};for(const we of k)if(J(A,N,we)&&!j[v2(we)]){const gt=new S1([],{});gt._sourceSegment=A,gt._segmentIndexShift="legacy"===ee?A.segments.length:I.length,me[v2(we)]=gt}return{...j,...me}}(A,I,N,k,A.children,j));return me._sourceSegment=A,me._segmentIndexShift=I.length,{segmentGroup:me,slicedSegments:N}}const ee=new S1(A.segments,A.children);return ee._sourceSegment=A,ee._segmentIndexShift=I.length,{segmentGroup:ee,slicedSegments:N}}function J(A,I,N){return(!(A.hasChildren()||I.length>0)||"full"!==N.pathMatch)&&""===N.path}function F(A,I,N,k){return!!(v2(A)===k||k!==Pt&&J(I,N,A))&&("**"===A.path||zs(I,A,N).matched)}function ne(A,I,N){return 0===I.length&&!A.children[N]}const De=!1;class Xe{constructor(I){this.segmentGroup=I||null}}class mt{constructor(I){this.urlTree=I}}function r1(A){return Ne(new Xe(A))}function xn(A){return Ne(new mt(A))}class oi{constructor(I,N,k,j,ee){this.injector=I,this.configLoader=N,this.urlSerializer=k,this.urlTree=j,this.config=ee,this.allowRedirects=!0}apply(){const I=is(this.urlTree.root,[],[],this.config).segmentGroup,N=new S1(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,N,Pt).pipe((0,tt.U)(ee=>this.createUrlTree(je(ee),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pe(ee=>{if(ee instanceof mt)return this.allowRedirects=!1,this.match(ee.urlTree);throw ee instanceof Xe?this.noMatchError(ee):ee}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,Pt).pipe((0,tt.U)(j=>this.createUrlTree(je(j),I.queryParams,I.fragment))).pipe(Pe(j=>{throw j instanceof Xe?this.noMatchError(j):j}))}noMatchError(I){return new l.vHH(4002,De)}createUrlTree(I,N,k){const j=ue(I);return new J1(j,N,k)}expandSegmentGroup(I,N,k,j){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(I,N,k).pipe((0,tt.U)(ee=>new S1([],ee))):this.expandSegment(I,k,N,k.segments,j,!0)}expandChildren(I,N,k){const j=[];for(const ee of Object.keys(k.children))"primary"===ee?j.unshift(ee):j.push(ee);return(0,M.D)(j).pipe((0,ye.b)(ee=>{const me=k.children[ee],we=h2(N,ee);return this.expandSegmentGroup(I,we,me,ee).pipe((0,tt.U)(gt=>({segment:gt,outlet:ee})))}),(0,Mt.R)((ee,me)=>(ee[me.outlet]=me.segment,ee),{}),Nt())}expandSegment(I,N,k,j,ee,me){return(0,M.D)(k).pipe((0,ye.b)(we=>this.expandSegmentAgainstRoute(I,N,k,we,j,ee,me).pipe(Pe(zt=>{if(zt instanceof Xe)return(0,X.of)(null);throw zt}))),(0,ct.P)(we=>!!we),Pe((we,gt)=>{if(W(we))return ne(N,j,ee)?(0,X.of)(new S1([],{})):r1(N);throw we}))}expandSegmentAgainstRoute(I,N,k,j,ee,me,we){return F(j,N,ee,me)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(I,N,j,ee,me):we&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,N,k,j,ee,me):r1(N):r1(N)}expandSegmentAgainstRouteUsingRedirect(I,N,k,j,ee,me){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,k,j,me):this.expandRegularSegmentAgainstRouteUsingRedirect(I,N,k,j,ee,me)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,N,k,j){const ee=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?xn(ee):this.lineralizeSegments(k,ee).pipe((0,le.z)(me=>{const we=new S1(me,{});return this.expandSegment(I,we,N,me,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,N,k,j,ee,me){const{matched:we,consumedSegments:gt,remainingSegments:zt,positionalParamSegments:fn}=zs(N,j,ee);if(!we)return r1(N);const s1=this.applyRedirectCommands(gt,j.redirectTo,fn);return j.redirectTo.startsWith("/")?xn(s1):this.lineralizeSegments(j,s1).pipe((0,le.z)(F1=>this.expandSegment(I,N,k,F1.concat(zt),me,!1)))}matchSegmentAgainstRoute(I,N,k,j,ee){return"**"===k.path?(I=X2(k,I),k.loadChildren?(k._loadedRoutes?(0,X.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(I,k)).pipe((0,tt.U)(we=>(k._loadedRoutes=we.routes,k._loadedInjector=we.injector,new S1(j,{})))):(0,X.of)(new S1(j,{}))):co(N,k,j,I).pipe((0,at.w)(({matched:me,consumedSegments:we,remainingSegments:gt})=>me?this.getChildConfig(I=k._injector??I,k,j).pipe((0,le.z)(fn=>{const s1=fn.injector??I,F1=fn.routes,{segmentGroup:Si,slicedSegments:as}=is(N,we,gt,F1),mo=new S1(Si.segments,Si.children);if(0===as.length&&mo.hasChildren())return this.expandChildren(s1,F1,mo).pipe((0,tt.U)(Xi=>new S1(we,Xi)));if(0===F1.length&&0===as.length)return(0,X.of)(new S1(we,{}));const yi=v2(k)===ee;return this.expandSegment(s1,mo,F1,as,yi?Pt:ee,!0).pipe((0,tt.U)(cs=>new S1(we.concat(cs.segments),cs.children)))})):r1(N)))}getChildConfig(I,N,k){return N.children?(0,X.of)({routes:N.children,injector:I}):N.loadChildren?void 0!==N._loadedRoutes?(0,X.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):function ns(A,I,N,k){const j=I.canLoad;if(void 0===j||0===j.length)return(0,X.of)(!0);const ee=j.map(me=>{const we=Xr(me,A);return mn(function So(A){return A&&Rr(A.canLoad)}(we)?we.canLoad(I,N):A.runInContext(()=>we(I,N)))});return(0,X.of)(ee).pipe(V(),yr())}(I,N,k).pipe((0,le.z)(j=>j?this.configLoader.loadChildren(I,N).pipe((0,Ie.b)(ee=>{N._loadedRoutes=ee.routes,N._loadedInjector=ee.injector})):function Gn(A){return Ne(ki(De,3))}())):(0,X.of)({routes:[],injector:I})}lineralizeSegments(I,N){let k=[],j=N.root;for(;;){if(k=k.concat(j.segments),0===j.numberOfChildren)return(0,X.of)(k);if(j.numberOfChildren>1||!j.children[Pt])return Ne(new l.vHH(4e3,De));j=j.children[Pt]}}applyRedirectCommands(I,N,k){return this.applyRedirectCreateUrlTree(N,this.urlSerializer.parse(N),I,k)}applyRedirectCreateUrlTree(I,N,k,j){const ee=this.createSegmentGroup(I,N.root,k,j);return new J1(ee,this.createQueryParams(N.queryParams,this.urlTree.queryParams),N.fragment)}createQueryParams(I,N){const k={};return Vt(I,(j,ee)=>{if("string"==typeof j&&j.startsWith(":")){const we=j.substring(1);k[ee]=N[we]}else k[ee]=j}),k}createSegmentGroup(I,N,k,j){const ee=this.createSegments(I,N.segments,k,j);let me={};return Vt(N.children,(we,gt)=>{me[gt]=this.createSegmentGroup(I,we,k,j)}),new S1(ee,me)}createSegments(I,N,k,j){return N.map(ee=>ee.path.startsWith(":")?this.findPosParam(I,ee,j):this.findOrReturn(ee,k))}findPosParam(I,N,k){const j=k[N.path.substring(1)];if(!j)throw new l.vHH(4001,De);return j}findOrReturn(I,N){let k=0;for(const j of N){if(j.path===I.path)return N.splice(k),j;k++}return I}}class rs{}class vs{constructor(I,N,k,j,ee,me,we,gt){this.injector=I,this.rootComponentType=N,this.config=k,this.urlTree=j,this.url=ee,this.paramsInheritanceStrategy=me,this.relativeLinkResolution=we,this.urlSerializer=gt}recognize(){const I=is(this.urlTree.root,[],[],this.config.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,Pt).pipe((0,tt.U)(N=>{if(null===N)return null;const k=new Gi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new Bn(k,N),ee=new $s(this.url,j);return this.inheritParamsAndData(ee._root),ee}))}inheritParamsAndData(I){const N=I.value,k=hs(N,this.paramsInheritanceStrategy);N.params=Object.freeze(k.params),N.data=Object.freeze(k.data),I.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(I,N,k,j){return 0===k.segments.length&&k.hasChildren()?this.processChildren(I,N,k):this.processSegment(I,N,k,k.segments,j)}processChildren(I,N,k){return(0,M.D)(Object.keys(k.children)).pipe((0,ye.b)(j=>{const ee=k.children[j],me=h2(N,j);return this.processSegmentGroup(I,me,ee,j)}),(0,Mt.R)((j,ee)=>j&&ee?(j.push(...ee),j):null),function b1(A,I=!1){return(0,$e.e)((N,k)=>{let j=0;N.subscribe((0,Rt.x)(k,ee=>{const me=A(ee,j++);(me||I)&&k.next(ee),!me&&k.complete()}))})}(j=>null!==j),(0,j1.d)(null),Nt(),(0,tt.U)(j=>{if(null===j)return null;const ee=Ao(j);return function fr(A){A.sort((I,N)=>I.value.outlet===Pt?-1:N.value.outlet===Pt?1:I.value.outlet.localeCompare(N.value.outlet))}(ee),ee}))}processSegment(I,N,k,j,ee){return(0,M.D)(N).pipe((0,ye.b)(me=>this.processSegmentAgainstRoute(me._injector??I,me,k,j,ee)),(0,ct.P)(me=>!!me),Pe(me=>{if(W(me))return ne(k,j,ee)?(0,X.of)([]):(0,X.of)(null);throw me}))}processSegmentAgainstRoute(I,N,k,j,ee){if(N.redirectTo||!F(N,k,j,ee))return(0,X.of)(null);let me;if("**"===N.path){const we=j.length>0?On(j).parameters:{},gt=$4(k)+j.length,zt=new Gi(j,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y4(N),v2(N),N.component??N._loadedComponent??null,N,ua(k),gt,da(N),gt);me=(0,X.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]})}else me=co(k,N,j,I).pipe((0,tt.U)(({matched:we,consumedSegments:gt,remainingSegments:zt,parameters:fn})=>{if(!we)return null;const s1=$4(k)+gt.length;return{snapshot:new Gi(gt,fn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y4(N),v2(N),N.component??N._loadedComponent??null,N,ua(k),s1,da(N),s1),consumedSegments:gt,remainingSegments:zt}}));return me.pipe((0,at.w)(we=>{if(null===we)return(0,X.of)(null);const{snapshot:gt,consumedSegments:zt,remainingSegments:fn}=we;I=N._injector??I;const s1=N._loadedInjector??I,F1=function Z2(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(N),{segmentGroup:Si,slicedSegments:as}=is(k,zt,fn,F1.filter(yi=>void 0===yi.redirectTo),this.relativeLinkResolution);if(0===as.length&&Si.hasChildren())return this.processChildren(s1,F1,Si).pipe((0,tt.U)(yi=>null===yi?null:[new Bn(gt,yi)]));if(0===F1.length&&0===as.length)return(0,X.of)([new Bn(gt,[])]);const mo=v2(N)===ee;return this.processSegment(s1,F1,Si,as,mo?Pt:ee).pipe((0,tt.U)(yi=>null===yi?null:[new Bn(gt,yi)]))}))}}function ys(A){const I=A.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Ao(A){const I=[],N=new Set;for(const k of A){if(!ys(k)){I.push(k);continue}const j=I.find(ee=>k.value.routeConfig===ee.value.routeConfig);void 0!==j?(j.children.push(...k.children),N.add(j)):I.push(k)}for(const k of N){const j=Ao(k.children);I.push(new Bn(k.value,j))}return I.filter(k=>!N.has(k))}function ua(A){let I=A;for(;I._sourceSegment;)I=I._sourceSegment;return I}function $4(A){let I=A,N=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,N+=I._segmentIndexShift??0;return N-1}function y4(A){return A.data||{}}function da(A){return A.resolve||{}}function W2(A){return"string"==typeof A.title||null===A.title}function Vr(A){return(0,at.w)(I=>{const N=A(I);return N?(0,M.D)(N).pipe((0,tt.U)(()=>I)):(0,X.of)(I)})}let Qs=(()=>{class A{buildTitle(N){let k,j=N.root;for(;void 0!==j;)k=this.getResolvedTitleForRoute(j)??k,j=j.children.find(ee=>ee.outlet===Pt);return k}getResolvedTitleForRoute(N){return N.data[en]}}return A.\u0275fac=function(N){return new(N||A)},A.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(_s)},providedIn:"root"}),A})(),_s=(()=>{class A extends Qs{constructor(N){super(),this.title=N}updateTitle(N){const k=this.buildTitle(N);void 0!==k&&this.title.setTitle(k)}}return A.\u0275fac=function(N){return new(N||A)(l.LFG(n2.Dx))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class ai{}class Bo extends class ss{shouldDetach(I){return!1}store(I,N){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,N){return I.routeConfig===N.routeConfig}}{}const n1=new l.OlP("",{providedIn:"root",factory:()=>({})}),Gt=new l.OlP("ROUTES");let dt=(()=>{class A{constructor(N,k){this.injector=N,this.compiler=k,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(N){if(this.componentLoaders.get(N))return this.componentLoaders.get(N);if(N._loadedComponent)return(0,X.of)(N._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(N);const k=mn(N.loadComponent()).pipe((0,Ie.b)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(N),N._loadedComponent=ee}),m1(()=>{this.componentLoaders.delete(N)})),j=new ot(k,()=>new He.x).pipe(ut());return this.componentLoaders.set(N,j),j}loadChildren(N,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,X.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ee=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,tt.U)(we=>{this.onLoadEndListener&&this.onLoadEndListener(k);let gt,zt,fn=!1;Array.isArray(we)?zt=we:(gt=we.create(N).injector,zt=R1(gt.get(Gt,[],l.XFs.Self|l.XFs.Optional)));return{routes:zt.map(N2),injector:gt}}),m1(()=>{this.childrenLoaders.delete(k)})),me=new ot(ee,()=>new He.x).pipe(ut());return this.childrenLoaders.set(k,me),me}loadModuleFactoryOrRoutes(N){return mn(N()).pipe((0,le.z)(k=>k instanceof l.YKP||Array.isArray(k)?(0,X.of)(k):(0,M.D)(this.compiler.compileModuleAsync(k))))}}return A.\u0275fac=function(N){return new(N||A)(l.LFG(l.zs3),l.LFG(l.Sil))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();class Tt{}class T2{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,N){return I}}function Ua(A){throw A}function Cr(A,I,N){return I.parse("/")}const ha={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ma(){const A=(0,l.f3M)(Cn),I=(0,l.f3M)(o2),N=(0,l.f3M)(Wt.Ye),k=(0,l.f3M)(l.zs3),j=(0,l.f3M)(l.Sil),ee=(0,l.f3M)(Gt,{optional:!0})??[],me=(0,l.f3M)(n1,{optional:!0})??{},we=(0,l.f3M)(_s),gt=(0,l.f3M)(Qs,{optional:!0}),zt=(0,l.f3M)(Tt,{optional:!0}),fn=(0,l.f3M)(ai,{optional:!0}),s1=new V2(null,A,I,N,k,j,R1(ee));return zt&&(s1.urlHandlingStrategy=zt),fn&&(s1.routeReuseStrategy=fn),s1.titleStrategy=gt??we,function pa(A,I){A.errorHandler&&(I.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(I.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(I.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(I.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(I.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(I.canceledNavigationResolution=A.canceledNavigationResolution)}(me,s1),s1}let V2=(()=>{class A{constructor(N,k,j,ee,me,we,gt){this.rootComponentType=N,this.urlSerializer=k,this.rootContexts=j,this.location=ee,this.config=gt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new He.x,this.errorHandler=Ua,this.malformedUriErrorHandler=Cr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,X.of)(void 0),this.urlHandlingStrategy=new T2,this.routeReuseStrategy=new Bo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=me.get(dt),this.configLoader.onLoadEndListener=F1=>this.triggerEvent(new $2(F1)),this.configLoader.onLoadStartListener=F1=>this.triggerEvent(new so(F1)),this.ngModule=me.get(l.h0i),this.console=me.get(l.c2e);const s1=me.get(l.R0b);this.isNgZoneEnabled=s1 instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(gt),this.currentUrlTree=function rn(){return new J1(new S1([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zr(this.currentUrlTree,this.rootComponentType),this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(N){const k=this.events;return N.pipe((0,bt.h)(j=>0!==j.id),(0,tt.U)(j=>({...j,extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,at.w)(j=>{let ee=!1,me=!1;return(0,X.of)(j).pipe((0,Ie.b)(we=>{this.currentNavigation={id:we.id,initialUrl:we.rawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,at.w)(we=>{const gt=this.browserUrlTree.toString(),zt=!this.navigated||we.extractedUrl.toString()!==gt||gt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||zt)&&this.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return ga(we.source)&&(this.browserUrlTree=we.extractedUrl),(0,X.of)(we).pipe((0,at.w)(s1=>{const F1=this.transitions.getValue();return k.next(new rr(s1.id,this.serializeUrl(s1.extractedUrl),s1.source,s1.restoredState)),F1!==this.transitions.getValue()?st.E:Promise.resolve(s1)}),function Jn(A,I,N,k){return(0,at.w)(j=>function vn(A,I,N,k,j){return new oi(A,I,N,k,j).apply()}(A,I,N,j.extractedUrl,k).pipe((0,tt.U)(ee=>({...j,urlAfterRedirects:ee}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ie.b)(s1=>{this.currentNavigation={...this.currentNavigation,finalUrl:s1.urlAfterRedirects},j.urlAfterRedirects=s1.urlAfterRedirects}),function Ho(A,I,N,k,j,ee){return(0,le.z)(me=>function br(A,I,N,k,j,ee,me="emptyOnly",we="legacy"){return new vs(A,I,N,k,j,me,we,ee).recognize().pipe((0,at.w)(gt=>null===gt?function _r(A){return new pe.y(I=>I.error(A))}(new rs):(0,X.of)(gt)))}(A,I,N,me.urlAfterRedirects,k.serialize(me.urlAfterRedirects),k,j,ee).pipe((0,tt.U)(we=>({...me,targetSnapshot:we}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ie.b)(s1=>{if(j.targetSnapshot=s1.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!s1.extras.skipLocationChange){const Si=this.urlHandlingStrategy.merge(s1.urlAfterRedirects,s1.rawUrl);this.setBrowserUrl(Si,s1)}this.browserUrlTree=s1.urlAfterRedirects}const F1=new wi(s1.id,this.serializeUrl(s1.extractedUrl),this.serializeUrl(s1.urlAfterRedirects),s1.targetSnapshot);k.next(F1)}));if(zt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F1,extractedUrl:Si,source:as,restoredState:mo,extras:yi}=we,Dr=new rr(F1,this.serializeUrl(Si),as,mo);k.next(Dr);const cs=zr(Si,this.rootComponentType).snapshot;return j={...we,targetSnapshot:cs,urlAfterRedirects:Si,extras:{...yi,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)(j)}return this.rawUrlTree=we.rawUrl,we.resolve(null),st.E}),(0,Ie.b)(we=>{const gt=new xr(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);this.triggerEvent(gt)}),(0,tt.U)(we=>j={...we,guards:Ks(we.targetSnapshot,we.currentSnapshot,this.rootContexts)}),function oe(A,I){return(0,le.z)(N=>{const{targetSnapshot:k,currentSnapshot:j,guards:{canActivateChecks:ee,canDeactivateChecks:me}}=N;return 0===me.length&&0===ee.length?(0,X.of)({...N,guardsResult:!0}):function Qe(A,I,N,k){return(0,M.D)(A).pipe((0,le.z)(j=>function ts(A,I,N,k,j){const ee=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,X.of)(!0);const me=ee.map(we=>{const gt=L1(I)??j,zt=Xr(we,gt);return mn(function es(A){return A&&Rr(A.canDeactivate)}(zt)?zt.canDeactivate(A,I,N,k):gt.runInContext(()=>zt(A,I,N,k))).pipe((0,ct.P)())});return(0,X.of)(me).pipe(V())}(j.component,j.route,N,I,k)),(0,ct.P)(j=>!0!==j,!0))}(me,k,j,A).pipe((0,le.z)(we=>we&&function y2(A){return"boolean"==typeof A}(we)?function d1(A,I,N,k){return(0,M.D)(I).pipe((0,ye.b)(j=>(0,Re.z)(function dr(A,I){return null!==A&&I&&I(new Gs(A)),(0,X.of)(!0)}(j.route.parent,k),function Un(A,I){return null!==A&&I&&I(new Ge(A)),(0,X.of)(!0)}(j.route,k),function gs(A,I,N){const k=I[I.length-1],ee=I.slice(0,I.length-1).reverse().map(me=>function gr(A){const I=A.routeConfig?A.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:A,guards:I}:null}(me)).filter(me=>null!==me).map(me=>(0,ze.P)(()=>{const we=me.guards.map(gt=>{const zt=L1(me.node)??N,fn=Xr(gt,zt);return mn(function ur(A){return A&&Rr(A.canActivateChild)}(fn)?fn.canActivateChild(k,A):zt.runInContext(()=>fn(k,A))).pipe((0,ct.P)())});return(0,X.of)(we).pipe(V())}));return(0,X.of)(ee).pipe(V())}(A,j.path,N),function Ji(A,I,N){const k=I.routeConfig?I.routeConfig.canActivate:null;if(!k||0===k.length)return(0,X.of)(!0);const j=k.map(ee=>(0,ze.P)(()=>{const me=L1(I)??N,we=Xr(ee,me);return mn(function Ys(A){return A&&Rr(A.canActivate)}(we)?we.canActivate(I,A):me.runInContext(()=>we(I,A))).pipe((0,ct.P)())}));return(0,X.of)(j).pipe(V())}(A,j.route,N))),(0,ct.P)(j=>!0!==j,!0))}(k,ee,A,I):(0,X.of)(we)),(0,tt.U)(we=>({...N,guardsResult:we})))})}(this.ngModule.injector,we=>this.triggerEvent(we)),(0,Ie.b)(we=>{if(j.guardsResult=we.guardsResult,Ut(we.guardsResult))throw ar(0,we.guardsResult);const gt=new R2(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.triggerEvent(gt)}),(0,bt.h)(we=>!!we.guardsResult||(this.restoreHistory(we),this.cancelNavigationTransition(we,"",3),!1)),Vr(we=>{if(we.guards.canActivateChecks.length)return(0,X.of)(we).pipe((0,Ie.b)(gt=>{const zt=new qr(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(zt)}),(0,at.w)(gt=>{let zt=!1;return(0,X.of)(gt).pipe(function uo(A,I){return(0,le.z)(N=>{const{targetSnapshot:k,guards:{canActivateChecks:j}}=N;if(!j.length)return(0,X.of)(N);let ee=0;return(0,M.D)(j).pipe((0,ye.b)(me=>function Fo(A,I,N,k){const j=A.routeConfig,ee=A._resolve;return void 0!==j?.title&&!W2(j)&&(ee[en]=j.title),function Fa(A,I,N,k){const j=function Ba(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===j.length)return(0,X.of)({});const ee={};return(0,M.D)(j).pipe((0,le.z)(me=>function mi(A,I,N,k){const j=L1(I)??k,ee=Xr(A,j);return mn(ee.resolve?ee.resolve(I,N):j.runInContext(()=>ee(I,N)))}(A[me],I,N,k).pipe((0,ct.P)(),(0,Ie.b)(we=>{ee[me]=we}))),wt(1),(0,p1.h)(ee),Pe(me=>W(me)?st.E:Ne(me)))}(ee,A,I,k).pipe((0,tt.U)(me=>(A._resolvedData=me,A.data=hs(A,N).resolve,j&&W2(j)&&(A.data[en]=j.title),null)))}(me.route,k,A,I)),(0,Ie.b)(()=>ee++),wt(1),(0,le.z)(me=>ee===j.length?(0,X.of)(N):st.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ie.b)({next:()=>zt=!0,complete:()=>{zt||(this.restoreHistory(gt),this.cancelNavigationTransition(gt,"",2))}}))}),(0,Ie.b)(gt=>{const zt=new fs(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(zt)}))}),Vr(we=>{const gt=zt=>{const fn=[];zt.routeConfig?.loadComponent&&!zt.routeConfig._loadedComponent&&fn.push(this.configLoader.loadComponent(zt.routeConfig).pipe((0,Ie.b)(s1=>{zt.component=s1}),(0,tt.U)(()=>{})));for(const s1 of zt.children)fn.push(...gt(s1));return fn};return(0,Ee.a)(gt(we.targetSnapshot.root)).pipe((0,j1.d)(),(0,Ke.q)(1))}),Vr(()=>this.afterPreactivation()),(0,tt.U)(we=>{const gt=function ps(A,I,N){const k=Di(A,I._root,N?N._root:void 0);return new sr(k,I)}(this.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return j={...we,targetRouterState:gt}}),(0,Ie.b)(we=>{this.currentUrlTree=we.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl),this.routerState=we.targetRouterState,"deferred"===this.urlUpdateStrategy&&(we.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,we),this.browserUrlTree=we.urlAfterRedirects)}),((A,I,N)=>(0,tt.U)(k=>(new Qr(I,k.targetRouterState,k.currentRouterState,N).activate(A),k)))(this.rootContexts,this.routeReuseStrategy,we=>this.triggerEvent(we)),(0,Ie.b)({next(){ee=!0},complete(){ee=!0}}),m1(()=>{ee||me||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),Pe(we=>{if(me=!0,cr(we)){pi(we)||(this.navigated=!0,this.restoreHistory(j,!0));const gt=new k2(j.id,this.serializeUrl(j.extractedUrl),we.message,we.cancellationCode);if(k.next(gt),pi(we)){const zt=this.urlHandlingStrategy.merge(we.url,this.rawUrlTree),fn={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ga(j.source)};this.scheduleNavigation(zt,"imperative",null,fn,{resolve:j.resolve,reject:j.reject,promise:j.promise})}else j.resolve(!1)}else{this.restoreHistory(j,!0);const gt=new Ir(j.id,this.serializeUrl(j.extractedUrl),we,j.targetSnapshot??void 0);k.next(gt);try{j.resolve(this.errorHandler(we))}catch(zt){j.reject(zt)}}return st.E}))}))}resetRootComponentType(N){this.rootComponentType=N,this.routerState.root.component=this.rootComponentType}setTransition(N){this.transitions.next({...this.transitions.value,...N})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(N=>{const k="popstate"===N.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{const j={replaceUrl:!0},ee=N.state?.navigationId?N.state:null;if(ee){const we={...ee};delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(j.state=we)}const me=this.parseUrl(N.url);this.scheduleNavigation(me,k,ee,j)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(N){this.events.next(N)}resetConfig(N){this.config=N.map(N2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(N,k={}){const{relativeTo:j,queryParams:ee,fragment:me,queryParamsHandling:we,preserveFragment:gt}=k,zt=j||this.routerState.root,fn=gt?this.currentUrlTree.fragment:me;let s1=null;switch(we){case"merge":s1={...this.currentUrlTree.queryParams,...ee};break;case"preserve":s1=this.currentUrlTree.queryParams;break;default:s1=ee||null}return null!==s1&&(s1=this.removeEmptyProps(s1)),P1(zt,this.currentUrlTree,N,s1,fn??null)}navigateByUrl(N,k={skipLocationChange:!1}){const j=Ut(N)?N:this.parseUrl(N),ee=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ee,"imperative",null,k)}navigate(N,k={skipLocationChange:!1}){return function Hr(A){for(let I=0;I<A.length;I++){if(null==A[I])throw new l.vHH(4008,false)}}(N),this.navigateByUrl(this.createUrlTree(N,k),k)}serializeUrl(N){return this.urlSerializer.serialize(N)}parseUrl(N){let k;try{k=this.urlSerializer.parse(N)}catch(j){k=this.malformedUriErrorHandler(j,this.urlSerializer,N)}return k}isActive(N,k){let j;if(j=!0===k?{...ha}:!1===k?{...fo}:k,Ut(N))return ln(this.currentUrlTree,N,j);const ee=this.parseUrl(N);return ln(this.currentUrlTree,ee,j)}removeEmptyProps(N){return Object.keys(N).reduce((k,j)=>{const ee=N[j];return null!=ee&&(k[j]=ee),k},{})}processNavigations(){this.navigations.subscribe(N=>{this.navigated=!0,this.lastSuccessfulId=N.id,this.currentPageId=N.targetPageId,this.events.next(new In(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),N.resolve(!0)},N=>{this.console.warn(`Unhandled Navigation Error: ${N}`)})}scheduleNavigation(N,k,j,ee,me){if(this.disposed)return Promise.resolve(!1);let we,gt,zt;me?(we=me.resolve,gt=me.reject,zt=me.promise):zt=new Promise((F1,Si)=>{we=F1,gt=Si});const fn=++this.navigationId;let s1;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),s1=j&&j.\u0275routerPageId?j.\u0275routerPageId:ee.replaceUrl||ee.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):s1=0,this.setTransition({id:fn,targetPageId:s1,source:k,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:N,extras:ee,resolve:we,reject:gt,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(F1=>Promise.reject(F1))}setBrowserUrl(N,k){const j=this.urlSerializer.serialize(N),ee={...k.extras.state,...this.generateNgRouterState(k.id,k.targetPageId)};this.location.isCurrentPathEqualTo(j)||k.extras.replaceUrl?this.location.replaceState(j,"",ee):this.location.go(j,"",ee)}restoreHistory(N,k=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-N.targetPageId;"popstate"!==N.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===j?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===j&&(this.resetState(N),this.browserUrlTree=N.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(j)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(N),this.resetUrlToCurrentUrlTree())}resetState(N){this.routerState=N.currentRouterState,this.currentUrlTree=N.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,N.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(N,k,j){const ee=new k2(N.id,this.serializeUrl(N.extractedUrl),k,j);this.triggerEvent(ee),N.resolve(!1)}generateNgRouterState(N,k){return"computed"===this.canceledNavigationResolution?{navigationId:N,\u0275routerPageId:k}:{navigationId:N}}}return A.\u0275fac=function(N){l.$Z()},A.\u0275prov=l.Yz7({token:A,factory:function(){return ma()},providedIn:"root"}),A})();function ga(A){return"imperative"!==A}let ho=(()=>{class A{constructor(N,k,j,ee,me){this.router=N,this.route=k,this.tabIndexAttribute=j,this.renderer=ee,this.el=me,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new He.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(N){this._preserveFragment=(0,l.D6c)(N)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(N){this._skipLocationChange=(0,l.D6c)(N)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(N){this._replaceUrl=(0,l.D6c)(N)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(N){if(null!=this.tabIndexAttribute)return;const k=this.renderer,j=this.el.nativeElement;null!==N?k.setAttribute(j,"tabindex",N):k.removeAttribute(j,"tabindex")}ngOnChanges(N){this.onChanges.next(this)}set routerLink(N){null!=N?(this.commands=Array.isArray(N)?N:[N],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(N){return new(N||A)(l.Y36(V2),l.Y36(fi),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},A.\u0275dir=l.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(N,k){1&N&&l.NdJ("click",function(){return k.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),A})(),H1=(()=>{class A{constructor(N,k,j){this.router=N,this.route=k,this.locationStrategy=j,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new He.x,this.subscription=N.events.subscribe(ee=>{ee instanceof In&&this.updateTargetUrlAndHref()})}set preserveFragment(N){this._preserveFragment=(0,l.D6c)(N)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(N){this._skipLocationChange=(0,l.D6c)(N)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(N){this._replaceUrl=(0,l.D6c)(N)}get replaceUrl(){return this._replaceUrl}set routerLink(N){this.commands=null!=N?Array.isArray(N)?N:[N]:null}ngOnChanges(N){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(N,k,j,ee,me){return!!(0!==N||k||j||ee||me||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(N){return new(N||A)(l.Y36(V2),l.Y36(fi),l.Y36(Wt.S$))},A.\u0275dir=l.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(N,k){1&N&&l.NdJ("click",function(ee){return k.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&N&&l.uIk("target",k.target)("href",k.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),A})(),Qi=(()=>{class A{constructor(N,k,j,ee,me,we){this.router=N,this.element=k,this.renderer=j,this.cdr=ee,this.link=me,this.linkWithHref=we,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=N.events.subscribe(gt=>{gt instanceof In&&this.update()})}ngAfterContentInit(){(0,X.of)(this.links.changes,this.linksWithHrefs.changes,(0,X.of)(null)).pipe((0,f1.J)()).subscribe(N=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const N=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,M.D)(N).pipe((0,f1.J)()).subscribe(k=>{this.isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(N){const k=Array.isArray(N)?N:N.split(" ");this.classes=k.filter(j=>!!j)}ngOnChanges(N){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const N=this.hasActiveLinks();this.isActive!==N&&(this.isActive=N,this.cdr.markForCheck(),this.classes.forEach(k=>{N?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),N&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(N))})}isLinkActive(N){const k=function va(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>!!j.urlTree&&N.isActive(j.urlTree,k)}hasActiveLinks(){const N=this.isLinkActive(this.router);return this.link&&N(this.link)||this.linkWithHref&&N(this.linkWithHref)||this.links.some(N)||this.linksWithHrefs.some(N)}}return A.\u0275fac=function(N){return new(N||A)(l.Y36(V2),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(ho,8),l.Y36(H1,8))},A.\u0275dir=l.lG2({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(N,k,j){if(1&N&&(l.Suo(j,ho,5),l.Suo(j,H1,5)),2&N){let ee;l.iGM(ee=l.CRH())&&(k.links=ee),l.iGM(ee=l.CRH())&&(k.linksWithHrefs=ee)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),A})();class _2{}let En=(()=>{class A{constructor(N,k,j,ee,me){this.router=N,this.injector=j,this.preloadingStrategy=ee,this.loader=me}setUpPreloading(){this.subscription=this.router.events.pipe((0,bt.h)(N=>N instanceof In),(0,ye.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(N,k){const j=[];for(const ee of k){ee.providers&&!ee._injector&&(ee._injector=(0,l.MMx)(ee.providers,N,`Route: ${ee.path}`));const me=ee._injector??N,we=ee._loadedInjector??me;ee.loadChildren&&!ee._loadedRoutes&&void 0===ee.canLoad||ee.loadComponent&&!ee._loadedComponent?j.push(this.preloadConfig(me,ee)):(ee.children||ee._loadedRoutes)&&j.push(this.processRoutes(we,ee.children??ee._loadedRoutes))}return(0,M.D)(j).pipe((0,f1.J)())}preloadConfig(N,k){return this.preloadingStrategy.preload(k,()=>{let j;j=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(N,k):(0,X.of)(null);const ee=j.pipe((0,le.z)(me=>null===me?(0,X.of)(void 0):(k._loadedRoutes=me.routes,k._loadedInjector=me.injector,this.processRoutes(me.injector??N,me.routes))));if(k.loadComponent&&!k._loadedComponent){const me=this.loader.loadComponent(k);return(0,M.D)([ee,me]).pipe((0,f1.J)())}return ee})}}return A.\u0275fac=function(N){return new(N||A)(l.LFG(V2),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(_2),l.LFG(dt))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Uo=new l.OlP("");let Sn=(()=>{class A{constructor(N,k,j={}){this.router=N,this.viewportScroller=k,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(N=>{N instanceof rr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=N.navigationTrigger,this.restoredId=N.restoredState?N.restoredState.navigationId:0):N instanceof In&&(this.lastId=N.id,this.scheduleScrollEvent(N,this.router.parseUrl(N.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(N=>{N instanceof qe&&(N.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(N.position):N.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(N.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(N,k){this.router.triggerEvent(new qe(N,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(N){l.$Z()},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac}),A})();function Ei(A,I){return{\u0275kind:A,\u0275providers:I}}function bs(A){return[{provide:Gt,multi:!0,useValue:A}]}function Rs(){const A=(0,l.f3M)(l.zs3);return I=>{const N=A.get(l.z2F);if(I!==N.components[0])return;const k=A.get(V2),j=A.get(Qn);1===A.get(ya)&&k.initialNavigation(),A.get(Z4,null,l.XFs.Optional)?.setUpPreloading(),A.get(Uo,null,l.XFs.Optional)?.init(),k.resetRootComponentType(N.componentTypes[0]),j.closed||(j.next(),j.unsubscribe())}}const Qn=new l.OlP("",{factory:()=>new He.x}),ya=new l.OlP("",{providedIn:"root",factory:()=>1});const Z4=new l.OlP("");function b4(A){return Ei(0,[{provide:Z4,useExisting:En},{provide:_2,useExisting:A}])}const ba=new l.OlP("ROUTER_FORROOT_GUARD"),qn=[Wt.Ye,{provide:Cn,useClass:l2},{provide:V2,useFactory:ma},o2,{provide:fi,useFactory:function ks(A){return A.routerState.root},deps:[V2]},dt];function Io(){return new l.PXZ("Router",V2)}let Ms=(()=>{class A{constructor(N){}static forRoot(N,k){return{ngModule:A,providers:[qn,[],bs(N),{provide:ba,useFactory:Mr,deps:[[V2,new l.FiY,new l.tp0]]},{provide:n1,useValue:k||{}},k?.useHash?{provide:Wt.S$,useClass:Wt.Do}:{provide:Wt.S$,useClass:Wt.b0},{provide:Uo,useFactory:()=>{const A=(0,l.f3M)(V2),I=(0,l.f3M)(Wt.EM),N=(0,l.f3M)(n1);return N.scrollOffset&&I.setOffset(N.scrollOffset),new Sn(A,I,N)}},k?.preloadingStrategy?b4(k.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Io},k?.initialNavigation?Ma(k):[],[{provide:wr,useFactory:Rs},{provide:l.tb,multi:!0,useExisting:wr}]]}}static forChild(N){return{ngModule:A,providers:[bs(N)]}}}return A.\u0275fac=function(N){return new(N||A)(l.LFG(ba,8))},A.\u0275mod=l.oAB({type:A}),A.\u0275inj=l.cJS({imports:[s2]}),A})();function Mr(A){return"guarded"}function Ma(A){return["disabled"===A.initialNavigation?Ei(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const I=(0,l.f3M)(V2);return()=>{I.setUpLocationChangeListener()}}},{provide:ya,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?Ei(2,[{provide:ya,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:I=>{const N=I.get(Wt.V_,Promise.resolve());let k=!1;return()=>N.then(()=>new Promise(ee=>{const me=I.get(V2),we=I.get(Qn);(function j(ee){I.get(V2).events.pipe((0,bt.h)(we=>we instanceof In||we instanceof k2||we instanceof Ir),(0,tt.U)(we=>we instanceof In||we instanceof k2&&(0===we.code||1===we.code)&&null),(0,bt.h)(we=>null!==we),(0,Ke.q)(1)).subscribe(()=>{ee()})})(()=>{ee(!0),k=!0}),me.afterPreactivation=()=>(ee(!0),k||we.closed?(0,X.of)(void 0):we),me.initialNavigation()}))}}]).\u0275providers:[]]}const wr=new l.OlP("")},3942:($t,We,U)=>{U.d(We,{Z:()=>$e});var l=U(2090),M=U(4859),X=U(9681),Ce=U(1877);class Te{constructor(ut,ot){this._delegate=ut,this.firebase=ot,(0,X._addComponent)(ut,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this._delegate.automaticDataCollectionEnabled=ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ut=>{this._delegate.checkDestroyed(),ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(ut,ot=X._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Wt=this._delegate.container.getProvider(ut);return!Wt.isInitialized()&&"EXPLICIT"===(null===(He=Wt.getComponent())||void 0===He?void 0:He.instantiationMode)&&Wt.initialize(),Wt.getImmediate({identifier:ot})}_removeServiceInstance(ut,ot=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ut).clearInstance(ot)}_addComponent(ut){(0,X._addComponent)(this._delegate,ut)}_addOrOverwriteComponent(ut){(0,X._addOrOverwriteComponent)(this._delegate,ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),pe=function ke(){const Rt=function ze(Rt){const ut={},ot={__esModule:!0,initializeApp:function tt(bt,le={}){const ct=X.initializeApp(bt,le);if((0,l.r3)(ut,ct.name))return ut[ct.name];const ye=new Rt(ct,ot);return ut[ct.name]=ye,ye},app:Wt,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function Ke(bt){const le=bt.name,ct=le.replace("-compat","");if(X._registerComponent(bt)&&"PUBLIC"===bt.type){const ye=(Ie=Wt())=>{if("function"!=typeof Ie[ct])throw Re.create("invalid-app-argument",{appName:le});return Ie[ct]()};void 0!==bt.serviceProps&&(0,l.ZB)(ye,bt.serviceProps),ot[ct]=ye,Rt.prototype[ct]=function(...Ie){return this._getService.bind(this,le).apply(this,bt.multipleInstances?Ie:[])}}return"PUBLIC"===bt.type?ot[ct]:null},removeApp:function He(bt){delete ut[bt]},useAsService:function xt(bt,le){return"serverAuth"===le?null:le},modularAPIs:X}};function Wt(bt){if(!(0,l.r3)(ut,bt=bt||X._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:bt});return ut[bt]}return ot.default=ot,Object.defineProperty(ot,"apps",{get:function at(){return Object.keys(ut).map(bt=>ut[bt])}}),Wt.App=Rt,ot}(Te);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function ut(ot){(0,l.ZB)(Rt,ot)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Rt}(),he=new Ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=pe;!function et(Rt){(0,X.registerVersion)("@firebase/app-compat","0.2.0",Rt)}()},9681:($t,We,U)=>{U.r(We),U.d(We,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Yn,_DEFAULT_ENTRY_NAME:()=>N1,_addComponent:()=>m1,_addOrOverwriteComponent:()=>f1,_apps:()=>b1,_clearComponents:()=>pn,_components:()=>p1,_getProvider:()=>Pt,_registerComponent:()=>n2,_removeServiceInstance:()=>en,deleteApp:()=>m2,getApp:()=>R1,getApps:()=>On,initializeApp:()=>c2,onLog:()=>Tn,registerVersion:()=>mn,setLogLevel:()=>rn});var l=U(5861),M=U(4859),X=U(1877),Ce=U(2090),Te=U(8766);class Ee{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(Xt=>{if(function Re(Qt){return"VERSION"===Qt.getComponent()?.type}(Xt)){const A1=Xt.getImmediate();return`${A1.library}/${A1.version}`}return null}).filter(Xt=>Xt).join(" ")}}const ze="@firebase/app",pe=new X.Yd("@firebase/app"),N1="[DEFAULT]",Nt={[ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},b1=new Map,p1=new Map;function m1(Qt,_t){try{Qt.container.addComponent(_t)}catch(Xt){pe.debug(`Component ${_t.name} failed to register with FirebaseApp ${Qt.name}`,Xt)}}function f1(Qt,_t){Qt.container.addOrOverwriteComponent(_t)}function n2(Qt){const _t=Qt.name;if(p1.has(_t))return pe.debug(`There were multiple attempts to register component ${_t}.`),!1;p1.set(_t,Qt);for(const Xt of b1.values())m1(Xt,Qt);return!0}function Pt(Qt,_t){const Xt=Qt.container.getProvider("heartbeat").getImmediate({optional:!0});return Xt&&Xt.triggerHeartbeat(),Qt.container.getProvider(_t)}function en(Qt,_t,Xt=N1){Pt(Qt,_t).clearInstance(Xt)}function pn(){p1.clear()}const Fn=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class r2{constructor(_t,Xt,A1){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},Xt),this._name=Xt.name,this._automaticDataCollectionEnabled=Xt.automaticDataCollectionEnabled,this._container=A1,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const Yn="9.15.0";function c2(Qt,_t={}){let Xt=Qt;"object"!=typeof _t&&(_t={name:_t});const A1=Object.assign({name:N1,automaticDataCollectionEnabled:!1},_t),I1=A1.name;if("string"!=typeof I1||!I1)throw Fn.create("bad-app-name",{appName:String(I1)});if(Xt||(Xt=(0,Ce.aH)()),!Xt)throw Fn.create("no-options");const z1=b1.get(I1);if(z1){if((0,Ce.vZ)(Xt,z1.options)&&(0,Ce.vZ)(A1,z1.config))return z1;throw Fn.create("duplicate-app",{appName:I1})}const Se=new M.H0(I1);for(const xe of p1.values())Se.addComponent(xe);const _e=new r2(Xt,A1,Se);return b1.set(I1,_e),_e}function R1(Qt=N1){const _t=b1.get(Qt);if(!_t&&Qt===N1)return c2();if(!_t)throw Fn.create("no-app",{appName:Qt});return _t}function On(){return Array.from(b1.values())}function m2(Qt){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(Qt){const _t=Qt.name;b1.has(_t)&&(b1.delete(_t),yield Promise.all(Qt.container.getProviders().map(Xt=>Xt.delete())),Qt.isDeleted=!0)})).apply(this,arguments)}function mn(Qt,_t,Xt){var A1;let I1=null!==(A1=Nt[Qt])&&void 0!==A1?A1:Qt;Xt&&(I1+=`-${Xt}`);const z1=I1.match(/\s|\//),Se=_t.match(/\s|\//);if(z1||Se){const _e=[`Unable to register library "${I1}" with version "${_t}":`];return z1&&_e.push(`library name "${I1}" contains illegal characters (whitespace or "/")`),z1&&Se&&_e.push("and"),Se&&_e.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void pe.warn(_e.join(" "))}n2(new M.wA(`${I1}-version`,()=>({library:I1,version:_t}),"VERSION"))}function Tn(Qt,_t){if(null!==Qt&&"function"!=typeof Qt)throw Fn.create("invalid-log-argument");(0,X.Am)(Qt,_t)}function rn(Qt){(0,X.Ub)(Qt)}const ln="firebase-heartbeat-store";let sn=null;function W1(){return sn||(sn=(0,Te.X3)("firebase-heartbeat-database",1,{upgrade:(Qt,_t)=>{0===_t&&Qt.createObjectStore(ln)}}).catch(Qt=>{throw Fn.create("idb-open",{originalErrorMessage:Qt.message})})),sn}function t1(){return(t1=(0,l.Z)(function*(Qt){try{return(yield W1()).transaction(ln).objectStore(ln).get(J1(Qt))}catch(_t){if(_t instanceof Ce.ZR)pe.warn(_t.message);else{const Xt=Fn.create("idb-get",{originalErrorMessage:_t?.message});pe.warn(Xt.message)}}})).apply(this,arguments)}function an(Qt,_t){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(Qt,_t){try{const A1=(yield W1()).transaction(ln,"readwrite");return yield A1.objectStore(ln).put(_t,J1(Qt)),A1.done}catch(Xt){if(Xt instanceof Ce.ZR)pe.warn(Xt.message);else{const A1=Fn.create("idb-set",{originalErrorMessage:Xt?.message});pe.warn(A1.message)}}})).apply(this,arguments)}function J1(Qt){return`${Qt.name}!${Qt.options.appId}`}class C2{constructor(_t){this.container=_t,this._heartbeatsCache=null;const Xt=this.container.getProvider("app").getImmediate();this._storage=new Cn(Xt),this._heartbeatsCachePromise=this._storage.read().then(A1=>(this._heartbeatsCache=A1,A1))}triggerHeartbeat(){var _t=this;return(0,l.Z)(function*(){const A1=_t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),I1=Q1();if(null===_t._heartbeatsCache&&(_t._heartbeatsCache=yield _t._heartbeatsCachePromise),_t._heartbeatsCache.lastSentHeartbeatDate!==I1&&!_t._heartbeatsCache.heartbeats.some(z1=>z1.date===I1))return _t._heartbeatsCache.heartbeats.push({date:I1,agent:A1}),_t._heartbeatsCache.heartbeats=_t._heartbeatsCache.heartbeats.filter(z1=>{const Se=new Date(z1.date).valueOf();return Date.now()-Se<=2592e6}),_t._storage.overwrite(_t._heartbeatsCache)})()}getHeartbeatsHeader(){var _t=this;return(0,l.Z)(function*(){if(null===_t._heartbeatsCache&&(yield _t._heartbeatsCachePromise),null===_t._heartbeatsCache||0===_t._heartbeatsCache.heartbeats.length)return"";const Xt=Q1(),{heartbeatsToSend:A1,unsentEntries:I1}=function j2(Qt,_t=1024){const Xt=[];let A1=Qt.slice();for(const I1 of Qt){const z1=Xt.find(Se=>Se.agent===I1.agent);if(z1){if(z1.dates.push(I1.date),l2(Xt)>_t){z1.dates.pop();break}}else if(Xt.push({agent:I1.agent,dates:[I1.date]}),l2(Xt)>_t){Xt.pop();break}A1=A1.slice(1)}return{heartbeatsToSend:Xt,unsentEntries:A1}}(_t._heartbeatsCache.heartbeats),z1=(0,Ce.L)(JSON.stringify({version:2,heartbeats:A1}));return _t._heartbeatsCache.lastSentHeartbeatDate=Xt,I1.length>0?(_t._heartbeatsCache.heartbeats=I1,yield _t._storage.overwrite(_t._heartbeatsCache)):(_t._heartbeatsCache.heartbeats=[],_t._storage.overwrite(_t._heartbeatsCache)),z1})()}}function Q1(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(_t){this.app=_t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _t=this;return(0,l.Z)(function*(){return(yield _t._canUseIndexedDBPromise)&&(yield function Jt(Qt){return t1.apply(this,arguments)}(_t.app))||{heartbeats:[]}})()}overwrite(_t){var Xt=this;return(0,l.Z)(function*(){var A1;if(yield Xt._canUseIndexedDBPromise){const z1=yield Xt.read();return an(Xt.app,{lastSentHeartbeatDate:null!==(A1=_t.lastSentHeartbeatDate)&&void 0!==A1?A1:z1.lastSentHeartbeatDate,heartbeats:_t.heartbeats})}})()}add(_t){var Xt=this;return(0,l.Z)(function*(){var A1;if(yield Xt._canUseIndexedDBPromise){const z1=yield Xt.read();return an(Xt.app,{lastSentHeartbeatDate:null!==(A1=_t.lastSentHeartbeatDate)&&void 0!==A1?A1:z1.lastSentHeartbeatDate,heartbeats:[...z1.heartbeats,..._t.heartbeats]})}})()}}function l2(Qt){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Qt})).length}!function M2(Qt){n2(new M.wA("platform-logger",_t=>new Ee(_t),"PRIVATE")),n2(new M.wA("heartbeat",_t=>new C2(_t),"PRIVATE")),mn(ze,"0.9.0",Qt),mn(ze,"0.9.0","esm2017"),mn("fire-js","")}("")},4859:($t,We,U)=>{U.d(We,{H0:()=>ze,wA:()=>X});var l=U(5861),M=U(2090);class X{constructor(pe,he,Ne){this.name=pe,this.instanceFactory=he,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(pe){return this.instantiationMode=pe,this}setMultipleInstances(pe){return this.multipleInstances=pe,this}setServiceProps(pe){return this.serviceProps=pe,this}setInstanceCreatedCallback(pe){return this.onInstanceCreated=pe,this}}const Ce="[DEFAULT]";class Te{constructor(pe,he){this.name=pe,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(pe){const he=this.normalizeInstanceIdentifier(pe);if(!this.instancesDeferred.has(he)){const Ne=new M.BH;if(this.instancesDeferred.set(he,Ne),this.isInitialized(he)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:he});st&&Ne.resolve(st)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(pe){var he;const Ne=this.normalizeInstanceIdentifier(pe?.identifier),st=null!==(he=pe?.optional)&&void 0!==he&&he;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(et){if(st)return null;throw et}}getComponent(){return this.component}setComponent(pe){if(pe.name!==this.name)throw Error(`Mismatching Component ${pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=pe,this.shouldAutoInitialize()){if(function Re(ke){return"EAGER"===ke.instantiationMode}(pe))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[he,Ne]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(he);try{const et=this.getOrInitializeService({instanceIdentifier:st});Ne.resolve(et)}catch{}}}}clearInstance(pe=Ce){this.instancesDeferred.delete(pe),this.instancesOptions.delete(pe),this.instances.delete(pe)}delete(){var pe=this;return(0,l.Z)(function*(){const he=Array.from(pe.instances.values());yield Promise.all([...he.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...he.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(pe=Ce){return this.instances.has(pe)}getOptions(pe=Ce){return this.instancesOptions.get(pe)||{}}initialize(pe={}){const{options:he={}}=pe,Ne=this.normalizeInstanceIdentifier(pe.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:Ne,options:he});for(const[et,$e]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(et)&&$e.resolve(st);return st}onInit(pe,he){var Ne;const st=this.normalizeInstanceIdentifier(he),et=null!==(Ne=this.onInitCallbacks.get(st))&&void 0!==Ne?Ne:new Set;et.add(pe),this.onInitCallbacks.set(st,et);const $e=this.instances.get(st);return $e&&pe($e,st),()=>{et.delete(pe)}}invokeOnInitCallbacks(pe,he){const Ne=this.onInitCallbacks.get(he);if(Ne)for(const st of Ne)try{st(pe,he)}catch{}}getOrInitializeService({instanceIdentifier:pe,options:he={}}){let Ne=this.instances.get(pe);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=pe,ke===Ce?void 0:ke),options:he}),this.instances.set(pe,Ne),this.instancesOptions.set(pe,he),this.invokeOnInitCallbacks(Ne,pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,pe,Ne)}catch{}var ke;return Ne||null}normalizeInstanceIdentifier(pe=Ce){return this.component?this.component.multipleInstances?pe:Ce:pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(pe){this.name=pe,this.providers=new Map}addComponent(pe){const he=this.getProvider(pe.name);if(he.isComponentSet())throw new Error(`Component ${pe.name} has already been registered with ${this.name}`);he.setComponent(pe)}addOrOverwriteComponent(pe){this.getProvider(pe.name).isComponentSet()&&this.providers.delete(pe.name),this.addComponent(pe)}getProvider(pe){if(this.providers.has(pe))return this.providers.get(pe);const he=new Te(pe,this);return this.providers.set(pe,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:($t,We,U)=>{U.d(We,{Am:()=>ke,Ub:()=>ze,Yd:()=>Re,in:()=>M});const l=[];var M=(()=>{return(pe=M||(M={}))[pe.DEBUG=0]="DEBUG",pe[pe.VERBOSE=1]="VERBOSE",pe[pe.INFO=2]="INFO",pe[pe.WARN=3]="WARN",pe[pe.ERROR=4]="ERROR",pe[pe.SILENT=5]="SILENT",M;var pe})();const X={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},Ce=M.INFO,Te={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},Ee=(pe,he,...Ne)=>{if(he<pe.logLevel)return;const st=(new Date).toISOString(),et=Te[he];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[et](`[${st}]  ${pe.name}:`,...Ne)};class Re{constructor(he){this.name=he,this._logLevel=Ce,this._logHandler=Ee,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in M))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?X[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...he),this._logHandler(this,M.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...he),this._logHandler(this,M.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,M.INFO,...he),this._logHandler(this,M.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,M.WARN,...he),this._logHandler(this,M.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...he),this._logHandler(this,M.ERROR,...he)}}function ze(pe){l.forEach(he=>{he.setLogLevel(pe)})}function ke(pe,he){for(const Ne of l){let st=null;he&&he.level&&(st=X[he.level]),Ne.userLogHandler=null===pe?null:(et,$e,...Rt)=>{const ut=Rt.map(ot=>{if(null==ot)return null;if("string"==typeof ot)return ot;if("number"==typeof ot||"boolean"==typeof ot)return ot.toString();if(ot instanceof Error)return ot.message;try{return JSON.stringify(ot)}catch{return null}}).filter(ot=>ot).join(" ");$e>=(st??et.logLevel)&&pe({level:M[$e].toLowerCase(),message:ut,args:Rt,type:et.name})}}}},6683:($t,We,U)=>{U.d(We,{Kz:()=>Bs,_D:()=>I,jt:()=>Es,TH:()=>Ti,Vi:()=>$n,XC:()=>Nr,iD:()=>I3,FF:()=>Ta,IJ:()=>l4,M2:()=>Xa});var l=U(4650),M=U(6895),X=U(9751),Ce=U(515),Te=U(9646),Ee=U(7579),Re=U(8421),ze=U(5577),ke=U(1144),pe=U(576),he=U(3268);const Ne=["addListener","removeListener"],st=["addEventListener","removeEventListener"],et=["on","off"];function $e(p,C,d,D){if((0,pe.m)(d)&&(D=d,d=void 0),D)return $e(p,C,d).pipe((0,he.Z)(D));const[O,q]=function He(p){return(0,pe.m)(p.addEventListener)&&(0,pe.m)(p.removeEventListener)}(p)?st.map(ve=>Oe=>p[ve](C,Oe,d)):function ut(p){return(0,pe.m)(p.addListener)&&(0,pe.m)(p.removeListener)}(p)?Ne.map(Rt(p,C)):function ot(p){return(0,pe.m)(p.on)&&(0,pe.m)(p.off)}(p)?et.map(Rt(p,C)):[];if(!O&&(0,ke.z)(p))return(0,ze.z)(ve=>$e(ve,C,d))((0,Re.Xf)(p));if(!O)throw new TypeError("Invalid event target");return new X.y(ve=>{const Oe=(...Le)=>ve.next(1<Le.length?Le:Le[0]);return O(Oe),()=>q(Oe)})}function Rt(p,C){return d=>D=>p[d](C,D)}var Wt=U(4986),tt=U(3532);function Ke(p=0,C,d=Wt.P){let D=-1;return null!=C&&((0,tt.K)(C)?d=C:D=C),new X.y(O=>{let q=function at(p){return p instanceof Date&&!isNaN(p)}(p)?+p-d.now():p;q<0&&(q=0);let ve=0;return d.schedule(function(){O.closed||(O.next(ve++),0<=D?this.schedule(void 0,D):O.complete())},q)})}const{isArray:xt}=Array;function bt(p){return 1===p.length&&xt(p[0])?p[0]:p}var le=U(5403);function ct(...p){return 1===(p=bt(p)).length?(0,Re.Xf)(p[0]):new X.y(function ye(p){return C=>{let d=[];for(let D=0;d&&!C.closed&&D<p.length;D++)d.push((0,Re.Xf)(p[D]).subscribe((0,le.x)(C,O=>{if(d){for(let q=0;q<d.length;q++)q!==D&&d[q].unsubscribe();d=null}C.next(O)})))}}(p))}U(1135),U(9841);var Pe=U(5032);new X.y(Pe.Z);var a1=U(3269);function j1(...p){const C=(0,a1.jO)(p),d=bt(p);return d.length?new X.y(D=>{let O=d.map(()=>[]),q=d.map(()=>!1);D.add(()=>{O=q=null});for(let ve=0;!D.closed&&ve<d.length;ve++)(0,Re.Xf)(d[ve]).subscribe((0,le.x)(D,Oe=>{if(O[ve].push(Oe),O.every(Le=>Le.length)){const Le=O.map(ht=>ht.shift());D.next(C?C(...Le):Le),O.some((ht,yt)=>!ht.length&&q[yt])&&D.complete()}},()=>{q[ve]=!0,!O[ve].length&&D.complete()}));return()=>{O=q=null}}):Ce.E}var N1=U(7272),b1=U(2722),p1=U(9300),m1=U(5698),f1=U(4004),en=(U(8675),U(1884),U(3900)),pn=U(8505),Pn=U(4482),Fn=U(4671);function r2(...p){const C=(0,a1.jO)(p);return(0,Pn.e)((d,D)=>{const O=p.length,q=new Array(O);let ve=p.map(()=>!1),Oe=!1;for(let Le=0;Le<O;Le++)(0,Re.Xf)(p[Le]).subscribe((0,le.x)(D,ht=>{q[Le]=ht,!Oe&&!ve[Le]&&(ve[Le]=!0,(Oe=ve.every(Fn.y))&&(ve=null))},Pe.Z));d.subscribe((0,le.x)(D,Le=>{if(Oe){const ht=[Le,...q];D.next(C?C(...ht):ht)}}))})}var c2=U(9718);function R1(p,C){return C?d=>(0,N1.z)(C.pipe((0,m1.q)(1),function Yn(){return(0,Pn.e)((p,C)=>{p.subscribe((0,le.x)(C,Pe.Z))})}()),d.pipe(R1(p))):(0,ze.z)((d,D)=>p(d,D).pipe((0,m1.q)(1),(0,c2.h)(d)))}var Vt=U(433),mn={left:"right",right:"left",bottom:"top",top:"bottom"};function Tn(p){return p.replace(/left|right|bottom|top/g,function(C){return mn[C]})}function rn(p){return p.split("-")[0]}var U2={start:"end",end:"start"};function Ci(p){return p.replace(/start|end/g,function(C){return U2[C]})}var ln="top",sn="bottom",W1="right",Jt="left",t1="auto",an=[ln,sn,W1,Jt],bn="start",J1="end",T1="viewport",C2="popper",j2=an.reduce(function(p,C){return p.concat([C+"-"+bn,C+"-"+J1])},[]),Cn=[].concat(an,[t1]).reduce(function(p,C){return p.concat([C,C+"-"+bn,C+"-"+J1])},[]),_e=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xe(p){if(null==p)return window;if("[object Window]"!==p.toString()){var C=p.ownerDocument;return C&&C.defaultView||window}return p}function pt(p){return p instanceof xe(p).Element||p instanceof Element}function Ue(p){return p instanceof xe(p).HTMLElement||p instanceof HTMLElement}function jt(p){return!(typeof ShadowRoot>"u")&&(p instanceof xe(p).ShadowRoot||p instanceof ShadowRoot)}function e1(p){return((pt(p)?p.ownerDocument:p.document)||window.document).documentElement}var G1=Math.max,un=Math.min,K1=Math.round;function be(){var p=navigator.userAgentData;return null!=p&&p.brands?p.brands.map(function(C){return C.brand+"/"+C.version}).join(" "):navigator.userAgent}function fe(){return!/^((?!chrome|android).)*safari/i.test(be())}function ue(p,C,d){void 0===C&&(C=!1),void 0===d&&(d=!1);var D=p.getBoundingClientRect(),O=1,q=1;C&&Ue(p)&&(O=p.offsetWidth>0&&K1(D.width)/p.offsetWidth||1,q=p.offsetHeight>0&&K1(D.height)/p.offsetHeight||1);var Oe=(pt(p)?xe(p):window).visualViewport,Le=!fe()&&d,ht=(D.left+(Le&&Oe?Oe.offsetLeft:0))/O,yt=(D.top+(Le&&Oe?Oe.offsetTop:0))/q,y1=D.width/O,l1=D.height/q;return{width:y1,height:l1,top:yt,right:ht+y1,bottom:yt+l1,left:ht,x:ht,y:yt}}function je(p){var C=xe(p);return{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function ft(p){return ue(e1(p)).left+je(p).scrollLeft}function g1(p){return xe(p).getComputedStyle(p)}function Mn(p){return p?(p.nodeName||"").toLowerCase():null}function Y2(p){return"html"===Mn(p)?p:p.assignedSlot||p.parentNode||(jt(p)?p.host:null)||e1(p)}function P1(p){var C=g1(p);return/auto|scroll|overlay|hidden/.test(C.overflow+C.overflowY+C.overflowX)}function An(p){return["html","body","#document"].indexOf(Mn(p))>=0?p.ownerDocument.body:Ue(p)&&P1(p)?p:An(Y2(p))}function w2(p,C){var d;void 0===C&&(C=[]);var D=An(p),O=D===(null==(d=p.ownerDocument)?void 0:d.body),q=xe(D),ve=O?[q].concat(q.visualViewport||[],P1(D)?D:[]):D,Oe=C.concat(ve);return O?Oe:Oe.concat(w2(Y2(ve)))}function xi(p){return["table","td","th"].indexOf(Mn(p))>=0}function J2(p){return Ue(p)&&"fixed"!==g1(p).position?p.offsetParent:null}function ii(p){for(var C=xe(p),d=J2(p);d&&xi(d)&&"static"===g1(d).position;)d=J2(d);return d&&("html"===Mn(d)||"body"===Mn(d)&&"static"===g1(d).position)?C:d||function u2(p){var C=/firefox/i.test(be());if(/Trident/i.test(be())&&Ue(p)&&"fixed"===g1(p).position)return null;var O=Y2(p);for(jt(O)&&(O=O.host);Ue(O)&&["html","body"].indexOf(Mn(O))<0;){var q=g1(O);if("none"!==q.transform||"none"!==q.perspective||"paint"===q.contain||-1!==["transform","perspective"].indexOf(q.willChange)||C&&"filter"===q.willChange||C&&q.filter&&"none"!==q.filter)return O;O=O.parentNode}return null}(p)||C}function G2(p,C){var d=C.getRootNode&&C.getRootNode();if(p.contains(C))return!0;if(d&&jt(d)){var D=C;do{if(D&&p.isSameNode(D))return!0;D=D.parentNode||D.host}while(D)}return!1}function O2(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function ji(p,C,d){return C===T1?O2(function Ut(p,C){var d=xe(p),D=e1(p),O=d.visualViewport,q=D.clientWidth,ve=D.clientHeight,Oe=0,Le=0;if(O){q=O.width,ve=O.height;var ht=fe();(ht||!ht&&"fixed"===C)&&(Oe=O.offsetLeft,Le=O.offsetTop)}return{width:q,height:ve,x:Oe+ft(p),y:Le}}(p,d)):pt(C)?function g2(p,C){var d=ue(p,!1,"fixed"===C);return d.top=d.top+p.clientTop,d.left=d.left+p.clientLeft,d.bottom=d.top+p.clientHeight,d.right=d.left+p.clientWidth,d.width=p.clientWidth,d.height=p.clientHeight,d.x=d.left,d.y=d.top,d}(C,d):O2(function B1(p){var C,d=e1(p),D=je(p),O=null==(C=p.ownerDocument)?void 0:C.body,q=G1(d.scrollWidth,d.clientWidth,O?O.scrollWidth:0,O?O.clientWidth:0),ve=G1(d.scrollHeight,d.clientHeight,O?O.scrollHeight:0,O?O.clientHeight:0),Oe=-D.scrollLeft+ft(p),Le=-D.scrollTop;return"rtl"===g1(O||d).direction&&(Oe+=G1(d.clientWidth,O?O.clientWidth:0)-q),{width:q,height:ve,x:Oe,y:Le}}(e1(p)))}function Q2(p){return p.split("-")[1]}function ui(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function zi(p){var Le,C=p.reference,d=p.element,D=p.placement,O=D?rn(D):null,q=D?Q2(D):null,ve=C.x+C.width/2-d.width/2,Oe=C.y+C.height/2-d.height/2;switch(O){case ln:Le={x:ve,y:C.y-d.height};break;case sn:Le={x:ve,y:C.y+C.height};break;case W1:Le={x:C.x+C.width,y:Oe};break;case Jt:Le={x:C.x-d.width,y:Oe};break;default:Le={x:C.x,y:C.y}}var ht=O?ui(O):null;if(null!=ht){var yt="y"===ht?"height":"width";switch(q){case bn:Le[ht]=Le[ht]-(C[yt]/2-d[yt]/2);break;case J1:Le[ht]=Le[ht]+(C[yt]/2-d[yt]/2)}}return Le}function Mi(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function ri(p,C){return C.reduce(function(d,D){return d[D]=p,d},{})}function Vn(p,C){void 0===C&&(C={});var D=C.placement,O=void 0===D?p.placement:D,q=C.strategy,ve=void 0===q?p.strategy:q,Oe=C.boundary,Le=void 0===Oe?"clippingParents":Oe,ht=C.rootBoundary,yt=void 0===ht?T1:ht,y1=C.elementContext,l1=void 0===y1?C2:y1,w1=C.altBoundary,p2=void 0!==w1&&w1,q1=C.padding,cn=void 0===q1?0:q1,Hn=Mi("number"!=typeof cn?cn:ri(cn,an)),F2=p.rects.popper,Zn=p.elements[p2?l1===C2?"reference":C2:l1],e2=function Wr(p,C,d,D){var O="clippingParents"===C?function kn(p){var C=w2(Y2(p)),D=["absolute","fixed"].indexOf(g1(p).position)>=0&&Ue(p)?ii(p):p;return pt(D)?C.filter(function(O){return pt(O)&&G2(O,D)&&"body"!==Mn(O)}):[]}(p):[].concat(C),q=[].concat(O,[d]),Oe=q.reduce(function(Le,ht){var yt=ji(p,ht,D);return Le.top=G1(yt.top,Le.top),Le.right=un(yt.right,Le.right),Le.bottom=un(yt.bottom,Le.bottom),Le.left=G1(yt.left,Le.left),Le},ji(p,q[0],D));return Oe.width=Oe.right-Oe.left,Oe.height=Oe.bottom-Oe.top,Oe.x=Oe.left,Oe.y=Oe.top,Oe}(pt(Zn)?Zn:Zn.contextElement||e1(p.elements.popper),Le,yt,ve),a2=ue(p.elements.reference),K2=zi({reference:a2,element:F2,strategy:"absolute",placement:O}),x2=O2(Object.assign({},F2,K2)),tr=l1===C2?x2:a2,ci={top:e2.top-tr.top+Hn.top,bottom:tr.bottom-e2.bottom+Hn.bottom,left:e2.left-tr.left+Hn.left,right:tr.right-e2.right+Hn.right},Fi=p.modifiersData.offset;if(l1===C2&&Fi){var Lo=Fi[O];Object.keys(ci).forEach(function(Zr){var o3=[W1,sn].indexOf(Zr)>=0?1:-1,ea=[ln,sn].indexOf(Zr)>=0?"y":"x";ci[Zr]+=Lo[ea]*o3})}return ci}const Ir={name:"flip",enabled:!0,phase:"main",fn:function k2(p){var C=p.state,d=p.options,D=p.name;if(!C.modifiersData[D]._skip){for(var O=d.mainAxis,q=void 0===O||O,ve=d.altAxis,Oe=void 0===ve||ve,Le=d.fallbackPlacements,ht=d.padding,yt=d.boundary,y1=d.rootBoundary,l1=d.altBoundary,w1=d.flipVariations,p2=void 0===w1||w1,q1=d.allowedAutoPlacements,cn=C.options.placement,Hn=rn(cn),F2=Le||(Hn!==cn&&p2?function In(p){if(rn(p)===t1)return[];var C=Tn(p);return[Ci(p),C,Ci(C)]}(cn):[Tn(cn)]),Zn=[cn].concat(F2).reduce(function(Ai,Mo){return Ai.concat(rn(Mo)===t1?function rr(p,C){void 0===C&&(C={});var O=C.boundary,q=C.rootBoundary,ve=C.padding,Oe=C.flipVariations,Le=C.allowedAutoPlacements,ht=void 0===Le?Cn:Le,yt=Q2(C.placement),y1=yt?Oe?j2:j2.filter(function(p2){return Q2(p2)===yt}):an,l1=y1.filter(function(p2){return ht.indexOf(p2)>=0});0===l1.length&&(l1=y1);var w1=l1.reduce(function(p2,q1){return p2[q1]=Vn(p,{placement:q1,boundary:O,rootBoundary:q,padding:ve})[rn(q1)],p2},{});return Object.keys(w1).sort(function(p2,q1){return w1[p2]-w1[q1]})}(C,{placement:Mo,boundary:yt,rootBoundary:y1,padding:ht,flipVariations:p2,allowedAutoPlacements:q1}):Mo)},[]),e2=C.rects.reference,a2=C.rects.popper,K2=new Map,x2=!0,tr=Zn[0],ci=0;ci<Zn.length;ci++){var Fi=Zn[ci],Lo=rn(Fi),Zr=Q2(Fi)===bn,o3=[ln,sn].indexOf(Lo)>=0,ea=o3?"width":"height",Ss=Vn(C,{placement:Fi,boundary:yt,rootBoundary:y1,altBoundary:l1,padding:ht}),Oo=o3?Zr?W1:Jt:Zr?sn:ln;e2[ea]>a2[ea]&&(Oo=Tn(Oo));var y6=Tn(Oo),ko=[];if(q&&ko.push(Ss[Lo]<=0),Oe&&ko.push(Ss[Oo]<=0,Ss[y6]<=0),ko.every(function(Ai){return Ai})){tr=Fi,x2=!1;break}K2.set(Fi,ko)}if(x2)for(var a3=function(Mo){var I4=Zn.find(function(R3){var u4=K2.get(R3);if(u4)return u4.slice(0,Mo).every(function(La){return La})});if(I4)return tr=I4,"break"},za=p2?3:1;za>0&&"break"!==a3(za);za--);C.placement!==tr&&(C.modifiersData[D]._skip=!0,C.placement=tr,C.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xr(p,C,d){return G1(p,un(C,d))}function qr(p){var C=ue(p),d=p.offsetWidth,D=p.offsetHeight;return Math.abs(C.width-d)<=1&&(d=C.width),Math.abs(C.height-D)<=1&&(D=C.height),{x:p.offsetLeft,y:p.offsetTop,width:d,height:D}}const so={name:"preventOverflow",enabled:!0,phase:"main",fn:function fs(p){var C=p.state,d=p.options,D=p.name,O=d.mainAxis,q=void 0===O||O,ve=d.altAxis,Oe=void 0!==ve&&ve,l1=d.tether,w1=void 0===l1||l1,p2=d.tetherOffset,q1=void 0===p2?0:p2,cn=Vn(C,{boundary:d.boundary,rootBoundary:d.rootBoundary,padding:d.padding,altBoundary:d.altBoundary}),Hn=rn(C.placement),yn=Q2(C.placement),F2=!yn,Zn=ui(Hn),e2=function wi(p){return"x"===p?"y":"x"}(Zn),a2=C.modifiersData.popperOffsets,K2=C.rects.reference,x2=C.rects.popper,tr="function"==typeof q1?q1(Object.assign({},C.rects,{placement:C.placement})):q1,ci="number"==typeof tr?{mainAxis:tr,altAxis:tr}:Object.assign({mainAxis:0,altAxis:0},tr),Fi=C.modifiersData.offset?C.modifiersData.offset[C.placement]:null,Lo={x:0,y:0};if(a2){if(q){var Zr,o3="y"===Zn?ln:Jt,ea="y"===Zn?sn:W1,Ss="y"===Zn?"height":"width",Oo=a2[Zn],y6=Oo+cn[o3],ko=Oo-cn[ea],k3=w1?-x2[Ss]/2:0,a3=yn===bn?K2[Ss]:x2[Ss],za=yn===bn?-x2[Ss]:-K2[Ss],_6=C.elements.arrow,Ai=w1&&_6?qr(_6):{width:0,height:0},Mo=C.modifiersData["arrow#persistent"]?C.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},I4=Mo[o3],R3=Mo[ea],u4=xr(0,K2[Ss],Ai[Ss]),La=F2?K2[Ss]/2-k3-u4-I4-ci.mainAxis:a3-u4-I4-ci.mainAxis,P3=F2?-K2[Ss]/2+k3+u4+R3+ci.mainAxis:za+u4+R3+ci.mainAxis,o0=C.elements.arrow&&ii(C.elements.arrow),K0=null!=(Zr=Fi?.[Zn])?Zr:0,a0=Oo+P3-K0,d4=xr(w1?un(y6,Oo+La-K0-(o0?"y"===Zn?o0.clientTop||0:o0.clientLeft||0:0)):y6,Oo,w1?G1(ko,a0):ko);a2[Zn]=d4,Lo[Zn]=d4-Oo}if(Oe){var b6,c3=a2[e2],c0="y"===e2?"height":"width",M6=c3+cn["x"===Zn?ln:Jt],Y0=c3-cn["x"===Zn?sn:W1],J0=-1!==[ln,Jt].indexOf(Hn),Q0=null!=(b6=Fi?.[e2])?b6:0,l3=J0?M6:c3-K2[c0]-x2[c0]-Q0+ci.altAxis,ta=J0?c3+K2[c0]+x2[c0]-Q0-ci.altAxis:Y0,L4=w1&&J0?function R2(p,C,d){var D=xr(p,C,d);return D>d?d:D}(l3,c3,ta):xr(w1?l3:M6,c3,w1?ta:Y0);a2[e2]=L4,Lo[e2]=L4-c3}C.modifiersData[D]=Lo}},requiresIfExists:["offset"]},Ge={name:"arrow",enabled:!0,phase:"main",fn:function Gs(p){var C,d=p.state,D=p.name,O=p.options,q=d.elements.arrow,ve=d.modifiersData.popperOffsets,Oe=rn(d.placement),Le=ui(Oe),yt=[Jt,W1].indexOf(Oe)>=0?"height":"width";if(q&&ve){var y1=function(C,d){return Mi("number"!=typeof(C="function"==typeof C?C(Object.assign({},d.rects,{placement:d.placement})):C)?C:ri(C,an))}(O.padding,d),l1=qr(q),w1="y"===Le?ln:Jt,p2="y"===Le?sn:W1,q1=d.rects.reference[yt]+d.rects.reference[Le]-ve[Le]-d.rects.popper[yt],cn=ve[Le]-d.rects.reference[Le],Hn=ii(q),yn=Hn?"y"===Le?Hn.clientHeight||0:Hn.clientWidth||0:0,a2=yn/2-l1[yt]/2+(q1/2-cn/2),K2=xr(y1[w1],a2,yn-l1[yt]-y1[p2]);d.modifiersData[D]=((C={})[Le]=K2,C.centerOffset=K2-a2,C)}},effect:function d2(p){var C=p.state,D=p.options.element,O=void 0===D?"[data-popper-arrow]":D;null!=O&&("string"==typeof O&&!(O=C.elements.popper.querySelector(O))||!G2(C.elements.popper,O)||(C.elements.arrow=O))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ft(p,C,d){void 0===d&&(d=!1);var D=Ue(C),O=Ue(C)&&function Ct(p){var C=p.getBoundingClientRect(),d=K1(C.width)/p.offsetWidth||1,D=K1(C.height)/p.offsetHeight||1;return 1!==d||1!==D}(C),q=e1(C),ve=ue(p,O,d),Oe={scrollLeft:0,scrollTop:0},Le={x:0,y:0};return(D||!D&&!d)&&(("body"!==Mn(C)||P1(q))&&(Oe=function qe(p){return p!==xe(p)&&Ue(p)?function Fe(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):je(p)}(C)),Ue(C)?((Le=ue(C,!0)).x+=C.clientLeft,Le.y+=C.clientTop):q&&(Le.x=ft(q))),{x:ve.left+Oe.scrollLeft-Le.x,y:ve.top+Oe.scrollTop-Le.y,width:ve.width,height:ve.height}}function C1(p){var C=new Map,d=new Set,D=[];function O(q){d.add(q.name),[].concat(q.requires||[],q.requiresIfExists||[]).forEach(function(Oe){if(!d.has(Oe)){var Le=C.get(Oe);Le&&O(Le)}}),D.push(q)}return p.forEach(function(q){C.set(q.name,q)}),p.forEach(function(q){d.has(q.name)||O(q)}),D}function Bn(p){var C;return function(){return C||(C=new Promise(function(d){Promise.resolve().then(function(){C=void 0,d(p())})})),C}}var si={placement:"bottom",modifiers:[],strategy:"absolute"};function fi(){for(var p=arguments.length,C=new Array(p),d=0;d<p;d++)C[d]=arguments[d];return!C.some(function(D){return!(D&&"function"==typeof D.getBoundingClientRect)})}function hs(p){void 0===p&&(p={});var d=p.defaultModifiers,D=void 0===d?[]:d,O=p.defaultOptions,q=void 0===O?si:O;return function(Oe,Le,ht){void 0===ht&&(ht=q);var yt={placement:"bottom",orderedModifiers:[],options:Object.assign({},si,q),modifiersData:{},elements:{reference:Oe,popper:Le},attributes:{},styles:{}},y1=[],l1=!1,w1={state:yt,setOptions:function(Hn){var yn="function"==typeof Hn?Hn(yt.options):Hn;q1(),yt.options=Object.assign({},q,yt.options,yn),yt.scrollParents={reference:pt(Oe)?w2(Oe):Oe.contextElement?w2(Oe.contextElement):[],popper:w2(Le)};var F2=function V1(p){var C=C1(p);return _e.reduce(function(d,D){return d.concat(C.filter(function(O){return O.phase===D}))},[])}(function gn(p){var C=p.reduce(function(d,D){var O=d[D.name];return d[D.name]=O?Object.assign({},O,D,{options:Object.assign({},O.options,D.options),data:Object.assign({},O.data,D.data)}):D,d},{});return Object.keys(C).map(function(d){return C[d]})}([].concat(D,yt.options.modifiers)));return yt.orderedModifiers=F2.filter(function(Fi){return Fi.enabled}),function p2(){yt.orderedModifiers.forEach(function(cn){var yn=cn.options,Zn=cn.effect;if("function"==typeof Zn){var e2=Zn({state:yt,name:cn.name,instance:w1,options:void 0===yn?{}:yn});y1.push(e2||function(){})}})}(),w1.update()},forceUpdate:function(){if(!l1){var Hn=yt.elements,yn=Hn.reference,F2=Hn.popper;if(fi(yn,F2)){yt.rects={reference:Ft(yn,ii(F2),"fixed"===yt.options.strategy),popper:qr(F2)},yt.reset=!1,yt.placement=yt.options.placement,yt.orderedModifiers.forEach(function(Fi){return yt.modifiersData[Fi.name]=Object.assign({},Fi.data)});for(var e2=0;e2<yt.orderedModifiers.length;e2++)if(!0!==yt.reset){var a2=yt.orderedModifiers[e2],K2=a2.fn,x2=a2.options;"function"==typeof K2&&(yt=K2({state:yt,options:void 0===x2?{}:x2,name:a2.name,instance:w1})||yt)}else yt.reset=!1,e2=-1}}},update:Bn(function(){return new Promise(function(cn){w1.forceUpdate(),cn(yt)})}),destroy:function(){q1(),l1=!0}};if(!fi(Oe,Le))return w1;function q1(){y1.forEach(function(cn){return cn()}),y1=[]}return w1.setOptions(ht).then(function(cn){!l1&&ht.onFirstUpdate&&ht.onFirstUpdate(cn)}),w1}}var Gi={passive:!0},hi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Di(p){var C,d=p.popper,D=p.popperRect,O=p.placement,q=p.variation,ve=p.offsets,Oe=p.position,Le=p.gpuAcceleration,ht=p.adaptive,yt=p.roundOffsets,y1=p.isFixed,l1=ve.x,w1=void 0===l1?0:l1,p2=ve.y,q1=void 0===p2?0:p2,cn="function"==typeof yt?yt({x:w1,y:q1}):{x:w1,y:q1};w1=cn.x,q1=cn.y;var Hn=ve.hasOwnProperty("x"),yn=ve.hasOwnProperty("y"),F2=Jt,Zn=ln,e2=window;if(ht){var a2=ii(d),K2="clientHeight",x2="clientWidth";a2===xe(d)&&"static"!==g1(a2=e1(d)).position&&"absolute"===Oe&&(K2="scrollHeight",x2="scrollWidth"),(O===ln||(O===Jt||O===W1)&&q===J1)&&(Zn=sn,q1-=(y1&&a2===e2&&e2.visualViewport?e2.visualViewport.height:a2[K2])-D.height,q1*=Le?1:-1),O!==Jt&&(O!==ln&&O!==sn||q!==J1)||(F2=W1,w1-=(y1&&a2===e2&&e2.visualViewport?e2.visualViewport.width:a2[x2])-D.width,w1*=Le?1:-1)}var Zr,Fi=Object.assign({position:Oe},ht&&hi),Lo=!0===yt?function ps(p){var d=p.y,O=window.devicePixelRatio||1;return{x:K1(p.x*O)/O||0,y:K1(d*O)/O||0}}({x:w1,y:q1}):{x:w1,y:q1};return w1=Lo.x,q1=Lo.y,Object.assign({},Fi,Le?((Zr={})[Zn]=yn?"0":"",Zr[F2]=Hn?"0":"",Zr.transform=(e2.devicePixelRatio||1)<=1?"translate("+w1+"px, "+q1+"px)":"translate3d("+w1+"px, "+q1+"px, 0)",Zr):((C={})[Zn]=yn?q1+"px":"",C[F2]=Hn?w1+"px":"",C.transform="",C))}var cr=hs({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function $s(p){var C=p.state,d=p.instance,D=p.options,O=D.scroll,q=void 0===O||O,ve=D.resize,Oe=void 0===ve||ve,Le=xe(C.elements.popper),ht=[].concat(C.scrollParents.reference,C.scrollParents.popper);return q&&ht.forEach(function(yt){yt.addEventListener("scroll",d.update,Gi)}),Oe&&Le.addEventListener("resize",d.update,Gi),function(){q&&ht.forEach(function(yt){yt.removeEventListener("scroll",d.update,Gi)}),Oe&&Le.removeEventListener("resize",d.update,Gi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Oi(p){var C=p.state;C.modifiersData[p.name]=zi({reference:C.rects.reference,element:C.rects.popper,strategy:"absolute",placement:C.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Lr(p){var C=p.state,d=p.options,D=d.gpuAcceleration,O=void 0===D||D,q=d.adaptive,ve=void 0===q||q,Oe=d.roundOffsets,Le=void 0===Oe||Oe,yt={placement:rn(C.placement),variation:Q2(C.placement),popper:C.elements.popper,popperRect:C.rects.popper,gpuAcceleration:O,isFixed:"fixed"===C.options.strategy};null!=C.modifiersData.popperOffsets&&(C.styles.popper=Object.assign({},C.styles.popper,Di(Object.assign({},yt,{offsets:C.modifiersData.popperOffsets,position:C.options.strategy,adaptive:ve,roundOffsets:Le})))),null!=C.modifiersData.arrow&&(C.styles.arrow=Object.assign({},C.styles.arrow,Di(Object.assign({},yt,{offsets:C.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Le})))),C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-placement":C.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function or(p){var C=p.state;Object.keys(C.elements).forEach(function(d){var D=C.styles[d]||{},O=C.attributes[d]||{},q=C.elements[d];!Ue(q)||!Mn(q)||(Object.assign(q.style,D),Object.keys(O).forEach(function(ve){var Oe=O[ve];!1===Oe?q.removeAttribute(ve):q.setAttribute(ve,!0===Oe?"":Oe)}))})},effect:function ar(p){var C=p.state,d={popper:{position:C.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(C.elements.popper.style,d.popper),C.styles=d,C.elements.arrow&&Object.assign(C.elements.arrow.style,d.arrow),function(){Object.keys(C.elements).forEach(function(D){var O=C.elements[D],q=C.attributes[D]||{},Oe=Object.keys(C.styles.hasOwnProperty(D)?C.styles[D]:d[D]).reduce(function(Le,ht){return Le[ht]="",Le},{});!Ue(O)||!Mn(O)||(Object.assign(O.style,Oe),Object.keys(q).forEach(function(Le){O.removeAttribute(Le)}))})}},requires:["computeStyles"]}]});const Ri={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function o2(p){var C=p.state,D=p.name,O=p.options.offset,q=void 0===O?[0,0]:O,ve=Cn.reduce(function(yt,y1){return yt[y1]=function oo(p,C,d){var D=rn(p),O=[Jt,ln].indexOf(D)>=0?-1:1,q="function"==typeof d?d(Object.assign({},C,{placement:p})):d,ve=q[0],Oe=q[1];return ve=ve||0,Oe=(Oe||0)*O,[Jt,W1].indexOf(D)>=0?{x:Oe,y:ve}:{x:ve,y:Oe}}(y1,C.rects,q),yt},{}),Oe=ve[C.placement],ht=Oe.y;null!=C.modifiersData.popperOffsets&&(C.modifiersData.popperOffsets.x+=Oe.x,C.modifiersData.popperOffsets.y+=ht),C.modifiersData[D]=ve}},lr=["*"],d1=["dialog"];function T2(p){return"string"==typeof p}function Cr(p){return null!=p}function Hr(p){return(p||document.body).getBoundingClientRect()}const Qi={animation:!0,transitionTimerDelayMs:5},va=()=>{},{transitionTimerDelayMs:_2}=Qi,M1=new Map,A2=(p,C,d,D)=>{let O=D.context||{};const q=M1.get(C);if(q)switch(D.runningTransition){case"continue":return Ce.E;case"stop":p.run(()=>q.transition$.complete()),O=Object.assign(q.context,O),M1.delete(C)}const ve=d(C,D.animation,O)||va;if(!D.animation||"none"===window.getComputedStyle(C).transitionProperty)return p.run(()=>ve()),(0,Te.of)(void 0).pipe(function ga(p){return C=>new X.y(d=>C.subscribe({next:ve=>p.run(()=>d.next(ve)),error:ve=>p.run(()=>d.error(ve)),complete:()=>p.run(()=>d.complete())}))}(p));const Oe=new Ee.x,Le=new Ee.x,ht=Oe.pipe(function Nt(...p){return C=>(0,N1.z)(C,(0,Te.of)(...p))}(!0));M1.set(C,{transition$:Oe,complete:()=>{Le.next(),Le.complete()},context:O});const yt=function H1(p){const{transitionDelay:C,transitionDuration:d}=window.getComputedStyle(p);return 1e3*(parseFloat(C)+parseFloat(d))}(C);return p.runOutsideAngular(()=>{const y1=$e(C,"transitionend").pipe((0,b1.R)(ht),(0,p1.h)(({target:w1})=>w1===C));ct(Ke(yt+_2).pipe((0,b1.R)(ht)),y1,Le).pipe((0,b1.R)(ht)).subscribe(()=>{M1.delete(C),p.run(()=>{ve(),Oe.next(),Oe.complete()})})}),Oe.asObservable()},Sn=(p,C,d)=>{let{direction:D,maxHeight:O}=d;const{classList:q}=p;function ve(){q.add("collapse"),"show"===D?q.add("show"):q.remove("show")}if(C)return O||(O=function Uo(p){if(typeof navigator>"u")return"0px";const{classList:C}=p,d=C.contains("show");d||C.add("show"),p.style.height="";const D=p.getBoundingClientRect().height+"px";return d||C.remove("show"),D}(p),d.maxHeight=O,p.style.height="show"!==D?O:"0px",q.remove("collapse"),q.remove("collapsing"),q.remove("show"),Hr(p),q.add("collapsing")),p.style.height="show"===D?O:"0px",()=>{ve(),q.remove("collapsing"),p.style.height=""};ve()};let Bt=(()=>{class p{constructor(){this.animation=Qi.animation}}return p.\u0275fac=function(d){return new(d||p)},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),ja=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),Cs=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),$i=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),A=(()=>{class p{constructor(d){this._ngbConfig=d}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(d){this._animation=d}}return p.\u0275fac=function(d){return new(d||p)(l.LFG(Bt))},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),I=(()=>{class p{constructor(d,D,O){this._element=d,this._zone=O,this.collapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=D.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:d}){d.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(d=this.collapsed){this.collapsed=!d,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(d,D){return A2(this._zone,this._element.nativeElement,Sn,{animation:D,runningTransition:"stop",context:{direction:d?"hide":"show"}})}_runTransitionWithEvents(d,D){this._runTransition(d,D).subscribe(()=>{d?this.hidden.emit():this.shown.emit()})}}return p.\u0275fac=function(d){return new(d||p)(l.Y36(l.SBq),l.Y36(A),l.Y36(l.R0b))},p.\u0275dir=l.lG2({type:p,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[l.TTD]}),p})(),N=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({}),p})();var ge=(()=>{return(p=ge||(ge={}))[p.Tab=9]="Tab",p[p.Enter=13]="Enter",p[p.Escape=27]="Escape",p[p.Space=32]="Space",p[p.PageUp=33]="PageUp",p[p.PageDown=34]="PageDown",p[p.End=35]="End",p[p.Home=36]="Home",p[p.ArrowLeft=37]="ArrowLeft",p[p.ArrowUp=38]="ArrowUp",p[p.ArrowRight=39]="ArrowRight",p[p.ArrowDown=40]="ArrowDown",ge;var p})();const E1=(p,C)=>!!C&&C.some(d=>d.contains(p)),x1=(p,C)=>!C||null!=function V2(p,C){return!C||typeof p.closest>"u"?null:p.closest(C)}(p,C),zn=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function tn(p,C,d,D,O,q,ve,Oe){d&&p.runOutsideAngular((p=>zn?()=>setTimeout(()=>p(),100):p)(()=>{const ht=$e(C,"keydown").pipe((0,b1.R)(O),(0,p1.h)(l1=>l1.which===ge.Escape),(0,pn.b)(l1=>l1.preventDefault())),yt=$e(C,"mousedown").pipe((0,f1.U)(l1=>{const w1=l1.target;return 2!==l1.button&&!E1(w1,ve)&&("inside"===d?E1(w1,q)&&x1(w1,Oe):"outside"===d?!E1(w1,q):x1(w1,Oe)||!E1(w1,q))}),(0,b1.R)(O)),y1=$e(C,"mouseup").pipe(r2(yt),(0,p1.h)(([l1,w1])=>w1),function On(p,C=Wt.z){const d=Ke(p,C);return R1(()=>d)}(0),(0,b1.R)(O));ct([ht.pipe((0,f1.U)(l1=>0)),y1.pipe((0,f1.U)(l1=>1))]).subscribe(l1=>p.run(()=>D(l1)))}))}const I2=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function vo(p){const C=Array.from(p.querySelectorAll(I2)).filter(d=>-1!==d.tabIndex);return[C[0],C[C.length-1]]}const jo=/\s+/,er=/  +/gi,Ur=/^start/,Za=/^end/,V0=/-(top|left)$/,F6=/-(bottom|right)$/,B6=/^left/,U6=/^right/,F0=/^start/,e6=/^end/;function C4({placement:p,baseClass:C}){let d=Array.isArray(p)?p:p.split(jo),O=d.findIndex(Le=>"auto"===Le);O>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Le){null==d.find(ht=>-1!==ht.search("^"+Le))&&d.splice(O++,1,Le)});const q=d.map(Le=>function H0(p){return p.replace(Ur,"left").replace(Za,"right").replace(V0,"-start").replace(F6,"-end")}(Le));return{placement:q.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!C,phase:"write",fn({state:Le}){const ht=new RegExp(C+"(-[a-z]+)*","gi"),yt=Le.elements.popper,y1=Le.placement;let l1=yt.className;l1=l1.replace(ht,""),l1+=` ${function w3(p,C){let[d,D]=C.split("-");const O=d.replace(B6,"start").replace(U6,"end");let q=[O];if(D){let ve=D;("left"===d||"right"===d)&&(ve=ve.replace(F0,"top").replace(e6,"bottom")),q.push(`${O}-${ve}`)}return p&&(q=q.map(ve=>`${p}-${ve}`)),q.join(" ")}(C,y1)}`,l1=l1.trim().replace(er," "),yt.className=l1}},Ir,so,Ge,{enabled:!0,name:"flip",options:{fallbackPlacements:q}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Wa(p){return p}function q4(p){return C=>(C.modifiers.push(Ri,{name:"offset",options:{offset:()=>p}}),C)}new Date(1882,10,12),new Date(2174,10,25);let Qa=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez,Vt.u5]}),p})(),u6=(()=>{class p{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return p.\u0275fac=function(d){return new(d||p)},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Xa=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275dir=l.lG2({type:p,selectors:[["",8,"navbar"]]}),p})(),Ti=(()=>{class p{constructor(d,D){this.elementRef=d,this._renderer=D,this._disabled=!1}set disabled(d){this._disabled=""===d||!0===d,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return p.\u0275fac=function(d){return new(d||p)(l.Y36(l.SBq),l.Y36(l.Qsj))},p.\u0275dir=l.lG2({type:p,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(d,D){2&d&&(l.Ikx("tabIndex",D.disabled?-1:0),l.ekj("disabled",D.disabled))},inputs:{disabled:"disabled"}}),p})(),$n=(()=>{class p{constructor(d,D){this.dropdown=d,this.placement="bottom",this.isOpen=!1,this.nativeElement=D.nativeElement}}return p.\u0275fac=function(d){return new(d||p)(l.Y36((0,l.Gpc)(()=>Es)),l.Y36(l.SBq))},p.\u0275dir=l.lG2({type:p,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(d,D,O){if(1&d&&l.Suo(O,Ti,4),2&d){let q;l.iGM(q=l.CRH())&&(D.menuItems=q)}},hostVars:4,hostBindings:function(d,D){1&d&&l.NdJ("keydown.ArrowUp",function(q){return D.dropdown.onKeyDown(q)})("keydown.ArrowDown",function(q){return D.dropdown.onKeyDown(q)})("keydown.Home",function(q){return D.dropdown.onKeyDown(q)})("keydown.End",function(q){return D.dropdown.onKeyDown(q)})("keydown.Enter",function(q){return D.dropdown.onKeyDown(q)})("keydown.Space",function(q){return D.dropdown.onKeyDown(q)})("keydown.Tab",function(q){return D.dropdown.onKeyDown(q)})("keydown.Shift.Tab",function(q){return D.dropdown.onKeyDown(q)}),2&d&&l.ekj("dropdown-menu",!0)("show",D.dropdown.isOpen())}}),p})(),e4=(()=>{class p{constructor(d,D){this.dropdown=d,this.nativeElement=D.nativeElement}}return p.\u0275fac=function(d){return new(d||p)(l.Y36((0,l.Gpc)(()=>Es)),l.Y36(l.SBq))},p.\u0275dir=l.lG2({type:p,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(d,D){2&d&&l.uIk("aria-expanded",D.dropdown.isOpen())}}),p})(),I3=(()=>{class p extends e4{constructor(d,D){super(d,D)}}return p.\u0275fac=function(d){return new(d||p)(l.Y36((0,l.Gpc)(()=>Es)),l.Y36(l.SBq))},p.\u0275dir=l.lG2({type:p,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(d,D){1&d&&l.NdJ("click",function(){return D.dropdown.toggle()})("keydown.ArrowUp",function(q){return D.dropdown.onKeyDown(q)})("keydown.ArrowDown",function(q){return D.dropdown.onKeyDown(q)})("keydown.Home",function(q){return D.dropdown.onKeyDown(q)})("keydown.End",function(q){return D.dropdown.onKeyDown(q)})("keydown.Tab",function(q){return D.dropdown.onKeyDown(q)})("keydown.Shift.Tab",function(q){return D.dropdown.onKeyDown(q)}),2&d&&l.uIk("aria-expanded",D.dropdown.isOpen())},features:[l._Bn([{provide:e4,useExisting:(0,l.Gpc)(()=>p)}]),l.qOj]}),p})(),Es=(()=>{class p{constructor(d,D,O,q,ve,Oe,Le){this._changeDetector=d,this._document=O,this._ngZone=q,this._elementRef=ve,this._renderer=Oe,this._destroyCloseHandlers$=new Ee.x,this._bodyContainer=null,this._positioning=function j6(){let p=null;return{createPopper(C){if(!p){let D=(C.updatePopperOptions||Wa)(C4(C));p=cr(C.hostElement,C.targetElement,D)}},update(){p&&p.update()},setOptions(C){if(p){let D=(C.updatePopperOptions||Wa)(C4(C));p.setOptions(D)}},destroy(){p&&(p.destroy(),p=null)}}}(),this._open=!1,this.openChange=new l.vpe,this.placement=D.placement,this.container=D.container,this.autoClose=D.autoClose,this.display=Le?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,m1.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(d){if(d.container&&this._open&&this._applyContainer(this.container),d.placement&&!d.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),d.dropdownClass){const{currentValue:D,previousValue:O}=d.dropdownClass;this._applyCustomDropdownClass(D,O)}d.autoClose&&this._open&&(this.autoClose=d.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:q4([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),tn(this._ngZone,this._document,this.autoClose,d=>{this.close(),0===d&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(d){const D=d.which,O=this._getMenuElements();let q=-1,ve=null;const Oe=this._isEventFromToggle(d);if(!Oe&&O.length&&O.forEach((Le,ht)=>{Le.contains(d.target)&&(ve=Le),Le===this._document.activeElement&&(q=ht)}),D!==ge.Space&&D!==ge.Enter){if(D!==ge.Tab){if(Oe||ve){if(this.open(),O.length){switch(D){case ge.ArrowDown:q=Math.min(q+1,O.length-1);break;case ge.ArrowUp:if(this._isDropup()&&-1===q){q=O.length-1;break}q=Math.max(q-1,0);break;case ge.Home:q=0;break;case ge.End:q=O.length-1}O[q].focus()}d.preventDefault()}}else if(d.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===d.target)return void("body"!==this.container||d.shiftKey?d.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const Le=this._menu.nativeElement.querySelectorAll(I2);d.shiftKey&&d.target===Le[0]?(this._anchor.nativeElement.focus(),d.preventDefault()):!d.shiftKey&&d.target===Le[Le.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else $e(d.target,"focusout").pipe((0,m1.q)(1)).subscribe(({relatedTarget:Le})=>{this._elementRef.nativeElement.contains(Le)||this.close()})}}else ve&&(!0===this.autoClose||"inside"===this.autoClose)&&$e(ve,"click").pipe((0,m1.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(d){return this._anchor.nativeElement.contains(d.target)}_getMenuElements(){const d=this._menu;return null==d?[]:d.menuItems.filter(D=>!D.disabled).map(D=>D.elementRef.nativeElement)}_positionMenu(){const d=this._menu;this.isOpen()&&d&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(d){return Array.isArray(d)?d[0]:d.split(" ")[0]}_resetContainer(){const d=this._renderer;this._menu&&d.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(d.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(d=null){if(this._resetContainer(),"body"===d){const D=this._renderer,O=this._menu.nativeElement,q=this._bodyContainer=this._bodyContainer||D.createElement("div");D.setStyle(q,"position","absolute"),D.setStyle(O,"position","static"),D.setStyle(q,"z-index","1055"),D.appendChild(q,O),D.appendChild(this._document.body,q)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(d,D){const O="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;O&&(D&&this._renderer.removeClass(O,D),d&&this._renderer.addClass(O,d))}_applyPlacementClasses(d){const D=this._menu;if(D){d||(d=this._getFirstPlacement(this.placement));const O=this._renderer,q=this._elementRef.nativeElement;O.removeClass(q,"dropup"),O.removeClass(q,"dropdown");const{nativeElement:ve}=D;"static"===this.display?(D.placement=null,O.setAttribute(ve,"data-bs-popper","static")):(D.placement=d,O.removeAttribute(ve,"data-bs-popper"));const Oe=-1!==d.search("^top")?"dropup":"dropdown";O.addClass(q,Oe);const Le=this._bodyContainer;Le&&(O.removeClass(Le,"dropup"),O.removeClass(Le,"dropdown"),O.addClass(Le,Oe))}}}return p.\u0275fac=function(d){return new(d||p)(l.Y36(l.sBO),l.Y36(u6),l.Y36(M.K0),l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Xa,8))},p.\u0275dir=l.lG2({type:p,selectors:[["","ngbDropdown",""]],contentQueries:function(d,D,O){if(1&d&&(l.Suo(O,$n,5),l.Suo(O,e4,5)),2&d){let q;l.iGM(q=l.CRH())&&(D._menu=q.first),l.iGM(q=l.CRH())&&(D._anchor=q.first)}},hostVars:2,hostBindings:function(d,D){2&d&&l.ekj("show",D.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[l.TTD]}),p})(),Nr=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({}),p})();class _o{constructor(C,d,D){this.nodes=C,this.viewRef=d,this.componentRef=D}}let Ko=(()=>{class p{constructor(d,D){this._el=d,this._zone=D}ngOnInit(){this._zone.onStable.asObservable().pipe((0,m1.q)(1)).subscribe(()=>{A2(this._zone,this._el.nativeElement,(d,D)=>{D&&Hr(d),d.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return A2(this._zone,this._el.nativeElement,({classList:d})=>d.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return p.\u0275fac=function(d){return new(d||p)(l.Y36(l.SBq),l.Y36(l.R0b))},p.\u0275cmp=l.Xpm({type:p,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(d,D){2&d&&(l.Tol("modal-backdrop"+(D.backdropClass?" "+D.backdropClass:"")),l.ekj("show",!D.animation)("fade",D.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(d,D){},encapsulation:2}),p})();class Bs{close(C){}dismiss(C){}}class e3{constructor(C,d,D,O){this._windowCmptRef=C,this._contentRef=d,this._backdropCmptRef=D,this._beforeDismiss=O,this._closed=new Ee.x,this._dismissed=new Ee.x,this._hidden=new Ee.x,C.instance.dismissEvent.subscribe(q=>{this.dismiss(q)}),this.result=new Promise((q,ve)=>{this._resolve=q,this._reject=ve}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,b1.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,b1.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(C){this._windowCmptRef&&(this._closed.next(C),this._resolve(C),this._removeModalElements())}_dismiss(C){this._dismissed.next(C),this._reject(C),this._removeModalElements()}dismiss(C){if(this._windowCmptRef)if(this._beforeDismiss){const d=this._beforeDismiss();!function ha(p){return p&&p.then}(d)?!1!==d&&this._dismiss(C):d.then(D=>{!1!==D&&this._dismiss(C)},()=>{})}else this._dismiss(C)}_removeModalElements(){const C=this._windowCmptRef.instance.hide(),d=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Te.of)(void 0);C.subscribe(()=>{const{nativeElement:D}=this._windowCmptRef.location;D.parentNode.removeChild(D),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),d.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:D}=this._backdropCmptRef.location;D.parentNode.removeChild(D),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),j1(C,d).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Yo=(()=>{return(p=Yo||(Yo={}))[p.BACKDROP_CLICK=0]="BACKDROP_CLICK",p[p.ESC=1]="ESC",Yo;var p})();let to=(()=>{class p{constructor(d,D,O){this._document=d,this._elRef=D,this._zone=O,this._closed$=new Ee.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Ee.x,this.hidden=new Ee.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":T2(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(d){this.dismissEvent.emit(d)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,m1.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:d}=this._elRef,D={animation:this.animation,runningTransition:"stop"},ve=j1(A2(this._zone,d,()=>d.classList.remove("show"),D),A2(this._zone,this._dialogEl.nativeElement,()=>{},D));return ve.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ve}_show(){const d={animation:this.animation,runningTransition:"continue"};j1(A2(this._zone,this._elRef.nativeElement,(q,ve)=>{ve&&Hr(q),q.classList.add("show")},d),A2(this._zone,this._dialogEl.nativeElement,()=>{},d)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:d}=this._elRef;this._zone.runOutsideAngular(()=>{$e(d,"keydown").pipe((0,b1.R)(this._closed$),(0,p1.h)(O=>O.which===ge.Escape)).subscribe(O=>{this.keyboard?requestAnimationFrame(()=>{O.defaultPrevented||this._zone.run(()=>this.dismiss(Yo.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let D=!1;$e(this._dialogEl.nativeElement,"mousedown").pipe((0,b1.R)(this._closed$),(0,pn.b)(()=>D=!1),(0,en.w)(()=>$e(d,"mouseup").pipe((0,b1.R)(this._closed$),(0,m1.q)(1))),(0,p1.h)(({target:O})=>d===O)).subscribe(()=>{D=!0}),$e(d,"click").pipe((0,b1.R)(this._closed$)).subscribe(({target:O})=>{d===O&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!D&&this._zone.run(()=>this.dismiss(Yo.BACKDROP_CLICK))),D=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:d}=this._elRef;if(!d.contains(document.activeElement)){const D=d.querySelector("[ngbAutofocus]"),O=vo(d)[0];(D||O||d).focus()}}_restoreFocus(){const d=this._document.body,D=this._elWithFocus;let O;O=D&&D.focus&&d.contains(D)?D:d,this._zone.runOutsideAngular(()=>{setTimeout(()=>O.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&A2(this._zone,this._elRef.nativeElement,({classList:d})=>(d.add("modal-static"),()=>d.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return p.\u0275fac=function(d){return new(d||p)(l.Y36(M.K0),l.Y36(l.SBq),l.Y36(l.R0b))},p.\u0275cmp=l.Xpm({type:p,selectors:[["ngb-modal-window"]],viewQuery:function(d,D){if(1&d&&l.Gf(d1,7),2&d){let O;l.iGM(O=l.CRH())&&(D._dialogEl=O.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(d,D){2&d&&(l.uIk("aria-modal",!0)("aria-labelledby",D.ariaLabelledBy)("aria-describedby",D.ariaDescribedBy),l.Tol("modal d-block"+(D.windowClass?" "+D.windowClass:"")),l.ekj("fade",D.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lr,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(d,D){1&d&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&d&&l.Tol("modal-dialog"+(D.size?" modal-"+D.size:"")+(D.centered?" modal-dialog-centered":"")+D.fullscreenClass+(D.scrollable?" modal-dialog-scrollable":"")+(D.modalDialogClass?" "+D.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),p})(),Na=(()=>{class p{constructor(d){this._document=d}hide(){const d=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),D=this._document.body,O=D.style,{overflow:q,paddingRight:ve}=O;if(d>0){const Oe=parseFloat(window.getComputedStyle(D).paddingRight);O.paddingRight=`${Oe+d}px`}return O.overflow="hidden",()=>{d>0&&(O.paddingRight=ve),O.overflow=q}}}return p.\u0275fac=function(d){return new(d||p)(l.LFG(M.K0))},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Dn=(()=>{class p{constructor(d,D,O,q,ve,Oe){this._applicationRef=d,this._injector=D,this._document=O,this._scrollBar=q,this._rendererFactory=ve,this._ngZone=Oe,this._activeWindowCmptHasChanged=new Ee.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Le=this._windowCmpts[this._windowCmpts.length-1];((p,C,d,D=!1)=>{this._ngZone.runOutsideAngular(()=>{const O=$e(C,"focusin").pipe((0,b1.R)(d),(0,f1.U)(q=>q.target));$e(C,"keydown").pipe((0,b1.R)(d),(0,p1.h)(q=>q.which===ge.Tab),r2(O)).subscribe(([q,ve])=>{const[Oe,Le]=vo(C);(ve===Oe||ve===C)&&q.shiftKey&&(Le.focus(),q.preventDefault()),ve===Le&&!q.shiftKey&&(Oe.focus(),q.preventDefault())}),D&&$e(C,"click").pipe((0,b1.R)(d),r2(O),(0,f1.U)(q=>q[1])).subscribe(q=>q.focus())})})(0,Le.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Le.location.nativeElement)}})}_restoreScrollBar(){const d=this._scrollBarRestoreFn;d&&(this._scrollBarRestoreFn=null,d())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(d,D,O){const q=O.container instanceof HTMLElement?O.container:Cr(O.container)?this._document.querySelector(O.container):this._document.body,ve=this._rendererFactory.createRenderer(null,null);if(!q)throw new Error(`The specified modal container "${O.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Oe=new Bs,Le=this._getContentRef(O.injector||d,D,Oe,O);let ht=!1!==O.backdrop?this._attachBackdrop(q):void 0,yt=this._attachWindowComponent(q,Le.nodes),y1=new e3(yt,Le,ht,O.beforeDismiss);return this._registerModalRef(y1),this._registerWindowCmpt(yt),y1.hidden.pipe((0,m1.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ve.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Oe.close=l1=>{y1.close(l1)},Oe.dismiss=l1=>{y1.dismiss(l1)},this._applyWindowOptions(yt.instance,O),1===this._modalRefs.length&&ve.addClass(this._document.body,"modal-open"),ht&&ht.instance&&(this._applyBackdropOptions(ht.instance,O),ht.changeDetectorRef.detectChanges()),yt.changeDetectorRef.detectChanges(),y1}get activeInstances(){return this._activeInstances}dismissAll(d){this._modalRefs.forEach(D=>D.dismiss(d))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(d){let D=(0,l.LMc)(Ko,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(D.hostView),d.appendChild(D.location.nativeElement),D}_attachWindowComponent(d,D){let O=(0,l.LMc)(to,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:D});return this._applicationRef.attachView(O.hostView),d.appendChild(O.location.nativeElement),O}_applyWindowOptions(d,D){this._windowAttributes.forEach(O=>{Cr(D[O])&&(d[O]=D[O])})}_applyBackdropOptions(d,D){this._backdropAttributes.forEach(O=>{Cr(D[O])&&(d[O]=D[O])})}_getContentRef(d,D,O,q){return D?D instanceof l.Rgc?this._createFromTemplateRef(D,O):T2(D)?this._createFromString(D):this._createFromComponent(d,D,O,q):new _o([])}_createFromTemplateRef(d,D){const q=d.createEmbeddedView({$implicit:D,close(ve){D.close(ve)},dismiss(ve){D.dismiss(ve)}});return this._applicationRef.attachView(q),new _o([q.rootNodes],q)}_createFromString(d){const D=this._document.createTextNode(`${d}`);return new _o([[D]])}_createFromComponent(d,D,O,q){const ve=l.zs3.create({providers:[{provide:Bs,useValue:O}],parent:d}),Oe=(0,l.LMc)(D,{environmentInjector:this._applicationRef.injector,elementInjector:ve}),Le=Oe.location.nativeElement;return q.scrollable&&Le.classList.add("component-host-scrollable"),this._applicationRef.attachView(Oe.hostView),new _o([[Le]],Oe.hostView,Oe)}_setAriaHidden(d){const D=d.parentElement;D&&d!==this._document.body&&(Array.from(D.children).forEach(O=>{O!==d&&"SCRIPT"!==O.nodeName&&(this._ariaHiddenValues.set(O,O.getAttribute("aria-hidden")),O.setAttribute("aria-hidden","true"))}),this._setAriaHidden(D))}_revertAriaHidden(){this._ariaHiddenValues.forEach((d,D)=>{d?D.setAttribute("aria-hidden",d):D.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(d){const D=()=>{const O=this._modalRefs.indexOf(d);O>-1&&(this._modalRefs.splice(O,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(d),this._activeInstances.emit(this._modalRefs),d.result.then(D,D)}_registerWindowCmpt(d){this._windowCmpts.push(d),this._activeWindowCmptHasChanged.next(),d.onDestroy(()=>{const D=this._windowCmpts.indexOf(d);D>-1&&(this._windowCmpts.splice(D,1),this._activeWindowCmptHasChanged.next())})}}return p.\u0275fac=function(d){return new(d||p)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(M.K0),l.LFG(Na),l.LFG(l.FYo),l.LFG(l.R0b))},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),J6=(()=>{class p{constructor(d){this._ngbConfig=d,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(d){this._animation=d}}return p.\u0275fac=function(d){return new(d||p)(l.LFG(Bt))},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Ta=(()=>{class p{constructor(d,D,O){this._injector=d,this._modalStack=D,this._config=O}open(d,D={}){const O={...this._config,animation:this._config.animation,...D};return this._modalStack.open(this._injector,d,O)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(d){this._modalStack.dismissAll(d)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return p.\u0275fac=function(d){return new(d||p)(l.LFG(l.zs3),l.LFG(Dn),l.LFG(J6))},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Jo=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({providers:[Ta]}),p})(),r4=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),E=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),Hi=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),h6=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),z3=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),W0=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),r0=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),Fc=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({}),p})();new l.OlP("live announcer delay",{providedIn:"root",factory:function g6(){return 100}});let v6=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[M.ez]}),p})(),s3=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({}),p})();const O3=[ja,Cs,$i,N,Qa,Nr,Jo,r4,s3,E,Hi,h6,z3,W0,r0,Fc,v6];let l4=(()=>{class p{}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=l.oAB({type:p}),p.\u0275inj=l.cJS({imports:[O3,ja,Cs,$i,N,Qa,Nr,Jo,r4,s3,E,Hi,h6,z3,W0,r0,Fc,v6]}),p})()},259:($t,We,U)=>{U.d(We,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=U(9681);(0,l.registerVersion)("firebase","9.15.0","app")},9260:($t,We,U)=>{U.d(We,{Z:()=>l.Z});var l=U(3942);l.Z.registerVersion("firebase","9.15.0","app-compat")},9169:($t,We,U)=>{U.r(We);var l=U(5861),M=U(3942),X=U(2090),Ce=U(9681),Te=U(1877),Ee=U(655),Re=U(4859);const $e=function st(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Rt=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),He=new Te.Yd("@firebase/auth");function Wt(E,...m){He.logLevel<=Te.in.ERROR&&He.error(`Auth (${Ce.SDK_VERSION}): ${E}`,...m)}function tt(E,...m){throw bt(E,...m)}function at(E,...m){return bt(E,...m)}function Ke(E,m,_){const T=Object.assign(Object.assign({},Rt()),{[m]:_});return new X.LL("auth","Firebase",T).create(m,{appName:E.name})}function xt(E,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&tt(E,"argument-error"),Ke(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(E,...m){if("string"!=typeof E){const _=m[0],T=[...m.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(_,...T)}return ut.create(E,...m)}function le(E,m,..._){if(!E)throw bt(m,..._)}function ct(E){const m="INTERNAL ASSERTION FAILED: "+E;throw Wt(m),new Error(m)}function ye(E,m){E||ct(m)}const Ie=new Map;function Ye(E){ye(E instanceof Function,"Expected a class definition");let m=Ie.get(E);return m?(ye(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,Ie.set(E,m),m)}function wt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function a1(){return"http:"===j1()||"https:"===j1()}function j1(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class b1{constructor(m,_){this.shortDelay=m,this.longDelay=_,ye(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function N1(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(a1()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function p1(E,m){ye(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class m1{static initialize(m,_,T){this.fetchImpl=m,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const f1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},n2=new b1(3e4,6e4);function Pt(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function en(E,m,_,T){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(E,m,_,T,Y={}){return Pn(E,Y,(0,l.Z)(function*(){let se={},Be={};T&&("GET"===m?Be=T:se={body:JSON.stringify(T)});const vt=(0,X.xO)(Object.assign({key:E.config.apiKey},Be)).slice(1),Kt=yield E._getAdditionalHeaders();return Kt["Content-Type"]="application/json",E.languageCode&&(Kt["X-Firebase-Locale"]=E.languageCode),m1.fetch()(c2(E,E.config.apiHost,_,vt),Object.assign({method:m,headers:Kt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Pn(E,m,_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(E,m,_){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},f1),m);try{const Y=new R1(E),se=yield Promise.race([_(),Y.promise]);Y.clearNetworkTimeout();const Be=yield se.json();if("needConfirmation"in Be)throw On(E,"account-exists-with-different-credential",Be);if(se.ok&&!("errorMessage"in Be))return Be;{const vt=se.ok?Be.errorMessage:Be.error.message,[Kt,v1]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw On(E,"credential-already-in-use",Be);if("EMAIL_EXISTS"===Kt)throw On(E,"email-already-in-use",Be);if("USER_DISABLED"===Kt)throw On(E,"user-disabled",Be);const Y1=T[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(v1)throw Ke(E,Y1,v1);tt(E,Y1)}}catch(Y){if(Y instanceof X.ZR)throw Y;tt(E,"network-request-failed")}})).apply(this,arguments)}function r2(E,m,_,T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(E,m,_,T,Y={}){const se=yield en(E,m,_,T,Y);return"mfaPendingCredential"in se&&tt(E,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function c2(E,m,_,T){const Y=`${m}${_}?${T}`;return E.config.emulator?p1(E.config,Y):`${E.config.apiScheme}://${Y}`}class R1{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(at(this.auth,"network-request-failed")),n2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(E,m,_){const T={appName:E.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const Y=at(E,m,T);return Y.customData._tokenResponse=_,Y}function Vt(){return(Vt=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function mn(E,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function rn(E,m){return U2.apply(this,arguments)}function U2(){return(U2=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ci(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function W1(){return(W1=(0,l.Z)(function*(E,m=!1){const _=(0,X.m9)(E),T=yield _.getIdToken(m),Y=t1(T);le(Y&&Y.exp&&Y.auth_time&&Y.iat,_.auth,"internal-error");const se="object"==typeof Y.firebase?Y.firebase:void 0,Be=se?.sign_in_provider;return{claims:Y,token:T,authTime:Ci(Jt(Y.auth_time)),issuedAtTime:Ci(Jt(Y.iat)),expirationTime:Ci(Jt(Y.exp)),signInProvider:Be||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Jt(E){return 1e3*Number(E)}function t1(E){const[m,_,T]=E.split(".");if(void 0===m||void 0===_||void 0===T)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,X.tV)(_);return Y?JSON.parse(Y):(Wt("Failed to decode base64 JWT payload"),null)}catch(Y){return Wt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function bn(E,m){return J1.apply(this,arguments)}function J1(){return(J1=(0,l.Z)(function*(E,m,_=!1){if(_)return m;try{return yield m}catch(T){throw T instanceof X.ZR&&S1(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}function S1({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class T1{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Y=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),T)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class C2{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ci(this.lastLoginAt),this.creationTime=Ci(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Q1(E){return j2.apply(this,arguments)}function j2(){return(j2=(0,l.Z)(function*(E){var m;const _=E.auth,T=yield E.getIdToken(),Y=yield bn(E,rn(_,{idToken:T}));le(Y?.users.length,_,"internal-error");const se=Y.users[0];E._notifyReloadListener(se);const Be=null!==(m=se.providerUserInfo)&&void 0!==m&&m.length?Qt(se.providerUserInfo):[],vt=M2(E.providerData,Be),Y1=!!E.isAnonymous&&!(E.email&&se.passwordHash||vt?.length),$1={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:vt,metadata:new C2(se.createdAt,se.lastLoginAt),isAnonymous:Y1};Object.assign(E,$1)})).apply(this,arguments)}function l2(){return(l2=(0,l.Z)(function*(E){const m=(0,X.m9)(E);yield Q1(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function M2(E,m){return[...E.filter(T=>!m.some(Y=>Y.providerId===T.providerId)),...m]}function Qt(E){return E.map(m=>{var{providerId:_}=m,T=(0,Ee._T)(m,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Xt(){return(Xt=(0,l.Z)(function*(E,m){const _=yield Pn(E,{},(0,l.Z)(function*(){const T=(0,X.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Y,apiKey:se}=E.config,Be=c2(E,Y,"/v1/token",`key=${se}`),vt=yield E._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",m1.fetch()(Be,{method:"POST",headers:vt,body:T})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class A1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){le(m.idToken,"internal-error"),le(typeof m.idToken<"u","internal-error"),le(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function an(E){const m=t1(E);return le(m,"internal-error"),le(typeof m.exp<"u","internal-error"),le(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var T=this;return(0,l.Z)(function*(){return le(!T.accessToken||T.refreshToken,m,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(m,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var T=this;return(0,l.Z)(function*(){const{accessToken:Y,refreshToken:se,expiresIn:Be}=yield function _t(E,m){return Xt.apply(this,arguments)}(m,_);T.updateTokensAndExpiration(Y,se,Number(Be))})()}updateTokensAndExpiration(m,_,T){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(m,_){const{refreshToken:T,accessToken:Y,expirationTime:se}=_,Be=new A1;return T&&(le("string"==typeof T,"internal-error",{appName:m}),Be.refreshToken=T),Y&&(le("string"==typeof Y,"internal-error",{appName:m}),Be.accessToken=Y),se&&(le("number"==typeof se,"internal-error",{appName:m}),Be.expirationTime=se),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new A1,this.toJSON())}_performRefresh(){return ct("not implemented")}}function I1(E,m){le("string"==typeof E||typeof E>"u","internal-error",{appName:m})}class z1{constructor(m){var{uid:_,auth:T,stsTokenManager:Y}=m,se=(0,Ee._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new C2(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const T=yield bn(_,_.stsTokenManager.getToken(_.auth,m));return le(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(m){return function sn(E){return W1.apply(this,arguments)}(this,m)}reload(){return function Cn(E){return l2.apply(this,arguments)}(this)}_assign(m){this!==m&&(le(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new z1(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var T=this;return(0,l.Z)(function*(){let Y=!1;m.idToken&&m.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(m),Y=!0),_&&(yield Q1(T)),yield T.auth._persistUserIfCurrent(T),Y&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield bn(m,function m2(E,m){return Vt.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var T,Y,se,Be,vt,Kt,v1,Y1;const $1=null!==(T=_.displayName)&&void 0!==T?T:void 0,Hi=null!==(Y=_.email)&&void 0!==Y?Y:void 0,hr=null!==(se=_.phoneNumber)&&void 0!==se?se:void 0,xa=null!==(Be=_.photoURL)&&void 0!==Be?Be:void 0,h6=null!==(vt=_.tenantId)&&void 0!==vt?vt:void 0,o4=null!==(Kt=_._redirectEventId)&&void 0!==Kt?Kt:void 0,T4=null!==(v1=_.createdAt)&&void 0!==v1?v1:void 0,z3=null!==(Y1=_.lastLoginAt)&&void 0!==Y1?Y1:void 0,{uid:X6,emailVerified:e0,isAnonymous:$r,providerData:t0,stsTokenManager:p6}=_;le(X6&&p6,m,"internal-error");const Xo=A1.fromJSON(this.name,p6);le("string"==typeof X6,m,"internal-error"),I1($1,m.name),I1(Hi,m.name),le("boolean"==typeof e0,m,"internal-error"),le("boolean"==typeof $r,m,"internal-error"),I1(hr,m.name),I1(xa,m.name),I1(h6,m.name),I1(o4,m.name),I1(T4,m.name),I1(z3,m.name);const m6=new z1({uid:X6,auth:m,email:Hi,emailVerified:e0,displayName:$1,isAnonymous:$r,photoURL:xa,phoneNumber:hr,tenantId:h6,stsTokenManager:Xo,createdAt:T4,lastLoginAt:z3});return t0&&Array.isArray(t0)&&(m6.providerData=t0.map(a4=>Object.assign({},a4))),o4&&(m6._redirectEventId=o4),m6}static _fromIdTokenResponse(m,_,T=!1){return(0,l.Z)(function*(){const Y=new A1;Y.updateFromServerResponse(_);const se=new z1({uid:_.localId,auth:m,stsTokenManager:Y,isAnonymous:T});return yield Q1(se),se})()}}const _e=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,T){var Y=this;return(0,l.Z)(function*(){Y.storage[_]=T})()}_get(_){var T=this;return(0,l.Z)(function*(){const Y=T.storage[_];return void 0===Y?null:Y})()}_remove(_){var T=this;return(0,l.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return E.type="NONE",E})();function xe(E,m,_){return`firebase:${E}:${m}:${_}`}class pt{constructor(m,_,T){this.persistence=m,this.auth=_,this.userKey=T;const{config:Y,name:se}=this.auth;this.fullUserKey=xe(this.userKey,Y.apiKey,se),this.fullPersistenceKey=xe("persistence",Y.apiKey,se),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?z1._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,T="authUser"){return(0,l.Z)(function*(){if(!_.length)return new pt(Ye(_e),m,T);const Y=(yield Promise.all(_.map(function(){var v1=(0,l.Z)(function*(Y1){if(yield Y1._isAvailable())return Y1});return function(Y1){return v1.apply(this,arguments)}}()))).filter(v1=>v1);let se=Y[0]||Ye(_e);const Be=xe(T,m.config.apiKey,m.name);let vt=null;for(const v1 of _)try{const Y1=yield v1._get(Be);if(Y1){const $1=z1._fromJSON(m,Y1);v1!==se&&(vt=$1),se=v1;break}}catch{}const Kt=Y.filter(v1=>v1._shouldAllowMigration);return se._shouldAllowMigration&&Kt.length?(se=Kt[0],vt&&(yield se._set(Be,vt.toJSON())),yield Promise.all(_.map(function(){var v1=(0,l.Z)(function*(Y1){if(Y1!==se)try{yield Y1._remove(Be)}catch{}});return function(Y1){return v1.apply(this,arguments)}}())),new pt(se,m,T)):new pt(se,m,T)})()}}function Ue(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(un(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(jt(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(be(m))return"Blackberry";if(fe(m))return"Webos";if(e1(m))return"Safari";if((m.includes("chrome/")||G1(m))&&!m.includes("edge/"))return"Chrome";if(K1(m))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function jt(E=(0,X.z$)()){return/firefox\//i.test(E)}function e1(E=(0,X.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function G1(E=(0,X.z$)()){return/crios\//i.test(E)}function un(E=(0,X.z$)()){return/iemobile/i.test(E)}function K1(E=(0,X.z$)()){return/android/i.test(E)}function be(E=(0,X.z$)()){return/blackberry/i.test(E)}function fe(E=(0,X.z$)()){return/webos/i.test(E)}function ue(E=(0,X.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function g1(E=(0,X.z$)()){return ue(E)||K1(E)||fe(E)||be(E)||/windows phone/i.test(E)||un(E)}function Mn(E,m=[]){let _;switch(E){case"Browser":_=Ue((0,X.z$)());break;case"Worker":_=`${Ue((0,X.z$)())}-${E}`;break;default:_=E}const T=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${Ce.SDK_VERSION}/${T}`}class Y2{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const T=se=>new Promise((Be,vt)=>{try{Be(m(se))}catch(Kt){vt(Kt)}});T.onAbort=_,this.queue.push(T);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===m)return;const T=[];try{for(const Y of _.queue)yield Y(m),Y.onAbort&&T.push(Y.onAbort)}catch(Y){T.reverse();for(const se of T)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}class P1{constructor(m,_,T){this.app=m,this.heartbeatServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w2(this),this.idTokenSubscription=new w2(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(m,_){var T=this;return _&&(this._popupRedirectResolver=Ye(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var Y,se;if(!T._deleted&&(T.persistenceManager=yield pt.create(T,m),!T._deleted)){if(null!==(Y=T._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(se=T.currentUser)||void 0===se?void 0:se.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var T;const Y=yield _.assertedPersistence.getCurrentUser();let se=Y,Be=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const vt=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,Kt=se?._redirectEventId,v1=yield _.tryRedirectSignIn(m);(!vt||vt===Kt)&&v1?.user&&(se=v1.user,Be=!0)}if(!se)return _.directlySetCurrentUser(null);if(!se._redirectEventId){if(Be)try{yield _.beforeStateQueue.runMiddleware(se)}catch(vt){se=Y,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(vt))}return se?_.reloadAndSetCurrentUserOrClear(se):_.directlySetCurrentUser(null)}return le(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===se._redirectEventId?_.directlySetCurrentUser(se):_.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){try{yield Q1(m)}catch(T){if("auth/network-request-failed"!==T?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Nt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const T=m?(0,X.m9)(m):null;return T&&le(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(m,_=!1){var T=this;return(0,l.Z)(function*(){if(!T._deleted)return m&&le(T.tenantId===m.tenantId,T,"tenant-id-mismatch"),_||(yield T.beforeStateQueue.runMiddleware(m)),T.queue((0,l.Z)(function*(){yield T.directlySetCurrentUser(m),T.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Ye(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new X.LL("auth","Firebase",m())}onAuthStateChanged(m,_,T){return this.registerStateListener(this.authStateSubscription,m,_,T)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,T){return this.registerStateListener(this.idTokenSubscription,m,_,T)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var T=this;return(0,l.Z)(function*(){const Y=yield T.getOrInitRedirectPersistenceManager(_);return null===m?Y.removeCurrentUser():Y.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const T=m&&Ye(m)||_._popupRedirectResolver;le(T,_,"argument-error"),_.redirectPersistenceManager=yield pt.create(_,[Ye(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var T,Y;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===m?_._currentUser:(null===(Y=_.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,T,Y){if(this._deleted)return()=>{};const se="function"==typeof _?_:_.next.bind(_),Be=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Be,this,"internal-error"),Be.then(()=>se(this.currentUser)),"function"==typeof _?m.addObserver(_,T,Y):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const T={"X-Client-Version":m.clientVersion};m.app.options.appId&&(T["X-Firebase-gmpid"]=m.app.options.appId);const Y=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return Y&&(T["X-Firebase-Client"]=Y),T})()}}function An(E){return(0,X.m9)(E)}class w2{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,X.ne)(_=>this.observer=_)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function J2(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function ii(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class O2{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ct("not implemented")}_getIdTokenResponse(m){return ct("not implemented")}_linkToIdToken(m,_){return ct("not implemented")}_getReauthenticationResolver(m){return ct("not implemented")}}function g2(E,m){return ji.apply(this,arguments)}function ji(){return(ji=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:resetPassword",Pt(E,m))})).apply(this,arguments)}function kn(E,m){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Q2(E,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:update",Pt(E,m))})).apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signInWithPassword",Pt(E,m))})).apply(this,arguments)}function Mi(E,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:sendOobCode",Pt(E,m))})).apply(this,arguments)}function Vn(E,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(E,m){return Mi(E,m)})).apply(this,arguments)}function In(E,m){return k2.apply(this,arguments)}function k2(){return(k2=(0,l.Z)(function*(E,m){return Mi(E,m)})).apply(this,arguments)}function Ir(E,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(E,m){return Mi(E,m)})).apply(this,arguments)}function xr(E,m){return R2.apply(this,arguments)}function R2(){return(R2=(0,l.Z)(function*(E,m){return Mi(E,m)})).apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signInWithEmailLink",Pt(E,m))})).apply(this,arguments)}function $2(){return($2=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signInWithEmailLink",Pt(E,m))})).apply(this,arguments)}class Gs extends O2{constructor(m,_,T,Y=null){super("password",T),this._email=m,this._password=_,this._tenantId=Y}static _fromEmailAndPassword(m,_){return new Gs(m,_,"password")}static _fromEmailAndCode(m,_,T=null){return new Gs(m,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function zi(E,m){return di.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function qr(E,m){return fs.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:tt(m,"internal-error")}})()}_linkToIdToken(m,_){var T=this;return(0,l.Z)(function*(){switch(T.signInMethod){case"password":return kn(m,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function so(E,m){return $2.apply(this,arguments)}(m,{idToken:_,email:T._email,oobCode:T._password});default:tt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function d2(E,m){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signInWithIdp",Pt(E,m))})).apply(this,arguments)}class qe extends O2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new qe(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):tt("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:Y}=_,se=(0,Ee._T)(_,["providerId","signInMethod"]);if(!T||!Y)return null;const Be=new qe(T,Y);return Be.idToken=se.idToken||void 0,Be.accessToken=se.accessToken||void 0,Be.secret=se.secret,Be.nonce=se.nonce,Be.pendingToken=se.pendingToken||null,Be}_getIdTokenResponse(m){return d2(m,this.buildRequest())}_linkToIdToken(m,_){const T=this.buildRequest();return T.idToken=_,d2(m,T)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,d2(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,X.xO)(_)}return m}}function Ct(E,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:sendVerificationCode",Pt(E,m))})).apply(this,arguments)}function V1(){return(V1=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signInWithPhoneNumber",Pt(E,m))})).apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(E,m){const _=yield r2(E,"POST","/v1/accounts:signInWithPhoneNumber",Pt(E,m));if(_.temporaryProof)throw On(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const sr={USER_NOT_FOUND:"user-not-found"};function si(){return(si=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signInWithPhoneNumber",Pt(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),sr)})).apply(this,arguments)}class fi extends O2{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new fi({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new fi({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function C1(E,m){return V1.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Bn(E,m){return gn.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function zr(E,m){return si.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:T,verificationCode:Y}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:T,code:Y}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:T,phoneNumber:Y,temporaryProof:se}=m;return T||_||Y||se?new fi({verificationId:_,verificationCode:T,phoneNumber:Y,temporaryProof:se}):null}}class Gi{constructor(m){var _,T,Y,se,Be,vt;const Kt=(0,X.zd)((0,X.pd)(m)),v1=null!==(_=Kt.apiKey)&&void 0!==_?_:null,Y1=null!==(T=Kt.oobCode)&&void 0!==T?T:null,$1=function hs(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Kt.mode)&&void 0!==Y?Y:null);le(v1&&Y1&&$1,"argument-error"),this.apiKey=v1,this.operation=$1,this.code=Y1,this.continueUrl=null!==(se=Kt.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Be=Kt.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(vt=Kt.tenantId)&&void 0!==vt?vt:null}static parseLink(m){const _=function As(E){const m=(0,X.zd)((0,X.pd)(E)).link,_=m?(0,X.zd)((0,X.pd)(m)).deep_link_id:null,T=(0,X.zd)((0,X.pd)(E)).deep_link_id;return(T?(0,X.zd)((0,X.pd)(T)).link:null)||T||_||m||E}(m);try{return new Gi(_)}catch{return null}}}let Li=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(_,T){return Gs._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const Y=Gi.parseLink(T);return le(Y,"argument-error"),Gs._fromEmailAndCode(_,Y.code,Y.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Oi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Yi extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class hi extends Yi{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return le("providerId"in _&&"signInMethod"in _,"argument-error"),qe._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return le(m.idToken||m.accessToken,"argument-error"),qe._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return hi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return hi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:Y,pendingToken:se,nonce:Be,providerId:vt}=m;if(!T&&!Y&&!_&&!se||!vt)return null;try{return new hi(vt)._credential({idToken:_,accessToken:T,nonce:Be,pendingToken:se})}catch{return null}}}let ps=(()=>{class E extends Yi{constructor(){super("facebook.com")}static credential(_){return qe._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Di=(()=>{class E extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return qe._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:Y}=_;if(!T&&!Y)return null;try{return E.credential(T,Y)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Lr=(()=>{class E extends Yi{constructor(){super("github.com")}static credential(_){return qe._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class or extends O2{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return d2(m,this.buildRequest())}_linkToIdToken(m,_){const T=this.buildRequest();return T.idToken=_,d2(m,T)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,d2(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:Y,pendingToken:se}=_;return T&&Y&&se&&T===Y?new or(T,se):null}static _create(m,_){return new or(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends Oi{constructor(m){le(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ki.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ki.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=or.fromJSON(m);return le(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:T}=m;if(!_||!T)return null;try{return or._create(T,_)}catch{return null}}}let pi=(()=>{class E extends Yi{constructor(){super("twitter.com")}static credential(_,T){return qe._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:Y}=_;if(!T||!Y)return null;try{return E.credential(T,Y)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function cr(E,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signUp",Pt(E,m))})).apply(this,arguments)}class o2{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,T,Y=!1){return(0,l.Z)(function*(){const se=yield z1._fromIdTokenResponse(m,T,Y),Be=Ri(T);return new o2({user:se,providerId:Be,_tokenResponse:T,operationType:_})})()}static _forOperation(m,_,T){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(T,!0);const Y=Ri(T);return new o2({user:m,providerId:Y,_tokenResponse:T,operationType:_})})()}}function Ri(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function f2(){return(f2=(0,l.Z)(function*(E){var m;const _=An(E);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new o2({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield cr(_,{returnSecureToken:!0}),Y=yield o2._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Yr extends X.ZR{constructor(m,_,T,Y){var se;super(_.code,_.message),this.operationType=T,this.user=Y,Object.setPrototypeOf(this,Yr.prototype),this.customData={appName:m.name,tenantId:null!==(se=m.tenantId)&&void 0!==se?se:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(m,_,T,Y){return new Yr(m,_,T,Y)}}function s2(E,m,_,T){return("reauthenticate"===m?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Yr._fromErrorAndOperation(E,se,m,T):se})}function X2(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function Pi(){return(Pi=(0,l.Z)(function*(E,m){const _=(0,X.m9)(E);yield wn(!0,_,m);const{providerUserInfo:T}=yield mn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),Y=X2(T||[]);return _.providerData=_.providerData.filter(se=>Y.has(se.providerId)),Y.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Zs(E,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(E,m,_=!1){const T=yield bn(E,m._linkToIdToken(E.auth,yield E.getIdToken()),_);return o2._forOperation(E,"link",T)})).apply(this,arguments)}function wn(E,m,_){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(E,m,_){yield Q1(m);const Y=!1===E?"provider-already-linked":"no-such-provider";le(X2(m.providerData).has(_)===E,m.auth,Y)})).apply(this,arguments)}function Jr(E,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(E,m,_=!1){const{auth:T}=E,Y="reauthenticate";try{const se=yield bn(E,s2(T,Y,m,E),_);le(se.idToken,T,"internal-error");const Be=t1(se.idToken);le(Be,T,"internal-error");const{sub:vt}=Be;return le(E.uid===vt,T,"user-mismatch"),o2._forOperation(E,Y,se)}catch(se){throw"auth/user-not-found"===se?.code&&tt(T,"user-mismatch"),se}})).apply(this,arguments)}function N2(E,m){return v2.apply(this,arguments)}function v2(){return(v2=(0,l.Z)(function*(E,m,_=!1){const T="signIn",Y=yield s2(E,T,m),se=yield o2._fromIdTokenResponse(E,T,Y);return _||(yield E._updateCurrentUser(se.user)),se})).apply(this,arguments)}function h2(E,m){return L1.apply(this,arguments)}function L1(){return(L1=(0,l.Z)(function*(E,m){return N2(An(E),m)})).apply(this,arguments)}function qs(E,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(E,m){const _=(0,X.m9)(E);return yield wn(!1,_,m.providerId),Zs(_,m)})).apply(this,arguments)}function xs(E,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(E,m){return Jr((0,X.m9)(E),m)})).apply(this,arguments)}function Ks(E,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(E,m){return r2(E,"POST","/v1/accounts:signInWithCustomToken",Pt(E,m))})).apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(E,m){const _=An(E),T=yield Ks(_,{token:m,returnSecureToken:!0}),Y=yield o2._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Dt{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?dn._fromServerResponse(m,_):tt(m,"internal-error")}}class dn extends Dt{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new dn(_)}}function vr(E,m,_){var T;le((null===(T=_.url)||void 0===T?void 0:T.length)>0,E,"invalid-continue-uri"),le(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(le(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(le(_.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function y2(){return(y2=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E),Y={requestType:"PASSWORD_RESET",email:m};_&&vr(T,Y,_),yield In(T,Y)})).apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(E,m,_){yield g2((0,X.m9)(E),{oobCode:m,newPassword:_})})).apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(E,m){yield Q2((0,X.m9)(E),{oobCode:m})})).apply(this,arguments)}function Pr(E,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(E,m){const _=(0,X.m9)(E),T=yield g2(_,{oobCode:m}),Y=T.requestType;switch(le(Y,_,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(T.mfaInfo,_,"internal-error");default:le(T.email,_,"internal-error")}let se=null;return T.mfaInfo&&(se=Dt._fromServerResponse(An(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:se},operation:Y}})).apply(this,arguments)}function W(){return(W=(0,l.Z)(function*(E,m){const{data:_}=yield Pr((0,X.m9)(E),m);return _.email})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(E,m,_){const T=An(E),Y=yield cr(T,{returnSecureToken:!0,email:m,password:_}),se=yield o2._fromIdTokenResponse(T,"signIn",Y);return yield T._updateCurrentUser(se.user),se})).apply(this,arguments)}function d1(){return(d1=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E),Y={requestType:"EMAIL_SIGNIN",email:m};le(_.handleCodeInApp,T,"argument-error"),_&&vr(T,Y,_),yield Ir(T,Y)})).apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E),Y=Li.credentialWithLink(m,_||wt());return le(Y._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),h2(T,Y)})).apply(this,arguments)}function gs(E,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:createAuthUri",Pt(E,m))})).apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(E,m){const T={identifier:m,continueUri:a1()?wt():"http://localhost"},{signinMethods:Y}=yield gs((0,X.m9)(E),T);return Y||[]})).apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(E,m){const _=(0,X.m9)(E),Y={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&vr(_.auth,Y,m);const{email:se}=yield Vn(_.auth,Y);se!==E.email&&(yield E.reload())})).apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};_&&vr(T.auth,se,_);const{email:Be}=yield xr(T.auth,se);Be!==E.email&&(yield E.reload())})).apply(this,arguments)}function is(E,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,l.Z)(function*(E,m){return en(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(E,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const T=(0,X.m9)(E),se={idToken:yield T.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},Be=yield bn(T,is(T.auth,se));T.displayName=Be.displayName||null,T.photoURL=Be.photoUrl||null;const vt=T.providerData.find(({providerId:Kt})=>"password"===Kt);vt&&(vt.displayName=T.displayName,vt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Be)})).apply(this,arguments)}function F(E,m,_){return ne.apply(this,arguments)}function ne(){return(ne=(0,l.Z)(function*(E,m,_){const{auth:T}=E,se={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(se.email=m),_&&(se.password=_);const Be=yield bn(E,kn(T,se));yield E._updateTokensIfNecessary(Be,!0)})).apply(this,arguments)}class Xe{constructor(m,_,T={}){this.isNewUser=m,this.providerId=_,this.profile=T}}class mt extends Xe{constructor(m,_,T,Y){super(m,_,T),this.username=Y}}class r1 extends Xe{constructor(m,_){super(m,"facebook.com",_)}}class xn extends mt{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class jn extends Xe{constructor(m,_){super(m,"google.com",_)}}class Gn extends mt{constructor(m,_,T){super(m,"twitter.com",_,T)}}function vn(E){const{user:m,_tokenResponse:_}=E;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function De(E){var m,_;if(!E)return null;const{providerId:T}=E,Y=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},se=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!T&&E?.idToken){const Be=null===(_=null===(m=t1(E.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(Be)return new Xe(se,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!T)return null;switch(T){case"facebook.com":return new r1(se,Y);case"github.com":return new xn(se,Y);case"google.com":return new jn(se,Y);case"twitter.com":return new Gn(se,Y,E.screenName||null);case"custom":case"anonymous":return new Xe(se,null);default:return new Xe(se,T,Y)}}(_)}class ys{constructor(m,_,T){this.type=m,this.credential=_,this.auth=T}static _fromIdtoken(m,_){return new ys("enroll",m,_)}static _fromMfaPendingCredential(m){return new ys("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,T;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ys._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(T=m.multiFactorSession)&&void 0!==T&&T.idToken)return ys._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ao{constructor(m,_,T){this.session=m,this.hints=_,this.signInResolver=T}static _fromError(m,_){const T=An(m),Y=_.customData._serverResponse,se=(Y.mfaInfo||[]).map(vt=>Dt._fromServerResponse(T,vt));le(Y.mfaPendingCredential,T,"internal-error");const Be=ys._fromMfaPendingCredential(Y.mfaPendingCredential);return new Ao(Be,se,function(){var vt=(0,l.Z)(function*(Kt){const v1=yield Kt._process(T,Be);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Y1=Object.assign(Object.assign({},Y),{idToken:v1.idToken,refreshToken:v1.refreshToken});switch(_.operationType){case"signIn":const $1=yield o2._fromIdTokenResponse(T,_.operationType,Y1);return yield T._updateCurrentUser($1.user),$1;case"reauthenticate":return le(_.user,T,"internal-error"),o2._forOperation(_.user,_.operationType,Y1);default:tt(T,"internal-error")}});return function(Kt){return vt.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function ua(E,m){return en(E,"POST","/v2/accounts/mfaEnrollment:start",Pt(E,m))}class y4{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>Dt._fromServerResponse(m.auth,T)))})}static _fromUser(m){return new y4(m)}getSession(){var m=this;return(0,l.Z)(function*(){return ys._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var T=this;return(0,l.Z)(function*(){const Y=m,se=yield T.getSession(),Be=yield bn(T.user,Y._process(T.user.auth,se,_));return yield T.user._updateTokensIfNecessary(Be),T.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){const T="string"==typeof m?m:m.uid,Y=yield _.user.getIdToken(),se=yield bn(_.user,function Ha(E,m){return en(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(E,m))}(_.user.auth,{idToken:Y,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Be})=>Be!==T),yield _.user._updateTokensIfNecessary(se);try{yield _.user.reload()}catch(Be){if("auth/user-token-expired"!==Be?.code)throw Be}})()}}const da=new WeakMap,uo="__sak";class Fo{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,"1"),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vr=(()=>{class E extends Fo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fa(){const E=(0,X.z$)();return e1(E)||ue(E)}()&&function B1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=g1(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const Y=this.storage.getItem(T),se=this.localCache[T];Y!==se&&_(T,se,Y)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys((vt,Kt,v1)=>{this.notifyListeners(vt,v1)});const Y=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(Y);if(_.newValue!==vt)null!==_.newValue?this.storage.setItem(Y,_.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===_.newValue&&!T)return}const se=()=>{const vt=this.storage.getItem(Y);!T&&this.localCache[Y]===vt||this.notifyListeners(Y,vt)},Be=this.storage.getItem(Y);!function Ut(){return(0,X.w1)()&&10===document.documentMode}()||Be===_.newValue||_.newValue===_.oldValue?se():setTimeout(se,10)}notifyListeners(_,T){this.localCache[_]=T;const Y=this.listeners[_];if(Y)for(const se of Array.from(Y))se(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var Y=()=>super._set,se=this;return(0,l.Z)(function*(){yield Y().call(se,_,T),se.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,Y=this;return(0,l.Z)(function*(){const se=yield T().call(Y,_);return Y.localCache[_]=JSON.stringify(se),se})()}_remove(_){var T=()=>super._remove,Y=this;return(0,l.Z)(function*(){yield T().call(Y,_),delete Y.localCache[_]})()}}return E.type="LOCAL",E})(),_s=(()=>{class E extends Fo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return E.type="SESSION",E})();let ai=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(se=>se.isListeningto(_));if(T)return T;const Y=new E(_);return this.receivers.push(Y),Y}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,l.Z)(function*(){const Y=_,{eventId:se,eventType:Be,data:vt}=Y.data,Kt=T.handlersMap[Be];if(!Kt?.size)return;Y.ports[0].postMessage({status:"ack",eventId:se,eventType:Be});const v1=Array.from(Kt).map(function(){var $1=(0,l.Z)(function*(Hi){return Hi(Y.origin,vt)});return function(Hi){return $1.apply(this,arguments)}}()),Y1=yield function Ot(E){return Promise.all(E.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return m.apply(this,arguments)}}()))}(v1);Y.ports[0].postMessage({status:"done",eventId:se,eventType:Be,response:Y1})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function ss(E="",m=10){let _="";for(let T=0;T<m;T++)_+=Math.floor(10*Math.random());return E+_}class Bo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,T=50){var Y=this;return(0,l.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Be,vt;return new Promise((Kt,v1)=>{const Y1=ss("",20);se.port1.start();const $1=setTimeout(()=>{v1(new Error("unsupported_event"))},T);vt={messageChannel:se,onMessage(Hi){const hr=Hi;if(hr.data.eventId===Y1)switch(hr.data.status){case"ack":clearTimeout($1),Be=setTimeout(()=>{v1(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Kt(hr.data.response);break;default:clearTimeout($1),clearTimeout(Be),v1(new Error("invalid_response"))}}},Y.handlers.add(vt),se.port1.addEventListener("message",vt.onMessage),Y.target.postMessage({eventType:m,eventId:Y1,data:_},[se.port2])}).finally(()=>{vt&&Y.removeMessageHandler(vt)})})()}}function Zt(){return window}function fa(){return typeof Zt().WorkerGlobalScope<"u"&&"function"==typeof Zt().importScripts}function dt(){return(dt=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gi="firebaseLocalStorageDb",Cr="firebaseLocalStorage",ha="fbase_key";class fo{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function pa(E,m){return E.transaction([Cr],m?"readwrite":"readonly").objectStore(Cr)}function V2(){const E=indexedDB.open(gi,1);return new Promise((m,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(Cr,{keyPath:ha})}catch(Y){_(Y)}}),E.addEventListener("success",(0,l.Z)(function*(){const T=E.result;T.objectStoreNames.contains(Cr)?m(T):(T.close(),yield function ma(){const E=indexedDB.deleteDatabase(gi);return new fo(E).toPromise()}(),m(yield V2()))}))})}function Hr(E,m,_){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(E,m,_){const T=pa(E,!0).put({[ha]:m,value:_});return new fo(T).toPromise()})).apply(this,arguments)}function H1(){return(H1=(0,l.Z)(function*(E,m){const _=pa(E,!1).get(m),T=yield new fo(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Qi(E,m){const _=pa(E,!0).delete(m);return new fo(_).toPromise()}const A2=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield V2()),_.db})()}_withRetries(_){var T=this;return(0,l.Z)(function*(){let Y=0;for(;;)try{const se=yield T._openDb();return yield _(se)}catch(se){if(Y++>3)throw se;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return fa()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=ai._getInstance(function T2(){return fa()?self:null}()),_.receiver._subscribe("keyChanged",function(){var T=(0,l.Z)(function*(Y,se){return{keyProcessed:(yield _._poll()).includes(se.key)}});return function(Y,se){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,l.Z)(function*(Y,se){return["keyChanged"]});return function(Y,se){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var T,Y;if(_.activeServiceWorker=yield function Gt(){return dt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Bo(_.activeServiceWorker);const se=yield _.sender._send("ping",{},800);!se||(null===(T=se[0])||void 0===T?void 0:T.fulfilled)&&(null===(Y=se[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,l.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Tt(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield V2();return yield Hr(_,uo,"1"),yield Qi(_,uo),!0}catch{}return!1})()}_withPendingWrite(_){var T=this;return(0,l.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var Y=this;return(0,l.Z)(function*(){return Y._withPendingWrite((0,l.Z)(function*(){return yield Y._withRetries(se=>Hr(se,_,T)),Y.localCache[_]=T,Y.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,l.Z)(function*(){const Y=yield T._withRetries(se=>function ho(E,m){return H1.apply(this,arguments)}(se,_));return T.localCache[_]=Y,Y})()}_remove(_){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(Y=>Qi(Y,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const T=yield _._withRetries(Be=>{const vt=pa(Be,!1).getAll();return new fo(vt).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const Y=[],se=new Set;for(const{fbase_key:Be,value:vt}of T)se.add(Be),JSON.stringify(_.localCache[Be])!==JSON.stringify(vt)&&(_.notifyListeners(Be,vt),Y.push(Be));for(const Be of Object.keys(_.localCache))_.localCache[Be]&&!se.has(Be)&&(_.notifyListeners(Be,null),Y.push(Be));return Y})()}notifyListeners(_,T){this.localCache[_]=T;const Y=this.listeners[_];if(Y)for(const se of Array.from(Y))se(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function En(E,m){return en(E,"POST","/v2/accounts/mfaSignIn:start",Pt(E,m))}function Bt(){return(Bt=(0,l.Z)(function*(E){return(yield en(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ks(E){return new Promise((m,_)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=m,T.onerror=Y=>{const se=at("internal-error");se.customData=Y,_(se)},T.type="text/javascript",T.charset="UTF-8",function Os(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(T)})}function Ei(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Rs=1e12;class Qn{constructor(m){this.auth=m,this.counter=Rs,this._widgets=new Map}render(m,_){const T=this.counter;return this._widgets.set(T,new ya(m,this.auth.name,_||{})),this.counter++,T}reset(m){var _;const T=m||Rs;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Rs))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var T;return null===(T=_._widgets.get(m||Rs))||void 0===T||T.execute(),""})()}}class ya{constructor(m,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof m?document.getElementById(m):m;le(Y,"argument-error",{appName:_}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _4(E){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<E;T++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fr=Ei("rcb"),ja=new b1(3e4,6e4);class b4{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Zt().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return le(function _a(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Zt().grecaptcha):new Promise((T,Y)=>{const se=Zt().setTimeout(()=>{Y(at(m,"network-request-failed"))},ja.get());Zt()[Fr]=()=>{Zt().clearTimeout(se),delete Zt()[Fr];const vt=Zt().grecaptcha;if(!vt)return void Y(at(m,"internal-error"));const Kt=vt.render;vt.render=(v1,Y1)=>{const $1=Kt(v1,Y1);return this.counter++,$1},this.hostLanguage=_,T(vt)},ks(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:Fr,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(se),Y(at(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Zt().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cs{load(m){return(0,l.Z)(function*(){return new Qn(m)})()}clearedOneInstance(){}}const rt="recaptcha",ba={theme:"light",type:"image"};class qn{constructor(m,_=Object.assign({},ba),T){this.parameters=_,this.type=rt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(T),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof m?document.getElementById(m):m;le(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cs:new b4,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),T=m.getAssertedRecaptcha();return T.getResponse(_)||new Promise(se=>{const Be=vt=>{!vt||(m.tokenChangeListeners.delete(Be),se(vt))};m.tokenChangeListeners.add(Be),m.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof m)m(_);else if("string"==typeof m){const T=Zt()[m];"function"==typeof T&&T(_)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){le(a1()&&!fa(),m.auth,"internal-error"),yield function Io(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Sn(E){return Bt.apply(this,arguments)}(m.auth);le(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ms{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=fi._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Ca(){return(Ca=(0,l.Z)(function*(E,m,_){const T=An(E),Y=yield po(T,m,(0,X.m9)(_));return new Ms(Y,se=>h2(T,se))})).apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E);yield wn(!1,T,"phone");const Y=yield po(T.auth,m,(0,X.m9)(_));return new Ms(Y,se=>qs(T,se))})).apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E),Y=yield po(T.auth,m,(0,X.m9)(_));return new Ms(Y,se=>xs(T,se))})).apply(this,arguments)}function po(E,m,_){return $i.apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(E,m,_){var T;const Y=yield _.verify();try{let se;if(le("string"==typeof Y,E,"argument-error"),le(_.type===rt,E,"argument-error"),se="string"==typeof m?{phoneNumber:m}:m,"session"in se){const Be=se.session;if("phoneNumber"in se)return le("enroll"===Be.type,E,"internal-error"),(yield ua(E,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{le("signin"===Be.type,E,"internal-error");const vt=(null===(T=se.multiFactorHint)||void 0===T?void 0:T.uid)||se.multiFactorUid;return le(vt,E,"missing-multi-factor-info"),(yield En(E,{mfaPendingCredential:Be.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield Ct(E,{phoneNumber:se.phoneNumber,recaptchaToken:Y});return Be}}finally{_._reset()}})).apply(this,arguments)}function I(){return(I=(0,l.Z)(function*(E,m){yield Zs((0,X.m9)(E),m)})).apply(this,arguments)}let N=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=An(_)}verifyPhoneNumber(_,T){return po(this.auth,_,(0,X.m9)(T))}static credential(_,T){return fi._fromVerification(_,T)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:Y}=_;return T&&Y?fi._fromTokenResponse(T,Y):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function k(E,m){return m?Ye(m):(le(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class j extends O2{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return d2(m,this._buildIdpRequest())}_linkToIdToken(m,_){return d2(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return d2(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function ee(E){return N2(E.auth,new j(E),E.bypassAuthState)}function me(E){const{auth:m,user:_}=E;return le(_,m,"internal-error"),Jr(_,new j(E),E.bypassAuthState)}function we(E){return gt.apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(E){const{auth:m,user:_}=E;return le(_,m,"internal-error"),Zs(_,new j(E),E.bypassAuthState)})).apply(this,arguments)}class zt{constructor(m,_,T,Y,se=!1){this.auth=m,this.resolver=T,this.user=Y,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(T,Y){m.pendingPromise={resolve:T,reject:Y};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(se){m.reject(se)}});return function(T,Y){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:T,sessionId:Y,postBody:se,tenantId:Be,error:vt,type:Kt}=m;if(vt)return void _.reject(vt);const v1={auth:_.auth,requestUri:T,sessionId:Y,tenantId:Be||void 0,postBody:se||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Kt)(v1))}catch(Y1){_.reject(Y1)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ee;case"linkViaPopup":case"linkViaRedirect":return we;case"reauthViaPopup":case"reauthViaRedirect":return me;default:tt(this.auth,"internal-error")}}resolve(m){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fn=new b1(2e3,1e4);function F1(){return(F1=(0,l.Z)(function*(E,m,_){const T=An(E);xt(E,m,Oi);const Y=k(T,_);return new Dr(T,"signInViaPopup",m,Y).executeNotNull()})).apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E);xt(T.auth,m,Oi);const Y=k(T.auth,_);return new Dr(T.auth,"reauthViaPopup",m,Y,T).executeNotNull()})).apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E);xt(T.auth,m,Oi);const Y=k(T.auth,_);return new Dr(T.auth,"linkViaPopup",m,Y,T).executeNotNull()})).apply(this,arguments)}let Dr=(()=>{class E extends zt{constructor(_,T,Y,se,Be){super(_,T,se,Be),this.provider=Y,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const T=yield _.execute();return le(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,l.Z)(function*(){ye(1===_.filter.length,"Popup operations only handle one event");const T=ss();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(Y=>{_.reject(Y)}),_.resolver._isIframeWebStorageSupported(_.auth,Y=>{Y||_.reject(at(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,Y;this.pollId=null!==(Y=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,fn.get())};_()}}return E.currentPopupAction=null,E})();const Xi=new Map;class Ps extends zt{constructor(m,_,T=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let T=Xi.get(_.auth._key());if(!T){try{const se=(yield function xo(E,m){return Er.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;T=()=>Promise.resolve(se)}catch(Y){T=()=>Promise.reject(Y)}Xi.set(_.auth._key(),T)}return _.bypassAuthState||Xi.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,T=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(T,m);if("unknown"!==m.type){if(m.eventId){const Y=yield T.auth._redirectUserForId(m.eventId);if(Y)return T.user=Y,_().call(T,m);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Er(){return(Er=(0,l.Z)(function*(E,m){const _=Ga(m),T=go(E);if(!(yield T._isAvailable()))return!1;const Y="true"===(yield T._get(_));return yield T._remove(_),Y})).apply(this,arguments)}function W4(E,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(E,m){return go(E)._set(Ga(m),"true")})).apply(this,arguments)}function Vs(E,m){Xi.set(E._key(),m)}function go(E){return Ye(E._redirectPersistence)}function Ga(E){return xe("pendingRedirect",E.config.apiKey,E.name)}function H(){return(H=(0,l.Z)(function*(E,m,_){const T=An(E);xt(E,m,Oi);const Y=k(T,_);return yield W4(Y,T),Y._openRedirect(T,m,"signInViaRedirect")})).apply(this,arguments)}function ge(){return(ge=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E);xt(T.auth,m,Oi);const Y=k(T.auth,_);yield W4(Y,T.auth);const se=yield Yt(T);return Y._openRedirect(T.auth,m,"reauthViaRedirect",se)})).apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(E,m,_){const T=(0,X.m9)(E);xt(T.auth,m,Oi);const Y=k(T.auth,_);yield wn(!1,T,m.providerId),yield W4(Y,T.auth);const se=yield Yt(T);return Y._openRedirect(T.auth,m,"linkViaRedirect",se)})).apply(this,arguments)}function E1(){return(E1=(0,l.Z)(function*(E,m){return yield An(E)._initializationPromise,x1(E,m,!1)})).apply(this,arguments)}function x1(E,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(E,m,_=!1){const T=An(E),Y=k(T,m),Be=yield new Ps(T,Y,_).execute();return Be&&!_&&(delete Be.user._redirectEventId,yield T._persistUserIfCurrent(Be.user),yield T._setRedirectUser(null,m)),Be})).apply(this,arguments)}function Yt(E){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(E){const m=ss(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class vo{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(m,T)&&(_=!0,this.sendToConsumer(m,T),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function er(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jo(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var T;if(m.error&&!jo(m)){const Y=(null===(T=m.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(at(this.auth,Y))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const T=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&T}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($a(m))}saveEventToCache(m){this.cachedEventUids.add($a(m)),this.lastProcessedEventTime=Date.now()}}function $a(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function jo({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===m?.code}function Ur(E){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(E,m={}){return en(E,"GET","/v1/projects",m)})).apply(this,arguments)}const V0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F6=/^https?/;function B6(){return(B6=(0,l.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield Ur(E);for(const _ of m)try{if(U6(_))return}catch{}tt(E,"unauthorized-domain")})).apply(this,arguments)}function U6(E){const m=wt(),{protocol:_,hostname:T}=new URL(m);if(E.startsWith("chrome-extension://")){const Be=new URL(E);return""===Be.hostname&&""===T?"chrome-extension:"===_&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&Be.hostname===T}if(!F6.test(_))return!1;if(V0.test(E))return T===E;const Y=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(T)}const F0=new b1(3e4,6e4);function e6(){const E=Zt().___jsl;if(E?.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let C4=null;function Wa(E){return C4=C4||function w3(E){return new Promise((m,_)=>{var T,Y,se;function Be(){e6(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{e6(),_(at(E,"network-request-failed"))},timeout:F0.get()})}if(null!==(Y=null===(T=Zt().gapi)||void 0===T?void 0:T.iframes)&&void 0!==Y&&Y.Iframe)m(gapi.iframes.getContext());else{if(null===(se=Zt().gapi)||void 0===se||!se.load){const vt=Ei("iframefcb");return Zt()[vt]=()=>{gapi.load?Be():_(at(E,"network-request-failed"))},ks(`https://apis.google.com/js/api.js?onload=${vt}`).catch(Kt=>_(Kt))}Be()}}).catch(m=>{throw C4=null,m})}(E),C4}const j6=new b1(5e3,15e3),ls={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G6(E){const m=E.config;le(m.authDomain,E,"auth-domain-config-required");const _=m.emulator?p1(m,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,T={apiKey:m.apiKey,appName:E.name,v:Ce.SDK_VERSION},Y=H2.get(E.config.apiHost);Y&&(T.eid=Y);const se=E._getFrameworks();return se.length&&(T.fw=se.join(",")),`${_}?${(0,X.xO)(T).slice(1)}`}function Hs(){return Hs=(0,l.Z)(function*(E){const m=yield Wa(E),_=Zt().gapi;return le(_,E,"internal-error"),m.open({where:document.body,url:G6(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ls,dontclear:!0},T=>new Promise(function(){var Y=(0,l.Z)(function*(se,Be){yield T.restyle({setHideOnLeave:!1});const vt=at(E,"network-request-failed"),Kt=Zt().setTimeout(()=>{Be(vt)},j6.get());function v1(){Zt().clearTimeout(Kt),se(T)}T.ping(v1).then(v1,()=>{Be(vt)})});return function(se,Be){return Y.apply(this,arguments)}}()))}),Hs.apply(this,arguments)}const us={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class M4{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E3(E,m,_,T,Y,se){le(E.config.authDomain,E,"auth-domain-config-required"),le(E.config.apiKey,E,"invalid-api-key");const Be={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:T,v:Ce.SDK_VERSION,eventId:Y};if(m instanceof Oi){m.setDefaultLanguage(E.languageCode),Be.providerId=m.providerId||"",(0,X.xb)(m.getCustomParameters())||(Be.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Kt,v1]of Object.entries(se||{}))Be[Kt]=v1}if(m instanceof Yi){const Kt=m.getScopes().filter(v1=>""!==v1);Kt.length>0&&(Be.scopes=Kt.join(","))}E.tenantId&&(Be.tid=E.tenantId);const vt=Be;for(const Kt of Object.keys(vt))void 0===vt[Kt]&&delete vt[Kt];return`${function Go({config:E}){return E.emulator?p1(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,X.xO)(vt).slice(1)}`}const K4="webStorageSupport";class Y4 extends class Z6{constructor(m){this.factorId=m}_process(m,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,T);case"signin":return this._finalizeSignIn(m,_.credential);default:return ct("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Y4(m)}_finalizeEnroll(m,_,T){return function $4(E,m){return en(E,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(E,m))}(m,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Uo(E,m){return en(E,"POST","/v2/accounts/mfaSignIn:finalize",Pt(E,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let s6=(()=>{class E{constructor(){}static assertion(_){return Y4._fromCredential(_)}}return E.FACTOR_ID="phone",E})();var $o="@firebase/auth";class W6{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(T=>{m(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yo(){return window}function wa(){return(wa=(0,l.Z)(function*(E,m,_){var T;const{BuildInfo:Y}=yo();ye(m.sessionId,"AuthEvent did not contain a session ID");const se=yield Wo(m.sessionId),Be={};return ue()?Be.ibi=Y.packageName:K1()?Be.apn=Y.packageName:tt(E,"operation-not-supported-in-this-environment"),Y.displayName&&(Be.appDisplayName=Y.displayName),Be.sessionId=se,E3(E,_,m.type,void 0,null!==(T=m.eventId)&&void 0!==T?T:void 0,Be)})).apply(this,arguments)}function o6(){return(o6=(0,l.Z)(function*(E){const{BuildInfo:m}=yo(),_={};ue()?_.iosBundleId=m.packageName:K1()?_.androidPackageName=m.packageName:tt(E,"operation-not-supported-in-this-environment"),yield Ur(E,_)})).apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(E,m,_){const{cordova:T}=yo();let Y=()=>{};try{yield new Promise((se,Be)=>{let vt=null;function Kt(){var $1;se();const Hi=null===($1=T.plugins.browsertab)||void 0===$1?void 0:$1.close;"function"==typeof Hi&&Hi(),"function"==typeof _?.close&&_.close()}function v1(){vt||(vt=window.setTimeout(()=>{Be(at(E,"redirect-cancelled-by-user"))},2e3))}function Y1(){"visible"===document?.visibilityState&&v1()}m.addPassiveListener(Kt),document.addEventListener("resume",v1,!1),K1()&&document.addEventListener("visibilitychange",Y1,!1),Y=()=>{m.removePassiveListener(Kt),document.removeEventListener("resume",v1,!1),document.removeEventListener("visibilitychange",Y1,!1),vt&&window.clearTimeout(vt)}})}finally{Y()}})).apply(this,arguments)}function Wo(E){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(E){const m=Q4(E),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Q4(E){if(ye(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const m=new ArrayBuffer(E.length),_=new Uint8Array(m);for(let T=0;T<E.length;T++)_[T]=E.charCodeAt(T);return _}(0,X.Pz)("authIdTokenMaxAge"),function E2(E){(0,Ce._registerComponent)(new Re.wA("auth",(m,{options:_})=>{const T=m.getProvider("app").getImmediate(),Y=m.getProvider("heartbeat"),{apiKey:se,authDomain:Be}=T.options;return((vt,Kt)=>{le(se&&!se.includes(":"),"invalid-api-key",{appName:vt.name}),le(!Be?.includes(":"),"argument-error",{appName:vt.name});const v1={apiKey:se,authDomain:Be,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mn(E)},Y1=new P1(vt,Kt,v1);return function Mt(E,m){const _=m?.persistence||[],T=(Array.isArray(_)?_:[_]).map(Ye);m?.errorMap&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(T,m?.popupRedirectResolver)}(Y1,_),Y1})(T,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,T)=>{m.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new Re.wA("auth-internal",m=>{const _=An(m.getProvider("auth").getImmediate());return new W6(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)($o,"0.21.0",function Ds(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Ce.registerVersion)($o,"0.21.0","esm2017")}("Browser");class Ka extends vo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,l.Z)(function*(){yield m.initPromise})()}}function U0(E){return w4.apply(this,arguments)}function w4(){return(w4=(0,l.Z)(function*(E){const m=yield Ja()._get(X4(E));return m&&(yield Ja()._remove(X4(E))),m})).apply(this,arguments)}function a6(){const E=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const T=Math.floor(Math.random()*m.length);E.push(m.charAt(T))}return E.join("")}function Ja(){return Ye(Vr)}function X4(E){return xe("authEvent",E.config.apiKey,E.name)}function Ea(E){if(!E?.includes("?"))return{};const[m,..._]=E.split("?");return(0,X.zd)(_.join("?"))}function A3(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:at("no-auth-event")}}function Xa(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function $n(E=(0,X.z$)()){return!("file:"!==Xa()&&"ionic:"!==Xa()&&"capacitor:"!==Xa()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nr(){try{const E=self.localStorage,m=ss();if(E)return E.setItem(m,"1"),E.removeItem(m),!function Vc(E=(0,X.z$)()){return function I3(){return(0,X.w1)()&&11===document?.documentMode}()||function Es(E=(0,X.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,X.hl)()}catch{return _o()&&(0,X.hl)()}return!1}function _o(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function t4(){return(function Ti(){return"http:"===Xa()||"https:"===Xa()}()||(0,X.ru)()||$n())&&!function e4(){return(0,X.b$)()||(0,X.UG)()}()&&Nr()&&!_o()}function Ko(){return $n()&&typeof document<"u"}function e3(){return(e3=(0,l.Z)(function*(){return!!Ko()&&new Promise(E=>{const m=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),E(!0)})})})).apply(this,arguments)}const to={LOCAL:"local",NONE:"none",SESSION:"session"},Na=le,Dn="persistence";function Ta(E){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(E){yield E._initializationPromise;const m=i4(),_=xe(Dn,E.config.apiKey,E.name);m&&m.setItem(_,E._getPersistence())})).apply(this,arguments)}function i4(){var E;try{return(null===(E=function Yo(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const t3=le;class Us{constructor(){this.browserResolver=Ye(class ws{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=x1,this._overrideRedirectResult=Vs}_openPopup(m,_,T,Y){var se=this;return(0,l.Z)(function*(){var Be;ye(null===(Be=se.eventManagers[m._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const vt=E3(m,_,T,wt(),Y);return function n6(E,m,_,T=500,Y=600){const se=Math.max((window.screen.availHeight-Y)/2,0).toString(),Be=Math.max((window.screen.availWidth-T)/2,0).toString();let vt="";const Kt=Object.assign(Object.assign({},us),{width:T.toString(),height:Y.toString(),top:se,left:Be}),v1=(0,X.z$)().toLowerCase();_&&(vt=G1(v1)?"_blank":_),jt(v1)&&(m=m||"http://localhost",Kt.scrollbars="yes");const Y1=Object.entries(Kt).reduce((Hi,[hr,xa])=>`${Hi}${hr}=${xa},`,"");if(function ft(E=(0,X.z$)()){var m;return ue(E)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(v1)&&"_self"!==vt)return function i6(E,m){const _=document.createElement("a");_.href=E,_.target=m;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(m||"",vt),new M4(null);const $1=window.open(m||"",vt,Y1);le($1,E,"popup-blocked");try{$1.focus()}catch{}return new M4($1)}(m,vt,ss())})()}_openRedirect(m,_,T,Y){var se=this;return(0,l.Z)(function*(){return yield se._originValidation(m),function n1(E){Zt().location.href=E}(E3(m,_,T,wt(),Y)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:Y,promise:se}=this.eventManagers[_];return Y?Promise.resolve(Y):(ye(se,"If manager is not set, promise should be"),se)}const T=this.initAndGetManager(m);return this.eventManagers[_]={promise:T},T.catch(()=>{delete this.eventManagers[_]}),T}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const T=yield function qa(E){return Hs.apply(this,arguments)}(m),Y=new vo(m);return T.register("authEvent",se=>(le(se?.authEvent,m,"invalid-auth-event"),{status:Y.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:Y},_.iframes[m._key()]=T,Y})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(K4,{type:K4},Y=>{var se;const Be=null===(se=Y?.[0])||void 0===se?void 0:se[K4];void 0!==Be&&_(!!Be),tt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function H0(E){return B6.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return g1()||e1()||ue()}}),this.cordovaResolver=Ye(class D4{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x1,this._overrideRedirectResult=Vs}_initialize(m){var _=this;return(0,l.Z)(function*(){const T=m._key();let Y=_.eventManagers.get(T);return Y||(Y=new Ka(m),_.eventManagers.set(T,Y),_.attachCallbackListeners(m,Y)),Y})()}_openPopup(m){tt(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,T,Y){var se=this;return(0,l.Z)(function*(){!function eo(E){var m,_,T,Y,se,Be,vt,Kt,v1,Y1;const $1=yo();le("function"==typeof(null===(m=$1?.universalLinks)||void 0===m?void 0:m.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(_=$1?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(se=null===(Y=null===(T=$1?.cordova)||void 0===T?void 0:T.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===se?void 0:se.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Kt=null===(vt=null===(Be=$1?.cordova)||void 0===Be?void 0:Be.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===Kt?void 0:Kt.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Y1=null===(v1=$1?.cordova)||void 0===v1?void 0:v1.InAppBrowser)||void 0===Y1?void 0:Y1.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const Be=yield se._initialize(m);yield Be.initialized(),Be.resetRedirect(),function C3(){Xi.clear()}(),yield se._originValidation(m);const vt=function Da(E,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:a6(),postBody:null,tenantId:E.tenantId,error:at(E,"no-auth-event")}}(m,T,Y);yield function Ya(E,m){return Ja()._set(X4(E),m)}(m,vt);const Kt=yield function zo(E,m,_){return wa.apply(this,arguments)}(m,vt,_),v1=yield function K6(E){const{cordova:m}=yo();return new Promise(_=>{m.plugins.browsertab.isAvailable(T=>{let Y=null;T?m.plugins.browsertab.openUrl(E):Y=m.InAppBrowser.open(E,function je(E=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),_(Y)})})}(Kt);return function Y6(E,m,_){return Zo.apply(this,arguments)}(m,Be,v1)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function J4(E){return o6.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:T,handleOpenURL:Y,BuildInfo:se}=yo(),Be=setTimeout((0,l.Z)(function*(){yield U0(m),_.onEvent(A3())}),500),vt=function(){var Y1=(0,l.Z)(function*($1){clearTimeout(Be);const Hi=yield U0(m);let hr=null;Hi&&$1?.url&&(hr=function bi(E,m){var _,T;const Y=function c6(E){const m=Ea(E),_=m.link?decodeURIComponent(m.link):void 0,T=Ea(_).link,Y=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Ea(Y).link||Y||T||_||E}(m);if(Y.includes("/__/auth/callback")){const se=Ea(Y),Be=se.firebaseError?function j0(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(se.firebaseError)):null,vt=null===(T=null===(_=Be?.code)||void 0===_?void 0:_.split("auth/"))||void 0===T?void 0:T[1],Kt=vt?at(vt):null;return Kt?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:Y,postBody:null}}return null}(Hi,$1.url)),_.onEvent(hr||A3())});return function(Hi){return Y1.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,vt);const Kt=Y,v1=`${se.packageName.toLowerCase()}://`;yo().handleOpenURL=function(){var Y1=(0,l.Z)(function*($1){if($1.toLowerCase().startsWith(v1)&&vt({url:$1}),"function"==typeof Kt)try{Kt($1)}catch(Hi){console.error(Hi)}});return function($1){return Y1.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=x1,this._overrideRedirectResult=Vs}_initialize(m){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,T,Y){var se=this;return(0,l.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(m,_,T,Y)})()}_openRedirect(m,_,T,Y){var se=this;return(0,l.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(m,_,T,Y)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Ko()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return t3(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,l.Z)(function*(){if(m.underlyingResolver)return;const _=yield function Bs(){return e3.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function E4(E){return E.unwrap()}function r3(E){return S4(E)}function S4(E){const{_tokenResponse:m}=E instanceof X.ZR?E.customData:E;if(!m)return null;if(!(E instanceof X.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return N.credentialFromResult(E);const _=m.providerId;if(!_||"password"===_)return null;let T;switch(_){case"google.com":T=Di;break;case"facebook.com":T=ps;break;case"github.com":T=Lr;break;case"twitter.com":T=pi;break;default:const{oauthIdToken:Y,oauthAccessToken:se,oauthTokenSecret:Be,pendingToken:vt,nonce:Kt}=m;return se||Be||Y||vt?vt?_.startsWith("saml.")?or._create(_,vt):qe._fromParams({providerId:_,signInMethod:_,pendingToken:vt,idToken:Y,accessToken:se}):new hi(_).credential({idToken:Y,accessToken:se,rawNonce:Kt}):null}return E instanceof X.ZR?T.credentialFromError(E):T.credentialFromResult(E)}function Gr(E,m){return m.catch(_=>{throw _ instanceof X.ZR&&function x3(E,m){var _;const T=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new r4(E,function D2(E,m){var _;const T=(0,X.m9)(E),Y=m;return le(m.customData.operationType,T,"argument-error"),le(null===(_=Y.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),Ao._fromError(T,Y)}(E,m));else if(T){const Y=S4(m),se=m;Y&&(se.credential=Y,se.tenantId=T.tenantId||void 0,se.email=T.email||void 0,se.phoneNumber=T.phoneNumber||void 0)}}(E,_),_}).then(_=>{const Y=_.user;return{operationType:_.operationType,credential:r3(_),additionalUserInfo:vn(_),user:bo.getOrCreate(Y)}})}function d6(E,m){return Q6.apply(this,arguments)}function Q6(){return(Q6=(0,l.Z)(function*(E,m){const _=yield m;return{verificationId:_.verificationId,confirm:T=>Gr(E,_.confirm(T))}})).apply(this,arguments)}class r4{constructor(m,_){this.resolver=_,this.auth=function n3(E){return E.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Gr(E4(this.auth),this.resolver.resolveSignIn(m))}}class bo{constructor(m){this._delegate=m,this.multiFactor=function Ho(E){const m=(0,X.m9)(E);return da.has(m)||da.set(m,y4._fromUser(m)),da.get(m)}(m)}static getOrCreate(m){return bo.USER_MAP.has(m)||bo.USER_MAP.set(m,new bo(m)),bo.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,l.Z)(function*(){return Gr(_.auth,qs(_._delegate,m))})()}linkWithPhoneNumber(m,_){var T=this;return(0,l.Z)(function*(){return d6(T.auth,function vi(E,m,_){return Mr.apply(this,arguments)}(T._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,l.Z)(function*(){return Gr(_.auth,function mo(E,m,_){return yi.apply(this,arguments)}(_._delegate,m,Us))})()}linkWithRedirect(m){var _=this;return(0,l.Z)(function*(){return yield Ta(An(_.auth)),function Ze(E,m,_){return function lt(E,m,_){return It.apply(this,arguments)}(E,m,_)}(_._delegate,m,Us)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,l.Z)(function*(){return Gr(_.auth,xs(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return d6(this.auth,function Ma(E,m,_){return wr.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Gr(this.auth,function Si(E,m,_){return as.apply(this,arguments)}(this._delegate,m,Us))}reauthenticateWithRedirect(m){var _=this;return(0,l.Z)(function*(){return yield Ta(An(_.auth)),function G(E,m,_){return function te(E,m,_){return ge.apply(this,arguments)}(E,m,_)}(_._delegate,m,Us)})()}sendEmailVerification(m){return function No(E,m){return Vi.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,l.Z)(function*(){return yield function P2(E,m){return Pi.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function R(E,m){return F((0,X.m9)(E),m,null)}(this._delegate,m)}updatePassword(m){return function J(E,m){return F((0,X.m9)(E),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function A(E,m){return I.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function To(E,m){return lo.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function co(E,m,_){return zs.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bo.USER_MAP=new WeakMap;const Aa=le;let q2=(()=>{class E{constructor(_,T){if(this.app=_,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=_.options;Aa(Y,"invalid-api-key",{appName:_.name}),Aa(Y,"invalid-api-key",{appName:_.name});const se=typeof window<"u"?Us:void 0;this._delegate=T.initialize({options:{persistence:Qo(Y,_.name),popupRedirectResolver:se}}),this._delegate._updateErrorMap($e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,T){!function xi(E,m,_){const T=An(E);le(T._canInitEmulator,T,"emulator-config-failed"),le(/^https?:\/\//.test(m),T,"invalid-emulator-scheme");const Y=!!_?.disableWarnings,se=J2(m),{host:Be,port:vt}=function u2(E){const m=J2(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(T);if(Y){const se=Y[1];return{host:se,port:ii(T.substr(se.length+1))}}{const[se,Be]=T.split(":");return{host:se,port:ii(Be)}}}(m);T.config.emulator={url:`${se}//${Be}${null===vt?"":`:${vt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Be,port:vt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function G2(){function E(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,_,T)}applyActionCode(_){return function ur(E,m){return es.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Pr(this._delegate,_)}confirmPasswordReset(_,T){return function So(E,m,_){return Ys.apply(this,arguments)}(this._delegate,_,T)}createUserWithEmailAndPassword(_,T){var Y=this;return(0,l.Z)(function*(){return Gr(Y._delegate,function B(E,m,_){return V.apply(this,arguments)}(Y._delegate,_,T))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function ns(E,m){return yr.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Un(E,m){return"EMAIL_SIGNIN"===Gi.parseLink(m)?.operation}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Aa(t4(),_._delegate,"operation-not-supported-in-this-environment");const T=yield function c1(E,m){return E1.apply(this,arguments)}(_._delegate,Us);return T?Gr(_._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function G0(E,m){An(E)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,T,Y){const{next:se,error:Be,complete:vt}=s4(_,T,Y);return this._delegate.onAuthStateChanged(se,Be,vt)}onIdTokenChanged(_,T,Y){const{next:se,error:Be,complete:vt}=s4(_,T,Y);return this._delegate.onIdTokenChanged(se,Be,vt)}sendSignInLinkToEmail(_,T){return function Qe(E,m,_){return d1.apply(this,arguments)}(this._delegate,_,T)}sendPasswordResetEmail(_,T){return function Rr(E,m,_){return y2.apply(this,arguments)}(this._delegate,_,T||void 0)}setPersistence(_){var T=this;return(0,l.Z)(function*(){let Y;switch(function J6(E,m){Na(Object.values(to).includes(m),E,"invalid-persistence-type"),(0,X.b$)()?Na(m!==to.SESSION,E,"unsupported-persistence-type"):(0,X.UG)()?Na(m===to.NONE,E,"unsupported-persistence-type"):_o()?Na(m===to.NONE||m===to.LOCAL&&(0,X.hl)(),E,"unsupported-persistence-type"):Na(m===to.NONE||Nr(),E,"unsupported-persistence-type")}(T._delegate,_),_){case to.SESSION:Y=_s;break;case to.LOCAL:Y=(yield Ye(A2)._isAvailable())?A2:Vr;break;case to.NONE:Y=_e;break;default:return tt("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Gr(this._delegate,function ms(E){return f2.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Gr(this._delegate,h2(this._delegate,_))}signInWithCustomToken(_){return Gr(this._delegate,function Xr(E,m){return kr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,T){return Gr(this._delegate,function oe(E,m,_){return h2((0,X.m9)(E),Li.credential(m,_))}(this._delegate,_,T))}signInWithEmailLink(_,T){return Gr(this._delegate,function dr(E,m,_){return Ji.apply(this,arguments)}(this._delegate,_,T))}signInWithPhoneNumber(_,T){return d6(this._delegate,function Xs(E,m,_){return Ca.apply(this,arguments)}(this._delegate,_,T))}signInWithPopup(_){var T=this;return(0,l.Z)(function*(){return Aa(t4(),T._delegate,"operation-not-supported-in-this-environment"),Gr(T._delegate,function s1(E,m,_){return F1.apply(this,arguments)}(T._delegate,_,Us))})()}signInWithRedirect(_){var T=this;return(0,l.Z)(function*(){return Aa(t4(),T._delegate,"operation-not-supported-in-this-environment"),yield Ta(T._delegate),function Ni(E,m,_){return function M3(E,m,_){return H.apply(this,arguments)}(E,m,_)}(T._delegate,_,Us)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Js(E,m){return W.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=to,E})();function s4(E,m,_){let T=E;"function"!=typeof E&&({next:T,error:m,complete:_}=E);const Y=T;return{next:Be=>Y(Be&&bo.getOrCreate(Be)),error:m,complete:_}}function Qo(E,m){const _=function n4(E,m){const _=i4();if(!_)return[];const T=xe(Dn,E,m);switch(_.getItem(T)){case to.NONE:return[_e];case to.LOCAL:return[A2,_s];case to.SESSION:return[_s];default:return[]}}(E,m);if(typeof self<"u"&&!_.includes(A2)&&_.push(A2),typeof window<"u")for(const T of[Vr,_s])_.includes(T)||_.push(T);return _.includes(_e)||_.push(_e),_}class Ia{constructor(){this.providerId="phone",this._delegate=new N(E4(M.Z.auth()))}static credential(m,_){return N.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Ia.PHONE_SIGN_IN_METHOD=N.PHONE_SIGN_IN_METHOD,Ia.PROVIDER_ID=N.PROVIDER_ID;const Co=le;class f6{constructor(m,_,T=M.Z.app()){var Y;Co(null===(Y=T.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new qn(m,_,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function N4(E){E.INTERNAL.registerComponent(new Re.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),T=m.getProvider("auth");return new q2(_,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Li,FacebookAuthProvider:ps,GithubAuthProvider:Lr,GoogleAuthProvider:Di,OAuthProvider:hi,SAMLAuthProvider:ki,PhoneAuthProvider:Ia,PhoneMultiFactorGenerator:s6,RecaptchaVerifier:f6,TwitterAuthProvider:pi,Auth:q2,AuthCredential:O2,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.3.0")}(M.Z)},8766:($t,We,U)=>{U.d(We,{Lj:()=>tt,X3:()=>Wt});var l=U(5861);let X,Ce;const Re=new WeakMap,ze=new WeakMap,ke=new WeakMap,pe=new WeakMap,he=new WeakMap;let et={get(le,ct,ye){if(le instanceof IDBTransaction){if("done"===ct)return ze.get(le);if("objectStoreNames"===ct)return le.objectStoreNames||ke.get(le);if("store"===ct)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return ot(le[ct])},set:(le,ct,ye)=>(le[ct]=ye,!0),has:(le,ct)=>le instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in le};function ut(le){return"function"==typeof le?function Rt(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...ct){return le.apply(He(this),ct),ot(Re.get(this))}:function(...ct){return ot(le.apply(He(this),ct))}:function(ct,...ye){const Ie=le.call(He(this),ct,...ye);return ke.set(Ie,ct.sort?ct.sort():[ct]),ot(Ie)}}(le):(le instanceof IDBTransaction&&function st(le){if(ze.has(le))return;const ct=new Promise((ye,Ie)=>{const Ye=()=>{le.removeEventListener("complete",Pe),le.removeEventListener("error",Mt),le.removeEventListener("abort",Mt)},Pe=()=>{ye(),Ye()},Mt=()=>{Ie(le.error||new DOMException("AbortError","AbortError")),Ye()};le.addEventListener("complete",Pe),le.addEventListener("error",Mt),le.addEventListener("abort",Mt)});ze.set(le,ct)}(le),((le,ct)=>ct.some(ye=>le instanceof ye))(le,function Te(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,et):le)}function ot(le){if(le instanceof IDBRequest)return function Ne(le){const ct=new Promise((ye,Ie)=>{const Ye=()=>{le.removeEventListener("success",Pe),le.removeEventListener("error",Mt)},Pe=()=>{ye(ot(le.result)),Ye()},Mt=()=>{Ie(le.error),Ye()};le.addEventListener("success",Pe),le.addEventListener("error",Mt)});return ct.then(ye=>{ye instanceof IDBCursor&&Re.set(ye,le)}).catch(()=>{}),he.set(ct,le),ct}(le);if(pe.has(le))return pe.get(le);const ct=ut(le);return ct!==le&&(pe.set(le,ct),he.set(ct,le)),ct}const He=le=>he.get(le);function Wt(le,ct,{blocked:ye,upgrade:Ie,blocking:Ye,terminated:Pe}={}){const Mt=indexedDB.open(le,ct),wt=ot(Mt);return Ie&&Mt.addEventListener("upgradeneeded",a1=>{Ie(ot(Mt.result),a1.oldVersion,a1.newVersion,ot(Mt.transaction))}),ye&&Mt.addEventListener("blocked",()=>ye()),wt.then(a1=>{Pe&&a1.addEventListener("close",()=>Pe()),Ye&&a1.addEventListener("versionchange",()=>Ye())}).catch(()=>{}),wt}function tt(le,{blocked:ct}={}){const ye=indexedDB.deleteDatabase(le);return ct&&ye.addEventListener("blocked",()=>ct()),ot(ye).then(()=>{})}const at=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],xt=new Map;function bt(le,ct){if(!(le instanceof IDBDatabase)||ct in le||"string"!=typeof ct)return;if(xt.get(ct))return xt.get(ct);const ye=ct.replace(/FromIndex$/,""),Ie=ct!==ye,Ye=Ke.includes(ye);if(!(ye in(Ie?IDBIndex:IDBObjectStore).prototype)||!Ye&&!at.includes(ye))return;const Pe=function(){var Mt=(0,l.Z)(function*(wt,...a1){const j1=this.transaction(wt,Ye?"readwrite":"readonly");let N1=j1.store;return Ie&&(N1=N1.index(a1.shift())),(yield Promise.all([N1[ye](...a1),Ye&&j1.done]))[0]});return function(a1){return Mt.apply(this,arguments)}}();return xt.set(ct,Pe),Pe}!function $e(le){et=le(et)}(le=>({...le,get:(ct,ye,Ie)=>bt(ct,ye)||le.get(ct,ye,Ie),has:(ct,ye)=>!!bt(ct,ye)||le.has(ct,ye)}))},5861:($t,We,U)=>{function l(X,Ce,Te,Ee,Re,ze,ke){try{var pe=X[ze](ke),he=pe.value}catch(Ne){return void Te(Ne)}pe.done?Ce(he):Promise.resolve(he).then(Ee,Re)}function M(X){return function(){var Ce=this,Te=arguments;return new Promise(function(Ee,Re){var ze=X.apply(Ce,Te);function ke(he){l(ze,Ee,Re,ke,pe,"next",he)}function pe(he){l(ze,Ee,Re,ke,pe,"throw",he)}ke(void 0)})}}U.d(We,{Z:()=>M})}},$t=>{$t($t.s=5380)}]);