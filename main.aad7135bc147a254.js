"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{6217:(r1,Qe,F)=>{F.d(Qe,{nm:()=>pi});var l=F(2122);F(4650),F(259);var at=F(5861),mt=F(9681),nt=F(4859),Ft=F(2090),Mt=F(1877);const ce=new Map,tt={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function Le(Ye){return ce.get(Ye)||Object.assign({},tt)}function He(){return Me}class T1{constructor($e,Xe,xt,Xt,I1){if(this.operation=$e,this.retryPolicy=Xe,this.getWaitDuration=xt,this.lowerBound=Xt,this.upperBound=I1,this.pending=null,this.nextErrorWaitInterval=Xt,Xt>I1)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process($e){var Xe=this;return(0,at.Z)(function*(){Xe.stop();try{Xe.pending=new Ft.BH,yield function S1(Ye){return new Promise($e=>{setTimeout($e,Ye)})}(Xe.getNextRun($e)),Xe.pending.resolve(),yield Xe.pending.promise,Xe.pending=new Ft.BH,yield Xe.operation(),Xe.pending.resolve(),yield Xe.pending.promise,Xe.process(!0).catch(()=>{})}catch(xt){Xe.retryPolicy(xt)?Xe.process(!1).catch(()=>{}):Xe.stop()}})()}getNextRun($e){if($e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Xe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Xe}}}const M1=new Ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qt(Ye){if(!Le(Ye).activated)throw M1.create("use-before-activation",{appName:Ye.name})}function Ln(Ye,$e){return Un.apply(this,arguments)}function Un(){return(Un=(0,at.Z)(function*({url:Ye,body:$e},Xe){const xt={"Content-Type":"application/json"},Xt=Xe.getImmediate({optional:!0});if(Xt){const ai=yield Xt.getHeartbeatsHeader();ai&&(xt["X-Firebase-Client"]=ai)}const I1={method:"POST",body:JSON.stringify($e),headers:xt};let Y1,Fn;try{Y1=yield fetch(Ye,I1)}catch(ai){throw M1.create("fetch-network-error",{originalErrorMessage:ai?.message})}if(200!==Y1.status)throw M1.create("fetch-status-error",{httpStatus:Y1.status});try{Fn=yield Y1.json()}catch(ai){throw M1.create("fetch-parse-error",{originalErrorMessage:ai?.message})}const Sn=Fn.ttl.match(/^([\d.]+)(s)$/);if(!Sn||!Sn[2]||isNaN(Number(Sn[1])))throw M1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Fn.ttl}`});const Zi=1e3*Number(Sn[1]),er=Date.now();return{token:Fn.token,expireTimeMillis:er+Zi,issuedAtTimeMillis:er}})).apply(this,arguments)}function t2(Ye,$e){const{projectId:Xe,appId:xt,apiKey:Xt}=Ye.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Xe}/apps/${xt}:exchangeDebugToken?key=${Xt}`,body:{debug_token:$e}}}const l2="firebase-app-check-store";let En=null;function On(){return En||(En=new Promise((Ye,$e)=>{try{const Xe=indexedDB.open("firebase-app-check-database",1);Xe.onsuccess=xt=>{Ye(xt.target.result)},Xe.onerror=xt=>{var Xt;$e(M1.create("storage-open",{originalErrorMessage:null===(Xt=xt.target.error)||void 0===Xt?void 0:Xt.message}))},Xe.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(l2,{keyPath:"compositeKey"})}}catch(Xe){$e(M1.create("storage-open",{originalErrorMessage:Xe?.message}))}}),En)}function Ne(){return(Ne=(0,at.Z)(function*(Ye,$e){const xt=(yield On()).transaction(l2,"readwrite"),I1=xt.objectStore(l2).put({compositeKey:Ye,value:$e});return new Promise((Y1,Fn)=>{I1.onsuccess=Sn=>{Y1()},xt.onerror=Sn=>{var Zi;Fn(M1.create("storage-set",{originalErrorMessage:null===(Zi=Sn.target.error)||void 0===Zi?void 0:Zi.message}))}})})).apply(this,arguments)}const u1=new Mt.Yd("@firebase/app-check");function Yt(Ye,$e){return(0,Ft.hl)()?function A2(Ye,$e){return function ut(Ye,$e){return Ne.apply(this,arguments)}(function wt(Ye){return`${Ye.options.appId}-${Ye.name}`}(Ye),$e)}(Ye,$e).catch(Xe=>{u1.warn(`Failed to write token to IndexedDB. Error: ${Xe}`)}):Promise.resolve()}function a2(){return He().enabled}function tn(){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,at.Z)(function*(){const Ye=He();if(Ye.enabled&&Ye.token)return Ye.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const d1={error:"UNKNOWN_ERROR"};function At(Ye){return Ft.US.encodeString(JSON.stringify(Ye),!1)}function e1(Ye){return z1.apply(this,arguments)}function z1(){return(z1=(0,at.Z)(function*(Ye,$e=!1){const Xe=Ye.app;qt(Xe);const xt=Le(Xe);let I1,Xt=xt.token;if(Xt&&!Dt(Xt)&&(xt.token=void 0,Xt=void 0),!Xt){const Sn=yield xt.cachedTokenPromise;Sn&&(Dt(Sn)?Xt=Sn:yield Yt(Xe,void 0))}if(!$e&&Xt&&Dt(Xt))return{token:Xt.token};let Fn,Y1=!1;if(a2()){xt.exchangeTokenPromise||(xt.exchangeTokenPromise=Ln(t2(Xe,yield tn()),Ye.heartbeatServiceProvider).finally(()=>{xt.exchangeTokenPromise=void 0}),Y1=!0);const Sn=yield xt.exchangeTokenPromise;return yield Yt(Xe,Sn),xt.token=Sn,{token:Sn.token}}try{xt.exchangeTokenPromise||(xt.exchangeTokenPromise=xt.provider.getToken().finally(()=>{xt.exchangeTokenPromise=void 0}),Y1=!0),Xt=yield Le(Xe).exchangeTokenPromise}catch(Sn){"appCheck/throttled"===Sn.code?u1.warn(Sn.message):u1.error(Sn),I1=Sn}return Xt?I1?Fn=Dt(Xt)?{token:Xt.token,internalError:I1}:Ze(I1):(Fn={token:Xt.token},xt.token=Xt,yield Yt(Xe,Xt)):Fn=Ze(I1),Y1&&Pe(Xe,Fn),Fn})).apply(this,arguments)}function P1(Ye,$e){const Xe=Le(Ye),xt=Xe.tokenObservers.filter(Xt=>Xt.next!==$e);0===xt.length&&Xe.tokenRefresher&&Xe.tokenRefresher.isRunning()&&Xe.tokenRefresher.stop(),Xe.tokenObservers=xt}function xe(Ye){const{app:$e}=Ye,Xe=Le($e);let xt=Xe.tokenRefresher;xt||(xt=function we(Ye){const{app:$e}=Ye;return new T1((0,at.Z)(function*(){let xt;if(xt=Le($e).token?yield e1(Ye,!0):yield e1(Ye),xt.error)throw xt.error;if(xt.internalError)throw xt.internalError}),()=>!0,()=>{const Xe=Le($e);if(Xe.token){let xt=Xe.token.issuedAtTimeMillis+.5*(Xe.token.expireTimeMillis-Xe.token.issuedAtTimeMillis)+3e5;return xt=Math.min(xt,Xe.token.expireTimeMillis-3e5),Math.max(0,xt-Date.now())}return 0},3e4,96e4)}(Ye),Xe.tokenRefresher=xt),!xt.isRunning()&&Xe.isTokenAutoRefreshEnabled&&xt.start()}function Pe(Ye,$e){const Xe=Le(Ye).tokenObservers;for(const xt of Xe)try{"EXTERNAL"===xt.type&&null!=$e.error?xt.error($e.error):xt.next($e)}catch{}}function Dt(Ye){return Ye.expireTimeMillis-Date.now()>0}function Ze(Ye){return{token:At(d1),error:Ye}}class o1{constructor($e,Xe){this.app=$e,this.heartbeatServiceProvider=Xe}_delete(){const{tokenObservers:$e}=Le(this.app);for(const Xe of $e)P1(this.app,Xe.next);return Promise.resolve()}}const j2="app-check-internal";!function Q2(){(0,mt._registerComponent)(new nt.wA("app-check",Ye=>function n1(Ye,$e){return new o1(Ye,$e)}(Ye.getProvider("app").getImmediate(),Ye.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ye,$e,Xe)=>{Ye.getProvider(j2).initialize()})),(0,mt._registerComponent)(new nt.wA(j2,Ye=>function H1(Ye){return{getToken:$e=>e1(Ye,$e),addTokenListener:$e=>function k1(Ye,$e,Xe,xt){const{app:Xt}=Ye,I1=Le(Xt);if(I1.tokenObservers=[...I1.tokenObservers,{next:Xe,error:xt,type:$e}],I1.token&&Dt(I1.token)){const Fn=I1.token;Promise.resolve().then(()=>{Xe({token:Fn.token}),xe(Ye)}).catch(()=>{})}I1.cachedTokenPromise.then(()=>xe(Ye))}(Ye,"INTERNAL",$e),removeTokenListener:$e=>P1(Ye.app,$e)}}(Ye.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,mt.registerVersion)("@firebase/app-check","0.6.0")}();class pi{constructor(){return(0,l.vb)("app-check")}}typeof window<"u"&&window},3385:(r1,Qe,F)=>{F.d(Qe,{zQ:()=>Le,ww:()=>rt,rT:()=>Mt,f7:()=>tt,L6:()=>nt,_Q:()=>Ft,lh:()=>ce,Qv:()=>mt,nw:()=>Me});var l=F(4650),C=F(7579),X=F(9646),Ee=F(9751),Ie=F(8996),Te=F(6451),Se=F(5363),ke=F(3900),Ve=F(4004),fe=F(3151),he=F(590),ze=F(576);function pt(He,Lt){return(0,ze.m)(Lt)?(0,ke.w)(()=>He,Lt):(0,ke.w)(()=>He)}var ot=F(9468),Je=F(9300),Gt=F(2122),ft=F(2011),st=F(6895),je=F(6217),s1=F(9260);const mt=new l.OlP("angularfire2.auth.use-emulator"),nt=new l.OlP("angularfire2.auth.settings"),Ft=new l.OlP("angularfire2.auth.tenant-id"),Mt=new l.OlP("angularfire2.auth.langugage-code"),ce=new l.OlP("angularfire2.auth.use-device-language"),tt=new l.OlP("angularfire.auth.persistence"),Me=(He,Lt,Rt,v1,B1,L1,Pt,T1)=>(0,ft.cc)(`${He.name}.auth`,"AngularFireAuth",He.name,()=>{const S1=Lt.runOutsideAngular(()=>He.auth());if(Rt&&S1.useEmulator(...Rt),v1&&(S1.tenantId=v1),S1.languageCode=B1,L1&&S1.useDeviceLanguage(),Pt)for(const[N1,M1]of Object.entries(Pt))S1.settings[N1]=M1;return T1&&S1.setPersistence(T1),S1},[Rt,v1,B1,L1,Pt,T1]);let Le=(()=>{class He{constructor(Rt,v1,B1,L1,Pt,T1,S1,N1,M1,o2,qt,fn){const Dn=new C.x,Ln=(0,X.of)(void 0).pipe((0,Se.Q)(Pt.outsideAngular),(0,ke.w)(()=>L1.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9169)))),(0,Ve.U)(()=>(0,ft.on)(Rt,L1,v1)),(0,Ve.U)(Un=>Me(Un,L1,T1,N1,M1,o2,S1,qt)),(0,fe.d)({bufferSize:1,refCount:!1}));if((0,st.PM)(B1))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,X.of)(null);else{Ln.pipe((0,he.P)()).subscribe();const Xn=Ln.pipe((0,ke.w)($1=>$1.getRedirectResult().then(vn=>vn,()=>null)),Gt.iC,(0,fe.d)({bufferSize:1,refCount:!1})),jn=Ln.pipe((0,ke.w)($1=>new Ee.y(vn=>({unsubscribe:L1.runOutsideAngular(()=>$1.onAuthStateChanged(l2=>vn.next(l2),l2=>vn.error(l2),()=>vn.complete()))})))),t2=Ln.pipe((0,ke.w)($1=>new Ee.y(vn=>({unsubscribe:L1.runOutsideAngular(()=>$1.onIdTokenChanged(l2=>vn.next(l2),l2=>vn.error(l2),()=>vn.complete()))}))));this.authState=Xn.pipe(pt(jn),(0,ot.R)(Pt.outsideAngular),(0,Se.Q)(Pt.insideAngular)),this.user=Xn.pipe(pt(t2),(0,ot.R)(Pt.outsideAngular),(0,Se.Q)(Pt.insideAngular)),this.idToken=this.user.pipe((0,ke.w)($1=>$1?(0,Ie.D)($1.getIdToken()):(0,X.of)(null))),this.idTokenResult=this.user.pipe((0,ke.w)($1=>$1?(0,Ie.D)($1.getIdTokenResult()):(0,X.of)(null))),this.credential=(0,Te.T)(Xn,Dn,this.authState.pipe((0,Je.h)($1=>!$1))).pipe((0,Ve.U)($1=>$1?.user?$1:null),(0,ot.R)(Pt.outsideAngular),(0,Se.Q)(Pt.insideAngular))}return(0,ft.pX)(this,Ln,L1,{spy:{apply:(Un,Xn,jn)=>{(Un.startsWith("signIn")||Un.startsWith("createUser"))&&jn.then(t2=>Dn.next(t2))}}})}}return He.\u0275fac=function(Rt){return new(Rt||He)(l.LFG(ft.Dh),l.LFG(ft.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Gt.HU),l.LFG(mt,8),l.LFG(nt,8),l.LFG(Ft,8),l.LFG(Mt,8),l.LFG(ce,8),l.LFG(tt,8),l.LFG(je.nm,8))},He.\u0275prov=l.Yz7({token:He,factory:He.\u0275fac,providedIn:"any"}),He})(),rt=(()=>{class He{constructor(){s1.Z.registerVersion("angularfire",Gt.q4.full,"auth-compat")}}return He.\u0275fac=function(Rt){return new(Rt||He)},He.\u0275mod=l.oAB({type:He}),He.\u0275inj=l.cJS({providers:[Le]}),He})()},3101:(r1,Qe,F)=>{F.d(Qe,{ST:()=>al,yb:()=>au});var l=F(4650),C=F(4986),X=F(9751),Ee=F(8996),Ie=F(9646),Te=F(2122),Se=F(8675),ke=F(4482),Ve=F(5403);function fe(){return(0,ke.e)((r,e)=>{let t,s=!1;r.subscribe((0,Ve.x)(e,c=>{const p=t;t=c,s&&e.next([p,c]),s=!0}))})}var ce,he=F(4004),ze=F(5026),pt=F(1884),ot=F(9300),Je=F(2011),Gt=F(6895),st=(F(9169),F(3942)),je=F(5861),s1=F(9681),at=F(4859),mt=F(1877),nt=F(2090),Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mt={},tt=tt||{},Me=Ft||self;function Le(){}function rt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function He(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Rt="closure_uid_"+(1e9*Math.random()>>>0),v1=0;function B1(r,e,t){return r.call.apply(r.bind,arguments)}function L1(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function Pt(r,e,t){return(Pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B1:L1).apply(null,arguments)}function T1(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function S1(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(s,c,p){for(var b=Array(arguments.length-2),x=2;x<arguments.length;x++)b[x-2]=arguments[x];return e.prototype[c].apply(s,b)}}function N1(){this.s=this.s,this.o=this.o}N1.prototype.s=!1,N1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Lt(r){Object.prototype.hasOwnProperty.call(r,Rt)&&r[Rt]||(r[Rt]=++v1)}(this)},N1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const o2=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function qt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function fn(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(rt(s)){const c=r.length||0,p=s.length||0;r.length=c+p;for(let b=0;b<p;b++)r[c+b]=s[b]}else r.push(s)}}function Dn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Dn.prototype.h=function(){this.defaultPrevented=!0};var Ln=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Me.addEventListener("test",Le,e),Me.removeEventListener("test",Le,e)}catch{}return r}();function Un(r){return/^[\s\xa0]*$/.test(r)}var Xn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function jn(r,e){return r<e?-1:r>e?1:0}function t2(){var r=Me.navigator;return r&&(r=r.userAgent)?r:""}function $1(r){return-1!=t2().indexOf(r)}function vn(r){return vn[" "](r),r}vn[" "]=Le;var ut,r,$t=$1("Opera"),En=$1("Trident")||$1("MSIE"),On=$1("Edge"),mn=On||En,A2=$1("Gecko")&&!(-1!=t2().toLowerCase().indexOf("webkit")&&!$1("Edge"))&&!($1("Trident")||$1("MSIE"))&&!$1("Edge"),J2=-1!=t2().toLowerCase().indexOf("webkit")&&!$1("Edge");function l1(){var r=Me.document;return r?r.documentMode:void 0}e:{var Ne="",ye=(r=t2(),A2?/rv:([^\);]+)(\)|;)/.exec(r):On?/Edge\/([\d\.]+)/.exec(r):En?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):J2?/WebKit\/(\S+)/.exec(r):$t?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(ye&&(Ne=ye?ye[1]:""),En){var ct=l1();if(null!=ct&&ct>parseFloat(Ne)){ut=String(ct);break e}}ut=Ne}var wt={};var Yt=Me.document&&En&&(l1()||parseInt(ut,10))||void 0;function yn(r,e){if(Dn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(A2){e:{try{vn(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:X1[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&yn.X.h.call(this)}}S1(yn,Dn);var X1={2:"touch",3:"pen",4:"mouse"};yn.prototype.h=function(){yn.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var a2="closure_listenable_"+(1e6*Math.random()|0),tn=0;function Z1(r,e,t,s,c){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=c,this.key=++tn,this.ba=this.ea=!1}function an(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function d1(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function At(r){const e={};for(const t in r)e[t]=r[t];return e}const e1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z1(r,e){let t,s;for(let c=1;c<arguments.length;c++){for(t in s=arguments[c],s)r[t]=s[t];for(let p=0;p<e1.length;p++)t=e1[p],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function k1(r){this.src=r,this.g={},this.h=0}function P1(r,e){var t=e.type;if(t in r.g){var p,s=r.g[t],c=o2(s,e);(p=0<=c)&&Array.prototype.splice.call(s,c,1),p&&(an(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function xe(r,e,t,s){for(var c=0;c<r.length;++c){var p=r[c];if(!p.ba&&p.listener==e&&p.capture==!!t&&p.ha==s)return c}return-1}k1.prototype.add=function(r,e,t,s,c){var p=r.toString();(r=this.g[p])||(r=this.g[p]=[],this.h++);var b=xe(r,e,s,c);return-1<b?(e=r[b],t||(e.ea=!1)):((e=new Z1(e,this.src,p,!!s,c)).ea=t,r.push(e)),e};var we="closure_lm_"+(1e6*Math.random()|0),Pe={};function Dt(r,e,t,s,c){if(s&&s.once)return n1(r,e,t,s,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Dt(r,e[p],t,s,c);return null}return t=We(t),r&&r[a2]?r.N(e,t,He(s)?!!s.capture:!!s,c):Ze(r,e,t,!1,s,c)}function Ze(r,e,t,s,c,p){if(!e)throw Error("Invalid event type");var b=He(c)?!!c.capture:!!c,x=pe(r);if(x||(r[we]=x=new k1(r)),(t=x.add(e,t,s,b,p)).proxy)return t;if(s=function o1(){const e=De;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Ln||(c=b),void 0===c&&(c=!1),r.addEventListener(e.toString(),s,c);else if(r.attachEvent)r.attachEvent(W1(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function n1(r,e,t,s,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)n1(r,e[p],t,s,c);return null}return t=We(t),r&&r[a2]?r.O(e,t,He(s)?!!s.capture:!!s,c):Ze(r,e,t,!0,s,c)}function H1(r,e,t,s,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)H1(r,e[p],t,s,c);else s=He(s)?!!s.capture:!!s,t=We(t),r&&r[a2]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=xe(p=r.g[e],t,s,c))&&(an(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete r.g[e],r.h--))):r&&(r=pe(r))&&(e=r.g[e.toString()],r=-1,e&&(r=xe(e,t,s,c)),(t=-1<r?e[r]:null)&&cn(t))}function cn(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[a2])P1(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(W1(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=pe(e))?(P1(t,r),0==t.h&&(t.src=null,e[we]=null)):an(r)}}}function W1(r){return r in Pe?Pe[r]:Pe[r]="on"+r}function De(r,e){if(r.ba)r=!0;else{e=new yn(e,this);var t=r.listener,s=r.ha||r.src;r.ea&&cn(r),r=t.call(s,e)}return r}function pe(r){return(r=r[we])instanceof k1?r:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(r){return"function"==typeof r?r:(r[ue]||(r[ue]=function(e){return r.handleEvent(e)}),r[ue])}function yt(){N1.call(this),this.i=new k1(this),this.P=this,this.I=null}function Qt(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new Dn(e,r);else if(e instanceof Dn)e.target=e.target||r;else{var c=e;z1(e=new Dn(s,r),c)}if(c=!0,t)for(var p=t.length-1;0<=p;p--){var b=e.g=t[p];c=A1(b,s,!0,e)&&c}if(c=A1(b=e.g=r,s,!0,e)&&c,c=A1(b,s,!1,e)&&c,t)for(p=0;p<t.length;p++)c=A1(b=e.g=t[p],s,!1,e)&&c}function A1(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var b=e[p];if(b&&!b.ba&&b.capture==t){var x=b.listener,G=b.ha||b.src;b.ea&&P1(r.i,b),c=!1!==x.call(G,s)&&c}}return c&&!s.defaultPrevented}S1(yt,N1),yt.prototype[a2]=!0,yt.prototype.removeEventListener=function(r,e,t,s){H1(this,r,e,t,s)},yt.prototype.M=function(){if(yt.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)an(t[s]);delete r.g[e],r.h--}}this.I=null},yt.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},yt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var J1=Me.JSON.stringify;function An(){var r=U2;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var B2,q1=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Rn,r=>r.reset());class Rn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function S2(r){Me.setTimeout(()=>{throw r},0)}function fi(r,e){B2||function _2(){var r=Me.Promise.resolve(void 0);B2=function(){r.then(R2)}}(),oi||(B2(),oi=!0),U2.add(r,e)}var oi=!1,U2=new class I2{constructor(){this.h=this.g=null}add(e,t){const s=q1.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function R2(){for(var r;r=An();){try{r.h.call(r.g)}catch(t){S2(t)}var e=q1;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}oi=!1}function M2(r,e){yt.call(this),this.h=r||1,this.g=e||Me,this.j=Pt(this.lb,this),this.l=Date.now()}function _i(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function Hn(r,e,t){if("function"==typeof r)t&&(r=Pt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Pt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Me.setTimeout(r,e||0)}function Fr(r){r.g=Hn(()=>{r.g=null,r.i&&(r.i=!1,Fr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}S1(M2,yt),(ce=M2.prototype).ca=!1,ce.R=null,ce.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qt(this,"tick"),this.ca&&(_i(this),this.start()))}},ce.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){M2.X.M.call(this),_i(this),delete this.g};class j2 extends N1{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fr(this)}M(){super.M(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Q2(r){N1.call(this),this.h=r,this.g={}}S1(Q2,N1);var X2=[];function hi(r,e,t,s){Array.isArray(t)||(t&&(X2[0]=t.toString()),t=X2);for(var c=0;c<t.length;c++){var p=Dt(e,t[c],s||r.handleEvent,!1,r.h||r);if(!p)break;r.g[p.key]=p}}function pi(r){d1(r.g,function(e,t){this.g.hasOwnProperty(t)&&cn(e)},r),r.g={}}function G2(){this.g=!0}function kn(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ur(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var b=1;b<c.length;b++)c[b]=""}}}return J1(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Q2.prototype.M=function(){Q2.X.M.call(this),pi(this)},Q2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},G2.prototype.Aa=function(){this.g=!1},G2.prototype.info=function(){};var bi={},dr=null;function z2(){return dr=dr||new yt}function Nr(r){Dn.call(this,bi.Pa,r)}function Br(r){const e=z2();Qt(e,new Nr(e))}function Es(r,e){Dn.call(this,bi.STAT_EVENT,r),this.stat=e}function $2(r){const e=z2();Qt(e,new Es(e,r))}function Ss(r,e){Dn.call(this,bi.Qa,r),this.size=e}function b2(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){r()},e)}bi.Pa="serverreachability",S1(Nr,Dn),bi.STAT_EVENT="statevent",S1(Es,Dn),bi.Qa="timingevent",S1(Ss,Dn);var Ye={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},$e={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xe(){}function Xt(){}Xe.prototype.h=null;var Sn,I1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Y1(){Dn.call(this,"d")}function Fn(){Dn.call(this,"c")}function Zi(){}function er(r,e,t,s){this.l=r,this.j=e,this.m=t,this.U=s||1,this.S=new Q2(this),this.O=ei,this.T=new M2(r=mn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}S1(Y1,Dn),S1(Fn,Dn),S1(Zi,Xe),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},Sn=new Zi;var ei=45e3,fr={},ps={};function Hi(r,e,t){r.K=1,r.v=ti(Ii(e)),r.s=t,r.P=!0,Ns(r,null)}function Ns(r,e){r.F=Date.now(),mi(r),r.A=Ii(r.v);var t=r.A,s=r.U;Array.isArray(s)||(s=[String(s)]),Ar(t.i,"t",s),r.C=0,t=r.l.H,r.h=new ai,r.g=_r(r.l,t?e:null,!r.s),0<r.N&&(r.L=new j2(Pt(r.La,r,r.g),r.N)),hi(r.S,r.g,"readystatechange",r.ib),e=r.H?At(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Br(),function qn(r,e,t,s,c,p){r.info(function(){if(r.g)if(p)for(var b="",x=p.split("&"),G=0;G<x.length;G++){var Q=x[G].split("=");if(1<Q.length){var le=Q[0];Q=Q[1];var Oe=le.split("_");b=2<=Oe.length&&"type"==Oe[1]?b+(le+"=")+Q+"&":b+(le+"=redacted&")}}else b=null;else b=p;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+t+"\n"+b})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Ti(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function Ci(r,e,t){let c,s=!0;for(;!r.I&&r.C<t.length;){if(c=Wi(r,t),c==ps){4==e&&(r.o=4,$2(14),s=!1),kn(r.j,r.m,null,"[Incomplete Response]");break}if(c==fr){r.o=4,$2(15),kn(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}kn(r.j,r.m,c,null),wi(r,c)}Ti(r)&&c!=ps&&c!=fr&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,$2(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),hn(e),e.K=!0,$2(11))):(kn(r.j,r.m,t,"[Invalid Chunked Response]"),Ur(r),Tr(r))}function Wi(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?ps:(t=Number(e.substring(t,s)),isNaN(t)?fr:(s+=1)+t>e.length?ps:(e=e.substr(s,t),r.C=s+t,e))}function mi(r){r.V=Date.now()+r.O,ts(r,r.O)}function ts(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=b2(Pt(r.gb,r),e)}function Mi(r){r.B&&(Me.clearTimeout(r.B),r.B=null)}function Tr(r){0==r.l.G||r.I||m2(r.l,r)}function Ur(r){Mi(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,_i(r.T),pi(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function wi(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||kt(t.h,r)))if(!r.J&&kt(t.h,r)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;pn(t),z(t)}nn(t),$2(18)}}else t.Ba=c[1],0<t.Ba-t.T&&37500>c[2]&&t.L&&0==t.A&&!t.v&&(t.v=b2(Pt(t.cb,t),6e3));if(1>=xr(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Nn(t,11)}else if((r.J||t.g==r)&&pn(t),!Un(e))for(c=t.Fa.g.parse(e),e=0;e<c.length;e++){let Q=c[e];if(t.T=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.I=Q[1],t.ka=Q[2];const le=Q[3];null!=le&&(t.ma=le,t.j.info("VER="+t.ma));const Oe=Q[4];null!=Oe&&(t.Ca=Oe,t.j.info("SVER="+t.Ca));const dt=Q[5];null!=dt&&"number"==typeof dt&&0<dt&&(t.J=s=1.5*dt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ht=r.g;if(Ht){const Wt=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wt){var p=s.h;p.g||-1==Wt.indexOf("spdy")&&-1==Wt.indexOf("quic")&&-1==Wt.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Cn(p,p.h),p.h=null))}if(s.D){const x1=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;x1&&(s.za=x1,n2(s.F,s.D,x1))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var b=r;if((s=t).sa=yr(s,s.H?s.ka:null,s.V),b.J){mr(s.h,b);var x=b,G=s.J;G&&x.setTimeout(G),x.B&&(Mi(x),mi(x)),s.g=b}else a1(s);0<t.i.length&&k(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Nn(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Nn(t,7):zt(t):"noop"!=Q[0]&&t.l&&t.l.wa(Q),t.A=0)}Br()}catch{}}function gi(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(rt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Di(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(rt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ai(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(rt(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),c=s.length,p=0;p<c;p++)e.call(void 0,s[p],t&&t[p],r)}(ce=er.prototype).setTimeout=function(r){this.O=r},ce.ib=function(r){r=r.target;const e=this.L;e&&3==re(r)?e.l():this.La(r)},ce.La=function(r){try{if(r==this.g)e:{const le=re(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>le)&&(3!=le||mn||this.g&&(this.h.h||this.g.fa()||de(this.g)))){this.I||4!=le||7==e||Br(),Mi(this);var t=this.g.aa();this.Y=t;t:if(Ti(this)){var s=de(this.g);r="";var c=s.length,p=4==re(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),Tr(this);var b="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:p&&e==c-1});s.splice(0,c),this.h.g+=r,this.C=0,b=this.h.g}else b=this.g.fa();if(this.i=200==t,function Vi(r,e,t,s,c,p,b){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+p+" "+b})}(this.j,this.u,this.A,this.m,this.U,le,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var x,G=this.g;if((x=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Un(x)){var Q=x;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,$2(12),Ur(this),Tr(this);break e}kn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wi(this,t)}this.P?(Ci(this,le,b),mn&&this.i&&3==le&&(hi(this.S,this.T,"tick",this.hb),this.T.start())):(kn(this.j,this.m,b,null),wi(this,b)),4==le&&Ur(this),this.i&&!this.I&&(4==le?m2(this.l,this):(this.i=!1,mi(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,$2(12)):(this.o=0,$2(13)),Ur(this),Tr(this)}}}catch{}},ce.hb=function(){if(this.g){var r=re(this.g),e=this.g.fa();this.C<e.length&&(Mi(this),Ci(this,r,e),this.i&&4!=r&&mi(this))}},ce.cancel=function(){this.I=!0,Ur(this)},ce.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function x2(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Br(),$2(17)),Ur(this),this.o=2,Tr(this)):ts(this,this.V-r)};var Fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f2(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof f2){this.h=void 0!==e?e:r.h,ns(this,r.j),this.s=r.s,this.g=r.g,h2(this,r.m),this.l=r.l,e=r.i;var t=new N2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hr(this,t),this.o=r.o}else r&&(t=String(r).match(Fi))?(this.h=!!e,ns(this,t[1]||"",!0),this.s=k2(t[2]||""),this.g=k2(t[3]||"",!0),h2(this,t[4]),this.l=k2(t[5]||"",!0),hr(this,t[6]||"",!0),this.o=k2(t[7]||"")):(this.h=!!e,this.i=new N2(null,this.h))}function Ii(r){return new f2(r)}function ns(r,e,t){r.j=t?k2(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function h2(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function hr(r,e,t){e instanceof N2?(r.i=e,function $r(r,e){e&&!r.j&&(w2(r),r.i=null,r.g.forEach(function(t,s){var c=s.toLowerCase();s!=c&&(p2(this,s),Ar(this,c,t))},r)),r.j=e}(r.i,r.h)):(t||(e=xi(e,Gr)),r.i=new N2(e,r.h))}function n2(r,e,t){r.i.set(e,t)}function ti(r){return n2(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function k2(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function xi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ms),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ms(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}f2.prototype.toString=function(){var r=[],e=this.j;e&&r.push(xi(e,qi,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(xi(e,qi,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(xi(t,"/"==t.charAt(0)?jr:In,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",xi(t,Ts)),r.join("")};var qi=/[#\/\?@]/g,In=/[#\?:]/g,jr=/[#\?]/g,Gr=/[#\?@]/g,Ts=/#/g;function N2(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function w2(r){r.g||(r.g=new Map,r.h=0,r.i&&function Us(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),c=null;if(0<=s){var p=r[t].substring(0,s);c=r[t].substring(s+1)}else p=r[t];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function p2(r,e){w2(r),e=tr(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function K1(r,e){return w2(r),e=tr(r,e),r.g.has(e)}function Ar(r,e,t){p2(r,e),0<t.length&&(r.i=null,r.g.set(tr(r,e),qt(t)),r.h+=t.length)}function tr(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function gs(r){this.l=r||pr,r=Me.PerformanceNavigationTiming?0<(r=Me.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Me.g&&Me.g.Ga&&Me.g.Ga()&&Me.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=N2.prototype).add=function(r,e){w2(this),this.i=null,r=tr(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){w2(this),this.g.forEach(function(t,s){t.forEach(function(c){r.call(e,c,s,this)},this)},this)},ce.oa=function(){w2(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const c=r[s];for(let p=0;p<c.length;p++)t.push(e[s])}return t},ce.W=function(r){w2(this);let e=[];if("string"==typeof r)K1(this,r)&&(e=e.concat(this.g.get(tr(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return w2(this),this.i=null,K1(this,r=tr(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const p=encodeURIComponent(String(s)),b=this.W(s);for(s=0;s<b.length;s++){var c=p;""!==b[s]&&(c+="="+encodeURIComponent(String(b[s]))),r.push(c)}}return this.i=r.join("&")};var pr=10;function nr(r){return!!r.h||!!r.g&&r.g.size>=r.j}function xr(r){return r.h?1:r.g?r.g.size:0}function kt(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Cn(r,e){r.g?r.g.add(e):r.h=e}function mr(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function zr(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return qt(r.i)}function D2(){}function eo(){this.g=new D2}function As(r,e,t){const s=t||"";try{gi(r,function(c,p){let b=c;He(c)&&(b=J1(c)),e.push(s+p+"="+encodeURIComponent(b))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function Zr(r,e,t,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function Lr(r){this.l=r.ac||null,this.j=r.jb||!1}function js(r,e){yt.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gs.prototype.cancel=function(){if(this.i=zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},D2.prototype.stringify=function(r){return Me.JSON.stringify(r,void 0)},D2.prototype.parse=function(r){return Me.JSON.parse(r,void 0)},S1(Lr,Xe),Lr.prototype.g=function(){return new js(this.l,this.j)},Lr.prototype.i=function(r){return function(){return r}}({}),S1(js,yt);var Is=0;function $(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function B(r){r.readyState=4,r.l=null,r.j=null,r.A=null,V(r)}function V(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=js.prototype).open=function(r,e){if(this.readyState!=Is)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,V(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||Me).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,B(this)),this.readyState=Is},ce.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,V(this)),this.g&&(this.readyState=3,V(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ce.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?B(this):V(this),3==this.readyState&&$(this)}},ce.Va=function(r){this.g&&(this.response=this.responseText=r,B(this))},ce.Ua=function(r){this.g&&(this.response=r,B(this))},ce.ga=function(){this.g&&B(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(js.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var se=Me.JSON.parse;function lt(r){yt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=w1,this.K=this.L=!1}S1(lt,yt);var w1="",Qn=/^https?$/i,gr=["POST","PUT"];function vs(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,is(r),vr(r)}function is(r){r.D||(r.D=!0,Qt(r,"complete"),Qt(r,"error"))}function rs(r){if(r.h&&typeof tt<"u"&&(!r.C[1]||4!=re(r)||2!=r.aa()))if(r.v&&4==re(r))Hn(r.Ha,0,r);else if(Qt(r,"readystatechange"),4==re(r)){r.h=!1;try{const x=r.aa();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===x){var c=String(r.H).match(Fi)[1]||null;if(!c&&Me.self&&Me.self.location){var p=Me.self.location.protocol;c=p.substr(0,p.length-1)}s=!Qn.test(c?c.toLowerCase():"")}t=s}if(t)Qt(r,"complete"),Qt(r,"success");else{r.m=6;try{var b=2<re(r)?r.g.statusText:""}catch{b=""}r.j=b+" ["+r.aa()+"]",is(r)}}finally{vr(r)}}}function vr(r,e){if(r.g){Y(r);const t=r.g,s=r.C[0]?Le:null;r.g=null,r.C=null,e||Qt(r,"ready");try{t.onreadystatechange=s}catch{}}}function Y(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Me.clearTimeout(r.A),r.A=null)}function re(r){return r.g?r.g.readyState:0}function de(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case w1:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function _e(r){let e="";return d1(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Ke(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=_e(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):n2(r,e,t))}function St(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ot(r){this.Ca=0,this.i=[],this.j=new G2,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=St("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=St("baseRetryDelayMs",5e3,r),this.bb=St("retryDelaySeedMs",1e4,r),this.$a=St("forwardChannelMaxRetries",2,r),this.ta=St("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new gs(r&&r.concurrentRequestLimit),this.Fa=new eo,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function zt(r){if(W(r),3==r.G){var e=r.U++,t=Ii(r.F);n2(t,"SID",r.I),n2(t,"RID",e),n2(t,"TYPE","terminate"),it(r,t),(e=new er(r,r.j,e,void 0)).K=2,e.v=ti(Ii(t)),t=!1,Me.navigator&&Me.navigator.sendBeacon&&(t=Me.navigator.sendBeacon(e.v.toString(),"")),!t&&Me.Image&&((new Image).src=e.v,t=!0),t||(e.g=_r(e.l,null),e.g.da(e.v)),e.F=Date.now(),mi(e)}Or(r)}function z(r){r.g&&(hn(r),r.g.cancel(),r.g=null)}function W(r){z(r),r.u&&(Me.clearTimeout(r.u),r.u=null),pn(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Me.clearTimeout(r.m),r.m=null)}function k(r){nr(r.h)||r.m||(r.m=!0,fi(r.Ja,r),r.C=0)}function be(r,e){var t;t=e?e.m:r.U++;const s=Ii(r.F);n2(s,"SID",r.I),n2(s,"RID",t),n2(s,"AID",r.T),it(r,s),r.o&&r.s&&Ke(s,r.o,r.s),t=new er(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=vt(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),Cn(r.h,t),Hi(t,s,e)}function it(r,e){r.ia&&d1(r.ia,function(t,s){n2(e,s,t)}),r.l&&gi({},function(t,s){n2(e,s,t)})}function vt(r,e,t){t=Math.min(r.i.length,t);var s=r.l?Pt(r.l.Ra,r.l,r):null;e:{var c=r.i;let p=-1;for(;;){const b=["count="+t];-1==p?0<t?(p=c[0].h,b.push("ofs="+p)):p=0:b.push("ofs="+p);let x=!0;for(let G=0;G<t;G++){let Q=c[G].h;const le=c[G].g;if(Q-=p,0>Q)p=Math.max(0,c[G].h-100),x=!1;else try{As(le,b,"req"+Q+"_")}catch{s&&s(le)}}if(x){s=b.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,s}function a1(r){r.g||r.u||(r.Z=1,fi(r.Ia,r),r.A=0)}function nn(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=b2(Pt(r.Ia,r),Kn(r,r.A)),r.A++,0))}function hn(r){null!=r.B&&(Me.clearTimeout(r.B),r.B=null)}function _n(r){r.g=new er(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=Ii(r.sa);n2(e,"RID","rpc"),n2(e,"SID",r.I),n2(e,"CI",r.L?"0":"1"),n2(e,"AID",r.T),n2(e,"TYPE","xmlhttp"),it(r,e),r.o&&r.s&&Ke(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=ti(Ii(e)),t.s=null,t.P=!0,Ns(t,r)}function pn(r){null!=r.v&&(Me.clearTimeout(r.v),r.v=null)}function m2(r,e){var t=null;if(r.g==e){pn(r),hn(r),r.g=null;var s=2}else{if(!kt(r.h,e))return;t=e.D,mr(r.h,e),s=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=r.C;Qt(s=z2(),new Ss(s,t)),k(r)}else a1(r);else if(3==(c=e.o)||0==c&&0<r.pa||!(1==s&&function ee(r,e){return!(xr(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=b2(Pt(r.Ja,r,e),Kn(r,r.C)),r.C++,0)))}(r,e)||2==s&&nn(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),c){case 1:Nn(r,5);break;case 4:Nn(r,10);break;case 3:Nn(r,6);break;default:Nn(r,2)}}function Kn(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function Nn(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=Pt(r.kb,r);t||(t=new f2("//www.google.com/images/cleardot.gif"),Me.location&&"http"==Me.location.protocol||ns(t,"https"),ti(t)),function ir(r,e){const t=new G2;if(Me.Image){const s=new Image;s.onload=T1(Zr,t,s,"TestLoadImage: loaded",!0,e),s.onerror=T1(Zr,t,s,"TestLoadImage: error",!1,e),s.onabort=T1(Zr,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=T1(Zr,t,s,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else $2(2);r.G=0,r.l&&r.l.va(e),Or(r),W(r)}function Or(r){if(r.G=0,r.la=[],r.l){const e=zr(r.h);(0!=e.length||0!=r.i.length)&&(fn(r.la,e),fn(r.la,r.i),r.h.i.length=0,qt(r.i),r.i.length=0),r.l.ua()}}function yr(r,e,t){var s=t instanceof f2?Ii(t):new f2(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),h2(s,s.m);else{var c=Me.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var p=new f2(null,void 0);s&&ns(p,s),e&&(p.g=e),c&&h2(p,c),t&&(p.l=t),s=p}return e=r.za,(t=r.D)&&e&&n2(s,t,e),n2(s,"VER",r.ma),it(r,s),s}function _r(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lt(t&&r.Da&&!r.ra?new Lr({jb:!0}):r.ra)).Ka(r.H),e}function br(){}function Rr(){if(En&&!(10<=Number(Yt)))throw Error("Environmental error: no available transport.")}function ci(r,e){yt.call(this),this.g=new Ot(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!Un(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Un(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new P2(this)}function xs(r){Y1.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Co(){Fn.call(this),this.status=1}function P2(r){this.g=r}(ce=lt.prototype).Ka=function(r){this.L=r},ce.da=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sn.g(),this.C=function xt(r){return r.h||(r.h=r.i())}(this.u?this.u:Sn),this.g.onreadystatechange=Pt(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(p){return void vs(this,p)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)t.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const p of s.keys())t.set(p,s.get(p))}s=Array.from(t.keys()).find(p=>"content-type"==p.toLowerCase()),c=Me.FormData&&r instanceof Me.FormData,!(0<=o2(gr,e))||s||c||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,b]of t)this.g.setRequestHeader(p,b);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Y(this),0<this.B&&((this.K=function rr(r){return En&&function u1(){return function l2(r){var e=wt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Xn(String(ut)).split("."),t=Xn("9").split("."),s=Math.max(e.length,t.length);for(let b=0;0==r&&b<s;b++){var c=e[b]||"",p=t[b]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;r=jn(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||jn(0==c[2].length,0==p[2].length)||jn(c[2],p[2]),c=c[3],p=p[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.qa,this)):this.A=Hn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(p){vs(this,p)}},ce.qa=function(){typeof tt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Qt(this,"complete"),Qt(this,"abort"),vr(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vr(this,!0)),lt.X.M.call(this)},ce.Ha=function(){this.s||(this.F||this.v||this.l?rs(this):this.fb())},ce.fb=function(){rs(this)},ce.aa=function(){try{return 2<re(this)?this.g.status:-1}catch{return-1}},ce.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),se(e)}},ce.Ea=function(){return this.m},ce.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Ot.prototype).ma=8,ce.G=1,ce.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const c=new er(this,this.j,r,void 0);let p=this.s;if(this.S&&(p?(p=At(p),z1(p,this.S)):p=this.S),null!==this.o||this.N||(c.H=p,p=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=vt(this,c,e),n2(t=Ii(this.F),"RID",r),n2(t,"CVER",22),this.D&&n2(t,"X-HTTP-Session-Id",this.D),it(this,t),p&&(this.N?e="headers="+encodeURIComponent(String(_e(p)))+"&"+e:this.o&&Ke(t,this.o,p)),Cn(this.h,c),this.Ya&&n2(t,"TYPE","init"),this.O?(n2(t,"$req",e),n2(t,"SID","null"),c.Z=!0,Hi(c,t,null)):Hi(c,t,e),this.G=2}}else 3==this.G&&(r?be(this,r):0==this.i.length||nr(this.h)||be(this))},ce.Ia=function(){if(this.u=null,_n(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=b2(Pt(this.eb,this),r)}},ce.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,$2(10),z(this),_n(this))},ce.cb=function(){null!=this.v&&(this.v=null,z(this),nn(this),$2(19))},ce.kb=function(r){r?(this.j.info("Successfully pinged google.com"),$2(2)):(this.j.info("Failed to ping google.com"),$2(1))},(ce=br.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Ra=function(){},Rr.prototype.g=function(r,e){return new ci(r,e)},S1(ci,yt),ci.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;$2(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=yr(r,null,r.V),k(r)},ci.prototype.close=function(){zt(this.g)},ci.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=J1(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&k(e)},ci.prototype.M=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,ci.X.M.call(this)},S1(xs,Y1),S1(Co,Fn),S1(P2,br),P2.prototype.xa=function(){Qt(this.g,"a")},P2.prototype.wa=function(r){Qt(this.g,new xs(r))},P2.prototype.va=function(r){Qt(this.g,new Co)},P2.prototype.ua=function(){Qt(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,ci.prototype.send=ci.prototype.u,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,Ye.NO_ERROR=0,Ye.TIMEOUT=8,Ye.HTTP_ERROR=6,$e.COMPLETE="complete",Xt.EventType=I1,I1.OPEN="a",I1.CLOSE="b",I1.ERROR="c",I1.MESSAGE="d",yt.prototype.listen=yt.prototype.N,lt.prototype.listenOnce=lt.prototype.O,lt.prototype.getLastError=lt.prototype.Oa,lt.prototype.getLastErrorCode=lt.prototype.Ea,lt.prototype.getStatus=lt.prototype.aa,lt.prototype.getResponseJson=lt.prototype.Sa,lt.prototype.getResponseText=lt.prototype.fa,lt.prototype.send=lt.prototype.da,lt.prototype.setWithCredentials=lt.prototype.Ka;var na=Mt.createWebChannelTransport=function(){return new Rr},V4=Mt.getStatEventTarget=function(){return z2()},xa=Mt.ErrorCode=Ye,d4=Mt.EventType=$e,ia=Mt.Event=bi,xo=Mt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},oo=Mt.FetchXmlHttpFactory=Lr,zo=Mt.WebChannel=Xt,za=Mt.XhrIo=lt;const La="@firebase/firestore";class zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zi.UNAUTHENTICATED=new zi(null),zi.GOOGLE_CREDENTIALS=new zi("google-credentials-uid"),zi.FIRST_PARTY=new zi("first-party-uid"),zi.MOCK_USER=new zi("mock-user");let li="9.15.0";const ss=new mt.Yd("@firebase/firestore");function to(){return ss.logLevel}function Kt(r,...e){if(ss.logLevel<=mt.in.DEBUG){const t=e.map(Lo);ss.debug(`Firestore (${li}): ${r}`,...t)}}function Ei(r,...e){if(ss.logLevel<=mt.in.ERROR){const t=e.map(Lo);ss.error(`Firestore (${li}): ${r}`,...t)}}function ys(r,...e){if(ss.logLevel<=mt.in.WARN){const t=e.map(Lo);ss.warn(`Firestore (${li}): ${r}`,...t)}}function Lo(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function f1(r="Unexpected state"){const e=`FIRESTORE (${li}) INTERNAL ASSERTION FAILED: `+r;throw Ei(e),new Error(e)}function _1(r,e){r||f1()}function c1(r,e){return r}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends nt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Z2{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Li{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zi.UNAUTHENTICATED))}shutdown(){}}class Wr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sa{constructor(e){this.t=e,this.currentUser=zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let c=this.i;const p=Q=>this.i!==c?(c=this.i,t(Q)):Promise.resolve();let b=new Z2;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new Z2,e.enqueueRetryable(()=>p(this.currentUser))};const x=()=>{const Q=b;e.enqueueRetryable((0,je.Z)(function*(){yield Q.promise,yield p(s.currentUser)}))},G=Q=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Q=>G(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?G(Q):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new Z2)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_1("string"==typeof s.accessToken),new Li(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _1(null===e||"string"==typeof e),new zi(e)}}class ao{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c,this.type="FirstParty",this.user=zi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_1(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class oa{constructor(e,t,s,c){this.h=e,this.l=t,this.m=s,this.g=c}getToken(){return Promise.resolve(new ao(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ni{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=p=>{null!=p.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const b=p.token!==this.A;return this.A=p.token,Kt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const c=p=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?c(p):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_1("string"==typeof t.token),this.A=t.token,new aa(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ca(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class co{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const c=ca(40);for(let p=0;p<c.length;++p)s.length<20&&c[p]<t&&(s+=e.charAt(c[p]%e.length))}return s}}function rn(r,e){return r<e?-1:r>e?1:0}function Cr(r,e,t){return r.length===e.length&&r.every((s,c)=>t(s,e[c]))}function la(r){return r+"\0"}class L2{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return L2.fromMillis(Date.now())}static fromDate(e){return L2.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new L2(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V1{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V1(e)}static min(){return new V1(new L2(0,0))}static max(){return new V1(new L2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class W2{constructor(e,t,s){void 0===t?t=0:t>e.length&&f1(),void 0===s?s=e.length-t:s>e.length-t&&f1(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===W2.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof W2?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let c=0;c<s;c++){const p=e.get(c),b=t.get(c);if(p<b)return-1;if(p>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gn extends W2{construct(e,t,s){return new Gn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Bt(bt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(c=>c.length>0))}return new Gn(t)}static emptyPath(){return new Gn([])}}const Oo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends W2{construct(e,t,s){return new $n(e,t,s)}static isValidIdentifier(e){return Oo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $n(["__name__"])}static fromServerFormat(e){const t=[];let s="",c=0;const p=()=>{if(0===s.length)throw new Bt(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let b=!1;for(;c<e.length;){const x=e[c];if("\\"===x){if(c+1===e.length)throw new Bt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[c+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new Bt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=G,c+=2}else"`"===x?(b=!b,c++):"."!==x||b?(s+=x,c++):(p(),c++)}if(p(),b)throw new Bt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(t)}static emptyPath(){return new $n([])}}class t1{constructor(e){this.path=e}static fromPath(e){return new t1(Gn.fromString(e))}static fromName(e){return new t1(Gn.fromString(e).popFirst(5))}static empty(){return new t1(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t1(new Gn(e.slice()))}}class Gs{constructor(e,t,s,c){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=c}}function $s(r){return r.fields.find(e=>2===e.kind)}function Bi(r){return r.fields.filter(e=>2!==e.kind)}Gs.UNKNOWN_ID=-1;class _s{constructor(e,t){this.fieldPath=e,this.kind=t}}class g2{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new g2(0,as.min())}}function ua(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,c=V1.fromTimestamp(1e9===s?new L2(t+1,0):new L2(t,s));return new as(c,t1.empty(),e)}function f4(r){return new as(r.readTime,r.key,-1)}class as{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new as(V1.min(),t1.empty(),-1)}static max(){return new as(V1.max(),t1.empty(),-1)}}function Ra(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=t1.comparator(r.documentKey,e.documentKey),0!==t?t:rn(r.largestBatchId,e.largestBatchId))}const H4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function da(r){return Os.apply(this,arguments)}function Os(){return Os=(0,je.Z)(function*(r){if(r.code!==bt.FAILED_PRECONDITION||r.message!==H4)throw r;Kt("LocalStore","Unexpectedly lost primary lease")}),Os.apply(this,arguments)}class gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&f1(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gt((s,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,c)},this.catchCallback=p=>{this.wrapFailure(t,p).next(s,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gt?t:gt.resolve(t)}catch(t){return gt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.reject(t)}static resolve(e){return new gt((t,s)=>{t(e)})}static reject(e){return new gt((t,s)=>{s(e)})}static waitFor(e){return new gt((t,s)=>{let c=0,p=0,b=!1;e.forEach(x=>{++c,x.next(()=>{++p,b&&p===c&&t()},G=>s(G))}),b=!0,p===c&&t()})}static or(e){let t=gt.resolve(!1);for(const s of e)t=t.next(c=>c?gt.resolve(c):s());return t}static forEach(e,t){const s=[];return e.forEach((c,p)=>{s.push(t.call(this,c,p))}),this.waitFor(s)}static mapArray(e,t){return new gt((s,c)=>{const p=e.length,b=new Array(p);let x=0;for(let G=0;G<p;G++){const Q=G;t(e[Q]).next(le=>{b[Q]=le,++x,x===p&&s(b)},le=>c(le))}})}static doWhile(e,t){return new gt((s,c)=>{const p=()=>{!0===e()?t().next(()=>{p()},c):s()};p()})}}class fa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Z2,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Rs(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const c=pa(s.target.error);this.P.reject(new Rs(e,c))}}static open(e,t,s,c){try{return new fa(t,e.transaction(c,s))}catch(p){throw new Rs(t,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Kt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ha(t)}}class u2{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===u2.D((0,nt.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Kt("SimpleDb","Removing database:",e),Oi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,nt.hl)())return!1;if(u2.N())return!0;const e=(0,nt.z$)(),t=u2.D(e),s=0<t&&t<10,c=u2.k(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,je.Z)(function*(){return t.db||(Kt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,c)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=b=>{s(b.target.result)},p.onblocked=()=>{c(new Rs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=b=>{const x=b.target.error;c("VersionError"===x.name?new Bt(bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new Bt(bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Rs(e,x))},p.onupgradeneeded=b=>{Kt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.S.$(b.target.result,p.transaction,b.oldVersion,t.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,c){var p=this;return(0,je.Z)(function*(){const b="readonly"===t;let x=0;for(;;){++x;try{p.db=yield p.F(e);const G=fa.open(p.db,e,b?"readonly":"readwrite",s),Q=c(G).next(le=>(G.V(),le)).catch(le=>(G.abort(le),gt.reject(le))).toPromise();return Q.catch(()=>{}),yield G.v,Q}catch(G){const Q=G,le="FirebaseError"!==Q.name&&x<3;if(Kt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",le),p.close(),!le)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Mo{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Oi(this.q.delete())}}class Rs extends Bt{constructor(e,t){super(bt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function no(r){return"IndexedDbTransactionError"===r.name}class ha{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Kt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Oi(s)}add(e){return Kt("SimpleDb","ADD",this.store.name,e,e),Oi(this.store.add(e))}get(e){return Oi(this.store.get(e)).next(t=>(void 0===t&&(t=null),Kt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Kt("SimpleDb","DELETE",this.store.name,e),Oi(this.store.delete(e))}count(){return Kt("SimpleDb","COUNT",this.store.name),Oi(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const c=this.cursor(s),p=[];return this.H(c,(b,x)=>{p.push(x)}).next(()=>p)}{const c=this.store.getAll(s.range);return new gt((p,b)=>{c.onerror=x=>{b(x.target.error)},c.onsuccess=x=>{p(x.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new gt((c,p)=>{s.onerror=b=>{p(b.target.error)},s.onsuccess=b=>{c(b.target.result)}})}Y(e,t){Kt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const c=this.cursor(s);return this.H(c,(p,b,x)=>x.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const c=this.cursor(s);return this.H(c,t)}tt(e){const t=this.cursor({});return new gt((s,c)=>{t.onerror=p=>{const b=pa(p.target.error);c(b)},t.onsuccess=p=>{const b=p.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():s()}):s()}})}H(e,t){const s=[];return new gt((c,p)=>{e.onerror=b=>{p(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void c();const G=new Mo(x),Q=t(x.primaryKey,x.value,G);if(Q instanceof gt){const le=Q.catch(Oe=>(G.done(),gt.reject(Oe)));s.push(le)}G.isDone?c():null===G.G?x.continue():x.continue(G.G)}}).next(()=>gt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Oi(r){return new gt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const c=pa(s.target.error);t(c)}})}let qr=!1;function pa(r){const e=u2.D((0,nt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qr||(qr=!0,setTimeout(()=>{throw s},0)),s}}return r}class Kr{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Kt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,je.Z)(function*(){t.task=null;try{Kt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){no(s)?Kt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield da(s)}yield t.nt(6e4)}))}}class lo{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,je.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let c=t,p=!0;return gt.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!s.has(b))return Kt("IndexBackiller",`Processing collection: ${b}`),this.rt(e,b,c).next(x=>{c-=x,s.add(b)});p=!1})).next(()=>t-c)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,s).next(p=>{const b=p.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.ot(c,p)).next(x=>(Kt("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>b.size)}))}ot(e,t){let s=e;return t.changes.forEach((c,p)=>{const b=f4(p);Ra(b,s)>0&&(s=b)}),new as(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let sr=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=c=>this.ut(c),this.ct=c=>s.writeSequenceNumber(c))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return r.at=-1,r})();class N{constructor(e,t,s,c,p,b,x,G){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=c,this.ssl=p,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.useFetchStreams=G}}class T{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new T("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof T&&e.projectId===this.projectId&&e.database===this.database}}function E(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function O(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function U(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function te(r){return null==r}function ge(r){return 0===r&&1/r==-1/0}function Ae(r){return"number"==typeof r&&Number.isInteger(r)&&!ge(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Zt(t)}static fromUint8Array(e){const t=function(s){let c="";for(let p=0;p<s.length;++p)c+=String.fromCharCode(s[p]);return c}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const xn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function b1(r){if(_1(!!r),"string"==typeof r){let e=0;const t=xn.exec(r);if(_1(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:sn(r.seconds),nanos:sn(r.nanos)}}function sn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ui(r){return"string"==typeof r?Zt.fromBase64String(r):Zt.fromUint8Array(r)}function bs(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uo(r){const e=r.mapValue.fields.__previous_value__;return bs(e)?uo(e):e}function Ri(r){const e=b1(r.mapValue.fields.__local_write_time__.timestampValue);return new L2(e.seconds,e.nanos)}const Yr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cs={nullValue:"NULL_VALUE"};function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bs(r)?4:ne(r)?9007199254740991:10:f1()}function Ws(r,e){if(r===e)return!0;const t=Mr(r);if(t!==Mr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ri(r).isEqual(Ri(e));case 3:return function(s,c){if("string"==typeof s.timestampValue&&"string"==typeof c.timestampValue&&s.timestampValue.length===c.timestampValue.length)return s.timestampValue===c.timestampValue;const p=b1(s.timestampValue),b=b1(c.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,Ui(r.bytesValue).isEqual(Ui(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,c){return sn(s.geoPointValue.latitude)===sn(c.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(c.geoPointValue.longitude)}(r,e);case 2:return function(s,c){if("integerValue"in s&&"integerValue"in c)return sn(s.integerValue)===sn(c.integerValue);if("doubleValue"in s&&"doubleValue"in c){const p=sn(s.doubleValue),b=sn(c.doubleValue);return p===b?ge(p)===ge(b):isNaN(p)&&isNaN(b)}return!1}(r,e);case 9:return Cr(r.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:return function(s,c){const p=s.mapValue.fields||{},b=c.mapValue.fields||{};if(E(p)!==E(b))return!1;for(const x in p)if(p.hasOwnProperty(x)&&(void 0===b[x]||!Ws(p[x],b[x])))return!1;return!0}(r,e);default:return f1()}var c}function wo(r,e){return void 0!==(r.values||[]).find(t=>Ws(t,e))}function Jr(r,e){if(r===e)return 0;const t=Mr(r),s=Mr(e);if(t!==s)return rn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(r.booleanValue,e.booleanValue);case 2:return function(c,p){const b=sn(c.integerValue||c.doubleValue),x=sn(p.integerValue||p.doubleValue);return b<x?-1:b>x?1:b===x?0:isNaN(b)?isNaN(x)?0:-1:1}(r,e);case 3:return F4(r.timestampValue,e.timestampValue);case 4:return F4(Ri(r),Ri(e));case 5:return rn(r.stringValue,e.stringValue);case 6:return function(c,p){const b=Ui(c),x=Ui(p);return b.compareTo(x)}(r.bytesValue,e.bytesValue);case 7:return function(c,p){const b=c.split("/"),x=p.split("/");for(let G=0;G<b.length&&G<x.length;G++){const Q=rn(b[G],x[G]);if(0!==Q)return Q}return rn(b.length,x.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,p){const b=rn(sn(c.latitude),sn(p.latitude));return 0!==b?b:rn(sn(c.longitude),sn(p.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,p){const b=c.values||[],x=p.values||[];for(let G=0;G<b.length&&G<x.length;++G){const Q=Jr(b[G],x[G]);if(Q)return Q}return rn(b.length,x.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===Yr.mapValue&&p===Yr.mapValue)return 0;if(c===Yr.mapValue)return 1;if(p===Yr.mapValue)return-1;const b=c.fields||{},x=Object.keys(b),G=p.fields||{},Q=Object.keys(G);x.sort(),Q.sort();for(let le=0;le<x.length&&le<Q.length;++le){const Oe=rn(x[le],Q[le]);if(0!==Oe)return Oe;const dt=Jr(b[x[le]],G[Q[le]]);if(0!==dt)return dt}return rn(x.length,Q.length)}(r.mapValue,e.mapValue);default:throw f1()}}function F4(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return rn(r,e);const t=b1(r),s=b1(e),c=rn(t.seconds,s.seconds);return 0!==c?c:rn(t.nanos,s.nanos)}function cs(r){return h3(r)}function h3(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const c=b1(s);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ui(r.bytesValue).toBase64():"referenceValue"in r?t1.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let c="[",p=!0;for(const b of s.values||[])p?p=!1:c+=",",c+=h3(b);return c+"]"}(r.arrayValue):"mapValue"in r?function(s){const c=Object.keys(s.fields||{}).sort();let p="{",b=!0;for(const x of c)b?b=!1:p+=",",p+=`${x}:${h3(s.fields[x])}`;return p+"}"}(r.mapValue):f1();var e}function qs(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function fo(r){return!!r&&"integerValue"in r}function ka(r){return!!r&&"arrayValue"in r}function ji(r){return!!r&&"nullValue"in r}function p3(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function H(r){return!!r&&"mapValue"in r}function j(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return O(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=j(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=j(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ne(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function ve(r){return"nullValue"in r?Cs:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?qs(T.empty(),t1.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:f1()}function et(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?qs(T.empty(),t1.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Yr:f1()}function _t(r,e){const t=Jr(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function jt(r,e){const t=Jr(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class C1{constructor(e,t){this.position=e,this.inclusive=t}}function U1(r,e,t){let s=0;for(let c=0;c<r.position.length;c++){const p=e[c],b=r.position[c];if(s=p.field.isKeyField()?t1.comparator(t1.fromName(b.referenceValue),t.key):Jr(b,t.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function G1(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ws(r.position[t],e.position[t]))return!1;return!0}class Yn{}class g1 extends Yn{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new T6(e,t,s):"array-contains"===t?new A0(e,s):"in"===t?new Z3(e,s):"not-in"===t?new m3(e,s):"array-contains-any"===t?new p4(e,s):new g1(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new T0(e,s):new A6(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jr(t,this.value)):null!==t&&Mr(this.value)===Mr(t)&&this.matchesComparison(Jr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return f1()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mn extends Yn{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Mn(e,t)}matches(e){return q2(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function q2(r){return"and"===r.op}function ho(r){return"or"===r.op}function Pa(r){return Ro(r)&&q2(r)}function Ro(r){for(const e of r.filters)if(e instanceof Mn)return!1;return!0}function wr(r){if(r instanceof g1)return r.field.canonicalString()+r.op.toString()+cs(r.value);{const e=r.filters.map(t=>wr(t)).join(",");return`${r.op}(${e})`}}function ls(r,e){return r instanceof g1?(t=r,(s=e)instanceof g1&&t.op===s.op&&t.field.isEqual(s.field)&&Ws(t.value,s.value)):r instanceof Mn?function(t,s){return s instanceof Mn&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((c,p,b)=>c&&ls(p,s.filters[b]),!0)}(r,e):void f1();var t,s}function Va(r,e){const t=r.filters.concat(e);return Mn.create(t,r.op)}function N0(r){return r instanceof g1?`${(e=r).field.canonicalString()} ${e.op} ${cs(e.value)}`:r instanceof Mn?function(e){return e.op.toString()+" {"+e.getFilters().map(N0).join(" ,")+"}"}(r):"Filter";var e}class T6 extends g1{constructor(e,t,s){super(e,t,s),this.key=t1.fromName(s.referenceValue)}matches(e){const t=t1.comparator(e.key,this.key);return this.matchesComparison(t)}}class T0 extends g1{constructor(e,t){super(e,"in",t),this.keys=I6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class A6 extends g1{constructor(e,t){super(e,"not-in",t),this.keys=I6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I6(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>t1.fromName(s.referenceValue))}class A0 extends g1{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ka(t)&&wo(t.arrayValue,this.value)}}class Z3 extends g1{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wo(this.value.arrayValue,t)}}class m3 extends g1{constructor(e,t){super(e,"not-in",t)}matches(e){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wo(this.value.arrayValue,t)}}class p4 extends g1{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ka(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>wo(this.value.arrayValue,s))}}class Ha{constructor(e,t="asc"){this.field=e,this.dir=t}}function x6(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class or{constructor(e,t){this.comparator=e,this.root=t||Ms.EMPTY}insert(e,t){return new or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ms.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ms.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return t+s.left.size;c<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new B4(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new B4(this.root,e,this.comparator,!1)}getReverseIterator(){return new B4(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new B4(this.root,e,this.comparator,!0)}}class B4{constructor(e,t,s,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?s(e.key,t):1,t&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ms{constructor(e,t,s,c,p){this.key=e,this.value=t,this.color=s??Ms.RED,this.left=c??Ms.EMPTY,this.right=p??Ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,c,p){return new Ms(e??this.key,t??this.value,s??this.color,c??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let c=this;const p=s(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,t,s),null):0===p?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ms.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return Ms.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw f1();const e=this.left.check();if(e!==this.right.check())throw f1();return e+(this.isRed()?0:1)}}Ms.EMPTY=null,Ms.RED=!0,Ms.BLACK=!1,Ms.EMPTY=new class{constructor(){this.size=0}get key(){throw f1()}get value(){throw f1()}get color(){throw f1()}get left(){throw f1()}get right(){throw f1()}copy(r,e,t,s,c){return this}insert(r,e,t){return new Ms(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ii{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z6(this.data.getIterator())}getIteratorFrom(e){return new z6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=s.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ii(this.comparator);return t.data=e,t}}class z6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fa(r){return r.hasNext()?r.getNext():void 0}class Ks{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new Ks([])}unionWith(e){let t=new ii($n.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ks(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cr(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class ws{constructor(e){this.value=e}static empty(){return new ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!H(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=j(t)}setAll(e){let t=$n.emptyPath(),s={},c=[];e.forEach((b,x)=>{if(!t.isImmediateParentOf(x)){const G=this.getFieldsMap(t);this.applyChanges(G,s,c),s={},c=[],t=x.popLast()}b?s[x.lastSegment()]=j(b):c.push(x.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,s,c)}delete(e){const t=this.field(e.popLast());H(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=t.mapValue.fields[e.get(s)];H(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,s){O(t,(c,p)=>e[c]=p);for(const c of s)delete e[c]}clone(){return new ws(j(this.value))}}function W3(r){const e=[];return O(r.fields,(t,s)=>{const c=new $n([t]);if(H(s)){const p=W3(s.mapValue).fields;if(0===p.length)e.push(c);else for(const b of p)e.push(c.child(b))}else e.push(c)}),new Ks(e)}class ki{constructor(e,t,s,c,p,b,x){this.key=e,this.documentType=t,this.version=s,this.readTime=c,this.createTime=p,this.data=b,this.documentState=x}static newInvalidDocument(e){return new ki(e,0,V1.min(),V1.min(),V1.min(),ws.empty(),0)}static newFoundDocument(e,t,s,c){return new ki(e,1,t,V1.min(),s,c,0)}static newNoDocument(e,t){return new ki(e,2,t,V1.min(),V1.min(),ws.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,V1.min(),V1.min(),ws.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(V1.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V1.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class k8{constructor(e,t=null,s=[],c=[],p=null,b=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=c,this.limit=p,this.startAt=b,this.endAt=x,this.ft=null}}function I0(r,e=null,t=[],s=[],c=null,p=null,b=null){return new k8(r,e,t,s,c,p,b)}function m4(r){const e=c1(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>wr(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),te(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>cs(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>cs(s)).join(",")),e.ft=t}return e.ft}function q3(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!x6(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ls(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!G1(r.startAt,e.startAt)&&G1(r.endAt,e.endAt)}function K3(r){return t1.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function g3(r,e){return r.filters.filter(t=>t instanceof g1&&t.field.isEqual(e))}function Y3(r,e,t){let s=Cs,c=!0;for(const p of g3(r,e)){let b=Cs,x=!0;switch(p.op){case"<":case"<=":b=ve(p.value);break;case"==":case"in":case">=":b=p.value;break;case">":b=p.value,x=!1;break;case"!=":case"not-in":b=Cs}_t({value:s,inclusive:c},{value:b,inclusive:x})<0&&(s=b,c=x)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];_t({value:s,inclusive:c},{value:b,inclusive:t.inclusive})<0&&(s=b,c=t.inclusive);break}return{value:s,inclusive:c}}function v3(r,e,t){let s=Yr,c=!0;for(const p of g3(r,e)){let b=Yr,x=!0;switch(p.op){case">=":case">":b=et(p.value),x=!1;break;case"==":case"in":case"<=":b=p.value;break;case"<":b=p.value,x=!1;break;case"!=":case"not-in":b=Yr}jt({value:s,inclusive:c},{value:b,inclusive:x})>0&&(s=b,c=x)}if(null!==t)for(let p=0;p<r.orderBy.length;++p)if(r.orderBy[p].field.isEqual(e)){const b=t.position[p];jt({value:s,inclusive:c},{value:b,inclusive:t.inclusive})>0&&(s=b,c=t.inclusive);break}return{value:s,inclusive:c}}class ko{constructor(e,t=null,s=[],c=[],p=null,b="F",x=null,G=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=c,this.limit=p,this.limitType=b,this.startAt=x,this.endAt=G,this.dt=null,this._t=null}}function U4(r,e,t,s,c,p,b,x){return new ko(r,e,t,s,c,p,b,x)}function ks(r){return new ko(r)}function L6(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function O6(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function j4(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function J3(r){return null!==r.collectionGroup}function Po(r){const e=c1(r);if(null===e.dt){e.dt=[];const t=j4(e),s=O6(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new Ha(t)),e.dt.push(new Ha($n.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.dt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ha($n.keyField(),p))}}}return e.dt}function Qr(r){const e=c1(r);if(!e._t)if("F"===e.limitType)e._t=I0(e.path,e.collectionGroup,Po(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of Po(e))t.push(new Ha(p.field,"desc"===p.dir?"asc":"desc"));const s=e.endAt?new C1(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new C1(e.startAt.position,e.startAt.inclusive):null;e._t=I0(e.path,e.collectionGroup,t,e.filters,e.limit,s,c)}return e._t}function R6(r,e){e.getFirstInequalityField(),j4(r);const t=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Ps(r,e,t){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function V2(r,e){return q3(Qr(r),Qr(e))&&r.limitType===e.limitType}function y3(r){return`${m4(Qr(r))}|lt:${r.limitType}`}function _3(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>N0(s)).join(", ")}]`),te(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>cs(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>cs(s)).join(",")),`Target(${t})`}(Qr(r))}; limitType=${r.limitType})`}function ar(r,e){return e.isFoundDocument()&&function(t,s){const c=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):t1.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(r,e)&&function(t,s){for(const c of Po(t))if(!c.field.isKeyField()&&null===s.data.field(c.field))return!1;return!0}(r,e)&&function(t,s){for(const c of t.filters)if(!c.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(c,p,b){const x=U1(c,p,b);return c.inclusive?x<=0:x<0}(t.startAt,Po(t),s)||t.endAt&&!function(c,p,b){const x=U1(c,p,b);return c.inclusive?x>=0:x>0}(t.endAt,Po(t),s)));var t,s}function b3(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k6(r){return(e,t)=>{let s=!1;for(const c of Po(r)){const p=po(c,e,t);if(0!==p)return p;s=s||c.field.isKeyField()}return 0}}function po(r,e,t){const s=r.field.isKeyField()?t1.comparator(e.key,t.key):function(c,p,b){const x=p.data.field(c),G=b.data.field(c);return null!==x&&null!==G?Jr(x,G):f1()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return f1()}}function us(r,e){if(r.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ge(e)?"-0":e}}function Do(r){return{integerValue:""+r}}function ma(r,e){return Ae(e)?Do(e):us(r,e)}class G4{constructor(){this._=void 0}}function Q3(r,e,t){return r instanceof Vo?function(s,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(t,e):r instanceof io?Ho(r,e):r instanceof Ys?$4(r,e):function(s,c){const p=V6(s,c),b=Ba(p)+Ba(s.gt);return fo(p)&&fo(s.gt)?Do(b):us(s.yt,b)}(r,e)}function P6(r,e,t){return r instanceof io?Ho(r,e):r instanceof Ys?$4(r,e):t}function V6(r,e){return r instanceof Fo?fo(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Vo extends G4{}class io extends G4{constructor(e){super(),this.elements=e}}function Ho(r,e){const t=ga(e);for(const s of r.elements)t.some(c=>Ws(c,s))||t.push(s);return{arrayValue:{values:t}}}class Ys extends G4{constructor(e){super(),this.elements=e}}function $4(r,e){let t=ga(e);for(const s of r.elements)t=t.filter(c=>!Ws(c,s));return{arrayValue:{values:t}}}class Fo extends G4{constructor(e,t){super(),this.yt=e,this.gt=t}}function Ba(r){return sn(r.integerValue||r.doubleValue)}function ga(r){return ka(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ua{constructor(e,t){this.field=e,this.transform=t}}class g4{constructor(e,t){this.version=e,this.transformResults=t}}class Pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function X3(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class ja{}function Z4(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ga(r.key,Pi.none()):new v4(r.key,r.data,Pi.none());{const t=r.data,s=ws.empty();let c=new ii($n.comparator);for(let p of e.fields)if(!c.has(p)){let b=t.field(p);null===b&&p.length>1&&(p=p.popLast(),b=t.field(p)),null===b?s.delete(p):s.set(p,b),c=c.add(p)}return new ya(r.key,s,new Ks(c.toArray()),Pi.none())}}function z0(r,e,t){r instanceof v4?function(s,c,p){const b=s.value.clone(),x=L0(s.fieldTransforms,c,p.transformResults);b.setAll(x),c.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(r,e,t):r instanceof ya?function(s,c,p){if(!X3(s.precondition,c))return void c.convertToUnknownDocument(p.version);const b=L0(s.fieldTransforms,c,p.transformResults),x=c.data;x.setAll(C3(s)),x.setAll(b),c.convertToFoundDocument(p.version,x).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function e6(r,e,t,s){return r instanceof v4?function(c,p,b,x){if(!X3(c.precondition,p))return b;const G=c.value.clone(),Q=O0(c.fieldTransforms,x,p);return G.setAll(Q),p.convertToFoundDocument(p.version,G).setHasLocalMutations(),null}(r,e,t,s):r instanceof ya?function(c,p,b,x){if(!X3(c.precondition,p))return b;const G=O0(c.fieldTransforms,x,p),Q=p.data;return Q.setAll(C3(c)),Q.setAll(G),p.convertToFoundDocument(p.version,Q).setHasLocalMutations(),null===b?null:b.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(le=>le.field))}(r,e,t,s):(b=t,X3(r.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b);var p,b}function va(r,e){let t=null;for(const s of r.fieldTransforms){const c=e.data.field(s.field),p=V6(s.transform,c||null);null!=p&&(null===t&&(t=ws.empty()),t.set(s.field,p))}return t||null}function t6(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Cr(t,s,(c,p)=>function x0(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof io&&s instanceof io||t instanceof Ys&&s instanceof Ys?Cr(t.elements,s.elements,Ws):t instanceof Fo&&s instanceof Fo?Ws(t.gt,s.gt):t instanceof Vo&&s instanceof Vo);var t,s}(c,p))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class v4 extends ja{constructor(e,t,s,c=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ya extends ja{constructor(e,t,s,c,p=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function C3(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function L0(r,e,t){const s=new Map;_1(r.length===t.length);for(let c=0;c<t.length;c++){const p=r[c],b=p.transform,x=e.data.field(p.field);s.set(p.field,P6(b,x,t[c]))}return s}function O0(r,e,t){const s=new Map;for(const c of r){const p=c.transform,b=t.data.field(c.field);s.set(c.field,Q3(p,b,e))}return s}class Ga extends ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n6 extends ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $a{constructor(e){this.count=e}}var Gi,r2;function Za(r){switch(r){default:return f1();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function M3(r){if(void 0===r)return Ei("GRPC error has no .code"),bt.UNKNOWN;switch(r){case Gi.OK:return bt.OK;case Gi.CANCELLED:return bt.CANCELLED;case Gi.UNKNOWN:return bt.UNKNOWN;case Gi.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case Gi.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case Gi.INTERNAL:return bt.INTERNAL;case Gi.UNAVAILABLE:return bt.UNAVAILABLE;case Gi.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case Gi.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case Gi.NOT_FOUND:return bt.NOT_FOUND;case Gi.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case Gi.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case Gi.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case Gi.ABORTED:return bt.ABORTED;case Gi.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case Gi.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case Gi.DATA_LOSS:return bt.DATA_LOSS;default:return f1()}}(r2=Gi||(Gi={}))[r2.OK=0]="OK",r2[r2.CANCELLED=1]="CANCELLED",r2[r2.UNKNOWN=2]="UNKNOWN",r2[r2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r2[r2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r2[r2.NOT_FOUND=5]="NOT_FOUND",r2[r2.ALREADY_EXISTS=6]="ALREADY_EXISTS",r2[r2.PERMISSION_DENIED=7]="PERMISSION_DENIED",r2[r2.UNAUTHENTICATED=16]="UNAUTHENTICATED",r2[r2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r2[r2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r2[r2.ABORTED=10]="ABORTED",r2[r2.OUT_OF_RANGE=11]="OUT_OF_RANGE",r2[r2.UNIMPLEMENTED=12]="UNIMPLEMENTED",r2[r2.INTERNAL=13]="INTERNAL",r2[r2.UNAVAILABLE=14]="UNAVAILABLE",r2[r2.DATA_LOSS=15]="DATA_LOSS";class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[c,p]of s)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,t]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[t]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){O(this.inner,(t,s)=>{for(const[c,p]of s)e(c,p)})}isEmpty(){return U(this.inner)}size(){return this.innerSize}}const Dc=new or(t1.comparator);function Xr(){return Dc}const mo=new or(t1.comparator);function Wa(...r){let e=mo;for(const t of r)e=e.insert(t.key,t);return e}function Bo(r){let e=mo;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Js(){return Uo()}function W4(){return Uo()}function Uo(){return new Vs(r=>r.toString(),(r,e)=>r.isEqual(e))}const ro=new or(t1.comparator),_a=new ii(t1.comparator);function Bn(...r){let e=_a;for(const t of r)e=e.add(t);return e}const H6=new ii(rn);function ba(){return H6}class jo{constructor(e,t,s,c,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const c=new Map;return c.set(e,qa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new jo(V1.min(),c,ba(),Xr(),Bn())}}class qa{constructor(e,t,s,c,p){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new qa(s,t,Bn(),Bn(),Bn())}}class Ka{constructor(e,t,s,c){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=c}}class q4{constructor(e,t){this.targetId=e,this.Et=t}}class Qs{constructor(e,t,s=Zt.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=c}}class y4{constructor(){this.At=0,this.Rt=w3(),this.bt=Zt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Bn(),t=Bn(),s=Bn();return this.Rt.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:s=s.add(c);break;default:f1()}}),new qa(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=w3()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class K4{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Xr(),this.qt=Y4(),this.Ut=new ii(rn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:f1()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,c)=>{this.zt(c)&&t(c)})}Jt(e){const t=e.targetId,s=e.Et.count,c=this.Yt(t);if(c){const p=c.target;if(K3(p))if(0===s){const b=new t1(p.path);this.Qt(t,b,ki.newNoDocument(b,V1.min()))}else _1(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((p,b)=>{const x=this.Yt(b);if(x){if(p.current&&K3(x.target)){const G=new t1(x.target.path);null!==this.Lt.get(G)||this.te(b,G)||this.Qt(b,G,ki.newNoDocument(G,e))}p.St&&(t.set(b,p.Ct()),p.xt())}});let s=Bn();this.qt.forEach((p,b)=>{let x=!0;b.forEachWhile(G=>{const Q=this.Yt(G);return!Q||2===Q.purpose||(x=!1,!1)}),x&&(s=s.add(p))}),this.Lt.forEach((p,b)=>b.setReadTime(e));const c=new jo(e,t,this.Ut,this.Lt,s);return this.Lt=Xr(),this.qt=Y4(),this.Ut=new ii(rn),c}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const c=this.Wt(e);this.te(e,t)?c.Nt(t,1):c.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new y4,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ii(rn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Kt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new y4),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Y4(){return new or(t1.comparator)}function w3(){return new or(t1.comparator)}const _4={asc:"ASCENDING",desc:"DESCENDING"},ds={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i6={and:"AND",or:"OR"};class F6{constructor(e,t){this.databaseId=e,this.wt=t}}function Ya(r,e){return r.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function go(r,e){return r.wt?e.toBase64():e.toUint8Array()}function Ca(r,e){return Ya(r,e.toTimestamp())}function ui(r){return _1(!!r),V1.fromTimestamp(function(e){const t=b1(e);return new L2(t.seconds,t.nanos)}(r))}function Ja(r,e){return(t=r,new Gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Go(r){const e=Gn.fromString(r);return _1(U6(e)),e}function Ma(r,e){return Ja(r.databaseId,e.path)}function vo(r,e){const t=Go(e);if(t.get(1)!==r.databaseId.projectId)throw new Bt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Bt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new t1(w(t))}function r6(r,e){return Ja(r.databaseId,e)}function R0(r){const e=Go(r);return 4===e.length?Gn.emptyPath():w(e)}function b4(r){return new Gn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function w(r){return _1(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function h(r,e,t){return{name:Ma(r,e),fields:t.value.mapValue.fields}}function g(r,e,t){const s=vo(r,e.name),c=ui(e.updateTime),p=e.createTime?ui(e.createTime):V1.min(),b=new ws({mapValue:{fields:e.fields}}),x=ki.newFoundDocument(s,c,p,b);return t&&x.setHasCommittedMutations(),t?x.setHasCommittedMutations():x}function oe(r,e){let t;if(e instanceof v4)t={update:h(r,e.key,e.value)};else if(e instanceof Ga)t={delete:Ma(r,e.key)};else if(e instanceof ya)t={update:h(r,e.key,e.data),updateMask:B6(e.fieldMask)};else{if(!(e instanceof n6))return f1();t={verify:Ma(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(c,p){const b=p.transform;if(b instanceof Vo)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof io)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Ys)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Fo)return{fieldPath:p.field.canonicalString(),increment:b.gt};throw f1()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Ca(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:f1()),t;var c}function qe(r,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Pi.updateTime(ui(c.updateTime)):void 0!==c.exists?Pi.exists(c.exists):Pi.none():Pi.none(),s=e.updateTransforms?e.updateTransforms.map(c=>function(p,b){let x=null;"setToServerValue"in b?(_1("REQUEST_TIME"===b.setToServerValue),x=new Vo):"appendMissingElements"in b?x=new io(b.appendMissingElements.values||[]):"removeAllFromArray"in b?x=new Ys(b.removeAllFromArray.values||[]):"increment"in b?x=new Fo(p,b.increment):f1();const G=$n.fromServerFormat(b.fieldPath);return new Ua(G,x)}(r,c)):[];var c;if(e.update){const c=vo(r,e.update.name),p=new ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Ks((e.updateMask.fieldPaths||[]).map(Q=>$n.fromServerFormat(Q)));return new ya(c,p,b,t,s)}return new v4(c,p,t,s)}if(e.delete){const c=vo(r,e.delete);return new Ga(c,t)}if(e.verify){const c=vo(r,e.verify);return new n6(c,t)}return f1()}function m1(r,e){return{documents:[r6(r,e.path)]}}function O1(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=r6(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=r6(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(G){if(0!==G.length)return D3(Mn.create(G,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const p=function(G){if(0!==G.length)return G.map(Q=>{return{field:Qa((le=Q).field),direction:kr(le.dir)};var le})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const b=(Q=e.limit,r.wt||te(Q)?Q:{value:Q});var Q,x,G;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),t}function gn(r){let e=R0(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let c=null;if(s>0){_1(1===s);const le=t.from[0];le.allDescendants?c=le.collectionId:e=e.child(le.collectionId)}let p=[];t.where&&(p=function(le){const Oe=Ki(le);return Oe instanceof Mn&&Pa(Oe)?Oe.getFilters():[Oe]}(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(le=>{return new Ha(C4((Oe=le).field),function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Oe.direction));var Oe}));let x=null;t.limit&&(x=function(le){let Oe;return Oe="object"==typeof le?le.value:le,te(Oe)?null:Oe}(t.limit));let G=null;var le;t.startAt&&(G=new C1((le=t.startAt).values||[],!!le.before));let Q=null;return t.endAt&&(Q=function(le){return new C1(le.values||[],!le.before)}(t.endAt)),U4(e,c,b,p,x,"F",G,Q)}function Ki(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=C4(e.unaryFilter.field);return g1.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=C4(e.unaryFilter.field);return g1.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=C4(e.unaryFilter.field);return g1.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=C4(e.unaryFilter.field);return g1.create(p,"!=",{nullValue:"NULL_VALUE"});default:return f1()}}(r):void 0!==r.fieldFilter?g1.create(C4((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return f1()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Mn.create(e.compositeFilter.filters.map(t=>Ki(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return f1()}}(e.compositeFilter.op))}(r):f1();var e}function kr(r){return _4[r]}function wa(r){return ds[r]}function s6(r){return i6[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function C4(r){return $n.fromServerFormat(r.fieldPath)}function D3(r){return r instanceof g1?function(e){if("=="===e.op){if(p3(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NAN"}};if(ji(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(p3(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NOT_NAN"}};if(ji(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(e.field),op:wa(e.op),value:e.value}}}(r):r instanceof Mn?function(e){const t=e.getFilters().map(s=>D3(s));return 1===t.length?t[0]:{compositeFilter:{op:s6(e.op),filters:t}}}(r):f1()}function B6(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function U6(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function fs(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=o6(e)),e=j6(r.get(t),e);return o6(e)}function j6(r,e){let t=e;const s=r.length;for(let c=0;c<s;c++){const p=r.charAt(c);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function o6(r){return r+"\x01\x01"}function $o(r){const e=r.length;if(_1(e>=2),2===e)return _1("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Gn.emptyPath();const t=e-2,s=[];let c="";for(let p=0;p<e;){const b=r.indexOf("\x01",p);switch((b<0||b>t)&&f1(),r.charAt(b+1)){case"\x01":const x=r.substring(p,b);let G;0===c.length?G=x:(c+=x,G=c,c=""),s.push(G);break;case"\x10":c+=r.substring(p,b),c+="\0";break;case"\x11":c+=r.substring(p,b+1);break;default:f1()}p=b+2}return new Gn(s)}const a6=["userId","batchId"];function Xa(r,e){return[r,fs(e)]}function e4(r,e,t){return[r,fs(e),t]}const G6={},k0=["prefixPath","collectionGroup","readTime","documentId"],P8=["prefixPath","collectionGroup","documentId"],V8=["collectionGroup","readTime","prefixPath","documentId"],Cu=["canonicalId","targetId"],Mu=["targetId","path"],wu=["path","targetId"],$6=["collectionId","parent"],Ec=["indexId","uid"],Du=["uid","sequenceNumber"],Eu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],H8=["indexId","uid","orderedDocumentKey"],Sc=["userId","collectionPath","documentId"],vl=["userId","collectionPath","largestBatchId"],yl=["userId","collectionGroup","largestBatchId"],F8=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B8=[...F8,"documentOverlays"],c6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nc=c6,Tc=[...Nc,"indexConfiguration","indexState","indexEntries"];class Ac extends h4{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function v2(r,e){const t=c1(r);return u2.M(t.se,e)}class l6{constructor(e,t,s,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&z0(p,e,s[c])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=e6(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=e6(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=W4();return this.mutations.forEach(c=>{const p=e.get(c.key),b=p.overlayedDocument;let x=this.applyToLocalView(b,p.mutatedFields);x=t.has(c.key)?null:x;const G=Z4(b,x);null!==G&&s.set(c.key,G),b.isValidDocument()||b.convertToNoDocument(V1.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Bn())}isEqual(e){return this.batchId===e.batchId&&Cr(this.mutations,e.mutations,(t,s)=>t6(t,s))&&Cr(this.baseMutations,e.baseMutations,(t,s)=>t6(t,s))}}class Ic{constructor(e,t,s,c){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=c}static from(e,t,s){_1(e.mutations.length===s.length);let c=ro;const p=e.mutations;for(let b=0;b<p.length;b++)c=c.insert(p[b].key,s[b].version);return new Ic(e,t,s,c)}}class Z6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class M4{constructor(e,t,s,c,p=V1.min(),b=V1.min(),x=Zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x}withSequenceNumber(e){return new M4(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new M4(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new M4(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class U8{constructor(e){this.ie=e}}function j8(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:P0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ma(c=r.ie,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Ya(c,p.version.toTimestamp()),createTime:Ya(c,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:E3(e.version)};else{if(!e.isUnknownDocument())return f1();s.unknownDocument={path:t.path.toArray(),version:E3(e.version)}}var c,p;return s}function P0(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function E3(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function J4(r){const e=new L2(r.seconds,r.nanoseconds);return V1.fromTimestamp(e)}function S3(r,e){const t=(e.baseMutations||[]).map(p=>qe(r.ie,p));for(let p=0;p<e.mutations.length-1;++p){const b=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(b.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const s=e.mutations.map(p=>qe(r.ie,p)),c=L2.fromMillis(e.localWriteTimeMs);return new l6(e.batchId,c,t,s)}function t4(r){const e=J4(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?J4(r.lastLimboFreeSnapshotVersion):V1.min();let s;var c;return void 0!==r.query.documents?(_1(1===(c=r.query).documents.length),s=Qr(ks(R0(c.documents[0])))):s=Qr(gn(r.query)),new M4(s,r.targetId,0,r.lastListenSequenceNumber,e,t,Zt.fromBase64String(r.resumeToken))}function f(r,e){const t=E3(e.snapshotVersion),s=E3(e.lastLimboFreeSnapshotVersion);let c;c=K3(e.target)?m1(r.ie,e.target):O1(r.ie,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:m4(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function y(r){const e=gn({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ps(e,e.limit,"L"):e}function u(r,e){return new Z6(e.largestBatchId,qe(r.ie,e.overlayMutation))}function M(r,e){const t=e.path.lastSegment();return[r,fs(e.path.popLast()),t]}function L(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:E3(s.readTime),documentKey:fs(s.documentKey.path),largestBatchId:s.largestBatchId}}class Z{getBundleMetadata(e,t){return Ce(e).get(t).next(s=>{if(s)return{id:(c=s).bundleId,createTime:J4(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Ce(e).put({bundleId:(s=t).id,createTime:E3(ui(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Be(e).get(t).next(s=>{if(s)return{name:(c=s).name,query:y(c.bundledQuery),readTime:J4(c.readTime)};var c})}saveNamedQuery(e,t){return Be(e).put({name:(s=t).name,readTime:E3(ui(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Ce(r){return v2(r,"bundles")}function Be(r){return v2(r,"namedQueries")}class Fe{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new Fe(e,t.uid||"")}getOverlay(e,t){return Et(e).get(M(this.userId,t)).next(s=>s?u(this.yt,s):null)}getOverlays(e,t){const s=Js();return gt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(e,t,s){const c=[];return s.forEach((p,b)=>{const x=new Z6(t,b);c.push(this.oe(e,x))}),gt.waitFor(c)}removeOverlaysForBatchId(e,t,s){const c=new Set;t.forEach(b=>c.add(fs(b.getCollectionPath())));const p=[];return c.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,s],[this.userId,b,s+1],!1,!0);p.push(Et(e).Y("collectionPathOverlayIndex",x))}),gt.waitFor(p)}getOverlaysForCollection(e,t,s){const c=Js(),p=fs(t),b=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Et(e).W("collectionPathOverlayIndex",b).next(x=>{for(const G of x){const Q=u(this.yt,G);c.set(Q.getKey(),Q)}return c})}getOverlaysForCollectionGroup(e,t,s,c){const p=Js();let b;const x=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Et(e).Z({index:"collectionGroupOverlayIndex",range:x},(G,Q,le)=>{const Oe=u(this.yt,Q);p.size()<c||Oe.largestBatchId===b?(p.set(Oe.getKey(),Oe),b=Oe.largestBatchId):le.done()}).next(()=>p)}oe(e,t){return Et(e).put(function(s,c,p){const[b,x,G]=M(c,p.mutation.key);return{userId:c,collectionPath:x,documentId:G,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:oe(s.ie,p.mutation)}}(this.yt,this.userId,t))}}function Et(r){return v2(r,"documentOverlays")}class It{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(sn(e.integerValue));else if("doubleValue"in e){const s=sn(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),ge(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ui(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?ne(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):f1()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const c of Object.keys(s))this.de(c,t),this.ce(s[c],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const c of s)this.ce(c,t)}me(e,t){this.he(t,37),t1.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function R1(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function D1(r){const e=64-function(t){let s=0;for(let c=0;c<8;++c){const p=R1(255&t[c]);if(s+=p,8!==p)break}return s}(r);return Math.ceil(e/8)}It.Ie=new It;class F1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const c=t.codePointAt(0);this.Ee(240|c>>>18),this.Ee(128|63&c>>>12),this.Ee(128|63&c>>>6),this.Ee(128|63&c)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const c=t.codePointAt(0);this.be(240|c>>>18),this.be(128|63&c>>>12),this.be(128|63&c>>>6),this.be(128|63&c)}}this.Pe()}Se(e){const t=this.De(e),s=D1(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=255&t[c]}xe(e){const t=this.De(e),s=D1(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let c=t.length-s;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let c=1;c<t.length;++c)t[c]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class T2{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class dn{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Tn{constructor(){this.$e=new F1,this.Be=new T2(this.$e),this.Le=new dn(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class e2{constructor(e,t,s,c){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=c}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new e2(this.indexId,this.documentKey,this.arrayValue,s)}}function Pn(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=ri(r.arrayValue,e.arrayValue),0!==t?t:(t=ri(r.directionalValue,e.directionalValue),0!==t?t:t1.comparator(r.documentKey,e.documentKey)))}function ri(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class s2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){_1(e.collectionGroup===this.collectionId);const t=$s(e);if(void 0!==t&&!this.We(t))return!1;const s=Bi(e);let c=0,p=0;for(;c<s.length&&this.We(s[c]);++c);if(c===s.length)return!0;if(void 0!==this.Qe){const b=s[c];if(!this.ze(this.Qe,b)||!this.He(this.Ke[p++],b))return!1;++c}for(;c<s.length;++c){const b=s[c];if(p>=this.Ke.length||!this.He(this.Ke[p++],b))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function y2(r){var e,t;if(_1(r instanceof g1||r instanceof Mn),r instanceof g1){if(r instanceof Z3){const c=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(p=>g1.create(r.field,"==",p)))||[];return Mn.create(c,"or")}return r}const s=r.filters.map(c=>y2(c));return Mn.create(s,r.op)}function C2(r){if(0===r.getFilters().length)return[];const e=Si(y2(r));return _1(Dr(e)),di(e)||K2(e)?[e]:e.getFilters()}function di(r){return r instanceof g1}function K2(r){return r instanceof Mn&&Pa(r)}function Dr(r){return di(r)||K2(r)||function(e){if(e instanceof Mn&&ho(e)){for(const t of e.getFilters())if(!di(t)&&!K2(t))return!1;return!0}return!1}(r)}function Si(r){if(_1(r instanceof g1||r instanceof Mn),r instanceof g1)return r;if(1===r.filters.length)return Si(r.filters[0]);const e=r.filters.map(s=>Si(s));let t=Mn.create(e,r.op);return t=hs(t),Dr(t)?t:(_1(t instanceof Mn),_1(q2(t)),_1(t.filters.length>1),t.filters.reduce((s,c)=>Yi(s,c)))}function Yi(r,e){let t;return _1(r instanceof g1||r instanceof Mn),_1(e instanceof g1||e instanceof Mn),t=r instanceof g1?e instanceof g1?Mn.create([r,e],"and"):Eo(r,e):e instanceof g1?Eo(e,r):function(s,c){if(_1(s.filters.length>0&&c.filters.length>0),q2(s)&&q2(c))return Va(s,c.getFilters());const p=ho(s)?s:c,b=ho(s)?c:s,x=p.filters.map(G=>Yi(G,b));return Mn.create(x,"or")}(r,e),hs(t)}function Eo(r,e){if(q2(e))return Va(e,r.getFilters());{const t=e.filters.map(s=>Yi(r,s));return Mn.create(t,"or")}}function hs(r){if(_1(r instanceof g1||r instanceof Mn),r instanceof g1)return r;const e=r.getFilters();if(1===e.length)return hs(e[0]);if(Ro(r))return r;const t=e.map(c=>hs(c)),s=[];return t.forEach(c=>{c instanceof g1?s.push(c):c instanceof Mn&&(c.op===r.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:Mn.create(s,r.op)}class Q4{constructor(){this.Je=new Zo}addToCollectionParentIndex(e,t){return this.Je.add(t),gt.resolve()}getCollectionParents(e,t){return gt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return gt.resolve()}deleteFieldIndex(e,t){return gt.resolve()}getDocumentsMatchingTarget(e,t){return gt.resolve(null)}getIndexType(e,t){return gt.resolve(0)}getFieldIndexes(e,t){return gt.resolve([])}getNextCollectionGroupToUpdate(e){return gt.resolve(null)}getMinOffset(e,t){return gt.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return gt.resolve(as.min())}updateCollectionGroup(e,t,s){return gt.resolve()}updateIndexEntries(e,t){return gt.resolve()}}class Zo{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t]||new ii(Gn.comparator),p=!c.has(s);return this.index[t]=c.add(s),p}has(e){const t=e.lastSegment(),s=e.popLast(),c=this.index[t];return c&&c.has(s)}getEntries(e){return(this.index[e]||new ii(Gn.comparator)).toArray()}}const Hs=new Uint8Array(0);class So{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Zo,this.Xe=new Vs(s=>m4(s),(s,c)=>q3(s,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const p={collectionId:s,parent:fs(c)};return u6(e).put(p)}return gt.resolve()}getCollectionParents(e,t){const s=[],c=IDBKeyRange.bound([t,""],[la(t),""],!1,!0);return u6(e).W(c).next(p=>{for(const b of p){if(b.collectionId!==t)break;s.push($o(b.parent))}return s})}addFieldIndex(e,t){const s=N3(e),c={indexId:(b=t).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var b;delete c.indexId;const p=s.add(c);if(t.indexState){const b=X4(e);return p.next(x=>{b.put(L(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return p.next()}deleteFieldIndex(e,t){const s=N3(e),c=X4(e),p=No(e);return s.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=No(e);let c=!0;const p=new Map;return gt.forEach(this.Ze(t),b=>this.tn(e,b).next(x=>{c&&(c=!!x),p.set(b,x)})).next(()=>{if(c){let b=Bn();const x=[];return gt.forEach(p,(G,Q)=>{var le;Kt("IndexedDbIndexManager",`Using index ${le=G,`id=${le.indexId}|cg=${le.collectionGroup}|f=${le.fields.map(O2=>`${O2.fieldPath}:${O2.kind}`).join(",")}`} to execute ${m4(t)}`);const Oe=function(O2,Er){const H2=$s(Er);if(void 0===H2)return null;for(const Y2 of g3(O2,H2.fieldPath))switch(Y2.op){case"array-contains-any":return Y2.value.arrayValue.values||[];case"array-contains":return[Y2.value]}return null}(Q,G),dt=function(O2,Er){const H2=new Map;for(const Y2 of Bi(Er))for(const Sr of g3(O2,Y2.fieldPath))switch(Sr.op){case"==":case"in":H2.set(Y2.fieldPath.canonicalString(),Sr.value);break;case"not-in":case"!=":return H2.set(Y2.fieldPath.canonicalString(),Sr.value),Array.from(H2.values())}return null}(Q,G),Ht=function(O2,Er){const H2=[];let Y2=!0;for(const Sr of Bi(Er)){const gc=0===Sr.kind?Y3(O2,Sr.fieldPath,O2.startAt):v3(O2,Sr.fieldPath,O2.startAt);H2.push(gc.value),Y2&&(Y2=gc.inclusive)}return new C1(H2,Y2)}(Q,G),Wt=function(O2,Er){const H2=[];let Y2=!0;for(const Sr of Bi(Er)){const gc=0===Sr.kind?v3(O2,Sr.fieldPath,O2.endAt):Y3(O2,Sr.fieldPath,O2.endAt);H2.push(gc.value),Y2&&(Y2=gc.inclusive)}return new C1(H2,Y2)}(Q,G),x1=this.en(G,Q,Ht),on=this.en(G,Q,Wt),Ni=this.nn(G,Q,dt),lr=this.sn(G.indexId,Oe,x1,Ht.inclusive,on,Wt.inclusive,Ni);return gt.forEach(lr,O2=>s.J(O2,t.limit).next(Er=>{Er.forEach(H2=>{const Y2=t1.fromSegments(H2.documentKey);b.has(Y2)||(b=b.add(Y2),x.push(Y2))})}))}).next(()=>x)}return gt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:C2(Mn.create(e.filters,"and")).map(s=>I0(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,c,p,b,x){const G=(null!=t?t.length:1)*Math.max(s.length,p.length),Q=G/(null!=t?t.length:1),le=[];for(let Oe=0;Oe<G;++Oe){const dt=t?this.rn(t[Oe/Q]):Hs,Ht=this.on(e,dt,s[Oe%Q],c),Wt=this.un(e,dt,p[Oe%Q],b),x1=x.map(on=>this.on(e,dt,on,!0));le.push(...this.createRange(Ht,Wt,x1))}return le}on(e,t,s,c){const p=new e2(e,t1.empty(),t,s);return c?p:p.Ue()}un(e,t,s,c){const p=new e2(e,t1.empty(),t,s);return c?p.Ue():p}tn(e,t){const s=new s2(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let b=null;for(const x of p)s.je(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,t){let s=2;const c=this.Ze(t);return gt.forEach(c,p=>this.tn(e,p).next(b=>{b?0!==s&&b.fields.length<function(x){let G=new ii($n.comparator),Q=!1;for(const le of x.filters)for(const Oe of le.getFlattenedFilters())Oe.field.isKeyField()||("array-contains"===Oe.op||"array-contains-any"===Oe.op?Q=!0:G=G.add(Oe.field));for(const le of x.orderBy)le.field.isKeyField()||(G=G.add(le.field));return G.size+(Q?1:0)}(p)&&(s=1):s=0})).next(()=>null!==t.limit&&c.length>1&&2===s?1:s)}cn(e,t){const s=new Tn;for(const c of Bi(e)){const p=t.data.field(c.fieldPath);if(null==p)return null;const b=s.qe(c.kind);It.Ie.ue(p,b)}return s.Fe()}rn(e){const t=new Tn;return It.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new Tn;return It.Ie.ue(qs(this.databaseId,t),s.qe(function(c){const p=Bi(c);return 0===p.length?0:p[p.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let c=[];c.push(new Tn);let p=0;for(const b of Bi(e)){const x=s[p++];for(const G of c)if(this.hn(t,b.fieldPath)&&ka(x))c=this.ln(c,b,x);else{const Q=G.qe(b.kind);It.Ie.ue(x,Q)}}return this.fn(c)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const c=[...e],p=[];for(const b of s.arrayValue.values||[])for(const x of c){const G=new Tn;G.seed(x.Fe()),It.Ie.ue(b,G.qe(t.kind)),p.push(G)}return p}hn(e,t){return!!e.filters.find(s=>s instanceof g1&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=N3(e),c=X4(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(p=>{const b=[];return gt.forEach(p,x=>c.get([x.indexId,this.uid]).next(G=>{b.push(function(Q,le){const Oe=le?new g2(le.sequenceNumber,new as(J4(le.readTime),new t1($o(le.documentKey)),le.largestBatchId)):g2.empty(),dt=Q.fields.map(([Ht,Wt])=>new _s($n.fromServerFormat(Ht),Wt));return new Gs(Q.indexId,Q.collectionGroup,dt,Oe)}(x,G))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,c)=>{const p=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:rn(s.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const c=N3(e),p=X4(e);return this.dn(e).next(b=>c.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>gt.forEach(x,G=>p.put(L(G.indexId,this.user,b,s)))))}updateIndexEntries(e,t){const s=new Map;return gt.forEach(t,(c,p)=>{const b=s.get(c.collectionGroup);return(b?gt.resolve(b):this.getFieldIndexes(e,c.collectionGroup)).next(x=>(s.set(c.collectionGroup,x),gt.forEach(x,G=>this._n(e,c,G).next(Q=>{const le=this.wn(p,G);return Q.isEqual(le)?gt.resolve():this.mn(e,p,G,Q,le)}))))})}gn(e,t,s,c){return No(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,c){return No(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const c=No(e);let p=new ii(Pn);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(b,x)=>{p=p.add(new e2(s.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>p)}wn(e,t){let s=new ii(Pn);const c=this.cn(t,e);if(null==c)return s;const p=$s(t);if(null!=p){const b=e.data.field(p.fieldPath);if(ka(b))for(const x of b.arrayValue.values||[])s=s.add(new e2(t.indexId,e.key,this.rn(x),c))}else s=s.add(new e2(t.indexId,e.key,Hs,c));return s}mn(e,t,s,c,p){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(x,G,Q,le,Oe){const dt=x.getIterator(),Ht=G.getIterator();let Wt=Fa(dt),x1=Fa(Ht);for(;Wt||x1;){let on=!1,Ni=!1;if(Wt&&x1){const lr=Q(Wt,x1);lr<0?Ni=!0:lr>0&&(on=!0)}else null!=Wt?Ni=!0:on=!0;on?(le(x1),x1=Fa(Ht)):Ni?(Oe(Wt),Wt=Fa(dt)):(Wt=Fa(dt),x1=Fa(Ht))}}(c,p,Pn,x=>{b.push(this.gn(e,t,s,x))},x=>{b.push(this.yn(e,t,s,x))}),gt.waitFor(b)}dn(e){let t=1;return X4(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,p)=>{p.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((b,x)=>Pn(b,x)).filter((b,x,G)=>!x||0!==Pn(b,G[x-1]));const c=[];c.push(e);for(const b of s){const x=Pn(b,e),G=Pn(b,t);if(0===x)c[0]=e.Ue();else if(x>0&&G<0)c.push(b),c.push(b.Ue());else if(G>0)break}c.push(t);const p=[];for(let b=0;b<c.length;b+=2){if(this.pn(c[b],c[b+1]))return[];p.push(IDBKeyRange.bound([c[b].indexId,this.uid,c[b].arrayValue,c[b].directionalValue,Hs,[]],[c[b+1].indexId,this.uid,c[b+1].arrayValue,c[b+1].directionalValue,Hs,[]]))}return p}pn(e,t){return Pn(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Da)}getMinOffset(e,t){return gt.mapArray(this.Ze(t),s=>this.tn(e,s).next(c=>c||f1())).next(Da)}}function u6(r){return v2(r,"collectionParents")}function No(r){return v2(r,"indexEntries")}function N3(r){return v2(r,"indexConfiguration")}function X4(r){return v2(r,"indexState")}function Da(r){_1(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const c=r[s].indexState.offset;Ra(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new as(e.readTime,e.documentKey,t)}const d6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $i{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new $i(e,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yo(r,e,t){const s=r.store("mutations"),c=r.store("documentMutations"),p=[],b=IDBKeyRange.only(t.batchId);let x=0;const G=s.Z({range:b},(le,Oe,dt)=>(x++,dt.delete()));p.push(G.next(()=>{_1(1===x)}));const Q=[];for(const le of t.mutations){const Oe=e4(e,le.key.path,t.batchId);p.push(c.delete(Oe)),Q.push(le.key)}return gt.waitFor(p).next(()=>Q)}function w4(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw f1();e=r.noDocument}return JSON.stringify(e).length}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class T3{constructor(e,t,s,c){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=c,this.In={}}static re(e,t,s,c){_1(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new T3(p,t,s,c)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ea(e).Z({index:"userMutationsIndex",range:s},(c,p,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,s,c){const p=A3(e),b=Ea(e);return b.add({}).next(x=>{_1("number"==typeof x);const G=new l6(x,t,s,c),Q=function(dt,Ht,Wt){const x1=Wt.baseMutations.map(Ni=>oe(dt.ie,Ni)),on=Wt.mutations.map(Ni=>oe(dt.ie,Ni));return{userId:Ht,batchId:Wt.batchId,localWriteTimeMs:Wt.localWriteTime.toMillis(),baseMutations:x1,mutations:on}}(this.yt,this.userId,G),le=[];let Oe=new ii((dt,Ht)=>rn(dt.canonicalString(),Ht.canonicalString()));for(const dt of c){const Ht=e4(this.userId,dt.key.path,x);Oe=Oe.add(dt.key.path.popLast()),le.push(b.put(Q)),le.push(p.put(Ht,G6))}return Oe.forEach(dt=>{le.push(this.indexManager.addToCollectionParentIndex(e,dt))}),e.addOnCommittedListener(()=>{this.In[x]=G.keys()}),gt.waitFor(le).next(()=>G)})}lookupMutationBatch(e,t){return Ea(e).get(t).next(s=>s?(_1(s.userId===this.userId),S3(this.yt,s)):null)}Tn(e,t){return this.In[t]?gt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const c=s.keys();return this.In[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,c=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Ea(e).Z({index:"userMutationsIndex",range:c},(b,x,G)=>{x.userId===this.userId&&(_1(x.batchId>=s),p=S3(this.yt,x)),G.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ea(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(c,p,b)=>{s=p.batchId,b.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ea(e).W("userMutationsIndex",t).next(s=>s.map(c=>S3(this.yt,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Xa(this.userId,t.path),c=IDBKeyRange.lowerBound(s),p=[];return A3(e).Z({range:c},(b,x,G)=>{const[Q,le,Oe]=b,dt=$o(le);if(Q===this.userId&&t.path.isEqual(dt))return Ea(e).get(Oe).next(Ht=>{if(!Ht)throw f1();_1(Ht.userId===this.userId),p.push(S3(this.yt,Ht))});G.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ii(rn);const c=[];return t.forEach(p=>{const b=Xa(this.userId,p.path),x=IDBKeyRange.lowerBound(b),G=A3(e).Z({range:x},(Q,le,Oe)=>{const[dt,Ht,Wt]=Q,x1=$o(Ht);dt===this.userId&&p.path.isEqual(x1)?s=s.add(Wt):Oe.done()});c.push(G)}),gt.waitFor(c).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1,p=Xa(this.userId,s),b=IDBKeyRange.lowerBound(p);let x=new ii(rn);return A3(e).Z({range:b},(G,Q,le)=>{const[Oe,dt,Ht]=G,Wt=$o(dt);Oe===this.userId&&s.isPrefixOf(Wt)?Wt.length===c&&(x=x.add(Ht)):le.done()}).next(()=>this.En(e,x))}En(e,t){const s=[],c=[];return t.forEach(p=>{c.push(Ea(e).get(p).next(b=>{if(null===b)throw f1();_1(b.userId===this.userId),s.push(S3(this.yt,b))}))}),gt.waitFor(c).next(()=>s)}removeMutationBatch(e,t){return yo(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),gt.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return gt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),c=[];return A3(e).Z({range:s},(p,b,x)=>{if(p[0]===this.userId){const G=$o(p[1]);c.push(G)}else x.done()}).next(()=>{_1(0===c.length)})})}containsKey(e,t){return n4(e,this.userId,t)}Rn(e){return W6(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n4(r,e,t){const s=Xa(e,t.path),c=s[1],p=IDBKeyRange.lowerBound(s);let b=!1;return A3(r).Z({range:p,X:!0},(x,G,Q)=>{const[le,Oe,dt]=x;le===e&&Oe===c&&(b=!0),Q.done()}).next(()=>b)}function Ea(r){return v2(r,"mutations")}function A3(r){return v2(r,"documentMutations")}function W6(r){return v2(r,"mutationQueues")}class D4{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new D4(0)}static vn(){return new D4(-1)}}class V0{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new D4(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>V1.fromTimestamp(new L2(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=t,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Sn(e,c)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>E4(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(_1(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let c=0;const p=[];return E4(e).Z((b,x)=>{const G=t4(x);G.sequenceNumber<=t&&null===s.get(G.targetId)&&(c++,p.push(this.removeTargetData(e,G)))}).next(()=>gt.waitFor(p)).next(()=>c)}forEachTarget(e,t){return E4(e).Z((s,c)=>{const p=t4(c);t(p)})}Vn(e){return q6(e).get("targetGlobalKey").next(t=>(_1(null!==t),t))}Sn(e,t){return q6(e).put("targetGlobalKey",t)}Dn(e,t){return E4(e).put(f(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=m4(t),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return E4(e).Z({range:c,index:"queryTargetsIndex"},(b,x,G)=>{const Q=t4(x);q3(t,Q.target)&&(p=Q,G.done())}).next(()=>p)}addMatchingKeys(e,t,s){const c=[],p=i4(e);return t.forEach(b=>{const x=fs(b.path);c.push(p.put({targetId:s,path:x})),c.push(this.referenceDelegate.addReference(e,s,b))}),gt.waitFor(c)}removeMatchingKeys(e,t,s){const c=i4(e);return gt.forEach(t,p=>{const b=fs(p.path);return gt.waitFor([c.delete([s,b]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,t){const s=i4(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),c=i4(e);let p=Bn();return c.Z({range:s,X:!0},(b,x,G)=>{const Q=$o(b[1]),le=new t1(Q);p=p.add(le)}).next(()=>p)}containsKey(e,t){const s=fs(t.path),c=IDBKeyRange.bound([s],[la(s)],!1,!0);let p=0;return i4(e).Z({index:"documentTargetsIndex",X:!0,range:c},([b,x],G,Q)=>{0!==b&&(p++,Q.done())}).next(()=>p>0)}ne(e,t){return E4(e).get(t).next(s=>s?t4(s):null)}}function E4(r){return v2(r,"targets")}function q6(r){return v2(r,"targetGlobal")}function i4(r){return v2(r,"targetDocuments")}function f6([r,e],[t,s]){const c=rn(r,t);return 0===c?rn(e,s):c}class h6{constructor(e){this.xn=e,this.buffer=new ii(f6),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();f6(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class G8{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,je.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){no(s)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield da(s)}yield t.Fn(3e5)}))}}class e3{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return gt.resolve(sr.at);const s=new h6(t);return this.$n.forEachTarget(e,c=>s.On(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>s.On(c))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(d6)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d6):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,c,p,b,x,G,Q;const le=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Oe=>(Oe>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Oe}`),c=this.params.maximumSequenceNumbersToCollect):c=Oe,b=Date.now(),this.nthSequenceNumber(e,c))).next(Oe=>(s=Oe,x=Date.now(),this.removeTargets(e,s,t))).next(Oe=>(p=Oe,G=Date.now(),this.removeOrphanedDocuments(e,s))).next(Oe=>(Q=Date.now(),to()<=mt.in.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-le}ms\n\tDetermined least recently used ${c} in `+(x-b)+`ms\n\tRemoved ${p} targets in `+(G-x)+`ms\n\tRemoved ${Oe} documents in `+(Q-G)+`ms\nTotal Duration: ${Q-le}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Oe})))}}class K6{constructor(e,t){this.db=e,this.garbageCollector=new e3(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(c=>s+c))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,c)=>t(c))}addReference(e,t,s){return p6(e,s)}removeReference(e,t,s){return p6(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return p6(e,t)}Gn(e,t){return function(s,c){let p=!1;return W6(s).tt(b=>n4(s,b,c).next(x=>(x&&(p=!0),gt.resolve(!x)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Kn(e,(b,x)=>{if(x<=t){const G=this.Gn(e,b).next(Q=>{if(!Q)return p++,s.getEntry(e,b).next(()=>(s.removeEntry(b,V1.min()),i4(e).delete([0,fs(b.path)])))});c.push(G)}}).next(()=>gt.waitFor(c)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return p6(e,t)}Kn(e,t){const s=i4(e);let c,p=sr.at;return s.Z({index:"documentTargetsIndex"},([b,x],{path:G,sequenceNumber:Q})=>{0===b?(p!==sr.at&&t(new t1($o(c)),p),p=Q,c=G):p=sr.at}).next(()=>{p!==sr.at&&t(new t1($o(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function p6(r,e){return i4(r).put((s=r.currentSequenceNumber,{targetId:0,path:fs(e.path),sequenceNumber:s}));var s}class H0{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?gt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F0{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return S4(e).put(s)}removeEntry(e,t,s){return S4(e).delete(function(c,p){const b=c.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],P0(p),b[b.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=ki.newInvalidDocument(t);return S4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U0(t))},(c,p)=>{s=this.jn(t,p)}).next(()=>s)}Wn(e,t){let s={size:0,document:ki.newInvalidDocument(t)};return S4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(U0(t))},(c,p)=>{s={document:this.jn(t,p),size:w4(p)}}).next(()=>s)}getEntries(e,t){let s=Xr();return this.zn(e,t,(c,p)=>{const b=this.jn(c,p);s=s.insert(c,b)}).next(()=>s)}Hn(e,t){let s=Xr(),c=new or(t1.comparator);return this.zn(e,t,(p,b)=>{const x=this.jn(p,b);s=s.insert(p,x),c=c.insert(p,w4(b))}).next(()=>({documents:s,Jn:c}))}zn(e,t,s){if(t.isEmpty())return gt.resolve();let c=new ii(Nu);t.forEach(G=>c=c.add(G));const p=IDBKeyRange.bound(U0(c.first()),U0(c.last())),b=c.getIterator();let x=b.getNext();return S4(e).Z({index:"documentKeyIndex",range:p},(G,Q,le)=>{const Oe=t1.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;x&&Nu(x,Oe)<0;)s(x,null),x=b.getNext();x&&x.isEqual(Oe)&&(s(x,Q),x=b.hasNext()?b.getNext():null),x?le.j(U0(x)):le.done()}).next(()=>{for(;x;)s(x,null),x=b.hasNext()?b.getNext():null})}getAllFromCollection(e,t,s){const c=[t.popLast().toArray(),t.lastSegment(),P0(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return S4(e).W(IDBKeyRange.bound(c,p,!0)).next(b=>{let x=Xr();for(const G of b){const Q=this.jn(t1.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);x=x.insert(Q.key,Q)}return x})}getAllFromCollectionGroup(e,t,s,c){let p=Xr();const b=Su(t,s),x=Su(t,as.max());return S4(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(G,Q,le)=>{const Oe=this.jn(t1.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);p=p.insert(Oe.key,Oe),p.size===c&&le.done()}).next(()=>p)}newChangeBuffer(e){return new t3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Wo(e).get("remoteDocumentGlobalKey").next(t=>(_1(!!t),t))}Qn(e,t){return Wo(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function _l(r,e){let t;if(e.document)t=g(r.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=t1.fromSegments(e.noDocument.path),c=J4(e.noDocument.readTime);t=ki.newNoDocument(s,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return f1();{const s=t1.fromSegments(e.unknownDocument.path),c=J4(e.unknownDocument.version);t=ki.newUnknownDocument(s,c)}}return e.readTime&&t.setReadTime(function(s){const c=new L2(s[0],s[1]);return V1.fromTimestamp(c)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(V1.min()))return s}return ki.newInvalidDocument(e)}}function B0(r){return new F0(r)}class t3 extends H0{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vs(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(e){const t=[];let s=0,c=new ii((p,b)=>rn(p.canonicalString(),b.canonicalString()));return this.changes.forEach((p,b)=>{const x=this.Xn.get(p);if(t.push(this.Yn.removeEntry(e,p,x.readTime)),b.isValidDocument()){const G=j8(this.Yn.yt,b);c=c.add(p.path.popLast()),s+=w4(G)-x.size,t.push(this.Yn.addEntry(e,p,G))}else if(s-=x.size,this.trackRemovals){const G=j8(this.Yn.yt,b.convertToNoDocument(V1.min()));t.push(this.Yn.addEntry(e,p,G))}}),c.forEach(p=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Yn.updateMetadata(e,s)),gt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:c})=>(c.forEach((p,b)=>{this.Xn.set(p,{size:b,readTime:s.get(p).readTime})}),s))}}function Wo(r){return v2(r,"remoteDocumentGlobal")}function S4(r){return v2(r,"remoteDocumentsV14")}function U0(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Su(r,e){const t=e.documentKey.path.toArray();return[r,P0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Nu(r,e){const t=r.path.toArray(),s=e.path.toArray();let c=0;for(let p=0;p<t.length-2&&p<s.length-2;++p)if(c=rn(t[p],s[p]),c)return c;return c=rn(t.length,s.length),c||(c=rn(t[t.length-2],s[s.length-2]),c||rn(t[t.length-1],s[s.length-1]))}class bl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Tu{constructor(e,t,s,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,t))).next(c=>(null!==s&&e6(s.mutation,c,Ks.empty(),L2.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Bn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Bn()){const c=Js();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,s).next(p=>{let b=Wa();return p.forEach((x,G)=>{b=b.insert(x,G.overlayedDocument)}),b}))}getOverlayedDocuments(e,t){const s=Js();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Bn()))}populateOverlays(e,t,s){const c=[];return s.forEach(p=>{t.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((b,x)=>{t.set(b,x)})})}computeViews(e,t,s,c){let p=Xr();const b=Uo(),x=Uo();return t.forEach((G,Q)=>{const le=s.get(Q.key);c.has(Q.key)&&(void 0===le||le.mutation instanceof ya)?p=p.insert(Q.key,Q):void 0!==le&&(b.set(Q.key,le.mutation.getFieldMask()),e6(le.mutation,Q,le.mutation.getFieldMask(),L2.now()))}),this.recalculateAndSaveOverlays(e,p).next(G=>(G.forEach((Q,le)=>b.set(Q,le)),t.forEach((Q,le)=>{var Oe;return x.set(Q,new bl(le,null!==(Oe=b.get(Q))&&void 0!==Oe?Oe:null))}),x))}recalculateAndSaveOverlays(e,t){const s=Uo();let c=new or((b,x)=>b-x),p=Bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(b=>{for(const x of b)x.keys().forEach(G=>{const Q=t.get(G);if(null===Q)return;let le=s.get(G)||Ks.empty();le=x.applyToLocalView(Q,le),s.set(G,le);const Oe=(c.get(x.batchId)||Bn()).add(G);c=c.insert(x.batchId,Oe)})}).next(()=>{const b=[],x=c.getReverseIterator();for(;x.hasNext();){const G=x.getNext(),Q=G.key,le=G.value,Oe=W4();le.forEach(dt=>{if(!p.has(dt)){const Ht=Z4(t.get(dt),s.get(dt));null!==Ht&&Oe.set(dt,Ht),p=p.add(dt)}}),b.push(this.documentOverlayCache.saveOverlays(e,Q,Oe))}return gt.waitFor(b)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return t1.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):J3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var c}getNextDocuments(e,t,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,c).next(p=>{const b=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,c-p.size):gt.resolve(Js());let x=-1,G=p;return b.next(Q=>gt.forEach(Q,(le,Oe)=>(x<Oe.largestBatchId&&(x=Oe.largestBatchId),p.get(le)?gt.resolve():this.remoteDocumentCache.getEntry(e,le).next(dt=>{G=G.insert(le,dt)}))).next(()=>this.populateOverlays(e,Q,p)).next(()=>this.computeViews(e,G,Q,Bn())).next(le=>({batchId:x,changes:Bo(le)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new t1(t)).next(s=>{let c=Wa();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const c=t.collectionGroup;let p=Wa();return this.indexManager.getCollectionParents(e,c).next(b=>gt.forEach(b,x=>{const G=(Q=t,le=x.child(c),new ko(le,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,le;return this.getDocumentsMatchingCollectionQuery(e,G,s).next(Q=>{Q.forEach((le,Oe)=>{p=p.insert(le,Oe)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,t,s){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(p=>(c=p,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(p=>{p.forEach((x,G)=>{const Q=G.getKey();null===c.get(Q)&&(c=c.insert(Q,ki.newInvalidDocument(Q)))});let b=Wa();return c.forEach((x,G)=>{const Q=p.get(x);void 0!==Q&&e6(Q.mutation,G,Ks.empty(),L2.now()),ar(t,G)&&(b=b.insert(x,G))}),b})}}class Cl{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return gt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:ui(s.createTime)}),gt.resolve()}getNamedQuery(e,t){return gt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:y(s.bundledQuery),readTime:ui(s.readTime)}),gt.resolve();var s}}class Rd{constructor(){this.overlays=new or(t1.comparator),this.es=new Map}getOverlay(e,t){return gt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Js();return gt.forEach(t,c=>this.getOverlay(e,c).next(p=>{null!==p&&s.set(c,p)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((c,p)=>{this.oe(e,t,p)}),gt.resolve()}removeOverlaysForBatchId(e,t,s){const c=this.es.get(s);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(s)),gt.resolve()}getOverlaysForCollection(e,t,s){const c=Js(),p=t.length+1,b=new t1(t.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const G=x.getNext().value,Q=G.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===p&&G.largestBatchId>s&&c.set(G.getKey(),G)}return gt.resolve(c)}getOverlaysForCollectionGroup(e,t,s,c){let p=new or((Q,le)=>Q-le);const b=this.overlays.getIterator();for(;b.hasNext();){const Q=b.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let le=p.get(Q.largestBatchId);null===le&&(le=Js(),p=p.insert(Q.largestBatchId,le)),le.set(Q.getKey(),Q)}}const x=Js(),G=p.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((Q,le)=>x.set(Q,le)),!(x.size()>=c)););return gt.resolve(x)}oe(e,t,s){const c=this.overlays.get(s.key);if(null!==c){const b=this.es.get(c.largestBatchId).delete(s.key);this.es.set(c.largestBatchId,b)}this.overlays=this.overlays.insert(s.key,new Z6(t,s));let p=this.es.get(t);void 0===p&&(p=Bn(),this.es.set(t,p)),this.es.set(t,p.add(s.key))}}class xc{constructor(){this.ns=new ii(Fs.ss),this.rs=new ii(Fs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Fs(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Fs(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new t1(new Gn([])),s=new Fs(t,e),c=new Fs(t,e+1),p=[];return this.rs.forEachInRange([s,c],b=>{this.cs(b),p.push(b.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new t1(new Gn([])),s=new Fs(t,e),c=new Fs(t,e+1);let p=Bn();return this.rs.forEachInRange([s,c],b=>{p=p.add(b.key)}),p}containsKey(e){const t=new Fs(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Fs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return t1.comparator(e.key,t.key)||rn(e._s,t._s)}static os(e,t){return rn(e._s,t._s)||t1.comparator(e.key,t.key)}}class Ml{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ii(Fs.ss)}checkEmpty(e){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,c){const p=this.ws;this.ws++;const b=new l6(p,t,s,c);this.mutationQueue.push(b);for(const x of c)this.gs=this.gs.add(new Fs(x.key,p)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return gt.resolve(b)}lookupMutationBatch(e,t){return gt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ps(t+1),p=c<0?0:c;return gt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Fs(t,0),c=new Fs(t,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([s,c],b=>{const x=this.ys(b._s);p.push(x)}),gt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ii(rn);return t.forEach(c=>{const p=new Fs(c,0),b=new Fs(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,b],x=>{s=s.add(x._s)})}),gt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,c=s.length+1;let p=s;t1.isDocumentKey(p)||(p=p.child(""));const b=new Fs(new t1(p),0);let x=new ii(rn);return this.gs.forEachWhile(G=>{const Q=G.key.path;return!!s.isPrefixOf(Q)&&(Q.length===c&&(x=x.add(G._s)),!0)},b),gt.resolve(this.Is(x))}Is(e){const t=[];return e.forEach(s=>{const c=this.ys(s);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){_1(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return gt.forEach(t.mutations,c=>{const p=new Fs(c.key,t.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Fs(t,0),c=this.gs.firstAfterOrEqual(s);return gt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return gt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Au{constructor(e){this.Es=e,this.docs=new or(t1.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,c=this.docs.get(s),p=c?c.size:0,b=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:b}),this.size+=b-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return gt.resolve(s?s.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let s=Xr();return t.forEach(c=>{const p=this.docs.get(c);s=s.insert(c,p?p.document.mutableCopy():ki.newInvalidDocument(c))}),gt.resolve(s)}getAllFromCollection(e,t,s){let c=Xr();const p=new t1(t.child("")),b=this.docs.getIteratorFrom(p);for(;b.hasNext();){const{key:x,value:{document:G}}=b.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||Ra(f4(G),s)<=0||(c=c.insert(G.key,G.mutableCopy()))}return gt.resolve(c)}getAllFromCollectionGroup(e,t,s,c){f1()}As(e,t){return gt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Iu(this)}getSize(e){return gt.resolve(this.size)}}class Iu extends H0{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?t.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(s)}),gt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class r4{constructor(e){this.persistence=e,this.Rs=new Vs(t=>m4(t),q3),this.lastRemoteSnapshotVersion=V1.min(),this.highestTargetId=0,this.bs=0,this.Ps=new xc,this.targetCount=0,this.vs=D4.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,c)=>t(c)),gt.resolve()}getLastRemoteSnapshotVersion(e){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),gt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new D4(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,gt.resolve()}updateTargetData(e,t){return this.Dn(t),gt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,gt.resolve()}removeTargets(e,t,s){let c=0;const p=[];return this.Rs.forEach((b,x)=>{x.sequenceNumber<=t&&null===s.get(x.targetId)&&(this.Rs.delete(b),p.push(this.removeMatchingKeysForTargetId(e,x.targetId)),c++)}),gt.waitFor(p).next(()=>c)}getTargetCount(e){return gt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return gt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),gt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const c=this.persistence.referenceDelegate,p=[];return c&&t.forEach(b=>{p.push(c.markPotentiallyOrphaned(e,b))}),gt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),gt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return gt.resolve(s)}containsKey(e,t){return gt.resolve(this.Ps.containsKey(t))}}class wl{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new sr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new r4(this),this.indexManager=new Q4,this.remoteDocumentCache=new Au(s=>this.referenceDelegate.xs(s)),this.yt=new U8(t),this.Ns=new Cl(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Ml(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Kt("MemoryPersistence","Starting transaction:",e);const c=new Dl(this.Ss.next());return this.referenceDelegate.ks(),s(c).next(p=>this.referenceDelegate.Os(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ms(e,t){return gt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class Dl extends h4{constructor(e){super(),this.currentSequenceNumber=e}}class zc{constructor(e){this.persistence=e,this.Fs=new xc,this.$s=null}static Bs(e){return new zc(e)}get Ls(){if(this.$s)return this.$s;throw f1()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),gt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),gt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),gt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(c=>this.Ls.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(p=>this.Ls.add(p.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Ls,s=>{const c=t1.fromPath(s);return this.qs(e,c).next(p=>{p||t.removeEntry(c,V1.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return gt.or([()=>gt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class xu{constructor(e){this.yt=e}$(e,t,s,c){const p=new fa("createOrUpgrade",t);var x;s<1&&c>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",a6,{unique:!0}),x.createObjectStore("documentMutations"),$8(e),function(x){x.createObjectStore("remoteDocuments")}(e));let b=gt.resolve();return s<3&&c>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),$8(e)),b=b.next(()=>function(x){const G=x.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:V1.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",Q)}(p))),s<4&&c>=4&&(0!==s&&(b=b.next(()=>function(x,G){return G.store("mutations").W().next(Q=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",a6,{unique:!0});const le=G.store("mutations"),Oe=Q.map(dt=>le.put(dt));return gt.waitFor(Oe)})}(e,p))),b=b.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&c>=5&&(b=b.next(()=>this.Us(p))),s<6&&c>=6&&(b=b.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),s<7&&c>=7&&(b=b.next(()=>this.Gs(p))),s<8&&c>=8&&(b=b.next(()=>this.Qs(e,p))),s<9&&c>=9&&(b=b.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&c>=10&&(b=b.next(()=>this.js(p))),s<11&&c>=11&&(b=b.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&c>=12&&(b=b.next(()=>{!function(x){const G=x.createObjectStore("documentOverlays",{keyPath:Sc});G.createIndex("collectionPathOverlayIndex",vl,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",yl,{unique:!1})}(e)})),s<13&&c>=13&&(b=b.next(()=>function(x){const G=x.createObjectStore("remoteDocumentsV14",{keyPath:k0});G.createIndex("documentKeyIndex",P8),G.createIndex("collectionGroupIndex",V8)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(b=b.next(()=>this.zs(e,p))),s<15&&c>=15&&(b=b.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Ec}).createIndex("sequenceNumberIndex",Du,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:Eu}).createIndex("documentKeyIndex",H8,{unique:!1})}(e))),b}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,c)=>{t+=w4(c)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(c=>gt.forEach(c,p=>{const b=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",b).next(x=>gt.forEach(x,G=>{_1(G.userId===p.userId);const Q=S3(this.yt,G);return yo(e,p.userId,Q).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return s.Z((b,x)=>{const G=new Gn(b),Q=[0,fs(G)];p.push(t.get(Q).next(le=>le?gt.resolve():t.put({targetId:0,path:fs(G),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>gt.waitFor(p))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:$6});const s=t.store("collectionParents"),c=new Zo,p=b=>{if(c.add(b)){const x=b.lastSegment(),G=b.popLast();return s.put({collectionId:x,parent:fs(G)})}};return t.store("remoteDocuments").Z({X:!0},(b,x)=>{const G=new Gn(b);return p(G.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([b,x,G],Q)=>{const le=$o(x);return p(le.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,c)=>{const p=t4(c),b=f(this.yt,p);return t.put(b)})}Ws(e,t){const s=t.store("remoteDocuments"),c=[];return s.Z((p,b)=>{const x=t.store("remoteDocumentsV14"),G=(Q=b,Q.document?new t1(Gn.fromString(Q.document.name).popFirst(5)):Q.noDocument?t1.fromSegments(Q.noDocument.path):Q.unknownDocument?t1.fromSegments(Q.unknownDocument.path):f1()).path.toArray();var Q;const le={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};c.push(x.put(le))}).next(()=>gt.waitFor(c))}zs(e,t){const s=t.store("mutations"),c=B0(this.yt),p=new wl(zc.Bs,this.yt.ie);return s.W().next(b=>{const x=new Map;return b.forEach(G=>{var Q;let le=null!==(Q=x.get(G.userId))&&void 0!==Q?Q:Bn();S3(this.yt,G).keys().forEach(Oe=>le=le.add(Oe)),x.set(G.userId,le)}),gt.forEach(x,(G,Q)=>{const le=new zi(Q),Oe=Fe.re(this.yt,le),dt=p.getIndexManager(le),Ht=T3.re(le,this.yt,dt,p.referenceDelegate);return new Tu(c,Ht,Oe,dt).recalculateAndSaveOverlaysForDocumentKeys(new Ac(t,sr.at),G).next()})})}}function $8(r){r.createObjectStore("targetDocuments",{keyPath:Mu}).createIndex("documentTargetsIndex",wu,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Cu,{unique:!0}),r.createObjectStore("targetGlobal")}const Z8="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lc{constructor(e,t,s,c,p,b,x,G,Q,le,Oe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=p,this.window=b,this.document=x,this.Js=Q,this.Ys=le,this.Xs=Oe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=dt=>Promise.resolve(),!Lc.C())throw new Bt(bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new K6(this,c),this.ii=t+"main",this.yt=new U8(G),this.ri=new u2(this.ii,this.Xs,new xu(this.yt)),this.Cs=new V0(this.referenceDelegate,this.yt),this.remoteDocumentCache=B0(this.yt),this.Ns=new Z,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===le&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(bt.FAILED_PRECONDITION,Z8);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new sr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,je.Z)(function*(c){if(t.started)return e(c)});return function(c){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,je.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,je.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Oc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(no(e))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return j0(e).get("owner").next(t=>gt.resolve(this.mi(t)))}gi(e){return Oc(e).delete(this.clientId)}yi(){var e=this;return(0,je.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=v2(s,"clientMetadata");return c.W().next(p=>{const b=e.Ii(p,18e5),x=p.filter(G=>-1===b.indexOf(G));return gt.forEach(x,G=>c.delete(G.clientId)).next(()=>x)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?gt.resolve(!0):j0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Bt(bt.FAILED_PRECONDITION,Z8);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oc(e).W().next(s=>void 0===this.Ii(s,5e3).find(c=>{if(this.clientId!==c.clientId){const b=!this.inForeground&&c.inForeground,x=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||b&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Kt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,je.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Ac(t,sr.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Oc(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return T3.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new So(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Fe.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Kt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",p=15===(b=this.Xs)?Tc:14===b?Nc:13===b?c6:12===b?B8:11===b?F8:void f1();var b;let x;return this.ri.runTransaction(e,c,p,G=>(x=new Ac(G,this.Ss?this.Ss.next():sr.at),"readwrite-primary"===t?this.fi(x).next(Q=>!!Q||this.di(x)).next(Q=>{if(!Q)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Bt(bt.FAILED_PRECONDITION,H4);return s(x)}).next(Q=>this.wi(x).next(()=>Q)):this.Vi(x).next(()=>s(x)))).then(G=>(x.raiseOnCommittedEvent(),G))}Vi(e){return j0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Bt(bt.FAILED_PRECONDITION,Z8)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return j0(e).put("owner",t)}static C(){return u2.C()}_i(e){const t=j0(e);return t.get("owner").next(s=>this.mi(s)?(Kt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):gt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ei(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,nt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Kt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ei("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function j0(r){return v2(r,"owner")}function Oc(r){return v2(r,"clientMetadata")}function W8(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Zn{constructor(e,t,s,c){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=c}static Ci(e,t){let s=Bn(),c=Bn();for(const p of t.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Zn(e,t.fromCache,s,c)}}class q8{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,c){return this.ki(e,t).next(p=>p||this.Oi(e,t,c,s)).next(p=>p||this.Mi(e,t))}ki(e,t){if(L6(t))return gt.resolve(null);let s=Qr(t);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=Ps(t,null,"F"),s=Qr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(p=>{const b=Bn(...p);return this.Ni.getDocuments(e,b).next(x=>this.indexManager.getMinOffset(e,s).next(G=>{const Q=this.Fi(t,x);return this.$i(t,Q,b,G.readTime)?this.ki(e,Ps(t,null,"F")):this.Bi(e,Q,t,G)}))})))}Oi(e,t,s,c){return L6(t)||c.isEqual(V1.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(p=>{const b=this.Fi(t,p);return this.$i(t,b,s,c)?this.Mi(e,t):(to()<=mt.in.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),_3(t)),this.Bi(e,b,t,ua(c,-1)))})}Fi(e,t){let s=new ii(k6(e));return t.forEach((c,p)=>{ar(e,p)&&(s=s.add(p))}),s}$i(e,t,s,c){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const p="F"===e.limitType?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Mi(e,t){return to()<=mt.in.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",_3(t)),this.Ni.getDocumentsMatchingQuery(e,t,as.min())}Bi(e,t,s,c){return this.Ni.getDocumentsMatchingQuery(e,s,c).next(p=>(t.forEach(b=>{p=p.insert(b.key,b)}),p))}}class El{constructor(e,t,s,c){this.persistence=e,this.Li=t,this.yt=c,this.qi=new or(rn),this.Ui=new Vs(p=>m4(p),q3),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tu(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function K8(r,e,t,s){return new El(r,e,t,s)}function Sl(r,e){return Y8.apply(this,arguments)}function Y8(){return Y8=(0,je.Z)(function*(r,e){const t=c1(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let c;return t.mutationQueue.getAllMutationBatches(s).next(p=>(c=p,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(p=>{const b=[],x=[];let G=Bn();for(const Q of c){b.push(Q.batchId);for(const le of Q.mutations)G=G.add(le.key)}for(const Q of p){x.push(Q.batchId);for(const le of Q.mutations)G=G.add(le.key)}return t.localDocuments.getDocuments(s,G).next(Q=>({ji:Q,removedBatchIds:b,addedBatchIds:x}))})})}),Y8.apply(this,arguments)}function Nl(r,e){const t=c1(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),p=t.Gi.newChangeBuffer({trackRemovals:!0});return function(b,x,G,Q){const le=G.batch,Oe=le.keys();let dt=gt.resolve();return Oe.forEach(Ht=>{dt=dt.next(()=>Q.getEntry(x,Ht)).next(Wt=>{const x1=G.docVersions.get(Ht);_1(null!==x1),Wt.version.compareTo(x1)<0&&(le.applyToRemoteDocument(Wt,G),Wt.isValidDocument()&&(Wt.setReadTime(G.commitVersion),Q.addEntry(Wt)))})}),dt.next(()=>b.mutationQueue.removeMutationBatch(x,le))}(t,s,e,p).next(()=>p.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let x=Bn();for(let G=0;G<b.mutationResults.length;++G)b.mutationResults[G].transformResults.length>0&&(x=x.add(b.batch.mutations[G].key));return x}(e))).next(()=>t.localDocuments.getDocuments(s,c))})}function Tl(r){const e=c1(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Al(r,e){const t=c1(r),s=e.snapshotVersion;let c=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const b=t.Gi.newChangeBuffer({trackRemovals:!0});c=t.qi;const x=[];e.targetChanges.forEach((le,Oe)=>{const dt=c.get(Oe);if(!dt)return;x.push(t.Cs.removeMatchingKeys(p,le.removedDocuments,Oe).next(()=>t.Cs.addMatchingKeys(p,le.addedDocuments,Oe)));let Ht=dt.withSequenceNumber(p.currentSequenceNumber);var Wt,x1,on;e.targetMismatches.has(Oe)?Ht=Ht.withResumeToken(Zt.EMPTY_BYTE_STRING,V1.min()).withLastLimboFreeSnapshotVersion(V1.min()):le.resumeToken.approximateByteSize()>0&&(Ht=Ht.withResumeToken(le.resumeToken,s)),c=c.insert(Oe,Ht),x1=Ht,on=le,(0===(Wt=dt).resumeToken.approximateByteSize()||x1.snapshotVersion.toMicroseconds()-Wt.snapshotVersion.toMicroseconds()>=3e8||on.addedDocuments.size+on.modifiedDocuments.size+on.removedDocuments.size>0)&&x.push(t.Cs.updateTargetData(p,Ht))});let G=Xr(),Q=Bn();if(e.documentUpdates.forEach(le=>{e.resolvedLimboDocuments.has(le)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(p,le))}),x.push(Il(p,b,e.documentUpdates).next(le=>{G=le.Wi,Q=le.zi})),!s.isEqual(V1.min())){const le=t.Cs.getLastRemoteSnapshotVersion(p).next(Oe=>t.Cs.setTargetsMetadata(p,p.currentSequenceNumber,s));x.push(le)}return gt.waitFor(x).next(()=>b.apply(p)).next(()=>t.localDocuments.getLocalViewOfDocuments(p,G,Q)).next(()=>G)}).then(p=>(t.qi=c,p))}function Il(r,e,t){let s=Bn(),c=Bn();return t.forEach(p=>s=s.add(p)),e.getEntries(r,s).next(p=>{let b=Xr();return t.forEach((x,G)=>{const Q=p.get(x);G.isFoundDocument()!==Q.isFoundDocument()&&(c=c.add(x)),G.isNoDocument()&&G.version.isEqual(V1.min())?(e.removeEntry(x,G.readTime),b=b.insert(x,G)):!Q.isValidDocument()||G.version.compareTo(Q.version)>0||0===G.version.compareTo(Q.version)&&Q.hasPendingWrites?(e.addEntry(G),b=b.insert(x,G)):Kt("LocalStore","Ignoring outdated watch update for ",x,". Current version:",Q.version," Watch version:",G.version)}),{Wi:b,zi:c}})}function zu(r,e){const t=c1(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function G0(r,e){const t=c1(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return t.Cs.getTargetData(s,e).next(p=>p?(c=p,gt.resolve(c)):t.Cs.allocateTargetId(s).next(b=>(c=new M4(e,b,0,s.currentSequenceNumber),t.Cs.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=t.qi.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function m6(r,e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,je.Z)(function*(r,e,t){const s=c1(r),c=s.qi.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",p,b=>s.persistence.referenceDelegate.removeTarget(b,c)))}catch(b){if(!no(b))throw b;Kt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}s.qi=s.qi.remove(e),s.Ui.delete(c.target)}),Rc.apply(this,arguments)}function N4(r,e,t){const s=c1(r);let c=V1.min(),p=Bn();return s.persistence.runTransaction("Execute query","readonly",b=>function(x,G,Q){const le=c1(x),Oe=le.Ui.get(Q);return void 0!==Oe?gt.resolve(le.qi.get(Oe)):le.Cs.getTargetData(G,Q)}(s,b,Qr(e)).next(x=>{if(x)return c=x.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(b,x.targetId).next(G=>{p=G})}).next(()=>s.Li.getDocumentsMatchingQuery(b,e,t?c:V1.min(),t?p:Bn())).next(x=>(Pc(s,b3(e),x),{documents:x,Hi:p})))}function xl(r,e){const t=c1(r),s=c1(t.Cs),c=t.qi.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",p=>s.ne(p,e).next(b=>b?b.target:null))}function kc(r,e){const t=c1(r),s=t.Ki.get(e)||V1.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Gi.getAllFromCollectionGroup(c,e,ua(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Pc(t,e,c),c))}function Pc(r,e,t){let s=r.Ki.get(e)||V1.min();t.forEach((c,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),r.Ki.set(e,s)}function zl(){return zl=(0,je.Z)(function*(r,e,t,s){const c=c1(r);let p=Bn(),b=Xr();for(const Q of t){const le=e.Ji(Q.metadata.name);Q.document&&(p=p.add(le));const Oe=e.Yi(Q);Oe.setReadTime(e.Xi(Q.metadata.readTime)),b=b.insert(le,Oe)}const x=c.Gi.newChangeBuffer({trackRemovals:!0}),G=yield G0(c,(Q=s,Qr(ks(Gn.fromString(`__bundle__/docs/${Q}`)))));var Q;return c.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Il(Q,x,b).next(le=>(x.apply(Q),le)).next(le=>c.Cs.removeMatchingKeysForTargetId(Q,G.targetId).next(()=>c.Cs.addMatchingKeys(Q,p,G.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(Q,le.Wi,le.zi)).next(()=>le.Wi)))}),zl.apply(this,arguments)}function Ou(r,e){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,je.Z)(function*(r,e,t=Bn()){const s=yield G0(r,Qr(y(e.bundledQuery))),c=c1(r);return c.persistence.runTransaction("Save named query","readwrite",p=>{const b=ui(e.readTime);if(s.snapshotVersion.compareTo(b)>=0)return c.Ns.saveNamedQuery(p,e);const x=s.withResumeToken(Zt.EMPTY_BYTE_STRING,b);return c.qi=c.qi.insert(x.targetId,x),c.Cs.updateTargetData(p,x).next(()=>c.Cs.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>c.Cs.addMatchingKeys(p,t,s.targetId)).next(()=>c.Ns.saveNamedQuery(p,e))})}),Ll.apply(this,arguments)}function Ol(r,e){return`firestore_clients_${r}_${e}`}function J8(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Rl(r,e){return`firestore_targets_${r}_${e}`}class Vc{constructor(e,t,s,c){this.user=e,this.batchId=t,this.state=s,this.error=c}static Zi(e,t,s){const c=JSON.parse(s);let p,b="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return b&&c.error&&(b="string"==typeof c.error.message&&"string"==typeof c.error.code,b&&(p=new Bt(c.error.code,c.error.message))),b?new Vc(e,t,c.state,p):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class T4{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let c,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(c=new Bt(s.error.code,s.error.message))),p?new T4(e,s.state,c):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let c="object"==typeof s&&s.activeTargetIds instanceof Array,p=ba();for(let b=0;c&&b<s.activeTargetIds.length;++b)c=Ae(s.activeTargetIds[b]),p=p.add(s.activeTargetIds[b]);return c?new Hc(e,p):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fc{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fc(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Y6{constructor(){this.activeTargetIds=ba()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q8{constructor(e,t,s,c,p){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new or(rn),this.started=!1,this.cr=[];const b=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=Ol(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Y6),this.lr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,je.Z)(function*(){const t=yield e.syncEngine.vi();for(const c of t){if(c===e.sr)continue;const p=e.getItem(Ol(e.persistenceKey,c));if(p){const b=Hc.Zi(c,p);b&&(e.ur=e.ur.insert(b.clientId,b))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const c=e.yr(s);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Rl(this.persistenceKey,e));if(s){const c=T4.Zi(e,s);c&&(t=c.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rl(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(c=>{this.Er(c)}),this.currentUser=e,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Kt("SharedClientState","READ",e,t),t}setItem(e,t){Kt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Kt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Kt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,je.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const c=t.vr(s.key);return t.Vr(c,null)}{const c=t.Sr(s.key,s.newValue);if(c)return t.Vr(c.clientId,c)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const c=t.Dr(s.key,s.newValue);if(c)return t.Cr(c)}}else if(t._r.test(s.key)){if(null!==s.newValue){const c=t.Nr(s.key,s.newValue);if(c)return t.kr(c)}}else if(s.key===t.wr){if(null!==s.newValue){const c=t.yr(s.newValue);if(c)return t.pr(c)}}else if(s.key===t.hr){const c=function(p){let b=sr.at;if(null!=p)try{const x=JSON.parse(p);_1("number"==typeof x),b=x}catch(x){Ei("SharedClientState","Failed to read sequence number from WebStorage",x)}return b}(s.newValue);c!==sr.at&&t.sequenceNumberHandler(c)}else if(s.key===t.mr){const c=t.Or(s.newValue);yield Promise.all(c.map(p=>t.syncEngine.Mr(p)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const c=new Vc(this.currentUser,e,t,s),p=J8(this.persistenceKey,this.currentUser,e);this.setItem(p,c.tr())}Er(e){const t=J8(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const c=Rl(this.persistenceKey,e),p=new T4(e,t,s);this.setItem(c,p.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return Hc.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),c=Number(s[1]);return Vc.Zi(new zi(void 0!==s[2]?s[2]:null),c,t)}Nr(e,t){const s=this._r.exec(e),c=Number(s[1]);return T4.Zi(c,t)}yr(e){return Fc.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,je.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),c=this.Ir(this.ur),p=this.Ir(s),b=[],x=[];return p.forEach(G=>{c.has(G)||b.push(G)}),c.forEach(G=>{p.has(G)||x.push(G)}),this.syncEngine.Br(b,x).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ba();return e.forEach((s,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class X8{constructor(){this.Lr=new Y6,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Y6,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ru{Ur(e){}shutdown(){}}class kl{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ku={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pu{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Vu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,c,p){const b=this.ho(e,t);Kt("RestConnection","Sending: ",b,s);const x={};return this.lo(x,c,p),this.fo(e,b,x,s).then(G=>(Kt("RestConnection","Received: ",G),G),G=>{throw ys("RestConnection",`${e} failed with error: `,G,"url: ",b,"request:",s),G})}_o(e,t,s,c,p,b){return this.ao(e,t,s,c,p)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+li,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,p)=>e[p]=c),s&&s.headers.forEach((c,p)=>e[p]=c)}ho(e,t){return`${this.oo}/v1/${t}:${ku[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,c){return new Promise((p,b)=>{const x=new za;x.setWithCredentials(!0),x.listenOnce(d4.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case xa.NO_ERROR:const Q=x.getResponseJson();Kt("Connection","XHR received:",JSON.stringify(Q)),p(Q);break;case xa.TIMEOUT:Kt("Connection",'RPC "'+e+'" timed out'),b(new Bt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:const le=x.getStatus();if(Kt("Connection",'RPC "'+e+'" failed with status:',le,"response text:",x.getResponseText()),le>0){let Oe=x.getResponseJson();Array.isArray(Oe)&&(Oe=Oe[0]);const dt=Oe?.error;if(dt&&dt.status&&dt.message){const Ht=function(Wt){const x1=Wt.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(x1)>=0?x1:bt.UNKNOWN}(dt.status);b(new Bt(Ht,dt.message))}else b(new Bt(bt.UNKNOWN,"Server responded with status "+x.getStatus()))}else b(new Bt(bt.UNAVAILABLE,"Connection failed."));break;default:f1()}}finally{Kt("Connection",'RPC "'+e+'" completed.')}});const G=JSON.stringify(c);x.send(t,"POST",G,s,15)})}wo(e,t,s){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=na(),b=V4(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new oo({})),this.lo(x.initMessageHeaders,t,s),x.encodeInitMessageHeaders=!0;const G=c.join("");Kt("Connection","Creating WebChannel: "+G,x);const Q=p.createWebChannel(G,x);let le=!1,Oe=!1;const dt=new Pu({Hr:Wt=>{Oe?Kt("Connection","Not sending because WebChannel is closed:",Wt):(le||(Kt("Connection","Opening WebChannel transport."),Q.open(),le=!0),Kt("Connection","WebChannel sending:",Wt),Q.send(Wt))},Jr:()=>Q.close()}),Ht=(Wt,x1,on)=>{Wt.listen(x1,Ni=>{try{on(Ni)}catch(lr){setTimeout(()=>{throw lr},0)}})};return Ht(Q,zo.EventType.OPEN,()=>{Oe||Kt("Connection","WebChannel transport opened.")}),Ht(Q,zo.EventType.CLOSE,()=>{Oe||(Oe=!0,Kt("Connection","WebChannel transport closed"),dt.io())}),Ht(Q,zo.EventType.ERROR,Wt=>{Oe||(Oe=!0,ys("Connection","WebChannel transport errored:",Wt),dt.io(new Bt(bt.UNAVAILABLE,"The operation could not be completed")))}),Ht(Q,zo.EventType.MESSAGE,Wt=>{var x1;if(!Oe){const on=Wt.data[0];_1(!!on);const Ni=on,lr=Ni.error||(null===(x1=Ni[0])||void 0===x1?void 0:x1.error);if(lr){Kt("Connection","WebChannel received error:",lr);const O2=lr.status;let Er=function(Y2){const Sr=Gi[Y2];if(void 0!==Sr)return M3(Sr)}(O2),H2=lr.message;void 0===Er&&(Er=bt.INTERNAL,H2="Unknown error status: "+O2+" with message "+lr.message),Oe=!0,dt.io(new Bt(Er,H2)),Q.close()}else Kt("Connection","WebChannel received:",on),dt.ro(on)}}),Ht(b,ia.STAT_EVENT,Wt=>{Wt.stat===xo.PROXY?Kt("Connection","Detected buffering proxy"):Wt.stat===xo.NOPROXY&&Kt("Connection","Detected no buffering proxy")}),setTimeout(()=>{dt.so()},0),dt}}function e5(){return typeof window<"u"?window:null}function Bc(){return typeof document<"u"?document:null}function J6(r){return new F6(r,!0)}class Uc{constructor(e,t,s=1e3,c=1.5,p=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=c,this.po=p,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),c=Math.max(0,t-s);c>0&&Kt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class jc{constructor(e,t,s,c,p,b,x,G){this.Hs=e,this.vo=s,this.Vo=c,this.connection=p,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=G,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Uc(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,je.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,je.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,je.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===bt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.So===t&&this.Go(s,c)},s=>{e(()=>{const c=new Bt(bt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(c)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{s(()=>this.Qo(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,je.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Kt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kd extends jc{constructor(e,t,s,c,p,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,c,b),this.yt=p}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function J(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:f1(),c=e.targetChange.targetIds||[],p=function(G,Q){return G.wt?(_1(void 0===Q||"string"==typeof Q),Zt.fromBase64String(Q||"")):(_1(void 0===Q||Q instanceof Uint8Array),Zt.fromUint8Array(Q||new Uint8Array))}(r,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(G){const Q=void 0===G.code?bt.UNKNOWN:M3(G.code);return new Bt(Q,G.message||"")}(b);t=new Qs(s,c,p,x||null)}else if("documentChange"in e){const s=e.documentChange,c=vo(r,s.document.name),p=ui(s.document.updateTime),b=s.document.createTime?ui(s.document.createTime):V1.min(),x=new ws({mapValue:{fields:s.document.fields}}),G=ki.newFoundDocument(c,p,b,x);t=new Ka(s.targetIds||[],s.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const s=e.documentDelete,c=vo(r,s.document),p=s.readTime?ui(s.readTime):V1.min(),b=ki.newNoDocument(c,p);t=new Ka([],s.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const s=e.documentRemove,c=vo(r,s.document);t=new Ka([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return f1();{const s=e.filter,p=new $a(s.count||0);t=new q4(s.targetId,p)}}var G;return t}(this.yt,e),s=function(c){if(!("targetChange"in c))return V1.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?V1.min():p.readTime?ui(p.readTime):V1.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=b4(this.yt),t.addTarget=function(c,p){let b;const x=p.target;return b=K3(x)?{documents:m1(c,x)}:{query:O1(c,x)},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?b.resumeToken=go(c,p.resumeToken):p.snapshotVersion.compareTo(V1.min())>0&&(b.readTime=Ya(c,p.snapshotVersion.toTimestamp())),b}(this.yt,e);const s=function ln(r,e){const t=function(s,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return f1()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=b4(this.yt),t.removeTarget=e,this.Bo(t)}}class t5 extends jc{constructor(e,t,s,c,p,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,c,b),this.yt=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(_1(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Tt(r,e){return r&&r.length>0?(_1(void 0!==e),r.map(t=>function(s,c){let p=ui(s.updateTime?s.updateTime:c);return p.isEqual(V1.min())&&(p=ui(c)),new g4(p,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=ui(e.commitTime);return this.listener.Zo(s,t)}return _1(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=b4(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>oe(this.yt,s))};this.Bo(t)}}class Hu extends class{}{constructor(e,t,s,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=c,this.nu=!1}su(){if(this.nu)throw new Bt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.ao(e,t,s,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Bt(bt.UNKNOWN,c.toString())})}_o(e,t,s,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,b])=>this.connection._o(e,t,s,p,b,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Bt(bt.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class Pl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ei(t),this.ou=!1):Kt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Vl{constructor(e,t,s,c,p){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.Ur(x=>{s.enqueueAndForget((0,je.Z)(function*(){var G;A4(b)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,je.Z)(function*(Q){const le=c1(Q);le._u.add(4),yield g6(le),le.gu.set("Unknown"),le._u.delete(4),yield x3(le)}),function(Q){return G.apply(this,arguments)})(b))}))}),this.gu=new Pl(s,c)}}function x3(r){return qo.apply(this,arguments)}function qo(){return qo=(0,je.Z)(function*(r){if(A4(r))for(const e of r.wu)yield e(!0)}),qo.apply(this,arguments)}function g6(r){return n5.apply(this,arguments)}function n5(){return n5=(0,je.Z)(function*(r){for(const e of r.wu)yield e(!1)}),n5.apply(this,arguments)}function Q6(r,e){const t=c1(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Hl(t)?Z0(t):q0(t).ko()&&$0(t,e))}function Ko(r,e){const t=c1(r),s=q0(t);t.du.delete(e),s.ko()&&i5(t,e),0===t.du.size&&(s.ko()?s.Fo():A4(t)&&t.gu.set("Unknown"))}function $0(r,e){r.yu.Ot(e.targetId),q0(r).zo(e)}function i5(r,e){r.yu.Ot(e),q0(r).Ho(e)}function Z0(r){r.yu=new K4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>r.du.get(e)||null}),q0(r).start(),r.gu.uu()}function Hl(r){return A4(r)&&!q0(r).No()&&r.du.size>0}function A4(r){return 0===c1(r)._u.size}function Fu(r){r.yu=void 0}function Gc(r){return X6.apply(this,arguments)}function X6(){return X6=(0,je.Z)(function*(r){r.du.forEach((e,t)=>{$0(r,e)})}),X6.apply(this,arguments)}function r5(r,e){return W0.apply(this,arguments)}function W0(){return W0=(0,je.Z)(function*(r,e){Fu(r),Hl(r)?(r.gu.hu(e),Z0(r)):r.gu.set("Unknown")}),W0.apply(this,arguments)}function s5(r,e,t){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,je.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof Qs&&2===e.state&&e.cause)try{yield(s=(0,je.Z)(function*(c,p){const b=p.cause;for(const x of p.targetIds)c.du.has(x)&&(yield c.remoteSyncer.rejectListen(x,b),c.du.delete(x),c.yu.removeTarget(x))}),function(c,p){return s.apply(this,arguments)})(r,e)}catch(s){Kt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield $c(r,s)}else if(e instanceof Ka?r.yu.Kt(e):e instanceof q4?r.yu.Jt(e):r.yu.jt(e),!t.isEqual(V1.min()))try{const s=yield Tl(r.localStore);t.compareTo(s)>=0&&(yield function(c,p){const b=c.yu.Zt(p);return b.targetChanges.forEach((x,G)=>{if(x.resumeToken.approximateByteSize()>0){const Q=c.du.get(G);Q&&c.du.set(G,Q.withResumeToken(x.resumeToken,p))}}),b.targetMismatches.forEach(x=>{const G=c.du.get(x);if(!G)return;c.du.set(x,G.withResumeToken(Zt.EMPTY_BYTE_STRING,G.snapshotVersion)),i5(c,x);const Q=new M4(G.target,x,1,G.sequenceNumber);$0(c,Q)}),c.remoteSyncer.applyRemoteEvent(b)}(r,t))}catch(s){Kt("RemoteStore","Failed to raise snapshot:",s),yield $c(r,s)}var s}),Fl.apply(this,arguments)}function $c(r,e,t){return o5.apply(this,arguments)}function o5(){return o5=(0,je.Z)(function*(r,e,t){if(!no(e))throw e;r._u.add(1),yield g6(r),r.gu.set("Offline"),t||(t=()=>Tl(r.localStore)),r.asyncQueue.enqueueRetryable((0,je.Z)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield x3(r)}))}),o5.apply(this,arguments)}function Bl(r,e){return e().catch(t=>$c(r,t,e))}function e0(r){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,je.Z)(function*(r){const e=c1(r),t=_o(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Vd(e);)try{const c=yield zu(e.localStore,s);if(null===c){0===e.fu.length&&t.Fo();break}s=c.batchId,Bu(e,c)}catch(c){yield $c(e,c)}Uu(e)&&a5(e)}),Zc.apply(this,arguments)}function Vd(r){return A4(r)&&r.fu.length<10}function Bu(r,e){r.fu.push(e);const t=_o(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Uu(r){return A4(r)&&!_o(r).No()&&r.fu.length>0}function a5(r){_o(r).start()}function Ul(r){return c5.apply(this,arguments)}function c5(){return c5=(0,je.Z)(function*(r){_o(r).eu()}),c5.apply(this,arguments)}function l5(r){return jl.apply(this,arguments)}function jl(){return jl=(0,je.Z)(function*(r){const e=_o(r);for(const t of r.fu)e.Xo(t.mutations)}),jl.apply(this,arguments)}function Hd(r,e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,je.Z)(function*(r,e,t){const s=r.fu.shift(),c=Ic.from(s,e,t);yield Bl(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield e0(r)}),Gl.apply(this,arguments)}function Fd(r,e){return $l.apply(this,arguments)}function $l(){return $l=(0,je.Z)(function*(r,e){var t;e&&_o(r).Yo&&(yield(t=(0,je.Z)(function*(s,c){if(Za(p=c.code)&&p!==bt.ABORTED){const b=s.fu.shift();_o(s).Mo(),yield Bl(s,()=>s.remoteSyncer.rejectFailedWrite(b.batchId,c)),yield e0(s)}var p}),function(s,c){return t.apply(this,arguments)})(r,e)),Uu(r)&&a5(r)}),$l.apply(this,arguments)}function ju(r,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,je.Z)(function*(r,e){const t=c1(r);t.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const s=A4(t);t._u.add(3),yield g6(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield x3(t)}),Zl.apply(this,arguments)}function Wl(r,e){return ql.apply(this,arguments)}function ql(){return ql=(0,je.Z)(function*(r,e){const t=c1(r);e?(t._u.delete(2),yield x3(t)):e||(t._u.add(2),yield g6(t),t.gu.set("Unknown"))}),ql.apply(this,arguments)}function q0(r){return r.pu||(r.pu=function(e,t,s){const c=c1(e);return c.su(),new kd(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(r.datastore,r.asyncQueue,{Yr:Gc.bind(null,r),Zr:r5.bind(null,r),Wo:s5.bind(null,r)}),r.wu.push(function(){var e=(0,je.Z)(function*(t){t?(r.pu.Mo(),Hl(r)?Z0(r):r.gu.set("Unknown")):(yield r.pu.stop(),Fu(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function _o(r){return r.Iu||(r.Iu=function(e,t,s){const c=c1(e);return c.su(),new t5(t,c.connection,c.authCredentials,c.appCheckCredentials,c.yt,s)}(r.datastore,r.asyncQueue,{Yr:Ul.bind(null,r),Zr:Fd.bind(null,r),tu:l5.bind(null,r),Zo:Hd.bind(null,r)}),r.wu.push(function(){var e=(0,je.Z)(function*(t){t?(r.Iu.Mo(),yield e0(r)):(yield r.Iu.stop(),r.fu.length>0&&(Kt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class K0{constructor(e,t,s,c,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=c,this.removalCallback=p,this.deferred=new Z2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,s,c,p){const b=Date.now()+s,x=new K0(e,t,b,c,p);return x.start(s),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t0(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),no(r))return new Bt(bt.UNAVAILABLE,`${e}: ${r}`);throw r}class v6{constructor(e){this.comparator=e?(t,s)=>e(t,s)||t1.comparator(t.key,s.key):(t,s)=>t1.comparator(t.key,s.key),this.keyedMap=Wa(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new v6(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof v6)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,p=s.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new v6;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Wc{constructor(){this.Tu=new or(t1.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):f1():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class y6{constructor(e,t,s,c,p,b,x,G,Q){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=p,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=G,this.hasCachedResults=Q}static fromInitialDocuments(e,t,s,c,p){const b=[];return t.forEach(x=>{b.push({type:0,doc:x})}),new y6(e,t,v6.emptySet(t),b,s,c,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==s[c].type||!t[c].doc.isEqual(s[c].doc))return!1;return!0}}class u5{constructor(){this.Au=void 0,this.listeners=[]}}class Gu{constructor(){this.queries=new Vs(e=>y3(e),V2),this.onlineState="Unknown",this.Ru=new Set}}function I4(r,e){return qc.apply(this,arguments)}function qc(){return qc=(0,je.Z)(function*(r,e){const t=c1(r),s=e.query;let c=!1,p=t.queries.get(s);if(p||(c=!0,p=new u5),c)try{p.Au=yield t.onListen(s)}catch(b){const x=t0(b,`Initialization of query '${_3(e.query)}' failed`);return void e.onError(x)}t.queries.set(s,p),p.listeners.push(e),e.bu(t.onlineState),p.Au&&e.Pu(p.Au)&&h5(t)}),qc.apply(this,arguments)}function d5(r,e){return f5.apply(this,arguments)}function f5(){return f5=(0,je.Z)(function*(r,e){const t=c1(r),s=e.query;let c=!1;const p=t.queries.get(s);if(p){const b=p.listeners.indexOf(e);b>=0&&(p.listeners.splice(b,1),c=0===p.listeners.length)}if(c)return t.queries.delete(s),t.onUnlisten(s)}),f5.apply(this,arguments)}function Kl(r,e){const t=c1(r);let s=!1;for(const c of e){const b=t.queries.get(c.query);if(b){for(const x of b.listeners)x.Pu(c)&&(s=!0);b.Au=c}}s&&h5(t)}function $u(r,e,t){const s=c1(r),c=s.queries.get(e);if(c)for(const p of c.listeners)p.onError(t);s.queries.delete(e)}function h5(r){r.Ru.forEach(e=>{e.next()})}class n0{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new y6(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=y6.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class r0{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Kc{constructor(e){this.yt=e}Ji(e){return vo(this.yt,e)}Yi(e){return e.metadata.exists?g(this.yt,e.document,!1):ki.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ui(e)}}class s0{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yc(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=Gn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new Kc(this.yt);for(const c of e)if(c.metadata.queries){const p=s.Ji(c.metadata.name);for(const b of c.metadata.queries){const x=(t.get(b)||Bn()).add(p);t.set(b,x)}}return t}complete(){var e=this;return(0,je.Z)(function*(){const t=yield function Lu(r,e,t,s){return zl.apply(this,arguments)}(e.localStore,new Kc(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const c of e.queries)yield Ou(e.localStore,c,s.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Yc(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Y0{constructor(e){this.key=e}}class p5{constructor(e){this.key=e}}class m5{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Bn(),this.mutatedKeys=Bn(),this.Gu=k6(e),this.Qu=new v6(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new Wc,c=t?t.Qu:this.Qu;let p=t?t.mutatedKeys:this.mutatedKeys,b=c,x=!1;const G="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,Q="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((le,Oe)=>{const dt=c.get(le),Ht=ar(this.query,Oe)?Oe:null,Wt=!!dt&&this.mutatedKeys.has(dt.key),x1=!!Ht&&(Ht.hasLocalMutations||this.mutatedKeys.has(Ht.key)&&Ht.hasCommittedMutations);let on=!1;dt&&Ht?dt.data.isEqual(Ht.data)?Wt!==x1&&(s.track({type:3,doc:Ht}),on=!0):this.Hu(dt,Ht)||(s.track({type:2,doc:Ht}),on=!0,(G&&this.Gu(Ht,G)>0||Q&&this.Gu(Ht,Q)<0)&&(x=!0)):!dt&&Ht?(s.track({type:0,doc:Ht}),on=!0):dt&&!Ht&&(s.track({type:1,doc:dt}),on=!0,(G||Q)&&(x=!0)),on&&(Ht?(b=b.add(Ht),p=x1?p.add(le):p.delete(le)):(b=b.delete(le),p=p.delete(le)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const le="F"===this.query.limitType?b.last():b.first();b=b.delete(le.key),p=p.delete(le.key),s.track({type:1,doc:le})}return{Qu:b,zu:s,$i:x,mutatedKeys:p}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const c=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const p=e.zu.Eu();p.sort((Q,le)=>function(Oe,dt){const Ht=Wt=>{switch(Wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return f1()}};return Ht(Oe)-Ht(dt)}(Q.type,le.type)||this.Gu(Q.doc,le.doc)),this.Ju(s);const b=t?this.Yu():[],x=0===this.Ku.size&&this.current?1:0,G=x!==this.Uu;return this.Uu=x,0!==p.length||G?{snapshot:new y6(this.query,e.Qu,c,p,e.mutatedKeys,0===x,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:b}:{Xu:b}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Wc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Bn(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new p5(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new Y0(s))}),t}tc(e){this.qu=e.Hi,this.Ku=Bn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return y6.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class g5{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class v5{constructor(e){this.key=e,this.nc=!1}}class Yl{constructor(e,t,s,c,p,b){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=b,this.sc={},this.ic=new Vs(x=>y3(x),V2),this.rc=new Map,this.oc=new Set,this.uc=new or(t1.comparator),this.cc=new Map,this.ac=new xc,this.hc={},this.lc=new Map,this.fc=D4.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function y5(r,e){return _5.apply(this,arguments)}function _5(){return _5=(0,je.Z)(function*(r,e){const t=n8(r);let s,c;const p=t.ic.get(e);if(p)s=p.targetId,t.sharedClientState.addLocalQueryTarget(s),c=p.view.ec();else{const b=yield G0(t.localStore,Qr(e));t.isPrimaryClient&&Q6(t.remoteStore,b);const x=t.sharedClientState.addLocalQueryTarget(b.targetId);s=b.targetId,c=yield Jl(t,e,s,"current"===x,b.resumeToken)}return c}),_5.apply(this,arguments)}function Jl(r,e,t,s,c){return b5.apply(this,arguments)}function b5(){return b5=(0,je.Z)(function*(r,e,t,s,c){r._c=(Oe,dt,Ht)=>{return(Wt=(0,je.Z)(function*(x1,on,Ni,lr){let O2=on.view.Wu(Ni);O2.$i&&(O2=yield N4(x1.localStore,on.query,!1).then(({documents:Y2})=>on.view.Wu(Y2,O2)));const Er=lr&&lr.targetChanges.get(on.targetId),H2=on.view.applyChanges(O2,x1.isPrimaryClient,Er);return S5(x1,on.targetId,H2.Xu),H2.snapshot}),function(x1,on,Ni,lr){return Wt.apply(this,arguments)})(r,Oe,dt,Ht);var Wt};const p=yield N4(r.localStore,e,!0),b=new m5(e,p.Hi),x=b.Wu(p.documents),G=qa.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,c),Q=b.applyChanges(x,r.isPrimaryClient,G);S5(r,t,Q.Xu);const le=new g5(e,t,b);return r.ic.set(e,le),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),Q.snapshot}),b5.apply(this,arguments)}function Ql(r,e){return C5.apply(this,arguments)}function C5(){return C5=(0,je.Z)(function*(r,e){const t=c1(r),s=t.ic.get(e),c=t.rc.get(s.targetId);if(c.length>1)return t.rc.set(s.targetId,c.filter(p=>!V2(p,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield m6(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ko(t.remoteStore,s.targetId),_6(t,s.targetId)}).catch(da))):(_6(t,s.targetId),yield m6(t.localStore,s.targetId,!0))}),C5.apply(this,arguments)}function Jc(){return Jc=(0,je.Z)(function*(r,e,t){const s=i8(r);try{const c=yield function(p,b){const x=c1(p),G=L2.now(),Q=b.reduce((dt,Ht)=>dt.add(Ht.key),Bn());let le,Oe;return x.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let Ht=Xr(),Wt=Bn();return x.Gi.getEntries(dt,Q).next(x1=>{Ht=x1,Ht.forEach((on,Ni)=>{Ni.isValidDocument()||(Wt=Wt.add(on))})}).next(()=>x.localDocuments.getOverlayedDocuments(dt,Ht)).next(x1=>{le=x1;const on=[];for(const Ni of b){const lr=va(Ni,le.get(Ni.key).overlayedDocument);null!=lr&&on.push(new ya(Ni.key,lr,W3(lr.value.mapValue),Pi.exists(!0)))}return x.mutationQueue.addMutationBatch(dt,G,on,b)}).next(x1=>{Oe=x1;const on=x1.applyToLocalDocumentSet(le,Wt);return x.documentOverlayCache.saveOverlays(dt,x1.batchId,on)})}).then(()=>({batchId:Oe.batchId,changes:Bo(le)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,b,x){let G=p.hc[p.currentUser.toKey()];G||(G=new or(rn)),G=G.insert(b,x),p.hc[p.currentUser.toKey()]=G}(s,c.batchId,t),yield n3(s,c.changes),yield e0(s.remoteStore)}catch(c){const p=t0(c,"Failed to persist write");t.reject(p)}}),Jc.apply(this,arguments)}function e7(r,e){return bo.apply(this,arguments)}function bo(){return bo=(0,je.Z)(function*(r,e){const t=c1(r);try{const s=yield Al(t.localStore,e);e.targetChanges.forEach((c,p)=>{const b=t.cc.get(p);b&&(_1(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?b.nc=!0:c.modifiedDocuments.size>0?_1(b.nc):c.removedDocuments.size>0&&(_1(b.nc),b.nc=!1))}),yield n3(t,s,e)}catch(s){yield da(s)}}),bo.apply(this,arguments)}function M5(r,e,t){const s=c1(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const c=[];s.ic.forEach((p,b)=>{const x=b.view.bu(e);x.snapshot&&c.push(x.snapshot)}),function(p,b){const x=c1(p);x.onlineState=b;let G=!1;x.queries.forEach((Q,le)=>{for(const Oe of le.listeners)Oe.bu(b)&&(G=!0)}),G&&h5(x)}(s.eventManager,e),c.length&&s.sc.Wo(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Zu(r,e,t){return t7.apply(this,arguments)}function t7(){return t7=(0,je.Z)(function*(r,e,t){const s=c1(r);s.sharedClientState.updateQueryState(e,"rejected",t);const c=s.cc.get(e),p=c&&c.key;if(p){let b=new or(t1.comparator);b=b.insert(p,ki.newNoDocument(p,V1.min()));const x=Bn().add(p),G=new jo(V1.min(),new Map,new ii(rn),b,x);yield e7(s,G),s.uc=s.uc.remove(p),s.cc.delete(e),Xc(s)}else yield m6(s.localStore,e,!1).then(()=>_6(s,e,t)).catch(da)}),t7.apply(this,arguments)}function Wu(r,e){return J0.apply(this,arguments)}function J0(){return J0=(0,je.Z)(function*(r,e){const t=c1(r),s=e.batch.batchId;try{const c=yield Nl(t.localStore,e);E5(t,s,null),Qc(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield n3(t,c)}catch(c){yield da(c)}}),J0.apply(this,arguments)}function n7(r,e,t){return w5.apply(this,arguments)}function w5(){return w5=(0,je.Z)(function*(r,e,t){const s=c1(r);try{const c=yield function(p,b){const x=c1(p);return x.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let Q;return x.mutationQueue.lookupMutationBatch(G,b).next(le=>(_1(null!==le),Q=le.keys(),x.mutationQueue.removeMutationBatch(G,le))).next(()=>x.mutationQueue.performConsistencyCheck(G)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(G,Q,b)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,Q)).next(()=>x.localDocuments.getDocuments(G,Q))})}(s.localStore,e);E5(s,e,t),Qc(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield n3(s,c)}catch(c){yield da(c)}}),w5.apply(this,arguments)}function D5(){return D5=(0,je.Z)(function*(r,e){const t=c1(r);A4(t.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const b=c1(p);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>b.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===s)return void e.resolve();const c=t.lc.get(s)||[];c.push(e),t.lc.set(s,c)}catch(s){const c=t0(s,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),D5.apply(this,arguments)}function Qc(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function E5(r,e,t){const s=c1(r);let c=s.hc[s.currentUser.toKey()];if(c){const p=c.get(e);p&&(t?p.reject(t):p.resolve(),c=c.remove(e)),s.hc[s.currentUser.toKey()]=c}}function _6(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.rc.get(e))r.ic.delete(s),t&&r.sc.wc(s,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(s=>{r.ac.containsKey(s)||i7(r,s)})}function i7(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Ko(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Xc(r))}function S5(r,e,t){for(const s of t)s instanceof Y0?(r.ac.addReference(s.key,e),r7(r,s)):s instanceof p5?(Kt("SyncEngine","Document no longer in limbo: "+s.key),r.ac.removeReference(s.key,e),r.ac.containsKey(s.key)||i7(r,s.key)):f1()}function r7(r,e){const t=e.key,s=t.path.canonicalString();r.uc.get(t)||r.oc.has(s)||(Kt("SyncEngine","New document in limbo: "+t),r.oc.add(s),Xc(r))}function Xc(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new t1(Gn.fromString(e)),s=r.fc.next();r.cc.set(s,new v5(t)),r.uc=r.uc.insert(t,s),Q6(r.remoteStore,new M4(Qr(ks(t.path)),s,2,sr.at))}}function n3(r,e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,je.Z)(function*(r,e,t){const s=c1(r),c=[],p=[],b=[];var x;s.ic.isEmpty()||(s.ic.forEach((x,G)=>{b.push(s._c(G,e,t).then(Q=>{if((Q||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(G.targetId,Q?.fromCache?"not-current":"current"),Q){c.push(Q);const le=Zn.Ci(G.targetId,Q);p.push(le)}}))}),yield Promise.all(b),s.sc.Wo(c),yield(x=(0,je.Z)(function*(G,Q){const le=c1(G);try{yield le.persistence.runTransaction("notifyLocalViewChanges","readwrite",Oe=>gt.forEach(Q,dt=>gt.forEach(dt.Si,Ht=>le.persistence.referenceDelegate.addReference(Oe,dt.targetId,Ht)).next(()=>gt.forEach(dt.Di,Ht=>le.persistence.referenceDelegate.removeReference(Oe,dt.targetId,Ht)))))}catch(Oe){if(!no(Oe))throw Oe;Kt("LocalStore","Failed to update sequence numbers: "+Oe)}for(const Oe of Q){const dt=Oe.targetId;if(!Oe.fromCache){const Ht=le.qi.get(dt),x1=Ht.withLastLimboFreeSnapshotVersion(Ht.snapshotVersion);le.qi=le.qi.insert(dt,x1)}}}),function(G,Q){return x.apply(this,arguments)})(s.localStore,p))}),Sa.apply(this,arguments)}function N5(r,e){return T5.apply(this,arguments)}function T5(){return T5=(0,je.Z)(function*(r,e){const t=c1(r);if(!t.currentUser.isEqual(e)){Kt("SyncEngine","User change. New user:",e.toKey());const s=yield Sl(t.localStore,e);t.currentUser=e,(c=t).lc.forEach(b=>{b.forEach(x=>{x.reject(new Bt(bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield n3(t,s.ji)}var c}),T5.apply(this,arguments)}function Ku(r,e){const t=c1(r),s=t.cc.get(e);if(s&&s.nc)return Bn().add(s.key);{let c=Bn();const p=t.rc.get(e);if(!p)return c;for(const b of p){const x=t.ic.get(b);c=c.unionWith(x.view.ju)}return c}}function Bd(r,e){return e8.apply(this,arguments)}function e8(){return e8=(0,je.Z)(function*(r,e){const t=c1(r),s=yield N4(t.localStore,e.query,!0),c=e.view.tc(s);return t.isPrimaryClient&&S5(t,e.targetId,c.Xu),c}),e8.apply(this,arguments)}function Yu(r,e){return A5.apply(this,arguments)}function A5(){return A5=(0,je.Z)(function*(r,e){const t=c1(r);return kc(t.localStore,e).then(s=>n3(t,s))}),A5.apply(this,arguments)}function Ju(r,e,t,s){return Q0.apply(this,arguments)}function Q0(){return Q0=(0,je.Z)(function*(r,e,t,s){const c=c1(r),p=yield function(b,x){const G=c1(b),Q=c1(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",le=>Q.Tn(le,x).next(Oe=>Oe?G.localDocuments.getDocuments(le,Oe):gt.resolve(null)))}(c.localStore,e);var x;null!==p?("pending"===t?yield e0(c.remoteStore):"acknowledged"===t||"rejected"===t?(E5(c,e,s||null),Qc(c,e),x=e,c1(c1(c.localStore).mutationQueue).An(x)):f1(),yield n3(c,p)):Kt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Q0.apply(this,arguments)}function I5(){return I5=(0,je.Z)(function*(r,e){const t=c1(r);if(n8(t),i8(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),c=yield X0(t,s.toArray());t.dc=!0,yield Wl(t.remoteStore,!0);for(const p of c)Q6(t.remoteStore,p)}else if(!1===e&&!1!==t.dc){const s=[];let c=Promise.resolve();t.rc.forEach((p,b)=>{t.sharedClientState.isLocalQueryTarget(b)?s.push(b):c=c.then(()=>(_6(t,b),m6(t.localStore,b,!0))),Ko(t.remoteStore,b)}),yield c,yield X0(t,s),function(p){const b=c1(p);b.cc.forEach((x,G)=>{Ko(b.remoteStore,G)}),b.ac.fs(),b.cc=new Map,b.uc=new or(t1.comparator)}(t),t.dc=!1,yield Wl(t.remoteStore,!1)}}),I5.apply(this,arguments)}function X0(r,e,t){return ec.apply(this,arguments)}function ec(){return ec=(0,je.Z)(function*(r,e,t){const s=c1(r),c=[],p=[];for(const b of e){let x;const G=s.rc.get(b);if(G&&0!==G.length){x=yield G0(s.localStore,Qr(G[0]));for(const Q of G){const le=s.ic.get(Q),Oe=yield Bd(s,le);Oe.snapshot&&p.push(Oe.snapshot)}}else{const Q=yield xl(s.localStore,b);x=yield G0(s.localStore,Q),yield Jl(s,tc(Q),b,!1,x.resumeToken)}c.push(x)}return s.sc.Wo(p),c}),ec.apply(this,arguments)}function tc(r){return U4(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ud(r){const e=c1(r);return c1(c1(e.localStore).persistence).vi()}function x5(r,e,t,s){return s7.apply(this,arguments)}function s7(){return s7=(0,je.Z)(function*(r,e,t,s){const c=c1(r);if(c.dc)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const p=c.rc.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const b=yield kc(c.localStore,b3(p[0])),x=jo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Zt.EMPTY_BYTE_STRING);yield n3(c,b,x);break}case"rejected":yield m6(c.localStore,e,!0),_6(c,e,s);break;default:f1()}}),s7.apply(this,arguments)}function o7(r,e,t){return t8.apply(this,arguments)}function t8(){return t8=(0,je.Z)(function*(r,e,t){const s=n8(r);if(s.dc){for(const c of e){if(s.rc.has(c)){Kt("SyncEngine","Adding an already active target "+c);continue}const p=yield xl(s.localStore,c),b=yield G0(s.localStore,p);yield Jl(s,tc(p),b.targetId,!1,b.resumeToken),Q6(s.remoteStore,b)}for(const c of t)s.rc.has(c)&&(yield m6(s.localStore,c,!1).then(()=>{Ko(s.remoteStore,c),_6(s,c)}).catch(da))}}),t8.apply(this,arguments)}function n8(r){const e=c1(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ku.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zu.bind(null,e),e.sc.Wo=Kl.bind(null,e.eventManager),e.sc.wc=$u.bind(null,e.eventManager),e}function i8(r){const e=c1(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wu.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n7.bind(null,e),e}class x4{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,je.Z)(function*(){t.yt=J6(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return K8(this.persistence,new q8,e.initialUser,this.yt)}yc(e){return new wl(zc.Bs,this.yt)}gc(e){return new X8}terminate(){var e=this;return(0,je.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nc extends x4{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,je.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield i8(s.Ac.syncEngine),yield e0(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return K8(this.persistence,new q8,e.initialUser,this.yt)}Tc(e,t){return new G8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new lo(t,this.persistence);return new Kr(e.asyncQueue,s)}yc(e){const t=W8(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new Lc(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,e5(),Bc(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new X8}}class r8 extends nc{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,je.Z)(function*(){yield t().call(s,e);const c=s.Ac.syncEngine;s.sharedClientState instanceof Q8&&(s.sharedClientState.syncEngine={Fr:Ju.bind(null,c),$r:x5.bind(null,c),Br:o7.bind(null,c),vi:Ud.bind(null,c),Mr:Yu.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var p=(0,je.Z)(function*(b){yield function Qu(r,e){return I5.apply(this,arguments)}(s.Ac.syncEngine,b),s.gcScheduler&&(b&&!s.gcScheduler.started?s.gcScheduler.start():b||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(b&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():b||s.indexBackfillerScheduler.stop())});return function(b){return p.apply(this,arguments)}}())})()}gc(e){const t=e5();if(!Q8.C(t))throw new Bt(bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=W8(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Q8(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class b6{initialize(e,t){var s=this;return(0,je.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>M5(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=N5.bind(null,s.syncEngine),yield Wl(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Gu}createDatastore(e){const t=J6(e.databaseInfo.databaseId),s=new Vu(e.databaseInfo);return new Hu(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,c=e.asyncQueue,p=x=>M5(this.syncEngine,x,0),b=kl.C()?new kl:new Ru,new Vl(t,s,c,p,b);var t,s,c,p,b}createSyncEngine(e,t){return function(s,c,p,b,x,G,Q){const le=new Yl(s,c,p,b,x,G);return Q&&(le.dc=!0),le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,je.Z)(function*(t){const s=c1(t);Kt("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield g6(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function L5(r,e,t){if(!t)throw new Bt(bt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function s8(r,e,t,s){if(!0===e&&!0===s)throw new Bt(bt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function O5(r){if(!t1.isDocumentKey(r))throw new Bt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function a7(r){if(t1.isDocumentKey(r))throw new Bt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function o8(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":f1()}function d2(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Bt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=o8(r);throw new Bt(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function c7(r,e){if(e<=0)throw new Bt(bt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const Xu=new Map;class l7{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,s8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a8{constructor(e,t,s,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l7(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Oa;switch(t.type){case"gapi":return new oa(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Bt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xu.get(e);t&&(Kt("ComponentProvider","Removing Datastore"),Xu.delete(e),t.terminate())}(this),Promise.resolve()}}class Ji{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s4(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class Xs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class s4 extends Xs{constructor(e,t,s){super(e,t,ks(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new t1(e))}withConverter(e){return new s4(this.firestore,e,this._path)}}function c8(r,e,...t){if(r=(0,nt.m9)(r),L5("collection","path",e),r instanceof a8){const s=Gn.fromString(e,...t);return a7(s),new s4(r,null,s)}{if(!(r instanceof Ji||r instanceof s4))throw new Bt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Gn.fromString(e,...t));return a7(s),new s4(r.firestore,null,s)}}function o0(r,e,...t){if(r=(0,nt.m9)(r),1===arguments.length&&(e=co.R()),L5("doc","path",e),r instanceof a8){const s=Gn.fromString(e,...t);return O5(s),new Ji(r,null,new t1(s))}{if(!(r instanceof Ji||r instanceof s4))throw new Bt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Gn.fromString(e,...t));return O5(s),new Ji(r.firestore,r instanceof s4?r.converter:null,new t1(s))}}function d7(r,e){return r=(0,nt.m9)(r),e=(0,nt.m9)(e),(r instanceof Ji||r instanceof s4)&&(e instanceof Ji||e instanceof s4)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function R5(r,e){return r=(0,nt.m9)(r),e=(0,nt.m9)(e),r instanceof Xs&&e instanceof Xs&&r.firestore===e.firestore&&V2(r._query,e._query)&&r.converter===e.converter}function f7(r,e=10240){let t=0;return{read:()=>(0,je.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,je.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class l8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class t9{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Z2,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,je.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,je.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,je.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),c=Number(s);isNaN(c)&&e.Dc(`length string (${s}) is not valid number`);const p=yield e.Cc(c);return new r0(JSON.parse(p),t.length+c)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,je.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,je.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,je.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Gd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,je.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Bt(bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(c=(0,je.Z)(function*(p,b){const x=c1(p),G=b4(x.yt)+"/documents",Q={documents:b.map(Ht=>Ma(x.yt,Ht))},le=yield x._o("BatchGetDocuments",G,Q,b.length),Oe=new Map;le.forEach(Ht=>{const Wt=function S(r,e){return"found"in e?function(t,s){_1(!!s.found);const c=vo(t,s.found.name),p=ui(s.found.updateTime),b=s.found.createTime?ui(s.found.createTime):V1.min(),x=new ws({mapValue:{fields:s.found.fields}});return ki.newFoundDocument(c,p,b,x)}(r,e):"missing"in e?function(t,s){_1(!!s.missing),_1(!!s.readTime);const c=vo(t,s.missing),p=ui(s.readTime);return ki.newNoDocument(c,p)}(r,e):f1()}(x.yt,Ht);Oe.set(Wt.key.toString(),Wt)});const dt=[];return b.forEach(Ht=>{const Wt=Oe.get(Ht.toString());_1(!!Wt),dt.push(Wt)}),dt}),function(p,b){return c.apply(this,arguments)})(t.datastore,e);var c;return s.forEach(c=>t.recordVersion(c)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ga(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,je.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,c)=>{const p=t1.fromPath(c);e.mutations.push(new n6(p,e.precondition(p)))}),yield(s=(0,je.Z)(function*(c,p){const b=c1(c),x=b4(b.yt)+"/documents",G={writes:p.map(Q=>oe(b.yt,Q))};yield b.ao("Commit",x,G)}),function(c,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw f1();t=V1.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Bt(bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(V1.min())?Pi.exists(!1):Pi.updateTime(t):Pi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(V1.min()))throw new Bt(bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pi.updateTime(t)}return Pi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ic{constructor(e,t,s,c,p){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=c,this.deferred=p,this.kc=s.maxAttempts,this.xo=new Uc(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,je.Z)(function*(){const t=new Gd(e.datastore),s=e.Mc(t);s&&s.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.Fc(p)}))}).catch(c=>{e.Fc(c)})}))}Mc(e){try{const t=this.updateFunction(e);return!te(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Za(t)}return!1}}class n9{constructor(e,t,s,c){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=c,this.user=zi.UNAUTHENTICATED,this.clientId=co.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var b=(0,je.Z)(function*(x){Kt("FirestoreClient","Received user=",x.uid),yield p.authCredentialListener(x),p.user=x});return function(x){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(s,b=>(Kt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,je.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Z2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,je.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const c=t0(s,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function h7(r,e){return rc.apply(this,arguments)}function rc(){return rc=(0,je.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var c=(0,je.Z)(function*(p){s.isEqual(p)||(yield Sl(e.localStore,p),s=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),rc.apply(this,arguments)}function p7(r,e){return Na.apply(this,arguments)}function Na(){return Na=(0,je.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield M6(r);Kt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(c=>ju(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,p)=>ju(e.remoteStore,p)),r.onlineComponents=e}),Na.apply(this,arguments)}function M6(r){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,je.Z)(function*(r){return r.offlineComponents||(Kt("FirestoreClient","Using default OfflineComponentProvider"),yield h7(r,new x4)),r.offlineComponents}),Bs.apply(this,arguments)}function z4(r){return a0.apply(this,arguments)}function a0(){return a0=(0,je.Z)(function*(r){return r.onlineComponents||(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield p7(r,new b6)),r.onlineComponents}),a0.apply(this,arguments)}function Yo(r){return M6(r).then(e=>e.persistence)}function c0(r){return M6(r).then(e=>e.localStore)}function z3(r){return z4(r).then(e=>e.remoteStore)}function L3(r){return z4(r).then(e=>e.syncEngine)}function o4(r){return O3.apply(this,arguments)}function O3(){return O3=(0,je.Z)(function*(r){const e=yield z4(r),t=e.eventManager;return t.onListen=y5.bind(null,e.syncEngine),t.onUnlisten=Ql.bind(null,e.syncEngine),t}),O3.apply(this,arguments)}function D6(r,e,t={}){const s=new Z2;return r.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function(c,p,b,x,G){const Q=new l8({next:Oe=>{p.enqueueAndForget(()=>d5(c,le));const dt=Oe.docs.has(b);!dt&&Oe.fromCache?G.reject(new Bt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&Oe.fromCache&&x&&"server"===x.source?G.reject(new Bt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(Oe)},error:Oe=>G.reject(Oe)}),le=new n0(ks(b.path),Q,{includeMetadataChanges:!0,Nu:!0});return I4(c,le)}(yield o4(r),r.asyncQueue,e,t,s)})),s.promise}function k5(r,e,t={}){const s=new Z2;return r.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function(c,p,b,x,G){const Q=new l8({next:Oe=>{p.enqueueAndForget(()=>d5(c,le)),Oe.fromCache&&"server"===x.source?G.reject(new Bt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(Oe)},error:Oe=>G.reject(Oe)}),le=new n0(b,Q,{includeMetadataChanges:!0,Nu:!0});return I4(c,le)}(yield o4(r),r.asyncQueue,e,t,s)})),s.promise}class _7{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Uc(this,"async_queue_retry"),this.Wc=()=>{const t=Bc();t&&Kt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Bc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Bc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Z2;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,je.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!no(t))throw t;Kt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),b}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const c=K0.createAndSchedule(this,e,t,s,p=>this.Yc(p));return this.Uc.push(c),c}zc(){this.Kc&&f1()}verifyOperationInProgress(){}Xc(){var e=this;return(0,je.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function d8(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const c of["next","error","complete"])if(c in s&&"function"==typeof s[c])return!0;return!1}(r)}class b7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Z2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qi extends a8{constructor(e,t,s,c){super(e,t,s,c),this.type="firestore",this._queue=new _7,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||P5(this),this._firestoreClient.terminate()}}function es(r){return r._firestoreClient||P5(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function P5(r){var e;const t=r._freezeSettings(),s=(p=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new N(r._databaseId,p,r._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var p,x;r._firestoreClient=new n9(r._authCredentials,r._appCheckCredentials,r._queue,s)}function M7(r,e,t){const s=new Z2;return r.asyncQueue.enqueue((0,je.Z)(function*(){try{yield h7(r,t),yield p7(r,e),s.resolve()}catch(c){const p=c;if(!("FirebaseError"===(b=p).name?b.code===bt.FAILED_PRECONDITION||b.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&b instanceof DOMException)||22===b.code||20===b.code||11===b.code))throw p;ys("Error enabling offline persistence. Falling back to persistence disabled: "+p),s.reject(p)}var b})).then(()=>s.promise)}function U5(r){if(r._initialized||r._terminated)throw new Bt(bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Zt.fromBase64String(e))}catch(t){throw new Bt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ta(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class L4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Bt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class r3{constructor(e){this._methodName=e}}class sc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const o9=/^__.*__$/;class E7{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new v4(e,this.data,t,this.fieldTransforms)}}class j5{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G5(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw f1()}}class f0{constructor(e,t,s,c,p,b){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=c,void 0===p&&this.na(),this.fieldTransforms=p||[],this.fieldMask=b||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new f0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.ua(e),c}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ia({path:s,oa:!1});return c.na(),c}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return cc(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(G5(this.sa)&&o9.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class a9{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||J6(e)}da(e,t,s,c=!1){return new f0({sa:e,methodName:t,fa:s,path:$n.emptyPath(),oa:!1,la:c},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function R3(r){const e=r._freezeSettings(),t=J6(r._databaseId);return new a9(r._databaseId,!!e.ignoreUndefinedProperties,t)}function oc(r,e,t,s,c,p={}){const b=r.da(p.merge||p.mergeFields?2:0,e,t,c);Z5("Data must be an object, but it was:",b,s);const x=c9(s,b);let G,Q;if(p.merge)G=new Ks(b.fieldMask),Q=b.fieldTransforms;else if(p.mergeFields){const le=[];for(const Oe of p.mergeFields){const dt=v8(e,Oe,t);if(!b.contains(dt))throw new Bt(bt.INVALID_ARGUMENT,`Field '${dt}' is specified in your field mask but missing from your input data.`);I7(le,dt)||le.push(dt)}G=new Ks(le),Q=b.fieldTransforms.filter(Oe=>G.covers(Oe.field))}else G=null,Q=b.fieldTransforms;return new E7(new ws(x),G,Q)}class E6 extends r3{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof E6}}function ac(r,e,t){return new f0({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class p8 extends r3{_toFieldTransform(e){return new Ua(e.path,new Vo)}isEqual(e){return e instanceof p8}}class S7 extends r3{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ac(this,e,!0),s=this._a.map(p=>k3(p,t)),c=new io(s);return new Ua(e.path,c)}isEqual(e){return this===e}}class N7 extends r3{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=ac(this,e,!0),s=this._a.map(p=>k3(p,t)),c=new Ys(s);return new Ua(e.path,c)}isEqual(e){return this===e}}class T7 extends r3{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Fo(e.yt,ma(e.yt,this.wa));return new Ua(e.path,t)}isEqual(e){return this===e}}function m8(r,e,t,s){const c=r.da(1,e,t);Z5("Data must be an object, but it was:",c,s);const p=[],b=ws.empty();O(s,(G,Q)=>{const le=Pr(e,G,t);Q=(0,nt.m9)(Q);const Oe=c.ca(le);if(Q instanceof E6)p.push(le);else{const dt=k3(Q,Oe);null!=dt&&(p.push(le),b.set(le,dt))}});const x=new Ks(p);return new j5(b,x,c.fieldTransforms)}function g8(r,e,t,s,c,p){const b=r.da(1,e,t),x=[v8(e,s,t)],G=[c];if(p.length%2!=0)throw new Bt(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let dt=0;dt<p.length;dt+=2)x.push(v8(e,p[dt])),G.push(p[dt+1]);const Q=[],le=ws.empty();for(let dt=x.length-1;dt>=0;--dt)if(!I7(Q,x[dt])){const Ht=x[dt];let Wt=G[dt];Wt=(0,nt.m9)(Wt);const x1=b.ca(Ht);if(Wt instanceof E6)Q.push(Ht);else{const on=k3(Wt,x1);null!=on&&(Q.push(Ht),le.set(Ht,on))}}const Oe=new Ks(Q);return new j5(le,Oe,b.fieldTransforms)}function $5(r,e,t,s=!1){return k3(t,r.da(s?4:3,e))}function k3(r,e){if(A7(r=(0,nt.m9)(r)))return Z5("Unsupported field value:",e,r),c9(r,e);if(r instanceof r3)return function(t,s){if(!G5(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(s);c&&s.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const c=[];let p=0;for(const b of t){let x=k3(b,s.aa(p));null==x&&(x={nullValue:"NULL_VALUE"}),c.push(x),p++}return{arrayValue:{values:c}}}(r,e)}return function(t,s){if(null===(t=(0,nt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ma(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=L2.fromDate(t);return{timestampValue:Ya(s.yt,c)}}if(t instanceof L2){const c=new L2(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ya(s.yt,c)}}if(t instanceof sc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ta)return{bytesValue:go(s.yt,t._byteString)};if(t instanceof Ji){const c=s.databaseId,p=t.firestore._databaseId;if(!p.isEqual(c))throw s.ha(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ja(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${o8(t)}`)}(r,e)}function c9(r,e){const t={};return U(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):O(r,(s,c)=>{const p=k3(c,e.ra(s));null!=p&&(t[s]=p)}),{mapValue:{fields:t}}}function A7(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof L2||r instanceof sc||r instanceof Ta||r instanceof Ji||r instanceof r3)}function Z5(r,e,t){if(!A7(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=o8(t);throw e.ha("an object"===s?r+" a custom object":r+" "+s)}var s}function v8(r,e,t){if((e=(0,nt.m9)(e))instanceof L4)return e._internalPath;if("string"==typeof e)return Pr(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,t)}const l9=new RegExp("[~\\*/\\[\\]]");function Pr(r,e,t){if(e.search(l9)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new L4(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function cc(r,e,t,s,c){const p=s&&!s.isEmpty(),b=void 0!==c;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let G="";return(p||b)&&(G+=" (found",p&&(G+=` in field ${s}`),b&&(G+=` in document ${c}`),G+=")"),new Bt(bt.INVALID_ARGUMENT,x+r+G)}function I7(r,e){return r.some(t=>t.isEqual(e))}class lc{constructor(e,t,s,c,p){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new x7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(y8("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class x7 extends lc{data(){return super.data()}}function y8(r,e){return"string"==typeof e?Pr(r,e):e instanceof L4?e._internalPath:e._delegate._internalPath}function W5(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Bt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _8{}class O4 extends _8{}function P3(r,e,...t){let s=[];e instanceof _8&&s.push(e),s=s.concat(t),function(c){const p=c.filter(x=>x instanceof h0).length,b=c.filter(x=>x instanceof uc).length;if(p>1||p>0&&b>0)throw new Bt(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)r=c._apply(r);return r}class uc extends O4{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new uc(e,t,s)}_apply(e){const t=this._parse(e);return b8(e._query,t),new Xs(e.firestore,e.converter,R6(e._query,t))}_parse(e){const t=R3(e.firestore);return function(c,p,b,x,G,Q,le){let Oe;if(G.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Bt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){V7(le,Q);const dt=[];for(const Ht of le)dt.push(P7(x,c,Ht));Oe={arrayValue:{values:dt}}}else Oe=P7(x,c,le)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||V7(le,Q),Oe=$5(b,"where",le,"in"===Q||"not-in"===Q);return g1.create(G,Q,Oe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class h0 extends _8{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new h0(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,c){let p=s;const b=c.getFlattenedFilters();for(const x of b)b8(p,x),p=R6(p,x)}(e._query,t),new Xs(e.firestore,e.converter,R6(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dc extends O4{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dc(e,t)}_apply(e){const t=function(s,c,p){if(null!==s.startAt)throw new Bt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Bt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Ha(c,p);return function(x,G){if(null===O6(x)){const Q=j4(x);null!==Q&&p0(0,Q,G.field)}}(s,b),b}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(s,c){const p=s.explicitOrderBy.concat([c]);return new ko(s.path,s.collectionGroup,p,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Jo extends O4{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Jo(e,t,s)}_apply(e){return new Xs(e.firestore,e.converter,Ps(e._query,this._limit,this._limitType))}}class Qo extends O4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Qo(e,t,s)}_apply(e){const t=k7(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(c=t,new ko((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)));var s,c}}class fc extends O4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new fc(e,t,s)}_apply(e){const t=k7(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,(c=t,new ko((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)));var s,c}}function k7(r,e,t,s){if(t[0]=(0,nt.m9)(t[0]),t[0]instanceof lc)return function(c,p,b,x,G){if(!x)throw new Bt(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Q=[];for(const le of Po(c))if(le.field.isKeyField())Q.push(qs(p,x.key));else{const Oe=x.data.field(le.field);if(bs(Oe))throw new Bt(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+le.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Oe){const dt=le.field.canonicalString();throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${dt}' (used as the orderBy) does not exist.`)}Q.push(Oe)}return new C1(Q,G)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const c=R3(r.firestore);return function(p,b,x,G,Q,le){const Oe=p.explicitOrderBy;if(Q.length>Oe.length)throw new Bt(bt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const dt=[];for(let Ht=0;Ht<Q.length;Ht++){const Wt=Q[Ht];if(Oe[Ht].field.isKeyField()){if("string"!=typeof Wt)throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Wt}`);if(!J3(p)&&-1!==Wt.indexOf("/"))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Wt}' contains a slash.`);const x1=p.path.child(Gn.fromString(Wt));if(!t1.isDocumentKey(x1))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${x1}' is not because it contains an odd number of segments.`);const on=new t1(x1);dt.push(qs(b,on))}else{const x1=$5(x,G,Wt);dt.push(x1)}}return new C1(dt,le)}(r._query,r.firestore._databaseId,c,e,t,s)}}function P7(r,e,t){if("string"==typeof(t=(0,nt.m9)(t))){if(""===t)throw new Bt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J3(e)&&-1!==t.indexOf("/"))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Gn.fromString(t));if(!t1.isDocumentKey(s))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qs(r,new t1(s))}if(t instanceof Ji)return qs(r,t._key);throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o8(t)}.`)}function V7(r,e){if(!Array.isArray(r)||0===r.length)throw new Bt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Bt(bt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function b8(r,e){if(e.isInequality()){const s=j4(r),c=e.field;if(null!==s&&!s.isEqual(c))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${c.toString()}'`);const p=O6(r);null!==p&&p0(0,c,p)}const t=function(s,c){for(const p of s)for(const b of p.getFlattenedFilters())if(c.indexOf(b.op)>=0)return b.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Bt(bt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function p0(r,e,t){if(!t.isEqual(e))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class C8{convertValue(e,t="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw f1()}}convertObject(e,t){const s={};return O(e.fields,(c,p)=>{s[c]=this.convertValue(p,t)}),s}convertGeoPoint(e){return new sc(sn(e.latitude),sn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=uo(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ri(e));default:return null}}convertTimestamp(e){const t=b1(e);return new L2(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Gn.fromString(e);_1(U6(s));const c=new T(s.get(1),s.get(3)),p=new t1(s.popFirst(5));return c.isEqual(t)||Ei(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function M8(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class F7 extends C8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,t)}}class V3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends lc{constructor(e,t,s,c,p,b){super(e,t,s,c,b),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(y8("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class hc extends Aa{data(e={}){return super.data(e)}}class s3{constructor(e,t,s,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new V3(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new hc(this._firestore,this._userDataWriter,s.key,s,new V3(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,c){if(s._snapshot.oldDocs.isEmpty()){let p=0;return s._snapshot.docChanges.map(b=>({type:"added",doc:new hc(s._firestore,s._userDataWriter,b.doc.key,b.doc,new V3(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:p++}))}{let p=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(b=>c||3!==b.type).map(b=>{const x=new hc(s._firestore,s._userDataWriter,b.doc.key,b.doc,new V3(s._snapshot.mutatedKeys.has(b.doc.key),s._snapshot.fromCache),s.query.converter);let G=-1,Q=-1;return 0!==b.type&&(G=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),1!==b.type&&(p=p.add(b.doc),Q=p.indexOf(b.doc.key)),{type:B7(b.type),doc:x,oldIndex:G,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function B7(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return f1()}}function w8(r,e){return r instanceof Aa&&e instanceof Aa?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof s3&&e instanceof s3&&r._firestore===e._firestore&&R5(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class o3 extends C8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,t)}}function K5(r,e,t){r=d2(r,Ji);const s=d2(r.firestore,Qi),c=M8(r.converter,e,t);return m0(s,[oc(R3(s),"setDoc",r._key,c,null!==r.converter,t).toMutation(r._key,Pi.none())])}function Y5(r,e,t,...s){r=d2(r,Ji);const c=d2(r.firestore,Qi),p=R3(c);let b;return b="string"==typeof(e=(0,nt.m9)(e))||e instanceof L4?g8(p,"updateDoc",r._key,e,t,s):m8(p,"updateDoc",r._key,e),m0(c,[b.toMutation(r._key,Pi.exists(!0))])}function W7(r,...e){var t,s,c;r=(0,nt.m9)(r);let p={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||d8(e[b])||(p=e[b],b++);const x={includeMetadataChanges:p.includeMetadataChanges};if(d8(e[b])){const Oe=e[b];e[b]=null===(t=Oe.next)||void 0===t?void 0:t.bind(Oe),e[b+1]=null===(s=Oe.error)||void 0===s?void 0:s.bind(Oe),e[b+2]=null===(c=Oe.complete)||void 0===c?void 0:c.bind(Oe)}let G,Q,le;if(r instanceof Ji)Q=d2(r.firestore,Qi),le=ks(r._key.path),G={next:Oe=>{e[b]&&e[b](J5(Q,r,Oe))},error:e[b+1],complete:e[b+2]};else{const Oe=d2(r,Xs);Q=d2(Oe.firestore,Qi),le=Oe._query;const dt=new o3(Q);G={next:Ht=>{e[b]&&e[b](new s3(Q,dt,Oe,Ht))},error:e[b+1],complete:e[b+2]},W5(r._query)}return function(Oe,dt,Ht,Wt){const x1=new l8(Wt),on=new n0(dt,x1,Ht);return Oe.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return I4(yield o4(Oe),on)})),()=>{x1.bc(),Oe.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return d5(yield o4(Oe),on)}))}}(es(Q),le,x,G)}function m0(r,e){return function(t,s){const c=new Z2;return t.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function Xl(r,e,t){return Jc.apply(this,arguments)}(yield L3(t),s,c)})),c.promise}(es(r),e)}function J5(r,e,t){const s=t.docs.get(e._key),c=new o3(r);return new Aa(r,c,e._key,s,new V3(t.hasPendingWrites,t.fromCache),e.converter)}const m9={maxAttempts:5};class q7{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=R3(e)}set(e,t,s){this._verifyNotCommitted();const c=H3(e,this._firestore),p=M8(c.converter,t,s),b=oc(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,s);return this._mutations.push(b.toMutation(c._key,Pi.none())),this}update(e,t,s,...c){this._verifyNotCommitted();const p=H3(e,this._firestore);let b;return b="string"==typeof(t=(0,nt.m9)(t))||t instanceof L4?g8(this._dataReader,"WriteBatch.update",p._key,t,s,c):m8(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(b.toMutation(p._key,Pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=H3(e,this._firestore);return this._mutations=this._mutations.concat(new Ga(t._key,Pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function H3(r,e){if((r=(0,nt.m9)(r)).firestore!==e)throw new Bt(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class g9 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=R3(e)}get(e){const t=H3(e,this._firestore),s=new F7(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return f1();const p=c[0];if(p.isFoundDocument())return new lc(this._firestore,s,p.key,p,t.converter);if(p.isNoDocument())return new lc(this._firestore,s,t._key,null,t.converter);throw f1()})}set(e,t,s){const c=H3(e,this._firestore),p=M8(c.converter,t,s),b=oc(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,s);return this._transaction.set(c._key,b),this}update(e,t,s,...c){const p=H3(e,this._firestore);let b;return b="string"==typeof(t=(0,nt.m9)(t))||t instanceof L4?g8(this._dataReader,"Transaction.update",p._key,t,s,c):m8(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,b),this}delete(e){const t=H3(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=H3(e,this._firestore),s=new o3(this._firestore);return super.get(e).then(c=>new Aa(this._firestore,s,t._key,c._document,new V3(!1,!1),t.converter))}}function E8(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Bt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function X5(){if(typeof Uint8Array>"u")throw new Bt("unimplemented","Uint8Arrays are not available in this environment.")}function el(){if(!function Nt(){return typeof atob<"u"}())throw new Bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){li=s1.SDK_VERSION,(0,s1._registerComponent)(new at.wA("firestore",(t,{instanceIdentifier:s,options:c})=>{const p=t.getProvider("app").getImmediate(),b=new Qi(new sa(t.getProvider("auth-internal")),new ni(t.getProvider("app-check-internal")),function(x,G){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Bt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new T(x.options.projectId,G)}(p,s),p);return c=Object.assign({useFetchStreams:e},c),b._setSettings(c),b},"PUBLIC").setMultipleInstances(!0)),(0,s1.registerVersion)(La,"3.8.0",r),(0,s1.registerVersion)(La,"3.8.0","esm2017")}();class g0{constructor(e){this._delegate=e}static fromBase64String(e){return el(),new g0(Ta.fromBase64String(e))}static fromUint8Array(e){return X5(),new g0(Ta.fromUint8Array(e))}toBase64(){return el(),this._delegate.toBase64()}toUint8Array(){return X5(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pc(r){return function J7(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class S6{enableIndexedDbPersistence(e,t){return function V5(r,e){U5(r=d2(r,Qi));const t=es(r),s=r._freezeSettings(),c=new b6;return M7(t,c,new nc(c,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function H5(r){U5(r=d2(r,Qi));const e=es(r),t=r._freezeSettings(),s=new b6;return M7(e,s,new r8(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function f8(r){if(r._initialized&&!r._terminated)throw new Bt(bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Z2;return r._queue.enqueueAndForgetEvenWhileRestricted((0,je.Z)(function*(){try{yield(t=(0,je.Z)(function*(s){if(!u2.C())return Promise.resolve();const c=s+"main";yield u2.delete(c)}),function(s){return t.apply(this,arguments)})(W8(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Q7{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof T||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ys("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function u7(r,e,t,s={}){var c;const p=(r=d2(r,a8))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&ys("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let b,x;if("string"==typeof s.mockUserToken)b=s.mockUserToken,x=zi.MOCK_USER;else{b=(0,nt.Sg)(s.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new Bt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new zi(G)}r._authCredentials=new Wr(new Li(b,x))}}(this._delegate,e,t,s)}enableNetwork(){return function F5(r){return function l0(r){return r.asyncQueue.enqueue((0,je.Z)(function*(){const e=yield Yo(r),t=yield z3(r);return e.setNetworkEnabled(!0),function(s){const c=c1(s);return c._u.delete(0),x3(c)}(t)}))}(es(r=d2(r,Qi)))}(this._delegate)}disableNetwork(){return function r9(r){return function u0(r){return r.asyncQueue.enqueue((0,je.Z)(function*(){const e=yield Yo(r),t=yield z3(r);return e.setNetworkEnabled(!1),(s=(0,je.Z)(function*(c){const p=c1(c);p._u.add(0),yield g6(p),p.gu.set("Offline")}),function(c){return s.apply(this,arguments)})(t);var s}))}(es(r=d2(r,Qi)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,s8("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function h8(r){return function(e){const t=new Z2;return e.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return function qu(r,e){return D5.apply(this,arguments)}(yield L3(e),t)})),t.promise}(es(r=d2(r,Qi)))}(this._delegate)}onSnapshotsInSync(e){return function p9(r,e){return function g7(r,e){const t=new l8(e);return r.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return s=yield o4(r),c=t,c1(s).Ru.add(c),void c.next();var s,c})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return s=yield o4(r),c=t,void c1(s).Ru.delete(c);var s,c}))}}(es(r=d2(r,Qi)),d8(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new a3(this,c8(this._delegate,e))}catch(t){throw so(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xo(this,o0(this._delegate,e))}catch(t){throw so(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new To(this,function e9(r,e){if(r=d2(r,a8),L5("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bt(bt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(r,null,(t=e,new ko(Gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw so(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function v9(r,e,t){r=d2(r,Qi);const s=Object.assign(Object.assign({},m9),t);return function(c){if(c.maxAttempts<1)throw new Bt(bt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,p,b){const x=new Z2;return c.asyncQueue.enqueueAndForget((0,je.Z)(function*(){const G=yield function w6(r){return z4(r).then(e=>e.datastore)}(c);new ic(c.asyncQueue,G,b,p,x).run()})),x.promise}(es(r),c=>e(new g9(r,c)),s)}(this._delegate,t=>e(new E9(this,t)))}batch(){return es(this._delegate),new N8(new q7(this._delegate,e=>m0(this._delegate,e)))}loadBundle(e){return function B5(r,e){const t=es(r=d2(r,Qi)),s=new b7;return function v7(r,e,t,s){const c=function(p,b){let x;return x="string"==typeof p?(new TextEncoder).encode(p):p,G=function(G,Q){if(G instanceof Uint8Array)return f7(G,Q);if(G instanceof ArrayBuffer)return f7(new Uint8Array(G),Q);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new t9(G,b);var G}(t,J6(e));r.asyncQueue.enqueueAndForget((0,je.Z)(function*(){!function z5(r,e,t){const s=c1(r);var c;(c=(0,je.Z)(function*(p,b,x){try{const G=yield b.getMetadata();if(yield function(dt,Ht){const Wt=c1(dt),x1=ui(Ht.createTime);return Wt.persistence.runTransaction("hasNewerBundle","readonly",on=>Wt.Ns.getBundleMetadata(on,Ht.id)).then(on=>!!on&&on.createTime.compareTo(x1)>=0)}(p.localStore,G))return yield b.close(),x._completeWith({taskState:"Success",documentsLoaded:(dt=G).totalDocuments,bytesLoaded:dt.totalBytes,totalDocuments:dt.totalDocuments,totalBytes:dt.totalBytes}),Promise.resolve(new Set);x._updateProgress(Yc(G));const Q=new s0(G,p.localStore,b.yt);let le=yield b.mc();for(;le;){const dt=yield Q.Fu(le);dt&&x._updateProgress(dt),le=yield b.mc()}const Oe=yield Q.complete();return yield n3(p,Oe.Lu,void 0),yield function(dt,Ht){const Wt=c1(dt);return Wt.persistence.runTransaction("Save bundle","readwrite",x1=>Wt.Ns.saveBundleMetadata(x1,Ht))}(p.localStore,G),x._completeWith(Oe.progress),Promise.resolve(Oe.Bu)}catch(G){return ys("SyncEngine",`Loading bundle failed with ${G}`),x._failWith(G),Promise.resolve(new Set)}var dt}),function(p,b,x){return c.apply(this,arguments)})(s,e,t).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield L3(r),c,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function D7(r,e){return function y7(r,e){return r.asyncQueue.enqueue((0,je.Z)(function*(){return function(t,s){const c=c1(t);return c.persistence.runTransaction("Get named query","readonly",p=>c.Ns.getNamedQuery(p,s))}(yield c0(r),e)}))}(es(r=d2(r,Qi)),e).then(t=>t?new Xs(r,null,t.query):null)}(this._delegate,e).then(t=>t?new To(this,t):null)}}class S8 extends C8{constructor(e){super(),this.firestore=e}convertBytes(e){return new g0(new Ta(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xo.forKey(t,this.firestore,null)}}class E9{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new S8(e)}get(e){const t=R4(e);return this._delegate.get(t).then(s=>new mc(this._firestore,new Aa(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const c=R4(e);return s?(E8("Transaction.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const p=R4(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...c),this}delete(e){const t=R4(e);return this._delegate.delete(t),this}}class N8{constructor(e){this._delegate=e}set(e,t,s){const c=R4(e);return s?(E8("WriteBatch.set",s),this._delegate.set(c,t,s)):this._delegate.set(c,t),this}update(e,t,s,...c){const p=R4(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...c),this}delete(e){const t=R4(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class y0{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new hc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new T8(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=y0.INSTANCES;let c=s.get(e);c||(c=new WeakMap,s.set(e,c));let p=c.get(t);return p||(p=new y0(e,new S8(e),t),c.set(t,p)),p}}y0.INSTANCES=new WeakMap;class Xo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new S8(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xo(t,new Ji(t._delegate,s,new t1(e)))}static forKey(e,t,s){return new Xo(t,new Ji(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new a3(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new a3(this.firestore,c8(this._delegate,e))}catch(t){throw so(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nt.m9)(e))instanceof Ji&&d7(this._delegate,e)}set(e,t){t=E8("DocumentReference.set",t);try{return t?K5(this._delegate,e,t):K5(this._delegate,e)}catch(s){throw so(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Y5(this._delegate,e):Y5(this._delegate,e,t,...s)}catch(c){throw so(c,"updateDoc()","DocumentReference.update()")}}delete(){return function f9(r){return m0(d2(r.firestore,Qi),[new Ga(r._key,Pi.none())])}(this._delegate)}onSnapshot(...e){const t=S9(e),s=bn(e,c=>new mc(this.firestore,new Aa(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return W7(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function U7(r){r=d2(r,Ji);const e=d2(r.firestore,Qi),t=es(e),s=new o3(e);return function d0(r,e){const t=new Z2;return r.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return(s=(0,je.Z)(function*(c,p,b){try{const x=yield function(G,Q){const le=c1(G);return le.persistence.runTransaction("read document","readonly",Oe=>le.localDocuments.getDocument(Oe,Q))}(c,p);x.isFoundDocument()?b.resolve(x):x.isNoDocument()?b.resolve(null):b.reject(new Bt(bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const G=t0(x,`Failed to get document '${p} from cache`);b.reject(G)}}),function(c,p,b){return s.apply(this,arguments)})(yield c0(r),e,t);var s})),t.promise}(t,r._key).then(c=>new Aa(e,s,r._key,c,new V3(null!==c&&c.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function j7(r){r=d2(r,Ji);const e=d2(r.firestore,Qi);return D6(es(e),r._key,{source:"server"}).then(t=>J5(e,r,t))}(this._delegate):function D8(r){r=d2(r,Ji);const e=d2(r.firestore,Qi);return D6(es(e),r._key).then(t=>J5(e,r,t))}(this._delegate),t.then(s=>new mc(this.firestore,new Aa(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Xo(this.firestore,this._delegate.withConverter(e?y0.getInstance(this.firestore,e):null))}}function so(r,e,t){return r.message=r.message.replace(e,t),r}function S9(r){for(const e of r)if("object"==typeof e&&!pc(e))return e;return{}}function bn(r,e){var t,s;let c;return c=pc(r[0])?r[0]:pc(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:p=>{c.next&&c.next(e(p))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class mc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return w8(this._delegate,e._delegate)}}class T8 extends mc{data(e){const t=this._delegate.data(e);return function ra(r,e){r||f1()}(void 0!==t),t}}class To{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new S8(e)}where(e,t,s){try{return new To(this.firestore,P3(this._delegate,function z7(r,e,t){const s=e,c=y8("where",r);return uc._create(c,s,t)}(e,t,s)))}catch(c){throw so(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new To(this.firestore,P3(this._delegate,function q5(r,e="asc"){const t=e,s=y8("orderBy",r);return dc._create(s,t)}(e,t)))}catch(s){throw so(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new To(this.firestore,P3(this._delegate,function L7(r){return c7("limit",r),Jo._create("limit",r,"F")}(e)))}catch(t){throw so(t,"limit()","Query.limit()")}}limitToLast(e){try{return new To(this.firestore,P3(this._delegate,function O7(r){return c7("limitToLast",r),Jo._create("limitToLast",r,"L")}(e)))}catch(t){throw so(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new To(this.firestore,P3(this._delegate,function a4(...r){return Qo._create("startAt",r,!0)}(...e)))}catch(t){throw so(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new To(this.firestore,P3(this._delegate,function c4(...r){return Qo._create("startAfter",r,!1)}(...e)))}catch(t){throw so(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new To(this.firestore,P3(this._delegate,function R7(...r){return fc._create("endBefore",r,!1)}(...e)))}catch(t){throw so(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new To(this.firestore,P3(this._delegate,function d9(...r){return fc._create("endAt",r,!0)}(...e)))}catch(t){throw so(t,"endAt()","Query.endAt()")}}isEqual(e){return R5(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function $7(r){r=d2(r,Xs);const e=d2(r.firestore,Qi),t=es(e),s=new o3(e);return function m7(r,e){const t=new Z2;return r.asyncQueue.enqueueAndForget((0,je.Z)(function*(){return(s=(0,je.Z)(function*(c,p,b){try{const x=yield N4(c,p,!0),G=new m5(p,x.Hi),Q=G.Wu(x.documents),le=G.applyChanges(Q,!1);b.resolve(le.snapshot)}catch(x){const G=t0(x,`Failed to execute query '${p} against cache`);b.reject(G)}}),function(c,p,b){return s.apply(this,arguments)})(yield c0(r),e,t);var s})),t.promise}(t,r._query).then(c=>new s3(e,s,r,c))}(this._delegate):"server"===e?.source?function Z7(r){r=d2(r,Xs);const e=d2(r.firestore,Qi),t=es(e),s=new o3(e);return k5(t,r._query,{source:"server"}).then(c=>new s3(e,s,r,c))}(this._delegate):function G7(r){r=d2(r,Xs);const e=d2(r.firestore,Qi),t=es(e),s=new o3(e);return W5(r._query),k5(t,r._query).then(c=>new s3(e,s,r,c))}(this._delegate),t.then(s=>new tl(this.firestore,new s3(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=S9(e),s=bn(e,c=>new tl(this.firestore,new s3(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return W7(this._delegate,t,s)}withConverter(e){return new To(this.firestore,this._delegate.withConverter(e?y0.getInstance(this.firestore,e):null))}}class _0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new T8(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tl{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new T8(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new T8(this._firestore,s))})}isEqual(e){return w8(this._delegate,e._delegate)}}class a3 extends To{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xo(this.firestore,e):null}doc(e){try{return new Xo(this.firestore,void 0===e?o0(this._delegate):o0(this._delegate,e))}catch(t){throw so(t,"doc()","CollectionReference.doc()")}}add(e){return function h9(r,e){const t=d2(r.firestore,Qi),s=o0(r),c=M8(r.converter,e);return m0(t,[oc(R3(r.firestore),"addDoc",s._key,c,null!==r.converter,{}).toMutation(s._key,Pi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Xo(this.firestore,t))}isEqual(e){return d7(this._delegate,e._delegate)}withConverter(e){return new a3(this.firestore,this._delegate.withConverter(e?y0.getInstance(this.firestore,e):null))}}function R4(r){return d2(r,Ji)}class cr{constructor(...e){this._delegate=new L4(...e)}static documentId(){return new cr($n.keyField().canonicalString())}isEqual(e){return(e=(0,nt.m9)(e))instanceof L4&&this._delegate._internalPath.isEqual(e._internalPath)}}class b0{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _9(){return new p8("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new b0(e)}static delete(){const e=function y9(){return new E6("deleteField")}();return e._methodName="FieldValue.delete",new b0(e)}static arrayUnion(...e){const t=function b9(...r){return new S7("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new b0(t)}static arrayRemove(...e){const t=function C9(...r){return new N7("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new b0(t)}static increment(e){const t=function M9(r){return new T7("increment",r)}(e);return t._methodName="FieldValue.increment",new b0(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const X7={Firestore:Q7,GeoPoint:sc,Timestamp:L2,Blob:g0,Transaction:E9,WriteBatch:N8,DocumentReference:Xo,DocumentSnapshot:mc,Query:To,QueryDocumentSnapshot:T8,QuerySnapshot:tl,CollectionReference:a3,FieldPath:cr,FieldValue:b0,setLogLevel:function v0(r){!function zs(r){ss.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function N9(r){(function eu(r,e){r.INTERNAL.registerComponent(new at.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(s,c)},"PUBLIC").setServiceProps(Object.assign({},X7)))})(r,(e,t)=>new Q7(e,t,new S6)),r.registerVersion("@firebase/firestore-compat","0.3.0")}(st.Z);var c3=F(3385),tu=F(6217),nu=F(9260);function ru(r,e){return function iu(r,e=C.z){return new X.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function nl(r,e){return ru(r,e).pipe((0,he.U)(t=>({payload:t,type:"query"})))}function F3(r,e){return nl(r,e).pipe((0,Se.O)(void 0),fe(),(0,he.U)(([t,s])=>{const c=s.payload.docChanges(),p=c.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((b,x)=>{const G=c.find(le=>le.doc.ref.isEqual(b.ref)),Q=t?.payload.docs.find(le=>le.ref.isEqual(b.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(b.metadata)||!G&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(b.metadata)||p.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:b}})}),p}))}function su(r,e,t){return F3(r,t).pipe((0,ze.R)((s,c)=>function A9(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function A8(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return il(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return il(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return il(r,e.oldIndex,1)}return r}(r,s))}),r}(s,c.map(p=>p.payload),e),[]),(0,pt.x)(),(0,he.U)(s=>s.map(c=>({type:c.type,payload:c}))))}function il(r,e,t,...s){const c=r.slice();return c.splice(e,t,...s),c}function rl(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class sl{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=F3(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,he.U)(s=>s.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,Se.O)(void 0),fe(),(0,ot.h)(([s,c])=>c.length>0||!s),(0,he.U)(([s,c])=>c),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ze.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=rl(e);return su(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return nl(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Te.iC)}get(e){return(0,Ee.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new ol(this.ref.doc(e),this.afs)}}class ol{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:c,query:p}=ou(s,t);return new sl(c,p,this.afs)}snapshotChanges(){return function T9(r,e){return ru(r,e).pipe((0,Se.O)(void 0),fe(),(0,he.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ee.D)(this.ref.get(e)).pipe(Te.iC)}}class I9{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?F3(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ot.h)(t=>t.length>0),Te.iC):F3(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ze.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=rl(e);return su(this.query,t,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return nl(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(s=>s.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),Te.iC)}get(e){return(0,Ee.D)(this.query.get(e)).pipe(Te.iC)}}const C0=new l.OlP("angularfire2.enableFirestorePersistence"),M0=new l.OlP("angularfire2.firestore.persistenceSettings"),x9=new l.OlP("angularfire2.firestore.settings"),z9=new l.OlP("angularfire2.firestore.use-emulator");function ou(r,e=(t=>t)){return{query:e(r),ref:r}}let al=(()=>{class r{constructor(t,s,c,p,b,x,G,Q,le,Oe,dt,Ht,Wt,x1,on,Ni,lr){this.schedulers=G;const O2=(0,Je.on)(t,x,s),Er=le;Oe&&(0,c3.nw)(O2,x,dt,Wt,x1,on,Ht,Ni),[this.firestore,this.persistenceEnabled$]=(0,Je.cc)(`${O2.name}.firestore`,"AngularFirestore",O2.name,()=>{const H2=x.runOutsideAngular(()=>O2.firestore());if(p&&H2.settings(p),Er&&H2.useEmulator(...Er),c&&!(0,Gt.PM)(b)){const Y2=()=>{try{return(0,Ee.D)(H2.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(Sr){return typeof console<"u"&&console.warn(Sr),(0,Ie.of)(!1)}};return[H2,x.runOutsideAngular(Y2)]}return[H2,(0,Ie.of)(!1)]},[p,Er,c])}collection(t,s){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:b}=ou(c,s),x=this.schedulers.ngZone.run(()=>p);return new sl(x,b,this)}collectionGroup(t,s){const c=s||(b=>b),p=this.firestore.collectionGroup(t);return new I9(c(p),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>s);return new ol(c,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(l.LFG(Je.Dh),l.LFG(Je.xv,8),l.LFG(C0,8),l.LFG(x9,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Te.HU),l.LFG(M0,8),l.LFG(z9,8),l.LFG(c3.zQ,8),l.LFG(c3.Qv,8),l.LFG(c3.L6,8),l.LFG(c3._Q,8),l.LFG(c3.rT,8),l.LFG(c3.lh,8),l.LFG(c3.f7,8),l.LFG(tu.nm,8))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),au=(()=>{class r{constructor(){nu.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:C0,useValue:!0},{provide:M0,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=l.oAB({type:r}),r.\u0275inj=l.cJS({providers:[al]}),r})()},2011:(r1,Qe,F)=>{F.d(Qe,{Dh:()=>ke,GT:()=>Te,cc:()=>ot,hO:()=>pt,on:()=>fe,pX:()=>Ie,xv:()=>Ve});var l=F(4650),C=F(9260),X=F(2122);r1=F.hmd(r1);const Ee=["ngOnDestroy"],Ie=(st,je,s1,at={})=>new Proxy(st,{get:(mt,nt)=>s1.runOutsideAngular(()=>{var Ft;if(st[nt])return!(null===(Ft=at?.spy)||void 0===Ft)&&Ft.get&&at.spy.get(nt,st[nt]),st[nt];if(Ee.indexOf(nt)>-1)return()=>{};const Mt=je.toPromise().then(ce=>{const tt=ce&&ce[nt];return"function"==typeof tt?tt.bind(ce):tt&&tt.then?tt.then(Me=>s1.run(()=>Me)):s1.run(()=>tt)});return new Proxy(()=>{},{get:(ce,tt)=>Mt[tt],apply:(ce,tt,Me)=>Mt.then(Le=>{var rt;const He=Le&&Le(...Me);return!(null===(rt=at?.spy)||void 0===rt)&&rt.apply&&at.spy.apply(nt,Me,He),He})})})}),Te=(st,je)=>{je.forEach(s1=>{Object.getOwnPropertyNames(s1.prototype||s1).forEach(at=>{Object.defineProperty(st.prototype,at,Object.getOwnPropertyDescriptor(s1.prototype||s1,at))})})};class Se{constructor(je){return je}}const ke=new l.OlP("angularfire2.app.options"),Ve=new l.OlP("angularfire2.app.name");function fe(st,je,s1){const mt="object"==typeof s1&&s1||{};mt.name=mt.name||"string"==typeof s1&&s1||"[DEFAULT]";const Ft=C.Z.apps.filter(Mt=>Mt&&Mt.name===mt.name)[0]||je.runOutsideAngular(()=>C.Z.initializeApp(st,mt));try{JSON.stringify(st)!==JSON.stringify(Ft.options)&&he("error",`${Ft.name} Firebase App already initialized with different options${r1.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(Ft)}const he=(st,...je)=>{(0,l.X6Q)()&&typeof console<"u"&&console[st](...je)},ze={provide:Se,useFactory:fe,deps:[ke,l.R0b,[new l.FiY,Ve]]};let pt=(()=>{class st{constructor(s1){C.Z.registerVersion("angularfire",X.q4.full,"core"),C.Z.registerVersion("angularfire",X.q4.full,"app-compat"),C.Z.registerVersion("angular",l.q4F.full,s1.toString())}static initializeApp(s1,at){return{ngModule:st,providers:[{provide:ke,useValue:s1},{provide:Ve,useValue:at}]}}}return st.\u0275fac=function(s1){return new(s1||st)(l.LFG(l.Lbi))},st.\u0275mod=l.oAB({type:st}),st.\u0275inj=l.cJS({providers:[ze]}),st})();function ot(st,je,s1,at,mt){const[,nt,Ft]=globalThis.\u0275AngularfireInstanceCache.find(Mt=>Mt[0]===st)||[];if(nt)return function Je(st,je){try{return st.toString()===je.toString()}catch{return st===je}}(mt,Ft)||(ft("error",`${je} was already initialized on the ${s1} Firebase App with different settings.${Gt?" You may need to reload as Firebase is not HMR aware.":""}`),ft("warn",{is:mt,was:Ft})),nt;{const Mt=at();return globalThis.\u0275AngularfireInstanceCache.push([st,Mt,mt]),Mt}}const Gt=!!r1.hot,ft=(st,...je)=>{(0,l.X6Q)()&&typeof console<"u"&&console[st](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(r1,Qe,F)=>{F.d(Qe,{q4:()=>te,iC:()=>fo,HU:()=>wo,vb:()=>Yr,JM:()=>Ri});var l=F(4650),C=F(259),X=F(5861),Ee=F(9681),Ie=F(2090),Te=F(4859),Se=F(1877),ke=F(8766);const Ve="@firebase/installations",ze="w:0.6.0",pt="FIS_v2",je=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function s1(H){return H instanceof Ie.ZR&&H.code.includes("request-failed")}function at({projectId:H}){return`https://firebaseinstallations.googleapis.com/v1/projects/${H}/installations`}function mt(H){return{token:H.token,requestStatus:2,expiresIn:Le(H.expiresIn),creationTime:Date.now()}}function nt(H,j){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,X.Z)(function*(H,j){const ve=(yield j.json()).error;return je.create("request-failed",{requestName:H,serverCode:ve.code,serverMessage:ve.message,serverStatus:ve.status})})).apply(this,arguments)}function Mt({apiKey:H}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H})}function ce(H,{refreshToken:j}){const ne=Mt(H);return ne.append("Authorization",function rt(H){return`${pt} ${H}`}(j)),ne}function tt(H){return Me.apply(this,arguments)}function Me(){return(Me=(0,X.Z)(function*(H){const j=yield H();return j.status>=500&&j.status<600?H():j})).apply(this,arguments)}function Le(H){return Number(H.replace("s","000"))}function He(H,j){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,X.Z)(function*({appConfig:H,heartbeatServiceProvider:j},{fid:ne}){const ve=at(H),et=Mt(H),_t=j.getImmediate({optional:!0});if(_t){const G1=yield _t.getHeartbeatsHeader();G1&&et.append("x-firebase-client",G1)}const C1={method:"POST",headers:et,body:JSON.stringify({fid:ne,authVersion:pt,appId:H.appId,sdkVersion:ze})},U1=yield tt(()=>fetch(ve,C1));if(U1.ok){const G1=yield U1.json();return{fid:G1.fid||ne,registrationStatus:2,refreshToken:G1.refreshToken,authToken:mt(G1.authToken)}}throw yield nt("Create Installation",U1)})).apply(this,arguments)}function Rt(H){return new Promise(j=>{setTimeout(j,H)})}const B1=/^[cdef][\w-]{21}$/;function Pt(){try{const H=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(H),H[0]=112+H[0]%16;const ne=function T1(H){return function v1(H){return btoa(String.fromCharCode(...H)).replace(/\+/g,"-").replace(/\//g,"_")}(H).substr(0,22)}(H);return B1.test(ne)?ne:""}catch{return""}}function S1(H){return`${H.appName}!${H.appId}`}const N1=new Map;function M1(H,j){const ne=S1(H);fn(ne,j),function Dn(H,j){const ne=function Un(){return!Ln&&"BroadcastChannel"in self&&(Ln=new BroadcastChannel("[Firebase] FID Change"),Ln.onmessage=H=>{fn(H.data.key,H.data.fid)}),Ln}();ne&&ne.postMessage({key:H,fid:j}),function Xn(){0===N1.size&&Ln&&(Ln.close(),Ln=null)}()}(ne,j)}function fn(H,j){const ne=N1.get(H);if(ne)for(const ve of ne)ve(j)}let Ln=null;const $1="firebase-installations-store";let vn=null;function l2(){return vn||(vn=(0,ke.X3)("firebase-installations-database",1,{upgrade:(H,j)=>{0===j&&H.createObjectStore($1)}})),vn}function $t(H,j){return En.apply(this,arguments)}function En(){return(En=(0,X.Z)(function*(H,j){const ne=S1(H),et=(yield l2()).transaction($1,"readwrite"),_t=et.objectStore($1),jt=yield _t.get(ne);return yield _t.put(j,ne),yield et.done,(!jt||jt.fid!==j.fid)&&M1(H,j.fid),j})).apply(this,arguments)}function On(H){return mn.apply(this,arguments)}function mn(){return(mn=(0,X.Z)(function*(H){const j=S1(H),ve=(yield l2()).transaction($1,"readwrite");yield ve.objectStore($1).delete(j),yield ve.done})).apply(this,arguments)}function A2(H,j){return J2.apply(this,arguments)}function J2(){return(J2=(0,X.Z)(function*(H,j){const ne=S1(H),et=(yield l2()).transaction($1,"readwrite"),_t=et.objectStore($1),jt=yield _t.get(ne),C1=j(jt);return void 0===C1?yield _t.delete(ne):yield _t.put(C1,ne),yield et.done,C1&&(!jt||jt.fid!==C1.fid)&&M1(H,C1.fid),C1})).apply(this,arguments)}function l1(H){return ut.apply(this,arguments)}function ut(){return(ut=(0,X.Z)(function*(H){let j;const ne=yield A2(H.appConfig,ve=>{const et=Ne(ve),_t=ye(H,et);return j=_t.registrationPromise,_t.installationEntry});return""===ne.fid?{installationEntry:yield j}:{installationEntry:ne,registrationPromise:j}})).apply(this,arguments)}function Ne(H){return Yt(H||{fid:Pt(),registrationStatus:0})}function ye(H,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(je.create("app-offline"))};const ne={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},ve=function ct(H,j){return wt.apply(this,arguments)}(H,ne);return{installationEntry:ne,registrationPromise:ve}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:u1(H)}:{installationEntry:j}}function wt(){return(wt=(0,X.Z)(function*(H,j){try{const ne=yield He(H,j);return $t(H.appConfig,ne)}catch(ne){throw s1(ne)&&409===ne.customData.serverCode?yield On(H.appConfig):yield $t(H.appConfig,{fid:j.fid,registrationStatus:0}),ne}})).apply(this,arguments)}function u1(H){return y1.apply(this,arguments)}function y1(){return(y1=(0,X.Z)(function*(H){let j=yield h1(H.appConfig);for(;1===j.registrationStatus;)yield Rt(100),j=yield h1(H.appConfig);if(0===j.registrationStatus){const{installationEntry:ne,registrationPromise:ve}=yield l1(H);return ve||ne}return j})).apply(this,arguments)}function h1(H){return A2(H,j=>{if(!j)throw je.create("installation-not-found");return Yt(j)})}function Yt(H){return function yn(H){return 1===H.registrationStatus&&H.registrationTime+1e4<Date.now()}(H)?{fid:H.fid,registrationStatus:0}:H}function X1(H,j){return a2.apply(this,arguments)}function a2(){return(a2=(0,X.Z)(function*({appConfig:H,heartbeatServiceProvider:j},ne){const ve=tn(H,ne),et=ce(H,ne),_t=j.getImmediate({optional:!0});if(_t){const G1=yield _t.getHeartbeatsHeader();G1&&et.append("x-firebase-client",G1)}const C1={method:"POST",headers:et,body:JSON.stringify({installation:{sdkVersion:ze,appId:H.appId}})},U1=yield tt(()=>fetch(ve,C1));if(U1.ok)return mt(yield U1.json());throw yield nt("Generate Auth Token",U1)})).apply(this,arguments)}function tn(H,{fid:j}){return`${at(H)}/${j}/authTokens:generate`}function Z1(H){return an.apply(this,arguments)}function an(){return(an=(0,X.Z)(function*(H,j=!1){let ne;const ve=yield A2(H.appConfig,_t=>{if(!P1(_t))throw je.create("not-registered");const jt=_t.authToken;if(!j&&xe(jt))return _t;if(1===jt.requestStatus)return ne=d1(H,j),_t;{if(!navigator.onLine)throw je.create("app-offline");const C1=Pe(_t);return ne=z1(H,C1),C1}});return ne?yield ne:ve.authToken})).apply(this,arguments)}function d1(H,j){return At.apply(this,arguments)}function At(){return(At=(0,X.Z)(function*(H,j){let ne=yield e1(H.appConfig);for(;1===ne.authToken.requestStatus;)yield Rt(100),ne=yield e1(H.appConfig);const ve=ne.authToken;return 0===ve.requestStatus?Z1(H,j):ve})).apply(this,arguments)}function e1(H){return A2(H,j=>{if(!P1(j))throw je.create("not-registered");return function Dt(H){return 1===H.requestStatus&&H.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function z1(H,j){return k1.apply(this,arguments)}function k1(){return(k1=(0,X.Z)(function*(H,j){try{const ne=yield X1(H,j),ve=Object.assign(Object.assign({},j),{authToken:ne});return yield $t(H.appConfig,ve),ne}catch(ne){if(!s1(ne)||401!==ne.customData.serverCode&&404!==ne.customData.serverCode){const ve=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield $t(H.appConfig,ve)}else yield On(H.appConfig);throw ne}})).apply(this,arguments)}function P1(H){return void 0!==H&&2===H.registrationStatus}function xe(H){return 2===H.requestStatus&&!function we(H){const j=Date.now();return j<H.creationTime||H.creationTime+H.expiresIn<j+36e5}(H)}function Pe(H){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},H),{authToken:j})}function o1(){return(o1=(0,X.Z)(function*(H){const j=H,{installationEntry:ne,registrationPromise:ve}=yield l1(j);return ve?ve.catch(console.error):Z1(j).catch(console.error),ne.fid})).apply(this,arguments)}function H1(){return(H1=(0,X.Z)(function*(H,j=!1){const ne=H;return yield cn(ne),(yield Z1(ne,j)).token})).apply(this,arguments)}function cn(H){return W1.apply(this,arguments)}function W1(){return(W1=(0,X.Z)(function*(H){const{registrationPromise:j}=yield l1(H);j&&(yield j)})).apply(this,arguments)}function An(H){return je.create("missing-app-config-values",{valueName:H})}const I2="installations",Rn=H=>{const j=H.getProvider("app").getImmediate(),ne=function J1(H){if(!H||!H.options)throw An("App Configuration");if(!H.name)throw An("App Name");const j=["projectId","apiKey","appId"];for(const ne of j)if(!H.options[ne])throw An(ne);return{appName:H.name,projectId:H.options.projectId,apiKey:H.options.apiKey,appId:H.options.appId}}(j);return{app:j,appConfig:ne,heartbeatServiceProvider:(0,Ee._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},S2=H=>{const j=H.getProvider("app").getImmediate(),ne=(0,Ee._getProvider)(j,I2).getImmediate();return{getId:()=>function Ze(H){return o1.apply(this,arguments)}(ne),getToken:et=>function n1(H){return H1.apply(this,arguments)}(ne,et)}};(function fi(){(0,Ee._registerComponent)(new Te.wA(I2,Rn,"PUBLIC")),(0,Ee._registerComponent)(new Te.wA("installations-internal",S2,"PRIVATE"))})(),(0,Ee.registerVersion)(Ve,"0.6.0"),(0,Ee.registerVersion)(Ve,"0.6.0","esm2017");const B2="@firebase/remote-config",M2=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(j,ne,ve,et){this.client=j,this.storage=ne,this.storageCache=ve,this.logger=et}isCachedDataFresh(j,ne){if(!ne)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ve=Date.now()-ne,et=ve<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ve}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${et}.`),et}fetch(j){var ne=this;return(0,X.Z)(function*(){const[ve,et]=yield Promise.all([ne.storage.getLastSuccessfulFetchTimestampMillis(),ne.storage.getLastSuccessfulFetchResponse()]);if(et&&ne.isCachedDataFresh(j.cacheMaxAgeMillis,ve))return et;j.eTag=et&&et.eTag;const _t=yield ne.client.fetch(j),jt=[ne.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_t.status&&jt.push(ne.storage.setLastSuccessfulFetchResponse(_t)),yield Promise.all(jt),_t})()}}function $2(H=navigator){return H.languages&&H.languages[0]||H.language}class Ss{constructor(j,ne,ve,et,_t,jt){this.firebaseInstallations=j,this.sdkVersion=ne,this.namespace=ve,this.projectId=et,this.apiKey=_t,this.appId=jt}fetch(j){var ne=this;return(0,X.Z)(function*(){const[ve,et]=yield Promise.all([ne.firebaseInstallations.getId(),ne.firebaseInstallations.getToken()]),jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ne.projectId}/namespaces/${ne.namespace}:fetch?key=${ne.apiKey}`,C1={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},U1={sdk_version:ne.sdkVersion,app_instance_id:ve,app_instance_id_token:et,app_id:ne.appId,language_code:$2()},G1={method:"POST",headers:C1,body:JSON.stringify(U1)},Yn=fetch(jt,G1),g1=new Promise((wr,ls)=>{j.signal.addEventListener(()=>{const Va=new Error("The operation was aborted.");Va.name="AbortError",ls(Va)})});let Mn;try{yield Promise.race([Yn,g1]),Mn=yield Yn}catch(wr){let ls="fetch-client-network";throw"AbortError"===wr?.name&&(ls="fetch-timeout"),M2.create(ls,{originalErrorMessage:wr?.message})}let q2=Mn.status;const ho=Mn.headers.get("ETag")||void 0;let Pa,Ro;if(200===Mn.status){let wr;try{wr=yield Mn.json()}catch(ls){throw M2.create("fetch-client-parse",{originalErrorMessage:ls?.message})}Pa=wr.entries,Ro=wr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ro?q2=500:"NO_CHANGE"===Ro?q2=304:("NO_TEMPLATE"===Ro||"EMPTY_CONFIG"===Ro)&&(Pa={}),304!==q2&&200!==q2)throw M2.create("fetch-status",{httpStatus:q2});return{status:q2,eTag:ho,config:Pa}})()}}class $e{constructor(j,ne){this.client=j,this.storage=ne}fetch(j){var ne=this;return(0,X.Z)(function*(){const ve=(yield ne.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ne.attemptFetch(j,ve)})()}attemptFetch(j,{throttleEndTimeMillis:ne,backoffCount:ve}){var et=this;return(0,X.Z)(function*(){yield function b2(H,j){return new Promise((ne,ve)=>{const et=Math.max(j-Date.now(),0),_t=setTimeout(ne,et);H.addEventListener(()=>{clearTimeout(_t),ve(M2.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,ne);try{const _t=yield et.client.fetch(j);return yield et.storage.deleteThrottleMetadata(),_t}catch(_t){if(!function Ye(H){if(!(H instanceof Ie.ZR&&H.customData))return!1;const j=Number(H.customData.httpStatus);return 429===j||500===j||503===j||504===j}(_t))throw _t;const jt={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(ve),backoffCount:ve+1};return yield et.storage.setThrottleMetadata(jt),et.attemptFetch(j,jt)}})()}}class Xt{constructor(j,ne,ve,et,_t){this.app=j,this._client=ne,this._storageCache=ve,this._storage=et,this._logger=_t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function I1(H,j){const ne=H.target.error||void 0;return M2.create(j,{originalErrorMessage:ne&&ne?.message})}const Y1="app_namespace_store";class er{constructor(j,ne,ve,et=function Zi(){return new Promise((H,j)=>{try{const ne=indexedDB.open("firebase_remote_config",1);ne.onerror=ve=>{j(I1(ve,"storage-open"))},ne.onsuccess=ve=>{H(ve.target.result)},ne.onupgradeneeded=ve=>{0===ve.oldVersion&&ve.target.result.createObjectStore(Y1,{keyPath:"compositeKey"})}}catch(ne){j(M2.create("storage-open",{originalErrorMessage:ne?.message}))}})}()){this.appId=j,this.appName=ne,this.namespace=ve,this.openDbPromise=et}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var ne=this;return(0,X.Z)(function*(){const ve=yield ne.openDbPromise;return new Promise((et,_t)=>{const C1=ve.transaction([Y1],"readonly").objectStore(Y1),U1=ne.createCompositeKey(j);try{const G1=C1.get(U1);G1.onerror=Yn=>{_t(I1(Yn,"storage-get"))},G1.onsuccess=Yn=>{const g1=Yn.target.result;et(g1?g1.value:void 0)}}catch(G1){_t(M2.create("storage-get",{originalErrorMessage:G1?.message}))}})})()}set(j,ne){var ve=this;return(0,X.Z)(function*(){const et=yield ve.openDbPromise;return new Promise((_t,jt)=>{const U1=et.transaction([Y1],"readwrite").objectStore(Y1),G1=ve.createCompositeKey(j);try{const Yn=U1.put({compositeKey:G1,value:ne});Yn.onerror=g1=>{jt(I1(g1,"storage-set"))},Yn.onsuccess=()=>{_t()}}catch(Yn){jt(M2.create("storage-set",{originalErrorMessage:Yn?.message}))}})})()}delete(j){var ne=this;return(0,X.Z)(function*(){const ve=yield ne.openDbPromise;return new Promise((et,_t)=>{const C1=ve.transaction([Y1],"readwrite").objectStore(Y1),U1=ne.createCompositeKey(j);try{const G1=C1.delete(U1);G1.onerror=Yn=>{_t(I1(Yn,"storage-delete"))},G1.onsuccess=()=>{et()}}catch(G1){_t(M2.create("storage-delete",{originalErrorMessage:G1?.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class ai{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,X.Z)(function*(){const ne=j.storage.getLastFetchStatus(),ve=j.storage.getLastSuccessfulFetchTimestampMillis(),et=j.storage.getActiveConfig(),_t=yield ne;_t&&(j.lastFetchStatus=_t);const jt=yield ve;jt&&(j.lastSuccessfulFetchTimestampMillis=jt);const C1=yield et;C1&&(j.activeConfig=C1)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function Hi(){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,X.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}!function ei(){(0,Ee._registerComponent)(new Te.wA("remote-config",function H(j,{instanceIdentifier:ne}){const ve=j.getProvider("app").getImmediate(),et=j.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw M2.create("registration-window");if(!(0,Ie.hl)())throw M2.create("indexed-db-unavailable");const{projectId:_t,apiKey:jt,appId:C1}=ve.options;if(!_t)throw M2.create("registration-project-id");if(!jt)throw M2.create("registration-api-key");if(!C1)throw M2.create("registration-app-id");const U1=new er(C1,ve.name,ne=ne||"firebase"),G1=new ai(U1),Yn=new Se.Yd(B2);Yn.logLevel=Se.in.ERROR;const g1=new Ss(et,Ee.SDK_VERSION,ne,_t,jt,C1),Mn=new $e(g1,U1),q2=new Es(Mn,U1,G1,Yn),ho=new Xt(ve,q2,G1,U1,Yn);return function qn(H){const j=(0,Ie.m9)(H);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}(ho),ho},"PUBLIC").setMultipleInstances(!0)),(0,Ee.registerVersion)(B2,"0.4.0"),(0,Ee.registerVersion)(B2,"0.4.0","esm2017")}();const Ti="/firebase-messaging-sw.js",Ci="/firebase-cloud-messaging-push-scope",Wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ts="google.c.a.c_id",Mi="google.c.a.c_l",Tr="google.c.a.ts",Ur="google.c.a.e";var Ai=(()=>{return(H=Ai||(Ai={})).PUSH_RECEIVED="push-received",H.NOTIFICATION_CLICKED="notification-clicked",Ai;var H})();function Di(H){const j=new Uint8Array(H);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gi(H){const ne=(H+"=".repeat((4-H.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ve=atob(ne),et=new Uint8Array(ve.length);for(let _t=0;_t<ve.length;++_t)et[_t]=ve.charCodeAt(_t);return et}const Fi="fcm_token_details_db",f2="fcm_token_object_Store";function Ii(H){return ns.apply(this,arguments)}function ns(){return ns=(0,X.Z)(function*(H){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_t=>_t.name).includes(Fi))return null;let j=null;return(yield(0,ke.X3)(Fi,5,{upgrade:(ve=(0,X.Z)(function*(et,_t,jt,C1){var U1;if(_t<2||!et.objectStoreNames.contains(f2))return;const G1=C1.objectStore(f2),Yn=yield G1.index("fcmSenderId").get(H);if(yield G1.clear(),Yn)if(2===_t){const g1=Yn;if(!g1.auth||!g1.p256dh||!g1.endpoint)return;j={token:g1.fcmToken,createTime:null!==(U1=g1.createTime)&&void 0!==U1?U1:Date.now(),subscriptionOptions:{auth:g1.auth,p256dh:g1.p256dh,endpoint:g1.endpoint,swScope:g1.swScope,vapidKey:"string"==typeof g1.vapidKey?g1.vapidKey:Di(g1.vapidKey)}}}else if(3===_t){const g1=Yn;j={token:g1.fcmToken,createTime:g1.createTime,subscriptionOptions:{auth:Di(g1.auth),p256dh:Di(g1.p256dh),endpoint:g1.endpoint,swScope:g1.swScope,vapidKey:Di(g1.vapidKey)}}}else if(4===_t){const g1=Yn;j={token:g1.fcmToken,createTime:g1.createTime,subscriptionOptions:{auth:Di(g1.auth),p256dh:Di(g1.p256dh),endpoint:g1.endpoint,swScope:g1.swScope,vapidKey:Di(g1.vapidKey)}}}}),function(_t,jt,C1,U1){return ve.apply(this,arguments)})})).close(),yield(0,ke.Lj)(Fi),yield(0,ke.Lj)("fcm_vapid_details_db"),yield(0,ke.Lj)("undefined"),h2(j)?j:null;var ve}),ns.apply(this,arguments)}function h2(H){if(!H||!H.subscriptionOptions)return!1;const{subscriptionOptions:j}=H;return"number"==typeof H.createTime&&H.createTime>0&&"string"==typeof H.token&&H.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const ti="firebase-messaging-store";let k2=null;function xi(){return k2||(k2=(0,ke.X3)("firebase-messaging-database",1,{upgrade:(H,j)=>{0===j&&H.createObjectStore(ti)}})),k2}function ms(H){return qi.apply(this,arguments)}function qi(){return(qi=(0,X.Z)(function*(H){const j=N2(H),ve=yield(yield xi()).transaction(ti).objectStore(ti).get(j);if(ve)return ve;{const et=yield Ii(H.appConfig.senderId);if(et)return yield In(H,et),et}})).apply(this,arguments)}function In(H,j){return jr.apply(this,arguments)}function jr(){return(jr=(0,X.Z)(function*(H,j){const ne=N2(H),et=(yield xi()).transaction(ti,"readwrite");return yield et.objectStore(ti).put(j,ne),yield et.done,j})).apply(this,arguments)}function Gr(H){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,X.Z)(function*(H){const j=N2(H),ve=(yield xi()).transaction(ti,"readwrite");yield ve.objectStore(ti).delete(j),yield ve.done})).apply(this,arguments)}function N2({appConfig:H}){return H.appId}const p2=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function K1(H,j){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,X.Z)(function*(H,j){const ne=yield nr(H),ve=kt(j),et={method:"POST",headers:ne,body:JSON.stringify(ve)};let _t;try{_t=yield(yield fetch(pr(H.appConfig),et)).json()}catch(jt){throw p2.create("token-subscribe-failed",{errorInfo:jt?.toString()})}if(_t.error)throw p2.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw p2.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function tr(H,j){return $r.apply(this,arguments)}function $r(){return($r=(0,X.Z)(function*(H,j){const ne=yield nr(H),ve=kt(j.subscriptionOptions),et={method:"PATCH",headers:ne,body:JSON.stringify(ve)};let _t;try{_t=yield(yield fetch(`${pr(H.appConfig)}/${j.token}`,et)).json()}catch(jt){throw p2.create("token-update-failed",{errorInfo:jt?.toString()})}if(_t.error)throw p2.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw p2.create("token-update-no-token");return _t.token})).apply(this,arguments)}function Ir(H,j){return gs.apply(this,arguments)}function gs(){return(gs=(0,X.Z)(function*(H,j){const ve={method:"DELETE",headers:yield nr(H)};try{const _t=yield(yield fetch(`${pr(H.appConfig)}/${j}`,ve)).json();if(_t.error)throw p2.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(et){throw p2.create("token-unsubscribe-failed",{errorInfo:et?.toString()})}})).apply(this,arguments)}function pr({projectId:H}){return`https://fcmregistrations.googleapis.com/v1/projects/${H}/registrations`}function nr(H){return xr.apply(this,arguments)}function xr(){return(xr=(0,X.Z)(function*({appConfig:H,installations:j}){const ne=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":H.apiKey,"x-goog-firebase-installations-auth":`FIS ${ne}`})})).apply(this,arguments)}function kt({p256dh:H,auth:j,endpoint:ne,vapidKey:ve}){const et={web:{endpoint:ne,auth:j,p256dh:H}};return ve!==Wi&&(et.web.applicationPubKey=ve),et}const Cn=6048e5;function mr(H){return zr.apply(this,arguments)}function zr(){return(zr=(0,X.Z)(function*(H){const j=yield js(H.swRegistration,H.vapidKey),ne={vapidKey:H.vapidKey,swScope:H.swRegistration.scope,endpoint:j.endpoint,auth:Di(j.getKey("auth")),p256dh:Di(j.getKey("p256dh"))},ve=yield ms(H.firebaseDependencies);if(ve){if($(ve.subscriptionOptions,ne))return Date.now()>=ve.createTime+Cn?As(H,{token:ve.token,createTime:Date.now(),subscriptionOptions:ne}):ve.token;try{yield Ir(H.firebaseDependencies,ve.token)}catch(et){console.warn(et)}return Zr(H.firebaseDependencies,ne)}return Zr(H.firebaseDependencies,ne)})).apply(this,arguments)}function D2(H){return eo.apply(this,arguments)}function eo(){return(eo=(0,X.Z)(function*(H){const j=yield ms(H.firebaseDependencies);j&&(yield Ir(H.firebaseDependencies,j.token),yield Gr(H.firebaseDependencies));const ne=yield H.swRegistration.pushManager.getSubscription();return!ne||ne.unsubscribe()})).apply(this,arguments)}function As(H,j){return ir.apply(this,arguments)}function ir(){return(ir=(0,X.Z)(function*(H,j){try{const ne=yield tr(H.firebaseDependencies,j),ve=Object.assign(Object.assign({},j),{token:ne,createTime:Date.now()});return yield In(H.firebaseDependencies,ve),ne}catch(ne){throw yield D2(H),ne}})).apply(this,arguments)}function Zr(H,j){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,X.Z)(function*(H,j){const ve={token:yield K1(H,j),createTime:Date.now(),subscriptionOptions:j};return yield In(H,ve),ve.token})).apply(this,arguments)}function js(H,j){return Is.apply(this,arguments)}function Is(){return(Is=(0,X.Z)(function*(H,j){return(yield H.pushManager.getSubscription())||H.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gi(j)})})).apply(this,arguments)}function $(H,j){return j.vapidKey===H.vapidKey&&j.endpoint===H.endpoint&&j.auth===H.auth&&j.p256dh===H.p256dh}function B(H){const j={from:H.from,collapseKey:H.collapse_key,messageId:H.fcmMessageId};return function V(H,j){if(!j.notification)return;H.notification={};const ne=j.notification.title;ne&&(H.notification.title=ne);const ve=j.notification.body;ve&&(H.notification.body=ve);const et=j.notification.image;et&&(H.notification.image=et);const _t=j.notification.icon;_t&&(H.notification.icon=_t)}(j,H),function se(H,j){!j.data||(H.data=j.data)}(j,H),function lt(H,j){var ne,ve,et,_t,jt;if(!(j.fcmOptions||null!==(ne=j.notification)&&void 0!==ne&&ne.click_action))return;H.fcmOptions={};const C1=null!==(et=null===(ve=j.fcmOptions)||void 0===ve?void 0:ve.link)&&void 0!==et?et:null===(_t=j.notification)||void 0===_t?void 0:_t.click_action;C1&&(H.fcmOptions.link=C1);const U1=null===(jt=j.fcmOptions)||void 0===jt?void 0:jt.analytics_label;U1&&(H.fcmOptions.analyticsLabel=U1)}(j,H),j}function w1(H){return"object"==typeof H&&!!H&&ts in H}function Qn(H,j){const ne=[];for(let ve=0;ve<H.length;ve++)ne.push(H.charAt(ve)),ve<j.length&&ne.push(j.charAt(ve));return ne.join("")}function rr(H){return p2.create("missing-app-config-values",{valueName:H})}Qn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vs{constructor(j,ne,ve){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const et=function gr(H){if(!H||!H.options)throw rr("App Configuration Object");if(!H.name)throw rr("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:ne}=H;for(const ve of j)if(!ne[ve])throw rr(ve);return{appName:H.name,projectId:ne.projectId,apiKey:ne.apiKey,appId:ne.appId,senderId:ne.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:et,installations:ne,analyticsProvider:ve}}_delete(){return Promise.resolve()}}function is(H){return rs.apply(this,arguments)}function rs(){return(rs=(0,X.Z)(function*(H){try{H.swRegistration=yield navigator.serviceWorker.register(Ti,{scope:Ci}),H.swRegistration.update().catch(()=>{})}catch(j){throw p2.create("failed-service-worker-registration",{browserErrorMessage:j?.message})}})).apply(this,arguments)}function vr(H,j){return Y.apply(this,arguments)}function Y(){return(Y=(0,X.Z)(function*(H,j){if(!j&&!H.swRegistration&&(yield is(H)),j||!H.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw p2.create("invalid-sw-registration");H.swRegistration=j}})).apply(this,arguments)}function re(H,j){return de.apply(this,arguments)}function de(){return(de=(0,X.Z)(function*(H,j){j?H.vapidKey=j:H.vapidKey||(H.vapidKey=Wi)})).apply(this,arguments)}function Ke(){return(Ke=(0,X.Z)(function*(H,j){if(!navigator)throw p2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw p2.create("permission-blocked");return yield re(H,j?.vapidKey),yield vr(H,j?.serviceWorkerRegistration),mr(H)})).apply(this,arguments)}function St(H,j,ne){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,X.Z)(function*(H,j,ne){const ve=zt(j);(yield H.firebaseDependencies.analyticsProvider.get()).logEvent(ve,{message_id:ne[ts],message_name:ne[Mi],message_time:ne[Tr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zt(H){switch(H){case Ai.NOTIFICATION_CLICKED:return"notification_open";case Ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function W(){return(W=(0,X.Z)(function*(H,j){const ne=j.data;if(!ne.isFirebaseMessaging)return;H.onMessageHandler&&ne.messageType===Ai.PUSH_RECEIVED&&("function"==typeof H.onMessageHandler?H.onMessageHandler(B(ne)):H.onMessageHandler.next(B(ne)));const ve=ne.data;w1(ve)&&"1"===ve[Ur]&&(yield St(H,ne.messageType,ve))})).apply(this,arguments)}const k="@firebase/messaging",be=H=>{const j=new vs(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),H.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ne=>function z(H,j){return W.apply(this,arguments)}(j,ne)),j},it=H=>{const j=H.getProvider("messaging").getImmediate();return{getToken:ve=>function _e(H,j){return Ke.apply(this,arguments)}(j,ve)}};function a1(){return nn.apply(this,arguments)}function nn(){return(nn=(0,X.Z)(function*(){try{yield(0,Ie.eu)()}catch{return!1}return typeof window<"u"&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vt(){(0,Ee._registerComponent)(new Te.wA("messaging",be,"PUBLIC")),(0,Ee._registerComponent)(new Te.wA("messaging-internal",it,"PRIVATE")),(0,Ee.registerVersion)(k,"0.12.0"),(0,Ee.registerVersion)(k,"0.12.0","esm2017")}();const _r="analytics",br="firebase_id",xs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Co="https://www.googletagmanager.com/gtag/js",P2=new Se.Yd("@firebase/analytics");function na(H){return Promise.all(H.map(j=>j.catch(ne=>ne)))}function V4(H,j){const ne=document.createElement("script");ne.src=`${Co}?l=${H}&id=${j}`,ne.async=!0,document.head.appendChild(ne)}function d4(H,j,ne,ve,et,_t){return ia.apply(this,arguments)}function ia(){return(ia=(0,X.Z)(function*(H,j,ne,ve,et,_t){const jt=ve[et];try{if(jt)yield j[jt];else{const U1=(yield na(ne)).find(G1=>G1.measurementId===et);U1&&(yield j[U1.appId])}}catch(C1){P2.error(C1)}H("config",et,_t)})).apply(this,arguments)}function xo(H,j,ne,ve,et){return oo.apply(this,arguments)}function oo(){return(oo=(0,X.Z)(function*(H,j,ne,ve,et){try{let _t=[];if(et&&et.send_to){let jt=et.send_to;Array.isArray(jt)||(jt=[jt]);const C1=yield na(ne);for(const U1 of jt){const G1=C1.find(g1=>g1.measurementId===U1),Yn=G1&&j[G1.appId];if(!Yn){_t=[];break}_t.push(Yn)}}0===_t.length&&(_t=Object.values(j)),yield Promise.all(_t),H("event",ve,et||{})}catch(_t){P2.error(_t)}})).apply(this,arguments)}function La(H){const j=window.document.getElementsByTagName("script");for(const ne of Object.values(j))if(ne.src&&ne.src.includes(Co)&&ne.src.includes(H))return ne;return null}const li=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Kt=new class zs{constructor(j={},ne=1e3){this.throttleMetadata=j,this.intervalMillis=ne}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,ne){this.throttleMetadata[j]=ne}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function Ei(H){return new Headers({Accept:"application/json","x-goog-api-key":H})}function ys(H){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,X.Z)(function*(H){var j;const{appId:ne,apiKey:ve}=H,et={method:"GET",headers:Ei(ve)},_t=xs.replace("{app-id}",ne),jt=yield fetch(_t,et);if(200!==jt.status&&304!==jt.status){let C1="";try{const U1=yield jt.json();null!==(j=U1.error)&&void 0!==j&&j.message&&(C1=U1.error.message)}catch{}throw li.create("config-fetch-failed",{httpStatus:jt.status,responseMessage:C1})}return jt.json()})).apply(this,arguments)}function f1(H){return _1.apply(this,arguments)}function _1(){return(_1=(0,X.Z)(function*(H,j=Kt,ne){const{appId:ve,apiKey:et,measurementId:_t}=H.options;if(!ve)throw li.create("no-app-id");if(!et){if(_t)return{measurementId:_t,appId:ve};throw li.create("no-api-key")}const jt=j.getThrottleMetadata(ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},C1=new Z2;return setTimeout((0,X.Z)(function*(){C1.abort()}),void 0!==ne?ne:6e4),ra({appId:ve,apiKey:et,measurementId:_t},jt,C1,j)})).apply(this,arguments)}function ra(H,j,ne){return c1.apply(this,arguments)}function c1(){return(c1=(0,X.Z)(function*(H,{throttleEndTimeMillis:j,backoffCount:ne},ve,et=Kt){var _t;const{appId:jt,measurementId:C1}=H;try{yield bt(ve,j)}catch(U1){if(C1)return P2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C1} provided in the "measurementId" field in the local Firebase config. [${U1?.message}]`),{appId:jt,measurementId:C1};throw U1}try{const U1=yield ys(H);return et.deleteThrottleMetadata(jt),U1}catch(U1){const G1=U1;if(!Bt(G1)){if(et.deleteThrottleMetadata(jt),C1)return P2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${C1} provided in the "measurementId" field in the local Firebase config. [${G1?.message}]`),{appId:jt,measurementId:C1};throw U1}const Yn=503===Number(null===(_t=G1?.customData)||void 0===_t?void 0:_t.httpStatus)?(0,Ie.$s)(ne,et.intervalMillis,30):(0,Ie.$s)(ne,et.intervalMillis),g1={throttleEndTimeMillis:Date.now()+Yn,backoffCount:ne+1};return et.setThrottleMetadata(jt,g1),P2.debug(`Calling attemptFetch again in ${Yn} millis`),ra(H,g1,ve,et)}})).apply(this,arguments)}function bt(H,j){return new Promise((ne,ve)=>{const et=Math.max(j-Date.now(),0),_t=setTimeout(ne,et);H.addEventListener(()=>{clearTimeout(_t),ve(li.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function Bt(H){if(!(H instanceof Ie.ZR&&H.customData))return!1;const j=Number(H.customData.httpStatus);return 429===j||500===j||503===j||504===j}class Z2{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let Li,rn;function Wr(){return(Wr=(0,X.Z)(function*(H,j,ne,ve,et){if(et&&et.global)H("event",ne,ve);else{const _t=yield j;H("event",ne,Object.assign(Object.assign({},ve),{send_to:_t}))}})).apply(this,arguments)}function Cr(H){rn=H}function la(H){Li=H}function L2(){return V1.apply(this,arguments)}function V1(){return(V1=(0,X.Z)(function*(){if(!(0,Ie.hl)())return P2.warn(li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(H){return P2.warn(li.create("indexeddb-unavailable",{errorInfo:H?.toString()}).message),!1}return!0})).apply(this,arguments)}function Gn(){return(Gn=(0,X.Z)(function*(H,j,ne,ve,et,_t,jt){var C1;const U1=f1(H);U1.then(q2=>{ne[q2.measurementId]=q2.appId,H.options.measurementId&&q2.measurementId!==H.options.measurementId&&P2.warn(`The measurement ID in the local Firebase config (${H.options.measurementId}) does not match the measurement ID fetched from the server (${q2.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(q2=>P2.error(q2)),j.push(U1);const G1=L2().then(q2=>{if(q2)return ve.getId()}),[Yn,g1]=yield Promise.all([U1,G1]);La(_t)||V4(_t,Yn.measurementId),rn&&(et("consent","default",rn),Cr(void 0)),et("js",new Date);const Mn=null!==(C1=jt?.config)&&void 0!==C1?C1:{};return Mn.origin="firebase",Mn.update=!0,null!=g1&&(Mn[br]=g1),et("config",Yn.measurementId,Mn),Li&&(et("set",Li),la(void 0)),Yn.measurementId})).apply(this,arguments)}class Oo{constructor(j){this.app=j}_delete(){return delete $n[this.app.options.appId],Promise.resolve()}}let $n={},t1=[];const Gs={};let Ls,_s,$s="dataLayer",Zs=!1;function f4(H,j,ne){!function ua(){const H=[];if((0,Ie.ru)()&&H.push("This is a browser extension environment."),(0,Ie.zI)()||H.push("Cookies are not available."),H.length>0){const j=H.map((ve,et)=>`(${et+1}) ${ve}`).join(" "),ne=li.create("invalid-analytics-context",{errorInfo:j});P2.warn(ne.message)}}();const ve=H.options.appId;if(!ve)throw li.create("no-app-id");if(!H.options.apiKey){if(!H.options.measurementId)throw li.create("no-api-key");P2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${H.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$n[ve])throw li.create("already-exists",{id:ve});if(!Zs){!function xa(H){let j=[];Array.isArray(window[H])?j=window[H]:window[H]=j}($s);const{wrappedGtag:_t,gtagCore:jt}=function za(H,j,ne,ve,et){let _t=function(...jt){window[ve].push(arguments)};return window[et]&&"function"==typeof window[et]&&(_t=window[et]),window[et]=function zo(H,j,ne,ve){function _t(){return(_t=(0,X.Z)(function*(jt,C1,U1){try{"event"===jt?yield xo(H,j,ne,C1,U1):"config"===jt?yield d4(H,j,ne,ve,C1,U1):"consent"===jt?H("consent","update",U1):H("set",C1)}catch(G1){P2.error(G1)}})).apply(this,arguments)}return function et(jt,C1,U1){return _t.apply(this,arguments)}}(_t,H,j,ne),{gtagCore:_t,wrappedGtag:window[et]}}($n,t1,Gs,$s,"gtag");_s=_t,Ls=jt,Zs=!0}return $n[ve]=function W2(H,j,ne,ve,et,_t,jt){return Gn.apply(this,arguments)}(H,t1,Gs,j,Ls,$s,ne),new Oo(H)}function H4(){return h4.apply(this,arguments)}function h4(){return(h4=(0,X.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch{return!1}})).apply(this,arguments)}const no="@firebase/analytics";!function Oi(){(0,Ee._registerComponent)(new Te.wA(_r,(j,{options:ne})=>f4(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),ne),"PUBLIC")),(0,Ee._registerComponent)(new Te.wA("analytics-internal",function H(j){try{const ne=j.getProvider(_r).getImmediate();return{logEvent:(ve,et,_t)=>function Mo(H,j,ne,ve){H=(0,Ie.m9)(H),function Oa(H,j,ne,ve,et){return Wr.apply(this,arguments)}(_s,$n[H.app.options.appId],j,ne,ve).catch(et=>P2.error(et))}(ne,ve,et,_t)}}catch(ne){throw li.create("interop-component-reg-failed",{reason:ne})}},"PRIVATE")),(0,Ee.registerVersion)(no,"0.9.0"),(0,Ee.registerVersion)(no,"0.9.0","esm2017")}();var qr=F(4408),Kr=F(7565);const sr=new class lo extends Kr.v{}(class pa extends qr.o{constructor(j,ne){super(j,ne),this.scheduler=j,this.work=ne}schedule(j,ne=0){return ne>0?super.schedule(j,ne):(this.delay=ne,this.state=j,this.scheduler.flush(this),this)}execute(j,ne){return ne>0||this.closed?super.execute(j,ne):this._execute(j,ne)}requestAsyncId(j,ne,ve=0){return null!=ve&&ve>0||null==ve&&this.delay>0?super.requestAsyncId(j,ne,ve):(j.flush(this),0)}});var T=F(4986),E=F(8505),O=F(9468),U=F(5363);const te=new l.GfV("7.5.0"),ge="__angularfire_symbol__analyticsIsSupportedValue",Ae="__angularfire_symbol__analyticsIsSupported",Nt="__angularfire_symbol__remoteConfigIsSupportedValue",Zt="__angularfire_symbol__remoteConfigIsSupported",xn="__angularfire_symbol__messagingIsSupportedValue",b1="__angularfire_symbol__messagingIsSupported";function Ri(H,j,ne){if(j){if(1===j.length)return j[0];const _t=j.filter(jt=>jt.app===ne);if(1===_t.length)return _t[0]}return ne.container.getProvider(H).getImmediate({optional:!0})}globalThis[Ae]||(globalThis[Ae]=H4().then(H=>globalThis[ge]=H).catch(()=>globalThis[ge]=!1)),globalThis[b1]||(globalThis[b1]=a1().then(H=>globalThis[xn]=H).catch(()=>globalThis[xn]=!1)),globalThis[Zt]||(globalThis[Zt]=Hi().then(H=>globalThis[Nt]=H).catch(()=>globalThis[Nt]=!1));const Yr=(H,j)=>{const ne=j?[j]:(0,C.C6)(),ve=[];return ne.forEach(et=>{et.container.getProvider(H).instances.forEach(jt=>{ve.includes(jt)||ve.push(jt)})}),ve};function Cs(){}class Mr{constructor(j,ne=sr){this.zone=j,this.delegate=ne}now(){return this.delegate.now()}schedule(j,ne,ve){const et=this.zone;return this.delegate.schedule(function(jt){et.runGuarded(()=>{j.apply(this,[jt])})},ne,ve)}}class Ws{constructor(j){this.zone=j,this.task=null}call(j,ne){const ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cs,{},Cs,Cs)),ne.pipe((0,E.b)({next:ve,complete:ve,error:ve})).subscribe(j).add(ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wo=(()=>{class H{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new Mr(Zone.current)),this.insideAngular=ne.run(()=>new Mr(Zone.current,T.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return H.\u0275fac=function(ne){return new(ne||H)(l.LFG(l.R0b))},H.\u0275prov=l.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function Jr(){const H=globalThis.\u0275AngularFireScheduler;if(!H)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return H}function fo(H){return Jr(),function ka(H){return function(ne){return(ne=ne.lift(new Ws(H.ngZone))).pipe((0,O.R)(H.outsideAngular),(0,U.Q)(H.insideAngular))}}(Jr())(H)}},2090:(r1,Qe,F)=>{F.d(Qe,{$s:()=>e1,BH:()=>L1,G6:()=>nt,L:()=>ke,LL:()=>N1,Pz:()=>B1,Sg:()=>Pt,UG:()=>Je,US:()=>Te,ZB:()=>he,ZR:()=>S1,aH:()=>v1,b$:()=>st,eu:()=>Mt,hl:()=>Ft,jU:()=>Gt,m9:()=>P1,ne:()=>ut,pd:()=>J2,r3:()=>t2,ru:()=>ft,tV:()=>Ve,uI:()=>ot,vZ:()=>$t,w1:()=>s1,xO:()=>mn,xb:()=>vn,z$:()=>pt,zI:()=>ce,zd:()=>A2});const Ee=function(xe){const we=[];let Pe=0;for(let Dt=0;Dt<xe.length;Dt++){let Ze=xe.charCodeAt(Dt);Ze<128?we[Pe++]=Ze:Ze<2048?(we[Pe++]=Ze>>6|192,we[Pe++]=63&Ze|128):55296==(64512&Ze)&&Dt+1<xe.length&&56320==(64512&xe.charCodeAt(Dt+1))?(Ze=65536+((1023&Ze)<<10)+(1023&xe.charCodeAt(++Dt)),we[Pe++]=Ze>>18|240,we[Pe++]=Ze>>12&63|128,we[Pe++]=Ze>>6&63|128,we[Pe++]=63&Ze|128):(we[Pe++]=Ze>>12|224,we[Pe++]=Ze>>6&63|128,we[Pe++]=63&Ze|128)}return we},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(xe,we){if(!Array.isArray(xe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Pe=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,Dt=[];for(let Ze=0;Ze<xe.length;Ze+=3){const o1=xe[Ze],n1=Ze+1<xe.length,H1=n1?xe[Ze+1]:0,cn=Ze+2<xe.length,W1=cn?xe[Ze+2]:0;let ue=(15&H1)<<2|W1>>6,We=63&W1;cn||(We=64,n1||(ue=64)),Dt.push(Pe[o1>>2],Pe[(3&o1)<<4|H1>>4],Pe[ue],Pe[We])}return Dt.join("")},encodeString(xe,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(xe):this.encodeByteArray(Ee(xe),we)},decodeString(xe,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(xe):function(xe){const we=[];let Pe=0,Dt=0;for(;Pe<xe.length;){const Ze=xe[Pe++];if(Ze<128)we[Dt++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){const o1=xe[Pe++];we[Dt++]=String.fromCharCode((31&Ze)<<6|63&o1)}else if(Ze>239&&Ze<365){const cn=((7&Ze)<<18|(63&xe[Pe++])<<12|(63&xe[Pe++])<<6|63&xe[Pe++])-65536;we[Dt++]=String.fromCharCode(55296+(cn>>10)),we[Dt++]=String.fromCharCode(56320+(1023&cn))}else{const o1=xe[Pe++],n1=xe[Pe++];we[Dt++]=String.fromCharCode((15&Ze)<<12|(63&o1)<<6|63&n1)}}return we.join("")}(this.decodeStringToByteArray(xe,we))},decodeStringToByteArray(xe,we){this.init_();const Pe=we?this.charToByteMapWebSafe_:this.charToByteMap_,Dt=[];for(let Ze=0;Ze<xe.length;){const o1=Pe[xe.charAt(Ze++)],H1=Ze<xe.length?Pe[xe.charAt(Ze)]:0;++Ze;const W1=Ze<xe.length?Pe[xe.charAt(Ze)]:64;++Ze;const pe=Ze<xe.length?Pe[xe.charAt(Ze)]:64;if(++Ze,null==o1||null==H1||null==W1||null==pe)throw Error();Dt.push(o1<<2|H1>>4),64!==W1&&(Dt.push(H1<<4&240|W1>>2),64!==pe&&Dt.push(W1<<6&192|pe))}return Dt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let xe=0;xe<this.ENCODED_VALS.length;xe++)this.byteToCharMap_[xe]=this.ENCODED_VALS.charAt(xe),this.charToByteMap_[this.byteToCharMap_[xe]]=xe,this.byteToCharMapWebSafe_[xe]=this.ENCODED_VALS_WEBSAFE.charAt(xe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[xe]]=xe,xe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(xe)]=xe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(xe)]=xe)}}},ke=function(xe){return function(xe){const we=Ee(xe);return Te.encodeByteArray(we,!0)}(xe).replace(/\./g,"")},Ve=function(xe){try{return Te.decodeString(xe,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function he(xe,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===xe&&(xe={});break;case Array:xe=[];break;default:return we}for(const Pe in we)!we.hasOwnProperty(Pe)||!ze(Pe)||(xe[Pe]=he(xe[Pe],we[Pe]));return xe}function ze(xe){return"__proto__"!==xe}function pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Gt(){return"object"==typeof self&&self.self===self}function ft(){const xe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof xe&&void 0!==xe.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function s1(){const xe=pt();return xe.indexOf("MSIE ")>=0||xe.indexOf("Trident/")>=0}function nt(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ft(){try{return"object"==typeof indexedDB}catch{return!1}}function Mt(){return new Promise((xe,we)=>{try{let Pe=!0;const Dt="validate-browser-context-for-indexeddb-analytics-module",Ze=self.indexedDB.open(Dt);Ze.onsuccess=()=>{Ze.result.close(),Pe||self.indexedDB.deleteDatabase(Dt),xe(!0)},Ze.onupgradeneeded=()=>{Pe=!1},Ze.onerror=()=>{var o1;we((null===(o1=Ze.error)||void 0===o1?void 0:o1.message)||"")}}catch(Pe){we(Pe)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const He=()=>{try{return function tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const xe=process.env.__FIREBASE_DEFAULTS__;return xe?JSON.parse(xe):void 0})()||(()=>{if(typeof document>"u")return;let xe;try{xe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const we=xe&&Ve(xe[1]);return we&&JSON.parse(we)})()}catch(xe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${xe}`)}},v1=()=>{var xe;return null===(xe=He())||void 0===xe?void 0:xe.config},B1=xe=>{var we;return null===(we=He())||void 0===we?void 0:we[`_${xe}`]};class L1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,Pe)=>{this.resolve=we,this.reject=Pe})}wrapCallback(we){return(Pe,Dt)=>{Pe?this.reject(Pe):this.resolve(Dt),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(Pe):we(Pe,Dt))}}}function Pt(xe,we){if(xe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Dt=we||"demo-project",Ze=xe.iat||0,o1=xe.sub||xe.user_id;if(!o1)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const n1=Object.assign({iss:`https://securetoken.google.com/${Dt}`,aud:Dt,iat:Ze,exp:Ze+3600,auth_time:Ze,sub:o1,user_id:o1,firebase:{sign_in_provider:"custom",identities:{}}},xe);return[ke(JSON.stringify({alg:"none",type:"JWT"})),ke(JSON.stringify(n1)),""].join(".")}class S1 extends Error{constructor(we,Pe,Dt){super(Pe),this.code=we,this.customData=Dt,this.name="FirebaseError",Object.setPrototypeOf(this,S1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N1.prototype.create)}}class N1{constructor(we,Pe,Dt){this.service=we,this.serviceName=Pe,this.errors=Dt}create(we,...Pe){const Dt=Pe[0]||{},Ze=`${this.service}/${we}`,o1=this.errors[we],n1=o1?function M1(xe,we){return xe.replace(o2,(Pe,Dt)=>{const Ze=we[Dt];return null!=Ze?String(Ze):`<${Dt}?>`})}(o1,Dt):"Error";return new S1(Ze,`${this.serviceName}: ${n1} (${Ze}).`,Dt)}}const o2=/\{\$([^}]+)}/g;function t2(xe,we){return Object.prototype.hasOwnProperty.call(xe,we)}function vn(xe){for(const we in xe)if(Object.prototype.hasOwnProperty.call(xe,we))return!1;return!0}function $t(xe,we){if(xe===we)return!0;const Pe=Object.keys(xe),Dt=Object.keys(we);for(const Ze of Pe){if(!Dt.includes(Ze))return!1;const o1=xe[Ze],n1=we[Ze];if(En(o1)&&En(n1)){if(!$t(o1,n1))return!1}else if(o1!==n1)return!1}for(const Ze of Dt)if(!Pe.includes(Ze))return!1;return!0}function En(xe){return null!==xe&&"object"==typeof xe}function mn(xe){const we=[];for(const[Pe,Dt]of Object.entries(xe))Array.isArray(Dt)?Dt.forEach(Ze=>{we.push(encodeURIComponent(Pe)+"="+encodeURIComponent(Ze))}):we.push(encodeURIComponent(Pe)+"="+encodeURIComponent(Dt));return we.length?"&"+we.join("&"):""}function A2(xe){const we={};return xe.replace(/^\?/,"").split("&").forEach(Dt=>{if(Dt){const[Ze,o1]=Dt.split("=");we[decodeURIComponent(Ze)]=decodeURIComponent(o1)}}),we}function J2(xe){const we=xe.indexOf("?");if(!we)return"";const Pe=xe.indexOf("#",we);return xe.substring(we,Pe>0?Pe:void 0)}function ut(xe,we){const Pe=new Ne(xe,we);return Pe.subscribe.bind(Pe)}class Ne{constructor(we,Pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Pe,this.task.then(()=>{we(this)}).catch(Dt=>{this.error(Dt)})}next(we){this.forEachObserver(Pe=>{Pe.next(we)})}error(we){this.forEachObserver(Pe=>{Pe.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,Pe,Dt){let Ze;if(void 0===we&&void 0===Pe&&void 0===Dt)throw new Error("Missing Observer.");Ze=function ct(xe,we){if("object"!=typeof xe||null===xe)return!1;for(const Pe of we)if(Pe in xe&&"function"==typeof xe[Pe])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:Pe,complete:Dt},void 0===Ze.next&&(Ze.next=wt),void 0===Ze.error&&(Ze.error=wt),void 0===Ze.complete&&(Ze.complete=wt);const o1=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ze.error(this.finalError):Ze.complete()}catch{}}),this.observers.push(Ze),o1}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let Pe=0;Pe<this.observers.length;Pe++)this.sendOne(Pe,we)}sendOne(we,Pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{Pe(this.observers[we])}catch(Dt){typeof console<"u"&&console.error&&console.error(Dt)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wt(){}function e1(xe,we=1e3,Pe=2){const Dt=we*Math.pow(Pe,xe),Ze=Math.round(.5*Dt*(Math.random()-.5)*2);return Math.min(144e5,Dt+Ze)}function P1(xe){return xe&&xe._delegate?xe._delegate:xe}},2767:(r1,Qe,F)=>{F.d(Qe,{n:()=>ke});var l=F(6895),C=F(433),X=F(3101),Ee=F(2011),Ie=F(2340),Te=F(3385),Se=F(4650);let ke=(()=>{class Ve{}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275mod=Se.oAB({type:Ve}),Ve.\u0275inj=Se.cJS({imports:[l.ez,C.u5,X.yb,Ee.hO.initializeApp(Ie.N.firebase),Te.ww]}),Ve})()},182:(r1,Qe,F)=>{F.d(Qe,{e:()=>fe});var l=F(5861),C=F(7579),X=F(3900),Ee=F(9646),Ie=F(9260),Te=F(4650),Se=F(2431),ke=F(3385),Ve=F(3101);let fe=(()=>{class he{constructor(pt,ot,Je){this.router=pt,this.afAuth=ot,this.afs=Je,this.authChange=new C.x,this.isAuthenticated=!1,this.user$=this.afAuth.authState.pipe((0,X.w)(Gt=>Gt?this.afs.doc(`users/${Gt.uid}`).valueChanges():(0,Ee.of)(null)))}googleSignin(){var pt=this;return(0,l.Z)(function*(){const ot=new Ie.Z.auth.GoogleAuthProvider,Je=yield pt.afAuth.signInWithPopup(ot);return pt.updateUserData(Je.user)})()}updateUserData(pt){return this.userId=pt?.uid,this.afs.doc(`users/${pt?.uid}`).set({uid:pt.uid,email:pt.email,displayName:pt.displayName,photoURL:pt.photoURL},{merge:!0})}iniAuthListener(){this.afAuth.authState.subscribe(pt=>{pt?(this.onSuccessfulAuthentication(),this.updateUserData(pt)):this.onUnsuccessfulAuthentication()})}registerUser(pt){this.afAuth.createUserWithEmailAndPassword(pt.email,pt.password).then(ot=>{console.log(ot),this.onSuccessfulAuthentication()}).catch(ot=>{console.log(ot)})}login(pt){this.afAuth.signInWithEmailAndPassword(pt.email,pt.password).then(ot=>{console.log(ot)}).catch(ot=>{console.log(ot)})}logout(){this.afAuth.signOut()}isAuth(){return this.isAuthenticated}onSuccessfulAuthentication(){this.isAuthenticated=!0,this.authChange.next(!0),this.router.navigate([""])}onUnsuccessfulAuthentication(){this.isAuthenticated=!1,this.authChange.next(!1),this.router.navigate([""])}}return he.\u0275fac=function(pt){return new(pt||he)(Te.LFG(Se.F0),Te.LFG(ke.zQ),Te.LFG(Ve.ST))},he.\u0275prov=Te.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},3919:(r1,Qe,F)=>{F.d(Qe,{z:()=>X});var l=F(4650),C=F(6683);let X=(()=>{class Ee{constructor(Te){this.activeModal=Te}ngOnInit(){}}return Ee.\u0275fac=function(Te){return new(Te||Ee)(l.Y36(C.Kz))},Ee.\u0275cmp=l.Xpm({type:Ee,selectors:[["app-confirm-modal"]],inputs:{message:"message"},decls:9,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(Te,Se){1&Te&&(l.TgZ(0,"div",0)(1,"h4",1),l._uU(2),l.qZA(),l.TgZ(3,"button",2),l.NdJ("click",function(){return Se.activeModal.dismiss("Cross click")}),l.qZA()(),l.TgZ(4,"div",3)(5,"button",4),l.NdJ("click",function(){return Se.activeModal.close("Yes")}),l._uU(6," Yes "),l.qZA(),l.TgZ(7,"button",5),l.NdJ("click",function(){return Se.activeModal.close("No")}),l._uU(8," No "),l.qZA()()),2&Te&&(l.xp6(2),l.Oqu(Se.message))}}),Ee})()},837:(r1,Qe,F)=>{F.d(Qe,{z:()=>ke});var l=F(4650),C=F(6895);let X=(()=>{class Ve{constructor(){}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275cmp=l.Xpm({type:Ve,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(he,ze){1&he&&(l.TgZ(0,"div",0),l._UZ(1,"div")(2,"div")(3,"div")(4,"div"),l.qZA())},styles:[".lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:black;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),Ve})();function Ee(Ve,fe){1&Ve&&(l.TgZ(0,"div",4),l.Hsn(1,1),l.qZA())}function Ie(Ve,fe){1&Ve&&(l.TgZ(0,"div",5),l._UZ(1,"app-loading-spinner"),l.qZA())}const Te=[[["","pageHeader",""]],[["","pageContent",""]]],Se=["[pageHeader]","[pageContent]"];let ke=(()=>{class Ve{constructor(){this.contentLoaded=!1}ngOnInit(){}onClickAddButton(){console.log("hello world")}}return Ve.\u0275fac=function(he){return new(he||Ve)},Ve.\u0275cmp=l.Xpm({type:Ve,selectors:[["app-content-wrapper"]],inputs:{contentLoaded:"contentLoaded"},ngContentSelectors:Se,decls:5,vars:2,consts:[[1,"content-wrapper"],[1,"page-header"],["class","content-container",4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],[1,"content-container"],[1,"loading-spinner-container"]],template:function(he,ze){1&he&&(l.F$t(Te),l.TgZ(0,"div",0)(1,"div",1),l.Hsn(2),l.qZA(),l.YNc(3,Ee,2,0,"div",2),l.YNc(4,Ie,2,0,"div",3),l.qZA()),2&he&&(l.xp6(3),l.Q6J("ngIf",ze.contentLoaded),l.xp6(1),l.Q6J("ngIf",!ze.contentLoaded))},dependencies:[C.O5,X],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:100vw;padding-left:10px;padding-right:10px}.content-container[_ngcontent-%COMP%]{margin-top:10px}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:60vh;flex-wrap:wrap;padding-left:10px;padding-right:10px;justify-content:center}']}),Ve})()},4769:(r1,Qe,F)=>{F.d(Qe,{e:()=>Ee});var l=F(6895),C=F(6683),X=F(4650);let Ee=(()=>{class Ie{}return Ie.\u0275fac=function(Se){return new(Se||Ie)},Ie.\u0275mod=X.oAB({type:Ie}),Ie.\u0275inj=X.cJS({imports:[l.ez,C.IJ,C.XC,C.IJ,C.XC]}),Ie})()},2340:(r1,Qe,F)=>{F.d(Qe,{N:()=>l});const l={production:!0,firebase:{apiKey:"AIzaSyBhyZOhjOEyor9d77QOlILrHlQcqFFcQdY",authDomain:"adultery-prod.firebaseapp.com",projectId:"adultery-prod",storageBucket:"adultery-prod.appspot.com",messagingSenderId:"1064210384939",appId:"1:1064210384939:web:46399359cb7ff93afb826e"}}},1481:(r1,Qe,F)=>{var l=F(8255),C=F(4650),X=F(2431),Ee=F(182);let Ie=(()=>{class R{constructor(v,A){this.authService=v,this.router=A}canActivate(v,A){return this.authService.isAuth()?this.authService.isAuth():(this.router.navigate(["login"]),!1)}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(Ee.e),C.LFG(X.F0))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})();var la={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},Gn={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},$8={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},Ou={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},f0={prefix:"fas",iconName:"tools",icon:[512,512,[],"f7d9","M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"]},L7={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},Y9={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]};let yu=(()=>{class R{constructor(){this.faDumbbell=la,this.faUser=L7,this.faGoogle=Y9,this.faEdit=Gn,this.faPlus=Ou,this.faPencilAlt=$8,this.faTools=f0}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();var si=F(433);let Kv=(()=>{class R{constructor(){}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-google-button"]],decls:6,vars:0,consts:[[1,"google-btn"],[1,"google-icon-wrapper"],["src","https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",1,"google-icon"],[1,"btn-text"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0)(1,"div",1),C._UZ(2,"img",2),C.qZA(),C.TgZ(3,"p",3)(4,"b"),C._uU(5,"Sign in with google"),C.qZA()()())},styles:[".google-btn[_ngcontent-%COMP%]{cursor:pointer;width:184px;height:42px;background-color:#4285f4;border-radius:2px;box-shadow:0 3px 4px #00000040}.google-btn[_ngcontent-%COMP%]   .google-icon-wrapper[_ngcontent-%COMP%]{position:absolute;margin-top:1px;margin-left:1px;width:40px;height:40px;border-radius:2px;background-color:#fff}.google-btn[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{position:absolute;margin-top:11px;margin-left:11px;width:18px;height:18px}.google-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{float:right;margin:11px 11px 0 0;color:#fff;font-size:14px;letter-spacing:.2px;font-family:Roboto}.google-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #4285f4}.google-btn[_ngcontent-%COMP%]:active{background:#1669f2}"]}),R})(),S_=(()=>{class R{constructor(v,A){this.authService=v,this.icon=A}ngOnInit(){}onSubmit(v){this.authService.login({email:v.value.email,password:v.value.password})}onOathSignIn(){this.authService.googleSignin()}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(Ee.e),C.Y36(yu))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"login-page"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(v,A){if(1&v){const K=C.EpF();C.TgZ(0,"div",0)(1,"form",1,2),C.NdJ("ngSubmit",function(){C.CHM(K);const Re=C.MAs(2);return C.KtG(A.onSubmit(Re))}),C.TgZ(3,"h1"),C._uU(4,"Welcome back fellow adult!"),C.qZA(),C.TgZ(5,"div",3),C._UZ(6,"input",4,5),C.qZA(),C.TgZ(8,"div",3),C._UZ(9,"input",6,7),C.qZA(),C.TgZ(11,"button",8),C._uU(12," Login "),C.qZA(),C.TgZ(13,"app-google-button",9),C.NdJ("click",function(){return A.onOathSignIn()}),C.qZA()()()}if(2&v){const K=C.MAs(2);C.xp6(11),C.Q6J("disabled",!K.valid)}},dependencies:[si._Y,si.Fj,si.JJ,si.JL,si.Q7,si.wO,si.On,si.F,Kv],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),R})(),N_=(()=>{class R{constructor(v,A){this.authService=v,this.icon=A}ngOnInit(){}onSubmit(v){this.authService.registerUser({email:v.value.email,password:v.value.password})}onOathSignIn(){this.authService.googleSignin()}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(Ee.e),C.Y36(yu))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-signup"]],decls:13,vars:1,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(v,A){if(1&v){const K=C.EpF();C.TgZ(0,"form",0,1),C.NdJ("ngSubmit",function(){C.CHM(K);const Re=C.MAs(1);return C.KtG(A.onSubmit(Re))}),C.TgZ(2,"h1"),C._uU(3,"Sign Up to Start Adulting!"),C.qZA(),C.TgZ(4,"div",2),C._UZ(5,"input",3,4),C.qZA(),C.TgZ(7,"div",2),C._UZ(8,"input",5,6),C.qZA(),C.TgZ(10,"button",7),C._uU(11," Sign Up "),C.qZA(),C.TgZ(12,"app-google-button",8),C.NdJ("click",function(){return A.onOathSignIn()}),C.qZA()()}if(2&v){const K=C.MAs(1);C.xp6(10),C.Q6J("disabled",!K.valid)}},dependencies:[si._Y,si.Fj,si.JJ,si.JL,si.Q7,si.wO,si.On,si.F,Kv],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),R})();var Yv=F(837);let T_=(()=>{class R{constructor(){}ngOnInit(){}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-feature-coming-soon"]],decls:12,vars:1,consts:[[3,"contentLoaded"],["pageContent","",1,"page-container"],[1,"gif-container"],["src","https://media.giphy.com/media/H1dxi6xdh4NGQCZSvz/giphy.gif"],["src","https://media.giphy.com/media/l0HefZY0mFfLS9AFa/giphy.gif"]],template:function(v,A){1&v&&(C.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),C._uU(3,"This feature is not available yet"),C.qZA(),C.TgZ(4,"p"),C._uU(5," Our team of highly adult developers are working around the clock to bring more awesome features to this app. "),C.qZA(),C.TgZ(6,"div",2),C._UZ(7,"img",3),C.qZA(),C.TgZ(8,"p"),C._uU(9,"This one is currently in progress. It's going to be..."),C.qZA(),C.TgZ(10,"div",2),C._UZ(11,"img",4),C.qZA()()()),2&v&&C.Q6J("contentLoaded",!0)},dependencies:[Yv.z],styles:[".page-container[_ngcontent-%COMP%]{display:flex;gap:10px;text-align:center;flex-direction:column}"]}),R})();var P4=F(6683),Dd=F(7579),Ed=F(4004),Ph=F(3101);let Vh=(()=>{class R{constructor(v,A){this.firestore=v,this.authService=A,this.exercises=[],this.exercisesChanged=new Dd.x}fetchExercises(){const v=this.authService.userId;this.firestore.collection("exercises",A=>A.where("userId","==",v)).snapshotChanges().pipe((0,Ed.U)(A=>A.map(K=>({id:K.payload.doc.id,defaultExercise:K.payload.doc.data().defaultExercise,defaultTags:K.payload.doc.data().defaultTags,description:K.payload.doc.data().description,exerciseImage:K.payload.doc.data().exerciseImage,name:K.payload.doc.data().name,userId:K.payload.doc.data().userId})))).subscribe(A=>{this.exercises=A,this.exercisesChanged.next([...this.exercises])})}addNewExercise(v){this.firestore.collection("exercises").add({...v})}updateExercise(v){this.firestore.collection("exercises").doc(v.id).update({name:v.name,description:v.description})}deleteExercise(v){this.firestore.collection("exercises").doc(v.id).delete()}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(Ph.ST),C.LFG(Ee.e))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})(),A_=(()=>{class R{constructor(v,A,K){this.activeModal=v,this.exercisesService=A,this.authService=K}onSubmit(v){this.exercisesService.addNewExercise({id:"",userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:v.value.exerciseName,description:v.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(P4.Kz),C.Y36(Vh),C.Y36(Ee.e))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-add-exercise-modal"]],decls:20,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name","ngModel","","placeholder","Enter name",1,"form-control"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","ngModel","","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(v,A){if(1&v){const K=C.EpF();C.TgZ(0,"div",0)(1,"h4",1),C._uU(2,"Create New Exercise"),C.qZA(),C.TgZ(3,"button",2),C.NdJ("click",function(){return A.activeModal.dismiss("Cross click")}),C.qZA()(),C.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),C._uU(9,"Name"),C.qZA(),C._UZ(10,"input",7,8),C.qZA(),C.TgZ(12,"div",5)(13,"label",9),C._uU(14,"Description"),C.qZA(),C._UZ(15,"textarea",10,11),C.qZA()()(),C.TgZ(17,"div",12)(18,"button",13),C.NdJ("click",function(){C.CHM(K);const Re=C.MAs(6);return C.KtG(A.onSubmit(Re))}),C._uU(19," Submit "),C.qZA()()}},dependencies:[si._Y,si.Fj,si.JJ,si.JL,si.On,si.F]}),R})();var U3=F(6895),I_=F(3919);let x_=(()=>{class R{constructor(v,A,K,ae){this.activeModal=v,this.exercisesService=A,this.authService=K,this.modalService=ae}onSubmit(v){this.exercisesService.updateExercise({id:this.exerciseToEdit.id,userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:v.value.exerciseName,description:v.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}onDelete(){const v=this.modalService.open(I_.z);v.componentInstance.message=`Are you sure you want to delete ${this.exerciseToEdit.name}?`,v.result.then(A=>{"Yes"===A&&(this.exercisesService.deleteExercise(this.exerciseToEdit),this.activeModal.close("Close click"))})}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(P4.Kz),C.Y36(Vh),C.Y36(Ee.e),C.Y36(P4.FF))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-edit-exercise-modal"]],inputs:{exerciseToEdit:"exerciseToEdit"},decls:22,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name",1,"form-control",3,"ngModel"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control",3,"ngModel"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(v,A){if(1&v){const K=C.EpF();C.TgZ(0,"div",0)(1,"h4",1),C._uU(2),C.qZA(),C.TgZ(3,"button",2),C.NdJ("click",function(){return A.activeModal.dismiss("Cross click")}),C.qZA()(),C.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),C._uU(9,"Name"),C.qZA(),C._UZ(10,"input",7,8),C.qZA(),C.TgZ(12,"div",5)(13,"label",9),C._uU(14,"Description"),C.qZA(),C._UZ(15,"textarea",10,11),C.qZA()()(),C.TgZ(17,"div",12)(18,"button",13),C.NdJ("click",function(){C.CHM(K);const Re=C.MAs(6);return C.KtG(A.onSubmit(Re))}),C._uU(19," Submit "),C.qZA(),C.TgZ(20,"button",14),C.NdJ("click",function(){return A.onDelete()}),C._uU(21," Delete Exercise "),C.qZA()()}2&v&&(C.xp6(2),C.hij("Edit ",A.exerciseToEdit.name,""),C.xp6(8),C.Q6J("ngModel",A.exerciseToEdit.name),C.xp6(5),C.Q6J("ngModel",A.exerciseToEdit.description))},dependencies:[si._Y,si.Fj,si.JJ,si.JL,si.On,si.F]}),R})(),Jv=(()=>{class R{constructor(v,A){this.firestore=v,this.authService=A,this.fitnessLogs=[],this.fitnessLogsChanged=new Dd.x}fetchLogs(v){const A=this.authService.userId;this.firestore.collection("fitnessLogs",K=>K.where("userId","==",A).where("parentId","==",v)).snapshotChanges().pipe((0,Ed.U)(K=>K.map(ae=>({id:ae.payload.doc.id,date:ae.payload.doc.data().date.toDate(),text:ae.payload.doc.data().text,userId:ae.payload.doc.data().userId,parentId:ae.payload.doc.data().parentId})))).subscribe(K=>{this.fitnessLogs=K,this.fitnessLogsChanged.next([...this.fitnessLogs])})}addNewLog(v){this.firestore.collection("fitnessLogs").add({...v})}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(Ph.ST),C.LFG(Ee.e))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),z_=(()=>{class R{constructor(v,A,K){this.activeModal=v,this.authService=A,this.fitnessLogsService=K}ngOnInit(){}onSubmit(v){const A=v.value.logDescription,K=this.getDate();this.fitnessLogsService.addNewLog({id:"",date:K,text:A,userId:this.authService.userId,parentId:this.parentItem.id}),this.activeModal.close("Close click")}getDate(){return new Date}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(P4.Kz),C.Y36(Ee.e),C.Y36(Jv))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-add-fitness-log-modal"]],inputs:{parentItem:"parentItem"},decls:15,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["id","logDescription","name","logDescription","ngModel","","rows","3","placeholder","Add your log here...",1,"form-control"],["logDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(v,A){if(1&v){const K=C.EpF();C.TgZ(0,"div",0)(1,"h4",1),C._uU(2),C.qZA(),C.TgZ(3,"button",2),C.NdJ("click",function(){return A.activeModal.dismiss("Cross click")}),C.qZA()(),C.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5),C._UZ(8,"textarea",6,7),C.qZA()()(),C.TgZ(10,"div",8)(11,"button",9),C.NdJ("click",function(){C.CHM(K);const Re=C.MAs(6);return C.KtG(A.onSubmit(Re))}),C._uU(12," Submit "),C.qZA(),C.TgZ(13,"button",10),C.NdJ("click",function(){return A.activeModal.close("No")}),C._uU(14," Cancel "),C.qZA()()}2&v&&(C.xp6(2),C.hij("Add New Log for ",A.parentItem.name,""))},dependencies:[si._Y,si.Fj,si.JJ,si.JL,si.On,si.F]}),R})();var Sd=F(3868);function L_(R,_){if(1&R&&(C.TgZ(0,"div")(1,"span",5),C._uU(2),C.ALo(3,"date"),C.qZA(),C.TgZ(4,"span",6),C._uU(5),C.qZA()()),2&R){const v=_.$implicit;C.xp6(2),C.hij("",C.lcZ(3,2,v.date)," -"),C.xp6(3),C.hij(" ",v.text,"")}}let O_=(()=>{class R{constructor(v,A,K){this.icon=v,this.modalService=A,this.fitnessLogsService=K,this.fitnessLogs=[],this.fitnessLogsLoaded=!1}ngOnInit(){this.fitnessLogsSubscription=this.fitnessLogsService.fitnessLogsChanged.subscribe(v=>{this.fitnessLogs=v,this.fitnessLogsLoaded=!0}),this.fitnessLogsService.fetchLogs(this.parentItem.id)}ngOnDestroy(){this.fitnessLogsSubscription.unsubscribe()}onClickAddLog(){this.modalService.open(z_).componentInstance.parentItem=this.parentItem,console.log(this.fitnessLogsService.fitnessLogs)}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(yu),C.Y36(P4.FF),C.Y36(Jv))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-fitness-logs"]],inputs:{parentItem:"parentItem"},decls:7,vars:2,consts:[[1,"logs-section"],[1,"title-section"],[1,"pencil-icon"],[3,"icon","click"],[4,"ngFor","ngForOf"],[1,"log-date"],[1,"log-text"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0)(1,"div",1)(2,"h5"),C._uU(3,"Logs"),C.qZA(),C.TgZ(4,"div",2)(5,"fa-icon",3),C.NdJ("click",function(){return A.onClickAddLog()}),C.qZA()()(),C.YNc(6,L_,6,4,"div",4),C.qZA()),2&v&&(C.xp6(5),C.Q6J("icon",A.icon.faPencilAlt),C.xp6(1),C.Q6J("ngForOf",A.fitnessLogs))},dependencies:[Sd.BN,U3.sg,U3.uU],styles:[".pencil-icon[_ngcontent-%COMP%]{cursor:pointer}.title-section[_ngcontent-%COMP%]{display:flex;gap:10px}"]}),R})(),R_=(()=>{class R{constructor(v){this.activeModal=v}ngOnInit(){}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(P4.Kz))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-view-exercise-modal"]],inputs:{exercise:"exercise"},decls:9,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"src"],[3,"parentItem"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0)(1,"h4",1),C._uU(2),C.qZA(),C.TgZ(3,"button",2),C.NdJ("click",function(){return A.activeModal.dismiss("Cross click")}),C.qZA()(),C.TgZ(4,"div",3),C._UZ(5,"img",4),C.TgZ(6,"p"),C._uU(7),C.qZA(),C._UZ(8,"app-fitness-logs",5),C.qZA()),2&v&&(C.xp6(2),C.Oqu(A.exercise.name),C.xp6(3),C.Q6J("src",A.exercise.exerciseImage,C.LSH),C.xp6(2),C.Oqu(A.exercise.description),C.xp6(1),C.Q6J("parentItem",A.exercise))},dependencies:[O_]}),R})(),k_=(()=>{class R{constructor(){}ngOnInit(){}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-exercise-tag"]],inputs:{tag:"tag"},decls:3,vars:1,consts:[[1,"tag"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0)(1,"span"),C._uU(2),C.qZA()()),2&v&&(C.xp6(2),C.Oqu(A.tag))},styles:[".tag[_ngcontent-%COMP%]{border:2px solid black;padding:2px}"]}),R})();function P_(R,_){1&R&&C._UZ(0,"app-exercise-tag",5),2&R&&C.Q6J("tag",_.$implicit)}let V_=(()=>{class R{constructor(v,A){this.icon=v,this.modalService=A}ngOnInit(){}onClickEditButton(){this.modalService.open(x_).componentInstance.exerciseToEdit=this.exercise}onClickExerciseItem(){this.modalService.open(R_).componentInstance.exercise=this.exercise}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(yu),C.Y36(P4.FF))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-exercise-library-item"]],inputs:{exercise:"exercise"},decls:7,vars:3,consts:[[1,"exercise-item-container",3,"click"],[1,"name-container"],[1,"tag-container"],[3,"tag",4,"ngFor","ngForOf"],[1,"edit-button",3,"icon","click"],[3,"tag"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0),C.NdJ("click",function(){return A.onClickExerciseItem()}),C.TgZ(1,"div",1)(2,"span"),C._uU(3),C.qZA()(),C.TgZ(4,"div",2),C.YNc(5,P_,1,1,"app-exercise-tag",3),C.qZA(),C.TgZ(6,"fa-icon",4),C.NdJ("click",function(ae){return A.onClickEditButton(),ae.stopPropagation()}),C.qZA()()),2&v&&(C.xp6(3),C.Oqu(A.exercise.name),C.xp6(2),C.Q6J("ngForOf",A.exercise.defaultTags),C.xp6(1),C.Q6J("icon",A.icon.faEdit))},dependencies:[Sd.BN,U3.sg,k_],styles:[".exercise-item-container[_ngcontent-%COMP%]{border:2px solid grey;width:90%;margin-left:auto;margin-right:auto;display:flex;gap:20%;padding:10px;cursor:pointer}.tag-container[_ngcontent-%COMP%]{display:flex;gap:5px}.edit-button[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;transition:background-color .5s;padding:2px;border-radius:20%}.edit-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.name-container[_ngcontent-%COMP%]{width:200px}"]}),R})(),H_=(()=>{class R{constructor(v){this.icon=v}ngOnInit(){}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(yu))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-add-button"]],decls:2,vars:1,consts:[[1,"add-button"],[3,"icon"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0),C._UZ(1,"fa-icon",1),C.qZA()),2&v&&(C.xp6(1),C.Q6J("icon",A.icon.faPlus))},dependencies:[Sd.BN],styles:[".add-button[_ngcontent-%COMP%]{border:2px solid black;width:70px;height:70px;display:flex;justify-content:center;align-items:center;border-radius:50%;cursor:pointer;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}fa-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),R})();function F_(R,_){1&R&&C._UZ(0,"app-exercise-library-item",7),2&R&&C.Q6J("exercise",_.$implicit)}let B_=(()=>{class R{constructor(v,A){this.exercisesService=v,this.modalService=A,this.defaultExercises=[],this.exercisesLoaded=!1}ngOnInit(){this.exercisesSubscription=this.exercisesService.exercisesChanged.subscribe(v=>{this.defaultExercises=v,this.exercisesLoaded=!0}),this.exercisesService.fetchExercises()}ngOnDestroy(){this.exercisesSubscription.unsubscribe()}onClickAddButton(){this.modalService.open(A_)}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(Vh),C.Y36(P4.FF))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-exercise-library"]],decls:9,vars:2,consts:[[3,"contentLoaded"],["pageHeader",""],["pageContent",""],[1,"exercises-container"],[3,"exercise",4,"ngFor","ngForOf"],[1,"add-button-container"],[3,"click"],[3,"exercise"]],template:function(v,A){1&v&&(C.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),C._uU(3,"Exercise Library"),C.qZA()(),C.TgZ(4,"div",2)(5,"div",3),C.YNc(6,F_,1,1,"app-exercise-library-item",4),C.qZA(),C.TgZ(7,"div",5)(8,"app-add-button",6),C.NdJ("click",function(){return A.onClickAddButton()}),C.qZA()()()()),2&v&&(C.Q6J("contentLoaded",A.exercisesLoaded),C.xp6(6),C.Q6J("ngForOf",A.defaultExercises))},dependencies:[Yv.z,U3.sg,V_,H_],styles:[".exercises-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;flex-direction:column}app-exercise-library-item[_ngcontent-%COMP%]{width:100%}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}"]}),R})();var U_=F(8996),j_=F(9646),G_=F(4408),$_=F(727);const Nd={schedule(R){let _=requestAnimationFrame,v=cancelAnimationFrame;const{delegate:A}=Nd;A&&(_=A.requestAnimationFrame,v=A.cancelAnimationFrame);const K=_(ae=>{v=void 0,R(ae)});return new $_.w0(()=>v?.(K))},requestAnimationFrame(...R){const{delegate:_}=Nd;return(_?.requestAnimationFrame||requestAnimationFrame)(...R)},cancelAnimationFrame(...R){const{delegate:_}=Nd;return(_?.cancelAnimationFrame||cancelAnimationFrame)(...R)},delegate:void 0};var W_=F(7565);const K_=new class q_ extends W_.v{flush(_){this._active=!0;const v=this._scheduled;this._scheduled=void 0;const{actions:A}=this;let K;_=_||A.shift();do{if(K=_.execute(_.state,_.delay))break}while((_=A[0])&&_.id===v&&A.shift());if(this._active=!1,K){for(;(_=A[0])&&_.id===v&&A.shift();)_.unsubscribe();throw K}}}(class Z_ extends G_.o{constructor(_,v){super(_,v),this.scheduler=_,this.work=v}requestAsyncId(_,v,A=0){return null!==A&&A>0?super.requestAsyncId(_,v,A):(_.actions.push(this),_._scheduled||(_._scheduled=Nd.requestAnimationFrame(()=>_.flush(void 0))))}recycleAsyncId(_,v,A=0){var K;if(null!=A?A>0:this.delay>0)return super.recycleAsyncId(_,v,A);const{actions:ae}=_;null!=v&&(null===(K=ae[ae.length-1])||void 0===K?void 0:K.id)!==v&&(Nd.cancelAnimationFrame(v),_._scheduled=void 0)}});var Y_=F(1135),J_=F(9770),Q_=F(9751),X_=F(8505),eb=F(3151),tb=F(5363),Qv=F(9300),Xv=F(3900),nb=F(2722);const ib=["container"],_g=new C.OlP("LottieOptions");let bg=(()=>{class R{constructor(v,A){this.ngZone=v,this.options=A,this.player$=function rb(R,_){const v=R();return(v instanceof Promise?(0,U_.D)(v).pipe((0,Ed.U)(K=>K.default||K)):(0,j_.of)(v)).pipe((0,X_.b)(K=>K.useWebWorker(_)),(0,eb.d)({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,tb.Q)(K_))}loadAnimation(v){return this.player$.pipe((0,Ed.U)(A=>this.createAnimationItem(A,v)))}resolveOptions(v,A){return Object.assign({container:A,renderer:"svg",loop:!0,autoplay:!0},v)}createAnimationItem(v,A){return this.ngZone.runOutsideAngular(()=>v.loadAnimation(A))}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(C.R0b),C.LFG(_g))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),sb=(()=>{class R{constructor(v,A,K){this.ngZone=v,this.platformId=A,this.animationLoader=K,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new Dd.x,this.loadAnimation$=new Dd.x,this.animationItem$=new Y_.X(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(v,A){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([v,A]))}getAnimationItem(){return(0,J_.P)(()=>this.animationItem$).pipe((0,Qv.h)(v=>null!==v))}awaitAnimationItemAndStartListening(v){return this.getAnimationItem().pipe((0,Xv.w)(A=>new Q_.y(K=>{this.ngZone.runOutsideAngular(()=>{A.addEventListener(v,ae=>{this.ngZone.runOutsideAngular(()=>{K.next(ae)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,Qv.h)(([A])=>(0,U3.NF)(this.platformId)&&void 0!==A.options)).pipe((0,Xv.w)(([A,K])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(A.options.currentValue,K)))),(0,nb.R)(this.destroy$)).subscribe(A=>{this.ngZone.run(()=>this.animationItem$.next(A))})}destroyAnimation(){const v=this.animationItem$.getValue();null!==v&&(v.destroy(),this.animationItem$.next(null))}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(C.R0b),C.Y36(C.Lbi),C.Y36(bg))},R.\u0275dir=C.lG2({type:R,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),R})(),ey=(()=>{class R extends sb{constructor(v,A,K){super(v,A,K),this.width=null,this.height=null,this.container=null}ngOnChanges(v){super.loadAnimation(v,this.container.nativeElement)}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(C.R0b),C.Y36(C.Lbi),C.Y36(bg))},R.\u0275cmp=C.Xpm({type:R,selectors:[["ng-lottie"]],viewQuery:function(v,A){if(1&v&&C.Gf(ib,7),2&v){let K;C.iGM(K=C.CRH())&&(A.container=K.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[C.qOj,C.TTD,C.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(v,A){1&v&&C._UZ(0,"div",0,1),2&v&&(C.Udp("width",A.width||"100%")("height",A.height||"100%"),C.Q6J("ngStyle",A.styles)("ngClass",A.containerClass))},dependencies:[U3.ez,U3.mk,U3.PC],encapsulation:2,changeDetection:0}),R})(),ob=(()=>{class R{static forRoot(v){return{ngModule:R,providers:[{provide:_g,useValue:v}]}}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=C.oAB({type:R}),R.\u0275inj=C.cJS({imports:[ey]}),R})(),cb=(()=>{class R{constructor(){this.animationTypes=new Map([["kidAgainAnimation","https://assets1.lottiefiles.com/private_files/lf30_x8jhuhr4.json"],["fitnessAnimation","https://assets2.lottiefiles.com/packages/lf20_ju61m9x9.json"],["timeManagementAnimation","https://assets1.lottiefiles.com/packages/lf20_i7ooqm2q.json"],["financeAnimation","https://assets2.lottiefiles.com/packages/lf20_qxdztkhq.json"]]),this.animationSize="medium",this.animationCreated=new C.vpe,this.animationPath=""}ngOnInit(){this.animationPath=this.getAnimationPath(this.animationKey),this.options={path:this.animationPath}}getAnimationPath(v){const A=this.animationTypes.get(v);if(null!=A)return A;throw new Error(`The animation ${v} does not exist \u{1f62d}`)}onAnimate(v){this.animationCreated.emit(v)}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-animation"]],inputs:{animationKey:"animationKey",animationSize:"animationSize"},outputs:{animationCreated:"animationCreated"},decls:2,vars:1,consts:[[1,"lottie-animation","mt-10"],[3,"options","animationCreated"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0)(1,"ng-lottie",1),C.NdJ("animationCreated",function(ae){return A.onAnimate(ae)})("animationCreated",function(ae){return A.onAnimate(ae)}),C.qZA()()),2&v&&(C.xp6(1),C.Q6J("options",A.options))},dependencies:[ey],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:relative}"]}),R})();const lb=[{path:"",component:(()=>{class R{constructor(v){this.router=v}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(X.F0))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-home-page"]],decls:29,vars:0,consts:[[1,"home-page-section"],[1,"home-page-section-title"],["animationKey","kidAgainAnimation"],[1,"login-or-sign-up-buttons-container"],["type","button",1,"btn","btn-primary",3,"click"],["animationKey","fitnessAnimation"],["animationKey","timeManagementAnimation"],["animationKey","financeAnimation"]],template:function(v,A){1&v&&(C.TgZ(0,"div",0)(1,"div",1)(2,"h1"),C._uU(3,"An app to make adulting easier"),C.qZA(),C.TgZ(4,"h1"),C._uU(5,"So you can be a kid again"),C.qZA()(),C._UZ(6,"app-animation",2),C.TgZ(7,"div",3)(8,"button",4),C.NdJ("click",function(){return A.router.navigate(["/login"])}),C._uU(9," Login "),C.qZA(),C.TgZ(10,"button",4),C.NdJ("click",function(){return A.router.navigate(["/signup"])}),C._uU(11," Sign Up "),C.qZA()()(),C.TgZ(12,"div",0)(13,"div",1)(14,"h1"),C._uU(15,"Reach your fitness goals"),C.qZA()(),C._UZ(16,"app-animation",5),C.qZA(),C.TgZ(17,"div",0)(18,"div",1)(19,"h1"),C._uU(20,"Impress your mom"),C.qZA(),C.TgZ(21,"h1"),C._uU(22,"with your time management skills"),C.qZA()(),C._UZ(23,"app-animation",6),C.qZA(),C.TgZ(24,"div",0)(25,"div",1)(26,"h1"),C._uU(27,"Be your financial best"),C.qZA()(),C._UZ(28,"app-animation",7),C.qZA())},dependencies:[cb],styles:[".home-page-section-title[_ngcontent-%COMP%]{margin:auto;width:90%}app-animation[_ngcontent-%COMP%]{max-width:500px}.login-or-sign-up-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),R})()},{path:"login",component:S_},{path:"signup",component:N_},{path:"exercise-library",component:B_,canActivate:[Ie]},{path:"coming-soon",component:T_,canActivate:[Ie]},{path:"shopping-list-page",loadChildren:()=>F.e(941).then(F.bind(F,5941)).then(R=>R.ShoppingListModule)}];let ub=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=C.oAB({type:R}),R.\u0275inj=C.cJS({providers:[Ie],imports:[X.Bz.forRoot(lb),X.Bz]}),R})();function db(R,_){if(1&R){const v=C.EpF();C.TgZ(0,"li",9)(1,"a",10),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return C.KtG(K.isMenuCollapsed=!0)}),C._uU(2,"Login "),C.qZA()()}2&R&&(C.xp6(1),C.Q6J("routerLink","login"))}function fb(R,_){if(1&R){const v=C.EpF();C.TgZ(0,"li",9)(1,"a",10),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return C.KtG(K.isMenuCollapsed=!0)}),C._uU(2,"Sign Up "),C.qZA()()}2&R&&(C.xp6(1),C.Q6J("routerLink","signup"))}function hb(R,_){if(1&R&&(C.TgZ(0,"a",17),C._uU(1),C.qZA()),2&R){const v=_.ngIf;C.xp6(1),C.hij(" ",v.email," ")}}function pb(R,_){if(1&R){const v=C.EpF();C.TgZ(0,"li",9)(1,"div",11)(2,"span",12),C._UZ(3,"fa-icon",13),C.YNc(4,hb,2,1,"a",14),C.ALo(5,"async"),C.qZA(),C.TgZ(6,"div",15)(7,"button",16),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return K.isMenuCollapsed=!0,C.KtG(K.authService.logout())}),C._uU(8," Sign Out "),C.qZA()()()()}if(2&R){const v=C.oxw();C.xp6(3),C.Q6J("icon",v.icon.faUser),C.xp6(1),C.Q6J("ngIf",C.lcZ(5,2,v.authService.user$))}}const Td=function(){return["active"]};function mb(R,_){if(1&R){const v=C.EpF();C.TgZ(0,"li",9)(1,"div",11)(2,"span",12),C._UZ(3,"fa-icon",13),C.TgZ(4,"a",17),C._uU(5,"Fitness"),C.qZA()(),C.TgZ(6,"div",15)(7,"button",18),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return C.KtG(K.isMenuCollapsed=!0)}),C._uU(8," Exercises "),C.qZA(),C.TgZ(9,"button",18),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return C.KtG(K.isMenuCollapsed=!0)}),C._uU(10," Workouts "),C.qZA(),C.TgZ(11,"button",18),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return C.KtG(K.isMenuCollapsed=!0)}),C._uU(12," Plans "),C.qZA()()()()}if(2&R){const v=C.oxw();C.xp6(3),C.Q6J("icon",v.icon.faDumbbell),C.xp6(4),C.Q6J("routerLink","exercise-library")("routerLinkActive",C.DdM(7,Td)),C.xp6(2),C.Q6J("routerLink","coming-soon")("routerLinkActive",C.DdM(8,Td)),C.xp6(2),C.Q6J("routerLink","coming-soon")("routerLinkActive",C.DdM(9,Td))}}function gb(R,_){if(1&R){const v=C.EpF();C.TgZ(0,"li",9)(1,"div",11)(2,"span",12),C._UZ(3,"fa-icon",13),C.TgZ(4,"a",17),C._uU(5,"Tool Belt"),C.qZA()(),C.TgZ(6,"div",15)(7,"button",18),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return C.KtG(K.isMenuCollapsed=!0)}),C._uU(8," Shopping List "),C.qZA(),C.TgZ(9,"button",18),C.NdJ("click",function(){C.CHM(v);const K=C.oxw();return C.KtG(K.isMenuCollapsed=!0)}),C._uU(10," Meal Planner "),C.qZA()()()()}if(2&R){const v=C.oxw();C.xp6(3),C.Q6J("icon",v.icon.faTools),C.xp6(4),C.Q6J("routerLink","shopping-list-page")("routerLinkActive",C.DdM(5,Td)),C.xp6(2),C.Q6J("routerLink","coming-soon")("routerLinkActive",C.DdM(6,Td))}}let vb=(()=>{class R{constructor(v,A){this.icon=v,this.authService=A,this.isAuth=!1,this.isMenuCollapsed=!0}ngOnInit(){this.authSubscription=this.authService.authChange.subscribe(v=>{this.isAuth=v})}ngOnDestroy(){this.authSubscription.unsubscribe()}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(yu),C.Y36(Ee.e))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-nav"]],decls:16,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","mb-3"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],[1,"three","navbar-toggler"],["id","hamburger-1",1,"hamburger",3,"click"],[1,"line"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["class","nav-item active",4,"ngIf"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink","click"],["ngbDropdown",""],[1,"nav-link-container"],[3,"icon"],["class","nav-link","style","cursor: pointer","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],["ngbDropdownToggle","",1,"nav-link",2,"cursor","pointer"],["ngbDropdownItem","",3,"routerLink","routerLinkActive","click"]],template:function(v,A){1&v&&(C.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),C._uU(3,"Adultery"),C.qZA(),C.TgZ(4,"div",3)(5,"div",4),C.NdJ("click",function(){return A.isMenuCollapsed=!A.isMenuCollapsed}),C._UZ(6,"span",5)(7,"span",5)(8,"span",5),C.qZA()(),C.TgZ(9,"div",6)(10,"ul",7),C.YNc(11,db,3,1,"li",8),C.YNc(12,fb,3,1,"li",8),C.YNc(13,pb,9,4,"li",8),C.YNc(14,mb,13,10,"li",8),C.YNc(15,gb,11,7,"li",8),C.qZA()()()()),2&v&&(C.xp6(2),C.Q6J("routerLink","."),C.xp6(3),C.ekj("is-active",!A.isMenuCollapsed),C.xp6(4),C.Q6J("ngbCollapse",A.isMenuCollapsed),C.xp6(2),C.Q6J("ngIf",!A.isAuth),C.xp6(1),C.Q6J("ngIf",!A.isAuth),C.xp6(1),C.Q6J("ngIf",A.isAuth),C.xp6(1),C.Q6J("ngIf",A.isAuth),C.xp6(1),C.Q6J("ngIf",A.isAuth))},dependencies:[X.rH,X.yS,X.Od,Sd.BN,P4._D,P4.jt,P4.iD,P4.Vi,P4.TH,P4.M2,U3.O5,U3.Ov],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.navbar[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{background-color:#000;min-height:90px}.navbar-logo-img[_ngcontent-%COMP%]{max-height:75px}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%], .a[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]:active, .navbar-brand[_ngcontent-%COMP%]:focus{color:#ababab}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item.active[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]:hover{background-color:#000;color:#ababab}.navbar-toggler[_ngcontent-%COMP%]{color:#fff}.hamburger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:50px;height:5px;background-color:#ecf0f1;display:block;margin:8px auto;transition:all .3s ease-in-out}.hamburger[_ngcontent-%COMP%]:hover{cursor:pointer}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(13px) rotate(45deg)}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-13px) rotate(-45deg)}.nav-link-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media (min-width: 650px){fa-icon[_ngcontent-%COMP%]{display:none}}']}),R})();const yb=[[["","pageHeader",""]],[["","pageContent",""]],[["","pageFooter",""]]],_b=["[pageHeader]","[pageContent]","[pageFooter]"];let bb=(()=>{class R{constructor(){}ngOnInit(){}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-page-wrapper"]],ngContentSelectors:_b,decls:7,vars:0,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer"]],template:function(v,A){1&v&&(C.F$t(yb),C.TgZ(0,"div",0)(1,"div",1),C.Hsn(2),C.qZA(),C.TgZ(3,"div",2),C.Hsn(4,1),C.qZA(),C.TgZ(5,"div",3),C.Hsn(6,2),C.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll;margin-top:90px;display:flex;justify-content:center}.adultery-page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;overflow:hidden}']}),R})(),Cb=(()=>{class R{constructor(v,A){this.authService=A,this.title="adultery"}ngOnInit(){this.authService.iniAuthListener()}}return R.\u0275fac=function(v){return new(v||R)(C.Y36(Ph.ST),C.Y36(Ee.e))},R.\u0275cmp=C.Xpm({type:R,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page-wrapper"],[1,"desktop-header"],["pageHeader","",1,"header"],["pageContent","",1,"content"],["pageFooter","",1,"footer"]],template:function(v,A){1&v&&(C.TgZ(0,"app-page-wrapper",0),C._UZ(1,"div",1),C.TgZ(2,"div",2),C._UZ(3,"app-nav"),C.qZA(),C.TgZ(4,"div",3),C._UZ(5,"router-outlet"),C.qZA(),C._UZ(6,"div",4),C.qZA())},dependencies:[X.lC,vb,bb],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}']}),R})();var Mb=F(529);let wb=(()=>{class R{constructor(v){this.firestore=v,this.defaultQuotes=[],this.quotesChanged=new Dd.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,Ed.U)(v=>v.map(A=>({id:A.payload.doc.id,...A.payload.doc.data()})))).subscribe(v=>{this.defaultQuotes=v,this.quotesChanged.next([...this.defaultQuotes])})}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(Ph.ST))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})();class ty{}const _c="*";function ny(R,_=null){return{type:2,steps:R,options:_}}function iy(R){return{type:6,styles:R,offset:null}}function ry(R){Promise.resolve().then(R)}class Ad{constructor(_=0,v=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_+v}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ry(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_=>_()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_){this._position=this.totalTime?_*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_){const v="start"==_?this._onStartFns:this._onDoneFns;v.forEach(A=>A()),v.length=0}}class sy{constructor(_){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_;let v=0,A=0,K=0;const ae=this.players.length;0==ae?ry(()=>this._onFinish()):this.players.forEach(Re=>{Re.onDone(()=>{++v==ae&&this._onFinish()}),Re.onDestroy(()=>{++A==ae&&this._onDestroy()}),Re.onStart(()=>{++K==ae&&this._onStart()})}),this.totalTime=this.players.reduce((Re,Ue)=>Math.max(Re,Ue.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this.players.forEach(_=>_.init())}onStart(_){this._onStartFns.push(_)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_=>_()),this._onStartFns=[])}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_=>_.play())}pause(){this.players.forEach(_=>_.pause())}restart(){this.players.forEach(_=>_.restart())}finish(){this._onFinish(),this.players.forEach(_=>_.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_=>_.destroy()),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this.players.forEach(_=>_.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_){const v=_*this.totalTime;this.players.forEach(A=>{const K=A.totalTime?Math.min(1,v/A.totalTime):1;A.setPosition(K)})}getPosition(){const _=this.players.reduce((v,A)=>null===v||A.totalTime>v.totalTime?A:v,null);return null!=_?_.getPosition():0}beforeDestroy(){this.players.forEach(_=>{_.beforeDestroy&&_.beforeDestroy()})}triggerCallback(_){const v="start"==_?this._onStartFns:this._onDoneFns;v.forEach(A=>A()),v.length=0}}function oy(R){return new C.vHH(3e3,!1)}function sC(){return typeof window<"u"&&typeof window.document<"u"}function Mg(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function L8(R){switch(R.length){case 0:return new Ad;case 1:return R[0];default:return new sy(R)}}function ay(R,_,v,A,K=new Map,ae=new Map){const Re=[],Ue=[];let Ct=-1,Ut=null;if(A.forEach(j1=>{const Q1=j1.get("offset"),F2=Q1==Ct,E2=F2&&Ut||new Map;j1.forEach((Wn,c2)=>{let Xi=c2,Hr=Wn;if("offset"!==c2)switch(Xi=_.normalizePropertyName(Xi,Re),Hr){case"!":Hr=K.get(c2);break;case _c:Hr=ae.get(c2);break;default:Hr=_.normalizeStyleValue(c2,Xi,Hr,Re)}E2.set(Xi,Hr)}),F2||Ue.push(E2),Ut=E2,Ct=Q1}),Re.length)throw function Wb(R){return new C.vHH(3502,!1)}();return Ue}function wg(R,_,v,A){switch(_){case"start":R.onStart(()=>A(v&&Dg(v,"start",R)));break;case"done":R.onDone(()=>A(v&&Dg(v,"done",R)));break;case"destroy":R.onDestroy(()=>A(v&&Dg(v,"destroy",R)))}}function Dg(R,_,v){const ae=Eg(R.element,R.triggerName,R.fromState,R.toState,_||R.phaseName,v.totalTime??R.totalTime,!!v.disabled),Re=R._data;return null!=Re&&(ae._data=Re),ae}function Eg(R,_,v,A,K="",ae=0,Re){return{element:R,triggerName:_,fromState:v,toState:A,phaseName:K,totalTime:ae,disabled:!!Re}}function u3(R,_,v){let A=R.get(_);return A||R.set(_,A=v),A}function cy(R){const _=R.indexOf(":");return[R.substring(1,_),R.slice(_+1)]}let Sg=(R,_)=>!1,ly=(R,_,v)=>[],uy=null;function Ng(R){const _=R.parentNode||R.host;return _===uy?null:_}(Mg()||typeof Element<"u")&&(sC()?(uy=(()=>document.documentElement)(),Sg=(R,_)=>{for(;_;){if(_===R)return!0;_=Ng(_)}return!1}):Sg=(R,_)=>R.contains(_),ly=(R,_,v)=>{if(v)return Array.from(R.querySelectorAll(_));const A=R.querySelector(_);return A?[A]:[]});let fl=null,dy=!1;const fy=Sg,hy=ly;let py=(()=>{class R{validateStyleProperty(v){return function aC(R){fl||(fl=function cC(){return typeof document<"u"?document.body:null}()||{},dy=!!fl.style&&"WebkitAppearance"in fl.style);let _=!0;return fl.style&&!function oC(R){return"ebkit"==R.substring(1,6)}(R)&&(_=R in fl.style,!_&&dy&&(_="Webkit"+R.charAt(0).toUpperCase()+R.slice(1)in fl.style)),_}(v)}matchesElement(v,A){return!1}containsElement(v,A){return fy(v,A)}getParentElement(v){return Ng(v)}query(v,A,K){return hy(v,A,K)}computeStyle(v,A,K){return K||""}animate(v,A,K,ae,Re,Ue=[],Ct){return new Ad(K,ae)}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})(),Tg=(()=>{class R{}return R.NOOP=new py,R})();const Ag="ng-enter",Hh="ng-leave",Fh="ng-trigger",Bh=".ng-trigger",gy="ng-animating",Ig=".ng-animating";function bc(R){if("number"==typeof R)return R;const _=R.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:xg(parseFloat(_[1]),_[2])}function xg(R,_){return"s"===_?1e3*R:R}function Uh(R,_,v){return R.hasOwnProperty("duration")?R:function dC(R,_,v){let K,ae=0,Re="";if("string"==typeof R){const Ue=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ue)return _.push(oy()),{duration:0,delay:0,easing:""};K=xg(parseFloat(Ue[1]),Ue[2]);const Ct=Ue[3];null!=Ct&&(ae=xg(parseFloat(Ct),Ue[4]));const Ut=Ue[5];Ut&&(Re=Ut)}else K=R;if(!v){let Ue=!1,Ct=_.length;K<0&&(_.push(function Eb(){return new C.vHH(3100,!1)}()),Ue=!0),ae<0&&(_.push(function Sb(){return new C.vHH(3101,!1)}()),Ue=!0),Ue&&_.splice(Ct,0,oy())}return{duration:K,delay:ae,easing:Re}}(R,_,v)}function Id(R,_={}){return Object.keys(R).forEach(v=>{_[v]=R[v]}),_}function vy(R){const _=new Map;return Object.keys(R).forEach(v=>{_.set(v,R[v])}),_}function O8(R,_=new Map,v){if(v)for(let[A,K]of v)_.set(A,K);for(let[A,K]of R)_.set(A,K);return _}function _y(R,_,v){return v?_+":"+v+";":""}function by(R){let _="";for(let v=0;v<R.style.length;v++){const A=R.style.item(v);_+=_y(0,A,R.style.getPropertyValue(A))}for(const v in R.style)R.style.hasOwnProperty(v)&&!v.startsWith("_")&&(_+=_y(0,mC(v),R.style[v]));R.setAttribute("style",_)}function D0(R,_,v){R.style&&(_.forEach((A,K)=>{const ae=Lg(K);v&&!v.has(K)&&v.set(K,R.style[ae]),R.style[ae]=A}),Mg()&&by(R))}function hl(R,_){R.style&&(_.forEach((v,A)=>{const K=Lg(A);R.style[K]=""}),Mg()&&by(R))}function xd(R){return Array.isArray(R)?1==R.length?R[0]:ny(R):R}const zg=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cy(R){let _=[];if("string"==typeof R){let v;for(;v=zg.exec(R);)_.push(v[1]);zg.lastIndex=0}return _}function zd(R,_,v){const A=R.toString(),K=A.replace(zg,(ae,Re)=>{let Ue=_[Re];return null==Ue&&(v.push(function Tb(R){return new C.vHH(3003,!1)}()),Ue=""),Ue.toString()});return K==A?R:K}function jh(R){const _=[];let v=R.next();for(;!v.done;)_.push(v.value),v=R.next();return _}const pC=/-+([a-z0-9])/g;function Lg(R){return R.replace(pC,(..._)=>_[1].toUpperCase())}function mC(R){return R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function d3(R,_,v){switch(_.type){case 7:return R.visitTrigger(_,v);case 0:return R.visitState(_,v);case 1:return R.visitTransition(_,v);case 2:return R.visitSequence(_,v);case 3:return R.visitGroup(_,v);case 4:return R.visitAnimate(_,v);case 5:return R.visitKeyframes(_,v);case 6:return R.visitStyle(_,v);case 8:return R.visitReference(_,v);case 9:return R.visitAnimateChild(_,v);case 10:return R.visitAnimateRef(_,v);case 11:return R.visitQuery(_,v);case 12:return R.visitStagger(_,v);default:throw function Ab(R){return new C.vHH(3004,!1)}()}}function My(R,_){return window.getComputedStyle(R)[_]}function CC(R,_){const v=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(A=>function MC(R,_,v){if(":"==R[0]){const Ct=function wC(R,_){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,A)=>parseFloat(A)>parseFloat(v);case":decrement":return(v,A)=>parseFloat(A)<parseFloat(v);default:return _.push(function jb(R){return new C.vHH(3016,!1)}()),"* => *"}}(R,v);if("function"==typeof Ct)return void _.push(Ct);R=Ct}const A=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return v.push(function Ub(R){return new C.vHH(3015,!1)}()),_;const K=A[1],ae=A[2],Re=A[3];_.push(wy(K,Re));"<"==ae[0]&&!("*"==K&&"*"==Re)&&_.push(wy(Re,K))}(A,v,_)):v.push(R),v}const Wh=new Set(["true","1"]),qh=new Set(["false","0"]);function wy(R,_){const v=Wh.has(R)||qh.has(R),A=Wh.has(_)||qh.has(_);return(K,ae)=>{let Re="*"==R||R==K,Ue="*"==_||_==ae;return!Re&&v&&"boolean"==typeof K&&(Re=K?Wh.has(R):qh.has(R)),!Ue&&A&&"boolean"==typeof ae&&(Ue=ae?Wh.has(_):qh.has(_)),Re&&Ue}}const DC=new RegExp("s*:selfs*,?","g");function Og(R,_,v,A){return new EC(R).build(_,v,A)}class EC{constructor(_){this._driver=_}build(_,v,A){const K=new TC(v);return this._resetContextStyleTimingState(K),d3(this,xd(_),K)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,v){let A=v.queryCount=0,K=v.depCount=0;const ae=[],Re=[];return"@"==_.name.charAt(0)&&v.errors.push(function xb(){return new C.vHH(3006,!1)}()),_.definitions.forEach(Ue=>{if(this._resetContextStyleTimingState(v),0==Ue.type){const Ct=Ue,Ut=Ct.name;Ut.toString().split(/\s*,\s*/).forEach(j1=>{Ct.name=j1,ae.push(this.visitState(Ct,v))}),Ct.name=Ut}else if(1==Ue.type){const Ct=this.visitTransition(Ue,v);A+=Ct.queryCount,K+=Ct.depCount,Re.push(Ct)}else v.errors.push(function zb(){return new C.vHH(3007,!1)}())}),{type:7,name:_.name,states:ae,transitions:Re,queryCount:A,depCount:K,options:null}}visitState(_,v){const A=this.visitStyle(_.styles,v),K=_.options&&_.options.params||null;if(A.containsDynamicStyles){const ae=new Set,Re=K||{};A.styles.forEach(Ue=>{Ue instanceof Map&&Ue.forEach(Ct=>{Cy(Ct).forEach(Ut=>{Re.hasOwnProperty(Ut)||ae.add(Ut)})})}),ae.size&&(jh(ae.values()),v.errors.push(function Lb(R,_){return new C.vHH(3008,!1)}()))}return{type:0,name:_.name,style:A,options:K?{params:K}:null}}visitTransition(_,v){v.queryCount=0,v.depCount=0;const A=d3(this,xd(_.animation),v);return{type:1,matchers:CC(_.expr,v.errors),animation:A,queryCount:v.queryCount,depCount:v.depCount,options:pl(_.options)}}visitSequence(_,v){return{type:2,steps:_.steps.map(A=>d3(this,A,v)),options:pl(_.options)}}visitGroup(_,v){const A=v.currentTime;let K=0;const ae=_.steps.map(Re=>{v.currentTime=A;const Ue=d3(this,Re,v);return K=Math.max(K,v.currentTime),Ue});return v.currentTime=K,{type:3,steps:ae,options:pl(_.options)}}visitAnimate(_,v){const A=function IC(R,_){if(R.hasOwnProperty("duration"))return R;if("number"==typeof R)return Rg(Uh(R,_).duration,0,"");const v=R;if(v.split(/\s+/).some(ae=>"{"==ae.charAt(0)&&"{"==ae.charAt(1))){const ae=Rg(0,0,"");return ae.dynamic=!0,ae.strValue=v,ae}const K=Uh(v,_);return Rg(K.duration,K.delay,K.easing)}(_.timings,v.errors);v.currentAnimateTimings=A;let K,ae=_.styles?_.styles:iy({});if(5==ae.type)K=this.visitKeyframes(ae,v);else{let Re=_.styles,Ue=!1;if(!Re){Ue=!0;const Ut={};A.easing&&(Ut.easing=A.easing),Re=iy(Ut)}v.currentTime+=A.duration+A.delay;const Ct=this.visitStyle(Re,v);Ct.isEmptyStep=Ue,K=Ct}return v.currentAnimateTimings=null,{type:4,timings:A,style:K,options:null}}visitStyle(_,v){const A=this._makeStyleAst(_,v);return this._validateStyleAst(A,v),A}_makeStyleAst(_,v){const A=[],K=Array.isArray(_.styles)?_.styles:[_.styles];for(let Ue of K)"string"==typeof Ue?Ue===_c?A.push(Ue):v.errors.push(new C.vHH(3002,!1)):A.push(vy(Ue));let ae=!1,Re=null;return A.forEach(Ue=>{if(Ue instanceof Map&&(Ue.has("easing")&&(Re=Ue.get("easing"),Ue.delete("easing")),!ae))for(let Ct of Ue.values())if(Ct.toString().indexOf("{{")>=0){ae=!0;break}}),{type:6,styles:A,easing:Re,offset:_.offset,containsDynamicStyles:ae,options:null}}_validateStyleAst(_,v){const A=v.currentAnimateTimings;let K=v.currentTime,ae=v.currentTime;A&&ae>0&&(ae-=A.duration+A.delay),_.styles.forEach(Re=>{"string"!=typeof Re&&Re.forEach((Ue,Ct)=>{const Ut=v.collectedStyles.get(v.currentQuerySelector),j1=Ut.get(Ct);let Q1=!0;j1&&(ae!=K&&ae>=j1.startTime&&K<=j1.endTime&&(v.errors.push(function Rb(R,_,v,A,K){return new C.vHH(3010,!1)}()),Q1=!1),ae=j1.startTime),Q1&&Ut.set(Ct,{startTime:ae,endTime:K}),v.options&&function hC(R,_,v){const A=_.params||{},K=Cy(R);K.length&&K.forEach(ae=>{A.hasOwnProperty(ae)||v.push(function Nb(R){return new C.vHH(3001,!1)}())})}(Ue,v.options,v.errors)})})}visitKeyframes(_,v){const A={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function kb(){return new C.vHH(3011,!1)}()),A;let ae=0;const Re=[];let Ue=!1,Ct=!1,Ut=0;const j1=_.steps.map(Hr=>{const Ao=this._makeStyleAst(Hr,v);let l4=null!=Ao.offset?Ao.offset:function AC(R){if("string"==typeof R)return null;let _=null;if(Array.isArray(R))R.forEach(v=>{if(v instanceof Map&&v.has("offset")){const A=v;_=parseFloat(A.get("offset")),A.delete("offset")}});else if(R instanceof Map&&R.has("offset")){const v=R;_=parseFloat(v.get("offset")),v.delete("offset")}return _}(Ao.styles),ta=0;return null!=l4&&(ae++,ta=Ao.offset=l4),Ct=Ct||ta<0||ta>1,Ue=Ue||ta<Ut,Ut=ta,Re.push(ta),Ao});Ct&&v.errors.push(function Pb(){return new C.vHH(3012,!1)}()),Ue&&v.errors.push(function Vb(){return new C.vHH(3200,!1)}());const Q1=_.steps.length;let F2=0;ae>0&&ae<Q1?v.errors.push(function Hb(){return new C.vHH(3202,!1)}()):0==ae&&(F2=1/(Q1-1));const E2=Q1-1,Wn=v.currentTime,c2=v.currentAnimateTimings,Xi=c2.duration;return j1.forEach((Hr,Ao)=>{const l4=F2>0?Ao==E2?1:F2*Ao:Re[Ao],ta=l4*Xi;v.currentTime=Wn+c2.delay+ta,c2.duration=ta,this._validateStyleAst(Hr,v),Hr.offset=l4,A.styles.push(Hr)}),A}visitReference(_,v){return{type:8,animation:d3(this,xd(_.animation),v),options:pl(_.options)}}visitAnimateChild(_,v){return v.depCount++,{type:9,options:pl(_.options)}}visitAnimateRef(_,v){return{type:10,animation:this.visitReference(_.animation,v),options:pl(_.options)}}visitQuery(_,v){const A=v.currentQuerySelector,K=_.options||{};v.queryCount++,v.currentQuery=_;const[ae,Re]=function SC(R){const _=!!R.split(/\s*,\s*/).find(v=>":self"==v);return _&&(R=R.replace(DC,"")),R=R.replace(/@\*/g,Bh).replace(/@\w+/g,v=>Bh+"-"+v.slice(1)).replace(/:animating/g,Ig),[R,_]}(_.selector);v.currentQuerySelector=A.length?A+" "+ae:ae,u3(v.collectedStyles,v.currentQuerySelector,new Map);const Ue=d3(this,xd(_.animation),v);return v.currentQuery=null,v.currentQuerySelector=A,{type:11,selector:ae,limit:K.limit||0,optional:!!K.optional,includeSelf:Re,animation:Ue,originalSelector:_.selector,options:pl(_.options)}}visitStagger(_,v){v.currentQuery||v.errors.push(function Fb(){return new C.vHH(3013,!1)}());const A="full"===_.timings?{duration:0,delay:0,easing:"full"}:Uh(_.timings,v.errors,!0);return{type:12,animation:d3(this,xd(_.animation),v),timings:A,options:null}}}class TC{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pl(R){return R?(R=Id(R)).params&&(R.params=function NC(R){return R?Id(R):null}(R.params)):R={},R}function Rg(R,_,v){return{duration:R,delay:_,easing:v}}function kg(R,_,v,A,K,ae,Re=null,Ue=!1){return{type:1,element:R,keyframes:_,preStyleProps:v,postStyleProps:A,duration:K,delay:ae,totalTime:K+ae,easing:Re,subTimeline:Ue}}class Kh{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,v){let A=this._map.get(_);A||this._map.set(_,A=[]),A.push(...v)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const LC=new RegExp(":enter","g"),RC=new RegExp(":leave","g");function Pg(R,_,v,A,K,ae=new Map,Re=new Map,Ue,Ct,Ut=[]){return(new kC).buildKeyframes(R,_,v,A,K,ae,Re,Ue,Ct,Ut)}class kC{buildKeyframes(_,v,A,K,ae,Re,Ue,Ct,Ut,j1=[]){Ut=Ut||new Kh;const Q1=new Vg(_,v,Ut,K,ae,j1,[]);Q1.options=Ct;const F2=Ct.delay?bc(Ct.delay):0;Q1.currentTimeline.delayNextStep(F2),Q1.currentTimeline.setStyles([Re],null,Q1.errors,Ct),d3(this,A,Q1);const E2=Q1.timelines.filter(Wn=>Wn.containsAnimation());if(E2.length&&Ue.size){let Wn;for(let c2=E2.length-1;c2>=0;c2--){const Xi=E2[c2];if(Xi.element===v){Wn=Xi;break}}Wn&&!Wn.allowOnlyTimelineStyles()&&Wn.setStyles([Ue],null,Q1.errors,Ct)}return E2.length?E2.map(Wn=>Wn.buildKeyframes()):[kg(v,[],[],[],0,F2,"",!1)]}visitTrigger(_,v){}visitState(_,v){}visitTransition(_,v){}visitAnimateChild(_,v){const A=v.subInstructions.get(v.element);if(A){const K=v.createSubContext(_.options),ae=v.currentTimeline.currentTime,Re=this._visitSubInstructions(A,K,K.options);ae!=Re&&v.transformIntoNewTimeline(Re)}v.previousNode=_}visitAnimateRef(_,v){const A=v.createSubContext(_.options);A.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],v,A),this.visitReference(_.animation,A),v.transformIntoNewTimeline(A.currentTimeline.currentTime),v.previousNode=_}_applyAnimationRefDelays(_,v,A){for(const K of _){const ae=K?.delay;if(ae){const Re="number"==typeof ae?ae:bc(zd(ae,K?.params??{},v.errors));A.delayNextStep(Re)}}}_visitSubInstructions(_,v,A){let ae=v.currentTimeline.currentTime;const Re=null!=A.duration?bc(A.duration):null,Ue=null!=A.delay?bc(A.delay):null;return 0!==Re&&_.forEach(Ct=>{const Ut=v.appendInstructionToTimeline(Ct,Re,Ue);ae=Math.max(ae,Ut.duration+Ut.delay)}),ae}visitReference(_,v){v.updateOptions(_.options,!0),d3(this,_.animation,v),v.previousNode=_}visitSequence(_,v){const A=v.subContextCount;let K=v;const ae=_.options;if(ae&&(ae.params||ae.delay)&&(K=v.createSubContext(ae),K.transformIntoNewTimeline(),null!=ae.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=Yh);const Re=bc(ae.delay);K.delayNextStep(Re)}_.steps.length&&(_.steps.forEach(Re=>d3(this,Re,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>A&&K.transformIntoNewTimeline()),v.previousNode=_}visitGroup(_,v){const A=[];let K=v.currentTimeline.currentTime;const ae=_.options&&_.options.delay?bc(_.options.delay):0;_.steps.forEach(Re=>{const Ue=v.createSubContext(_.options);ae&&Ue.delayNextStep(ae),d3(this,Re,Ue),K=Math.max(K,Ue.currentTimeline.currentTime),A.push(Ue.currentTimeline)}),A.forEach(Re=>v.currentTimeline.mergeTimelineCollectedStyles(Re)),v.transformIntoNewTimeline(K),v.previousNode=_}_visitTiming(_,v){if(_.dynamic){const A=_.strValue;return Uh(v.params?zd(A,v.params,v.errors):A,v.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,v){const A=v.currentAnimateTimings=this._visitTiming(_.timings,v),K=v.currentTimeline;A.delay&&(v.incrementTime(A.delay),K.snapshotCurrentStyles());const ae=_.style;5==ae.type?this.visitKeyframes(ae,v):(v.incrementTime(A.duration),this.visitStyle(ae,v),K.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=_}visitStyle(_,v){const A=v.currentTimeline,K=v.currentAnimateTimings;!K&&A.hasCurrentStyleProperties()&&A.forwardFrame();const ae=K&&K.easing||_.easing;_.isEmptyStep?A.applyEmptyStep(ae):A.setStyles(_.styles,ae,v.errors,v.options),v.previousNode=_}visitKeyframes(_,v){const A=v.currentAnimateTimings,K=v.currentTimeline.duration,ae=A.duration,Ue=v.createSubContext().currentTimeline;Ue.easing=A.easing,_.styles.forEach(Ct=>{Ue.forwardTime((Ct.offset||0)*ae),Ue.setStyles(Ct.styles,Ct.easing,v.errors,v.options),Ue.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(Ue),v.transformIntoNewTimeline(K+ae),v.previousNode=_}visitQuery(_,v){const A=v.currentTimeline.currentTime,K=_.options||{},ae=K.delay?bc(K.delay):0;ae&&(6===v.previousNode.type||0==A&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Yh);let Re=A;const Ue=v.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!K.optional,v.errors);v.currentQueryTotal=Ue.length;let Ct=null;Ue.forEach((Ut,j1)=>{v.currentQueryIndex=j1;const Q1=v.createSubContext(_.options,Ut);ae&&Q1.delayNextStep(ae),Ut===v.element&&(Ct=Q1.currentTimeline),d3(this,_.animation,Q1),Q1.currentTimeline.applyStylesToKeyframe(),Re=Math.max(Re,Q1.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(Re),Ct&&(v.currentTimeline.mergeTimelineCollectedStyles(Ct),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=_}visitStagger(_,v){const A=v.parentContext,K=v.currentTimeline,ae=_.timings,Re=Math.abs(ae.duration),Ue=Re*(v.currentQueryTotal-1);let Ct=Re*v.currentQueryIndex;switch(ae.duration<0?"reverse":ae.easing){case"reverse":Ct=Ue-Ct;break;case"full":Ct=A.currentStaggerTime}const j1=v.currentTimeline;Ct&&j1.delayNextStep(Ct);const Q1=j1.currentTime;d3(this,_.animation,v),v.previousNode=_,A.currentStaggerTime=K.currentTime-Q1+(K.startTime-A.currentTimeline.startTime)}}const Yh={};class Vg{constructor(_,v,A,K,ae,Re,Ue,Ct){this._driver=_,this.element=v,this.subInstructions=A,this._enterClassName=K,this._leaveClassName=ae,this.errors=Re,this.timelines=Ue,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ct||new Jh(this._driver,v,0),Ue.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,v){if(!_)return;const A=_;let K=this.options;null!=A.duration&&(K.duration=bc(A.duration)),null!=A.delay&&(K.delay=bc(A.delay));const ae=A.params;if(ae){let Re=K.params;Re||(Re=this.options.params={}),Object.keys(ae).forEach(Ue=>{(!v||!Re.hasOwnProperty(Ue))&&(Re[Ue]=zd(ae[Ue],Re,this.errors))})}}_copyOptions(){const _={};if(this.options){const v=this.options.params;if(v){const A=_.params={};Object.keys(v).forEach(K=>{A[K]=v[K]})}}return _}createSubContext(_=null,v,A){const K=v||this.element,ae=new Vg(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,A||0));return ae.previousNode=this.previousNode,ae.currentAnimateTimings=this.currentAnimateTimings,ae.options=this._copyOptions(),ae.updateOptions(_),ae.currentQueryIndex=this.currentQueryIndex,ae.currentQueryTotal=this.currentQueryTotal,ae.parentContext=this,this.subContextCount++,ae}transformIntoNewTimeline(_){return this.previousNode=Yh,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,v,A){const K={duration:v??_.duration,delay:this.currentTimeline.currentTime+(A??0)+_.delay,easing:""},ae=new PC(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,K,_.stretchStartingKeyframe);return this.timelines.push(ae),K}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,v,A,K,ae,Re){let Ue=[];if(K&&Ue.push(this.element),_.length>0){_=(_=_.replace(LC,"."+this._enterClassName)).replace(RC,"."+this._leaveClassName);let Ut=this._driver.query(this.element,_,1!=A);0!==A&&(Ut=A<0?Ut.slice(Ut.length+A,Ut.length):Ut.slice(0,A)),Ue.push(...Ut)}return!ae&&0==Ue.length&&Re.push(function Bb(R){return new C.vHH(3014,!1)}()),Ue}}class Jh{constructor(_,v,A,K){this._driver=_,this.element=v,this.startTime=A,this._elementTimelineStylesLookup=K,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+_),v&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,v){return this.applyStylesToKeyframe(),new Jh(this._driver,_,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,v){this._localTimelineStyles.set(_,v),this._globalTimelineStyles.set(_,v),this._styleSummary.set(_,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[v,A]of this._globalTimelineStyles)this._backFill.set(v,A||_c),this._currentKeyframe.set(v,_c);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,v,A,K){v&&this._previousKeyframe.set("easing",v);const ae=K&&K.params||{},Re=function VC(R,_){const v=new Map;let A;return R.forEach(K=>{if("*"===K){A=A||_.keys();for(let ae of A)v.set(ae,_c)}else O8(K,v)}),v}(_,this._globalTimelineStyles);for(let[Ue,Ct]of Re){const Ut=zd(Ct,ae,A);this._pendingStyles.set(Ue,Ut),this._localTimelineStyles.has(Ue)||this._backFill.set(Ue,this._globalTimelineStyles.get(Ue)??_c),this._updateStyle(Ue,Ut)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,v)=>{this._currentKeyframe.set(v,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,_)}))}snapshotCurrentStyles(){for(let[_,v]of this._localTimelineStyles)this._pendingStyles.set(_,v),this._updateStyle(_,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let v in this._currentKeyframe)_.push(v);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((v,A)=>{const K=this._styleSummary.get(A);(!K||v.time>K.time)&&this._updateStyle(A,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,v=new Set,A=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((Ue,Ct)=>{const Ut=O8(Ue,new Map,this._backFill);Ut.forEach((j1,Q1)=>{"!"===j1?_.add(Q1):j1===_c&&v.add(Q1)}),A||Ut.set("offset",Ct/this.duration),K.push(Ut)});const ae=_.size?jh(_.values()):[],Re=v.size?jh(v.values()):[];if(A){const Ue=K[0],Ct=new Map(Ue);Ue.set("offset",0),Ct.set("offset",1),K=[Ue,Ct]}return kg(this.element,K,ae,Re,this.duration,this.startTime,this.easing,!1)}}class PC extends Jh{constructor(_,v,A,K,ae,Re,Ue=!1){super(_,v,Re.delay),this.keyframes=A,this.preStyleProps=K,this.postStyleProps=ae,this._stretchStartingKeyframe=Ue,this.timings={duration:Re.duration,delay:Re.delay,easing:Re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:v,duration:A,easing:K}=this.timings;if(this._stretchStartingKeyframe&&v){const ae=[],Re=A+v,Ue=v/Re,Ct=O8(_[0]);Ct.set("offset",0),ae.push(Ct);const Ut=O8(_[0]);Ut.set("offset",Sy(Ue)),ae.push(Ut);const j1=_.length-1;for(let Q1=1;Q1<=j1;Q1++){let F2=O8(_[Q1]);const E2=F2.get("offset");F2.set("offset",Sy((v+E2*A)/Re)),ae.push(F2)}A=Re,v=0,K="",_=ae}return kg(this.element,_,this.preStyleProps,this.postStyleProps,A,v,K,!0)}}function Sy(R,_=3){const v=Math.pow(10,_-1);return Math.round(R*v)/v}class Hg{}const HC=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class FC extends Hg{normalizePropertyName(_,v){return Lg(_)}normalizeStyleValue(_,v,A,K){let ae="";const Re=A.toString().trim();if(HC.has(v)&&0!==A&&"0"!==A)if("number"==typeof A)ae="px";else{const Ue=A.match(/^[+-]?[\d\.]+([a-z]*)$/);Ue&&0==Ue[1].length&&K.push(function Ib(R,_){return new C.vHH(3005,!1)}())}return Re+ae}}function Ny(R,_,v,A,K,ae,Re,Ue,Ct,Ut,j1,Q1,F2){return{type:0,element:R,triggerName:_,isRemovalTransition:K,fromState:v,fromStyles:ae,toState:A,toStyles:Re,timelines:Ue,queriedElements:Ct,preStyleProps:Ut,postStyleProps:j1,totalTime:Q1,errors:F2}}const Fg={};class Ty{constructor(_,v,A){this._triggerName=_,this.ast=v,this._stateStyles=A}match(_,v,A,K){return function BC(R,_,v,A,K){return R.some(ae=>ae(_,v,A,K))}(this.ast.matchers,_,v,A,K)}buildStyles(_,v,A){let K=this._stateStyles.get("*");return void 0!==_&&(K=this._stateStyles.get(_?.toString())||K),K?K.buildStyles(v,A):new Map}build(_,v,A,K,ae,Re,Ue,Ct,Ut,j1){const Q1=[],F2=this.ast.options&&this.ast.options.params||Fg,Wn=this.buildStyles(A,Ue&&Ue.params||Fg,Q1),c2=Ct&&Ct.params||Fg,Xi=this.buildStyles(K,c2,Q1),Hr=new Set,Ao=new Map,l4=new Map,ta="void"===K,bu={params:UC(c2,F2),delay:this.ast.options?.delay},E0=j1?[]:Pg(_,v,this.ast.animation,ae,Re,Wn,Xi,bu,Ut,Q1);let u4=0;if(E0.forEach(Mc=>{u4=Math.max(Mc.duration+Mc.delay,u4)}),Q1.length)return Ny(v,this._triggerName,A,K,ta,Wn,Xi,[],[],Ao,l4,u4,Q1);E0.forEach(Mc=>{const wc=Mc.element,jy=u3(Ao,wc,new Set);Mc.preStyleProps.forEach(ml=>jy.add(ml));const Od=u3(l4,wc,new Set);Mc.postStyleProps.forEach(ml=>Od.add(ml)),wc!==v&&Hr.add(wc)});const Cc=jh(Hr.values());return Ny(v,this._triggerName,A,K,ta,Wn,Xi,E0,Cc,Ao,l4,u4)}}function UC(R,_){const v=Id(_);for(const A in R)R.hasOwnProperty(A)&&null!=R[A]&&(v[A]=R[A]);return v}class jC{constructor(_,v,A){this.styles=_,this.defaultParams=v,this.normalizer=A}buildStyles(_,v){const A=new Map,K=Id(this.defaultParams);return Object.keys(_).forEach(ae=>{const Re=_[ae];null!==Re&&(K[ae]=Re)}),this.styles.styles.forEach(ae=>{"string"!=typeof ae&&ae.forEach((Re,Ue)=>{Re&&(Re=zd(Re,K,v));const Ct=this.normalizer.normalizePropertyName(Ue,v);Re=this.normalizer.normalizeStyleValue(Ue,Ct,Re,v),A.set(Ct,Re)})}),A}}class $C{constructor(_,v,A){this.name=_,this.ast=v,this._normalizer=A,this.transitionFactories=[],this.states=new Map,v.states.forEach(K=>{this.states.set(K.name,new jC(K.style,K.options&&K.options.params||{},A))}),Ay(this.states,"true","1"),Ay(this.states,"false","0"),v.transitions.forEach(K=>{this.transitionFactories.push(new Ty(_,K,this.states))}),this.fallbackTransition=function ZC(R,_,v){return new Ty(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Re,Ue)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,v,A,K){return this.transitionFactories.find(Re=>Re.match(_,v,A,K))||null}matchStyles(_,v,A){return this.fallbackTransition.buildStyles(_,v,A)}}function Ay(R,_,v){R.has(_)?R.has(v)||R.set(v,R.get(_)):R.has(v)&&R.set(_,R.get(v))}const WC=new Kh;class qC{constructor(_,v,A){this.bodyNode=_,this._driver=v,this._normalizer=A,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,v){const A=[],ae=Og(this._driver,v,A,[]);if(A.length)throw function qb(R){return new C.vHH(3503,!1)}();this._animations.set(_,ae)}_buildPlayer(_,v,A){const K=_.element,ae=ay(0,this._normalizer,0,_.keyframes,v,A);return this._driver.animate(K,ae,_.duration,_.delay,_.easing,[],!0)}create(_,v,A={}){const K=[],ae=this._animations.get(_);let Re;const Ue=new Map;if(ae?(Re=Pg(this._driver,v,ae,Ag,Hh,new Map,new Map,A,WC,K),Re.forEach(j1=>{const Q1=u3(Ue,j1.element,new Map);j1.postStyleProps.forEach(F2=>Q1.set(F2,null))})):(K.push(function Kb(){return new C.vHH(3300,!1)}()),Re=[]),K.length)throw function Yb(R){return new C.vHH(3504,!1)}();Ue.forEach((j1,Q1)=>{j1.forEach((F2,E2)=>{j1.set(E2,this._driver.computeStyle(Q1,E2,_c))})});const Ut=L8(Re.map(j1=>{const Q1=Ue.get(j1.element);return this._buildPlayer(j1,new Map,Q1)}));return this._playersById.set(_,Ut),Ut.onDestroy(()=>this.destroy(_)),this.players.push(Ut),Ut}destroy(_){const v=this._getPlayer(_);v.destroy(),this._playersById.delete(_);const A=this.players.indexOf(v);A>=0&&this.players.splice(A,1)}_getPlayer(_){const v=this._playersById.get(_);if(!v)throw function Jb(R){return new C.vHH(3301,!1)}();return v}listen(_,v,A,K){const ae=Eg(v,"","","");return wg(this._getPlayer(_),A,ae,K),()=>{}}command(_,v,A,K){if("register"==A)return void this.register(_,K[0]);if("create"==A)return void this.create(_,v,K[0]||{});const ae=this._getPlayer(_);switch(A){case"play":ae.play();break;case"pause":ae.pause();break;case"reset":ae.reset();break;case"restart":ae.restart();break;case"finish":ae.finish();break;case"init":ae.init();break;case"setPosition":ae.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(_)}}}const Iy="ng-animate-queued",Bg="ng-animate-disabled",XC=[],xy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},j3="__ng_removed";class Ug{constructor(_,v=""){this.namespaceId=v;const A=_&&_.hasOwnProperty("value");if(this.value=function rM(R){return R??null}(A?_.value:_),A){const ae=Id(_);delete ae.value,this.options=ae}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(_){const v=_.params;if(v){const A=this.options.params;Object.keys(v).forEach(K=>{null==A[K]&&(A[K]=v[K])})}}}const Ld="void",jg=new Ug(Ld);class tM{constructor(_,v,A){this.id=_,this.hostElement=v,this._engine=A,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,G3(v,this._hostClassName)}listen(_,v,A,K){if(!this._triggers.has(v))throw function Qb(R,_){return new C.vHH(3302,!1)}();if(null==A||0==A.length)throw function Xb(R){return new C.vHH(3303,!1)}();if(!function sM(R){return"start"==R||"done"==R}(A))throw function eC(R,_){return new C.vHH(3400,!1)}();const ae=u3(this._elementListeners,_,[]),Re={name:v,phase:A,callback:K};ae.push(Re);const Ue=u3(this._engine.statesByElement,_,new Map);return Ue.has(v)||(G3(_,Fh),G3(_,Fh+"-"+v),Ue.set(v,jg)),()=>{this._engine.afterFlush(()=>{const Ct=ae.indexOf(Re);Ct>=0&&ae.splice(Ct,1),this._triggers.has(v)||Ue.delete(v)})}}register(_,v){return!this._triggers.has(_)&&(this._triggers.set(_,v),!0)}_getTrigger(_){const v=this._triggers.get(_);if(!v)throw function tC(R){return new C.vHH(3401,!1)}();return v}trigger(_,v,A,K=!0){const ae=this._getTrigger(v),Re=new Gg(this.id,v,_);let Ue=this._engine.statesByElement.get(_);Ue||(G3(_,Fh),G3(_,Fh+"-"+v),this._engine.statesByElement.set(_,Ue=new Map));let Ct=Ue.get(v);const Ut=new Ug(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&Ct&&Ut.absorbOptions(Ct.options),Ue.set(v,Ut),Ct||(Ct=jg),Ut.value!==Ld&&Ct.value===Ut.value){if(!function cM(R,_){const v=Object.keys(R),A=Object.keys(_);if(v.length!=A.length)return!1;for(let K=0;K<v.length;K++){const ae=v[K];if(!_.hasOwnProperty(ae)||R[ae]!==_[ae])return!1}return!0}(Ct.params,Ut.params)){const c2=[],Xi=ae.matchStyles(Ct.value,Ct.params,c2),Hr=ae.matchStyles(Ut.value,Ut.params,c2);c2.length?this._engine.reportError(c2):this._engine.afterFlush(()=>{hl(_,Xi),D0(_,Hr)})}return}const F2=u3(this._engine.playersByElement,_,[]);F2.forEach(c2=>{c2.namespaceId==this.id&&c2.triggerName==v&&c2.queued&&c2.destroy()});let E2=ae.matchTransition(Ct.value,Ut.value,_,Ut.params),Wn=!1;if(!E2){if(!K)return;E2=ae.fallbackTransition,Wn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:v,transition:E2,fromState:Ct,toState:Ut,player:Re,isFallbackTransition:Wn}),Wn||(G3(_,Iy),Re.onStart(()=>{_u(_,Iy)})),Re.onDone(()=>{let c2=this.players.indexOf(Re);c2>=0&&this.players.splice(c2,1);const Xi=this._engine.playersByElement.get(_);if(Xi){let Hr=Xi.indexOf(Re);Hr>=0&&Xi.splice(Hr,1)}}),this.players.push(Re),F2.push(Re),Re}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(v=>v.delete(_)),this._elementListeners.forEach((v,A)=>{this._elementListeners.set(A,v.filter(K=>K.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const v=this._engine.playersByElement.get(_);v&&(v.forEach(A=>A.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,v){const A=this._engine.driver.query(_,Bh,!0);A.forEach(K=>{if(K[j3])return;const ae=this._engine.fetchNamespacesByElement(K);ae.size?ae.forEach(Re=>Re.triggerLeaveAnimation(K,v,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>A.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(_,v,A,K){const ae=this._engine.statesByElement.get(_),Re=new Map;if(ae){const Ue=[];if(ae.forEach((Ct,Ut)=>{if(Re.set(Ut,Ct.value),this._triggers.has(Ut)){const j1=this.trigger(_,Ut,Ld,K);j1&&Ue.push(j1)}}),Ue.length)return this._engine.markElementAsRemoved(this.id,_,!0,v,Re),A&&L8(Ue).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const v=this._elementListeners.get(_),A=this._engine.statesByElement.get(_);if(v&&A){const K=new Set;v.forEach(ae=>{const Re=ae.name;if(K.has(Re))return;K.add(Re);const Ct=this._triggers.get(Re).fallbackTransition,Ut=A.get(Re)||jg,j1=new Ug(Ld),Q1=new Gg(this.id,Re,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:Re,transition:Ct,fromState:Ut,toState:j1,player:Q1,isFallbackTransition:!0})})}}removeNode(_,v){const A=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,v),this.triggerLeaveAnimation(_,v,!0))return;let K=!1;if(A.totalAnimations){const ae=A.players.length?A.playersByQueriedElement.get(_):[];if(ae&&ae.length)K=!0;else{let Re=_;for(;Re=Re.parentNode;)if(A.statesByElement.get(Re)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(_),K)A.markElementAsRemoved(this.id,_,!1,v);else{const ae=_[j3];(!ae||ae===xy)&&(A.afterFlush(()=>this.clearElementCache(_)),A.destroyInnerAnimations(_),A._onRemovalComplete(_,v))}}insertNode(_,v){G3(_,this._hostClassName)}drainQueuedTransitions(_){const v=[];return this._queue.forEach(A=>{const K=A.player;if(K.destroyed)return;const ae=A.element,Re=this._elementListeners.get(ae);Re&&Re.forEach(Ue=>{if(Ue.name==A.triggerName){const Ct=Eg(ae,A.triggerName,A.fromState.value,A.toState.value);Ct._data=_,wg(A.player,Ue.phase,Ct,Ue.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):v.push(A)}),this._queue=[],v.sort((A,K)=>{const ae=A.transition.ast.depCount,Re=K.transition.ast.depCount;return 0==ae||0==Re?ae-Re:this._engine.driver.containsElement(A.element,K.element)?1:-1})}destroy(_){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let v=!1;return this._elementListeners.has(_)&&(v=!0),v=!!this._queue.find(A=>A.element===_)||v,v}}class nM{constructor(_,v,A){this.bodyNode=_,this.driver=v,this._normalizer=A,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,ae)=>{}}_onRemovalComplete(_,v){this.onRemovalComplete(_,v)}get queuedPlayers(){const _=[];return this._namespaceList.forEach(v=>{v.players.forEach(A=>{A.queued&&_.push(A)})}),_}createNamespace(_,v){const A=new tM(_,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(A,v):(this.newHostElements.set(v,A),this.collectEnterElement(v)),this._namespaceLookup[_]=A}_balanceNamespaceList(_,v){const A=this._namespaceList,K=this.namespacesByHostElement;if(A.length-1>=0){let Re=!1,Ue=this.driver.getParentElement(v);for(;Ue;){const Ct=K.get(Ue);if(Ct){const Ut=A.indexOf(Ct);A.splice(Ut+1,0,_),Re=!0;break}Ue=this.driver.getParentElement(Ue)}Re||A.unshift(_)}else A.push(_);return K.set(v,_),_}register(_,v){let A=this._namespaceLookup[_];return A||(A=this.createNamespace(_,v)),A}registerTrigger(_,v,A){let K=this._namespaceLookup[_];K&&K.register(v,A)&&this.totalAnimations++}destroy(_,v){if(!_)return;const A=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(A.hostElement),delete this._namespaceLookup[_];const K=this._namespaceList.indexOf(A);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>A.destroy(v))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const v=new Set,A=this.statesByElement.get(_);if(A)for(let K of A.values())if(K.namespaceId){const ae=this._fetchNamespace(K.namespaceId);ae&&v.add(ae)}return v}trigger(_,v,A,K){if(Qh(v)){const ae=this._fetchNamespace(_);if(ae)return ae.trigger(v,A,K),!0}return!1}insertNode(_,v,A,K){if(!Qh(v))return;const ae=v[j3];if(ae&&ae.setForRemoval){ae.setForRemoval=!1,ae.setForMove=!0;const Re=this.collectedLeaveElements.indexOf(v);Re>=0&&this.collectedLeaveElements.splice(Re,1)}if(_){const Re=this._fetchNamespace(_);Re&&Re.insertNode(v,A)}K&&this.collectEnterElement(v)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,v){v?this.disabledNodes.has(_)||(this.disabledNodes.add(_),G3(_,Bg)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),_u(_,Bg))}removeNode(_,v,A,K){if(Qh(v)){const ae=_?this._fetchNamespace(_):null;if(ae?ae.removeNode(v,K):this.markElementAsRemoved(_,v,!1,K),A){const Re=this.namespacesByHostElement.get(v);Re&&Re.id!==_&&Re.removeNode(v,K)}}else this._onRemovalComplete(v,K)}markElementAsRemoved(_,v,A,K,ae){this.collectedLeaveElements.push(v),v[j3]={namespaceId:_,setForRemoval:K,hasAnimation:A,removedBeforeQueried:!1,previousTriggersValues:ae}}listen(_,v,A,K,ae){return Qh(v)?this._fetchNamespace(_).listen(v,A,K,ae):()=>{}}_buildInstruction(_,v,A,K,ae){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,A,K,_.fromState.options,_.toState.options,v,ae)}destroyInnerAnimations(_){let v=this.driver.query(_,Bh,!0);v.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(_,Ig,!0),v.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(_){const v=this.playersByElement.get(_);v&&v.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(_){const v=this.playersByQueriedElement.get(_);v&&v.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return L8(this.players).onDone(()=>_());_()})}processLeaveNode(_){const v=_[j3];if(v&&v.setForRemoval){if(_[j3]=xy,v.namespaceId){this.destroyInnerAnimations(_);const A=this._fetchNamespace(v.namespaceId);A&&A.clearElementCache(_)}this._onRemovalComplete(_,v.setForRemoval)}_.classList?.contains(Bg)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(_=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,K)=>this._balanceNamespaceList(A,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)G3(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{v=this._flushAnimations(A,_)}finally{for(let K=0;K<A.length;K++)A[K]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],v.length?L8(v).onDone(()=>{A.forEach(K=>K())}):A.forEach(K=>K())}}reportError(_){throw function nC(R){return new C.vHH(3402,!1)}()}_flushAnimations(_,v){const A=new Kh,K=[],ae=new Map,Re=[],Ue=new Map,Ct=new Map,Ut=new Map,j1=new Set;this.disabledNodes.forEach(un=>{j1.add(un);const zn=this.driver.query(un,".ng-animate-queued",!0);for(let Jn=0;Jn<zn.length;Jn++)j1.add(zn[Jn])});const Q1=this.bodyNode,F2=Array.from(this.statesByElement.keys()),E2=Oy(F2,this.collectedEnterElements),Wn=new Map;let c2=0;E2.forEach((un,zn)=>{const Jn=Ag+c2++;Wn.set(zn,Jn),un.forEach(yi=>G3(yi,Jn))});const Xi=[],Hr=new Set,Ao=new Set;for(let un=0;un<this.collectedLeaveElements.length;un++){const zn=this.collectedLeaveElements[un],Jn=zn[j3];Jn&&Jn.setForRemoval&&(Xi.push(zn),Hr.add(zn),Jn.hasAnimation?this.driver.query(zn,".ng-star-inserted",!0).forEach(yi=>Hr.add(yi)):Ao.add(zn))}const l4=new Map,ta=Oy(F2,Array.from(Hr));ta.forEach((un,zn)=>{const Jn=Hh+c2++;l4.set(zn,Jn),un.forEach(yi=>G3(yi,Jn))}),_.push(()=>{E2.forEach((un,zn)=>{const Jn=Wn.get(zn);un.forEach(yi=>_u(yi,Jn))}),ta.forEach((un,zn)=>{const Jn=l4.get(zn);un.forEach(yi=>_u(yi,Jn))}),Xi.forEach(un=>{this.processLeaveNode(un)})});const bu=[],E0=[];for(let un=this._namespaceList.length-1;un>=0;un--)this._namespaceList[un].drainQueuedTransitions(v).forEach(Jn=>{const yi=Jn.player,Io=Jn.element;if(bu.push(yi),this.collectedEnterElements.length){const Ia=Io[j3];if(Ia&&Ia.setForMove){if(Ia.previousTriggersValues&&Ia.previousTriggersValues.has(Jn.triggerName)){const gl=Ia.previousTriggersValues.get(Jn.triggerName),$3=this.statesByElement.get(Jn.element);if($3&&$3.has(Jn.triggerName)){const tp=$3.get(Jn.triggerName);tp.value=gl,$3.set(Jn.triggerName,tp)}}return void yi.destroy()}}const S0=!Q1||!this.driver.containsElement(Q1,Io),f3=l4.get(Io),R8=Wn.get(Io),Ds=this._buildInstruction(Jn,A,R8,f3,S0);if(Ds.errors&&Ds.errors.length)return void E0.push(Ds);if(S0)return yi.onStart(()=>hl(Io,Ds.fromStyles)),yi.onDestroy(()=>D0(Io,Ds.toStyles)),void K.push(yi);if(Jn.isFallbackTransition)return yi.onStart(()=>hl(Io,Ds.fromStyles)),yi.onDestroy(()=>D0(Io,Ds.toStyles)),void K.push(yi);const Zy=[];Ds.timelines.forEach(Ia=>{Ia.stretchStartingKeyframe=!0,this.disabledNodes.has(Ia.element)||Zy.push(Ia)}),Ds.timelines=Zy,A.append(Io,Ds.timelines),Re.push({instruction:Ds,player:yi,element:Io}),Ds.queriedElements.forEach(Ia=>u3(Ue,Ia,[]).push(yi)),Ds.preStyleProps.forEach((Ia,gl)=>{if(Ia.size){let $3=Ct.get(gl);$3||Ct.set(gl,$3=new Set),Ia.forEach((tp,Wg)=>$3.add(Wg))}}),Ds.postStyleProps.forEach((Ia,gl)=>{let $3=Ut.get(gl);$3||Ut.set(gl,$3=new Set),Ia.forEach((tp,Wg)=>$3.add(Wg))})});if(E0.length){const un=[];E0.forEach(zn=>{un.push(function iC(R,_){return new C.vHH(3505,!1)}())}),bu.forEach(zn=>zn.destroy()),this.reportError(un)}const u4=new Map,Cc=new Map;Re.forEach(un=>{const zn=un.element;A.has(zn)&&(Cc.set(zn,zn),this._beforeAnimationBuild(un.player.namespaceId,un.instruction,u4))}),K.forEach(un=>{const zn=un.element;this._getPreviousPlayers(zn,!1,un.namespaceId,un.triggerName,null).forEach(yi=>{u3(u4,zn,[]).push(yi),yi.destroy()})});const Mc=Xi.filter(un=>ky(un,Ct,Ut)),wc=new Map;Ly(wc,this.driver,Ao,Ut,_c).forEach(un=>{ky(un,Ct,Ut)&&Mc.push(un)});const Od=new Map;E2.forEach((un,zn)=>{Ly(Od,this.driver,new Set(un),Ct,"!")}),Mc.forEach(un=>{const zn=wc.get(un),Jn=Od.get(un);wc.set(un,new Map([...Array.from(zn?.entries()??[]),...Array.from(Jn?.entries()??[])]))});const ml=[],Gy=[],$y={};Re.forEach(un=>{const{element:zn,player:Jn,instruction:yi}=un;if(A.has(zn)){if(j1.has(zn))return Jn.onDestroy(()=>D0(zn,yi.toStyles)),Jn.disabled=!0,Jn.overrideTotalTime(yi.totalTime),void K.push(Jn);let Io=$y;if(Cc.size>1){let f3=zn;const R8=[];for(;f3=f3.parentNode;){const Ds=Cc.get(f3);if(Ds){Io=Ds;break}R8.push(f3)}R8.forEach(Ds=>Cc.set(Ds,Io))}const S0=this._buildAnimation(Jn.namespaceId,yi,u4,ae,Od,wc);if(Jn.setRealPlayer(S0),Io===$y)ml.push(Jn);else{const f3=this.playersByElement.get(Io);f3&&f3.length&&(Jn.parentPlayer=L8(f3)),K.push(Jn)}}else hl(zn,yi.fromStyles),Jn.onDestroy(()=>D0(zn,yi.toStyles)),Gy.push(Jn),j1.has(zn)&&K.push(Jn)}),Gy.forEach(un=>{const zn=ae.get(un.element);if(zn&&zn.length){const Jn=L8(zn);un.setRealPlayer(Jn)}}),K.forEach(un=>{un.parentPlayer?un.syncPlayerEvents(un.parentPlayer):un.destroy()});for(let un=0;un<Xi.length;un++){const zn=Xi[un],Jn=zn[j3];if(_u(zn,Hh),Jn&&Jn.hasAnimation)continue;let yi=[];if(Ue.size){let S0=Ue.get(zn);S0&&S0.length&&yi.push(...S0);let f3=this.driver.query(zn,Ig,!0);for(let R8=0;R8<f3.length;R8++){let Ds=Ue.get(f3[R8]);Ds&&Ds.length&&yi.push(...Ds)}}const Io=yi.filter(S0=>!S0.destroyed);Io.length?oM(this,zn,Io):this.processLeaveNode(zn)}return Xi.length=0,ml.forEach(un=>{this.players.push(un),un.onDone(()=>{un.destroy();const zn=this.players.indexOf(un);this.players.splice(zn,1)}),un.play()}),ml}elementContainsData(_,v){let A=!1;const K=v[j3];return K&&K.setForRemoval&&(A=!0),this.playersByElement.has(v)&&(A=!0),this.playersByQueriedElement.has(v)&&(A=!0),this.statesByElement.has(v)&&(A=!0),this._fetchNamespace(_).elementContainsData(v)||A}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,v,A,K,ae){let Re=[];if(v){const Ue=this.playersByQueriedElement.get(_);Ue&&(Re=Ue)}else{const Ue=this.playersByElement.get(_);if(Ue){const Ct=!ae||ae==Ld;Ue.forEach(Ut=>{Ut.queued||!Ct&&Ut.triggerName!=K||Re.push(Ut)})}}return(A||K)&&(Re=Re.filter(Ue=>!(A&&A!=Ue.namespaceId||K&&K!=Ue.triggerName))),Re}_beforeAnimationBuild(_,v,A){const ae=v.element,Re=v.isRemovalTransition?void 0:_,Ue=v.isRemovalTransition?void 0:v.triggerName;for(const Ct of v.timelines){const Ut=Ct.element,j1=Ut!==ae,Q1=u3(A,Ut,[]);this._getPreviousPlayers(Ut,j1,Re,Ue,v.toState).forEach(E2=>{const Wn=E2.getRealPlayer();Wn.beforeDestroy&&Wn.beforeDestroy(),E2.destroy(),Q1.push(E2)})}hl(ae,v.fromStyles)}_buildAnimation(_,v,A,K,ae,Re){const Ue=v.triggerName,Ct=v.element,Ut=[],j1=new Set,Q1=new Set,F2=v.timelines.map(Wn=>{const c2=Wn.element;j1.add(c2);const Xi=c2[j3];if(Xi&&Xi.removedBeforeQueried)return new Ad(Wn.duration,Wn.delay);const Hr=c2!==Ct,Ao=function aM(R){const _=[];return Ry(R,_),_}((A.get(c2)||XC).map(u4=>u4.getRealPlayer())).filter(u4=>!!u4.element&&u4.element===c2),l4=ae.get(c2),ta=Re.get(c2),bu=ay(0,this._normalizer,0,Wn.keyframes,l4,ta),E0=this._buildPlayer(Wn,bu,Ao);if(Wn.subTimeline&&K&&Q1.add(c2),Hr){const u4=new Gg(_,Ue,c2);u4.setRealPlayer(E0),Ut.push(u4)}return E0});Ut.forEach(Wn=>{u3(this.playersByQueriedElement,Wn.element,[]).push(Wn),Wn.onDone(()=>function iM(R,_,v){let A=R.get(_);if(A){if(A.length){const K=A.indexOf(v);A.splice(K,1)}0==A.length&&R.delete(_)}return A}(this.playersByQueriedElement,Wn.element,Wn))}),j1.forEach(Wn=>G3(Wn,gy));const E2=L8(F2);return E2.onDestroy(()=>{j1.forEach(Wn=>_u(Wn,gy)),D0(Ct,v.toStyles)}),Q1.forEach(Wn=>{u3(K,Wn,[]).push(E2)}),E2}_buildPlayer(_,v,A){return v.length>0?this.driver.animate(_.element,v,_.duration,_.delay,_.easing,A):new Ad(_.duration,_.delay)}}class Gg{constructor(_,v,A){this.namespaceId=_,this.triggerName=v,this.element=A,this._player=new Ad,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((v,A)=>{v.forEach(K=>wg(_,A,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const v=this._player;v.triggerCallback&&_.onStart(()=>v.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,v){u3(this._queuedCallbacks,_,[]).push(v)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const v=this._player;v.triggerCallback&&v.triggerCallback(_)}}function Qh(R){return R&&1===R.nodeType}function zy(R,_){const v=R.style.display;return R.style.display=_??"none",v}function Ly(R,_,v,A,K){const ae=[];v.forEach(Ct=>ae.push(zy(Ct)));const Re=[];A.forEach((Ct,Ut)=>{const j1=new Map;Ct.forEach(Q1=>{const F2=_.computeStyle(Ut,Q1,K);j1.set(Q1,F2),(!F2||0==F2.length)&&(Ut[j3]=eM,Re.push(Ut))}),R.set(Ut,j1)});let Ue=0;return v.forEach(Ct=>zy(Ct,ae[Ue++])),Re}function Oy(R,_){const v=new Map;if(R.forEach(Ue=>v.set(Ue,[])),0==_.length)return v;const K=new Set(_),ae=new Map;function Re(Ue){if(!Ue)return 1;let Ct=ae.get(Ue);if(Ct)return Ct;const Ut=Ue.parentNode;return Ct=v.has(Ut)?Ut:K.has(Ut)?1:Re(Ut),ae.set(Ue,Ct),Ct}return _.forEach(Ue=>{const Ct=Re(Ue);1!==Ct&&v.get(Ct).push(Ue)}),v}function G3(R,_){R.classList?.add(_)}function _u(R,_){R.classList?.remove(_)}function oM(R,_,v){L8(v).onDone(()=>R.processLeaveNode(_))}function Ry(R,_){for(let v=0;v<R.length;v++){const A=R[v];A instanceof sy?Ry(A.players,_):_.push(A)}}function ky(R,_,v){const A=v.get(R);if(!A)return!1;let K=_.get(R);return K?A.forEach(ae=>K.add(ae)):_.set(R,A),v.delete(R),!0}class Xh{constructor(_,v,A){this.bodyNode=_,this._driver=v,this._normalizer=A,this._triggerCache={},this.onRemovalComplete=(K,ae)=>{},this._transitionEngine=new nM(_,v,A),this._timelineEngine=new qC(_,v,A),this._transitionEngine.onRemovalComplete=(K,ae)=>this.onRemovalComplete(K,ae)}registerTrigger(_,v,A,K,ae){const Re=_+"-"+K;let Ue=this._triggerCache[Re];if(!Ue){const Ct=[],j1=Og(this._driver,ae,Ct,[]);if(Ct.length)throw function Zb(R,_){return new C.vHH(3404,!1)}();Ue=function GC(R,_,v){return new $C(R,_,v)}(K,j1,this._normalizer),this._triggerCache[Re]=Ue}this._transitionEngine.registerTrigger(v,K,Ue)}register(_,v){this._transitionEngine.register(_,v)}destroy(_,v){this._transitionEngine.destroy(_,v)}onInsert(_,v,A,K){this._transitionEngine.insertNode(_,v,A,K)}onRemove(_,v,A,K){this._transitionEngine.removeNode(_,v,K||!1,A)}disableAnimations(_,v){this._transitionEngine.markElementAsDisabled(_,v)}process(_,v,A,K){if("@"==A.charAt(0)){const[ae,Re]=cy(A);this._timelineEngine.command(ae,v,Re,K)}else this._transitionEngine.trigger(_,v,A,K)}listen(_,v,A,K,ae){if("@"==A.charAt(0)){const[Re,Ue]=cy(A);return this._timelineEngine.listen(Re,v,Ue,ae)}return this._transitionEngine.listen(_,v,A,K,ae)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uM=(()=>{class R{constructor(v,A,K){this._element=v,this._startStyles=A,this._endStyles=K,this._state=0;let ae=R.initialStylesByElement.get(v);ae||R.initialStylesByElement.set(v,ae=new Map),this._initialStyles=ae}start(){this._state<1&&(this._startStyles&&D0(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(D0(this._element,this._initialStyles),this._endStyles&&(D0(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(hl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hl(this._element,this._endStyles),this._endStyles=null),D0(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function $g(R){let _=null;return R.forEach((v,A)=>{(function dM(R){return"display"===R||"position"===R})(A)&&(_=_||new Map,_.set(A,v))}),_}class Py{constructor(_,v,A,K){this.element=_,this.keyframes=v,this.options=A,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const v=[];return _.forEach(A=>{v.push(Object.fromEntries(A))}),v}_triggerWebAnimation(_,v,A){return _.animate(this._convertKeyframesToObject(v),A)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((A,K)=>{"offset"!==K&&_.set(K,this._finished?A:My(this.element,K))}),this.currentSnapshot=_}triggerCallback(_){const v="start"===_?this._onStartFns:this._onDoneFns;v.forEach(A=>A()),v.length=0}}class fM{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,v){return!1}containsElement(_,v){return fy(_,v)}getParentElement(_){return Ng(_)}query(_,v,A){return hy(_,v,A)}computeStyle(_,v,A){return window.getComputedStyle(_)[v]}animate(_,v,A,K,ae,Re=[]){const Ct={duration:A,delay:K,fill:0==K?"both":"forwards"};ae&&(Ct.easing=ae);const Ut=new Map,j1=Re.filter(E2=>E2 instanceof Py);(function gC(R,_){return 0===R||0===_})(A,K)&&j1.forEach(E2=>{E2.currentSnapshot.forEach((Wn,c2)=>Ut.set(c2,Wn))});let Q1=function fC(R){return R.length?R[0]instanceof Map?R:R.map(_=>vy(_)):[]}(v).map(E2=>O8(E2));Q1=function vC(R,_,v){if(v.size&&_.length){let A=_[0],K=[];if(v.forEach((ae,Re)=>{A.has(Re)||K.push(Re),A.set(Re,ae)}),K.length)for(let ae=1;ae<_.length;ae++){let Re=_[ae];K.forEach(Ue=>Re.set(Ue,My(R,Ue)))}}return _}(_,Q1,Ut);const F2=function lM(R,_){let v=null,A=null;return Array.isArray(_)&&_.length?(v=$g(_[0]),_.length>1&&(A=$g(_[_.length-1]))):_ instanceof Map&&(v=$g(_)),v||A?new uM(R,v,A):null}(_,Q1);return new Py(_,Q1,Ct,F2)}}let hM=(()=>{class R extends ty{constructor(v,A){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(A.body,{id:"0",encapsulation:C.ifc.None,styles:[],data:{animation:[]}})}build(v){const A=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(v)?ny(v):v;return Vy(this._renderer,null,A,"register",[K]),new pM(A,this._renderer)}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(C.FYo),C.LFG(U3.K0))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})();class pM extends class Db{}{constructor(_,v){super(),this._id=_,this._renderer=v}create(_,v){return new mM(this._id,_,v||{},this._renderer)}}class mM{constructor(_,v,A,K){this.id=_,this.element=v,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",A)}_listen(_,v){return this._renderer.listen(this.element,`@@${this.id}:${_}`,v)}_command(_,...v){return Vy(this._renderer,this.element,this.id,_,v)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vy(R,_,v,A,K){return R.setProperty(_,`@@${v}:${A}`,K)}const Hy="@.disabled";let gM=(()=>{class R{constructor(v,A,K){this.delegate=v,this.engine=A,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),A.onRemovalComplete=(ae,Re)=>{const Ue=Re?.parentNode(ae);Ue&&Re.removeChild(Ue,ae)}}createRenderer(v,A){const ae=this.delegate.createRenderer(v,A);if(!(v&&A&&A.data&&A.data.animation)){let j1=this._rendererCache.get(ae);return j1||(j1=new Fy("",ae,this.engine,()=>this._rendererCache.delete(ae)),this._rendererCache.set(ae,j1)),j1}const Re=A.id,Ue=A.id+"-"+this._currentId;this._currentId++,this.engine.register(Ue,v);const Ct=j1=>{Array.isArray(j1)?j1.forEach(Ct):this.engine.registerTrigger(Re,Ue,v,j1.name,j1)};return A.data.animation.forEach(Ct),new vM(this,Ue,ae,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,A,K){v>=0&&v<this._microtaskId?this._zone.run(()=>A(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ae=>{const[Re,Ue]=ae;Re(Ue)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([A,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(C.FYo),C.LFG(Xh),C.LFG(C.R0b))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})();class Fy{constructor(_,v,A,K){this.namespaceId=_,this.delegate=v,this.engine=A,this._onDestroy=K,this.destroyNode=this.delegate.destroyNode?ae=>v.destroyNode(ae):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,v){return this.delegate.createElement(_,v)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,v){this.delegate.appendChild(_,v),this.engine.onInsert(this.namespaceId,v,_,!1)}insertBefore(_,v,A,K=!0){this.delegate.insertBefore(_,v,A),this.engine.onInsert(this.namespaceId,v,_,K)}removeChild(_,v,A){this.engine.onRemove(this.namespaceId,v,this.delegate,A)}selectRootElement(_,v){return this.delegate.selectRootElement(_,v)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,v,A,K){this.delegate.setAttribute(_,v,A,K)}removeAttribute(_,v,A){this.delegate.removeAttribute(_,v,A)}addClass(_,v){this.delegate.addClass(_,v)}removeClass(_,v){this.delegate.removeClass(_,v)}setStyle(_,v,A,K){this.delegate.setStyle(_,v,A,K)}removeStyle(_,v,A){this.delegate.removeStyle(_,v,A)}setProperty(_,v,A){"@"==v.charAt(0)&&v==Hy?this.disableAnimations(_,!!A):this.delegate.setProperty(_,v,A)}setValue(_,v){this.delegate.setValue(_,v)}listen(_,v,A){return this.delegate.listen(_,v,A)}disableAnimations(_,v){this.engine.disableAnimations(_,v)}}class vM extends Fy{constructor(_,v,A,K,ae){super(v,A,K,ae),this.factory=_,this.namespaceId=v}setProperty(_,v,A){"@"==v.charAt(0)?"."==v.charAt(1)&&v==Hy?this.disableAnimations(_,A=void 0===A||!!A):this.engine.process(this.namespaceId,_,v.slice(1),A):this.delegate.setProperty(_,v,A)}listen(_,v,A){if("@"==v.charAt(0)){const K=function yM(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(_);let ae=v.slice(1),Re="";return"@"!=ae.charAt(0)&&([ae,Re]=function _M(R){const _=R.indexOf(".");return[R.substring(0,_),R.slice(_+1)]}(ae)),this.engine.listen(this.namespaceId,K,ae,Re,Ue=>{this.factory.scheduleListenerCallback(Ue._data||-1,A,Ue)})}return this.delegate.listen(_,v,A)}}const By=[{provide:ty,useClass:hM},{provide:Hg,useFactory:function CM(){return new FC}},{provide:Xh,useClass:(()=>{class R extends Xh{constructor(v,A,K,ae){super(v.body,A,K)}ngOnDestroy(){this.flush()}}return R.\u0275fac=function(v){return new(v||R)(C.LFG(U3.K0),C.LFG(Tg),C.LFG(Hg),C.LFG(C.z2F))},R.\u0275prov=C.Yz7({token:R,factory:R.\u0275fac}),R})()},{provide:C.FYo,useFactory:function MM(R,_,v){return new gM(R,_,v)},deps:[l.se,Xh,C.R0b]}],Zg=[{provide:Tg,useFactory:()=>new fM},{provide:C.QbO,useValue:"BrowserAnimations"},...By],Uy=[{provide:Tg,useClass:py},{provide:C.QbO,useValue:"NoopAnimations"},...By];let wM=(()=>{class R{static withConfig(v){return{ngModule:R,providers:v.disableAnimations?Uy:Zg}}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=C.oAB({type:R}),R.\u0275inj=C.cJS({providers:Zg,imports:[l.b2]}),R})();var DM=F(4769),EM=F(2767);function SM(){return F.e(487).then(F.t.bind(F,4487,23))}let NM=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=C.oAB({type:R,bootstrap:[Cb]}),R.\u0275inj=C.cJS({providers:[wb,Vh],imports:[ub,Sd.uH,Mb.JF,ob.forRoot({player:SM}),si.u5,DM.e,EM.n,l.b2,wM]}),R})();F(2340).N.production&&(0,C.G48)(),l.q6().bootstrapModule(NM).catch(R=>console.error(R))},1135:(r1,Qe,F)=>{F.d(Qe,{X:()=>C});var l=F(7579);class C extends l.x{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const Ie=super._subscribe(Ee);return!Ie.closed&&Ee.next(this._value),Ie}getValue(){const{hasError:Ee,thrownError:Ie,_value:Te}=this;if(Ee)throw Ie;return this._throwIfClosed(),Te}next(Ee){super.next(this._value=Ee)}}},9751:(r1,Qe,F)=>{F.d(Qe,{y:()=>ke});var l=F(930),C=F(727),X=F(8822),Ee=F(9635),Ie=F(2416),Te=F(576),Se=F(2806);let ke=(()=>{class ze{constructor(ot){ot&&(this._subscribe=ot)}lift(ot){const Je=new ze;return Je.source=this,Je.operator=ot,Je}subscribe(ot,Je,Gt){const ft=function he(ze){return ze&&ze instanceof l.Lv||function fe(ze){return ze&&(0,Te.m)(ze.next)&&(0,Te.m)(ze.error)&&(0,Te.m)(ze.complete)}(ze)&&(0,C.Nn)(ze)}(ot)?ot:new l.Hp(ot,Je,Gt);return(0,Se.x)(()=>{const{operator:st,source:je}=this;ft.add(st?st.call(ft,je):je?this._subscribe(ft):this._trySubscribe(ft))}),ft}_trySubscribe(ot){try{return this._subscribe(ot)}catch(Je){ot.error(Je)}}forEach(ot,Je){return new(Je=Ve(Je))((Gt,ft)=>{const st=new l.Hp({next:je=>{try{ot(je)}catch(s1){ft(s1),st.unsubscribe()}},error:ft,complete:Gt});this.subscribe(st)})}_subscribe(ot){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(ot)}[X.L](){return this}pipe(...ot){return(0,Ee.U)(ot)(this)}toPromise(ot){return new(ot=Ve(ot))((Je,Gt)=>{let ft;this.subscribe(st=>ft=st,st=>Gt(st),()=>Je(ft))})}}return ze.create=pt=>new ze(pt),ze})();function Ve(ze){var pt;return null!==(pt=ze??Ie.v.Promise)&&void 0!==pt?pt:Promise}},7579:(r1,Qe,F)=>{F.d(Qe,{x:()=>Se});var l=F(9751),C=F(727);const Ee=(0,F(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ie=F(8737),Te=F(2806);let Se=(()=>{class Ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const ze=new ke(this,this);return ze.operator=he,ze}_throwIfClosed(){if(this.closed)throw new Ee}next(he){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(he)}})}error(he){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:ze}=this;for(;ze.length;)ze.shift().error(he)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:ze,isStopped:pt,observers:ot}=this;return ze||pt?C.Lc:(this.currentObservers=null,ot.push(he),new C.w0(()=>{this.currentObservers=null,(0,Ie.P)(ot,he)}))}_checkFinalizedStatuses(he){const{hasError:ze,thrownError:pt,isStopped:ot}=this;ze?he.error(pt):ot&&he.complete()}asObservable(){const he=new l.y;return he.source=this,he}}return Ve.create=(fe,he)=>new ke(fe,he),Ve})();class ke extends Se{constructor(fe,he){super(),this.destination=fe,this.source=he}next(fe){var he,ze;null===(ze=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===ze||ze.call(he,fe)}error(fe){var he,ze;null===(ze=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===ze||ze.call(he,fe)}complete(){var fe,he;null===(he=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===he||he.call(fe)}_subscribe(fe){var he,ze;return null!==(ze=null===(he=this.source)||void 0===he?void 0:he.subscribe(fe))&&void 0!==ze?ze:C.Lc}}},930:(r1,Qe,F)=>{F.d(Qe,{Hp:()=>Gt,Lv:()=>ze});var l=F(576),C=F(727),X=F(2416),Ee=F(7849),Ie=F(5032);const Te=Ve("C",void 0,void 0);function Ve(at,mt,nt){return{kind:at,value:mt,error:nt}}var fe=F(3410),he=F(2806);class ze extends C.w0{constructor(mt){super(),this.isStopped=!1,mt?(this.destination=mt,(0,C.Nn)(mt)&&mt.add(this)):this.destination=s1}static create(mt,nt,Ft){return new Gt(mt,nt,Ft)}next(mt){this.isStopped?je(function ke(at){return Ve("N",at,void 0)}(mt),this):this._next(mt)}error(mt){this.isStopped?je(function Se(at){return Ve("E",void 0,at)}(mt),this):(this.isStopped=!0,this._error(mt))}complete(){this.isStopped?je(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(mt){this.destination.next(mt)}_error(mt){try{this.destination.error(mt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function ot(at,mt){return pt.call(at,mt)}class Je{constructor(mt){this.partialObserver=mt}next(mt){const{partialObserver:nt}=this;if(nt.next)try{nt.next(mt)}catch(Ft){ft(Ft)}}error(mt){const{partialObserver:nt}=this;if(nt.error)try{nt.error(mt)}catch(Ft){ft(Ft)}else ft(mt)}complete(){const{partialObserver:mt}=this;if(mt.complete)try{mt.complete()}catch(nt){ft(nt)}}}class Gt extends ze{constructor(mt,nt,Ft){let Mt;if(super(),(0,l.m)(mt)||!mt)Mt={next:mt??void 0,error:nt??void 0,complete:Ft??void 0};else{let ce;this&&X.v.useDeprecatedNextContext?(ce=Object.create(mt),ce.unsubscribe=()=>this.unsubscribe(),Mt={next:mt.next&&ot(mt.next,ce),error:mt.error&&ot(mt.error,ce),complete:mt.complete&&ot(mt.complete,ce)}):Mt=mt}this.destination=new Je(Mt)}}function ft(at){X.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(at):(0,Ee.h)(at)}function je(at,mt){const{onStoppedNotification:nt}=X.v;nt&&fe.z.setTimeout(()=>nt(at,mt))}const s1={closed:!0,next:Ie.Z,error:function st(at){throw at},complete:Ie.Z}},727:(r1,Qe,F)=>{F.d(Qe,{Lc:()=>Te,w0:()=>Ie,Nn:()=>Se});var l=F(576);const X=(0,F(3888).d)(Ve=>function(he){Ve(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((ze,pt)=>`${pt+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Ee=F(8737);class Ie{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ot of he)ot.remove(this);else he.remove(this);const{initialTeardown:ze}=this;if((0,l.m)(ze))try{ze()}catch(ot){fe=ot instanceof X?ot.errors:[ot]}const{_finalizers:pt}=this;if(pt){this._finalizers=null;for(const ot of pt)try{ke(ot)}catch(Je){fe=fe??[],Je instanceof X?fe=[...fe,...Je.errors]:fe.push(Je)}}if(fe)throw new X(fe)}}add(fe){var he;if(fe&&fe!==this)if(this.closed)ke(fe);else{if(fe instanceof Ie){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(fe)}}_hasParent(fe){const{_parentage:he}=this;return he===fe||Array.isArray(he)&&he.includes(fe)}_addParent(fe){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(fe),he):he?[he,fe]:fe}_removeParent(fe){const{_parentage:he}=this;he===fe?this._parentage=null:Array.isArray(he)&&(0,Ee.P)(he,fe)}remove(fe){const{_finalizers:he}=this;he&&(0,Ee.P)(he,fe),fe instanceof Ie&&fe._removeParent(this)}}Ie.EMPTY=(()=>{const Ve=new Ie;return Ve.closed=!0,Ve})();const Te=Ie.EMPTY;function Se(Ve){return Ve instanceof Ie||Ve&&"closed"in Ve&&(0,l.m)(Ve.remove)&&(0,l.m)(Ve.add)&&(0,l.m)(Ve.unsubscribe)}function ke(Ve){(0,l.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(r1,Qe,F)=>{F.d(Qe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(r1,Qe,F)=>{F.d(Qe,{a:()=>fe});var l=F(9751),C=F(4742),X=F(8996),Ee=F(4671),Ie=F(3268),Te=F(3269),Se=F(1810),ke=F(5403),Ve=F(9672);function fe(...pt){const ot=(0,Te.yG)(pt),Je=(0,Te.jO)(pt),{args:Gt,keys:ft}=(0,C.D)(pt);if(0===Gt.length)return(0,X.D)([],ot);const st=new l.y(function he(pt,ot,Je=Ee.y){return Gt=>{ze(ot,()=>{const{length:ft}=pt,st=new Array(ft);let je=ft,s1=ft;for(let at=0;at<ft;at++)ze(ot,()=>{const mt=(0,X.D)(pt[at],ot);let nt=!1;mt.subscribe((0,ke.x)(Gt,Ft=>{st[at]=Ft,nt||(nt=!0,s1--),s1||Gt.next(Je(st.slice()))},()=>{--je||Gt.complete()}))},Gt)},Gt)}}(Gt,ot,ft?je=>(0,Se.n)(ft,je):Ee.y));return Je?st.pipe((0,Ie.Z)(Je)):st}function ze(pt,ot,Je){pt?(0,Ve.f)(Je,pt,ot):ot()}},7272:(r1,Qe,F)=>{F.d(Qe,{z:()=>Ie});var l=F(8189),X=F(3269),Ee=F(8996);function Ie(...Te){return function C(){return(0,l.J)(1)}()((0,Ee.D)(Te,(0,X.yG)(Te)))}},9770:(r1,Qe,F)=>{F.d(Qe,{P:()=>X});var l=F(9751),C=F(8421);function X(Ee){return new l.y(Ie=>{(0,C.Xf)(Ee()).subscribe(Ie)})}},515:(r1,Qe,F)=>{F.d(Qe,{E:()=>C});const C=new(F(9751).y)(Ie=>Ie.complete())},8996:(r1,Qe,F)=>{F.d(Qe,{D:()=>mt});var l=F(8421),C=F(5363),X=F(9468),Te=F(9751),ke=F(2202),Ve=F(576),fe=F(9672);function ze(nt,Ft){if(!nt)throw new Error("Iterable cannot be null");return new Te.y(Mt=>{(0,fe.f)(Mt,Ft,()=>{const ce=nt[Symbol.asyncIterator]();(0,fe.f)(Mt,Ft,()=>{ce.next().then(tt=>{tt.done?Mt.complete():Mt.next(tt.value)})},0,!0)})})}var pt=F(3670),ot=F(8239),Je=F(1144),Gt=F(6495),ft=F(2206),st=F(4532),je=F(3260);function mt(nt,Ft){return Ft?function at(nt,Ft){if(null!=nt){if((0,pt.c)(nt))return function Ee(nt,Ft){return(0,l.Xf)(nt).pipe((0,X.R)(Ft),(0,C.Q)(Ft))}(nt,Ft);if((0,Je.z)(nt))return function Se(nt,Ft){return new Te.y(Mt=>{let ce=0;return Ft.schedule(function(){ce===nt.length?Mt.complete():(Mt.next(nt[ce++]),Mt.closed||this.schedule())})})}(nt,Ft);if((0,ot.t)(nt))return function Ie(nt,Ft){return(0,l.Xf)(nt).pipe((0,X.R)(Ft),(0,C.Q)(Ft))}(nt,Ft);if((0,ft.D)(nt))return ze(nt,Ft);if((0,Gt.T)(nt))return function he(nt,Ft){return new Te.y(Mt=>{let ce;return(0,fe.f)(Mt,Ft,()=>{ce=nt[ke.h](),(0,fe.f)(Mt,Ft,()=>{let tt,Me;try{({value:tt,done:Me}=ce.next())}catch(Le){return void Mt.error(Le)}Me?Mt.complete():Mt.next(tt)},0,!0)}),()=>(0,Ve.m)(ce?.return)&&ce.return()})}(nt,Ft);if((0,je.L)(nt))return function s1(nt,Ft){return ze((0,je.Q)(nt),Ft)}(nt,Ft)}throw(0,st.z)(nt)}(nt,Ft):(0,l.Xf)(nt)}},8421:(r1,Qe,F)=>{F.d(Qe,{Xf:()=>pt});var l=F(655),C=F(1144),X=F(8239),Ee=F(9751),Ie=F(3670),Te=F(2206),Se=F(4532),ke=F(6495),Ve=F(3260),fe=F(576),he=F(7849),ze=F(8822);function pt(at){if(at instanceof Ee.y)return at;if(null!=at){if((0,Ie.c)(at))return function ot(at){return new Ee.y(mt=>{const nt=at[ze.L]();if((0,fe.m)(nt.subscribe))return nt.subscribe(mt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(at);if((0,C.z)(at))return function Je(at){return new Ee.y(mt=>{for(let nt=0;nt<at.length&&!mt.closed;nt++)mt.next(at[nt]);mt.complete()})}(at);if((0,X.t)(at))return function Gt(at){return new Ee.y(mt=>{at.then(nt=>{mt.closed||(mt.next(nt),mt.complete())},nt=>mt.error(nt)).then(null,he.h)})}(at);if((0,Te.D)(at))return st(at);if((0,ke.T)(at))return function ft(at){return new Ee.y(mt=>{for(const nt of at)if(mt.next(nt),mt.closed)return;mt.complete()})}(at);if((0,Ve.L)(at))return function je(at){return st((0,Ve.Q)(at))}(at)}throw(0,Se.z)(at)}function st(at){return new Ee.y(mt=>{(function s1(at,mt){var nt,Ft,Mt,ce;return(0,l.mG)(this,void 0,void 0,function*(){try{for(nt=(0,l.KL)(at);!(Ft=yield nt.next()).done;)if(mt.next(Ft.value),mt.closed)return}catch(tt){Mt={error:tt}}finally{try{Ft&&!Ft.done&&(ce=nt.return)&&(yield ce.call(nt))}finally{if(Mt)throw Mt.error}}mt.complete()})})(at,mt).catch(nt=>mt.error(nt))})}},6451:(r1,Qe,F)=>{F.d(Qe,{T:()=>Te});var l=F(8189),C=F(8421),X=F(515),Ee=F(3269),Ie=F(8996);function Te(...Se){const ke=(0,Ee.yG)(Se),Ve=(0,Ee._6)(Se,1/0),fe=Se;return fe.length?1===fe.length?(0,C.Xf)(fe[0]):(0,l.J)(Ve)((0,Ie.D)(fe,ke)):X.E}},9646:(r1,Qe,F)=>{F.d(Qe,{of:()=>X});var l=F(3269),C=F(8996);function X(...Ee){const Ie=(0,l.yG)(Ee);return(0,C.D)(Ee,Ie)}},5403:(r1,Qe,F)=>{F.d(Qe,{x:()=>C});var l=F(930);function C(Ee,Ie,Te,Se,ke){return new X(Ee,Ie,Te,Se,ke)}class X extends l.Lv{constructor(Ie,Te,Se,ke,Ve,fe){super(Ie),this.onFinalize=Ve,this.shouldUnsubscribe=fe,this._next=Te?function(he){try{Te(he)}catch(ze){Ie.error(ze)}}:super._next,this._error=ke?function(he){try{ke(he)}catch(ze){Ie.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(he){Ie.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(Ie=this.onFinalize)||void 0===Ie||Ie.call(this))}}}},4351:(r1,Qe,F)=>{F.d(Qe,{b:()=>X});var l=F(5577),C=F(576);function X(Ee,Ie){return(0,C.m)(Ie)?(0,l.z)(Ee,Ie,1):(0,l.z)(Ee,1)}},6590:(r1,Qe,F)=>{F.d(Qe,{d:()=>X});var l=F(4482),C=F(5403);function X(Ee){return(0,l.e)((Ie,Te)=>{let Se=!1;Ie.subscribe((0,C.x)(Te,ke=>{Se=!0,Te.next(ke)},()=>{Se||Te.next(Ee),Te.complete()}))})}},1884:(r1,Qe,F)=>{F.d(Qe,{x:()=>Ee});var l=F(4671),C=F(4482),X=F(5403);function Ee(Te,Se=l.y){return Te=Te??Ie,(0,C.e)((ke,Ve)=>{let fe,he=!0;ke.subscribe((0,X.x)(Ve,ze=>{const pt=Se(ze);(he||!Te(fe,pt))&&(he=!1,fe=pt,Ve.next(ze))}))})}function Ie(Te,Se){return Te===Se}},9300:(r1,Qe,F)=>{F.d(Qe,{h:()=>X});var l=F(4482),C=F(5403);function X(Ee,Ie){return(0,l.e)((Te,Se)=>{let ke=0;Te.subscribe((0,C.x)(Se,Ve=>Ee.call(Ie,Ve,ke++)&&Se.next(Ve)))})}},590:(r1,Qe,F)=>{F.d(Qe,{P:()=>Se});var l=F(6805),C=F(9300),X=F(5698),Ee=F(6590),Ie=F(8068),Te=F(4671);function Se(ke,Ve){const fe=arguments.length>=2;return he=>he.pipe(ke?(0,C.h)((ze,pt)=>ke(ze,pt,he)):Te.y,(0,X.q)(1),fe?(0,Ee.d)(Ve):(0,Ie.T)(()=>new l.K))}},4004:(r1,Qe,F)=>{F.d(Qe,{U:()=>X});var l=F(4482),C=F(5403);function X(Ee,Ie){return(0,l.e)((Te,Se)=>{let ke=0;Te.subscribe((0,C.x)(Se,Ve=>{Se.next(Ee.call(Ie,Ve,ke++))}))})}},9718:(r1,Qe,F)=>{F.d(Qe,{h:()=>C});var l=F(4004);function C(X){return(0,l.U)(()=>X)}},8189:(r1,Qe,F)=>{F.d(Qe,{J:()=>X});var l=F(5577),C=F(4671);function X(Ee=1/0){return(0,l.z)(C.y,Ee)}},5577:(r1,Qe,F)=>{F.d(Qe,{z:()=>ke});var l=F(4004),C=F(8421),X=F(4482),Ee=F(9672),Ie=F(5403),Se=F(576);function ke(Ve,fe,he=1/0){return(0,Se.m)(fe)?ke((ze,pt)=>(0,l.U)((ot,Je)=>fe(ze,ot,pt,Je))((0,C.Xf)(Ve(ze,pt))),he):("number"==typeof fe&&(he=fe),(0,X.e)((ze,pt)=>function Te(Ve,fe,he,ze,pt,ot,Je,Gt){const ft=[];let st=0,je=0,s1=!1;const at=()=>{s1&&!ft.length&&!st&&fe.complete()},mt=Ft=>st<ze?nt(Ft):ft.push(Ft),nt=Ft=>{ot&&fe.next(Ft),st++;let Mt=!1;(0,C.Xf)(he(Ft,je++)).subscribe((0,Ie.x)(fe,ce=>{pt?.(ce),ot?mt(ce):fe.next(ce)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(st--;ft.length&&st<ze;){const ce=ft.shift();Je?(0,Ee.f)(fe,Je,()=>nt(ce)):nt(ce)}at()}catch(ce){fe.error(ce)}}))};return Ve.subscribe((0,Ie.x)(fe,mt,()=>{s1=!0,at()})),()=>{Gt?.()}}(ze,pt,Ve,he)))}},5363:(r1,Qe,F)=>{F.d(Qe,{Q:()=>Ee});var l=F(9672),C=F(4482),X=F(5403);function Ee(Ie,Te=0){return(0,C.e)((Se,ke)=>{Se.subscribe((0,X.x)(ke,Ve=>(0,l.f)(ke,Ie,()=>ke.next(Ve),Te),()=>(0,l.f)(ke,Ie,()=>ke.complete(),Te),Ve=>(0,l.f)(ke,Ie,()=>ke.error(Ve),Te)))})}},5026:(r1,Qe,F)=>{F.d(Qe,{R:()=>Ee});var l=F(4482),C=F(5403);function X(Ie,Te,Se,ke,Ve){return(fe,he)=>{let ze=Se,pt=Te,ot=0;fe.subscribe((0,C.x)(he,Je=>{const Gt=ot++;pt=ze?Ie(pt,Je,Gt):(ze=!0,Je),ke&&he.next(pt)},Ve&&(()=>{ze&&he.next(pt),he.complete()})))}}function Ee(Ie,Te){return(0,l.e)(X(Ie,Te,arguments.length>=2,!0))}},3099:(r1,Qe,F)=>{F.d(Qe,{B:()=>Ie});var l=F(8421),C=F(7579),X=F(930),Ee=F(4482);function Ie(Se={}){const{connector:ke=(()=>new C.x),resetOnError:Ve=!0,resetOnComplete:fe=!0,resetOnRefCountZero:he=!0}=Se;return ze=>{let pt,ot,Je,Gt=0,ft=!1,st=!1;const je=()=>{ot?.unsubscribe(),ot=void 0},s1=()=>{je(),pt=Je=void 0,ft=st=!1},at=()=>{const mt=pt;s1(),mt?.unsubscribe()};return(0,Ee.e)((mt,nt)=>{Gt++,!st&&!ft&&je();const Ft=Je=Je??ke();nt.add(()=>{Gt--,0===Gt&&!st&&!ft&&(ot=Te(at,he))}),Ft.subscribe(nt),!pt&&Gt>0&&(pt=new X.Hp({next:Mt=>Ft.next(Mt),error:Mt=>{st=!0,je(),ot=Te(s1,Ve,Mt),Ft.error(Mt)},complete:()=>{ft=!0,je(),ot=Te(s1,fe),Ft.complete()}}),(0,l.Xf)(mt).subscribe(pt))})(ze)}}function Te(Se,ke,...Ve){if(!0===ke)return void Se();if(!1===ke)return;const fe=new X.Hp({next:()=>{fe.unsubscribe(),Se()}});return ke(...Ve).subscribe(fe)}},3151:(r1,Qe,F)=>{F.d(Qe,{d:()=>Ie});var l=F(7579),C=F(6063);class X extends l.x{constructor(Se=1/0,ke=1/0,Ve=C.l){super(),this._bufferSize=Se,this._windowTime=ke,this._timestampProvider=Ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ke===1/0,this._bufferSize=Math.max(1,Se),this._windowTime=Math.max(1,ke)}next(Se){const{isStopped:ke,_buffer:Ve,_infiniteTimeWindow:fe,_timestampProvider:he,_windowTime:ze}=this;ke||(Ve.push(Se),!fe&&Ve.push(he.now()+ze)),this._trimBuffer(),super.next(Se)}_subscribe(Se){this._throwIfClosed(),this._trimBuffer();const ke=this._innerSubscribe(Se),{_infiniteTimeWindow:Ve,_buffer:fe}=this,he=fe.slice();for(let ze=0;ze<he.length&&!Se.closed;ze+=Ve?1:2)Se.next(he[ze]);return this._checkFinalizedStatuses(Se),ke}_trimBuffer(){const{_bufferSize:Se,_timestampProvider:ke,_buffer:Ve,_infiniteTimeWindow:fe}=this,he=(fe?1:2)*Se;if(Se<1/0&&he<Ve.length&&Ve.splice(0,Ve.length-he),!fe){const ze=ke.now();let pt=0;for(let ot=1;ot<Ve.length&&Ve[ot]<=ze;ot+=2)pt=ot;pt&&Ve.splice(0,pt+1)}}}var Ee=F(3099);function Ie(Te,Se,ke){let Ve,fe=!1;return Te&&"object"==typeof Te?({bufferSize:Ve=1/0,windowTime:Se=1/0,refCount:fe=!1,scheduler:ke}=Te):Ve=Te??1/0,(0,Ee.B)({connector:()=>new X(Ve,Se,ke),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:fe})}},8675:(r1,Qe,F)=>{F.d(Qe,{O:()=>Ee});var l=F(7272),C=F(3269),X=F(4482);function Ee(...Ie){const Te=(0,C.yG)(Ie);return(0,X.e)((Se,ke)=>{(Te?(0,l.z)(Ie,Se,Te):(0,l.z)(Ie,Se)).subscribe(ke)})}},9468:(r1,Qe,F)=>{F.d(Qe,{R:()=>C});var l=F(4482);function C(X,Ee=0){return(0,l.e)((Ie,Te)=>{Te.add(X.schedule(()=>Ie.subscribe(Te),Ee))})}},3900:(r1,Qe,F)=>{F.d(Qe,{w:()=>Ee});var l=F(8421),C=F(4482),X=F(5403);function Ee(Ie,Te){return(0,C.e)((Se,ke)=>{let Ve=null,fe=0,he=!1;const ze=()=>he&&!Ve&&ke.complete();Se.subscribe((0,X.x)(ke,pt=>{Ve?.unsubscribe();let ot=0;const Je=fe++;(0,l.Xf)(Ie(pt,Je)).subscribe(Ve=(0,X.x)(ke,Gt=>ke.next(Te?Te(pt,Gt,Je,ot++):Gt),()=>{Ve=null,ze()}))},()=>{he=!0,ze()}))})}},5698:(r1,Qe,F)=>{F.d(Qe,{q:()=>Ee});var l=F(515),C=F(4482),X=F(5403);function Ee(Ie){return Ie<=0?()=>l.E:(0,C.e)((Te,Se)=>{let ke=0;Te.subscribe((0,X.x)(Se,Ve=>{++ke<=Ie&&(Se.next(Ve),Ie<=ke&&Se.complete())}))})}},2722:(r1,Qe,F)=>{F.d(Qe,{R:()=>Ie});var l=F(4482),C=F(5403),X=F(8421),Ee=F(5032);function Ie(Te){return(0,l.e)((Se,ke)=>{(0,X.Xf)(Te).subscribe((0,C.x)(ke,()=>ke.complete(),Ee.Z)),!ke.closed&&Se.subscribe(ke)})}},8505:(r1,Qe,F)=>{F.d(Qe,{b:()=>Ie});var l=F(576),C=F(4482),X=F(5403),Ee=F(4671);function Ie(Te,Se,ke){const Ve=(0,l.m)(Te)||Se||ke?{next:Te,error:Se,complete:ke}:Te;return Ve?(0,C.e)((fe,he)=>{var ze;null===(ze=Ve.subscribe)||void 0===ze||ze.call(Ve);let pt=!0;fe.subscribe((0,X.x)(he,ot=>{var Je;null===(Je=Ve.next)||void 0===Je||Je.call(Ve,ot),he.next(ot)},()=>{var ot;pt=!1,null===(ot=Ve.complete)||void 0===ot||ot.call(Ve),he.complete()},ot=>{var Je;pt=!1,null===(Je=Ve.error)||void 0===Je||Je.call(Ve,ot),he.error(ot)},()=>{var ot,Je;pt&&(null===(ot=Ve.unsubscribe)||void 0===ot||ot.call(Ve)),null===(Je=Ve.finalize)||void 0===Je||Je.call(Ve)}))}):Ee.y}},8068:(r1,Qe,F)=>{F.d(Qe,{T:()=>Ee});var l=F(6805),C=F(4482),X=F(5403);function Ee(Te=Ie){return(0,C.e)((Se,ke)=>{let Ve=!1;Se.subscribe((0,X.x)(ke,fe=>{Ve=!0,ke.next(fe)},()=>Ve?ke.complete():ke.error(Te())))})}function Ie(){return new l.K}},4408:(r1,Qe,F)=>{F.d(Qe,{o:()=>Ie});var l=F(727);class C extends l.w0{constructor(Se,ke){super()}schedule(Se,ke=0){return this}}const X={setInterval(Te,Se,...ke){const{delegate:Ve}=X;return Ve?.setInterval?Ve.setInterval(Te,Se,...ke):setInterval(Te,Se,...ke)},clearInterval(Te){const{delegate:Se}=X;return(Se?.clearInterval||clearInterval)(Te)},delegate:void 0};var Ee=F(8737);class Ie extends C{constructor(Se,ke){super(Se,ke),this.scheduler=Se,this.work=ke,this.pending=!1}schedule(Se,ke=0){var Ve;if(this.closed)return this;this.state=Se;const fe=this.id,he=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(he,fe,ke)),this.pending=!0,this.delay=ke,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(he,this.id,ke),this}requestAsyncId(Se,ke,Ve=0){return X.setInterval(Se.flush.bind(Se,this),Ve)}recycleAsyncId(Se,ke,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return ke;null!=ke&&X.clearInterval(ke)}execute(Se,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Se,ke);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,ke){let fe,Ve=!1;try{this.work(Se)}catch(he){Ve=!0,fe=he||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:Se,scheduler:ke}=this,{actions:Ve}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.P)(Ve,this),null!=Se&&(this.id=this.recycleAsyncId(ke,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(r1,Qe,F)=>{F.d(Qe,{v:()=>X});var l=F(6063);class C{constructor(Ie,Te=C.now){this.schedulerActionCtor=Ie,this.now=Te}schedule(Ie,Te=0,Se){return new this.schedulerActionCtor(this,Ie).schedule(Se,Te)}}C.now=l.l.now;class X extends C{constructor(Ie,Te=C.now){super(Ie,Te),this.actions=[],this._active=!1}flush(Ie){const{actions:Te}=this;if(this._active)return void Te.push(Ie);let Se;this._active=!0;do{if(Se=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Te.shift());if(this._active=!1,Se){for(;Ie=Te.shift();)Ie.unsubscribe();throw Se}}}},4986:(r1,Qe,F)=>{F.d(Qe,{P:()=>Ee,z:()=>X});var l=F(4408);const X=new(F(7565).v)(l.o),Ee=X},6063:(r1,Qe,F)=>{F.d(Qe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(r1,Qe,F)=>{F.d(Qe,{z:()=>l});const l={setTimeout(C,X,...Ee){const{delegate:Ie}=l;return Ie?.setTimeout?Ie.setTimeout(C,X,...Ee):setTimeout(C,X,...Ee)},clearTimeout(C){const{delegate:X}=l;return(X?.clearTimeout||clearTimeout)(C)},delegate:void 0}},2202:(r1,Qe,F)=>{F.d(Qe,{h:()=>C});const C=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(r1,Qe,F)=>{F.d(Qe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(r1,Qe,F)=>{F.d(Qe,{K:()=>C});const C=(0,F(3888).d)(X=>function(){X(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(r1,Qe,F)=>{F.d(Qe,{_6:()=>Te,jO:()=>Ee,yG:()=>Ie});var l=F(576),C=F(3532);function X(Se){return Se[Se.length-1]}function Ee(Se){return(0,l.m)(X(Se))?Se.pop():void 0}function Ie(Se){return(0,C.K)(X(Se))?Se.pop():void 0}function Te(Se,ke){return"number"==typeof X(Se)?Se.pop():ke}},4742:(r1,Qe,F)=>{F.d(Qe,{D:()=>Ie});const{isArray:l}=Array,{getPrototypeOf:C,prototype:X,keys:Ee}=Object;function Ie(Se){if(1===Se.length){const ke=Se[0];if(l(ke))return{args:ke,keys:null};if(function Te(Se){return Se&&"object"==typeof Se&&C(Se)===X}(ke)){const Ve=Ee(ke);return{args:Ve.map(fe=>ke[fe]),keys:Ve}}}return{args:Se,keys:null}}},8737:(r1,Qe,F)=>{function l(C,X){if(C){const Ee=C.indexOf(X);0<=Ee&&C.splice(Ee,1)}}F.d(Qe,{P:()=>l})},3888:(r1,Qe,F)=>{function l(C){const Ee=C(Ie=>{Error.call(Ie),Ie.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}F.d(Qe,{d:()=>l})},1810:(r1,Qe,F)=>{function l(C,X){return C.reduce((Ee,Ie,Te)=>(Ee[Ie]=X[Te],Ee),{})}F.d(Qe,{n:()=>l})},2806:(r1,Qe,F)=>{F.d(Qe,{O:()=>Ee,x:()=>X});var l=F(2416);let C=null;function X(Ie){if(l.v.useDeprecatedSynchronousErrorHandling){const Te=!C;if(Te&&(C={errorThrown:!1,error:null}),Ie(),Te){const{errorThrown:Se,error:ke}=C;if(C=null,Se)throw ke}}else Ie()}function Ee(Ie){l.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=Ie)}},9672:(r1,Qe,F)=>{function l(C,X,Ee,Ie=0,Te=!1){const Se=X.schedule(function(){Ee(),Te?C.add(this.schedule(null,Ie)):this.unsubscribe()},Ie);if(C.add(Se),!Te)return Se}F.d(Qe,{f:()=>l})},4671:(r1,Qe,F)=>{function l(C){return C}F.d(Qe,{y:()=>l})},1144:(r1,Qe,F)=>{F.d(Qe,{z:()=>l});const l=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(r1,Qe,F)=>{F.d(Qe,{D:()=>C});var l=F(576);function C(X){return Symbol.asyncIterator&&(0,l.m)(X?.[Symbol.asyncIterator])}},576:(r1,Qe,F)=>{function l(C){return"function"==typeof C}F.d(Qe,{m:()=>l})},3670:(r1,Qe,F)=>{F.d(Qe,{c:()=>X});var l=F(8822),C=F(576);function X(Ee){return(0,C.m)(Ee[l.L])}},6495:(r1,Qe,F)=>{F.d(Qe,{T:()=>X});var l=F(2202),C=F(576);function X(Ee){return(0,C.m)(Ee?.[l.h])}},8239:(r1,Qe,F)=>{F.d(Qe,{t:()=>C});var l=F(576);function C(X){return(0,l.m)(X?.then)}},3260:(r1,Qe,F)=>{F.d(Qe,{L:()=>Ee,Q:()=>X});var l=F(655),C=F(576);function X(Ie){return(0,l.FC)(this,arguments,function*(){const Se=Ie.getReader();try{for(;;){const{value:ke,done:Ve}=yield(0,l.qq)(Se.read());if(Ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ke)}}finally{Se.releaseLock()}})}function Ee(Ie){return(0,C.m)(Ie?.getReader)}},3532:(r1,Qe,F)=>{F.d(Qe,{K:()=>C});var l=F(576);function C(X){return X&&(0,l.m)(X.schedule)}},4482:(r1,Qe,F)=>{F.d(Qe,{A:()=>C,e:()=>X});var l=F(576);function C(Ee){return(0,l.m)(Ee?.lift)}function X(Ee){return Ie=>{if(C(Ie))return Ie.lift(function(Te){try{return Ee(Te,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(r1,Qe,F)=>{F.d(Qe,{Z:()=>Ee});var l=F(4004);const{isArray:C}=Array;function Ee(Ie){return(0,l.U)(Te=>function X(Ie,Te){return C(Te)?Ie(...Te):Ie(Te)}(Ie,Te))}},5032:(r1,Qe,F)=>{function l(){}F.d(Qe,{Z:()=>l})},9635:(r1,Qe,F)=>{F.d(Qe,{U:()=>X,z:()=>C});var l=F(4671);function C(...Ee){return X(Ee)}function X(Ee){return 0===Ee.length?l.y:1===Ee.length?Ee[0]:function(Te){return Ee.reduce((Se,ke)=>ke(Se),Te)}}},7849:(r1,Qe,F)=>{F.d(Qe,{h:()=>X});var l=F(2416),C=F(3410);function X(Ee){C.z.setTimeout(()=>{const{onUnhandledError:Ie}=l.v;if(!Ie)throw Ee;Ie(Ee)})}},4532:(r1,Qe,F)=>{function l(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Qe,{z:()=>l})},655:(r1,Qe,F)=>{function Ee(Me,Le){var rt={};for(var He in Me)Object.prototype.hasOwnProperty.call(Me,He)&&Le.indexOf(He)<0&&(rt[He]=Me[He]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var Lt=0;for(He=Object.getOwnPropertySymbols(Me);Lt<He.length;Lt++)Le.indexOf(He[Lt])<0&&Object.prototype.propertyIsEnumerable.call(Me,He[Lt])&&(rt[He[Lt]]=Me[He[Lt]])}return rt}function ke(Me,Le,rt,He){return new(rt||(rt=Promise))(function(Rt,v1){function B1(T1){try{Pt(He.next(T1))}catch(S1){v1(S1)}}function L1(T1){try{Pt(He.throw(T1))}catch(S1){v1(S1)}}function Pt(T1){T1.done?Rt(T1.value):function Lt(Rt){return Rt instanceof rt?Rt:new rt(function(v1){v1(Rt)})}(T1.value).then(B1,L1)}Pt((He=He.apply(Me,Le||[])).next())})}function ft(Me){return this instanceof ft?(this.v=Me,this):new ft(Me)}function st(Me,Le,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Lt,He=rt.apply(Me,Le||[]),Rt=[];return Lt={},v1("next"),v1("throw"),v1("return"),Lt[Symbol.asyncIterator]=function(){return this},Lt;function v1(N1){He[N1]&&(Lt[N1]=function(M1){return new Promise(function(o2,qt){Rt.push([N1,M1,o2,qt])>1||B1(N1,M1)})})}function B1(N1,M1){try{!function L1(N1){N1.value instanceof ft?Promise.resolve(N1.value.v).then(Pt,T1):S1(Rt[0][2],N1)}(He[N1](M1))}catch(o2){S1(Rt[0][3],o2)}}function Pt(N1){B1("next",N1)}function T1(N1){B1("throw",N1)}function S1(N1,M1){N1(M1),Rt.shift(),Rt.length&&B1(Rt[0][0],Rt[0][1])}}function s1(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Le=Me[Symbol.asyncIterator];return Le?Le.call(Me):(Me=function ze(Me){var Le="function"==typeof Symbol&&Symbol.iterator,rt=Le&&Me[Le],He=0;if(rt)return rt.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&He>=Me.length&&(Me=void 0),{value:Me&&Me[He++],done:!Me}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),rt={},He("next"),He("throw"),He("return"),rt[Symbol.asyncIterator]=function(){return this},rt);function He(Rt){rt[Rt]=Me[Rt]&&function(v1){return new Promise(function(B1,L1){!function Lt(Rt,v1,B1,L1){Promise.resolve(L1).then(function(Pt){Rt({value:Pt,done:B1})},v1)}(B1,L1,(v1=Me[Rt](v1)).done,v1.value)})}}}F.d(Qe,{FC:()=>st,KL:()=>s1,_T:()=>Ee,mG:()=>ke,qq:()=>ft})},6895:(r1,Qe,F)=>{F.d(Qe,{Do:()=>s1,EM:()=>hr,HT:()=>Ie,JF:()=>ms,K0:()=>Se,Mx:()=>_i,NF:()=>Us,O5:()=>qn,Ov:()=>Xt,PC:()=>Es,PM:()=>f2,S$:()=>ft,V_:()=>fe,Ye:()=>at,b0:()=>je,bD:()=>Ai,ez:()=>wi,mk:()=>Hn,q:()=>X,sg:()=>hi,tP:()=>$2,uU:()=>er,w_:()=>Te});var l=F(4650);let C=null;function X(){return C}function Ie(z){C||(C=z)}class Te{}const Se=new l.OlP("DocumentToken");let ke=(()=>{class z{historyGo(k){throw new Error("Not implemented")}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275prov=l.Yz7({token:z,factory:function(){return function Ve(){return(0,l.LFG)(he)}()},providedIn:"platform"}),z})();const fe=new l.OlP("Location Initialized");let he=(()=>{class z extends ke{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(k){const ee=X().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",k,!1),()=>ee.removeEventListener("popstate",k)}onHashChange(k){const ee=X().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",k,!1),()=>ee.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,ee,be){ze()?this._history.pushState(k,ee,be):this.location.hash=be}replaceState(k,ee,be){ze()?this._history.replaceState(k,ee,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return z.\u0275fac=function(k){return new(k||z)(l.LFG(Se))},z.\u0275prov=l.Yz7({token:z,factory:function(){return function pt(){return new he((0,l.LFG)(Se))}()},providedIn:"platform"}),z})();function ze(){return!!window.history.pushState}function ot(z,W){if(0==z.length)return W;if(0==W.length)return z;let k=0;return z.endsWith("/")&&k++,W.startsWith("/")&&k++,2==k?z+W.substring(1):1==k?z+W:z+"/"+W}function Je(z){const W=z.match(/#|\?|$/),k=W&&W.index||z.length;return z.slice(0,k-("/"===z[k-1]?1:0))+z.slice(k)}function Gt(z){return z&&"?"!==z[0]?"?"+z:z}let ft=(()=>{class z{historyGo(k){throw new Error("Not implemented")}}return z.\u0275fac=function(k){return new(k||z)},z.\u0275prov=l.Yz7({token:z,factory:function(){return(0,l.f3M)(je)},providedIn:"root"}),z})();const st=new l.OlP("appBaseHref");let je=(()=>{class z extends ft{constructor(k,ee){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ot(this._baseHref,k)}path(k=!1){const ee=this._platformLocation.pathname+Gt(this._platformLocation.search),be=this._platformLocation.hash;return be&&k?`${ee}${be}`:ee}pushState(k,ee,be,it){const vt=this.prepareExternalUrl(be+Gt(it));this._platformLocation.pushState(k,ee,vt)}replaceState(k,ee,be,it){const vt=this.prepareExternalUrl(be+Gt(it));this._platformLocation.replaceState(k,ee,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return z.\u0275fac=function(k){return new(k||z)(l.LFG(ke),l.LFG(st,8))},z.\u0275prov=l.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),s1=(()=>{class z extends ft{constructor(k,ee){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(k){const ee=ot(this._baseHref,k);return ee.length>0?"#"+ee:ee}pushState(k,ee,be,it){let vt=this.prepareExternalUrl(be+Gt(it));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.pushState(k,ee,vt)}replaceState(k,ee,be,it){let vt=this.prepareExternalUrl(be+Gt(it));0==vt.length&&(vt=this._platformLocation.pathname),this._platformLocation.replaceState(k,ee,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}}return z.\u0275fac=function(k){return new(k||z)(l.LFG(ke),l.LFG(st,8))},z.\u0275prov=l.Yz7({token:z,factory:z.\u0275fac}),z})(),at=(()=>{class z{constructor(k){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const ee=this._locationStrategy.getBaseHref();this._baseHref=Je(Ft(ee)),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,ee=""){return this.path()==this.normalize(k+Gt(ee))}normalize(k){return z.stripTrailingSlash(function nt(z,W){return z&&W.startsWith(z)?W.substring(z.length):W}(this._baseHref,Ft(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,ee="",be=null){this._locationStrategy.pushState(be,"",k,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Gt(ee)),be)}replaceState(k,ee="",be=null){this._locationStrategy.replaceState(be,"",k,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Gt(ee)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",ee){this._urlChangeListeners.forEach(be=>be(k,ee))}subscribe(k,ee,be){return this._subject.subscribe({next:k,error:ee,complete:be})}}return z.normalizeQueryParams=Gt,z.joinWithSlash=ot,z.stripTrailingSlash=Je,z.\u0275fac=function(k){return new(k||z)(l.LFG(ft))},z.\u0275prov=l.Yz7({token:z,factory:function(){return function mt(){return new at((0,l.LFG)(ft))}()},providedIn:"root"}),z})();function Ft(z){return z.replace(/\/index.html$/,"")}var Me=(()=>((Me=Me||{})[Me.Format=0]="Format",Me[Me.Standalone=1]="Standalone",Me))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),rt=(()=>((rt=rt||{})[rt.Short=0]="Short",rt[rt.Medium=1]="Medium",rt[rt.Long=2]="Long",rt[rt.Full=3]="Full",rt))(),He=(()=>((He=He||{})[He.Decimal=0]="Decimal",He[He.Group=1]="Group",He[He.List=2]="List",He[He.PercentSign=3]="PercentSign",He[He.PlusSign=4]="PlusSign",He[He.MinusSign=5]="MinusSign",He[He.Exponential=6]="Exponential",He[He.SuperscriptingExponent=7]="SuperscriptingExponent",He[He.PerMille=8]="PerMille",He[He.Infinity=9]="Infinity",He[He.NaN=10]="NaN",He[He.TimeSeparator=11]="TimeSeparator",He[He.CurrencyDecimal=12]="CurrencyDecimal",He[He.CurrencyGroup=13]="CurrencyGroup",He))();function N1(z,W){return $t((0,l.cg1)(z)[l.wAp.DateFormat],W)}function M1(z,W){return $t((0,l.cg1)(z)[l.wAp.TimeFormat],W)}function o2(z,W){return $t((0,l.cg1)(z)[l.wAp.DateTimeFormat],W)}function qt(z,W){const k=(0,l.cg1)(z),ee=k[l.wAp.NumberSymbols][W];if(typeof ee>"u"){if(W===He.CurrencyDecimal)return k[l.wAp.NumberSymbols][He.Decimal];if(W===He.CurrencyGroup)return k[l.wAp.NumberSymbols][He.Group]}return ee}function t2(z){if(!z[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${z[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $t(z,W){for(let k=W;k>-1;k--)if(typeof z[k]<"u")return z[k];throw new Error("Locale data API: locale data undefined")}function En(z){const[W,k]=z.split(":");return{hours:+W,minutes:+k}}const J2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,l1={},ut=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ne=(()=>((Ne=Ne||{})[Ne.Short=0]="Short",Ne[Ne.ShortGMT=1]="ShortGMT",Ne[Ne.Long=2]="Long",Ne[Ne.Extended=3]="Extended",Ne))(),ye=(()=>((ye=ye||{})[ye.FullYear=0]="FullYear",ye[ye.Month=1]="Month",ye[ye.Date=2]="Date",ye[ye.Hours=3]="Hours",ye[ye.Minutes=4]="Minutes",ye[ye.Seconds=5]="Seconds",ye[ye.FractionalSeconds=6]="FractionalSeconds",ye[ye.Day=7]="Day",ye))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function wt(z,W,k,ee){let be=function o1(z){if(H1(z))return z;if("number"==typeof z&&!isNaN(z))return new Date(z);if("string"==typeof z){if(z=z.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(z)){const[be,it=1,vt=1]=z.split("-").map(a1=>+a1);return u1(be,it-1,vt)}const k=parseFloat(z);if(!isNaN(z-k))return new Date(k);let ee;if(ee=z.match(J2))return function n1(z){const W=new Date(0);let k=0,ee=0;const be=z[8]?W.setUTCFullYear:W.setFullYear,it=z[8]?W.setUTCHours:W.setHours;z[9]&&(k=Number(z[9]+z[10]),ee=Number(z[9]+z[11])),be.call(W,Number(z[1]),Number(z[2])-1,Number(z[3]));const vt=Number(z[4]||0)-k,a1=Number(z[5]||0)-ee,nn=Number(z[6]||0),hn=Math.floor(1e3*parseFloat("0."+(z[7]||0)));return it.call(W,vt,a1,nn,hn),W}(ee)}const W=new Date(z);if(!H1(W))throw new Error(`Unable to convert "${z}" into a date`);return W}(z);W=y1(k,W)||W;let a1,vt=[];for(;W;){if(a1=ut.exec(W),!a1){vt.push(W);break}{vt=vt.concat(a1.slice(1));const _n=vt.pop();if(!_n)break;W=_n}}let nn=be.getTimezoneOffset();ee&&(nn=Pe(ee,nn),be=function Ze(z,W,k){const ee=k?-1:1,be=z.getTimezoneOffset();return function Dt(z,W){return(z=new Date(z.getTime())).setMinutes(z.getMinutes()+W),z}(z,ee*(Pe(W,be)-be))}(be,ee,!0));let hn="";return vt.forEach(_n=>{const pn=function we(z){if(xe[z])return xe[z];let W;switch(z){case"G":case"GG":case"GGG":W=tn(ct.Eras,Le.Abbreviated);break;case"GGGG":W=tn(ct.Eras,Le.Wide);break;case"GGGGG":W=tn(ct.Eras,Le.Narrow);break;case"y":W=X1(ye.FullYear,1,0,!1,!0);break;case"yy":W=X1(ye.FullYear,2,0,!0,!0);break;case"yyy":W=X1(ye.FullYear,3,0,!1,!0);break;case"yyyy":W=X1(ye.FullYear,4,0,!1,!0);break;case"Y":W=P1(1);break;case"YY":W=P1(2,!0);break;case"YYY":W=P1(3);break;case"YYYY":W=P1(4);break;case"M":case"L":W=X1(ye.Month,1,1);break;case"MM":case"LL":W=X1(ye.Month,2,1);break;case"MMM":W=tn(ct.Months,Le.Abbreviated);break;case"MMMM":W=tn(ct.Months,Le.Wide);break;case"MMMMM":W=tn(ct.Months,Le.Narrow);break;case"LLL":W=tn(ct.Months,Le.Abbreviated,Me.Standalone);break;case"LLLL":W=tn(ct.Months,Le.Wide,Me.Standalone);break;case"LLLLL":W=tn(ct.Months,Le.Narrow,Me.Standalone);break;case"w":W=k1(1);break;case"ww":W=k1(2);break;case"W":W=k1(1,!0);break;case"d":W=X1(ye.Date,1);break;case"dd":W=X1(ye.Date,2);break;case"c":case"cc":W=X1(ye.Day,1);break;case"ccc":W=tn(ct.Days,Le.Abbreviated,Me.Standalone);break;case"cccc":W=tn(ct.Days,Le.Wide,Me.Standalone);break;case"ccccc":W=tn(ct.Days,Le.Narrow,Me.Standalone);break;case"cccccc":W=tn(ct.Days,Le.Short,Me.Standalone);break;case"E":case"EE":case"EEE":W=tn(ct.Days,Le.Abbreviated);break;case"EEEE":W=tn(ct.Days,Le.Wide);break;case"EEEEE":W=tn(ct.Days,Le.Narrow);break;case"EEEEEE":W=tn(ct.Days,Le.Short);break;case"a":case"aa":case"aaa":W=tn(ct.DayPeriods,Le.Abbreviated);break;case"aaaa":W=tn(ct.DayPeriods,Le.Wide);break;case"aaaaa":W=tn(ct.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":W=tn(ct.DayPeriods,Le.Abbreviated,Me.Standalone,!0);break;case"bbbb":W=tn(ct.DayPeriods,Le.Wide,Me.Standalone,!0);break;case"bbbbb":W=tn(ct.DayPeriods,Le.Narrow,Me.Standalone,!0);break;case"B":case"BB":case"BBB":W=tn(ct.DayPeriods,Le.Abbreviated,Me.Format,!0);break;case"BBBB":W=tn(ct.DayPeriods,Le.Wide,Me.Format,!0);break;case"BBBBB":W=tn(ct.DayPeriods,Le.Narrow,Me.Format,!0);break;case"h":W=X1(ye.Hours,1,-12);break;case"hh":W=X1(ye.Hours,2,-12);break;case"H":W=X1(ye.Hours,1);break;case"HH":W=X1(ye.Hours,2);break;case"m":W=X1(ye.Minutes,1);break;case"mm":W=X1(ye.Minutes,2);break;case"s":W=X1(ye.Seconds,1);break;case"ss":W=X1(ye.Seconds,2);break;case"S":W=X1(ye.FractionalSeconds,1);break;case"SS":W=X1(ye.FractionalSeconds,2);break;case"SSS":W=X1(ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=an(Ne.Short);break;case"ZZZZZ":W=an(Ne.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=an(Ne.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=an(Ne.Long);break;default:return null}return xe[z]=W,W}(_n);hn+=pn?pn(be,k,nn):"''"===_n?"'":_n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),hn}function u1(z,W,k){const ee=new Date(0);return ee.setFullYear(z,W,k),ee.setHours(0,0,0),ee}function y1(z,W){const k=function Rt(z){return(0,l.cg1)(z)[l.wAp.LocaleId]}(z);if(l1[k]=l1[k]||{},l1[k][W])return l1[k][W];let ee="";switch(W){case"shortDate":ee=N1(z,rt.Short);break;case"mediumDate":ee=N1(z,rt.Medium);break;case"longDate":ee=N1(z,rt.Long);break;case"fullDate":ee=N1(z,rt.Full);break;case"shortTime":ee=M1(z,rt.Short);break;case"mediumTime":ee=M1(z,rt.Medium);break;case"longTime":ee=M1(z,rt.Long);break;case"fullTime":ee=M1(z,rt.Full);break;case"short":const be=y1(z,"shortTime"),it=y1(z,"shortDate");ee=h1(o2(z,rt.Short),[be,it]);break;case"medium":const vt=y1(z,"mediumTime"),a1=y1(z,"mediumDate");ee=h1(o2(z,rt.Medium),[vt,a1]);break;case"long":const nn=y1(z,"longTime"),hn=y1(z,"longDate");ee=h1(o2(z,rt.Long),[nn,hn]);break;case"full":const _n=y1(z,"fullTime"),pn=y1(z,"fullDate");ee=h1(o2(z,rt.Full),[_n,pn])}return ee&&(l1[k][W]=ee),ee}function h1(z,W){return W&&(z=z.replace(/\{([^}]+)}/g,function(k,ee){return null!=W&&ee in W?W[ee]:k})),z}function Yt(z,W,k="-",ee,be){let it="";(z<0||be&&z<=0)&&(be?z=1-z:(z=-z,it=k));let vt=String(z);for(;vt.length<W;)vt="0"+vt;return ee&&(vt=vt.slice(vt.length-W)),it+vt}function X1(z,W,k=0,ee=!1,be=!1){return function(it,vt){let a1=function a2(z,W){switch(z){case ye.FullYear:return W.getFullYear();case ye.Month:return W.getMonth();case ye.Date:return W.getDate();case ye.Hours:return W.getHours();case ye.Minutes:return W.getMinutes();case ye.Seconds:return W.getSeconds();case ye.FractionalSeconds:return W.getMilliseconds();case ye.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${z}".`)}}(z,it);if((k>0||a1>-k)&&(a1+=k),z===ye.Hours)0===a1&&-12===k&&(a1=12);else if(z===ye.FractionalSeconds)return function yn(z,W){return Yt(z,3).substring(0,W)}(a1,W);const nn=qt(vt,He.MinusSign);return Yt(a1,W,nn,ee,be)}}function tn(z,W,k=Me.Format,ee=!1){return function(be,it){return function Z1(z,W,k,ee,be,it){switch(k){case ct.Months:return function L1(z,W,k){const ee=(0,l.cg1)(z),it=$t([ee[l.wAp.MonthsFormat],ee[l.wAp.MonthsStandalone]],W);return $t(it,k)}(W,be,ee)[z.getMonth()];case ct.Days:return function B1(z,W,k){const ee=(0,l.cg1)(z),it=$t([ee[l.wAp.DaysFormat],ee[l.wAp.DaysStandalone]],W);return $t(it,k)}(W,be,ee)[z.getDay()];case ct.DayPeriods:const vt=z.getHours(),a1=z.getMinutes();if(it){const hn=function $1(z){const W=(0,l.cg1)(z);return t2(W),(W[l.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?En(ee):[En(ee[0]),En(ee[1])])}(W),_n=function vn(z,W,k){const ee=(0,l.cg1)(z);t2(ee);const it=$t([ee[l.wAp.ExtraData][0],ee[l.wAp.ExtraData][1]],W)||[];return $t(it,k)||[]}(W,be,ee),pn=hn.findIndex(m2=>{if(Array.isArray(m2)){const[Kn,Nn]=m2,Or=vt>=Kn.hours&&a1>=Kn.minutes,yr=vt<Nn.hours||vt===Nn.hours&&a1<Nn.minutes;if(Kn.hours<Nn.hours){if(Or&&yr)return!0}else if(Or||yr)return!0}else if(m2.hours===vt&&m2.minutes===a1)return!0;return!1});if(-1!==pn)return _n[pn]}return function v1(z,W,k){const ee=(0,l.cg1)(z),it=$t([ee[l.wAp.DayPeriodsFormat],ee[l.wAp.DayPeriodsStandalone]],W);return $t(it,k)}(W,be,ee)[vt<12?0:1];case ct.Eras:return function Pt(z,W){return $t((0,l.cg1)(z)[l.wAp.Eras],W)}(W,ee)[z.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(be,it,z,W,k,ee)}}function an(z){return function(W,k,ee){const be=-1*ee,it=qt(k,He.MinusSign),vt=be>0?Math.floor(be/60):Math.ceil(be/60);switch(z){case Ne.Short:return(be>=0?"+":"")+Yt(vt,2,it)+Yt(Math.abs(be%60),2,it);case Ne.ShortGMT:return"GMT"+(be>=0?"+":"")+Yt(vt,1,it);case Ne.Long:return"GMT"+(be>=0?"+":"")+Yt(vt,2,it)+":"+Yt(Math.abs(be%60),2,it);case Ne.Extended:return 0===ee?"Z":(be>=0?"+":"")+Yt(vt,2,it)+":"+Yt(Math.abs(be%60),2,it);default:throw new Error(`Unknown zone width "${z}"`)}}}function z1(z){return u1(z.getFullYear(),z.getMonth(),z.getDate()+(4-z.getDay()))}function k1(z,W=!1){return function(k,ee){let be;if(W){const it=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,vt=k.getDate();be=1+Math.floor((vt+it)/7)}else{const it=z1(k),vt=function e1(z){const W=u1(z,0,1).getDay();return u1(z,0,1+(W<=4?4:11)-W)}(it.getFullYear()),a1=it.getTime()-vt.getTime();be=1+Math.round(a1/6048e5)}return Yt(be,z,qt(ee,He.MinusSign))}}function P1(z,W=!1){return function(k,ee){return Yt(z1(k).getFullYear(),z,qt(ee,He.MinusSign),W)}}const xe={};function Pe(z,W){z=z.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+z)/6e4;return isNaN(k)?W:k}function H1(z){return z instanceof Date&&!isNaN(z.valueOf())}function _i(z,W){W=encodeURIComponent(W);for(const k of z.split(";")){const ee=k.indexOf("="),[be,it]=-1==ee?[k,""]:[k.slice(0,ee),k.slice(ee+1)];if(be.trim()===W)return decodeURIComponent(it)}return null}let Hn=(()=>{class z{constructor(k,ee,be,it){this._iterableDiffers=k,this._keyValueDiffers=ee,this._ngEl=be,this._renderer=it,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),k.forEachChangedItem(ee=>this._toggleClass(ee.key,ee.currentValue)),k.forEachRemovedItem(ee=>{ee.previousValue&&this._toggleClass(ee.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(ee=>{if("string"!=typeof ee.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(ee.item)}`);this._toggleClass(ee.item,!0)}),k.forEachRemovedItem(ee=>this._toggleClass(ee.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(ee=>this._toggleClass(ee,!0)):Object.keys(k).forEach(ee=>this._toggleClass(ee,!!k[ee])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(ee=>this._toggleClass(ee,!1)):Object.keys(k).forEach(ee=>this._toggleClass(ee,!1)))}_toggleClass(k,ee){(k=k.trim())&&k.split(/\s+/g).forEach(be=>{ee?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},z.\u0275dir=l.lG2({type:z,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),z})();class X2{constructor(W,k,ee,be){this.$implicit=W,this.ngForOf=k,this.index=ee,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hi=(()=>{class z{constructor(k,ee,be){this._viewContainer=k,this._template=ee,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const ee=this._viewContainer;k.forEachOperation((be,it,vt)=>{if(null==be.previousIndex)ee.createEmbeddedView(this._template,new X2(be.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)ee.remove(null===it?void 0:it);else if(null!==it){const a1=ee.get(it);ee.move(a1,vt),pi(a1,be)}});for(let be=0,it=ee.length;be<it;be++){const a1=ee.get(be).context;a1.index=be,a1.count=it,a1.ngForOf=this._ngForOf}k.forEachIdentityChange(be=>{pi(ee.get(be.currentIndex),be)})}static ngTemplateContextGuard(k,ee){return!0}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},z.\u0275dir=l.lG2({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),z})();function pi(z,W){z.context.$implicit=W.item}let qn=(()=>{class z{constructor(k,ee){this._viewContainer=k,this._context=new Vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){kn("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){kn("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,ee){return!0}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.s_b),l.Y36(l.Rgc))},z.\u0275dir=l.lG2({type:z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),z})();class Vi{constructor(){this.$implicit=null,this.ngIf=null}}function kn(z,W){if(W&&!W.createEmbeddedView)throw new Error(`${z} must be a TemplateRef, but received '${(0,l.AaK)(W)}'.`)}let Es=(()=>{class z{constructor(k,ee,be){this._ngEl=k,this._differs=ee,this._renderer=be,this._ngStyle=null,this._differ=null}set ngStyle(k){this._ngStyle=k,!this._differ&&k&&(this._differ=this._differs.find(k).create())}ngDoCheck(){if(this._differ){const k=this._differ.diff(this._ngStyle);k&&this._applyChanges(k)}}_setStyle(k,ee){const[be,it]=k.split("."),vt=-1===be.indexOf("-")?void 0:l.JOm.DashCase;null!=ee?this._renderer.setStyle(this._ngEl.nativeElement,be,it?`${ee}${it}`:ee,vt):this._renderer.removeStyle(this._ngEl.nativeElement,be,vt)}_applyChanges(k){k.forEachRemovedItem(ee=>this._setStyle(ee.key,null)),k.forEachAddedItem(ee=>this._setStyle(ee.key,ee.currentValue)),k.forEachChangedItem(ee=>this._setStyle(ee.key,ee.currentValue))}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},z.\u0275dir=l.lG2({type:z,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),z})(),$2=(()=>{class z{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:be,ngTemplateOutletContext:it,ngTemplateOutletInjector:vt}=this;this._viewRef=ee.createEmbeddedView(be,it,vt?{injector:vt}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.s_b))},z.\u0275dir=l.lG2({type:z,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),z})();function b2(z,W){return new l.vHH(2100,!1)}class Ye{createSubscription(W,k){return W.subscribe({next:k,error:ee=>{throw ee}})}dispose(W){W.unsubscribe()}}class $e{createSubscription(W,k){return W.then(k,ee=>{throw ee})}dispose(W){}}const Xe=new $e,xt=new Ye;let Xt=(()=>{class z{constructor(k){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=k}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,ee=>this._updateLatestValue(k,ee))}_selectStrategy(k){if((0,l.QGY)(k))return Xe;if((0,l.F4k)(k))return xt;throw b2()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,ee){k===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.sBO,16))},z.\u0275pipe=l.Yjl({name:"async",type:z,pure:!1,standalone:!0}),z})();const Zi=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let er=(()=>{class z{constructor(k,ee){this.locale=k,this.defaultTimezone=ee}transform(k,ee="mediumDate",be,it){if(null==k||""===k||k!=k)return null;try{return wt(k,ee,it||this.locale,be??this.defaultTimezone??void 0)}catch(vt){throw b2()}}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.soG,16),l.Y36(Zi,24))},z.\u0275pipe=l.Yjl({name:"date",type:z,pure:!0,standalone:!0}),z})(),wi=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=l.oAB({type:z}),z.\u0275inj=l.cJS({}),z})();const Ai="browser";function Us(z){return z===Ai}function f2(z){return"server"===z}let hr=(()=>{class z{}return z.\u0275prov=(0,l.Yz7)({token:z,providedIn:"root",factory:()=>new n2((0,l.LFG)(Se),window)}),z})();class n2{constructor(W,k){this.document=W,this.window=k,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const k=function k2(z,W){const k=z.getElementById(W)||z.getElementsByName(W)[0];if(k)return k;if("function"==typeof z.createTreeWalker&&z.body&&(z.body.createShadowRoot||z.body.attachShadow)){const ee=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let be=ee.currentNode;for(;be;){const it=be.shadowRoot;if(it){const vt=it.getElementById(W)||it.querySelector(`[name="${W}"]`);if(vt)return vt}be=ee.nextNode()}}return null}(this.document,W);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=W)}}scrollToElement(W){const k=W.getBoundingClientRect(),ee=k.left+this.window.pageXOffset,be=k.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(ee-it[0],be-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ti(z){return Object.getOwnPropertyDescriptor(z,"scrollRestoration")}class ms{}},529:(r1,Qe,F)=>{F.d(Qe,{JF:()=>A2});var l=F(6895),C=F(4650),X=F(9646),Ee=F(9751),Ie=F(4351),Te=F(9300),Se=F(4004);class ke{}class Ve{}class fe{constructor(Ne){this.normalizedNames=new Map,this.lazyUpdate=null,Ne?this.lazyInit="string"==typeof Ne?()=>{this.headers=new Map,Ne.split("\n").forEach(ye=>{const ct=ye.indexOf(":");if(ct>0){const wt=ye.slice(0,ct),u1=wt.toLowerCase(),y1=ye.slice(ct+1).trim();this.maybeSetNormalizedName(wt,u1),this.headers.has(u1)?this.headers.get(u1).push(y1):this.headers.set(u1,[y1])}})}:()=>{this.headers=new Map,Object.keys(Ne).forEach(ye=>{let ct=Ne[ye];const wt=ye.toLowerCase();"string"==typeof ct&&(ct=[ct]),ct.length>0&&(this.headers.set(wt,ct),this.maybeSetNormalizedName(ye,wt))})}:this.headers=new Map}has(Ne){return this.init(),this.headers.has(Ne.toLowerCase())}get(Ne){this.init();const ye=this.headers.get(Ne.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ne){return this.init(),this.headers.get(Ne.toLowerCase())||null}append(Ne,ye){return this.clone({name:Ne,value:ye,op:"a"})}set(Ne,ye){return this.clone({name:Ne,value:ye,op:"s"})}delete(Ne,ye){return this.clone({name:Ne,value:ye,op:"d"})}maybeSetNormalizedName(Ne,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,Ne)}init(){this.lazyInit&&(this.lazyInit instanceof fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ne=>this.applyUpdate(Ne)),this.lazyUpdate=null))}copyFrom(Ne){Ne.init(),Array.from(Ne.headers.keys()).forEach(ye=>{this.headers.set(ye,Ne.headers.get(ye)),this.normalizedNames.set(ye,Ne.normalizedNames.get(ye))})}clone(Ne){const ye=new fe;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof fe?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([Ne]),ye}applyUpdate(Ne){const ye=Ne.name.toLowerCase();switch(Ne.op){case"a":case"s":let ct=Ne.value;if("string"==typeof ct&&(ct=[ct]),0===ct.length)return;this.maybeSetNormalizedName(Ne.name,ye);const wt=("a"===Ne.op?this.headers.get(ye):void 0)||[];wt.push(...ct),this.headers.set(ye,wt);break;case"d":const u1=Ne.value;if(u1){let y1=this.headers.get(ye);if(!y1)return;y1=y1.filter(h1=>-1===u1.indexOf(h1)),0===y1.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,y1)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(Ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>Ne(this.normalizedNames.get(ye),this.headers.get(ye)))}}class ze{encodeKey(Ne){return Gt(Ne)}encodeValue(Ne){return Gt(Ne)}decodeKey(Ne){return decodeURIComponent(Ne)}decodeValue(Ne){return decodeURIComponent(Ne)}}const ot=/%(\d[a-f0-9])/gi,Je={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gt(ut){return encodeURIComponent(ut).replace(ot,(Ne,ye)=>Je[ye]??Ne)}function ft(ut){return`${ut}`}class st{constructor(Ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ne.encoder||new ze,Ne.fromString){if(Ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pt(ut,Ne){const ye=new Map;return ut.length>0&&ut.replace(/^\?/,"").split("&").forEach(wt=>{const u1=wt.indexOf("="),[y1,h1]=-1==u1?[Ne.decodeKey(wt),""]:[Ne.decodeKey(wt.slice(0,u1)),Ne.decodeValue(wt.slice(u1+1))],Yt=ye.get(y1)||[];Yt.push(h1),ye.set(y1,Yt)}),ye}(Ne.fromString,this.encoder)}else Ne.fromObject?(this.map=new Map,Object.keys(Ne.fromObject).forEach(ye=>{const ct=Ne.fromObject[ye],wt=Array.isArray(ct)?ct.map(ft):[ft(ct)];this.map.set(ye,wt)})):this.map=null}has(Ne){return this.init(),this.map.has(Ne)}get(Ne){this.init();const ye=this.map.get(Ne);return ye?ye[0]:null}getAll(Ne){return this.init(),this.map.get(Ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ne,ye){return this.clone({param:Ne,value:ye,op:"a"})}appendAll(Ne){const ye=[];return Object.keys(Ne).forEach(ct=>{const wt=Ne[ct];Array.isArray(wt)?wt.forEach(u1=>{ye.push({param:ct,value:u1,op:"a"})}):ye.push({param:ct,value:wt,op:"a"})}),this.clone(ye)}set(Ne,ye){return this.clone({param:Ne,value:ye,op:"s"})}delete(Ne,ye){return this.clone({param:Ne,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(Ne=>{const ye=this.encoder.encodeKey(Ne);return this.map.get(Ne).map(ct=>ye+"="+this.encoder.encodeValue(ct)).join("&")}).filter(Ne=>""!==Ne).join("&")}clone(Ne){const ye=new st({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(Ne),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ne=>this.map.set(Ne,this.cloneFrom.map.get(Ne))),this.updates.forEach(Ne=>{switch(Ne.op){case"a":case"s":const ye=("a"===Ne.op?this.map.get(Ne.param):void 0)||[];ye.push(ft(Ne.value)),this.map.set(Ne.param,ye);break;case"d":if(void 0===Ne.value){this.map.delete(Ne.param);break}{let ct=this.map.get(Ne.param)||[];const wt=ct.indexOf(ft(Ne.value));-1!==wt&&ct.splice(wt,1),ct.length>0?this.map.set(Ne.param,ct):this.map.delete(Ne.param)}}}),this.cloneFrom=this.updates=null)}}class s1{constructor(){this.map=new Map}set(Ne,ye){return this.map.set(Ne,ye),this}get(Ne){return this.map.has(Ne)||this.map.set(Ne,Ne.defaultValue()),this.map.get(Ne)}delete(Ne){return this.map.delete(Ne),this}has(Ne){return this.map.has(Ne)}keys(){return this.map.keys()}}function mt(ut){return typeof ArrayBuffer<"u"&&ut instanceof ArrayBuffer}function nt(ut){return typeof Blob<"u"&&ut instanceof Blob}function Ft(ut){return typeof FormData<"u"&&ut instanceof FormData}class ce{constructor(Ne,ye,ct,wt){let u1;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ne.toUpperCase(),function at(ut){switch(ut){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==ct?ct:null,u1=wt):u1=ct,u1&&(this.reportProgress=!!u1.reportProgress,this.withCredentials=!!u1.withCredentials,u1.responseType&&(this.responseType=u1.responseType),u1.headers&&(this.headers=u1.headers),u1.context&&(this.context=u1.context),u1.params&&(this.params=u1.params)),this.headers||(this.headers=new fe),this.context||(this.context=new s1),this.params){const y1=this.params.toString();if(0===y1.length)this.urlWithParams=ye;else{const h1=ye.indexOf("?");this.urlWithParams=ye+(-1===h1?"?":h1<ye.length-1?"&":"")+y1}}else this.params=new st,this.urlWithParams=ye}serializeBody(){return null===this.body?null:mt(this.body)||nt(this.body)||Ft(this.body)||function Mt(ut){return typeof URLSearchParams<"u"&&ut instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof st?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ft(this.body)?null:nt(this.body)?this.body.type||null:mt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof st?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ne={}){const ye=Ne.method||this.method,ct=Ne.url||this.url,wt=Ne.responseType||this.responseType,u1=void 0!==Ne.body?Ne.body:this.body,y1=void 0!==Ne.withCredentials?Ne.withCredentials:this.withCredentials,h1=void 0!==Ne.reportProgress?Ne.reportProgress:this.reportProgress;let Yt=Ne.headers||this.headers,yn=Ne.params||this.params;const X1=Ne.context??this.context;return void 0!==Ne.setHeaders&&(Yt=Object.keys(Ne.setHeaders).reduce((a2,tn)=>a2.set(tn,Ne.setHeaders[tn]),Yt)),Ne.setParams&&(yn=Object.keys(Ne.setParams).reduce((a2,tn)=>a2.set(tn,Ne.setParams[tn]),yn)),new ce(ye,ct,u1,{params:yn,headers:Yt,context:X1,reportProgress:h1,responseType:wt,withCredentials:y1})}}var tt=(()=>((tt=tt||{})[tt.Sent=0]="Sent",tt[tt.UploadProgress=1]="UploadProgress",tt[tt.ResponseHeader=2]="ResponseHeader",tt[tt.DownloadProgress=3]="DownloadProgress",tt[tt.Response=4]="Response",tt[tt.User=5]="User",tt))();class Me{constructor(Ne,ye=200,ct="OK"){this.headers=Ne.headers||new fe,this.status=void 0!==Ne.status?Ne.status:ye,this.statusText=Ne.statusText||ct,this.url=Ne.url||null,this.ok=this.status>=200&&this.status<300}}class Le extends Me{constructor(Ne={}){super(Ne),this.type=tt.ResponseHeader}clone(Ne={}){return new Le({headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class rt extends Me{constructor(Ne={}){super(Ne),this.type=tt.Response,this.body=void 0!==Ne.body?Ne.body:null}clone(Ne={}){return new rt({body:void 0!==Ne.body?Ne.body:this.body,headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class He extends Me{constructor(Ne){super(Ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ne.url||"(unknown url)"}`:`Http failure response for ${Ne.url||"(unknown url)"}: ${Ne.status} ${Ne.statusText}`,this.error=Ne.error||null}}function Lt(ut,Ne){return{body:Ne,headers:ut.headers,context:ut.context,observe:ut.observe,params:ut.params,reportProgress:ut.reportProgress,responseType:ut.responseType,withCredentials:ut.withCredentials}}let Rt=(()=>{class ut{constructor(ye){this.handler=ye}request(ye,ct,wt={}){let u1;if(ye instanceof ce)u1=ye;else{let Yt,yn;Yt=wt.headers instanceof fe?wt.headers:new fe(wt.headers),wt.params&&(yn=wt.params instanceof st?wt.params:new st({fromObject:wt.params})),u1=new ce(ye,ct,void 0!==wt.body?wt.body:null,{headers:Yt,context:wt.context,params:yn,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials})}const y1=(0,X.of)(u1).pipe((0,Ie.b)(Yt=>this.handler.handle(Yt)));if(ye instanceof ce||"events"===wt.observe)return y1;const h1=y1.pipe((0,Te.h)(Yt=>Yt instanceof rt));switch(wt.observe||"body"){case"body":switch(u1.responseType){case"arraybuffer":return h1.pipe((0,Se.U)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Yt.body}));case"blob":return h1.pipe((0,Se.U)(Yt=>{if(null!==Yt.body&&!(Yt.body instanceof Blob))throw new Error("Response is not a Blob.");return Yt.body}));case"text":return h1.pipe((0,Se.U)(Yt=>{if(null!==Yt.body&&"string"!=typeof Yt.body)throw new Error("Response is not a string.");return Yt.body}));default:return h1.pipe((0,Se.U)(Yt=>Yt.body))}case"response":return h1;default:throw new Error(`Unreachable: unhandled observe type ${wt.observe}}`)}}delete(ye,ct={}){return this.request("DELETE",ye,ct)}get(ye,ct={}){return this.request("GET",ye,ct)}head(ye,ct={}){return this.request("HEAD",ye,ct)}jsonp(ye,ct){return this.request("JSONP",ye,{params:(new st).append(ct,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,ct={}){return this.request("OPTIONS",ye,ct)}patch(ye,ct,wt={}){return this.request("PATCH",ye,Lt(wt,ct))}post(ye,ct,wt={}){return this.request("POST",ye,Lt(wt,ct))}put(ye,ct,wt={}){return this.request("PUT",ye,Lt(wt,ct))}}return ut.\u0275fac=function(ye){return new(ye||ut)(C.LFG(ke))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class v1{constructor(Ne,ye){this.next=Ne,this.interceptor=ye}handle(Ne){return this.interceptor.intercept(Ne,this.next)}}const B1=new C.OlP("HTTP_INTERCEPTORS");let L1=(()=>{class ut{intercept(ye,ct){return ct.handle(ye)}}return ut.\u0275fac=function(ye){return new(ye||ut)},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const Ln=/^\)\]\}',?\n/;let Xn=(()=>{class ut{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ee.y(ct=>{const wt=this.xhrFactory.build();if(wt.open(ye.method,ye.urlWithParams),ye.withCredentials&&(wt.withCredentials=!0),ye.headers.forEach((Z1,an)=>wt.setRequestHeader(Z1,an.join(","))),ye.headers.has("Accept")||wt.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const Z1=ye.detectContentTypeHeader();null!==Z1&&wt.setRequestHeader("Content-Type",Z1)}if(ye.responseType){const Z1=ye.responseType.toLowerCase();wt.responseType="json"!==Z1?Z1:"text"}const u1=ye.serializeBody();let y1=null;const h1=()=>{if(null!==y1)return y1;const Z1=wt.statusText||"OK",an=new fe(wt.getAllResponseHeaders()),d1=function Un(ut){return"responseURL"in ut&&ut.responseURL?ut.responseURL:/^X-Request-URL:/m.test(ut.getAllResponseHeaders())?ut.getResponseHeader("X-Request-URL"):null}(wt)||ye.url;return y1=new Le({headers:an,status:wt.status,statusText:Z1,url:d1}),y1},Yt=()=>{let{headers:Z1,status:an,statusText:d1,url:At}=h1(),e1=null;204!==an&&(e1=typeof wt.response>"u"?wt.responseText:wt.response),0===an&&(an=e1?200:0);let z1=an>=200&&an<300;if("json"===ye.responseType&&"string"==typeof e1){const k1=e1;e1=e1.replace(Ln,"");try{e1=""!==e1?JSON.parse(e1):null}catch(P1){e1=k1,z1&&(z1=!1,e1={error:P1,text:e1})}}z1?(ct.next(new rt({body:e1,headers:Z1,status:an,statusText:d1,url:At||void 0})),ct.complete()):ct.error(new He({error:e1,headers:Z1,status:an,statusText:d1,url:At||void 0}))},yn=Z1=>{const{url:an}=h1(),d1=new He({error:Z1,status:wt.status||0,statusText:wt.statusText||"Unknown Error",url:an||void 0});ct.error(d1)};let X1=!1;const a2=Z1=>{X1||(ct.next(h1()),X1=!0);let an={type:tt.DownloadProgress,loaded:Z1.loaded};Z1.lengthComputable&&(an.total=Z1.total),"text"===ye.responseType&&!!wt.responseText&&(an.partialText=wt.responseText),ct.next(an)},tn=Z1=>{let an={type:tt.UploadProgress,loaded:Z1.loaded};Z1.lengthComputable&&(an.total=Z1.total),ct.next(an)};return wt.addEventListener("load",Yt),wt.addEventListener("error",yn),wt.addEventListener("timeout",yn),wt.addEventListener("abort",yn),ye.reportProgress&&(wt.addEventListener("progress",a2),null!==u1&&wt.upload&&wt.upload.addEventListener("progress",tn)),wt.send(u1),ct.next({type:tt.Sent}),()=>{wt.removeEventListener("error",yn),wt.removeEventListener("abort",yn),wt.removeEventListener("load",Yt),wt.removeEventListener("timeout",yn),ye.reportProgress&&(wt.removeEventListener("progress",a2),null!==u1&&wt.upload&&wt.upload.removeEventListener("progress",tn)),wt.readyState!==wt.DONE&&wt.abort()}})}}return ut.\u0275fac=function(ye){return new(ye||ut)(C.LFG(l.JF))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const jn=new C.OlP("XSRF_COOKIE_NAME"),t2=new C.OlP("XSRF_HEADER_NAME");class $1{}let vn=(()=>{class ut{constructor(ye,ct,wt){this.doc=ye,this.platform=ct,this.cookieName=wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,l.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return ut.\u0275fac=function(ye){return new(ye||ut)(C.LFG(l.K0),C.LFG(C.Lbi),C.LFG(jn))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),l2=(()=>{class ut{constructor(ye,ct){this.tokenService=ye,this.headerName=ct}intercept(ye,ct){const wt=ye.url.toLowerCase();if("GET"===ye.method||"HEAD"===ye.method||wt.startsWith("http://")||wt.startsWith("https://"))return ct.handle(ye);const u1=this.tokenService.getToken();return null!==u1&&!ye.headers.has(this.headerName)&&(ye=ye.clone({headers:ye.headers.set(this.headerName,u1)})),ct.handle(ye)}}return ut.\u0275fac=function(ye){return new(ye||ut)(C.LFG($1),C.LFG(t2))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),$t=(()=>{class ut{constructor(ye,ct){this.backend=ye,this.injector=ct,this.chain=null}handle(ye){if(null===this.chain){const ct=this.injector.get(B1,[]);this.chain=ct.reduceRight((wt,u1)=>new v1(wt,u1),this.backend)}return this.chain.handle(ye)}}return ut.\u0275fac=function(ye){return new(ye||ut)(C.LFG(Ve),C.LFG(C.zs3))},ut.\u0275prov=C.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),mn=(()=>{class ut{static disable(){return{ngModule:ut,providers:[{provide:l2,useClass:L1}]}}static withOptions(ye={}){return{ngModule:ut,providers:[ye.cookieName?{provide:jn,useValue:ye.cookieName}:[],ye.headerName?{provide:t2,useValue:ye.headerName}:[]]}}}return ut.\u0275fac=function(ye){return new(ye||ut)},ut.\u0275mod=C.oAB({type:ut}),ut.\u0275inj=C.cJS({providers:[l2,{provide:B1,useExisting:l2,multi:!0},{provide:$1,useClass:vn},{provide:jn,useValue:"XSRF-TOKEN"},{provide:t2,useValue:"X-XSRF-TOKEN"}]}),ut})(),A2=(()=>{class ut{}return ut.\u0275fac=function(ye){return new(ye||ut)},ut.\u0275mod=C.oAB({type:ut}),ut.\u0275inj=C.cJS({providers:[Rt,{provide:ke,useClass:$t},Xn,{provide:Ve,useExisting:Xn}],imports:[mn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),ut})()},4650:(r1,Qe,F)=>{F.d(Qe,{$8M:()=>Oo,$Z:()=>Pl,AFp:()=>sh,ALo:()=>Sf,AaK:()=>ke,CHM:()=>mr,CRH:()=>Rf,CZH:()=>fu,CqO:()=>s9,D6c:()=>gg,DdM:()=>vf,EJc:()=>xm,EiD:()=>Nc,EpF:()=>U5,F$t:()=>R3,F4k:()=>L4,FYo:()=>n4,FiY:()=>C1,G48:()=>Qm,Gf:()=>Lf,GfV:()=>D4,Gpc:()=>he,Hsn:()=>oc,Ikx:()=>pc,JOm:()=>ks,JVY:()=>Qa,KtG:()=>zr,L6k:()=>C4,LAX:()=>B6,LFG:()=>ji,LMc:()=>yg,LSH:()=>Z6,Lbi:()=>Nm,Lck:()=>Ep,MAs:()=>P5,MGl:()=>ac,MMx:()=>B9,NdJ:()=>r3,OlP:()=>g2,Oqu:()=>w8,PXZ:()=>Zm,Q6J:()=>V5,QGY:()=>Ta,QP$:()=>H1,QbO:()=>Tm,Qsj:()=>Ea,QtT:()=>rf,R0b:()=>k4,RDi:()=>w,Rgc:()=>ul,SBq:()=>yo,SDv:()=>nf,Sil:()=>Lm,Suo:()=>Of,TTD:()=>Wi,TgZ:()=>f8,Tol:()=>O7,Udp:()=>dc,VKq:()=>yf,W1O:()=>Hf,WLB:()=>_f,X6Q:()=>Jm,XFs:()=>$t,Xpm:()=>At,Xts:()=>f,Y36:()=>I3,YKP:()=>cf,YNc:()=>i9,Yjl:()=>Dt,Yz7:()=>M1,Z0I:()=>Dn,ZZ4:()=>hd,_Bn:()=>af,_UZ:()=>F5,_Vd:()=>Da,_c5:()=>pg,_uU:()=>B7,aQg:()=>pd,c2e:()=>Am,cJS:()=>qt,cg1:()=>N8,dDg:()=>Um,dqk:()=>wt,eBb:()=>D3,eFA:()=>yh,ekj:()=>q5,eoX:()=>mh,f3M:()=>H,g9A:()=>ah,h0i:()=>I8,hGG:()=>mg,hij:()=>D8,iGM:()=>zf,ifc:()=>ct,ip1:()=>rh,jDz:()=>uf,kEZ:()=>bf,kL8:()=>Xo,lG2:()=>Pe,lcZ:()=>Nf,lqb:()=>s2,lri:()=>hh,mCW:()=>Xa,n5z:()=>L2,oAB:()=>P1,oJD:()=>l6,oxw:()=>f0,pB0:()=>U6,pQV:()=>R9,q3G:()=>v2,q4F:()=>V0,qLn:()=>h6,qOj:()=>c8,qZA:()=>h8,qzn:()=>wa,rWj:()=>ph,s9C:()=>E6,sBO:()=>Xm,sIi:()=>ic,s_b:()=>lu,soG:()=>hu,tb:()=>ch,tp0:()=>G1,uIk:()=>c0,vHH:()=>Je,vpe:()=>B3,wAp:()=>bn,xp6:()=>q8,z2F:()=>pu,z3N:()=>kr,zSh:()=>dn,zs3:()=>N4});var l=F(7579),C=F(727),X=F(9751),Ee=F(6451),Ie=F(3099);function Te(n){for(let i in n)if(n[i]===Te)return i;throw Error("Could not find renamed property on target object.")}function Se(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ve(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const fe=Te({__forward_ref__:Te});function he(n){return n.__forward_ref__=he,n.toString=function(){return ke(this())},n}function ze(n){return pt(n)?n():n}function pt(n){return"function"==typeof n&&n.hasOwnProperty(fe)&&n.__forward_ref__===he}class Je extends Error{constructor(i,o){super(function Gt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function ft(n){return"string"==typeof n?n:null==n?"":String(n)}function mt(n,i){throw new Je(-201,!1)}function Pt(n,i,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${i} <=Actual]`))}function M1(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function fn(n){return Ln(n,t2)||Ln(n,vn)}function Dn(n){return null!==fn(n)}function Ln(n,i){return n.hasOwnProperty(i)?n[i]:null}function jn(n){return n&&(n.hasOwnProperty($1)||n.hasOwnProperty(l2))?n[$1]:null}const t2=Te({\u0275prov:Te}),$1=Te({\u0275inj:Te}),vn=Te({ngInjectableDef:Te}),l2=Te({ngInjectorDef:Te});var $t=(()=>(($t=$t||{})[$t.Default=0]="Default",$t[$t.Host=1]="Host",$t[$t.Self=2]="Self",$t[$t.SkipSelf=4]="SkipSelf",$t[$t.Optional=8]="Optional",$t))();let En;function mn(n){const i=En;return En=n,i}function A2(n,i,o){const a=fn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&$t.Optional?null:void 0!==i?i:void mt(ke(n))}function l1(n){return{toString:n}.toString()}var ut=(()=>((ut=ut||{})[ut.OnPush=0]="OnPush",ut[ut.Default=1]="Default",ut))(),ct=(()=>{return(n=ct||(ct={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ct;var n})();const wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),h1={},Yt=[],yn=Te({\u0275cmp:Te}),X1=Te({\u0275dir:Te}),a2=Te({\u0275pipe:Te}),tn=Te({\u0275mod:Te}),Z1=Te({\u0275fac:Te}),an=Te({__NG_ELEMENT_ID__:Te});let d1=0;function At(n){return l1(()=>{const o=!0===n.standalone,a={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ut.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ct.Emulated,id:"c"+d1++,styles:n.styles||Yt,_:null,setInput:null,schemas:n.schemas||null,tView:null},m=n.dependencies,D=n.features;return d.inputs=we(n.inputs,a),d.outputs=we(n.outputs),D&&D.forEach(I=>I(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(z1).filter(k1):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(n1).filter(k1):null,d})}function z1(n){return Ze(n)||o1(n)}function k1(n){return null!==n}function P1(n){return l1(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function we(n,i){if(null==n)return h1;const o={};for(const a in n)if(n.hasOwnProperty(a)){let d=n[a],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),o[d]=a,i&&(i[d]=m)}return o}const Pe=At;function Dt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ze(n){return n[yn]||null}function o1(n){return n[X1]||null}function n1(n){return n[a2]||null}function H1(n){const i=Ze(n)||o1(n)||n1(n);return null!==i&&i.standalone}function cn(n,i){const o=n[tn]||null;if(!o&&!0===i)throw new Error(`Type ${ke(n)} does not have '\u0275mod' property.`);return o}function kn(n){return Array.isArray(n)&&"object"==typeof n[1]}function x2(n){return Array.isArray(n)&&!0===n[1]}function ur(n){return 0!=(8&n.flags)}function bi(n){return 2==(2&n.flags)}function dr(n){return 1==(1&n.flags)}function z2(n){return null!==n.template}function Nr(n){return 0!=(256&n[2])}function Ti(n,i){return n.hasOwnProperty(Z1)?n[Z1]:null}class Ci{constructor(i,o,a){this.previousValue=i,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Wi(){return mi}function mi(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mi),ts}function ts(){const n=Ur(this),i=n?.current;if(i){const o=n.previous;if(o===h1)n.previous=i;else for(let a in i)o[a]=i[a];n.current=null,this.ngOnChanges(i)}}function Mi(n,i,o,a){const d=Ur(n)||function wi(n,i){return n[Tr]=i}(n,{previous:h1,current:null}),m=d.current||(d.current={}),D=d.previous,I=this.declaredInputs[o],P=D[I];m[I]=new Ci(P&&P.currentValue,i,D===h1),n[a]=i}Wi.ngInherit=!0;const Tr="__ngSimpleChanges__";function Ur(n){return n[Tr]||null}function h2(n){for(;Array.isArray(n);)n=n[0];return n}function ti(n,i){return h2(i[n])}function k2(n,i){return h2(i[n.index])}function ms(n,i){return n.data[i]}function qi(n,i){return n[i]}function In(n,i){const o=i[n];return kn(o)?o:o[0]}function Gr(n){return 64==(64&n[2])}function N2(n,i){return null==i?null:n[i]}function w2(n){n[18]=0}function p2(n,i){n[5]+=i;let o=n,a=n[3];for(;null!==a&&(1===i&&1===o[5]||-1===i&&0===o[5]);)a[5]+=i,o=a,a=a[3]}const K1={lFrame:Ot(null),bindingsEnabled:!0};function pr(){return K1.bindingsEnabled}function kt(){return K1.lFrame.lView}function Cn(){return K1.lFrame.tView}function mr(n){return K1.lFrame.contextLView=n,n[8]}function zr(n){return K1.lFrame.contextLView=null,n}function D2(){let n=eo();for(;null!==n&&64===n.type;)n=n.parent;return n}function eo(){return K1.lFrame.currentTNode}function As(){const n=K1.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function ir(n,i){const o=K1.lFrame;o.currentTNode=n,o.isParent=i}function Zr(){return K1.lFrame.isParent}function Lr(){K1.lFrame.isParent=!1}function V(){const n=K1.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function w1(){return K1.lFrame.bindingIndex++}function Qn(n){const i=K1.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function rr(n){K1.lFrame.inI18n=n}function vs(n,i){const o=K1.lFrame;o.bindingIndex=o.bindingRootIndex=n,rs(i)}function rs(n){K1.lFrame.currentDirectiveIndex=n}function Y(){return K1.lFrame.currentQueryIndex}function re(n){K1.lFrame.currentQueryIndex=n}function de(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function _e(n,i,o){if(o&$t.SkipSelf){let d=i,m=n;for(;!(d=d.parent,null!==d||o&$t.Host||(d=de(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;i=d,n=m}const a=K1.lFrame=St();return a.currentTNode=i,a.lView=n,!0}function Ke(n){const i=St(),o=n[1];K1.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function St(){const n=K1.lFrame,i=null===n?null:n.child;return null===i?Ot(n):i}function Ot(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function zt(){const n=K1.lFrame;return K1.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const z=zt;function W(){const n=zt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function be(){return K1.lFrame.selectedIndex}function it(n){K1.lFrame.selectedIndex=n}function vt(){const n=K1.lFrame;return ms(n.tView,n.selectedIndex)}function Kn(n,i){for(let o=i.directiveStart,a=i.directiveEnd;o<a;o++){const m=n.data[o].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:I,ngAfterViewInit:P,ngAfterViewChecked:q,ngOnDestroy:ie}=m;D&&(n.contentHooks||(n.contentHooks=[])).push(-o,D),I&&((n.contentHooks||(n.contentHooks=[])).push(o,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,I)),P&&(n.viewHooks||(n.viewHooks=[])).push(-o,P),q&&((n.viewHooks||(n.viewHooks=[])).push(o,q),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,q)),null!=ie&&(n.destroyHooks||(n.destroyHooks=[])).push(o,ie)}}function Nn(n,i,o){_r(n,i,3,o)}function Or(n,i,o,a){(3&n[2])===o&&_r(n,i,o,a)}function yr(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function _r(n,i,o,a){const m=a??-1,D=i.length-1;let I=0;for(let P=void 0!==a?65535&n[18]:0;P<D;P++)if("number"==typeof i[P+1]){if(I=i[P],null!=a&&I>=a)break}else i[P]<0&&(n[18]+=65536),(I<m||-1==m)&&(br(n,o,i,P),n[18]=(4294901760&n[18])+P+2),P++}function br(n,i,o,a){const d=o[a]<0,m=o[a+1],I=n[d?-o[a]:o[a]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{m.call(I)}finally{}}}else try{m.call(I)}finally{}}class ci{constructor(i,o,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function xo(n,i,o){let a=0;for(;a<o.length;){const d=o[a];if("number"==typeof d){if(0!==d)break;a++;const m=o[a++],D=o[a++],I=o[a++];n.setAttribute(i,D,I,m)}else{const m=d,D=o[++a];zo(m)?n.setProperty(i,m,D):n.setAttribute(i,m,D),a++}}return a}function oo(n){return 3===n||4===n||6===n}function zo(n){return 64===n.charCodeAt(0)}function za(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let a=0;a<i.length;a++){const d=i[a];"number"==typeof d?o=d:0===o||La(n,o,d,null,-1===o||2===o?i[++a]:null)}}return n}function La(n,i,o,a,d){let m=0,D=n.length;if(-1===i)D=-1;else for(;m<n.length;){const I=n[m++];if("number"==typeof I){if(I===i){D=-1;break}if(I>i){D=m-1;break}}}for(;m<n.length;){const I=n[m];if("number"==typeof I)break;if(I===o){if(null===a)return void(null!==d&&(n[m+1]=d));if(a===n[m+1])return void(n[m+2]=d)}m++,null!==a&&m++,null!==d&&m++}-1!==D&&(n.splice(D,0,i),m=D+1),n.splice(m++,0,o),null!==a&&n.splice(m++,0,a),null!==d&&n.splice(m++,0,d)}function zi(n){return-1!==n}function li(n){return 32767&n}function to(n,i){let o=function ss(n){return n>>16}(n),a=i;for(;o>0;)a=a[15],o--;return a}let zs=!0;function Kt(n){const i=zs;return zs=n,i}let f1=0;const _1={};function c1(n,i){const o=Bt(n,i);if(-1!==o)return o;const a=i[1];a.firstCreatePass&&(n.injectorIndex=i.length,bt(a.data,n),bt(i,null),bt(a.blueprint,null));const d=Z2(n,i),m=n.injectorIndex;if(zi(d)){const D=li(d),I=to(d,i),P=I[1].data;for(let q=0;q<8;q++)i[m+q]=I[D+q]|P[D+q]}return i[m+8]=d,m}function bt(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Bt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Z2(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,d=i;for(;null!==d;){if(a=Gn(d),null===a)return-1;if(o++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function Li(n,i,o){!function ra(n,i,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(an)&&(a=o[an]),null==a&&(a=o[an]=f1++);const d=255&a;i.data[n+(d>>5)]|=1<<d}(n,i,o)}function Wr(n,i,o){if(o&$t.Optional||void 0!==n)return n;mt()}function sa(n,i,o,a){if(o&$t.Optional&&void 0===a&&(a=null),0==(o&($t.Self|$t.Host))){const d=n[9],m=mn(void 0);try{return d?d.get(i,a,o&$t.Optional):A2(i,a,o&$t.Optional)}finally{mn(m)}}return Wr(a,0,o)}function ao(n,i,o,a=$t.Default,d){if(null!==n){if(1024&i[2]){const D=function W2(n,i,o,a,d){let m=n,D=i;for(;null!==m&&null!==D&&1024&D[2]&&!(256&D[2]);){const I=oa(m,D,o,a|$t.Self,_1);if(I!==_1)return I;let P=m.parent;if(!P){const q=D[21];if(q){const ie=q.get(o,_1,a);if(ie!==_1)return ie}P=Gn(D),D=D[15]}m=P}return d}(n,i,o,a,_1);if(D!==_1)return D}const m=oa(n,i,o,a,_1);if(m!==_1)return m}return sa(i,o,a,d)}function oa(n,i,o,a,d){const m=function ca(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(an)?n[an]:void 0;return"number"==typeof i?i>=0?255&i:la:i}(o);if("function"==typeof m){if(!_e(i,n,a))return a&$t.Host?Wr(d,0,a):sa(i,o,a,d);try{const D=m(a);if(null!=D||a&$t.Optional)return D;mt()}finally{z()}}else if("number"==typeof m){let D=null,I=Bt(n,i),P=-1,q=a&$t.Host?i[16][6]:null;for((-1===I||a&$t.SkipSelf)&&(P=-1===I?Z2(n,i):i[I+8],-1!==P&&rn(a,!1)?(D=i[1],I=li(P),i=to(P,i)):I=-1);-1!==I;){const ie=i[1];if(co(m,I,ie.data)){const me=aa(I,i,o,D,a,q);if(me!==_1)return me}P=i[I+8],-1!==P&&rn(a,i[1].data[I+8]===q)&&co(m,I,i)?(D=ie,I=li(P),i=to(P,i)):I=-1}}return d}function aa(n,i,o,a,d,m){const D=i[1],I=D.data[n+8],ie=ni(I,D,o,null==a?bi(I)&&zs:a!=D&&0!=(3&I.type),d&$t.Host&&m===I);return null!==ie?os(i,D,ie,I):_1}function ni(n,i,o,a,d){const m=n.providerIndexes,D=i.data,I=1048575&m,P=n.directiveStart,ie=m>>20,Ge=d?I+ie:n.directiveEnd;for(let ht=a?I:I+ie;ht<Ge;ht++){const Vt=D[ht];if(ht<P&&o===Vt||ht>=P&&Vt.type===o)return ht}if(d){const ht=D[P];if(ht&&z2(ht)&&ht.type===o)return P}return null}function os(n,i,o,a){let d=n[o];const m=i.data;if(function xs(n){return n instanceof ci}(d)){const D=d;D.resolving&&function je(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Je(-200,`Circular dependency in DI detected for ${n}${o}`)}(function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ft(n)}(m[o]));const I=Kt(D.canSeeViewProviders);D.resolving=!0;const P=D.injectImpl?mn(D.injectImpl):null;_e(n,a,$t.Default);try{d=n[o]=D.factory(void 0,m,n,a),i.firstCreatePass&&o>=a.directiveStart&&function m2(n,i,o){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:m}=i.type.prototype;if(a){const D=mi(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,D),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,D)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,d),m&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,m))}(o,m[o],i)}finally{null!==P&&mn(P),Kt(I),D.resolving=!1,z()}}return d}function co(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function rn(n,i){return!(n&$t.Self||n&$t.Host&&i)}class Cr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,a){return ao(this._tNode,this._lView,i,a,o)}}function la(){return new Cr(D2(),kt())}function L2(n){return l1(()=>{const i=n.prototype.constructor,o=i[Z1]||V1(i),a=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==a;){const m=d[Z1]||V1(d);if(m&&m!==o)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function V1(n){return pt(n)?()=>{const i=V1(ze(n));return i&&i()}:Ti(n)}function Gn(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function Oo(n){return function Oa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const a=o.length;let d=0;for(;d<a;){const m=o[d];if(oo(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<a&&"string"==typeof o[d];)d++;else{if(m===i)return o[d+1];d+=2}}}return null}(D2(),n)}const t1="__parameters__";function Ls(n,i,o){return l1(()=>{const a=function Bi(n){return function(...o){if(n){const a=n(...o);for(const d in a)this[d]=a[d]}}}(i);function d(...m){if(this instanceof d)return a.apply(this,m),this;const D=new d(...m);return I.annotation=D,I;function I(P,q,ie){const me=P.hasOwnProperty(t1)?P[t1]:Object.defineProperty(P,t1,{value:[]})[t1];for(;me.length<=ie;)me.push(null);return(me[ie]=me[ie]||[]).push(D),P}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class g2{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=M1({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Oi(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(i===n&&(i=n.slice(0,o)),Oi(a,i)):i!==n&&i.push(a)}return i}function qr(n,i){n.forEach(o=>Array.isArray(o)?qr(o,i):i(o))}function pa(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Kr(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function lo(n,i){const o=[];for(let a=0;a<n;a++)o.push(i);return o}function te(n,i,o){let a=Ae(n,i);return a>=0?n[1|a]=o:(a=~a,function T(n,i,o,a){let d=n.length;if(d==i)n.push(o,a);else if(1===d)n.push(a,n[0]),n[0]=o;else{for(d--,n.push(n[d-1],n[d]);d>i;)n[d]=n[d-2],d--;n[i]=o,n[i+1]=a}}(n,a,i,o)),a}function ge(n,i){const o=Ae(n,i);if(o>=0)return n[1|o]}function Ae(n,i){return function Zt(n,i,o){let a=0,d=n.length>>o;for(;d!==a;){const m=a+(d-a>>1),D=n[m<<o];if(i===D)return m<<o;D>i?d=m:a=m+1}return~(d<<o)}(n,i,1)}const Mr={},Ws="__NG_DI_FLAG__",wo="ngTempTokenPath",F4=/\n/gm,h3="__source";let qs;function fo(n){const i=qs;return qs=n,i}function ka(n,i=$t.Default){if(void 0===qs)throw new Je(-203,!1);return null===qs?A2(n,void 0,i):qs.get(n,i&$t.Optional?null:void 0,i)}function ji(n,i=$t.Default){return(function On(){return En}()||ka)(ze(n),i)}function H(n,i=$t.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),ji(n,i)}function j(n){const i=[];for(let o=0;o<n.length;o++){const a=ze(n[o]);if(Array.isArray(a)){if(0===a.length)throw new Je(900,!1);let d,m=$t.Default;for(let D=0;D<a.length;D++){const I=a[D],P=ve(I);"number"==typeof P?-1===P?d=I.token:m|=P:d=I}i.push(ji(d,m))}else i.push(ji(a))}return i}function ne(n,i){return n[Ws]=i,n.prototype[Ws]=i,n}function ve(n){return n[Ws]}const C1=ne(Ls("Optional"),8),G1=ne(Ls("SkipSelf"),4);var ks=(()=>((ks=ks||{})[ks.Important=1]="Important",ks[ks.DashCase=2]="DashCase",ks))();const L6=/^>|^->|<!--|-->|--!>|<!-$/g,O6=/(<|>)/;const Po=new Map;let Qr=0;const po="__ngContext__";function us(n,i){kn(i)?(n[po]=i[20],function Ps(n){Po.set(n[20],n)}(i)):n[po]=i}let Fo;function Ba(n,i){return Fo(n,i)}function g4(n){const i=n[3];return x2(i)?i[3]:i}function ja(n){return z0(n[13])}function Z4(n){return z0(n[4])}function z0(n){for(;null!==n&&!x2(n);)n=n[4];return n}function va(n,i,o,a,d){if(null!=a){let m,D=!1;x2(a)?m=a:kn(a)&&(D=!0,a=a[0]);const I=h2(a);0===n&&null!==o?null==d?Js(i,o,I):Bo(i,o,I,d||null,!0):1===n&&null!==o?Bo(i,o,I,d||null,!0):2===n?Y4(i,I,D):3===n&&i.destroyNode(I),null!=m&&function F6(n,i,o,a,d){const m=o[7];m!==h2(o)&&va(i,n,a,m,d);for(let I=10;I<o.length;I++){const P=o[I];_4(P[1],P,n,i,a,m)}}(i,n,m,o,d)}}function t6(n,i){return n.createText(i)}function v4(n,i,o){n.setValue(i,o)}function ya(n,i){return n.createComment(function J3(n){return n.replace(L6,i=>i.replace(O6,"\u200b$1\u200b"))}(i))}function C3(n,i,o){return n.createElement(i,o)}function r2(n,i){const o=n[9],a=o.indexOf(i),d=i[3];512&i[2]&&(i[2]&=-513,p2(d,-1)),o.splice(a,1)}function Za(n,i){if(n.length<=10)return;const o=10+i,a=n[o];if(a){const d=a[17];null!==d&&d!==n&&r2(d,a),i>0&&(n[o-1][4]=a[4]);const m=Kr(n,10+i);!function L0(n,i){_4(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const D=m[19];null!==D&&D.detachView(m[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function M3(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&_4(n,i,o,3,null,null),function n6(n){let i=n[13];if(!i)return Vs(n[1],n);for(;i;){let o=null;if(kn(i))o=i[13];else{const a=i[10];a&&(o=a)}if(!o){for(;i&&!i[4]&&i!==n;)kn(i)&&Vs(i[1],i),i=i[3];null===i&&(i=n),kn(i)&&Vs(i[1],i),o=i&&i[4]}i=o}}(i)}}function Vs(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Xr(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const d=i[o[a]];if(!(d instanceof ci)){const m=o[a+1];if(Array.isArray(m))for(let D=0;D<m.length;D+=2){const I=d[m[D]],P=m[D+1];try{P.call(I)}finally{}}else try{m.call(d)}finally{}}}}(n,i),function Dc(n,i){const o=n.cleanup,a=i[7];let d=-1;if(null!==o)for(let m=0;m<o.length-1;m+=2)if("string"==typeof o[m]){const D=o[m+1],I="function"==typeof D?D(i):h2(i[D]),P=a[d=o[m+2]],q=o[m+3];"boolean"==typeof q?I.removeEventListener(o[m],P,q):q>=0?a[d=q]():a[d=-q].unsubscribe(),m+=2}else{const D=a[d=o[m+1]];o[m].call(D)}if(null!==a){for(let m=d+1;m<a.length;m++)(0,a[m])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&x2(i[3])){o!==i[3]&&r2(o,i);const a=i[19];null!==a&&a.detachView(n)}!function y3(n){Po.delete(n[20])}(i)}}function mo(n,i,o){return Wa(n,i.parent,o)}function Wa(n,i,o){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return o[0];if(2&a.flags){const d=n.data[a.directiveStart].encapsulation;if(d===ct.None||d===ct.Emulated)return null}return k2(a,o)}function Bo(n,i,o,a,d){n.insertBefore(i,o,a,d)}function Js(n,i,o){n.appendChild(i,o)}function W4(n,i,o,a,d){null!==a?Bo(n,i,o,a,d):Js(n,i,o)}function _a(n,i){return n.parentNode(i)}function H6(n,i,o){return jo(n,i,o)}function ba(n,i,o){return 40&n.type?k2(n,o):null}let qa,ui,b4,g,jo=ba;function Ka(n,i){jo=n,qa=i}function q4(n,i,o,a){const d=mo(n,a,i),m=i[11],I=H6(a.parent||i[6],a,i);if(null!=d)if(Array.isArray(o))for(let P=0;P<o.length;P++)W4(m,d,o[P],I,!1);else W4(m,d,o,I,!1);void 0!==qa&&qa(m,a,i,o,d)}function Qs(n,i){if(null!==i){const o=i.type;if(3&o)return k2(i,n);if(4&o)return K4(-1,n[i.index]);if(8&o){const a=i.child;if(null!==a)return Qs(n,a);{const d=n[i.index];return x2(d)?K4(-1,d):h2(d)}}if(32&o)return Ba(i,n)()||h2(n[i.index]);{const a=y4(n,i);return null!==a?Array.isArray(a)?a[0]:Qs(g4(n[16]),a):Qs(n,i.next)}}return null}function y4(n,i){return null!==i?n[16][6].projection[i.projection]:null}function K4(n,i){const o=10+n+1;if(o<i.length){const a=i[o],d=a[1].firstChild;if(null!==d)return Qs(a,d)}return i[7]}function Y4(n,i,o){const a=_a(n,i);a&&function Uo(n,i,o,a){n.removeChild(i,o,a)}(n,a,i,o)}function w3(n,i,o,a,d,m,D){for(;null!=o;){const I=a[o.index],P=o.type;if(D&&0===i&&(I&&us(h2(I),a),o.flags|=4),64!=(64&o.flags))if(8&P)w3(n,i,o.child,a,d,m,!1),va(i,n,d,I,m);else if(32&P){const q=Ba(o,a);let ie;for(;ie=q();)va(i,n,d,ie,m);va(i,n,d,I,m)}else 16&P?i6(n,i,a,o,d,m):va(i,n,d,I,m);o=D?o.projectionNext:o.next}}function _4(n,i,o,a,d,m){w3(o,a,n.firstChild,i,d,m,!1)}function i6(n,i,o,a,d,m){const D=o[16],P=D[6].projection[a.projection];if(Array.isArray(P))for(let q=0;q<P.length;q++)va(i,n,d,P[q],m);else w3(n,i,P,D[3],d,m,!0)}function go(n,i,o){n.setAttribute(i,"style",o)}function Ca(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Go(n){return function Ja(){if(void 0===ui&&(ui=null,wt.trustedTypes))try{ui=wt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ui}()?.createHTML(n)||n}function w(n){b4=n}function h(){return void 0!==b4?b4:typeof document<"u"?document:void 0}function J(n){return function S(){if(void 0===g&&(g=null,wt.trustedTypes))try{g=wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return g}()?.createHTML(n)||n}class Tt{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class m1 extends Tt{getTypeName(){return"HTML"}}class O1 extends Tt{getTypeName(){return"Style"}}class gn extends Tt{getTypeName(){return"Script"}}class ln extends Tt{getTypeName(){return"URL"}}class Ki extends Tt{getTypeName(){return"ResourceURL"}}function kr(n){return n instanceof Tt?n.changingThisBreaksApplicationSecurity:n}function wa(n,i){const o=function s6(n){return n instanceof Tt&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function Qa(n){return new m1(n)}function C4(n){return new O1(n)}function D3(n){return new gn(n)}function B6(n){return new ln(n)}function U6(n){return new Ki(n)}function fs(n){const i=new o6(n);return function $o(){try{return!!(new window.DOMParser).parseFromString(Go(""),"text/html")}catch{return!1}}()?new j6(i):i}class j6{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Go(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class o6{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Go(i),o;const a=this.inertDocument.createElement("body");return a.innerHTML=Go(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(i){const o=i.attributes;for(let d=o.length-1;0<d;d--){const D=o.item(d).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&i.removeAttribute(D)}let a=i.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const a6=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xa(n){return(n=String(n)).match(a6)?n:"unsafe:"+n}function e4(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function G6(...n){const i={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(i[a]=!0);return i}const k0=e4("area,br,col,hr,img,wbr"),P8=e4("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),V8=e4("rp,rt"),$6=G6(k0,G6(P8,e4("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),G6(V8,e4("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),G6(V8,P8)),Ec=e4("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),H8=G6(Ec,e4("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),e4("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sc=e4("script,style,template");class vl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!$6.hasOwnProperty(o))return this.sanitizedSomething=!0,!Sc.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=i.attributes;for(let d=0;d<a.length;d++){const m=a.item(d),D=m.name,I=D.toLowerCase();if(!H8.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let P=m.value;Ec[I]&&(P=Xa(P)),this.buf.push(" ",D,'="',B8(P),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();$6.hasOwnProperty(o)&&!k0.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(B8(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const yl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F8=/([^\#-~ |!])/g;function B8(n){return n.replace(/&/g,"&amp;").replace(yl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(F8,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let c6;function Nc(n,i){let o=null;try{c6=c6||fs(n);let a=i?String(i):"";o=c6.getInertBodyElement(a);let d=5,m=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=m,m=o.innerHTML,o=c6.getInertBodyElement(a)}while(a!==m);return Go((new vl).sanitizeChildren(Tc(o)||o))}finally{if(o){const a=Tc(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Tc(n){return"content"in n&&function Ac(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var v2=(()=>((v2=v2||{})[v2.NONE=0]="NONE",v2[v2.HTML=1]="HTML",v2[v2.STYLE=2]="STYLE",v2[v2.SCRIPT=3]="SCRIPT",v2[v2.URL=4]="URL",v2[v2.RESOURCE_URL=5]="RESOURCE_URL",v2))();function l6(n){const i=t4();return i?J(i.sanitize(v2.HTML,n)||""):wa(n,"HTML")?J(kr(n)):Nc(h(),ft(n))}function Z6(n){const i=t4();return i?i.sanitize(v2.URL,n)||"":wa(n,"URL")?kr(n):Xa(ft(n))}function t4(){const n=kt();return n&&n[12]}const f=new g2("ENVIRONMENT_INITIALIZER"),y=new g2("INJECTOR",-1),u=new g2("INJECTOR_DEF_TYPES");class M{get(i,o=Mr){if(o===Mr){const a=new Error(`NullInjectorError: No provider for ${ke(i)}!`);throw a.name="NullInjectorError",a}return o}}function L(...n){return{\u0275providers:Z(0,n)}}function Z(n,...i){const o=[],a=new Set;let d;return qr(i,m=>{const D=m;Be(D,o,[],a)&&(d||(d=[]),d.push(D))}),void 0!==d&&Ce(d,o),o}function Ce(n,i){for(let o=0;o<n.length;o++){const{providers:d}=n[o];qr(d,m=>{i.push(m)})}}function Be(n,i,o,a){if(!(n=ze(n)))return!1;let d=null,m=jn(n);const D=!m&&Ze(n);if(m||D){if(D&&!D.standalone)return!1;d=n}else{const P=n.ngModule;if(m=jn(P),!m)return!1;d=P}const I=a.has(d);if(D){if(I)return!1;if(a.add(d),D.dependencies){const P="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const q of P)Be(q,i,o,a)}}else{if(!m)return!1;{if(null!=m.imports&&!I){let q;a.add(d);try{qr(m.imports,ie=>{Be(ie,i,o,a)&&(q||(q=[]),q.push(ie))})}finally{}void 0!==q&&Ce(q,i)}if(!I){const q=Ti(d)||(()=>new d);i.push({provide:d,useFactory:q,deps:Yt},{provide:u,useValue:d,multi:!0},{provide:f,useValue:()=>ji(d),multi:!0})}const P=m.providers;null==P||I||qr(P,ie=>{i.push(ie)})}}return d!==n&&void 0!==n.providers}const Et=Te({provide:String,useValue:Te});function It(n){return null!==n&&"object"==typeof n&&Et in n}function F1(n){return"function"==typeof n}const dn=new g2("Set Injector scope."),Tn={},e2={};let Pn;function ri(){return void 0===Pn&&(Pn=new M),Pn}class s2{}class y2 extends s2{constructor(i,o,a,d){super(),this.parent=o,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zo(i,D=>this.processProvider(D)),this.records.set(y,Si(void 0,this)),d.has("environment")&&this.records.set(s2,Si(void 0,this));const m=this.records.get(dn);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(u.multi,Yt,$t.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=fo(this),a=mn(void 0);try{return i()}finally{fo(o),mn(a)}}get(i,o=Mr,a=$t.Default){this.assertNotDestroyed();const d=fo(this),m=mn(void 0);try{if(!(a&$t.SkipSelf)){let I=this.records.get(i);if(void 0===I){const P=function hs(n){return"function"==typeof n||"object"==typeof n&&n instanceof g2}(i)&&fn(i);I=P&&this.injectableDefInScope(P)?Si(C2(i),Tn):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(a&$t.Self?ri():this.parent).get(i,o=a&$t.Optional&&o===Mr?null:o)}catch(D){if("NullInjectorError"===D.name){if((D[wo]=D[wo]||[]).unshift(ke(i)),d)throw D;return function et(n,i,o,a){const d=n[wo];throw i[h3]&&d.unshift(i[h3]),n.message=function _t(n,i,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=ke(i);if(Array.isArray(i))d=i.map(ke).join(" -> ");else if("object"==typeof i){let m=[];for(let D in i)if(i.hasOwnProperty(D)){let I=i[D];m.push(D+":"+("string"==typeof I?JSON.stringify(I):ke(I)))}d=`{${m.join(", ")}}`}return`${o}${a?"("+a+")":""}[${d}]: ${n.replace(F4,"\n  ")}`}("\n"+n.message,d,o,a),n.ngTokenPath=d,n[wo]=null,n}(D,i,"R3InjectorError",this.source)}throw D}finally{mn(m),fo(d)}}resolveInjectorInitializers(){const i=fo(this),o=mn(void 0);try{const a=this.get(f.multi,Yt,$t.Self);for(const d of a)d()}finally{fo(i),mn(o)}}toString(){const i=[],o=this.records;for(const a of o.keys())i.push(ke(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(i){let o=F1(i=ze(i))?i:ze(i&&i.provide);const a=function K2(n){return It(n)?Si(void 0,n.useValue):Si(Dr(n),Tn)}(i);if(F1(i)||!0!==i.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=Si(void 0,Tn,!0),d.factory=()=>j(d.multi),this.records.set(o,d)),o=i,d.multi.push(i)}this.records.set(o,a)}hydrate(i,o){return o.value===Tn&&(o.value=e2,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Eo(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ze(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function C2(n){const i=fn(n),o=null!==i?i.factory:Ti(n);if(null!==o)return o;if(n instanceof g2)throw new Je(204,!1);if(n instanceof Function)return function di(n){const i=n.length;if(i>0)throw lo(i,"?"),new Je(204,!1);const o=function Un(n){const i=n&&(n[t2]||n[vn]);if(i){const o=function Xn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Je(204,!1)}function Dr(n,i,o){let a;if(F1(n)){const d=ze(n);return Ti(d)||C2(d)}if(It(n))a=()=>ze(n.useValue);else if(function D1(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...j(n.deps||[]));else if(function R1(n){return!(!n||!n.useExisting)}(n))a=()=>ji(ze(n.useExisting));else{const d=ze(n&&(n.useClass||n.provide));if(!function Yi(n){return!!n.deps}(n))return Ti(d)||C2(d);a=()=>new d(...j(n.deps))}return a}function Si(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Q4(n){return!!n.\u0275providers}function Zo(n,i){for(const o of n)Array.isArray(o)?Zo(o,i):Q4(o)?Zo(o.\u0275providers,i):i(o)}class So{}class X4{resolveComponentFactory(i){throw function u6(n){const i=Error(`No component factory found for ${ke(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Da=(()=>{class n{}return n.NULL=new X4,n})();function d6(){return $i(D2(),kt())}function $i(n,i){return new yo(k2(n,i))}let yo=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=d6,n})();function w4(n){return n instanceof yo?n.nativeElement:n}class n4{}let Ea=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function A3(){const n=kt(),o=In(D2().index,n);return(kn(o)?o:n)[11]}(),n})(),W6=(()=>{class n{}return n.\u0275prov=M1({token:n,providedIn:"root",factory:()=>null}),n})();class D4{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const V0=new D4("14.2.12"),E4={};function f6(n){return n.ngOriginalError}class h6{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&f6(i);for(;o&&f6(o);)o=f6(o);return o||null}}function Wo(n){return n instanceof Function?n():n}function Cl(n,i,o){let a=n.length;for(;;){const d=n.indexOf(i,o);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=i.length;if(d+m===a||n.charCodeAt(d+m)<=32)return d}o=d+1}}const xc="ng-template";function Fs(n,i,o){let a=0;for(;a<n.length;){let d=n[a++];if(o&&"class"===d){if(d=n[a],-1!==Cl(d.toLowerCase(),i,0))return!0}else if(1===d){for(;a<n.length&&"string"==typeof(d=n[a++]);)if(d.toLowerCase()===i)return!0;return!1}}return!1}function Ml(n){return 4===n.type&&n.value!==xc}function Au(n,i,o){return i===(4!==n.type||o?n.value:xc)}function Iu(n,i,o){let a=4;const d=n.attrs||[],m=function xu(n){for(let i=0;i<n.length;i++)if(oo(n[i]))return i;return n.length}(d);let D=!1;for(let I=0;I<i.length;I++){const P=i[I];if("number"!=typeof P){if(!D)if(4&a){if(a=2|1&a,""!==P&&!Au(n,P,o)||""===P&&1===i.length){if(r4(a))return!1;D=!0}}else{const q=8&a?P:i[++I];if(8&a&&null!==n.attrs){if(!Fs(n.attrs,q,o)){if(r4(a))return!1;D=!0}continue}const me=wl(8&a?"class":P,d,Ml(n),o);if(-1===me){if(r4(a))return!1;D=!0;continue}if(""!==q){let Ge;Ge=me>m?"":d[me+1].toLowerCase();const ht=8&a?Ge:null;if(ht&&-1!==Cl(ht,q,0)||2&a&&q!==Ge){if(r4(a))return!1;D=!0}}}}else{if(!D&&!r4(a)&&!r4(P))return!1;if(D&&r4(P))continue;D=!1,a=P|1&a}}return r4(a)||D}function r4(n){return 0==(1&n)}function wl(n,i,o,a){if(null===i)return-1;let d=0;if(a||!o){let m=!1;for(;d<i.length;){const D=i[d];if(D===n)return d;if(3===D||6===D)m=!0;else{if(1===D||2===D){let I=i[++d];for(;"string"==typeof I;)I=i[++d];continue}if(4===D)break;if(0===D){d+=4;continue}}d+=m?1:2}return-1}return function $8(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===i)return o;o++}return-1}(i,n)}function Dl(n,i,o=!1){for(let a=0;a<i.length;a++)if(Iu(n,i[a],o))return!0;return!1}function Z8(n,i){e:for(let o=0;o<i.length;o++){const a=i[o];if(n.length===a.length){for(let d=0;d<n.length;d++)if(n[d]!==a[d])continue e;return!0}}return!1}function Lc(n,i){return n?":not("+i.trim()+")":i}function j0(n){let i=n[0],o=1,a=2,d="",m=!1;for(;o<n.length;){let D=n[o];if("string"==typeof D)if(2&a){const I=n[++o];d+="["+D+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?d+="."+D:4&a&&(d+=" "+D);else""!==d&&!r4(D)&&(i+=Lc(m,d),d=""),a=D,m=m||!r4(a);o++}return""!==d&&(i+=Lc(m,d)),i}const Zn={};function q8(n){El(Cn(),kt(),be()+n,!1)}function El(n,i,o,a){if(!a)if(3==(3&i[2])){const m=n.preOrderCheckHooks;null!==m&&Nn(i,m,o)}else{const m=n.preOrderHooks;null!==m&&Or(i,m,0,o)}it(o)}function m6(n,i=null,o=null,a){const d=Rc(n,i,o,a);return d.resolveInjectorInitializers(),d}function Rc(n,i=null,o=null,a,d=new Set){const m=[o||Yt,L(n)];return a=a||("object"==typeof n?void 0:ke(n)),new y2(m,i||ri(),a||null,d)}let N4=(()=>{class n{static create(o,a){if(Array.isArray(o))return m6({name:""},a,o,"");{const d=o.name??"";return m6({name:d},o.parent,o.providers,d)}}}return n.THROW_IF_NOT_FOUND=Mr,n.NULL=new M,n.\u0275prov=M1({token:n,providedIn:"any",factory:()=>ji(y)}),n.__NG_ELEMENT_ID__=-1,n})();function I3(n,i=$t.Default){const o=kt();return null===o?ji(n,i):ao(D2(),o,ze(n),i)}function Pl(){throw new Error("invalid")}function x3(n,i){return n<<17|i<<2}function qo(n){return n>>17&32767}function Q6(n){return 2|n}function Ko(n){return(131068&n)>>2}function $0(n,i){return-131069&n|i<<2}function Z0(n){return 1|n}function Kl(n,i){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a],m=o[a+1];if(-1!==m){const D=n.data[m];re(d),D.contentQueries(2,i[m],m)}}}function n0(n,i,o,a,d,m,D,I,P,q,ie){const me=i.blueprint.slice();return me[0]=d,me[2]=76|a,(null!==ie||n&&1024&n[2])&&(me[2]|=1024),w2(me),me[3]=me[15]=n,me[8]=o,me[10]=D||n&&n[10],me[11]=I||n&&n[11],me[12]=P||n&&n[12]||null,me[9]=q||n&&n[9]||null,me[6]=m,me[20]=function R6(){return Qr++}(),me[21]=ie,me[16]=2==i.type?n[16]:me,me}function r0(n,i,o,a,d){let m=n.data[i];if(null===m)m=Kc(n,i,o,a,d),function gr(){return K1.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=o,m.value=a,m.attrs=d;const D=As();m.injectorIndex=null===D?-1:D.injectorIndex}return ir(m,!0),m}function Kc(n,i,o,a,d){const m=eo(),D=Zr(),P=n.data[i]=function C5(n,i,o,a,d,m){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?m:m&&m.parent,o,i,a,d);return null===n.firstChild&&(n.firstChild=P),null!==m&&(D?null==m.child&&null!==P.parent&&(m.child=P):null===m.next&&(m.next=P)),P}function s0(n,i,o,a){if(0===o)return-1;const d=i.length;for(let m=0;m<o;m++)i.push(a),n.blueprint.push(a),n.data.push(null);return d}function Yc(n,i,o){Ke(i);try{const a=n.viewQuery;null!==a&&x5(1,a,o);const d=n.template;null!==d&&p5(n,i,d,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Kl(n,i),n.staticViewQueries&&x5(2,n.viewQuery,o);const m=n.components;null!==m&&function h5(n,i){for(let o=0;o<i.length;o++)Qu(n,i[o])}(i,m)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[2]&=-5,W()}}function Y0(n,i,o,a){const d=i[2];if(128!=(128&d)){Ke(i);try{w2(i),function lt(n){return K1.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&p5(n,i,o,2,a);const D=3==(3&d);if(D){const q=n.preOrderCheckHooks;null!==q&&Nn(i,q,null)}else{const q=n.preOrderHooks;null!==q&&Or(i,q,0,null),yr(i,0)}if(function A5(n){for(let i=ja(n);null!==i;i=Z4(i)){if(!i[2])continue;const o=i[9];for(let a=0;a<o.length;a++){const d=o[a],m=d[3];0==(512&d[2])&&p2(m,1),d[2]|=512}}}(i),function Yu(n){for(let i=ja(n);null!==i;i=Z4(i))for(let o=10;o<i.length;o++){const a=i[o],d=a[1];Gr(a)&&Y0(d,a,d.template,a[8])}}(i),null!==n.contentQueries&&Kl(n,i),D){const q=n.contentCheckHooks;null!==q&&Nn(i,q)}else{const q=n.contentHooks;null!==q&&Or(i,q,1),yr(i,1)}!function f5(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const d=o[a];if(d<0)it(~d);else{const m=d,D=o[++a],I=o[++a];vs(D,m),I(2,i[m])}}}finally{it(-1)}}(n,i);const I=n.components;null!==I&&function $u(n,i){for(let o=0;o<i.length;o++)Ju(n,i[o])}(i,I);const P=n.viewQuery;if(null!==P&&x5(2,P,a),D){const q=n.viewCheckHooks;null!==q&&Nn(i,q)}else{const q=n.viewHooks;null!==q&&Or(i,q,2),yr(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,p2(i[3],-1))}finally{W()}}}function p5(n,i,o,a,d){const m=be(),D=2&a;try{it(-1),D&&i.length>22&&El(n,i,22,!1),o(a,d)}finally{it(m)}}function g5(n,i,o){!pr()||(function qu(n,i,o,a){const d=o.directiveStart,m=o.directiveEnd;n.firstCreatePass||c1(o,i),us(a,i);const D=o.initialInputs;for(let I=d;I<m;I++){const P=n.data[I],q=z2(P);q&&n3(i,o,P);const ie=os(i,n,I,o);us(ie,i),null!==D&&T5(0,I-d,ie,P,0,D),q&&(In(o.index,i)[8]=ie)}}(n,i,o,k2(o,i)),128==(128&o.flags)&&function D5(n,i,o){const a=o.directiveStart,d=o.directiveEnd,m=o.index,D=function is(){return K1.lFrame.currentDirectiveIndex}();try{it(m);for(let I=a;I<d;I++){const P=n.data[I],q=i[I];rs(I),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Qc(P,q)}}finally{it(-1),rs(D)}}(n,i,o))}function v5(n,i,o=k2){const a=i.localNames;if(null!==a){let d=i.index+1;for(let m=0;m<a.length;m+=2){const D=a[m+1],I=-1===D?o(i,n):n[D];n[d++]=I}}}function Yl(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=y5(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function y5(n,i,o,a,d,m,D,I,P,q){const ie=22+a,me=ie+d,Ge=function _5(n,i){const o=[];for(let a=0;a<i;a++)o.push(a<n?null:Zn);return o}(ie,me),ht="function"==typeof q?q():q;return Ge[1]={type:n,blueprint:Ge,template:o,queries:null,viewQuery:I,declTNode:i,data:Ge.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:P,consts:ht,incompleteFirstPass:!1}}function Ql(n,i,o,a){const d=o7(i);null===o?d.push(a):(d.push(o),n.firstCreatePass&&t8(n).push(a,d.length-1))}function Xl(n,i,o){for(let a in n)if(n.hasOwnProperty(a)){const d=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(i,d):o[a]=[i,d]}return o}function Jc(n,i){const a=i.directiveEnd,d=n.data,m=i.attrs,D=[];let I=null,P=null;for(let q=i.directiveStart;q<a;q++){const ie=d[q],me=ie.inputs,Ge=null===m||Ml(i)?null:Ku(me,m);D.push(Ge),I=Xl(me,q,I),P=Xl(ie.outputs,q,P)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=D,i.inputs=I,i.outputs=P}function bo(n,i,o,a,d,m,D,I){const P=k2(i,o);let ie,q=i.inputs;!I&&null!=q&&(ie=q[a])?(z5(n,o,ie,a,d),bi(i)&&M5(o,i.index)):3&i.type&&(a=function e7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),d=null!=D?D(d,i.value||"",a):d,m.setProperty(P,a,d))}function M5(n,i){const o=In(i,n);16&o[2]||(o[2]|=32)}function J0(n,i,o,a){let d=!1;if(pr()){const m=function E5(n,i,o){const a=n.directiveRegistry;let d=null;if(a)for(let m=0;m<a.length;m++){const D=a[m];Dl(o,D.selectors,!1)&&(d||(d=[]),Li(c1(o,i),n,D.type),z2(D)?(_6(n,o),d.unshift(D)):d.push(D))}return d}(n,i,o),D=null===a?null:{"":-1};if(null!==m){d=!0,r7(o,n.data.length,m.length);for(let ie=0;ie<m.length;ie++){const me=m[ie];me.providersResolver&&me.providersResolver(me)}let I=!1,P=!1,q=s0(n,i,m.length,null);for(let ie=0;ie<m.length;ie++){const me=m[ie];o.mergedAttrs=za(o.mergedAttrs,me.hostAttrs),Xc(n,o,i,q,me),S5(q,me,D),null!==me.contentQueries&&(o.flags|=8),(null!==me.hostBindings||null!==me.hostAttrs||0!==me.hostVars)&&(o.flags|=128);const Ge=me.type.prototype;!I&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),I=!0),!P&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),P=!0),q++}Jc(n,o)}D&&function i7(n,i,o){if(i){const a=n.localNames=[];for(let d=0;d<i.length;d+=2){const m=o[i[d+1]];if(null==m)throw new Je(-301,!1);a.push(i[d],m)}}}(o,a,D)}return o.mergedAttrs=za(o.mergedAttrs,o.attrs),d}function n7(n,i,o,a,d,m){const D=m.hostBindings;if(D){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const P=~i.index;(function w5(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(I)!=P&&I.push(P),I.push(a,d,D)}}function Qc(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function _6(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function S5(n,i,o){if(o){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)o[i.exportAs[a]]=n;z2(i)&&(o[""]=n)}}function r7(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function Xc(n,i,o,a,d){n.data[a]=d;const m=d.factory||(d.factory=Ti(d.type)),D=new ci(m,z2(d),I3);n.blueprint[a]=D,o[a]=D,n7(n,i,0,a,s0(n,o,d.hostVars,Zn),d)}function n3(n,i,o){const a=k2(i,n),d=Yl(o),m=n[10],D=X0(n,n0(n,d,null,o.onPush?32:16,a,i,m,m.createRenderer(a,o),null,null,null));n[i.index]=D}function N5(n,i,o,a,d,m,D){if(null==m)n.removeAttribute(i,d,o);else{const I=null==D?ft(m):D(m,a||"",d);n.setAttribute(i,d,I,o)}}function T5(n,i,o,a,d,m){const D=m[i];if(null!==D){const I=a.setInput;for(let P=0;P<D.length;){const q=D[P++],ie=D[P++],me=D[P++];null!==I?a.setInput(o,me,q,ie):o[ie]=me}}}function Ku(n,i){let o=null,a=0;for(;a<i.length;){const d=i[a];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,n[d],i[a+1])),a+=2}else a+=2;else a+=4}return o}function e8(n,i,o,a){return new Array(n,!0,!1,i,null,0,a,o,null,null)}function Ju(n,i){const o=In(i,n);if(Gr(o)){const a=o[1];48&o[2]?Y0(a,o,a.template,o[8]):o[5]>0&&Q0(o)}}function Q0(n){for(let a=ja(n);null!==a;a=Z4(a))for(let d=10;d<a.length;d++){const m=a[d];if(Gr(m))if(512&m[2]){const D=m[1];Y0(D,m,D.template,m[8])}else m[5]>0&&Q0(m)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const d=In(o[a],n);Gr(d)&&d[5]>0&&Q0(d)}}function Qu(n,i){const o=In(i,n),a=o[1];(function I5(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(a,o),Yc(a,o,o[8])}function X0(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function ec(n){for(;n;){n[2]|=32;const i=g4(n);if(Nr(n)&&!i)return n;n=i}return null}function tc(n,i,o,a=!0){const d=i[10];d.begin&&d.begin();try{Y0(n,i,n.template,o)}catch(D){throw a&&i8(i,D),D}finally{d.end&&d.end()}}function x5(n,i,o){re(0),i(n,o)}function o7(n){return n[7]||(n[7]=[])}function t8(n){return n.cleanup||(n.cleanup=[])}function i8(n,i){const o=n[9],a=o?o.get(h6,null):null;a&&a.handleError(i)}function z5(n,i,o,a,d){for(let m=0;m<o.length;){const D=o[m++],I=o[m++],P=i[D],q=n.data[D];null!==q.setInput?q.setInput(P,d,a,I):P[I]=d}}function nc(n,i,o){let a=o?n.styles:null,d=o?n.classes:null,m=0;if(null!==i)for(let D=0;D<i.length;D++){const I=i[D];"number"==typeof I?m=I:1==m?d=Ve(d,I):2==m&&(a=Ve(a,I+": "+i[++D]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=d:n.classesWithoutHost=d}function r8(n,i,o,a,d=!1){for(;null!==o;){const m=i[o.index];if(null!==m&&a.push(h2(m)),x2(m))for(let I=10;I<m.length;I++){const P=m[I],q=P[1].firstChild;null!==q&&r8(P[1],P,q,a)}const D=o.type;if(8&D)r8(n,i,o.child,a);else if(32&D){const I=Ba(o,i);let P;for(;P=I();)a.push(P)}else if(16&D){const I=y4(i,o);if(Array.isArray(I))a.push(...I);else{const P=g4(i[16]);r8(P[1],P,I,a,!0)}}o=d?o.projectionNext:o.next}return a}class b6{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return r8(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(x2(i)){const o=i[8],a=o?o.indexOf(this):-1;a>-1&&(Za(i,a),Kr(o,a))}this._attachedToViewContainer=!1}M3(this._lView[1],this._lView)}onDestroy(i){Ql(this._lView[1],this._lView,null,i)}markForCheck(){ec(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){tc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ga(n,i){_4(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=i}}class L5 extends b6{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;tc(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class s8 extends Da{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Ze(i);return new d2(o,this.ngModule)}}function O5(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class o8{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,a){const d=this.injector.get(i,E4,a);return d!==E4||o===E4?d:this.parentInjector.get(i,o,a)}}class d2 extends So{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Oc(n){return n.map(j0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return O5(this.componentDef.inputs)}get outputs(){return O5(this.componentDef.outputs)}create(i,o,a,d){let m=(d=d||this.ngModule)instanceof s2?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const D=m?new o8(i,m):i,I=D.get(n4,null);if(null===I)throw new Je(407,!1);const P=D.get(W6,null),q=I.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",me=a?function b5(n,i,o){return n.selectRootElement(i,o===ct.ShadowDom)}(q,a,this.componentDef.encapsulation):C3(q,ie,function a7(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ie)),Ge=this.componentDef.onPush?288:272,ht=y5(0,null,null,1,0,null,null,null,null,null),Vt=n0(null,ht,null,Ge,null,null,I,q,P,D,null);let p1,E1;Ke(Vt);try{const en=function u7(n,i,o,a,d,m){const D=o[1];o[22]=n;const P=r0(D,22,2,"#host",null),q=P.mergedAttrs=i.hostAttrs;null!==q&&(nc(P,q,!0),null!==n&&(xo(d,n,q),null!==P.classes&&Ca(d,n,P.classes),null!==P.styles&&go(d,n,P.styles)));const ie=a.createRenderer(n,i),me=n0(o,Yl(i),null,i.onPush?32:16,o[22],P,a,ie,m||null,null,null);return D.firstCreatePass&&(Li(c1(P,o),D,i.type),_6(D,P),r7(P,o.length,1)),X0(o,me),o[22]=me}(me,this.componentDef,Vt,I,q);if(me)if(a)xo(q,me,["ng-version",V0.full]);else{const{attrs:wn,classes:Jt}=function W8(n){const i=[],o=[];let a=1,d=2;for(;a<n.length;){let m=n[a];if("string"==typeof m)2===d?""!==m&&i.push(m,n[++a]):8===d&&o.push(m);else{if(!r4(d))break;d=m}a++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);wn&&xo(q,me,wn),Jt&&Jt.length>0&&Ca(q,me,Jt.join(" "))}if(E1=ms(ht,22),void 0!==o){const wn=E1.projection=[];for(let Jt=0;Jt<this.ngContentSelectors.length;Jt++){const Vn=o[Jt];wn.push(null!=Vn?Array.from(Vn):null)}}p1=function Ji(n,i,o,a){const d=o[1],m=function Wu(n,i,o){const a=D2();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Xc(n,a,i,s0(n,i,1,null),o),Jc(n,a));const d=os(i,n,a.directiveStart,a);us(d,i);const m=k2(a,i);return m&&us(m,i),d}(d,o,i);if(n[8]=o[8]=m,null!==a)for(const I of a)I(m,i);if(i.contentQueries){const I=D2();i.contentQueries(1,m,I.directiveStart)}const D=D2();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(it(D.index),n7(o[1],D,0,D.directiveStart,D.directiveEnd,i),Qc(i,m)),m}(en,this.componentDef,Vt,[Xs]),Yc(ht,Vt,null)}finally{W()}return new l7(this.componentType,p1,$i(E1,Vt),Vt,E1)}}class l7 extends class Hs{}{constructor(i,o,a,d,m){super(),this.location=a,this._rootLView=d,this._tNode=m,this.instance=o,this.hostView=this.changeDetectorRef=new L5(d),this.componentType=i}setInput(i,o){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[i])){const m=this._rootLView;z5(m[1],m,d,i,o),M5(m,this._tNode.index)}}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Xs(){const n=D2();Kn(kt()[1],n)}function c8(n){let i=function s4(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;i;){let d;if(z2(n))d=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Je(903,!1);d=i.\u0275dir}if(d){if(o){a.push(d);const D=n;D.inputs=o0(n.inputs),D.declaredInputs=o0(n.declaredInputs),D.outputs=o0(n.outputs);const I=d.hostBindings;I&&f7(n,I);const P=d.viewQuery,q=d.contentQueries;if(P&&d7(n,P),q&&R5(n,q),Se(n.inputs,d.inputs),Se(n.declaredInputs,d.declaredInputs),Se(n.outputs,d.outputs),z2(d)&&d.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let D=0;D<m.length;D++){const I=m[D];I&&I.ngInherit&&I(n),I===c8&&(o=!1)}}i=Object.getPrototypeOf(i)}!function e9(n){let i=0,o=null;for(let a=n.length-1;a>=0;a--){const d=n[a];d.hostVars=i+=d.hostVars,d.hostAttrs=za(d.hostAttrs,o=za(o,d.hostAttrs))}}(a)}function o0(n){return n===h1?{}:n===Yt?[]:n}function d7(n,i){const o=n.viewQuery;n.viewQuery=o?(a,d)=>{i(a,d),o(a,d)}:i}function R5(n,i){const o=n.contentQueries;n.contentQueries=o?(a,d,m)=>{i(a,d,m),o(a,d,m)}:i}function f7(n,i){const o=n.hostBindings;n.hostBindings=o?(a,d)=>{i(a,d),o(a,d)}:i}let u8=null;function C6(){if(!u8){const n=wt.Symbol;if(n&&n.iterator)u8=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const a=i[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(u8=a)}}}return u8}function ic(n){return!!rc(n)&&(Array.isArray(n)||!(n instanceof Map)&&C6()in n)}function rc(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Na(n,i,o){return n[i]=o}function Bs(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function z4(n,i,o,a){const d=Bs(n,i,o);return Bs(n,i+1,a)||d}function c0(n,i,o,a){const d=kt();return Bs(d,w1(),i)&&(Cn(),function Sa(n,i,o,a,d,m){const D=k2(n,i);N5(i[11],D,m,n.value,o,a,d)}(vt(),d,n,i,o,a)),c0}function L3(n,i,o,a){return Bs(n,w1(),o)?i+ft(o)+a:Zn}function i9(n,i,o,a,d,m,D,I){const P=kt(),q=Cn(),ie=n+22,me=q.firstCreatePass?function $d(n,i,o,a,d,m,D,I,P){const q=i.consts,ie=r0(i,n,4,D||null,N2(q,I));J0(i,o,ie,N2(q,P)),Kn(i,ie);const me=ie.tViews=y5(2,ie,a,d,m,i.directiveRegistry,i.pipeRegistry,null,i.schemas,q);return null!==i.queries&&(i.queries.template(i,ie),me.queries=i.queries.embeddedTView(ie)),ie}(ie,q,P,i,o,a,d,m,D):q.data[ie];ir(me,!1);const Ge=P[11].createComment("");q4(q,P,Ge,me),us(Ge,P),X0(P,P[ie]=e8(Ge,P,Ge,me)),dr(me)&&g5(q,P,me),null!=D&&v5(P,me,I)}function P5(n){return qi(function Is(){return K1.lFrame.contextLView}(),22+n)}function V5(n,i,o){const a=kt();return Bs(a,w1(),i)&&bo(Cn(),vt(),a,n,i,a[11],o,!1),V5}function H5(n,i,o,a,d){const D=d?"class":"style";z5(n,o,i.inputs[D],D,a)}function f8(n,i,o,a){const d=kt(),m=Cn(),D=22+n,I=d[11],P=d[D]=C3(I,i,function pn(){return K1.lFrame.currentNamespace}()),q=m.firstCreatePass?function M7(n,i,o,a,d,m,D){const I=i.consts,q=r0(i,n,2,d,N2(I,m));return J0(i,o,q,N2(I,D)),null!==q.attrs&&nc(q,q.attrs,!1),null!==q.mergedAttrs&&nc(q,q.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,q),q}(D,m,d,0,i,o,a):m.data[D];ir(q,!0);const ie=q.mergedAttrs;null!==ie&&xo(I,P,ie);const me=q.classes;null!==me&&Ca(I,P,me);const Ge=q.styles;return null!==Ge&&go(I,P,Ge),64!=(64&q.flags)&&q4(m,d,P,q),0===function $r(){return K1.lFrame.elementDepthCount}()&&us(P,d),function Ir(){K1.lFrame.elementDepthCount++}(),dr(q)&&(g5(m,d,q),function m5(n,i,o){if(ur(i)){const d=i.directiveEnd;for(let m=i.directiveStart;m<d;m++){const D=n.data[m];D.contentQueries&&D.contentQueries(1,o[m],m)}}}(m,q,d)),null!==a&&v5(d,q),f8}function h8(){let n=D2();Zr()?Lr():(n=n.parent,ir(n,!1));const i=n;!function gs(){K1.lFrame.elementDepthCount--}();const o=Cn();return o.firstCreatePass&&(Kn(o,n),ur(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function V4(n){return 0!=(16&n.flags)}(i)&&H5(o,i,kt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function xa(n){return 0!=(32&n.flags)}(i)&&H5(o,i,kt(),i.stylesWithoutHost,!1),h8}function F5(n,i,o,a){return f8(n,i,o,a),h8(),F5}function U5(){return kt()}function Ta(n){return!!n&&"function"==typeof n.then}function L4(n){return!!n&&"function"==typeof n.subscribe}const s9=L4;function r3(n,i,o,a){const d=kt(),m=Cn(),D=D2();return function E7(n,i,o,a,d,m,D,I){const P=dr(a),ie=n.firstCreatePass&&t8(n),me=i[8],Ge=o7(i);let ht=!0;if(3&a.type||I){const E1=k2(a,i),en=I?I(E1):E1,wn=Ge.length,Jt=I?vi=>I(h2(vi[a.index])):a.index;let Vn=null;if(!I&&P&&(Vn=function o9(n,i,o,a){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const D=d[m];if(D===o&&d[m+1]===a){const I=i[7],P=d[m+2];return I.length>P?I[P]:null}"string"==typeof D&&(m+=2)}return null}(n,i,d,a.index)),null!==Vn)(Vn.__ngLastListenerFn__||Vn).__ngNextListenerFn__=m,Vn.__ngLastListenerFn__=m,ht=!1;else{m=G5(a,i,me,m,!1);const vi=o.listen(en,d,m);Ge.push(m,vi),ie&&ie.push(d,Jt,wn,wn+1)}}else m=G5(a,i,me,m,!1);const Vt=a.outputs;let p1;if(ht&&null!==Vt&&(p1=Vt[d])){const E1=p1.length;if(E1)for(let en=0;en<E1;en+=2){const Vr=i[p1[en]][p1[en+1]].subscribe(m),yc=Ge.length;Ge.push(m,Vr),ie&&ie.push(d,a.index,yc,-(yc+1))}}}(m,d,d[11],D,n,i,0,a),r3}function j5(n,i,o,a){try{return!1!==o(a)}catch(d){return i8(n,d),!1}}function G5(n,i,o,a,d){return function m(D){if(D===Function)return a;ec(2&n.flags?In(n.index,i):i);let P=j5(i,0,a,D),q=m.__ngNextListenerFn__;for(;q;)P=j5(i,0,q,D)&&P,q=q.__ngNextListenerFn__;return d&&!1===P&&(D.preventDefault(),D.returnValue=!1),P}}function f0(n=1){return function k(n){return(K1.lFrame.contextLView=function ee(n,i){for(;n>0;)i=i[15],n--;return i}(n,K1.lFrame.contextLView))[8]}(n)}function a9(n,i){let o=null;const a=function zc(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let d=0;d<i.length;d++){const m=i[d];if("*"!==m){if(null===a?Dl(n,m,!0):Z8(a,m))return d}else o=d}return o}function R3(n){const i=kt()[16][6];if(!i.projection){const a=i.projection=lo(n?n.length:1,null),d=a.slice();let m=i.child;for(;null!==m;){const D=n?a9(m,n):0;null!==D&&(d[D]?d[D].projectionNext=m:a[D]=m,d[D]=m),m=m.next}}}function oc(n,i=0,o){const a=kt(),d=Cn(),m=r0(d,22+n,16,null,o||null);null===m.projection&&(m.projection=i),Lr(),64!=(64&m.flags)&&function ds(n,i,o){i6(i[11],0,i,o,mo(n,o,i),H6(o.parent||i[6],o,i))}(d,a,m)}function E6(n,i,o){return ac(n,"",i,"",o),E6}function ac(n,i,o,a,d){const m=kt(),D=L3(m,i,o,a);return D!==Zn&&bo(Cn(),vt(),m,n,D,m[11],d,!1),ac}function v8(n,i,o,a,d){const m=n[o+1],D=null===i;let I=a?qo(m):Ko(m),P=!1;for(;0!==I&&(!1===P||D);){const ie=n[I+1];l9(n[I],i)&&(P=!0,n[I+1]=a?Z0(ie):Q6(ie)),I=a?qo(ie):Ko(ie)}P&&(n[o+1]=a?Q6(m):Z0(m))}function l9(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Ae(n,i)>=0}const Pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cc(n){return n.substring(Pr.key,Pr.keyEnd)}function x7(n,i){const o=Pr.textEnd;return o===i?-1:(i=Pr.keyEnd=function P3(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Pr.key=i,o),O4(n,i,o))}function O4(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function dc(n,i,o){return a4(n,i,o,!1),dc}function q5(n,i){return a4(n,i,null,!0),q5}function O7(n){!function c4(n,i,o,a){const d=Cn(),m=Qn(2);d.firstUpdatePass&&R7(d,null,m,a);const D=kt();if(o!==Zn&&Bs(D,m,o)){const I=d.data[be()];if(s3(I,a)&&!fc(d,m)){let P=a?I.classesWithoutHost:I.stylesWithoutHost;null!==P&&(o=Ve(P,o||"")),H5(d,I,D,o,a)}else!function M8(n,i,o,a,d,m,D,I){d===Zn&&(d=Yt);let P=0,q=0,ie=0<d.length?d[0]:null,me=0<m.length?m[0]:null;for(;null!==ie||null!==me;){const Ge=P<d.length?d[P+1]:void 0,ht=q<m.length?m[q+1]:void 0;let p1,Vt=null;ie===me?(P+=2,q+=2,Ge!==ht&&(Vt=me,p1=ht)):null===me||null!==ie&&ie<me?(P+=2,Vt=ie):(q+=2,Vt=me,p1=ht),null!==Vt&&F7(n,i,o,a,Vt,p1,D,I),ie=P<d.length?d[P]:null,me=q<m.length?m[q]:null}}(d,I,D,D[11],D[m+1],D[m+1]=function H7(n,i,o){if(null==o||""===o)return Yt;const a=[],d=kr(o);if(Array.isArray(d))for(let m=0;m<d.length;m++)n(a,d[m],!0);else if("object"==typeof d)for(const m in d)d.hasOwnProperty(m)&&n(a,m,d[m]);else"string"==typeof d&&i(a,d);return a}(n,i,o),a,m)}}(te,Qo,n,!0)}function Qo(n,i){for(let o=function lc(n){return function _8(n){Pr.key=0,Pr.keyEnd=0,Pr.value=0,Pr.valueEnd=0,Pr.textEnd=n.length}(n),x7(n,O4(n,0,Pr.textEnd))}(i);o>=0;o=x7(i,o))te(n,cc(i),!0)}function a4(n,i,o,a){const d=kt(),m=Cn(),D=Qn(2);m.firstUpdatePass&&R7(m,n,D,a),i!==Zn&&Bs(d,D,i)&&F7(m,m.data[be()],d,d[11],n,d[D+1]=function hc(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ke(kr(n)))),n}(i,o),a,D)}function fc(n,i){return i>=n.expandoStartIndex}function R7(n,i,o,a){const d=n.data;if(null===d[o+1]){const m=d[be()],D=fc(n,o);s3(m,a)&&null===i&&!D&&(i=!1),i=function d9(n,i,o,a){const d=function vr(n){const i=K1.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let m=a?i.residualClasses:i.residualStyles;if(null===d)0===(a?i.classBindings:i.styleBindings)&&(o=p0(o=b8(null,n,i,o,a),i.attrs,a),m=null);else{const D=i.directiveStylingLast;if(-1===D||n[D]!==d)if(o=b8(d,n,i,o,a),null===m){let P=function k7(n,i,o){const a=o?i.classBindings:i.styleBindings;if(0!==Ko(a))return n[qo(a)]}(n,i,a);void 0!==P&&Array.isArray(P)&&(P=b8(null,n,i,P[1],a),P=p0(P,i.attrs,a),function P7(n,i,o,a){n[qo(o?i.classBindings:i.styleBindings)]=a}(n,i,a,P))}else m=function V7(n,i,o){let a;const d=i.directiveEnd;for(let m=1+i.directiveStylingLast;m<d;m++)a=p0(a,n[m].hostAttrs,o);return p0(a,i.attrs,o)}(n,i,a)}return void 0!==m&&(a?i.residualClasses=m:i.residualStyles=m),o}(d,m,i,a),function A7(n,i,o,a,d,m){let D=m?i.classBindings:i.styleBindings,I=qo(D),P=Ko(D);n[a]=o;let ie,q=!1;if(Array.isArray(o)){const me=o;ie=me[1],(null===ie||Ae(me,ie)>0)&&(q=!0)}else ie=o;if(d)if(0!==P){const Ge=qo(n[I+1]);n[a+1]=x3(Ge,I),0!==Ge&&(n[Ge+1]=$0(n[Ge+1],a)),n[I+1]=function n5(n,i){return 131071&n|i<<17}(n[I+1],a)}else n[a+1]=x3(I,0),0!==I&&(n[I+1]=$0(n[I+1],a)),I=a;else n[a+1]=x3(P,0),0===I?I=a:n[P+1]=$0(n[P+1],a),P=a;q&&(n[a+1]=Q6(n[a+1])),v8(n,ie,a,!0),v8(n,ie,a,!1),function Z5(n,i,o,a,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof i&&Ae(m,i)>=0&&(o[a+1]=Z0(o[a+1]))}(i,ie,n,a,m),D=x3(I,P),m?i.classBindings=D:i.styleBindings=D}(d,m,i,o,D,a)}}function b8(n,i,o,a,d){let m=null;const D=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<D&&(m=i[I],a=p0(a,m.hostAttrs,d),m!==n);)I++;return null!==n&&(o.directiveStylingLast=I),a}function p0(n,i,o){const a=o?1:2;let d=-1;if(null!==i)for(let m=0;m<i.length;m++){const D=i[m];"number"==typeof D?d=D:d===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),te(n,D,!!o||i[++m]))}return void 0===n?null:n}function F7(n,i,o,a,d,m,D,I){if(!(3&i.type))return;const P=n.data,q=P[I+1];Aa(function i5(n){return 1==(1&n)}(q)?V3(P,i,o,d,Ko(q),D):void 0)||(Aa(m)||function g6(n){return 2==(2&n)}(q)&&(m=V3(P,null,o,d,I,D)),function Ya(n,i,o,a,d){if(i)d?n.addClass(o,a):n.removeClass(o,a);else{let m=-1===a.indexOf("-")?void 0:ks.DashCase;null==d?n.removeStyle(o,a,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=ks.Important),n.setStyle(o,a,d,m))}}(a,D,ti(be(),o),d,m))}function V3(n,i,o,a,d,m){const D=null===i;let I;for(;d>0;){const P=n[d],q=Array.isArray(P),ie=q?P[1]:P,me=null===ie;let Ge=o[d+1];Ge===Zn&&(Ge=me?Yt:void 0);let ht=me?ge(Ge,a):ie===a?Ge:void 0;if(q&&!Aa(ht)&&(ht=ge(P,a)),Aa(ht)&&(I=ht,D))return I;const Vt=n[d+1];d=D?qo(Vt):Ko(Vt)}if(null!==i){let P=m?i.residualClasses:i.residualStyles;null!=P&&(I=ge(P,a))}return I}function Aa(n){return void 0!==n}function s3(n,i){return 0!=(n.flags&(i?16:32))}function B7(n,i=""){const o=kt(),a=Cn(),d=n+22,m=a.firstCreatePass?r0(a,d,1,i,null):a.data[d],D=o[d]=t6(o[11],i);q4(a,o,D,m),ir(m,!1)}function w8(n){return D8("",n,""),w8}function D8(n,i,o){const a=kt(),d=L3(a,n,i,o);return d!==Zn&&function x4(n,i,o){const a=ti(i,n);v4(n[11],a,o)}(a,be(),d),D8}function pc(n,i,o){const a=kt();return Bs(a,w1(),i)&&bo(Cn(),vt(),a,n,i,a[11],o,!0),pc}const S6=void 0;var S8=["en",[["a","p"],["AM","PM"],S6],[["AM","PM"],S6,S6],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],S6,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],S6,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",S6,"{1} 'at' {0}",S6],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Q7(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let v0={};function N8(n){const i=function mc(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=so(i);if(o)return o;const a=i.split("-")[0];if(o=so(a),o)return o;if("en"===a)return S8;throw new Je(701,!1)}function Xo(n){return N8(n)[bn.PluralCase]}function so(n){return n in v0||(v0[n]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[n]),v0[n]}var bn=(()=>((bn=bn||{})[bn.LocaleId=0]="LocaleId",bn[bn.DayPeriodsFormat=1]="DayPeriodsFormat",bn[bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",bn[bn.DaysFormat=3]="DaysFormat",bn[bn.DaysStandalone=4]="DaysStandalone",bn[bn.MonthsFormat=5]="MonthsFormat",bn[bn.MonthsStandalone=6]="MonthsStandalone",bn[bn.Eras=7]="Eras",bn[bn.FirstDayOfWeek=8]="FirstDayOfWeek",bn[bn.WeekendRange=9]="WeekendRange",bn[bn.DateFormat=10]="DateFormat",bn[bn.TimeFormat=11]="TimeFormat",bn[bn.DateTimeFormat=12]="DateTimeFormat",bn[bn.NumberSymbols=13]="NumberSymbols",bn[bn.NumberFormats=14]="NumberFormats",bn[bn.CurrencyCode=15]="CurrencyCode",bn[bn.CurrencySymbol=16]="CurrencySymbol",bn[bn.CurrencyName=17]="CurrencyName",bn[bn.Currencies=18]="Currencies",bn[bn.Directionality=19]="Directionality",bn[bn.PluralCase=20]="PluralCase",bn[bn.ExtraData=21]="ExtraData",bn))();const T8=["zero","one","two","few","many"],_0="en-US",a3={marker:"element"},R4={marker:"ICU"};var cr=(()=>((cr=cr||{})[cr.SHIFT=2]="SHIFT",cr[cr.APPEND_EAGERLY=1]="APPEND_EAGERLY",cr[cr.COMMENT=2]="COMMENT",cr))();let X7=_0;function eu(n){(function L1(n,i){null==n&&Pt(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(X7=n.toLowerCase().replace(/_/g,"-"))}function c3(n,i,o){const a=i.insertBeforeIndex,d=Array.isArray(a)?a[0]:a;return null===d?ba(n,0,o):h2(o[d])}function tu(n,i,o,a,d){const m=i.insertBeforeIndex;if(Array.isArray(m)){let D=a,I=null;if(3&i.type||(I=D,D=d),null!==D&&0==(2&i.flags))for(let P=1;P<m.length;P++)Bo(n,D,o[m[P]],I,!1)}}function nu(n,i){if(n.push(i),n.length>1)for(let o=n.length-2;o>=0;o--){const a=n[o];iu(a)||ru(a,i)&&null===T9(a)&&nl(a,i.index)}}function iu(n){return!(64&n.type)}function ru(n,i){return iu(i)||n.index>i.index}function T9(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function nl(n,i){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=i:(Ka(c3,tu),n.insertBeforeIndex=i)}function F3(n,i){const o=n.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function il(n,i,o){const a=Kc(n,o,64,null,null);return nu(i,a),a}function A8(n,i){const o=i[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function rl(n){return n>>>17}function sl(n){return(131070&n)>>>1}let C0=0,M0=0;function al(n,i,o,a){const d=o[11];let D,m=null;for(let I=0;I<i.length;I++){const P=i[I];if("string"==typeof P){const q=i[++I];null===o[q]&&(o[q]=t6(d,P))}else if("number"==typeof P)switch(1&P){case 0:const q=rl(P);let ie,me;if(null===m&&(m=q,D=_a(d,a)),q===m?(ie=a,me=D):(ie=null,me=h2(o[q])),null!==me){const p1=sl(P);Bo(d,me,o[p1],ie,!1);const en=F3(n,p1);if(null!==en&&"object"==typeof en){const wn=A8(en,o);null!==wn&&al(n,en.create[wn],o,o[en.anchorIdx])}}break;case 1:const ht=i[++I],Vt=i[++I];N5(d,ti(P>>>1,o),null,null,ht,Vt,null)}else switch(P){case R4:const q=i[++I],ie=i[++I];null===o[ie]&&us(o[ie]=ya(d,q),o);break;case a3:const me=i[++I],Ge=i[++I];null===o[Ge]&&us(o[Ge]=C3(d,me,null),o)}}}function au(n,i,o,a,d){for(let m=0;m<o.length;m++){const D=o[m],I=o[++m];if(D&d){let P="";for(let q=m+1;q<=m+I;q++){const ie=o[q];if("string"==typeof ie)P+=ie;else if("number"==typeof ie)if(ie<0)P+=ft(i[a-ie]);else{const me=ie>>>2;switch(3&ie){case 1:const Ge=o[++q],ht=o[++q],Vt=n.data[me];"string"==typeof Vt?N5(i[11],i[me],null,Vt,Ge,P,ht):bo(n,Vt,i,Ge,P,i[11],ht,!1);break;case 0:const p1=i[me];null!==p1&&v4(i[11],p1,P);break;case 2:e(n,F3(n,me),i,P);break;case 3:r(n,F3(n,me),a,i)}}}}else{const P=o[m+1];if(P>0&&3==(3&P)){const ie=F3(n,P>>>2);i[ie.currentCaseLViewIndex]<0&&r(n,ie,a,i)}}m+=I}}function r(n,i,o,a){let d=a[i.currentCaseLViewIndex];if(null!==d){let m=C0;d<0&&(d=a[i.currentCaseLViewIndex]=~d,m=-1),au(n,a,i.update[d],o,m)}}function e(n,i,o,a){const d=function s(n,i){let o=n.cases.indexOf(i);if(-1===o)switch(n.type){case 1:{const a=function To(n,i){const o=Xo(i)(parseInt(n,10)),a=T8[o];return void 0!==a?a:"other"}(i,function N9(){return X7}());o=n.cases.indexOf(a),-1===o&&"other"!==a&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(i,a);if(A8(i,o)!==d&&(t(n,i,o),o[i.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const D=o[i.anchorIdx];D&&al(n,i.create[d],o,D)}}function t(n,i,o){let a=A8(i,o);if(null!==a){const d=i.remove[a];for(let m=0;m<d.length;m++){const D=d[m];if(D>0){const I=ti(D,o);null!==I&&Y4(o[11],I)}else t(n,F3(n,~D),o)}}}function c(){const n=[];let o,a,i=-1;function m(I,P){i=0;const q=A8(I,P);a=null!==q?I.remove[q]:Yt}function D(){if(i<a.length){const I=a[i++];return I>0?o[I]:(n.push(i,a),m(o[1].data[~I],o),D())}return 0===n.length?null:(a=n.pop(),i=n.pop(),D())}return function d(I,P){for(o=P;n.length;)n.pop();return m(I.value,P),D}}const le=/\ufffd(\d+):?\d*\ufffd/gi,dt=/\ufffd(\d+)\ufffd/,Ht=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,x1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,on=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ni=/\uE500/g;function Er(n,i,o,a,d,m,D){const I=s0(n,a,1,null);let P=I<<cr.SHIFT,q=As();i===q&&(q=null),null===q&&(P|=cr.APPEND_EAGERLY),D&&(P|=cr.COMMENT,function ga(n){void 0===Fo&&(Fo=n())}(c)),d.push(P,null===m?"":m);const ie=Kc(n,I,D?32:1,null===m?"":m,null);nu(o,ie);const me=ie.index;return ir(ie,!1),null!==q&&i!==q&&function A9(n,i){let o=n.insertBeforeIndex;null===o?(Ka(c3,tu),o=n.insertBeforeIndex=[null,i]):(function tt(n,i,o){n!=i&&Pt(o,n,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(q,me),ie}function H2(n,i,o,a,d,m,D){const I=D.match(le),P=Er(n,i,o,m,a,I?null:D,!1);I&&Sr(d,D,P.index,null,0,null)}function Sr(n,i,o,a,d,m){const D=n.length,I=D+1;n.push(null,null);const P=D+2,q=i.split(le);let ie=0;for(let me=0;me<q.length;me++){const Ge=q[me];if(1&me){const ht=d+parseInt(Ge,10);n.push(-1-ht),ie|=qd(ht)}else""!==Ge&&n.push(Ge)}return n.push(o<<2|(a?1:0)),a&&n.push(a,m),n[D]=ie,n[I]=n.length-P,ie}function qd(n){return 1<<Math.min(n,31)}function Kd(n){let i,m,o="",a=0,d=!1;for(;null!==(i=x1.exec(n));)d?i[0]===`\ufffd/*${m}\ufffd`&&(a=i.index,d=!1):(o+=n.substring(a,i.index+i[0].length),m=i[1],d=!0);return o+=n.slice(a),o}function Yd(n,i,o,a,d,m){let D=0;const I={type:d.type,currentCaseLViewIndex:s0(n,i,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function cp(n,i,o){n.push(qd(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,d,m),function su(n,i,o){const a=n.data[i];null===a?n.data[i]=o:a.value=o}(n,m,I);const P=d.values;for(let q=0;q<P.length;q++){const ie=P[q],me=[];for(let Ge=0;Ge<ie.length;Ge++){const ht=ie[Ge];if("string"!=typeof ht){const Vt=me.push(ht)-1;ie[Ge]=`\x3c!--\ufffd${Vt}\ufffd--\x3e`}}D=op(n,I,i,o,a,d.cases[q],ie.join(""),me)|D}D&&function lp(n,i,o){n.push(i,1,o<<2|3)}(o,D,m)}function sp(n){const i=[],o=[];let a=1,d=0;const m=L9(n=n.replace(Ht,function(D,I,P){return a="select"===P?0:1,d=parseInt(I.slice(1),10),""}));for(let D=0;D<m.length;){let I=m[D++].trim();1===a&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&i.push(I);const P=L9(m[D++]);i.length>o.length&&o.push(P)}return{type:a,mainBinding:d,cases:i,values:o}}function L9(n){if(!n)return[];let i=0;const o=[],a=[],d=/[{}]/g;let m;for(d.lastIndex=0;m=d.exec(n);){const I=m.index;if("}"==m[0]){if(o.pop(),0==o.length){const P=n.substring(i,I);Ht.test(P)?a.push(sp(P)):a.push(P),i=I+1}}else{if(0==o.length){const P=n.substring(i,I);a.push(P),i=I+1}o.push("{")}}const D=n.substring(i);return a.push(D),a}function op(n,i,o,a,d,m,D,I){const P=[],q=[],ie=[];i.cases.push(m),i.create.push(P),i.remove.push(q),i.update.push(ie);const Ge=fs(h()).getInertBodyElement(D),ht=Tc(Ge)||Ge;return ht?Jd(n,i,o,a,P,q,ie,ht,d,I,0):0}function Jd(n,i,o,a,d,m,D,I,P,q,ie){let me=0,Ge=I.firstChild;for(;Ge;){const ht=s0(n,o,1,null);switch(Ge.nodeType){case Node.ELEMENT_NODE:const Vt=Ge,p1=Vt.tagName.toLowerCase();if($6.hasOwnProperty(p1)){O9(d,a3,p1,P,ht),n.data[ht]=p1;const Jt=Vt.attributes;for(let Vn=0;Vn<Jt.length;Vn++){const vi=Jt.item(Vn),Vr=vi.name.toLowerCase();vi.value.match(le)?H8.hasOwnProperty(Vr)&&Sr(D,vi.value,ht,vi.name,0,Ec[Vr]?Xa:null):up(d,ht,vi)}me=Jd(n,i,o,a,d,m,D,Ge,ht,q,ie+1)|me,Qd(m,ht,ie)}break;case Node.TEXT_NODE:const E1=Ge.textContent||"",en=E1.match(le);O9(d,null,en?"":E1,P,ht),Qd(m,ht,ie),en&&(me=Sr(D,E1,ht,null,0,null)|me);break;case Node.COMMENT_NODE:const wn=dt.exec(Ge.textContent||"");if(wn){const Vn=q[parseInt(wn[1],10)];O9(d,R4,"",P,ht),Yd(n,o,a,P,Vn,ht),ap(m,ht,ie)}}Ge=Ge.nextSibling}return me}function Qd(n,i,o){0===o&&n.push(i)}function ap(n,i,o){0===o&&(n.push(~i),n.push(i))}function O9(n,i,o,a,d){null!==i&&n.push(i),n.push(o,d,function I9(n,i,o){return n|i<<17|o<<1}(0,a,d))}function up(n,i,o){n.push(i<<1|1,o.name,o.value)}function ef(n,i,o=-1){const a=Cn(),d=kt(),m=22+n,D=N2(a.consts,i),I=As();a.firstCreatePass&&function O2(n,i,o,a,d,m){const D=As(),I=[],P=[],q=[[]];d=function rp(n,i){if(function ip(n){return-1===n}(i))return Kd(n);{const o=n.indexOf(`:${i}\ufffd`)+2+i.toString().length,a=n.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return Kd(n.substring(o,a))}}(d,m);const ie=function lr(n){return n.replace(Ni," ")}(d).split(on);for(let me=0;me<ie.length;me++){let Ge=ie[me];if(0==(1&me)){const ht=L9(Ge);for(let Vt=0;Vt<ht.length;Vt++){let p1=ht[Vt];if(0==(1&Vt)){const E1=p1;""!==E1&&H2(n,D,q[0],I,P,o,E1)}else{const E1=p1;if("object"!=typeof E1)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Yd(n,o,P,i,E1,Er(n,D,q[0],o,I,"",!0).index)}}}else{const ht=47===Ge.charCodeAt(0),p1=(Ge.charCodeAt(ht?1:0),22+Number.parseInt(Ge.substring(ht?2:1)));if(ht)q.shift(),ir(As(),!1);else{const E1=il(n,q[0],p1);q.unshift([]),ir(E1,!0)}}}n.data[a]={create:I,update:P}}(a,null===I?0:I.index,d,m,D,o);const P=a.data[m],ie=Wa(a,I===d[6]?null:I,d);(function ou(n,i,o,a){const d=n[11];for(let m=0;m<i.length;m++){const D=i[m++],I=i[m],P=(D&cr.COMMENT)===cr.COMMENT,q=(D&cr.APPEND_EAGERLY)===cr.APPEND_EAGERLY,ie=D>>>cr.SHIFT;let me=n[ie];null===me&&(me=n[ie]=P?d.createComment(I):t6(d,I)),q&&null!==o&&Bo(d,o,me,a,!1)}})(d,P.create,ie,I&&8&I.type?d[I.index]:null),rr(!0)}function nf(n,i,o){ef(n,i,o),function tf(){rr(!1)}()}function R9(n){return function x9(n){n&&(C0|=1<<Math.min(M0,31)),M0++}(Bs(kt(),w1(),n)),R9}function rf(n){!function z9(n,i,o){if(M0>0){const a=n.data[o];au(n,i,Array.isArray(a)?a:a.update,function se(){return K1.lFrame.bindingIndex}()-M0-1,C0)}C0=0,M0=0}(Cn(),kt(),n+22)}function k9(n,i,o,a,d){if(n=ze(n),Array.isArray(n))for(let m=0;m<n.length;m++)k9(n[m],i,o,a,d);else{const m=Cn(),D=kt();let I=F1(n)?n:ze(n.provide),P=Dr(n);const q=D2(),ie=1048575&q.providerIndexes,me=q.directiveStart,Ge=q.providerIndexes>>20;if(F1(n)||!n.multi){const ht=new ci(P,d,I3),Vt=V9(I,i,d?ie:ie+Ge,me);-1===Vt?(Li(c1(q,D),m,I),P9(m,n,i.length),i.push(I),q.directiveStart++,q.directiveEnd++,d&&(q.providerIndexes+=1048576),o.push(ht),D.push(ht)):(o[Vt]=ht,D[Vt]=ht)}else{const ht=V9(I,i,ie+Ge,me),Vt=V9(I,i,ie,ie+Ge),p1=ht>=0&&o[ht],E1=Vt>=0&&o[Vt];if(d&&!E1||!d&&!p1){Li(c1(q,D),m,I);const en=function Dp(n,i,o,a,d){const m=new ci(n,o,I3);return m.multi=[],m.index=i,m.componentProviders=0,sf(m,d,a&&!o),m}(d?wp:Mp,o.length,d,a,P);!d&&E1&&(o[Vt].providerFactory=en),P9(m,n,i.length,0),i.push(I),q.directiveStart++,q.directiveEnd++,d&&(q.providerIndexes+=1048576),o.push(en),D.push(en)}else P9(m,n,ht>-1?ht:Vt,sf(o[d?Vt:ht],P,!d&&a));!d&&a&&E1&&o[Vt].componentProviders++}}}function P9(n,i,o,a){const d=F1(i),m=function T2(n){return!!n.useClass}(i);if(d||m){const P=(m?ze(i.useClass):i).prototype.ngOnDestroy;if(P){const q=n.destroyHooks||(n.destroyHooks=[]);if(!d&&i.multi){const ie=q.indexOf(o);-1===ie?q.push(o,[a,P]):q[ie+1].push(a,P)}else q.push(o,P)}}}function sf(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function V9(n,i,o,a){for(let d=o;d<a;d++)if(i[d]===n)return d;return-1}function Mp(n,i,o,a){return H9(this.multi,[])}function wp(n,i,o,a){const d=this.multi;let m;if(this.providerFactory){const D=this.providerFactory.componentProviders,I=os(o,o[1],this.providerFactory.index,a);m=I.slice(0,D),H9(d,m);for(let P=D;P<I.length;P++)m.push(I[P])}else m=[],H9(d,m);return m}function H9(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function af(n,i=[]){return o=>{o.providersResolver=(a,d)=>function Cp(n,i,o){const a=Cn();if(a.firstCreatePass){const d=z2(n);k9(o,a.data,a.blueprint,d,!0),k9(i,a.data,a.blueprint,d,!1)}}(a,d?d(n):n,i)}}class I8{}class cf{}function Ep(n,i){return new lf(n,i??null)}class lf extends I8{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new s8(this);const a=cn(i);this._bootstrapComponents=Wo(a.bootstrap),this._r3Injector=Rc(i,o,[{provide:I8,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],ke(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class F9 extends cf{constructor(i){super(),this.moduleType=i}create(i){return new lf(this.moduleType,i)}}class Sp extends I8{constructor(i,o,a){super(),this.componentFactoryResolver=new s8(this),this.instance=null;const d=new y2([...i,{provide:I8,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],o||ri(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function B9(n,i,o=null){return new Sp(n,i,o).injector}let Np=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=Z(0,o.type),d=a.length>0?B9([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,d)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=M1({token:n,providedIn:"environment",factory:()=>new n(ji(s2))}),n})();function uf(n){n.getStandaloneInjector=i=>i.get(Np).getOrCreateStandaloneInjector(n)}function vf(n,i,o){const a=V()+n,d=kt();return d[a]===Zn?Na(d,a,o?i.call(o):i()):function M6(n,i){return n[i]}(d,a)}function yf(n,i,o,a){return Cf(kt(),V(),n,i,o,a)}function _f(n,i,o,a,d){return function Mf(n,i,o,a,d,m,D){const I=i+o;return z4(n,I,d,m)?Na(n,I+2,D?a.call(D,d,m):a(d,m)):cl(n,I+2)}(kt(),V(),n,i,o,a,d)}function bf(n,i,o,a,d,m){return function wf(n,i,o,a,d,m,D,I){const P=i+o;return function a0(n,i,o,a,d){const m=z4(n,i,o,a);return Bs(n,i+2,d)||m}(n,P,d,m,D)?Na(n,P+3,I?a.call(I,d,m,D):a(d,m,D)):cl(n,P+3)}(kt(),V(),n,i,o,a,d,m)}function cl(n,i){const o=n[i];return o===Zn?void 0:o}function Cf(n,i,o,a,d,m){const D=i+o;return Bs(n,D,d)?Na(n,D+1,m?a.call(m,d):a(d)):cl(n,D+1)}function Sf(n,i){const o=Cn();let a;const d=n+22;o.firstCreatePass?(a=function Up(n,i){if(i)for(let o=i.length-1;o>=0;o--){const a=i[o];if(n===a.name)return a}}(i,o.pipeRegistry),o.data[d]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,a.onDestroy)):a=o.data[d];const m=a.factory||(a.factory=Ti(a.type)),D=mn(I3);try{const I=Kt(!1),P=m();return Kt(I),function es(n,i,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=a}(o,kt(),d,P),P}finally{mn(D)}}function Nf(n,i,o){const a=n+22,d=kt(),m=qi(d,a);return function ll(n,i){return n[1].data[i].pure}(d,a)?Cf(d,V(),i,m.transform,o,m):m.transform(o)}function j9(n){return i=>{setTimeout(n,void 0,i)}}const B3=class Wp extends l.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,a){let d=i,m=o||(()=>null),D=a;if(i&&"object"==typeof i){const P=i;d=P.next?.bind(P),m=P.error?.bind(P),D=P.complete?.bind(P)}this.__isAsync&&(m=j9(m),d&&(d=j9(d)),D&&(D=j9(D)));const I=super.subscribe({next:d,error:m,complete:D});return i instanceof C.w0&&i.add(I),I}};function qp(){return this._results[C6()]()}class G9{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=C6(),a=G9.prototype;a[o]||(a[o]=qp)}get changes(){return this._changes||(this._changes=new B3)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const a=this;a.dirty=!1;const d=Oi(i);(this._changesDetected=!function ha(n,i,o){if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let d=n[a],m=i[a];if(o&&(d=o(d),m=o(m)),m!==d)return!1}return!0}(a._results,d,o))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ul=(()=>{class n{}return n.__NG_ELEMENT_ID__=Jp,n})();const Kp=ul,Yp=class extends Kp{constructor(i,o,a){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(i,o){const a=this._declarationTContainer.tViews,d=n0(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,o||null);d[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(d[19]=D.createEmbeddedView(a)),Yc(a,d,i),new b6(d)}};function Jp(){return cu(D2(),kt())}function cu(n,i){return 4&n.type?new Yp(i,n,$i(n,i)):null}let lu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Qp,n})();function Qp(){return If(D2(),kt())}const Xp=lu,Tf=class extends Xp{constructor(i,o,a){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=a}get element(){return $i(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const i=Z2(this._hostTNode,this._hostLView);if(zi(i)){const o=to(i,this._hostLView),a=li(i);return new Cr(o[1].data[a+8],o)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Af(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,a){let d,m;"number"==typeof a?d=a:null!=a&&(d=a.index,m=a.injector);const D=i.createEmbeddedView(o||{},m);return this.insert(D,d),D}createComponent(i,o,a,d,m){const D=i&&!function Rs(n){return"function"==typeof n}(i);let I;if(D)I=o;else{const me=o||{};I=me.index,a=me.injector,d=me.projectableNodes,m=me.environmentInjector||me.ngModuleRef}const P=D?i:new d2(Ze(i)),q=a||this.parentInjector;if(!m&&null==P.ngModule){const Ge=(D?q:this.parentInjector).get(s2,null);Ge&&(m=Ge)}const ie=P.create(q,d,void 0,m);return this.insert(ie.hostView,I),ie}insert(i,o){const a=i._lView,d=a[1];if(function Ts(n){return x2(n[3])}(a)){const ie=this.indexOf(i);if(-1!==ie)this.detach(ie);else{const me=a[3],Ge=new Tf(me,me[6],me[3]);Ge.detach(Ge.indexOf(i))}}const m=this._adjustIndex(o),D=this._lContainer;!function $a(n,i,o,a){const d=10+a,m=o.length;a>0&&(o[d-1][4]=i),a<m-10?(i[4]=o[d],pa(o,10+a,i)):(o.push(i),i[4]=null),i[3]=o;const D=i[17];null!==D&&o!==D&&function Gi(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(D,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=64}(d,a,D,m);const I=K4(m,D),P=a[11],q=_a(P,D[7]);return null!==q&&function O0(n,i,o,a,d,m){a[0]=d,a[6]=i,_4(n,a,o,1,d,m)}(d,D[6],P,a,q,I),i.attachToViewContainerRef(),pa($9(D),m,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Af(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),a=Za(this._lContainer,o);a&&(Kr($9(this._lContainer),o),M3(a[1],a))}detach(i){const o=this._adjustIndex(i,-1),a=Za(this._lContainer,o);return a&&null!=Kr($9(this._lContainer),o)?new b6(a):null}_adjustIndex(i,o=0){return i??this.length+o}};function Af(n){return n[8]}function $9(n){return n[8]||(n[8]=[])}function If(n,i){let o;const a=i[n.index];if(x2(a))o=a;else{let d;if(8&n.type)d=h2(a);else{const m=i[11];d=m.createComment("");const D=k2(n,i);Bo(m,_a(m,D),d,function Bn(n,i){return n.nextSibling(i)}(m,D),!1)}i[n.index]=o=e8(a,i,d,n),X0(i,o)}return new Tf(o,n,i)}class Z9{constructor(i){this.queryList=i,this.matches=null}clone(){return new Z9(this.queryList)}setDirty(){this.queryList.setDirty()}}class W9{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const a=null!==i.contentQueries?i.contentQueries[0]:o.length,d=[];for(let m=0;m<a;m++){const D=o.getByIndex(m);d.push(this.queries[D.indexInDeclarationView].clone())}return new W9(d)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Vf(i,o).matches&&this.queries[o].setDirty()}}class xf{constructor(i,o,a=null){this.predicate=i,this.flags=o,this.read=a}}class q9{constructor(i=[]){this.queries=i}elementStart(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let a=0;a<this.length;a++){const d=null!==o?o.length:0,m=this.getByIndex(a).embeddedTView(i,d);m&&(m.indexInDeclarationView=a,null!==o?o.push(m):o=[m])}return null!==o?new q9(o):null}template(i,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class K9{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new K9(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const m=a[d];this.matchTNodeWithReadOption(i,o,nm(o,m)),this.matchTNodeWithReadOption(i,o,ni(o,i,m,!1,!1))}else a===ul?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,ni(o,i,a,!1,!1))}matchTNodeWithReadOption(i,o,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===yo||d===lu||d===ul&&4&o.type)this.addMatch(o.index,-2);else{const m=ni(o,i,d,!1,!1);null!==m&&this.addMatch(o.index,m)}else this.addMatch(o.index,a)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function nm(n,i){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===i)return o[a+1];return null}function rm(n,i,o,a){return-1===o?function im(n,i){return 11&n.type?$i(n,i):4&n.type?cu(n,i):null}(i,n):-2===o?function sm(n,i,o){return o===yo?$i(i,n):o===ul?cu(i,n):o===lu?If(i,n):void 0}(n,i,a):os(n,n[1],o,i)}function Y9(n,i,o,a){const d=i[19].queries[a];if(null===d.matches){const m=n.data,D=o.matches,I=[];for(let P=0;P<D.length;P+=2){const q=D[P];I.push(q<0?null:rm(i,m[q],D[P+1],o.metadata.read))}d.matches=I}return d.matches}function J9(n,i,o,a){const d=n.queries.getByIndex(o),m=d.matches;if(null!==m){const D=Y9(n,i,d,o);for(let I=0;I<m.length;I+=2){const P=m[I];if(P>0)a.push(D[I/2]);else{const q=m[I+1],ie=i[-P];for(let me=10;me<ie.length;me++){const Ge=ie[me];Ge[17]===Ge[3]&&J9(Ge[1],Ge,q,a)}if(null!==ie[9]){const me=ie[9];for(let Ge=0;Ge<me.length;Ge++){const ht=me[Ge];J9(ht[1],ht,q,a)}}}}}return a}function zf(n){const i=kt(),o=Cn(),a=Y();re(a+1);const d=Vf(o,a);if(n.dirty&&function jr(n){return 4==(4&n[2])}(i)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?J9(o,i,a,[]):Y9(o,i,d,a);n.reset(m,w4),n.notifyOnChanges()}return!0}return!1}function Lf(n,i,o){const a=Cn();a.firstCreatePass&&(Pf(a,new xf(n,i,o),-1),2==(2&i)&&(a.staticViewQueries=!0)),kf(a,kt(),i)}function Of(n,i,o,a){const d=Cn();if(d.firstCreatePass){const m=D2();Pf(d,new xf(i,o,a),m.index),function am(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(d,n),2==(2&o)&&(d.staticContentQueries=!0)}kf(d,kt(),o)}function Rf(){return function om(n,i){return n[19].queries[i].queryList}(kt(),Y())}function kf(n,i,o){const a=new G9(4==(4&o));Ql(n,i,a,a.destroy),null===i[19]&&(i[19]=new W9),i[19].queries.push(new Z9(a))}function Pf(n,i,o){null===n.queries&&(n.queries=new q9),n.queries.track(new K9(i,o))}function Vf(n,i){return n.queries.getByIndex(i)}function Hf(n,i){return cu(n,i)}function du(...n){}const rh=new g2("Application Initializer");let fu=(()=>{class n{constructor(o){this.appInits=o,this.resolve=du,this.reject=du,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(Ta(m))o.push(m);else if(s9(m)){const D=new Promise((I,P)=>{m.subscribe({complete:I,error:P})});o.push(D)}}Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(ji(rh,8))},n.\u0275prov=M1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sh=new g2("AppId",{providedIn:"root",factory:function oh(){return`${nd()}${nd()}${nd()}`}});function nd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ah=new g2("Platform Initializer"),Nm=new g2("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ch=new g2("appBootstrapListener"),Tm=new g2("AnimationModuleType");let Am=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=M1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const hu=new g2("LocaleId",{providedIn:"root",factory:()=>H(hu,$t.Optional|$t.SkipSelf)||function Im(){return typeof $localize<"u"&&$localize.locale||_0}()}),xm=new g2("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zm{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Lm=(()=>{class n{compileModuleSync(o){return new F9(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),m=Wo(cn(o).declarations).reduce((D,I)=>{const P=Ze(I);return P&&D.push(new d2(P)),D},[]);return new zm(a,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=M1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const km=(()=>Promise.resolve(0))();function id(n){typeof Zone>"u"?km.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class k4{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new B3(!1),this.onMicrotaskEmpty=new B3(!1),this.onStable=new B3(!1),this.onError=new B3(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&o,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Pm(){let n=wt.requestAnimationFrame,i=wt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Fm(n){const i=()=>{!function Hm(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sd(n),n.isCheckStableRunning=!0,rd(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sd(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,d,m,D,I)=>{try{return dh(n),o.invokeTask(d,m,D,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&i(),fh(n)}},onInvoke:(o,a,d,m,D,I,P)=>{try{return dh(n),o.invoke(d,m,D,I,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),fh(n)}},onHasTask:(o,a,d,m)=>{o.hasTask(d,m),a===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,sd(n),rd(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,d,m)=>(o.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!k4.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(k4.isInAngularZone())throw new Je(909,!1)}run(i,o,a){return this._inner.run(i,o,a)}runTask(i,o,a,d){const m=this._inner,D=m.scheduleEventTask("NgZoneEvent: "+d,i,Vm,du,du);try{return m.runTask(D,o,a)}finally{m.cancelTask(D)}}runGuarded(i,o,a){return this._inner.runGuarded(i,o,a)}runOutsideAngular(i){return this._outer.run(i)}}const Vm={};function rd(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sd(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function dh(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fh(n){n._nesting--,rd(n)}class Bm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new B3,this.onMicrotaskEmpty=new B3,this.onStable=new B3,this.onError=new B3}run(i,o,a){return i.apply(o,a)}runGuarded(i,o,a){return i.apply(o,a)}runOutsideAngular(i){return i()}runTask(i,o,a,d){return i.apply(o,a)}}const hh=new g2(""),ph=new g2("");let od,Um=(()=>{class n{constructor(o,a,d){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,od||(function jm(n){od=n}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{k4.assertNotInAngularZone(),id(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())id(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==m),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}}return n.\u0275fac=function(o){return new(o||n)(ji(k4),ji(mh),ji(ph))},n.\u0275prov=M1({token:n,factory:n.\u0275fac}),n})(),mh=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return od?.findTestabilityInTree(this,o,a)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=M1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),w0=null;const gh=new g2("AllowMultipleToken"),ad=new g2("PlatformDestroyListeners");class Zm{constructor(i,o){this.name=i,this.token=o}}function yh(n,i,o=[]){const a=`Platform: ${i}`,d=new g2(a);return(m=[])=>{let D=cd();if(!D||D.injector.get(gh,!1)){const I=[...o,...m,{provide:d,useValue:!0}];n?n(I):function Wm(n){if(w0&&!w0.get(gh,!1))throw new Je(400,!1);w0=n;const i=n.get(bh);(function vh(n){const i=n.get(ah,null);i&&i.forEach(o=>o())})(n)}(function _h(n=[],i){return N4.create({name:i,providers:[{provide:dn,useValue:"platform"},{provide:ad,useValue:new Set([()=>w0=null])},...n]})}(I,a))}return function Km(n){const i=cd();if(!i)throw new Je(401,!1);return i}()}}function cd(){return w0?.get(bh)??null}let bh=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=function Mh(n,i){let o;return o="noop"===n?new Bm:("zone.js"===n?void 0:n)||new k4(i),o}(a?.ngZone,function Ch(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),m=[{provide:k4,useValue:d}];return d.run(()=>{const D=N4.create({providers:m,parent:this.injector,name:o.moduleType.name}),I=o.create(D),P=I.injector.get(h6,null);if(!P)throw new Je(402,!1);return d.runOutsideAngular(()=>{const q=d.onError.subscribe({next:ie=>{P.handleError(ie)}});I.onDestroy(()=>{mu(this._modules,I),q.unsubscribe()})}),function wh(n,i,o){try{const a=o();return Ta(a)?a.catch(d=>{throw i.runOutsideAngular(()=>n.handleError(d)),d}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(P,d,()=>{const q=I.injector.get(fu);return q.runInitializers(),q.donePromise.then(()=>(eu(I.injector.get(hu,_0)||_0),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,a=[]){const d=Dh({},a);return function Gm(n,i,o){const a=new F9(o);return Promise.resolve(a)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(o){const a=o.injector.get(pu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Je(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(ad,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(ji(N4))},n.\u0275prov=M1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Dh(n,i){return Array.isArray(i)?i.reduce(Dh,n):{...n,...i}}let pu=(()=>{class n{constructor(o,a,d){this._zone=o,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new X.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),D=new X.y(I=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{k4.assertNotInAngularZone(),id(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const q=this._zone.onUnstable.subscribe(()=>{k4.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{P.unsubscribe(),q.unsubscribe()}});this.isStable=(0,Ee.T)(m,D.pipe((0,Ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof So;if(!this._injector.get(fu).done)throw!d&&H1(o),new Je(405,false);let D;D=d?o:this._injector.get(Da).resolveComponentFactory(o),this.componentTypes.push(D.componentType);const I=function $m(n){return n.isBoundToModule}(D)?void 0:this._injector.get(I8),q=D.create(N4.NULL,[],a||D.selector,I),ie=q.location.nativeElement,me=q.injector.get(hh,null);return me?.registerApplication(ie),q.onDestroy(()=>{this.detachView(q.hostView),mu(this.components,q),me?.unregisterApplication(ie)}),this._loadComponent(q),q}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;mu(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(ch,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>mu(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Je(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(ji(k4),ji(s2),ji(h6))},n.\u0275prov=M1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mu(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let Sh=!0,Nh=!1;function Jm(){return Nh=!0,Sh}function Qm(){if(Nh)throw new Error("Cannot enable prod mode after platform setup.");Sh=!1}let Xm=(()=>{class n{}return n.__NG_ELEMENT_ID__=eg,n})();function eg(n){return function tg(n,i,o){if(bi(n)&&!o){const a=In(n.index,i);return new b6(a,a)}return 47&n.type?new b6(i[16],i):null}(D2(),kt(),16==(16&n))}class xh{constructor(){}supports(i){return ic(i)}create(i){return new ag(i)}}const og=(n,i)=>i;class ag{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||og}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,a=this._removalsHead,d=0,m=null;for(;o||a;){const D=!a||o&&o.currentIndex<Lh(a,d,m)?o:a,I=Lh(D,d,m),P=D.currentIndex;if(D===a)d--,a=a._nextRemoved;else if(o=o._next,null==D.previousIndex)d++;else{m||(m=[]);const q=I-d,ie=P-d;if(q!=ie){for(let Ge=0;Ge<q;Ge++){const ht=Ge<m.length?m[Ge]:m[Ge]=0,Vt=ht+Ge;ie<=Vt&&Vt<q&&(m[Ge]=ht+1)}m[D.previousIndex]=ie-q}}I!==P&&i(D,I,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ic(i))throw new Je(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let d,m,D,o=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)m=i[I],D=this._trackByFn(I,m),null!==o&&Object.is(o.trackById,D)?(a&&(o=this._verifyReinsertion(o,m,D,I)),Object.is(o.item,m)||this._addIdentityChange(o,m)):(o=this._mismatch(o,m,D,I),a=!0),o=o._next}else d=0,function h7(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[C6()]();let a;for(;!(a=o.next()).done;)i(a.value)}}(i,I=>{D=this._trackByFn(d,I),null!==o&&Object.is(o.trackById,D)?(a&&(o=this._verifyReinsertion(o,I,D,d)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,D,d),a=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,a,d){let m;return null===i?m=this._itTail:(m=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,m,d)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,m,d)):i=this._addAfter(new cg(o,a),m,d),i}_verifyReinsertion(i,o,a,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?i=this._reinsertAfter(m,i._prev,d):i.currentIndex!=d&&(i.currentIndex=d,this._addToMoves(i,d)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const d=i._prevRemoved,m=i._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(i,o,a),this._addToMoves(i,a),i}_moveAfter(i,o,a){return this._unlink(i),this._insertAfter(i,o,a),this._addToMoves(i,a),i}_addAfter(i,o,a){return this._insertAfter(i,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,a){const d=null===o?this._itHead:o._next;return i._next=d,i._prev=o,null===d?this._itTail=i:d._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new zh),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,a=i._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zh),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class cg{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lg{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const o=i._prevDup,a=i._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class zh{constructor(){this.map=new Map}put(i){const o=i.trackById;let a=this.map.get(o);a||(a=new lg,this.map.set(o,a)),a.add(i)}get(i,o){const d=this.map.get(i);return d?d.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lh(n,i,o){const a=n.previousIndex;if(null===a)return a;let d=0;return o&&a<o.length&&(d=o[a]),a+i+d}class Oh{constructor(){}supports(i){return i instanceof Map||rc(i)}create(){return new ug}}class ug{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||rc(i)))throw new Je(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const m=this._getOrCreateRecordForKey(d,a);o=this._insertBeforeOrAppend(o,m)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const a=i._prev;return o._next=i,o._prev=a,i._prev=o,a&&(a._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const d=this._records.get(i);this._maybeAddToChanges(d,o);const m=d._prev,D=d._next;return m&&(m._next=D),D&&(D._prev=m),d._next=null,d._prev=null,d}const a=new dg(i);return this._records.set(i,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(a=>o(i[a],a))}}class dg{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rh(){return new hd([new xh])}let hd=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Rh()),deps:[[n,new G1,new C1]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new Je(901,!1)}}return n.\u0275prov=M1({token:n,providedIn:"root",factory:Rh}),n})();function kh(){return new pd([new Oh])}let pd=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||kh()),deps:[[n,new G1,new C1]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new Je(901,!1)}}return n.\u0275prov=M1({token:n,providedIn:"root",factory:kh}),n})();const pg=yh(null,"core",[]);let mg=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(ji(pu))},n.\u0275mod=P1({type:n}),n.\u0275inj=qt({}),n})();function gg(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function yg(n,i){const o=Ze(n),a=i.elementInjector||ri();return new d2(o).create(a,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(r1,Qe,F)=>{F.d(Qe,{Fj:()=>at,u5:()=>mr,wO:()=>tr,qQ:()=>jr,JJ:()=>ut,JL:()=>Ne,F:()=>kn,On:()=>xt,wV:()=>Y1,Q7:()=>N2,_Y:()=>Xt});var l=F(4650),C=F(6895),X=F(8996),Ee=F(9751),Ie=F(4742),Te=F(8421),Se=F(3269),ke=F(5403),Ve=F(3268),fe=F(1810),ze=F(4004);let pt=(()=>{class ${constructor(V,se){this._renderer=V,this._elementRef=se,this.onChange=lt=>{},this.onTouched=()=>{}}setProperty(V,se){this._renderer.setProperty(this._elementRef.nativeElement,V,se)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(l.Qsj),l.Y36(l.SBq))},$.\u0275dir=l.lG2({type:$}),$})(),ot=(()=>{class $ extends pt{}return $.\u0275fac=function(){let B;return function(se){return(B||(B=l.n5z($)))(se||$)}}(),$.\u0275dir=l.lG2({type:$,features:[l.qOj]}),$})();const Je=new l.OlP("NgValueAccessor"),st={provide:Je,useExisting:(0,l.Gpc)(()=>at),multi:!0},s1=new l.OlP("CompositionEventMode");let at=(()=>{class $ extends pt{constructor(V,se,lt){super(V,se),this._compositionMode=lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function je(){const $=(0,C.q)()?(0,C.q)().getUserAgent():"";return/android (\d+)/.test($.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(s1,8))},$.\u0275dir=l.lG2({type:$,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,se){1&V&&l.NdJ("input",function(w1){return se._handleInput(w1.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(w1){return se._compositionEnd(w1.target.value)})},features:[l._Bn([st]),l.qOj]}),$})();function nt($){return null==$||("string"==typeof $||Array.isArray($))&&0===$.length}const Mt=new l.OlP("NgValidators"),ce=new l.OlP("NgAsyncValidators");function He($){return nt($.value)?{required:!0}:null}function Pt($){return null}function T1($){return null!=$}function S1($){return(0,l.QGY)($)?(0,X.D)($):$}function N1($){let B={};return $.forEach(V=>{B=null!=V?{...B,...V}:B}),0===Object.keys(B).length?null:B}function M1($,B){return B.map(V=>V($))}function qt($){return $.map(B=>function o2($){return!$.validate}(B)?B:V=>B.validate(V))}function Dn($){return null!=$?function fn($){if(!$)return null;const B=$.filter(T1);return 0==B.length?null:function(V){return N1(M1(V,B))}}(qt($)):null}function Un($){return null!=$?function Ln($){if(!$)return null;const B=$.filter(T1);return 0==B.length?null:function(V){return function he(...$){const B=(0,Se.jO)($),{args:V,keys:se}=(0,Ie.D)($),lt=new Ee.y(w1=>{const{length:Qn}=V;if(!Qn)return void w1.complete();const gr=new Array(Qn);let rr=Qn,vs=Qn;for(let is=0;is<Qn;is++){let rs=!1;(0,Te.Xf)(V[is]).subscribe((0,ke.x)(w1,vr=>{rs||(rs=!0,vs--),gr[is]=vr},()=>rr--,void 0,()=>{(!rr||!rs)&&(vs||w1.next(se?(0,fe.n)(se,gr):gr),w1.complete())}))}});return B?lt.pipe((0,Ve.Z)(B)):lt}(M1(V,B).map(S1)).pipe((0,ze.U)(N1))}}(qt($)):null}function Xn($,B){return null===$?[B]:Array.isArray($)?[...$,B]:[$,B]}function $1($){return $?Array.isArray($)?$:[$]:[]}function vn($,B){return Array.isArray($)?$.includes(B):$===B}function l2($,B){const V=$1(B);return $1($).forEach(lt=>{vn(V,lt)||V.push(lt)}),V}function $t($,B){return $1(B).filter(V=>!vn($,V))}class En{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(B){this._rawValidators=B||[],this._composedValidatorFn=Dn(this._rawValidators)}_setAsyncValidators(B){this._rawAsyncValidators=B||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(B){this._onDestroyCallbacks.push(B)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(B=>B()),this._onDestroyCallbacks=[]}reset(B){this.control&&this.control.reset(B)}hasError(B,V){return!!this.control&&this.control.hasError(B,V)}getError(B,V){return this.control?this.control.getError(B,V):null}}class On extends En{get formDirective(){return null}get path(){return null}}class mn extends En{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A2{constructor(B){this._cd=B}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ut=(()=>{class $ extends A2{constructor(V){super(V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(mn,2))},$.\u0275dir=l.lG2({type:$,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,se){2&V&&l.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)},features:[l.qOj]}),$})(),Ne=(()=>{class $ extends A2{constructor(V){super(V)}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(On,10))},$.\u0275dir=l.lG2({type:$,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,se){2&V&&l.ekj("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)("ng-submitted",se.isSubmitted)},features:[l.qOj]}),$})();const P1="VALID",xe="INVALID",we="PENDING",Pe="DISABLED";function Dt($){return(H1($)?$.validators:$)||null}function Ze($){return Array.isArray($)?Dn($):$||null}function o1($,B){return(H1(B)?B.asyncValidators:$)||null}function n1($){return Array.isArray($)?Un($):$||null}function H1($){return null!=$&&!Array.isArray($)&&"object"==typeof $}class De{constructor(B,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=B,this._rawAsyncValidators=V,this._composedValidatorFn=Ze(this._rawValidators),this._composedAsyncValidatorFn=n1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(B){this._rawValidators=this._composedValidatorFn=B}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(B){this._rawAsyncValidators=this._composedAsyncValidatorFn=B}get parent(){return this._parent}get valid(){return this.status===P1}get invalid(){return this.status===xe}get pending(){return this.status==we}get disabled(){return this.status===Pe}get enabled(){return this.status!==Pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(B){this._rawValidators=B,this._composedValidatorFn=Ze(B)}setAsyncValidators(B){this._rawAsyncValidators=B,this._composedAsyncValidatorFn=n1(B)}addValidators(B){this.setValidators(l2(B,this._rawValidators))}addAsyncValidators(B){this.setAsyncValidators(l2(B,this._rawAsyncValidators))}removeValidators(B){this.setValidators($t(B,this._rawValidators))}removeAsyncValidators(B){this.setAsyncValidators($t(B,this._rawAsyncValidators))}hasValidator(B){return vn(this._rawValidators,B)}hasAsyncValidator(B){return vn(this._rawAsyncValidators,B)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(B={}){this.touched=!0,this._parent&&!B.onlySelf&&this._parent.markAsTouched(B)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(B=>B.markAllAsTouched())}markAsUntouched(B={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}markAsDirty(B={}){this.pristine=!1,this._parent&&!B.onlySelf&&this._parent.markAsDirty(B)}markAsPristine(B={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}markAsPending(B={}){this.status=we,!1!==B.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!B.onlySelf&&this._parent.markAsPending(B)}disable(B={}){const V=this._parentMarkedDirty(B.onlySelf);this.status=Pe,this.errors=null,this._forEachChild(se=>{se.disable({...B,onlySelf:!0})}),this._updateValue(),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...B,skipPristineCheck:V}),this._onDisabledChange.forEach(se=>se(!0))}enable(B={}){const V=this._parentMarkedDirty(B.onlySelf);this.status=P1,this._forEachChild(se=>{se.enable({...B,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent}),this._updateAncestors({...B,skipPristineCheck:V}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(B){this._parent&&!B.onlySelf&&(this._parent.updateValueAndValidity(B),B.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(B){this._parent=B}getRawValue(){return this.value}updateValueAndValidity(B={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===P1||this.status===we)&&this._runAsyncValidator(B.emitEvent)),!1!==B.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!B.onlySelf&&this._parent.updateValueAndValidity(B)}_updateTreeValidity(B={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(B)),this.updateValueAndValidity({onlySelf:!0,emitEvent:B.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pe:P1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(B){if(this.asyncValidator){this.status=we,this._hasOwnPendingAsyncValidator=!0;const V=S1(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:B})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(B,V={}){this.errors=B,this._updateControlsErrors(!1!==V.emitEvent)}get(B){let V=B;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((se,lt)=>se&&se._find(lt),this)}getError(B,V){const se=V?this.get(V):this;return se&&se.errors?se.errors[B]:null}hasError(B,V){return!!this.getError(B,V)}get root(){let B=this;for(;B._parent;)B=B._parent;return B}_updateControlsErrors(B){this.status=this._calculateStatus(),B&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(B)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Pe:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(we)?we:this._anyControlsHaveStatus(xe)?xe:P1}_anyControlsHaveStatus(B){return this._anyControls(V=>V.status===B)}_anyControlsDirty(){return this._anyControls(B=>B.dirty)}_anyControlsTouched(){return this._anyControls(B=>B.touched)}_updatePristine(B={}){this.pristine=!this._anyControlsDirty(),this._parent&&!B.onlySelf&&this._parent._updatePristine(B)}_updateTouched(B={}){this.touched=this._anyControlsTouched(),this._parent&&!B.onlySelf&&this._parent._updateTouched(B)}_registerOnCollectionChange(B){this._onCollectionChange=B}_setUpdateStrategy(B){H1(B)&&null!=B.updateOn&&(this._updateOn=B.updateOn)}_parentMarkedDirty(B){return!B&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(B){return null}}class pe extends De{constructor(B,V,se){super(Dt(V),o1(se,V)),this.controls=B,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(B,V){return this.controls[B]?this.controls[B]:(this.controls[B]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(B,V,se={}){this.registerControl(B,V),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(B,V={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(B,V,se={}){this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),delete this.controls[B],V&&this.registerControl(B,V),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(B){return this.controls.hasOwnProperty(B)&&this.controls[B].enabled}setValue(B,V={}){(function W1($,B,V){$._forEachChild((se,lt)=>{if(void 0===V[lt])throw new l.vHH(1002,"")})})(this,0,B),Object.keys(B).forEach(se=>{(function cn($,B,V){const se=$.controls;if(!(B?Object.keys(se):se).length)throw new l.vHH(1e3,"");if(!se[V])throw new l.vHH(1001,"")})(this,!0,se),this.controls[se].setValue(B[se],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(B,V={}){null!=B&&(Object.keys(B).forEach(se=>{const lt=this.controls[se];lt&&lt.patchValue(B[se],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(B={},V={}){this._forEachChild((se,lt)=>{se.reset(B[lt],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(B,V,se)=>(B[se]=V.getRawValue(),B))}_syncPendingControls(){let B=this._reduceChildren(!1,(V,se)=>!!se._syncPendingControls()||V);return B&&this.updateValueAndValidity({onlySelf:!0}),B}_forEachChild(B){Object.keys(this.controls).forEach(V=>{const se=this.controls[V];se&&B(se,V)})}_setUpControls(){this._forEachChild(B=>{B.setParent(this),B._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(B){for(const[V,se]of Object.entries(this.controls))if(this.contains(V)&&B(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,se,lt)=>((se.enabled||this.disabled)&&(V[lt]=se.value),V))}_reduceChildren(B,V){let se=B;return this._forEachChild((lt,w1)=>{se=V(se,lt,w1)}),se}_allControlsDisabled(){for(const B of Object.keys(this.controls))if(this.controls[B].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(B){return this.controls.hasOwnProperty(B)?this.controls[B]:null}}function J1($,B){Rn($,B),B.valueAccessor.writeValue($.value),$.disabled&&B.valueAccessor.setDisabledState?.(!0),function fi($,B){B.valueAccessor.registerOnChange(V=>{$._pendingValue=V,$._pendingChange=!0,$._pendingDirty=!0,"change"===$.updateOn&&_2($,B)})}($,B),function oi($,B){const V=(se,lt)=>{B.valueAccessor.writeValue(se),lt&&B.viewToModelUpdate(se)};$.registerOnChange(V),B._registerOnDestroy(()=>{$._unregisterOnChange(V)})}($,B),function B2($,B){B.valueAccessor.registerOnTouched(()=>{$._pendingTouched=!0,"blur"===$.updateOn&&$._pendingChange&&_2($,B),"submit"!==$.updateOn&&$.markAsTouched()})}($,B),function q1($,B){if(B.valueAccessor.setDisabledState){const V=se=>{B.valueAccessor.setDisabledState(se)};$.registerOnDisabledChange(V),B._registerOnDestroy(()=>{$._unregisterOnDisabledChange(V)})}}($,B)}function I2($,B){$.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(B)})}function Rn($,B){const V=function jn($){return $._rawValidators}($);null!==B.validator?$.setValidators(Xn(V,B.validator)):"function"==typeof V&&$.setValidators([V]);const se=function t2($){return $._rawAsyncValidators}($);null!==B.asyncValidator?$.setAsyncValidators(Xn(se,B.asyncValidator)):"function"==typeof se&&$.setAsyncValidators([se]);const lt=()=>$.updateValueAndValidity();I2(B._rawValidators,lt),I2(B._rawAsyncValidators,lt)}function _2($,B){$._pendingDirty&&$.markAsDirty(),$.setValue($._pendingValue,{emitModelToViewChange:!1}),B.viewToModelUpdate($._pendingValue),$._pendingChange=!1}const qn={provide:On,useExisting:(0,l.Gpc)(()=>kn)},Vi=(()=>Promise.resolve())();let kn=(()=>{class $ extends On{constructor(V,se){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new pe({},Dn(V),Un(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){Vi.then(()=>{const se=this._findContainer(V.path);V.control=se.registerControl(V.name,V.control),J1(V.control,V),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){Vi.then(()=>{const se=this._findContainer(V.path);se&&se.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){Vi.then(()=>{const se=this._findContainer(V.path),lt=new pe({});(function U2($,B){Rn($,B)})(lt,V),se.registerControl(V.name,lt),lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){Vi.then(()=>{const se=this._findContainer(V.path);se&&se.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,se){Vi.then(()=>{this.form.get(V.path).setValue(se)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,function X2($,B){$._syncPendingControls(),B.forEach(V=>{const se=V.control;"submit"===se.updateOn&&se._pendingChange&&(V.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(Mt,10),l.Y36(ce,10))},$.\u0275dir=l.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(V,se){1&V&&l.NdJ("submit",function(w1){return se.onSubmit(w1)})("reset",function(){return se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([qn]),l.qOj]}),$})();function x2($,B){const V=$.indexOf(B);V>-1&&$.splice(V,1)}function ur($){return"object"==typeof $&&null!==$&&2===Object.keys($).length&&"value"in $&&"disabled"in $}const bi=class extends De{constructor(B=null,V,se){super(Dt(V),o1(se,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(B),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),H1(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=ur(B)?B.value:B)}setValue(B,V={}){this.value=this._pendingValue=B,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(B,V={}){this.setValue(B,V)}reset(B=this.defaultValue,V={}){this._applyFormState(B),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(B){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(B){this._onChange.push(B)}_unregisterOnChange(B){x2(this._onChange,B)}registerOnDisabledChange(B){this._onDisabledChange.push(B)}_unregisterOnDisabledChange(B){x2(this._onDisabledChange,B)}_forEachChild(B){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(B){ur(B)?(this.value=this._pendingValue=B.value,B.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=B}},$e={provide:mn,useExisting:(0,l.Gpc)(()=>xt)},Xe=(()=>Promise.resolve())();let xt=(()=>{class $ extends mn{constructor(V,se,lt,w1,Qn){super(),this._changeDetectorRef=Qn,this.control=new bi,this._registered=!1,this.update=new l.vpe,this._parent=V,this._setValidators(se),this._setAsyncValidators(lt),this.valueAccessor=function hi($,B){if(!B)return null;let V,se,lt;return Array.isArray(B),B.forEach(w1=>{w1.constructor===at?V=w1:function Q2($){return Object.getPrototypeOf($.constructor)===ot}(w1)?se=w1:lt=w1}),lt||se||V||null}(0,w1)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const se=V.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),function j2($,B){if(!$.hasOwnProperty("model"))return!1;const V=$.model;return!!V.isFirstChange()||!Object.is(B,V.currentValue)}(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){J1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){Xe.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const se=V.isDisabled.currentValue,lt=0!==se&&(0,l.D6c)(se);Xe.then(()=>{lt&&!this.control.disabled?this.control.disable():!lt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?function A1($,B){return[...B.path,$]}(V,this._parent):[V]}}return $.\u0275fac=function(V){return new(V||$)(l.Y36(On,9),l.Y36(Mt,10),l.Y36(ce,10),l.Y36(Je,10),l.Y36(l.sBO,8))},$.\u0275dir=l.lG2({type:$,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([$e]),l.qOj,l.TTD]}),$})(),Xt=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275dir=l.lG2({type:$,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),$})();const I1={provide:Je,useExisting:(0,l.Gpc)(()=>Y1),multi:!0};let Y1=(()=>{class $ extends ot{writeValue(V){this.setProperty("value",V??"")}registerOnChange(V){this.onChange=se=>{V(""==se?null:parseFloat(se))}}}return $.\u0275fac=function(){let B;return function(se){return(B||(B=l.n5z($)))(se||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(V,se){1&V&&l.NdJ("input",function(w1){return se.onChange(w1.target.value)})("blur",function(){return se.onTouched()})},features:[l._Bn([I1]),l.qOj]}),$})(),Zi=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({}),$})();let xi=(()=>{class ${constructor(){this._validator=Pt}ngOnChanges(V){if(this.inputName in V){const se=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):Pt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}}return $.\u0275fac=function(V){return new(V||$)},$.\u0275dir=l.lG2({type:$,features:[l.TTD]}),$})();const In={provide:Mt,useExisting:(0,l.Gpc)(()=>jr),multi:!0};let jr=(()=>{class $ extends xi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=V=>function k2($){return"number"==typeof $?$:parseFloat($)}(V),this.createValidator=V=>function Le($){return B=>{if(nt(B.value)||nt($))return null;const V=parseFloat(B.value);return!isNaN(V)&&V<$?{min:{min:$,actual:B.value}}:null}}(V)}}return $.\u0275fac=function(){let B;return function(se){return(B||(B=l.n5z($)))(se||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,se){2&V&&l.uIk("min",se._enabled?se.min:null)},inputs:{min:"min"},features:[l._Bn([In]),l.qOj]}),$})();const Gr={provide:Mt,useExisting:(0,l.Gpc)(()=>N2),multi:!0};let N2=(()=>{class $ extends xi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=V=>He}enabled(V){return V}}return $.\u0275fac=function(){let B;return function(se){return(B||(B=l.n5z($)))(se||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(V,se){2&V&&l.uIk("required",se._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Gr]),l.qOj]}),$})();const Ar={provide:Mt,useExisting:(0,l.Gpc)(()=>tr),multi:!0};let tr=(()=>{class $ extends xi{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=V=>function ti($){return"number"==typeof $?$:parseInt($,10)}(V),this.createValidator=V=>function v1($){return B=>nt(B.value)||!function Ft($){return null!=$&&"number"==typeof $.length}(B.value)?null:B.value.length<$?{minlength:{requiredLength:$,actualLength:B.value.length}}:null}(V)}}return $.\u0275fac=function(){let B;return function(se){return(B||(B=l.n5z($)))(se||$)}}(),$.\u0275dir=l.lG2({type:$,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(V,se){2&V&&l.uIk("minlength",se._enabled?se.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([Ar]),l.qOj]}),$})(),Cn=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({imports:[Zi]}),$})(),mr=(()=>{class ${}return $.\u0275fac=function(V){return new(V||$)},$.\u0275mod=l.oAB({type:$}),$.\u0275inj=l.cJS({imports:[Cn]}),$})()},8255:(r1,Qe,F)=>{F.d(Qe,{Dx:()=>ut,H7:()=>n1,b2:()=>On,q6:()=>vn,se:()=>He});var l=F(6895),C=F(4650);class X extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends X{static makeCurrent(){(0,l.HT)(new Ee)}onAndCancel(pe,ue,We){return pe.addEventListener(ue,We,!1),()=>{pe.removeEventListener(ue,We,!1)}}dispatchEvent(pe,ue){pe.dispatchEvent(ue)}remove(pe){pe.parentNode&&pe.parentNode.removeChild(pe)}createElement(pe,ue){return(ue=ue||this.getDefaultDocument()).createElement(pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(pe){return pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(pe){return pe instanceof DocumentFragment}getGlobalEventTarget(pe,ue){return"window"===ue?window:"document"===ue?pe:"body"===ue?pe.body:null}getBaseHref(pe){const ue=function Te(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==ue?null:function ke(De){Se=Se||document.createElement("a"),Se.setAttribute("href",De);const pe=Se.pathname;return"/"===pe.charAt(0)?pe:`/${pe}`}(ue)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(pe){return(0,l.Mx)(document.cookie,pe)}}let Se,Ie=null;const Ve=new C.OlP("TRANSITION_ID"),he=[{provide:C.ip1,useFactory:function fe(De,pe,ue){return()=>{ue.get(C.CZH).donePromise.then(()=>{const We=(0,l.q)(),yt=pe.querySelectorAll(`style[ng-transition="${De}"]`);for(let Qt=0;Qt<yt.length;Qt++)We.remove(yt[Qt])})}},deps:[Ve,l.K0,C.zs3],multi:!0}];let pt=(()=>{class De{build(){return new XMLHttpRequest}}return De.\u0275fac=function(ue){return new(ue||De)},De.\u0275prov=C.Yz7({token:De,factory:De.\u0275fac}),De})();const ot=new C.OlP("EventManagerPlugins");let Je=(()=>{class De{constructor(ue,We){this._zone=We,this._eventNameToPlugin=new Map,ue.forEach(yt=>yt.manager=this),this._plugins=ue.slice().reverse()}addEventListener(ue,We,yt){return this._findPluginFor(We).addEventListener(ue,We,yt)}addGlobalEventListener(ue,We,yt){return this._findPluginFor(We).addGlobalEventListener(ue,We,yt)}getZone(){return this._zone}_findPluginFor(ue){const We=this._eventNameToPlugin.get(ue);if(We)return We;const yt=this._plugins;for(let Qt=0;Qt<yt.length;Qt++){const A1=yt[Qt];if(A1.supports(ue))return this._eventNameToPlugin.set(ue,A1),A1}throw new Error(`No event manager plugin found for event ${ue}`)}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(ot),C.LFG(C.R0b))},De.\u0275prov=C.Yz7({token:De,factory:De.\u0275fac}),De})();class Gt{constructor(pe){this._doc=pe}addGlobalEventListener(pe,ue,We){const yt=(0,l.q)().getGlobalEventTarget(this._doc,pe);if(!yt)throw new Error(`Unsupported event target ${yt} for event ${ue}`);return this.addEventListener(yt,ue,We)}}let ft=(()=>{class De{constructor(){this._stylesSet=new Set}addStyles(ue){const We=new Set;ue.forEach(yt=>{this._stylesSet.has(yt)||(this._stylesSet.add(yt),We.add(yt))}),this.onStylesAdded(We)}onStylesAdded(ue){}getAllStyles(){return Array.from(this._stylesSet)}}return De.\u0275fac=function(ue){return new(ue||De)},De.\u0275prov=C.Yz7({token:De,factory:De.\u0275fac}),De})(),st=(()=>{class De extends ft{constructor(ue){super(),this._doc=ue,this._hostNodes=new Map,this._hostNodes.set(ue.head,[])}_addStylesToHost(ue,We,yt){ue.forEach(Qt=>{const A1=this._doc.createElement("style");A1.textContent=Qt,yt.push(We.appendChild(A1))})}addHost(ue){const We=[];this._addStylesToHost(this._stylesSet,ue,We),this._hostNodes.set(ue,We)}removeHost(ue){const We=this._hostNodes.get(ue);We&&We.forEach(je),this._hostNodes.delete(ue)}onStylesAdded(ue){this._hostNodes.forEach((We,yt)=>{this._addStylesToHost(ue,yt,We)})}ngOnDestroy(){this._hostNodes.forEach(ue=>ue.forEach(je))}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(l.K0))},De.\u0275prov=C.Yz7({token:De,factory:De.\u0275fac}),De})();function je(De){(0,l.q)().remove(De)}const s1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g;function Me(De,pe,ue){for(let We=0;We<pe.length;We++){let yt=pe[We];Array.isArray(yt)?Me(De,yt,ue):(yt=yt.replace(at,De),ue.push(yt))}return ue}function Le(De){return pe=>{if("__ngUnwrap__"===pe)return De;!1===De(pe)&&(pe.preventDefault(),pe.returnValue=!1)}}let He=(()=>{class De{constructor(ue,We,yt){this.eventManager=ue,this.sharedStylesHost=We,this.appId=yt,this.rendererByCompId=new Map,this.defaultRenderer=new Lt(ue)}createRenderer(ue,We){if(!ue||!We)return this.defaultRenderer;switch(We.encapsulation){case C.ifc.Emulated:{let yt=this.rendererByCompId.get(We.id);return yt||(yt=new L1(this.eventManager,this.sharedStylesHost,We,this.appId),this.rendererByCompId.set(We.id,yt)),yt.applyToHost(ue),yt}case 1:case C.ifc.ShadowDom:return new Pt(this.eventManager,this.sharedStylesHost,ue,We);default:if(!this.rendererByCompId.has(We.id)){const yt=Me(We.id,We.styles,[]);this.sharedStylesHost.addStyles(yt),this.rendererByCompId.set(We.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(Je),C.LFG(st),C.LFG(C.AFp))},De.\u0275prov=C.Yz7({token:De,factory:De.\u0275fac}),De})();class Lt{constructor(pe){this.eventManager=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(pe,ue){return ue?document.createElementNS(s1[ue]||ue,pe):document.createElement(pe)}createComment(pe){return document.createComment(pe)}createText(pe){return document.createTextNode(pe)}appendChild(pe,ue){(B1(pe)?pe.content:pe).appendChild(ue)}insertBefore(pe,ue,We){pe&&(B1(pe)?pe.content:pe).insertBefore(ue,We)}removeChild(pe,ue){pe&&pe.removeChild(ue)}selectRootElement(pe,ue){let We="string"==typeof pe?document.querySelector(pe):pe;if(!We)throw new Error(`The selector "${pe}" did not match any elements`);return ue||(We.textContent=""),We}parentNode(pe){return pe.parentNode}nextSibling(pe){return pe.nextSibling}setAttribute(pe,ue,We,yt){if(yt){ue=yt+":"+ue;const Qt=s1[yt];Qt?pe.setAttributeNS(Qt,ue,We):pe.setAttribute(ue,We)}else pe.setAttribute(ue,We)}removeAttribute(pe,ue,We){if(We){const yt=s1[We];yt?pe.removeAttributeNS(yt,ue):pe.removeAttribute(`${We}:${ue}`)}else pe.removeAttribute(ue)}addClass(pe,ue){pe.classList.add(ue)}removeClass(pe,ue){pe.classList.remove(ue)}setStyle(pe,ue,We,yt){yt&(C.JOm.DashCase|C.JOm.Important)?pe.style.setProperty(ue,We,yt&C.JOm.Important?"important":""):pe.style[ue]=We}removeStyle(pe,ue,We){We&C.JOm.DashCase?pe.style.removeProperty(ue):pe.style[ue]=""}setProperty(pe,ue,We){pe[ue]=We}setValue(pe,ue){pe.nodeValue=ue}listen(pe,ue,We){return"string"==typeof pe?this.eventManager.addGlobalEventListener(pe,ue,Le(We)):this.eventManager.addEventListener(pe,ue,Le(We))}}function B1(De){return"TEMPLATE"===De.tagName&&void 0!==De.content}class L1 extends Lt{constructor(pe,ue,We,yt){super(pe),this.component=We;const Qt=Me(yt+"-"+We.id,We.styles,[]);ue.addStyles(Qt),this.contentAttr=function ce(De){return"_ngcontent-%COMP%".replace(at,De)}(yt+"-"+We.id),this.hostAttr=function tt(De){return"_nghost-%COMP%".replace(at,De)}(yt+"-"+We.id)}applyToHost(pe){super.setAttribute(pe,this.hostAttr,"")}createElement(pe,ue){const We=super.createElement(pe,ue);return super.setAttribute(We,this.contentAttr,""),We}}class Pt extends Lt{constructor(pe,ue,We,yt){super(pe),this.sharedStylesHost=ue,this.hostEl=We,this.shadowRoot=We.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qt=Me(yt.id,yt.styles,[]);for(let A1=0;A1<Qt.length;A1++){const J1=document.createElement("style");J1.textContent=Qt[A1],this.shadowRoot.appendChild(J1)}}nodeOrShadowRoot(pe){return pe===this.hostEl?this.shadowRoot:pe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(pe,ue){return super.appendChild(this.nodeOrShadowRoot(pe),ue)}insertBefore(pe,ue,We){return super.insertBefore(this.nodeOrShadowRoot(pe),ue,We)}removeChild(pe,ue){return super.removeChild(this.nodeOrShadowRoot(pe),ue)}parentNode(pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(pe)))}}let T1=(()=>{class De extends Gt{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,We,yt){return ue.addEventListener(We,yt,!1),()=>this.removeEventListener(ue,We,yt)}removeEventListener(ue,We,yt){return ue.removeEventListener(We,yt)}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(l.K0))},De.\u0275prov=C.Yz7({token:De,factory:De.\u0275fac}),De})();const S1=["alt","control","meta","shift"],N1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M1={alt:De=>De.altKey,control:De=>De.ctrlKey,meta:De=>De.metaKey,shift:De=>De.shiftKey};let o2=(()=>{class De extends Gt{constructor(ue){super(ue)}supports(ue){return null!=De.parseEventName(ue)}addEventListener(ue,We,yt){const Qt=De.parseEventName(We),A1=De.eventCallback(Qt.fullKey,yt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(ue,Qt.domEventName,A1))}static parseEventName(ue){const We=ue.toLowerCase().split("."),yt=We.shift();if(0===We.length||"keydown"!==yt&&"keyup"!==yt)return null;const Qt=De._normalizeKey(We.pop());let A1="",J1=We.indexOf("code");if(J1>-1&&(We.splice(J1,1),A1="code."),S1.forEach(I2=>{const q1=We.indexOf(I2);q1>-1&&(We.splice(q1,1),A1+=I2+".")}),A1+=Qt,0!=We.length||0===Qt.length)return null;const An={};return An.domEventName=yt,An.fullKey=A1,An}static matchEventFullKeyCode(ue,We){let yt=N1[ue.key]||ue.key,Qt="";return We.indexOf("code.")>-1&&(yt=ue.code,Qt="code."),!(null==yt||!yt)&&(yt=yt.toLowerCase()," "===yt?yt="space":"."===yt&&(yt="dot"),S1.forEach(A1=>{A1!==yt&&(0,M1[A1])(ue)&&(Qt+=A1+".")}),Qt+=yt,Qt===We)}static eventCallback(ue,We,yt){return Qt=>{De.matchEventFullKeyCode(Qt,ue)&&yt.runGuarded(()=>We(Qt))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(l.K0))},De.\u0275prov=C.Yz7({token:De,factory:De.\u0275fac}),De})();const vn=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:l.bD},{provide:C.g9A,useValue:function Xn(){Ee.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function t2(){return(0,C.RDi)(document),document},deps:[]}]),l2=new C.OlP(""),$t=[{provide:C.rWj,useClass:class ze{addToWindow(pe){C.dqk.getAngularTestability=(We,yt=!0)=>{const Qt=pe.findTestabilityInTree(We,yt);if(null==Qt)throw new Error("Could not find testability for element.");return Qt},C.dqk.getAllAngularTestabilities=()=>pe.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>pe.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(We=>{const yt=C.dqk.getAllAngularTestabilities();let Qt=yt.length,A1=!1;const J1=function(An){A1=A1||An,Qt--,0==Qt&&We(A1)};yt.forEach(function(An){An.whenStable(J1)})})}findTestabilityInTree(pe,ue,We){return null==ue?null:pe.getTestability(ue)??(We?(0,l.q)().isShadowRoot(ue)?this.findTestabilityInTree(pe,ue.host,!0):this.findTestabilityInTree(pe,ue.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],En=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function jn(){return new C.qLn},deps:[]},{provide:ot,useClass:T1,multi:!0,deps:[l.K0,C.R0b,C.Lbi]},{provide:ot,useClass:o2,multi:!0,deps:[l.K0]},{provide:He,useClass:He,deps:[Je,st,C.AFp]},{provide:C.FYo,useExisting:He},{provide:ft,useExisting:st},{provide:st,useClass:st,deps:[l.K0]},{provide:Je,useClass:Je,deps:[ot,C.R0b]},{provide:l.JF,useClass:pt,deps:[]},[]];let On=(()=>{class De{constructor(ue){}static withServerTransition(ue){return{ngModule:De,providers:[{provide:C.AFp,useValue:ue.appId},{provide:Ve,useExisting:C.AFp},he]}}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(l2,12))},De.\u0275mod=C.oAB({type:De}),De.\u0275inj=C.cJS({providers:[...En,...$t],imports:[l.ez,C.hGG]}),De})(),ut=(()=>{class De{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(l.K0))},De.\u0275prov=C.Yz7({token:De,factory:function(ue){let We=null;return We=ue?new ue:function l1(){return new ut((0,C.LFG)(l.K0))}(),We},providedIn:"root"}),De})();typeof window<"u"&&window;let n1=(()=>{class De{}return De.\u0275fac=function(ue){return new(ue||De)},De.\u0275prov=C.Yz7({token:De,factory:function(ue){let We=null;return We=ue?new(ue||De):C.LFG(cn),We},providedIn:"root"}),De})(),cn=(()=>{class De extends n1{constructor(ue){super(),this._doc=ue}sanitize(ue,We){if(null==We)return null;switch(ue){case C.q3G.NONE:return We;case C.q3G.HTML:return(0,C.qzn)(We,"HTML")?(0,C.z3N)(We):(0,C.EiD)(this._doc,String(We)).toString();case C.q3G.STYLE:return(0,C.qzn)(We,"Style")?(0,C.z3N)(We):We;case C.q3G.SCRIPT:if((0,C.qzn)(We,"Script"))return(0,C.z3N)(We);throw new Error("unsafe value used in a script context");case C.q3G.URL:return(0,C.qzn)(We,"URL")?(0,C.z3N)(We):(0,C.mCW)(String(We));case C.q3G.RESOURCE_URL:if((0,C.qzn)(We,"ResourceURL"))return(0,C.z3N)(We);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ue} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ue){return(0,C.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,C.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,C.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,C.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,C.pB0)(ue)}}return De.\u0275fac=function(ue){return new(ue||De)(C.LFG(l.K0))},De.\u0275prov=C.Yz7({token:De,factory:function(ue){let We=null;return We=ue?new ue:function H1(De){return new cn(De.get(l.K0))}(C.LFG(C.zs3)),We},providedIn:"root"}),De})()},2431:(r1,Qe,F)=>{F.d(Qe,{gz:()=>ei,F0:()=>ni,rH:()=>co,Od:()=>Cr,yS:()=>rn,Bz:()=>Rs,lC:()=>ns});var l=F(4650),C=F(8996),X=F(9646),Ee=F(1135),Ie=F(6805),Te=F(9841),Se=F(7272),ke=F(9770),Ve=F(9635),fe=F(9751),he=F(576);function ze(N,T){const E=(0,he.m)(N)?N:()=>N,O=U=>U.error(E());return new fe.y(T?U=>T.schedule(O,0,U):O)}var pt=F(515),ot=F(727),Je=F(4482),Gt=F(5403);function ft(){return(0,Je.e)((N,T)=>{let E=null;N._refCount++;const O=(0,Gt.x)(T,void 0,void 0,void 0,()=>{if(!N||N._refCount<=0||0<--N._refCount)return void(E=null);const U=N._connection,te=E;E=null,U&&(!te||U===te)&&U.unsubscribe(),T.unsubscribe()});N.subscribe(O),O.closed||(E=N.connect())})}class st extends fe.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Je.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new ot.w0;const E=this.getSubject();T.add(this.source.subscribe((0,Gt.x)(E,void 0,()=>{this._teardown(),E.complete()},O=>{this._teardown(),E.error(O)},()=>this._teardown()))),T.closed&&(this._connection=null,T=ot.w0.EMPTY)}return T}refCount(){return ft()(this)}}var je=F(7579),s1=F(6895),at=F(4004),mt=F(3900),nt=F(5698),Ft=F(8675),Mt=F(9300),ce=F(5577),tt=F(590),Me=F(4351),Le=F(8505),rt=F(8421);function He(N){return(0,Je.e)((T,E)=>{let te,O=null,U=!1;O=T.subscribe((0,Gt.x)(E,void 0,void 0,ge=>{te=(0,rt.Xf)(N(ge,He(N)(T))),O?(O.unsubscribe(),O=null,te.subscribe(E)):U=!0})),U&&(O.unsubscribe(),O=null,te.subscribe(E))})}var Lt=F(5026);function Rt(N){return N<=0?()=>pt.E:(0,Je.e)((T,E)=>{let O=[];T.subscribe((0,Gt.x)(E,U=>{O.push(U),N<O.length&&O.shift()},()=>{for(const U of O)E.next(U);E.complete()},void 0,()=>{O=null}))})}var v1=F(8068),B1=F(6590),L1=F(4671);function Pt(N,T){const E=arguments.length>=2;return O=>O.pipe(N?(0,Mt.h)((U,te)=>N(U,te,O)):L1.y,Rt(1),E?(0,B1.d)(T):(0,v1.T)(()=>new Ie.K))}var S1=F(9718);function N1(N){return(0,Je.e)((T,E)=>{try{T.subscribe(E)}finally{E.add(N)}})}var M1=F(8189),o2=F(8255);const qt="primary",fn=Symbol("RouteTitle");class Dn{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Ln(N){return new Dn(N)}function Un(N,T,E){const O=E.path.split("/");if(O.length>N.length||"full"===E.pathMatch&&(T.hasChildren()||O.length<N.length))return null;const U={};for(let te=0;te<O.length;te++){const ge=O[te],Ae=N[te];if(ge.startsWith(":"))U[ge.substring(1)]=Ae;else if(ge!==Ae.path)return null}return{consumed:N.slice(0,O.length),posParams:U}}function jn(N,T){const E=N?Object.keys(N):void 0,O=T?Object.keys(T):void 0;if(!E||!O||E.length!=O.length)return!1;let U;for(let te=0;te<E.length;te++)if(U=E[te],!t2(N[U],T[U]))return!1;return!0}function t2(N,T){if(Array.isArray(N)&&Array.isArray(T)){if(N.length!==T.length)return!1;const E=[...N].sort(),O=[...T].sort();return E.every((U,te)=>O[te]===U)}return N===T}function $1(N){return Array.prototype.concat.apply([],N)}function vn(N){return N.length>0?N[N.length-1]:null}function $t(N,T){for(const E in N)N.hasOwnProperty(E)&&T(N[E],E)}function En(N){return(0,l.CqO)(N)?N:(0,l.QGY)(N)?(0,C.D)(Promise.resolve(N)):(0,X.of)(N)}const A2={exact:function Ne(N,T,E){if(!X1(N.segments,T.segments)||!u1(N.segments,T.segments,E)||N.numberOfChildren!==T.numberOfChildren)return!1;for(const O in T.children)if(!N.children[O]||!Ne(N.children[O],T.children[O],E))return!1;return!0},subset:ct},J2={exact:function ut(N,T){return jn(N,T)},subset:function ye(N,T){return Object.keys(T).length<=Object.keys(N).length&&Object.keys(T).every(E=>t2(N[E],T[E]))},ignored:()=>!0};function l1(N,T,E){return A2[E.paths](N.root,T.root,E.matrixParams)&&J2[E.queryParams](N.queryParams,T.queryParams)&&!("exact"===E.fragment&&N.fragment!==T.fragment)}function ct(N,T,E){return wt(N,T,T.segments,E)}function wt(N,T,E,O){if(N.segments.length>E.length){const U=N.segments.slice(0,E.length);return!(!X1(U,E)||T.hasChildren()||!u1(U,E,O))}if(N.segments.length===E.length){if(!X1(N.segments,E)||!u1(N.segments,E,O))return!1;for(const U in T.children)if(!N.children[U]||!ct(N.children[U],T.children[U],O))return!1;return!0}{const U=E.slice(0,N.segments.length),te=E.slice(N.segments.length);return!!(X1(N.segments,U)&&u1(N.segments,U,O)&&N.children[qt])&&wt(N.children[qt],T,te,O)}}function u1(N,T,E){return T.every((O,U)=>J2[E](N[U].parameters,O.parameters))}class y1{constructor(T,E,O){this.root=T,this.queryParams=E,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return an.serialize(this)}}class h1{constructor(T,E){this.segments=T,this.children=E,this.parent=null,$t(E,(O,U)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return d1(this)}}class Yt{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Ln(this.parameters)),this._parameterMap}toString(){return Pe(this)}}function X1(N,T){return N.length===T.length&&N.every((E,O)=>E.path===T[O].path)}let tn=(()=>{class N{}return N.\u0275fac=function(E){return new(E||N)},N.\u0275prov=l.Yz7({token:N,factory:function(){return new Z1},providedIn:"root"}),N})();class Z1{parse(T){const E=new pe(T);return new y1(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${At(T.root,!0)}`,O=function Ze(N){const T=Object.keys(N).map(E=>{const O=N[E];return Array.isArray(O)?O.map(U=>`${z1(E)}=${z1(U)}`).join("&"):`${z1(E)}=${z1(O)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${O}${"string"==typeof T.fragment?`#${function k1(N){return encodeURI(N)}(T.fragment)}`:""}`}}const an=new Z1;function d1(N){return N.segments.map(T=>Pe(T)).join("/")}function At(N,T){if(!N.hasChildren())return d1(N);if(T){const E=N.children[qt]?At(N.children[qt],!1):"",O=[];return $t(N.children,(U,te)=>{te!==qt&&O.push(`${te}:${At(U,!1)}`)}),O.length>0?`${E}(${O.join("//")})`:E}{const E=function a2(N,T){let E=[];return $t(N.children,(O,U)=>{U===qt&&(E=E.concat(T(O,U)))}),$t(N.children,(O,U)=>{U!==qt&&(E=E.concat(T(O,U)))}),E}(N,(O,U)=>U===qt?[At(N.children[qt],!1)]:[`${U}:${At(O,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[qt]?`${d1(N)}/${E[0]}`:`${d1(N)}/(${E.join("//")})`}}function e1(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function z1(N){return e1(N).replace(/%3B/gi,";")}function P1(N){return e1(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xe(N){return decodeURIComponent(N)}function we(N){return xe(N.replace(/\+/g,"%20"))}function Pe(N){return`${P1(N.path)}${function Dt(N){return Object.keys(N).map(T=>`;${P1(T)}=${P1(N[T])}`).join("")}(N.parameters)}`}const o1=/^[^\/()?;=#]+/;function n1(N){const T=N.match(o1);return T?T[0]:""}const H1=/^[^=?&#]+/,W1=/^[^&#]+/;class pe{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new h1([],{}):new h1([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(O[qt]=new h1(T,E)),O}parseSegment(){const T=n1(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(T),new Yt(xe(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=n1(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const U=n1(this.remaining);U&&(O=U,this.capture(O))}T[xe(E)]=xe(O)}parseQueryParam(T){const E=function cn(N){const T=N.match(H1);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const ge=function De(N){const T=N.match(W1);return T?T[0]:""}(this.remaining);ge&&(O=ge,this.capture(O))}const U=we(E),te=we(O);if(T.hasOwnProperty(U)){let ge=T[U];Array.isArray(ge)||(ge=[ge],T[U]=ge),ge.push(te)}else T[U]=te}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=n1(this.remaining),U=this.remaining[O.length];if("/"!==U&&")"!==U&&";"!==U)throw new l.vHH(4010,!1);let te;O.indexOf(":")>-1?(te=O.slice(0,O.indexOf(":")),this.capture(te),this.capture(":")):T&&(te=qt);const ge=this.parseChildren();E[te]=1===Object.keys(ge).length?ge[qt]:new h1([],ge),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new l.vHH(4011,!1)}}function ue(N){return N.segments.length>0?new h1([],{[qt]:N}):N}function We(N){const T={};for(const O of Object.keys(N.children)){const te=We(N.children[O]);(te.segments.length>0||te.hasChildren())&&(T[O]=te)}return function yt(N){if(1===N.numberOfChildren&&N.children[qt]){const T=N.children[qt];return new h1(N.segments.concat(T.segments),T.children)}return N}(new h1(N.segments,T))}function Qt(N){return N instanceof y1}function q1(N,T,E,O,U){if(0===E.length)return fi(T.root,T.root,T.root,O,U);const te=function oi(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new _2(!0,0,N);let T=0,E=!1;const O=N.reduce((U,te,ge)=>{if("object"==typeof te&&null!=te){if(te.outlets){const Ae={};return $t(te.outlets,(Nt,Zt)=>{Ae[Zt]="string"==typeof Nt?Nt.split("/"):Nt}),[...U,{outlets:Ae}]}if(te.segmentPath)return[...U,te.segmentPath]}return"string"!=typeof te?[...U,te]:0===ge?(te.split("/").forEach((Ae,Nt)=>{0==Nt&&"."===Ae||(0==Nt&&""===Ae?E=!0:".."===Ae?T++:""!=Ae&&U.push(Ae))}),U):[...U,te]},[]);return new _2(E,T,O)}(E);return te.toRoot()?fi(T.root,T.root,new h1([],{}),O,U):function ge(Nt){const Zt=function M2(N,T,E,O){if(N.isAbsolute)return new U2(T.root,!0,0);if(-1===O)return new U2(E,E===T.root,0);return function _i(N,T,E){let O=N,U=T,te=E;for(;te>U;){if(te-=U,O=O.parent,!O)throw new l.vHH(4005,!1);U=O.segments.length}return new U2(O,!1,U-te)}(E,O+(Rn(N.commands[0])?0:1),N.numberOfDoubleDots)}(te,T,N.snapshot?._urlSegment,Nt),xn=Zt.processChildren?j2(Zt.segmentGroup,Zt.index,te.commands):Fr(Zt.segmentGroup,Zt.index,te.commands);return fi(T.root,Zt.segmentGroup,xn,O,U)}(N.snapshot?._lastPathIndex)}function Rn(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function S2(N){return"object"==typeof N&&null!=N&&N.outlets}function fi(N,T,E,O,U){let ge,te={};O&&$t(O,(Nt,Zt)=>{te[Zt]=Array.isArray(Nt)?Nt.map(xn=>`${xn}`):`${Nt}`}),ge=N===T?E:B2(N,T,E);const Ae=ue(We(ge));return new y1(Ae,te,U)}function B2(N,T,E){const O={};return $t(N.children,(U,te)=>{O[te]=U===T?E:B2(U,T,E)}),new h1(N.segments,O)}class _2{constructor(T,E,O){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=O,T&&O.length>0&&Rn(O[0]))throw new l.vHH(4003,!1);const U=O.find(S2);if(U&&U!==vn(O))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class U2{constructor(T,E,O){this.segmentGroup=T,this.processChildren=E,this.index=O}}function Fr(N,T,E){if(N||(N=new h1([],{})),0===N.segments.length&&N.hasChildren())return j2(N,T,E);const O=function Q2(N,T,E){let O=0,U=T;const te={match:!1,pathIndex:0,commandIndex:0};for(;U<N.segments.length;){if(O>=E.length)return te;const ge=N.segments[U],Ae=E[O];if(S2(Ae))break;const Nt=`${Ae}`,Zt=O<E.length-1?E[O+1]:null;if(U>0&&void 0===Nt)break;if(Nt&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!G2(Nt,Zt,ge))return te;O+=2}else{if(!G2(Nt,{},ge))return te;O++}U++}return{match:!0,pathIndex:U,commandIndex:O}}(N,T,E),U=E.slice(O.commandIndex);if(O.match&&O.pathIndex<N.segments.length){const te=new h1(N.segments.slice(0,O.pathIndex),{});return te.children[qt]=new h1(N.segments.slice(O.pathIndex),N.children),j2(te,0,U)}return O.match&&0===U.length?new h1(N.segments,{}):O.match&&!N.hasChildren()?X2(N,T,E):O.match?j2(N,0,U):X2(N,T,E)}function j2(N,T,E){if(0===E.length)return new h1(N.segments,{});{const O=function Hn(N){return S2(N[0])?N[0].outlets:{[qt]:N}}(E),U={};return $t(O,(te,ge)=>{"string"==typeof te&&(te=[te]),null!==te&&(U[ge]=Fr(N.children[ge],T,te))}),$t(N.children,(te,ge)=>{void 0===O[ge]&&(U[ge]=te)}),new h1(N.segments,U)}}function X2(N,T,E){const O=N.segments.slice(0,T);let U=0;for(;U<E.length;){const te=E[U];if(S2(te)){const Nt=hi(te.outlets);return new h1(O,Nt)}if(0===U&&Rn(E[0])){O.push(new Yt(N.segments[T].path,pi(E[0]))),U++;continue}const ge=S2(te)?te.outlets[qt]:`${te}`,Ae=U<E.length-1?E[U+1]:null;ge&&Ae&&Rn(Ae)?(O.push(new Yt(ge,pi(Ae))),U+=2):(O.push(new Yt(ge,{})),U++)}return new h1(O,{})}function hi(N){const T={};return $t(N,(E,O)=>{"string"==typeof E&&(E=[E]),null!==E&&(T[O]=X2(new h1([],{}),0,E))}),T}function pi(N){const T={};return $t(N,(E,O)=>T[O]=`${E}`),T}function G2(N,T,E){return N==E.path&&jn(T,E.parameters)}class qn{constructor(T,E){this.id=T,this.url=E}}class Vi extends qn{constructor(T,E,O="imperative",U=null){super(T,E),this.type=0,this.navigationTrigger=O,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kn extends qn{constructor(T,E,O){super(T,E),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class x2 extends qn{constructor(T,E,O,U){super(T,E),this.reason=O,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ur extends qn{constructor(T,E,O,U){super(T,E),this.error=O,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bi extends qn{constructor(T,E,O,U){super(T,E),this.urlAfterRedirects=O,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr extends qn{constructor(T,E,O,U){super(T,E),this.urlAfterRedirects=O,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z2 extends qn{constructor(T,E,O,U,te){super(T,E),this.urlAfterRedirects=O,this.state=U,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nr extends qn{constructor(T,E,O,U){super(T,E),this.urlAfterRedirects=O,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends qn{constructor(T,E,O,U){super(T,E),this.urlAfterRedirects=O,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $2{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ss{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b2{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ye{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xe{constructor(T,E,O){this.routerEvent=T,this.position=E,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xt{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=I1(T,this._root);return E?E.children.map(O=>O.value):[]}firstChild(T){const E=I1(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=Y1(T,this._root);return E.length<2?[]:E[E.length-2].children.map(U=>U.value).filter(U=>U!==T)}pathFromRoot(T){return Y1(T,this._root).map(E=>E.value)}}function I1(N,T){if(N===T.value)return T;for(const E of T.children){const O=I1(N,E);if(O)return O}return null}function Y1(N,T){if(N===T.value)return[T];for(const E of T.children){const O=Y1(N,E);if(O.length)return O.unshift(T),O}return[]}class Fn{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function Sn(N){const T={};return N&&N.children.forEach(E=>T[E.value.outlet]=E),T}class Zi extends Xt{constructor(T,E){super(T),this.snapshot=E,Ti(this,T)}toString(){return this.snapshot.toString()}}function er(N,T){const E=function ai(N,T){const ge=new Hi([],{},{},"",{},qt,T,null,N.root,-1,{});return new Ns("",new Fn(ge,[]))}(N,T),O=new Ee.X([new Yt("",{})]),U=new Ee.X({}),te=new Ee.X({}),ge=new Ee.X({}),Ae=new Ee.X(""),Nt=new ei(O,U,ge,Ae,te,qt,T,E.root);return Nt.snapshot=E.root,new Zi(new Fn(Nt,[]),E)}class ei{constructor(T,E,O,U,te,ge,Ae,Nt){this.url=T,this.params=E,this.queryParams=O,this.fragment=U,this.data=te,this.outlet=ge,this.component=Ae,this.title=this.data?.pipe((0,at.U)(Zt=>Zt[fn]))??(0,X.of)(void 0),this._futureSnapshot=Nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(T=>Ln(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(T=>Ln(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fr(N,T="emptyOnly"){const E=N.pathFromRoot;let O=0;if("always"!==T)for(O=E.length-1;O>=1;){const U=E[O],te=E[O-1];if(U.routeConfig&&""===U.routeConfig.path)O--;else{if(te.component)break;O--}}return function ps(N){return N.reduce((T,E)=>({params:{...T.params,...E.params},data:{...T.data,...E.data},resolve:{...E.data,...T.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(O))}class Hi{constructor(T,E,O,U,te,ge,Ae,Nt,Zt,xn,b1,sn){this.url=T,this.params=E,this.queryParams=O,this.fragment=U,this.data=te,this.outlet=ge,this.component=Ae,this.title=this.data?.[fn],this.routeConfig=Nt,this._urlSegment=Zt,this._lastPathIndex=xn,this._correctedLastPathIndex=sn??xn,this._resolve=b1}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ln(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ln(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ns extends Xt{constructor(T,E){super(E),this.url=T,Ti(this,E)}toString(){return Ci(this._root)}}function Ti(N,T){T.value._routerState=N,T.children.forEach(E=>Ti(N,E))}function Ci(N){const T=N.children.length>0?` { ${N.children.map(Ci).join(", ")} } `:"";return`${N.value}${T}`}function Wi(N){if(N.snapshot){const T=N.snapshot,E=N._futureSnapshot;N.snapshot=E,jn(T.queryParams,E.queryParams)||N.queryParams.next(E.queryParams),T.fragment!==E.fragment&&N.fragment.next(E.fragment),jn(T.params,E.params)||N.params.next(E.params),function Xn(N,T){if(N.length!==T.length)return!1;for(let E=0;E<N.length;++E)if(!jn(N[E],T[E]))return!1;return!0}(T.url,E.url)||N.url.next(E.url),jn(T.data,E.data)||N.data.next(E.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function mi(N,T){const E=jn(N.params,T.params)&&function yn(N,T){return X1(N,T)&&N.every((E,O)=>jn(E.parameters,T[O].parameters))}(N.url,T.url);return E&&!(!N.parent!=!T.parent)&&(!N.parent||mi(N.parent,T.parent))}function Mi(N,T,E){if(E&&N.shouldReuseRoute(T.value,E.value.snapshot)){const O=E.value;O._futureSnapshot=T.value;const U=function Tr(N,T,E){return T.children.map(O=>{for(const U of E.children)if(N.shouldReuseRoute(O.value,U.value.snapshot))return Mi(N,O,U);return Mi(N,O)})}(N,T,E);return new Fn(O,U)}{if(N.shouldAttach(T.value)){const te=N.retrieve(T.value);if(null!==te){const ge=te.route;return ge.value._futureSnapshot=T.value,ge.children=T.children.map(Ae=>Mi(N,Ae)),ge}}const O=function Ur(N){return new ei(new Ee.X(N.url),new Ee.X(N.params),new Ee.X(N.queryParams),new Ee.X(N.fragment),new Ee.X(N.data),N.outlet,N.component,N)}(T.value),U=T.children.map(te=>Mi(N,te));return new Fn(O,U)}}const wi="ngNavigationCancelingError";function Ai(N,T){const{redirectTo:E,navigationBehaviorOptions:O}=Qt(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,U=Di(!1,0,T);return U.url=E,U.navigationBehaviorOptions=O,U}function Di(N,T,E){const O=new Error("NavigationCancelingError: "+(N||""));return O[wi]=!0,O.cancellationCode=T,E&&(O.url=E),O}function gi(N){return Fi(N)&&Qt(N.url)}function Fi(N){return N&&N[wi]}class Us{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new f2,this.attachRef=null}}let f2=(()=>{class N{constructor(){this.contexts=new Map}onChildOutletCreated(E,O){const U=this.getOrCreateContext(E);U.outlet=O,this.contexts.set(E,U)}onChildOutletDestroyed(E){const O=this.getContext(E);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let O=this.getContext(E);return O||(O=new Us,this.contexts.set(E,O)),O}getContext(E){return this.contexts.get(E)||null}}return N.\u0275fac=function(E){return new(E||N)},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Ii=!1;let ns=(()=>{class N{constructor(E,O,U,te,ge){this.parentContexts=E,this.location=O,this.changeDetector=te,this.environmentInjector=ge,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=U||qt,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Ii);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Ii);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Ii);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,O){this.activated=E,this._activatedRoute=O,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,O){if(this.isActivated)throw new l.vHH(4013,Ii);this._activatedRoute=E;const U=this.location,ge=E._futureSnapshot.component,Ae=this.parentContexts.getOrCreateContext(this.name).children,Nt=new h2(E,Ae,U.injector);if(O&&function hr(N){return!!N.resolveComponentFactory}(O)){const Zt=O.resolveComponentFactory(ge);this.activated=U.createComponent(Zt,U.length,Nt)}else this.activated=U.createComponent(ge,{index:U.length,injector:Nt,environmentInjector:O??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(E){return new(E||N)(l.Y36(f2),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},N.\u0275dir=l.lG2({type:N,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),N})();class h2{constructor(T,E,O){this.route=T,this.childContexts=E,this.parent=O}get(T,E){return T===ei?this.route:T===f2?this.childContexts:this.parent.get(T,E)}}let n2=(()=>{class N{}return N.\u0275fac=function(E){return new(E||N)},N.\u0275cmp=l.Xpm({type:N,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(E,O){1&E&&l._UZ(0,"router-outlet")},dependencies:[ns],encapsulation:2}),N})();function ti(N,T){return N.providers&&!N._injector&&(N._injector=(0,l.MMx)(N.providers,T,`Route: ${N.path}`)),N._injector??T}function N2(N){const T=N.children&&N.children.map(N2),E=T?{...N,children:T}:{...N};return!E.component&&!E.loadComponent&&(T||E.loadChildren)&&E.outlet&&E.outlet!==qt&&(E.component=n2),E}function w2(N){return N.outlet||qt}function p2(N,T){const E=N.filter(O=>w2(O)===T);return E.push(...N.filter(O=>w2(O)!==T)),E}function K1(N){if(!N)return null;if(N.routeConfig?._injector)return N.routeConfig._injector;for(let T=N.parent;T;T=T.parent){const E=T.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class tr{constructor(T,E,O,U){this.routeReuseStrategy=T,this.futureState=E,this.currState=O,this.forwardEvent=U}activate(T){const E=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,O,T),Wi(this.futureState.root),this.activateChildRoutes(E,O,T)}deactivateChildRoutes(T,E,O){const U=Sn(E);T.children.forEach(te=>{const ge=te.value.outlet;this.deactivateRoutes(te,U[ge],O),delete U[ge]}),$t(U,(te,ge)=>{this.deactivateRouteAndItsChildren(te,O)})}deactivateRoutes(T,E,O){const U=T.value,te=E?E.value:null;if(U===te)if(U.component){const ge=O.getContext(U.outlet);ge&&this.deactivateChildRoutes(T,E,ge.children)}else this.deactivateChildRoutes(T,E,O);else te&&this.deactivateRouteAndItsChildren(E,O)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const O=E.getContext(T.value.outlet),U=O&&T.value.component?O.children:E,te=Sn(T);for(const ge of Object.keys(te))this.deactivateRouteAndItsChildren(te[ge],U);if(O&&O.outlet){const ge=O.outlet.detach(),Ae=O.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ge,route:T,contexts:Ae})}}deactivateRouteAndOutlet(T,E){const O=E.getContext(T.value.outlet),U=O&&T.value.component?O.children:E,te=Sn(T);for(const ge of Object.keys(te))this.deactivateRouteAndItsChildren(te[ge],U);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(T,E,O){const U=Sn(E);T.children.forEach(te=>{this.activateRoutes(te,U[te.value.outlet],O),this.forwardEvent(new $e(te.value.snapshot))}),T.children.length&&this.forwardEvent(new b2(T.value.snapshot))}activateRoutes(T,E,O){const U=T.value,te=E?E.value:null;if(Wi(U),U===te)if(U.component){const ge=O.getOrCreateContext(U.outlet);this.activateChildRoutes(T,E,ge.children)}else this.activateChildRoutes(T,E,O);else if(U.component){const ge=O.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Ae=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),ge.children.onOutletReAttached(Ae.contexts),ge.attachRef=Ae.componentRef,ge.route=Ae.route.value,ge.outlet&&ge.outlet.attach(Ae.componentRef,Ae.route.value),Wi(Ae.route.value),this.activateChildRoutes(T,null,ge.children)}else{const Ae=K1(U.snapshot),Nt=Ae?.get(l._Vd)??null;ge.attachRef=null,ge.route=U,ge.resolver=Nt,ge.injector=Ae,ge.outlet&&ge.outlet.activateWith(U,ge.injector),this.activateChildRoutes(T,null,ge.children)}}else this.activateChildRoutes(T,null,O)}}class $r{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Ir{constructor(T,E){this.component=T,this.route=E}}function gs(N,T,E){const O=N._root;return xr(O,T?T._root:null,E,[O.value])}function nr(N,T){const E=Symbol(),O=T.get(N,E);return O===E?"function"!=typeof N||(0,l.Z0I)(N)?T.get(N):N:O}function xr(N,T,E,O,U={canDeactivateChecks:[],canActivateChecks:[]}){const te=Sn(T);return N.children.forEach(ge=>{(function kt(N,T,E,O,U={canDeactivateChecks:[],canActivateChecks:[]}){const te=N.value,ge=T?T.value:null,Ae=E?E.getContext(N.value.outlet):null;if(ge&&te.routeConfig===ge.routeConfig){const Nt=function Cn(N,T,E){if("function"==typeof E)return E(N,T);switch(E){case"pathParamsChange":return!X1(N.url,T.url);case"pathParamsOrQueryParamsChange":return!X1(N.url,T.url)||!jn(N.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mi(N,T)||!jn(N.queryParams,T.queryParams);default:return!mi(N,T)}}(ge,te,te.routeConfig.runGuardsAndResolvers);Nt?U.canActivateChecks.push(new $r(O)):(te.data=ge.data,te._resolvedData=ge._resolvedData),xr(N,T,te.component?Ae?Ae.children:null:E,O,U),Nt&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&U.canDeactivateChecks.push(new Ir(Ae.outlet.component,ge))}else ge&&mr(T,Ae,U),U.canActivateChecks.push(new $r(O)),xr(N,null,te.component?Ae?Ae.children:null:E,O,U)})(ge,te[ge.value.outlet],E,O.concat([ge.value]),U),delete te[ge.value.outlet]}),$t(te,(ge,Ae)=>mr(ge,E.getContext(Ae),U)),U}function mr(N,T,E){const O=Sn(N),U=N.value;$t(O,(te,ge)=>{mr(te,U.component?T?T.children.getContext(ge):null:T,E)}),E.canDeactivateChecks.push(new Ir(U.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,U))}function zr(N){return"function"==typeof N}function $(N){return N instanceof Ie.K||"EmptyError"===N?.name}const B=Symbol("INITIAL_VALUE");function V(){return(0,mt.w)(N=>(0,Te.a)(N.map(T=>T.pipe((0,nt.q)(1),(0,Ft.O)(B)))).pipe((0,at.U)(T=>{for(const E of T)if(!0!==E){if(E===B)return B;if(!1===E||E instanceof y1)return E}return!0}),(0,Mt.h)(T=>T!==B),(0,nt.q)(1)))}function vr(N){return(0,Ve.z)((0,Le.b)(T=>{if(Qt(T))throw Ai(0,T)}),(0,at.U)(T=>!0===T))}const re={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function de(N,T,E,O,U){const te=_e(N,T,E);return te.matched?function Y(N,T,E,O){const U=T.canMatch;if(!U||0===U.length)return(0,X.of)(!0);const te=U.map(ge=>{const Ae=nr(ge,N);return En(function Lr(N){return N&&zr(N.canMatch)}(Ae)?Ae.canMatch(T,E):N.runInContext(()=>Ae(T,E)))});return(0,X.of)(te).pipe(V(),vr())}(O=ti(T,O),T,E).pipe((0,at.U)(ge=>!0===ge?te:{...re})):(0,X.of)(te)}function _e(N,T,E){if(""===T.path)return"full"===T.pathMatch&&(N.hasChildren()||E.length>0)?{...re}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const U=(T.matcher||Un)(E,N,T);if(!U)return{...re};const te={};$t(U.posParams,(Ae,Nt)=>{te[Nt]=Ae.path});const ge=U.consumed.length>0?{...te,...U.consumed[U.consumed.length-1].parameters}:te;return{matched:!0,consumedSegments:U.consumed,remainingSegments:E.slice(U.consumed.length),parameters:ge,positionalParamSegments:U.posParams??{}}}function Ke(N,T,E,O,U="corrected"){if(E.length>0&&function zt(N,T,E){return E.some(O=>W(N,T,O)&&w2(O)!==qt)}(N,E,O)){const ge=new h1(T,function Ot(N,T,E,O){const U={};U[qt]=O,O._sourceSegment=N,O._segmentIndexShift=T.length;for(const te of E)if(""===te.path&&w2(te)!==qt){const ge=new h1([],{});ge._sourceSegment=N,ge._segmentIndexShift=T.length,U[w2(te)]=ge}return U}(N,T,O,new h1(E,N.children)));return ge._sourceSegment=N,ge._segmentIndexShift=T.length,{segmentGroup:ge,slicedSegments:[]}}if(0===E.length&&function z(N,T,E){return E.some(O=>W(N,T,O))}(N,E,O)){const ge=new h1(N.segments,function St(N,T,E,O,U,te){const ge={};for(const Ae of O)if(W(N,E,Ae)&&!U[w2(Ae)]){const Nt=new h1([],{});Nt._sourceSegment=N,Nt._segmentIndexShift="legacy"===te?N.segments.length:T.length,ge[w2(Ae)]=Nt}return{...U,...ge}}(N,T,E,O,N.children,U));return ge._sourceSegment=N,ge._segmentIndexShift=T.length,{segmentGroup:ge,slicedSegments:E}}const te=new h1(N.segments,N.children);return te._sourceSegment=N,te._segmentIndexShift=T.length,{segmentGroup:te,slicedSegments:E}}function W(N,T,E){return(!(N.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}function k(N,T,E,O){return!!(w2(N)===O||O!==qt&&W(T,E,N))&&("**"===N.path||_e(T,N,E).matched)}function ee(N,T,E){return 0===T.length&&!N.children[E]}const be=!1;class it{constructor(T){this.segmentGroup=T||null}}class vt{constructor(T){this.urlTree=T}}function a1(N){return ze(new it(N))}function nn(N){return ze(new vt(N))}class m2{constructor(T,E,O,U,te){this.injector=T,this.configLoader=E,this.urlSerializer=O,this.urlTree=U,this.config=te,this.allowRedirects=!0}apply(){const T=Ke(this.urlTree.root,[],[],this.config).segmentGroup,E=new h1(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,E,qt).pipe((0,at.U)(te=>this.createUrlTree(We(te),this.urlTree.queryParams,this.urlTree.fragment))).pipe(He(te=>{if(te instanceof vt)return this.allowRedirects=!1,this.match(te.urlTree);throw te instanceof it?this.noMatchError(te):te}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,qt).pipe((0,at.U)(U=>this.createUrlTree(We(U),T.queryParams,T.fragment))).pipe(He(U=>{throw U instanceof it?this.noMatchError(U):U}))}noMatchError(T){return new l.vHH(4002,be)}createUrlTree(T,E,O){const U=ue(T);return new y1(U,E,O)}expandSegmentGroup(T,E,O,U){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(T,E,O).pipe((0,at.U)(te=>new h1([],te))):this.expandSegment(T,O,E,O.segments,U,!0)}expandChildren(T,E,O){const U=[];for(const te of Object.keys(O.children))"primary"===te?U.unshift(te):U.push(te);return(0,C.D)(U).pipe((0,Me.b)(te=>{const ge=O.children[te],Ae=p2(E,te);return this.expandSegmentGroup(T,Ae,ge,te).pipe((0,at.U)(Nt=>({segment:Nt,outlet:te})))}),(0,Lt.R)((te,ge)=>(te[ge.outlet]=ge.segment,te),{}),Pt())}expandSegment(T,E,O,U,te,ge){return(0,C.D)(O).pipe((0,Me.b)(Ae=>this.expandSegmentAgainstRoute(T,E,O,Ae,U,te,ge).pipe(He(Zt=>{if(Zt instanceof it)return(0,X.of)(null);throw Zt}))),(0,tt.P)(Ae=>!!Ae),He((Ae,Nt)=>{if($(Ae))return ee(E,U,te)?(0,X.of)(new h1([],{})):a1(E);throw Ae}))}expandSegmentAgainstRoute(T,E,O,U,te,ge,Ae){return k(U,E,te,ge)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(T,E,U,te,ge):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,E,O,U,te,ge):a1(E):a1(E)}expandSegmentAgainstRouteUsingRedirect(T,E,O,U,te,ge){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,O,U,ge):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,O,U,te,ge)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,O,U){const te=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?nn(te):this.lineralizeSegments(O,te).pipe((0,ce.z)(ge=>{const Ae=new h1(ge,{});return this.expandSegment(T,Ae,E,ge,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,O,U,te,ge){const{matched:Ae,consumedSegments:Nt,remainingSegments:Zt,positionalParamSegments:xn}=_e(E,U,te);if(!Ae)return a1(E);const b1=this.applyRedirectCommands(Nt,U.redirectTo,xn);return U.redirectTo.startsWith("/")?nn(b1):this.lineralizeSegments(U,b1).pipe((0,ce.z)(sn=>this.expandSegment(T,E,O,sn.concat(Zt),ge,!1)))}matchSegmentAgainstRoute(T,E,O,U,te){return"**"===O.path?(T=ti(O,T),O.loadChildren?(O._loadedRoutes?(0,X.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):this.configLoader.loadChildren(T,O)).pipe((0,at.U)(Ae=>(O._loadedRoutes=Ae.routes,O._loadedInjector=Ae.injector,new h1(U,{})))):(0,X.of)(new h1(U,{}))):de(E,O,U,T).pipe((0,mt.w)(({matched:ge,consumedSegments:Ae,remainingSegments:Nt})=>ge?this.getChildConfig(T=O._injector??T,O,U).pipe((0,ce.z)(xn=>{const b1=xn.injector??T,sn=xn.routes,{segmentGroup:Ui,slicedSegments:bs}=Ke(E,Ae,Nt,sn),uo=new h1(Ui.segments,Ui.children);if(0===bs.length&&uo.hasChildren())return this.expandChildren(b1,sn,uo).pipe((0,at.U)(Mr=>new h1(Ae,Mr)));if(0===sn.length&&0===bs.length)return(0,X.of)(new h1(Ae,{}));const Ri=w2(O)===te;return this.expandSegment(b1,uo,sn,bs,Ri?qt:te,!0).pipe((0,at.U)(Cs=>new h1(Ae.concat(Cs.segments),Cs.children)))})):a1(E)))}getChildConfig(T,E,O){return E.children?(0,X.of)({routes:E.children,injector:T}):E.loadChildren?void 0!==E._loadedRoutes?(0,X.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function rs(N,T,E,O){const U=T.canLoad;if(void 0===U||0===U.length)return(0,X.of)(!0);const te=U.map(ge=>{const Ae=nr(ge,N);return En(function eo(N){return N&&zr(N.canLoad)}(Ae)?Ae.canLoad(T,E):N.runInContext(()=>Ae(T,E)))});return(0,X.of)(te).pipe(V(),vr())}(T,E,O).pipe((0,ce.z)(U=>U?this.configLoader.loadChildren(T,E).pipe((0,Le.b)(te=>{E._loadedRoutes=te.routes,E._loadedInjector=te.injector})):function _n(N){return ze(Di(be,3))}())):(0,X.of)({routes:[],injector:T})}lineralizeSegments(T,E){let O=[],U=E.root;for(;;){if(O=O.concat(U.segments),0===U.numberOfChildren)return(0,X.of)(O);if(U.numberOfChildren>1||!U.children[qt])return ze(new l.vHH(4e3,be));U=U.children[qt]}}applyRedirectCommands(T,E,O){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),T,O)}applyRedirectCreateUrlTree(T,E,O,U){const te=this.createSegmentGroup(T,E.root,O,U);return new y1(te,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const O={};return $t(T,(U,te)=>{if("string"==typeof U&&U.startsWith(":")){const Ae=U.substring(1);O[te]=E[Ae]}else O[te]=U}),O}createSegmentGroup(T,E,O,U){const te=this.createSegments(T,E.segments,O,U);let ge={};return $t(E.children,(Ae,Nt)=>{ge[Nt]=this.createSegmentGroup(T,Ae,O,U)}),new h1(te,ge)}createSegments(T,E,O,U){return E.map(te=>te.path.startsWith(":")?this.findPosParam(T,te,U):this.findOrReturn(te,O))}findPosParam(T,E,O){const U=O[E.path.substring(1)];if(!U)throw new l.vHH(4001,be);return U}findOrReturn(T,E){let O=0;for(const U of E){if(U.path===T.path)return E.splice(O),U;O++}return T}}class Or{}class br{constructor(T,E,O,U,te,ge,Ae,Nt){this.injector=T,this.rootComponentType=E,this.config=O,this.urlTree=U,this.url=te,this.paramsInheritanceStrategy=ge,this.relativeLinkResolution=Ae,this.urlSerializer=Nt}recognize(){const T=Ke(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,qt).pipe((0,at.U)(E=>{if(null===E)return null;const O=new Hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Fn(O,E),te=new Ns(this.url,U);return this.inheritParamsAndData(te._root),te}))}inheritParamsAndData(T){const E=T.value,O=fr(E,this.paramsInheritanceStrategy);E.params=Object.freeze(O.params),E.data=Object.freeze(O.data),T.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(T,E,O,U){return 0===O.segments.length&&O.hasChildren()?this.processChildren(T,E,O):this.processSegment(T,E,O,O.segments,U)}processChildren(T,E,O){return(0,C.D)(Object.keys(O.children)).pipe((0,Me.b)(U=>{const te=O.children[U],ge=p2(E,U);return this.processSegmentGroup(T,ge,te,U)}),(0,Lt.R)((U,te)=>U&&te?(U.push(...te),U):null),function T1(N,T=!1){return(0,Je.e)((E,O)=>{let U=0;E.subscribe((0,Gt.x)(O,te=>{const ge=N(te,U++);(ge||T)&&O.next(te),!ge&&O.complete()}))})}(U=>null!==U),(0,B1.d)(null),Pt(),(0,at.U)(U=>{if(null===U)return null;const te=Co(U);return function Rr(N){N.sort((T,E)=>T.value.outlet===qt?-1:E.value.outlet===qt?1:T.value.outlet.localeCompare(E.value.outlet))}(te),te}))}processSegment(T,E,O,U,te){return(0,C.D)(E).pipe((0,Me.b)(ge=>this.processSegmentAgainstRoute(ge._injector??T,ge,O,U,te)),(0,tt.P)(ge=>!!ge),He(ge=>{if($(ge))return ee(O,U,te)?(0,X.of)([]):(0,X.of)(null);throw ge}))}processSegmentAgainstRoute(T,E,O,U,te){if(E.redirectTo||!k(E,O,U,te))return(0,X.of)(null);let ge;if("**"===E.path){const Ae=U.length>0?vn(U).parameters:{},Nt=V4(O)+U.length,Zt=new Hi(U,Ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d4(E),w2(E),E.component??E._loadedComponent??null,E,na(O),Nt,ia(E),Nt);ge=(0,X.of)({snapshot:Zt,consumedSegments:[],remainingSegments:[]})}else ge=de(O,E,U,T).pipe((0,at.U)(({matched:Ae,consumedSegments:Nt,remainingSegments:Zt,parameters:xn})=>{if(!Ae)return null;const b1=V4(O)+Nt.length;return{snapshot:new Hi(Nt,xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,d4(E),w2(E),E.component??E._loadedComponent??null,E,na(O),b1,ia(E),b1),consumedSegments:Nt,remainingSegments:Zt}}));return ge.pipe((0,mt.w)(Ae=>{if(null===Ae)return(0,X.of)(null);const{snapshot:Nt,consumedSegments:Zt,remainingSegments:xn}=Ae;T=E._injector??T;const b1=E._loadedInjector??T,sn=function ci(N){return N.children?N.children:N.loadChildren?N._loadedRoutes:[]}(E),{segmentGroup:Ui,slicedSegments:bs}=Ke(O,Zt,xn,sn.filter(Ri=>void 0===Ri.redirectTo),this.relativeLinkResolution);if(0===bs.length&&Ui.hasChildren())return this.processChildren(b1,sn,Ui).pipe((0,at.U)(Ri=>null===Ri?null:[new Fn(Nt,Ri)]));if(0===sn.length&&0===bs.length)return(0,X.of)([new Fn(Nt,[])]);const uo=w2(E)===te;return this.processSegment(b1,sn,Ui,bs,uo?qt:te).pipe((0,at.U)(Ri=>null===Ri?null:[new Fn(Nt,Ri)]))}))}}function xs(N){const T=N.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Co(N){const T=[],E=new Set;for(const O of N){if(!xs(O)){T.push(O);continue}const U=T.find(te=>O.value.routeConfig===te.value.routeConfig);void 0!==U?(U.children.push(...O.children),E.add(U)):T.push(O)}for(const O of E){const U=Co(O.children);T.push(new Fn(O.value,U))}return T.filter(O=>!E.has(O))}function na(N){let T=N;for(;T._sourceSegment;)T=T._sourceSegment;return T}function V4(N){let T=N,E=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,E+=T._segmentIndexShift??0;return E-1}function d4(N){return N.data||{}}function ia(N){return N.resolve||{}}function li(N){return"string"==typeof N.title||null===N.title}function ss(N){return(0,mt.w)(T=>{const E=N(T);return E?(0,C.D)(E).pipe((0,at.U)(()=>T)):(0,X.of)(T)})}let to=(()=>{class N{buildTitle(E){let O,U=E.root;for(;void 0!==U;)O=this.getResolvedTitleForRoute(U)??O,U=U.children.find(te=>te.outlet===qt);return O}getResolvedTitleForRoute(E){return E.data[fn]}}return N.\u0275fac=function(E){return new(E||N)},N.\u0275prov=l.Yz7({token:N,factory:function(){return(0,l.f3M)(zs)},providedIn:"root"}),N})(),zs=(()=>{class N extends to{constructor(E){super(),this.title=E}updateTitle(E){const O=this.buildTitle(E);void 0!==O&&this.title.setTitle(O)}}return N.\u0275fac=function(E){return new(E||N)(l.LFG(o2.Dx))},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();class Ei{}class Lo extends class ys{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}{}const _1=new l.OlP("",{providedIn:"root",factory:()=>({})}),c1=new l.OlP("ROUTES");let bt=(()=>{class N{constructor(E,O){this.injector=E,this.compiler=O,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,X.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const O=En(E.loadComponent()).pipe((0,Le.b)(te=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=te}),N1(()=>{this.componentLoaders.delete(E)})),U=new st(O,()=>new je.x).pipe(ft());return this.componentLoaders.set(E,U),U}loadChildren(E,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,X.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const te=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe((0,at.U)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(O);let Nt,Zt,xn=!1;Array.isArray(Ae)?Zt=Ae:(Nt=Ae.create(E).injector,Zt=$1(Nt.get(c1,[],l.XFs.Self|l.XFs.Optional)));return{routes:Zt.map(N2),injector:Nt}}),N1(()=>{this.childrenLoaders.delete(O)})),ge=new st(te,()=>new je.x).pipe(ft());return this.childrenLoaders.set(O,ge),ge}loadModuleFactoryOrRoutes(E){return En(E()).pipe((0,ce.z)(O=>O instanceof l.YKP||Array.isArray(O)?(0,X.of)(O):(0,C.D)(this.compiler.compileModuleAsync(O))))}}return N.\u0275fac=function(E){return new(E||N)(l.LFG(l.zs3),l.LFG(l.Sil))},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();class Bt{}class Z2{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,E){return T}}function Oa(N){throw N}function Wr(N,T,E){return T.parse("/")}const sa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ao={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function aa(){const N=(0,l.f3M)(tn),T=(0,l.f3M)(f2),E=(0,l.f3M)(s1.Ye),O=(0,l.f3M)(l.zs3),U=(0,l.f3M)(l.Sil),te=(0,l.f3M)(c1,{optional:!0})??[],ge=(0,l.f3M)(_1,{optional:!0})??{},Ae=(0,l.f3M)(zs),Nt=(0,l.f3M)(to,{optional:!0}),Zt=(0,l.f3M)(Bt,{optional:!0}),xn=(0,l.f3M)(Ei,{optional:!0}),b1=new ni(null,N,T,E,O,U,$1(te));return Zt&&(b1.urlHandlingStrategy=Zt),xn&&(b1.routeReuseStrategy=xn),b1.titleStrategy=Nt??Ae,function oa(N,T){N.errorHandler&&(T.errorHandler=N.errorHandler),N.malformedUriErrorHandler&&(T.malformedUriErrorHandler=N.malformedUriErrorHandler),N.onSameUrlNavigation&&(T.onSameUrlNavigation=N.onSameUrlNavigation),N.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=N.paramsInheritanceStrategy),N.relativeLinkResolution&&(T.relativeLinkResolution=N.relativeLinkResolution),N.urlUpdateStrategy&&(T.urlUpdateStrategy=N.urlUpdateStrategy),N.canceledNavigationResolution&&(T.canceledNavigationResolution=N.canceledNavigationResolution)}(ge,b1),b1}let ni=(()=>{class N{constructor(E,O,U,te,ge,Ae,Nt){this.rootComponentType=E,this.urlSerializer=O,this.rootContexts=U,this.location=te,this.config=Nt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.x,this.errorHandler=Oa,this.malformedUriErrorHandler=Wr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,X.of)(void 0),this.urlHandlingStrategy=new Z2,this.routeReuseStrategy=new Lo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ge.get(bt),this.configLoader.onLoadEndListener=sn=>this.triggerEvent(new $2(sn)),this.configLoader.onLoadStartListener=sn=>this.triggerEvent(new Es(sn)),this.ngModule=ge.get(l.h0i),this.console=ge.get(l.c2e);const b1=ge.get(l.R0b);this.isNgZoneEnabled=b1 instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(Nt),this.currentUrlTree=function mn(){return new y1(new h1([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=er(this.currentUrlTree,this.rootComponentType),this.transitions=new Ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const O=this.events;return E.pipe((0,Mt.h)(U=>0!==U.id),(0,at.U)(U=>({...U,extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,mt.w)(U=>{let te=!1,ge=!1;return(0,X.of)(U).pipe((0,Le.b)(Ae=>{this.currentNavigation={id:Ae.id,initialUrl:Ae.rawUrl,extractedUrl:Ae.extractedUrl,trigger:Ae.source,extras:Ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mt.w)(Ae=>{const Nt=this.browserUrlTree.toString(),Zt=!this.navigated||Ae.extractedUrl.toString()!==Nt||Nt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Zt)&&this.urlHandlingStrategy.shouldProcessUrl(Ae.rawUrl))return ca(Ae.source)&&(this.browserUrlTree=Ae.extractedUrl),(0,X.of)(Ae).pipe((0,mt.w)(b1=>{const sn=this.transitions.getValue();return O.next(new Vi(b1.id,this.serializeUrl(b1.extractedUrl),b1.source,b1.restoredState)),sn!==this.transitions.getValue()?pt.E:Promise.resolve(b1)}),function Kn(N,T,E,O){return(0,mt.w)(U=>function pn(N,T,E,O,U){return new m2(N,T,E,O,U).apply()}(N,T,E,U.extractedUrl,O).pipe((0,at.U)(te=>({...U,urlAfterRedirects:te}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Le.b)(b1=>{this.currentNavigation={...this.currentNavigation,finalUrl:b1.urlAfterRedirects},U.urlAfterRedirects=b1.urlAfterRedirects}),function xo(N,T,E,O,U,te){return(0,ce.z)(ge=>function _r(N,T,E,O,U,te,ge="emptyOnly",Ae="legacy"){return new br(N,T,E,O,U,ge,Ae,te).recognize().pipe((0,mt.w)(Nt=>null===Nt?function yr(N){return new fe.y(T=>T.error(N))}(new Or):(0,X.of)(Nt)))}(N,T,E,ge.urlAfterRedirects,O.serialize(ge.urlAfterRedirects),O,U,te).pipe((0,at.U)(Ae=>({...ge,targetSnapshot:Ae}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Le.b)(b1=>{if(U.targetSnapshot=b1.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!b1.extras.skipLocationChange){const Ui=this.urlHandlingStrategy.merge(b1.urlAfterRedirects,b1.rawUrl);this.setBrowserUrl(Ui,b1)}this.browserUrlTree=b1.urlAfterRedirects}const sn=new bi(b1.id,this.serializeUrl(b1.extractedUrl),this.serializeUrl(b1.urlAfterRedirects),b1.targetSnapshot);O.next(sn)}));if(Zt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:sn,extractedUrl:Ui,source:bs,restoredState:uo,extras:Ri}=Ae,Yr=new Vi(sn,this.serializeUrl(Ui),bs,uo);O.next(Yr);const Cs=er(Ui,this.rootComponentType).snapshot;return U={...Ae,targetSnapshot:Cs,urlAfterRedirects:Ui,extras:{...Ri,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)(U)}return this.rawUrlTree=Ae.rawUrl,Ae.resolve(null),pt.E}),(0,Le.b)(Ae=>{const Nt=new dr(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(Nt)}),(0,at.U)(Ae=>U={...Ae,guards:gs(Ae.targetSnapshot,Ae.currentSnapshot,this.rootContexts)}),function se(N,T){return(0,ce.z)(E=>{const{targetSnapshot:O,currentSnapshot:U,guards:{canActivateChecks:te,canDeactivateChecks:ge}}=E;return 0===ge.length&&0===te.length?(0,X.of)({...E,guardsResult:!0}):function lt(N,T,E,O){return(0,C.D)(N).pipe((0,ce.z)(U=>function is(N,T,E,O,U){const te=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,X.of)(!0);const ge=te.map(Ae=>{const Nt=K1(T)??U,Zt=nr(Ae,Nt);return En(function Zr(N){return N&&zr(N.canDeactivate)}(Zt)?Zt.canDeactivate(N,T,E,O):Nt.runInContext(()=>Zt(N,T,E,O))).pipe((0,tt.P)())});return(0,X.of)(ge).pipe(V())}(U.component,U.route,E,T,O)),(0,tt.P)(U=>!0!==U,!0))}(ge,O,U,N).pipe((0,ce.z)(Ae=>Ae&&function D2(N){return"boolean"==typeof N}(Ae)?function w1(N,T,E,O){return(0,C.D)(T).pipe((0,Me.b)(U=>(0,Se.z)(function gr(N,T){return null!==N&&T&&T(new Ss(N)),(0,X.of)(!0)}(U.route.parent,O),function Qn(N,T){return null!==N&&T&&T(new Ye(N)),(0,X.of)(!0)}(U.route,O),function vs(N,T,E){const O=T[T.length-1],te=T.slice(0,T.length-1).reverse().map(ge=>function pr(N){const T=N.routeConfig?N.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:N,guards:T}:null}(ge)).filter(ge=>null!==ge).map(ge=>(0,ke.P)(()=>{const Ae=ge.guards.map(Nt=>{const Zt=K1(ge.node)??E,xn=nr(Nt,Zt);return En(function ir(N){return N&&zr(N.canActivateChild)}(xn)?xn.canActivateChild(O,N):Zt.runInContext(()=>xn(O,N))).pipe((0,tt.P)())});return(0,X.of)(Ae).pipe(V())}));return(0,X.of)(te).pipe(V())}(N,U.path,E),function rr(N,T,E){const O=T.routeConfig?T.routeConfig.canActivate:null;if(!O||0===O.length)return(0,X.of)(!0);const U=O.map(te=>(0,ke.P)(()=>{const ge=K1(T)??E,Ae=nr(te,ge);return En(function As(N){return N&&zr(N.canActivate)}(Ae)?Ae.canActivate(T,N):ge.runInContext(()=>Ae(T,N))).pipe((0,tt.P)())}));return(0,X.of)(U).pipe(V())}(N,U.route,E))),(0,tt.P)(U=>!0!==U,!0))}(O,te,N,T):(0,X.of)(Ae)),(0,at.U)(Ae=>({...E,guardsResult:Ae})))})}(this.ngModule.injector,Ae=>this.triggerEvent(Ae)),(0,Le.b)(Ae=>{if(U.guardsResult=Ae.guardsResult,Qt(Ae.guardsResult))throw Ai(0,Ae.guardsResult);const Nt=new z2(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot,!!Ae.guardsResult);this.triggerEvent(Nt)}),(0,Mt.h)(Ae=>!!Ae.guardsResult||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,"",3),!1)),ss(Ae=>{if(Ae.guards.canActivateChecks.length)return(0,X.of)(Ae).pipe((0,Le.b)(Nt=>{const Zt=new Nr(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);this.triggerEvent(Zt)}),(0,mt.w)(Nt=>{let Zt=!1;return(0,X.of)(Nt).pipe(function oo(N,T){return(0,ce.z)(E=>{const{targetSnapshot:O,guards:{canActivateChecks:U}}=E;if(!U.length)return(0,X.of)(E);let te=0;return(0,C.D)(U).pipe((0,Me.b)(ge=>function zo(N,T,E,O){const U=N.routeConfig,te=N._resolve;return void 0!==U?.title&&!li(U)&&(te[fn]=U.title),function za(N,T,E,O){const U=function La(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}(N);if(0===U.length)return(0,X.of)({});const te={};return(0,C.D)(U).pipe((0,ce.z)(ge=>function zi(N,T,E,O){const U=K1(T)??O,te=nr(N,U);return En(te.resolve?te.resolve(T,E):U.runInContext(()=>te(T,E)))}(N[ge],T,E,O).pipe((0,tt.P)(),(0,Le.b)(Ae=>{te[ge]=Ae}))),Rt(1),(0,S1.h)(te),He(ge=>$(ge)?pt.E:ze(ge)))}(te,N,T,O).pipe((0,at.U)(ge=>(N._resolvedData=ge,N.data=fr(N,E).resolve,U&&li(U)&&(N.data[fn]=U.title),null)))}(ge.route,O,N,T)),(0,Le.b)(()=>te++),Rt(1),(0,ce.z)(ge=>te===U.length?(0,X.of)(E):pt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Le.b)({next:()=>Zt=!0,complete:()=>{Zt||(this.restoreHistory(Nt),this.cancelNavigationTransition(Nt,"",2))}}))}),(0,Le.b)(Nt=>{const Zt=new Br(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);this.triggerEvent(Zt)}))}),ss(Ae=>{const Nt=Zt=>{const xn=[];Zt.routeConfig?.loadComponent&&!Zt.routeConfig._loadedComponent&&xn.push(this.configLoader.loadComponent(Zt.routeConfig).pipe((0,Le.b)(b1=>{Zt.component=b1}),(0,at.U)(()=>{})));for(const b1 of Zt.children)xn.push(...Nt(b1));return xn};return(0,Te.a)(Nt(Ae.targetSnapshot.root)).pipe((0,B1.d)(),(0,nt.q)(1))}),ss(()=>this.afterPreactivation()),(0,at.U)(Ae=>{const Nt=function ts(N,T,E){const O=Mi(N,T._root,E?E._root:void 0);return new Zi(O,T)}(this.routeReuseStrategy,Ae.targetSnapshot,Ae.currentRouterState);return U={...Ae,targetRouterState:Nt}}),(0,Le.b)(Ae=>{this.currentUrlTree=Ae.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl),this.routerState=Ae.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ae.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ae),this.browserUrlTree=Ae.urlAfterRedirects)}),((N,T,E)=>(0,at.U)(O=>(new tr(T,O.targetRouterState,O.currentRouterState,E).activate(N),O)))(this.rootContexts,this.routeReuseStrategy,Ae=>this.triggerEvent(Ae)),(0,Le.b)({next(){te=!0},complete(){te=!0}}),N1(()=>{te||ge||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),He(Ae=>{if(ge=!0,Fi(Ae)){gi(Ae)||(this.navigated=!0,this.restoreHistory(U,!0));const Nt=new x2(U.id,this.serializeUrl(U.extractedUrl),Ae.message,Ae.cancellationCode);if(O.next(Nt),gi(Ae)){const Zt=this.urlHandlingStrategy.merge(Ae.url,this.rawUrlTree),xn={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ca(U.source)};this.scheduleNavigation(Zt,"imperative",null,xn,{resolve:U.resolve,reject:U.reject,promise:U.promise})}else U.resolve(!1)}else{this.restoreHistory(U,!0);const Nt=new ur(U.id,this.serializeUrl(U.extractedUrl),Ae,U.targetSnapshot??void 0);O.next(Nt);try{U.resolve(this.errorHandler(Ae))}catch(Zt){U.reject(Zt)}}return pt.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const O="popstate"===E.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{const U={replaceUrl:!0},te=E.state?.navigationId?E.state:null;if(te){const Ae={...te};delete Ae.navigationId,delete Ae.\u0275routerPageId,0!==Object.keys(Ae).length&&(U.state=Ae)}const ge=this.parseUrl(E.url);this.scheduleNavigation(ge,O,te,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(N2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,O={}){const{relativeTo:U,queryParams:te,fragment:ge,queryParamsHandling:Ae,preserveFragment:Nt}=O,Zt=U||this.routerState.root,xn=Nt?this.currentUrlTree.fragment:ge;let b1=null;switch(Ae){case"merge":b1={...this.currentUrlTree.queryParams,...te};break;case"preserve":b1=this.currentUrlTree.queryParams;break;default:b1=te||null}return null!==b1&&(b1=this.removeEmptyProps(b1)),q1(Zt,this.currentUrlTree,E,b1,xn??null)}navigateByUrl(E,O={skipLocationChange:!1}){const U=Qt(E)?E:this.parseUrl(E),te=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(te,"imperative",null,O)}navigate(E,O={skipLocationChange:!1}){return function os(N){for(let T=0;T<N.length;T++){if(null==N[T])throw new l.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,O),O)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let O;try{O=this.urlSerializer.parse(E)}catch(U){O=this.malformedUriErrorHandler(U,this.urlSerializer,E)}return O}isActive(E,O){let U;if(U=!0===O?{...sa}:!1===O?{...ao}:O,Qt(E))return l1(this.currentUrlTree,E,U);const te=this.parseUrl(E);return l1(this.currentUrlTree,te,U)}removeEmptyProps(E){return Object.keys(E).reduce((O,U)=>{const te=E[U];return null!=te&&(O[U]=te),O},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new kn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,O,U,te,ge){if(this.disposed)return Promise.resolve(!1);let Ae,Nt,Zt;ge?(Ae=ge.resolve,Nt=ge.reject,Zt=ge.promise):Zt=new Promise((sn,Ui)=>{Ae=sn,Nt=Ui});const xn=++this.navigationId;let b1;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),b1=U&&U.\u0275routerPageId?U.\u0275routerPageId:te.replaceUrl||te.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):b1=0,this.setTransition({id:xn,targetPageId:b1,source:O,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:te,resolve:Ae,reject:Nt,promise:Zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zt.catch(sn=>Promise.reject(sn))}setBrowserUrl(E,O){const U=this.urlSerializer.serialize(E),te={...O.extras.state,...this.generateNgRouterState(O.id,O.targetPageId)};this.location.isCurrentPathEqualTo(U)||O.extras.replaceUrl?this.location.replaceState(U,"",te):this.location.go(U,"",te)}restoreHistory(E,O=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===U?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===U&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,O,U){const te=new x2(E.id,this.serializeUrl(E.extractedUrl),O,U);this.triggerEvent(te),E.resolve(!1)}generateNgRouterState(E,O){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:O}:{navigationId:E}}}return N.\u0275fac=function(E){l.$Z()},N.\u0275prov=l.Yz7({token:N,factory:function(){return aa()},providedIn:"root"}),N})();function ca(N){return"imperative"!==N}let co=(()=>{class N{constructor(E,O,U,te,ge){this.router=E,this.route=O,this.tabIndexAttribute=U,this.renderer=te,this.el=ge,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new je.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,l.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,l.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,l.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const O=this.renderer,U=this.el.nativeElement;null!==E?O.setAttribute(U,"tabindex",E):O.removeAttribute(U,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return N.\u0275fac=function(E){return new(E||N)(l.Y36(ni),l.Y36(ei),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},N.\u0275dir=l.lG2({type:N,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,O){1&E&&l.NdJ("click",function(){return O.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),N})(),rn=(()=>{class N{constructor(E,O,U){this.router=E,this.route=O,this.locationStrategy=U,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new je.x,this.subscription=E.events.subscribe(te=>{te instanceof kn&&this.updateTargetUrlAndHref()})}set preserveFragment(E){this._preserveFragment=(0,l.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,l.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,l.D6c)(E)}get replaceUrl(){return this._replaceUrl}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,O,U,te,ge){return!!(0!==E||O||U||te||ge||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return N.\u0275fac=function(E){return new(E||N)(l.Y36(ni),l.Y36(ei),l.Y36(s1.S$))},N.\u0275dir=l.lG2({type:N,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,O){1&E&&l.NdJ("click",function(te){return O.onClick(te.button,te.ctrlKey,te.shiftKey,te.altKey,te.metaKey)}),2&E&&l.uIk("target",O.target)("href",O.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),N})(),Cr=(()=>{class N{constructor(E,O,U,te,ge,Ae){this.router=E,this.element=O,this.renderer=U,this.cdr=te,this.link=ge,this.linkWithHref=Ae,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=E.events.subscribe(Nt=>{Nt instanceof kn&&this.update()})}ngAfterContentInit(){(0,X.of)(this.links.changes,this.linksWithHrefs.changes,(0,X.of)(null)).pipe((0,M1.J)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,C.D)(E).pipe((0,M1.J)()).subscribe(O=>{this.isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(E){const O=Array.isArray(E)?E:E.split(" ");this.classes=O.filter(U=>!!U)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const E=this.hasActiveLinks();this.isActive!==E&&(this.isActive=E,this.cdr.markForCheck(),this.classes.forEach(O=>{E?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(E))})}isLinkActive(E){const O=function la(N){return!!N.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&E.isActive(U.urlTree,O)}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.linkWithHref&&E(this.linkWithHref)||this.links.some(E)||this.linksWithHrefs.some(E)}}return N.\u0275fac=function(E){return new(E||N)(l.Y36(ni),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(co,8),l.Y36(rn,8))},N.\u0275dir=l.lG2({type:N,selectors:[["","routerLinkActive",""]],contentQueries:function(E,O,U){if(1&E&&(l.Suo(U,co,5),l.Suo(U,rn,5)),2&E){let te;l.iGM(te=l.CRH())&&(O.links=te),l.iGM(te=l.CRH())&&(O.linksWithHrefs=te)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),N})();class L2{}let Gn=(()=>{class N{constructor(E,O,U,te,ge){this.router=E,this.injector=U,this.preloadingStrategy=te,this.loader=ge}setUpPreloading(){this.subscription=this.router.events.pipe((0,Mt.h)(E=>E instanceof kn),(0,Me.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,O){const U=[];for(const te of O){te.providers&&!te._injector&&(te._injector=(0,l.MMx)(te.providers,E,`Route: ${te.path}`));const ge=te._injector??E,Ae=te._loadedInjector??ge;te.loadChildren&&!te._loadedRoutes&&void 0===te.canLoad||te.loadComponent&&!te._loadedComponent?U.push(this.preloadConfig(ge,te)):(te.children||te._loadedRoutes)&&U.push(this.processRoutes(Ae,te.children??te._loadedRoutes))}return(0,C.D)(U).pipe((0,M1.J)())}preloadConfig(E,O){return this.preloadingStrategy.preload(O,()=>{let U;U=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(E,O):(0,X.of)(null);const te=U.pipe((0,ce.z)(ge=>null===ge?(0,X.of)(void 0):(O._loadedRoutes=ge.routes,O._loadedInjector=ge.injector,this.processRoutes(ge.injector??E,ge.routes))));if(O.loadComponent&&!O._loadedComponent){const ge=this.loader.loadComponent(O);return(0,C.D)([te,ge]).pipe((0,M1.J)())}return te})}}return N.\u0275fac=function(E){return new(E||N)(l.LFG(ni),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(L2),l.LFG(bt))},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();const Oo=new l.OlP("");let $n=(()=>{class N{constructor(E,O,U={}){this.router=E,this.viewportScroller=O,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof kn&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Xe&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,O){this.router.triggerEvent(new Xe(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return N.\u0275fac=function(E){l.$Z()},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac}),N})();function Bi(N,T){return{\u0275kind:N,\u0275providers:T}}function Ls(N){return[{provide:c1,multi:!0,useValue:N}]}function Zs(){const N=(0,l.f3M)(l.zs3);return T=>{const E=N.get(l.z2F);if(T!==E.components[0])return;const O=N.get(ni),U=N.get(g2);1===N.get(ua)&&O.initialNavigation(),N.get(H4,null,l.XFs.Optional)?.setUpPreloading(),N.get(Oo,null,l.XFs.Optional)?.init(),O.resetRootComponentType(E.componentTypes[0]),U.closed||(U.next(),U.unsubscribe())}}const g2=new l.OlP("",{factory:()=>new je.x}),ua=new l.OlP("",{providedIn:"root",factory:()=>1});const H4=new l.OlP("");function h4(N){return Bi(0,[{provide:H4,useExisting:Gn},{provide:L2,useExisting:N}])}const fa=new l.OlP("ROUTER_FORROOT_GUARD"),u2=[s1.Ye,{provide:tn,useClass:Z1},{provide:ni,useFactory:aa},f2,{provide:ei,useFactory:function $s(N){return N.routerState.root},deps:[ni]},bt];function Mo(){return new l.PXZ("Router",ni)}let Rs=(()=>{class N{constructor(E){}static forRoot(E,O){return{ngModule:N,providers:[u2,[],Ls(E),{provide:fa,useFactory:qr,deps:[[ni,new l.FiY,new l.tp0]]},{provide:_1,useValue:O||{}},O?.useHash?{provide:s1.S$,useClass:s1.Do}:{provide:s1.S$,useClass:s1.b0},{provide:Oo,useFactory:()=>{const N=(0,l.f3M)(ni),T=(0,l.f3M)(s1.EM),E=(0,l.f3M)(_1);return E.scrollOffset&&T.setOffset(E.scrollOffset),new $n(N,T,E)}},O?.preloadingStrategy?h4(O.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Mo},O?.initialNavigation?pa(O):[],[{provide:Kr,useFactory:Zs},{provide:l.tb,multi:!0,useExisting:Kr}]]}}static forChild(E){return{ngModule:N,providers:[Ls(E)]}}}return N.\u0275fac=function(E){return new(E||N)(l.LFG(fa,8))},N.\u0275mod=l.oAB({type:N}),N.\u0275inj=l.cJS({imports:[n2]}),N})();function qr(N){return"guarded"}function pa(N){return["disabled"===N.initialNavigation?Bi(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const T=(0,l.f3M)(ni);return()=>{T.setUpLocationChangeListener()}}},{provide:ua,useValue:2}]).\u0275providers:[],"enabledBlocking"===N.initialNavigation?Bi(2,[{provide:ua,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:T=>{const E=T.get(s1.V_,Promise.resolve());let O=!1;return()=>E.then(()=>new Promise(te=>{const ge=T.get(ni),Ae=T.get(g2);(function U(te){T.get(ni).events.pipe((0,Mt.h)(Ae=>Ae instanceof kn||Ae instanceof x2||Ae instanceof ur),(0,at.U)(Ae=>Ae instanceof kn||Ae instanceof x2&&(0===Ae.code||1===Ae.code)&&null),(0,Mt.h)(Ae=>null!==Ae),(0,nt.q)(1)).subscribe(()=>{te()})})(()=>{te(!0),O=!0}),ge.afterPreactivation=()=>(te(!0),O||Ae.closed?(0,X.of)(void 0):Ae),ge.initialNavigation()}))}}]).\u0275providers:[]]}const Kr=new l.OlP("")},3942:(r1,Qe,F)=>{F.d(Qe,{Z:()=>Je});var l=F(2090),C=F(4859),X=F(9681),Ee=F(1877);class Ie{constructor(ft,st){this._delegate=ft,this.firebase=st,(0,X._addComponent)(ft,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=ft.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this._delegate.automaticDataCollectionEnabled=ft}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ft=>{this._delegate.checkDestroyed(),ft()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(ft,st=X._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const s1=this._delegate.container.getProvider(ft);return!s1.isInitialized()&&"EXPLICIT"===(null===(je=s1.getComponent())||void 0===je?void 0:je.instantiationMode)&&s1.initialize(),s1.getImmediate({identifier:st})}_removeServiceInstance(ft,st=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ft).clearInstance(st)}_addComponent(ft){(0,X._addComponent)(this._delegate,ft)}_addOrOverwriteComponent(ft){(0,X._addOrOverwriteComponent)(this._delegate,ft)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function Ve(){const Gt=function ke(Gt){const ft={},st={__esModule:!0,initializeApp:function at(Mt,ce={}){const tt=X.initializeApp(Mt,ce);if((0,l.r3)(ft,tt.name))return ft[tt.name];const Me=new Gt(tt,st);return ft[tt.name]=Me,Me},app:s1,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function nt(Mt){const ce=Mt.name,tt=ce.replace("-compat","");if(X._registerComponent(Mt)&&"PUBLIC"===Mt.type){const Me=(Le=s1())=>{if("function"!=typeof Le[tt])throw Se.create("invalid-app-argument",{appName:ce});return Le[tt]()};void 0!==Mt.serviceProps&&(0,l.ZB)(Me,Mt.serviceProps),st[tt]=Me,Gt.prototype[tt]=function(...Le){return this._getService.bind(this,ce).apply(this,Mt.multipleInstances?Le:[])}}return"PUBLIC"===Mt.type?st[tt]:null},removeApp:function je(Mt){delete ft[Mt]},useAsService:function Ft(Mt,ce){return"serverAuth"===ce?null:ce},modularAPIs:X}};function s1(Mt){if(!(0,l.r3)(ft,Mt=Mt||X._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:Mt});return ft[Mt]}return st.default=st,Object.defineProperty(st,"apps",{get:function mt(){return Object.keys(ft).map(Mt=>ft[Mt])}}),s1.App=Gt,st}(Ie);return Gt.INTERNAL=Object.assign(Object.assign({},Gt.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function ft(st){(0,l.ZB)(Gt,st)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Gt}(),he=new Ee.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Gt=self.firebase.SDK_VERSION;Gt&&Gt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=fe;!function ot(Gt){(0,X.registerVersion)("@firebase/app-compat","0.2.0",Gt)}()},9681:(r1,Qe,F)=>{F.r(Qe),F.d(Qe,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>jn,_DEFAULT_ENTRY_NAME:()=>L1,_addComponent:()=>N1,_addOrOverwriteComponent:()=>M1,_apps:()=>T1,_clearComponents:()=>Dn,_components:()=>S1,_getProvider:()=>qt,_registerComponent:()=>o2,_removeServiceInstance:()=>fn,deleteApp:()=>l2,getApp:()=>$1,getApps:()=>vn,initializeApp:()=>t2,onLog:()=>On,registerVersion:()=>En,setLogLevel:()=>mn});var l=F(5861),C=F(4859),X=F(1877),Ee=F(2090),Ie=F(8766);class Te{constructor(At){this.container=At}getPlatformInfoString(){return this.container.getProviders().map(e1=>{if(function Se(d1){return"VERSION"===d1.getComponent()?.type}(e1)){const z1=e1.getImmediate();return`${z1.library}/${z1.version}`}return null}).filter(e1=>e1).join(" ")}}const ke="@firebase/app",fe=new X.Yd("@firebase/app"),L1="[DEFAULT]",Pt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},T1=new Map,S1=new Map;function N1(d1,At){try{d1.container.addComponent(At)}catch(e1){fe.debug(`Component ${At.name} failed to register with FirebaseApp ${d1.name}`,e1)}}function M1(d1,At){d1.container.addOrOverwriteComponent(At)}function o2(d1){const At=d1.name;if(S1.has(At))return fe.debug(`There were multiple attempts to register component ${At}.`),!1;S1.set(At,d1);for(const e1 of T1.values())N1(e1,d1);return!0}function qt(d1,At){const e1=d1.container.getProvider("heartbeat").getImmediate({optional:!0});return e1&&e1.triggerHeartbeat(),d1.container.getProvider(At)}function fn(d1,At,e1=L1){qt(d1,At).clearInstance(e1)}function Dn(){S1.clear()}const Un=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xn{constructor(At,e1,z1){this._isDeleted=!1,this._options=Object.assign({},At),this._config=Object.assign({},e1),this._name=e1.name,this._automaticDataCollectionEnabled=e1.automaticDataCollectionEnabled,this._container=z1,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(At){this.checkDestroyed(),this._automaticDataCollectionEnabled=At}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(At){this._isDeleted=At}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const jn="9.15.0";function t2(d1,At={}){let e1=d1;"object"!=typeof At&&(At={name:At});const z1=Object.assign({name:L1,automaticDataCollectionEnabled:!1},At),k1=z1.name;if("string"!=typeof k1||!k1)throw Un.create("bad-app-name",{appName:String(k1)});if(e1||(e1=(0,Ee.aH)()),!e1)throw Un.create("no-options");const P1=T1.get(k1);if(P1){if((0,Ee.vZ)(e1,P1.options)&&(0,Ee.vZ)(z1,P1.config))return P1;throw Un.create("duplicate-app",{appName:k1})}const xe=new C.H0(k1);for(const Pe of S1.values())xe.addComponent(Pe);const we=new Xn(e1,z1,xe);return T1.set(k1,we),we}function $1(d1=L1){const At=T1.get(d1);if(!At&&d1===L1)return t2();if(!At)throw Un.create("no-app",{appName:d1});return At}function vn(){return Array.from(T1.values())}function l2(d1){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(d1){const At=d1.name;T1.has(At)&&(T1.delete(At),yield Promise.all(d1.container.getProviders().map(e1=>e1.delete())),d1.isDeleted=!0)})).apply(this,arguments)}function En(d1,At,e1){var z1;let k1=null!==(z1=Pt[d1])&&void 0!==z1?z1:d1;e1&&(k1+=`-${e1}`);const P1=k1.match(/\s|\//),xe=At.match(/\s|\//);if(P1||xe){const we=[`Unable to register library "${k1}" with version "${At}":`];return P1&&we.push(`library name "${k1}" contains illegal characters (whitespace or "/")`),P1&&xe&&we.push("and"),xe&&we.push(`version name "${At}" contains illegal characters (whitespace or "/")`),void fe.warn(we.join(" "))}o2(new C.wA(`${k1}-version`,()=>({library:k1,version:At}),"VERSION"))}function On(d1,At){if(null!==d1&&"function"!=typeof d1)throw Un.create("invalid-log-argument");(0,X.Am)(d1,At)}function mn(d1){(0,X.Ub)(d1)}const l1="firebase-heartbeat-store";let ut=null;function Ne(){return ut||(ut=(0,Ie.X3)("firebase-heartbeat-database",1,{upgrade:(d1,At)=>{0===At&&d1.createObjectStore(l1)}}).catch(d1=>{throw Un.create("idb-open",{originalErrorMessage:d1.message})})),ut}function ct(){return(ct=(0,l.Z)(function*(d1){try{return(yield Ne()).transaction(l1).objectStore(l1).get(y1(d1))}catch(At){if(At instanceof Ee.ZR)fe.warn(At.message);else{const e1=Un.create("idb-get",{originalErrorMessage:At?.message});fe.warn(e1.message)}}})).apply(this,arguments)}function wt(d1,At){return u1.apply(this,arguments)}function u1(){return(u1=(0,l.Z)(function*(d1,At){try{const z1=(yield Ne()).transaction(l1,"readwrite");return yield z1.objectStore(l1).put(At,y1(d1)),z1.done}catch(e1){if(e1 instanceof Ee.ZR)fe.warn(e1.message);else{const z1=Un.create("idb-set",{originalErrorMessage:e1?.message});fe.warn(z1.message)}}})).apply(this,arguments)}function y1(d1){return`${d1.name}!${d1.options.appId}`}class yn{constructor(At){this.container=At,this._heartbeatsCache=null;const e1=this.container.getProvider("app").getImmediate();this._storage=new tn(e1),this._heartbeatsCachePromise=this._storage.read().then(z1=>(this._heartbeatsCache=z1,z1))}triggerHeartbeat(){var At=this;return(0,l.Z)(function*(){const z1=At.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),k1=X1();if(null===At._heartbeatsCache&&(At._heartbeatsCache=yield At._heartbeatsCachePromise),At._heartbeatsCache.lastSentHeartbeatDate!==k1&&!At._heartbeatsCache.heartbeats.some(P1=>P1.date===k1))return At._heartbeatsCache.heartbeats.push({date:k1,agent:z1}),At._heartbeatsCache.heartbeats=At._heartbeatsCache.heartbeats.filter(P1=>{const xe=new Date(P1.date).valueOf();return Date.now()-xe<=2592e6}),At._storage.overwrite(At._heartbeatsCache)})()}getHeartbeatsHeader(){var At=this;return(0,l.Z)(function*(){if(null===At._heartbeatsCache&&(yield At._heartbeatsCachePromise),null===At._heartbeatsCache||0===At._heartbeatsCache.heartbeats.length)return"";const e1=X1(),{heartbeatsToSend:z1,unsentEntries:k1}=function a2(d1,At=1024){const e1=[];let z1=d1.slice();for(const k1 of d1){const P1=e1.find(xe=>xe.agent===k1.agent);if(P1){if(P1.dates.push(k1.date),Z1(e1)>At){P1.dates.pop();break}}else if(e1.push({agent:k1.agent,dates:[k1.date]}),Z1(e1)>At){e1.pop();break}z1=z1.slice(1)}return{heartbeatsToSend:e1,unsentEntries:z1}}(At._heartbeatsCache.heartbeats),P1=(0,Ee.L)(JSON.stringify({version:2,heartbeats:z1}));return At._heartbeatsCache.lastSentHeartbeatDate=e1,k1.length>0?(At._heartbeatsCache.heartbeats=k1,yield At._storage.overwrite(At._heartbeatsCache)):(At._heartbeatsCache.heartbeats=[],At._storage.overwrite(At._heartbeatsCache)),P1})()}}function X1(){return(new Date).toISOString().substring(0,10)}class tn{constructor(At){this.app=At,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ee.hl)()&&(0,Ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var At=this;return(0,l.Z)(function*(){return(yield At._canUseIndexedDBPromise)&&(yield function ye(d1){return ct.apply(this,arguments)}(At.app))||{heartbeats:[]}})()}overwrite(At){var e1=this;return(0,l.Z)(function*(){var z1;if(yield e1._canUseIndexedDBPromise){const P1=yield e1.read();return wt(e1.app,{lastSentHeartbeatDate:null!==(z1=At.lastSentHeartbeatDate)&&void 0!==z1?z1:P1.lastSentHeartbeatDate,heartbeats:At.heartbeats})}})()}add(At){var e1=this;return(0,l.Z)(function*(){var z1;if(yield e1._canUseIndexedDBPromise){const P1=yield e1.read();return wt(e1.app,{lastSentHeartbeatDate:null!==(z1=At.lastSentHeartbeatDate)&&void 0!==z1?z1:P1.lastSentHeartbeatDate,heartbeats:[...P1.heartbeats,...At.heartbeats]})}})()}}function Z1(d1){return(0,Ee.L)(JSON.stringify({version:2,heartbeats:d1})).length}!function an(d1){o2(new C.wA("platform-logger",At=>new Te(At),"PRIVATE")),o2(new C.wA("heartbeat",At=>new yn(At),"PRIVATE")),En(ke,"0.9.0",d1),En(ke,"0.9.0","esm2017"),En("fire-js","")}("")},4859:(r1,Qe,F)=>{F.d(Qe,{H0:()=>ke,wA:()=>X});var l=F(5861),C=F(2090);class X{constructor(fe,he,ze){this.name=fe,this.instanceFactory=he,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const Ee="[DEFAULT]";class Ie{constructor(fe,he){this.name=fe,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const he=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(he)){const ze=new C.BH;if(this.instancesDeferred.set(he,ze),this.isInitialized(he)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:he});pt&&ze.resolve(pt)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(fe){var he;const ze=this.normalizeInstanceIdentifier(fe?.identifier),pt=null!==(he=fe?.optional)&&void 0!==he&&he;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(ot){if(pt)return null;throw ot}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function Se(Ve){return"EAGER"===Ve.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[he,ze]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(he);try{const ot=this.getOrInitializeService({instanceIdentifier:pt});ze.resolve(ot)}catch{}}}}clearInstance(fe=Ee){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,l.Z)(function*(){const he=Array.from(fe.instances.values());yield Promise.all([...he.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),...he.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=Ee){return this.instances.has(fe)}getOptions(fe=Ee){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:he={}}=fe,ze=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:ze,options:he});for(const[ot,Je]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(ot)&&Je.resolve(pt);return pt}onInit(fe,he){var ze;const pt=this.normalizeInstanceIdentifier(he),ot=null!==(ze=this.onInitCallbacks.get(pt))&&void 0!==ze?ze:new Set;ot.add(fe),this.onInitCallbacks.set(pt,ot);const Je=this.instances.get(pt);return Je&&fe(Je,pt),()=>{ot.delete(fe)}}invokeOnInitCallbacks(fe,he){const ze=this.onInitCallbacks.get(he);if(ze)for(const pt of ze)try{pt(fe,he)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:he={}}){let ze=this.instances.get(fe);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=fe,Ve===Ee?void 0:Ve),options:he}),this.instances.set(fe,ze),this.instancesOptions.set(fe,he),this.invokeOnInitCallbacks(ze,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,ze)}catch{}var Ve;return ze||null}normalizeInstanceIdentifier(fe=Ee){return this.component?this.component.multipleInstances?fe:Ee:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const he=this.getProvider(fe.name);if(he.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);he.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const he=new Ie(fe,this);return this.providers.set(fe,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(r1,Qe,F)=>{F.d(Qe,{Am:()=>Ve,Ub:()=>ke,Yd:()=>Se,in:()=>C});const l=[];var C=(()=>{return(fe=C||(C={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",C;var fe})();const X={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Ee=C.INFO,Ie={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Te=(fe,he,...ze)=>{if(he<fe.logLevel)return;const pt=(new Date).toISOString(),ot=Ie[he];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[ot](`[${pt}]  ${fe.name}:`,...ze)};class Se{constructor(he){this.name=he,this._logLevel=Ee,this._logHandler=Te,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in C))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?X[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...he),this._logHandler(this,C.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...he),this._logHandler(this,C.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,C.INFO,...he),this._logHandler(this,C.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,C.WARN,...he),this._logHandler(this,C.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...he),this._logHandler(this,C.ERROR,...he)}}function ke(fe){l.forEach(he=>{he.setLogLevel(fe)})}function Ve(fe,he){for(const ze of l){let pt=null;he&&he.level&&(pt=X[he.level]),ze.userLogHandler=null===fe?null:(ot,Je,...Gt)=>{const ft=Gt.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch{return null}}).filter(st=>st).join(" ");Je>=(pt??ot.logLevel)&&fe({level:C[Je].toLowerCase(),message:ft,args:Gt,type:ot.name})}}}},3868:(r1,Qe,F)=>{F.d(Qe,{BN:()=>Qn,uH:()=>vr});var l=F(4650);function C(Y){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(Y)}function Ee(Y,re){for(var de=0;de<re.length;de++){var _e=re[de];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(Y,_e.key,_e)}}function Te(Y,re,de){return re in Y?Object.defineProperty(Y,re,{value:de,enumerable:!0,configurable:!0,writable:!0}):Y[re]=de,Y}function Se(Y){for(var re=1;re<arguments.length;re++){var de=null!=arguments[re]?arguments[re]:{},_e=Object.keys(de);"function"==typeof Object.getOwnPropertySymbols&&(_e=_e.concat(Object.getOwnPropertySymbols(de).filter(function(Ke){return Object.getOwnPropertyDescriptor(de,Ke).enumerable}))),_e.forEach(function(Ke){Te(Y,Ke,de[Ke])})}return Y}function ke(Y,re){return function he(Y){if(Array.isArray(Y))return Y}(Y)||function pt(Y,re){var de=[],_e=!0,Ke=!1,St=void 0;try{for(var zt,Ot=Y[Symbol.iterator]();!(_e=(zt=Ot.next()).done)&&(de.push(zt.value),!re||de.length!==re);_e=!0);}catch(z){Ke=!0,St=z}finally{try{!_e&&null!=Ot.return&&Ot.return()}finally{if(Ke)throw St}}return de}(Y,re)||function Je(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ft={},st={};try{typeof window<"u"&&(ft=window),typeof document<"u"&&(st=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var mt=(ft.navigator||{}).userAgent,nt=void 0===mt?"":mt,Ft=ft,Mt=st,Le=!!Mt.documentElement&&!!Mt.head&&"function"==typeof Mt.addEventListener&&"function"==typeof Mt.createElement,He=(~nt.indexOf("MSIE")||nt.indexOf("Trident/"),"___FONT_AWESOME___"),v1="svg-inline--fa",jn=[1,2,3,4,5,6,7,8,9,10],t2=jn.concat([11,12,13,14,15,16,17,18,19,20]),vn={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},$t=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",vn.GROUP,vn.SWAP_OPACITY,vn.PRIMARY,vn.SECONDARY].concat(jn.map(function(Y){return"".concat(Y,"x")})).concat(t2.map(function(Y){return"w-".concat(Y)})),Ft.FontAwesomeConfig||{});Mt&&"function"==typeof Mt.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(Y){var re=ke(Y,2),_e=re[1],Ke=function On(Y){return""===Y||"false"!==Y&&("true"===Y||Y)}(function En(Y){var re=Mt.querySelector("script["+Y+"]");if(re)return re.getAttribute(Y)}(re[0]));null!=Ke&&($t[_e]=Ke)});var J2=Se({},{familyPrefix:"fa",replacementClass:v1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},$t);J2.autoReplaceSvg||(J2.observeMutations=!1);var l1=Se({},J2);Ft.FontAwesomeConfig=l1;var ut=Ft||{};ut[He]||(ut[He]={}),ut[He].styles||(ut[He].styles={}),ut[He].hooks||(ut[He].hooks={}),ut[He].shims||(ut[He].shims=[]);var Ne=ut[He],ye=[];Le&&((Mt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mt.readyState)||Mt.addEventListener("DOMContentLoaded",function Y(){Mt.removeEventListener("DOMContentLoaded",Y),ye.map(function(re){return re()})}));var an,y1="pending",h1="settled",Yt="fulfilled",yn="rejected",X1=function(){},a2=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,tn=typeof setImmediate>"u"?setTimeout:setImmediate,Z1=[];function d1(){for(var Y=0;Y<Z1.length;Y++)Z1[Y][0](Z1[Y][1]);Z1=[],an=!1}function At(Y,re){Z1.push([Y,re]),an||(an=!0,tn(d1,0))}function z1(Y){var re=Y.owner,de=re._state,_e=re._data,Ke=Y[de],St=Y.then;if("function"==typeof Ke){de=Yt;try{_e=Ke(_e)}catch(Ot){we(St,Ot)}}k1(St,_e)||(de===Yt&&P1(St,_e),de===yn&&we(St,_e))}function k1(Y,re){var de;try{if(Y===re)throw new TypeError("A promises callback cannot return that same promise.");if(re&&("function"==typeof re||"object"===C(re))){var _e=re.then;if("function"==typeof _e)return _e.call(re,function(Ke){de||(de=!0,re===Ke?xe(Y,Ke):P1(Y,Ke))},function(Ke){de||(de=!0,we(Y,Ke))}),!0}}catch(Ke){return de||we(Y,Ke),!0}return!1}function P1(Y,re){(Y===re||!k1(Y,re))&&xe(Y,re)}function xe(Y,re){Y._state===y1&&(Y._state=h1,Y._data=re,At(Dt,Y))}function we(Y,re){Y._state===y1&&(Y._state=h1,Y._data=re,At(Ze,Y))}function Pe(Y){Y._then=Y._then.forEach(z1)}function Dt(Y){Y._state=Yt,Pe(Y)}function Ze(Y){Y._state=yn,Pe(Y),!Y._handled&&a2&&global.process.emit("unhandledRejection",Y._data,Y)}function o1(Y){global.process.emit("rejectionHandled",Y)}function n1(Y){if("function"!=typeof Y)throw new TypeError("Promise resolver "+Y+" is not a function");if(!(this instanceof n1))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function e1(Y,re){function _e(Ke){we(re,Ke)}try{Y(function de(Ke){P1(re,Ke)},_e)}catch(Ke){_e(Ke)}}(Y,this)}n1.prototype={constructor:n1,_state:y1,_then:null,_data:void 0,_handled:!1,then:function(re,de){var _e={owner:this,then:new this.constructor(X1),fulfilled:re,rejected:de};return(de||re)&&!this._handled&&(this._handled=!0,this._state===yn&&a2&&At(o1,this)),this._state===Yt||this._state===yn?At(z1,_e):this._then.push(_e),_e.then},catch:function(re){return this.then(null,re)}},n1.all=function(Y){if(!Array.isArray(Y))throw new TypeError("You must pass an array to Promise.all().");return new n1(function(re,de){var _e=[],Ke=0;function St(z){return Ke++,function(W){_e[z]=W,--Ke||re(_e)}}for(var zt,Ot=0;Ot<Y.length;Ot++)(zt=Y[Ot])&&"function"==typeof zt.then?zt.then(St(Ot),de):_e[Ot]=zt;Ke||re(_e)})},n1.race=function(Y){if(!Array.isArray(Y))throw new TypeError("You must pass an array to Promise.race().");return new n1(function(re,de){for(var Ke,_e=0;_e<Y.length;_e++)(Ke=Y[_e])&&"function"==typeof Ke.then?Ke.then(re,de):re(Ke)})},n1.resolve=function(Y){return Y&&"object"===C(Y)&&Y.constructor===n1?Y:new n1(function(re){re(Y)})},n1.reject=function(Y){return new n1(function(re,de){de(Y)})};var W1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function We(){for(var Y=12,re="";Y-- >0;)re+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return re}function J1(Y){return"".concat(Y).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I2(Y){return Object.keys(Y||{}).reduce(function(re,de){return re+"".concat(de,": ").concat(Y[de],";")},"")}function q1(Y){return Y.size!==W1.size||Y.x!==W1.x||Y.y!==W1.y||Y.rotate!==W1.rotate||Y.flipX||Y.flipY}function Rn(Y){var re=Y.transform,_e=Y.iconWidth,Ke={transform:"translate(".concat(Y.containerWidth/2," 256)")},St="translate(".concat(32*re.x,", ").concat(32*re.y,") "),Ot="scale(".concat(re.size/16*(re.flipX?-1:1),", ").concat(re.size/16*(re.flipY?-1:1),") "),zt="rotate(".concat(re.rotate," 0 0)");return{outer:Ke,inner:{transform:"".concat(St," ").concat(Ot," ").concat(zt)},path:{transform:"translate(".concat(_e/2*-1," -256)")}}}var fi={x:0,y:0,width:"100%",height:"100%"};function B2(Y){var re=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Y.attributes&&(Y.attributes.fill||re)&&(Y.attributes.fill="black"),Y}function _2(Y){return"g"===Y.tag?Y.children:[Y]}function _i(Y){var re=Y.icons,de=re.main,_e=re.mask,Ke=Y.prefix,St=Y.iconName,Ot=Y.transform,zt=Y.symbol,z=Y.title,W=Y.maskId,k=Y.titleId,ee=Y.extra,be=Y.watchable,it=void 0!==be&&be,vt=_e.found?_e:de,a1=vt.width,nn=vt.height,hn="fak"===Ke,_n=hn?"":"fa-w-".concat(Math.ceil(a1/nn*16)),pn=[l1.replacementClass,St?"".concat(l1.familyPrefix,"-").concat(St):"",_n].filter(function(br){return-1===ee.classes.indexOf(br)}).filter(function(br){return""!==br||!!br}).concat(ee.classes).join(" "),m2={children:[],attributes:Se({},ee.attributes,{"data-prefix":Ke,"data-icon":St,class:pn,role:ee.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(a1," ").concat(nn)})},Kn=hn&&!~ee.classes.indexOf("fa-fw")?{width:"".concat(a1/nn*16*.0625,"em")}:{};it&&(m2.attributes["data-fa-i2svg"]=""),z&&m2.children.push({tag:"title",attributes:{id:m2.attributes["aria-labelledby"]||"title-".concat(k||We())},children:[z]});var Nn=Se({},m2,{prefix:Ke,iconName:St,main:de,mask:_e,maskId:W,transform:Ot,symbol:zt,styles:Se({},Kn,ee.styles)}),Or=_e.found&&de.found?function oi(Y){var re=Y.children,de=Y.attributes,_e=Y.main,Ke=Y.mask,St=Y.maskId,z=_e.icon,k=Ke.icon,ee=Rn({transform:Y.transform,containerWidth:Ke.width,iconWidth:_e.width}),be={tag:"rect",attributes:Se({},fi,{fill:"white"})},it=z.children?{children:z.children.map(B2)}:{},vt={tag:"g",attributes:Se({},ee.inner),children:[B2(Se({tag:z.tag,attributes:Se({},z.attributes,ee.path)},it))]},a1={tag:"g",attributes:Se({},ee.outer),children:[vt]},nn="mask-".concat(St||We()),hn="clip-".concat(St||We()),_n={tag:"mask",attributes:Se({},fi,{id:nn,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[be,a1]},pn={tag:"defs",children:[{tag:"clipPath",attributes:{id:hn},children:_2(k)},_n]};return re.push(pn,{tag:"rect",attributes:Se({fill:"currentColor","clip-path":"url(#".concat(hn,")"),mask:"url(#".concat(nn,")")},fi)}),{children:re,attributes:de}}(Nn):function U2(Y){var re=Y.children,de=Y.attributes,_e=Y.main,Ke=Y.transform,Ot=I2(Y.styles);if(Ot.length>0&&(de.style=Ot),q1(Ke)){var zt=Rn({transform:Ke,containerWidth:_e.width,iconWidth:_e.width});re.push({tag:"g",attributes:Se({},zt.outer),children:[{tag:"g",attributes:Se({},zt.inner),children:[{tag:_e.icon.tag,children:_e.icon.children,attributes:Se({},_e.icon.attributes,zt.path)}]}]})}else re.push(_e.icon);return{children:re,attributes:de}}(Nn),_r=Or.attributes;return Nn.children=Or.children,Nn.attributes=_r,zt?function M2(Y){var de=Y.iconName,_e=Y.children,St=Y.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Se({},Y.attributes,{id:!0===St?"".concat(Y.prefix,"-").concat(l1.familyPrefix,"-").concat(de):St}),children:_e}]}]}(Nn):function R2(Y){var re=Y.children,de=Y.main,_e=Y.mask,Ke=Y.attributes,St=Y.styles,Ot=Y.transform;if(q1(Ot)&&de.found&&!_e.found){var W={x:de.width/de.height/2,y:.5};Ke.style=I2(Se({},St,{"transform-origin":"".concat(W.x+Ot.x/16,"em ").concat(W.y+Ot.y/16,"em")}))}return[{tag:"svg",attributes:Ke,children:re}]}(Nn)}var Vi=function(re,de,_e,Ke){var z,W,k,St=Object.keys(re),Ot=St.length,zt=void 0!==Ke?function(re,de){return function(_e,Ke,St,Ot){return re.call(de,_e,Ke,St,Ot)}}(de,Ke):de;for(void 0===_e?(z=1,k=re[St[0]]):(z=0,k=_e);z<Ot;z++)k=zt(k,re[W=St[z]],W,re);return k};function x2(Y,re){var de=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_e=de.skipHooks,Ke=void 0!==_e&&_e,St=Object.keys(re).reduce(function(Ot,zt){var z=re[zt];return z.icon?Ot[z.iconName]=z.icon:Ot[zt]=z,Ot},{});"function"!=typeof Ne.hooks.addPack||Ke?Ne.styles[Y]=Se({},Ne.styles[Y]||{},St):Ne.hooks.addPack(Y,St),"fas"===Y&&x2("fa",re)}var ur=Ne.styles,bi=Ne.shims,Br=function(){var re=function(Ke){return Vi(ur,function(St,Ot,zt){return St[zt]=Vi(Ot,Ke,{}),St},{})};re(function(_e,Ke,St){return Ke[3]&&(_e[Ke[3]]=St),_e}),re(function(_e,Ke,St){var Ot=Ke[2];return _e[St]=St,Ot.forEach(function(zt){_e[zt]=St}),_e});var de="far"in ur;Vi(bi,function(_e,Ke){var Ot=Ke[1];return"far"===Ot&&!de&&(Ot="fas"),_e[Ke[0]]={prefix:Ot,iconName:Ke[2]},_e},{})};function Xe(Y,re,de){if(Y&&Y[re]&&Y[re][de])return{prefix:re,iconName:de,icon:Y[re][de]}}function xt(Y){var re=Y.tag,de=Y.attributes,_e=void 0===de?{}:de,Ke=Y.children,St=void 0===Ke?[]:Ke;return"string"==typeof Y?J1(Y):"<".concat(re," ").concat(function An(Y){return Object.keys(Y||{}).reduce(function(re,de){return re+"".concat(de,'="').concat(J1(Y[de]),'" ')},"").trim()}(_e),">").concat(St.map(xt).join(""),"</").concat(re,">")}Br();function wi(Y){this.name="MissingIcon",this.message=Y||"Icon unavailable",this.stack=(new Error).stack}(wi.prototype=Object.create(Error.prototype)).constructor=wi;var Ai={fill:"currentColor"},Di={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Fi=(Se({},Ai,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Se({},Di,{attributeName:"opacity"}));function hr(Y){var re=Y[0],de=Y[1],St=ke(Y.slice(4),1)[0];return{found:!0,width:re,height:de,icon:Array.isArray(St)?{tag:"g",attributes:{class:"".concat(l1.familyPrefix,"-").concat(vn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(l1.familyPrefix,"-").concat(vn.SECONDARY),fill:"currentColor",d:St[0]}},{tag:"path",attributes:{class:"".concat(l1.familyPrefix,"-").concat(vn.PRIMARY),fill:"currentColor",d:St[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:St}}}}function Ar(){l1.autoAddCss&&!nr&&(function pe(Y){if(Y&&Le){var re=Mt.createElement("style");re.setAttribute("type","text/css"),re.innerHTML=Y;for(var de=Mt.head.childNodes,_e=null,Ke=de.length-1;Ke>-1;Ke--){var St=de[Ke],Ot=(St.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Ot)>-1&&(_e=St)}return Mt.head.insertBefore(re,_e),Y}}(function p2(){var Y="fa",re=v1,de=l1.familyPrefix,_e=l1.replacementClass,Ke='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(de!==Y||_e!==re){var St=new RegExp("\\.".concat(Y,"\\-"),"g"),Ot=new RegExp("\\--".concat(Y,"\\-"),"g"),zt=new RegExp("\\.".concat(re),"g");Ke=Ke.replace(St,".".concat(de,"-")).replace(Ot,"--".concat(de,"-")).replace(zt,".".concat(_e))}return Ke}()),nr=!0)}function tr(Y,re){return Object.defineProperty(Y,"abstract",{get:re}),Object.defineProperty(Y,"html",{get:function(){return Y.abstract.map(function(_e){return xt(_e)})}}),Object.defineProperty(Y,"node",{get:function(){if(Le){var _e=Mt.createElement("div");return _e.innerHTML=Y.html,_e.children}}}),Y}function $r(Y){var re=Y.prefix,de=void 0===re?"fa":re,_e=Y.iconName;if(_e)return Xe(gs.definitions,de,_e)||Xe(Ne.styles,de,_e)}Se({},Ai,{cx:"256",cy:"364",r:"28"}),Se({},Di,{attributeName:"r",values:"28;14;28;28;14;28;"}),Se({},Fi,{values:"1;0;1;1;0;1;"}),Se({},Ai,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Se({},Fi,{values:"1;0;0;0;0;1;"}),Se({},Ai,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Se({},Fi,{values:"0;0;1;1;0;0;"});var gs=new(function(){function Y(){(function X(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")})(this,Y),this.definitions={}}return function Ie(Y,re,de){re&&Ee(Y.prototype,re),de&&Ee(Y,de)}(Y,[{key:"add",value:function(){for(var de=this,_e=arguments.length,Ke=new Array(_e),St=0;St<_e;St++)Ke[St]=arguments[St];var Ot=Ke.reduce(this._pullDefinitions,{});Object.keys(Ot).forEach(function(zt){de.definitions[zt]=Se({},de.definitions[zt]||{},Ot[zt]),x2(zt,Ot[zt]),Br()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(de,_e){var Ke=_e.prefix&&_e.iconName&&_e.icon?{0:_e}:_e;return Object.keys(Ke).map(function(St){var Ot=Ke[St],zt=Ot.prefix,z=Ot.iconName,W=Ot.icon;de[zt]||(de[zt]={}),de[zt][z]=W}),de}}]),Y}()),nr=!1,kt_transform=function(re){return function(re){var de={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return re?re.toLowerCase().split(" ").reduce(function(_e,Ke){var St=Ke.toLowerCase().split("-"),Ot=St[0],zt=St.slice(1).join("-");if(Ot&&"h"===zt)return _e.flipX=!0,_e;if(Ot&&"v"===zt)return _e.flipY=!0,_e;if(zt=parseFloat(zt),isNaN(zt))return _e;switch(Ot){case"grow":_e.size=_e.size+zt;break;case"shrink":_e.size=_e.size-zt;break;case"left":_e.x=_e.x-zt;break;case"right":_e.x=_e.x+zt;break;case"up":_e.y=_e.y-zt;break;case"down":_e.y=_e.y+zt;break;case"rotate":_e.rotate=_e.rotate+zt}return _e},de):de}(re)},Cn=function Ir(Y){return function(re){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=(re||{}).icon?re:$r(re||{}),Ke=de.mask;return Ke&&(Ke=(Ke||{}).icon?Ke:$r(Ke||{})),Y(_e,Se({},de,{mask:Ke}))}}(function(Y){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},de=re.transform,_e=void 0===de?W1:de,Ke=re.symbol,St=void 0!==Ke&&Ke,Ot=re.mask,zt=void 0===Ot?null:Ot,z=re.maskId,W=void 0===z?null:z,k=re.title,ee=void 0===k?null:k,be=re.titleId,it=void 0===be?null:be,vt=re.classes,a1=void 0===vt?[]:vt,nn=re.attributes,hn=void 0===nn?{}:nn,_n=re.styles,pn=void 0===_n?{}:_n;if(Y){var m2=Y.prefix,Kn=Y.iconName,Nn=Y.icon;return tr(Se({type:"icon"},Y),function(){return Ar(),l1.autoA11y&&(ee?hn["aria-labelledby"]="".concat(l1.replacementClass,"-title-").concat(it||We()):(hn["aria-hidden"]="true",hn.focusable="false")),_i({icons:{main:hr(Nn),mask:zt?hr(zt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:m2,iconName:Kn,transform:Se({},W1,_e),symbol:St,title:ee,maskId:W,titleId:it,extra:{attributes:hn,styles:pn,classes:a1}})})}}),ir=F(8255);const Zr=["*"],Is=Y=>{const re={"fa-spin":Y.spin,"fa-pulse":Y.pulse,"fa-fw":Y.fixedWidth,"fa-border":Y.border,"fa-inverse":Y.inverse,"fa-layers-counter":Y.counter,"fa-flip-horizontal":"horizontal"===Y.flip||"both"===Y.flip,"fa-flip-vertical":"vertical"===Y.flip||"both"===Y.flip,[`fa-${Y.size}`]:null!==Y.size,[`fa-rotate-${Y.rotate}`]:null!==Y.rotate,[`fa-pull-${Y.pull}`]:null!==Y.pull,[`fa-stack-${Y.stackItemSize}`]:null!=Y.stackItemSize};return Object.keys(re).map(de=>re[de]?de:null).filter(de=>de)};let V=(()=>{class Y{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return Y.\u0275fac=function(de){return new(de||Y)},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),se=(()=>{class Y{constructor(){this.definitions={}}addIcons(...de){for(const _e of de)_e.prefix in this.definitions||(this.definitions[_e.prefix]={}),this.definitions[_e.prefix][_e.iconName]=_e}addIconPacks(...de){for(const _e of de){const Ke=Object.keys(_e).map(St=>_e[St]);this.addIcons(...Ke)}}getIconDefinition(de,_e){return de in this.definitions&&_e in this.definitions[de]?this.definitions[de][_e]:null}}return Y.\u0275fac=function(de){return new(de||Y)},Y.\u0275prov=l.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})(),lt=(()=>{class Y{constructor(){this.stackItemSize="1x"}ngOnChanges(de){if("size"in de)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return Y.\u0275fac=function(de){return new(de||Y)},Y.\u0275dir=l.lG2({type:Y,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[l.TTD]}),Y})(),w1=(()=>{class Y{constructor(de,_e){this.renderer=de,this.elementRef=_e}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(de){"size"in de&&(null!=de.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${de.size.currentValue}`),null!=de.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${de.size.previousValue}`))}}return Y.\u0275fac=function(de){return new(de||Y)(l.Y36(l.Qsj),l.Y36(l.SBq))},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["fa-stack"]],inputs:{size:"size"},features:[l.TTD],ngContentSelectors:Zr,decls:1,vars:0,template:function(de,_e){1&de&&(l.F$t(),l.Hsn(0))},encapsulation:2}),Y})(),Qn=(()=>{class Y{constructor(de,_e,Ke,St,Ot){this.sanitizer=de,this.config=_e,this.iconLibrary=Ke,this.stackItem=St,this.classes=[],null!=Ot&&null==St&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(de){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let _e=null;if(_e=this.icon??this.config.fallbackIcon,de){const Ke=this.findIconDefinition(_e);if(null!=Ke){const St=this.buildParams();this.renderIcon(Ke,St)}}}render(){this.ngOnChanges({})}findIconDefinition(de){const _e=((Y,re)=>(Y=>void 0!==Y.prefix&&void 0!==Y.iconName)(Y)?Y:Array.isArray(Y)&&2===Y.length?{prefix:Y[0],iconName:Y[1]}:"string"==typeof Y?{prefix:re,iconName:Y}:void 0)(de,this.config.defaultPrefix);return"icon"in _e?_e:this.iconLibrary.getIconDefinition(_e.prefix,_e.iconName)??((Y=>{throw new Error(`Could not find icon with iconName=${Y.iconName} and prefix=${Y.prefix} in the icon library.`)})(_e),null)}buildParams(){const de={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},_e="string"==typeof this.transform?kt_transform(this.transform):this.transform;return{title:this.title,transform:_e,classes:[...Is(de),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(de,_e){const Ke=Cn(de,_e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(Ke.html.join("\n"))}}return Y.\u0275fac=function(de){return new(de||Y)(l.Y36(ir.H7),l.Y36(V),l.Y36(se),l.Y36(lt,8),l.Y36(w1,8))},Y.\u0275cmp=l.Xpm({type:Y,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(de,_e){2&de&&(l.Ikx("innerHTML",_e.renderedIconHTML,l.oJD),l.uIk("title",_e.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[l.TTD],decls:0,vars:0,template:function(de,_e){},encapsulation:2}),Y})(),vr=(()=>{class Y{}return Y.\u0275fac=function(de){return new(de||Y)},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({}),Y})()},6683:(r1,Qe,F)=>{F.d(Qe,{Kz:()=>Js,_D:()=>T,jt:()=>Vs,TH:()=>Gi,Vi:()=>r2,XC:()=>Xr,iD:()=>M3,FF:()=>ba,IJ:()=>t4,M2:()=>$a});var l=F(4650),C=F(6895),X=F(9751),Ee=F(515),Ie=F(9646),Te=F(7579),Se=F(8421),ke=F(5577),Ve=F(1144),fe=F(576),he=F(3268);const ze=["addListener","removeListener"],pt=["addEventListener","removeEventListener"],ot=["on","off"];function Je(f,y,u,M){if((0,fe.m)(u)&&(M=u,u=void 0),M)return Je(f,y,u).pipe((0,he.Z)(M));const[L,Z]=function je(f){return(0,fe.m)(f.addEventListener)&&(0,fe.m)(f.removeEventListener)}(f)?pt.map(Ce=>Be=>f[Ce](y,Be,u)):function ft(f){return(0,fe.m)(f.addListener)&&(0,fe.m)(f.removeListener)}(f)?ze.map(Gt(f,y)):function st(f){return(0,fe.m)(f.on)&&(0,fe.m)(f.off)}(f)?ot.map(Gt(f,y)):[];if(!L&&(0,Ve.z)(f))return(0,ke.z)(Ce=>Je(Ce,y,u))((0,Se.Xf)(f));if(!L)throw new TypeError("Invalid event target");return new X.y(Ce=>{const Be=(...Fe)=>Ce.next(1<Fe.length?Fe:Fe[0]);return L(Be),()=>Z(Be)})}function Gt(f,y){return u=>M=>f[u](y,M)}var s1=F(4986),at=F(3532);function nt(f=0,y,u=s1.P){let M=-1;return null!=y&&((0,at.K)(y)?u=y:M=y),new X.y(L=>{let Z=function mt(f){return f instanceof Date&&!isNaN(f)}(f)?+f-u.now():f;Z<0&&(Z=0);let Ce=0;return u.schedule(function(){L.closed||(L.next(Ce++),0<=M?this.schedule(void 0,M):L.complete())},Z)})}const{isArray:Ft}=Array;function Mt(f){return 1===f.length&&Ft(f[0])?f[0]:f}var ce=F(5403);function tt(...f){return 1===(f=Mt(f)).length?(0,Se.Xf)(f[0]):new X.y(function Me(f){return y=>{let u=[];for(let M=0;u&&!y.closed&&M<f.length;M++)u.push((0,Se.Xf)(f[M]).subscribe((0,ce.x)(y,L=>{if(u){for(let Z=0;Z<u.length;Z++)Z!==M&&u[Z].unsubscribe();u=null}y.next(L)})))}}(f))}F(1135),F(9841);var He=F(5032);new X.y(He.Z);var v1=F(3269);function B1(...f){const y=(0,v1.jO)(f),u=Mt(f);return u.length?new X.y(M=>{let L=u.map(()=>[]),Z=u.map(()=>!1);M.add(()=>{L=Z=null});for(let Ce=0;!M.closed&&Ce<u.length;Ce++)(0,Se.Xf)(u[Ce]).subscribe((0,ce.x)(M,Be=>{if(L[Ce].push(Be),L.every(Fe=>Fe.length)){const Fe=L.map(Et=>Et.shift());M.next(y?y(...Fe):Fe),L.some((Et,It)=>!Et.length&&Z[It])&&M.complete()}},()=>{Z[Ce]=!0,!L[Ce].length&&M.complete()}));return()=>{L=Z=null}}):Ee.E}var L1=F(7272),T1=F(2722),S1=F(9300),N1=F(5698),M1=F(4004),fn=(F(8675),F(1884),F(3900)),Dn=F(8505),Ln=F(4482),Un=F(4671);function Xn(...f){const y=(0,v1.jO)(f);return(0,Ln.e)((u,M)=>{const L=f.length,Z=new Array(L);let Ce=f.map(()=>!1),Be=!1;for(let Fe=0;Fe<L;Fe++)(0,Se.Xf)(f[Fe]).subscribe((0,ce.x)(M,Et=>{Z[Fe]=Et,!Be&&!Ce[Fe]&&(Ce[Fe]=!0,(Be=Ce.every(Un.y))&&(Ce=null))},He.Z));u.subscribe((0,ce.x)(M,Fe=>{if(Be){const Et=[Fe,...Z];M.next(y?y(...Et):Et)}}))})}var t2=F(9718);function $1(f,y){return y?u=>(0,L1.z)(y.pipe((0,N1.q)(1),function jn(){return(0,Ln.e)((f,y)=>{f.subscribe((0,ce.x)(y,He.Z))})}()),u.pipe($1(f))):(0,ke.z)((u,M)=>f(u,M).pipe((0,N1.q)(1),(0,t2.h)(u)))}var $t=F(433),En={left:"right",right:"left",bottom:"top",top:"bottom"};function On(f){return f.replace(/left|right|bottom|top/g,function(y){return En[y]})}function mn(f){return f.split("-")[0]}var A2={start:"end",end:"start"};function J2(f){return f.replace(/start|end/g,function(y){return A2[y]})}var l1="top",ut="bottom",Ne="right",ye="left",ct="auto",wt=[l1,ut,Ne,ye],u1="start",y1="end",Yt="viewport",yn="popper",a2=wt.reduce(function(f,y){return f.concat([y+"-"+u1,y+"-"+y1])},[]),tn=[].concat(wt,[ct]).reduce(function(f,y){return f.concat([y,y+"-"+u1,y+"-"+y1])},[]),we=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Pe(f){if(null==f)return window;if("[object Window]"!==f.toString()){var y=f.ownerDocument;return y&&y.defaultView||window}return f}function Dt(f){return f instanceof Pe(f).Element||f instanceof Element}function Ze(f){return f instanceof Pe(f).HTMLElement||f instanceof HTMLElement}function o1(f){return!(typeof ShadowRoot>"u")&&(f instanceof Pe(f).ShadowRoot||f instanceof ShadowRoot)}function n1(f){return((Dt(f)?f.ownerDocument:f.document)||window.document).documentElement}var H1=Math.max,cn=Math.min,W1=Math.round;function De(){var f=navigator.userAgentData;return null!=f&&f.brands?f.brands.map(function(y){return y.brand+"/"+y.version}).join(" "):navigator.userAgent}function pe(){return!/^((?!chrome|android).)*safari/i.test(De())}function ue(f,y,u){void 0===y&&(y=!1),void 0===u&&(u=!1);var M=f.getBoundingClientRect(),L=1,Z=1;y&&Ze(f)&&(L=f.offsetWidth>0&&W1(M.width)/f.offsetWidth||1,Z=f.offsetHeight>0&&W1(M.height)/f.offsetHeight||1);var Be=(Dt(f)?Pe(f):window).visualViewport,Fe=!pe()&&u,Et=(M.left+(Fe&&Be?Be.offsetLeft:0))/L,It=(M.top+(Fe&&Be?Be.offsetTop:0))/Z,R1=M.width/L,D1=M.height/Z;return{width:R1,height:D1,top:It,right:Et+R1,bottom:It+D1,left:Et,x:Et,y:It}}function We(f){var y=Pe(f);return{scrollLeft:y.pageXOffset,scrollTop:y.pageYOffset}}function yt(f){return ue(n1(f)).left+We(f).scrollLeft}function A1(f){return Pe(f).getComputedStyle(f)}function An(f){return f?(f.nodeName||"").toLowerCase():null}function I2(f){return"html"===An(f)?f:f.assignedSlot||f.parentNode||(o1(f)?f.host:null)||n1(f)}function q1(f){var y=A1(f);return/auto|scroll|overlay|hidden/.test(y.overflow+y.overflowY+y.overflowX)}function Rn(f){return["html","body","#document"].indexOf(An(f))>=0?f.ownerDocument.body:Ze(f)&&q1(f)?f:Rn(I2(f))}function S2(f,y){var u;void 0===y&&(y=[]);var M=Rn(f),L=M===(null==(u=f.ownerDocument)?void 0:u.body),Z=Pe(M),Ce=L?[Z].concat(Z.visualViewport||[],q1(M)?M:[]):M,Be=y.concat(Ce);return L?Be:Be.concat(S2(I2(Ce)))}function fi(f){return["table","td","th"].indexOf(An(f))>=0}function B2(f){return Ze(f)&&"fixed"!==A1(f).position?f.offsetParent:null}function oi(f){for(var y=Pe(f),u=B2(f);u&&fi(u)&&"static"===A1(u).position;)u=B2(u);return u&&("html"===An(u)||"body"===An(u)&&"static"===A1(u).position)?y:u||function _2(f){var y=/firefox/i.test(De());if(/Trident/i.test(De())&&Ze(f)&&"fixed"===A1(f).position)return null;var L=I2(f);for(o1(L)&&(L=L.host);Ze(L)&&["html","body"].indexOf(An(L))<0;){var Z=A1(L);if("none"!==Z.transform||"none"!==Z.perspective||"paint"===Z.contain||-1!==["transform","perspective"].indexOf(Z.willChange)||y&&"filter"===Z.willChange||y&&Z.filter&&"none"!==Z.filter)return L;L=L.parentNode}return null}(f)||y}function U2(f,y){var u=y.getRootNode&&y.getRootNode();if(f.contains(y))return!0;if(u&&o1(u)){var M=y;do{if(M&&f.isSameNode(M))return!0;M=M.parentNode||M.host}while(M)}return!1}function R2(f){return Object.assign({},f,{left:f.x,top:f.y,right:f.x+f.width,bottom:f.y+f.height})}function _i(f,y,u){return y===Yt?R2(function Qt(f,y){var u=Pe(f),M=n1(f),L=u.visualViewport,Z=M.clientWidth,Ce=M.clientHeight,Be=0,Fe=0;if(L){Z=L.width,Ce=L.height;var Et=pe();(Et||!Et&&"fixed"===y)&&(Be=L.offsetLeft,Fe=L.offsetTop)}return{width:Z,height:Ce,x:Be+yt(f),y:Fe}}(f,u)):Dt(y)?function M2(f,y){var u=ue(f,!1,"fixed"===y);return u.top=u.top+f.clientTop,u.left=u.left+f.clientLeft,u.bottom=u.top+f.clientHeight,u.right=u.left+f.clientWidth,u.width=f.clientWidth,u.height=f.clientHeight,u.x=u.left,u.y=u.top,u}(y,u):R2(function J1(f){var y,u=n1(f),M=We(f),L=null==(y=f.ownerDocument)?void 0:y.body,Z=H1(u.scrollWidth,u.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),Ce=H1(u.scrollHeight,u.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),Be=-M.scrollLeft+yt(f),Fe=-M.scrollTop;return"rtl"===A1(L||u).direction&&(Be+=H1(u.clientWidth,L?L.clientWidth:0)-Z),{width:Z,height:Ce,x:Be,y:Fe}}(n1(f)))}function j2(f){return f.split("-")[1]}function Q2(f){return["top","bottom"].indexOf(f)>=0?"x":"y"}function X2(f){var Fe,y=f.reference,u=f.element,M=f.placement,L=M?mn(M):null,Z=M?j2(M):null,Ce=y.x+y.width/2-u.width/2,Be=y.y+y.height/2-u.height/2;switch(L){case l1:Fe={x:Ce,y:y.y-u.height};break;case ut:Fe={x:Ce,y:y.y+y.height};break;case Ne:Fe={x:y.x+y.width,y:Be};break;case ye:Fe={x:y.x-u.width,y:Be};break;default:Fe={x:y.x,y:y.y}}var Et=L?Q2(L):null;if(null!=Et){var It="y"===Et?"height":"width";switch(Z){case u1:Fe[Et]=Fe[Et]-(y[It]/2-u[It]/2);break;case y1:Fe[Et]=Fe[Et]+(y[It]/2-u[It]/2)}}return Fe}function pi(f){return Object.assign({},{top:0,right:0,bottom:0,left:0},f)}function G2(f,y){return y.reduce(function(u,M){return u[M]=f,u},{})}function qn(f,y){void 0===y&&(y={});var M=y.placement,L=void 0===M?f.placement:M,Z=y.strategy,Ce=void 0===Z?f.strategy:Z,Be=y.boundary,Fe=void 0===Be?"clippingParents":Be,Et=y.rootBoundary,It=void 0===Et?Yt:Et,R1=y.elementContext,D1=void 0===R1?yn:R1,F1=y.altBoundary,T2=void 0!==F1&&F1,dn=y.padding,Tn=void 0===dn?0:dn,e2=pi("number"!=typeof Tn?Tn:G2(Tn,wt)),ri=f.rects.popper,s2=f.elements[T2?D1===yn?"reference":yn:D1],y2=function Fr(f,y,u,M){var L="clippingParents"===y?function Hn(f){var y=S2(I2(f)),M=["absolute","fixed"].indexOf(A1(f).position)>=0&&Ze(f)?oi(f):f;return Dt(M)?y.filter(function(L){return Dt(L)&&U2(L,M)&&"body"!==An(L)}):[]}(f):[].concat(y),Z=[].concat(L,[u]),Be=Z.reduce(function(Fe,Et){var It=_i(f,Et,M);return Fe.top=H1(It.top,Fe.top),Fe.right=cn(It.right,Fe.right),Fe.bottom=cn(It.bottom,Fe.bottom),Fe.left=H1(It.left,Fe.left),Fe},_i(f,Z[0],M));return Be.width=Be.right-Be.left,Be.height=Be.bottom-Be.top,Be.x=Be.left,Be.y=Be.top,Be}(Dt(s2)?s2:s2.contextElement||n1(f.elements.popper),Fe,It,Ce),C2=ue(f.elements.reference),di=X2({reference:C2,element:ri,strategy:"absolute",placement:L}),K2=R2(Object.assign({},ri,di)),Dr=D1===yn?K2:C2,Si={top:y2.top-Dr.top+e2.top,bottom:Dr.bottom-y2.bottom+e2.bottom,left:y2.left-Dr.left+e2.left,right:Dr.right-y2.right+e2.right},Yi=f.modifiersData.offset;if(D1===yn&&Yi){var Eo=Yi[L];Object.keys(Si).forEach(function(hs){var Q4=[Ne,ut].indexOf(hs)>=0?1:-1,Zo=[l1,ut].indexOf(hs)>=0?"y":"x";Si[hs]+=Eo[Zo]*Q4})}return Si}const ur={name:"flip",enabled:!0,phase:"main",fn:function x2(f){var y=f.state,u=f.options,M=f.name;if(!y.modifiersData[M]._skip){for(var L=u.mainAxis,Z=void 0===L||L,Ce=u.altAxis,Be=void 0===Ce||Ce,Fe=u.fallbackPlacements,Et=u.padding,It=u.boundary,R1=u.rootBoundary,D1=u.altBoundary,F1=u.flipVariations,T2=void 0===F1||F1,dn=u.allowedAutoPlacements,Tn=y.options.placement,e2=mn(Tn),ri=Fe||(e2!==Tn&&T2?function kn(f){if(mn(f)===ct)return[];var y=On(f);return[J2(f),y,J2(y)]}(Tn):[On(Tn)]),s2=[Tn].concat(ri).reduce(function($i,yo){return $i.concat(mn(yo)===ct?function Vi(f,y){void 0===y&&(y={});var L=y.boundary,Z=y.rootBoundary,Ce=y.padding,Be=y.flipVariations,Fe=y.allowedAutoPlacements,Et=void 0===Fe?tn:Fe,It=j2(y.placement),R1=It?Be?a2:a2.filter(function(T2){return j2(T2)===It}):wt,D1=R1.filter(function(T2){return Et.indexOf(T2)>=0});0===D1.length&&(D1=R1);var F1=D1.reduce(function(T2,dn){return T2[dn]=qn(f,{placement:dn,boundary:L,rootBoundary:Z,padding:Ce})[mn(dn)],T2},{});return Object.keys(F1).sort(function(T2,dn){return F1[T2]-F1[dn]})}(y,{placement:yo,boundary:It,rootBoundary:R1,padding:Et,flipVariations:T2,allowedAutoPlacements:dn}):yo)},[]),y2=y.rects.reference,C2=y.rects.popper,di=new Map,K2=!0,Dr=s2[0],Si=0;Si<s2.length;Si++){var Yi=s2[Si],Eo=mn(Yi),hs=j2(Yi)===u1,Q4=[l1,ut].indexOf(Eo)>=0,Zo=Q4?"width":"height",Hs=qn(y,{placement:Yi,boundary:It,rootBoundary:R1,altBoundary:D1,padding:Et}),So=Q4?hs?Ne:ye:hs?ut:l1;y2[Zo]>C2[Zo]&&(So=On(So));var u6=On(So),No=[];if(Z&&No.push(Hs[Eo]<=0),Be&&No.push(Hs[So]<=0,Hs[u6]<=0),No.every(function($i){return $i})){Dr=Yi,K2=!1;break}di.set(Yi,No)}if(K2)for(var X4=function(yo){var w4=s2.find(function(T3){var n4=di.get(T3);if(n4)return n4.slice(0,yo).every(function(Ea){return Ea})});if(w4)return Dr=w4,"break"},Da=T2?3:1;Da>0&&"break"!==X4(Da);Da--);y.placement!==Dr&&(y.modifiersData[M]._skip=!0,y.placement=Dr,y.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function dr(f,y,u){return H1(f,cn(y,u))}function Nr(f){var y=ue(f),u=f.offsetWidth,M=f.offsetHeight;return Math.abs(y.width-u)<=1&&(u=y.width),Math.abs(y.height-M)<=1&&(M=y.height),{x:f.offsetLeft,y:f.offsetTop,width:u,height:M}}const Es={name:"preventOverflow",enabled:!0,phase:"main",fn:function Br(f){var y=f.state,u=f.options,M=f.name,L=u.mainAxis,Z=void 0===L||L,Ce=u.altAxis,Be=void 0!==Ce&&Ce,D1=u.tether,F1=void 0===D1||D1,T2=u.tetherOffset,dn=void 0===T2?0:T2,Tn=qn(y,{boundary:u.boundary,rootBoundary:u.rootBoundary,padding:u.padding,altBoundary:u.altBoundary}),e2=mn(y.placement),Pn=j2(y.placement),ri=!Pn,s2=Q2(e2),y2=function bi(f){return"x"===f?"y":"x"}(s2),C2=y.modifiersData.popperOffsets,di=y.rects.reference,K2=y.rects.popper,Dr="function"==typeof dn?dn(Object.assign({},y.rects,{placement:y.placement})):dn,Si="number"==typeof Dr?{mainAxis:Dr,altAxis:Dr}:Object.assign({mainAxis:0,altAxis:0},Dr),Yi=y.modifiersData.offset?y.modifiersData.offset[y.placement]:null,Eo={x:0,y:0};if(C2){if(Z){var hs,Q4="y"===s2?l1:ye,Zo="y"===s2?ut:Ne,Hs="y"===s2?"height":"width",So=C2[s2],u6=So+Tn[Q4],No=So-Tn[Zo],N3=F1?-K2[Hs]/2:0,X4=Pn===u1?di[Hs]:K2[Hs],Da=Pn===u1?-K2[Hs]:-di[Hs],d6=y.elements.arrow,$i=F1&&d6?Nr(d6):{width:0,height:0},yo=y.modifiersData["arrow#persistent"]?y.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},w4=yo[Q4],T3=yo[Zo],n4=dr(0,di[Hs],$i[Hs]),Ea=ri?di[Hs]/2-N3-n4-w4-Si.mainAxis:X4-n4-w4-Si.mainAxis,A3=ri?-di[Hs]/2+N3+n4+T3+Si.mainAxis:Da+n4+T3+Si.mainAxis,W6=y.elements.arrow&&oi(y.elements.arrow),V0=null!=(hs=Yi?.[s2])?hs:0,q6=So+A3-V0,i4=dr(F1?cn(u6,So+Ea-V0-(W6?"y"===s2?W6.clientTop||0:W6.clientLeft||0:0)):u6,So,F1?H1(No,q6):No);C2[s2]=i4,Eo[s2]=i4-So}if(Be){var f6,e3=C2[y2],K6="y"===y2?"height":"width",p6=e3+Tn["x"===s2?l1:ye],H0=e3-Tn["x"===s2?ut:Ne],F0=-1!==[l1,ye].indexOf(e2),B0=null!=(f6=Yi?.[y2])?f6:0,t3=F0?p6:e3-di[K6]-K2[K6]-B0+Si.altAxis,Wo=F0?e3+di[K6]+K2[K6]-B0-Si.altAxis:H0,S4=F1&&F0?function z2(f,y,u){var M=dr(f,y,u);return M>u?u:M}(t3,e3,Wo):dr(F1?t3:p6,e3,F1?Wo:H0);C2[y2]=S4,Eo[y2]=S4-e3}y.modifiersData[M]=Eo}},requiresIfExists:["offset"]},Ye={name:"arrow",enabled:!0,phase:"main",fn:function Ss(f){var y,u=f.state,M=f.name,L=f.options,Z=u.elements.arrow,Ce=u.modifiersData.popperOffsets,Be=mn(u.placement),Fe=Q2(Be),It=[ye,Ne].indexOf(Be)>=0?"height":"width";if(Z&&Ce){var R1=function(y,u){return pi("number"!=typeof(y="function"==typeof y?y(Object.assign({},u.rects,{placement:u.placement})):y)?y:G2(y,wt))}(L.padding,u),D1=Nr(Z),F1="y"===Fe?l1:ye,T2="y"===Fe?ut:Ne,dn=u.rects.reference[It]+u.rects.reference[Fe]-Ce[Fe]-u.rects.popper[It],Tn=Ce[Fe]-u.rects.reference[Fe],e2=oi(Z),Pn=e2?"y"===Fe?e2.clientHeight||0:e2.clientWidth||0:0,C2=Pn/2-D1[It]/2+(dn/2-Tn/2),di=dr(R1[F1],C2,Pn-D1[It]-R1[T2]);u.modifiersData[M]=((y={})[Fe]=di,y.centerOffset=di-C2,y)}},effect:function b2(f){var y=f.state,M=f.options.element,L=void 0===M?"[data-popper-arrow]":M;null!=L&&("string"==typeof L&&!(L=y.elements.popper.querySelector(L))||!U2(y.elements.popper,L)||(y.elements.arrow=L))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xt(f,y,u){void 0===u&&(u=!1);var M=Ze(y),L=Ze(y)&&function xt(f){var y=f.getBoundingClientRect(),u=W1(y.width)/f.offsetWidth||1,M=W1(y.height)/f.offsetHeight||1;return 1!==u||1!==M}(y),Z=n1(y),Ce=ue(f,L,u),Be={scrollLeft:0,scrollTop:0},Fe={x:0,y:0};return(M||!M&&!u)&&(("body"!==An(y)||q1(Z))&&(Be=function Xe(f){return f!==Pe(f)&&Ze(f)?function $e(f){return{scrollLeft:f.scrollLeft,scrollTop:f.scrollTop}}(f):We(f)}(y)),Ze(y)?((Fe=ue(y,!0)).x+=y.clientLeft,Fe.y+=y.clientTop):Z&&(Fe.x=yt(Z))),{x:Ce.left+Be.scrollLeft-Fe.x,y:Ce.top+Be.scrollTop-Fe.y,width:Ce.width,height:Ce.height}}function I1(f){var y=new Map,u=new Set,M=[];function L(Z){u.add(Z.name),[].concat(Z.requires||[],Z.requiresIfExists||[]).forEach(function(Be){if(!u.has(Be)){var Fe=y.get(Be);Fe&&L(Fe)}}),M.push(Z)}return f.forEach(function(Z){y.set(Z.name,Z)}),f.forEach(function(Z){u.has(Z.name)||L(Z)}),M}function Fn(f){var y;return function(){return y||(y=new Promise(function(u){Promise.resolve().then(function(){y=void 0,u(f())})})),y}}var ai={placement:"bottom",modifiers:[],strategy:"absolute"};function ei(){for(var f=arguments.length,y=new Array(f),u=0;u<f;u++)y[u]=arguments[u];return!y.some(function(M){return!(M&&"function"==typeof M.getBoundingClientRect)})}function fr(f){void 0===f&&(f={});var u=f.defaultModifiers,M=void 0===u?[]:u,L=f.defaultOptions,Z=void 0===L?ai:L;return function(Be,Fe,Et){void 0===Et&&(Et=Z);var It={placement:"bottom",orderedModifiers:[],options:Object.assign({},ai,Z),modifiersData:{},elements:{reference:Be,popper:Fe},attributes:{},styles:{}},R1=[],D1=!1,F1={state:It,setOptions:function(e2){var Pn="function"==typeof e2?e2(It.options):e2;dn(),It.options=Object.assign({},Z,It.options,Pn),It.scrollParents={reference:Dt(Be)?S2(Be):Be.contextElement?S2(Be.contextElement):[],popper:S2(Fe)};var ri=function Y1(f){var y=I1(f);return we.reduce(function(u,M){return u.concat(y.filter(function(L){return L.phase===M}))},[])}(function Sn(f){var y=f.reduce(function(u,M){var L=u[M.name];return u[M.name]=L?Object.assign({},L,M,{options:Object.assign({},L.options,M.options),data:Object.assign({},L.data,M.data)}):M,u},{});return Object.keys(y).map(function(u){return y[u]})}([].concat(M,It.options.modifiers)));return It.orderedModifiers=ri.filter(function(Yi){return Yi.enabled}),function T2(){It.orderedModifiers.forEach(function(Tn){var Pn=Tn.options,s2=Tn.effect;if("function"==typeof s2){var y2=s2({state:It,name:Tn.name,instance:F1,options:void 0===Pn?{}:Pn});R1.push(y2||function(){})}})}(),F1.update()},forceUpdate:function(){if(!D1){var e2=It.elements,Pn=e2.reference,ri=e2.popper;if(ei(Pn,ri)){It.rects={reference:Xt(Pn,oi(ri),"fixed"===It.options.strategy),popper:Nr(ri)},It.reset=!1,It.placement=It.options.placement,It.orderedModifiers.forEach(function(Yi){return It.modifiersData[Yi.name]=Object.assign({},Yi.data)});for(var y2=0;y2<It.orderedModifiers.length;y2++)if(!0!==It.reset){var C2=It.orderedModifiers[y2],di=C2.fn,K2=C2.options;"function"==typeof di&&(It=di({state:It,options:void 0===K2?{}:K2,name:C2.name,instance:F1})||It)}else It.reset=!1,y2=-1}}},update:Fn(function(){return new Promise(function(Tn){F1.forceUpdate(),Tn(It)})}),destroy:function(){dn(),D1=!0}};if(!ei(Be,Fe))return F1;function dn(){R1.forEach(function(Tn){return Tn()}),R1=[]}return F1.setOptions(Et).then(function(Tn){!D1&&Et.onFirstUpdate&&Et.onFirstUpdate(Tn)}),F1}}var Hi={passive:!0},mi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mi(f){var y,u=f.popper,M=f.popperRect,L=f.placement,Z=f.variation,Ce=f.offsets,Be=f.position,Fe=f.gpuAcceleration,Et=f.adaptive,It=f.roundOffsets,R1=f.isFixed,D1=Ce.x,F1=void 0===D1?0:D1,T2=Ce.y,dn=void 0===T2?0:T2,Tn="function"==typeof It?It({x:F1,y:dn}):{x:F1,y:dn};F1=Tn.x,dn=Tn.y;var e2=Ce.hasOwnProperty("x"),Pn=Ce.hasOwnProperty("y"),ri=ye,s2=l1,y2=window;if(Et){var C2=oi(u),di="clientHeight",K2="clientWidth";C2===Pe(u)&&"static"!==A1(C2=n1(u)).position&&"absolute"===Be&&(di="scrollHeight",K2="scrollWidth"),(L===l1||(L===ye||L===Ne)&&Z===y1)&&(s2=ut,dn-=(R1&&C2===y2&&y2.visualViewport?y2.visualViewport.height:C2[di])-M.height,dn*=Fe?1:-1),L!==ye&&(L!==l1&&L!==ut||Z!==y1)||(ri=Ne,F1-=(R1&&C2===y2&&y2.visualViewport?y2.visualViewport.width:C2[K2])-M.width,F1*=Fe?1:-1)}var hs,Yi=Object.assign({position:Be},Et&&mi),Eo=!0===It?function ts(f){var u=f.y,L=window.devicePixelRatio||1;return{x:W1(f.x*L)/L||0,y:W1(u*L)/L||0}}({x:F1,y:dn}):{x:F1,y:dn};return F1=Eo.x,dn=Eo.y,Object.assign({},Yi,Fe?((hs={})[s2]=Pn?"0":"",hs[ri]=e2?"0":"",hs.transform=(y2.devicePixelRatio||1)<=1?"translate("+F1+"px, "+dn+"px)":"translate3d("+F1+"px, "+dn+"px, 0)",hs):((y={})[s2]=Pn?dn+"px":"",y[ri]=e2?F1+"px":"",y.transform="",y))}var Fi=fr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ns(f){var y=f.state,u=f.instance,M=f.options,L=M.scroll,Z=void 0===L||L,Ce=M.resize,Be=void 0===Ce||Ce,Fe=Pe(y.elements.popper),Et=[].concat(y.scrollParents.reference,y.scrollParents.popper);return Z&&Et.forEach(function(It){It.addEventListener("scroll",u.update,Hi)}),Be&&Fe.addEventListener("resize",u.update,Hi),function(){Z&&Et.forEach(function(It){It.removeEventListener("scroll",u.update,Hi)}),Be&&Fe.removeEventListener("resize",u.update,Hi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Ci(f){var y=f.state;y.modifiersData[f.name]=X2({reference:y.rects.reference,element:y.rects.popper,strategy:"absolute",placement:y.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Tr(f){var y=f.state,u=f.options,M=u.gpuAcceleration,L=void 0===M||M,Z=u.adaptive,Ce=void 0===Z||Z,Be=u.roundOffsets,Fe=void 0===Be||Be,It={placement:mn(y.placement),variation:j2(y.placement),popper:y.elements.popper,popperRect:y.rects.popper,gpuAcceleration:L,isFixed:"fixed"===y.options.strategy};null!=y.modifiersData.popperOffsets&&(y.styles.popper=Object.assign({},y.styles.popper,Mi(Object.assign({},It,{offsets:y.modifiersData.popperOffsets,position:y.options.strategy,adaptive:Ce,roundOffsets:Fe})))),null!=y.modifiersData.arrow&&(y.styles.arrow=Object.assign({},y.styles.arrow,Mi(Object.assign({},It,{offsets:y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Fe})))),y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-placement":y.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function wi(f){var y=f.state;Object.keys(y.elements).forEach(function(u){var M=y.styles[u]||{},L=y.attributes[u]||{},Z=y.elements[u];!Ze(Z)||!An(Z)||(Object.assign(Z.style,M),Object.keys(L).forEach(function(Ce){var Be=L[Ce];!1===Be?Z.removeAttribute(Ce):Z.setAttribute(Ce,!0===Be?"":Be)}))})},effect:function Ai(f){var y=f.state,u={popper:{position:y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(y.elements.popper.style,u.popper),y.styles=u,y.elements.arrow&&Object.assign(y.elements.arrow.style,u.arrow),function(){Object.keys(y.elements).forEach(function(M){var L=y.elements[M],Z=y.attributes[M]||{},Be=Object.keys(y.styles.hasOwnProperty(M)?y.styles[M]:u[M]).reduce(function(Fe,Et){return Fe[Et]="",Fe},{});!Ze(L)||!An(L)||(Object.assign(L.style,Be),Object.keys(Z).forEach(function(Fe){L.removeAttribute(Fe)}))})}},requires:["computeStyles"]}]});const Ii={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function f2(f){var y=f.state,M=f.name,L=f.options.offset,Z=void 0===L?[0,0]:L,Ce=tn.reduce(function(It,R1){return It[R1]=function Us(f,y,u){var M=mn(f),L=[ye,l1].indexOf(M)>=0?-1:1,Z="function"==typeof u?u(Object.assign({},y,{placement:f})):u,Ce=Z[0],Be=Z[1];return Ce=Ce||0,Be=(Be||0)*L,[ye,Ne].indexOf(M)>=0?{x:Be,y:Ce}:{x:Ce,y:Be}}(R1,y.rects,Z),It},{}),Be=Ce[y.placement],Et=Be.y;null!=y.modifiersData.popperOffsets&&(y.modifiersData.popperOffsets.x+=Be.x,y.modifiersData.popperOffsets.y+=Et),y.modifiersData[M]=Ce}},qi=["*"],w1=["dialog"];function Z2(f){return"string"==typeof f}function Wr(f){return null!=f}function os(f){return(f||document.body).getBoundingClientRect()}const Cr={animation:!0,transitionTimerDelayMs:5},la=()=>{},{transitionTimerDelayMs:L2}=Cr,V1=new Map,W2=(f,y,u,M)=>{let L=M.context||{};const Z=V1.get(y);if(Z)switch(M.runningTransition){case"continue":return Ee.E;case"stop":f.run(()=>Z.transition$.complete()),L=Object.assign(Z.context,L),V1.delete(y)}const Ce=u(y,M.animation,L)||la;if(!M.animation||"none"===window.getComputedStyle(y).transitionProperty)return f.run(()=>Ce()),(0,Ie.of)(void 0).pipe(function ca(f){return y=>new X.y(u=>y.subscribe({next:Ce=>f.run(()=>u.next(Ce)),error:Ce=>f.run(()=>u.error(Ce)),complete:()=>f.run(()=>u.complete())}))}(f));const Be=new Te.x,Fe=new Te.x,Et=Be.pipe(function Pt(...f){return y=>(0,L1.z)(y,(0,Ie.of)(...f))}(!0));V1.set(y,{transition$:Be,complete:()=>{Fe.next(),Fe.complete()},context:L});const It=function rn(f){const{transitionDelay:y,transitionDuration:u}=window.getComputedStyle(f);return 1e3*(parseFloat(y)+parseFloat(u))}(y);return f.runOutsideAngular(()=>{const R1=Je(y,"transitionend").pipe((0,T1.R)(Et),(0,S1.h)(({target:F1})=>F1===y));tt(nt(It+L2).pipe((0,T1.R)(Et)),R1,Fe).pipe((0,T1.R)(Et)).subscribe(()=>{V1.delete(y),f.run(()=>{Ce(),Be.next(),Be.complete()})})}),Be.asObservable()},$n=(f,y,u)=>{let{direction:M,maxHeight:L}=u;const{classList:Z}=f;function Ce(){Z.add("collapse"),"show"===M?Z.add("show"):Z.remove("show")}if(y)return L||(L=function Oo(f){if(typeof navigator>"u")return"0px";const{classList:y}=f,u=y.contains("show");u||y.add("show"),f.style.height="";const M=f.getBoundingClientRect().height+"px";return u||y.remove("show"),M}(f),u.maxHeight=L,f.style.height="show"!==M?L:"0px",Z.remove("collapse"),Z.remove("collapsing"),Z.remove("show"),os(f),Z.add("collapsing")),f.style.height="show"===M?L:"0px",()=>{Ce(),Z.remove("collapsing"),f.style.height=""};Ce()};let t1=(()=>{class f{constructor(){this.animation=Cr.animation}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Ra=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),Os=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),sr=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),N=(()=>{class f{constructor(u){this._ngbConfig=u}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(t1))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),T=(()=>{class f{constructor(u,M,L){this._element=u,this._zone=L,this.collapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=M.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:u}){u.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(u=this.collapsed){this.collapsed=!u,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(u,M){return W2(this._zone,this._element.nativeElement,$n,{animation:M,runningTransition:"stop",context:{direction:u?"hide":"show"}})}_runTransitionWithEvents(u,M){this._runTransition(u,M).subscribe(()=>{u?this.hidden.emit():this.shown.emit()})}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.SBq),l.Y36(N),l.Y36(l.R0b))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[l.TTD]}),f})(),E=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();var ve=(()=>{return(f=ve||(ve={}))[f.Tab=9]="Tab",f[f.Enter=13]="Enter",f[f.Escape=27]="Escape",f[f.Space=32]="Space",f[f.PageUp=33]="PageUp",f[f.PageDown=34]="PageDown",f[f.End=35]="End",f[f.Home=36]="Home",f[f.ArrowLeft=37]="ArrowLeft",f[f.ArrowUp=38]="ArrowUp",f[f.ArrowRight=39]="ArrowRight",f[f.ArrowDown=40]="ArrowDown",ve;var f})();const U1=(f,y)=>!!y&&y.some(u=>u.contains(f)),G1=(f,y)=>!y||null!=function ni(f,y){return!y||typeof f.closest>"u"?null:f.closest(y)}(f,y),Yn=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Mn(f,y,u,M,L,Z,Ce,Be){u&&f.runOutsideAngular((f=>Yn?()=>setTimeout(()=>f(),100):f)(()=>{const Et=Je(y,"keydown").pipe((0,T1.R)(L),(0,S1.h)(D1=>D1.which===ve.Escape),(0,Dn.b)(D1=>D1.preventDefault())),It=Je(y,"mousedown").pipe((0,M1.U)(D1=>{const F1=D1.target;return 2!==D1.button&&!U1(F1,Ce)&&("inside"===u?U1(F1,Z)&&G1(F1,Be):"outside"===u?!U1(F1,Z):G1(F1,Be)||!U1(F1,Z))}),(0,T1.R)(L)),R1=Je(y,"mouseup").pipe(Xn(It),(0,S1.h)(([D1,F1])=>F1),function vn(f,y=s1.z){const u=nt(f,y);return $1(()=>u)}(0),(0,T1.R)(L));tt([Et.pipe((0,M1.U)(D1=>0)),R1.pipe((0,M1.U)(D1=>1))]).subscribe(D1=>f.run(()=>M(D1)))}))}const q2=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ho(f){const y=Array.from(f.querySelectorAll(q2)).filter(u=>-1!==u.tabIndex);return[y[0],y[y.length-1]]}const Ro=/\s+/,wr=/  +/gi,ls=/^start/,Va=/^end/,N0=/-(top|left)$/,T6=/-(bottom|right)$/,A6=/^left/,I6=/^right/,A0=/^start/,Z3=/^end/;function p4({placement:f,baseClass:y}){let u=Array.isArray(f)?f:f.split(Ro),L=u.findIndex(Fe=>"auto"===Fe);L>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Fe){null==u.find(Et=>-1!==Et.search("^"+Fe))&&u.splice(L++,1,Fe)});const Z=u.map(Fe=>function T0(f){return f.replace(ls,"left").replace(Va,"right").replace(N0,"-start").replace(T6,"-end")}(Fe));return{placement:Z.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!y,phase:"write",fn({state:Fe}){const Et=new RegExp(y+"(-[a-z]+)*","gi"),It=Fe.elements.popper,R1=Fe.placement;let D1=It.className;D1=D1.replace(Et,""),D1+=` ${function m3(f,y){let[u,M]=y.split("-");const L=u.replace(A6,"start").replace(I6,"end");let Z=[L];if(M){let Ce=M;("left"===u||"right"===u)&&(Ce=Ce.replace(A0,"top").replace(Z3,"bottom")),Z.push(`${L}-${Ce}`)}return f&&(Z=Z.map(Ce=>`${f}-${Ce}`)),Z.join(" ")}(y,R1)}`,D1=D1.trim().replace(wr," "),It.className=D1}},ur,Es,Ye,{enabled:!0,name:"flip",options:{fallbackPlacements:Z}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Ha(f){return f}function B4(f){return y=>(y.modifiers.push(Ii,{name:"offset",options:{offset:()=>f}}),y)}new Date(1882,10,12),new Date(2174,10,25);let Ga=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez,$t.u5]}),f})(),n6=(()=>{class f{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return f.\u0275fac=function(u){return new(u||f)},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),$a=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275dir=l.lG2({type:f,selectors:[["",8,"navbar"]]}),f})(),Gi=(()=>{class f{constructor(u,M){this.elementRef=u,this._renderer=M,this._disabled=!1}set disabled(u){this._disabled=""===u||!0===u,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.SBq),l.Y36(l.Qsj))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(u,M){2&u&&(l.Ikx("tabIndex",M.disabled?-1:0),l.ekj("disabled",M.disabled))},inputs:{disabled:"disabled"}}),f})(),r2=(()=>{class f{constructor(u,M){this.dropdown=u,this.placement="bottom",this.isOpen=!1,this.nativeElement=M.nativeElement}}return f.\u0275fac=function(u){return new(u||f)(l.Y36((0,l.Gpc)(()=>Vs)),l.Y36(l.SBq))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(u,M,L){if(1&u&&l.Suo(L,Gi,4),2&u){let Z;l.iGM(Z=l.CRH())&&(M.menuItems=Z)}},hostVars:4,hostBindings:function(u,M){1&u&&l.NdJ("keydown.ArrowUp",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.ArrowDown",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Home",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.End",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Enter",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Space",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Tab",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Shift.Tab",function(Z){return M.dropdown.onKeyDown(Z)}),2&u&&l.ekj("dropdown-menu",!0)("show",M.dropdown.isOpen())}}),f})(),Za=(()=>{class f{constructor(u,M){this.dropdown=u,this.nativeElement=M.nativeElement}}return f.\u0275fac=function(u){return new(u||f)(l.Y36((0,l.Gpc)(()=>Vs)),l.Y36(l.SBq))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(u,M){2&u&&l.uIk("aria-expanded",M.dropdown.isOpen())}}),f})(),M3=(()=>{class f extends Za{constructor(u,M){super(u,M)}}return f.\u0275fac=function(u){return new(u||f)(l.Y36((0,l.Gpc)(()=>Vs)),l.Y36(l.SBq))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(u,M){1&u&&l.NdJ("click",function(){return M.dropdown.toggle()})("keydown.ArrowUp",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.ArrowDown",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Home",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.End",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Tab",function(Z){return M.dropdown.onKeyDown(Z)})("keydown.Shift.Tab",function(Z){return M.dropdown.onKeyDown(Z)}),2&u&&l.uIk("aria-expanded",M.dropdown.isOpen())},features:[l._Bn([{provide:Za,useExisting:(0,l.Gpc)(()=>f)}]),l.qOj]}),f})(),Vs=(()=>{class f{constructor(u,M,L,Z,Ce,Be,Fe){this._changeDetector=u,this._document=L,this._ngZone=Z,this._elementRef=Ce,this._renderer=Be,this._destroyCloseHandlers$=new Te.x,this._bodyContainer=null,this._positioning=function x6(){let f=null;return{createPopper(y){if(!f){let M=(y.updatePopperOptions||Ha)(p4(y));f=Fi(y.hostElement,y.targetElement,M)}},update(){f&&f.update()},setOptions(y){if(f){let M=(y.updatePopperOptions||Ha)(p4(y));f.setOptions(M)}},destroy(){f&&(f.destroy(),f=null)}}}(),this._open=!1,this.openChange=new l.vpe,this.placement=M.placement,this.container=M.container,this.autoClose=M.autoClose,this.display=Fe?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,N1.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(u){if(u.container&&this._open&&this._applyContainer(this.container),u.placement&&!u.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),u.dropdownClass){const{currentValue:M,previousValue:L}=u.dropdownClass;this._applyCustomDropdownClass(M,L)}u.autoClose&&this._open&&(this.autoClose=u.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:B4([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Mn(this._ngZone,this._document,this.autoClose,u=>{this.close(),0===u&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(u){const M=u.which,L=this._getMenuElements();let Z=-1,Ce=null;const Be=this._isEventFromToggle(u);if(!Be&&L.length&&L.forEach((Fe,Et)=>{Fe.contains(u.target)&&(Ce=Fe),Fe===this._document.activeElement&&(Z=Et)}),M!==ve.Space&&M!==ve.Enter){if(M!==ve.Tab){if(Be||Ce){if(this.open(),L.length){switch(M){case ve.ArrowDown:Z=Math.min(Z+1,L.length-1);break;case ve.ArrowUp:if(this._isDropup()&&-1===Z){Z=L.length-1;break}Z=Math.max(Z-1,0);break;case ve.Home:Z=0;break;case ve.End:Z=L.length-1}L[Z].focus()}u.preventDefault()}}else if(u.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===u.target)return void("body"!==this.container||u.shiftKey?u.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const Fe=this._menu.nativeElement.querySelectorAll(q2);u.shiftKey&&u.target===Fe[0]?(this._anchor.nativeElement.focus(),u.preventDefault()):!u.shiftKey&&u.target===Fe[Fe.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Je(u.target,"focusout").pipe((0,N1.q)(1)).subscribe(({relatedTarget:Fe})=>{this._elementRef.nativeElement.contains(Fe)||this.close()})}}else Ce&&(!0===this.autoClose||"inside"===this.autoClose)&&Je(Ce,"click").pipe((0,N1.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(u){return this._anchor.nativeElement.contains(u.target)}_getMenuElements(){const u=this._menu;return null==u?[]:u.menuItems.filter(M=>!M.disabled).map(M=>M.elementRef.nativeElement)}_positionMenu(){const u=this._menu;this.isOpen()&&u&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(u){return Array.isArray(u)?u[0]:u.split(" ")[0]}_resetContainer(){const u=this._renderer;this._menu&&u.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(u.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(u=null){if(this._resetContainer(),"body"===u){const M=this._renderer,L=this._menu.nativeElement,Z=this._bodyContainer=this._bodyContainer||M.createElement("div");M.setStyle(Z,"position","absolute"),M.setStyle(L,"position","static"),M.setStyle(Z,"z-index","1055"),M.appendChild(Z,L),M.appendChild(this._document.body,Z)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(u,M){const L="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;L&&(M&&this._renderer.removeClass(L,M),u&&this._renderer.addClass(L,u))}_applyPlacementClasses(u){const M=this._menu;if(M){u||(u=this._getFirstPlacement(this.placement));const L=this._renderer,Z=this._elementRef.nativeElement;L.removeClass(Z,"dropup"),L.removeClass(Z,"dropdown");const{nativeElement:Ce}=M;"static"===this.display?(M.placement=null,L.setAttribute(Ce,"data-bs-popper","static")):(M.placement=u,L.removeAttribute(Ce,"data-bs-popper"));const Be=-1!==u.search("^top")?"dropup":"dropdown";L.addClass(Z,Be);const Fe=this._bodyContainer;Fe&&(L.removeClass(Fe,"dropup"),L.removeClass(Fe,"dropdown"),L.addClass(Fe,Be))}}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.sBO),l.Y36(n6),l.Y36(C.K0),l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36($a,8))},f.\u0275dir=l.lG2({type:f,selectors:[["","ngbDropdown",""]],contentQueries:function(u,M,L){if(1&u&&(l.Suo(L,r2,5),l.Suo(L,Za,5)),2&u){let Z;l.iGM(Z=l.CRH())&&(M._menu=Z.first),l.iGM(Z=l.CRH())&&(M._anchor=Z.first)}},hostVars:2,hostBindings:function(u,M){2&u&&l.ekj("show",M.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[l.TTD]}),f})(),Xr=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();class mo{constructor(y,u,M){this.nodes=y,this.viewRef=u,this.componentRef=M}}let Bo=(()=>{class f{constructor(u,M){this._el=u,this._zone=M}ngOnInit(){this._zone.onStable.asObservable().pipe((0,N1.q)(1)).subscribe(()=>{W2(this._zone,this._el.nativeElement,(u,M)=>{M&&os(u),u.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return W2(this._zone,this._el.nativeElement,({classList:u})=>u.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(l.SBq),l.Y36(l.R0b))},f.\u0275cmp=l.Xpm({type:f,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(u,M){2&u&&(l.Tol("modal-backdrop"+(M.backdropClass?" "+M.backdropClass:"")),l.ekj("show",!M.animation)("fade",M.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(u,M){},encapsulation:2}),f})();class Js{close(y){}dismiss(y){}}class W4{constructor(y,u,M,L){this._windowCmptRef=y,this._contentRef=u,this._backdropCmptRef=M,this._beforeDismiss=L,this._closed=new Te.x,this._dismissed=new Te.x,this._hidden=new Te.x,y.instance.dismissEvent.subscribe(Z=>{this.dismiss(Z)}),this.result=new Promise((Z,Ce)=>{this._resolve=Z,this._reject=Ce}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,T1.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,T1.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(y){this._windowCmptRef&&(this._closed.next(y),this._resolve(y),this._removeModalElements())}_dismiss(y){this._dismissed.next(y),this._reject(y),this._removeModalElements()}dismiss(y){if(this._windowCmptRef)if(this._beforeDismiss){const u=this._beforeDismiss();!function sa(f){return f&&f.then}(u)?!1!==u&&this._dismiss(y):u.then(M=>{!1!==M&&this._dismiss(y)},()=>{})}else this._dismiss(y)}_removeModalElements(){const y=this._windowCmptRef.instance.hide(),u=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ie.of)(void 0);y.subscribe(()=>{const{nativeElement:M}=this._windowCmptRef.location;M.parentNode.removeChild(M),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),u.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:M}=this._backdropCmptRef.location;M.parentNode.removeChild(M),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),B1(y,u).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Uo=(()=>{return(f=Uo||(Uo={}))[f.BACKDROP_CLICK=0]="BACKDROP_CLICK",f[f.ESC=1]="ESC",Uo;var f})();let ro=(()=>{class f{constructor(u,M,L){this._document=u,this._elRef=M,this._zone=L,this._closed$=new Te.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Te.x,this.hidden=new Te.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Z2(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(u){this.dismissEvent.emit(u)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,N1.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:u}=this._elRef,M={animation:this.animation,runningTransition:"stop"},Ce=B1(W2(this._zone,u,()=>u.classList.remove("show"),M),W2(this._zone,this._dialogEl.nativeElement,()=>{},M));return Ce.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ce}_show(){const u={animation:this.animation,runningTransition:"continue"};B1(W2(this._zone,this._elRef.nativeElement,(Z,Ce)=>{Ce&&os(Z),Z.classList.add("show")},u),W2(this._zone,this._dialogEl.nativeElement,()=>{},u)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:u}=this._elRef;this._zone.runOutsideAngular(()=>{Je(u,"keydown").pipe((0,T1.R)(this._closed$),(0,S1.h)(L=>L.which===ve.Escape)).subscribe(L=>{this.keyboard?requestAnimationFrame(()=>{L.defaultPrevented||this._zone.run(()=>this.dismiss(Uo.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let M=!1;Je(this._dialogEl.nativeElement,"mousedown").pipe((0,T1.R)(this._closed$),(0,Dn.b)(()=>M=!1),(0,fn.w)(()=>Je(u,"mouseup").pipe((0,T1.R)(this._closed$),(0,N1.q)(1))),(0,S1.h)(({target:L})=>u===L)).subscribe(()=>{M=!0}),Je(u,"click").pipe((0,T1.R)(this._closed$)).subscribe(({target:L})=>{u===L&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!M&&this._zone.run(()=>this.dismiss(Uo.BACKDROP_CLICK))),M=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:u}=this._elRef;if(!u.contains(document.activeElement)){const M=u.querySelector("[ngbAutofocus]"),L=ho(u)[0];(M||L||u).focus()}}_restoreFocus(){const u=this._document.body,M=this._elWithFocus;let L;L=M&&M.focus&&u.contains(M)?M:u,this._zone.runOutsideAngular(()=>{setTimeout(()=>L.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&W2(this._zone,this._elRef.nativeElement,({classList:u})=>(u.add("modal-static"),()=>u.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return f.\u0275fac=function(u){return new(u||f)(l.Y36(C.K0),l.Y36(l.SBq),l.Y36(l.R0b))},f.\u0275cmp=l.Xpm({type:f,selectors:[["ngb-modal-window"]],viewQuery:function(u,M){if(1&u&&l.Gf(w1,7),2&u){let L;l.iGM(L=l.CRH())&&(M._dialogEl=L.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(u,M){2&u&&(l.uIk("aria-modal",!0)("aria-labelledby",M.ariaLabelledBy)("aria-describedby",M.ariaDescribedBy),l.Tol("modal d-block"+(M.windowClass?" "+M.windowClass:"")),l.ekj("fade",M.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:qi,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(u,M){1&u&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&u&&l.Tol("modal-dialog"+(M.size?" modal-"+M.size:"")+(M.centered?" modal-dialog-centered":"")+M.fullscreenClass+(M.scrollable?" modal-dialog-scrollable":"")+(M.modalDialogClass?" "+M.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),f})(),_a=(()=>{class f{constructor(u){this._document=u}hide(){const u=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),M=this._document.body,L=M.style,{overflow:Z,paddingRight:Ce}=L;if(u>0){const Be=parseFloat(window.getComputedStyle(M).paddingRight);L.paddingRight=`${Be+u}px`}return L.overflow="hidden",()=>{u>0&&(L.paddingRight=Ce),L.overflow=Z}}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(C.K0))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Bn=(()=>{class f{constructor(u,M,L,Z,Ce,Be){this._applicationRef=u,this._injector=M,this._document=L,this._scrollBar=Z,this._rendererFactory=Ce,this._ngZone=Be,this._activeWindowCmptHasChanged=new Te.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Fe=this._windowCmpts[this._windowCmpts.length-1];((f,y,u,M=!1)=>{this._ngZone.runOutsideAngular(()=>{const L=Je(y,"focusin").pipe((0,T1.R)(u),(0,M1.U)(Z=>Z.target));Je(y,"keydown").pipe((0,T1.R)(u),(0,S1.h)(Z=>Z.which===ve.Tab),Xn(L)).subscribe(([Z,Ce])=>{const[Be,Fe]=ho(y);(Ce===Be||Ce===y)&&Z.shiftKey&&(Fe.focus(),Z.preventDefault()),Ce===Fe&&!Z.shiftKey&&(Be.focus(),Z.preventDefault())}),M&&Je(y,"click").pipe((0,T1.R)(u),Xn(L),(0,M1.U)(Z=>Z[1])).subscribe(Z=>Z.focus())})})(0,Fe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Fe.location.nativeElement)}})}_restoreScrollBar(){const u=this._scrollBarRestoreFn;u&&(this._scrollBarRestoreFn=null,u())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(u,M,L){const Z=L.container instanceof HTMLElement?L.container:Wr(L.container)?this._document.querySelector(L.container):this._document.body,Ce=this._rendererFactory.createRenderer(null,null);if(!Z)throw new Error(`The specified modal container "${L.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Be=new Js,Fe=this._getContentRef(L.injector||u,M,Be,L);let Et=!1!==L.backdrop?this._attachBackdrop(Z):void 0,It=this._attachWindowComponent(Z,Fe.nodes),R1=new W4(It,Fe,Et,L.beforeDismiss);return this._registerModalRef(R1),this._registerWindowCmpt(It),R1.hidden.pipe((0,N1.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ce.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Be.close=D1=>{R1.close(D1)},Be.dismiss=D1=>{R1.dismiss(D1)},this._applyWindowOptions(It.instance,L),1===this._modalRefs.length&&Ce.addClass(this._document.body,"modal-open"),Et&&Et.instance&&(this._applyBackdropOptions(Et.instance,L),Et.changeDetectorRef.detectChanges()),It.changeDetectorRef.detectChanges(),R1}get activeInstances(){return this._activeInstances}dismissAll(u){this._modalRefs.forEach(M=>M.dismiss(u))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(u){let M=(0,l.LMc)(Bo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(M.hostView),u.appendChild(M.location.nativeElement),M}_attachWindowComponent(u,M){let L=(0,l.LMc)(ro,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:M});return this._applicationRef.attachView(L.hostView),u.appendChild(L.location.nativeElement),L}_applyWindowOptions(u,M){this._windowAttributes.forEach(L=>{Wr(M[L])&&(u[L]=M[L])})}_applyBackdropOptions(u,M){this._backdropAttributes.forEach(L=>{Wr(M[L])&&(u[L]=M[L])})}_getContentRef(u,M,L,Z){return M?M instanceof l.Rgc?this._createFromTemplateRef(M,L):Z2(M)?this._createFromString(M):this._createFromComponent(u,M,L,Z):new mo([])}_createFromTemplateRef(u,M){const Z=u.createEmbeddedView({$implicit:M,close(Ce){M.close(Ce)},dismiss(Ce){M.dismiss(Ce)}});return this._applicationRef.attachView(Z),new mo([Z.rootNodes],Z)}_createFromString(u){const M=this._document.createTextNode(`${u}`);return new mo([[M]])}_createFromComponent(u,M,L,Z){const Ce=l.zs3.create({providers:[{provide:Js,useValue:L}],parent:u}),Be=(0,l.LMc)(M,{environmentInjector:this._applicationRef.injector,elementInjector:Ce}),Fe=Be.location.nativeElement;return Z.scrollable&&Fe.classList.add("component-host-scrollable"),this._applicationRef.attachView(Be.hostView),new mo([[Fe]],Be.hostView,Be)}_setAriaHidden(u){const M=u.parentElement;M&&u!==this._document.body&&(Array.from(M.children).forEach(L=>{L!==u&&"SCRIPT"!==L.nodeName&&(this._ariaHiddenValues.set(L,L.getAttribute("aria-hidden")),L.setAttribute("aria-hidden","true"))}),this._setAriaHidden(M))}_revertAriaHidden(){this._ariaHiddenValues.forEach((u,M)=>{u?M.setAttribute("aria-hidden",u):M.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(u){const M=()=>{const L=this._modalRefs.indexOf(u);L>-1&&(this._modalRefs.splice(L,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(u),this._activeInstances.emit(this._modalRefs),u.result.then(M,M)}_registerWindowCmpt(u){this._windowCmpts.push(u),this._activeWindowCmptHasChanged.next(),u.onDestroy(()=>{const M=this._windowCmpts.indexOf(u);M>-1&&(this._windowCmpts.splice(M,1),this._activeWindowCmptHasChanged.next())})}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(C.K0),l.LFG(_a),l.LFG(l.FYo),l.LFG(l.R0b))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),H6=(()=>{class f{constructor(u){this._ngbConfig=u,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(t1))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),ba=(()=>{class f{constructor(u,M,L){this._injector=u,this._modalStack=M,this._config=L}open(u,M={}){const L={...this._config,animation:this._config.animation,...M};return this._modalStack.open(this._injector,u,L)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(u){this._modalStack.dismissAll(u)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return f.\u0275fac=function(u){return new(u||f)(l.LFG(l.zs3),l.LFG(Bn),l.LFG(H6))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),jo=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({providers:[ba]}),f})(),Ya=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),w=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),Ki=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),s6=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),D3=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),k0=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),$6=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),Sc=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();new l.OlP("live announcer delay",{providedIn:"root",factory:function c6(){return 100}});let l6=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[C.ez]}),f})(),J4=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({}),f})();const S3=[Ra,Os,sr,E,Ga,Xr,jo,Ya,J4,w,Ki,s6,D3,k0,$6,Sc,l6];let t4=(()=>{class f{}return f.\u0275fac=function(u){return new(u||f)},f.\u0275mod=l.oAB({type:f}),f.\u0275inj=l.cJS({imports:[S3,Ra,Os,sr,E,Ga,Xr,jo,Ya,J4,w,Ki,s6,D3,k0,$6,Sc,l6]}),f})()},259:(r1,Qe,F)=>{F.d(Qe,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.15.0","app")},9260:(r1,Qe,F)=>{F.d(Qe,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(r1,Qe,F)=>{F.r(Qe);var l=F(5861),C=F(3942),X=F(2090),Ee=F(9681),Ie=F(1877),Te=F(655),Se=F(4859);const Je=function pt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Gt=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new X.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new Ie.Yd("@firebase/auth");function s1(w,...h){je.logLevel<=Ie.in.ERROR&&je.error(`Auth (${Ee.SDK_VERSION}): ${w}`,...h)}function at(w,...h){throw Mt(w,...h)}function mt(w,...h){return Mt(w,...h)}function nt(w,h,g){const S=Object.assign(Object.assign({},Gt()),{[h]:g});return new X.LL("auth","Firebase",S).create(h,{appName:w.name})}function Ft(w,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&at(w,"argument-error"),nt(w,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(w,...h){if("string"!=typeof w){const g=h[0],S=[...h.slice(1)];return S[0]&&(S[0].appName=w.name),w._errorFactory.create(g,...S)}return ft.create(w,...h)}function ce(w,h,...g){if(!w)throw Mt(h,...g)}function tt(w){const h="INTERNAL ASSERTION FAILED: "+w;throw s1(h),new Error(h)}function Me(w,h){w||tt(h)}const Le=new Map;function rt(w){Me(w instanceof Function,"Expected a class definition");let h=Le.get(w);return h?(Me(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,Le.set(w,h),h)}function Rt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function v1(){return"http:"===B1()||"https:"===B1()}function B1(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class T1{constructor(h,g){this.shortDelay=h,this.longDelay=g,Me(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,X.uI)()||(0,X.b$)()}get(){return function L1(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(v1()||(0,X.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S1(w,h){Me(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class N1{static initialize(h,g,S){this.fetchImpl=h,g&&(this.headersImpl=g),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},o2=new T1(3e4,6e4);function qt(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function fn(w,h,g,S){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(w,h,g,S,J={}){return Ln(w,J,(0,l.Z)(function*(){let oe={},qe={};S&&("GET"===h?qe=S:oe={body:JSON.stringify(S)});const Tt=(0,X.xO)(Object.assign({key:w.config.apiKey},qe)).slice(1),m1=yield w._getAdditionalHeaders();return m1["Content-Type"]="application/json",w.languageCode&&(m1["X-Firebase-Locale"]=w.languageCode),N1.fetch()(t2(w,w.config.apiHost,g,Tt),Object.assign({method:h,headers:m1,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Ln(w,h,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(w,h,g){w._canInitEmulator=!1;const S=Object.assign(Object.assign({},M1),h);try{const J=new $1(w),oe=yield Promise.race([g(),J.promise]);J.clearNetworkTimeout();const qe=yield oe.json();if("needConfirmation"in qe)throw vn(w,"account-exists-with-different-credential",qe);if(oe.ok&&!("errorMessage"in qe))return qe;{const Tt=oe.ok?qe.errorMessage:qe.error.message,[m1,O1]=Tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m1)throw vn(w,"credential-already-in-use",qe);if("EMAIL_EXISTS"===m1)throw vn(w,"email-already-in-use",qe);if("USER_DISABLED"===m1)throw vn(w,"user-disabled",qe);const gn=S[m1]||m1.toLowerCase().replace(/[_\s]+/g,"-");if(O1)throw nt(w,gn,O1);at(w,gn)}}catch(J){if(J instanceof X.ZR)throw J;at(w,"network-request-failed")}})).apply(this,arguments)}function Xn(w,h,g,S){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(w,h,g,S,J={}){const oe=yield fn(w,h,g,S,J);return"mfaPendingCredential"in oe&&at(w,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function t2(w,h,g,S){const J=`${h}${g}?${S}`;return w.config.emulator?S1(w.config,J):`${w.config.apiScheme}://${J}`}class $1{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,S)=>{this.timer=setTimeout(()=>S(mt(this.auth,"network-request-failed")),o2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(w,h,g){const S={appName:w.name};g.email&&(S.email=g.email),g.phoneNumber&&(S.phoneNumber=g.phoneNumber);const J=mt(w,h,S);return J.customData._tokenResponse=g,J}function $t(){return($t=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function En(w,h){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function mn(w,h){return A2.apply(this,arguments)}function A2(){return(A2=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function J2(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ne(){return(Ne=(0,l.Z)(function*(w,h=!1){const g=(0,X.m9)(w),S=yield g.getIdToken(h),J=ct(S);ce(J&&J.exp&&J.auth_time&&J.iat,g.auth,"internal-error");const oe="object"==typeof J.firebase?J.firebase:void 0,qe=oe?.sign_in_provider;return{claims:J,token:S,authTime:J2(ye(J.auth_time)),issuedAtTime:J2(ye(J.iat)),expirationTime:J2(ye(J.exp)),signInProvider:qe||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function ye(w){return 1e3*Number(w)}function ct(w){const[h,g,S]=w.split(".");if(void 0===h||void 0===g||void 0===S)return s1("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,X.tV)(g);return J?JSON.parse(J):(s1("Failed to decode base64 JWT payload"),null)}catch(J){return s1("Caught error parsing JWT payload as JSON",J?.toString()),null}}function u1(w,h){return y1.apply(this,arguments)}function y1(){return(y1=(0,l.Z)(function*(w,h,g=!1){if(g)return h;try{return yield h}catch(S){throw S instanceof X.ZR&&h1(S)&&w.auth.currentUser===w&&(yield w.auth.signOut()),S}})).apply(this,arguments)}function h1({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Yt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const J=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const S=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),S)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class yn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=J2(this.lastLoginAt),this.creationTime=J2(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function X1(w){return a2.apply(this,arguments)}function a2(){return(a2=(0,l.Z)(function*(w){var h;const g=w.auth,S=yield w.getIdToken(),J=yield u1(w,mn(g,{idToken:S}));ce(J?.users.length,g,"internal-error");const oe=J.users[0];w._notifyReloadListener(oe);const qe=null!==(h=oe.providerUserInfo)&&void 0!==h&&h.length?d1(oe.providerUserInfo):[],Tt=an(w.providerData,qe),gn=!!w.isAnonymous&&!(w.email&&oe.passwordHash||Tt?.length),ln={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:Tt,metadata:new yn(oe.createdAt,oe.lastLoginAt),isAnonymous:gn};Object.assign(w,ln)})).apply(this,arguments)}function Z1(){return(Z1=(0,l.Z)(function*(w){const h=(0,X.m9)(w);yield X1(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function an(w,h){return[...w.filter(S=>!h.some(J=>J.providerId===S.providerId)),...h]}function d1(w){return w.map(h=>{var{providerId:g}=h,S=(0,Te._T)(h,["providerId"]);return{providerId:g,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function e1(){return(e1=(0,l.Z)(function*(w,h){const g=yield Ln(w,{},(0,l.Z)(function*(){const S=(0,X.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:J,apiKey:oe}=w.config,qe=t2(w,J,"/v1/token",`key=${oe}`),Tt=yield w._getAdditionalHeaders();return Tt["Content-Type"]="application/x-www-form-urlencoded",N1.fetch()(qe,{method:"POST",headers:Tt,body:S})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class z1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ce(h.idToken,"internal-error"),ce(typeof h.idToken<"u","internal-error"),ce(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function wt(w){const h=ct(w);return ce(h,"internal-error"),ce(typeof h.exp<"u","internal-error"),ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var S=this;return(0,l.Z)(function*(){return ce(!S.accessToken||S.refreshToken,h,"user-token-expired"),g||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(h,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var S=this;return(0,l.Z)(function*(){const{accessToken:J,refreshToken:oe,expiresIn:qe}=yield function At(w,h){return e1.apply(this,arguments)}(h,g);S.updateTokensAndExpiration(J,oe,Number(qe))})()}updateTokensAndExpiration(h,g,S){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(h,g){const{refreshToken:S,accessToken:J,expirationTime:oe}=g,qe=new z1;return S&&(ce("string"==typeof S,"internal-error",{appName:h}),qe.refreshToken=S),J&&(ce("string"==typeof J,"internal-error",{appName:h}),qe.accessToken=J),oe&&(ce("number"==typeof oe,"internal-error",{appName:h}),qe.expirationTime=oe),qe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new z1,this.toJSON())}_performRefresh(){return tt("not implemented")}}function k1(w,h){ce("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class P1{constructor(h){var{uid:g,auth:S,stsTokenManager:J}=h,oe=(0,Te._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=S,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new yn(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,l.Z)(function*(){const S=yield u1(g,g.stsTokenManager.getToken(g.auth,h));return ce(S,g.auth,"internal-error"),g.accessToken!==S&&(g.accessToken=S,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),S})()}getIdTokenResult(h){return function ut(w){return Ne.apply(this,arguments)}(this,h)}reload(){return function tn(w){return Z1.apply(this,arguments)}(this)}_assign(h){this!==h&&(ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new P1(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var S=this;return(0,l.Z)(function*(){let J=!1;h.idToken&&h.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(h),J=!0),g&&(yield X1(S)),yield S.auth._persistUserIfCurrent(S),J&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var h=this;return(0,l.Z)(function*(){const g=yield h.getIdToken();return yield u1(h,function l2(w,h){return $t.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var S,J,oe,qe,Tt,m1,O1,gn;const ln=null!==(S=g.displayName)&&void 0!==S?S:void 0,Ki=null!==(J=g.email)&&void 0!==J?J:void 0,kr=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,wa=null!==(qe=g.photoURL)&&void 0!==qe?qe:void 0,s6=null!==(Tt=g.tenantId)&&void 0!==Tt?Tt:void 0,Qa=null!==(m1=g._redirectEventId)&&void 0!==m1?m1:void 0,C4=null!==(O1=g.createdAt)&&void 0!==O1?O1:void 0,D3=null!==(gn=g.lastLoginAt)&&void 0!==gn?gn:void 0,{uid:B6,emailVerified:U6,isAnonymous:fs,providerData:j6,stsTokenManager:o6}=g;ce(B6&&o6,h,"internal-error");const $o=z1.fromJSON(this.name,o6);ce("string"==typeof B6,h,"internal-error"),k1(ln,h.name),k1(Ki,h.name),ce("boolean"==typeof U6,h,"internal-error"),ce("boolean"==typeof fs,h,"internal-error"),k1(kr,h.name),k1(wa,h.name),k1(s6,h.name),k1(Qa,h.name),k1(C4,h.name),k1(D3,h.name);const a6=new P1({uid:B6,auth:h,email:Ki,emailVerified:U6,displayName:ln,isAnonymous:fs,photoURL:wa,phoneNumber:kr,tenantId:s6,stsTokenManager:$o,createdAt:C4,lastLoginAt:D3});return j6&&Array.isArray(j6)&&(a6.providerData=j6.map(Xa=>Object.assign({},Xa))),Qa&&(a6._redirectEventId=Qa),a6}static _fromIdTokenResponse(h,g,S=!1){return(0,l.Z)(function*(){const J=new z1;J.updateFromServerResponse(g);const oe=new P1({uid:g.localId,auth:h,stsTokenManager:J,isAnonymous:S});return yield X1(oe),oe})()}}const we=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,S){var J=this;return(0,l.Z)(function*(){J.storage[g]=S})()}_get(g){var S=this;return(0,l.Z)(function*(){const J=S.storage[g];return void 0===J?null:J})()}_remove(g){var S=this;return(0,l.Z)(function*(){delete S.storage[g]})()}_addListener(g,S){}_removeListener(g,S){}}return w.type="NONE",w})();function Pe(w,h,g){return`firebase:${w}:${h}:${g}`}class Dt{constructor(h,g,S){this.persistence=h,this.auth=g,this.userKey=S;const{config:J,name:oe}=this.auth;this.fullUserKey=Pe(this.userKey,J.apiKey,oe),this.fullPersistenceKey=Pe("persistence",J.apiKey,oe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?P1._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,l.Z)(function*(){if(g.persistence===h)return;const S=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,S?g.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,S="authUser"){return(0,l.Z)(function*(){if(!g.length)return new Dt(rt(we),h,S);const J=(yield Promise.all(g.map(function(){var O1=(0,l.Z)(function*(gn){if(yield gn._isAvailable())return gn});return function(gn){return O1.apply(this,arguments)}}()))).filter(O1=>O1);let oe=J[0]||rt(we);const qe=Pe(S,h.config.apiKey,h.name);let Tt=null;for(const O1 of g)try{const gn=yield O1._get(qe);if(gn){const ln=P1._fromJSON(h,gn);O1!==oe&&(Tt=ln),oe=O1;break}}catch{}const m1=J.filter(O1=>O1._shouldAllowMigration);return oe._shouldAllowMigration&&m1.length?(oe=m1[0],Tt&&(yield oe._set(qe,Tt.toJSON())),yield Promise.all(g.map(function(){var O1=(0,l.Z)(function*(gn){if(gn!==oe)try{yield gn._remove(qe)}catch{}});return function(gn){return O1.apply(this,arguments)}}())),new Dt(oe,h,S)):new Dt(oe,h,S)})()}}function Ze(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(cn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(o1(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(De(h))return"Blackberry";if(pe(h))return"Webos";if(n1(h))return"Safari";if((h.includes("chrome/")||H1(h))&&!h.includes("edge/"))return"Chrome";if(W1(h))return"Android";{const S=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function o1(w=(0,X.z$)()){return/firefox\//i.test(w)}function n1(w=(0,X.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function H1(w=(0,X.z$)()){return/crios\//i.test(w)}function cn(w=(0,X.z$)()){return/iemobile/i.test(w)}function W1(w=(0,X.z$)()){return/android/i.test(w)}function De(w=(0,X.z$)()){return/blackberry/i.test(w)}function pe(w=(0,X.z$)()){return/webos/i.test(w)}function ue(w=(0,X.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function A1(w=(0,X.z$)()){return ue(w)||W1(w)||pe(w)||De(w)||/windows phone/i.test(w)||cn(w)}function An(w,h=[]){let g;switch(w){case"Browser":g=Ze((0,X.z$)());break;case"Worker":g=`${Ze((0,X.z$)())}-${w}`;break;default:g=w}const S=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${Ee.SDK_VERSION}/${S}`}class I2{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const S=oe=>new Promise((qe,Tt)=>{try{qe(h(oe))}catch(m1){Tt(m1)}});S.onAbort=g,this.queue.push(S);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===h)return;const S=[];try{for(const J of g.queue)yield J(h),J.onAbort&&S.push(J.onAbort)}catch(J){S.reverse();for(const oe of S)try{oe()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}class q1{constructor(h,g,S){this.app=h,this.heartbeatServiceProvider=g,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S2(this),this.idTokenSubscription=new S2(this),this.beforeStateQueue=new I2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(h,g){var S=this;return g&&(this._popupRedirectResolver=rt(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var J,oe;if(!S._deleted&&(S.persistenceManager=yield Dt.create(S,h),!S._deleted)){if(null!==(J=S._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(g),S.lastNotifiedUid=(null===(oe=S.currentUser)||void 0===oe?void 0:oe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,l.Z)(function*(){var S;const J=yield g.assertedPersistence.getCurrentUser();let oe=J,qe=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Tt=null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId,m1=oe?._redirectEventId,O1=yield g.tryRedirectSignIn(h);(!Tt||Tt===m1)&&O1?.user&&(oe=O1.user,qe=!0)}if(!oe)return g.directlySetCurrentUser(null);if(!oe._redirectEventId){if(qe)try{yield g.beforeStateQueue.runMiddleware(oe)}catch(Tt){oe=J,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Tt))}return oe?g.reloadAndSetCurrentUserOrClear(oe):g.directlySetCurrentUser(null)}return ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===oe._redirectEventId?g.directlySetCurrentUser(oe):g.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(h){var g=this;return(0,l.Z)(function*(){let S=null;try{S=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,l.Z)(function*(){try{yield X1(h)}catch(S){if("auth/network-request-failed"!==S?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Pt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,l.Z)(function*(){const S=h?(0,X.m9)(h):null;return S&&ce(S.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(S&&S._clone(g))})()}_updateCurrentUser(h,g=!1){var S=this;return(0,l.Z)(function*(){if(!S._deleted)return h&&ce(S.tenantId===h.tenantId,S,"tenant-id-mismatch"),g||(yield S.beforeStateQueue.runMiddleware(h)),S.queue((0,l.Z)(function*(){yield S.directlySetCurrentUser(h),S.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(rt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new X.LL("auth","Firebase",h())}onAuthStateChanged(h,g,S){return this.registerStateListener(this.authStateSubscription,h,g,S)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,S){return this.registerStateListener(this.idTokenSubscription,h,g,S)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var S=this;return(0,l.Z)(function*(){const J=yield S.getOrInitRedirectPersistenceManager(g);return null===h?J.removeCurrentUser():J.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const S=h&&rt(h)||g._popupRedirectResolver;ce(S,g,"argument-error"),g.redirectPersistenceManager=yield Dt.create(g,[rt(S._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,l.Z)(function*(){var S,J;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(S=g._currentUser)||void 0===S?void 0:S._redirectEventId)===h?g._currentUser:(null===(J=g.redirectUser)||void 0===J?void 0:J._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,l.Z)(function*(){if(h===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,S,J){if(this._deleted)return()=>{};const oe="function"==typeof g?g:g.next.bind(g),qe=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(qe,this,"internal-error"),qe.then(()=>oe(this.currentUser)),"function"==typeof g?h.addObserver(g,S,J):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var g;const S={"X-Client-Version":h.clientVersion};h.app.options.appId&&(S["X-Firebase-gmpid"]=h.app.options.appId);const J=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return J&&(S["X-Firebase-Client"]=J),S})()}}function Rn(w){return(0,X.m9)(w)}class S2{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,X.ne)(g=>this.observer=g)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function B2(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function oi(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class R2{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return tt("not implemented")}_getIdTokenResponse(h){return tt("not implemented")}_linkToIdToken(h,g){return tt("not implemented")}_getReauthenticationResolver(h){return tt("not implemented")}}function M2(w,h){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:resetPassword",qt(w,h))})).apply(this,arguments)}function Hn(w,h){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function j2(w,h){return Q2.apply(this,arguments)}function Q2(){return(Q2=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:update",qt(w,h))})).apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signInWithPassword",qt(w,h))})).apply(this,arguments)}function pi(w,h){return G2.apply(this,arguments)}function G2(){return(G2=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:sendOobCode",qt(w,h))})).apply(this,arguments)}function qn(w,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(w,h){return pi(w,h)})).apply(this,arguments)}function kn(w,h){return x2.apply(this,arguments)}function x2(){return(x2=(0,l.Z)(function*(w,h){return pi(w,h)})).apply(this,arguments)}function ur(w,h){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(w,h){return pi(w,h)})).apply(this,arguments)}function dr(w,h){return z2.apply(this,arguments)}function z2(){return(z2=(0,l.Z)(function*(w,h){return pi(w,h)})).apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signInWithEmailLink",qt(w,h))})).apply(this,arguments)}function $2(){return($2=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signInWithEmailLink",qt(w,h))})).apply(this,arguments)}class Ss extends R2{constructor(h,g,S,J=null){super("password",S),this._email=h,this._password=g,this._tenantId=J}static _fromEmailAndPassword(h,g){return new Ss(h,g,"password")}static _fromEmailAndCode(h,g,S=null){return new Ss(h,g,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function X2(w,h){return hi.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Nr(w,h){return Br.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:at(h,"internal-error")}})()}_linkToIdToken(h,g){var S=this;return(0,l.Z)(function*(){switch(S.signInMethod){case"password":return Hn(h,{idToken:g,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Es(w,h){return $2.apply(this,arguments)}(h,{idToken:g,email:S._email,oobCode:S._password});default:at(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function b2(w,h){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signInWithIdp",qt(w,h))})).apply(this,arguments)}class Xe extends R2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Xe(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):at("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:S,signInMethod:J}=g,oe=(0,Te._T)(g,["providerId","signInMethod"]);if(!S||!J)return null;const qe=new Xe(S,J);return qe.idToken=oe.idToken||void 0,qe.accessToken=oe.accessToken||void 0,qe.secret=oe.secret,qe.nonce=oe.nonce,qe.pendingToken=oe.pendingToken||null,qe}_getIdTokenResponse(h){return b2(h,this.buildRequest())}_linkToIdToken(h,g){const S=this.buildRequest();return S.idToken=g,b2(h,S)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,b2(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,X.xO)(g)}return h}}function xt(w,h){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:sendVerificationCode",qt(w,h))})).apply(this,arguments)}function Y1(){return(Y1=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signInWithPhoneNumber",qt(w,h))})).apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(w,h){const g=yield Xn(w,"POST","/v1/accounts:signInWithPhoneNumber",qt(w,h));if(g.temporaryProof)throw vn(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Zi={USER_NOT_FOUND:"user-not-found"};function ai(){return(ai=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signInWithPhoneNumber",qt(w,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Zi)})).apply(this,arguments)}class ei extends R2{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new ei({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new ei({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function I1(w,h){return Y1.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Fn(w,h){return Sn.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function er(w,h){return ai.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:S,verificationCode:J}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:S,code:J}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:S,phoneNumber:J,temporaryProof:oe}=h;return S||g||J||oe?new ei({verificationId:g,verificationCode:S,phoneNumber:J,temporaryProof:oe}):null}}class Hi{constructor(h){var g,S,J,oe,qe,Tt;const m1=(0,X.zd)((0,X.pd)(h)),O1=null!==(g=m1.apiKey)&&void 0!==g?g:null,gn=null!==(S=m1.oobCode)&&void 0!==S?S:null,ln=function fr(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=m1.mode)&&void 0!==J?J:null);ce(O1&&gn&&ln,"argument-error"),this.apiKey=O1,this.operation=ln,this.code=gn,this.continueUrl=null!==(oe=m1.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(qe=m1.languageCode)&&void 0!==qe?qe:null,this.tenantId=null!==(Tt=m1.tenantId)&&void 0!==Tt?Tt:null}static parseLink(h){const g=function ps(w){const h=(0,X.zd)((0,X.pd)(w)).link,g=h?(0,X.zd)((0,X.pd)(h)).deep_link_id:null,S=(0,X.zd)((0,X.pd)(w)).deep_link_id;return(S?(0,X.zd)((0,X.pd)(S)).link:null)||S||g||h||w}(h);try{return new Hi(g)}catch{return null}}}let Ti=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,S){return Ss._fromEmailAndPassword(g,S)}static credentialWithLink(g,S){const J=Hi.parseLink(S);return ce(J,"argument-error"),Ss._fromEmailAndCode(g,J.code,J.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ci{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Wi extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class mi extends Wi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ce("providerId"in g&&"signInMethod"in g,"argument-error"),Xe._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ce(h.idToken||h.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return mi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return mi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:S,oauthTokenSecret:J,pendingToken:oe,nonce:qe,providerId:Tt}=h;if(!S&&!J&&!g&&!oe||!Tt)return null;try{return new mi(Tt)._credential({idToken:g,accessToken:S,nonce:qe,pendingToken:oe})}catch{return null}}}let ts=(()=>{class w extends Wi{constructor(){super("facebook.com")}static credential(g){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Mi=(()=>{class w extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,S){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:S})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:S,oauthAccessToken:J}=g;if(!S&&!J)return null;try{return w.credential(S,J)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Tr=(()=>{class w extends Wi{constructor(){super("github.com")}static credential(g){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class wi extends R2{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return b2(h,this.buildRequest())}_linkToIdToken(h,g){const S=this.buildRequest();return S.idToken=g,b2(h,S)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,b2(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:S,signInMethod:J,pendingToken:oe}=g;return S&&J&&oe&&S===J?new wi(S,oe):null}static _create(h,g){return new wi(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Di extends Ci{constructor(h){ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Di.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Di.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=wi.fromJSON(h);return ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:S}=h;if(!g||!S)return null;try{return wi._create(S,g)}catch{return null}}}let gi=(()=>{class w extends Wi{constructor(){super("twitter.com")}static credential(g,S){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:S})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:S,oauthTokenSecret:J}=g;if(!S||!J)return null;try{return w.credential(S,J)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Fi(w,h){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signUp",qt(w,h))})).apply(this,arguments)}class f2{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,S,J=!1){return(0,l.Z)(function*(){const oe=yield P1._fromIdTokenResponse(h,S,J),qe=Ii(S);return new f2({user:oe,providerId:qe,_tokenResponse:S,operationType:g})})()}static _forOperation(h,g,S){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(S,!0);const J=Ii(S);return new f2({user:h,providerId:J,_tokenResponse:S,operationType:g})})()}}function Ii(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function h2(){return(h2=(0,l.Z)(function*(w){var h;const g=Rn(w);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new f2({user:g.currentUser,providerId:null,operationType:"signIn"});const S=yield Fi(g,{returnSecureToken:!0}),J=yield f2._fromIdTokenResponse(g,"signIn",S,!0);return yield g._updateCurrentUser(J.user),J})).apply(this,arguments)}class hr extends X.ZR{constructor(h,g,S,J){var oe;super(g.code,g.message),this.operationType=S,this.user=J,Object.setPrototypeOf(this,hr.prototype),this.customData={appName:h.name,tenantId:null!==(oe=h.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(h,g,S,J){return new hr(h,g,S,J)}}function n2(w,h,g,S){return("reauthenticate"===h?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?hr._fromErrorAndOperation(w,oe,h,S):oe})}function ti(w){return new Set(w.map(({providerId:h})=>h).filter(h=>!!h))}function xi(){return(xi=(0,l.Z)(function*(w,h){const g=(0,X.m9)(w);yield In(!0,g,h);const{providerUserInfo:S}=yield En(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),J=ti(S||[]);return g.providerData=g.providerData.filter(oe=>J.has(oe.providerId)),J.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ms(w,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(w,h,g=!1){const S=yield u1(w,h._linkToIdToken(w.auth,yield w.getIdToken()),g);return f2._forOperation(w,"link",S)})).apply(this,arguments)}function In(w,h,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(w,h,g){yield X1(h);const J=!1===w?"provider-already-linked":"no-such-provider";ce(ti(h.providerData).has(g)===w,h.auth,J)})).apply(this,arguments)}function Gr(w,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(w,h,g=!1){const{auth:S}=w,J="reauthenticate";try{const oe=yield u1(w,n2(S,J,h,w),g);ce(oe.idToken,S,"internal-error");const qe=ct(oe.idToken);ce(qe,S,"internal-error");const{sub:Tt}=qe;return ce(w.uid===Tt,S,"user-mismatch"),f2._forOperation(w,J,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&at(S,"user-mismatch"),oe}})).apply(this,arguments)}function N2(w,h){return w2.apply(this,arguments)}function w2(){return(w2=(0,l.Z)(function*(w,h,g=!1){const S="signIn",J=yield n2(w,S,h),oe=yield f2._fromIdTokenResponse(w,S,J);return g||(yield w._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function p2(w,h){return K1.apply(this,arguments)}function K1(){return(K1=(0,l.Z)(function*(w,h){return N2(Rn(w),h)})).apply(this,arguments)}function Ar(w,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(w,h){const g=(0,X.m9)(w);return yield In(!1,g,h.providerId),ms(g,h)})).apply(this,arguments)}function $r(w,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(w,h){return Gr((0,X.m9)(w),h)})).apply(this,arguments)}function gs(w,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(w,h){return Xn(w,"POST","/v1/accounts:signInWithCustomToken",qt(w,h))})).apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(w,h){const g=Rn(w),S=yield gs(g,{token:h,returnSecureToken:!0}),J=yield f2._fromIdTokenResponse(g,"signIn",S);return yield g._updateCurrentUser(J.user),J})).apply(this,arguments)}class kt{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Cn._fromServerResponse(h,g):at(h,"internal-error")}}class Cn extends kt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Cn(g)}}function mr(w,h,g){var S;ce((null===(S=g.url)||void 0===S?void 0:S.length)>0,w,"invalid-continue-uri"),ce(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ce(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ce(g.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function D2(){return(D2=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w),J={requestType:"PASSWORD_RESET",email:h};g&&mr(S,J,g),yield kn(S,J)})).apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(w,h,g){yield M2((0,X.m9)(w),{oobCode:h,newPassword:g})})).apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(w,h){yield j2((0,X.m9)(w),{oobCode:h})})).apply(this,arguments)}function Lr(w,h){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(w,h){const g=(0,X.m9)(w),S=yield M2(g,{oobCode:h}),J=S.requestType;switch(ce(J,g,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(S.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(S.mfaInfo,g,"internal-error");default:ce(S.email,g,"internal-error")}let oe=null;return S.mfaInfo&&(oe=kt._fromServerResponse(Rn(g),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:oe},operation:J}})).apply(this,arguments)}function $(){return($=(0,l.Z)(function*(w,h){const{data:g}=yield Lr((0,X.m9)(w),h);return g.email})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(w,h,g){const S=Rn(w),J=yield Fi(S,{returnSecureToken:!0,email:h,password:g}),oe=yield f2._fromIdTokenResponse(S,"signIn",J);return yield S._updateCurrentUser(oe.user),oe})).apply(this,arguments)}function w1(){return(w1=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w),J={requestType:"EMAIL_SIGNIN",email:h};ce(g.handleCodeInApp,S,"argument-error"),g&&mr(S,J,g),yield ur(S,J)})).apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w),J=Ti.credentialWithLink(h,g||Rt());return ce(J._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),p2(S,J)})).apply(this,arguments)}function vs(w,h){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:createAuthUri",qt(w,h))})).apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(w,h){const S={identifier:h,continueUri:v1()?Rt():"http://localhost"},{signinMethods:J}=yield vs((0,X.m9)(w),S);return J||[]})).apply(this,arguments)}function re(){return(re=(0,l.Z)(function*(w,h){const g=(0,X.m9)(w),J={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};h&&mr(g.auth,J,h);const{email:oe}=yield qn(g.auth,J);oe!==w.email&&(yield w.reload())})).apply(this,arguments)}function _e(){return(_e=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:h};g&&mr(S.auth,oe,g);const{email:qe}=yield dr(S.auth,oe);qe!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ke(w,h){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(w,h){return fn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function zt(){return(zt=(0,l.Z)(function*(w,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const S=(0,X.m9)(w),oe={idToken:yield S.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},qe=yield u1(S,Ke(S.auth,oe));S.displayName=qe.displayName||null,S.photoURL=qe.photoUrl||null;const Tt=S.providerData.find(({providerId:m1})=>"password"===m1);Tt&&(Tt.displayName=S.displayName,Tt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(qe)})).apply(this,arguments)}function k(w,h,g){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(w,h,g){const{auth:S}=w,oe={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(oe.email=h),g&&(oe.password=g);const qe=yield u1(w,Hn(S,oe));yield w._updateTokensIfNecessary(qe,!0)})).apply(this,arguments)}class it{constructor(h,g,S={}){this.isNewUser=h,this.providerId=g,this.profile=S}}class vt extends it{constructor(h,g,S,J){super(h,g,S),this.username=J}}class a1 extends it{constructor(h,g){super(h,"facebook.com",g)}}class nn extends vt{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class hn extends it{constructor(h,g){super(h,"google.com",g)}}class _n extends vt{constructor(h,g,S){super(h,"twitter.com",g,S)}}function pn(w){const{user:h,_tokenResponse:g}=w;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function be(w){var h,g;if(!w)return null;const{providerId:S}=w,J=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},oe=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!S&&w?.idToken){const qe=null===(g=null===(h=ct(w.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(qe)return new it(oe,"anonymous"!==qe&&"custom"!==qe?qe:null)}if(!S)return null;switch(S){case"facebook.com":return new a1(oe,J);case"github.com":return new nn(oe,J);case"google.com":return new hn(oe,J);case"twitter.com":return new _n(oe,J,w.screenName||null);case"custom":case"anonymous":return new it(oe,null);default:return new it(oe,S,J)}}(g)}class xs{constructor(h,g,S){this.type=h,this.credential=g,this.auth=S}static _fromIdtoken(h,g){return new xs("enroll",h,g)}static _fromMfaPendingCredential(h){return new xs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,S;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return xs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(S=h.multiFactorSession)&&void 0!==S&&S.idToken)return xs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Co{constructor(h,g,S){this.session=h,this.hints=g,this.signInResolver=S}static _fromError(h,g){const S=Rn(h),J=g.customData._serverResponse,oe=(J.mfaInfo||[]).map(Tt=>kt._fromServerResponse(S,Tt));ce(J.mfaPendingCredential,S,"internal-error");const qe=xs._fromMfaPendingCredential(J.mfaPendingCredential);return new Co(qe,oe,function(){var Tt=(0,l.Z)(function*(m1){const O1=yield m1._process(S,qe);delete J.mfaInfo,delete J.mfaPendingCredential;const gn=Object.assign(Object.assign({},J),{idToken:O1.idToken,refreshToken:O1.refreshToken});switch(g.operationType){case"signIn":const ln=yield f2._fromIdTokenResponse(S,g.operationType,gn);return yield S._updateCurrentUser(ln.user),ln;case"reauthenticate":return ce(g.user,S,"internal-error"),f2._forOperation(g.user,g.operationType,gn);default:at(S,"internal-error")}});return function(m1){return Tt.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,l.Z)(function*(){return g.signInResolver(h)})()}}function na(w,h){return fn(w,"POST","/v2/accounts/mfaEnrollment:start",qt(w,h))}class d4{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(S=>kt._fromServerResponse(h.auth,S)))})}static _fromUser(h){return new d4(h)}getSession(){var h=this;return(0,l.Z)(function*(){return xs._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var S=this;return(0,l.Z)(function*(){const J=h,oe=yield S.getSession(),qe=yield u1(S.user,J._process(S.user.auth,oe,g));return yield S.user._updateTokensIfNecessary(qe),S.user.reload()})()}unenroll(h){var g=this;return(0,l.Z)(function*(){const S="string"==typeof h?h:h.uid,J=yield g.user.getIdToken(),oe=yield u1(g.user,function xa(w,h){return fn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(w,h))}(g.user.auth,{idToken:J,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:qe})=>qe!==S),yield g.user._updateTokensIfNecessary(oe);try{yield g.user.reload()}catch(qe){if("auth/user-token-expired"!==qe?.code)throw qe}})()}}const ia=new WeakMap,oo="__sak";class zo{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(oo,"1"),this.storage.removeItem(oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ss=(()=>{class w extends zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,S)=>this.onStorageEvent(g,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function za(){const w=(0,X.z$)();return n1(w)||ue(w)}()&&function J1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const S of Object.keys(this.listeners)){const J=this.storage.getItem(S),oe=this.localCache[S];J!==oe&&g(S,oe,J)}}onStorageEvent(g,S=!1){if(!g.key)return void this.forAllChangedKeys((Tt,m1,O1)=>{this.notifyListeners(Tt,O1)});const J=g.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Tt=this.storage.getItem(J);if(g.newValue!==Tt)null!==g.newValue?this.storage.setItem(J,g.newValue):this.storage.removeItem(J);else if(this.localCache[J]===g.newValue&&!S)return}const oe=()=>{const Tt=this.storage.getItem(J);!S&&this.localCache[J]===Tt||this.notifyListeners(J,Tt)},qe=this.storage.getItem(J);!function Qt(){return(0,X.w1)()&&10===document.documentMode}()||qe===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,S){this.localCache[g]=S;const J=this.listeners[g];if(J)for(const oe of Array.from(J))oe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,S,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:S,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(S)}_removeListener(g,S){this.listeners[g]&&(this.listeners[g].delete(S),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,S){var J=()=>super._set,oe=this;return(0,l.Z)(function*(){yield J().call(oe,g,S),oe.localCache[g]=JSON.stringify(S)})()}_get(g){var S=()=>super._get,J=this;return(0,l.Z)(function*(){const oe=yield S().call(J,g);return J.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var S=()=>super._remove,J=this;return(0,l.Z)(function*(){yield S().call(J,g),delete J.localCache[g]})()}}return w.type="LOCAL",w})(),zs=(()=>{class w extends zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,S){}_removeListener(g,S){}}return w.type="SESSION",w})();let Ei=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const S=this.receivers.find(oe=>oe.isListeningto(g));if(S)return S;const J=new w(g);return this.receivers.push(J),J}isListeningto(g){return this.eventTarget===g}handleEvent(g){var S=this;return(0,l.Z)(function*(){const J=g,{eventId:oe,eventType:qe,data:Tt}=J.data,m1=S.handlersMap[qe];if(!m1?.size)return;J.ports[0].postMessage({status:"ack",eventId:oe,eventType:qe});const O1=Array.from(m1).map(function(){var ln=(0,l.Z)(function*(Ki){return Ki(J.origin,Tt)});return function(Ki){return ln.apply(this,arguments)}}()),gn=yield function Kt(w){return Promise.all(w.map(function(){var h=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(S){return{fulfilled:!1,reason:S}}});return function(g){return h.apply(this,arguments)}}()))}(O1);J.ports[0].postMessage({status:"done",eventId:oe,eventType:qe,response:gn})})()}_subscribe(g,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(S)}_unsubscribe(g,S){this.handlersMap[g]&&S&&this.handlersMap[g].delete(S),(!S||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ys(w="",h=10){let g="";for(let S=0;S<h;S++)g+=Math.floor(10*Math.random());return w+g}class Lo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,S=50){var J=this;return(0,l.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let qe,Tt;return new Promise((m1,O1)=>{const gn=ys("",20);oe.port1.start();const ln=setTimeout(()=>{O1(new Error("unsupported_event"))},S);Tt={messageChannel:oe,onMessage(Ki){const kr=Ki;if(kr.data.eventId===gn)switch(kr.data.status){case"ack":clearTimeout(ln),qe=setTimeout(()=>{O1(new Error("timeout"))},3e3);break;case"done":clearTimeout(qe),m1(kr.data.response);break;default:clearTimeout(ln),clearTimeout(qe),O1(new Error("invalid_response"))}}},J.handlers.add(Tt),oe.port1.addEventListener("message",Tt.onMessage),J.target.postMessage({eventType:h,eventId:gn,data:g},[oe.port2])}).finally(()=>{Tt&&J.removeMessageHandler(Tt)})})()}}function f1(){return window}function ra(){return typeof f1().WorkerGlobalScope<"u"&&"function"==typeof f1().importScripts}function bt(){return(bt=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Li="firebaseLocalStorageDb",Wr="firebaseLocalStorage",sa="fbase_key";class ao{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function oa(w,h){return w.transaction([Wr],h?"readwrite":"readonly").objectStore(Wr)}function ni(){const w=indexedDB.open(Li,1);return new Promise((h,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const S=w.result;try{S.createObjectStore(Wr,{keyPath:sa})}catch(J){g(J)}}),w.addEventListener("success",(0,l.Z)(function*(){const S=w.result;S.objectStoreNames.contains(Wr)?h(S):(S.close(),yield function aa(){const w=indexedDB.deleteDatabase(Li);return new ao(w).toPromise()}(),h(yield ni()))}))})}function os(w,h,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(w,h,g){const S=oa(w,!0).put({[sa]:h,value:g});return new ao(S).toPromise()})).apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(w,h){const g=oa(w,!1).get(h),S=yield new ao(g).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Cr(w,h){const g=oa(w,!0).delete(h);return new ao(g).toPromise()}const W2=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield ni()),g.db})()}_withRetries(g){var S=this;return(0,l.Z)(function*(){let J=0;for(;;)try{const oe=yield S._openDb();return yield g(oe)}catch(oe){if(J++>3)throw oe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return ra()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=Ei._getInstance(function Z2(){return ra()?self:null}()),g.receiver._subscribe("keyChanged",function(){var S=(0,l.Z)(function*(J,oe){return{keyProcessed:(yield g._poll()).includes(oe.key)}});return function(J,oe){return S.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var S=(0,l.Z)(function*(J,oe){return["keyChanged"]});return function(J,oe){return S.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var S,J;if(g.activeServiceWorker=yield function c1(){return bt.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Lo(g.activeServiceWorker);const oe=yield g.sender._send("ping",{},800);!oe||(null===(S=oe[0])||void 0===S?void 0:S.fulfilled)&&(null===(J=oe[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var S=this;return(0,l.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function Bt(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:g},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ni();return yield os(g,oo,"1"),yield Cr(g,oo),!0}catch{}return!1})()}_withPendingWrite(g){var S=this;return(0,l.Z)(function*(){S.pendingWrites++;try{yield g()}finally{S.pendingWrites--}})()}_set(g,S){var J=this;return(0,l.Z)(function*(){return J._withPendingWrite((0,l.Z)(function*(){return yield J._withRetries(oe=>os(oe,g,S)),J.localCache[g]=S,J.notifyServiceWorker(g)}))})()}_get(g){var S=this;return(0,l.Z)(function*(){const J=yield S._withRetries(oe=>function co(w,h){return rn.apply(this,arguments)}(oe,g));return S.localCache[g]=J,J})()}_remove(g){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(J=>Cr(J,g)),delete S.localCache[g],S.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const S=yield g._withRetries(qe=>{const Tt=oa(qe,!1).getAll();return new ao(Tt).toPromise()});if(!S)return[];if(0!==g.pendingWrites)return[];const J=[],oe=new Set;for(const{fbase_key:qe,value:Tt}of S)oe.add(qe),JSON.stringify(g.localCache[qe])!==JSON.stringify(Tt)&&(g.notifyListeners(qe,Tt),J.push(qe));for(const qe of Object.keys(g.localCache))g.localCache[qe]&&!oe.has(qe)&&(g.notifyListeners(qe,null),J.push(qe));return J})()}notifyListeners(g,S){this.localCache[g]=S;const J=this.listeners[g];if(J)for(const oe of Array.from(J))oe(S)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(S)}_removeListener(g,S){this.listeners[g]&&(this.listeners[g].delete(S),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Gn(w,h){return fn(w,"POST","/v2/accounts/mfaSignIn:start",qt(w,h))}function t1(){return(t1=(0,l.Z)(function*(w){return(yield fn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $s(w){return new Promise((h,g)=>{const S=document.createElement("script");S.setAttribute("src",w),S.onload=h,S.onerror=J=>{const oe=mt("internal-error");oe.customData=J,g(oe)},S.type="text/javascript",S.charset="UTF-8",function Gs(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(S)})}function Bi(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Zs=1e12;class g2{constructor(h){this.auth=h,this.counter=Zs,this._widgets=new Map}render(h,g){const S=this.counter;return this._widgets.set(S,new ua(h,this.auth.name,g||{})),this.counter++,S}reset(h){var g;const S=h||Zs;null===(g=this._widgets.get(S))||void 0===g||g.delete(),this._widgets.delete(S)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Zs))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,l.Z)(function*(){var S;return null===(S=g._widgets.get(h||Zs))||void 0===S||S.execute(),""})()}}class ua{constructor(h,g,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof h?document.getElementById(h):h;ce(J,"argument-error",{appName:g}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function f4(w){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<w;S++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const as=Bi("rcb"),Ra=new T1(3e4,6e4);class h4{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=f1().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return ce(function da(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(f1().grecaptcha):new Promise((S,J)=>{const oe=f1().setTimeout(()=>{J(mt(h,"network-request-failed"))},Ra.get());f1()[as]=()=>{f1().clearTimeout(oe),delete f1()[as];const Tt=f1().grecaptcha;if(!Tt)return void J(mt(h,"internal-error"));const m1=Tt.render;Tt.render=(O1,gn)=>{const ln=m1(O1,gn);return this.counter++,ln},this.hostLanguage=g,S(Tt)},$s(`https://www.google.com/recaptcha/api.js??${(0,X.xO)({onload:as,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(oe),J(mt(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=f1().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Os{load(h){return(0,l.Z)(function*(){return new g2(h)})()}clearedOneInstance(){}}const gt="recaptcha",fa={theme:"light",type:"image"};class u2{constructor(h,g=Object.assign({},fa),S){this.parameters=g,this.type=gt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(S),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof h?document.getElementById(h):h;ce(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Os:new h4,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),S=h.getAssertedRecaptcha();return S.getResponse(g)||new Promise(oe=>{const qe=Tt=>{!Tt||(h.tokenChangeListeners.delete(qe),oe(Tt))};h.tokenChangeListeners.add(qe),h.isInvisible&&S.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(S=>S(g)),"function"==typeof h)h(g);else if("string"==typeof h){const S=f1()[h];"function"==typeof S&&S(g)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const S=document.createElement("div");g.appendChild(S),g=S}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){ce(v1()&&!ra(),h.auth,"internal-error"),yield function Mo(){let w=null;return new Promise(h=>{"complete"!==document.readyState?(w=()=>h(),window.addEventListener("load",w)):h()}).catch(h=>{throw w&&window.removeEventListener("load",w),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function $n(w){return t1.apply(this,arguments)}(h.auth);ce(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rs{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=ei._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function ha(){return(ha=(0,l.Z)(function*(w,h,g){const S=Rn(w),J=yield lo(S,h,(0,X.m9)(g));return new Rs(J,oe=>p2(S,oe))})).apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w);yield In(!1,S,"phone");const J=yield lo(S.auth,h,(0,X.m9)(g));return new Rs(J,oe=>Ar(S,oe))})).apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w),J=yield lo(S.auth,h,(0,X.m9)(g));return new Rs(J,oe=>$r(S,oe))})).apply(this,arguments)}function lo(w,h,g){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(w,h,g){var S;const J=yield g.verify();try{let oe;if(ce("string"==typeof J,w,"argument-error"),ce(g.type===gt,w,"argument-error"),oe="string"==typeof h?{phoneNumber:h}:h,"session"in oe){const qe=oe.session;if("phoneNumber"in oe)return ce("enroll"===qe.type,w,"internal-error"),(yield na(w,{idToken:qe.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{ce("signin"===qe.type,w,"internal-error");const Tt=(null===(S=oe.multiFactorHint)||void 0===S?void 0:S.uid)||oe.multiFactorUid;return ce(Tt,w,"missing-multi-factor-info"),(yield Gn(w,{mfaPendingCredential:qe.credential,mfaEnrollmentId:Tt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:qe}=yield xt(w,{phoneNumber:oe.phoneNumber,recaptchaToken:J});return qe}}finally{g._reset()}})).apply(this,arguments)}function T(){return(T=(0,l.Z)(function*(w,h){yield ms((0,X.m9)(w),h)})).apply(this,arguments)}let E=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=Rn(g)}verifyPhoneNumber(g,S){return lo(this.auth,g,(0,X.m9)(S))}static credential(g,S){return ei._fromVerification(g,S)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:S,temporaryProof:J}=g;return S&&J?ei._fromTokenResponse(S,J):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function O(w,h){return h?rt(h):(ce(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class U extends R2{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return b2(h,this._buildIdpRequest())}_linkToIdToken(h,g){return b2(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return b2(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function te(w){return N2(w.auth,new U(w),w.bypassAuthState)}function ge(w){const{auth:h,user:g}=w;return ce(g,h,"internal-error"),Gr(g,new U(w),w.bypassAuthState)}function Ae(w){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(w){const{auth:h,user:g}=w;return ce(g,h,"internal-error"),ms(g,new U(w),w.bypassAuthState)})).apply(this,arguments)}class Zt{constructor(h,g,S,J,oe=!1){this.auth=h,this.resolver=S,this.user=J,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,l.Z)(function*(S,J){h.pendingPromise={resolve:S,reject:J};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(oe){h.reject(oe)}});return function(S,J){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,l.Z)(function*(){const{urlResponse:S,sessionId:J,postBody:oe,tenantId:qe,error:Tt,type:m1}=h;if(Tt)return void g.reject(Tt);const O1={auth:g.auth,requestUri:S,sessionId:J,tenantId:qe||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(m1)(O1))}catch(gn){g.reject(gn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return te;case"linkViaPopup":case"linkViaRedirect":return Ae;case"reauthViaPopup":case"reauthViaRedirect":return ge;default:at(this.auth,"internal-error")}}resolve(h){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xn=new T1(2e3,1e4);function sn(){return(sn=(0,l.Z)(function*(w,h,g){const S=Rn(w);Ft(w,h,Ci);const J=O(S,g);return new Yr(S,"signInViaPopup",h,J).executeNotNull()})).apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w);Ft(S.auth,h,Ci);const J=O(S.auth,g);return new Yr(S.auth,"reauthViaPopup",h,J,S).executeNotNull()})).apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w);Ft(S.auth,h,Ci);const J=O(S.auth,g);return new Yr(S.auth,"linkViaPopup",h,J,S).executeNotNull()})).apply(this,arguments)}let Yr=(()=>{class w extends Zt{constructor(g,S,J,oe,qe){super(g,S,oe,qe),this.provider=J,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const S=yield g.execute();return ce(S,g.auth,"internal-error"),S})()}onExecution(){var g=this;return(0,l.Z)(function*(){Me(1===g.filter.length,"Popup operations only handle one event");const S=ys();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],S),g.authWindow.associatedEvent=S,g.resolver._originValidation(g.auth).catch(J=>{g.reject(J)}),g.resolver._isIframeWebStorageSupported(g.auth,J=>{J||g.reject(mt(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var S,J;this.pollId=null!==(J=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(mt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,xn.get())};g()}}return w.currentPopupAction=null,w})();const Mr=new Map;class Ws extends Zt{constructor(h,g,S=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,S),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,l.Z)(function*(){let S=Mr.get(g.auth._key());if(!S){try{const oe=(yield function wo(w,h){return Jr.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;S=()=>Promise.resolve(oe)}catch(J){S=()=>Promise.reject(J)}Mr.set(g.auth._key(),S)}return g.bypassAuthState||Mr.set(g.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,S=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(S,h);if("unknown"!==h.type){if(h.eventId){const J=yield S.auth._redirectUserForId(h.eventId);if(J)return S.user=J,g().call(S,h);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Jr(){return(Jr=(0,l.Z)(function*(w,h){const g=ka(h),S=fo(w);if(!(yield S._isAvailable()))return!1;const J="true"===(yield S._get(g));return yield S._remove(g),J})).apply(this,arguments)}function F4(w,h){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(w,h){return fo(w)._set(ka(h),"true")})).apply(this,arguments)}function qs(w,h){Mr.set(w._key(),h)}function fo(w){return rt(w._redirectPersistence)}function ka(w){return Pe("pendingRedirect",w.config.apiKey,w.name)}function H(){return(H=(0,l.Z)(function*(w,h,g){const S=Rn(w);Ft(w,h,Ci);const J=O(S,g);return yield F4(J,S),J._openRedirect(S,h,"signInViaRedirect")})).apply(this,arguments)}function ve(){return(ve=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w);Ft(S.auth,h,Ci);const J=O(S.auth,g);yield F4(J,S.auth);const oe=yield g1(S);return J._openRedirect(S.auth,h,"reauthViaRedirect",oe)})).apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(w,h,g){const S=(0,X.m9)(w);Ft(S.auth,h,Ci);const J=O(S.auth,g);yield In(!1,S,h.providerId),yield F4(J,S.auth);const oe=yield g1(S);return J._openRedirect(S.auth,h,"linkViaRedirect",oe)})).apply(this,arguments)}function U1(){return(U1=(0,l.Z)(function*(w,h){return yield Rn(w)._initializationPromise,G1(w,h,!1)})).apply(this,arguments)}function G1(w,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(w,h,g=!1){const S=Rn(w),J=O(S,h),qe=yield new Ws(S,J,g).execute();return qe&&!g&&(delete qe.user._redirectEventId,yield S._persistUserIfCurrent(qe.user),yield S._setRedirectUser(null,h)),qe})).apply(this,arguments)}function g1(w){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(w){const h=ys(`${w.uid}:::`);return w._redirectEventId=h,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),h})).apply(this,arguments)}class ho{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(h,S)&&(g=!0,this.sendToConsumer(h,S),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function wr(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ro(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var S;if(h.error&&!Ro(h)){const J=(null===(S=h.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";g.onError(mt(this.auth,J))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const S=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&S}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pa(h))}saveEventToCache(h){this.cachedEventUids.add(Pa(h)),this.lastProcessedEventTime=Date.now()}}function Pa(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function Ro({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function ls(w){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(w,h={}){return fn(w,"GET","/v1/projects",h)})).apply(this,arguments)}const N0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T6=/^https?/;function A6(){return(A6=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield ls(w);for(const g of h)try{if(I6(g))return}catch{}at(w,"unauthorized-domain")})).apply(this,arguments)}function I6(w){const h=Rt(),{protocol:g,hostname:S}=new URL(h);if(w.startsWith("chrome-extension://")){const qe=new URL(w);return""===qe.hostname&&""===S?"chrome-extension:"===g&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&qe.hostname===S}if(!T6.test(g))return!1;if(N0.test(w))return S===w;const J=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(S)}const A0=new T1(3e4,6e4);function Z3(){const w=f1().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let p4=null;function Ha(w){return p4=p4||function m3(w){return new Promise((h,g)=>{var S,J,oe;function qe(){Z3(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Z3(),g(mt(w,"network-request-failed"))},timeout:A0.get()})}if(null!==(J=null===(S=f1().gapi)||void 0===S?void 0:S.iframes)&&void 0!==J&&J.Iframe)h(gapi.iframes.getContext());else{if(null===(oe=f1().gapi)||void 0===oe||!oe.load){const Tt=Bi("iframefcb");return f1()[Tt]=()=>{gapi.load?qe():g(mt(w,"network-request-failed"))},$s(`https://apis.google.com/js/api.js?onload=${Tt}`).catch(m1=>g(m1))}qe()}}).catch(h=>{throw p4=null,h})}(w),p4}const x6=new T1(5e3,15e3),Ms={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z6(w){const h=w.config;ce(h.authDomain,w,"auth-domain-config-required");const g=h.emulator?S1(h,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,S={apiKey:h.apiKey,appName:w.name,v:Ee.SDK_VERSION},J=ii.get(w.config.apiHost);J&&(S.eid=J);const oe=w._getFrameworks();return oe.length&&(S.fw=oe.join(",")),`${g}?${(0,X.xO)(S).slice(1)}`}function Ks(){return Ks=(0,l.Z)(function*(w){const h=yield Ha(w),g=f1().gapi;return ce(g,w,"internal-error"),h.open({where:document.body,url:z6(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ms,dontclear:!0},S=>new Promise(function(){var J=(0,l.Z)(function*(oe,qe){yield S.restyle({setHideOnLeave:!1});const Tt=mt(w,"network-request-failed"),m1=f1().setTimeout(()=>{qe(Tt)},x6.get());function O1(){f1().clearTimeout(m1),oe(S)}S.ping(O1).then(O1,()=>{qe(Tt)})});return function(oe,qe){return J.apply(this,arguments)}}()))}),Ks.apply(this,arguments)}const ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class m4{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v3(w,h,g,S,J,oe){ce(w.config.authDomain,w,"auth-domain-config-required"),ce(w.config.apiKey,w,"invalid-api-key");const qe={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:S,v:Ee.SDK_VERSION,eventId:J};if(h instanceof Ci){h.setDefaultLanguage(w.languageCode),qe.providerId=h.providerId||"",(0,X.xb)(h.getCustomParameters())||(qe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[m1,O1]of Object.entries(oe||{}))qe[m1]=O1}if(h instanceof Wi){const m1=h.getScopes().filter(O1=>""!==O1);m1.length>0&&(qe.scopes=m1.join(","))}w.tenantId&&(qe.tid=w.tenantId);const Tt=qe;for(const m1 of Object.keys(Tt))void 0===Tt[m1]&&delete Tt[m1];return`${function ko({config:w}){return w.emulator?S1(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,X.xO)(Tt).slice(1)}`}const U4="webStorageSupport";class j4 extends class O6{constructor(h){this.factorId=h}_process(h,g,S){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,S);case"signin":return this._finalizeSignIn(h,g.credential);default:return tt("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new j4(h)}_finalizeEnroll(h,g,S){return function V4(w,h){return fn(w,"POST","/v2/accounts/mfaEnrollment:finalize",qt(w,h))}(h,{idToken:g,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Oo(w,h){return fn(w,"POST","/v2/accounts/mfaSignIn:finalize",qt(w,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let J3=(()=>{class w{constructor(){}static assertion(g){return j4._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var Po="@firebase/auth";class R6{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(S=>{h(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function po(){return window}function ma(){return(ma=(0,l.Z)(function*(w,h,g){var S;const{BuildInfo:J}=po();Me(h.sessionId,"AuthEvent did not contain a session ID");const oe=yield Ho(h.sessionId),qe={};return ue()?qe.ibi=J.packageName:W1()?qe.apn=J.packageName:at(w,"operation-not-supported-in-this-environment"),J.displayName&&(qe.appDisplayName=J.displayName),qe.sessionId=oe,v3(w,g,h.type,void 0,null!==(S=h.eventId)&&void 0!==S?S:void 0,qe)})).apply(this,arguments)}function Q3(){return(Q3=(0,l.Z)(function*(w){const{BuildInfo:h}=po(),g={};ue()?g.iosBundleId=h.packageName:W1()?g.androidPackageName=h.packageName:at(w,"operation-not-supported-in-this-environment"),yield ls(w,g)})).apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(w,h,g){const{cordova:S}=po();let J=()=>{};try{yield new Promise((oe,qe)=>{let Tt=null;function m1(){var ln;oe();const Ki=null===(ln=S.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof Ki&&Ki(),"function"==typeof g?.close&&g.close()}function O1(){Tt||(Tt=window.setTimeout(()=>{qe(mt(w,"redirect-cancelled-by-user"))},2e3))}function gn(){"visible"===document?.visibilityState&&O1()}h.addPassiveListener(m1),document.addEventListener("resume",O1,!1),W1()&&document.addEventListener("visibilitychange",gn,!1),J=()=>{h.removePassiveListener(m1),document.removeEventListener("resume",O1,!1),document.removeEventListener("visibilitychange",gn,!1),Tt&&window.clearTimeout(Tt)}})}finally{J()}})).apply(this,arguments)}function Ho(w){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(w){const h=$4(w),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(J=>J.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $4(w){if(Me(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const h=new ArrayBuffer(w.length),g=new Uint8Array(h);for(let S=0;S<w.length;S++)g[S]=w.charCodeAt(S);return g}(0,X.Pz)("authIdTokenMaxAge"),function V2(w){(0,Ee._registerComponent)(new Se.wA("auth",(h,{options:g})=>{const S=h.getProvider("app").getImmediate(),J=h.getProvider("heartbeat"),{apiKey:oe,authDomain:qe}=S.options;return((Tt,m1)=>{ce(oe&&!oe.includes(":"),"invalid-api-key",{appName:Tt.name}),ce(!qe?.includes(":"),"argument-error",{appName:Tt.name});const O1={apiKey:oe,authDomain:qe,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(w)},gn=new q1(Tt,m1,O1);return function Lt(w,h){const g=h?.persistence||[],S=(Array.isArray(g)?g:[g]).map(rt);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(S,h?.popupRedirectResolver)}(gn,g),gn})(S,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,S)=>{h.getProvider("auth-internal").initialize()})),(0,Ee._registerComponent)(new Se.wA("auth-internal",h=>{const g=Rn(h.getProvider("auth").getImmediate());return new R6(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)(Po,"0.21.0",function Ps(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,Ee.registerVersion)(Po,"0.21.0","esm2017")}("Browser");class Ba extends ho{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,l.Z)(function*(){yield h.initPromise})()}}function x0(w){return g4.apply(this,arguments)}function g4(){return(g4=(0,l.Z)(function*(w){const h=yield ja()._get(Z4(w));return h&&(yield ja()._remove(Z4(w))),h})).apply(this,arguments)}function X3(){const w=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const S=Math.floor(Math.random()*h.length);w.push(h.charAt(S))}return w.join("")}function ja(){return rt(ss)}function Z4(w){return Pe("authEvent",w.config.apiKey,w.name)}function va(w){if(!w?.includes("?"))return{};const[h,...g]=w.split("?");return(0,X.zd)(g.join("?"))}function C3(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mt("no-auth-event")}}function $a(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function r2(w=(0,X.z$)()){return!("file:"!==$a()&&"ionic:"!==$a()&&"capacitor:"!==$a()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xr(){try{const w=self.localStorage,h=ys();if(w)return w.setItem(h,"1"),w.removeItem(h),!function Dc(w=(0,X.z$)()){return function M3(){return(0,X.w1)()&&11===document?.documentMode}()||function Vs(w=(0,X.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,X.hl)()}catch{return mo()&&(0,X.hl)()}return!1}function mo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wa(){return(function Gi(){return"http:"===$a()||"https:"===$a()}()||(0,X.ru)()||r2())&&!function Za(){return(0,X.b$)()||(0,X.UG)()}()&&Xr()&&!mo()}function Bo(){return r2()&&typeof document<"u"}function W4(){return(W4=(0,l.Z)(function*(){return!!Bo()&&new Promise(w=>{const h=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),w(!0)})})})).apply(this,arguments)}const ro={LOCAL:"local",NONE:"none",SESSION:"session"},_a=ce,Bn="persistence";function ba(w){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(w){yield w._initializationPromise;const h=Ka(),g=Pe(Bn,w.config.apiKey,w.name);h&&h.setItem(g,w._getPersistence())})).apply(this,arguments)}function Ka(){var w;try{return(null===(w=function Uo(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const q4=ce;class Qs{constructor(){this.browserResolver=rt(class ks{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zs,this._completeRedirectFn=G1,this._overrideRedirectResult=qs}_openPopup(h,g,S,J){var oe=this;return(0,l.Z)(function*(){var qe;Me(null===(qe=oe.eventManagers[h._key()])||void 0===qe?void 0:qe.manager,"_initialize() not called before _openPopup()");const Tt=v3(h,g,S,Rt(),J);return function q3(w,h,g,S=500,J=600){const oe=Math.max((window.screen.availHeight-J)/2,0).toString(),qe=Math.max((window.screen.availWidth-S)/2,0).toString();let Tt="";const m1=Object.assign(Object.assign({},ws),{width:S.toString(),height:J.toString(),top:oe,left:qe}),O1=(0,X.z$)().toLowerCase();g&&(Tt=H1(O1)?"_blank":g),o1(O1)&&(h=h||"http://localhost",m1.scrollbars="yes");const gn=Object.entries(m1).reduce((Ki,[kr,wa])=>`${Ki}${kr}=${wa},`,"");if(function yt(w=(0,X.z$)()){var h;return ue(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(O1)&&"_self"!==Tt)return function K3(w,h){const g=document.createElement("a");g.href=w,g.target=h;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(S)}(h||"",Tt),new m4(null);const ln=window.open(h||"",Tt,gn);ce(ln,w,"popup-blocked");try{ln.focus()}catch{}return new m4(ln)}(h,Tt,ys())})()}_openRedirect(h,g,S,J){var oe=this;return(0,l.Z)(function*(){return yield oe._originValidation(h),function _1(w){f1().location.href=w}(v3(h,g,S,Rt(),J)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:J,promise:oe}=this.eventManagers[g];return J?Promise.resolve(J):(Me(oe,"If manager is not set, promise should be"),oe)}const S=this.initAndGetManager(h);return this.eventManagers[g]={promise:S},S.catch(()=>{delete this.eventManagers[g]}),S}initAndGetManager(h){var g=this;return(0,l.Z)(function*(){const S=yield function Fa(w){return Ks.apply(this,arguments)}(h),J=new ho(h);return S.register("authEvent",oe=>(ce(oe?.authEvent,h,"invalid-auth-event"),{status:J.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:J},g.iframes[h._key()]=S,J})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(U4,{type:U4},J=>{var oe;const qe=null===(oe=J?.[0])||void 0===oe?void 0:oe[U4];void 0!==qe&&g(!!qe),at(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function T0(w){return A6.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return A1()||n1()||ue()}}),this.cordovaResolver=rt(class v4{constructor(){this._redirectPersistence=zs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=G1,this._overrideRedirectResult=qs}_initialize(h){var g=this;return(0,l.Z)(function*(){const S=h._key();let J=g.eventManagers.get(S);return J||(J=new Ba(h),g.eventManagers.set(S,J),g.attachCallbackListeners(h,J)),J})()}_openPopup(h){at(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,S,J){var oe=this;return(0,l.Z)(function*(){!function io(w){var h,g,S,J,oe,qe,Tt,m1,O1,gn;const ln=po();ce("function"==typeof(null===(h=ln?.universalLinks)||void 0===h?void 0:h.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(typeof(null===(g=ln?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce("function"==typeof(null===(oe=null===(J=null===(S=ln?.cordova)||void 0===S?void 0:S.plugins)||void 0===J?void 0:J.browsertab)||void 0===oe?void 0:oe.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(m1=null===(Tt=null===(qe=ln?.cordova)||void 0===qe?void 0:qe.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===m1?void 0:m1.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(gn=null===(O1=ln?.cordova)||void 0===O1?void 0:O1.InAppBrowser)||void 0===gn?void 0:gn.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const qe=yield oe._initialize(h);yield qe.initialized(),qe.resetRedirect(),function h3(){Mr.clear()}(),yield oe._originValidation(h);const Tt=function ga(w,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:X3(),postBody:null,tenantId:w.tenantId,error:mt(w,"no-auth-event")}}(h,S,J);yield function Ua(w,h){return ja()._set(Z4(w),h)}(h,Tt);const m1=yield function Do(w,h,g){return ma.apply(this,arguments)}(h,Tt,g),O1=yield function P6(w){const{cordova:h}=po();return new Promise(g=>{h.plugins.browsertab.isAvailable(S=>{let J=null;S?h.plugins.browsertab.openUrl(w):J=h.InAppBrowser.open(w,function We(w=(0,X.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),g(J)})})}(m1);return function V6(w,h,g){return Vo.apply(this,arguments)}(h,qe,O1)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function G4(w){return Q3.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:S,handleOpenURL:J,BuildInfo:oe}=po(),qe=setTimeout((0,l.Z)(function*(){yield x0(h),g.onEvent(C3())}),500),Tt=function(){var gn=(0,l.Z)(function*(ln){clearTimeout(qe);const Ki=yield x0(h);let kr=null;Ki&&ln?.url&&(kr=function Pi(w,h){var g,S;const J=function e6(w){const h=va(w),g=h.link?decodeURIComponent(h.link):void 0,S=va(g).link,J=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return va(J).link||J||S||g||w}(h);if(J.includes("/__/auth/callback")){const oe=va(J),qe=oe.firebaseError?function z0(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(oe.firebaseError)):null,Tt=null===(S=null===(g=qe?.code)||void 0===g?void 0:g.split("auth/"))||void 0===S?void 0:S[1],m1=Tt?mt(Tt):null;return m1?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:m1,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:J,postBody:null}}return null}(Ki,ln.url)),g.onEvent(kr||C3())});return function(Ki){return gn.apply(this,arguments)}}();typeof S<"u"&&"function"==typeof S.subscribe&&S.subscribe(null,Tt);const m1=J,O1=`${oe.packageName.toLowerCase()}://`;po().handleOpenURL=function(){var gn=(0,l.Z)(function*(ln){if(ln.toLowerCase().startsWith(O1)&&Tt({url:ln}),"function"==typeof m1)try{m1(ln)}catch(Ki){console.error(Ki)}});return function(ln){return gn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zs,this._completeRedirectFn=G1,this._overrideRedirectResult=qs}_initialize(h){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,S,J){var oe=this;return(0,l.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openPopup(h,g,S,J)})()}_openRedirect(h,g,S,J){var oe=this;return(0,l.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openRedirect(h,g,S,J)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Bo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return q4(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,l.Z)(function*(){if(h.underlyingResolver)return;const g=yield function Js(){return W4.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function y4(w){return w.unwrap()}function Y4(w){return _4(w)}function _4(w){const{_tokenResponse:h}=w instanceof X.ZR?w.customData:w;if(!h)return null;if(!(w instanceof X.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return E.credentialFromResult(w);const g=h.providerId;if(!g||"password"===g)return null;let S;switch(g){case"google.com":S=Mi;break;case"facebook.com":S=ts;break;case"github.com":S=Tr;break;case"twitter.com":S=gi;break;default:const{oauthIdToken:J,oauthAccessToken:oe,oauthTokenSecret:qe,pendingToken:Tt,nonce:m1}=h;return oe||qe||J||Tt?Tt?g.startsWith("saml.")?wi._create(g,Tt):Xe._fromParams({providerId:g,signInMethod:g,pendingToken:Tt,idToken:J,accessToken:oe}):new mi(g).credential({idToken:J,accessToken:oe,rawNonce:m1}):null}return w instanceof X.ZR?S.credentialFromError(w):S.credentialFromResult(w)}function ds(w,h){return h.catch(g=>{throw g instanceof X.ZR&&function w3(w,h){var g;const S=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Ya(w,function P2(w,h){var g;const S=(0,X.m9)(w),J=h;return ce(h.customData.operationType,S,"argument-error"),ce(null===(g=J.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,S,"argument-error"),Co._fromError(S,J)}(w,h));else if(S){const J=_4(h),oe=h;J&&(oe.credential=J,oe.tenantId=S.tenantId||void 0,oe.email=S.email||void 0,oe.phoneNumber=S.phoneNumber||void 0)}}(w,g),g}).then(g=>{const J=g.user;return{operationType:g.operationType,credential:Y4(g),additionalUserInfo:pn(g),user:go.getOrCreate(J)}})}function i6(w,h){return F6.apply(this,arguments)}function F6(){return(F6=(0,l.Z)(function*(w,h){const g=yield h;return{verificationId:g.verificationId,confirm:S=>ds(w,g.confirm(S))}})).apply(this,arguments)}class Ya{constructor(h,g){this.resolver=g,this.auth=function K4(w){return w.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ds(y4(this.auth),this.resolver.resolveSignIn(h))}}class go{constructor(h){this._delegate=h,this.multiFactor=function xo(w){const h=(0,X.m9)(w);return ia.has(h)||ia.set(h,d4._fromUser(h)),ia.get(h)}(h)}static getOrCreate(h){return go.USER_MAP.has(h)||go.USER_MAP.set(h,new go(h)),go.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,l.Z)(function*(){return ds(g.auth,Ar(g._delegate,h))})()}linkWithPhoneNumber(h,g){var S=this;return(0,l.Z)(function*(){return i6(S.auth,function Oi(w,h,g){return qr.apply(this,arguments)}(S._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,l.Z)(function*(){return ds(g.auth,function uo(w,h,g){return Ri.apply(this,arguments)}(g._delegate,h,Qs))})()}linkWithRedirect(h){var g=this;return(0,l.Z)(function*(){return yield ba(Rn(g.auth)),function et(w,h,g){return function _t(w,h,g){return jt.apply(this,arguments)}(w,h,g)}(g._delegate,h,Qs)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,l.Z)(function*(){return ds(g.auth,$r(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return i6(this.auth,function pa(w,h,g){return Kr.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return ds(this.auth,function Ui(w,h,g){return bs.apply(this,arguments)}(this._delegate,h,Qs))}reauthenticateWithRedirect(h){var g=this;return(0,l.Z)(function*(){return yield ba(Rn(g.auth)),function j(w,h,g){return function ne(w,h,g){return ve.apply(this,arguments)}(w,h,g)}(g._delegate,h,Qs)})()}sendEmailVerification(h){return function Y(w,h){return re.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,l.Z)(function*(){return yield function k2(w,h){return xi.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function z(w,h){return k((0,X.m9)(w),h,null)}(this._delegate,h)}updatePassword(h){return function W(w,h){return k((0,X.m9)(w),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function N(w,h){return T.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ot(w,h){return zt.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function de(w,h,g){return _e.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}go.USER_MAP=new WeakMap;const Ca=ce;let ui=(()=>{class w{constructor(g,S){if(this.app=g,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:J}=g.options;Ca(J,"invalid-api-key",{appName:g.name}),Ca(J,"invalid-api-key",{appName:g.name});const oe=typeof window<"u"?Qs:void 0;this._delegate=S.initialize({options:{persistence:Go(J,g.name),popupRedirectResolver:oe}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?go.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,S){!function fi(w,h,g){const S=Rn(w);ce(S._canInitEmulator,S,"emulator-config-failed"),ce(/^https?:\/\//.test(h),S,"invalid-emulator-scheme");const J=!!g?.disableWarnings,oe=B2(h),{host:qe,port:Tt}=function _2(w){const h=B2(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!g)return{host:"",port:null};const S=g[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(S);if(J){const oe=J[1];return{host:oe,port:oi(S.substr(oe.length+1))}}{const[oe,qe]=S.split(":");return{host:oe,port:oi(qe)}}}(h);S.config.emulator={url:`${oe}//${qe}${null===Tt?"":`:${Tt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:qe,port:Tt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function U2(){function w(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,g,S)}applyActionCode(g){return function ir(w,h){return Zr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Lr(this._delegate,g)}confirmPasswordReset(g,S){return function eo(w,h,g){return As.apply(this,arguments)}(this._delegate,g,S)}createUserWithEmailAndPassword(g,S){var J=this;return(0,l.Z)(function*(){return ds(J._delegate,function B(w,h,g){return V.apply(this,arguments)}(J._delegate,g,S))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function rs(w,h){return vr.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Qn(w,h){return"EMAIL_SIGNIN"===Hi.parseLink(h)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){Ca(Wa(),g._delegate,"operation-not-supported-in-this-environment");const S=yield function C1(w,h){return U1.apply(this,arguments)}(g._delegate,Qs);return S?ds(g._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function L0(w,h){Rn(w)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,S,J){const{next:oe,error:qe,complete:Tt}=Ja(g,S,J);return this._delegate.onAuthStateChanged(oe,qe,Tt)}onIdTokenChanged(g,S,J){const{next:oe,error:qe,complete:Tt}=Ja(g,S,J);return this._delegate.onIdTokenChanged(oe,qe,Tt)}sendSignInLinkToEmail(g,S){return function lt(w,h,g){return w1.apply(this,arguments)}(this._delegate,g,S)}sendPasswordResetEmail(g,S){return function zr(w,h,g){return D2.apply(this,arguments)}(this._delegate,g,S||void 0)}setPersistence(g){var S=this;return(0,l.Z)(function*(){let J;switch(function H6(w,h){_a(Object.values(ro).includes(h),w,"invalid-persistence-type"),(0,X.b$)()?_a(h!==ro.SESSION,w,"unsupported-persistence-type"):(0,X.UG)()?_a(h===ro.NONE,w,"unsupported-persistence-type"):mo()?_a(h===ro.NONE||h===ro.LOCAL&&(0,X.hl)(),w,"unsupported-persistence-type"):_a(h===ro.NONE||Xr(),w,"unsupported-persistence-type")}(S._delegate,g),g){case ro.SESSION:J=zs;break;case ro.LOCAL:J=(yield rt(W2)._isAvailable())?W2:ss;break;case ro.NONE:J=we;break;default:return at("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(J)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ds(this._delegate,function ns(w){return h2.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ds(this._delegate,p2(this._delegate,g))}signInWithCustomToken(g){return ds(this._delegate,function nr(w,h){return xr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,S){return ds(this._delegate,function se(w,h,g){return p2((0,X.m9)(w),Ti.credential(h,g))}(this._delegate,g,S))}signInWithEmailLink(g,S){return ds(this._delegate,function gr(w,h,g){return rr.apply(this,arguments)}(this._delegate,g,S))}signInWithPhoneNumber(g,S){return i6(this._delegate,function no(w,h,g){return ha.apply(this,arguments)}(this._delegate,g,S))}signInWithPopup(g){var S=this;return(0,l.Z)(function*(){return Ca(Wa(),S._delegate,"operation-not-supported-in-this-environment"),ds(S._delegate,function b1(w,h,g){return sn.apply(this,arguments)}(S._delegate,g,Qs))})()}signInWithRedirect(g){var S=this;return(0,l.Z)(function*(){return Ca(Wa(),S._delegate,"operation-not-supported-in-this-environment"),yield ba(S._delegate),function ji(w,h,g){return function p3(w,h,g){return H.apply(this,arguments)}(w,h,g)}(S._delegate,g,Qs)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Is(w,h){return $.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=ro,w})();function Ja(w,h,g){let S=w;"function"!=typeof w&&({next:S,error:h,complete:g}=w);const J=S;return{next:qe=>J(qe&&go.getOrCreate(qe)),error:h,complete:g}}function Go(w,h){const g=function qa(w,h){const g=Ka();if(!g)return[];const S=Pe(Bn,w,h);switch(g.getItem(S)){case ro.NONE:return[we];case ro.LOCAL:return[W2,zs];case ro.SESSION:return[zs];default:return[]}}(w,h);if(typeof self<"u"&&!g.includes(W2)&&g.push(W2),typeof window<"u")for(const S of[ss,zs])g.includes(S)||g.push(S);return g.includes(we)||g.push(we),g}class Ma{constructor(){this.providerId="phone",this._delegate=new E(y4(C.Z.auth()))}static credential(h,g){return E.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Ma.PHONE_SIGN_IN_METHOD=E.PHONE_SIGN_IN_METHOD,Ma.PROVIDER_ID=E.PROVIDER_ID;const vo=ce;class r6{constructor(h,g,S=C.Z.app()){var J;vo(null===(J=S.options)||void 0===J?void 0:J.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new u2(h,g,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function b4(w){w.INTERNAL.registerComponent(new Se.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),S=h.getProvider("auth");return new ui(g,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ti,FacebookAuthProvider:ts,GithubAuthProvider:Tr,GoogleAuthProvider:Mi,OAuthProvider:mi,SAMLAuthProvider:Di,PhoneAuthProvider:Ma,PhoneMultiFactorGenerator:J3,RecaptchaVerifier:r6,TwitterAuthProvider:gi,Auth:ui,AuthCredential:R2,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.3.0")}(C.Z)},8766:(r1,Qe,F)=>{F.d(Qe,{Lj:()=>at,X3:()=>s1});var l=F(5861);let X,Ee;const Se=new WeakMap,ke=new WeakMap,Ve=new WeakMap,fe=new WeakMap,he=new WeakMap;let ot={get(ce,tt,Me){if(ce instanceof IDBTransaction){if("done"===tt)return ke.get(ce);if("objectStoreNames"===tt)return ce.objectStoreNames||Ve.get(ce);if("store"===tt)return Me.objectStoreNames[1]?void 0:Me.objectStore(Me.objectStoreNames[0])}return st(ce[tt])},set:(ce,tt,Me)=>(ce[tt]=Me,!0),has:(ce,tt)=>ce instanceof IDBTransaction&&("done"===tt||"store"===tt)||tt in ce};function ft(ce){return"function"==typeof ce?function Gt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...tt){return ce.apply(je(this),tt),st(Se.get(this))}:function(...tt){return st(ce.apply(je(this),tt))}:function(tt,...Me){const Le=ce.call(je(this),tt,...Me);return Ve.set(Le,tt.sort?tt.sort():[tt]),st(Le)}}(ce):(ce instanceof IDBTransaction&&function pt(ce){if(ke.has(ce))return;const tt=new Promise((Me,Le)=>{const rt=()=>{ce.removeEventListener("complete",He),ce.removeEventListener("error",Lt),ce.removeEventListener("abort",Lt)},He=()=>{Me(),rt()},Lt=()=>{Le(ce.error||new DOMException("AbortError","AbortError")),rt()};ce.addEventListener("complete",He),ce.addEventListener("error",Lt),ce.addEventListener("abort",Lt)});ke.set(ce,tt)}(ce),((ce,tt)=>tt.some(Me=>ce instanceof Me))(ce,function Ie(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,ot):ce)}function st(ce){if(ce instanceof IDBRequest)return function ze(ce){const tt=new Promise((Me,Le)=>{const rt=()=>{ce.removeEventListener("success",He),ce.removeEventListener("error",Lt)},He=()=>{Me(st(ce.result)),rt()},Lt=()=>{Le(ce.error),rt()};ce.addEventListener("success",He),ce.addEventListener("error",Lt)});return tt.then(Me=>{Me instanceof IDBCursor&&Se.set(Me,ce)}).catch(()=>{}),he.set(tt,ce),tt}(ce);if(fe.has(ce))return fe.get(ce);const tt=ft(ce);return tt!==ce&&(fe.set(ce,tt),he.set(tt,ce)),tt}const je=ce=>he.get(ce);function s1(ce,tt,{blocked:Me,upgrade:Le,blocking:rt,terminated:He}={}){const Lt=indexedDB.open(ce,tt),Rt=st(Lt);return Le&&Lt.addEventListener("upgradeneeded",v1=>{Le(st(Lt.result),v1.oldVersion,v1.newVersion,st(Lt.transaction))}),Me&&Lt.addEventListener("blocked",()=>Me()),Rt.then(v1=>{He&&v1.addEventListener("close",()=>He()),rt&&v1.addEventListener("versionchange",()=>rt())}).catch(()=>{}),Rt}function at(ce,{blocked:tt}={}){const Me=indexedDB.deleteDatabase(ce);return tt&&Me.addEventListener("blocked",()=>tt()),st(Me).then(()=>{})}const mt=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Ft=new Map;function Mt(ce,tt){if(!(ce instanceof IDBDatabase)||tt in ce||"string"!=typeof tt)return;if(Ft.get(tt))return Ft.get(tt);const Me=tt.replace(/FromIndex$/,""),Le=tt!==Me,rt=nt.includes(Me);if(!(Me in(Le?IDBIndex:IDBObjectStore).prototype)||!rt&&!mt.includes(Me))return;const He=function(){var Lt=(0,l.Z)(function*(Rt,...v1){const B1=this.transaction(Rt,rt?"readwrite":"readonly");let L1=B1.store;return Le&&(L1=L1.index(v1.shift())),(yield Promise.all([L1[Me](...v1),rt&&B1.done]))[0]});return function(v1){return Lt.apply(this,arguments)}}();return Ft.set(tt,He),He}!function Je(ce){ot=ce(ot)}(ce=>({...ce,get:(tt,Me,Le)=>Mt(tt,Me)||ce.get(tt,Me,Le),has:(tt,Me)=>!!Mt(tt,Me)||ce.has(tt,Me)}))},5861:(r1,Qe,F)=>{function l(X,Ee,Ie,Te,Se,ke,Ve){try{var fe=X[ke](Ve),he=fe.value}catch(ze){return void Ie(ze)}fe.done?Ee(he):Promise.resolve(he).then(Te,Se)}function C(X){return function(){var Ee=this,Ie=arguments;return new Promise(function(Te,Se){var ke=X.apply(Ee,Ie);function Ve(he){l(ke,Te,Se,Ve,fe,"next",he)}function fe(he){l(ke,Te,Se,Ve,fe,"throw",he)}Ve(void 0)})}}F.d(Qe,{Z:()=>C})}},r1=>{r1(r1.s=1481)}]);