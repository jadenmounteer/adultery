"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{2011:(gt,Te,O)=>{O.d(Te,{Dh:()=>fe,GT:()=>he,cc:()=>Oe,hO:()=>Ue,on:()=>U,pX:()=>ce,xv:()=>pe});var u=O(4650),te=O(9260),P=O(2122);gt=O.hmd(gt);const ae=["ngOnDestroy"],ce=(me,st,ht,xe={})=>new Proxy(me,{get:(Ce,Ee)=>ht.runOutsideAngular(()=>{var We;if(me[Ee])return!(null===(We=xe?.spy)||void 0===We)&&We.get&&xe.spy.get(Ee,me[Ee]),me[Ee];if(ae.indexOf(Ee)>-1)return()=>{};const qe=st.toPromise().then(B=>{const ve=B&&B[Ee];return"function"==typeof ve?ve.bind(B):ve&&ve.then?ve.then(Z=>ht.run(()=>Z)):ht.run(()=>ve)});return new Proxy(()=>{},{get:(B,ve)=>qe[ve],apply:(B,ve,Z)=>qe.then(ee=>{var oe;const se=ee&&ee(...Z);return!(null===(oe=xe?.spy)||void 0===oe)&&oe.apply&&xe.spy.apply(Ee,Z,se),se})})})}),he=(me,st)=>{st.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(xe=>{Object.defineProperty(me.prototype,xe,Object.getOwnPropertyDescriptor(ht.prototype||ht,xe))})})};class ue{constructor(st){return st}}const fe=new u.OlP("angularfire2.app.options"),pe=new u.OlP("angularfire2.app.name");function U(me,st,ht){const Ce="object"==typeof ht&&ht||{};Ce.name=Ce.name||"string"==typeof ht&&ht||"[DEFAULT]";const We=te.Z.apps.filter(qe=>qe&&qe.name===Ce.name)[0]||st.runOutsideAngular(()=>te.Z.initializeApp(me,Ce));try{JSON.stringify(me)!==JSON.stringify(We.options)&&j("error",`${We.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(We)}const j=(me,...st)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...st)},Y={provide:ue,useFactory:U,deps:[fe,u.R0b,[new u.FiY,pe]]};let Ue=(()=>{class me{constructor(ht){te.Z.registerVersion("angularfire",P.q4.full,"core"),te.Z.registerVersion("angularfire",P.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,ht.toString())}static initializeApp(ht,xe){return{ngModule:me,providers:[{provide:fe,useValue:ht},{provide:pe,useValue:xe}]}}}return me.\u0275fac=function(ht){return new(ht||me)(u.LFG(u.Lbi))},me.\u0275mod=u.oAB({type:me}),me.\u0275inj=u.cJS({providers:[Y]}),me})();function Oe(me,st,ht,xe,Ce){const[,Ee,We]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===me)||[];if(Ee)return function De(me,st){try{return me.toString()===st.toString()}catch{return me===st}}(Ce,We)||(_e("error",`${st} was already initialized on the ${ht} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ce,was:We})),Ee;{const qe=xe();return globalThis.\u0275AngularfireInstanceCache.push([me,qe,Ce]),qe}}const lt=!!gt.hot,_e=(me,...st)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(gt,Te,O)=>{O.d(Te,{q4:()=>Je,iC:()=>Ss,HU:()=>gi,vb:()=>ss,JM:()=>c1});var u=O(4650),te=O(259),P=O(5861),ae=O(9681),ce=O(2090),he=O(4859),ue=O(1877),fe=O(8766);const pe="@firebase/installations",U="0.6.0",Y=`w:${U}`,Ue="FIS_v2",st=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(M){return M instanceof ce.ZR&&M.code.includes("request-failed")}function xe({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function Ce(M){return{token:M.token,requestStatus:2,expiresIn:ee(M.expiresIn),creationTime:Date.now()}}function Ee(M,S){return We.apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(M,S){const V=(yield S.json()).error;return st.create("request-failed",{requestName:M,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function qe({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function B(M,{refreshToken:S}){const N=qe(M);return N.append("Authorization",function oe(M){return`${Ue} ${M}`}(S)),N}function ve(M){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(M){const S=yield M();return S.status>=500&&S.status<600?M():S})).apply(this,arguments)}function ee(M){return Number(M.replace("s","000"))}function se(M,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*({appConfig:M,heartbeatServiceProvider:S},{fid:N}){const V=xe(M),Q=qe(M),re=S.getImmediate({optional:!0});if(re){const ft=yield re.getHeartbeatsHeader();ft&&Q.append("x-firebase-client",ft)}const $e={method:"POST",headers:Q,body:JSON.stringify({fid:N,authVersion:Ue,appId:M.appId,sdkVersion:Y})},rt=yield ve(()=>fetch(V,$e));if(rt.ok){const ft=yield rt.json();return{fid:ft.fid||N,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Ce(ft.authToken)}}throw yield Ee("Create Installation",rt)})).apply(this,arguments)}function Pe(M){return new Promise(S=>{setTimeout(S,M)})}const on=/^[cdef][\w-]{21}$/;function et(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const N=function _n(M){return function yt(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return on.test(N)?N:""}catch{return""}}function kn(M){return`${M.appName}!${M.appId}`}const tn=new Map;function an(M,S){const N=kn(M);Mn(N,S),function ms(M,S){const N=function Yr(){return!Li&&"BroadcastChannel"in self&&(Li=new BroadcastChannel("[Firebase] FID Change"),Li.onmessage=M=>{Mn(M.data.key,M.data.fid)}),Li}();N&&N.postMessage({key:M,fid:S}),function li(){0===tn.size&&Li&&(Li.close(),Li=null)}()}(N,S)}function Mn(M,S){const N=tn.get(M);if(N)for(const V of N)V(S)}let Li=null;const Di="firebase-installations-store";let Ei=null;function Pa(){return Ei||(Ei=(0,fe.X3)("firebase-installations-database",1,{upgrade:(M,S)=>{0===S&&M.createObjectStore(Di)}})),Ei}function tt(M,S){return zr.apply(this,arguments)}function zr(){return(zr=(0,P.Z)(function*(M,S){const N=kn(M),Q=(yield Pa()).transaction(Di,"readwrite"),re=Q.objectStore(Di),Me=yield re.get(N);return yield re.put(S,N),yield Q.done,(!Me||Me.fid!==S.fid)&&an(M,S.fid),S})).apply(this,arguments)}function Fs(M){return ur.apply(this,arguments)}function ur(){return(ur=(0,P.Z)(function*(M){const S=kn(M),V=(yield Pa()).transaction(Di,"readwrite");yield V.objectStore(Di).delete(S),yield V.done})).apply(this,arguments)}function Mi(M,S){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,P.Z)(function*(M,S){const N=kn(M),Q=(yield Pa()).transaction(Di,"readwrite"),re=Q.objectStore(Di),Me=yield re.get(N),$e=S(Me);return void 0===$e?yield re.delete(N):yield re.put($e,N),yield Q.done,$e&&(!Me||Me.fid!==$e.fid)&&an(M,$e.fid),$e})).apply(this,arguments)}function Zn(M){return tr.apply(this,arguments)}function tr(){return(tr=(0,P.Z)(function*(M){let S;const N=yield Mi(M.appConfig,V=>{const Q=In(V),re=Dt(M,Q);return S=re.registrationPromise,re.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function In(M){return Rt(M||{fid:et(),registrationStatus:0})}function Dt(M,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(st.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function vt(M,S){return fn.apply(this,arguments)}(M,N);return{installationEntry:N,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:kr(M)}:{installationEntry:S}}function fn(){return(fn=(0,P.Z)(function*(M,S){try{const N=yield se(M,S);return tt(M.appConfig,N)}catch(N){throw ht(N)&&409===N.customData.serverCode?yield Fs(M.appConfig):yield tt(M.appConfig,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function kr(M){return nr.apply(this,arguments)}function nr(){return(nr=(0,P.Z)(function*(M){let S=yield ui(M.appConfig);for(;1===S.registrationStatus;)yield Pe(100),S=yield ui(M.appConfig);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:V}=yield Zn(M);return V||N}return S})).apply(this,arguments)}function ui(M){return Mi(M,S=>{if(!S)throw st.create("installation-not-found");return Rt(S)})}function Rt(M){return function Hs(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function ln(M,S){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,P.Z)(function*({appConfig:M,heartbeatServiceProvider:S},N){const V=un(M,N),Q=B(M,N),re=S.getImmediate({optional:!0});if(re){const ft=yield re.getHeartbeatsHeader();ft&&Q.append("x-firebase-client",ft)}const $e={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Y,appId:M.appId}})},rt=yield ve(()=>fetch(V,$e));if(rt.ok)return Ce(yield rt.json());throw yield Ee("Generate Auth Token",rt)})).apply(this,arguments)}function un(M,{fid:S}){return`${xe(M)}/${S}/authTokens:generate`}function dr(M){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,P.Z)(function*(M,S=!1){let N;const V=yield Mi(M.appConfig,re=>{if(!jt(re))throw st.create("not-registered");const Me=re.authToken;if(!S&&$(Me))return re;if(1===Me.requestStatus)return N=at(M,S),re;{if(!navigator.onLine)throw st.create("app-offline");const $e=K(re);return N=Nt(M,$e),$e}});return N?yield N:V.authToken})).apply(this,arguments)}function at(M,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(M,S){let N=yield ot(M.appConfig);for(;1===N.authToken.requestStatus;)yield Pe(100),N=yield ot(M.appConfig);const V=N.authToken;return 0===V.requestStatus?dr(M,S):V})).apply(this,arguments)}function ot(M){return Mi(M,S=>{if(!jt(S))throw st.create("not-registered");return function we(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Nt(M,S){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,P.Z)(function*(M,S){try{const N=yield ln(M,S),V=Object.assign(Object.assign({},S),{authToken:N});return yield tt(M.appConfig,V),N}catch(N){if(!ht(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield tt(M.appConfig,V)}else yield Fs(M.appConfig);throw N}})).apply(this,arguments)}function jt(M){return void 0!==M&&2===M.registrationStatus}function $(M){return 2===M.requestStatus&&!function H(M){const S=Date.now();return S<M.creationTime||M.creationTime+M.expiresIn<S+36e5}(M)}function K(M){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:S})}function Ye(){return(Ye=(0,P.Z)(function*(M){const S=M,{installationEntry:N,registrationPromise:V}=yield Zn(S);return V?V.catch(console.error):dr(S).catch(console.error),N.fid})).apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(M,S=!1){const N=M;return yield Tn(N),(yield dr(N,S)).token})).apply(this,arguments)}function Tn(M){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(M){const{registrationPromise:S}=yield Zn(M);S&&(yield S)})).apply(this,arguments)}function Bs(M){return st.create("missing-app-config-values",{valueName:M})}const Xo="installations",zn=M=>{const S=M.getProvider("app").getImmediate(),N=function Rn(M){if(!M||!M.options)throw Bs("App Configuration");if(!M.name)throw Bs("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!M.options[N])throw Bs(N);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(S);return{app:S,appConfig:N,heartbeatServiceProvider:(0,ae._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},uo=M=>{const S=M.getProvider("app").getImmediate(),N=(0,ae._getProvider)(S,Xo).getImmediate();return{getId:()=>function J(M){return Ye.apply(this,arguments)}(N),getToken:Q=>function bt(M){return nn.apply(this,arguments)}(N,Q)}};(function q1(){(0,ae._registerComponent)(new he.wA(Xo,zn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",uo,"PRIVATE"))})(),(0,ae.registerVersion)(pe,U),(0,ae.registerVersion)(pe,U,"esm2017");const es="@firebase/remote-config",ir=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class h0{constructor(S,N,V,Q){this.client=S,this.storage=N,this.storageCache=V,this.logger=Q}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-N,Q=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var N=this;return(0,P.Z)(function*(){const[V,Q]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(Q&&N.isCachedDataFresh(S.cacheMaxAgeMillis,V))return Q;S.eTag=Q&&Q.eTag;const re=yield N.client.fetch(S),Me=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Me.push(N.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Me),re})()}}function fo(M=navigator){return M.languages&&M.languages[0]||M.language}class Ac{constructor(S,N,V,Q,re,Me){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=V,this.projectId=Q,this.apiKey=re,this.appId=Me}fetch(S){var N=this;return(0,P.Z)(function*(){const[V,Q]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},rt={sdk_version:N.sdkVersion,app_instance_id:V,app_instance_id_token:Q,app_id:N.appId,language_code:fo()},ft={method:"POST",headers:$e,body:JSON.stringify(rt)},Pt=fetch(Me,ft),St=new Promise((Qn,_i)=>{S.signal.addEventListener(()=>{const Ts=new Error("The operation was aborted.");Ts.name="AbortError",_i(Ts)})});let sr;try{yield Promise.race([Pt,St]),sr=yield Pt}catch(Qn){let _i="fetch-client-network";throw"AbortError"===Qn?.name&&(_i="fetch-timeout"),ir.create(_i,{originalErrorMessage:Qn?.message})}let Yn=sr.status;const Ao=sr.headers.get("ETag")||void 0;let pa,Lt;if(200===sr.status){let Qn;try{Qn=yield sr.json()}catch(_i){throw ir.create("fetch-client-parse",{originalErrorMessage:_i?.message})}pa=Qn.entries,Lt=Qn.state}if("INSTANCE_STATE_UNSPECIFIED"===Lt?Yn=500:"NO_CHANGE"===Lt?Yn=304:("NO_TEMPLATE"===Lt||"EMPTY_CONFIG"===Lt)&&(pa={}),304!==Yn&&200!==Yn)throw ir.create("fetch-status",{httpStatus:Yn});return{status:Yn,eTag:Ao,config:pa}})()}}class k3{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,P.Z)(function*(){const V=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:V}){var Q=this;return(0,P.Z)(function*(){yield function fr(M,S){return new Promise((N,V)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(N,Q);M.addEventListener(()=>{clearTimeout(re),V(ir.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const re=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function f0(M){if(!(M instanceof ce.ZR&&M.customData))return!1;const S=Number(M.customData.httpStatus);return 429===S||500===S||503===S||504===S}(re))throw re;const Me={throttleEndTimeMillis:Date.now()+(0,ce.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Me),Q.attemptFetch(S,Me)}})()}}class p0{constructor(S,N,V,Q,re){this.app=S,this._client=N,this._storageCache=V,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nc(M,S){const N=M.target.error||void 0;return ir.create(S,{originalErrorMessage:N&&N?.message})}const Gs="app_namespace_store";class P3{constructor(S,N,V,Q=function L3(){return new Promise((M,S)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=V=>{S(Nc(V,"storage-open"))},N.onsuccess=V=>{M(V.target.result)},N.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Gs,{keyPath:"compositeKey"})}}catch(N){S(ir.create("storage-open",{originalErrorMessage:N?.message}))}})}()){this.appId=S,this.appName=N,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,P.Z)(function*(){const V=yield N.openDbPromise;return new Promise((Q,re)=>{const $e=V.transaction([Gs],"readonly").objectStore(Gs),rt=N.createCompositeKey(S);try{const ft=$e.get(rt);ft.onerror=Pt=>{re(Nc(Pt,"storage-get"))},ft.onsuccess=Pt=>{const St=Pt.target.result;Q(St?St.value:void 0)}}catch(ft){re(ir.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(S,N){var V=this;return(0,P.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((re,Me)=>{const rt=Q.transaction([Gs],"readwrite").objectStore(Gs),ft=V.createCompositeKey(S);try{const Pt=rt.put({compositeKey:ft,value:N});Pt.onerror=St=>{Me(Nc(St,"storage-set"))},Pt.onsuccess=()=>{re()}}catch(Pt){Me(ir.create("storage-set",{originalErrorMessage:Pt?.message}))}})})()}delete(S){var N=this;return(0,P.Z)(function*(){const V=yield N.openDbPromise;return new Promise((Q,re)=>{const $e=V.transaction([Gs],"readwrite").objectStore(Gs),rt=N.createCompositeKey(S);try{const ft=$e.delete(rt);ft.onerror=Pt=>{re(Nc(Pt,"storage-delete"))},ft.onsuccess=()=>{Q()}}catch(ft){re(ir.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class g0{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const N=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),re=yield N;re&&(S.lastFetchStatus=re);const Me=yield V;Me&&(S.lastSuccessfulFetchTimestampMillis=Me);const $e=yield Q;$e&&(S.activeConfig=$e)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function K1(){return cu.apply(this,arguments)}function cu(){return(cu=(0,P.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Ws(){(0,ae._registerComponent)(new he.wA("remote-config",function M(S,{instanceIdentifier:N}){const V=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ir.create("registration-window");if(!(0,ce.hl)())throw ir.create("indexed-db-unavailable");const{projectId:re,apiKey:Me,appId:$e}=V.options;if(!re)throw ir.create("registration-project-id");if(!Me)throw ir.create("registration-api-key");if(!$e)throw ir.create("registration-app-id");const rt=new P3($e,V.name,N=N||"firebase"),ft=new g0(rt),Pt=new ue.Yd(es);Pt.logLevel=ue.in.ERROR;const St=new Ac(Q,ae.SDK_VERSION,N,re,Me,$e),sr=new k3(St,rt),Yn=new h0(sr,rt,ft,Pt),Ao=new p0(V,Yn,ft,rt,Pt);return function jn(M){const S=(0,ce.m9)(M);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ao),Ao},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(es,"0.4.0"),(0,ae.registerVersion)(es,"0.4.0","esm2017")}();const ns="/firebase-messaging-sw.js",vs="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ha="google.c.a.c_id",Y1="google.c.a.c_l",xc="google.c.a.ts",lu="google.c.a.e";var ys=(()=>{return(M=ys||(ys={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ys;var M})();function Si(M){const S=new Uint8Array(M);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hi(M){const N=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(N),Q=new Uint8Array(V.length);for(let re=0;re<V.length;++re)Q[re]=V.charCodeAt(re);return Q}const ea="fcm_token_details_db",Or="fcm_token_object_Store";function uu(M){return du.apply(this,arguments)}function du(){return du=(0,P.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(ea))return null;let S=null;return(yield(0,fe.X3)(ea,5,{upgrade:(V=(0,P.Z)(function*(Q,re,Me,$e){var rt;if(re<2||!Q.objectStoreNames.contains(Or))return;const ft=$e.objectStore(Or),Pt=yield ft.index("fcmSenderId").get(M);if(yield ft.clear(),Pt)if(2===re){const St=Pt;if(!St.auth||!St.p256dh||!St.endpoint)return;S={token:St.fcmToken,createTime:null!==(rt=St.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:Si(St.vapidKey)}}}else if(3===re){const St=Pt;S={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Si(St.auth),p256dh:Si(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Si(St.vapidKey)}}}else if(4===re){const St=Pt;S={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:Si(St.auth),p256dh:Si(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:Si(St.vapidKey)}}}}),function(re,Me,$e,rt){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(ea),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),$n(S)?S:null;var V}),du.apply(this,arguments)}function $n(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:S}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ti="firebase-messaging-store";let Fr=null;function X1(){return Fr||(Fr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(M,S)=>{0===S&&M.createObjectStore(Ti)}})),Fr}function mo(M){return bs.apply(this,arguments)}function bs(){return(bs=(0,P.Z)(function*(M){const S=Vi(M),V=yield(yield X1()).transaction(Ti).objectStore(Ti).get(S);if(V)return V;{const Q=yield uu(M.appConfig.senderId);if(Q)return yield en(M,Q),Q}})).apply(this,arguments)}function en(M,S){return e2.apply(this,arguments)}function e2(){return(e2=(0,P.Z)(function*(M,S){const N=Vi(M),Q=(yield X1()).transaction(Ti,"readwrite");return yield Q.objectStore(Ti).put(S,N),yield Q.done,S})).apply(this,arguments)}function go(M){return t2.apply(this,arguments)}function t2(){return(t2=(0,P.Z)(function*(M){const S=Vi(M),V=(yield X1()).transaction(Ti,"readwrite");yield V.objectStore(Ti).delete(S),yield V.done})).apply(this,arguments)}function Vi({appConfig:M}){return M.appId}const Hn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xt(M,S){return r2.apply(this,arguments)}function r2(){return(r2=(0,P.Z)(function*(M,S){const N=yield Rc(M),V=Ie(S),Q={method:"POST",headers:N,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(Cs(M.appConfig),Q)).json()}catch(Me){throw Hn.create("token-subscribe-failed",{errorInfo:Me?.toString()})}if(re.error)throw Hn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Hn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function fu(M,S){return s2.apply(this,arguments)}function s2(){return(s2=(0,P.Z)(function*(M,S){const N=yield Rc(M),V=Ie(S.subscriptionOptions),Q={method:"PATCH",headers:N,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(`${Cs(M.appConfig)}/${S.token}`,Q)).json()}catch(Me){throw Hn.create("token-update-failed",{errorInfo:Me?.toString()})}if(re.error)throw Hn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Hn.create("token-update-no-token");return re.token})).apply(this,arguments)}function o2(M,S){return kc.apply(this,arguments)}function kc(){return(kc=(0,P.Z)(function*(M,S){const V={method:"DELETE",headers:yield Rc(M)};try{const re=yield(yield fetch(`${Cs(M.appConfig)}/${S}`,V)).json();if(re.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw Hn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function Cs({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Rc(M){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*({appConfig:M,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ie({p256dh:M,auth:S,endpoint:N,vapidKey:V}){const Q={web:{endpoint:N,auth:S,p256dh:M}};return V!==_s&&(Q.web.applicationPubKey=V),Q}const Kt=6048e5;function a2(M){return c2.apply(this,arguments)}function c2(){return(c2=(0,P.Z)(function*(M){const S=yield Oc(M.swRegistration,M.vapidKey),N={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:S.endpoint,auth:Si(S.getKey("auth")),p256dh:Si(S.getKey("p256dh"))},V=yield mo(M.firebaseDependencies);if(V){if(y0(V.subscriptionOptions,N))return Date.now()>=V.createTime+Kt?ta(M,{token:V.token,createTime:Date.now(),subscriptionOptions:N}):V.token;try{yield o2(M.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Ua(M.firebaseDependencies,N)}return Ua(M.firebaseDependencies,N)})).apply(this,arguments)}function Gn(M){return l2.apply(this,arguments)}function l2(){return(l2=(0,P.Z)(function*(M){const S=yield mo(M.firebaseDependencies);S&&(yield o2(M.firebaseDependencies,S.token),yield go(M.firebaseDependencies));const N=yield M.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function ta(M,S){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*(M,S){try{const N=yield fu(M.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield en(M.firebaseDependencies,V),N}catch(N){throw yield Gn(M),N}})).apply(this,arguments)}function Ua(M,S){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(M,S){const V={token:yield xt(M,S),createTime:Date.now(),subscriptionOptions:S};return yield en(M,V),V.token})).apply(this,arguments)}function Oc(M,S){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,P.Z)(function*(M,S){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hi(S)})})).apply(this,arguments)}function y0(M,S){return S.vapidKey===M.vapidKey&&S.endpoint===M.endpoint&&S.auth===M.auth&&S.p256dh===M.p256dh}function $a(M){const S={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function Wn(M,S){if(!S.notification)return;M.notification={};const N=S.notification.title;N&&(M.notification.title=N);const V=S.notification.body;V&&(M.notification.body=V);const Q=S.notification.image;Q&&(M.notification.image=Q);const re=S.notification.icon;re&&(M.notification.icon=re)}(S,M),function rs(M,S){!S.data||(M.data=S.data)}(S,M),function Pc(M,S){var N,V,Q,re,Me;if(!(S.fcmOptions||null!==(N=S.notification)&&void 0!==N&&N.click_action))return;M.fcmOptions={};const $e=null!==(Q=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(re=S.notification)||void 0===re?void 0:re.click_action;$e&&(M.fcmOptions.link=$e);const rt=null===(Me=S.fcmOptions)||void 0===Me?void 0:Me.analytics_label;rt&&(M.fcmOptions.analyticsLabel=rt)}(S,M),S}function vo(M){return"object"==typeof M&&!!M&&Ha in M}function ws(M,S){const N=[];for(let V=0;V<M.length;V++)N.push(M.charAt(V)),V<S.length&&N.push(S.charAt(V));return N.join("")}function Ga(M){return Hn.create("missing-app-config-values",{valueName:M})}ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class V3{constructor(S,N,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function z3(M){if(!M||!M.options)throw Ga("App Configuration Object");if(!M.name)throw Ga("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=M;for(const V of S)if(!N[V])throw Ga(V);return{appName:M.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:N,analyticsProvider:V}}_delete(){return Promise.resolve()}}function zc(M){return u2.apply(this,arguments)}function u2(){return(u2=(0,P.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(ns,{scope:vs}),M.swRegistration.update().catch(()=>{})}catch(S){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Wa(M,S){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,P.Z)(function*(M,S){if(!S&&!M.swRegistration&&(yield zc(M)),S||!M.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");M.swRegistration=S}})).apply(this,arguments)}function qa(M,S){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,P.Z)(function*(M,S){S?M.vapidKey=S:M.vapidKey||(M.vapidKey=_s)})).apply(this,arguments)}function h2(){return(h2=(0,P.Z)(function*(M,S){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield qa(M,S?.vapidKey),yield Wa(M,S?.serviceWorkerRegistration),a2(M)})).apply(this,arguments)}function Hc(M,S,N){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,P.Z)(function*(M,S,N){const V=Uc(S);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:N[Ha],message_name:N[Y1],message_time:N[xc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Uc(M){switch(M){case ys.NOTIFICATION_CLICKED:return"notification_open";case ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _o(){return(_o=(0,P.Z)(function*(M,S){const N=S.data;if(!N.isFirebaseMessaging)return;M.onMessageHandler&&N.messageType===ys.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler($a(N)):M.onMessageHandler.next($a(N)));const V=N.data;vo(V)&&"1"===V[lu]&&(yield Hc(M,N.messageType,V))})).apply(this,arguments)}const yo="@firebase/messaging",mr=M=>{const S=new V3(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function b0(M,S){return _o.apply(this,arguments)}(S,N)),S},fi=M=>{const S=M.getProvider("messaging").getImmediate();return{getToken:V=>function d2(M,S){return h2.apply(this,arguments)}(S,V)}};function C0(){return jc.apply(this,arguments)}function jc(){return(jc=(0,P.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function An(){(0,ae._registerComponent)(new he.wA("messaging",mr,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",fi,"PRIVATE")),(0,ae.registerVersion)(yo,"0.12.0"),(0,ae.registerVersion)(yo,"0.12.0","esm2017")}();const ra="analytics",E0="firebase_id",Co="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",g2="https://www.googletagmanager.com/gtag/js",qn=new ue.Yd("@firebase/analytics");function v2(M){return Promise.all(M.map(S=>S.catch(N=>N)))}function _2(M,S){const N=document.createElement("script");N.src=`${g2}?l=${M}&id=${S}`,N.async=!0,document.head.appendChild(N)}function mu(M,S,N,V,Q,re){return wo.apply(this,arguments)}function wo(){return(wo=(0,P.Z)(function*(M,S,N,V,Q,re){const Me=V[Q];try{if(Me)yield S[Me];else{const rt=(yield v2(N)).find(ft=>ft.measurementId===Q);rt&&(yield S[rt.appId])}}catch($e){qn.error($e)}M("config",Q,re)})).apply(this,arguments)}function ia(M,S,N,V,Q){return Do.apply(this,arguments)}function Do(){return(Do=(0,P.Z)(function*(M,S,N,V,Q){try{let re=[];if(Q&&Q.send_to){let Me=Q.send_to;Array.isArray(Me)||(Me=[Me]);const $e=yield v2(N);for(const rt of Me){const ft=$e.find(St=>St.measurementId===rt),Pt=ft&&S[ft.appId];if(!Pt){re=[];break}re.push(Pt)}}0===re.length&&(re=Object.values(S)),yield Promise.all(re),M("event",V,Q||{})}catch(re){qn.error(re)}})).apply(this,arguments)}function S0(M){const S=window.document.getElementsByTagName("script");for(const N of Object.values(S))if(N.src&&N.src.includes(g2)&&N.src.includes(M))return N;return null}const Mr=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qa=new class is{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function I0(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Ja(M){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,P.Z)(function*(M){var S;const{appId:N,apiKey:V}=M,Q={method:"GET",headers:I0(V)},re=Co.replace("{app-id}",N),Me=yield fetch(re,Q);if(200!==Me.status&&304!==Me.status){let $e="";try{const rt=yield Me.json();null!==(S=rt.error)&&void 0!==S&&S.message&&($e=rt.error.message)}catch{}throw Mr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:$e})}return Me.json()})).apply(this,arguments)}function Kn(M){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,P.Z)(function*(M,S=Qa,N){const{appId:V,apiKey:Q,measurementId:re}=M.options;if(!V)throw Mr.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:V};throw Mr.create("no-api-key")}const Me=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new w2;return setTimeout((0,P.Z)(function*(){$e.abort()}),void 0!==N?N:6e4),b2({appId:V,apiKey:Q,measurementId:re},Me,$e,S)})).apply(this,arguments)}function b2(M,S,N){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(M,{throttleEndTimeMillis:S,backoffCount:N},V,Q=Qa){var re;const{appId:Me,measurementId:$e}=M;try{yield Xa(V,S)}catch(rt){if($e)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${rt?.message}]`),{appId:Me,measurementId:$e};throw rt}try{const rt=yield Ja(M);return Q.deleteThrottleMetadata(Me),rt}catch(rt){const ft=rt;if(!C2(ft)){if(Q.deleteThrottleMetadata(Me),$e)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:Me,measurementId:$e};throw rt}const Pt=503===Number(null===(re=ft?.customData)||void 0===re?void 0:re.httpStatus)?(0,ce.$s)(N,Q.intervalMillis,30):(0,ce.$s)(N,Q.intervalMillis),St={throttleEndTimeMillis:Date.now()+Pt,backoffCount:N+1};return Q.setThrottleMetadata(Me,St),qn.debug(`Calling attemptFetch again in ${Pt} millis`),b2(M,St,V,Q)}})).apply(this,arguments)}function Xa(M,S){return new Promise((N,V)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(N,Q);M.addEventListener(()=>{clearTimeout(re),V(Mr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function C2(M){if(!(M instanceof ce.ZR&&M.customData))return!1;const S=Number(M.customData.httpStatus);return 429===S||500===S||503===S||504===S}class w2{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Ks,t1;function Ys(){return(Ys=(0,P.Z)(function*(M,S,N,V,Q){if(Q&&Q.global)M("event",N,V);else{const re=yield S;M("event",N,Object.assign(Object.assign({},V),{send_to:re}))}})).apply(this,arguments)}function So(M){t1=M}function qc(M){Ks=M}function Es(){return M2.apply(this,arguments)}function M2(){return(M2=(0,P.Z)(function*(){if(!(0,ce.hl)())return qn.warn(Mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(M){return qn.warn(Mr.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(M,S,N,V,Q,re,Me){var $e;const rt=Kn(M);rt.then(Yn=>{N[Yn.measurementId]=Yn.appId,M.options.measurementId&&Yn.measurementId!==M.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>qn.error(Yn)),S.push(rt);const ft=Es().then(Yn=>{if(Yn)return V.getId()}),[Pt,St]=yield Promise.all([rt,ft]);S0(re)||_2(re,Pt.measurementId),t1&&(Q("consent","default",t1),So(void 0)),Q("js",new Date);const sr=null!==($e=Me?.config)&&void 0!==$e?$e:{};return sr.origin="firebase",sr.update=!0,null!=St&&(sr[E0]=St),Q("config",Pt.measurementId,sr),Ks&&(Q("set",Ks),qc(void 0)),Pt.measurementId})).apply(this,arguments)}class S2{constructor(S){this.app=S}_delete(){return delete pi[this.app.options.appId],Promise.resolve()}}let pi={},Qs=[];const ca={};let ua,To,la="dataLayer",n1=!1;function fh(M,S,N){!function F3(){const M=[];if((0,ce.ru)()&&M.push("This is a browser extension environment."),(0,ce.zI)()||M.push("Cookies are not available."),M.length>0){const S=M.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),N=Mr.create("invalid-analytics-context",{errorInfo:S});qn.warn(N.message)}}();const V=M.options.appId;if(!V)throw Mr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Mr.create("no-api-key");qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pi[V])throw Mr.create("already-exists",{id:V});if(!n1){!function M0(M){let S=[];Array.isArray(window[M])?S=window[M]:window[M]=S}(la);const{wrappedGtag:re,gtagCore:Me}=function Za(M,S,N,V,Q){let re=function(...Me){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function y2(M,S,N,V){function re(){return(re=(0,P.Z)(function*(Me,$e,rt){try{"event"===Me?yield ia(M,S,N,$e,rt):"config"===Me?yield mu(M,S,N,V,$e,rt):"consent"===Me?M("consent","update",rt):M("set",$e)}catch(ft){qn.error(ft)}})).apply(this,arguments)}return function Q(Me,$e,rt){return re.apply(this,arguments)}}(re,M,S,N),{gtagCore:re,wrappedGtag:window[Q]}}(pi,Qs,ca,la,"gtag");To=re,ua=Me,n1=!0}return pi[V]=function oa(M,S,N,V,Q,re,Me){return aa.apply(this,arguments)}(M,Qs,ca,S,ua,la,N),new S2(M)}function mh(){return gu.apply(this,arguments)}function gu(){return(gu=(0,P.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const ut="@firebase/analytics";!function cn(){(0,ae._registerComponent)(new he.wA(ra,(S,{options:N})=>fh(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function M(S){try{const N=S.getProvider(ra).getImmediate();return{logEvent:(V,Q,re)=>function yn(M,S,N,V){M=(0,ce.m9)(M),function A0(M,S,N,V,Q){return Ys.apply(this,arguments)}(To,pi[M.app.options.appId],S,N,V).catch(Q=>qn.error(Q))}(N,V,Q,re)}}catch(N){throw Mr.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ae.registerVersion)(ut,"0.9.0"),(0,ae.registerVersion)(ut,"0.9.0","esm2017")}();var Hi=O(4408),Bn=O(7565);const I2=new class Js extends Bn.v{}(class s1 extends Hi.o{constructor(S,N){super(S,N),this.scheduler=S,this.work=N}schedule(S,N=0){return N>0?super.schedule(S,N):(this.delay=N,this.state=S,this.scheduler.flush(this),this)}execute(S,N){return N>0||this.closed?super.execute(S,N):this._execute(S,N)}requestAsyncId(S,N,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,N,V):(S.flush(this),0)}});var Zc=O(4986),o1=O(8505),da=O(9468),Ms=O(5363);const Je=new u.GfV("7.5.0"),a1="__angularfire_symbol__analyticsIsSupportedValue",Xs="__angularfire_symbol__analyticsIsSupported",ha="__angularfire_symbol__remoteConfigIsSupportedValue",fa="__angularfire_symbol__remoteConfigIsSupported",On="__angularfire_symbol__messagingIsSupportedValue",Kc="__angularfire_symbol__messagingIsSupported";function c1(M,S,N){if(S){if(1===S.length)return S[0];const re=S.filter(Me=>Me.app===N);if(1===re.length)return re[0]}return N.container.getProvider(M).getImmediate({optional:!0})}globalThis[Xs]||(globalThis[Xs]=mh().then(M=>globalThis[a1]=M).catch(()=>globalThis[a1]=!1)),globalThis[Kc]||(globalThis[Kc]=C0().then(M=>globalThis[On]=M).catch(()=>globalThis[On]=!1)),globalThis[fa]||(globalThis[fa]=K1().then(M=>globalThis[ha]=M).catch(()=>globalThis[ha]=!1));const ss=(M,S)=>{const N=S?[S]:(0,te.C6)(),V=[];return N.forEach(Q=>{Q.container.getProvider(M).instances.forEach(Me=>{V.includes(Me)||V.push(Me)})}),V};function Xr(){}class Ai{constructor(S,N=I2){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,V){const Q=this.zone;return this.delegate.schedule(function(Me){Q.runGuarded(()=>{S.apply(this,[Me])})},N,V)}}class Qc{constructor(S){this.zone=S,this.task=null}call(S,N){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xr,{},Xr,Xr)),N.pipe((0,o1.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gi=(()=>{class M{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Ai(Zone.current)),this.insideAngular=N.run(()=>new Ai(Zone.current,Zc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(N){return new(N||M)(u.LFG(u.R0b))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function vi(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Ss(M){return vi(),function Vn(M){return function(N){return(N=N.lift(new Qc(M.ngZone))).pipe((0,da.R)(M.outsideAngular),(0,Ms.Q)(M.insideAngular))}}(vi())(M)}},2090:(gt,Te,O)=>{O.d(Te,{$s:()=>ot,BH:()=>Wt,G6:()=>Ee,L:()=>fe,LL:()=>tn,Pz:()=>on,Sg:()=>et,UG:()=>De,US:()=>he,ZB:()=>j,ZR:()=>kn,aH:()=>yt,b$:()=>me,eu:()=>qe,hl:()=>We,jU:()=>lt,m9:()=>jt,ne:()=>tr,pd:()=>Ji,r3:()=>Pi,ru:()=>_e,tV:()=>pe,uI:()=>Oe,vZ:()=>tt,w1:()=>ht,xO:()=>ur,xb:()=>Ei,z$:()=>Ue,zI:()=>B,zd:()=>Mi});const ae=function($){const H=[];let K=0;for(let we=0;we<$.length;we++){let J=$.charCodeAt(we);J<128?H[K++]=J:J<2048?(H[K++]=J>>6|192,H[K++]=63&J|128):55296==(64512&J)&&we+1<$.length&&56320==(64512&$.charCodeAt(we+1))?(J=65536+((1023&J)<<10)+(1023&$.charCodeAt(++we)),H[K++]=J>>18|240,H[K++]=J>>12&63|128,H[K++]=J>>6&63|128,H[K++]=63&J|128):(H[K++]=J>>12|224,H[K++]=J>>6&63|128,H[K++]=63&J|128)}return H},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let J=0;J<$.length;J+=3){const Ye=$[J],bt=J+1<$.length,nn=bt?$[J+1]:0,Tn=J+2<$.length,Xt=Tn?$[J+2]:0;let $t=(15&nn)<<2|Xt>>6,Dr=63&Xt;Tn||(Dr=64,bt||($t=64)),we.push(K[Ye>>2],K[(3&Ye)<<4|nn>>4],K[$t],K[Dr])}return we.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(ae($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let K=0,we=0;for(;K<$.length;){const J=$[K++];if(J<128)H[we++]=String.fromCharCode(J);else if(J>191&&J<224){const Ye=$[K++];H[we++]=String.fromCharCode((31&J)<<6|63&Ye)}else if(J>239&&J<365){const Tn=((7&J)<<18|(63&$[K++])<<12|(63&$[K++])<<6|63&$[K++])-65536;H[we++]=String.fromCharCode(55296+(Tn>>10)),H[we++]=String.fromCharCode(56320+(1023&Tn))}else{const Ye=$[K++],bt=$[K++];H[we++]=String.fromCharCode((15&J)<<12|(63&Ye)<<6|63&bt)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const K=H?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let J=0;J<$.length;){const Ye=K[$.charAt(J++)],nn=J<$.length?K[$.charAt(J)]:0;++J;const Xt=J<$.length?K[$.charAt(J)]:64;++J;const Ze=J<$.length?K[$.charAt(J)]:64;if(++J,null==Ye||null==nn||null==Xt||null==Ze)throw Error();we.push(Ye<<2|nn>>4),64!==Xt&&(we.push(nn<<4&240|Xt>>2),64!==Ze&&we.push(Xt<<6&192|Ze))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},fe=function($){return function($){const H=ae($);return he.encodeByteArray(H,!0)}($).replace(/\./g,"")},pe=function($){try{return he.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function j($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const K in H)!H.hasOwnProperty(K)||!Y(K)||($[K]=j($[K],H[K]));return $}function Y($){return"__proto__"!==$}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function _e(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ht(){const $=Ue();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Ee(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise(($,H)=>{try{let K=!0;const we="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(we);J.onsuccess=()=>{J.result.close(),K||self.indexedDB.deleteDatabase(we),$(!0)},J.onupgradeneeded=()=>{K=!1},J.onerror=()=>{var Ye;H((null===(Ye=J.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(K){H(K)}})}function B(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const se=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=$&&pe($[1]);return H&&JSON.parse(H)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},yt=()=>{var $;return null===($=se())||void 0===$?void 0:$.config},on=$=>{var H;return null===(H=se())||void 0===H?void 0:H[`_${$}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,K)=>{this.resolve=H,this.reject=K})}wrapCallback(H){return(K,we)=>{K?this.reject(K):this.resolve(we),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(K):H(K,we))}}}function et($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=H||"demo-project",J=$.iat||0,Ye=$.sub||$.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:J,exp:J+3600,auth_time:J,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},$);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(bt)),""].join(".")}class kn extends Error{constructor(H,K,we){super(K),this.code=H,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}}class tn{constructor(H,K,we){this.service=H,this.serviceName=K,this.errors=we}create(H,...K){const we=K[0]||{},J=`${this.service}/${H}`,Ye=this.errors[H],bt=Ye?function an($,H){return $.replace(Kr,(K,we)=>{const J=H[we];return null!=J?String(J):`<${we}?>`})}(Ye,we):"Error";return new kn(J,`${this.serviceName}: ${bt} (${J}).`,we)}}const Kr=/\{\$([^}]+)}/g;function Pi($,H){return Object.prototype.hasOwnProperty.call($,H)}function Ei($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function tt($,H){if($===H)return!0;const K=Object.keys($),we=Object.keys(H);for(const J of K){if(!we.includes(J))return!1;const Ye=$[J],bt=H[J];if(zr(Ye)&&zr(bt)){if(!tt(Ye,bt))return!1}else if(Ye!==bt)return!1}for(const J of we)if(!K.includes(J))return!1;return!0}function zr($){return null!==$&&"object"==typeof $}function ur($){const H=[];for(const[K,we]of Object.entries($))Array.isArray(we)?we.forEach(J=>{H.push(encodeURIComponent(K)+"="+encodeURIComponent(J))}):H.push(encodeURIComponent(K)+"="+encodeURIComponent(we));return H.length?"&"+H.join("&"):""}function Mi($){const H={};return $.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[J,Ye]=we.split("=");H[decodeURIComponent(J)]=decodeURIComponent(Ye)}}),H}function Ji($){const H=$.indexOf("?");if(!H)return"";const K=$.indexOf("#",H);return $.substring(H,K>0?K:void 0)}function tr($,H){const K=new In($,H);return K.subscribe.bind(K)}class In{constructor(H,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{H(this)}).catch(we=>{this.error(we)})}next(H){this.forEachObserver(K=>{K.next(H)})}error(H){this.forEachObserver(K=>{K.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,K,we){let J;if(void 0===H&&void 0===K&&void 0===we)throw new Error("Missing Observer.");J=function vt($,H){if("object"!=typeof $||null===$)return!1;for(const K of H)if(K in $&&"function"==typeof $[K])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:K,complete:we},void 0===J.next&&(J.next=fn),void 0===J.error&&(J.error=fn),void 0===J.complete&&(J.complete=fn);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Ye}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,H)}sendOne(H,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{K(this.observers[H])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fn(){}function ot($,H=1e3,K=2){const we=H*Math.pow(K,$),J=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+J)}function jt($){return $&&$._delegate?$._delegate:$}},3274:(gt,Te,O)=>{var u=O(4650);let te=null;function P(){return te}const ue=new u.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function pe(){return(0,u.LFG)(j)}()},providedIn:"platform"}),n})();const U=new u.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Y()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Y()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ue(){return new j((0,u.LFG)(ue))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(st)},providedIn:"root"}),n})();const me=new u.OlP("appBaseHref");let st=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+lt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+lt(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+lt(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ht=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Oe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+lt(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+lt(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(We(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lt(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Oe,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return new xe((0,u.LFG)(_e))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}function za(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let pn=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),jn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Tc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Er("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Er("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Tc{constructor(){this.$implicit=null,this.ngIf=null}}function Er(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let h0=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),l=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),pr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const ys="browser";function Or(n){return"server"===n}let J1=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new hu((0,u.LFG)(ue),window)}),n})();class hu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Fr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ti(this.window.history)||Ti(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ti(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class mo{}class _o extends class b0 extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){te||(te=n)}(new _o)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function f2(){return yo=yo||document.querySelector("base"),yo?yo.getAttribute("href"):null}();return null==t?null:function fi(n){mr=mr||document.createElement("a"),mr.setAttribute("href",n);const e=mr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return za(document.cookie,e)}}let mr,yo=null;const An=new u.OlP("TRANSITION_ID"),jc=[{provide:u.ip1,useFactory:function C0(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[An,ue,u.zs3],multi:!0}];let $c=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const p2=new u.OlP("EventManagerPlugins");let w0=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p2),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class m2{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let bo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),na=(()=>{class n extends bo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(D0),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(D0))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function D0(n){P().remove(n)}const ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},E0=/%COMP%/g;function _2(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_2(n,i,t):(i=i.replace(E0,n),t.push(i))}return t}function M0(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ia(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new S0(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new T0(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=_2(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(w0),u.LFG(na),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ia{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ra[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Za(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Za(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=ra[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ra[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,M0(r)):this.eventManager.addEventListener(e,t,M0(r))}}function Za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class S0 extends ia{constructor(e,t,r,i){super(e),this.component=r;const a=_2(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function qn(n){return"_ngcontent-%COMP%".replace(E0,n)}(i+"-"+r.id),this.hostAttr=function v2(n){return"_nghost-%COMP%".replace(E0,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class T0 extends ia{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=_2(i.id,i.styles,[]);for(let l=0;l<a.length;l++){const h=document.createElement("style");h.textContent=a[l],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Mr=(()=>{class n extends m2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ka=["alt","control","meta","shift"],Ya={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},is={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qa=(()=>{class n extends m2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),Ka.forEach(b=>{const D=r.indexOf(b);D>-1&&(r.splice(D,1),l+=b+".")}),l+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=i,g.fullKey=l,g}static matchEventFullKeyCode(t,r){let i=Ya[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ka.forEach(l=>{l!==i&&(0,is[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const w2=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:ys},{provide:u.g9A,useValue:function b2(){_o.makeCurrent()},multi:!0},{provide:ue,useFactory:function Xa(){return(0,u.RDi)(document),document},deps:[]}]),Ks=new u.OlP(""),A0=[{provide:u.rWj,useClass:class pu{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const h=function(g){l=l||g,a--,0==a&&r(l)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Ys=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Eo(){return new u.qLn},deps:[]},{provide:p2,useClass:Mr,multi:!0,deps:[ue,u.R0b,u.Lbi]},{provide:p2,useClass:Qa,multi:!0,deps:[ue]},{provide:wo,useClass:wo,deps:[w0,na,u.AFp]},{provide:u.FYo,useExisting:wo},{provide:bo,useExisting:na},{provide:na,useClass:na,deps:[ue]},{provide:w0,useClass:w0,deps:[p2,u.R0b]},{provide:mo,useClass:$c,deps:[]},[]];let D2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:An,useExisting:u.AFp},jc]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ks,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Ys,...A0],imports:[pr,u.hGG]}),n})(),Ds=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function sa(){return new Ds((0,u.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let r1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(U3),r},providedIn:"root"}),n})(),U3=(()=>{class n extends r1{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function B3(n){return new U3(n.get(ue))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var yn=O(8996),mi=O(3269);function ut(...n){const e=(0,mi.yG)(n);return(0,yn.D)(n,e)}var bn=O(7579);class cn extends bn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const s1=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Bn=O(9751);const{isArray:Js}=Array,{getPrototypeOf:I2,prototype:j3,keys:Zc}=Object;var Ms=O(4671),Je=O(4004);const{isArray:a1}=Array;function ha(n){return(0,Je.U)(e=>function Xs(n,e){return a1(e)?n(...e):n(e)}(n,e))}var On=O(5403),Kc=O(9672);function eo(...n){const e=(0,mi.yG)(n),t=(0,mi.jO)(n),{args:r,keys:i}=function o1(n){if(1===n.length){const e=n[0];if(Js(e))return{args:e,keys:null};if(function da(n){return n&&"object"==typeof n&&I2(n)===j3}(e)){const t=Zc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,yn.D)([],e);const a=new Bn.y(function $3(n,e,t=Ms.y){return r=>{Yc(e,()=>{const{length:i}=n,a=new Array(i);let l=i,h=i;for(let g=0;g<i;g++)Yc(e,()=>{const b=(0,yn.D)(n[g],e);let D=!1;b.subscribe((0,On.x)(r,T=>{a[g]=T,D||(D=!0,h--),h||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>function fa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,l):Ms.y));return t?a.pipe(ha(t)):a}function Yc(n,e,t){n?(0,Kc.f)(t,n,e):e()}var A2=O(8189);function ss(...n){return function c1(){return(0,A2.J)(1)}()((0,yn.D)(n,(0,mi.yG)(n)))}var Xr=O(8421);function Ai(n){return new Bn.y(e=>{(0,Xr.Xf)(n()).subscribe(e)})}var Qc=O(9635),gi=O(576);function vi(n,e){const t=(0,gi.m)(n)?n:()=>n,r=i=>i.error(t());return new Bn.y(e?i=>e.schedule(r,0,i):r)}var Bi=O(515),Ui=O(727),gr=O(4482);function to(){return(0,gr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,On.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ss extends Bn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ui.w0;const t=this.getSubject();e.add(this.source.subscribe((0,On.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ui.w0.EMPTY)}return e}refCount(){return to()(this)}}function Vn(n,e){return(0,gr.e)((t,r)=>{let i=null,a=0,l=!1;const h=()=>l&&!i&&r.complete();t.subscribe((0,On.x)(r,g=>{i?.unsubscribe();let b=0;const D=a++;(0,Xr.Xf)(n(g,D)).subscribe(i=(0,On.x)(r,T=>r.next(e?e(g,T,D,b++):T),()=>{i=null,h()}))},()=>{l=!0,h()}))})}function Yt(n){return n<=0?()=>Bi.E:(0,gr.e)((e,t)=>{let r=0;e.subscribe((0,On.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Io(...n){const e=(0,mi.yG)(n);return(0,gr.e)((t,r)=>{(e?ss(n,t,e):ss(n,t)).subscribe(r)})}function M(n,e){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var S=O(5577);function N(n){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function V(n=Q){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Q(){return new s1}function re(n,e){const t=arguments.length>=2;return r=>r.pipe(n?M((i,a)=>n(i,a,r)):Ms.y,Yt(1),t?N(e):V(()=>new s1))}function Me(n,e){return(0,gi.m)(e)?(0,S.z)(n,e,1):(0,S.z)(n,1)}var $e=O(8505);function rt(n){return(0,gr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,On.x)(t,void 0,void 0,l=>{a=(0,Xr.Xf)(n(l,rt(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function ft(n,e,t,r,i){return(a,l)=>{let h=t,g=e,b=0;a.subscribe((0,On.x)(l,D=>{const T=b++;g=h?n(g,D,T):(h=!0,D),r&&l.next(g)},i&&(()=>{h&&l.next(g),l.complete()})))}}function Pt(n,e){return(0,gr.e)(ft(n,e,arguments.length>=2,!0))}function St(n){return n<=0?()=>Bi.E:(0,gr.e)((e,t)=>{let r=[];e.subscribe((0,On.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?M((i,a)=>n(i,a,r)):Ms.y,St(1),t?N(e):V(()=>new s1))}function pa(n){return(0,gr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Lt="primary",Qn=Symbol("RouteTitle");class _i{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ts(n){return new _i(n)}function Z7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],h=n[a];if(l.startsWith(":"))i[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function no(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!vu(n[i],e[i]))return!1;return!0}function vu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function W3(n){return Array.prototype.concat.apply([],n)}function q3(n){return n.length>0?n[n.length-1]:null}function vr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function os(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,yn.D)(Promise.resolve(n)):ut(n)}const K7={exact:function K3(n,e,t){if(!k2(n.segments,e.segments)||!N2(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!K3(n.children[r],e.children[r],t))return!1;return!0},subset:Cu},yu={exact:function _h(n,e){return no(n,e)},subset:function bu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vu(n[t],e[t]))},ignored:()=>!0};function vh(n,e,t){return K7[t.paths](n.root,e.root,t.matrixParams)&&yu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Cu(n,e,t){return yh(n,e,e.segments,t)}function yh(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!k2(i,t)||e.hasChildren()||!N2(i,t,r))}if(n.segments.length===t.length){if(!k2(n.segments,t)||!N2(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Cu(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(k2(n.segments,i)&&N2(n.segments,i,r)&&n.children[Lt])&&yh(n.children[Lt],e,a,r)}}function N2(n,e,t){return e.every((r,i)=>yu[t](n[i].parameters,r.parameters))}class x2{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return k0.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xc(this)}}class x0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ts(this.parameters)),this._parameterMap}toString(){return Du(this)}}function k2(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Jc},providedIn:"root"}),n})();class Jc{parse(e){const t=new No(e);return new x2(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ma(e.root,!0)}`,r=function Eh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${el(t)}=${el(i)}`).join("&"):`${el(t)}=${el(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function wh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const k0=new Jc;function Xc(n){return n.segments.map(e=>Du(e)).join("/")}function ma(n,e){if(!n.hasChildren())return Xc(n);if(e){const t=n.children[Lt]?ma(n.children[Lt],!1):"",r=[];return vr(n.children,(i,a)=>{a!==Lt&&r.push(`${a}:${ma(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ch(n,e){let t=[];return vr(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),vr(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[ma(n.children[Lt],!1)]:[`${i}:${ma(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${Xc(n)}/${t[0]}`:`${Xc(n)}/(${t.join("//")})`}}function Is(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function el(n){return Is(n).replace(/%3B/gi,";")}function tl(n){return Is(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nl(n){return decodeURIComponent(n)}function rl(n){return nl(n.replace(/\+/g,"%20"))}function Du(n){return`${tl(n.path)}${function Dh(n){return Object.keys(n).map(e=>`;${tl(e)}=${tl(n[e])}`).join("")}(n.parameters)}`}const Y3=/^[^\/()?;=#]+/;function R0(n){const e=n.match(Y3);return e?e[0]:""}const Mh=/^[^=?&#]+/,Eu=/^[^&#]+/;class No{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new Qt(e,t)),r}parseSegment(){const e=R0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new x0(nl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=R0(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=R0(this.remaining);i&&(r=i,this.capture(r))}e[nl(t)]=nl(r)}parseQueryParam(e){const t=function ei(n){const e=n.match(Mh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Sh(n){const e=n.match(Eu);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=rl(t),a=rl(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=R0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Lt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Lt]:new Qt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Lr(n){return n.segments.length>0?new Qt([],{[Lt]:n}):n}function ga(n){const e={};for(const r of Object.keys(n.children)){const a=ga(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function O0(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}function l1(n){return n instanceof x2}function Ah(n,e,t,r,i){if(0===t.length)return O2(e.root,e.root,e.root,r,i);const a=function Q3(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new z0(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return vr(a.outlets,(g,b)=>{h[b]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new z0(t,e,r)}(t);return a.toRoot()?O2(e.root,e.root,new Qt([],{}),r,i):function l(g){const b=function h1(n,e,t,r){if(n.isAbsolute)return new d1(e.root,!0,0);if(-1===r)return new d1(t,t===e.root,0);return function X3(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new d1(r,!1,i-a)}(t,r+(R2(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),D=b.processChildren?xo(b.segmentGroup,b.index,a.commands):f1(b.segmentGroup,b.index,a.commands);return O2(e.root,b.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function R2(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function u1(n){return"object"==typeof n&&null!=n&&n.outlets}function O2(n,e,t,r,i){let l,a={};r&&vr(r,(g,b)=>{a[b]=Array.isArray(g)?g.map(D=>`${D}`):`${g}`}),l=n===e?t:P0(n,e,t);const h=Lr(ga(l));return new x2(h,a,i)}function P0(n,e,t){const r={};return vr(n.children,(i,a)=>{r[a]=i===e?t:P0(i,e,t)}),new Qt(n.segments,r)}class z0{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&R2(r[0]))throw new u.vHH(4003,!1);const i=r.find(u1);if(i&&i!==q3(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class d1{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function f1(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return xo(n,e,t);const r=function ed(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],h=t[r];if(u1(h))break;const g=`${h}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&b&&"object"==typeof b&&void 0===b.outlets){if(!Mu(g,b,l))return a;r+=2}else{if(!Mu(g,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Qt(n.segments.slice(0,r.pathIndex),{});return a.children[Lt]=new Qt(n.segments.slice(r.pathIndex),n.children),xo(a,0,i)}return r.match&&0===i.length?new Qt(n.segments,{}):r.match&&!n.hasChildren()?td(n,e,t):r.match?xo(n,0,i):td(n,e,t)}function xo(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const r=function Nh(n){return u1(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return vr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=f1(n.children[l],e,a))}),vr(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new Qt(n.segments,i)}}function td(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(u1(a)){const g=ko(a.outlets);return new Qt(r,g)}if(0===i&&R2(t[0])){r.push(new x0(n.segments[e].path,V0(t[0]))),i++;continue}const l=u1(a)?a.outlets[Lt]:`${a}`,h=i<t.length-1?t[i+1]:null;l&&h&&R2(h)?(r.push(new x0(l,V0(h))),i+=2):(r.push(new x0(l,{})),i++)}return new Qt(r,{})}function ko(n){const e={};return vr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=td(new Qt([],{}),0,t))}),e}function V0(n){const e={};return vr(n,(t,r)=>e[r]=`${t}`),e}function Mu(n,e,t){return n==t.path&&no(e,t.parameters)}class Ro{constructor(e,t){this.id=e,this.url=t}}class L2 extends Ro{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class p1 extends Ro{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class F0 extends Ro{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nd extends Ro{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xh extends Ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sl extends Ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kh extends Ro{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Su extends Ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tu extends Ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Iu{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rh{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class id{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H0{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ol{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Au(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Au(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ni(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ni(e,this._root).map(t=>t.value)}}function Au(n,e){if(n===e.value)return e;for(const t of e.children){const r=Au(n,t);if(r)return r}return null}function Ni(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ni(n,t);if(r.length)return r.unshift(e),r}return[]}class ti{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function m1(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Nu extends ol{constructor(e,t){super(e),this.snapshot=t,cl(this,e)}toString(){return this.snapshot.toString()}}function al(n,e){const t=function U0(n,e){const l=new xi([],{},{},"",{},Lt,e,null,n.root,-1,{});return new G0("",new ti(l,[]))}(n,e),r=new cn([new x0("",{})]),i=new cn({}),a=new cn({}),l=new cn({}),h=new cn(""),g=new Lo(r,i,l,h,a,Lt,e,t.root);return g.snapshot=t.root,new Nu(new ti(g,[]),t)}class Lo{constructor(e,t,r,i,a,l,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=h,this.title=this.data?.pipe((0,Je.U)(b=>b[Qn]))??ut(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(e=>Ts(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(e=>Ts(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function j0(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function $0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class xi{constructor(e,t,r,i,a,l,h,g,b,D,T,k){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=h,this.title=this.data?.[Qn],this.routeConfig=g,this._urlSegment=b,this._lastPathIndex=D,this._correctedLastPathIndex=k??D,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class G0 extends ol{constructor(e,t){super(t),this.url=e,cl(this,t)}toString(){return W0(this._root)}}function cl(n,e){e.value._routerState=n,e.children.forEach(t=>cl(n,t))}function W0(n){const e=n.children.length>0?` { ${n.children.map(W0).join(", ")} } `:"";return`${n.value}${e}`}function ll(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,no(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),no(e.params,t.params)||n.params.next(t.params),function G3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!no(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),no(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function va(n,e){const t=no(n.params,e.params)&&function bh(n,e){return k2(n,e)&&n.every((t,r)=>no(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||va(n.parent,e.parent))}function _a(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function xu(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _a(n,r,i);return _a(n,r)})}(n,e,t);return new ti(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>_a(n,h)),l}}const r=function Oh(n){return new Lo(new cn(n.url),new cn(n.params),new cn(n.queryParams),new cn(n.fragment),new cn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>_a(n,a));return new ti(r,i)}}const as="ngNavigationCancelingError";function ya(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=l1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=P2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function P2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[as]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ul(n){return ba(n)&&l1(n.url)}function ba(n){return n&&n[as]}class ku{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dl,this.attachRef=null}}let dl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ku,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ru=!1;let Ou=(()=>{class n{constructor(t,r,i,a,l){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Ru);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Ru);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Ru);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,Ru);this._activatedRoute=t;const i=this.location,l=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new Lu(t,h,i.injector);if(r&&function _(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(l);this.activated=i.createComponent(b,i.length,g)}else this.activated=i.createComponent(l,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dl),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Lu{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Lo?this.route:e===dl?this.childContexts:this.parent.get(e,t)}}let p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[Ou],encapsulation:2}),n})();function v(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wt(n){const e=n.children&&n.children.map(wt),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=p),t}function Cn(n){return n.outlet||Lt}function _r(n,e){const t=n.filter(r=>Cn(r)===e);return t.push(...n.filter(r=>Cn(r)!==e)),t}function ji(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Pu{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ll(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=m1(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),vr(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=m1(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=m1(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=m1(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new B0(a.value.snapshot))}),e.children.length&&this.forwardEvent(new id(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(ll(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),ll(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=ji(i.snapshot),g=h?.get(u._Vd)??null;l.attachRef=null,l.route=i,l.resolver=g,l.injector=h,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class zu{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hl{constructor(e,t){this.component=e,this.route=t}}function Vu(n,e,t){const r=n._root;return g1(r,e?e._root:null,t,[r.value])}function Ca(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function g1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=m1(e);return n.children.forEach(l=>{(function cd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const g=function Lh(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!k2(n.url,e.url);case"pathParamsOrQueryParamsChange":return!k2(n.url,e.url)||!no(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!va(n,e)||!no(n.queryParams,e.queryParams);default:return!va(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new zu(r)):(a.data=l.data,a._resolvedData=l._resolvedData),g1(n,e,a.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new hl(h.outlet.component,l))}else l&&v1(e,h,i),i.canActivateChecks.push(new zu(r)),g1(n,null,a.component?h?h.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),vr(a,(l,h)=>v1(l,t.getContext(h),i)),i}function v1(n,e,t){const r=m1(n),i=n.value;vr(r,(a,l)=>{v1(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new hl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function wa(n){return"function"==typeof n}function Hu(n){return n instanceof s1||"EmptyError"===n?.name}const q0=Symbol("INITIAL_VALUE");function Bu(){return Vn(n=>eo(n.map(e=>e.pipe(Yt(1),Io(q0)))).pipe((0,Je.U)(e=>{for(const t of e)if(!0!==t){if(t===q0)return q0;if(!1===t||t instanceof x2)return t}return!0}),M(e=>e!==q0),Yt(1)))}function ud(n){return(0,Qc.z)((0,$e.b)(e=>{if(l1(e))throw ya(0,e)}),(0,Je.U)(e=>!0===e))}const or={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ph(n,e,t,r,i){const a=zh(n,e,t);return a.matched?function Hv(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ut(i.map(l=>{const h=Ca(l,n);return os(function aD(n){return n&&wa(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Bu(),ud()):ut(!0)}(r=v(e,r),e,t).pipe((0,Je.U)(l=>!0===l?a:{...or})):ut(a)}function zh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...or}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Z7)(t,n,e);if(!i)return{...or};const a={};vr(i.posParams,(h,g)=>{a[g]=h.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Z0(n,e,t,r,i="corrected"){if(t.length>0&&function Uv(n,e,t){return t.some(r=>dd(n,e,r)&&Cn(r)!==Lt)}(n,t,r)){const l=new Qt(e,function Bv(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Cn(a)!==Lt){const l=new Qt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Cn(a)]=l}return i}(n,e,r,new Qt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function jv(n,e,t){return t.some(r=>dd(n,e,r))}(n,t,r)){const l=new Qt(n.segments,function np(n,e,t,r,i,a){const l={};for(const h of r)if(dd(n,t,h)&&!i[Cn(h)]){const g=new Qt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,l[Cn(h)]=g}return{...i,...l}}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const a=new Qt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function dd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rp(n,e,t,r){return!!(Cn(n)===r||r!==Lt&&dd(e,t,n))&&("**"===n.path||zh(e,n,t).matched)}function $v(n,e,t){return 0===e.length&&!n.children[t]}const Vh=!1;class z2{constructor(e){this.segmentGroup=e||null}}class hd{constructor(e){this.urlTree=e}}function K0(n){return vi(new z2(n))}function Fh(n){return vi(new hd(n))}class op{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Z0(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Lt).pipe((0,Je.U)(a=>this.createUrlTree(ga(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rt(a=>{if(a instanceof hd)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof z2?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Lt).pipe((0,Je.U)(i=>this.createUrlTree(ga(i),e.queryParams,e.fragment))).pipe(rt(i=>{throw i instanceof z2?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Vh)}createUrlTree(e,t,r){const i=Lr(e);return new x2(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Je.U)(a=>new Qt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,yn.D)(i).pipe(Me(a=>{const l=r.children[a],h=_r(t,a);return this.expandSegmentGroup(e,h,l,a).pipe((0,Je.U)(g=>({segment:g,outlet:a})))}),Pt((a,l)=>(a[l.outlet]=l.segment,a),{}),sr())}expandSegment(e,t,r,i,a,l){return(0,yn.D)(r).pipe(Me(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,l).pipe(rt(b=>{if(b instanceof z2)return ut(null);throw b}))),re(h=>!!h),rt((h,g)=>{if(Hu(h))return $v(t,i,a)?ut(new Qt([],{})):K0(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,l,h){return rp(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):K0(t):K0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Fh(a):this.lineralizeSegments(r,a).pipe((0,S.z)(l=>{const h=new Qt(l,{});return this.expandSegment(e,h,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:h,consumedSegments:g,remainingSegments:b,positionalParamSegments:D}=zh(t,i,a);if(!h)return K0(t);const T=this.applyRedirectCommands(g,i.redirectTo,D);return i.redirectTo.startsWith("/")?Fh(T):this.lineralizeSegments(i,T).pipe((0,S.z)(k=>this.expandSegment(e,t,r,k.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=v(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Je.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Qt(i,{})))):ut(new Qt(i,{}))):Ph(t,r,i,e).pipe(Vn(({matched:l,consumedSegments:h,remainingSegments:g})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,S.z)(D=>{const T=D.injector??e,k=D.routes,{segmentGroup:L,slicedSegments:F}=Z0(t,h,g,k),W=new Qt(L.segments,L.children);if(0===F.length&&W.hasChildren())return this.expandChildren(T,k,W).pipe((0,Je.U)(ze=>new Qt(h,ze)));if(0===k.length&&0===F.length)return ut(new Qt(h,{}));const X=Cn(r)===a;return this.expandSegment(T,W,k,F,X?Lt:a,!0).pipe((0,Je.U)(Ae=>new Qt(h.concat(Ae.segments),Ae.children)))})):K0(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function tp(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ut(!0):ut(i.map(l=>{const h=Ca(l,n);return os(function Fu(n){return n&&wa(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Bu(),ud())}(e,t,r).pipe((0,S.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,$e.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Gv(n){return vi(P2(Vh,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ut(r);if(i.numberOfChildren>1||!i.children[Lt])return vi(new u.vHH(4e3,Vh));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new x2(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return vr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return vr(t.children,(h,g)=>{l[g]=this.createSegmentGroup(e,h,r,i)}),new Qt(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Vh);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Wv{}class cp{constructor(e,t,r,i,a,l,h,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=Z0(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe((0,Je.U)(t=>{if(null===t)return null;const r=new xi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ti(r,t),a=new G0(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=j0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,yn.D)(Object.keys(r.children)).pipe(Me(i=>{const a=r.children[i],l=_r(t,i);return this.processSegmentGroup(e,l,a,i)}),Pt((i,a)=>i&&a?(i.push(...a),i):null),function Yn(n,e=!1){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),N(null),sr(),(0,Je.U)(i=>{if(null===i)return null;const a=Uu(i);return function fl(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,yn.D)(t).pipe(Me(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),re(l=>!!l),rt(l=>{if(Hu(l))return $v(r,i,a)?ut([]):ut(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!rp(t,r,i,a))return ut(null);let l;if("**"===t.path){const h=i.length>0?q3(i).parameters:{},g=ju(r)+i.length;l=ut({snapshot:new xi(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$h(t),Cn(t),t.component??t._loadedComponent??null,t,fd(r),g,pd(t),g),consumedSegments:[],remainingSegments:[]})}else l=Ph(r,t,i,e).pipe((0,Je.U)(({matched:h,consumedSegments:g,remainingSegments:b,parameters:D})=>{if(!h)return null;const T=ju(r)+g.length;return{snapshot:new xi(g,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$h(t),Cn(t),t.component??t._loadedComponent??null,t,fd(r),T,pd(t),T),consumedSegments:g,remainingSegments:b}}));return l.pipe(Vn(h=>{if(null===h)return ut(null);const{snapshot:g,consumedSegments:b,remainingSegments:D}=h;e=t._injector??e;const T=t._loadedInjector??e,k=function qv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:F}=Z0(r,b,D,k.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===F.length&&L.hasChildren())return this.processChildren(T,k,L).pipe((0,Je.U)(X=>null===X?null:[new ti(g,X)]));if(0===k.length&&0===F.length)return ut([new ti(g,[])]);const W=Cn(t)===a;return this.processSegment(T,k,L,F,W?Lt:a).pipe((0,Je.U)(X=>null===X?null:[new ti(g,X)]))}))}}function jh(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Uu(n){const e=[],t=new Set;for(const r of n){if(!jh(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Uu(r.children);e.push(new ti(r.value,i))}return e.filter(r=>!t.has(r))}function fd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ju(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $h(n){return n.data||{}}function pd(n){return n.resolve||{}}function Yv(n,e){return(0,S.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ut(t);let a=0;return(0,yn.D)(i).pipe(Me(l=>function lp(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!up(i)&&(a[Qn]=i.title),function Y0(n,e,t,r){const i=function Qv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ut({});const a={};return(0,yn.D)(i).pipe((0,S.z)(l=>function Jv(n,e,t,r){const i=ji(e)??r,a=Ca(n,i);return os(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(re(),(0,$e.b)(h=>{a[l]=h}))),St(1),function Ao(n){return(0,Je.U)(()=>n)}(a),rt(l=>Hu(l)?Bi.E:vi(l)))}(a,n,e,r).pipe((0,Je.U)(l=>(n._resolvedData=l,n.data=j0(n,t).resolve,i&&up(i)&&(n.data[Qn]=i.title),null)))}(l.route,r,n,e)),(0,$e.b)(()=>a++),St(1),(0,S.z)(l=>a===i.length?ut(t):Bi.E))})}function up(n){return"string"==typeof n.title||null===n.title}function Gh(n){return Vn(e=>{const t=n(e);return t?(0,yn.D)(t).pipe((0,Je.U)(()=>e)):ut(e)})}let md=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Lt);return r}getResolvedTitleForRoute(t){return t.data[Qn]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(dp)},providedIn:"root"}),n})(),dp=(()=>{class n extends md{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ds))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class e_{}class uD extends class hp{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const F2=new u.OlP("",{providedIn:"root",factory:()=>({})}),H2=new u.OlP("ROUTES");let pl=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=os(t.loadComponent()).pipe((0,$e.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),pa(()=>{this.componentLoaders.delete(t)})),i=new Ss(r,()=>new bn.x).pipe(to());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Je.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,b,D=!1;Array.isArray(h)?b=h:(g=h.create(t).injector,b=W3(g.get(H2,[],u.XFs.Self|u.XFs.Optional)));return{routes:b.map(wt),injector:g}}),pa(()=>{this.childrenLoaders.delete(r)})),l=new Ss(a,()=>new bn.x).pipe(to());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return os(t()).pipe((0,S.z)(r=>r instanceof u.YKP||Array.isArray(r)?ut(r):(0,yn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class n_{}class dD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function r_(n){throw n}function i_(n,e,t){return e.parse("/")}const s_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function gd(){const n=(0,u.f3M)(wu),e=(0,u.f3M)(dl),t=(0,u.f3M)(xe),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),a=(0,u.f3M)(H2,{optional:!0})??[],l=(0,u.f3M)(F2,{optional:!0})??{},h=(0,u.f3M)(dp),g=(0,u.f3M)(md,{optional:!0}),b=(0,u.f3M)(n_,{optional:!0}),D=(0,u.f3M)(e_,{optional:!0}),T=new Hr(null,n,e,t,r,i,W3(a));return b&&(T.urlHandlingStrategy=b),D&&(T.routeReuseStrategy=D),T.titleStrategy=g??h,function mp(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,T),T}let Hr=(()=>{class n{constructor(t,r,i,a,l,h,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bn.x,this.errorHandler=r_,this.malformedUriErrorHandler=i_,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ut(void 0),this.urlHandlingStrategy=new dD,this.routeReuseStrategy=new uD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(pl),this.configLoader.onLoadEndListener=k=>this.triggerEvent(new Iu(k)),this.configLoader.onLoadStartListener=k=>this.triggerEvent(new rd(k)),this.ngModule=l.get(u.h0i),this.console=l.get(u.c2e);const T=l.get(u.R0b);this.isNgZoneEnabled=T instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Z3(){return new x2(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=al(this.currentUrlTree,this.rootComponentType),this.transitions=new cn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(M(i=>0!==i.id),(0,Je.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Vn(i=>{let a=!1,l=!1;return ut(i).pipe((0,$e.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vn(h=>{const g=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return vd(h.source)&&(this.browserUrlTree=h.extractedUrl),ut(h).pipe(Vn(T=>{const k=this.transitions.getValue();return r.next(new L2(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),k!==this.transitions.getValue()?Bi.E:Promise.resolve(T)}),function Hh(n,e,t,r){return Vn(i=>function sp(n,e,t,r,i){return new op(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Je.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,$e.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},i.urlAfterRedirects=T.urlAfterRedirects}),function Kv(n,e,t,r,i,a){return(0,S.z)(l=>function ap(n,e,t,r,i,a,l="emptyOnly",h="legacy"){return new cp(n,e,t,r,i,l,h,a).recognize().pipe(Vn(g=>null===g?function Uh(n){return new Bn.y(e=>e.error(n))}(new Wv):ut(g)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i,a).pipe((0,Je.U)(h=>({...l,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,$e.b)(T=>{if(i.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(L,T)}this.browserUrlTree=T.urlAfterRedirects}const k=new xh(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(k)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:L,source:F,restoredState:W,extras:X}=h,ge=new L2(k,this.serializeUrl(L),F,W);r.next(ge);const Ae=al(L,this.rootComponentType).snapshot;return ut(i={...h,targetSnapshot:Ae,urlAfterRedirects:L,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Bi.E}),(0,$e.b)(h=>{const g=new sl(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,Je.U)(h=>i={...h,guards:Vu(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function lD(n,e){return(0,S.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?ut({...t,guardsResult:!0}):function X7(n,e,t,r){return(0,yn.D)(n).pipe((0,S.z)(i=>function ld(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ut(a.map(h=>{const g=ji(e)??i,b=Ca(h,g);return os(function J7(n){return n&&wa(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):g.runInContext(()=>b(n,e,t,r))).pipe(re())})).pipe(Bu()):ut(!0)}(i.component,i.route,t,e,r)),re(i=>!0!==i,!0))}(l,r,i,n).pipe((0,S.z)(h=>h&&function _1(n){return"boolean"==typeof n}(h)?function Pv(n,e,t,r){return(0,yn.D)(e).pipe(Me(i=>ss(function Vv(n,e){return null!==n&&e&&e(new Rh(n)),ut(!0)}(i.route.parent,r),function zv(n,e){return null!==n&&e&&e(new H0(n)),ut(!0)}(i.route,r),function ep(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function ad(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Ai(()=>ut(l.guards.map(g=>{const b=ji(l.node)??t,D=Ca(g,b);return os(function Q7(n){return n&&wa(n.canActivateChild)}(D)?D.canActivateChild(r,n):b.runInContext(()=>D(r,n))).pipe(re())})).pipe(Bu())));return ut(a).pipe(Bu())}(n,i.path,t),function Fv(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const i=r.map(a=>Ai(()=>{const l=ji(e)??t,h=Ca(a,l);return os(function Y7(n){return n&&wa(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(re())}));return ut(i).pipe(Bu())}(n,i.route,t))),re(i=>!0!==i,!0))}(r,a,n,e):ut(h)),(0,Je.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,$e.b)(h=>{if(i.guardsResult=h.guardsResult,l1(h.guardsResult))throw ya(0,h.guardsResult);const g=new kh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),M(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Gh(h=>{if(h.guards.canActivateChecks.length)return ut(h).pipe((0,$e.b)(g=>{const b=new Su(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}),Vn(g=>{let b=!1;return ut(g).pipe(Yv(this.paramsInheritanceStrategy,this.ngModule.injector),(0,$e.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,$e.b)(g=>{const b=new Tu(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}))}),Gh(h=>{const g=b=>{const D=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,$e.b)(T=>{b.component=T}),(0,Je.U)(()=>{})));for(const T of b.children)D.push(...g(T));return D};return eo(g(h.targetSnapshot.root)).pipe(N(),Yt(1))}),Gh(()=>this.afterPreactivation()),(0,Je.U)(h=>{const g=function ki(n,e,t){const r=_a(n,e._root,t?t._root:void 0);return new Nu(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:g}}),(0,$e.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Je.U)(r=>(new Pu(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,$e.b)({next(){a=!0},complete(){a=!0}}),pa(()=>{a||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),rt(h=>{if(l=!0,ba(h)){ul(h)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new F0(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(g),ul(h)){const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vd(i.source)};this.scheduleNavigation(b,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new nd(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(g);try{i.resolve(this.errorHandler(h))}catch(b){i.reject(b)}}return Bi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(wt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:h,preserveFragment:g}=r,b=i||this.routerState.root,D=g?this.currentUrlTree.fragment:l;let T=null;switch(h){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),Ah(b,this.currentUrlTree,t,T,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=l1(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function o_(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...s_}:!1===r?{...pp}:r,l1(t))return vh(this.currentUrlTree,t,i);const a=this.parseUrl(t);return vh(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new p1(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let h,g,b;l?(h=l.resolve,g=l.reject,b=l.promise):b=new Promise((k,L)=>{h=k,g=L});const D=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),T=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:D,targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:h,reject:g,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(k=>Promise.reject(k))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new F0(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return gd()},providedIn:"root"}),n})();function vd(n){return"imperative"!==n}let _d=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new bn.x,this.subscription=t.events.subscribe(a=>{a instanceof p1&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,l){return!!(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Hr),u.Y36(Lo),u.Y36(_e))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class gp{}let l_=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(M(t=>t instanceof p1),Me(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,h=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,yn.D)(i).pipe((0,A2.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const a=i.pipe((0,S.z)(l=>null===l?ut(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,yn.D)([a,l]).pipe((0,A2.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Hr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(gp),u.LFG(pl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B2=new u.OlP("");let Da=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof L2?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof p1&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Oo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Gu(n,e){return{\u0275kind:n,\u0275providers:e}}function bd(n){return[{provide:H2,multi:!0,useValue:n}]}function Wh(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Hr),i=n.get(d_);1===n.get(Cd)&&r.initialNavigation(),n.get(_p,null,u.XFs.Optional)?.setUpPreloading(),n.get(B2,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const d_=new u.OlP("",{factory:()=>new bn.x}),Cd=new u.OlP("",{providedIn:"root",factory:()=>1});const _p=new u.OlP("");function Po(n){return Gu(0,[{provide:_p,useExisting:l_},{provide:gp,useExisting:n}])}const yp=new u.OlP("ROUTER_FORROOT_GUARD"),p_=[xe,{provide:wu,useClass:Jc},{provide:Hr,useFactory:gd},dl,{provide:Lo,useFactory:function u_(n){return n.routerState.root},deps:[Hr]},pl];function m_(){return new u.PXZ("Router",Hr)}let wd=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[p_,[],bd(t),{provide:yp,useFactory:Ft,deps:[[Hr,new u.FiY,new u.tp0]]},{provide:F2,useValue:r||{}},r?.useHash?{provide:_e,useClass:ht}:{provide:_e,useClass:st},{provide:B2,useFactory:()=>{const n=(0,u.f3M)(Hr),e=(0,u.f3M)(J1),t=(0,u.f3M)(F2);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Da(n,e,t)}},r?.preloadingStrategy?Po(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:m_},r?.initialNavigation?bp(r):[],[{provide:qh,useFactory:Wh},{provide:u.tb,multi:!0,useExisting:qh}]]}}static forChild(t){return{ngModule:n,providers:[bd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yp,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[p]}),n})();function Ft(n){return"guarded"}function bp(n){return["disabled"===n.initialNavigation?Gu(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Hr);return()=>{e.setUpLocationChangeListener()}}},{provide:Cd,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gu(2,[{provide:Cd,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(U,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const l=e.get(Hr),h=e.get(d_);(function i(a){e.get(Hr).events.pipe(M(h=>h instanceof p1||h instanceof F0||h instanceof nd),(0,Je.U)(h=>h instanceof p1||h instanceof F0&&(0===h.code||1===h.code)&&null),M(h=>null!==h),Yt(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),l.afterPreactivation=()=>(a(!0),r||h.closed?ut(void 0):h),l.initialNavigation()}))}}]).\u0275providers:[]]}const qh=new u.OlP(""),y_=[];let wp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[wd.forRoot(y_),wd]}),n})();var Zh=O(4986),ni=O(2122);function Kh(){return(0,gr.e)((n,e)=>{let t,r=!1;n.subscribe((0,On.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function _D(n,e){return n===e}var Ct,ro=O(2011),gl=(O(9169),O(3942)),be=O(5861),y1=O(9681),Q0=O(4859),U2=O(1877),Sn=O(2090),yD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j2={},Ed=Ed||{},Ht=yD||self;function Md(){}function b1(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var J0="closure_uid_"+(1e9*Math.random()>>>0),C_=0;function Ep(n,e,t){return n.call.apply(n.bind,arguments)}function w_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ri(n,e,t){return(Ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ep:w_).apply(null,arguments)}function Sd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function yi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function $2(){this.s=this.s,this.o=this.o}$2.prototype.s=!1,$2.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Dp(n){Object.prototype.hasOwnProperty.call(n,J0)&&n[J0]||(n[J0]=++C_)}(this)},$2.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Sp=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Td(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Yh(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(b1(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ri.prototype.h=function(){this.defaultPrevented=!0};var bD=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",Md,e),Ht.removeEventListener("test",Md,e)}catch{}return n}();function X0(n){return/^[\s\xa0]*$/.test(n)}var Tp=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ip(n,e){return n<e?-1:n>e?1:0}function C1(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function zo(n){return-1!=C1().indexOf(n)}function Id(n){return Id[" "](n),n}Id[" "]=Md;var e4,n,Vo=zo("Opera"),vl=zo("Trident")||zo("MSIE"),Ap=zo("Edge"),Zu=Ap||vl,Ea=zo("Gecko")&&!(-1!=C1().toLowerCase().indexOf("webkit")&&!zo("Edge"))&&!(zo("Trident")||zo("MSIE"))&&!zo("Edge"),Qh=-1!=C1().toLowerCase().indexOf("webkit")&&!zo("Edge");function Jh(){var n=Ht.document;return n?n.documentMode:void 0}e:{var Np="",Nd=(n=C1(),Ea?/rv:([^\);]+)(\)|;)/.exec(n):Ap?/Edge\/([\d\.]+)/.exec(n):vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qh?/WebKit\/(\S+)/.exec(n):Vo?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nd&&(Np=Nd?Nd[1]:""),vl){var xp=Jh();if(null!=xp&&xp>parseFloat(Np)){e4=String(xp);break e}}e4=Np}var xd={};var Xh=Ht.document&&vl&&(Jh()||parseInt(e4,10))||void 0;function Od(n,e){if(ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ea){e:{try{Id(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:D_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Od.X.h.call(this)}}yi(Od,ri);var D_={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yu="closure_listenable_"+(1e6*Math.random()|0),E_=0;function M_(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++E_,this.ba=this.ea=!1}function Qu(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function kp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Rp(n){const e={};for(const t in n)e[t]=n[t];return e}const S_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ef(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<S_.length;a++)t=S_[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ju(n){this.src=n,this.g={},this.h=0}function tf(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Sp(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Qu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xu(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Ju.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Xu(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new M_(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var Op="closure_lm_"+(1e6*Math.random()|0),Lp={};function T_(n,e,t,r,i){if(r&&r.once)return A_(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)T_(n,e[a],t,r,i);return null}return t=nf(t),n&&n[Yu]?n.N(e,t,qu(r)?!!r.capture:!!r,i):I_(n,e,t,!1,r,i)}function I_(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=qu(i)?!!i.capture:!!i,h=Ma(n);if(h||(n[Op]=h=new Ju(n)),(t=h.add(e,t,r,l,a)).proxy)return t;if(r=function CD(){const e=wD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)bD||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(x_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function A_(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)A_(n,e[a],t,r,i);return null}return t=nf(t),n&&n[Yu]?n.O(e,t,qu(r)?!!r.capture:!!r,i):I_(n,e,t,!0,r,i)}function N_(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)N_(n,e[a],t,r,i);else r=qu(r)?!!r.capture:!!r,t=nf(t),n&&n[Yu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xu(a=n.g[e],t,r,i))&&(Qu(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ma(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xu(e,t,r,i)),(t=-1<n?e[n]:null)&&Pp(t))}function Pp(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Yu])tf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(x_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ma(e))?(tf(t,n),0==t.h&&(t.src=null,e[Op]=null)):Qu(n)}}}function x_(n){return n in Lp?Lp[n]:Lp[n]="on"+n}function wD(n,e){if(n.ba)n=!0;else{e=new Od(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Pp(n),n=t.call(r,e)}return n}function Ma(n){return(n=n[Op])instanceof Ju?n:null}var e6="__closure_events_fn_"+(1e9*Math.random()>>>0);function nf(n){return"function"==typeof n?n:(n[e6]||(n[e6]=function(e){return n.handleEvent(e)}),n[e6])}function Br(){$2.call(this),this.i=new Ju(this),this.P=this,this.I=null}function Ur(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ri(e,n);else if(e instanceof ri)e.target=e.target||n;else{var i=e;ef(e=new ri(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=t6(l,r,!0,e)&&i}if(i=t6(l=e.g=n,r,!0,e)&&i,i=t6(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=t6(l=e.g=t[a],r,!1,e)&&i}function t6(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ba&&l.capture==t){var h=l.listener,g=l.ha||l.src;l.ea&&tf(n.i,l),i=!1!==h.call(g,r)&&i}}return i&&!r.defaultPrevented}yi(Br,$2),Br.prototype[Yu]=!0,Br.prototype.removeEventListener=function(n,e,t,r){N_(this,n,e,t,r)},Br.prototype.M=function(){if(Br.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qu(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var n6=Ht.JSON.stringify;function k_(){var n=_l;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var af,rf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new R_,n=>n.reset());class R_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function O_(n){Ht.setTimeout(()=>{throw n},0)}function sf(n,e){af||function L_(){var n=Ht.Promise.resolve(void 0);af=function(){n.then(cf)}}(),t4||(af(),t4=!0),_l.add(n,e)}var t4=!1,_l=new class G2{constructor(){this.h=this.g=null}add(e,t){const r=rf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function cf(){for(var n;n=k_();){try{n.h.call(n.g)}catch(t){O_(t)}var e=rf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}t4=!1}function w1(n,e){Br.call(this),this.h=n||1,this.g=e||Ht,this.j=Ri(this.lb,this),this.l=Date.now()}function r6(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function n4(n,e,t){if("function"==typeof n)t&&(n=Ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function lf(n){n.g=n4(()=>{n.g=null,n.i&&(n.i=!1,lf(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}yi(w1,Br),(Ct=w1.prototype).ca=!1,Ct.R=null,Ct.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ur(this,"tick"),this.ca&&(r6(this),this.start()))}},Ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ct.M=function(){w1.X.M.call(this),r6(this),delete this.g};class zp extends $2{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lf(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yl(n){$2.call(this),this.h=n,this.g={}}yi(yl,$2);var Ld=[];function uf(n,e,t,r){Array.isArray(t)||(t&&(Ld[0]=t.toString()),t=Ld);for(var i=0;i<t.length;i++){var a=T_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Pd(n){kp(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pp(e)},n),n.g={}}function zd(){this.g=!0}function bl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vp(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return n6(t)}catch{return e}}(n,t)+(r?" "+r:"")})}yl.prototype.M=function(){yl.X.M.call(this),Pd(this)},yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zd.prototype.Aa=function(){this.g=!1},zd.prototype.info=function(){};var W2={},Fp=null;function Oi(){return Fp=Fp||new Br}function df(n){ri.call(this,W2.Pa,n)}function i6(n){const e=Oi();Ur(e,new df(e))}function V_(n,e){ri.call(this,W2.STAT_EVENT,n),this.stat=e}function $i(n){const e=Oi();Ur(e,new V_(e,n))}function Vd(n,e){ri.call(this,W2.Qa,n),this.size=e}function r4(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}W2.Pa="serverreachability",yi(df,ri),W2.STAT_EVENT="statevent",yi(V_,ri),W2.Qa="timingevent",yi(Vd,ri);var Fd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Hp={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function hf(){}function Bp(){}hf.prototype.h=null;var Hd,i4={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pf(){ri.call(this,"d")}function mf(){ri.call(this,"c")}function s6(){}function o6(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new yl(this),this.O=gf,this.T=new w1(n=Zu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Fo}function Fo(){this.i=null,this.g="",this.h=!1}yi(pf,ri),yi(mf,ri),yi(s6,hf),s6.prototype.g=function(){return new XMLHttpRequest},s6.prototype.i=function(){return{}},Hd=new s6;var gf=45e3,vf={},Bd={};function Up(n,e,t){n.K=1,n.v=K2(Sa(e)),n.s=t,n.P=!0,_f(n,null)}function _f(n,e){n.F=Date.now(),Cl(n),n.A=Sa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Qp(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Fo,n.g=Af(n.l,t?e:null,!n.s),0<n.N&&(n.L=new zp(Ri(n.La,n,n.g),n.N)),uf(n.S,n.g,"readystatechange",n.ib),e=n.H?Rp(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),i6(),function DD(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",h=a.split("&"),g=0;g<h.length;g++){var b=h[g].split("=");if(1<b.length){var D=b[0];b=b[1];var T=D.split("_");l=2<=T.length&&"type"==T[1]?l+(D+"=")+b+"&":l+(D+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function jp(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function $p(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=F_(n,t),i==Bd){4==e&&(n.o=4,$i(14),r=!1),bl(n.j,n.m,null,"[Incomplete Response]");break}if(i==vf){n.o=4,$i(15),bl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}bl(n.j,n.m,i,null),s4(n,i)}jp(n)&&i!=Bd&&i!=vf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$i(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),g6(e),e.K=!0,$i(11))):(bl(n.j,n.m,t,"[Invalid Chunked Response]"),D1(n),q2(n))}function F_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Bd:(t=Number(e.substring(t,r)),isNaN(t)?vf:(r+=1)+t>e.length?Bd:(e=e.substr(r,t),n.C=r+t,e))}function Cl(n){n.V=Date.now()+n.O,Gp(n,n.O)}function Gp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=r4(Ri(n.gb,n),e)}function Ud(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function q2(n){0==n.l.G||n.I||v6(n.l,n)}function D1(n){Ud(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,r6(n.T),Pd(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function s4(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wf(t.h,n)))if(!n.J&&wf(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Nl(t),f6(t)}m6(t),$i(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=r4(Ri(t.cb,t),6e3));if(1>=Xp(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else xl(t,11)}else if((n.J||t.g==n)&&Nl(t),!X0(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const D=b[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const T=b[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const k=b[5];null!=k&&"number"==typeof k&&0<k&&(t.J=r=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const F=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var a=r.h;a.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Df(a,a.h),a.h=null))}if(r.D){const W=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(r.za=W,Fn(r.F,r.D,W))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=Jd(r,r.H?r.ka:null,r.V),l.J){e9(r.h,l);var h=l,g=r.J;g&&h.setTimeout(g),h.B&&(Ud(h),Cl(h)),r.g=l}else If(r);0<t.i.length&&p6(t)}else"stop"!=b[0]&&"close"!=b[0]||xl(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?xl(t,7):Kd(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}i6()}catch{}}function H_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(b1(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function yf(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(b1(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ED(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(b1(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Ct=o6.prototype).setTimeout=function(n){this.O=n},Ct.ib=function(n){n=n.target;const e=this.L;e&&3==cs(n)?e.l():this.La(n)},Ct.La=function(n){try{if(n==this.g)e:{const D=cs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||Zu||this.g&&(this.h.h||this.g.fa()||Ef(this.g)))){this.I||4!=D||7==e||i6(),Ud(this);var t=this.g.aa();this.Y=t;t:if(jp(this)){var r=Ef(this.g);n="";var i=r.length,a=4==cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){D1(this),q2(this);var l="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function P_(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X0(h)){var b=h;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,$i(12),D1(this),q2(this);break e}bl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,s4(this,t)}this.P?($p(this,D,l),Zu&&this.i&&3==D&&(uf(this.S,this.T,"tick",this.hb),this.T.start())):(bl(this.j,this.m,l,null),s4(this,l)),4==D&&D1(this),this.i&&!this.I&&(4==D?v6(this.l,this):(this.i=!1,Cl(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,$i(12)):(this.o=0,$i(13)),D1(this),q2(this)}}}catch{}},Ct.hb=function(){if(this.g){var n=cs(this.g),e=this.g.fa();this.C<e.length&&(Ud(this),$p(this,n,e),this.i&&4!=n&&Cl(this))}},Ct.cancel=function(){this.I=!0,D1(this)},Ct.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function z_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(i6(),$i(17)),D1(this),this.o=2,q2(this)):Gp(this,this.V-n)};var bf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z2(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Z2){this.h=void 0!==e?e:n.h,o4(this,n.j),this.s=n.s,this.g=n.g,io(this,n.m),this.l=n.l,e=n.i;var t=new u6;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),a6(this,t),this.o=n.o}else n&&(t=String(n).match(bf))?(this.h=!!e,o4(this,t[1]||"",!0),this.s=c6(t[2]||""),this.g=c6(t[3]||"",!0),io(this,t[4]),this.l=c6(t[5]||"",!0),a6(this,t[6]||"",!0),this.o=c6(t[7]||"")):(this.h=!!e,this.i=new u6(null,this.h))}function Sa(n){return new Z2(n)}function o4(n,e,t){n.j=t?c6(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function io(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function a6(n,e,t){e instanceof u6?(n.i=e,function Cf(n,e){e&&!n.j&&(Dl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Kp(this,r),Qp(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wl(e,U_)),n.i=new u6(e,n.h))}function Fn(n,e,t){n.i.set(e,t)}function K2(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function c6(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Z2.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wl(e,Zp,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wl(e,Zp,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wl(t,"/"==t.charAt(0)?l6:B_,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wl(t,MD)),n.join("")};var Zp=/[#\/\?@]/g,B_=/[#\?:]/g,l6=/[#\?]/g,U_=/[#\?@]/g,MD=/#/g;function u6(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Dl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Wp(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Kp(n,e){Dl(n),e=El(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Yp(n,e){return Dl(n),e=El(n,e),n.g.has(e)}function Qp(n,e,t){Kp(n,e),0<t.length&&(n.i=null,n.g.set(El(n,e),Td(t)),n.h+=t.length)}function El(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jd(n){this.l=n||$_,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ct=u6.prototype).add=function(n,e){Dl(this),this.i=null,n=El(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ct.forEach=function(n,e){Dl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ct.oa=function(){Dl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Ct.W=function(n){Dl(this);let e=[];if("string"==typeof n)Yp(this,n)&&(e=e.concat(this.g.get(El(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ct.set=function(n,e){return Dl(this),this.i=null,Yp(this,n=El(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ct.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var $_=10;function Jp(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Xp(n){return n.h?1:n.g?n.g.size:0}function wf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Df(n,e){n.g?n.g.add(e):n.h=e}function e9(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function d6(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Td(n.i)}function E1(){}function SD(){this.g=new E1}function h6(n,e,t){const r=t||"";try{H_(n,function(i,a){let l=i;qu(i)&&(l=n6(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $d(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ml(n){this.l=n.ac||null,this.j=n.jb||!1}function Gd(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=so,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jd.prototype.cancel=function(){if(this.i=d6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},E1.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},E1.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},yi(Ml,hf),Ml.prototype.g=function(){return new Gd(this.l,this.j)},Ml.prototype.i=function(n){return function(){return n}}({}),yi(Gd,Br);var so=0;function a4(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Pr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ho(n)}function Ho(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ct=Gd.prototype).open=function(n,e){if(this.readyState!=so)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ho(this)},Ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pr(this)),this.readyState=so},Ct.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;a4(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ct.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Pr(this):Ho(this),3==this.readyState&&a4(this)}},Ct.Va=function(n){this.g&&(this.response=this.responseText=n,Pr(this))},Ct.Ua=function(n){this.g&&(this.response=n,Pr(this))},Ct.ga=function(){this.g&&Pr(this)},Ct.setRequestHeader=function(n,e){this.v.append(n,e)},Ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Wd=Ht.JSON.parse;function mn(n){Br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qd,this.K=this.L=!1}yi(mn,Br);var qd="",c4=/^https?$/i,l4=["POST","PUT"];function Sl(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Tl(n),M1(n)}function Tl(n){n.D||(n.D=!0,Ur(n,"complete"),Ur(n,"error"))}function Il(n){if(n.h&&typeof Ed<"u"&&(!n.C[1]||4!=cs(n)||2!=n.aa()))if(n.v&&4==cs(n))n4(n.Ha,0,n);else if(Ur(n,"readystatechange"),4==cs(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(bf)[1]||null;if(!i&&Ht.self&&Ht.self.location){var a=Ht.self.location.protocol;i=a.substr(0,a.length-1)}r=!c4.test(i?i.toLowerCase():"")}t=r}if(t)Ur(n,"complete"),Ur(n,"success");else{n.m=6;try{var l=2<cs(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",Tl(n)}}finally{M1(n)}}}function M1(n,e){if(n.g){Al(n);const t=n.g,r=n.C[0]?Md:null;n.g=null,n.C=null,e||Ur(n,"ready");try{t.onreadystatechange=r}catch{}}}function Al(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function cs(n){return n.g?n.g.readyState:0}function Ef(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(n){let e="";return kp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Zd(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Mf(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function d4(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sf(n){this.Ca=0,this.i=[],this.j=new zd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=d4("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=d4("baseRetryDelayMs",5e3,n),this.bb=d4("retryDelaySeedMs",1e4,n),this.$a=d4("forwardChannelMaxRetries",2,n),this.ta=d4("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new jd(n&&n.concurrentRequestLimit),this.Fa=new SD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Kd(n){if(Tf(n),3==n.G){var e=n.U++,t=Sa(n.F);Fn(t,"SID",n.I),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),h4(n,t),(e=new o6(n,n.j,e,void 0)).K=2,e.v=K2(Sa(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=Af(e.l,null),e.g.da(e.v)),e.F=Date.now(),Cl(e)}Qd(n)}function f6(n){n.g&&(g6(n),n.g.cancel(),n.g=null)}function Tf(n){f6(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),Nl(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function p6(n){Jp(n.h)||n.m||(n.m=!0,sf(n.Ja,n),n.C=0)}function t9(n,e){var t;t=e?e.m:n.U++;const r=Sa(n.F);Fn(r,"SID",n.I),Fn(r,"RID",t),Fn(r,"AID",n.T),h4(n,r),n.o&&n.s&&Zd(r,n.o,n.s),t=new o6(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=n9(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Df(n.h,t),Up(t,r,e)}function h4(n,e){n.ia&&kp(n.ia,function(t,r){Fn(e,r,t)}),n.l&&H_({},function(t,r){Fn(e,r,t)})}function n9(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ri(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let g=0;g<t;g++){let b=i[g].h;const D=i[g].g;if(b-=a,0>b)a=Math.max(0,i[g].h-100),h=!1;else try{h6(D,l,"req"+b+"_")}catch{r&&r(D)}}if(h){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function If(n){n.g||n.u||(n.Z=1,sf(n.Ia,n),n.A=0)}function m6(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=r4(Ri(n.Ia,n),Yd(n,n.A)),n.A++,0))}function g6(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function r9(n){n.g=new o6(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Sa(n.sa);Fn(e,"RID","rpc"),Fn(e,"SID",n.I),Fn(e,"CI",n.L?"0":"1"),Fn(e,"AID",n.T),Fn(e,"TYPE","xmlhttp"),h4(n,e),n.o&&n.s&&Zd(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=K2(Sa(e)),t.s=null,t.P=!0,_f(t,n)}function Nl(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function v6(n,e){var t=null;if(n.g==e){Nl(n),g6(n),n.g=null;var r=2}else{if(!wf(n.h,e))return;t=e.D,e9(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ur(r=Oi(),new Vd(r,t)),p6(n)}else If(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function W_(n,e){return!(Xp(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=r4(Ri(n.Ja,n,e),Yd(n,n.C)),n.C++,0)))}(n,e)||2==r&&m6(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:xl(n,5);break;case 4:xl(n,10);break;case 3:xl(n,6);break;default:xl(n,2)}}function Yd(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function xl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ri(n.kb,n);t||(t=new Z2("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||o4(t,"https"),K2(t)),function G_(n,e){const t=new zd;if(Ht.Image){const r=new Image;r.onload=Sd($d,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sd($d,t,r,"TestLoadImage: error",!1,e),r.onabort=Sd($d,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sd($d,t,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $i(2);n.G=0,n.l&&n.l.va(e),Qd(n),Tf(n)}function Qd(n){if(n.G=0,n.la=[],n.l){const e=d6(n.h);(0!=e.length||0!=n.i.length)&&(Yh(n.la,e),Yh(n.la,n.i),n.h.i.length=0,Td(n.i),n.i.length=0),n.l.ua()}}function Jd(n,e,t){var r=t instanceof Z2?Sa(t):new Z2(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),io(r,r.m);else{var i=Ht.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Z2(null,void 0);r&&o4(a,r),e&&(a.g=e),i&&io(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Fn(r,t,e),Fn(r,"VER",n.ma),h4(n,r),r}function Af(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(t&&n.Da&&!n.ra?new Ml({jb:!0}):n.ra)).Ka(n.H),e}function Nf(){}function f4(){if(vl&&!(10<=Number(Xh)))throw Error("Environmental error: no available transport.")}function ls(n,e){Br.call(this),this.g=new Sf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!X0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!X0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kl(this)}function xf(n){pf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Xd(){mf.call(this),this.status=1}function kl(n){this.g=n}(Ct=mn.prototype).Ka=function(n){this.L=n},Ct.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hd.g(),this.C=function ff(n){return n.h||(n.h=n.i())}(this.u?this.u:Hd),this.g.onreadystatechange=Ri(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Sl(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ht.FormData&&n instanceof Ht.FormData,!(0<=Sp(l4,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Al(this),0<this.B&&((this.K=function u4(n){return vl&&function kd(){return function Ad(n){var e=xd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Tp(String(e4)).split("."),t=Tp("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Ip(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Ip(0==i[2].length,0==a[2].length)||Ip(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ri(this.qa,this)):this.A=n4(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Sl(this,a)}},Ct.qa=function(){typeof Ed<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},Ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ur(this,"complete"),Ur(this,"abort"),M1(this))},Ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),M1(this,!0)),mn.X.M.call(this)},Ct.Ha=function(){this.s||(this.F||this.v||this.l?Il(this):this.fb())},Ct.fb=function(){Il(this)},Ct.aa=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},Ct.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ct.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Wd(e)}},Ct.Ea=function(){return this.m},Ct.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ct=Sf.prototype).ma=8,Ct.G=1,Ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new o6(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=Rp(a),ef(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=n9(this,i,e),Fn(t=Sa(this.F),"RID",n),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),h4(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(Mf(a)))+"&"+e:this.o&&Zd(t,this.o,a)),Df(this.h,i),this.Ya&&Fn(t,"TYPE","init"),this.O?(Fn(t,"$req",e),Fn(t,"SID","null"),i.Z=!0,Up(i,t,null)):Up(i,t,e),this.G=2}}else 3==this.G&&(n?t9(this,n):0==this.i.length||Jp(this.h)||t9(this))},Ct.Ia=function(){if(this.u=null,r9(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=r4(Ri(this.eb,this),n)}},Ct.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,$i(10),f6(this),r9(this))},Ct.cb=function(){null!=this.v&&(this.v=null,f6(this),m6(this),$i(19))},Ct.kb=function(n){n?(this.j.info("Successfully pinged google.com"),$i(2)):(this.j.info("Failed to ping google.com"),$i(1))},(Ct=Nf.prototype).xa=function(){},Ct.wa=function(){},Ct.va=function(){},Ct.ua=function(){},Ct.Ra=function(){},f4.prototype.g=function(n,e){return new ls(n,e)},yi(ls,Br),ls.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;$i(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Jd(n,null,n.V),p6(n)},ls.prototype.close=function(){Kd(this.g)},ls.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=n6(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&p6(e)},ls.prototype.M=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,ls.X.M.call(this)},yi(xf,pf),yi(Xd,mf),yi(kl,Nf),kl.prototype.xa=function(){Ur(this.g,"a")},kl.prototype.wa=function(n){Ur(this.g,new xf(n))},kl.prototype.va=function(n){Ur(this.g,new Xd)},kl.prototype.ua=function(){Ur(this.g,"b")},f4.prototype.createWebChannel=f4.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,Fd.NO_ERROR=0,Fd.TIMEOUT=8,Fd.HTTP_ERROR=6,Hp.COMPLETE="complete",Bp.EventType=i4,i4.OPEN="a",i4.CLOSE="b",i4.ERROR="c",i4.MESSAGE="d",Br.prototype.listen=Br.prototype.N,mn.prototype.listenOnce=mn.prototype.O,mn.prototype.getLastError=mn.prototype.Oa,mn.prototype.getLastErrorCode=mn.prototype.Ea,mn.prototype.getStatus=mn.prototype.aa,mn.prototype.getResponseJson=mn.prototype.Sa,mn.prototype.getResponseText=mn.prototype.fa,mn.prototype.send=mn.prototype.da,mn.prototype.setWithCredentials=mn.prototype.Ka;var q_=j2.createWebChannelTransport=function(){return new f4},i9=j2.getStatEventTarget=function(){return Oi()},e8=j2.ErrorCode=Fd,s9=j2.EventType=Hp,o9=j2.Event=W2,a9=j2.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},c9=j2.FetchXmlHttpFactory=Ml,_6=j2.WebChannel=Bp,kf=j2.XhrIo=mn;const y6="@firebase/firestore";class jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let Rl="9.15.0";const S1=new U2.Yd("@firebase/firestore");function t8(){return S1.logLevel}function Le(n,...e){if(S1.logLevel<=U2.in.DEBUG){const t=e.map(u9);S1.debug(`Firestore (${Rl}): ${n}`,...t)}}function yr(n,...e){if(S1.logLevel<=U2.in.ERROR){const t=e.map(u9);S1.error(`Firestore (${Rl}): ${n}`,...t)}}function Y2(n,...e){if(S1.logLevel<=U2.in.WARN){const t=e.map(u9);S1.warn(`Firestore (${Rl}): ${n}`,...t)}}function u9(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function _t(n,e){n||ct()}function Xe(n,e){return n}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Sn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class h9{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class Z_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class p9{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const b=l;e.enqueueRetryable((0,be.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},g=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>g(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?g(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t("string"==typeof r.accessToken),new h9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new jr(e)}}class m9{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_t(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class p4{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new m9(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K_{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),this.A=t.token,new g9(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Q_(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Rf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Q_(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function Q2(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function n8(n){return n+"\0"}class gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new gn(0,0))}static max(){return new Et(new gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class m4{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===m4.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof m4?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Gt extends m4{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const Bo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends m4{construct(e,t,r){return new wn(e,t,r)}static isValidIdentifier(e){return Bo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new ke(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new ke(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new ke(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===h?(l=!l,i++):"."!==h||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new ke(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(Gt.fromString(e))}static fromName(e){return new Qe(Gt.fromString(e).popFirst(5))}static empty(){return new Qe(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new Gt(e.slice()))}}class b6{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Of(n){return n.fields.find(e=>2===e.kind)}function Ol(n){return n.fields.filter(e=>2!==e.kind)}b6.UNKNOWN_ID=-1;class r8{constructor(e,t){this.fieldPath=e,this.kind=t}}class T1{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new T1(0,As.min())}}function v9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(1e9===r?new gn(t+1,0):new gn(t,r));return new As(i,Qe.empty(),e)}function Pf(n){return new As(n.readTime,n.key,-1)}class As{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new As(Et.min(),Qe.empty(),-1)}static max(){return new As(Et.max(),Qe.empty(),-1)}}function i8(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const zf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function J2(n){return s8.apply(this,arguments)}function s8(){return s8=(0,be.Z)(function*(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==zf)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),s8.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&t()},g=>r(g))}),l=!0,a===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let g=0;g<a;g++){const b=g;t(e[b]).next(D=>{l[b]=D,++h,h===a&&r(l)},D=>i(D))}})}static doWhile(e,t){return new le((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class w6{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new $r,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new g4(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=o8(r.target.error);this.P.reject(new g4(e,i))}}static open(e,t,r,i){try{return new w6(t,e.transaction(i,r))}catch(a){throw new g4(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new y9(t)}}class us{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===us.D((0,Sn.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),X2(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Sn.hl)())return!1;if(us.N())return!0;const e=(0,Sn.z$)(),t=us.D(e),r=0<t&&t<10,i=us.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,be.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new g4(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const h=l.target.error;i("VersionError"===h.name?new ke(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new g4(e,h))},a.onupgradeneeded=l=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,be.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const g=w6.open(a.db,e,l?"readonly":"readwrite",r),b=i(g).next(D=>(g.V(),D)).catch(D=>(g.abort(D),le.reject(D))).toPromise();return b.catch(()=>{}),yield g.v,b}catch(g){const b=g,D="FirebaseError"!==b.name&&h<3;if(Le("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),a.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _9{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return X2(this.q.delete())}}class g4 extends ke{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function I1(n){return"IndexedDbTransactionError"===n.name}class y9{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),X2(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),X2(this.store.add(e))}get(e){return X2(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),X2(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),X2(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(l,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new le((a,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new le((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Y(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,l,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new le((r,i)=>{t.onerror=a=>{const l=o8(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():r()}):r()}})}H(e,t){const r=[];return new le((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void i();const g=new _9(h),b=t(h.primaryKey,h.value,g);if(b instanceof le){const D=b.catch(T=>(g.done(),le.reject(T)));r.push(D)}g.isDone?i():null===g.G?h.continue():h.continue(g.G)}}).next(()=>le.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function X2(n){return new le((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=o8(r.target.error);t(i)}})}let Vf=!1;function o8(n){const e=us.D((0,Sn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vf||(Vf=!0,setTimeout(()=>{throw r},0)),r}}return n}class b9{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){I1(r)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield J2(r)}yield t.nt(6e4)}))}}class X_{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return le.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Le("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,i).next(h=>{i-=h,r.add(l)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(i,a)).next(h=>(Le("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=Pf(a);i8(l,r)>0&&(r=l)}),new As(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ns=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class ey{constructor(e,t,r,i,a,l,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class ec{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ec("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}function C9(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function D6(n){return null==n}function E6(n){return 0===n&&1/n==-1/0}function D9(n){return"number"==typeof n&&Number.isInteger(n)&&!E6(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const ny=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tc(n){if(_t(!!n),"string"==typeof n){let e=0;const t=ny.exec(n);if(_t(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(n.seconds),nanos:br(n.nanos)}}function br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Pl(n){return"string"==typeof n?Gr.fromBase64String(n):Gr.fromUint8Array(n)}function Ff(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function E9(n){const e=n.mapValue.fields.__previous_value__;return Ff(e)?E9(e):e}function v4(n){const e=tc(n.mapValue.fields.__local_write_time__.timestampValue);return new gn(e.seconds,e.nanos)}const A1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},M6={nullValue:"NULL_VALUE"};function nc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ff(n)?4:ry(n)?9007199254740991:10:ct()}function Uo(n,e){if(n===e)return!0;const t=nc(n);if(t!==nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return v4(n).isEqual(v4(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=tc(r.timestampValue),l=tc(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Pl(n.bytesValue).isEqual(Pl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return br(r.geoPointValue.latitude)===br(i.geoPointValue.latitude)&&br(r.geoPointValue.longitude)===br(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return br(r.integerValue)===br(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=br(r.doubleValue),l=br(i.doubleValue);return a===l?E6(a)===E6(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Q2(n.arrayValue.values||[],e.arrayValue.values||[],Uo);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(C9(a)!==C9(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===l[h]||!Uo(a[h],l[h])))return!1;return!0}(n,e);default:return ct()}var i}function _4(n,e){return void 0!==(n.values||[]).find(t=>Uo(t,e))}function N1(n,e){if(n===e)return 0;const t=nc(n),r=nc(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=br(i.integerValue||i.doubleValue),h=br(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return Hf(n.timestampValue,e.timestampValue);case 4:return Hf(v4(n),v4(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Pl(i),h=Pl(a);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),h=a.split("/");for(let g=0;g<l.length&&g<h.length;g++){const b=Bt(l[g],h[g]);if(0!==b)return b}return Bt(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Bt(br(i.latitude),br(a.latitude));return 0!==l?l:Bt(br(i.longitude),br(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],h=a.values||[];for(let g=0;g<l.length&&g<h.length;++g){const b=N1(l[g],h[g]);if(b)return b}return Bt(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===A1.mapValue&&a===A1.mapValue)return 0;if(i===A1.mapValue)return 1;if(a===A1.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),g=a.fields||{},b=Object.keys(g);h.sort(),b.sort();for(let D=0;D<h.length&&D<b.length;++D){const T=Bt(h[D],b[D]);if(0!==T)return T;const k=N1(l[h[D]],g[b[D]]);if(0!==k)return k}return Bt(h.length,b.length)}(n.mapValue,e.mapValue);default:throw ct()}}function Hf(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=tc(n),r=tc(e),i=Bt(t.seconds,r.seconds);return 0!==i?i:Bt(t.nanos,r.nanos)}function zl(n){return S6(n)}function S6(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=tc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Pl(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=S6(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${S6(r.fields[h])}`;return a+"}"}(n.mapValue):ct();var e}function rc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function x1(n){return!!n&&"integerValue"in n}function T6(n){return!!n&&"arrayValue"in n}function M9(n){return!!n&&"nullValue"in n}function Vl(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bf(n){return!!n&&"mapValue"in n}function Fl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ll(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ry(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function S9(n){return"nullValue"in n?M6:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rc(ec.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function T9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rc(ec.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?A1:ct()}function iy(n,e){const t=N1(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function It(n,e){const t=N1(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ic{constructor(e,t){this.position=e,this.inclusive=t}}function I9(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),t.key):N1(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function A9(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Uo(n.position[t],e.position[t]))return!1;return!0}class Hl{}class rn extends Hl{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new x9(e,t,r):"array-contains"===t?new ay(e,r):"in"===t?new y4(e,r):"not-in"===t?new cy(e,r):"array-contains-any"===t?new ly(e,r):new rn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new k9(e,r):new oy(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(N1(t,this.value)):null!==t&&nc(this.value)===nc(t)&&this.matchesComparison(N1(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dn extends Hl{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Dn(e,t)}matches(e){return k1(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function k1(n){return"and"===n.op}function Jn(n){return"or"===n.op}function sy(n){return Uf(n)&&k1(n)}function Uf(n){for(const e of n.filters)if(e instanceof Dn)return!1;return!0}function jf(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+zl(n.value);{const e=n.filters.map(t=>jf(t)).join(",");return`${n.op}(${e})`}}function N9(n,e){return n instanceof rn?(t=n,(r=e)instanceof rn&&t.op===r.op&&t.field.isEqual(r.field)&&Uo(t.value,r.value)):n instanceof Dn?function(t,r){return r instanceof Dn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&N9(a,r.filters[l]),!0)}(n,e):void ct();var t,r}function $f(n,e){const t=n.filters.concat(e);return Dn.create(t,n.op)}function Gf(n){return n instanceof rn?`${(e=n).field.canonicalString()} ${e.op} ${zl(e.value)}`:n instanceof Dn?function(e){return e.op.toString()+" {"+e.getFilters().map(Gf).join(" ,")+"}"}(n):"Filter";var e}class x9 extends rn{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class k9 extends rn{constructor(e,t){super(e,"in",t),this.keys=R9(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oy extends rn{constructor(e,t){super(e,"not-in",t),this.keys=R9(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function R9(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class ay extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return T6(t)&&_4(t.arrayValue,this.value)}}class y4 extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_4(this.value.arrayValue,t)}}class cy extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_4(this.value.arrayValue,t)}}class ly extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!T6(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_4(this.value.arrayValue,r))}}class b4{constructor(e,t="asc"){this.field=e,this.dir=t}}function a8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ar{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new I6(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new I6(this.root,e,this.comparator,!1)}getReverseIterator(){return new I6(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new I6(this.root,e,this.comparator,!0)}}class I6{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ii.RED,this.left=i??ii.EMPTY,this.right=a??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ii(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ii.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new C4(this.data.getIterator())}getIteratorFrom(e){return new C4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ln(this.comparator);return t.data=e,t}}class C4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ta(n){return n.hasNext()?n.getNext():void 0}class xs{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new xs([])}unionWith(e){let t=new Ln(wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Q2(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(t)}setAll(e){let t=wn.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=Fl(l):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ll(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new bi(Fl(this.value))}}function O9(n){const e=[];return Ll(n.fields,(t,r)=>{const i=new wn([t]);if(Bf(r)){const a=O9(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new xs(e)}class Un{constructor(e,t,r,i,a,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Un(e,0,Et.min(),Et.min(),Et.min(),bi.empty(),0)}static newFoundDocument(e,t,r,i){return new Un(e,1,t,Et.min(),r,i,0)}static newNoDocument(e,t){return new Un(e,2,t,Et.min(),Et.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,Et.min(),Et.min(),bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class L9{constructor(e,t=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.ft=null}}function c8(n,e=null,t=[],r=[],i=null,a=null,l=null){return new L9(n,e,t,r,i,a,l)}function Bl(n){const e=Xe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jf(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),D6(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zl(r)).join(",")),e.ft=t}return e.ft}function w4(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!a8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!N9(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!A9(n.startAt,e.startAt)&&A9(n.endAt,e.endAt)}function l8(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function u8(n,e){return n.filters.filter(t=>t instanceof rn&&t.field.isEqual(e))}function uy(n,e,t){let r=M6,i=!0;for(const a of u8(n,e)){let l=M6,h=!0;switch(a.op){case"<":case"<=":l=S9(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,h=!1;break;case"!=":case"not-in":l=M6}iy({value:r,inclusive:i},{value:l,inclusive:h})<0&&(r=l,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];iy({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function dy(n,e,t){let r=A1,i=!0;for(const a of u8(n,e)){let l=A1,h=!0;switch(a.op){case">=":case">":l=T9(a.value),h=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,h=!1;break;case"!=":case"not-in":l=A1}It({value:r,inclusive:i},{value:l,inclusive:h})>0&&(r=l,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];It({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class sc{constructor(e,t=null,r=[],i=[],a=null,l="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=g,this.dt=null,this._t=null}}function hy(n,e,t,r,i,a,l,h){return new sc(n,e,t,r,i,a,l,h)}function Ul(n){return new sc(n)}function A6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Wf(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function d8(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function h8(n){return null!==n.collectionGroup}function jo(n){const e=Xe(n);if(null===e.dt){e.dt=[];const t=d8(e),r=Wf(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new b4(t)),e.dt.push(new b4(wn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new b4(wn.keyField(),a))}}}return e.dt}function Gi(n){const e=Xe(n);if(!e._t)if("F"===e.limitType)e._t=c8(e.path,e.collectionGroup,jo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of jo(e))t.push(new b4(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ic(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ic(e.startAt.position,e.startAt.inclusive):null;e._t=c8(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function qf(n,e){e.getFirstInequalityField(),d8(n);const t=n.filters.concat([e]);return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function f8(n,e,t){return new sc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function N6(n,e){return w4(Gi(n),Gi(e))&&n.limitType===e.limitType}function P9(n){return`${Bl(Gi(n))}|lt:${n.limitType}`}function p8(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Gf(r)).join(", ")}]`),D6(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zl(r)).join(",")),`Target(${t})`}(Gi(n))}; limitType=${n.limitType})`}function Zf(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of jo(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const h=I9(i,a,l);return i.inclusive?h<=0:h<0}(t.startAt,jo(t),r)||t.endAt&&!function(i,a,l){const h=I9(i,a,l);return i.inclusive?h>=0:h>0}(t.endAt,jo(t),r)));var t,r}function z9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function D4(n){return(e,t)=>{let r=!1;for(const i of jo(n)){const a=fy(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function fy(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(i,a,l){const h=a.data.field(i),g=l.data.field(i);return null!==h&&null!==g?N1(h,g):ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}function Kf(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:E6(e)?"-0":e}}function V9(n){return{integerValue:""+n}}function Yf(n,e){return D9(e)?V9(e):Kf(n,e)}class m8{constructor(){this._=void 0}}function F9(n,e,t){return n instanceof E4?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof oc?Qf(n,e):n instanceof jl?H9(n,e):function(r,i){const a=g8(r,i),l=v8(a)+v8(r.gt);return x1(a)&&x1(r.gt)?V9(l):Kf(r.yt,l)}(n,e)}function py(n,e,t){return n instanceof oc?Qf(n,e):n instanceof jl?H9(n,e):t}function g8(n,e){return n instanceof M4?x1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class E4 extends m8{}class oc extends m8{constructor(e){super(),this.elements=e}}function Qf(n,e){const t=B9(e);for(const r of n.elements)t.some(i=>Uo(i,r))||t.push(r);return{arrayValue:{values:t}}}class jl extends m8{constructor(e){super(),this.elements=e}}function H9(n,e){let t=B9(e);for(const r of n.elements)t=t.filter(i=>!Uo(i,r));return{arrayValue:{values:t}}}class M4 extends m8{constructor(e,t){super(),this.yt=e,this.gt=t}}function v8(n){return br(n.integerValue||n.doubleValue)}function B9(n){return T6(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class S4{constructor(e,t){this.field=e,this.transform=t}}class gy{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _8(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class y8{}function U9(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new T4(n.key,Xn.none()):new $l(n.key,n.data,Xn.none());{const t=n.data,r=bi.empty();let i=new Ln(wn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new R1(n.key,r,new xs(i.toArray()),Xn.none())}}function vy(n,e,t){n instanceof $l?function(r,i,a){const l=r.value.clone(),h=Xf(r.fieldTransforms,i,a.transformResults);l.setAll(h),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof R1?function(r,i,a){if(!_8(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Xf(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(b8(r)),h.setAll(l),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function x6(n,e,t,r){return n instanceof $l?function(i,a,l,h){if(!_8(i.precondition,a))return l;const g=i.value.clone(),b=$9(i.fieldTransforms,h,a);return g.setAll(b),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof R1?function(i,a,l,h){if(!_8(i.precondition,a))return l;const g=$9(i.fieldTransforms,h,a),b=a.data;return b.setAll(b8(i)),b.setAll(g),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(l=t,_8(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function j9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=g8(r.transform,i||null);null!=a&&(null===t&&(t=bi.empty()),t.set(r.field,a))}return t||null}function Jf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Q2(t,r,(i,a)=>function my(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof oc&&r instanceof oc||t instanceof jl&&r instanceof jl?Q2(t.elements,r.elements,Uo):t instanceof M4&&r instanceof M4?Uo(t.gt,r.gt):t instanceof E4&&r instanceof E4);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $l extends y8{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class R1 extends y8{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function b8(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Xf(n,e,t){const r=new Map;_t(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,py(l,h,t[i]))}return r}function $9(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,F9(a,l,e))}return r}class T4 extends y8{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k6 extends y8{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class e5{constructor(e){this.count=e}}var Tr,sn;function G9(n){switch(n){default:return ct();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function W9(n){if(void 0===n)return yr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Tr.OK:return ie.OK;case Tr.CANCELLED:return ie.CANCELLED;case Tr.UNKNOWN:return ie.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return ie.INTERNAL;case Tr.UNAVAILABLE:return ie.UNAVAILABLE;case Tr.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Tr.NOT_FOUND:return ie.NOT_FOUND;case Tr.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Tr.ABORTED:return ie.ABORTED;case Tr.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Tr.DATA_LOSS:return ie.DATA_LOSS;default:return ct()}}(sn=Tr||(Tr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class Ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return w9(this.inner)}size(){return this.innerSize}}const _y=new ar(Qe.comparator);function Wi(){return _y}const Gl=new ar(Qe.comparator);function I4(...n){let e=Gl;for(const t of n)e=e.insert(t.key,t);return e}function q9(n){let e=Gl;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function O1(){return Wl()}function t5(){return Wl()}function Wl(){return new Ia(n=>n.toString(),(n,e)=>n.isEqual(e))}const yy=new ar(Qe.comparator),n5=new Ln(Qe.comparator);function qt(...n){let e=n5;for(const t of n)e=e.add(t);return e}const Z9=new Ln(Bt);function A4(){return Z9}class N4{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,x4.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new N4(Et.min(),i,A4(),Wi(),qt())}}class x4{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new x4(r,t,qt(),qt(),qt())}}class R6{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class r5{constructor(e,t){this.targetId=e,this.Et=t}}class K9{constructor(e,t,r=Gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Y9{constructor(){this.At=0,this.Rt=i5(),this.bt=Gr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=qt(),t=qt(),r=qt();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new x4(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=i5()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class by{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Wi(),this.qt=Q9(),this.Ut=new Ln(Bt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const a=i.target;if(l8(a))if(0===r){const l=new Qe(a.path);this.Qt(t,l,Un.newNoDocument(l,Et.min()))}else _t(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,l)=>{const h=this.Yt(l);if(h){if(a.current&&l8(h.target)){const g=new Qe(h.target.path);null!==this.Lt.get(g)||this.te(l,g)||this.Qt(l,g,Un.newNoDocument(g,e))}a.St&&(t.set(l,a.Ct()),a.xt())}});let r=qt();this.qt.forEach((a,l)=>{let h=!0;l.forEachWhile(g=>{const b=this.Yt(g);return!b||2===b.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.Lt.forEach((a,l)=>l.setReadTime(e));const i=new N4(e,t,this.Ut,this.Lt,r);return this.Lt=Wi(),this.qt=Q9(),this.Ut=new Ln(Bt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Y9,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ln(Bt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Y9),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Q9(){return new ar(Qe.comparator)}function i5(){return new ar(Qe.comparator)}const TD={asc:"ASCENDING",desc:"DESCENDING"},J9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cy={and:"AND",or:"OR"};class wy{constructor(e,t){this.databaseId=e,this.wt=t}}function O6(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dy(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Ey(n,e){return O6(n,e.toTimestamp())}function Ir(n){return _t(!!n),Et.fromTimestamp(function(e){const t=tc(e);return new gn(t.seconds,t.nanos)}(n))}function s5(n,e){return(t=n,new Gt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function o5(n){const e=Gt.fromString(n);return _t(Go(e)),e}function k4(n,e){return s5(n.databaseId,e.path)}function $o(n,e){const t=o5(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(em(t))}function a5(n,e){return s5(n.databaseId,e)}function X9(n){const e=o5(n);return 4===e.length?Gt.emptyPath():em(e)}function L6(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function em(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tm(n,e,t){return{name:k4(n,e),fields:t.value.mapValue.fields}}function nm(n,e,t){const r=$o(n,e.name),i=Ir(e.updateTime),a=e.createTime?Ir(e.createTime):Et.min(),l=new bi({mapValue:{fields:e.fields}}),h=Un.newFoundDocument(r,i,a,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function R4(n,e){let t;if(e instanceof $l)t={update:tm(n,e.key,e.value)};else if(e instanceof T4)t={delete:k4(n,e.key)};else if(e instanceof R1)t={update:tm(n,e.key,e.data),updateMask:u5(e.fieldMask)};else{if(!(e instanceof k6))return ct();t={verify:k4(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof E4)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof M4)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ey(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ct()),t;var i}function C8(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Xn.updateTime(Ir(i.updateTime)):void 0!==i.exists?Xn.exists(i.exists):Xn.none():Xn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let h=null;"setToServerValue"in l?(_t("REQUEST_TIME"===l.setToServerValue),h=new E4):"appendMissingElements"in l?h=new oc(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new jl(l.removeAllFromArray.values||[]):"increment"in l?h=new M4(a,l.increment):ct();const g=wn.fromServerFormat(l.fieldPath);return new S4(g,h)}(n,i)):[];var i;if(e.update){const i=$o(n,e.update.name),a=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new xs((e.updateMask.fieldPaths||[]).map(b=>wn.fromServerFormat(b)));return new R1(i,a,l,t,r)}return new $l(i,a,t,r)}if(e.delete){const i=$o(n,e.delete);return new T4(i,t)}if(e.verify){const i=$o(n,e.verify);return new k6(i,t)}return ct()}function c5(n,e){return{documents:[a5(n,e.path)]}}function l5(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=a5(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=a5(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return am(Dn.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(g){if(0!==g.length)return g.map(b=>{return{field:O4((D=b).field),direction:My(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=(b=e.limit,n.wt||D6(b)?b:{value:b});var b,h,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function sm(n){let e=X9(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){_t(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const T=om(D);return T instanceof Dn&&sy(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(D=>{return new b4(Aa((T=D).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let h=null;t.limit&&(h=function(D){let T;return T="object"==typeof D?D.value:D,D6(T)?null:T}(t.limit));let g=null;var D;t.startAt&&(g=new ic((D=t.startAt).values||[],!!D.before));let b=null;return t.endAt&&(b=function(D){return new ic(D.values||[],!D.before)}(t.endAt)),hy(e,i,l,a,h,"F",g,b)}function om(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Aa(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Aa(e.unaryFilter.field);return rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Aa(e.unaryFilter.field);return rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Aa(e.unaryFilter.field);return rn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(n):void 0!==n.fieldFilter?rn.create(Aa((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Dn.create(e.compositeFilter.filters.map(t=>om(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ct()}}(e.compositeFilter.op))}(n):ct();var e}function My(n){return TD[n]}function Sy(n){return J9[n]}function Ty(n){return Cy[n]}function O4(n){return{fieldPath:n.canonicalString()}}function Aa(n){return wn.fromServerFormat(n.fieldPath)}function am(n){return n instanceof rn?function(e){if("=="===e.op){if(Vl(e.value))return{unaryFilter:{field:O4(e.field),op:"IS_NAN"}};if(M9(e.value))return{unaryFilter:{field:O4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vl(e.value))return{unaryFilter:{field:O4(e.field),op:"IS_NOT_NAN"}};if(M9(e.value))return{unaryFilter:{field:O4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:O4(e.field),op:Sy(e.op),value:e.value}}}(n):n instanceof Dn?function(e){const t=e.getFilters().map(r=>am(r));return 1===t.length?t[0]:{compositeFilter:{op:Ty(e.op),filters:t}}}(n):ct()}function u5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Go(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=L4(e)),e=d5(n.get(t),e);return L4(e)}function d5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function L4(n){return n+"\x01\x01"}function Na(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Gt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&ct(),n.charAt(l+1)){case"\x01":const h=n.substring(a,l);let g;0===i.length?g=h:(i+=h,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:ct()}a=l+2}return new Gt(r)}const cm=["userId","batchId"];function w8(n,e){return[n,qi(e)]}function z6(n,e,t){return[n,qi(e),t]}const D8={},Iy=["prefixPath","collectionGroup","readTime","documentId"],Ay=["prefixPath","collectionGroup","documentId"],lm=["collectionGroup","readTime","prefixPath","documentId"],um=["canonicalId","targetId"],h5=["targetId","path"],dm=["path","targetId"],Ny=["collectionId","parent"],xy=["indexId","uid"],AD=["uid","sequenceNumber"],f5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],p5=["indexId","uid","orderedDocumentKey"],hm=["userId","collectionPath","documentId"],m5=["userId","collectionPath","largestBatchId"],g5=["userId","collectionGroup","largestBatchId"],fm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ky=[...fm,"documentOverlays"],pm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mm=pm,gm=[...mm,"indexConfiguration","indexState","indexEntries"];class V6 extends C6{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Wr(n,e){const t=Xe(n);return us.M(t.se,e)}class E8{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&vy(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=x6(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=x6(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=t5();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=t.has(i.key)?null:h;const g=U9(l,h);null!==g&&r.set(i.key,g),l.isValidDocument()||l.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&Q2(this.mutations,e.mutations,(t,r)=>Jf(t,r))&&Q2(this.baseMutations,e.baseMutations,(t,r)=>Jf(t,r))}}class M8{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){_t(e.mutations.length===r.length);let i=yy;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new M8(e,t,r,i)}}class S8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ac{constructor(e,t,r,i,a=Et.min(),l=Et.min(),h=Gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class v5{constructor(e){this.ie=e}}function _m(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:F6(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:k4(i=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:O6(i,a.version.toTimestamp()),createTime:O6(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:cc(e.version)};else{if(!e.isUnknownDocument())return ct();r.unknownDocument={path:t.path.toArray(),version:cc(e.version)}}var i,a;return r}function F6(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function cc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ar(n){const e=new gn(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function oo(n,e){const t=(e.baseMutations||[]).map(a=>C8(n.ie,a));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(l.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>C8(n.ie,a)),i=gn.fromMillis(e.localWriteTimeMs);return new E8(e.batchId,i,t,r)}function H6(n){const e=Ar(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ar(n.lastLimboFreeSnapshotVersion):Et.min();let r;var i;return void 0!==n.query.documents?(_t(1===(i=n.query).documents.length),r=Gi(Ul(X9(i.documents[0])))):r=Gi(sm(n.query)),new ac(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Gr.fromBase64String(n.resumeToken))}function ym(n,e){const t=cc(e.snapshotVersion),r=cc(e.lastLimboFreeSnapshotVersion);let i;i=l8(e.target)?c5(n.ie,e.target):l5(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bl(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bm(n){const e=sm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?f8(e,e.limit,"L"):e}function Cm(n,e){return new S8(e.largestBatchId,C8(n.ie,e.overlayMutation))}function _5(n,e){const t=e.path.lastSegment();return[n,qi(e.path.popLast()),t]}function y5(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:cc(r.readTime),documentKey:qi(r.documentKey.path),largestBatchId:r.largestBatchId}}class B6{getBundleMetadata(e,t){return wm(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ar(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return wm(e).put({bundleId:(r=t).id,createTime:cc(Ir(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return T8(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bm(i.bundledQuery),readTime:Ar(i.readTime)};var i})}saveNamedQuery(e,t){return T8(e).put({name:(r=t).name,readTime:cc(Ir(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wm(n){return Wr(n,"bundles")}function T8(n){return Wr(n,"namedQueries")}class I8{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new I8(e,t.uid||"")}getOverlay(e,t){return P4(e).get(_5(this.userId,t)).next(r=>r?Cm(this.yt,r):null)}getOverlays(e,t){const r=O1();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const h=new S8(t,l);i.push(this.oe(e,h))}),le.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(qi(l.getCollectionPath())));const a=[];return i.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(P4(e).Y("collectionPathOverlayIndex",h))}),le.waitFor(a)}getOverlaysForCollection(e,t,r){const i=O1(),a=qi(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return P4(e).W("collectionPathOverlayIndex",l).next(h=>{for(const g of h){const b=Cm(this.yt,g);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=O1();let l;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return P4(e).Z({index:"collectionGroupOverlayIndex",range:h},(g,b,D)=>{const T=Cm(this.yt,b);a.size()<i||T.largestBatchId===l?(a.set(T.getKey(),T),l=T.largestBatchId):D.done()}).next(()=>a)}oe(e,t){return P4(e).put(function(r,i,a){const[l,h,g]=_5(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:R4(r.ie,a.mutation)}}(this.yt,this.userId,t))}}function P4(n){return Wr(n,"documentOverlays")}class ql{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(br(e.integerValue));else if("doubleValue"in e){const r=br(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),E6(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Pl(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?ry(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):ct()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Qe.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Ry(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Dm(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Ry(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ql.Ie=new ql;class b5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=Dm(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=Dm(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Em{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class Mm{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class lc{constructor(){this.$e=new b5,this.Be=new Em(this.$e),this.Le=new Mm(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class L1{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new L1(this.indexId,this.documentKey,this.arrayValue,r)}}function Zl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=C5(n.arrayValue,e.arrayValue),0!==t?t:(t=C5(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function C5(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Oy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){_t(e.collectionGroup===this.collectionId);const t=Of(e);if(void 0!==t&&!this.We(t))return!1;const r=Ol(e);let i=0,a=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const l=r[i];if(!this.ze(this.Qe,l)||!this.He(this.Ke[a++],l))return!1;++i}for(;i<r.length;++i){const l=r[i];if(a>=this.Ke.length||!this.He(this.Ke[a++],l))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function w5(n){var e,t;if(_t(n instanceof rn||n instanceof Dn),n instanceof rn){if(n instanceof y4){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>rn.create(n.field,"==",a)))||[];return Dn.create(i,"or")}return n}const r=n.filters.map(i=>w5(i));return Dn.create(r,n.op)}function z4(n){if(0===n.getFilters().length)return[];const e=Sm(w5(n));return _t(N8(e)),D5(e)||A8(e)?[e]:e.getFilters()}function D5(n){return n instanceof rn}function A8(n){return n instanceof Dn&&sy(n)}function N8(n){return D5(n)||A8(n)||function(e){if(e instanceof Dn&&Jn(e)){for(const t of e.getFilters())if(!D5(t)&&!A8(t))return!1;return!0}return!1}(n)}function Sm(n){if(_t(n instanceof rn||n instanceof Dn),n instanceof rn)return n;if(1===n.filters.length)return Sm(n.filters[0]);const e=n.filters.map(r=>Sm(r));let t=Dn.create(e,n.op);return t=x8(t),N8(t)?t:(_t(t instanceof Dn),_t(k1(t)),_t(t.filters.length>1),t.filters.reduce((r,i)=>E5(r,i)))}function E5(n,e){let t;return _t(n instanceof rn||n instanceof Dn),_t(e instanceof rn||e instanceof Dn),t=n instanceof rn?e instanceof rn?Dn.create([n,e],"and"):Ly(n,e):e instanceof rn?Ly(e,n):function(r,i){if(_t(r.filters.length>0&&i.filters.length>0),k1(r)&&k1(i))return $f(r,i.getFilters());const a=Jn(r)?r:i,l=Jn(r)?i:r,h=a.filters.map(g=>E5(g,l));return Dn.create(h,"or")}(n,e),x8(t)}function Ly(n,e){if(k1(e))return $f(e,n.getFilters());{const t=e.filters.map(r=>E5(n,r));return Dn.create(t,"or")}}function x8(n){if(_t(n instanceof rn||n instanceof Dn),n instanceof rn)return n;const e=n.getFilters();if(1===e.length)return x8(e[0]);if(Uf(n))return n;const t=e.map(i=>x8(i)),r=[];return t.forEach(i=>{i instanceof rn?r.push(i):i instanceof Dn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Dn.create(r,n.op)}class Py{constructor(){this.Je=new M5}addToCollectionParentIndex(e,t){return this.Je.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(As.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class M5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ln(Gt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ln(Gt.comparator)).toArray()}}const U6=new Uint8Array(0);class Tm{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new M5,this.Xe=new Ia(r=>Bl(r),(r,i)=>w4(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:r,parent:qi(i)};return Im(e).put(a)}return le.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[n8(t),""],!1,!0);return Im(e).W(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Na(l.parent))}return r})}addFieldIndex(e,t){const r=j6(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=$6(e);return a.next(h=>{l.put(y5(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=j6(e),i=$6(e),a=V4(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=V4(e);let i=!0;const a=new Map;return le.forEach(this.Ze(t),l=>this.tn(e,l).next(h=>{i&&(i=!!h),a.set(l,h)})).next(()=>{if(i){let l=qt();const h=[];return le.forEach(a,(g,b)=>{var D;Le("IndexedDbIndexManager",`Using index ${D=g,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${Bl(t)}`);const T=function(ze,Re){const He=Of(Re);if(void 0===He)return null;for(const Be of u8(ze,He.fieldPath))switch(Be.op){case"array-contains-any":return Be.value.arrayValue.values||[];case"array-contains":return[Be.value]}return null}(b,g),k=function(ze,Re){const He=new Map;for(const Be of Ol(Re))for(const pt of u8(ze,Be.fieldPath))switch(pt.op){case"==":case"in":He.set(Be.fieldPath.canonicalString(),pt.value);break;case"not-in":case"!=":return He.set(Be.fieldPath.canonicalString(),pt.value),Array.from(He.values())}return null}(b,g),L=function(ze,Re){const He=[];let Be=!0;for(const pt of Ol(Re)){const Ut=0===pt.kind?uy(ze,pt.fieldPath,ze.startAt):dy(ze,pt.fieldPath,ze.startAt);He.push(Ut.value),Be&&(Be=Ut.inclusive)}return new ic(He,Be)}(b,g),F=function(ze,Re){const He=[];let Be=!0;for(const pt of Ol(Re)){const Ut=0===pt.kind?dy(ze,pt.fieldPath,ze.endAt):uy(ze,pt.fieldPath,ze.endAt);He.push(Ut.value),Be&&(Be=Ut.inclusive)}return new ic(He,Be)}(b,g),W=this.en(g,b,L),X=this.en(g,b,F),ge=this.nn(g,b,k),Ae=this.sn(g.indexId,T,W,L.inclusive,X,F.inclusive,ge);return le.forEach(Ae,ze=>r.J(ze,t.limit).next(Re=>{Re.forEach(He=>{const Be=Qe.fromSegments(He.documentKey);l.has(Be)||(l=l.add(Be),h.push(Be))})}))}).next(()=>h)}return le.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:z4(Dn.create(e.filters,"and")).map(r=>c8(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,a,l,h){const g=(null!=t?t.length:1)*Math.max(r.length,a.length),b=g/(null!=t?t.length:1),D=[];for(let T=0;T<g;++T){const k=t?this.rn(t[T/b]):U6,L=this.on(e,k,r[T%b],i),F=this.un(e,k,a[T%b],l),W=h.map(X=>this.on(e,k,X,!0));D.push(...this.createRange(L,F,W))}return D}on(e,t,r,i){const a=new L1(e,Qe.empty(),t,r);return i?a:a.Ue()}un(e,t,r,i){const a=new L1(e,Qe.empty(),t,r);return i?a.Ue():a}tn(e,t){const r=new Oy(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const h of a)r.je(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let r=2;const i=this.Ze(t);return le.forEach(i,a=>this.tn(e,a).next(l=>{l?0!==r&&l.fields.length<function(h){let g=new Ln(wn.comparator),b=!1;for(const D of h.filters)for(const T of D.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?b=!0:g=g.add(T.field));for(const D of h.orderBy)D.field.isKeyField()||(g=g.add(D.field));return g.size+(b?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new lc;for(const i of Ol(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.qe(i.kind);ql.Ie.ue(a,l)}return r.Fe()}rn(e){const t=new lc;return ql.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new lc;return ql.Ie.ue(rc(this.databaseId,t),r.qe(function(i){const a=Ol(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new lc);let a=0;for(const l of Ol(e)){const h=r[a++];for(const g of i)if(this.hn(t,l.fieldPath)&&T6(h))i=this.ln(i,l,h);else{const b=g.qe(l.kind);ql.Ie.ue(h,b)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const h of i){const g=new lc;g.seed(h.Fe()),ql.Ie.ue(l,g.qe(t.kind)),a.push(g)}return a}hn(e,t){return!!e.filters.find(r=>r instanceof rn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=j6(e),i=$6(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const l=[];return le.forEach(a,h=>i.get([h.indexId,this.uid]).next(g=>{l.push(function(b,D){const T=D?new T1(D.sequenceNumber,new As(Ar(D.readTime),new Qe(Na(D.documentKey)),D.largestBatchId)):T1.empty(),k=b.fields.map(([L,F])=>new r8(wn.fromServerFormat(L),F));return new b6(b.indexId,b.collectionGroup,k,T)}(h,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Bt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=j6(e),a=$6(e);return this.dn(e).next(l=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>le.forEach(h,g=>a.put(y5(g.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return le.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?le.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),le.forEach(h,g=>this._n(e,i,g).next(b=>{const D=this.wn(a,g);return b.isEqual(D)?le.resolve():this.mn(e,a,g,b,D)}))))})}gn(e,t,r,i){return V4(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return V4(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=V4(e);let a=new Ln(Zl);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(l,h)=>{a=a.add(new L1(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}wn(e,t){let r=new Ln(Zl);const i=this.cn(t,e);if(null==i)return r;const a=Of(t);if(null!=a){const l=e.data.field(a.fieldPath);if(T6(l))for(const h of l.arrayValue.values||[])r=r.add(new L1(t.indexId,e.key,this.rn(h),i))}else r=r.add(new L1(t.indexId,e.key,U6,i));return r}mn(e,t,r,i,a){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,g,b,D,T){const k=h.getIterator(),L=g.getIterator();let F=Ta(k),W=Ta(L);for(;F||W;){let X=!1,ge=!1;if(F&&W){const Ae=b(F,W);Ae<0?ge=!0:Ae>0&&(X=!0)}else null!=F?ge=!0:X=!0;X?(D(W),W=Ta(L)):ge?(T(F),F=Ta(k)):(F=Ta(k),W=Ta(L))}}(i,a,Zl,h=>{l.push(this.gn(e,t,r,h))},h=>{l.push(this.yn(e,t,r,h))}),le.waitFor(l)}dn(e){let t=1;return $6(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,h)=>Zl(l,h)).filter((l,h,g)=>!h||0!==Zl(l,g[h-1]));const i=[];i.push(e);for(const l of r){const h=Zl(l,e),g=Zl(l,t);if(0===h)i[0]=e.Ue();else if(h>0&&g<0)i.push(l),i.push(l.Ue());else if(g>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.pn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,U6,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,U6,[]]))}return a}pn(e,t){return Zl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Am)}getMinOffset(e,t){return le.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||ct())).next(Am)}}function Im(n){return Wr(n,"collectionParents")}function V4(n){return Wr(n,"indexEntries")}function j6(n){return Wr(n,"indexConfiguration")}function $6(n){return Wr(n,"indexState")}function Am(n){_t(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;i8(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new As(e.readTime,e.documentKey,t)}const S5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function T5(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let h=0;const g=r.Z({range:l},(D,T,k)=>(h++,k.delete()));a.push(g.next(()=>{_t(1===h)}));const b=[];for(const D of t.mutations){const T=z6(e,D.key.path,t.batchId);a.push(i.delete(T)),b.push(D.key)}return le.waitFor(a).next(()=>b)}function G6(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class W6{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){_t(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new W6(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).Z({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=F4(e),l=uc(e);return l.add({}).next(h=>{_t("number"==typeof h);const g=new E8(h,t,r,i),b=function(k,L,F){const W=F.baseMutations.map(ge=>R4(k.ie,ge)),X=F.mutations.map(ge=>R4(k.ie,ge));return{userId:L,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:W,mutations:X}}(this.yt,this.userId,g),D=[];let T=new Ln((k,L)=>Bt(k.canonicalString(),L.canonicalString()));for(const k of i){const L=z6(this.userId,k.key.path,h);T=T.add(k.key.path.popLast()),D.push(l.put(b)),D.push(a.put(L,D8))}return T.forEach(k=>{D.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.In[h]=g.keys()}),le.waitFor(D).next(()=>g)})}lookupMutationBatch(e,t){return uc(e).get(t).next(r=>r?(_t(r.userId===this.userId),oo(this.yt,r)):null)}Tn(e,t){return this.In[t]?le.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return uc(e).Z({index:"userMutationsIndex",range:i},(l,h,g)=>{h.userId===this.userId&&(_t(h.batchId>=r),a=oo(this.yt,h)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return uc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).W("userMutationsIndex",t).next(r=>r.map(i=>oo(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=w8(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return F4(e).Z({range:i},(l,h,g)=>{const[b,D,T]=l,k=Na(D);if(b===this.userId&&t.path.isEqual(k))return uc(e).get(T).next(L=>{if(!L)throw ct();_t(L.userId===this.userId),a.push(oo(this.yt,L))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(Bt);const i=[];return t.forEach(a=>{const l=w8(this.userId,a.path),h=IDBKeyRange.lowerBound(l),g=F4(e).Z({range:h},(b,D,T)=>{const[k,L,F]=b,W=Na(L);k===this.userId&&a.path.isEqual(W)?r=r.add(F):T.done()});i.push(g)}),le.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=w8(this.userId,r),l=IDBKeyRange.lowerBound(a);let h=new Ln(Bt);return F4(e).Z({range:l},(g,b,D)=>{const[T,k,L]=g,F=Na(k);T===this.userId&&r.isPrefixOf(F)?F.length===i&&(h=h.add(L)):D.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(uc(e).get(a).next(l=>{if(null===l)throw ct();_t(l.userId===this.userId),r.push(oo(this.yt,l))}))}),le.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return T5(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),le.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return F4(e).Z({range:r},(a,l,h)=>{if(a[0]===this.userId){const g=Na(a[1]);i.push(g)}else h.done()}).next(()=>{_t(0===i.length)})})}containsKey(e,t){return I5(e,this.userId,t)}Rn(e){return zy(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function I5(n,e,t){const r=w8(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return F4(n).Z({range:a,X:!0},(h,g,b)=>{const[D,T,k]=h;D===e&&T===i&&(l=!0),b.done()}).next(()=>l)}function uc(n){return Wr(n,"mutations")}function F4(n){return Wr(n,"documentMutations")}function zy(n){return Wr(n,"mutationQueues")}class dc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new dc(0)}static vn(){return new dc(-1)}}class ND{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new dc(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Et.fromTimestamp(new gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>q6(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(_t(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return q6(e).Z((l,h)=>{const g=H6(h);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,a.push(this.removeTargetData(e,g)))}).next(()=>le.waitFor(a)).next(()=>i)}forEachTarget(e,t){return q6(e).Z((r,i)=>{const a=H6(i);t(a)})}Vn(e){return Vy(e).get("targetGlobalKey").next(t=>(_t(null!==t),t))}Sn(e,t){return Vy(e).put("targetGlobalKey",t)}Dn(e,t){return q6(e).put(ym(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Bl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return q6(e).Z({range:i,index:"queryTargetsIndex"},(l,h,g)=>{const b=H6(h);w4(t,b.target)&&(a=b,g.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Kl(e);return t.forEach(l=>{const h=qi(l.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,l))}),le.waitFor(i)}removeMatchingKeys(e,t,r){const i=Kl(e);return le.forEach(t,a=>{const l=qi(a.path);return le.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Kl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Kl(e);let a=qt();return i.Z({range:r,X:!0},(l,h,g)=>{const b=Na(l[1]),D=new Qe(b);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=qi(t.path),i=IDBKeyRange.bound([r],[n8(r)],!1,!0);let a=0;return Kl(e).Z({index:"documentTargetsIndex",X:!0,range:i},([l,h],g,b)=>{0!==l&&(a++,b.done())}).next(()=>a>0)}ne(e,t){return q6(e).get(t).next(r=>r?H6(r):null)}}function q6(n){return Wr(n,"targets")}function Vy(n){return Wr(n,"targetGlobal")}function Kl(n){return Wr(n,"targetDocuments")}function Fy([n,e],[t,r]){const i=Bt(n,t);return 0===i?Bt(e,r):i}class xD{constructor(e){this.xn=e,this.buffer=new Ln(Fy),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Fy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){I1(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield J2(r)}yield t.Fn(3e5)}))}}class RD{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return le.resolve(Ns.at);const r=new xD(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(S5)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S5):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,a,l,h,g,b;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),i=this.params.maximumSequenceNumbersToCollect):i=T,l=Date.now(),this.nthSequenceNumber(e,i))).next(T=>(r=T,h=Date.now(),this.removeTargets(e,r,t))).next(T=>(a=T,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(b=Date.now(),t8()<=U2.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-D}ms\n\tDetermined least recently used ${i} in `+(h-l)+`ms\n\tRemoved ${a} targets in `+(g-h)+`ms\n\tRemoved ${T} documents in `+(b-g)+`ms\nTotal Duration: ${b-D}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:T})))}}class k8{constructor(e,t){this.db=e,this.garbageCollector=new RD(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return A5(e,r)}removeReference(e,t,r){return A5(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return A5(e,t)}Gn(e,t){return function(r,i){let a=!1;return zy(r).tt(l=>I5(r,l,i).next(h=>(h&&(a=!0),le.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(l,h)=>{if(h<=t){const g=this.Gn(e,l).next(b=>{if(!b)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Et.min()),Kl(e).delete([0,qi(l.path)])))});i.push(g)}}).next(()=>le.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return A5(e,t)}Kn(e,t){const r=Kl(e);let i,a=Ns.at;return r.Z({index:"documentTargetsIndex"},([l,h],{path:g,sequenceNumber:b})=>{0===l?(a!==Ns.at&&t(new Qe(Na(i)),a),a=b,i=g):a=Ns.at}).next(()=>{a!==Ns.at&&t(new Qe(Na(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function A5(n,e){return Kl(n).put((r=n.currentSequenceNumber,{targetId:0,path:qi(e.path),sequenceNumber:r}));var r}class N5{constructor(){this.changes=new Ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class R8{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return P1(e).put(r)}removeEntry(e,t,r){return P1(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],F6(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Un.newInvalidDocument(t);return P1(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(H4(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Un.newInvalidDocument(t)};return P1(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(H4(t))},(i,a)=>{r={document:this.jn(t,a),size:G6(a)}}).next(()=>r)}getEntries(e,t){let r=Wi();return this.zn(e,t,(i,a)=>{const l=this.jn(i,a);r=r.insert(i,l)}).next(()=>r)}Hn(e,t){let r=Wi(),i=new ar(Qe.comparator);return this.zn(e,t,(a,l)=>{const h=this.jn(a,l);r=r.insert(a,h),i=i.insert(a,G6(l))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return le.resolve();let i=new Ln(k5);t.forEach(g=>i=i.add(g));const a=IDBKeyRange.bound(H4(i.first()),H4(i.last())),l=i.getIterator();let h=l.getNext();return P1(e).Z({index:"documentKeyIndex",range:a},(g,b,D)=>{const T=Qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&k5(h,T)<0;)r(h,null),h=l.getNext();h&&h.isEqual(T)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?D.j(H4(h)):D.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),F6(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return P1(e).W(IDBKeyRange.bound(i,a,!0)).next(l=>{let h=Wi();for(const g of l){const b=this.jn(Qe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(b.key,b)}return h})}getAllFromCollectionGroup(e,t,r,i){let a=Wi();const l=xm(t,r),h=xm(t,As.max());return P1(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(g,b,D)=>{const T=this.jn(Qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(T.key,T),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new Nm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hy(e).get("remoteDocumentGlobalKey").next(t=>(_t(!!t),t))}Qn(e,t){return Hy(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function vm(n,e){let t;if(e.document)t=nm(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),i=Ar(e.noDocument.readTime);t=Un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const r=Qe.fromSegments(e.unknownDocument.path),i=Ar(e.unknownDocument.version);t=Un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new gn(r[0],r[1]);return Et.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return Un.newInvalidDocument(e)}}function x5(n){return new R8(n)}class Nm extends N5{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ia(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ln((a,l)=>Bt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),l.isValidDocument()){const g=_m(this.Yn.yt,l);i=i.add(a.path.popLast()),r+=G6(g)-h.size,t.push(this.Yn.addEntry(e,a,g))}else if(r-=h.size,this.trackRemovals){const g=_m(this.Yn.yt,l.convertToNoDocument(Et.min()));t.push(this.Yn.addEntry(e,a,g))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),le.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,l)=>{this.Xn.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function Hy(n){return Wr(n,"remoteDocumentGlobal")}function P1(n){return Wr(n,"remoteDocumentsV14")}function H4(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xm(n,e){const t=e.documentKey.path.toArray();return[n,F6(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function k5(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Bt(t[a],r[a]),i)return i;return i=Bt(t.length,r.length),i||(i=Bt(t[t.length-2],r[r.length-2]),i||Bt(t[t.length-1],r[r.length-1]))}class OD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class km{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&x6(r.mutation,i,xs.empty(),gn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qt()){const i=O1();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=I4();return a.forEach((h,g)=>{l=l.insert(h,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=O1();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,i){let a=Wi();const l=Wl(),h=Wl();return t.forEach((g,b)=>{const D=r.get(b.key);i.has(b.key)&&(void 0===D||D.mutation instanceof R1)?a=a.insert(b.key,b):void 0!==D&&(l.set(b.key,D.mutation.getFieldMask()),x6(D.mutation,b,D.mutation.getFieldMask(),gn.now()))}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((b,D)=>l.set(b,D)),t.forEach((b,D)=>{var T;return h.set(b,new OD(D,null!==(T=l.get(b))&&void 0!==T?T:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Wl();let i=new ar((l,h)=>l-h),a=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(g=>{const b=t.get(g);if(null===b)return;let D=r.get(g)||xs.empty();D=h.applyToLocalView(b,D),r.set(g,D);const T=(i.get(h.batchId)||qt()).add(g);i=i.insert(h.batchId,T)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),b=g.key,D=g.value,T=t5();D.forEach(k=>{if(!a.has(k)){const L=U9(t.get(k),r.get(k));null!==L&&T.set(k,L),a=a.add(k)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,T))}return le.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):h8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):le.resolve(O1());let h=-1,g=a;return l.next(b=>le.forEach(b,(D,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(D)?le.resolve():this.remoteDocumentCache.getEntry(e,D).next(k=>{g=g.insert(D,k)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,g,b,qt())).next(D=>({batchId:h,changes:q9(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let i=I4();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=I4();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,h=>{const g=(b=t,D=h.child(i),new sc(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(b=>{b.forEach((D,T)=>{a=a.insert(D,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((h,g)=>{const b=g.getKey();null===i.get(b)&&(i=i.insert(b,Un.newInvalidDocument(b)))});let l=I4();return i.forEach((h,g)=>{const b=a.get(h);void 0!==b&&x6(b.mutation,g,xs.empty(),gn.now()),Zf(t,g)&&(l=l.insert(h,g))}),l})}}class By{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return le.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ir(r.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:bm(r.bundledQuery),readTime:Ir(r.readTime)}),le.resolve();var r}}class Uy{constructor(){this.overlays=new ar(Qe.comparator),this.es=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=O1();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.oe(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=O1(),a=t.length+1,l=new Qe(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const g=h.getNext().value,b=g.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&g.largestBatchId>r&&i.set(g.getKey(),g)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ar((b,D)=>b-D);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let D=a.get(b.largestBatchId);null===D&&(D=O1(),a=a.insert(b.largestBatchId,D)),D.set(b.getKey(),b)}}const h=O1(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((b,D)=>h.set(b,D)),!(h.size()>=i)););return le.resolve(h)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new S8(t,r));let a=this.es.get(t);void 0===a&&(a=qt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class B4{constructor(){this.ns=new Ln(si.ss),this.rs=new Ln(si.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new si(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new si(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Qe(new Gt([])),r=new si(t,e),i=new si(t,e+1),a=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),a.push(l.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Qe(new Gt([])),r=new si(t,e),i=new si(t,e+1);let a=qt();return this.rs.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new si(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class si{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Qe.comparator(e.key,t.key)||Bt(e._s,t._s)}static os(e,t){return Bt(e._s,t._s)||Qe.comparator(e.key,t.key)}}class LD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ln(si.ss)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const l=new E8(a,t,r,i);this.mutationQueue.push(l);for(const h of i)this.gs=this.gs.add(new si(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(l)}lookupMutationBatch(e,t){return le.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new si(t,0),i=new si(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],l=>{const h=this.ys(l._s);a.push(h)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ln(Bt);return t.forEach(i=>{const a=new si(i,0),l=new si(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,l],h=>{r=r.add(h._s)})}),le.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Qe.isDocumentKey(a)||(a=a.child(""));const l=new si(new Qe(a),0);let h=new Ln(Bt);return this.gs.forEachWhile(g=>{const b=g.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(h=h.add(g._s)),!0)},l),le.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){_t(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return le.forEach(t.mutations,i=>{const a=new si(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new si(t,0),i=this.gs.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return le.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class PD{constructor(e){this.Es=e,this.docs=new ar(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Un.newInvalidDocument(i))}),le.resolve(r)}getAllFromCollection(e,t,r){let i=Wi();const a=new Qe(t.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:g}}=l.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||i8(Pf(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ct()}As(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zD(this)}getSize(e){return le.resolve(this.size)}}class zD extends N5{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class jy{constructor(e){this.persistence=e,this.Rs=new Ia(t=>Bl(t),w4),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.bs=0,this.Ps=new B4,this.targetCount=0,this.vs=dc.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),le.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new dc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Dn(t),le.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((l,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Ps.containsKey(t))}}class Rm{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ns(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new jy(this),this.indexManager=new Py,this.remoteDocumentCache=new PD(r=>this.referenceDelegate.xs(r)),this.yt=new v5(t),this.Ns=new By(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new LD(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new $y(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return le.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class $y extends C6{constructor(e){super(),this.currentSequenceNumber=e}}class R5{constructor(e){this.persistence=e,this.Fs=new B4,this.$s=null}static Bs(e){return new R5(e)}get Ls(){if(this.$s)return this.$s;throw ct()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),le.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ls,r=>{const i=Qe.fromPath(r);return this.qs(e,i).next(a=>{a||t.removeEntry(i,Et.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return le.or([()=>le.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Gy{constructor(e){this.yt=e}$(e,t,r,i){const a=new w6("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cm,{unique:!0}),h.createObjectStore("documentMutations"),O5(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=le.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),O5(e)),l=l.next(()=>function(h){const g=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(h,g){return g.store("mutations").W().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cm,{unique:!0});const D=g.store("mutations"),T=b.map(k=>D.put(k));return le.waitFor(T)})}(e,a))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Us(a))),r<6&&i>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(l=l.next(()=>this.Gs(a))),r<8&&i>=8&&(l=l.next(()=>this.Qs(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.js(a))),r<11&&i>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:hm});g.createIndex("collectionPathOverlayIndex",m5,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",g5,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:Iy});g.createIndex("documentKeyIndex",Ay),g.createIndex("collectionGroupIndex",lm)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.zs(e,a))),r<15&&i>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:xy}).createIndex("sequenceNumberIndex",AD,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:f5}).createIndex("documentKeyIndex",p5,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=G6(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>le.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",l).next(h=>le.forEach(h,g=>{_t(g.userId===a.userId);const b=oo(this.yt,g);return T5(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((l,h)=>{const g=new Gt(l),b=[0,qi(g)];a.push(t.get(b).next(D=>D?le.resolve():t.put({targetId:0,path:qi(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>le.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ny});const r=t.store("collectionParents"),i=new M5,a=l=>{if(i.add(l)){const h=l.lastSegment(),g=l.popLast();return r.put({collectionId:h,parent:qi(g)})}};return t.store("remoteDocuments").Z({X:!0},(l,h)=>{const g=new Gt(l);return a(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,h,g],b)=>{const D=Na(h);return a(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=H6(i),l=ym(this.yt,a);return t.put(l)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,l)=>{const h=t.store("remoteDocumentsV14"),g=(b=l,b.document?new Qe(Gt.fromString(b.document.name).popFirst(5)):b.noDocument?Qe.fromSegments(b.noDocument.path):b.unknownDocument?Qe.fromSegments(b.unknownDocument.path):ct()).path.toArray();var b;const D={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(h.put(D))}).next(()=>le.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=x5(this.yt),a=new Rm(R5.Bs,this.yt.ie);return r.W().next(l=>{const h=new Map;return l.forEach(g=>{var b;let D=null!==(b=h.get(g.userId))&&void 0!==b?b:qt();oo(this.yt,g).keys().forEach(T=>D=D.add(T)),h.set(g.userId,D)}),le.forEach(h,(g,b)=>{const D=new jr(b),T=I8.re(this.yt,D),k=a.getIndexManager(D),L=W6.re(D,this.yt,k,a.referenceDelegate);return new km(i,L,T,k).recalculateAndSaveOverlaysForDocumentKeys(new V6(t,Ns.at),g).next()})})}}function O5(n){n.createObjectStore("targetDocuments",{keyPath:h5}).createIndex("documentTargetsIndex",dm,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",um,{unique:!0}),n.createObjectStore("targetGlobal")}const O8="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Om{constructor(e,t,r,i,a,l,h,g,b,D,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=l,this.document=h,this.Js=b,this.Ys=D,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=k=>Promise.resolve(),!Om.C())throw new ke(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new k8(this,i),this.ii=t+"main",this.yt=new v5(g),this.ri=new us(this.ii,this.Xs,new Gy(this.yt)),this.Cs=new ND(this.referenceDelegate,this.yt),this.remoteDocumentCache=x5(this.yt),this.Ns=new B6,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ie.FAILED_PRECONDITION,O8);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ns(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,be.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>L8(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(I1(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Zi(e).get("owner").next(t=>le.resolve(this.mi(t)))}gi(e){return L8(e).delete(this.clientId)}yi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Wr(r,"clientMetadata");return i.W().next(a=>{const l=e.Ii(a,18e5),h=a.filter(g=>-1===l.indexOf(g));return le.forEach(h,g=>i.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?le.resolve(!0):Zi(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new ke(ie.FAILED_PRECONDITION,O8);return!1}}return!(!this.networkEnabled||!this.inForeground)||L8(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new V6(t,Ns.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>L8(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return W6.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tm(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return I8.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.Xs)?gm:14===l?mm:13===l?pm:12===l?ky:11===l?fm:void ct();var l;let h;return this.ri.runTransaction(e,i,a,g=>(h=new V6(g,this.Ss?this.Ss.next():Ns.at),"readwrite-primary"===t?this.fi(h).next(b=>!!b||this.di(h)).next(b=>{if(!b)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new ke(ie.FAILED_PRECONDITION,zf);return r(h)}).next(b=>this.wi(h).next(()=>b)):this.Vi(h).next(()=>r(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(e){return Zi(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(ie.FAILED_PRECONDITION,O8)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zi(e).put("owner",t)}static C(){return us.C()}_i(e){const t=Zi(e);return t.get("owner").next(r=>this.mi(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Sn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zi(n){return Wr(n,"owner")}function L8(n){return Wr(n,"clientMetadata")}function Z6(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class L5{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=qt(),i=qt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new L5(e,t.fromCache,r,i)}}class ks{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(A6(t))return le.resolve(null);let r=Gi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=f8(t,null,"F"),r=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=qt(...a);return this.Ni.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(g=>{const b=this.Fi(t,h);return this.$i(t,b,l,g.readTime)?this.ki(e,f8(t,null,"F")):this.Bi(e,b,t,g)}))})))}Oi(e,t,r,i){return A6(t)||i.isEqual(Et.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const l=this.Fi(t,a);return this.$i(t,l,r,i)?this.Mi(e,t):(t8()<=U2.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),p8(t)),this.Bi(e,l,t,v9(i,-1)))})}Fi(e,t){let r=new Ln(D4(e));return t.forEach((i,a)=>{Zf(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return t8()<=U2.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",p8(t)),this.Ni.getDocumentsMatchingQuery(e,t,As.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class Wy{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new ar(Bt),this.Ui=new Ia(a=>Bl(a),w4),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new km(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function P8(n,e,t,r){return new Wy(n,e,t,r)}function Lm(n,e){return P5.apply(this,arguments)}function P5(){return P5=(0,be.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let g=qt();for(const b of i){l.push(b.batchId);for(const D of b.mutations)g=g.add(D.key)}for(const b of a){h.push(b.batchId);for(const D of b.mutations)g=g.add(D.key)}return t.localDocuments.getDocuments(r,g).next(b=>({ji:b,removedBatchIds:l,addedBatchIds:h}))})})}),P5.apply(this,arguments)}function z5(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,h,g,b){const D=g.batch,T=D.keys();let k=le.resolve();return T.forEach(L=>{k=k.next(()=>b.getEntry(h,L)).next(F=>{const W=g.docVersions.get(L);_t(null!==W),F.version.compareTo(W)<0&&(D.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),b.addEntry(F)))})}),k.next(()=>l.mutationQueue.removeMutationBatch(h,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=qt();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(h=h.add(l.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function V5(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Pm(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const h=[];e.targetChanges.forEach((D,T)=>{const k=i.get(T);if(!k)return;h.push(t.Cs.removeMatchingKeys(a,D.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(a,D.addedDocuments,T)));let L=k.withSequenceNumber(a.currentSequenceNumber);var F,W,X;e.targetMismatches.has(T)?L=L.withResumeToken(Gr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,r)),i=i.insert(T,L),W=L,X=D,(0===(F=k).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,L))});let g=Wi(),b=qt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),h.push(zm(a,l,e.documentUpdates).next(D=>{g=D.Wi,b=D.zi})),!r.isEqual(Et.min())){const D=t.Cs.getLastRemoteSnapshotVersion(a).next(T=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(D)}return le.waitFor(h).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,b)).next(()=>g)}).then(a=>(t.qi=i,a))}function zm(n,e,t){let r=qt(),i=qt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Wi();return t.forEach((h,g)=>{const b=a.get(h);g.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(h)),g.isNoDocument()&&g.version.isEqual(Et.min())?(e.removeEntry(h,g.readTime),l=l.insert(h,g)):!b.isValidDocument()||g.version.compareTo(b.version)>0||0===g.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(g),l=l.insert(h,g)):Le("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",g.version)}),{Wi:l,zi:i}})}function Vm(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yl(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):t.Cs.allocateTargetId(r).next(l=>(i=new ac(e,l,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function U4(n,e,t){return z8.apply(this,arguments)}function z8(){return z8=(0,be.Z)(function*(n,e,t){const r=Xe(n),i=r.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!I1(l))throw l;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),z8.apply(this,arguments)}function V8(n,e,t){const r=Xe(n);let i=Et.min(),a=qt();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,g,b){const D=Xe(h),T=D.Ui.get(b);return void 0!==T?le.resolve(D.qi.get(T)):D.Cs.getTargetData(g,b)}(r,l,Gi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,h.targetId).next(g=>{a=g})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,t?i:Et.min(),t?a:qt())).next(h=>(F5(r,z9(e),h),{documents:h,Hi:a})))}function F8(n,e){const t=Xe(n),r=Xe(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ne(a,e).next(l=>l?l.target:null))}function z1(n,e){const t=Xe(n),r=t.Ki.get(e)||Et.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,v9(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(F5(t,e,i),i))}function F5(n,e,t){let r=n.Ki.get(e)||Et.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function Wo(){return Wo=(0,be.Z)(function*(n,e,t,r){const i=Xe(n);let a=qt(),l=Wi();for(const b of t){const D=e.Ji(b.metadata.name);b.document&&(a=a.add(D));const T=e.Yi(b);T.setReadTime(e.Xi(b.metadata.readTime)),l=l.insert(D,T)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),g=yield Yl(i,(b=r,Gi(Ul(Gt.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>zm(b,h,l).next(D=>(h.apply(b),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(b,g.targetId).next(()=>i.Cs.addMatchingKeys(b,a,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,D.Wi,D.zi)).next(()=>D.Wi)))}),Wo.apply(this,arguments)}function qy(n,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,be.Z)(function*(n,e,t=qt()){const r=yield Yl(n,Gi(bm(e.bundledQuery))),i=Xe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=Ir(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ns.saveNamedQuery(a,e);const h=r.withResumeToken(Gr.EMPTY_BYTE_STRING,l);return i.qi=i.qi.insert(h.targetId,h),i.Cs.updateTargetData(a,h).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),Fm.apply(this,arguments)}function Hm(n,e){return`firestore_clients_${n}_${e}`}function Bm(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function B5(n,e){return`firestore_targets_${n}_${e}`}class H8{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new ke(i.error.code,i.error.message))),l?new H8(e,t,i.state,a):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j4{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new ke(r.error.code,r.error.message))),a?new j4(e,r.state,i):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class U5{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=A4();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=D9(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new U5(e,a):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class B8{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new B8(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class j5{constructor(){this.activeTargetIds=A4()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U8{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new ar(Bt),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Hm(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new j5),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(Hm(e.persistenceKey,i));if(a){const l=U5.Zi(i,a);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(B5(this.persistenceKey,e));if(r){const i=j4.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(B5(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let l=Ns.at;if(null!=a)try{const h=JSON.parse(a);_t("number"==typeof h),l=h}catch(h){yr("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(r.newValue);i!==Ns.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new H8(this.currentUser,e,t,r),a=Bm(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=Bm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=B5(this.persistenceKey,e),a=new j4(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return U5.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return H8.Zi(new jr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return j4.Zi(i,t)}yr(e){return B8.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),l=[],h=[];return a.forEach(g=>{i.has(g)||l.push(g)}),i.forEach(g=>{a.has(g)||h.push(g)}),this.syncEngine.Br(l,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=A4();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Zy{constructor(){this.Lr=new j5,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new j5,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $5{Ur(e){}shutdown(){}}class G5{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Um={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jm{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class $m extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const l=this.ho(e,t);Le("RestConnection","Sending: ",l,r);const h={};return this.lo(h,i,a),this.fo(e,l,h,r).then(g=>(Le("RestConnection","Received: ",g),g),g=>{throw Y2("RestConnection",`${e} failed with error: `,g,"url: ",l,"request:",r),g})}_o(e,t,r,i,a,l){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Um[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,l)=>{const h=new kf;h.setWithCredentials(!0),h.listenOnce(s9.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case e8.NO_ERROR:const b=h.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),a(b);break;case e8.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),l(new ke(ie.DEADLINE_EXCEEDED,"Request time out"));break;case e8.HTTP_ERROR:const D=h.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',D,"response text:",h.getResponseText()),D>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const k=T?.error;if(k&&k.status&&k.message){const L=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(W)>=0?W:ie.UNKNOWN}(k.status);l(new ke(L,k.message))}else l(new ke(ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new ke(ie.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);h.send(t,"POST",g,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=q_(),l=i9(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new c9({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");Le("Connection","Creating WebChannel: "+g,h);const b=a.createWebChannel(g,h);let D=!1,T=!1;const k=new jm({Hr:F=>{T?Le("Connection","Not sending because WebChannel is closed:",F):(D||(Le("Connection","Opening WebChannel transport."),b.open(),D=!0),Le("Connection","WebChannel sending:",F),b.send(F))},Jr:()=>b.close()}),L=(F,W,X)=>{F.listen(W,ge=>{try{X(ge)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return L(b,_6.EventType.OPEN,()=>{T||Le("Connection","WebChannel transport opened.")}),L(b,_6.EventType.CLOSE,()=>{T||(T=!0,Le("Connection","WebChannel transport closed"),k.io())}),L(b,_6.EventType.ERROR,F=>{T||(T=!0,Y2("Connection","WebChannel transport errored:",F),k.io(new ke(ie.UNAVAILABLE,"The operation could not be completed")))}),L(b,_6.EventType.MESSAGE,F=>{var W;if(!T){const X=F.data[0];_t(!!X);const ge=X,Ae=ge.error||(null===(W=ge[0])||void 0===W?void 0:W.error);if(Ae){Le("Connection","WebChannel received error:",Ae);const ze=Ae.status;let Re=function(Be){const pt=Tr[Be];if(void 0!==pt)return W9(pt)}(ze),He=Ae.message;void 0===Re&&(Re=ie.INTERNAL,He="Unknown error status: "+ze+" with message "+Ae.message),T=!0,k.io(new ke(Re,He)),b.close()}else Le("Connection","WebChannel received:",X),k.ro(X)}}),L(l,o9.STAT_EVENT,F=>{F.stat===a9.PROXY?Le("Connection","Detected buffering proxy"):F.stat===a9.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.so()},0),k}}function W5(){return typeof window<"u"?window:null}function Ql(){return typeof document<"u"?document:null}function hc(n){return new wy(n,!0)}class j8{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Gm{constructor(e,t,r,i,a,l,h,g){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new j8(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ie.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new ke(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wm extends Gm{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function rm(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ct(),i=e.targetChange.targetIds||[],a=function(g,b){return g.wt?(_t(void 0===b||"string"==typeof b),Gr.fromBase64String(b||"")):(_t(void 0===b||b instanceof Uint8Array),Gr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(g){const b=void 0===g.code?ie.UNKNOWN:W9(g.code);return new ke(b,g.message||"")}(l);t=new K9(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=$o(n,r.document.name),a=Ir(r.document.updateTime),l=r.document.createTime?Ir(r.document.createTime):Et.min(),h=new bi({mapValue:{fields:r.document.fields}}),g=Un.newFoundDocument(i,a,l,h);t=new R6(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=$o(n,r.document),a=r.readTime?Ir(r.readTime):Et.min(),l=Un.newNoDocument(i,a);t=new R6([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=$o(n,r.document);t=new R6([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ct();{const r=e.filter,a=new e5(r.count||0);t=new r5(r.targetId,a)}}var g;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Et.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Et.min():a.readTime?Ir(a.readTime):Et.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=L6(this.yt),t.addTarget=function(i,a){let l;const h=a.target;return l=l8(h)?{documents:c5(i,h)}:{query:l5(i,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=Dy(i,a.resumeToken):a.snapshotVersion.compareTo(Et.min())>0&&(l.readTime=O6(i,a.snapshotVersion.toTimestamp())),l}(this.yt,e);const r=function ID(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=L6(this.yt),t.removeTarget=e,this.Bo(t)}}class qm extends Gm{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function im(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,i){let a=Ir(r.updateTime?r.updateTime:i);return a.isEqual(Et.min())&&(a=Ir(i)),new gy(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.Zo(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=L6(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>R4(this.yt,r))};this.Bo(t)}}class Ky extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new ke(ie.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(ie.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection._o(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ie.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class VD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(yr(t),this.ou=!1):Le("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Km{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(h=>{r.enqueueAndForget((0,be.Z)(function*(){var g;V1(l)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,be.Z)(function*(b){const D=Xe(b);D._u.add(4),yield $4(D),D.gu.set("Unknown"),D._u.delete(4),yield K6(D)}),function(b){return g.apply(this,arguments)})(l))}))}),this.gu=new VD(r,i)}}function K6(n){return q5.apply(this,arguments)}function q5(){return q5=(0,be.Z)(function*(n){if(V1(n))for(const e of n.wu)yield e(!0)}),q5.apply(this,arguments)}function $4(n){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Ym.apply(this,arguments)}function Z5(n,e){const t=Xe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),G4(t)?K5(t):fc(t).ko()&&Qm(t,e))}function $8(n,e){const t=Xe(n),r=fc(t);t.du.delete(e),r.ko()&&Qy(t,e),0===t.du.size&&(r.ko()?r.Fo():V1(t)&&t.gu.set("Unknown"))}function Qm(n,e){n.yu.Ot(e.targetId),fc(n).zo(e)}function Qy(n,e){n.yu.Ot(e),fc(n).Ho(e)}function K5(n){n.yu=new by({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),fc(n).start(),n.gu.uu()}function G4(n){return V1(n)&&!fc(n).No()&&n.du.size>0}function V1(n){return 0===Xe(n)._u.size}function Jm(n){n.yu=void 0}function Xm(n){return F1.apply(this,arguments)}function F1(){return F1=(0,be.Z)(function*(n){n.du.forEach((e,t)=>{Qm(n,e)})}),F1.apply(this,arguments)}function eg(n,e){return Y6.apply(this,arguments)}function Y6(){return Y6=(0,be.Z)(function*(n,e){Jm(n),G4(n)?(n.gu.hu(e),K5(n)):n.gu.set("Unknown")}),Y6.apply(this,arguments)}function Y5(n,e,t){return Q5.apply(this,arguments)}function Q5(){return Q5=(0,be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof K9&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(i,a){const l=a.cause;for(const h of a.targetIds)i.du.has(h)&&(yield i.remoteSyncer.rejectListen(h,l),i.du.delete(h),i.yu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield W4(n,r)}else if(e instanceof R6?n.yu.Kt(e):e instanceof r5?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Et.min()))try{const r=yield V5(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.yu.Zt(a);return l.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const b=i.du.get(g);b&&i.du.set(g,b.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach(h=>{const g=i.du.get(h);if(!g)return;i.du.set(h,g.withResumeToken(Gr.EMPTY_BYTE_STRING,g.snapshotVersion)),Qy(i,h);const b=new ac(g.target,h,1,g.sequenceNumber);Qm(i,b)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield W4(n,r)}var r}),Q5.apply(this,arguments)}function W4(n,e,t){return Q6.apply(this,arguments)}function Q6(){return Q6=(0,be.Z)(function*(n,e,t){if(!I1(e))throw e;n._u.add(1),yield $4(n),n.gu.set("Offline"),t||(t=()=>V5(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield K6(n)}))}),Q6.apply(this,arguments)}function J6(n,e){return e().catch(t=>W4(n,t,e))}function X6(n){return tg.apply(this,arguments)}function tg(){return tg=(0,be.Z)(function*(n){const e=Xe(n),t=pc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;FD(e);)try{const i=yield Vm(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,HD(e,i)}catch(i){yield W4(e,i)}J5(e)&&ng(e)}),tg.apply(this,arguments)}function FD(n){return V1(n)&&n.fu.length<10}function HD(n,e){n.fu.push(e);const t=pc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function J5(n){return V1(n)&&!pc(n).No()&&n.fu.length>0}function ng(n){pc(n).start()}function Jy(n){return X5.apply(this,arguments)}function X5(){return X5=(0,be.Z)(function*(n){pc(n).eu()}),X5.apply(this,arguments)}function Xy(n){return G8.apply(this,arguments)}function G8(){return G8=(0,be.Z)(function*(n){const e=pc(n);for(const t of n.fu)e.Xo(t.mutations)}),G8.apply(this,arguments)}function rg(n,e,t){return W8.apply(this,arguments)}function W8(){return W8=(0,be.Z)(function*(n,e,t){const r=n.fu.shift(),i=M8.from(r,e,t);yield J6(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield X6(n)}),W8.apply(this,arguments)}function eb(n,e){return e7.apply(this,arguments)}function e7(){return e7=(0,be.Z)(function*(n,e){var t;e&&pc(n).Yo&&(yield(t=(0,be.Z)(function*(r,i){if(G9(a=i.code)&&a!==ie.ABORTED){const l=r.fu.shift();pc(r).Mo(),yield J6(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield X6(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),J5(n)&&ng(n)}),e7.apply(this,arguments)}function t7(n,e){return e3.apply(this,arguments)}function e3(){return e3=(0,be.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=V1(t);t._u.add(3),yield $4(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield K6(t)}),e3.apply(this,arguments)}function ig(n,e){return q8.apply(this,arguments)}function q8(){return q8=(0,be.Z)(function*(n,e){const t=Xe(n);e?(t._u.delete(2),yield K6(t)):e||(t._u.add(2),yield $4(t),t.gu.set("Unknown"))}),q8.apply(this,arguments)}function fc(n){return n.pu||(n.pu=function(e,t,r){const i=Xe(e);return i.su(),new Wm(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Xm.bind(null,n),Zr:eg.bind(null,n),Wo:Y5.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.pu.Mo(),G4(n)?K5(n):n.gu.set("Unknown")):(yield n.pu.stop(),Jm(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function pc(n){return n.Iu||(n.Iu=function(e,t,r){const i=Xe(e);return i.su(),new qm(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Jy.bind(null,n),Zr:eb.bind(null,n),tu:Xy.bind(null,n),Zo:rg.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Mo(),yield X6(n)):(yield n.Iu.stop(),n.fu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class n7{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,h=new n7(e,t,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t3(n,e){if(yr("AsyncQueue",`${e}: ${n}`),I1(n))return new ke(ie.UNAVAILABLE,`${e}: ${n}`);throw n}class n3{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=I4(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new n3(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n3)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new n3;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sg{constructor(){this.Tu=new ar(Qe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ct():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class q4{constructor(e,t,r,i,a,l,h,g,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new q4(e,t,n3.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&N6(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tb{constructor(){this.Au=void 0,this.listeners=[]}}class BD{constructor(){this.queries=new Ia(e=>P9(e),N6),this.onlineState="Unknown",this.Ru=new Set}}function og(n,e){return ag.apply(this,arguments)}function ag(){return ag=(0,be.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new tb),i)try{a.Au=yield t.onListen(r)}catch(l){const h=t3(l,`Initialization of query '${p8(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&ug(t)}),ag.apply(this,arguments)}function cg(n,e){return lg.apply(this,arguments)}function lg(){return lg=(0,be.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),lg.apply(this,arguments)}function nb(n,e){const t=Xe(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const h of l.listeners)h.Pu(i)&&(r=!0);l.Au=i}}r&&ug(t)}function UD(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function ug(n){n.Ru.forEach(e=>{e.next()})}class dg{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new q4(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=q4.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class jD{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class hg{constructor(e){this.yt=e}Ji(e){return $o(this.yt,e)}Yi(e){return e.metadata.exists?nm(this.yt,e.document,!1):Un.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ir(e)}}class $D{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=s(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Gt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new hg(this.yt);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const l of i.metadata.queries){const h=(t.get(l)||qt()).add(a);t.set(l,h)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function H5(n,e,t,r){return Wo.apply(this,arguments)}(e.localStore,new hg(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield qy(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function s(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class o{constructor(e){this.key=e}}class c{constructor(e){this.key=e}}class d{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=qt(),this.mutatedKeys=qt(),this.Gu=D4(e),this.Qu=new n3(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new sg,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,T)=>{const k=i.get(D),L=Zf(this.query,T)?T:null,F=!!k&&this.mutatedKeys.has(k.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let X=!1;k&&L?k.data.isEqual(L.data)?F!==W&&(r.track({type:3,doc:L}),X=!0):this.Hu(k,L)||(r.track({type:2,doc:L}),X=!0,(g&&this.Gu(L,g)>0||b&&this.Gu(L,b)<0)&&(h=!0)):!k&&L?(r.track({type:0,doc:L}),X=!0):k&&!L&&(r.track({type:1,doc:k}),X=!0,(g||b)&&(h=!0)),X&&(L?(l=l.add(L),a=W?a.add(D):a.delete(D)):(l=l.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const D="F"===this.query.limitType?l.last():l.first();l=l.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{Qu:l,zu:r,$i:h,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((b,D)=>function(T,k){const L=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return L(T)-L(k)}(b.type,D.type)||this.Gu(b.doc,D.doc)),this.Ju(r);const l=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.Uu;return this.Uu=h,0!==a.length||g?{snapshot:new q4(this.query,e.Qu,i,a,e.mutatedKeys,0===h,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new sg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=qt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new c(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new o(r))}),t}tc(e){this.qu=e.Hi,this.Ku=qt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return q4.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class f{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class m{constructor(e){this.key=e,this.nc=!1}}class y{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new Ia(h=>P9(h),N6),this.rc=new Map,this.oc=new Set,this.uc=new ar(Qe.comparator),this.cc=new Map,this.ac=new B4,this.hc={},this.lc=new Map,this.fc=dc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function w(n,e){return E.apply(this,arguments)}function E(){return E=(0,be.Z)(function*(n,e){const t=hb(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const l=yield Yl(t.localStore,Gi(e));t.isPrimaryClient&&Z5(t.remoteStore,l);const h=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield I(t,e,r,"current"===h,l.resumeToken)}return i}),E.apply(this,arguments)}function I(n,e,t,r,i){return x.apply(this,arguments)}function x(){return x=(0,be.Z)(function*(n,e,t,r,i){n._c=(T,k,L)=>{return(F=(0,be.Z)(function*(W,X,ge,Ae){let ze=X.view.Wu(ge);ze.$i&&(ze=yield V8(W.localStore,X.query,!1).then(({documents:Be})=>X.view.Wu(Be,ze)));const Re=Ae&&Ae.targetChanges.get(X.targetId),He=X.view.applyChanges(ze,W.isPrimaryClient,Re);return a3(W,X.targetId,He.Xu),He.snapshot}),function(W,X,ge,Ae){return F.apply(this,arguments)})(n,T,k,L);var F};const a=yield V8(n.localStore,e,!0),l=new d(e,a.Hi),h=l.Wu(a.documents),g=x4.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=l.applyChanges(h,n.isPrimaryClient,g);a3(n,t,b.Xu);const D=new f(e,t,l);return n.ic.set(e,D),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),x.apply(this,arguments)}function z(n,e){return G.apply(this,arguments)}function G(){return G=(0,be.Z)(function*(n,e){const t=Xe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!N6(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield U4(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$8(t.remoteStore,r.targetId),mc(t,r.targetId)}).catch(J2))):(mc(t,r.targetId),yield U4(t.localStore,r.targetId,!0))}),G.apply(this,arguments)}function ye(){return ye=(0,be.Z)(function*(n,e,t){const r=fb(n);try{const i=yield function(a,l){const h=Xe(a),g=gn.now(),b=l.reduce((k,L)=>k.add(L.key),qt());let D,T;return h.persistence.runTransaction("Locally write mutations","readwrite",k=>{let L=Wi(),F=qt();return h.Gi.getEntries(k,b).next(W=>{L=W,L.forEach((X,ge)=>{ge.isValidDocument()||(F=F.add(X))})}).next(()=>h.localDocuments.getOverlayedDocuments(k,L)).next(W=>{D=W;const X=[];for(const ge of l){const Ae=j9(ge,D.get(ge.key).overlayedDocument);null!=Ae&&X.push(new R1(ge.key,Ae,O9(Ae.value.mapValue),Xn.exists(!0)))}return h.mutationQueue.addMutationBatch(k,g,X,l)}).next(W=>{T=W;const X=W.applyToLocalDocumentSet(D,F);return h.documentOverlayCache.saveOverlays(k,W.batchId,X)})}).then(()=>({batchId:T.batchId,changes:q9(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,h){let g=a.hc[a.currentUser.toKey()];g||(g=new ar(Bt)),g=g.insert(l,h),a.hc[a.currentUser.toKey()]=g}(r,i.batchId,t),yield Jl(r,i.changes),yield X6(r.remoteStore)}catch(i){const a=t3(i,"Failed to persist write");t.reject(a)}}),ye.apply(this,arguments)}function Fe(n,e){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,be.Z)(function*(n,e){const t=Xe(n);try{const r=yield Pm(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.cc.get(a);l&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.nc=!0:i.modifiedDocuments.size>0?_t(l.nc):i.removedDocuments.size>0&&(_t(l.nc),l.nc=!1))}),yield Jl(t,r,e)}catch(r){yield J2(r)}}),Ke.apply(this,arguments)}function dt(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,l)=>{const h=l.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,l){const h=Xe(a);h.onlineState=l;let g=!1;h.queries.forEach((b,D)=>{for(const T of D.listeners)T.bu(l)&&(g=!0)}),g&&ug(h)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Mt(n,e,t){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,be.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let l=new ar(Qe.comparator);l=l.insert(a,Un.newNoDocument(a,Et.min()));const h=qt().add(a),g=new N4(Et.min(),new Map,new Ln(Bt),l,h);yield Fe(r,g),r.uc=r.uc.remove(a),r.cc.delete(e),c3(r)}else yield U4(r.localStore,e,!1).then(()=>mc(r,e,t)).catch(J2)}),Ne.apply(this,arguments)}function kt(n,e){return vn.apply(this,arguments)}function vn(){return vn=(0,be.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield z5(t.localStore,e);o3(t,r,null),s3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Jl(t,i)}catch(i){yield J2(i)}}),vn.apply(this,arguments)}function er(n,e,t){return H1.apply(this,arguments)}function H1(){return H1=(0,be.Z)(function*(n,e,t){const r=Xe(n);try{const i=yield function(a,l){const h=Xe(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return h.mutationQueue.lookupMutationBatch(g,l).next(D=>(_t(null!==D),b=D.keys(),h.mutationQueue.removeMutationBatch(g,D))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,b,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>h.localDocuments.getDocuments(g,b))})}(r.localStore,e);o3(r,e,t),s3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Jl(r,i)}catch(i){yield J2(i)}}),H1.apply(this,arguments)}function r3(){return r3=(0,be.Z)(function*(n,e){const t=Xe(n);V1(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=Xe(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=t3(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),r3.apply(this,arguments)}function s3(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function o3(n,e,t){const r=Xe(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function mc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||Z8(n,r)})}function Z8(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&($8(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),c3(n))}function a3(n,e,t){for(const r of t)r instanceof o?(n.ac.addReference(r.key,e),i7(n,r)):r instanceof c?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||Z8(n,r.key)):ct()}function i7(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.oc.add(r),c3(n))}function c3(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Qe(Gt.fromString(e)),r=n.fc.next();n.cc.set(r,new m(t)),n.uc=n.uc.insert(t,r),Z5(n.remoteStore,new ac(Gi(Ul(t.path)),r,2,Ns.at))}}function Jl(n,e,t){return rb.apply(this,arguments)}function rb(){return rb=(0,be.Z)(function*(n,e,t){const r=Xe(n),i=[],a=[],l=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,g)=>{l.push(r._c(g,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const D=L5.Ci(g.targetId,b);a.push(D)}}))}),yield Promise.all(l),r.sc.Wo(i),yield(h=(0,be.Z)(function*(g,b){const D=Xe(g);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(b,k=>le.forEach(k.Si,L=>D.persistence.referenceDelegate.addReference(T,k.targetId,L)).next(()=>le.forEach(k.Di,L=>D.persistence.referenceDelegate.removeReference(T,k.targetId,L)))))}catch(T){if(!I1(T))throw T;Le("LocalStore","Failed to update sequence numbers: "+T)}for(const T of b){const k=T.targetId;if(!T.fromCache){const L=D.qi.get(k),W=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);D.qi=D.qi.insert(k,W)}}}),function(g,b){return h.apply(this,arguments)})(r.localStore,a))}),rb.apply(this,arguments)}function cN(n,e){return ib.apply(this,arguments)}function ib(){return ib=(0,be.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield Lm(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(l=>{l.forEach(h=>{h.reject(new ke(ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jl(t,r.ji)}var i}),ib.apply(this,arguments)}function lN(n,e){const t=Xe(n),r=t.cc.get(e);if(r&&r.nc)return qt().add(r.key);{let i=qt();const a=t.rc.get(e);if(!a)return i;for(const l of a){const h=t.ic.get(l);i=i.unionWith(h.view.ju)}return i}}function uN(n,e){return sb.apply(this,arguments)}function sb(){return sb=(0,be.Z)(function*(n,e){const t=Xe(n),r=yield V8(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&a3(t,e.targetId,i.Xu),i}),sb.apply(this,arguments)}function dN(n,e){return ob.apply(this,arguments)}function ob(){return ob=(0,be.Z)(function*(n,e){const t=Xe(n);return z1(t.localStore,e).then(r=>Jl(t,r))}),ob.apply(this,arguments)}function hN(n,e,t,r){return ab.apply(this,arguments)}function ab(){return ab=(0,be.Z)(function*(n,e,t,r){const i=Xe(n),a=yield function(l,h){const g=Xe(l),b=Xe(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.Tn(D,h).next(T=>T?g.localDocuments.getDocuments(D,T):le.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield X6(i.remoteStore):"acknowledged"===t||"rejected"===t?(o3(i,e,r||null),s3(i,e),h=e,Xe(Xe(i.localStore).mutationQueue).An(h)):ct(),yield Jl(i,a)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),ab.apply(this,arguments)}function cb(){return cb=(0,be.Z)(function*(n,e){const t=Xe(n);if(hb(t),fb(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield GD(t,r.toArray());t.dc=!0,yield ig(t.remoteStore,!0);for(const a of i)Z5(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(mc(t,l),U4(t.localStore,l,!0))),$8(t.remoteStore,l)}),yield i,yield GD(t,r),function(a){const l=Xe(a);l.cc.forEach((h,g)=>{$8(l.remoteStore,g)}),l.ac.fs(),l.cc=new Map,l.uc=new ar(Qe.comparator)}(t),t.dc=!1,yield ig(t.remoteStore,!1)}}),cb.apply(this,arguments)}function GD(n,e,t){return lb.apply(this,arguments)}function lb(){return lb=(0,be.Z)(function*(n,e,t){const r=Xe(n),i=[],a=[];for(const l of e){let h;const g=r.rc.get(l);if(g&&0!==g.length){h=yield Yl(r.localStore,Gi(g[0]));for(const b of g){const D=r.ic.get(b),T=yield uN(r,D);T.snapshot&&a.push(T.snapshot)}}else{const b=yield F8(r.localStore,l);h=yield Yl(r.localStore,b),yield I(r,WD(b),l,!1,h.resumeToken)}i.push(h)}return r.sc.Wo(a),i}),lb.apply(this,arguments)}function WD(n){return hy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pN(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).vi()}function mN(n,e,t,r){return ub.apply(this,arguments)}function ub(){return ub=(0,be.Z)(function*(n,e,t,r){const i=Xe(n);if(i.dc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield z1(i.localStore,z9(a[0])),h=N4.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Gr.EMPTY_BYTE_STRING);yield Jl(i,l,h);break}case"rejected":yield U4(i.localStore,e,!0),mc(i,e,r);break;default:ct()}}),ub.apply(this,arguments)}function gN(n,e,t){return db.apply(this,arguments)}function db(){return db=(0,be.Z)(function*(n,e,t){const r=hb(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const a=yield F8(r.localStore,i),l=yield Yl(r.localStore,a);yield I(r,WD(a),l.targetId,!1,l.resumeToken),Z5(r.remoteStore,l)}for(const i of t)r.rc.has(i)&&(yield U4(r.localStore,i,!1).then(()=>{$8(r.remoteStore,i),mc(r,i)}).catch(J2))}}),db.apply(this,arguments)}function hb(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fe.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mt.bind(null,e),e.sc.Wo=nb.bind(null,e.eventManager),e.sc.wc=UD.bind(null,e.eventManager),e}function fb(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=er.bind(null,e),e}class qD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.yt=hc(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return P8(this.persistence,new ks,e.initialUser,this.yt)}yc(e){return new Rm(R5.Bs,this.yt)}gc(e){return new Zy}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZD extends qD{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield fb(r.Ac.syncEngine),yield X6(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return P8(this.persistence,new ks,e.initialUser,this.yt)}Tc(e,t){return new kD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new X_(t,this.persistence);return new b9(e.asyncQueue,r)}yc(e){const t=Z6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new Om(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,W5(),Ql(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Zy}}class _N extends ZD{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof U8&&(r.sharedClientState.syncEngine={Fr:hN.bind(null,i),$r:mN.bind(null,i),Br:gN.bind(null,i),vi:pN.bind(null,i),Mr:dN.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,be.Z)(function*(l){yield function fN(n,e){return cb.apply(this,arguments)}(r.Ac.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}gc(e){const t=W5();if(!U8.C(t))throw new ke(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Z6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new U8(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class pb{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dt(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cN.bind(null,r.syncEngine),yield ig(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BD}createDatastore(e){const t=hc(e.databaseInfo.databaseId),r=new $m(e.databaseInfo);return new Ky(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>dt(this.syncEngine,h,0),l=G5.C()?new G5:new $5,new Km(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,h,g,b){const D=new y(r,i,a,l,h,g);return b&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Xe(t);Le("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield $4(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mb(n,e,t){if(!t)throw new ke(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KD(n,e,t,r){if(!0===e&&!0===r)throw new ke(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function YD(n){if(!Qe.isDocumentKey(n))throw new ke(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QD(n){if(Qe.isDocumentKey(n))throw new ke(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fg(n);throw new ke(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JD(n,e){if(e<=0)throw new ke(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const XD=new Map;class eE{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class s7{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new f9;switch(t.type){case"gapi":return new p4(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=XD.get(e);t&&(Le("ComponentProvider","Removing Datastore"),XD.delete(e),t.terminate())}(this),Promise.resolve()}}class cr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}}class Ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class gc extends Ki{constructor(e,t,r){super(e,t,Ul(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new Qe(e))}withConverter(e){return new gc(this.firestore,e,this._path)}}function nE(n,e,...t){if(n=(0,Sn.m9)(n),mb("collection","path",e),n instanceof s7){const r=Gt.fromString(e,...t);return QD(r),new gc(n,null,r)}{if(!(n instanceof cr||n instanceof gc))throw new ke(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return QD(r),new gc(n.firestore,null,r)}}function pg(n,e,...t){if(n=(0,Sn.m9)(n),1===arguments.length&&(e=Rf.R()),mb("doc","path",e),n instanceof s7){const r=Gt.fromString(e,...t);return YD(r),new cr(n,null,new Qe(r))}{if(!(n instanceof cr||n instanceof gc))throw new ke(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return YD(r),new cr(n.firestore,n instanceof gc?n.converter:null,new Qe(r))}}function rE(n,e){return n=(0,Sn.m9)(n),e=(0,Sn.m9)(e),(n instanceof cr||n instanceof gc)&&(e instanceof cr||e instanceof gc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gb(n,e){return n=(0,Sn.m9)(n),e=(0,Sn.m9)(e),n instanceof Ki&&e instanceof Ki&&n.firestore===e.firestore&&N6(n._query,e._query)&&n.converter===e.converter}function iE(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bN{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new $r,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new jD(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,be.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class DN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,be.Z)(function*(a,l){const h=Xe(a),g=L6(h.yt)+"/documents",b={documents:l.map(L=>k4(h.yt,L))},D=yield h._o("BatchGetDocuments",g,b,l.length),T=new Map;D.forEach(L=>{const F=function P6(n,e){return"found"in e?function(t,r){_t(!!r.found);const i=$o(t,r.found.name),a=Ir(r.found.updateTime),l=r.found.createTime?Ir(r.found.createTime):Et.min(),h=new bi({mapValue:{fields:r.found.fields}});return Un.newFoundDocument(i,a,l,h)}(n,e):"missing"in e?function(t,r){_t(!!r.missing),_t(!!r.readTime);const i=$o(t,r.missing),a=Ir(r.readTime);return Un.newNoDocument(i,a)}(n,e):ct()}(h.yt,L);T.set(F.key.toString(),F)});const k=[];return l.forEach(L=>{const F=T.get(L.toString());_t(!!F),k.push(F)}),k}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new T4(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Qe.fromPath(i);e.mutations.push(new k6(a,e.precondition(a)))}),yield(r=(0,be.Z)(function*(i,a){const l=Xe(i),h=L6(l.yt)+"/documents",g={writes:a.map(b=>R4(l.yt,b))};yield l.ao("Commit",h,g)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ke(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Et.min())?Xn.exists(!1):Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new ke(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EN{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new j8(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,be.Z)(function*(){const t=new DN(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!D6(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!G9(t)}return!1}}class MN{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=Rf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,be.Z)(function*(h){Le("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Le("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=t3(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function sE(n,e){return vb.apply(this,arguments)}function vb(){return vb=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(a){r.isEqual(a)||(yield Lm(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),vb.apply(this,arguments)}function oE(n,e){return _b.apply(this,arguments)}function _b(){return _b=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yb(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>t7(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>t7(e.remoteStore,a)),n.onlineComponents=e}),_b.apply(this,arguments)}function yb(n){return bb.apply(this,arguments)}function bb(){return bb=(0,be.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield sE(n,new qD)),n.offlineComponents}),bb.apply(this,arguments)}function gg(n){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,be.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield oE(n,new pb)),n.onlineComponents}),Cb.apply(this,arguments)}function aE(n){return yb(n).then(e=>e.persistence)}function vg(n){return yb(n).then(e=>e.localStore)}function wb(n){return gg(n).then(e=>e.remoteStore)}function Db(n){return gg(n).then(e=>e.syncEngine)}function K8(n){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,be.Z)(function*(n){const e=yield gg(n),t=e.eventManager;return t.onListen=w.bind(null,e.syncEngine),t.onUnlisten=z.bind(null,e.syncEngine),t}),Eb.apply(this,arguments)}function lE(n,e,t={}){const r=new $r;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,h,g){const b=new mg({next:T=>{a.enqueueAndForget(()=>cg(i,D));const k=T.docs.has(l);!k&&T.fromCache?g.reject(new ke(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&T.fromCache&&h&&"server"===h.source?g.reject(new ke(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),D=new dg(Ul(l.path),b,{includeMetadataChanges:!0,Nu:!0});return og(i,D)}(yield K8(n),n.asyncQueue,e,t,r)})),r.promise}function uE(n,e,t={}){const r=new $r;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,a,l,h,g){const b=new mg({next:T=>{a.enqueueAndForget(()=>cg(i,D)),T.fromCache&&"server"===h.source?g.reject(new ke(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),D=new dg(l,b,{includeMetadataChanges:!0,Nu:!0});return og(i,D)}(yield K8(n),n.asyncQueue,e,t,r)})),r.promise}class RN{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new j8(this,"async_queue_retry"),this.Wc=()=>{const t=Ql();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Ql();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Ql();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new $r;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,be.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!I1(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=n7.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.Uc.push(i),i}zc(){this.Kc&&ct()}verifyOperationInProgress(){}Xc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Mb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ON{constructor(){this._progressObserver={},this._taskCompletionResolver=new $r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lr extends s7{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new RN,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dE(this),this._firestoreClient.terminate()}}function qr(n){return n._firestoreClient||dE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dE(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ey(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new MN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function hE(n,e,t){const r=new $r;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield sE(n,t),yield oE(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(l=a).name?l.code===ie.FAILED_PRECONDITION||l.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;Y2("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function fE(n){if(n._initialized||n._terminated)throw new ke(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vc(Gr.fromBase64String(e))}catch(t){throw new ke(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vc(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class l3{constructor(e){this._methodName=e}}class _g{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const $N=/^__.*__$/;class GN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new R1(e,this.data,this.fieldMask,t,this.fieldTransforms):new $l(e,this.data,t,this.fieldTransforms)}}class pE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new R1(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class yg{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return wg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(mE(this.sa)&&$N.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class WN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||hc(e)}da(e,t,r,i=!1){return new yg({sa:e,methodName:t,fa:r,path:wn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function u3(n){const e=n._freezeSettings(),t=hc(n._databaseId);return new WN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bg(n,e,t,r,i,a={}){const l=n.da(a.merge||a.mergeFields?2:0,e,t,i);Ab("Data must be an object, but it was:",l,r);const h=_E(r,l);let g,b;if(a.merge)g=new xs(l.fieldMask),b=l.fieldTransforms;else if(a.mergeFields){const D=[];for(const T of a.mergeFields){const k=Nb(e,T,t);if(!l.contains(k))throw new ke(ie.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);bE(D,k)||D.push(k)}g=new xs(D),b=l.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,b=l.fieldTransforms;return new GN(new bi(h),g,b)}class o7 extends l3{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof o7}}function gE(n,e,t){return new yg({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Sb extends l3{_toFieldTransform(e){return new S4(e.path,new E4)}isEqual(e){return e instanceof Sb}}class qN extends l3{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=gE(this,e,!0),r=this._a.map(a=>d3(a,t)),i=new oc(r);return new S4(e.path,i)}isEqual(e){return this===e}}class ZN extends l3{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=gE(this,e,!0),r=this._a.map(a=>d3(a,t)),i=new jl(r);return new S4(e.path,i)}isEqual(e){return this===e}}class KN extends l3{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new M4(e.yt,Yf(e.yt,this.wa));return new S4(e.path,t)}isEqual(e){return this===e}}function Tb(n,e,t,r){const i=n.da(1,e,t);Ab("Data must be an object, but it was:",i,r);const a=[],l=bi.empty();Ll(r,(g,b)=>{const D=Cg(e,g,t);b=(0,Sn.m9)(b);const T=i.ca(D);if(b instanceof o7)a.push(D);else{const k=d3(b,T);null!=k&&(a.push(D),l.set(D,k))}});const h=new xs(a);return new pE(l,h,i.fieldTransforms)}function Ib(n,e,t,r,i,a){const l=n.da(1,e,t),h=[Nb(e,r,t)],g=[i];if(a.length%2!=0)throw new ke(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)h.push(Nb(e,a[k])),g.push(a[k+1]);const b=[],D=bi.empty();for(let k=h.length-1;k>=0;--k)if(!bE(b,h[k])){const L=h[k];let F=g[k];F=(0,Sn.m9)(F);const W=l.ca(L);if(F instanceof o7)b.push(L);else{const X=d3(F,W);null!=X&&(b.push(L),D.set(L,X))}}const T=new xs(b);return new pE(D,T,l.fieldTransforms)}function vE(n,e,t,r=!1){return d3(t,n.da(r?4:3,e))}function d3(n,e){if(yE(n=(0,Sn.m9)(n)))return Ab("Unsupported field value:",e,n),_E(n,e);if(n instanceof l3)return function(t,r){if(!mE(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let h=d3(l,r.aa(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Sn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yf(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=gn.fromDate(t);return{timestampValue:O6(r.yt,i)}}if(t instanceof gn){const i=new gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:O6(r.yt,i)}}if(t instanceof _g)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vc)return{bytesValue:Dy(r.yt,t._byteString)};if(t instanceof cr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:s5(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${fg(t)}`)}(n,e)}function _E(n,e){const t={};return w9(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(n,(r,i)=>{const a=d3(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function yE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gn||n instanceof _g||n instanceof vc||n instanceof cr||n instanceof l3)}function Ab(n,e,t){if(!yE(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fg(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Nb(n,e,t){if((e=(0,Sn.m9)(e))instanceof Xl)return e._internalPath;if("string"==typeof e)return Cg(n,e);throw wg("Field path arguments must be of type string or ",n,!1,void 0,t)}const YN=new RegExp("[~\\*/\\[\\]]");function Cg(n,e,t){if(e.search(YN)>=0)throw wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xl(...e.split("."))._internalPath}catch{throw wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wg(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(a||l)&&(g+=" (found",a&&(g+=` in field ${r}`),l&&(g+=` in document ${i}`),g+=")"),new ke(ie.INVALID_ARGUMENT,h+n+g)}function bE(n,e){return n.some(t=>t.isEqual(e))}class a7{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QN extends a7{data(){return super.data()}}function Dg(n,e){return"string"==typeof e?Cg(n,e):e instanceof Xl?e._internalPath:e._delegate._internalPath}function CE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xb{}class c7 extends xb{}function Z4(n,e,...t){let r=[];e instanceof xb&&r.push(e),r=r.concat(t),function(i){const a=i.filter(h=>h instanceof Y8).length,l=i.filter(h=>h instanceof l7).length;if(a>1||a>0&&l>0)throw new ke(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class l7 extends c7{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new l7(e,t,r)}_apply(e){const t=this._parse(e);return ME(e._query,t),new Ki(e.firestore,e.converter,qf(e._query,t))}_parse(e){const t=u3(e.firestore);return function(i,a,l,h,g,b,D){let T;if(g.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){EE(D,b);const k=[];for(const L of D)k.push(DE(h,i,L));T={arrayValue:{values:k}}}else T=DE(h,i,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||EE(D,b),T=vE(l,"where",D,"in"===b||"not-in"===b);return rn.create(g,b,T)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Y8 extends xb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Y8(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const h of l)ME(a,h),a=qf(a,h)}(e._query,t),new Ki(e.firestore,e.converter,qf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kb extends c7{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kb(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new ke(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new b4(i,a);return function(h,g){if(null===Wf(h)){const b=d8(h);null!==b&&SE(0,b,g.field)}}(r,l),l}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new sc(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Eg extends c7{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Eg(e,t,r)}_apply(e){return new Ki(e.firestore,e.converter,f8(e._query,this._limit,this._limitType))}}class Mg extends c7{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Mg(e,t,r)}_apply(e){const t=wE(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(i=t,new sc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Sg extends c7{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Sg(e,t,r)}_apply(e){const t=wE(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(i=t,new sc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function wE(n,e,t,r){if(t[0]=(0,Sn.m9)(t[0]),t[0]instanceof a7)return function(i,a,l,h,g){if(!h)throw new ke(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const D of jo(i))if(D.field.isKeyField())b.push(rc(a,h.key));else{const T=h.data.field(D.field);if(Ff(T))throw new ke(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const k=D.field.canonicalString();throw new ke(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}b.push(T)}return new ic(b,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=u3(n.firestore);return function(a,l,h,g,b,D){const T=a.explicitOrderBy;if(b.length>T.length)throw new ke(ie.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let L=0;L<b.length;L++){const F=b[L];if(T[L].field.isKeyField()){if("string"!=typeof F)throw new ke(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof F}`);if(!h8(a)&&-1!==F.indexOf("/"))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${F}' contains a slash.`);const W=a.path.child(Gt.fromString(F));if(!Qe.isDocumentKey(W))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const X=new Qe(W);k.push(rc(l,X))}else{const W=vE(h,g,F);k.push(W)}}return new ic(k,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function DE(n,e,t){if("string"==typeof(t=(0,Sn.m9)(t))){if(""===t)throw new ke(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h8(e)&&-1!==t.indexOf("/"))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gt.fromString(t));if(!Qe.isDocumentKey(r))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rc(n,new Qe(r))}if(t instanceof cr)return rc(n,t._key);throw new ke(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(t)}.`)}function EE(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ke(ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ME(n,e){if(e.isInequality()){const r=d8(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=Wf(n);null!==a&&SE(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(ie.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function SE(n,e,t){if(!t.isEqual(e))throw new ke(ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Rb{convertValue(e,t="none"){switch(nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const r={};return Ll(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new _g(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=E9(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(v4(e));default:return null}}convertTimestamp(e){const t=tc(e);return new gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);_t(Go(r));const i=new ec(r.get(1),r.get(3)),a=new Qe(r.popFirst(5));return i.isEqual(t)||yr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Tg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ox extends Rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,t)}}class h3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e0 extends a7{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new u7(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Dg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class u7 extends e0{data(e={}){return super.data(e)}}class K4{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new h3(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new u7(this._firestore,this._userDataWriter,r.key,r,new h3(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new u7(r._firestore,r._userDataWriter,l.doc.key,l.doc,new h3(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const h=new u7(r._firestore,r._userDataWriter,l.doc.key,l.doc,new h3(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,b=-1;return 0!==l.type&&(g=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),b=a.indexOf(l.doc.key)),{type:ax(l.type),doc:h,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ax(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function IE(n,e){return n instanceof e0&&e instanceof e0?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof K4&&e instanceof K4&&n._firestore===e._firestore&&gb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Y4 extends Rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,t)}}function AE(n,e,t){n=dn(n,cr);const r=dn(n.firestore,lr),i=Tg(n.converter,e,t);return Q8(r,[bg(u3(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Xn.none())])}function NE(n,e,t,...r){n=dn(n,cr);const i=dn(n.firestore,lr),a=u3(i);let l;return l="string"==typeof(e=(0,Sn.m9)(e))||e instanceof Xl?Ib(a,"updateDoc",n._key,e,t,r):Tb(a,"updateDoc",n._key,e),Q8(i,[l.toMutation(n._key,Xn.exists(!0))])}function xE(n,...e){var t,r,i;n=(0,Sn.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Mb(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(Mb(e[l])){const T=e[l];e[l]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[l+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[l+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let g,b,D;if(n instanceof cr)b=dn(n.firestore,lr),D=Ul(n._key.path),g={next:T=>{e[l]&&e[l](Ob(b,n,T))},error:e[l+1],complete:e[l+2]};else{const T=dn(n,Ki);b=dn(T.firestore,lr),D=T._query;const k=new Y4(b);g={next:L=>{e[l]&&e[l](new K4(b,k,T,L))},error:e[l+1],complete:e[l+2]},CE(n._query)}return function(T,k,L,F){const W=new mg(F),X=new dg(k,W,L);return T.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return og(yield K8(T),X)})),()=>{W.bc(),T.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return cg(yield K8(T),X)}))}}(qr(b),D,h,g)}function Q8(n,e){return function(t,r){const i=new $r;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function ne(n,e,t){return ye.apply(this,arguments)}(yield Db(t),r,i)})),i.promise}(qr(n),e)}function Ob(n,e,t){const r=t.docs.get(e._key),i=new Y4(n);return new e0(n,i,e._key,r,new h3(t.hasPendingWrites,t.fromCache),e.converter)}const vx={maxAttempts:5};class kE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=u3(e)}set(e,t,r){this._verifyNotCommitted();const i=Q4(e,this._firestore),a=Tg(i.converter,t,r),l=bg(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Xn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Q4(e,this._firestore);let l;return l="string"==typeof(t=(0,Sn.m9)(t))||t instanceof Xl?Ib(this._dataReader,"WriteBatch.update",a._key,t,r,i):Tb(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Q4(e,this._firestore);return this._mutations=this._mutations.concat(new T4(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Q4(n,e){if((n=(0,Sn.m9)(n)).firestore!==e)throw new ke(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _x extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=u3(e)}get(e){const t=Q4(e,this._firestore),r=new ox(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ct();const a=i[0];if(a.isFoundDocument())return new a7(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new a7(this._firestore,r,t._key,null,t.converter);throw ct()})}set(e,t,r){const i=Q4(e,this._firestore),a=Tg(i.converter,t,r),l=bg(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=Q4(e,this._firestore);let l;return l="string"==typeof(t=(0,Sn.m9)(t))||t instanceof Xl?Ib(this._dataReader,"Transaction.update",a._key,t,r,i):Tb(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Q4(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Q4(e,this._firestore),r=new Y4(this._firestore);return super.get(e).then(i=>new e0(this._firestore,r,t._key,i._document,new h3(!1,!1),t.converter))}}function Lb(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OE(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function LE(){if(!function ty(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Rl=y1.SDK_VERSION,(0,y1._registerComponent)(new Q0.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new lr(new p9(t.getProvider("auth-internal")),new K_(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(h.options.projectId,g)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,y1.registerVersion)(y6,"3.8.0",n),(0,y1.registerVersion)(y6,"3.8.0","esm2017")}();class d7{constructor(e){this._delegate=e}static fromBase64String(e){return LE(),new d7(vc.fromBase64String(e))}static fromUint8Array(e){return OE(),new d7(vc.fromUint8Array(e))}toBase64(){return LE(),this._delegate.toBase64()}toUint8Array(){return OE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Pb(n){return function Tx(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Ix{enableIndexedDbPersistence(e,t){return function PN(n,e){fE(n=dn(n,lr));const t=qr(n),r=n._freezeSettings(),i=new pb;return hE(t,i,new ZD(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function zN(n){fE(n=dn(n,lr));const e=qr(n),t=n._freezeSettings(),r=new pb;return hE(e,r,new _N(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function VN(n){if(n._initialized&&!n._terminated)throw new ke(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!us.C())return Promise.resolve();const i=r+"main";yield us.delete(i)}),function(r){return t.apply(this,arguments)})(Z6(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class PE{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ec||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Y2("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function tE(n,e,t,r={}){var i;const a=(n=dn(n,s7))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Y2("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=jr.MOCK_USER;else{l=(0,Sn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ke(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jr(g)}n._authCredentials=new Z_(new h9(l,h))}}(this._delegate,e,t,r)}enableNetwork(){return function HN(n){return function SN(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield aE(n),t=yield wb(n);return e.setNetworkEnabled(!0),function(r){const i=Xe(r);return i._u.delete(0),K6(i)}(t)}))}(qr(n=dn(n,lr)))}(this._delegate)}disableNetwork(){return function BN(n){return function TN(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield aE(n),t=yield wb(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(i){const a=Xe(i);a._u.add(0),yield $4(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(qr(n=dn(n,lr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,KD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function FN(n){return function(e){const t=new $r;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function r7(n,e){return r3.apply(this,arguments)}(yield Db(e),t)})),t.promise}(qr(n=dn(n,lr)))}(this._delegate)}onSnapshotsInSync(e){return function gx(n,e){return function NN(n,e){const t=new mg(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield K8(n),i=t,Xe(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield K8(n),i=t,void Xe(r).Ru.delete(i);var r,i}))}}(qr(n=dn(n,lr)),Mb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new J8(this,nE(this._delegate,e))}catch(t){throw Rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,pg(this._delegate,e))}catch(t){throw Rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Os(this,function yN(n,e){if(n=dn(n,s7),mb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(n,null,(t=e,new sc(Gt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yx(n,e,t){n=dn(n,lr);const r=Object.assign(Object.assign({},vx),t);return function(i){if(i.maxAttempts<1)throw new ke(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const h=new $r;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const g=yield function cE(n){return gg(n).then(e=>e.datastore)}(i);new EN(i.asyncQueue,g,l,a,h).run()})),h.promise}(qr(n),i=>e(new _x(n,i)),r)}(this._delegate,t=>e(new zE(this,t)))}batch(){return qr(this._delegate),new VE(new kE(this._delegate,e=>Q8(this._delegate,e)))}loadBundle(e){return function UN(n,e){const t=qr(n=dn(n,lr)),r=new ON;return function xN(n,e,t,r){const i=function(a,l){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,b){if(g instanceof Uint8Array)return iE(g,b);if(g instanceof ArrayBuffer)return iE(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new bN(g,l);var g}(t,hc(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function vN(n,e,t){const r=Xe(n);var i;(i=(0,be.Z)(function*(a,l,h){try{const g=yield l.getMetadata();if(yield function(k,L){const F=Xe(k),W=Ir(L.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",X=>F.Ns.getBundleMetadata(X,L.id)).then(X=>!!X&&X.createTime.compareTo(W)>=0)}(a.localStore,g))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(k=g).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);h._updateProgress(s(g));const b=new $D(g,a.localStore,l.yt);let D=yield l.mc();for(;D;){const k=yield b.Fu(D);k&&h._updateProgress(k),D=yield l.mc()}const T=yield b.complete();return yield Jl(a,T.Lu,void 0),yield function(k,L){const F=Xe(k);return F.persistence.runTransaction("Save bundle","readwrite",W=>F.Ns.saveBundleMetadata(W,L))}(a.localStore,g),h._completeWith(T.progress),Promise.resolve(T.Bu)}catch(g){return Y2("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var k}),function(a,l,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Db(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function jN(n,e){return function kN(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const i=Xe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield vg(n),e)}))}(qr(n=dn(n,lr)),e).then(t=>t?new Ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Os(this,t):null)}}class Ig extends Rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new d7(new vc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class zE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ig(e)}get(e){const t=p3(e);return this._delegate.get(t).then(r=>new h7(this._firestore,new e0(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=p3(e);return r?(Lb("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=p3(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=p3(e);return this._delegate.delete(t),this}}class VE{constructor(e){this._delegate=e}set(e,t,r){const i=p3(e);return r?(Lb("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=p3(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=p3(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class f3{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new u7(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new f7(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=f3.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new f3(e,new Ig(e),t),i.set(t,a)),a}}f3.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ig(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new cr(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new xa(t,new cr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new J8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new J8(this.firestore,nE(this._delegate,e))}catch(t){throw Rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Sn.m9)(e))instanceof cr&&rE(this._delegate,e)}set(e,t){t=Lb("DocumentReference.set",t);try{return t?AE(this._delegate,e,t):AE(this._delegate,e)}catch(r){throw Rs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?NE(this._delegate,e):NE(this._delegate,e,t,...r)}catch(i){throw Rs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function px(n){return Q8(dn(n.firestore,lr),[new T4(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=FE(e),r=HE(e,i=>new h7(this.firestore,new e0(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return xE(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function lx(n){n=dn(n,cr);const e=dn(n.firestore,lr),t=qr(e),r=new Y4(e);return function IN(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const h=yield function(g,b){const D=Xe(g);return D.persistence.runTransaction("read document","readonly",T=>D.localDocuments.getDocument(T,b))}(i,a);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new ke(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=t3(h,`Failed to get document '${a} from cache`);l.reject(g)}}),function(i,a,l){return r.apply(this,arguments)})(yield vg(n),e,t);var r})),t.promise}(t,n._key).then(i=>new e0(e,r,n._key,i,new h3(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ux(n){n=dn(n,cr);const e=dn(n.firestore,lr);return lE(qr(e),n._key,{source:"server"}).then(t=>Ob(e,n,t))}(this._delegate):function cx(n){n=dn(n,cr);const e=dn(n.firestore,lr);return lE(qr(e),n._key).then(t=>Ob(e,n,t))}(this._delegate),t.then(r=>new h7(this.firestore,new e0(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?f3.getInstance(this.firestore,e):null))}}function Rs(n,e,t){return n.message=n.message.replace(e,t),n}function FE(n){for(const e of n)if("object"==typeof e&&!Pb(e))return e;return{}}function HE(n,e){var t,r;let i;return i=Pb(n[0])?n[0]:Pb(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class h7{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return IE(this._delegate,e._delegate)}}class f7 extends h7{data(e){const t=this._delegate.data(e);return function d9(n,e){n||ct()}(void 0!==t),t}}class Os{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ig(e)}where(e,t,r){try{return new Os(this.firestore,Z4(this._delegate,function JN(n,e,t){const r=e,i=Dg("where",n);return l7._create(i,r,t)}(e,t,r)))}catch(i){throw Rs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Os(this.firestore,Z4(this._delegate,function XN(n,e="asc"){const t=e,r=Dg("orderBy",n);return kb._create(r,t)}(e,t)))}catch(r){throw Rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Os(this.firestore,Z4(this._delegate,function ex(n){return JD("limit",n),Eg._create("limit",n,"F")}(e)))}catch(t){throw Rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Os(this.firestore,Z4(this._delegate,function tx(n){return JD("limitToLast",n),Eg._create("limitToLast",n,"L")}(e)))}catch(t){throw Rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Os(this.firestore,Z4(this._delegate,function nx(...n){return Mg._create("startAt",n,!0)}(...e)))}catch(t){throw Rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Os(this.firestore,Z4(this._delegate,function rx(...n){return Mg._create("startAfter",n,!1)}(...e)))}catch(t){throw Rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Os(this.firestore,Z4(this._delegate,function ix(...n){return Sg._create("endBefore",n,!1)}(...e)))}catch(t){throw Rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Os(this.firestore,Z4(this._delegate,function sx(...n){return Sg._create("endAt",n,!0)}(...e)))}catch(t){throw Rs(t,"endAt()","Query.endAt()")}}isEqual(e){return gb(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function hx(n){n=dn(n,Ki);const e=dn(n.firestore,lr),t=qr(e),r=new Y4(e);return function AN(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(i,a,l){try{const h=yield V8(i,a,!0),g=new d(a,h.Hi),b=g.Wu(h.documents),D=g.applyChanges(b,!1);l.resolve(D.snapshot)}catch(h){const g=t3(h,`Failed to execute query '${a} against cache`);l.reject(g)}}),function(i,a,l){return r.apply(this,arguments)})(yield vg(n),e,t);var r})),t.promise}(t,n._query).then(i=>new K4(e,r,n,i))}(this._delegate):"server"===e?.source?function fx(n){n=dn(n,Ki);const e=dn(n.firestore,lr),t=qr(e),r=new Y4(e);return uE(t,n._query,{source:"server"}).then(i=>new K4(e,r,n,i))}(this._delegate):function dx(n){n=dn(n,Ki);const e=dn(n.firestore,lr),t=qr(e),r=new Y4(e);return CE(n._query),uE(t,n._query).then(i=>new K4(e,r,n,i))}(this._delegate),t.then(r=>new zb(this.firestore,new K4(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=FE(e),r=HE(e,i=>new zb(this.firestore,new K4(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return xE(this._delegate,t,r)}withConverter(e){return new Os(this.firestore,this._delegate.withConverter(e?f3.getInstance(this.firestore,e):null))}}class Nx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new f7(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Os(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new f7(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Nx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new f7(this._firestore,r))})}isEqual(e){return IE(this._delegate,e._delegate)}}class J8 extends Os{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?pg(this._delegate):pg(this._delegate,e))}catch(t){throw Rs(t,"doc()","CollectionReference.doc()")}}add(e){return function mx(n,e){const t=dn(n.firestore,lr),r=pg(n),i=Tg(n.converter,e);return Q8(t,[bg(u3(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return rE(this._delegate,e._delegate)}withConverter(e){return new J8(this.firestore,this._delegate.withConverter(e?f3.getInstance(this.firestore,e):null))}}function p3(n){return dn(n,cr)}class Vb{constructor(...e){this._delegate=new Xl(...e)}static documentId(){return new Vb(wn.keyField().canonicalString())}isEqual(e){return(e=(0,Sn.m9)(e))instanceof Xl&&this._delegate._internalPath.isEqual(e._internalPath)}}class m3{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Cx(){return new Sb("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new m3(e)}static delete(){const e=function bx(){return new o7("deleteField")}();return e._methodName="FieldValue.delete",new m3(e)}static arrayUnion(...e){const t=function wx(...n){return new qN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new m3(t)}static arrayRemove(...e){const t=function Dx(...n){return new ZN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new m3(t)}static increment(e){const t=function Ex(n){return new KN("increment",n)}(e);return t._methodName="FieldValue.increment",new m3(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xx={Firestore:PE,GeoPoint:_g,Timestamp:gn,Blob:d7,Transaction:zE,WriteBatch:VE,DocumentReference:xa,DocumentSnapshot:h7,Query:Os,QueryDocumentSnapshot:f7,QuerySnapshot:zb,CollectionReference:J8,FieldPath:Vb,FieldValue:m3,setLogLevel:function Ax(n){!function l9(n){S1.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Rx(n){(function kx(n,e){n.INTERNAL.registerComponent(new Q0.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},xx)))})(n,(e,t)=>new PE(e,t,new Ix)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(gl.Z);var Ox=O(6451),p7=O(5363),Lx=O(6063);class Px extends bn.x{constructor(e=1/0,t=1/0,r=Lx.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let h=0;for(let g=1;g<r.length&&r[g]<=l;g+=2)h=g;h&&r.splice(0,h+1)}}}var zx=O(3099);function Fb(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,zx.B)({connector:()=>new Px(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function BE(n,e){return(0,gi.m)(e)?Vn(()=>n,e):Vn(()=>n)}var Hb=O(9468);O(259);const Ub=new Map,jE={activated:!1,tokenObservers:[]},Ux={initialized:!1,enabled:!1};function Yi(n){return Ub.get(n)||Object.assign({},jE)}function Ng(){return Ux}class Zx{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Sn.BH,yield function Kx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Sn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ls=new Sn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function GE(n){if(!Yi(n).activated)throw Ls.create("use-before-activation",{appName:n.name})}function Gb(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,a)}catch(T){throw Ls.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==l.status)throw Ls.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(T){throw Ls.create("fetch-parse-error",{originalErrorMessage:T?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(g[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+b,issuedAtTimeMillis:D}}),Wb.apply(this,arguments)}function Xx(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const m7="firebase-app-check-store";let Rg=null;function qE(){return Rg||(Rg=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ls.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(m7,{keyPath:"compositeKey"})}}catch(t){e(Ls.create("storage-open",{originalErrorMessage:t?.message}))}}),Rg)}function qb(){return qb=(0,be.Z)(function*(n,e){const r=(yield qE()).transaction(m7,"readwrite"),a=r.objectStore(m7).put({compositeKey:n,value:e});return new Promise((l,h)=>{a.onsuccess=g=>{l()},r.onerror=g=>{var b;h(Ls.create("storage-set",{originalErrorMessage:null===(b=g.target.error)||void 0===b?void 0:b.message}))}})}),qb.apply(this,arguments)}const g7=new U2.Yd("@firebase/app-check");function Yb(n,e){return(0,Sn.hl)()?function rk(n,e){return function ZE(n,e){return qb.apply(this,arguments)}(function YE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{g7.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QE(){return Ng().enabled}function JE(){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,be.Z)(function*(){const n=Ng();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Jb.apply(this,arguments)}const lk={error:"UNKNOWN_ERROR"};function uk(n){return Sn.US.encodeString(JSON.stringify(n),!1)}function Og(n){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,be.Z)(function*(n,e=!1){const t=n.app;GE(t);const r=Yi(t);let a,i=r.token;if(i&&!X8(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(X8(g)?i=g:yield Yb(t,void 0))}if(!e&&i&&X8(i))return{token:i.token};let h,l=!1;if(QE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Gb(Xx(t,yield JE()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const g=yield r.exchangeTokenPromise;return yield Yb(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Yi(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?g7.warn(g.message):g7.error(g),a=g}return i?a?h=X8(i)?{token:i.token,internalError:a}:tM(a):(h={token:i.token},r.token=i,yield Yb(t,i)):h=tM(a),l&&eM(t,h),h}),Xb.apply(this,arguments)}function tC(n,e){const t=Yi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function XE(n){const{app:e}=n,t=Yi(e);let r=t.tokenRefresher;r||(r=function dk(n){const{app:e}=n;return new Zx((0,be.Z)(function*(){let r;if(r=Yi(e).token?yield Og(n,!0):yield Og(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Yi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function eM(n,e){const t=Yi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function X8(n){return n.expireTimeMillis-Date.now()>0}function tM(n){return{token:uk(lk),error:n}}class hk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Yi(this.app);for(const t of e)tC(this.app,t.next);return Promise.resolve()}}const lM="app-check-internal";!function Sk(){(0,y1._registerComponent)(new Q0.wA("app-check",n=>function fk(n,e){return new hk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(lM).initialize()})),(0,y1._registerComponent)(new Q0.wA(lM,n=>function pk(n){return{getToken:e=>Og(n,e),addTokenListener:e=>function eC(n,e,t,r){const{app:i}=n,a=Yi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&X8(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),XE(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>XE(n))}(n,"INTERNAL",e),removeTokenListener:e=>tC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,y1.registerVersion)("@firebase/app-check","0.6.0")}();class sC{constructor(){return(0,ni.vb)("app-check")}}typeof window<"u"&&window;var xk=O(9260);const dM=new u.OlP("angularfire2.auth.use-emulator"),hM=new u.OlP("angularfire2.auth.settings"),fM=new u.OlP("angularfire2.auth.tenant-id"),pM=new u.OlP("angularfire2.auth.langugage-code"),mM=new u.OlP("angularfire2.auth.use-device-language"),gM=new u.OlP("angularfire.auth.persistence"),vM=(n,e,t,r,i,a,l,h)=>(0,ro.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,a&&g.useDeviceLanguage(),l)for(const[b,D]of Object.entries(l))g.settings[b]=D;return h&&g.setPersistence(h),g},[t,r,i,a,l,h]);let _M=(()=>{class n{constructor(t,r,i,a,l,h,g,b,D,T,k,L){const F=new bn.x,W=ut(void 0).pipe((0,p7.Q)(l.outsideAngular),Vn(()=>a.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,9169)))),(0,Je.U)(()=>(0,ro.on)(t,a,r)),(0,Je.U)(X=>vM(X,a,h,b,D,T,g,k)),Fb({bufferSize:1,refCount:!1}));if(Or(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{W.pipe(re()).subscribe();const ge=W.pipe(Vn(Re=>Re.getRedirectResult().then(He=>He,()=>null)),ni.iC,Fb({bufferSize:1,refCount:!1})),Ae=W.pipe(Vn(Re=>new Bn.y(He=>({unsubscribe:a.runOutsideAngular(()=>Re.onAuthStateChanged(Be=>He.next(Be),Be=>He.error(Be),()=>He.complete()))})))),ze=W.pipe(Vn(Re=>new Bn.y(He=>({unsubscribe:a.runOutsideAngular(()=>Re.onIdTokenChanged(Be=>He.next(Be),Be=>He.error(Be),()=>He.complete()))}))));this.authState=ge.pipe(BE(Ae),(0,Hb.R)(l.outsideAngular),(0,p7.Q)(l.insideAngular)),this.user=ge.pipe(BE(ze),(0,Hb.R)(l.outsideAngular),(0,p7.Q)(l.insideAngular)),this.idToken=this.user.pipe(Vn(Re=>Re?(0,yn.D)(Re.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(Vn(Re=>Re?(0,yn.D)(Re.getIdTokenResult()):ut(null))),this.credential=(0,Ox.T)(ge,F,this.authState.pipe(M(Re=>!Re))).pipe((0,Je.U)(Re=>Re?.user?Re:null),(0,Hb.R)(l.outsideAngular),(0,p7.Q)(l.insideAngular))}return(0,ro.pX)(this,W,a,{spy:{apply:(X,ge,Ae)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Ae.then(ze=>F.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ro.Dh),u.LFG(ro.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ni.HU),u.LFG(dM,8),u.LFG(hM,8),u.LFG(fM,8),u.LFG(pM,8),u.LFG(mM,8),u.LFG(gM,8),u.LFG(sC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function yM(n,e){return function Rk(n,e=Zh.z){return new Bn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function aC(n,e){return yM(n,e).pipe((0,Je.U)(t=>({payload:t,type:"query"})))}function Pg(n,e){return aC(n,e).pipe(Io(void 0),Kh(),(0,Je.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,h)=>{const g=i.find(D=>D.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(D=>D.ref.isEqual(l.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(l.metadata)||!g&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),a}))}function bM(n,e,t){return Pg(n,t).pipe(Pt((r,i)=>function Lk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Pk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cC(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cC(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cC(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function Dd(n,e=Ms.y){return n=n??_D,(0,gr.e)((t,r)=>{let i,a=!0;t.subscribe((0,On.x)(r,l=>{const h=e(l);(a||!n(i,h))&&(a=!1,i=h,r.next(l))}))})}(),(0,Je.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function cC(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function CM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class wM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Pg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Je.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Io(void 0),Kh(),M(([r,i])=>i.length>0||!r),(0,Je.U)(([r,i])=>i),ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CM(e);return bM(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return aC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ni.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(ni.iC)}add(e){return this.ref.add(e)}doc(e){return new DM(this.ref.doc(e),this.afs)}}class DM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=SM(r,t);return new wM(i,a,this.afs)}snapshotChanges(){return function Ok(n,e){return yM(n,e).pipe(Io(void 0),Kh(),(0,Je.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,yn.D)(this.ref.get(e)).pipe(ni.iC)}}class zk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Pg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),M(t=>t.length>0),ni.iC):Pg(this.query,this.afs.schedulers.outsideAngular).pipe(ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CM(e);return bM(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return aC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ni.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(ni.iC)}}const EM=new u.OlP("angularfire2.enableFirestorePersistence"),MM=new u.OlP("angularfire2.firestore.persistenceSettings"),Vk=new u.OlP("angularfire2.firestore.settings"),Fk=new u.OlP("angularfire2.firestore.use-emulator");function SM(n,e=(t=>t)){return{query:e(n),ref:n}}let lC=(()=>{class n{constructor(t,r,i,a,l,h,g,b,D,T,k,L,F,W,X,ge,Ae){this.schedulers=g;const ze=(0,ro.on)(t,h,r),Re=D;T&&vM(ze,h,k,F,W,X,L,ge),[this.firestore,this.persistenceEnabled$]=(0,ro.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const He=h.runOutsideAngular(()=>ze.firestore());if(a&&He.settings(a),Re&&He.useEmulator(...Re),i&&!Or(l)){const Be=()=>{try{return(0,yn.D)(He.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(pt){return typeof console<"u"&&console.warn(pt),ut(!1)}};return[He,h.runOutsideAngular(Be)]}return[He,ut(!1)]},[a,Re,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=SM(i,r),h=this.schedulers.ngZone.run(()=>a);return new wM(h,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new zk(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new DM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ro.Dh),u.LFG(ro.xv,8),u.LFG(EM,8),u.LFG(Vk,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ni.HU),u.LFG(MM,8),u.LFG(Fk,8),u.LFG(_M,8),u.LFG(dM,8),u.LFG(hM,8),u.LFG(fM,8),u.LFG(pM,8),u.LFG(mM,8),u.LFG(gM,8),u.LFG(sC,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hk=(()=>{class n{constructor(){xk.Z.registerVersion("angularfire",ni.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:EM,useValue:!0},{provide:MM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[lC]}),n})();const Bk=[[["","pageHeader",""]],[["","pageContent",""]],[["","pageFooter",""]]],Uk=function(n){return{"logged-in-footer":n}},jk=["[pageHeader]","[pageContent]","[pageFooter]"];let $k=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-page-wrapper"]],inputs:{user:"user"},ngContentSelectors:jk,decls:7,vars:3,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer",3,"ngClass"]],template:function(t,r){1&t&&(u.F$t(Bk),u.TgZ(0,"div",0)(1,"div",1),u.Hsn(2),u.qZA(),u.TgZ(3,"div",2),u.Hsn(4,1),u.qZA(),u.TgZ(5,"div",3),u.Hsn(6,2),u.qZA()()),2&t&&(u.xp6(5),u.Q6J("ngClass",u.VKq(1,Uk,r.user.isLoggedIn)))},dependencies:[pn],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll;margin-top:90px;display:flex;justify-content:center}.adultery-page-header[_ngcontent-%COMP%]{min-height:90px}.adultery-page-footer[_ngcontent-%COMP%]{height:90px}.adultery-page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:9999}.adultery-page-footer[_ngcontent-%COMP%]{margin-top:auto}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;overflow:hidden}.logged-in-footer[_ngcontent-%COMP%]{overflow:scroll;border-top:1px solid black}']}),n})();var Gk=O(1144);const Wk=["addListener","removeListener"],qk=["addEventListener","removeEventListener"],Zk=["on","off"];function Ps(n,e,t,r){if((0,gi.m)(t)&&(r=t,t=void 0),r)return Ps(n,e,t).pipe(ha(r));const[i,a]=function Qk(n){return(0,gi.m)(n.addEventListener)&&(0,gi.m)(n.removeEventListener)}(n)?qk.map(l=>h=>n[l](e,h,t)):function Kk(n){return(0,gi.m)(n.addListener)&&(0,gi.m)(n.removeListener)}(n)?Wk.map(TM(n,e)):function Yk(n){return(0,gi.m)(n.on)&&(0,gi.m)(n.off)}(n)?Zk.map(TM(n,e)):[];if(!i&&(0,Gk.z)(n))return(0,S.z)(l=>Ps(l,e,t))((0,Xr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Bn.y(l=>{const h=(...g)=>l.next(1<g.length?g:g[0]);return i(h),()=>a(h)})}function TM(n,e){return t=>r=>n[t](e,r)}var Jk=O(3532);const{isArray:eR}=Array;function IM(n){return 1===n.length&&eR(n[0])?n[0]:n}var zg=O(5032);function Vg(...n){const e=(0,mi.jO)(n),t=IM(n);return t.length?new Bn.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let l=0;!r.closed&&l<t.length;l++)(0,Xr.Xf)(t[l]).subscribe((0,On.x)(r,h=>{if(i[l].push(h),i.every(g=>g.length)){const g=i.map(b=>b.shift());r.next(e?e(...g):g),i.some((b,D)=>!b.length&&a[D])&&r.complete()}},()=>{a[l]=!0,!i[l].length&&r.complete()}));return()=>{i=a=null}}):Bi.E}function oi(n){return(0,gr.e)((e,t)=>{(0,Xr.Xf)(n).subscribe((0,On.x)(t,()=>t.complete(),zg.Z)),!t.closed&&e.subscribe(t)})}function dC(...n){const e=(0,mi.jO)(n);return(0,gr.e)((t,r)=>{const i=n.length,a=new Array(i);let l=n.map(()=>!1),h=!1;for(let g=0;g<i;g++)(0,Xr.Xf)(n[g]).subscribe((0,On.x)(r,b=>{a[g]=b,!h&&!l[g]&&(l[g]=!0,(h=l.every(Ms.y))&&(l=null))},zg.Z));t.subscribe((0,On.x)(r,g=>{if(h){const b=[g,...a];r.next(e?e(...b):b)}}))})}new Bn.y(zg.Z);let CS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[CS]}),n})(),oO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sO]}),n})();Math,Math,Math;const _L=["*"],PL=["dialog"];function jC(n){return"string"==typeof n}function b3(n){return null!=n}function sh(n){return(n||document.body).getBoundingClientRect()}const nT={animation:!0,transitionTimerDelayMs:5},NP=()=>{},{transitionTimerDelayMs:xP}=nT,T7=new Map,fs=(n,e,t,r)=>{let i=r.context||{};const a=T7.get(e);if(a)switch(r.runningTransition){case"continue":return Bi.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),T7.delete(e)}const l=t(e,r.animation,i)||NP;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>l()),ut(void 0).pipe(function IP(n){return e=>new Bn.y(t=>e.subscribe({next:l=>n.run(()=>t.next(l)),error:l=>n.run(()=>t.error(l)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new bn.x,g=new bn.x,b=h.pipe(function nR(...n){return e=>ss(e,ut(...n))}(!0));T7.set(e,{transition$:h,complete:()=>{g.next(),g.complete()},context:i});const D=function AP(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const T=Ps(e,"transitionend").pipe(oi(b),M(({target:L})=>L===e));(function AM(...n){return 1===(n=IM(n)).length?(0,Xr.Xf)(n[0]):new Bn.y(function tR(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Xr.Xf)(n[r]).subscribe((0,On.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(function uC(n=0,e,t=Zh.P){let r=-1;return null!=e&&((0,Jk.K)(e)?t=e:r=e),new Bn.y(i=>{let a=function Xk(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(D+xP).pipe(oi(b)),T,g).pipe(oi(b)).subscribe(()=>{T7.delete(e),n.run(()=>{l(),h.next(),h.complete()})})}),h.asObservable()},GC=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:a}=n;function l(){a.add("collapse"),"show"===r?a.add("show"):a.remove("show")}if(e)return i||(i=function RP(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),sh(n),a.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{l(),a.remove("collapsing"),n.style.height=""};l()};let I7=(()=>{class n{constructor(){this.animation=nT.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),cT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),UP=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(I7))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jP=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,r){return fs(this._zone,this._element.nativeElement,GC,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(UP),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[u.TTD]}),n})(),hT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Ci=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Ci||(Ci={})),Ci))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const pT=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function mT(n){const e=Array.from(n.querySelectorAll(pT)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let DT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr,oO]}),n})(),QC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),ST=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class E3{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Ez=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Yt(1)).subscribe(()=>{fs(this._zone,this._el.nativeElement,(t,r)=>{r&&sh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class TT{close(e){}dismiss(e){}}class Mz{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new bn.x,this._dismissed=new bn.x,this._hidden=new bn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,l)=>{this._resolve=a,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(oi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(oi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function tT(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ut(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Vg(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var k7=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(k7||(k7={})),k7))();let Sz=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new bn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new bn.x,this.hidden=new bn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":jC(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Yt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},l=Vg(fs(this._zone,t,()=>t.classList.remove("show"),r),fs(this._zone,this._dialogEl.nativeElement,()=>{},r));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const t={animation:this.animation,runningTransition:"continue"};Vg(fs(this._zone,this._elRef.nativeElement,(a,l)=>{l&&sh(a),a.classList.add("show")},t),fs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ps(t,"keydown").pipe(oi(this._closed$),M(i=>i.which===Ci.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(k7.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Ps(this._dialogEl.nativeElement,"mousedown").pipe(oi(this._closed$),(0,$e.b)(()=>r=!1),Vn(()=>Ps(t,"mouseup").pipe(oi(this._closed$),Yt(1))),M(({target:i})=>t===i)).subscribe(()=>{r=!0}),Ps(t,"click").pipe(oi(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(k7.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=mT(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ue),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(PL,7),2&t){let i;u.iGM(i=u.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:_L,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Tz=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:l}=i;if(t>0){const h=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${h+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=l),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iz=(()=>{class n{constructor(t,r,i,a,l,h){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=l,this._ngZone=h,this._activeWindowCmptHasChanged=new bn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Ps(e,"focusin").pipe(oi(t),(0,Je.U)(a=>a.target));Ps(e,"keydown").pipe(oi(t),M(a=>a.which===Ci.Tab),dC(i)).subscribe(([a,l])=>{const[h,g]=mT(e);(l===h||l===e)&&a.shiftKey&&(g.focus(),a.preventDefault()),l===g&&!a.shiftKey&&(h.focus(),a.preventDefault())}),r&&Ps(e,"click").pipe(oi(t),dC(i),(0,Je.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:b3(i.container)?this._document.querySelector(i.container):this._document.body,l=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new TT,g=this._getContentRef(i.injector||t,r,h,i);let b=!1!==i.backdrop?this._attachBackdrop(a):void 0,D=this._attachWindowComponent(a,g.nodes),T=new Mz(D,g,b,i.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(D),T.hidden.pipe(Yt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=k=>{T.close(k)},h.dismiss=k=>{T.dismiss(k)},this._applyWindowOptions(D.instance,i),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,i),b.changeDetectorRef.detectChanges()),D.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.LMc)(Ez,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.LMc)(Sz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{b3(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{b3(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a){return r?r instanceof u.Rgc?this._createFromTemplateRef(r,i):jC(r)?this._createFromString(r):this._createFromComponent(t,r,i,a):new E3([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(l){r.close(l)},dismiss(l){r.dismiss(l)}});return this._applicationRef.attachView(a),new E3([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new E3([[r]])}_createFromComponent(t,r,i,a){const l=u.zs3.create({providers:[{provide:TT,useValue:i}],parent:t}),h=(0,u.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:l}),g=h.location.nativeElement;return a.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new E3([[g]],h.hostView,h)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(ue),u.LFG(Tz),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Az=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(I7))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nz=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(Iz),u.LFG(Az))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Nz]}),n})(),kT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),HT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),UT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),jT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),$T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),GT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),WT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),qT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function jz(){return 100}});let ZT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pr]}),n})(),KT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const $z=[aT,cT,dT,hT,DT,ST,IT,kT,KT,HT,UT,jT,$T,GT,WT,qT,ZT];let Gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$z,aT,cT,dT,hT,DT,ST,IT,kT,KT,HT,UT,jT,$T,GT,WT,qT,ZT]}),n})(),Wz=(()=>{class n{constructor(){this.isMenuCollapsed=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],inputs:{user:"user"},decls:17,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-light","mb-3"],[1,"container-fluid"],[1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink","click"],[1,"nav-item"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._uU(3,"Adultery"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return r.isMenuCollapsed=!r.isMenuCollapsed}),u._uU(5," \u2630 "),u.qZA(),u.TgZ(6,"div",4)(7,"ul",5)(8,"li",6)(9,"a",7),u.NdJ("click",function(){return r.isMenuCollapsed=!0}),u._uU(10,"Features"),u.qZA()(),u.TgZ(11,"li",8)(12,"a",7),u.NdJ("click",function(){return r.isMenuCollapsed=!0}),u._uU(13,"Examples"),u.qZA()(),u.TgZ(14,"li",8)(15,"a",7),u.NdJ("click",function(){return r.isMenuCollapsed=!0}),u._uU(16,"About"),u.qZA()()()()()()),2&t&&(u.xp6(6),u.Q6J("ngbCollapse",r.isMenuCollapsed),u.xp6(3),u.Q6J("routerLink","."),u.xp6(3),u.Q6J("routerLink","."),u.xp6(3),u.Q6J("routerLink","."))},dependencies:[_d,jP,QC],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.navbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-basis:auto;align-items:center;min-height:90px;padding-left:10px;padding-right:10px;border-bottom:1px solid black;background-color:#fff}']}),n})();var YT={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},QT={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]};let Cne=(()=>{class n{constructor(){this.faDumbbell=YT,this.faUser=QT}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R7(n){return(R7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function JT(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Ene(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Ene(n,i,t[i])})}return n}function tw(n,e){return function Sne(n){if(Array.isArray(n))return n}(n)||function Ine(n,e){var t=[],r=!0,i=!1,a=void 0;try{for(var h,l=n[Symbol.iterator]();!(r=(h=l.next()).done)&&(t.push(h.value),!e||t.length!==e);r=!0);}catch(g){i=!0,a=g}finally{try{!r&&null!=l.return&&l.return()}finally{if(i)throw a}}return t}(n,e)||function Nne(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rw={},eI={};try{typeof window<"u"&&(rw=window),typeof document<"u"&&(eI=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var rI=(rw.navigator||{}).userAgent,iI=void 0===rI?"":rI,ah=rw,ai=eI,r0=!!ai.documentElement&&!!ai.head&&"function"==typeof ai.addEventListener&&"function"==typeof ai.createElement,s0=(~iI.indexOf("MSIE")||iI.indexOf("Trident/"),"___FONT_AWESOME___"),cI="svg-inline--fa",hI=[1,2,3,4,5,6,7,8,9,10],Bne=hI.concat([11,12,13,14,15,16,17,18,19,20]),M3={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},fI=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",M3.GROUP,M3.SWAP_OPACITY,M3.PRIMARY,M3.SECONDARY].concat(hI.map(function(n){return"".concat(n,"x")})).concat(Bne.map(function(n){return"w-".concat(n)})),ah.FontAwesomeConfig||{});ai&&"function"==typeof ai.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=tw(n,2),r=e[1],i=function Gne(n){return""===n||"false"!==n&&("true"===n||n)}(function $ne(n){var e=ai.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(fI[r]=i)});var ow=hn({},{familyPrefix:"fa",replacementClass:cI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},fI);ow.autoReplaceSvg||(ow.observeMutations=!1);var Zt=hn({},ow);ah.FontAwesomeConfig=Zt;var o0=ah||{};o0[s0]||(o0[s0]={}),o0[s0].styles||(o0[s0].styles={}),o0[s0].hooks||(o0[s0].hooks={}),o0[s0].shims||(o0[s0].shims=[]);var $1=o0[s0],pI=[];r0&&((ai.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ai.readyState)||ai.addEventListener("DOMContentLoaded",function n(){ai.removeEventListener("DOMContentLoaded",n),pI.map(function(e){return e()})}));var cw,aw="pending",mI="settled",cv="fulfilled",lv="rejected",Yne=function(){},gI=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,Qne=typeof setImmediate>"u"?setTimeout:setImmediate,O7=[];function Jne(){for(var n=0;n<O7.length;n++)O7[n][0](O7[n][1]);O7=[],cw=!1}function uv(n,e){O7.push([n,e]),cw||(cw=!0,Qne(Jne,0))}function vI(n){var e=n.owner,t=e._state,r=e._data,i=n[t],a=n.then;if("function"==typeof i){t=cv;try{r=i(r)}catch(l){L7(a,l)}}_I(a,r)||(t===cv&&lw(a,r),t===lv&&L7(a,r))}function _I(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===R7(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?yI(n,i):lw(n,i))},function(i){t||(t=!0,L7(n,i))}),!0}}catch(i){return t||L7(n,i),!0}return!1}function lw(n,e){(n===e||!_I(n,e))&&yI(n,e)}function yI(n,e){n._state===aw&&(n._state=mI,n._data=e,uv(ere,n))}function L7(n,e){n._state===aw&&(n._state=mI,n._data=e,uv(tre,n))}function bI(n){n._then=n._then.forEach(vI)}function ere(n){n._state=cv,bI(n)}function tre(n){n._state=lv,bI(n),!n._handled&&gI&&global.process.emit("unhandledRejection",n._data,n)}function nre(n){global.process.emit("rejectionHandled",n)}function Ko(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Ko))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function Xne(n,e){function r(i){L7(e,i)}try{n(function t(i){lw(e,i)},r)}catch(i){r(i)}}(n,this)}Ko.prototype={constructor:Ko,_state:aw,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(Yne),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===lv&&gI&&uv(nre,this)),this._state===cv||this._state===lv?uv(vI,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Ko.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Ko(function(e,t){var r=[],i=0;function a(g){return i++,function(b){r[g]=b,--i||e(r)}}for(var h,l=0;l<n.length;l++)(h=n[l])&&"function"==typeof h.then?h.then(a(l),t):r[l]=h;i||e(r)})},Ko.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Ko(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},Ko.resolve=function(n){return n&&"object"===R7(n)&&n.constructor===Ko?n:new Ko(function(e){e(n)})},Ko.reject=function(n){return new Ko(function(e,t){t(n)})};var a0={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function P7(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function wI(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dv(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function dw(n){return n.size!==a0.size||n.x!==a0.x||n.y!==a0.y||n.rotate!==a0.rotate||n.flipX||n.flipY}function DI(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),h="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(l," ").concat(h)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var hw={x:0,y:0,width:"100%",height:"100%"};function EI(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function cre(n){return"g"===n.tag?n.children:[n]}function fw(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,a=n.iconName,l=n.transform,h=n.symbol,g=n.title,b=n.maskId,D=n.titleId,T=n.extra,k=n.watchable,L=void 0!==k&&k,F=r.found?r:t,W=F.width,X=F.height,ge="fak"===i,Ae=ge?"":"fa-w-".concat(Math.ceil(W/X*16)),ze=[Zt.replacementClass,a?"".concat(Zt.familyPrefix,"-").concat(a):"",Ae].filter(function(En){return-1===T.classes.indexOf(En)}).filter(function(En){return""!==En||!!En}).concat(T.classes).join(" "),Re={children:[],attributes:hn({},T.attributes,{"data-prefix":i,"data-icon":a,class:ze,role:T.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(W," ").concat(X)})},He=ge&&!~T.classes.indexOf("fa-fw")?{width:"".concat(W/X*16*.0625,"em")}:{};L&&(Re.attributes["data-fa-i2svg"]=""),g&&Re.children.push({tag:"title",attributes:{id:Re.attributes["aria-labelledby"]||"title-".concat(D||P7())},children:[g]});var Be=hn({},Re,{prefix:i,iconName:a,main:t,mask:r,maskId:b,transform:l,symbol:h,styles:hn({},He,T.styles)}),pt=r.found&&t.found?function lre(n){var e=n.children,t=n.attributes,r=n.main,i=n.mask,a=n.maskId,g=r.icon,D=i.icon,T=DI({transform:n.transform,containerWidth:i.width,iconWidth:r.width}),k={tag:"rect",attributes:hn({},hw,{fill:"white"})},L=g.children?{children:g.children.map(EI)}:{},F={tag:"g",attributes:hn({},T.inner),children:[EI(hn({tag:g.tag,attributes:hn({},g.attributes,T.path)},L))]},W={tag:"g",attributes:hn({},T.outer),children:[F]},X="mask-".concat(a||P7()),ge="clip-".concat(a||P7()),Ae={tag:"mask",attributes:hn({},hw,{id:X,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[k,W]},ze={tag:"defs",children:[{tag:"clipPath",attributes:{id:ge},children:cre(D)},Ae]};return e.push(ze,{tag:"rect",attributes:hn({fill:"currentColor","clip-path":"url(#".concat(ge,")"),mask:"url(#".concat(X,")")},hw)}),{children:e,attributes:t}}(Be):function ure(n){var e=n.children,t=n.attributes,r=n.main,i=n.transform,l=dv(n.styles);if(l.length>0&&(t.style=l),dw(i)){var h=DI({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:hn({},h.outer),children:[{tag:"g",attributes:hn({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:hn({},r.icon.attributes,h.path)}]}]})}else e.push(r.icon);return{children:e,attributes:t}}(Be),xn=pt.attributes;return Be.children=pt.children,Be.attributes=xn,h?function hre(n){var t=n.iconName,r=n.children,a=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:hn({},n.attributes,{id:!0===a?"".concat(n.prefix,"-").concat(Zt.familyPrefix,"-").concat(t):a}),children:r}]}]}(Be):function dre(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,a=n.styles,l=n.transform;if(dw(l)&&t.found&&!r.found){var b={x:t.width/t.height/2,y:.5};i.style=dv(hn({},a,{"transform-origin":"".concat(b.x+l.x/16,"em ").concat(b.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(Be)}var gw=function(e,t,r,i){var g,b,D,a=Object.keys(e),l=a.length,h=void 0!==i?function(e,t){return function(r,i,a,l){return e.call(t,r,i,a,l)}}(t,i):t;for(void 0===r?(g=1,D=e[a[0]]):(g=0,D=r);g<l;g++)D=h(D,e[b=a[g]],b,e);return D};function AI(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,a=Object.keys(e).reduce(function(l,h){var g=e[h];return g.icon?l[g.iconName]=g.icon:l[h]=g,l},{});"function"!=typeof $1.hooks.addPack||i?$1.styles[n]=hn({},$1.styles[n]||{},a):$1.hooks.addPack(n,a),"fas"===n&&AI("fa",e)}var NI=$1.styles,gre=$1.shims,OI=function(){var e=function(i){return gw(NI,function(a,l,h){return a[h]=gw(l,i,{}),a},{})};e(function(r,i,a){return i[3]&&(r[i[3]]=a),r}),e(function(r,i,a){var l=i[2];return r[a]=a,l.forEach(function(h){r[h]=a}),r});var t="far"in NI;gw(gre,function(r,i){var l=i[1];return"far"===l&&!t&&(l="fas"),r[i[0]]={prefix:l,iconName:i[2]},r},{})};function PI(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function uh(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?wI(n):"<".concat(e," ").concat(function ore(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(wI(n[t]),'" ')},"").trim()}(r),">").concat(a.map(uh).join(""),"</").concat(e,">")}OI();function V7(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(V7.prototype=Object.create(Error.prototype)).constructor=V7;var pv={fill:"currentColor"},UI={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},bw=(hn({},pv,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),hn({},UI,{attributeName:"opacity"}));function ww(n){var e=n[0],t=n[1],a=tw(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(Zt.familyPrefix,"-").concat(M3.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Zt.familyPrefix,"-").concat(M3.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(Zt.familyPrefix,"-").concat(M3.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}hn({},pv,{cx:"256",cy:"364",r:"28"}),hn({},UI,{attributeName:"r",values:"28;14;28;28;14;28;"}),hn({},bw,{values:"1;0;1;1;0;1;"}),hn({},pv,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),hn({},bw,{values:"1;0;0;0;0;1;"}),hn({},pv,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),hn({},bw,{values:"0;0;1;1;0;0;"});var Gre=function(){function n(){(function wne(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Dne(n,e,t){e&&JT(n.prototype,e),t&&JT(n,t)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(h){t.definitions[h]=hn({},t.definitions[h]||{},l[h]),AI(h,l[h]),OI()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var l=i[a],h=l.prefix,g=l.iconName,b=l.icon;t[h]||(t[h]={}),t[h][g]=b}),t}}]),n}();function F7(){Zt.autoAddCss&&!gv&&(function CI(n){if(n&&r0){var e=ai.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=ai.head.childNodes,r=null,i=t.length-1;i>-1;i--){var a=t[i],l=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=a)}return ai.head.insertBefore(e,r),n}}(function Ew(){var n="fa",e=cI,t=Zt.familyPrefix,r=Zt.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),h=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(h,".".concat(r))}return i}()),gv=!0)}function mv(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return uh(r)})}}),Object.defineProperty(n,"node",{get:function(){if(r0){var r=ai.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function Mw(n){var e=n.prefix,t=void 0===e?"fa":e,r=n.iconName;if(r)return PI(qI.definitions,t,r)||PI($1.styles,t,r)}var qI=new Gre,gv=!1,ZI_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),l=a[0],h=a.slice(1).join("-");if(l&&"h"===h)return r.flipX=!0,r;if(l&&"v"===h)return r.flipY=!0,r;if(h=parseFloat(h),isNaN(h))return r;switch(l){case"grow":r.size=r.size+h;break;case"shrink":r.size=r.size-h;break;case"left":r.x=r.x-h;break;case"right":r.x=r.x+h;break;case"up":r.y=r.y-h;break;case"down":r.y=r.y+h;break;case"rotate":r.rotate=r.rotate+h}return r},t):t}(e)},KI=function Wre(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Mw(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:Mw(i||{})),n(r,hn({},t,{mask:i}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,r=void 0===t?a0:t,i=e.symbol,a=void 0!==i&&i,l=e.mask,h=void 0===l?null:l,g=e.maskId,b=void 0===g?null:g,D=e.title,T=void 0===D?null:D,k=e.titleId,L=void 0===k?null:k,F=e.classes,W=void 0===F?[]:F,X=e.attributes,ge=void 0===X?{}:X,Ae=e.styles,ze=void 0===Ae?{}:Ae;if(n){var Re=n.prefix,He=n.iconName,Be=n.icon;return mv(hn({type:"icon"},n),function(){return F7(),Zt.autoA11y&&(T?ge["aria-labelledby"]="".concat(Zt.replacementClass,"-title-").concat(L||P7()):(ge["aria-hidden"]="true",ge.focusable="false")),fw({icons:{main:ww(Be),mask:h?ww(h.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Re,iconName:He,transform:hn({},a0,r),symbol:a,title:T,maskId:b,titleId:L,extra:{attributes:ge,styles:ze,classes:W}})})}});const eie=["*"],rie=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let oie=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aie=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t)r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cie=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[u.TTD]}),n})(),lie=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[u.TTD],ngContentSelectors:eie,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2}),n})(),uie=(()=>{class n{constructor(t,r,i,a,l){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=l&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,t){const i=this.findIconDefinition(r);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?ZI_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...rie(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=KI(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(r1),u.Y36(oie),u.Y36(aie),u.Y36(cie,8),u.Y36(lie,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(u.Ikx("innerHTML",r.renderedIconHTML,u.oJD),u.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[u.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),die=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),hie=(()=>{class n{constructor(t){this.icon=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cne))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-nav"]],decls:3,vars:2,consts:[[1,"header-and-footer-text"],[3,"icon"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0),u._UZ(1,"fa-icon",1)(2,"fa-icon",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("icon",r.icon.faUser),u.xp6(1),u.Q6J("icon",r.icon.faDumbbell))},dependencies:[uie],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}nav[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;align-items:center;height:90px}fa-icon[_ngcontent-%COMP%]{cursor:pointer}']}),n})();function fie(n,e){1&n&&(u.TgZ(0,"div"),u._UZ(1,"app-nav"),u.qZA())}function pie(n,e){1&n&&u._UZ(0,"div")}let mie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],inputs:{user:"user"},decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(u.YNc(0,fie,2,0,"div",0),u.YNc(1,pie,1,0,"div",0)),2&t&&(u.Q6J("ngIf",r.user.isLoggedIn),u.xp6(1),u.Q6J("ngIf",!r.user.isLoggedIn))},dependencies:[jn,hie]}),n})(),gie=(()=>{class n{constructor(t){this.title="adultery",this.user={name:"Jaden",isLoggedIn:!1}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lC))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:3,consts:[[1,"page-wrapper",3,"user"],[1,"desktop-header"],["pageHeader","",1,"header"],[3,"user"],["pageContent","",1,"content"],["pageFooter","",1,"footer"]],template:function(t,r){1&t&&(u.TgZ(0,"app-page-wrapper",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"app-header",3),u.qZA(),u.TgZ(4,"div",4),u._UZ(5,"router-outlet"),u.qZA(),u.TgZ(6,"div",5),u._UZ(7,"app-footer",3),u.qZA()()),2&t&&(u.Q6J("user",r.user),u.xp6(3),u.Q6J("user",r.user),u.xp6(4),u.Q6J("user",r.user))},dependencies:[Ou,$k,Wz,mie],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;height:calc(100vh - 180px)}']}),n})();class YI{}class QI{}class c0{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof c0?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new c0;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof c0?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===a.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vie{encodeKey(e){return JI(e)}encodeValue(e){return JI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yie=/%(\d[a-f0-9])/gi,bie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JI(n){return encodeURIComponent(n).replace(yie,(e,t)=>bie[t]??e)}function vv(n){return`${n}`}class iu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vie,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _ie(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,h]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],g=t.get(l)||[];g.push(h),t.set(l,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(vv):[vv(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new iu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(vv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(vv(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Cie{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function XI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eA(n){return typeof Blob<"u"&&n instanceof Blob}function tA(n){return typeof FormData<"u"&&n instanceof FormData}class H7{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function wie(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new c0),this.context||(this.context=new Cie),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new iu,this.urlWithParams=t}serializeBody(){return null===this.body?null:XI(this.body)||eA(this.body)||tA(this.body)||function Die(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof iu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tA(this.body)?null:eA(this.body)?this.body.type||null:XI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof iu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,b=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((T,k)=>T.set(k,e.setHeaders[k]),g)),e.setParams&&(b=Object.keys(e.setParams).reduce((T,k)=>T.set(k,e.setParams[k]),b)),new H7(t,r,a,{params:b,headers:g,context:D,reportProgress:h,responseType:i,withCredentials:l})}}var ci=(()=>((ci=ci||{})[ci.Sent=0]="Sent",ci[ci.UploadProgress=1]="UploadProgress",ci[ci.ResponseHeader=2]="ResponseHeader",ci[ci.DownloadProgress=3]="DownloadProgress",ci[ci.Response=4]="Response",ci[ci.User=5]="User",ci))();class Sw{constructor(e,t=200,r="OK"){this.headers=e.headers||new c0,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Tw extends Sw{constructor(e={}){super(e),this.type=ci.ResponseHeader}clone(e={}){return new Tw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _v extends Sw{constructor(e={}){super(e),this.type=ci.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _v({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nA extends Sw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Iw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Eie=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof H7)a=t;else{let g,b;g=i.headers instanceof c0?i.headers:new c0(i.headers),i.params&&(b=i.params instanceof iu?i.params:new iu({fromObject:i.params})),a=new H7(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=ut(a).pipe(Me(g=>this.handler.handle(g)));if(t instanceof H7||"events"===i.observe)return l;const h=l.pipe(M(g=>g instanceof _v));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,Je.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,Je.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,Je.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,Je.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new iu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Iw(i,r))}post(t,r,i={}){return this.request("POST",t,Iw(i,r))}put(t,r,i={}){return this.request("PUT",t,Iw(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class rA{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const iA=new u.OlP("HTTP_INTERCEPTORS");let Mie=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Sie=/^\)\]\}',?\n/;let sA=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Bn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((L,F)=>i.setRequestHeader(L,F.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const L=t.detectContentTypeHeader();null!==L&&i.setRequestHeader("Content-Type",L)}if(t.responseType){const L=t.responseType.toLowerCase();i.responseType="json"!==L?L:"text"}const a=t.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const L=i.statusText||"OK",F=new c0(i.getAllResponseHeaders()),W=function Tie(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new Tw({headers:F,status:i.status,statusText:L,url:W}),l},g=()=>{let{headers:L,status:F,statusText:W,url:X}=h(),ge=null;204!==F&&(ge=typeof i.response>"u"?i.responseText:i.response),0===F&&(F=ge?200:0);let Ae=F>=200&&F<300;if("json"===t.responseType&&"string"==typeof ge){const ze=ge;ge=ge.replace(Sie,"");try{ge=""!==ge?JSON.parse(ge):null}catch(Re){ge=ze,Ae&&(Ae=!1,ge={error:Re,text:ge})}}Ae?(r.next(new _v({body:ge,headers:L,status:F,statusText:W,url:X||void 0})),r.complete()):r.error(new nA({error:ge,headers:L,status:F,statusText:W,url:X||void 0}))},b=L=>{const{url:F}=h(),W=new nA({error:L,status:i.status||0,statusText:i.statusText||"Unknown Error",url:F||void 0});r.error(W)};let D=!1;const T=L=>{D||(r.next(h()),D=!0);let F={type:ci.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(F.total=L.total),"text"===t.responseType&&!!i.responseText&&(F.partialText=i.responseText),r.next(F)},k=L=>{let F={type:ci.UploadProgress,loaded:L.loaded};L.lengthComputable&&(F.total=L.total),r.next(F)};return i.addEventListener("load",g),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),t.reportProgress&&(i.addEventListener("progress",T),null!==a&&i.upload&&i.upload.addEventListener("progress",k)),i.send(a),r.next({type:ci.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",g),i.removeEventListener("timeout",b),t.reportProgress&&(i.removeEventListener("progress",T),null!==a&&i.upload&&i.upload.removeEventListener("progress",k)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mo))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Aw=new u.OlP("XSRF_COOKIE_NAME"),Nw=new u.OlP("XSRF_HEADER_NAME");class oA{}let Iie=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=za(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(u.Lbi),u.LFG(Aw))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xw=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oA),u.LFG(Nw))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Aie=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(iA,[]);this.chain=r.reduceRight((i,a)=>new rA(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(QI),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Nie=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:xw,useClass:Mie}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Aw,useValue:t.cookieName}:[],t.headerName?{provide:Nw,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[xw,{provide:iA,useExisting:xw,multi:!0},{provide:oA,useClass:Iie},{provide:Aw,useValue:"XSRF-TOKEN"},{provide:Nw,useValue:"X-XSRF-TOKEN"}]}),n})(),xie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Eie,{provide:YI,useClass:Aie},sA,{provide:QI,useExisting:sA}],imports:[Nie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),kie=(()=>{class n{constructor(t){this.firestore=t,this.defaultQuotes=[],this.quotesChanged=new bn.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,Je.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})))).subscribe(t=>{this.defaultQuotes=t,this.quotesChanged.next([...this.defaultQuotes])})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lC))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class aA{}const l0="*";function cA(n,e=null){return{type:2,steps:n,options:e}}function lA(n){return{type:6,styles:n,offset:null}}function uA(n){Promise.resolve().then(n)}class B7{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dA{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?uA(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function hA(n){return new u.vHH(3e3,!1)}function pse(){return typeof window<"u"&&typeof window.document<"u"}function Rw(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function su(n){switch(n.length){case 0:return new B7;case 1:return n[0];default:return new dA(n)}}function fA(n,e,t,r,i=new Map,a=new Map){const l=[],h=[];let g=-1,b=null;if(r.forEach(D=>{const T=D.get("offset"),k=T==g,L=k&&b||new Map;D.forEach((F,W)=>{let X=W,ge=F;if("offset"!==W)switch(X=e.normalizePropertyName(X,l),ge){case"!":ge=i.get(W);break;case l0:ge=a.get(W);break;default:ge=e.normalizeStyleValue(W,X,ge,l)}L.set(X,ge)}),k||h.push(L),b=L,g=T}),l.length)throw function nse(n){return new u.vHH(3502,!1)}();return h}function Ow(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Lw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Lw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Lw(t,"destroy",n)))}}function Lw(n,e,t){const a=Pw(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function Pw(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function Yo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function pA(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let zw=(n,e)=>!1,mA=(n,e,t)=>[],gA=null;function Vw(n){const e=n.parentNode||n.host;return e===gA?null:e}(Rw()||typeof Element<"u")&&(pse()?(gA=(()=>document.documentElement)(),zw=(n,e)=>{for(;e;){if(e===n)return!0;e=Vw(e)}return!1}):zw=(n,e)=>n.contains(e),mA=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let S3=null,vA=!1;const _A=zw,yA=mA;let bA=(()=>{class n{validateStyleProperty(t){return function gse(n){S3||(S3=function vse(){return typeof document<"u"?document.body:null}()||{},vA=!!S3.style&&"WebkitAppearance"in S3.style);let e=!0;return S3.style&&!function mse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in S3.style,!e&&vA&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in S3.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return _A(t,r)}getParentElement(t){return Vw(t)}query(t,r,i){return yA(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,h=[],g){return new B7(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fw=(()=>{class n{}return n.NOOP=new bA,n})();const Hw="ng-enter",yv="ng-leave",bv="ng-trigger",Cv=".ng-trigger",wA="ng-animating",Bw=".ng-animating";function u0(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Uw(parseFloat(e[1]),e[2])}function Uw(n,e){return"s"===e?1e3*n:n}function wv(n,e,t){return n.hasOwnProperty("duration")?n:function bse(n,e,t){let i,a=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(hA()),{duration:0,delay:0,easing:""};i=Uw(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(a=Uw(parseFloat(g),h[4]));const b=h[5];b&&(l=b)}else i=n;if(!t){let h=!1,g=e.length;i<0&&(e.push(function Oie(){return new u.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function Lie(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,hA())}return{duration:i,delay:a,easing:l}}(n,e,t)}function U7(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function DA(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ou(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function MA(n,e,t){return t?e+":"+t+";":""}function SA(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=MA(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=MA(0,Ese(t),n.style[t]));n.setAttribute("style",e)}function wc(n,e,t){n.style&&(e.forEach((r,i)=>{const a=$w(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Rw()&&SA(n))}function T3(n,e){n.style&&(e.forEach((t,r)=>{const i=$w(r);n.style[i]=""}),Rw()&&SA(n))}function j7(n){return Array.isArray(n)?1==n.length?n[0]:cA(n):n}const jw=new RegExp("{{\\s*(.+?)\\s*}}","g");function TA(n){let e=[];if("string"==typeof n){let t;for(;t=jw.exec(n);)e.push(t[1]);jw.lastIndex=0}return e}function $7(n,e,t){const r=n.toString(),i=r.replace(jw,(a,l)=>{let h=e[l];return null==h&&(t.push(function zie(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function Dv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Dse=/-+([a-z0-9])/g;function $w(n){return n.replace(Dse,(...e)=>e[1].toUpperCase())}function Ese(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Vie(n){return new u.vHH(3004,!1)}()}}function IA(n,e){return window.getComputedStyle(n)[e]}function Nse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function xse(n,e,t){if(":"==n[0]){const g=function kse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Jie(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Qie(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(AA(i,l));"<"==a[0]&&!("*"==i&&"*"==l)&&e.push(AA(l,i))}(r,t,e)):t.push(n),t}const Tv=new Set(["true","1"]),Iv=new Set(["false","0"]);function AA(n,e){const t=Tv.has(n)||Iv.has(n),r=Tv.has(e)||Iv.has(e);return(i,a)=>{let l="*"==n||n==i,h="*"==e||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?Tv.has(n):Iv.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?Tv.has(e):Iv.has(e)),l&&h}}const Rse=new RegExp("s*:selfs*,?","g");function Gw(n,e,t,r){return new Ose(n).build(e,t,r)}class Ose{constructor(e){this._driver=e}build(e,t,r){const i=new zse(t);return this._resetContextStyleTimingState(i),Qo(this,j7(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function Hie(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,b=g.name;b.toString().split(/\s*,\s*/).forEach(D=>{g.name=D,a.push(this.visitState(g,t))}),g.name=b}else if(1==h.type){const g=this.visitTransition(h,t);r+=g.queryCount,i+=g.depCount,l.push(g)}else t.errors.push(function Bie(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{TA(g).forEach(b=>{l.hasOwnProperty(b)||a.add(b)})})}),a.size&&(Dv(a.values()),t.errors.push(function Uie(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Qo(this,j7(e.animation),t);return{type:1,matchers:Nse(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:I3(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Qo(this,r,t)),options:I3(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const h=Qo(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:I3(e.options)}}visitAnimate(e,t){const r=function Fse(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ww(wv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Ww(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=wv(t,e);return Ww(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:lA({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,h=!1;if(!l){h=!0;const b={};r.easing&&(b.easing=r.easing),l=lA(b)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(l,t);g.isEmptyStep=h,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===l0?r.push(h):t.errors.push(new u.vHH(3002,!1)):r.push(DA(h));let a=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!a))for(let g of h.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,g)=>{const b=t.collectedStyles.get(t.currentQuerySelector),D=b.get(g);let T=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function $ie(n,e,t,r,i){return new u.vHH(3010,!1)}()),T=!1),a=D.startTime),T&&b.set(g,{startTime:a,endTime:i}),t.options&&function wse(n,e,t){const r=e.params||{},i=TA(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Pie(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Gie(){return new u.vHH(3011,!1)}()),r;let a=0;const l=[];let h=!1,g=!1,b=0;const D=e.steps.map(ge=>{const Ae=this._makeStyleAst(ge,t);let ze=null!=Ae.offset?Ae.offset:function Vse(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ae.styles),Re=0;return null!=ze&&(a++,Re=Ae.offset=ze),g=g||Re<0||Re>1,h=h||Re<b,b=Re,l.push(Re),Ae});g&&t.errors.push(function Wie(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function qie(){return new u.vHH(3200,!1)}());const T=e.steps.length;let k=0;a>0&&a<T?t.errors.push(function Zie(){return new u.vHH(3202,!1)}()):0==a&&(k=1/(T-1));const L=T-1,F=t.currentTime,W=t.currentAnimateTimings,X=W.duration;return D.forEach((ge,Ae)=>{const ze=k>0?Ae==L?1:k*Ae:l[Ae],Re=ze*X;t.currentTime=F+W.delay+Re,W.duration=Re,this._validateStyleAst(ge,t),ge.offset=ze,r.styles.push(ge)}),r}visitReference(e,t){return{type:8,animation:Qo(this,j7(e.animation),t),options:I3(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:I3(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:I3(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function Lse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Rse,"")),n=n.replace(/@\*/g,Cv).replace(/@\w+/g,t=>Cv+"-"+t.slice(1)).replace(/:animating/g,Bw),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Yo(t.collectedStyles,t.currentQuerySelector,new Map);const h=Qo(this,j7(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:I3(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Kie(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:wv(e.timings,t.errors,!0);return{type:12,animation:Qo(this,j7(e.animation),t),timings:r,options:null}}}class zse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function I3(n){return n?(n=U7(n)).params&&(n.params=function Pse(n){return n?U7(n):null}(n.params)):n={},n}function Ww(n,e,t){return{duration:n,delay:e,easing:t}}function qw(n,e,t,r,i,a,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:h}}class Av{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Use=new RegExp(":enter","g"),$se=new RegExp(":leave","g");function Zw(n,e,t,r,i,a=new Map,l=new Map,h,g,b=[]){return(new Gse).buildKeyframes(n,e,t,r,i,a,l,h,g,b)}class Gse{buildKeyframes(e,t,r,i,a,l,h,g,b,D=[]){b=b||new Av;const T=new Kw(e,t,b,i,a,D,[]);T.options=g;const k=g.delay?u0(g.delay):0;T.currentTimeline.delayNextStep(k),T.currentTimeline.setStyles([l],null,T.errors,g),Qo(this,r,T);const L=T.timelines.filter(F=>F.containsAnimation());if(L.length&&h.size){let F;for(let W=L.length-1;W>=0;W--){const X=L[W];if(X.element===t){F=X;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([h],null,T.errors,g)}return L.length?L.map(F=>F.buildKeyframes()):[qw(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:u0($7(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?u0(r.duration):null,h=null!=r.delay?u0(r.delay):null;return 0!==l&&e.forEach(g=>{const b=t.appendInstructionToTimeline(g,l,h);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Qo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Nv);const l=u0(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Qo(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?u0(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),Qo(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return wv(t.params?$7(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*a),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?u0(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Nv);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((b,D)=>{t.currentQueryIndex=D;const T=t.createSubContext(e.options,b);a&&T.delayNextStep(a),b===t.element&&(g=T.currentTimeline),Qo(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),h=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=h-g;break;case"full":g=r.currentStaggerTime}const D=t.currentTimeline;g&&D.delayNextStep(g);const T=D.currentTime;Qo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const Nv={};class Kw{constructor(e,t,r,i,a,l,h,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new xv(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=u0(r.duration)),null!=r.delay&&(i.delay=u0(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=$7(a[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Kw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Nv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new Wse(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(Use,"."+this._enterClassName)).replace($se,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),h.push(...b)}return!a&&0==h.length&&l.push(function Yie(n){return new u.vHH(3014,!1)}()),h}}class xv{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||l0),this._currentKeyframe.set(t,l0);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function qse(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,l0)}else ou(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of l){const b=$7(g,a,r);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??l0),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,g)=>{const b=ou(h,new Map,this._backFill);b.forEach((D,T)=>{"!"===D?e.add(T):D===l0&&t.add(T)}),r||b.set("offset",g/this.duration),i.push(b)});const a=e.size?Dv(e.values()):[],l=t.size?Dv(t.values()):[];if(r){const h=i[0],g=new Map(h);h.set("offset",0),g.set("offset",1),i=[h,g]}return qw(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class Wse extends xv{constructor(e,t,r,i,a,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,h=t/l,g=ou(e[0]);g.set("offset",0),a.push(g);const b=ou(e[0]);b.set("offset",kA(h)),a.push(b);const D=e.length-1;for(let T=1;T<=D;T++){let k=ou(e[T]);const L=k.get("offset");k.set("offset",kA((t+L*r)/l)),a.push(k)}r=l,t=0,i="",e=a}return qw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function kA(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Yw{}const Zse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kse extends Yw{normalizePropertyName(e,t){return $w(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(Zse.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function Fie(n,e){return new u.vHH(3005,!1)}())}return l+a}}function RA(n,e,t,r,i,a,l,h,g,b,D,T,k){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:h,queriedElements:g,preStyleProps:b,postStyleProps:D,totalTime:T,errors:k}}const Qw={};class OA{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Yse(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,h,g,b,D){const T=[],k=this.ast.options&&this.ast.options.params||Qw,F=this.buildStyles(r,h&&h.params||Qw,T),W=g&&g.params||Qw,X=this.buildStyles(i,W,T),ge=new Set,Ae=new Map,ze=new Map,Re="void"===i,He={params:Qse(W,k),delay:this.ast.options?.delay},Be=D?[]:Zw(e,t,this.ast.animation,a,l,F,X,He,b,T);let pt=0;if(Be.forEach(xn=>{pt=Math.max(xn.duration+xn.delay,pt)}),T.length)return RA(t,this._triggerName,r,i,Re,F,X,[],[],Ae,ze,pt,T);Be.forEach(xn=>{const En=xn.element,wr=Yo(Ae,En,new Set);xn.preStyleProps.forEach(Nr=>wr.add(Nr));const Qi=Yo(ze,En,new Set);xn.postStyleProps.forEach(Nr=>Qi.add(Nr)),En!==t&&ge.add(En)});const Ut=Dv(ge.values());return RA(t,this._triggerName,r,i,Re,F,X,Be,Ut,Ae,ze,pt)}}function Qse(n,e){const t=U7(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Jse{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=U7(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{l&&(l=$7(l,i,t));const g=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,g,l,t),r.set(g,l)})}),r}}class eoe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Jse(i.style,i.options&&i.options.params||{},r))}),LA(this.states,"true","1"),LA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new OA(e,i,this.states))}),this.fallbackTransition=function toe(n,e,t){return new OA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function LA(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const noe=new Av;class roe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=Gw(this._driver,t,r,[]);if(r.length)throw function rse(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=fA(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const h=new Map;if(a?(l=Zw(this._driver,t,a,Hw,yv,new Map,new Map,r,noe,i),l.forEach(D=>{const T=Yo(h,D.element,new Map);D.postStyleProps.forEach(k=>T.set(k,null))})):(i.push(function ise(){return new u.vHH(3300,!1)}()),l=[]),i.length)throw function sse(n){return new u.vHH(3504,!1)}();h.forEach((D,T)=>{D.forEach((k,L)=>{D.set(L,this._driver.computeStyle(T,L,l0))})});const b=su(l.map(D=>{const T=h.get(D.element);return this._buildPlayer(D,new Map,T)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ose(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=Pw(t,"","","");return Ow(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const PA="ng-animate-queued",Jw="ng-animate-disabled",coe=[],zA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},loe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oa="__ng_removed";class Xw{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function foe(n){return n??null}(r?e.value:e),r){const a=U7(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const G7="void",eD=new Xw(G7);class uoe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,La(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function ase(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function cse(n){return new u.vHH(3303,!1)}();if(!function poe(n){return"start"==n||"done"==n}(r))throw function lse(n,e){return new u.vHH(3400,!1)}();const a=Yo(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const h=Yo(this._engine.statesByElement,e,new Map);return h.has(t)||(La(e,bv),La(e,bv+"-"+t),h.set(t,eD)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(l);g>=0&&a.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function use(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new tD(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(La(e,bv),La(e,bv+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const b=new Xw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&b.absorbOptions(g.options),h.set(t,b),g||(g=eD),b.value!==G7&&g.value===b.value){if(!function voe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,b.params)){const W=[],X=a.matchStyles(g.value,g.params,W),ge=a.matchStyles(b.value,b.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{T3(e,X),wc(e,ge)})}return}const k=Yo(this._engine.playersByElement,e,[]);k.forEach(W=>{W.namespaceId==this.id&&W.triggerName==t&&W.queued&&W.destroy()});let L=a.matchTransition(g.value,b.value,e,b.params),F=!1;if(!L){if(!i)return;L=a.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:g,toState:b,player:l,isFallbackTransition:F}),F||(La(e,PA),l.onStart(()=>{dh(e,PA)})),l.onDone(()=>{let W=this.players.indexOf(l);W>=0&&this.players.splice(W,1);const X=this._engine.playersByElement.get(e);if(X){let ge=X.indexOf(l);ge>=0&&X.splice(ge,1)}}),this.players.push(l),k.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Cv,!0);r.forEach(i=>{if(i[Oa])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const h=[];if(a.forEach((g,b)=>{if(l.set(b,g.value),this._triggers.has(b)){const D=this.trigger(e,b,G7,i);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&su(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const g=this._triggers.get(l).fallbackTransition,b=r.get(l)||eD,D=new Xw(G7),T=new tD(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:b,toState:D,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Oa];(!a||a===zA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){La(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(h=>{if(h.name==r.triggerName){const g=Pw(a,r.triggerName,r.fromState.value,r.toState.value);g._data=e,Ow(r.player,h.phase,g,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class doe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new uoe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const g=i.get(h);if(g){const b=r.indexOf(g);r.splice(b+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(kv(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!kv(t))return;const a=t[Oa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),La(e,Jw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dh(e,Jw))}removeNode(e,t,r,i){if(kv(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Oa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return kv(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Cv,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Bw,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return su(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Oa];if(t&&t.setForRemoval){if(e[Oa]=zA,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Jw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)La(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?su(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function dse(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Av,i=[],a=new Map,l=[],h=new Map,g=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(nt=>{D.add(nt);const mt=this.driver.query(nt,".ng-animate-queued",!0);for(let At=0;At<mt.length;At++)D.add(mt[At])});const T=this.bodyNode,k=Array.from(this.statesByElement.keys()),L=HA(k,this.collectedEnterElements),F=new Map;let W=0;L.forEach((nt,mt)=>{const At=Hw+W++;F.set(mt,At),nt.forEach(Jt=>La(Jt,At))});const X=[],ge=new Set,Ae=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const mt=this.collectedLeaveElements[nt],At=mt[Oa];At&&At.setForRemoval&&(X.push(mt),ge.add(mt),At.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(Jt=>ge.add(Jt)):Ae.add(mt))}const ze=new Map,Re=HA(k,Array.from(ge));Re.forEach((nt,mt)=>{const At=yv+W++;ze.set(mt,At),nt.forEach(Jt=>La(Jt,At))}),e.push(()=>{L.forEach((nt,mt)=>{const At=F.get(mt);nt.forEach(Jt=>dh(Jt,At))}),Re.forEach((nt,mt)=>{const At=ze.get(mt);nt.forEach(Jt=>dh(Jt,At))}),X.forEach(nt=>{this.processLeaveNode(nt)})});const He=[],Be=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(At=>{const Jt=At.player,xr=At.element;if(He.push(Jt),this.collectedEnterElements.length){const Zr=xr[Oa];if(Zr&&Zr.setForMove){if(Zr.previousTriggersValues&&Zr.previousTriggersValues.has(At.triggerName)){const Vs=Zr.previousTriggersValues.get(At.triggerName),ps=this.statesByElement.get(At.element);if(ps&&ps.has(At.triggerName)){const hh=ps.get(At.triggerName);hh.value=Vs,ps.set(At.triggerName,hh)}}return void Jt.destroy()}}const ao=!T||!this.driver.containsElement(T,xr),wi=ze.get(xr),Jo=F.get(xr),Pn=this._buildInstruction(At,r,Jo,wi,ao);if(Pn.errors&&Pn.errors.length)return void Be.push(Pn);if(ao)return Jt.onStart(()=>T3(xr,Pn.fromStyles)),Jt.onDestroy(()=>wc(xr,Pn.toStyles)),void i.push(Jt);if(At.isFallbackTransition)return Jt.onStart(()=>T3(xr,Pn.fromStyles)),Jt.onDestroy(()=>wc(xr,Pn.toStyles)),void i.push(Jt);const W1=[];Pn.timelines.forEach(Zr=>{Zr.stretchStartingKeyframe=!0,this.disabledNodes.has(Zr.element)||W1.push(Zr)}),Pn.timelines=W1,r.append(xr,Pn.timelines),l.push({instruction:Pn,player:Jt,element:xr}),Pn.queriedElements.forEach(Zr=>Yo(h,Zr,[]).push(Jt)),Pn.preStyleProps.forEach((Zr,Vs)=>{if(Zr.size){let ps=g.get(Vs);ps||g.set(Vs,ps=new Set),Zr.forEach((hh,N3)=>ps.add(N3))}}),Pn.postStyleProps.forEach((Zr,Vs)=>{let ps=b.get(Vs);ps||b.set(Vs,ps=new Set),Zr.forEach((hh,N3)=>ps.add(N3))})});if(Be.length){const nt=[];Be.forEach(mt=>{nt.push(function hse(n,e){return new u.vHH(3505,!1)}())}),He.forEach(mt=>mt.destroy()),this.reportError(nt)}const pt=new Map,Ut=new Map;l.forEach(nt=>{const mt=nt.element;r.has(mt)&&(Ut.set(mt,mt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,pt))}),i.forEach(nt=>{const mt=nt.element;this._getPreviousPlayers(mt,!1,nt.namespaceId,nt.triggerName,null).forEach(Jt=>{Yo(pt,mt,[]).push(Jt),Jt.destroy()})});const xn=X.filter(nt=>UA(nt,g,b)),En=new Map;FA(En,this.driver,Ae,b,l0).forEach(nt=>{UA(nt,g,b)&&xn.push(nt)});const Qi=new Map;L.forEach((nt,mt)=>{FA(Qi,this.driver,new Set(nt),g,"!")}),xn.forEach(nt=>{const mt=En.get(nt),At=Qi.get(nt);En.set(nt,new Map([...Array.from(mt?.entries()??[]),...Array.from(At?.entries()??[])]))});const Nr=[],Dc=[],Ec={};l.forEach(nt=>{const{element:mt,player:At,instruction:Jt}=nt;if(r.has(mt)){if(D.has(mt))return At.onDestroy(()=>wc(mt,Jt.toStyles)),At.disabled=!0,At.overrideTotalTime(Jt.totalTime),void i.push(At);let xr=Ec;if(Ut.size>1){let wi=mt;const Jo=[];for(;wi=wi.parentNode;){const Pn=Ut.get(wi);if(Pn){xr=Pn;break}Jo.push(wi)}Jo.forEach(Pn=>Ut.set(Pn,xr))}const ao=this._buildAnimation(At.namespaceId,Jt,pt,a,Qi,En);if(At.setRealPlayer(ao),xr===Ec)Nr.push(At);else{const wi=this.playersByElement.get(xr);wi&&wi.length&&(At.parentPlayer=su(wi)),i.push(At)}}else T3(mt,Jt.fromStyles),At.onDestroy(()=>wc(mt,Jt.toStyles)),Dc.push(At),D.has(mt)&&i.push(At)}),Dc.forEach(nt=>{const mt=a.get(nt.element);if(mt&&mt.length){const At=su(mt);nt.setRealPlayer(At)}}),i.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<X.length;nt++){const mt=X[nt],At=mt[Oa];if(dh(mt,yv),At&&At.hasAnimation)continue;let Jt=[];if(h.size){let ao=h.get(mt);ao&&ao.length&&Jt.push(...ao);let wi=this.driver.query(mt,Bw,!0);for(let Jo=0;Jo<wi.length;Jo++){let Pn=h.get(wi[Jo]);Pn&&Pn.length&&Jt.push(...Pn)}}const xr=Jt.filter(ao=>!ao.destroyed);xr.length?moe(this,mt,xr):this.processLeaveNode(mt)}return X.length=0,Nr.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const mt=this.players.indexOf(nt);this.players.splice(mt,1)}),nt.play()}),Nr}elementContainsData(e,t){let r=!1;const i=t[Oa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const g=!a||a==G7;h.forEach(b=>{b.queued||!g&&b.triggerName!=i||l.push(b)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const b=g.element,D=b!==a,T=Yo(r,b,[]);this._getPreviousPlayers(b,D,l,h,t.toState).forEach(L=>{const F=L.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),L.destroy(),T.push(L)})}T3(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const h=t.triggerName,g=t.element,b=[],D=new Set,T=new Set,k=t.timelines.map(F=>{const W=F.element;D.add(W);const X=W[Oa];if(X&&X.removedBeforeQueried)return new B7(F.duration,F.delay);const ge=W!==g,Ae=function goe(n){const e=[];return BA(n,e),e}((r.get(W)||coe).map(pt=>pt.getRealPlayer())).filter(pt=>!!pt.element&&pt.element===W),ze=a.get(W),Re=l.get(W),He=fA(0,this._normalizer,0,F.keyframes,ze,Re),Be=this._buildPlayer(F,He,Ae);if(F.subTimeline&&i&&T.add(W),ge){const pt=new tD(e,h,W);pt.setRealPlayer(Be),b.push(pt)}return Be});b.forEach(F=>{Yo(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function hoe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,F.element,F))}),D.forEach(F=>La(F,wA));const L=su(k);return L.onDestroy(()=>{D.forEach(F=>dh(F,wA)),wc(g,t.toStyles)}),T.forEach(F=>{Yo(i,F,[]).push(L)}),L}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new B7(e.duration,e.delay)}}class tD{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new B7,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Ow(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Yo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function kv(n){return n&&1===n.nodeType}function VA(n,e){const t=n.style.display;return n.style.display=e??"none",t}function FA(n,e,t,r,i){const a=[];t.forEach(g=>a.push(VA(g)));const l=[];r.forEach((g,b)=>{const D=new Map;g.forEach(T=>{const k=e.computeStyle(b,T,i);D.set(T,k),(!k||0==k.length)&&(b[Oa]=loe,l.push(b))}),n.set(b,D)});let h=0;return t.forEach(g=>VA(g,a[h++])),l}function HA(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function l(h){if(!h)return 1;let g=a.get(h);if(g)return g;const b=h.parentNode;return g=t.has(b)?b:i.has(b)?1:l(b),a.set(h,g),g}return e.forEach(h=>{const g=l(h);1!==g&&t.get(g).push(h)}),t}function La(n,e){n.classList?.add(e)}function dh(n,e){n.classList?.remove(e)}function moe(n,e,t){su(t).onDone(()=>n.processLeaveNode(e))}function BA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof dA?BA(r.players,e):e.push(r)}}function UA(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class Rv{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new doe(e,t,r),this._timelineEngine=new roe(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const g=[],D=Gw(this._driver,a,g,[]);if(g.length)throw function tse(n,e){return new u.vHH(3404,!1)}();h=function Xse(n,e,t){return new eoe(n,e,t)}(i,D,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=pA(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,h]=pA(r);return this._timelineEngine.listen(l,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yoe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&wc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wc(this._element,this._initialStyles),this._endStyles&&(wc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(T3(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(T3(this._element,this._endStyles),this._endStyles=null),wc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nD(n){let e=null;return n.forEach((t,r)=>{(function boe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class jA{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:IA(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Coe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return _A(e,t)}getParentElement(e){return Vw(e)}query(e,t,r){return yA(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(g.easing=a);const b=new Map,D=l.filter(L=>L instanceof jA);(function Mse(n,e){return 0===n||0===e})(r,i)&&D.forEach(L=>{L.currentSnapshot.forEach((F,W)=>b.set(W,F))});let T=function Cse(n){return n.length?n[0]instanceof Map?n:n.map(e=>DA(e)):[]}(t).map(L=>ou(L));T=function Sse(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(h=>l.set(h,IA(n,h)))}}return e}(e,T,b);const k=function _oe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=nD(e[0]),e.length>1&&(r=nD(e[e.length-1]))):e instanceof Map&&(t=nD(e)),t||r?new yoe(n,t,r):null}(e,T);return new jA(e,T,g,k)}}let woe=(()=>{class n extends aA{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?cA(t):t;return $A(this._renderer,null,r,"register",[i]),new Doe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Doe extends class Rie{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Eoe(this._id,e,t||{},this._renderer)}}class Eoe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return $A(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $A(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const GA="@.disabled";let Moe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const h=l?.parentNode(a);h&&l.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new WA("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=D=>{Array.isArray(D)?D.forEach(g):this.engine.registerTrigger(l,h,t,D.name,D)};return r.data.animation.forEach(g),new Soe(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,h]=a;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Rv),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class WA{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==GA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Soe extends WA{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==GA?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Toe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function Ioe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Aoe=(()=>{class n extends Rv{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(Fw),u.LFG(Yw),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const qA=[{provide:aA,useClass:woe},{provide:Yw,useFactory:function Noe(){return new Kse}},{provide:Rv,useClass:Aoe},{provide:u.FYo,useFactory:function xoe(n,e,t){return new Moe(n,e,t)},deps:[wo,Rv,u.R0b]}],rD=[{provide:Fw,useFactory:()=>new Coe},{provide:u.QbO,useValue:"BrowserAnimations"},...qA],ZA=[{provide:Fw,useClass:bA},{provide:u.QbO,useValue:"NoopAnimations"},...qA];let koe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ZA:rD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:rD,imports:[D2]}),n})();const KA_firebase={projectId:"tubular-cccbd",appId:"1:990028114373:web:bf29b487880603fb1543ac",databaseURL:"https://tubular-cccbd-default-rtdb.firebaseio.com",storageBucket:"tubular-cccbd.appspot.com",apiKey:"AIzaSyA6F-mX06HCp46CBVOpZ07oSlFJuKm1FUw",authDomain:"tubular-cccbd.firebaseapp.com",messagingSenderId:"990028114373",measurementId:"G-8WS0Q8EVHW"};var Roe=O(4408);const W7={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=W7;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Ui.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=W7;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=W7;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Loe=O(7565);const zoe=new class Poe extends Loe.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ooe extends Roe.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=W7.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(W7.cancelAnimationFrame(t),e._scheduled=void 0)}}),Voe=["container"],iD=new u.OlP("LottieOptions");let sD=(()=>{class n{constructor(t,r){this.ngZone=t,this.options=r,this.player$=function Foe(n,e){const t=n();return(t instanceof Promise?(0,yn.D)(t).pipe((0,Je.U)(i=>i.default||i)):ut(t)).pipe((0,$e.b)(i=>i.useWebWorker(e)),Fb({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,p7.Q)(zoe))}loadAnimation(t){return this.player$.pipe((0,Je.U)(r=>this.createAnimationItem(r,t)))}resolveOptions(t,r){return Object.assign({container:r,renderer:"svg",loop:!0,autoplay:!0},t)}createAnimationItem(t,r){return this.ngZone.runOutsideAngular(()=>t.loadAnimation(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(iD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hoe=(()=>{class n{constructor(t,r,i){this.ngZone=t,this.platformId=r,this.animationLoader=i,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new bn.x,this.loadAnimation$=new bn.x,this.animationItem$=new cn(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(t,r){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([t,r]))}getAnimationItem(){return Ai(()=>this.animationItem$).pipe(M(t=>null!==t))}awaitAnimationItemAndStartListening(t){return this.getAnimationItem().pipe(Vn(r=>new Bn.y(i=>{this.ngZone.runOutsideAngular(()=>{r.addEventListener(t,a=>{this.ngZone.runOutsideAngular(()=>{i.next(a)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe(M(([r])=>function Q1(n){return n===ys}(this.platformId)&&void 0!==r.options)).pipe(Vn(([r,i])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(r.options.currentValue,i)))),oi(this.destroy$)).subscribe(r=>{this.ngZone.run(()=>this.animationItem$.next(r))})}destroyAnimation(){const t=this.animationItem$.getValue();null!==t&&(t.destroy(),this.animationItem$.next(null))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.Lbi),u.Y36(sD))},n.\u0275dir=u.lG2({type:n,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),n})(),YA=(()=>{class n extends Hoe{constructor(t,r,i){super(t,r,i),this.width=null,this.height=null,this.container=null}ngOnChanges(t){super.loadAnimation(t,this.container.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.Lbi),u.Y36(sD))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-lottie"]],viewQuery:function(t,r){if(1&t&&u.Gf(Voe,7),2&t){let i;u.iGM(i=u.CRH())&&(r.container=i.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[u.qOj,u.TTD,u.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(t,r){1&t&&u._UZ(0,"div",0,1),2&t&&(u.Udp("width",r.width||"100%")("height",r.height||"100%"),u.Q6J("ngStyle",r.styles)("ngClass",r.containerClass))},dependencies:[pr,pn,h0],encapsulation:2,changeDetection:0}),n})(),Boe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:iD,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[YA]}),n})(),joe=(()=>{class n{constructor(){this.animationTypes=new Map([["kidAgainAnimation","https://assets1.lottiefiles.com/private_files/lf30_x8jhuhr4.json"],["fitnessAnimation","https://assets2.lottiefiles.com/packages/lf20_ju61m9x9.json"],["timeManagementAnimation","https://assets1.lottiefiles.com/packages/lf20_i7ooqm2q.json"],["financeAnimation","https://assets2.lottiefiles.com/packages/lf20_qxdztkhq.json"]]),this.animationSize="medium",this.animationCreated=new u.vpe,this.animationPath=""}ngOnInit(){this.animationPath=this.getAnimationPath(this.animationKey),this.options={path:this.animationPath}}getAnimationPath(t){const r=this.animationTypes.get(t);if(null!=r)return r;throw new Error(`The animation ${t} does not exist \u{1f62d}`)}onAnimate(t){this.animationCreated.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-animation"]],inputs:{animationKey:"animationKey",animationSize:"animationSize"},outputs:{animationCreated:"animationCreated"},decls:2,vars:1,consts:[[1,"lottie-animation","mt-10"],[3,"options","animationCreated"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"ng-lottie",1),u.NdJ("animationCreated",function(a){return r.onAnimate(a)})("animationCreated",function(a){return r.onAnimate(a)}),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("options",r.options))},dependencies:[YA],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:relative}"]}),n})(),$oe=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home-page"]],decls:29,vars:0,consts:[[1,"home-page-section"],[1,"home-page-section-title"],["animationKey","kidAgainAnimation"],[1,"login-or-sign-up-buttons-container"],["type","button",1,"btn","btn-primary"],["animationKey","fitnessAnimation"],["animationKey","timeManagementAnimation"],["animationKey","financeAnimation"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"An app to make adulting easier"),u.qZA(),u.TgZ(4,"h1"),u._uU(5,"So you can be a kid again"),u.qZA()(),u._UZ(6,"app-animation",2),u.TgZ(7,"div",3)(8,"button",4),u._uU(9,"Login"),u.qZA(),u.TgZ(10,"button",4),u._uU(11,"Sign Up"),u.qZA()()(),u.TgZ(12,"div",0)(13,"div",1)(14,"h1"),u._uU(15,"Reach your fitness goals"),u.qZA()(),u._UZ(16,"app-animation",5),u.qZA(),u.TgZ(17,"div",0)(18,"div",1)(19,"h1"),u._uU(20,"Impress your mom"),u.qZA(),u.TgZ(21,"h1"),u._uU(22,"with your time management skills"),u.qZA()(),u._UZ(23,"app-animation",6),u.qZA(),u.TgZ(24,"div",0)(25,"div",1)(26,"h1"),u._uU(27,"Be your financial best"),u.qZA()(),u._UZ(28,"app-animation",7),u.qZA())},dependencies:[joe],styles:[".home-page-section-title[_ngcontent-%COMP%]{margin:auto;width:90%}app-animation[_ngcontent-%COMP%]{max-width:500px}.login-or-sign-up-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),n})();function Goe(){return O.e(487).then(O.t.bind(O,4487,23))}const Woe=[{path:"",component:$oe}];let qoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[gie]}),n.\u0275inj=u.cJS({providers:[kie],imports:[D2,wp,wd.forRoot(Woe),die,xie,koe,ro.hO.initializeApp(KA_firebase),Hk,Boe.forRoot({player:Goe}),Gz]}),n})();(0,u.G48)(),w2().bootstrapModule(qoe).catch(n=>console.error(n))},9751:(gt,Te,O)=>{O.d(Te,{y:()=>fe});var u=O(930),te=O(727),P=O(8822),ae=O(9635),ce=O(2416),he=O(576),ue=O(2806);let fe=(()=>{class Y{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const De=new Y;return De.source=this,De.operator=Oe,De}subscribe(Oe,De,lt){const _e=function j(Y){return Y&&Y instanceof u.Lv||function U(Y){return Y&&(0,he.m)(Y.next)&&(0,he.m)(Y.error)&&(0,he.m)(Y.complete)}(Y)&&(0,te.Nn)(Y)}(Oe)?Oe:new u.Hp(Oe,De,lt);return(0,ue.x)(()=>{const{operator:me,source:st}=this;_e.add(me?me.call(_e,st):st?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(De){Oe.error(De)}}forEach(Oe,De){return new(De=pe(De))((lt,_e)=>{const me=new u.Hp({next:st=>{try{Oe(st)}catch(ht){_e(ht),me.unsubscribe()}},error:_e,complete:lt});this.subscribe(me)})}_subscribe(Oe){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Oe)}[P.L](){return this}pipe(...Oe){return(0,ae.U)(Oe)(this)}toPromise(Oe){return new(Oe=pe(Oe))((De,lt)=>{let _e;this.subscribe(me=>_e=me,me=>lt(me),()=>De(_e))})}}return Y.create=Ue=>new Y(Ue),Y})();function pe(Y){var Ue;return null!==(Ue=Y??ce.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(gt,Te,O)=>{O.d(Te,{x:()=>ue});var u=O(9751),te=O(727);const ae=(0,O(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=O(8737),he=O(2806);let ue=(()=>{class pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new fe(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Ue,observers:Oe}=this;return Y||Ue?te.Lc:(this.currentObservers=null,Oe.push(j),new te.w0(()=>{this.currentObservers=null,(0,ce.P)(Oe,j)}))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Ue,isStopped:Oe}=this;Y?j.error(Ue):Oe&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return pe.create=(U,j)=>new fe(U,j),pe})();class fe extends ue{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,U)}error(U){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==Y?Y:te.Lc}}},930:(gt,Te,O)=>{O.d(Te,{Hp:()=>lt,Lv:()=>Y});var u=O(576),te=O(727),P=O(2416),ae=O(7849),ce=O(5032);const he=pe("C",void 0,void 0);function pe(xe,Ce,Ee){return{kind:xe,value:Ce,error:Ee}}var U=O(3410),j=O(2806);class Y extends te.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,te.Nn)(Ce)&&Ce.add(this)):this.destination=ht}static create(Ce,Ee,We){return new lt(Ce,Ee,We)}next(Ce){this.isStopped?st(function fe(xe){return pe("N",xe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?st(function ue(xe){return pe("E",void 0,xe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?st(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Oe(xe,Ce){return Ue.call(xe,Ce)}class De{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ce)}catch(We){_e(We)}}error(Ce){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ce)}catch(We){_e(We)}else _e(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ee){_e(Ee)}}}class lt extends Y{constructor(Ce,Ee,We){let qe;if(super(),(0,u.m)(Ce)||!Ce)qe={next:Ce??void 0,error:Ee??void 0,complete:We??void 0};else{let B;this&&P.v.useDeprecatedNextContext?(B=Object.create(Ce),B.unsubscribe=()=>this.unsubscribe(),qe={next:Ce.next&&Oe(Ce.next,B),error:Ce.error&&Oe(Ce.error,B),complete:Ce.complete&&Oe(Ce.complete,B)}):qe=Ce}this.destination=new De(qe)}}function _e(xe){P.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(xe):(0,ae.h)(xe)}function st(xe,Ce){const{onStoppedNotification:Ee}=P.v;Ee&&U.z.setTimeout(()=>Ee(xe,Ce))}const ht={closed:!0,next:ce.Z,error:function me(xe){throw xe},complete:ce.Z}},727:(gt,Te,O)=>{O.d(Te,{Lc:()=>he,w0:()=>ce,Nn:()=>ue});var u=O(576);const P=(0,O(3888).d)(pe=>function(j){pe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Ue)=>`${Ue+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=O(8737);class ce{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Oe of j)Oe.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(Oe){U=Oe instanceof P?Oe.errors:[Oe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Oe of Ue)try{fe(Oe)}catch(De){U=U??[],De instanceof P?U=[...U,...De.errors]:U.push(De)}}if(U)throw new P(U)}}add(U){var j;if(U&&U!==this)if(this.closed)fe(U);else{if(U instanceof ce){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,ae.P)(j,U),U instanceof ce&&U._removeParent(this)}}ce.EMPTY=(()=>{const pe=new ce;return pe.closed=!0,pe})();const he=ce.EMPTY;function ue(pe){return pe instanceof ce||pe&&"closed"in pe&&(0,u.m)(pe.remove)&&(0,u.m)(pe.add)&&(0,u.m)(pe.unsubscribe)}function fe(pe){(0,u.m)(pe)?pe():pe.unsubscribe()}},2416:(gt,Te,O)=>{O.d(Te,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Te,O)=>{O.d(Te,{E:()=>te});const te=new(O(9751).y)(ce=>ce.complete())},8996:(gt,Te,O)=>{O.d(Te,{D:()=>Ce});var u=O(8421),te=O(5363),P=O(9468),he=O(9751),fe=O(2202),pe=O(576),U=O(9672);function Y(Ee,We){if(!Ee)throw new Error("Iterable cannot be null");return new he.y(qe=>{(0,U.f)(qe,We,()=>{const B=Ee[Symbol.asyncIterator]();(0,U.f)(qe,We,()=>{B.next().then(ve=>{ve.done?qe.complete():qe.next(ve.value)})},0,!0)})})}var Ue=O(3670),Oe=O(8239),De=O(1144),lt=O(6495),_e=O(2206),me=O(4532),st=O(3260);function Ce(Ee,We){return We?function xe(Ee,We){if(null!=Ee){if((0,Ue.c)(Ee))return function ae(Ee,We){return(0,u.Xf)(Ee).pipe((0,P.R)(We),(0,te.Q)(We))}(Ee,We);if((0,De.z)(Ee))return function ue(Ee,We){return new he.y(qe=>{let B=0;return We.schedule(function(){B===Ee.length?qe.complete():(qe.next(Ee[B++]),qe.closed||this.schedule())})})}(Ee,We);if((0,Oe.t)(Ee))return function ce(Ee,We){return(0,u.Xf)(Ee).pipe((0,P.R)(We),(0,te.Q)(We))}(Ee,We);if((0,_e.D)(Ee))return Y(Ee,We);if((0,lt.T)(Ee))return function j(Ee,We){return new he.y(qe=>{let B;return(0,U.f)(qe,We,()=>{B=Ee[fe.h](),(0,U.f)(qe,We,()=>{let ve,Z;try{({value:ve,done:Z}=B.next())}catch(ee){return void qe.error(ee)}Z?qe.complete():qe.next(ve)},0,!0)}),()=>(0,pe.m)(B?.return)&&B.return()})}(Ee,We);if((0,st.L)(Ee))return function ht(Ee,We){return Y((0,st.Q)(Ee),We)}(Ee,We)}throw(0,me.z)(Ee)}(Ee,We):(0,u.Xf)(Ee)}},8421:(gt,Te,O)=>{O.d(Te,{Xf:()=>Ue});var u=O(655),te=O(1144),P=O(8239),ae=O(9751),ce=O(3670),he=O(2206),ue=O(4532),fe=O(6495),pe=O(3260),U=O(576),j=O(7849),Y=O(8822);function Ue(xe){if(xe instanceof ae.y)return xe;if(null!=xe){if((0,ce.c)(xe))return function Oe(xe){return new ae.y(Ce=>{const Ee=xe[Y.L]();if((0,U.m)(Ee.subscribe))return Ee.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,te.z)(xe))return function De(xe){return new ae.y(Ce=>{for(let Ee=0;Ee<xe.length&&!Ce.closed;Ee++)Ce.next(xe[Ee]);Ce.complete()})}(xe);if((0,P.t)(xe))return function lt(xe){return new ae.y(Ce=>{xe.then(Ee=>{Ce.closed||(Ce.next(Ee),Ce.complete())},Ee=>Ce.error(Ee)).then(null,j.h)})}(xe);if((0,he.D)(xe))return me(xe);if((0,fe.T)(xe))return function _e(xe){return new ae.y(Ce=>{for(const Ee of xe)if(Ce.next(Ee),Ce.closed)return;Ce.complete()})}(xe);if((0,pe.L)(xe))return function st(xe){return me((0,pe.Q)(xe))}(xe)}throw(0,ue.z)(xe)}function me(xe){return new ae.y(Ce=>{(function ht(xe,Ce){var Ee,We,qe,B;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,u.KL)(xe);!(We=yield Ee.next()).done;)if(Ce.next(We.value),Ce.closed)return}catch(ve){qe={error:ve}}finally{try{We&&!We.done&&(B=Ee.return)&&(yield B.call(Ee))}finally{if(qe)throw qe.error}}Ce.complete()})})(xe,Ce).catch(Ee=>Ce.error(Ee))})}},6451:(gt,Te,O)=>{O.d(Te,{T:()=>he});var u=O(8189),te=O(8421),P=O(515),ae=O(3269),ce=O(8996);function he(...ue){const fe=(0,ae.yG)(ue),pe=(0,ae._6)(ue,1/0),U=ue;return U.length?1===U.length?(0,te.Xf)(U[0]):(0,u.J)(pe)((0,ce.D)(U,fe)):P.E}},5403:(gt,Te,O)=>{O.d(Te,{x:()=>te});var u=O(930);function te(ae,ce,he,ue,fe){return new P(ae,ce,he,ue,fe)}class P extends u.Lv{constructor(ce,he,ue,fe,pe,U){super(ce),this.onFinalize=pe,this.shouldUnsubscribe=U,this._next=he?function(j){try{he(j)}catch(Y){ce.error(Y)}}:super._next,this._error=fe?function(j){try{fe(j)}catch(Y){ce.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(j){ce.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(gt,Te,O)=>{O.d(Te,{U:()=>P});var u=O(4482),te=O(5403);function P(ae,ce){return(0,u.e)((he,ue)=>{let fe=0;he.subscribe((0,te.x)(ue,pe=>{ue.next(ae.call(ce,pe,fe++))}))})}},8189:(gt,Te,O)=>{O.d(Te,{J:()=>P});var u=O(5577),te=O(4671);function P(ae=1/0){return(0,u.z)(te.y,ae)}},5577:(gt,Te,O)=>{O.d(Te,{z:()=>fe});var u=O(4004),te=O(8421),P=O(4482),ae=O(9672),ce=O(5403),ue=O(576);function fe(pe,U,j=1/0){return(0,ue.m)(U)?fe((Y,Ue)=>(0,u.U)((Oe,De)=>U(Y,Oe,Ue,De))((0,te.Xf)(pe(Y,Ue))),j):("number"==typeof U&&(j=U),(0,P.e)((Y,Ue)=>function he(pe,U,j,Y,Ue,Oe,De,lt){const _e=[];let me=0,st=0,ht=!1;const xe=()=>{ht&&!_e.length&&!me&&U.complete()},Ce=We=>me<Y?Ee(We):_e.push(We),Ee=We=>{Oe&&U.next(We),me++;let qe=!1;(0,te.Xf)(j(We,st++)).subscribe((0,ce.x)(U,B=>{Ue?.(B),Oe?Ce(B):U.next(B)},()=>{qe=!0},void 0,()=>{if(qe)try{for(me--;_e.length&&me<Y;){const B=_e.shift();De?(0,ae.f)(U,De,()=>Ee(B)):Ee(B)}xe()}catch(B){U.error(B)}}))};return pe.subscribe((0,ce.x)(U,Ce,()=>{ht=!0,xe()})),()=>{lt?.()}}(Y,Ue,pe,j)))}},5363:(gt,Te,O)=>{O.d(Te,{Q:()=>ae});var u=O(9672),te=O(4482),P=O(5403);function ae(ce,he=0){return(0,te.e)((ue,fe)=>{ue.subscribe((0,P.x)(fe,pe=>(0,u.f)(fe,ce,()=>fe.next(pe),he),()=>(0,u.f)(fe,ce,()=>fe.complete(),he),pe=>(0,u.f)(fe,ce,()=>fe.error(pe),he)))})}},3099:(gt,Te,O)=>{O.d(Te,{B:()=>ce});var u=O(8421),te=O(7579),P=O(930),ae=O(4482);function ce(ue={}){const{connector:fe=(()=>new te.x),resetOnError:pe=!0,resetOnComplete:U=!0,resetOnRefCountZero:j=!0}=ue;return Y=>{let Ue,Oe,De,lt=0,_e=!1,me=!1;const st=()=>{Oe?.unsubscribe(),Oe=void 0},ht=()=>{st(),Ue=De=void 0,_e=me=!1},xe=()=>{const Ce=Ue;ht(),Ce?.unsubscribe()};return(0,ae.e)((Ce,Ee)=>{lt++,!me&&!_e&&st();const We=De=De??fe();Ee.add(()=>{lt--,0===lt&&!me&&!_e&&(Oe=he(xe,j))}),We.subscribe(Ee),!Ue&&lt>0&&(Ue=new P.Hp({next:qe=>We.next(qe),error:qe=>{me=!0,st(),Oe=he(ht,pe,qe),We.error(qe)},complete:()=>{_e=!0,st(),Oe=he(ht,U),We.complete()}}),(0,u.Xf)(Ce).subscribe(Ue))})(Y)}}function he(ue,fe,...pe){if(!0===fe)return void ue();if(!1===fe)return;const U=new P.Hp({next:()=>{U.unsubscribe(),ue()}});return fe(...pe).subscribe(U)}},9468:(gt,Te,O)=>{O.d(Te,{R:()=>te});var u=O(4482);function te(P,ae=0){return(0,u.e)((ce,he)=>{he.add(P.schedule(()=>ce.subscribe(he),ae))})}},8505:(gt,Te,O)=>{O.d(Te,{b:()=>ce});var u=O(576),te=O(4482),P=O(5403),ae=O(4671);function ce(he,ue,fe){const pe=(0,u.m)(he)||ue||fe?{next:he,error:ue,complete:fe}:he;return pe?(0,te.e)((U,j)=>{var Y;null===(Y=pe.subscribe)||void 0===Y||Y.call(pe);let Ue=!0;U.subscribe((0,P.x)(j,Oe=>{var De;null===(De=pe.next)||void 0===De||De.call(pe,Oe),j.next(Oe)},()=>{var Oe;Ue=!1,null===(Oe=pe.complete)||void 0===Oe||Oe.call(pe),j.complete()},Oe=>{var De;Ue=!1,null===(De=pe.error)||void 0===De||De.call(pe,Oe),j.error(Oe)},()=>{var Oe,De;Ue&&(null===(Oe=pe.unsubscribe)||void 0===Oe||Oe.call(pe)),null===(De=pe.finalize)||void 0===De||De.call(pe)}))}):ae.y}},4408:(gt,Te,O)=>{O.d(Te,{o:()=>ce});var u=O(727);class te extends u.w0{constructor(ue,fe){super()}schedule(ue,fe=0){return this}}const P={setInterval(he,ue,...fe){const{delegate:pe}=P;return pe?.setInterval?pe.setInterval(he,ue,...fe):setInterval(he,ue,...fe)},clearInterval(he){const{delegate:ue}=P;return(ue?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=O(8737);class ce extends te{constructor(ue,fe){super(ue,fe),this.scheduler=ue,this.work=fe,this.pending=!1}schedule(ue,fe=0){var pe;if(this.closed)return this;this.state=ue;const U=this.id,j=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(j,U,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(j,this.id,fe),this}requestAsyncId(ue,fe,pe=0){return P.setInterval(ue.flush.bind(ue,this),pe)}recycleAsyncId(ue,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&P.clearInterval(fe)}execute(ue,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ue,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,fe){let U,pe=!1;try{this.work(ue)}catch(j){pe=!0,U=j||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ue,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(pe,this),null!=ue&&(this.id=this.recycleAsyncId(fe,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,Te,O)=>{O.d(Te,{v:()=>P});var u=O(6063);class te{constructor(ce,he=te.now){this.schedulerActionCtor=ce,this.now=he}schedule(ce,he=0,ue){return new this.schedulerActionCtor(this,ce).schedule(ue,he)}}te.now=u.l.now;class P extends te{constructor(ce,he=te.now){super(ce,he),this.actions=[],this._active=!1}flush(ce){const{actions:he}=this;if(this._active)return void he.push(ce);let ue;this._active=!0;do{if(ue=ce.execute(ce.state,ce.delay))break}while(ce=he.shift());if(this._active=!1,ue){for(;ce=he.shift();)ce.unsubscribe();throw ue}}}},4986:(gt,Te,O)=>{O.d(Te,{P:()=>ae,z:()=>P});var u=O(4408);const P=new(O(7565).v)(u.o),ae=P},6063:(gt,Te,O)=>{O.d(Te,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(gt,Te,O)=>{O.d(Te,{z:()=>u});const u={setTimeout(te,P,...ae){const{delegate:ce}=u;return ce?.setTimeout?ce.setTimeout(te,P,...ae):setTimeout(te,P,...ae)},clearTimeout(te){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(gt,Te,O)=>{O.d(Te,{h:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Te,O)=>{O.d(Te,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,Te,O)=>{O.d(Te,{_6:()=>he,jO:()=>ae,yG:()=>ce});var u=O(576),te=O(3532);function P(ue){return ue[ue.length-1]}function ae(ue){return(0,u.m)(P(ue))?ue.pop():void 0}function ce(ue){return(0,te.K)(P(ue))?ue.pop():void 0}function he(ue,fe){return"number"==typeof P(ue)?ue.pop():fe}},8737:(gt,Te,O)=>{function u(te,P){if(te){const ae=te.indexOf(P);0<=ae&&te.splice(ae,1)}}O.d(Te,{P:()=>u})},3888:(gt,Te,O)=>{function u(te){const ae=te(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(Te,{d:()=>u})},2806:(gt,Te,O)=>{O.d(Te,{O:()=>ae,x:()=>P});var u=O(2416);let te=null;function P(ce){if(u.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),ce(),he){const{errorThrown:ue,error:fe}=te;if(te=null,ue)throw fe}}else ce()}function ae(ce){u.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ce)}},9672:(gt,Te,O)=>{function u(te,P,ae,ce=0,he=!1){const ue=P.schedule(function(){ae(),he?te.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(te.add(ue),!he)return ue}O.d(Te,{f:()=>u})},4671:(gt,Te,O)=>{function u(te){return te}O.d(Te,{y:()=>u})},1144:(gt,Te,O)=>{O.d(Te,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(gt,Te,O)=>{O.d(Te,{D:()=>te});var u=O(576);function te(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(gt,Te,O)=>{function u(te){return"function"==typeof te}O.d(Te,{m:()=>u})},3670:(gt,Te,O)=>{O.d(Te,{c:()=>P});var u=O(8822),te=O(576);function P(ae){return(0,te.m)(ae[u.L])}},6495:(gt,Te,O)=>{O.d(Te,{T:()=>P});var u=O(2202),te=O(576);function P(ae){return(0,te.m)(ae?.[u.h])}},8239:(gt,Te,O)=>{O.d(Te,{t:()=>te});var u=O(576);function te(P){return(0,u.m)(P?.then)}},3260:(gt,Te,O)=>{O.d(Te,{L:()=>ae,Q:()=>P});var u=O(655),te=O(576);function P(ce){return(0,u.FC)(this,arguments,function*(){const ue=ce.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,u.qq)(ue.read());if(pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(fe)}}finally{ue.releaseLock()}})}function ae(ce){return(0,te.m)(ce?.getReader)}},3532:(gt,Te,O)=>{O.d(Te,{K:()=>te});var u=O(576);function te(P){return P&&(0,u.m)(P.schedule)}},4482:(gt,Te,O)=>{O.d(Te,{A:()=>te,e:()=>P});var u=O(576);function te(ae){return(0,u.m)(ae?.lift)}function P(ae){return ce=>{if(te(ce))return ce.lift(function(he){try{return ae(he,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,Te,O)=>{function u(){}O.d(Te,{Z:()=>u})},9635:(gt,Te,O)=>{O.d(Te,{U:()=>P,z:()=>te});var u=O(4671);function te(...ae){return P(ae)}function P(ae){return 0===ae.length?u.y:1===ae.length?ae[0]:function(he){return ae.reduce((ue,fe)=>fe(ue),he)}}},7849:(gt,Te,O)=>{O.d(Te,{h:()=>P});var u=O(2416),te=O(3410);function P(ae){te.z.setTimeout(()=>{const{onUnhandledError:ce}=u.v;if(!ce)throw ae;ce(ae)})}},4532:(gt,Te,O)=>{function u(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Te,{z:()=>u})},655:(gt,Te,O)=>{function ae(Z,ee){var oe={};for(var se in Z)Object.prototype.hasOwnProperty.call(Z,se)&&ee.indexOf(se)<0&&(oe[se]=Z[se]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(se=Object.getOwnPropertySymbols(Z);Ve<se.length;Ve++)ee.indexOf(se[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Z,se[Ve])&&(oe[se[Ve]]=Z[se[Ve]])}return oe}function fe(Z,ee,oe,se){return new(oe||(oe=Promise))(function(Pe,yt){function on(_n){try{et(se.next(_n))}catch(kn){yt(kn)}}function Wt(_n){try{et(se.throw(_n))}catch(kn){yt(kn)}}function et(_n){_n.done?Pe(_n.value):function Ve(Pe){return Pe instanceof oe?Pe:new oe(function(yt){yt(Pe)})}(_n.value).then(on,Wt)}et((se=se.apply(Z,ee||[])).next())})}function _e(Z){return this instanceof _e?(this.v=Z,this):new _e(Z)}function me(Z,ee,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,se=oe.apply(Z,ee||[]),Pe=[];return Ve={},yt("next"),yt("throw"),yt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function yt(tn){se[tn]&&(Ve[tn]=function(an){return new Promise(function(Kr,zt){Pe.push([tn,an,Kr,zt])>1||on(tn,an)})})}function on(tn,an){try{!function Wt(tn){tn.value instanceof _e?Promise.resolve(tn.value.v).then(et,_n):kn(Pe[0][2],tn)}(se[tn](an))}catch(Kr){kn(Pe[0][3],Kr)}}function et(tn){on("next",tn)}function _n(tn){on("throw",tn)}function kn(tn,an){tn(an),Pe.shift(),Pe.length&&on(Pe[0][0],Pe[0][1])}}function ht(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ee=Z[Symbol.asyncIterator];return ee?ee.call(Z):(Z=function Y(Z){var ee="function"==typeof Symbol&&Symbol.iterator,oe=ee&&Z[ee],se=0;if(oe)return oe.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&se>=Z.length&&(Z=void 0),{value:Z&&Z[se++],done:!Z}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),oe={},se("next"),se("throw"),se("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function se(Pe){oe[Pe]=Z[Pe]&&function(yt){return new Promise(function(on,Wt){!function Ve(Pe,yt,on,Wt){Promise.resolve(Wt).then(function(et){Pe({value:et,done:on})},yt)}(on,Wt,(yt=Z[Pe](yt)).done,yt.value)})}}}O.d(Te,{FC:()=>me,KL:()=>ht,_T:()=>ae,mG:()=>fe,qq:()=>_e})},4650:(gt,Te,O)=>{O.d(Te,{$8M:()=>S2,$Z:()=>zo,AFp:()=>x5,AaK:()=>fe,CHM:()=>a2,CRH:()=>S8,CZH:()=>R8,CqO:()=>xf,D6c:()=>tb,EJc:()=>si,EiD:()=>tp,EpF:()=>Nf,F$t:()=>c9,F4k:()=>ls,FYo:()=>$u,FiY:()=>$e,G48:()=>Yy,Gf:()=>E8,GfV:()=>pp,Gpc:()=>j,Hsn:()=>_6,Ikx:()=>S6,JOm:()=>Is,JVY:()=>Pu,KtG:()=>c2,L6k:()=>zu,LAX:()=>Vu,LFG:()=>Yt,LMc:()=>hg,LSH:()=>Z0,Lbi:()=>xm,Lck:()=>q9,MAs:()=>If,MGl:()=>y6,MMx:()=>n5,NdJ:()=>Xd,OlP:()=>Nn,PXZ:()=>Bm,Q6J:()=>m6,QGY:()=>f4,QP$:()=>nn,QbO:()=>km,Qsj:()=>r_,QtT:()=>Xf,R0b:()=>ks,RDi:()=>_,Rgc:()=>L4,SBq:()=>pl,SDv:()=>$l,Sil:()=>Rm,Suo:()=>M8,TTD:()=>_s,TgZ:()=>Nl,Tol:()=>m4,Udp:()=>Q2,VKq:()=>o5,W1O:()=>cc,WLB:()=>k4,X6Q:()=>Ky,XFs:()=>tt,Xpm:()=>Se,Xts:()=>hd,Y36:()=>C1,YKP:()=>I4,YNc:()=>h4,Yjl:()=>we,Yz7:()=>an,Z0I:()=>ms,ZZ4:()=>e3,_Bn:()=>Wi,_UZ:()=>Yd,_Vd:()=>F2,_c5:()=>sg,_uU:()=>le,aQg:()=>fc,c2e:()=>By,cJS:()=>zt,cg1:()=>Fl,dDg:()=>U4,dqk:()=>fn,eBb:()=>hl,eFA:()=>B8,ekj:()=>n8,eoX:()=>z8,f3M:()=>M,g9A:()=>H4,h0i:()=>Gl,hGG:()=>q4,hij:()=>us,iGM:()=>Wr,ifc:()=>vt,ip1:()=>N5,jDz:()=>Z9,kEZ:()=>$o,kL8:()=>S9,lG2:()=>K,lqb:()=>V2,lri:()=>Vm,mCW:()=>wa,n5z:()=>Es,oAB:()=>jt,oJD:()=>Ph,oxw:()=>o9,pB0:()=>ad,pQV:()=>b8,q3G:()=>or,q4F:()=>mp,qLn:()=>ml,qOj:()=>Cf,qZA:()=>v6,qzn:()=>ji,rWj:()=>Yl,s9C:()=>kf,sBO:()=>K6,sIi:()=>h6,s_b:()=>D8,soG:()=>B4,tb:()=>k5,tp0:()=>ft,uIk:()=>qd,vHH:()=>De,vpe:()=>Go,wAp:()=>It,xp6:()=>bp,z2F:()=>Ql,z3N:()=>_r,zSh:()=>jh,zs3:()=>gl});var u=O(7579),te=O(727),P=O(9751),ae=O(6451),ce=O(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=he({__forward_ref__:he});function j(s){return s.__forward_ref__=j,s.toString=function(){return fe(this())},s}function Y(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===j}class De extends Error{constructor(o,c){super(function lt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s,o){throw new De(-201,!1)}function et(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Mn(s){return Li(s,Pi)||Li(s,Ei)}function ms(s){return null!==Mn(s)}function Li(s,o){return s.hasOwnProperty(o)?s[o]:null}function co(s){return s&&(s.hasOwnProperty(Di)||s.hasOwnProperty(Pa))?s[Di]:null}const Pi=he({\u0275prov:he}),Di=he({\u0275inj:he}),Ei=he({ngInjectableDef:he}),Pa=he({ngInjectorDef:he});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let zr;function ur(s){const o=zr;return zr=s,o}function Mi(s,o,c){const d=Mn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&tt.Optional?null:void 0!==o?o:void Ce(fe(s))}function Zn(s){return{toString:s}.toString()}var tr=(()=>((tr=tr||{})[tr.OnPush=0]="OnPush",tr[tr.Default=1]="Default",tr))(),vt=(()=>{return(s=vt||(vt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",vt;var s})();const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ui={},Rt=[],Hs=he({\u0275cmp:he}),ln=he({\u0275dir:he}),Xi=he({\u0275pipe:he}),un=he({\u0275mod:he}),dr=he({\u0275fac:he}),Qr=he({__NG_ELEMENT_ID__:he});let at=0;function Se(s){return Zn(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===tr.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Rt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||vt.Emulated,id:"c"+at++,styles:s.styles||Rt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,y=s.features;return f.inputs=H(s.inputs,d),f.outputs=H(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Nt).filter(Ot):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(bt).filter(Ot):null,f})}function Nt(s){return J(s)||Ye(s)}function Ot(s){return null!==s}function jt(s){return Zn(()=>({type:s.type,bootstrap:s.bootstrap||Rt,declarations:s.declarations||Rt,imports:s.imports||Rt,exports:s.exports||Rt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function H(s,o){if(null==s)return ui;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,o&&(o[f]=m)}return c}const K=Se;function we(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function J(s){return s[Hs]||null}function Ye(s){return s[ln]||null}function bt(s){return s[Xi]||null}function nn(s){const o=J(s)||Ye(s)||bt(s);return null!==o&&o.standalone}function Tn(s,o){const c=s[un]||null;if(!c&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return c}function Er(s){return Array.isArray(s)&&"object"==typeof s[1]}function Jr(s){return Array.isArray(s)&&!0===s[1]}function Z1(s){return 0!=(8&s.flags)}function Fa(s){return 2==(2&s.flags)}function Ic(s){return 1==(1&s.flags)}function Vr(s){return null!==s.template}function au(s){return 0!=(256&s[2])}function ns(s,o){return s.hasOwnProperty(dr)?s[dr]:null}class vs{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function _s(){return po}function po(s){return s.type.prototype.ngOnChanges&&(s.setInput=Y1),Ha}function Ha(){const s=lu(this),o=s?.current;if(o){const c=s.previous;if(c===ui)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Y1(s,o,c,d){const f=lu(s)||function pr(s,o){return s[xc]=o}(s,{previous:ui,current:null}),m=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];m[w]=new vs(E&&E.currentValue,o,y===ui),s[d]=o}_s.ngInherit=!0;const xc="__ngSimpleChanges__";function lu(s){return s[xc]||null}function $n(s){for(;Array.isArray(s);)s=s[0];return s}function Ti(s,o){return $n(o[s])}function Fr(s,o){return $n(o[s.index])}function mo(s,o){return s.data[o]}function en(s,o){const c=o[s];return Er(c)?c:c[0]}function go(s){return 64==(64&s[2])}function Vi(s,o){return null==o?null:s[o]}function n2(s){s[18]=0}function Hn(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const xt={lFrame:Bc(null),bindingsEnabled:!0};function Cs(){return xt.bindingsEnabled}function Ie(){return xt.lFrame.lView}function Kt(){return xt.lFrame.tView}function a2(s){return xt.lFrame.contextLView=s,s[8]}function c2(s){return xt.lFrame.contextLView=null,s}function Gn(){let s=l2();for(;null!==s&&64===s.type;)s=s.parent;return s}function l2(){return xt.lFrame.currentTNode}function ta(){const s=xt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Ii(s,o){const c=xt.lFrame;c.currentTNode=s,c.isParent=o}function Ua(){return xt.lFrame.isParent}function ja(){xt.lFrame.isParent=!1}function Wn(){const s=xt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function vo(){return xt.lFrame.bindingIndex++}function ws(s){const o=xt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Ga(s){xt.lFrame.inI18n=s}function V3(s,o){const c=xt.lFrame;c.bindingIndex=c.bindingRootIndex=s,u2(o)}function u2(s){xt.lFrame.currentDirectiveIndex=s}function Vc(){return xt.lFrame.currentQueryIndex}function qa(s){xt.lFrame.currentQueryIndex=s}function Fc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function d2(s,o,c){if(c&tt.SkipSelf){let f=o,m=s;for(;!(f=f.parent,null!==f||c&tt.Host||(f=Fc(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;o=f,s=m}const d=xt.lFrame=Hc();return d.currentTNode=o,d.lView=s,!0}function h2(s){const o=Hc(),c=s[1];xt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Hc(){const s=xt.lFrame,o=null===s?null:s.child;return null===o?Bc(s):o}function Bc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Uc(){const s=xt.lFrame;return xt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const b0=Uc;function _o(){const s=Uc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function mr(){return xt.lFrame.selectedIndex}function fi(s){xt.lFrame.selectedIndex=s}function An(){const s=xt.lFrame;return mo(s.tView,s.selectedIndex)}function m2(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:x}=m;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),I&&((s.viewHooks||(s.viewHooks=[])).push(c,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,I)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(c,x)}}function bo(s,o,c){ra(s,o,3,c)}function na(s,o,c,d){(3&s[2])===c&&ra(s,o,c,d)}function D0(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function ra(s,o,c,d){const m=d??-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<m||-1==m)&&(E0(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function E0(s,o,c,d){const f=c[d]<0,m=c[d+1],w=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Zs{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ia(s,o,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],y=c[d++],w=c[d++];s.setAttribute(o,y,w,m)}else{const m=f,y=c[++d];y2(m)?s.setProperty(o,m,y):s.setAttribute(o,m,y),d++}}return d}function Do(s){return 3===s||4===s||6===s}function y2(s){return 64===s.charCodeAt(0)}function Za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?c=f:0===c||S0(s,c,f,null,-1===c||2===c?o[++d]:null)}}return s}function S0(s,o,c,d,f){let m=0,y=s.length;if(-1===o)y=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==y&&(s.splice(y,0,o),m=y+1),s.splice(m++,0,c),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}function T0(s){return-1!==s}function Mr(s){return 32767&s}function Ya(s,o){let c=function Ka(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let is=!0;function Qa(s){const o=is;return is=s,o}let Kn=0;const Fi={};function Eo(s,o){const c=C2(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Xa(d.data,s),Xa(o,null),Xa(d.blueprint,null));const f=w2(s,o),m=s.injectorIndex;if(T0(f)){const y=Mr(f),w=Ya(f,o),E=w[1].data;for(let I=0;I<8;I++)o[m+I]=w[y+I]|E[y+I]}return o[m+8]=f,m}function Xa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function C2(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function w2(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=o;for(;null!==f;){if(d=aa(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ks(s,o,c){!function b2(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Qr)&&(d=c[Qr]),null==d&&(d=c[Qr]=Kn++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,c)}function Ys(s,o,c){if(c&tt.Optional||void 0!==s)return s;Ce()}function D2(s,o,c,d){if(c&tt.Optional&&void 0===d&&(d=null),0==(c&(tt.Self|tt.Host))){const f=s[9],m=ur(void 0);try{return f?f.get(o,d,c&tt.Optional):Mi(o,d,c&tt.Optional)}finally{ur(m)}}return Ys(d,0,c)}function Mo(s,o,c,d=tt.Default,f){if(null!==s){if(1024&o[2]){const y=function oa(s,o,c,d,f){let m=s,y=o;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=e1(m,y,c,d|tt.Self,Fi);if(w!==Fi)return w;let E=m.parent;if(!E){const I=y[21];if(I){const x=I.get(c,Fi,d);if(x!==Fi)return x}E=aa(y),y=y[15]}m=E}return f}(s,o,c,d,Fi);if(y!==Fi)return y}const m=e1(s,o,c,d,Fi);if(m!==Fi)return m}return D2(o,c,d,f)}function e1(s,o,c,d,f){const m=function Wc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Qr)?s[Qr]:void 0;return"number"==typeof o?o>=0?255&o:qc:o}(c);if("function"==typeof m){if(!d2(o,s,d))return d&tt.Host?Ys(f,0,d):D2(o,c,d,f);try{const y=m(d);if(null!=y||d&tt.Optional)return y;Ce()}finally{b0()}}else if("number"==typeof m){let y=null,w=C2(s,o),E=-1,I=d&tt.Host?o[16][6]:null;for((-1===w||d&tt.SkipSelf)&&(E=-1===w?w2(s,o):o[w+8],-1!==E&&t1(d,!1)?(y=o[1],w=Mr(E),o=Ya(E,o)):w=-1);-1!==w;){const x=o[1];if(E2(m,w,x.data)){const z=N0(w,o,c,y,d,I);if(z!==Fi)return z}E=o[w+8],-1!==E&&t1(d,o[1].data[w+8]===I)&&E2(m,w,o)?(y=x,w=Mr(E),o=Ya(E,o)):w=-1}}return f}function N0(s,o,c,d,f,m){const y=o[1],w=y.data[s+8],x=sa(w,y,c,null==d?Fa(w)&&is:d!=y&&0!=(3&w.type),f&tt.Host&&m===w);return null!==x?Ds(o,y,x,w):Fi}function sa(s,o,c,d,f){const m=s.providerIndexes,y=o.data,w=1048575&m,E=s.directiveStart,x=m>>20,G=f?w+x:s.directiveEnd;for(let ne=d?w:w+x;ne<G;ne++){const ye=y[ne];if(ne<E&&c===ye||ne>=E&&ye.type===c)return ne}if(f){const ne=y[E];if(ne&&Vr(ne)&&ne.type===c)return E}return null}function Ds(s,o,c,d){let f=s[c];const m=o.data;if(function Co(s){return s instanceof Zs}(f)){const y=f;y.resolving&&function st(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new De(-200,`Circular dependency in DI detected for ${s}${c}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(m[c]));const w=Qa(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?ur(y.injectImpl):null;d2(s,d,tt.Default);try{f=s[c]=y.factory(void 0,m,s,d),o.firstCreatePass&&c>=d.directiveStart&&function w0(s,o,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=o.type.prototype;if(d){const y=po(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],o)}finally{null!==E&&ur(E),Qa(w),y.resolving=!1,b0()}}return f}function E2(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function t1(s,o){return!(s&tt.Self||s&tt.Host&&o)}class So{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return Mo(this._tNode,this._lView,o,d,c)}}function qc(){return new So(Gn(),Ie())}function Es(s){return Zn(()=>{const o=s.prototype.constructor,c=o[dr]||M2(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[dr]||M2(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function M2(s){return Ue(s)?()=>{const o=M2(Y(s));return o&&o()}:ns(s)}function aa(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function S2(s){return function A0(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Do(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===o)return c[f+1];f+=2}}}return null}(Gn(),s)}const Qs="__parameters__";function ua(s,o,c){return Zn(()=>{const d=function T2(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(o);function f(...m){if(this instanceof f)return d.apply(this,m),this;const y=new f(...m);return w.annotation=y,w;function w(E,I,x){const z=E.hasOwnProperty(Qs)?E[Qs]:Object.defineProperty(E,Qs,{value:[]})[Qs];for(;z.length<=x;)z.push(null);return(z[x]=z[x]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Nn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cn(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),cn(d,o)):o!==s&&o.push(d)}return o}function Hi(s,o){s.forEach(c=>Array.isArray(c)?Hi(c,o):o(c))}function s1(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Bn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Js(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Je(s,o,c){let d=Xs(s,o);return d>=0?s[1|d]=c:(d=~d,function Zc(s,o,c,d){let f=s.length;if(f==o)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function a1(s,o){const c=Xs(s,o);if(c>=0)return s[1|c]}function Xs(s,o){return function fa(s,o,c){let d=0,f=s.length>>c;for(;f!==d;){const m=d+(f-d>>1),y=s[m<<c];if(o===y)return m<<c;y>o?f=m:d=m+1}return~(f<<c)}(s,o,1)}const Ai={},Qc="__NG_DI_FLAG__",gi="ngTempTokenPath",Bi=/\n/gm,gr="__source";let to;function Ss(s){const o=to;return to=s,o}function Vn(s,o=tt.Default){if(void 0===to)throw new De(-203,!1);return null===to?Mi(s,void 0,o):to.get(s,o&tt.Optional?null:void 0,o)}function Yt(s,o=tt.Default){return(function Fs(){return zr}()||Vn)(Y(s),o)}function M(s,o=tt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Yt(s,o)}function S(s){const o=[];for(let c=0;c<s.length;c++){const d=Y(s[c]);if(Array.isArray(d)){if(0===d.length)throw new De(900,!1);let f,m=tt.Default;for(let y=0;y<d.length;y++){const w=d[y],E=V(w);"number"==typeof E?-1===E?f=w.token:m|=E:f=w}o.push(Yt(f,m))}else o.push(Yt(d))}return o}function N(s,o){return s[Qc]=o,s.prototype[Qc]=o,s}function V(s){return s[Qc]}const $e=N(ua("Optional"),8),ft=N(ua("SkipSelf"),4);var Is=(()=>((Is=Is||{})[Is.Important=1]="Important",Is[Is.DashCase=2]="DashCase",Is))();const el=/^>|^->|<!--|-->|--!>|<!-$/g,wh=/(<|>)/;const rl=new Map;let Du=0;const No="__ngContext__";function Lr(s,o){Er(o)?(s[No]=o[20],function Eh(s){rl.set(s[20],s)}(o)):s[No]=o}let P0;function z0(s,o){return P0(s,o)}function h1(s){const o=s[3];return Jr(o)?o[3]:o}function f1(s){return ed(s[13])}function xo(s){return ed(s[4])}function ed(s){for(;null!==s&&!Jr(s);)s=s[4];return s}function ko(s,o,c,d,f){if(null!=d){let m,y=!1;Jr(d)?m=d:Er(d)&&(y=!0,d=d[0]);const w=$n(d);0===s&&null!==c?null==f?sd(o,c,w):Oo(o,c,w,f||null,!0):1===s&&null!==c?Oo(o,c,w,f||null,!0):2===s?W0(o,w,y):3===s&&o.destroyNode(w),null!=m&&function xu(s,o,c,d,f){const m=c[7];m!==$n(c)&&ko(o,s,d,m,f);for(let w=10;w<c.length;w++){const E=c[w];va(E[1],E,s,o,d,m)}}(o,s,m,c,f)}}function V0(s,o){return s.createText(o)}function Mu(s,o,c){s.setValue(o,c)}function Ro(s,o){return s.createComment(function nl(s){return s.replace(el,o=>o.replace(wh,"\u200b$1\u200b"))}(o))}function L2(s,o,c){return s.createElement(o,c)}function Su(s,o){const c=s[9],d=c.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Hn(f,-1)),c.splice(d,1)}function Tu(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&Su(f,d),o>0&&(s[c-1][4]=d[4]);const m=Bn(s,10+o);!function p1(s,o){va(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=m[19];null!==y&&y.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function rd(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&va(s,o,c,3,null,null),function xh(s){let o=s[13];if(!o)return Iu(s[1],s);for(;o;){let c=null;if(Er(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Er(o)&&Iu(o[1],o),o=o[3];null===o&&(o=s),Er(o)&&Iu(o[1],o),c=o&&o[4]}o=c}}(o)}}function Iu(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function id(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=o[c[d]];if(!(f instanceof Zs)){const m=c[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const w=f[m[y]],E=m[y+1];try{E.call(w)}finally{}}else try{m.call(f)}finally{}}}}(s,o),function Rh(s,o){const c=s.cleanup,d=o[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+1],w="function"==typeof y?y(o):$n(o[y]),E=d[f=c[m+2]],I=c[m+3];"boolean"==typeof I?w.removeEventListener(c[m],E,I):I>=0?d[f=I]():d[f=-I].unsubscribe(),m+=2}else{const y=d[f=c[m+1]];c[m].call(y)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&Jr(o[3])){c!==o[3]&&Su(c,o);const d=o[19];null!==d&&d.detachView(s)}!function R0(s){rl.delete(s[20])}(o)}}function H0(s,o,c){return B0(s,o.parent,c)}function B0(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===vt.None||f===vt.Emulated)return null}return Fr(d,c)}function Oo(s,o,c,d,f){s.insertBefore(o,c,d,f)}function sd(s,o,c){s.appendChild(o,c)}function ol(s,o,c,d,f){null!==d?Oo(s,o,c,d,f):sd(s,o,c)}function ti(s,o){return s.parentNode(o)}function Nu(s,o,c){return U0(s,o,c)}function al(s,o,c){return 40&s.type?Fr(s,c):null}let Lo,P2,Lu,v,U0=al;function j0(s,o){U0=s,Lo=o}function $0(s,o,c,d){const f=H0(s,d,o),m=o[11],w=Nu(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)ol(m,f,c[E],w,!1);else ol(m,f,c,w,!1);void 0!==Lo&&Lo(m,d,o,c,f)}function xi(s,o){if(null!==o){const c=o.type;if(3&c)return Fr(o,s);if(4&c)return cl(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return xi(s,d);{const f=s[o.index];return Jr(f)?cl(-1,f):$n(f)}}if(32&c)return z0(o,s)()||$n(s[o.index]);{const d=G0(s,o);return null!==d?Array.isArray(d)?d[0]:xi(h1(s[16]),d):xi(s,o.next)}}return null}function G0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function cl(s,o){const c=10+s+1;if(c<o.length){const d=o[c],f=d[1].firstChild;if(null!==f)return xi(d,f)}return o[7]}function W0(s,o,c){const d=ti(s,o);d&&function Au(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}function ll(s,o,c,d,f,m,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===o&&(w&&Lr($n(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)ll(s,o,c.child,d,f,m,!1),ko(o,s,f,w,m);else if(32&E){const I=z0(c,d);let x;for(;x=I();)ko(o,s,f,x,m);ko(o,s,f,w,m)}else 16&E?_a(s,o,d,c,f,m):ko(o,s,f,w,m);c=y?c.projectionNext:c.next}}function va(s,o,c,d,f,m){ll(c,d,s.firstChild,o,f,m,!1)}function _a(s,o,c,d,f,m){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)ko(o,s,f,E[I],m);else ll(s,o,E,y[3],f,m,!0)}function as(s,o,c){s.setAttribute(o,"style",c)}function ya(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function ba(s){return function ul(){if(void 0===P2&&(P2=null,fn.trustedTypes))try{P2=fn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return P2}()?.createHTML(s)||s}function _(s){Lu=s}function p(){return void 0!==Lu?Lu:typeof document<"u"?document:void 0}function A(s){return function C(){if(void 0===v&&(v=null,fn.trustedTypes))try{v=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return v}()?.createHTML(s)||s}class de{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ge extends de{getTypeName(){return"HTML"}}class it extends de{getTypeName(){return"Style"}}class Tt extends de{getTypeName(){return"Script"}}class wt extends de{getTypeName(){return"URL"}}class Cn extends de{getTypeName(){return"ResourceURL"}}function _r(s){return s instanceof de?s.changingThisBreaksApplicationSecurity:s}function ji(s,o){const c=function od(s){return s instanceof de&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function Pu(s){return new Ge(s)}function zu(s){return new it(s)}function hl(s){return new Tt(s)}function Vu(s){return new wt(s)}function ad(s){return new Cn(s)}function Ca(s){const o=new cd(s);return function Lh(){try{return!!(new window.DOMParser).parseFromString(ba(""),"text/html")}catch{return!1}}()?new g1(o):o}class g1{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(ba(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class cd{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ba(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=ba(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const v1=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function wa(s){return(s=String(s)).match(v1)?s:"unsafe:"+s}function _1(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Fu(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const Y7=_1("area,br,col,hr,img,wbr"),Q7=_1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J7=_1("rp,rt"),Hu=Fu(Y7,Fu(Q7,_1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fu(J7,_1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fu(J7,Q7)),q0=_1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),X7=Fu(q0,_1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pv=_1("script,style,template");class zv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Hu.hasOwnProperty(c))return this.sanitizedSomething=!0,!Pv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),y=m.name,w=y.toLowerCase();if(!X7.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=m.value;q0[w]&&(E=wa(E)),this.buf.push(" ",y,'="',ep(E),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Hu.hasOwnProperty(c)&&!Y7.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(ep(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Vv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fv=/([^\#-~ |!])/g;function ep(s){return s.replace(/&/g,"&amp;").replace(Vv,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Fv,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ld;function tp(s,o){let c=null;try{ld=ld||Ca(s);let d=o?String(o):"";c=ld.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=ld.getInertBodyElement(d)}while(d!==m);return ba((new zv).sanitizeChildren(ud(c)||c))}finally{if(c){const d=ud(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ud(s){return"content"in s&&function Hv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function Ph(s){const o=z2();return o?A(o.sanitize(or.HTML,s)||""):ji(s,"HTML")?A(_r(s)):tp(p(),_e(s))}function Z0(s){const o=z2();return o?o.sanitize(or.URL,s)||"":ji(s,"URL")?_r(s):wa(_e(s))}function z2(){const s=Ie();return s&&s[12]}const hd=new Nn("ENVIRONMENT_INITIALIZER"),K0=new Nn("INJECTOR",-1),Fh=new Nn("INJECTOR_DEF_TYPES");class ip{get(o,c=Ai){if(c===Ai){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return c}}function Gv(...s){return{\u0275providers:sp(0,s)}}function sp(s,...o){const c=[],d=new Set;let f;return Hi(o,m=>{const y=m;Hh(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&op(f,c),c}function op(s,o){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Hi(f,m=>{o.push(m)})}}function Hh(s,o,c,d){if(!(s=Y(s)))return!1;let f=null,m=co(s);const y=!m&&J(s);if(m||y){if(y&&!y.standalone)return!1;f=s}else{const E=s.ngModule;if(m=co(E),!m)return!1;f=E}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const I of E)Hh(I,o,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let I;d.add(f);try{Hi(m.imports,x=>{Hh(x,o,c,d)&&(I||(I=[]),I.push(x))})}finally{}void 0!==I&&op(I,o)}if(!w){const I=ns(f)||(()=>new f);o.push({provide:f,useFactory:I,deps:Rt},{provide:Fh,useValue:f,multi:!0},{provide:hd,useValue:()=>Yt(f),multi:!0})}const E=m.providers;null==E||w||Hi(E,x=>{o.push(x)})}}return f!==s&&void 0!==s.providers}const Wv=he({provide:String,useValue:he});function Uh(s){return null!==s&&"object"==typeof s&&Wv in s}function fl(s){return"function"==typeof s}const jh=new Nn("Set Injector scope."),Uu={},Zv={};let fd;function ju(){return void 0===fd&&(fd=new ip),fd}class V2{}class $h extends V2{constructor(o,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,md(o,y=>this.processProvider(y)),this.records.set(K0,Y0(void 0,this)),f.has("environment")&&this.records.set(V2,Y0(void 0,this));const m=this.records.get(jh);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Fh.multi,Rt,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Ss(this),d=ur(void 0);try{return o()}finally{Ss(c),ur(d)}}get(o,c=Ai,d=tt.Default){this.assertNotDestroyed();const f=Ss(this),m=ur(void 0);try{if(!(d&tt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function up(s){return"function"==typeof s||"object"==typeof s&&s instanceof Nn}(o)&&Mn(o);w=E&&this.injectableDefInScope(E)?Y0(pd(o),Uu):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&tt.Self?ju():this.parent).get(o,c=d&tt.Optional&&c===Ai?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[gi]=y[gi]||[]).unshift(fe(o)),f)throw y;return function Q(s,o,c,d){const f=s[gi];throw o[gr]&&f.unshift(o[gr]),s.message=function re(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=fe(o);if(Array.isArray(o))f=o.map(fe).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];m.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(Bi,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[gi]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{ur(m),Ss(f)}}resolveInjectorInitializers(){const o=Ss(this),c=ur(void 0);try{const d=this.get(hd.multi,Rt,tt.Self);for(const f of d)f()}finally{Ss(o),ur(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let c=fl(o=Y(o))?o:Y(o&&o.provide);const d=function Yv(s){return Uh(s)?Y0(void 0,s.useValue):Y0(lp(s),Uu)}(o);if(fl(o)||!0!==o.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Y0(void 0,Uu,!0),f.factory=()=>S(f.multi),this.records.set(c,f)),c=o,f.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===Uu&&(c.value=Zv,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Jv(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=Y(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function pd(s){const o=Mn(s),c=null!==o?o.factory:ns(s);if(null!==c)return c;if(s instanceof Nn)throw new De(204,!1);if(s instanceof Function)return function Kv(s){const o=s.length;if(o>0)throw Js(o,"?"),new De(204,!1);const c=function Yr(s){const o=s&&(s[Pi]||s[Ei]);if(o){const c=function li(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new De(204,!1)}function lp(s,o,c){let d;if(fl(s)){const f=Y(s);return ns(f)||pd(f)}if(Uh(s))d=()=>Y(s.useValue);else if(function cp(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...S(s.deps||[]));else if(function ap(s){return!(!s||!s.useExisting)}(s))d=()=>Yt(Y(s.useExisting));else{const f=Y(s&&(s.useClass||s.provide));if(!function Qv(s){return!!s.deps}(s))return ns(f)||pd(f);d=()=>new f(...S(s.deps))}return d}function Y0(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Gh(s){return!!s.\u0275providers}function md(s,o){for(const c of s)Array.isArray(c)?md(c,o):Gh(c)?md(c.\u0275providers,o):o(c)}class Xv{}class t_{resolveComponentFactory(o){throw function e_(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let F2=(()=>{class s{}return s.NULL=new t_,s})();function fp(){return H2(Gn(),Ie())}function H2(s,o){return new pl(Fr(s,o))}let pl=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=fp,s})();function n_(s){return s instanceof pl?s.nativeElement:s}class $u{}let r_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function i_(){const s=Ie(),c=en(Gn().index,s);return(Er(c)?c:s)[11]}(),s})(),s_=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class pp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const mp=new pp("14.2.12"),gd={};function vd(s){return s.ngOriginalError}class ml{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&vd(o);for(;c&&vd(c);)c=vd(c);return c||null}}function Da(s){return s instanceof Function?s():s}function Wh(s,o,c){let d=s.length;for(;;){const f=s.indexOf(o,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=o.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}c=f+1}}const Cd="ng-template";function h_(s,o,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==Wh(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function vp(s){return 4===s.type&&s.value!==Cd}function f_(s,o,c){return o===(4!==s.type||c?s.value:Cd)}function _p(s,o,c){let d=4;const f=s.attrs||[],m=function yp(s){for(let o=0;o<s.length;o++)if(Do(s[o]))return o;return s.length}(f);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!f_(s,E,c)||""===E&&1===o.length){if(Po(d))return!1;y=!0}}else{const I=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!h_(s.attrs,I,c)){if(Po(d))return!1;y=!0}continue}const z=mD(8&d?"class":E,f,vp(s),c);if(-1===z){if(Po(d))return!1;y=!0;continue}if(""!==I){let G;G=z>m?"":f[z+1].toLowerCase();const ne=8&d?G:null;if(ne&&-1!==Wh(ne,I,0)||2&d&&I!==G){if(Po(d))return!1;y=!0}}}}else{if(!y&&!Po(d)&&!Po(E))return!1;if(y&&Po(E))continue;y=!1,d=E|1&d}}return Po(d)||y}function Po(s){return 0==(1&s)}function mD(s,o,c,d){if(null===o)return-1;let f=0;if(d||!c){let m=!1;for(;f<o.length;){const y=o[f];if(y===s)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let w=o[++f];for(;"string"==typeof w;)w=o[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function p_(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Wu(s,o,c=!1){for(let d=0;d<o.length;d++)if(_p(s,o[d],c))return!0;return!1}function m_(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function wd(s,o){return s?":not("+o.trim()+")":o}function g_(s){let o=s[0],c=1,d=2,f="",m=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!Po(y)&&(o+=wd(m,f),f=""),d=y,m=m||!Po(d);c++}return""!==f&&(o+=wd(m,f)),o}const Ft={};function bp(s){qh(Kt(),Ie(),mr()+s,!1)}function qh(s,o,c,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&bo(o,m,c)}else{const m=s.preOrderHooks;null!==m&&na(o,m,0,c)}fi(c)}function ro(s,o=null,c=null,d){const f=b_(s,o,c,d);return f.resolveInjectorInitializers(),f}function b_(s,o=null,c=null,d,f=new Set){const m=[c||Rt,Gv(s)];return d=d||("object"==typeof s?void 0:fe(s)),new $h(m,o||ju(),d||null,f)}let gl=(()=>{class s{static create(c,d){if(Array.isArray(c))return ro({name:""},d,c,"");{const f=c.name??"";return ro({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=Ai,s.NULL=new ip,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Yt(K0)}),s.__NG_ELEMENT_ID__=-1,s})();function C1(s,o=tt.Default){const c=Ie();return null===c?Yt(s,o):Mo(Gn(),c,Y(s),o)}function zo(){throw new Error("invalid")}function Ad(s,o){return s<<17|o<<2}function Vo(s){return s>>17&32767}function Zu(s){return 2|s}function Ea(s){return(131068&s)>>2}function Qh(s,o){return-131069&s|o<<2}function e4(s){return 1|s}function sf(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const y=s.data[m];qa(f),y.contentQueries(2,o[m],m)}}}function t4(s,o,c,d,f,m,y,w,E,I,x){const z=o.blueprint.slice();return z[0]=f,z[2]=76|d,(null!==x||s&&1024&s[2])&&(z[2]|=1024),n2(z),z[3]=z[15]=s,z[8]=c,z[10]=y||s&&s[10],z[11]=w||s&&s[11],z[12]=E||s&&s[12]||null,z[9]=I||s&&s[9]||null,z[6]=m,z[20]=function Dh(){return Du++}(),z[21]=x,z[16]=2==o.type?s[16]:z,z}function _l(s,o,c,d,f){let m=s.data[o];if(null===m)m=cf(s,o,c,d,f),function z3(){return xt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const y=ta();m.injectorIndex=null===y?-1:y.injectorIndex}return Ii(m,!0),m}function cf(s,o,c,d,f){const m=l2(),y=Ua(),E=s.data[o]=function z_(s,o,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,o,d,f);return null===s.firstChild&&(s.firstChild=E),null!==m&&(y?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}function w1(s,o,c,d){if(0===c)return-1;const f=o.length;for(let m=0;m<c;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function r6(s,o,c){h2(o);try{const d=s.viewQuery;null!==d&&yf(1,d,c);const f=s.template;null!==f&&lf(s,o,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&sf(s,o),s.staticViewQueries&&yf(2,s.viewQuery,c);const m=s.components;null!==m&&function L_(s,o){for(let c=0;c<o.length;c++)Gp(s,o[c])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,_o()}}function n4(s,o,c,d){const f=o[2];if(128!=(128&f)){h2(o);try{n2(o),function Pc(s){return xt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&lf(s,o,c,2,d);const y=3==(3&f);if(y){const I=s.preOrderCheckHooks;null!==I&&bo(o,I,null)}else{const I=s.preOrderHooks;null!==I&&na(o,I,0,null),D0(o,0)}if(function $p(s){for(let o=f1(s);null!==o;o=xo(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&Hn(m,1),f[2]|=512}}}(o),function jp(s){for(let o=f1(s);null!==o;o=xo(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1];go(d)&&n4(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&sf(s,o),y){const I=s.contentCheckHooks;null!==I&&bo(o,I)}else{const I=s.contentHooks;null!==I&&na(o,I,1),D0(o,1)}!function O_(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)fi(~f);else{const m=f,y=c[++d],w=c[++d];V3(y,m),w(2,o[m])}}}finally{fi(-1)}}(s,o);const w=s.components;null!==w&&function af(s,o){for(let c=0;c<o.length;c++)F_(s,o[c])}(o,w);const E=s.viewQuery;if(null!==E&&yf(2,E,d),y){const I=s.viewCheckHooks;null!==I&&bo(o,I)}else{const I=s.viewHooks;null!==I&&na(o,I,2),D0(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Hn(o[3],-1))}finally{_o()}}}function lf(s,o,c,d,f){const m=mr(),y=2&d;try{fi(-1),y&&o.length>22&&qh(s,o,22,!1),c(d,f)}finally{fi(m)}}function yl(s,o,c){!Cs()||(function Hp(s,o,c,d){const f=c.directiveStart,m=c.directiveEnd;s.firstCreatePass||Eo(c,o),Lr(d,o);const y=c.initialInputs;for(let w=f;w<m;w++){const E=s.data[w],I=Vr(E);I&&o6(o,c,E);const x=Ds(o,s,w,c);Lr(x,o),null!==y&&vf(0,w-f,x,E,0,y),I&&(en(c.index,o)[8]=x)}}(s,o,c,Fr(c,o)),128==(128&c.flags)&&function hf(s,o,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,y=function zc(){return xt.lFrame.currentDirectiveIndex}();try{fi(m);for(let w=d;w<f;w++){const E=s.data[w],I=o[w];u2(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&ff(E,I)}}finally{fi(-1),u2(y)}}(s,o,c))}function Ld(s,o,c=Fr){const d=o.localNames;if(null!==d){let f=o.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],w=-1===y?c(o,s):s[y];s[f++]=w}}}function uf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Pd(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Pd(s,o,c,d,f,m,y,w,E,I){const x=22+d,z=x+f,G=function zd(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Ft);return c}(x,z),ne="function"==typeof I?I():I;return G[1]={type:s,blueprint:G,template:c,queries:null,viewQuery:w,declTNode:o,data:G.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:ne,incompleteFirstPass:!1}}function bl(s,o,c,d){const f=bf(o);null===c?f.push(d):(f.push(c),s.firstCreatePass&&Wp(s).push(d,f.length-1))}function Vp(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,f):c[d]=[o,f]}return c}function W2(s,o){const d=o.directiveEnd,f=s.data,m=o.attrs,y=[];let w=null,E=null;for(let I=o.directiveStart;I<d;I++){const x=f[I],z=x.inputs,G=null===m||vp(o)?null:Bd(z,m);y.push(G),w=Vp(z,I,w),E=Vp(x.outputs,I,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}function Oi(s,o,c,d,f,m,y,w){const E=Fr(o,c);let x,I=o.inputs;!w&&null!=I&&(x=I[d])?(o4(s,c,x,d,f),Fa(o)&&df(c,o.index)):3&o.type&&(d=function Fp(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,o.value||"",d):f,m.setProperty(E,d,f))}function df(s,o){const c=en(o,s);16&c[2]||(c[2]|=32)}function Vd(s,o,c,d){let f=!1;if(Cs()){const m=function Bp(s,o,c){const d=s.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const y=d[m];Wu(c,y.selectors,!1)&&(f||(f=[]),Ks(Eo(c,o),s,y.type),Vr(y)?(i4(s,c),f.unshift(y)):f.push(y))}return f}(s,o,c),y=null===d?null:{"":-1};if(null!==m){f=!0,Hd(c,s.data.length,m.length);for(let x=0;x<m.length;x++){const z=m[x];z.providersResolver&&z.providersResolver(z)}let w=!1,E=!1,I=w1(s,o,m.length,null);for(let x=0;x<m.length;x++){const z=m[x];c.mergedAttrs=Za(c.mergedAttrs,z.hostAttrs),s6(s,c,o,I,z),mf(I,z,y),null!==z.contentQueries&&(c.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(c.flags|=128);const G=z.type.prototype;!w&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),I++}W2(s,c)}y&&function pf(s,o,c){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const m=c[o[f+1]];if(null==m)throw new De(-301,!1);d.push(o[f],m)}}}(c,d,y)}return c.mergedAttrs=Za(c.mergedAttrs,c.attrs),f}function r4(s,o,c,d,f,m){const y=m.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function Fd(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function ff(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function i4(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function mf(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Vr(o)&&(c[""]=s)}}function Hd(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function s6(s,o,c,d,f){s.data[d]=f;const m=f.factory||(f.factory=ns(f.type)),y=new Zs(m,Vr(f),C1);s.blueprint[d]=y,c[d]=y,r4(s,o,0,d,w1(s,c,f.hostVars,Ft),f)}function o6(s,o,c){const d=Fr(o,s),f=uf(c),m=s[10],y=q2(s,t4(s,f,null,c.onPush?32:16,d,o,m,m.createRenderer(d,c),null,null,null));s[o.index]=y}function gf(s,o,c,d,f,m,y){if(null==m)s.removeAttribute(o,f,c);else{const w=null==y?_e(m):y(m,d||"",f);s.setAttribute(o,f,w,c)}}function vf(s,o,c,d,f,m){const y=m[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const I=y[E++],x=y[E++],z=y[E++];null!==w?d.setInput(c,z,I,x):c[x]=z}}}function Bd(s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return c}function _f(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function F_(s,o){const c=en(o,s);if(go(c)){const d=c[1];48&c[2]?n4(d,c,d.template,c[8]):c[5]>0&&Cl(c)}}function Cl(s){for(let d=f1(s);null!==d;d=xo(d))for(let f=10;f<d.length;f++){const m=d[f];if(go(m))if(512&m[2]){const y=m[1];n4(y,m,y.template,m[8])}else m[5]>0&&Cl(m)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=en(c[d],s);go(f)&&f[5]>0&&Cl(f)}}function Gp(s,o){const c=en(o,s),d=c[1];(function Ud(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),r6(d,c,c[8])}function q2(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function D1(s){for(;s;){s[2]|=32;const o=h1(s);if(au(s)&&!o)return s;s=o}return null}function s4(s,o,c,d=!0){const f=o[10];f.begin&&f.begin();try{n4(s,o,s.template,c)}catch(y){throw d&&Sa(o,y),y}finally{f.end&&f.end()}}function yf(s,o,c){qa(0),o(s,c)}function bf(s){return s[7]||(s[7]=[])}function Wp(s){return s.cleanup||(s.cleanup=[])}function Sa(s,o){const c=s[9],d=c?c.get(ml,null):null;d&&d.handleError(o)}function o4(s,o,c,d,f){for(let m=0;m<c.length;){const y=c[m++],w=c[m++],E=o[y],I=s.data[y];null!==I.setInput?I.setInput(E,f,d,w):E[w]=f}}function a6(s,o,c){let d=c?s.styles:null,f=c?s.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?m=w:1==m?f=pe(f,w):2==m&&(d=pe(d,w+": "+o[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function Fn(s,o,c,d,f=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&d.push($n(m)),Jr(m))for(let w=10;w<m.length;w++){const E=m[w],I=E[1].firstChild;null!==I&&Fn(E[1],E,I,d)}const y=c.type;if(8&y)Fn(s,o,c.child,d);else if(32&y){const w=z0(c,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=G0(o,c);if(Array.isArray(w))d.push(...w);else{const E=h1(o[16]);Fn(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class K2{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Fn(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Jr(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Tu(o,d),Bn(c,d))}this._attachedToViewContainer=!1}rd(this._lView[1],this._lView)}onDestroy(o){bl(this._lView[1],this._lView,null,o)}markForCheck(){D1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){s4(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nd(s,o){va(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class c6 extends K2{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;s4(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class wl extends F2{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=J(o);return new l6(c,this.ngModule)}}function qp(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class B_{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const f=this.injector.get(o,gd,d);return f!==gd||c===gd?f:this.parentInjector.get(o,c,d)}}class l6 extends Xv{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function v_(s){return s.map(g_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return qp(this.componentDef.inputs)}get outputs(){return qp(this.componentDef.outputs)}create(o,c,d,f){let m=(f=f||this.ngModule)instanceof V2?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new B_(o,m):o,w=y.get($u,null);if(null===w)throw new De(407,!1);const E=y.get(s_,null),I=w.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",z=d?function P_(s,o,c){return s.selectRootElement(o,c===vt.ShadowDom)}(I,d,this.componentDef.encapsulation):L2(I,x,function Zp(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),G=this.componentDef.onPush?288:272,ne=Pd(0,null,null,1,0,null,null,null,null,null),ye=t4(null,ne,null,G,null,null,w,I,E,y,null);let Fe,Ke;h2(ye);try{const dt=function Kp(s,o,c,d,f,m){const y=c[1];c[22]=s;const E=_l(y,22,2,"#host",null),I=E.mergedAttrs=o.hostAttrs;null!==I&&(a6(E,I,!0),null!==s&&(ia(f,s,I),null!==E.classes&&ya(f,s,E.classes),null!==E.styles&&as(f,s,E.styles)));const x=d.createRenderer(s,o),z=t4(c,uf(o),null,o.onPush?32:16,c[22],E,d,x,m||null,null,null);return y.firstCreatePass&&(Ks(Eo(E,c),y,o.type),i4(y,E),Hd(E,c.length,1)),q2(c,z),c[22]=z}(z,this.componentDef,ye,w,I);if(z)if(d)ia(I,z,["ng-version",mp.full]);else{const{attrs:Mt,classes:Ne}=function __(s){const o=[],c=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&o.push(m,s[++d]):8===f&&c.push(m);else{if(!Po(f))break;f=m}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Mt&&ia(I,z,Mt),Ne&&Ne.length>0&&ya(I,z,Ne.join(" "))}if(Ke=mo(ne,22),void 0!==c){const Mt=Ke.projection=[];for(let Ne=0;Ne<this.ngContentSelectors.length;Ne++){const kt=c[Ne];Mt.push(null!=kt?Array.from(kt):null)}}Fe=function Yp(s,o,c,d){const f=c[1],m=function $i(s,o,c){const d=Gn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),s6(s,d,o,w1(s,o,1,null),c),W2(s,d));const f=Ds(o,s,d.directiveStart,d);Lr(f,o);const m=Fr(d,o);return m&&Lr(m,o),f}(f,c,o);if(s[8]=c[8]=m,null!==d)for(const w of d)w(m,o);if(o.contentQueries){const w=Gn();o.contentQueries(1,m,w.directiveStart)}const y=Gn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(fi(y.index),r4(c[1],y,0,y.directiveStart,y.directiveEnd,o),ff(o,m)),m}(dt,this.componentDef,ye,[Qp]),r6(ne,ye,null)}finally{_o()}return new u6(this.componentType,Fe,H2(Ke,ye),ye,Ke)}}class u6 extends class dp{}{constructor(o,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new c6(f),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[o])){const m=this._rootLView;o4(m[1],m,f,o,c),df(m,this._tNode.index)}}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Qp(){const s=Gn();m2(Ie()[1],s)}function Cf(s){let o=function El(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let f;if(Vr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);f=o.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=jd(s.inputs),y.declaredInputs=jd(s.declaredInputs),y.outputs=jd(s.outputs);const w=f.hostBindings;w&&Xp(s,w);const E=f.viewQuery,I=f.contentQueries;if(E&&$_(s,E),I&&Jp(s,I),ue(s.inputs,f.inputs),ue(s.declaredInputs,f.declaredInputs),ue(s.outputs,f.outputs),Vr(f)&&f.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const w=m[y];w&&w.ngInherit&&w(s),w===Cf&&(c=!1)}}o=Object.getPrototypeOf(o)}!function j_(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=Za(f.hostAttrs,c=Za(c,f.hostAttrs))}}(d)}function jd(s){return s===ui?{}:s===Rt?[]:s}function $_(s,o){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{o(d,f),c(d,f)}:o}function Jp(s,o){const c=s.contentQueries;s.contentQueries=c?(d,f,m)=>{o(d,f,m),c(d,f,m)}:o}function Xp(s,o){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{o(d,f),c(d,f)}:o}let d6=null;function E1(){if(!d6){const s=fn.Symbol;if(s&&s.iterator)d6=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(d6=d)}}}return d6}function h6(s){return!!Ml(s)&&(Array.isArray(s)||!(s instanceof Map)&&E1()in s)}function Ml(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function so(s,o,c){return s[o]=c}function Pr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Ho(s,o,c,d){const f=Pr(s,o,c);return Pr(s,o+1,d)||f}function qd(s,o,c,d){const f=Ie();return Pr(f,vo(),o)&&(Kt(),function Fo(s,o,c,d,f,m){const y=Fr(s,o);gf(o[11],y,m,s.value,c,d,f)}(An(),f,s,o,c,d)),qd}function l4(s,o,c,d){return Pr(s,vo(),c)?o+_e(c)+d:Ft}function h4(s,o,c,d,f,m,y,w){const E=Ie(),I=Kt(),x=s+22,z=I.firstCreatePass?function t9(s,o,c,d,f,m,y,w,E){const I=o.consts,x=_l(o,s,4,y||null,Vi(I,w));Vd(o,c,x,Vi(I,E)),m2(o,x);const z=x.tViews=Pd(2,x,d,f,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,x),z.queries=o.queries.embeddedTView(x)),x}(x,I,E,o,c,d,f,m,y):I.data[x];Ii(z,!1);const G=E[11].createComment("");$0(I,E,G,z),Lr(G,E),q2(E,E[x]=_f(G,E,G,z)),Ic(z)&&yl(I,E,z),null!=y&&Ld(E,z,w)}function If(s){return function bs(s,o){return s[o]}(function Lc(){return xt.lFrame.contextLView}(),22+s)}function m6(s,o,c){const d=Ie();return Pr(d,vo(),o)&&Oi(Kt(),An(),d,s,o,d[11],c,!1),m6}function g6(s,o,c,d,f){const y=f?"class":"style";o4(s,c,o.inputs[y],y,d)}function Nl(s,o,c,d){const f=Ie(),m=Kt(),y=22+s,w=f[11],E=f[y]=L2(w,o,function p2(){return xt.lFrame.currentNamespace}()),I=m.firstCreatePass?function r9(s,o,c,d,f,m,y){const w=o.consts,I=_l(o,s,2,f,Vi(w,m));return Vd(o,c,I,Vi(w,y)),null!==I.attrs&&a6(I,I.attrs,!1),null!==I.mergedAttrs&&a6(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,m,f,0,o,c,d):m.data[y];Ii(I,!0);const x=I.mergedAttrs;null!==x&&ia(w,E,x);const z=I.classes;null!==z&&ya(w,E,z);const G=I.styles;return null!==G&&as(w,E,G),64!=(64&I.flags)&&$0(m,f,E,I),0===function s2(){return xt.lFrame.elementDepthCount}()&&Lr(E,f),function o2(){xt.lFrame.elementDepthCount++}(),Ic(I)&&(yl(m,f,I),function zp(s,o,c){if(Z1(o)){const f=o.directiveEnd;for(let m=o.directiveStart;m<f;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}}(m,I,f)),null!==d&&Ld(f,I),Nl}function v6(){let s=Gn();Ua()?ja():(s=s.parent,Ii(s,!1));const o=s;!function kc(){xt.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(m2(c,s),Z1(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function _2(s){return 0!=(16&s.flags)}(o)&&g6(c,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function M0(s){return 0!=(32&s.flags)}(o)&&g6(c,o,Ie(),o.stylesWithoutHost,!1),v6}function Yd(s,o,c,d){return Nl(s,o,c,d),v6(),Yd}function Nf(){return Ie()}function f4(s){return!!s&&"function"==typeof s.then}function ls(s){return!!s&&"function"==typeof s.subscribe}const xf=ls;function Xd(s,o,c,d){const f=Ie(),m=Kt(),y=Gn();return function i9(s,o,c,d,f,m,y,w){const E=Ic(d),x=s.firstCreatePass&&Wp(s),z=o[8],G=bf(o);let ne=!0;if(3&d.type||w){const Ke=Fr(d,o),dt=w?w(Ke):Ke,Mt=G.length,Ne=w?vn=>w($n(vn[d.index])):d.index;let kt=null;if(!w&&E&&(kt=function q_(s,o,c,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===c&&f[m+1]===d){const w=o[7],E=f[m+2];return w.length>E?w[E]:null}"string"==typeof y&&(m+=2)}return null}(s,o,f,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,ne=!1;else{m=s9(d,o,z,m,!1);const vn=c.listen(dt,f,m);G.push(m,vn),x&&x.push(f,Ne,Mt,Mt+1)}}else m=s9(d,o,z,m,!1);const ye=d.outputs;let Fe;if(ne&&null!==ye&&(Fe=ye[f])){const Ke=Fe.length;if(Ke)for(let dt=0;dt<Ke;dt+=2){const er=o[Fe[dt]][Fe[dt+1]].subscribe(m),H1=G.length;G.push(m,er),x&&x.push(f,d.index,H1,-(H1+1))}}}(m,f,f[11],y,s,o,0,d),Xd}function e8(s,o,c,d){try{return!1!==c(d)}catch(f){return Sa(s,f),!1}}function s9(s,o,c,d,f){return function m(y){if(y===Function)return d;D1(2&s.flags?en(s.index,o):o);let E=e8(o,0,d,y),I=m.__ngNextListenerFn__;for(;I;)E=e8(o,0,I,y)&&E,I=I.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function o9(s=1){return function yo(s){return(xt.lFrame.contextLView=function f2(s,o){for(;s>0;)o=o[15],s--;return o}(s,xt.lFrame.contextLView))[8]}(s)}function a9(s,o){let c=null;const d=function gD(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let f=0;f<o.length;f++){const m=o[f];if("*"!==m){if(null===d?Wu(s,m,!0):m_(d,m))return f}else c=f}return c}function c9(s){const o=Ie()[16][6];if(!o.projection){const d=o.projection=Js(s?s.length:1,null),f=d.slice();let m=o.child;for(;null!==m;){const y=s?a9(m,s):0;null!==y&&(f[y]?f[y].projectionNext=m:d[y]=m,f[y]=m),m=m.next}}}function _6(s,o=0,c){const d=Ie(),f=Kt(),m=_l(f,22+s,16,null,c||null);null===m.projection&&(m.projection=o),ja(),64!=(64&m.flags)&&function ki(s,o,c){_a(o[11],0,o,c,H0(s,c,o),Nu(c.parent||o[6],c,o))}(f,d,m)}function kf(s,o,c){return y6(s,"",o,"",c),kf}function y6(s,o,c,d,f){const m=Ie(),y=l4(m,o,c,d);return y!==Ft&&Oi(Kt(),An(),m,s,y,m[11],f,!1),y6}function d9(s,o,c,d,f){const m=s[c+1],y=null===o;let w=d?Vo(m):Ea(m),E=!1;for(;0!==w&&(!1===E||y);){const x=s[w+1];Xe(s[w],o)&&(E=!0,s[w+1]=d?e4(x):Zu(x)),w=d?Vo(x):Ea(x)}E&&(s[c+1]=d?Zu(m):e4(m))}function Xe(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Xs(s,o)>=0}const ie={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ke(s){return s.substring(ie.key,ie.keyEnd)}function f9(s,o){const c=ie.textEnd;return c===o?-1:(o=ie.keyEnd=function g9(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,ie.key=o,c),p4(s,o,c))}function p4(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Q2(s,o,c){return Bo(s,o,c,!1),Q2}function n8(s,o){return Bo(s,o,null,!0),n8}function m4(s){!function wn(s,o,c,d){const f=Kt(),m=ws(2);f.firstUpdatePass&&b6(f,null,m,d);const y=Ie();if(c!==Ft&&Pr(y,m,c)){const w=f.data[mr()];if(s8(w,d)&&!Qe(f,m)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=pe(E,c||"")),g6(f,w,y,c,d)}else!function As(s,o,c,d,f,m,y,w){f===Ft&&(f=Rt);let E=0,I=0,x=0<f.length?f[0]:null,z=0<m.length?m[0]:null;for(;null!==x||null!==z;){const G=E<f.length?f[E+1]:void 0,ne=I<m.length?m[I+1]:void 0;let Fe,ye=null;x===z?(E+=2,I+=2,G!==ne&&(ye=z,Fe=ne)):null===z||null!==x&&x<z?(E+=2,ye=x):(I+=2,ye=z,Fe=ne),null!==ye&&i8(s,o,c,d,ye,Fe,y,w),x=E<f.length?f[E]:null,z=I<m.length?m[I]:null}}(f,w,y,y[11],y[m+1],y[m+1]=function v9(s,o,c){if(null==c||""===c)return Rt;const d=[],f=_r(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)s(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&s(d,m,f[m]);else"string"==typeof f&&o(d,f);return d}(s,o,c),d,m)}}(Je,Gt,s,!0)}function Gt(s,o){for(let c=function h9(s){return function m9(s){ie.key=0,ie.keyEnd=0,ie.value=0,ie.valueEnd=0,ie.textEnd=s.length}(s),f9(s,p4(s,0,ie.textEnd))}(o);c>=0;c=f9(o,c))Je(s,ke(o),!0)}function Bo(s,o,c,d){const f=Ie(),m=Kt(),y=ws(2);m.firstUpdatePass&&b6(m,s,y,d),o!==Ft&&Pr(f,y,o)&&i8(m,m.data[mr()],f,f[11],s,f[y+1]=function J2(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(_r(s)))),s}(o,c),d,y)}function Qe(s,o){return o>=s.expandoStartIndex}function b6(s,o,c,d){const f=s.data;if(null===f[c+1]){const m=f[mr()],y=Qe(s,c);s8(m,d)&&null===o&&!y&&(o=!1),o=function Of(s,o,c,d){const f=function Wa(s){const o=xt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(c=T1(c=Lf(null,s,o,c,d),o.attrs,d),m=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==f)if(c=Lf(f,s,o,c,d),null===m){let E=function Ol(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Ea(d))return s[Vo(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Lf(null,s,o,E[1],d),E=T1(E,o.attrs,d),function J_(s,o,c,d){s[Vo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else m=function r8(s,o,c){let d;const f=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<f;m++)d=T1(d,s[m].hostAttrs,c);return T1(d,o.attrs,c)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),c}(f,m,o,d),function ct(s,o,c,d,f,m){let y=m?o.classBindings:o.styleBindings,w=Vo(y),E=Ea(y);s[d]=c;let x,I=!1;if(Array.isArray(c)){const z=c;x=z[1],(null===x||Xs(z,x)>0)&&(I=!0)}else x=c;if(f)if(0!==E){const G=Vo(s[w+1]);s[d+1]=Ad(G,w),0!==G&&(s[G+1]=Qh(s[G+1],d)),s[w+1]=function Ap(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Ad(w,0),0!==w&&(s[w+1]=Qh(s[w+1],d)),w=d;else s[d+1]=Ad(E,0),0===w?w=d:s[E+1]=Qh(s[E+1],d),E=d;I&&(s[d+1]=Zu(s[d+1])),d9(s,x,d,!0),d9(s,x,d,!1),function _t(s,o,c,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Xs(m,o)>=0&&(c[d+1]=e4(c[d+1]))}(o,x,s,d,m),y=Ad(w,E),m?o.classBindings=y:o.styleBindings=y}(f,m,o,c,y,d)}}function Lf(s,o,c,d,f){let m=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(m=o[w],d=T1(d,m.hostAttrs,f),m!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function T1(s,o,c){const d=c?1:2;let f=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Je(s,y,!!c||o[++m]))}return void 0===s?null:s}function i8(s,o,c,d,f,m,y,w){if(!(3&o.type))return;const E=s.data,I=E[w+1];C6(function Jh(s){return 1==(1&s)}(I)?zf(E,o,c,f,Ea(I),y):void 0)||(C6(m)||function vl(s){return 2==(2&s)}(I)&&(m=zf(E,null,c,f,w,y)),function Oh(s,o,c,d,f){if(o)f?s.addClass(c,d):s.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Is.DashCase;null==f?s.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Is.Important),s.setStyle(c,d,f,m))}}(d,y,Ti(mr(),c),f,m))}function zf(s,o,c,d,f,m){const y=null===o;let w;for(;f>0;){const E=s[f],I=Array.isArray(E),x=I?E[1]:E,z=null===x;let G=c[f+1];G===Ft&&(G=z?Rt:void 0);let ne=z?a1(G,d):x===d?G:void 0;if(I&&!C6(ne)&&(ne=a1(E,d)),C6(ne)&&(w=ne,y))return w;const ye=s[f+1];f=y?Vo(ye):Ea(ye)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(w=a1(E,d))}return w}function C6(s){return void 0!==s}function s8(s,o){return 0!=(s.flags&(o?16:32))}function le(s,o=""){const c=Ie(),d=Kt(),f=s+22,m=d.firstCreatePass?_l(d,f,1,o,null):d.data[f],y=c[f]=V0(c[11],o);$0(d,c,y,m),Ii(m,!1)}function us(s,o,c){const d=Ie(),f=l4(d,s,o,c);return f!==Ft&&function io(s,o,c){const d=Ti(o,s);Mu(s[11],d,c)}(d,mr(),f),us}function S6(s,o,c){const d=Ie();return Pr(d,vo(),o)&&Oi(Kt(),An(),d,s,o,d[11],c,!0),S6}const x1=void 0;var M9=["en",[["a","p"],["AM","PM"],x1],[["AM","PM"],x1,x1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],x1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],x1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",x1,"{1} 'at' {0}",x1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function T6(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Vl={};function Fl(s){const o=function ic(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=T9(o);if(c)return c;const d=o.split("-")[0];if(c=T9(d),c)return c;if("en"===d)return M9;throw new De(701,!1)}function S9(s){return Fl(s)[It.PluralCase]}function T9(s){return s in Vl||(Vl[s]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[s]),Vl[s]}var It=(()=>((It=It||{})[It.LocaleId=0]="LocaleId",It[It.DayPeriodsFormat=1]="DayPeriodsFormat",It[It.DayPeriodsStandalone=2]="DayPeriodsStandalone",It[It.DaysFormat=3]="DaysFormat",It[It.DaysStandalone=4]="DaysStandalone",It[It.MonthsFormat=5]="MonthsFormat",It[It.MonthsStandalone=6]="MonthsStandalone",It[It.Eras=7]="Eras",It[It.FirstDayOfWeek=8]="FirstDayOfWeek",It[It.WeekendRange=9]="WeekendRange",It[It.DateFormat=10]="DateFormat",It[It.TimeFormat=11]="TimeFormat",It[It.DateTimeFormat=12]="DateTimeFormat",It[It.NumberSymbols=13]="NumberSymbols",It[It.NumberFormats=14]="NumberFormats",It[It.CurrencyCode=15]="CurrencyCode",It[It.CurrencySymbol=16]="CurrencySymbol",It[It.CurrencyName=17]="CurrencyName",It[It.Currencies=18]="Currencies",It[It.Directionality=19]="Directionality",It[It.PluralCase=20]="PluralCase",It[It.ExtraData=21]="ExtraData",It))();const I9=["zero","one","two","few","many"],Hl="en-US",Dn={marker:"element"},k1={marker:"ICU"};var Jn=(()=>((Jn=Jn||{})[Jn.SHIFT=2]="SHIFT",Jn[Jn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Jn[Jn.COMMENT=2]="COMMENT",Jn))();let Uf=Hl;function jf(s){(function Wt(s,o){null==s&&et(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Uf=s.toLowerCase().replace(/_/g,"-"))}function $f(s,o,c){const d=o.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?al(s,0,c):$n(c[f])}function Gf(s,o,c,d,f){const m=o.insertBeforeIndex;if(Array.isArray(m)){let y=d,w=null;if(3&o.type||(w=y,y=f),null!==y&&0==(2&o.flags))for(let E=1;E<m.length;E++)Oo(s,y,c[m[E]],w,!1)}}function x9(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];k9(d)||oy(d,o)&&null===R9(d)&&ay(d,o.index)}}function k9(s){return!(64&s.type)}function oy(s,o){return k9(o)||s.index>o.index}function R9(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function ay(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(j0($f,Gf),s.insertBeforeIndex=o)}function y4(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function b4(s,o,c){const d=cf(s,c,64,null,null);return x9(o,d),d}function a8(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function ar(s){return s>>>17}function I6(s){return(131070&s)>>>1}let C4=0,Ta=0;function Un(s,o,c,d){const f=c[11];let y,m=null;for(let w=0;w<o.length;w++){const E=o[w];if("string"==typeof E){const I=o[++w];null===c[I]&&(c[I]=V0(f,E))}else if("number"==typeof E)switch(1&E){case 0:const I=ar(E);let x,z;if(null===m&&(m=I,y=ti(f,d)),I===m?(x=d,z=y):(x=null,z=$n(c[I])),null!==z){const Fe=I6(E);Oo(f,z,c[Fe],x,!1);const dt=y4(s,Fe);if(null!==dt&&"object"==typeof dt){const Mt=a8(dt,c);null!==Mt&&Un(s,dt.create[Mt],c,c[dt.anchorIdx])}}break;case 1:const ne=o[++w],ye=o[++w];gf(f,Ti(E>>>1,c),null,null,ne,ye,null)}else switch(E){case k1:const I=o[++w],x=o[++w];null===c[x]&&Lr(c[x]=Ro(f,I),c);break;case Dn:const z=o[++w],G=o[++w];null===c[G]&&Lr(c[G]=L2(f,z,null),c)}}}function L9(s,o,c,d,f){for(let m=0;m<c.length;m++){const y=c[m],w=c[++m];if(y&f){let E="";for(let I=m+1;I<=m+w;I++){const x=c[I];if("string"==typeof x)E+=x;else if("number"==typeof x)if(x<0)E+=_e(o[d-x]);else{const z=x>>>2;switch(3&x){case 1:const G=c[++I],ne=c[++I],ye=s.data[z];"string"==typeof ye?gf(o[11],o[z],null,ye,G,E,ne):Oi(s,ye,o,G,E,o[11],ne,!1);break;case 0:const Fe=o[z];null!==Fe&&Mu(o[11],Fe,E);break;case 2:Bl(s,y4(s,z),o,E);break;case 3:c8(s,y4(s,z),d,o)}}}}else{const E=c[m+1];if(E>0&&3==(3&E)){const x=y4(s,E>>>2);o[x.currentCaseLViewIndex]<0&&c8(s,x,d,o)}}m+=w}}function c8(s,o,c,d){let f=d[o.currentCaseLViewIndex];if(null!==f){let m=C4;f<0&&(f=d[o.currentCaseLViewIndex]=~f,m=-1),L9(s,d,o.update[f],c,m)}}function Bl(s,o,c,d){const f=function l8(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const d=function A9(s,o){const c=S9(o)(parseInt(s,10)),d=I9[c];return void 0!==d?d:"other"}(o,function N9(){return Uf}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,d);if(a8(o,c)!==f&&(w4(s,o,c),c[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const y=c[o.anchorIdx];y&&Un(s,o.create[f],c,y)}}function w4(s,o,c){let d=a8(o,c);if(null!==d){const f=o.remove[d];for(let m=0;m<f.length;m++){const y=f[m];if(y>0){const w=Ti(y,c);null!==w&&W0(c[11],w)}else w4(s,y4(s,~y),c)}}}function u8(){const s=[];let c,d,o=-1;function m(w,E){o=0;const I=a8(w,E);d=null!==I?w.remove[I]:Rt}function y(){if(o<d.length){const w=d[o++];return w>0?c[w]:(s.push(o,d),m(c[1].data[~w],c),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function f(w,E){for(c=E;s.length;)s.pop();return m(w.value,E),y}}const A6=/\ufffd(\d+):?\d*\ufffd/gi,d8=/\ufffd(\d+)\ufffd/,h8=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Gi=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,f8=/\uE500/g;function p8(s,o,c,d,f,m,y){const w=w1(s,d,1,null);let E=w<<Jn.SHIFT,I=ta();o===I&&(I=null),null===I&&(E|=Jn.APPEND_EAGERLY),y&&(E|=Jn.COMMENT,function Q3(s){void 0===P0&&(P0=s())}(u8)),f.push(E,null===m?"":m);const x=cf(s,w,y?32:1,null===m?"":m,null);x9(c,x);const z=x.index;return Ii(x,!1),null!==I&&o!==I&&function ly(s,o){let c=s.insertBeforeIndex;null===c?(j0($f,Gf),c=s.insertBeforeIndex=[null,o]):(function ve(s,o,c){s!=o&&et(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(I,z),x}function Zf(s,o,c,d,f,m,y){const w=y.match(A6),E=p8(s,o,c,m,d,w?null:y,!1);w&&D4(f,y,E.index,null,0,null)}function D4(s,o,c,d,f,m){const y=s.length,w=y+1;s.push(null,null);const E=y+2,I=o.split(A6);let x=0;for(let z=0;z<I.length;z++){const G=I[z];if(1&z){const ne=f+parseInt(G,10);s.push(-1-ne),x|=Kf(ne)}else""!==G&&s.push(G)}return s.push(c<<2|(d?1:0)),d&&s.push(d,m),s[y]=x,s[w]=s.length-E,x}function Kf(s){return 1<<Math.min(s,31)}function Yf(s){let o,m,c="",d=0,f=!1;for(;null!==(o=Gi.exec(s));)f?o[0]===`\ufffd/*${m}\ufffd`&&(d=o.index,f=!1):(c+=s.substring(d,o.index+o[0].length),m=o[1],f=!0);return c+=s.slice(d),c}function F9(s,o,c,d,f,m){let y=0;const w={type:f.type,currentCaseLViewIndex:w1(s,o,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function H9(s,o,c){s.push(Kf(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,f,m),function cy(s,o,c){const d=s.data[o];null===d?s.data[o]=c:d.value=c}(s,m,w);const E=f.values;for(let I=0;I<E.length;I++){const x=E[I],z=[];for(let G=0;G<x.length;G++){const ne=x[G];if("string"!=typeof ne){const ye=z.push(ne)-1;x[G]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}y=E4(s,w,o,c,d,f.cases[I],x.join(""),z)|y}y&&function M4(s,o,c){s.push(o,1,c<<2|3)}(c,y,m)}function py(s){const o=[],c=[];let d=1,f=0;const m=g8(s=s.replace(h8,function(y,w,E){return d="select"===E?0:1,f=parseInt(w.slice(1),10),""}));for(let y=0;y<m.length;){let w=m[y++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const E=g8(m[y++]);o.length>c.length&&c.push(E)}return{type:d,mainBinding:f,cases:o,values:c}}function g8(s){if(!s)return[];let o=0;const c=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(s);){const w=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const E=s.substring(o,w);h8.test(E)?d.push(py(E)):d.push(E),o=w+1}}else{if(0==c.length){const E=s.substring(o,w);d.push(E),o=w+1}c.push("{")}}const y=s.substring(o);return d.push(y),d}function E4(s,o,c,d,f,m,y,w){const E=[],I=[],x=[];o.cases.push(m),o.create.push(E),o.remove.push(I),o.update.push(x);const G=Ca(p()).getInertBodyElement(y),ne=ud(G)||G;return ne?oc(s,o,c,d,E,I,x,ne,f,w,0):0}function oc(s,o,c,d,f,m,y,w,E,I,x){let z=0,G=w.firstChild;for(;G;){const ne=w1(s,c,1,null);switch(G.nodeType){case Node.ELEMENT_NODE:const ye=G,Fe=ye.tagName.toLowerCase();if(Hu.hasOwnProperty(Fe)){v8(f,Dn,Fe,E,ne),s.data[ne]=Fe;const Ne=ye.attributes;for(let kt=0;kt<Ne.length;kt++){const vn=Ne.item(kt),er=vn.name.toLowerCase();vn.value.match(A6)?X7.hasOwnProperty(er)&&D4(y,vn.value,ne,vn.name,0,q0[er]?wa:null):B9(f,ne,vn)}z=oc(s,o,c,d,f,m,y,G,ne,I,x+1)|z,Qf(m,ne,x)}break;case Node.TEXT_NODE:const Ke=G.textContent||"",dt=Ke.match(A6);v8(f,null,dt?"":Ke,E,ne),Qf(m,ne,x),dt&&(z=D4(y,Ke,ne,null,0,null)|z);break;case Node.COMMENT_NODE:const Mt=d8.exec(G.textContent||"");if(Mt){const kt=I[parseInt(Mt[1],10)];v8(f,k1,"",E,ne),F9(s,c,d,E,kt,ne),jl(m,ne,x)}}G=G.nextSibling}return z}function Qf(s,o,c){0===c&&s.push(o)}function jl(s,o,c){0===c&&(s.push(~o),s.push(o))}function v8(s,o,c,d,f){null!==o&&s.push(o),s.push(c,f,function Ln(s,o,c){return s|o<<17|c<<1}(0,d,f))}function B9(s,o,c){s.push(o<<1|1,c.name,c.value)}function j9(s,o,c=-1){const d=Kt(),f=Ie(),m=22+s,y=Vi(d.consts,o),w=ta();d.firstCreatePass&&function P9(s,o,c,d,f,m){const y=ta(),w=[],E=[],I=[[]];f=function m8(s,o){if(function V9(s){return-1===s}(o))return Yf(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Yf(s.substring(c,d))}}(f,m);const x=function N6(s){return s.replace(f8," ")}(f).split(qf);for(let z=0;z<x.length;z++){let G=x[z];if(0==(1&z)){const ne=g8(G);for(let ye=0;ye<ne.length;ye++){let Fe=ne[ye];if(0==(1&ye)){const Ke=Fe;""!==Ke&&Zf(s,y,I[0],w,E,c,Ke)}else{const Ke=Fe;if("object"!=typeof Ke)throw new Error(`Unable to parse ICU expression in "${f}" message.`);F9(s,c,E,o,Ke,p8(s,y,I[0],c,w,"",!0).index)}}}else{const ne=47===G.charCodeAt(0),Fe=(G.charCodeAt(ne?1:0),22+Number.parseInt(G.substring(ne?2:1)));if(ne)I.shift(),Ii(ta(),!1);else{const Ke=b4(s,I[0],Fe);I.unshift([]),Ii(Ke,!0)}}}s.data[d]={create:w,update:E}}(d,null===w?0:w.index,f,m,y,c);const E=d.data[m],x=B0(d,w===f[6]?null:w,f);(function O9(s,o,c,d){const f=s[11];for(let m=0;m<o.length;m++){const y=o[m++],w=o[m],E=(y&Jn.COMMENT)===Jn.COMMENT,I=(y&Jn.APPEND_EAGERLY)===Jn.APPEND_EAGERLY,x=y>>>Jn.SHIFT;let z=s[x];null===z&&(z=s[x]=E?f.createComment(w):V0(f,w)),I&&null!==c&&Oo(f,c,z,d,!1)}})(f,E.create,x,w&&8&w.type?f[w.index]:null),Ga(!0)}function $l(s,o,c){j9(s,o,c),function Jf(){Ga(!1)}()}function b8(s){return function xs(s){s&&(C4|=1<<Math.min(Ta,31)),Ta++}(Pr(Ie(),vo(),s)),b8}function Xf(s){!function bi(s,o,c){if(Ta>0){const d=s.data[c];L9(s,o,Array.isArray(d)?d:d.update,function rs(){return xt.lFrame.bindingIndex}()-Ta-1,C4)}C4=0,Ta=0}(Kt(),Ie(),s+22)}function k6(s,o,c,d,f){if(s=Y(s),Array.isArray(s))for(let m=0;m<s.length;m++)k6(s[m],o,c,d,f);else{const m=Kt(),y=Ie();let w=fl(s)?s:Y(s.provide),E=lp(s);const I=Gn(),x=1048575&I.providerIndexes,z=I.directiveStart,G=I.providerIndexes>>20;if(fl(s)||!s.multi){const ne=new Zs(E,f,C1),ye=sn(w,o,f?x:x+G,z);-1===ye?(Ks(Eo(I,y),m,w),e5(m,s,o.length),o.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(ne),y.push(ne)):(c[ye]=ne,y[ye]=ne)}else{const ne=sn(w,o,x+G,z),ye=sn(w,o,x,x+G),Fe=ne>=0&&c[ne],Ke=ye>=0&&c[ye];if(f&&!Ke||!f&&!Fe){Ks(Eo(I,y),m,w);const dt=function _y(s,o,c,d,f){const m=new Zs(s,c,C1);return m.multi=[],m.index=o,m.componentProviders=0,Tr(m,f,d&&!c),m}(f?W9:G9,c.length,f,d,E);!f&&Ke&&(c[ye].providerFactory=dt),e5(m,s,o.length,0),o.push(w),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),c.push(dt),y.push(dt)}else e5(m,s,ne>-1?ne:ye,Tr(c[f?ye:ne],E,!f&&d));!f&&d&&Ke&&c[ye].componentProviders++}}}function e5(s,o,c,d){const f=fl(o),m=function qv(s){return!!s.useClass}(o);if(f||m){const E=(m?Y(o.useClass):o).prototype.ngOnDestroy;if(E){const I=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const x=I.indexOf(c);-1===x?I.push(c,[d,E]):I[x+1].push(d,E)}else I.push(c,E)}}}function Tr(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function sn(s,o,c,d){for(let f=c;f<d;f++)if(o[f]===s)return f;return-1}function G9(s,o,c,d){return Ia(this.multi,[])}function W9(s,o,c,d){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ds(c,c[1],this.providerFactory.index,d);m=w.slice(0,y),Ia(f,m);for(let E=y;E<w.length;E++)m.push(w[E])}else m=[],Ia(f,m);return m}function Ia(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function Wi(s,o=[]){return c=>{c.providersResolver=(d,f)=>function T4(s,o,c){const d=Kt();if(d.firstCreatePass){const f=Vr(s);k6(c,d.data,d.blueprint,f,!0),k6(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class Gl{}class I4{}function q9(s,o){return new t5(s,o??null)}class t5 extends Gl{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wl(this);const d=Tn(o);this._bootstrapComponents=Da(d.bootstrap),this._r3Injector=b_(o,c,[{provide:Gl,useValue:this},{provide:F2,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Wl extends I4{constructor(o){super(),this.moduleType=o}create(o){return new t5(this.moduleType,o)}}class yy extends Gl{constructor(o,c,d){super(),this.componentFactoryResolver=new wl(this),this.instance=null;const f=new $h([...o,{provide:Gl,useValue:this},{provide:F2,useValue:this.componentFactoryResolver}],c||ju(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function n5(s,o,c=null){return new yy(s,o,c).injector}let qt=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=sp(0,c.type),f=d.length>0?n5([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=an({token:s,providedIn:"environment",factory:()=>new s(Yt(V2))}),s})();function Z9(s){s.getStandaloneInjector=o=>o.get(qt).getOrCreateStandaloneInjector(s)}function o5(s,o,c,d){return function rm(s,o,c,d,f,m){const y=o+c;return Pr(s,y,f)?so(s,y+1,m?d.call(m,f):d(f)):P6(s,y+1)}(Ie(),Wn(),s,o,c,d)}function k4(s,o,c,d,f){return function R4(s,o,c,d,f,m,y){const w=o+c;return Ho(s,w,f,m)?so(s,w+2,y?d.call(y,f,m):d(f,m)):P6(s,w+2)}(Ie(),Wn(),s,o,c,d,f)}function $o(s,o,c,d,f,m){return function C8(s,o,c,d,f,m,y,w){const E=o+c;return function Wd(s,o,c,d,f){const m=Ho(s,o,c,d);return Pr(s,o+2,f)||m}(s,E,f,m,y)?so(s,E+3,w?d.call(w,f,m,y):d(f,m,y)):P6(s,E+3)}(Ie(),Wn(),s,o,c,d,f,m)}function P6(s,o){const c=s[o];return c===Ft?void 0:c}function u5(s){return o=>{setTimeout(s,void 0,o)}}const Go=class am extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let f=o,m=c||(()=>null),y=d;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),m=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(m=u5(m),f&&(f=u5(f)),y&&(y=u5(y)));const w=super.subscribe({next:f,error:m,complete:y});return o instanceof te.w0&&o.add(w),w}};function qi(){return this._results[E1()]()}class d5{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=E1(),d=d5.prototype;d[c]||(d[c]=qi)}get changes(){return this._changes||(this._changes=new Go)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const f=cn(o);(this._changesDetected=!function bn(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=o[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let L4=(()=>{class s{}return s.__NG_ELEMENT_ID__=w8,s})();const Na=L4,cm=class extends Na{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,f=t4(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),r6(d,f,o),new K2(f)}};function w8(){return z6(Gn(),Ie())}function z6(s,o){return 4&s.type?new cm(o,s,H2(s,o)):null}let D8=(()=>{class s{}return s.__NG_ELEMENT_ID__=Iy,s})();function Iy(){return dm(Gn(),Ie())}const Ay=D8,lm=class extends Ay{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return H2(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){const o=w2(this._hostTNode,this._hostLView);if(T0(o)){const c=Ya(o,this._hostLView),d=Mr(o);return new So(c[1].data[d+8],c)}return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=um(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const y=o.createEmbeddedView(c||{},m);return this.insert(y,f),y}createComponent(o,c,d,f,m){const y=o&&!function mi(s){return"function"==typeof s}(o);let w;if(y)w=c;else{const z=c||{};w=z.index,d=z.injector,f=z.projectableNodes,m=z.environmentInjector||z.ngModuleRef}const E=y?o:new l6(J(o)),I=d||this.parentInjector;if(!m&&null==E.ngModule){const G=(y?I:this.parentInjector).get(V2,null);G&&(m=G)}const x=E.create(I,f,void 0,m);return this.insert(x.hostView,w),x}insert(o,c){const d=o._lView,f=d[1];if(function t2(s){return Jr(s[3])}(d)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const z=d[3],G=new lm(z,z[6],z[3]);G.detach(G.indexOf(o))}}const m=this._adjustIndex(c),y=this._lContainer;!function sl(s,o,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=o),d<m-10?(o[4]=c[f],s1(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function kh(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(f,d,y,m);const w=cl(m,y),E=d[11],I=ti(E,y[7]);return null!==I&&function F0(s,o,c,d,f,m){d[0]=f,d[6]=o,va(s,d,c,1,f,m)}(f,y[6],E,d,I,w),o.attachToViewContainerRef(),s1(h5(y),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=um(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Tu(this._lContainer,c);d&&(Bn(h5(this._lContainer),c),rd(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Tu(this._lContainer,c);return d&&null!=Bn(h5(this._lContainer),c)?new K2(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function um(s){return s[8]}function h5(s){return s[8]||(s[8]=[])}function dm(s,o){let c;const d=o[s.index];if(Jr(d))c=d;else{let f;if(8&s.type)f=$n(d);else{const m=o[11];f=m.createComment("");const y=Fr(s,o);Oo(m,ti(m,y),f,function m1(s,o){return s.nextSibling(o)}(m,y),!1)}o[s.index]=c=_f(d,o,f,s),q2(o,c)}return new lm(c,s,o)}class f5{constructor(o){this.queryList=o,this.matches=null}clone(){return new f5(this.queryList)}setDirty(){this.queryList.setDirty()}}class p5{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const y=c.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new p5(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==F6(o,c).matches&&this.queries[c].setDirty()}}class hm{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class m5{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(o,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new m5(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class g5{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new g5(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(o,c,fm(c,m)),this.matchTNodeWithReadOption(o,c,sa(c,o,m,!1,!1))}else d===L4?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,sa(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===pl||f===D8||f===L4&&4&c.type)this.addMatch(c.index,-2);else{const m=sa(c,o,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function fm(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function pm(s,o,c,d){return-1===c?function ky(s,o){return 11&s.type?H2(s,o):4&s.type?z6(s,o):null}(o,s):-2===c?function mm(s,o,c){return c===pl?H2(o,s):c===L4?z6(o,s):c===D8?dm(o,s):void 0}(s,o,d):Ds(s,s[1],c,o)}function gm(s,o,c,d){const f=o[19].queries[d];if(null===f.matches){const m=s.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const I=y[E];w.push(I<0?null:pm(o,m[I],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function V6(s,o,c,d){const f=s.queries.getByIndex(c),m=f.matches;if(null!==m){const y=gm(s,o,f,c);for(let w=0;w<m.length;w+=2){const E=m[w];if(E>0)d.push(y[w/2]);else{const I=m[w+1],x=o[-E];for(let z=10;z<x.length;z++){const G=x[z];G[17]===G[3]&&V6(G[1],G,I,d)}if(null!==x[9]){const z=x[9];for(let G=0;G<z.length;G++){const ne=z[G];V6(ne[1],ne,I,d)}}}}}return d}function Wr(s){const o=Ie(),c=Kt(),d=Vc();qa(d+1);const f=F6(c,d);if(s.dirty&&function e2(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?V6(c,o,d,[]):gm(c,o,f,d);s.reset(m,n_),s.notifyOnChanges()}return!0}return!1}function E8(s,o,c){const d=Kt();d.firstCreatePass&&(vm(d,new hm(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),v5(d,Ie(),o)}function M8(s,o,c,d){const f=Kt();if(f.firstCreatePass){const m=Gn();vm(f,new hm(o,c,d),m.index),function _m(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}v5(f,Ie(),c)}function S8(){return function ac(s,o){return s[19].queries[o].queryList}(Ie(),Vc())}function v5(s,o,c){const d=new d5(4==(4&c));bl(s,o,d,d.destroy),null===o[19]&&(o[19]=new p5),o[19].queries.push(new f5(d))}function vm(s,o,c){null===s.queries&&(s.queries=new m5),s.queries.track(new g5(o,c))}function F6(s,o){return s.queries.getByIndex(o)}function cc(s,o){return z6(s,o)}function k8(...s){}const N5=new Nn("Application Initializer");let R8=(()=>{class s{constructor(c){this.appInits=c,this.resolve=k8,this.reject=k8,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(f4(m))c.push(m);else if(xf(m)){const y=new Promise((w,E)=>{m.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Yt(N5,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const x5=new Nn("AppId",{providedIn:"root",factory:function Nm(){return`${P1()}${P1()}${P1()}`}});function P1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const H4=new Nn("Platform Initializer"),xm=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),k5=new Nn("appBootstrapListener"),km=new Nn("AnimationModuleType");let By=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const B4=new Nn("LocaleId",{providedIn:"root",factory:()=>M(B4,tt.Optional|tt.SkipSelf)||function Uy(){return typeof $localize<"u"&&$localize.locale||Hl}()}),si=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jy{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let Rm=(()=>{class s{compileModuleSync(c){return new Wl(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=Da(Tn(c).declarations).reduce((y,w)=>{const E=J(w);return E&&y.push(new l6(E)),y},[]);return new jy(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const L8=(()=>Promise.resolve(0))();function Z6(s){typeof Zone>"u"?L8.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ks{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Go(!1),this.onMicrotaskEmpty=new Go(!1),this.onStable=new Go(!1),this.onError=new Go(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function L5(){let s=fn.requestAnimationFrame,o=fn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function P5(s){const o=()=>{!function Lm(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(fn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,z5(s),s.isCheckStableRunning=!0,P8(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),z5(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,y,w)=>{try{return V5(s),c.invokeTask(f,m,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Pm(s)}},onInvoke:(c,d,f,m,y,w,E)=>{try{return V5(s),c.invoke(f,m,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Pm(s)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,z5(s),P8(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ks.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(ks.isInAngularZone())throw new De(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,o,Wy,k8,k8);try{return m.runTask(y,c,d)}finally{m.cancelTask(y)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const Wy={};function P8(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function z5(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function V5(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Pm(s){s._nesting--,P8(s)}class zm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Go,this.onMicrotaskEmpty=new Go,this.onStable=new Go,this.onError=new Go}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,f){return o.apply(c,d)}}const Vm=new Nn(""),Yl=new Nn("");let F8,U4=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F8||(function V8(s){F8=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ks.assertNotInAngularZone(),Z6(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Z6(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(Yt(ks),Yt(z8),Yt(Yl))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),z8=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return F8?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),z1=null;const F5=new Nn("AllowMultipleToken"),H5=new Nn("PlatformDestroyListeners");class Bm{constructor(o,c){this.name=o,this.token=c}}function B8(s,o,c=[]){const d=`Platform: ${o}`,f=new Nn(d);return(m=[])=>{let y=$5();if(!y||y.injector.get(F5,!1)){const w=[...c,...m,{provide:f,useValue:!0}];s?s(w):function B5(s){if(z1&&!z1.get(F5,!1))throw new De(400,!1);z1=s;const o=s.get(G5);(function j4(s){const o=s.get(H4,null);o&&o.forEach(c=>c())})(s)}(function U8(s=[],o){return gl.create({name:o,providers:[{provide:jh,useValue:"platform"},{provide:H5,useValue:new Set([()=>z1=null])},...s]})}(w,d))}return function j5(s){const o=$5();if(!o)throw new De(401,!1);return o}()}}function $5(){return z1?.get(G5)??null}let G5=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function jm(s,o){let c;return c="noop"===s?new zm:("zone.js"===s?void 0:s)||new ks(o),c}(d?.ngZone,function Um(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:ks,useValue:f}];return f.run(()=>{const y=gl.create({providers:m,parent:this.injector,name:c.moduleType.name}),w=c.create(y),E=w.injector.get(ml,null);if(!E)throw new De(402,!1);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:x=>{E.handleError(x)}});w.onDestroy(()=>{hc(this._modules,w),I.unsubscribe()})}),function $m(s,o,c){try{const d=c();return f4(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const I=w.injector.get(R8);return I.runInitializers(),I.donePromise.then(()=>(jf(w.injector.get(B4,Hl)||Hl),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=W5({},d);return function qy(s,o,c){const d=new Wl(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(Ql);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new De(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(H5,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Yt(gl))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function W5(s,o){return Array.isArray(o)?o.reduce(W5,s):{...s,...o}}let Ql=(()=>{class s{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new P.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{ks.assertNotInAngularZone(),Z6(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),I.unsubscribe()}});this.isStable=(0,ae.T)(m,y.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof Xv;if(!this._injector.get(R8).done)throw!f&&nn(c),new De(405,false);let y;y=f?c:this._injector.get(F2).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function Hm(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Gl),I=y.create(gl.NULL,[],d||y.selector,w),x=I.location.nativeElement,z=I.injector.get(Vm,null);return z?.registerApplication(x),I.onDestroy(()=>{this.detachView(I.hostView),hc(this.components,I),z?.unregisterApplication(x)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;hc(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(k5,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>hc(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new De(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Yt(ks),Yt(V2),Yt(ml))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function hc(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let Wm=!0,qm=!1;function Ky(){return qm=!0,Wm}function Yy(){if(qm)throw new Error("Cannot enable prod mode after platform setup.");Wm=!1}let K6=(()=>{class s{}return s.__NG_ELEMENT_ID__=q5,s})();function q5(s){return function $4(s,o,c){if(Fa(s)&&!c){const d=en(s.index,o);return new K2(d,d)}return 47&s.type?new K2(o[16],o):null}(Gn(),Ie(),16==(16&s))}class J5{constructor(){}supports(o){return h6(o)}create(o){return new Jy(o)}}const ng=(s,o)=>o;class Jy{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ng}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const y=!d||c&&c.currentIndex<rg(d,f,m)?c:d,w=rg(y,f,m),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{m||(m=[]);const I=w-f,x=E-f;if(I!=x){for(let G=0;G<I;G++){const ne=G<m.length?m[G]:m[G]=0,ye=ne+G;x<=ye&&ye<I&&(m[G]=ne+1)}m[y.previousIndex]=x-I}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!h6(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,m,y,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],y=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,m,y,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,w),d=!0),c=c._next}else f=0,function $d(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[E1()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,f){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,f)):o=this._addAfter(new X5(c,d),m,f),o}_verifyReinsertion(o,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,m=o._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new G8),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G8),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class X5{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xy{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class G8{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new Xy,this.map.set(c,d)),d.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rg(s,o,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+o+f}class W8{constructor(){}supports(o){return o instanceof Map||Ml(o)}create(){return new eb}}class eb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Ml(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const d=new e7(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class e7{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function t7(){return new e3([new J5])}let e3=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||t7()),deps:[[s,new ft,new $e]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new De(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:t7}),s})();function q8(){return new fc([new W8])}let fc=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||q8()),deps:[[s,new ft,new $e]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new De(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:q8}),s})();const sg=B8(null,"core",[]);let q4=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Yt(Ql))},s.\u0275mod=jt({type:s}),s.\u0275inj=zt({}),s})();function tb(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function hg(s,o){const c=J(s),d=o.elementInjector||ju();return new l6(c).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(gt,Te,O)=>{O.d(Te,{Z:()=>De});var u=O(2090),te=O(4859),P=O(9681),ae=O(1877);class ce{constructor(_e,me){this._delegate=_e,this.firebase=me,(0,P._addComponent)(_e,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(_e,me=P._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(_e);return!ht.isInitialized()&&"EXPLICIT"===(null===(st=ht.getComponent())||void 0===st?void 0:st.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:me})}_removeServiceInstance(_e,me=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(me)}_addComponent(_e){(0,P._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,P._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function pe(){const lt=function fe(lt){const _e={},me={__esModule:!0,initializeApp:function xe(qe,B={}){const ve=P.initializeApp(qe,B);if((0,u.r3)(_e,ve.name))return _e[ve.name];const Z=new lt(ve,me);return _e[ve.name]=Z,Z},app:ht,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ee(qe){const B=qe.name,ve=B.replace("-compat","");if(P._registerComponent(qe)&&"PUBLIC"===qe.type){const Z=(ee=ht())=>{if("function"!=typeof ee[ve])throw ue.create("invalid-app-argument",{appName:B});return ee[ve]()};void 0!==qe.serviceProps&&(0,u.ZB)(Z,qe.serviceProps),me[ve]=Z,lt.prototype[ve]=function(...ee){return this._getService.bind(this,B).apply(this,qe.multipleInstances?ee:[])}}return"PUBLIC"===qe.type?me[ve]:null},removeApp:function st(qe){delete _e[qe]},useAsService:function We(qe,B){return"serverAuth"===B?null:B},modularAPIs:P}};function ht(qe){if(!(0,u.r3)(_e,qe=qe||P._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:qe});return _e[qe]}return me.default=me,Object.defineProperty(me,"apps",{get:function Ce(){return Object.keys(_e).map(qe=>_e[qe])}}),ht.App=lt,me}(ce);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function _e(me){(0,u.ZB)(lt,me)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),lt}(),j=new ae.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=U;!function Oe(lt){(0,P.registerVersion)("@firebase/app-compat","0.2.0",lt)}()},9681:(gt,Te,O)=>{O.r(Te),O.d(Te,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>co,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>tn,_addOrOverwriteComponent:()=>an,_apps:()=>_n,_clearComponents:()=>ms,_components:()=>kn,_getProvider:()=>zt,_registerComponent:()=>Kr,_removeServiceInstance:()=>Mn,deleteApp:()=>Pa,getApp:()=>Di,getApps:()=>Ei,initializeApp:()=>Pi,onLog:()=>Fs,registerVersion:()=>zr,setLogLevel:()=>ur});var u=O(5861),te=O(4859),P=O(1877),ae=O(2090),ce=O(8766);class he{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function ue(at){return"VERSION"===at.getComponent()?.type}(ot)){const Nt=ot.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(ot=>ot).join(" ")}}const fe="@firebase/app",U=new P.Yd("@firebase/app"),Wt="[DEFAULT]",et={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,kn=new Map;function tn(at,Se){try{at.container.addComponent(Se)}catch(ot){U.debug(`Component ${Se.name} failed to register with FirebaseApp ${at.name}`,ot)}}function an(at,Se){at.container.addOrOverwriteComponent(Se)}function Kr(at){const Se=at.name;if(kn.has(Se))return U.debug(`There were multiple attempts to register component ${Se}.`),!1;kn.set(Se,at);for(const ot of _n.values())tn(ot,at);return!0}function zt(at,Se){const ot=at.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),at.container.getProvider(Se)}function Mn(at,Se,ot=Wt){zt(at,Se).clearInstance(ot)}function ms(){kn.clear()}const Yr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class li{constructor(Se,ot,Nt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const co="9.15.0";function Pi(at,Se={}){let ot=at;"object"!=typeof Se&&(Se={name:Se});const Nt=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},Se),Ot=Nt.name;if("string"!=typeof Ot||!Ot)throw Yr.create("bad-app-name",{appName:String(Ot)});if(ot||(ot=(0,ae.aH)()),!ot)throw Yr.create("no-options");const jt=_n.get(Ot);if(jt){if((0,ae.vZ)(ot,jt.options)&&(0,ae.vZ)(Nt,jt.config))return jt;throw Yr.create("duplicate-app",{appName:Ot})}const $=new te.H0(Ot);for(const K of kn.values())$.addComponent(K);const H=new li(ot,Nt,$);return _n.set(Ot,H),H}function Di(at=Wt){const Se=_n.get(at);if(!Se&&at===Wt)return Pi();if(!Se)throw Yr.create("no-app",{appName:at});return Se}function Ei(){return Array.from(_n.values())}function Pa(at){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(at){const Se=at.name;_n.has(Se)&&(_n.delete(Se),yield Promise.all(at.container.getProviders().map(ot=>ot.delete())),at.isDeleted=!0)})).apply(this,arguments)}function zr(at,Se,ot){var Nt;let Ot=null!==(Nt=et[at])&&void 0!==Nt?Nt:at;ot&&(Ot+=`-${ot}`);const jt=Ot.match(/\s|\//),$=Se.match(/\s|\//);if(jt||$){const H=[`Unable to register library "${Ot}" with version "${Se}":`];return jt&&H.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),jt&&$&&H.push("and"),$&&H.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void U.warn(H.join(" "))}Kr(new te.wA(`${Ot}-version`,()=>({library:Ot,version:Se}),"VERSION"))}function Fs(at,Se){if(null!==at&&"function"!=typeof at)throw Yr.create("invalid-log-argument");(0,P.Am)(at,Se)}function ur(at){(0,P.Ub)(at)}const Zn="firebase-heartbeat-store";let tr=null;function In(){return tr||(tr=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(at,Se)=>{0===Se&&at.createObjectStore(Zn)}}).catch(at=>{throw Yr.create("idb-open",{originalErrorMessage:at.message})})),tr}function vt(){return(vt=(0,u.Z)(function*(at){try{return(yield In()).transaction(Zn).objectStore(Zn).get(nr(at))}catch(Se){if(Se instanceof ae.ZR)U.warn(Se.message);else{const ot=Yr.create("idb-get",{originalErrorMessage:Se?.message});U.warn(ot.message)}}})).apply(this,arguments)}function fn(at,Se){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(at,Se){try{const Nt=(yield In()).transaction(Zn,"readwrite");return yield Nt.objectStore(Zn).put(Se,nr(at)),Nt.done}catch(ot){if(ot instanceof ae.ZR)U.warn(ot.message);else{const Nt=Yr.create("idb-set",{originalErrorMessage:ot?.message});U.warn(Nt.message)}}})).apply(this,arguments)}function nr(at){return`${at.name}!${at.options.appId}`}class Hs{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new un(ot),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var Se=this;return(0,u.Z)(function*(){const Nt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=ln();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!Se._heartbeatsCache.heartbeats.some(jt=>jt.date===Ot))return Se._heartbeatsCache.heartbeats.push({date:Ot,agent:Nt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(jt=>{const $=new Date(jt.date).valueOf();return Date.now()-$<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,u.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ot=ln(),{heartbeatsToSend:Nt,unsentEntries:Ot}=function Xi(at,Se=1024){const ot=[];let Nt=at.slice();for(const Ot of at){const jt=ot.find($=>$.agent===Ot.agent);if(jt){if(jt.dates.push(Ot.date),dr(ot)>Se){jt.dates.pop();break}}else if(ot.push({agent:Ot.agent,dates:[Ot.date]}),dr(ot)>Se){ot.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Nt}}(Se._heartbeatsCache.heartbeats),jt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Nt}));return Se._heartbeatsCache.lastSentHeartbeatDate=ot,Ot.length>0?(Se._heartbeatsCache.heartbeats=Ot,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),jt})()}}function ln(){return(new Date).toISOString().substring(0,10)}class un{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,u.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Dt(at){return vt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ot=this;return(0,u.Z)(function*(){var Nt;if(yield ot._canUseIndexedDBPromise){const jt=yield ot.read();return fn(ot.app,{lastSentHeartbeatDate:null!==(Nt=Se.lastSentHeartbeatDate)&&void 0!==Nt?Nt:jt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ot=this;return(0,u.Z)(function*(){var Nt;if(yield ot._canUseIndexedDBPromise){const jt=yield ot.read();return fn(ot.app,{lastSentHeartbeatDate:null!==(Nt=Se.lastSentHeartbeatDate)&&void 0!==Nt?Nt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Se.heartbeats]})}})()}}function dr(at){return(0,ae.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Qr(at){Kr(new te.wA("platform-logger",Se=>new he(Se),"PRIVATE")),Kr(new te.wA("heartbeat",Se=>new Hs(Se),"PRIVATE")),zr(fe,"0.9.0",at),zr(fe,"0.9.0","esm2017"),zr("fire-js","")}("")},4859:(gt,Te,O)=>{O.d(Te,{H0:()=>fe,wA:()=>P});var u=O(5861),te=O(2090);class P{constructor(U,j,Y){this.name=U,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class ce{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const Y=new te.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:j});Ue&&Y.resolve(Ue)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const Y=this.normalizeInstanceIdentifier(U?.identifier),Ue=null!==(j=U?.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Oe){if(Ue)return null;throw Oe}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ue(pe){return"EAGER"===pe.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[j,Y]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(j);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ue});Y.resolve(Oe)}catch{}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,u.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,Y=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[Oe,De]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Oe)&&De.resolve(Ue);return Ue}onInit(U,j){var Y;const Ue=this.normalizeInstanceIdentifier(j),Oe=null!==(Y=this.onInitCallbacks.get(Ue))&&void 0!==Y?Y:new Set;Oe.add(U),this.onInitCallbacks.set(Ue,Oe);const De=this.instances.get(Ue);return De&&U(De,Ue),()=>{Oe.delete(U)}}invokeOnInitCallbacks(U,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Ue of Y)try{Ue(U,j)}catch{}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let Y=this.instances.get(U);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=U,pe===ae?void 0:pe),options:j}),this.instances.set(U,Y),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(Y,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Y)}catch{}var pe;return Y||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new ce(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,Te,O)=>{O.d(Te,{Am:()=>pe,Ub:()=>fe,Yd:()=>ue,in:()=>te});const u=[];var te=(()=>{return(U=te||(te={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",te;var U})();const P={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ae=te.INFO,ce={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=(U,j,...Y)=>{if(j<U.logLevel)return;const Ue=(new Date).toISOString(),Oe=ce[j];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Oe](`[${Ue}]  ${U.name}:`,...Y)};class ue{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in te))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...j),this._logHandler(this,te.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...j),this._logHandler(this,te.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,te.INFO,...j),this._logHandler(this,te.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,te.WARN,...j),this._logHandler(this,te.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...j),this._logHandler(this,te.ERROR,...j)}}function fe(U){u.forEach(j=>{j.setLogLevel(U)})}function pe(U,j){for(const Y of u){let Ue=null;j&&j.level&&(Ue=P[j.level]),Y.userLogHandler=null===U?null:(Oe,De,...lt)=>{const _e=lt.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");De>=(Ue??Oe.logLevel)&&U({level:te[De].toLowerCase(),message:_e,args:lt,type:Oe.name})}}}},259:(gt,Te,O)=>{O.d(Te,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=O(9681);(0,u.registerVersion)("firebase","9.15.0","app")},9260:(gt,Te,O)=>{O.d(Te,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(gt,Te,O)=>{O.r(Te);var u=O(5861),te=O(3942),P=O(2090),ae=O(9681),ce=O(1877),he=O(655),ue=O(4859);const De=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ce.Yd("@firebase/auth");function ht(_,...p){st.logLevel<=ce.in.ERROR&&st.error(`Auth (${ae.SDK_VERSION}): ${_}`,...p)}function xe(_,...p){throw qe(_,...p)}function Ce(_,...p){return qe(_,...p)}function Ee(_,p,v){const C=Object.assign(Object.assign({},lt()),{[p]:v});return new P.LL("auth","Firebase",C).create(p,{appName:_.name})}function We(_,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&xe(_,"argument-error"),Ee(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(_,...p){if("string"!=typeof _){const v=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=_.name),_._errorFactory.create(v,...C)}return _e.create(_,...p)}function B(_,p,...v){if(!_)throw qe(p,...v)}function ve(_){const p="INTERNAL ASSERTION FAILED: "+_;throw ht(p),new Error(p)}function Z(_,p){_||ve(p)}const ee=new Map;function oe(_){Z(_ instanceof Function,"Expected a class definition");let p=ee.get(_);return p?(Z(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,ee.set(_,p),p)}function Pe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function yt(){return"http:"===on()||"https:"===on()}function on(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class _n{constructor(p,v){this.shortDelay=p,this.longDelay=v,Z(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kn(_,p){Z(_.emulator,"Emulator should always be set here");const{url:v}=_.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class tn{static initialize(p,v,C){this.fetchImpl=p,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kr=new _n(3e4,6e4);function zt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function Mn(_,p,v,C){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(_,p,v,C,A={}){return Li(_,A,(0,u.Z)(function*(){let R={},q={};C&&("GET"===p?q=C:R={body:JSON.stringify(C)});const de=(0,P.xO)(Object.assign({key:_.config.apiKey},q)).slice(1),Ge=yield _._getAdditionalHeaders();return Ge["Content-Type"]="application/json",_.languageCode&&(Ge["X-Firebase-Locale"]=_.languageCode),tn.fetch()(Pi(_,_.config.apiHost,v,de),Object.assign({method:p,headers:Ge,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Li(_,p,v){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(_,p,v){_._canInitEmulator=!1;const C=Object.assign(Object.assign({},an),p);try{const A=new Di(_),R=yield Promise.race([v(),A.promise]);A.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw Ei(_,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const de=R.ok?q.errorMessage:q.error.message,[Ge,it]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw Ei(_,"credential-already-in-use",q);if("EMAIL_EXISTS"===Ge)throw Ei(_,"email-already-in-use",q);if("USER_DISABLED"===Ge)throw Ei(_,"user-disabled",q);const Tt=C[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw Ee(_,Tt,it);xe(_,Tt)}}catch(A){if(A instanceof P.ZR)throw A;xe(_,"network-request-failed")}})).apply(this,arguments)}function li(_,p,v,C){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(_,p,v,C,A={}){const R=yield Mn(_,p,v,C,A);return"mfaPendingCredential"in R&&xe(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Pi(_,p,v,C){const A=`${p}${v}?${C}`;return _.config.emulator?kn(_.config,A):`${_.config.apiScheme}://${A}`}class Di{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ce(this.auth,"network-request-failed")),Kr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ei(_,p,v){const C={appName:_.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const A=Ce(_,p,C);return A.customData._tokenResponse=v,A}function tt(){return(tt=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function zr(_,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ur(_,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ji(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function In(){return(In=(0,u.Z)(function*(_,p=!1){const v=(0,P.m9)(_),C=yield v.getIdToken(p),A=vt(C);B(A&&A.exp&&A.auth_time&&A.iat,v.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,q=R?.sign_in_provider;return{claims:A,token:C,authTime:Ji(Dt(A.auth_time)),issuedAtTime:Ji(Dt(A.iat)),expirationTime:Ji(Dt(A.exp)),signInProvider:q||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Dt(_){return 1e3*Number(_)}function vt(_){const[p,v,C]=_.split(".");if(void 0===p||void 0===v||void 0===C)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,P.tV)(v);return A?JSON.parse(A):(ht("Failed to decode base64 JWT payload"),null)}catch(A){return ht("Caught error parsing JWT payload as JSON",A?.toString()),null}}function kr(_,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(_,p,v=!1){if(v)return p;try{return yield p}catch(C){throw C instanceof P.ZR&&ui(C)&&_.auth.currentUser===_&&(yield _.auth.signOut()),C}})).apply(this,arguments)}function ui({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Rt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),C)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&p.schedule(!0))}p.schedule()})()}}class Hs{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ln(_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(_){var p;const v=_.auth,C=yield _.getIdToken(),A=yield kr(_,ur(v,{idToken:C}));B(A?.users.length,v,"internal-error");const R=A.users[0];_._notifyReloadListener(R);const q=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?at(R.providerUserInfo):[],de=Qr(_.providerData,q),Tt=!!_.isAnonymous&&!(_.email&&R.passwordHash||de?.length),wt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:de,metadata:new Hs(R.createdAt,R.lastLoginAt),isAnonymous:Tt};Object.assign(_,wt)})).apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(_){const p=(0,P.m9)(_);yield ln(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Qr(_,p){return[..._.filter(C=>!p.some(A=>A.providerId===C.providerId)),...p]}function at(_){return _.map(p=>{var{providerId:v}=p,C=(0,he._T)(p,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ot(){return(ot=(0,u.Z)(function*(_,p){const v=yield Li(_,{},(0,u.Z)(function*(){const C=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:R}=_.config,q=Pi(_,A,"/v1/token",`key=${R}`),de=yield _._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(q,{method:"POST",headers:de,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){B(p.idToken,"internal-error"),B(typeof p.idToken<"u","internal-error"),B(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fn(_){const p=vt(_);return B(p,"internal-error"),B(typeof p.exp<"u","internal-error"),B(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}getToken(p,v=!1){var C=this;return(0,u.Z)(function*(){return B(!C.accessToken||C.refreshToken,p,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var C=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:q}=yield function Se(_,p){return ot.apply(this,arguments)}(p,v);C.updateTokensAndExpiration(A,R,Number(q))})()}updateTokensAndExpiration(p,v,C){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,v){const{refreshToken:C,accessToken:A,expirationTime:R}=v,q=new Nt;return C&&(B("string"==typeof C,"internal-error",{appName:p}),q.refreshToken=C),A&&(B("string"==typeof A,"internal-error",{appName:p}),q.accessToken=A),R&&(B("number"==typeof R,"internal-error",{appName:p}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Ot(_,p){B("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class jt{constructor(p){var{uid:v,auth:C,stsTokenManager:A}=p,R=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Hs(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,u.Z)(function*(){const C=yield kr(v,v.stsTokenManager.getToken(v.auth,p));return B(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(p){return function tr(_){return In.apply(this,arguments)}(this,p)}reload(){return function un(_){return dr.apply(this,arguments)}(this)}_assign(p){this!==p&&(B(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new jt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var C=this;return(0,u.Z)(function*(){let A=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),A=!0),v&&(yield ln(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,u.Z)(function*(){const v=yield p.getIdToken();return yield kr(p,function Pa(_,p){return tt.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var C,A,R,q,de,Ge,it,Tt;const wt=null!==(C=v.displayName)&&void 0!==C?C:void 0,Cn=null!==(A=v.email)&&void 0!==A?A:void 0,_r=null!==(R=v.phoneNumber)&&void 0!==R?R:void 0,ji=null!==(q=v.photoURL)&&void 0!==q?q:void 0,od=null!==(de=v.tenantId)&&void 0!==de?de:void 0,Pu=null!==(Ge=v._redirectEventId)&&void 0!==Ge?Ge:void 0,zu=null!==(it=v.createdAt)&&void 0!==it?it:void 0,hl=null!==(Tt=v.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Vu,emailVerified:ad,isAnonymous:Ca,providerData:g1,stsTokenManager:cd}=v;B(Vu&&cd,p,"internal-error");const Lh=Nt.fromJSON(this.name,cd);B("string"==typeof Vu,p,"internal-error"),Ot(wt,p.name),Ot(Cn,p.name),B("boolean"==typeof ad,p,"internal-error"),B("boolean"==typeof Ca,p,"internal-error"),Ot(_r,p.name),Ot(ji,p.name),Ot(od,p.name),Ot(Pu,p.name),Ot(zu,p.name),Ot(hl,p.name);const v1=new jt({uid:Vu,auth:p,email:Cn,emailVerified:ad,displayName:wt,isAnonymous:Ca,photoURL:ji,phoneNumber:_r,tenantId:od,stsTokenManager:Lh,createdAt:zu,lastLoginAt:hl});return g1&&Array.isArray(g1)&&(v1.providerData=g1.map(wa=>Object.assign({},wa))),Pu&&(v1._redirectEventId=Pu),v1}static _fromIdTokenResponse(p,v,C=!1){return(0,u.Z)(function*(){const A=new Nt;A.updateFromServerResponse(v);const R=new jt({uid:v.localId,auth:p,stsTokenManager:A,isAnonymous:C});return yield ln(R),R})()}}const H=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,C){var A=this;return(0,u.Z)(function*(){A.storage[v]=C})()}_get(v){var C=this;return(0,u.Z)(function*(){const A=C.storage[v];return void 0===A?null:A})()}_remove(v){var C=this;return(0,u.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return _.type="NONE",_})();function K(_,p,v){return`firebase:${_}:${p}:${v}`}class we{constructor(p,v,C){this.persistence=p,this.auth=v,this.userKey=C;const{config:A,name:R}=this.auth;this.fullUserKey=K(this.userKey,A.apiKey,R),this.fullPersistenceKey=K("persistence",A.apiKey,R),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?jt._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,u.Z)(function*(){if(v.persistence===p)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,C="authUser"){return(0,u.Z)(function*(){if(!v.length)return new we(oe(H),p,C);const A=(yield Promise.all(v.map(function(){var it=(0,u.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return it.apply(this,arguments)}}()))).filter(it=>it);let R=A[0]||oe(H);const q=K(C,p.config.apiKey,p.name);let de=null;for(const it of v)try{const Tt=yield it._get(q);if(Tt){const wt=jt._fromJSON(p,Tt);it!==R&&(de=wt),R=it;break}}catch{}const Ge=A.filter(it=>it._shouldAllowMigration);return R._shouldAllowMigration&&Ge.length?(R=Ge[0],de&&(yield R._set(q,de.toJSON())),yield Promise.all(v.map(function(){var it=(0,u.Z)(function*(Tt){if(Tt!==R)try{yield Tt._remove(q)}catch{}});return function(Tt){return it.apply(this,arguments)}}())),new we(R,p,C)):new we(R,p,C)})()}}function J(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Tn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ye(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(je(p))return"Blackberry";if(Ze(p))return"Webos";if(bt(p))return"Safari";if((p.includes("chrome/")||nn(p))&&!p.includes("edge/"))return"Chrome";if(Xt(p))return"Android";{const C=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ye(_=(0,P.z$)()){return/firefox\//i.test(_)}function bt(_=(0,P.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function nn(_=(0,P.z$)()){return/crios\//i.test(_)}function Tn(_=(0,P.z$)()){return/iemobile/i.test(_)}function Xt(_=(0,P.z$)()){return/android/i.test(_)}function je(_=(0,P.z$)()){return/blackberry/i.test(_)}function Ze(_=(0,P.z$)()){return/webos/i.test(_)}function $t(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function lo(_=(0,P.z$)()){return $t(_)||Xt(_)||Ze(_)||je(_)||/windows phone/i.test(_)||Tn(_)}function Bs(_,p=[]){let v;switch(_){case"Browser":v=J((0,P.z$)());break;case"Worker":v=`${J((0,P.z$)())}-${_}`;break;default:v=_}const C=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${ae.SDK_VERSION}/${C}`}class Xo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const C=R=>new Promise((q,de)=>{try{q(p(R))}catch(Ge){de(Ge)}});C.onAbort=v,this.queue.push(C);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,u.Z)(function*(){if(v.auth.currentUser===p)return;const C=[];try{for(const A of v.queue)yield A(p),A.onAbort&&C.push(A.onAbort)}catch(A){C.reverse();for(const R of C)try{R()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Vt{constructor(p,v,C){this.app=p,this.heartbeatServiceProvider=v,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uo(this),this.idTokenSubscription=new uo(this),this.beforeStateQueue=new Xo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,v){var C=this;return v&&(this._popupRedirectResolver=oe(v)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,R;if(!C._deleted&&(C.persistenceManager=yield we.create(C,p),!C._deleted)){if(null!==(A=C._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(R=C.currentUser)||void 0===R?void 0:R.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUser(p){var v=this;return(0,u.Z)(function*(){var C;const A=yield v.assertedPersistence.getCurrentUser();let R=A,q=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const de=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,Ge=R?._redirectEventId,it=yield v.tryRedirectSignIn(p);(!de||de===Ge)&&it?.user&&(R=it.user,q=!0)}if(!R)return v.directlySetCurrentUser(null);if(!R._redirectEventId){if(q)try{yield v.beforeStateQueue.runMiddleware(R)}catch(de){R=A,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(de))}return R?v.reloadAndSetCurrentUserOrClear(R):v.directlySetCurrentUser(null)}return B(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===R._redirectEventId?v.directlySetCurrentUser(R):v.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var v=this;return(0,u.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,u.Z)(function*(){try{yield ln(p)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function et(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,u.Z)(function*(){const C=p?(0,P.m9)(p):null;return C&&B(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(p,v=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return p&&B(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var v=this;return this.queue((0,u.Z)(function*(){yield v.assertedPersistence.setPersistence(oe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,v,C){return this.registerStateListener(this.authStateSubscription,p,v,C)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,C){return this.registerStateListener(this.idTokenSubscription,p,v,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var C=this;return(0,u.Z)(function*(){const A=yield C.getOrInitRedirectPersistenceManager(v);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,u.Z)(function*(){if(!v.redirectPersistenceManager){const C=p&&oe(p)||v._popupRedirectResolver;B(C,v,"argument-error"),v.redirectPersistenceManager=yield we.create(v,[oe(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,u.Z)(function*(){var C,A;return v._isInitialized&&(yield v.queue((0,u.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===p?v._currentUser:(null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,u.Z)(function*(){if(p===v.currentUser)return v.queue((0,u.Z)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,C,A){if(this._deleted)return()=>{};const R="function"==typeof v?v:v.next.bind(v),q=this._isInitialized?Promise.resolve():this._initializationPromise;return B(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof v?p.addObserver(v,C,A):p.addObserver(v)}directlySetCurrentUser(p){var v=this;return(0,u.Z)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var v;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return A&&(C["X-Firebase-Client"]=A),C})()}}function zn(_){return(0,P.m9)(_)}class uo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(v=>this.observer=v)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function es(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Us(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Rr{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return ve("not implemented")}_getIdTokenResponse(p){return ve("not implemented")}_linkToIdToken(p,v){return ve("not implemented")}_getReauthenticationResolver(p){return ve("not implemented")}}function ir(_,p){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:resetPassword",zt(_,p))})).apply(this,arguments)}function pn(_,p){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Sc(_,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:update",zt(_,p))})).apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signInWithPassword",zt(_,p))})).apply(this,arguments)}function $s(_,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:sendOobCode",zt(_,p))})).apply(this,arguments)}function jn(_,p){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,u.Z)(function*(_,p){return $s(_,p)})).apply(this,arguments)}function Er(_,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,u.Z)(function*(_,p){return $s(_,p)})).apply(this,arguments)}function Z1(_,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(_,p){return $s(_,p)})).apply(this,arguments)}function Ic(_,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(_,p){return $s(_,p)})).apply(this,arguments)}function d0(){return(d0=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signInWithEmailLink",zt(_,p))})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signInWithEmailLink",zt(_,p))})).apply(this,arguments)}class Ac extends Rr{constructor(p,v,C,A=null){super("password",C),this._email=p,this._password=v,this._tenantId=A}static _fromEmailAndPassword(p,v){return new Ac(p,v,"password")}static _fromEmailAndCode(p,v,C=null){return new Ac(p,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return function Va(_,p){return ts.apply(this,arguments)}(p,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function au(_,p){return d0.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:xe(p,"internal-error")}})()}_linkToIdToken(p,v){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return pn(p,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function h0(_,p){return fo.apply(this,arguments)}(p,{idToken:v,email:C._email,oobCode:C._password});default:xe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function fr(_,p){return f0.apply(this,arguments)}function f0(){return(f0=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signInWithIdp",zt(_,p))})).apply(this,arguments)}class gs extends Rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new gs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):xe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A}=v,R=(0,he._T)(v,["providerId","signInMethod"]);if(!C||!A)return null;const q=new gs(C,A);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(p){return fr(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,fr(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,fr(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,P.xO)(v)}return p}}function R3(_,p){return p0.apply(this,arguments)}function p0(){return(p0=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:sendVerificationCode",zt(_,p))})).apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,p))})).apply(this,arguments)}function m0(){return(m0=(0,u.Z)(function*(_,p){const v=yield li(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,p));if(v.temporaryProof)throw Ei(_,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const L3={USER_NOT_FOUND:"user-not-found"};function g0(){return(g0=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signInWithPhoneNumber",zt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),L3)})).apply(this,arguments)}class Ws extends Rr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new Ws({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new Ws({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function Nc(_,p){return Gs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function O3(_,p){return m0.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function P3(_,p){return g0.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:C,verificationCode:A}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:C,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:C,phoneNumber:A,temporaryProof:R}=p;return C||v||A||R?new Ws({verificationId:v,verificationCode:C,phoneNumber:A,temporaryProof:R}):null}}class K1{constructor(p){var v,C,A,R,q,de;const Ge=(0,P.zd)((0,P.pd)(p)),it=null!==(v=Ge.apiKey)&&void 0!==v?v:null,Tt=null!==(C=Ge.oobCode)&&void 0!==C?C:null,wt=function v0(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ge.mode)&&void 0!==A?A:null);B(it&&Tt&&wt,"argument-error"),this.apiKey=it,this.operation=wt,this.code=Tt,this.continueUrl=null!==(R=Ge.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Ge.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(de=Ge.tenantId)&&void 0!==de?de:null}static parseLink(p){const v=function _0(_){const p=(0,P.zd)((0,P.pd)(_)).link,v=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,C=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(C?(0,P.zd)((0,P.pd)(C)).link:null)||C||v||p||_}(p);try{return new K1(v)}catch{return null}}}let ns=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(v,C){return Ac._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const A=K1.parseLink(C);return B(A,"argument-error"),Ac._fromEmailAndCode(v,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class vs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class _s extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class po extends _s{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return B("providerId"in v&&"signInMethod"in v,"argument-error"),gs._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return B(p.idToken||p.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return po.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return po.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:R,nonce:q,providerId:de}=p;if(!C&&!A&&!v&&!R||!de)return null;try{return new po(de)._credential({idToken:v,accessToken:C,nonce:q,pendingToken:R})}catch{return null}}}let Ha=(()=>{class _ extends _s{constructor(){super("facebook.com")}static credential(v){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return _.credential(v.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Y1=(()=>{class _ extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:A}=v;if(!C&&!A)return null;try{return _.credential(C,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),xc=(()=>{class _ extends _s{constructor(){super("github.com")}static credential(v){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return _.credential(v.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class pr extends Rr{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return fr(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,fr(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,fr(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A,pendingToken:R}=v;return C&&A&&R&&C===A?new pr(C,R):null}static _create(p,v){return new pr(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Si extends vs{constructor(p){B(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Si.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Si.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=pr.fromJSON(p);return B(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:C}=p;if(!v||!C)return null;try{return pr._create(C,v)}catch{return null}}}let hi=(()=>{class _ extends _s{constructor(){super("twitter.com")}static credential(v,C){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=v;if(!C||!A)return null;try{return _.credential(C,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ea(_,p){return Q1.apply(this,arguments)}function Q1(){return(Q1=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signUp",zt(_,p))})).apply(this,arguments)}class Or{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,C,A=!1){return(0,u.Z)(function*(){const R=yield jt._fromIdTokenResponse(p,C,A),q=uu(C);return new Or({user:R,providerId:q,_tokenResponse:C,operationType:v})})()}static _forOperation(p,v,C){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const A=uu(C);return new Or({user:p,providerId:A,_tokenResponse:C,operationType:v})})()}}function uu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function $n(){return($n=(0,u.Z)(function*(_){var p;const v=zn(_);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new Or({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield ea(v,{returnSecureToken:!0}),A=yield Or._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(A.user),A})).apply(this,arguments)}class J1 extends P.ZR{constructor(p,v,C,A){var R;super(v.code,v.message),this.operationType=C,this.user=A,Object.setPrototypeOf(this,J1.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,v,C,A){return new J1(p,v,C,A)}}function hu(_,p,v,C){return("reauthenticate"===p?v._getReauthenticationResolver(_):v._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?J1._fromErrorAndOperation(_,R,p,C):R})}function Ti(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function X1(){return(X1=(0,u.Z)(function*(_,p){const v=(0,P.m9)(_);yield en(!0,v,p);const{providerUserInfo:C}=yield zr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),A=Ti(C||[]);return v.providerData=v.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function mo(_,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(_,p,v=!1){const C=yield kr(_,p._linkToIdToken(_.auth,yield _.getIdToken()),v);return Or._forOperation(_,"link",C)})).apply(this,arguments)}function en(_,p,v){return e2.apply(this,arguments)}function e2(){return(e2=(0,u.Z)(function*(_,p,v){yield ln(p);const A=!1===_?"provider-already-linked":"no-such-provider";B(Ti(p.providerData).has(v)===_,p.auth,A)})).apply(this,arguments)}function go(_,p){return t2.apply(this,arguments)}function t2(){return(t2=(0,u.Z)(function*(_,p,v=!1){const{auth:C}=_,A="reauthenticate";try{const R=yield kr(_,hu(C,A,p,_),v);B(R.idToken,C,"internal-error");const q=vt(R.idToken);B(q,C,"internal-error");const{sub:de}=q;return B(_.uid===de,C,"user-mismatch"),Or._forOperation(_,A,R)}catch(R){throw"auth/user-not-found"===R?.code&&xe(C,"user-mismatch"),R}})).apply(this,arguments)}function Vi(_,p){return n2.apply(this,arguments)}function n2(){return(n2=(0,u.Z)(function*(_,p,v=!1){const C="signIn",A=yield hu(_,C,p),R=yield Or._fromIdTokenResponse(_,C,A);return v||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Hn(_,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(_,p){return Vi(zn(_),p)})).apply(this,arguments)}function r2(_,p){return fu.apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(_,p){const v=(0,P.m9)(_);return yield en(!1,v,p.providerId),mo(v,p)})).apply(this,arguments)}function s2(_,p){return o2.apply(this,arguments)}function o2(){return(o2=(0,u.Z)(function*(_,p){return go((0,P.m9)(_),p)})).apply(this,arguments)}function kc(_,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(_,p){return li(_,"POST","/v1/accounts:signInWithCustomToken",zt(_,p))})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(_,p){const v=zn(_),C=yield kc(v,{token:p,returnSecureToken:!0}),A=yield Or._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ie{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?Kt._fromServerResponse(p,v):xe(p,"internal-error")}}class Kt extends Ie{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new Kt(v)}}function a2(_,p,v){var C;B((null===(C=v.url)||void 0===C?void 0:C.length)>0,_,"invalid-continue-uri"),B(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(B(v.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(B(v.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function Gn(){return(Gn=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_),A={requestType:"PASSWORD_RESET",email:p};v&&a2(C,A,v),yield Er(C,A)})).apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(_,p,v){yield ir((0,P.m9)(_),{oobCode:p,newPassword:v})})).apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(_,p){yield Sc((0,P.m9)(_),{oobCode:p})})).apply(this,arguments)}function ja(_,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,u.Z)(function*(_,p){const v=(0,P.m9)(_),C=yield ir(v,{oobCode:p}),A=C.requestType;switch(B(A,v,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(C.mfaInfo,v,"internal-error");default:B(C.email,v,"internal-error")}let R=null;return C.mfaInfo&&(R=Ie._fromServerResponse(zn(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function y0(){return(y0=(0,u.Z)(function*(_,p){const{data:v}=yield ja((0,P.m9)(_),p);return v.email})).apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(_,p,v){const C=zn(_),A=yield ea(C,{returnSecureToken:!0,email:p,password:v}),R=yield Or._fromIdTokenResponse(C,"signIn",A);return yield C._updateCurrentUser(R.user),R})).apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_),A={requestType:"EMAIL_SIGNIN",email:p};B(v.handleCodeInApp,C,"argument-error"),v&&a2(C,A,v),yield Z1(C,A)})).apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_),A=ns.credentialWithLink(p,v||Pe());return B(A._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Hn(C,A)})).apply(this,arguments)}function V3(_,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:createAuthUri",zt(_,p))})).apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(_,p){const C={identifier:p,continueUri:yt()?Pe():"http://localhost"},{signinMethods:A}=yield V3((0,P.m9)(_),C);return A||[]})).apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(_,p){const v=(0,P.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&a2(v.auth,A,p);const{email:R}=yield jn(v.auth,A);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function d2(){return(d2=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};v&&a2(C.auth,R,v);const{email:q}=yield Ic(C.auth,R);q!==_.email&&(yield _.reload())})).apply(this,arguments)}function h2(_,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(_,p){return Mn(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(_,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const C=(0,P.m9)(_),R={idToken:yield C.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},q=yield kr(C,h2(C.auth,R));C.displayName=q.displayName||null,C.photoURL=q.photoUrl||null;const de=C.providerData.find(({providerId:Ge})=>"password"===Ge);de&&(de.displayName=C.displayName,de.photoURL=C.photoURL),yield C._updateTokensIfNecessary(q)})).apply(this,arguments)}function yo(_,p,v){return f2.apply(this,arguments)}function f2(){return(f2=(0,u.Z)(function*(_,p,v){const{auth:C}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(R.email=p),v&&(R.password=v);const q=yield kr(_,pn(C,R));yield _._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class fi{constructor(p,v,C={}){this.isNewUser=p,this.providerId=v,this.profile=C}}class An extends fi{constructor(p,v,C,A){super(p,v,C),this.username=A}}class C0 extends fi{constructor(p,v){super(p,"facebook.com",v)}}class jc extends An{constructor(p,v){super(p,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class pu extends fi{constructor(p,v){super(p,"google.com",v)}}class $c extends An{constructor(p,v,C){super(p,"twitter.com",v,C)}}function p2(_){const{user:p,_tokenResponse:v}=_;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function mr(_){var p,v;if(!_)return null;const{providerId:C}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!C&&_?.idToken){const q=null===(v=null===(p=vt(_.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(q)return new fi(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!C)return null;switch(C){case"facebook.com":return new C0(R,A);case"github.com":return new jc(R,A);case"google.com":return new pu(R,A);case"twitter.com":return new $c(R,A,_.screenName||null);case"custom":case"anonymous":return new fi(R,null);default:return new fi(R,C,A)}}(v)}class Co{constructor(p,v,C){this.type=p,this.credential=v,this.auth=C}static _fromIdtoken(p,v){return new Co("enroll",p,v)}static _fromMfaPendingCredential(p){return new Co("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,C;if(p?.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Co._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Co._fromIdtoken(p.multiFactorSession.idToken)}return null}}class g2{constructor(p,v,C){this.session=p,this.hints=v,this.signInResolver=C}static _fromError(p,v){const C=zn(p),A=v.customData._serverResponse,R=(A.mfaInfo||[]).map(de=>Ie._fromServerResponse(C,de));B(A.mfaPendingCredential,C,"internal-error");const q=Co._fromMfaPendingCredential(A.mfaPendingCredential);return new g2(q,R,function(){var de=(0,u.Z)(function*(Ge){const it=yield Ge._process(C,q);delete A.mfaInfo,delete A.mfaPendingCredential;const Tt=Object.assign(Object.assign({},A),{idToken:it.idToken,refreshToken:it.refreshToken});switch(v.operationType){case"signIn":const wt=yield Or._fromIdTokenResponse(C,v.operationType,Tt);return yield C._updateCurrentUser(wt.user),wt;case"reauthenticate":return B(v.user,C,"internal-error"),Or._forOperation(v.user,v.operationType,Tt);default:xe(C,"internal-error")}});return function(Ge){return de.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,u.Z)(function*(){return v.signInResolver(p)})()}}function v2(_,p){return Mn(_,"POST","/v2/accounts/mfaEnrollment:start",zt(_,p))}class mu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Ie._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new mu(p)}getSession(){var p=this;return(0,u.Z)(function*(){return Co._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,v){var C=this;return(0,u.Z)(function*(){const A=p,R=yield C.getSession(),q=yield kr(C.user,A._process(C.user.auth,R,v));return yield C.user._updateTokensIfNecessary(q),C.user.reload()})()}unenroll(p){var v=this;return(0,u.Z)(function*(){const C="string"==typeof p?p:p.uid,A=yield v.user.getIdToken(),R=yield kr(v.user,function M0(_,p){return Mn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(_,p))}(v.user.auth,{idToken:A,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:q})=>q!==C),yield v.user._updateTokensIfNecessary(R);try{yield v.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const wo=new WeakMap,Do="__sak";class y2{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Do,"1"),this.storage.removeItem(Do),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ka=(()=>{class _ extends y2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Za(){const _=(0,P.z$)();return bt(_)||$t(_)}()&&function Rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lo(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),R=this.localCache[C];A!==R&&v(C,R,A)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((de,Ge,it)=>{this.notifyListeners(de,it)});const A=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(A);if(v.newValue!==de)null!==v.newValue?this.storage.setItem(A,v.newValue):this.storage.removeItem(A);else if(this.localCache[A]===v.newValue&&!C)return}const R=()=>{const de=this.storage.getItem(A);!C&&this.localCache[A]===de||this.notifyListeners(A,de)},q=this.storage.getItem(A);!function hr(){return(0,P.w1)()&&10===document.documentMode}()||q===v.newValue||v.newValue===v.oldValue?R():setTimeout(R,10)}notifyListeners(v,C){this.localCache[v]=C;const A=this.listeners[v];if(A)for(const R of Array.from(A))R(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var A=()=>super._set,R=this;return(0,u.Z)(function*(){yield A().call(R,v,C),R.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,A=this;return(0,u.Z)(function*(){const R=yield C().call(A,v);return A.localCache[v]=JSON.stringify(R),R})()}_remove(v){var C=()=>super._remove,A=this;return(0,u.Z)(function*(){yield C().call(A,v),delete A.localCache[v]})()}}return _.type="LOCAL",_})(),is=(()=>{class _ extends y2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return _.type="SESSION",_})();let I0=(()=>{class _{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(R=>R.isListeningto(v));if(C)return C;const A=new _(v);return this.receivers.push(A),A}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,u.Z)(function*(){const A=v,{eventId:R,eventType:q,data:de}=A.data,Ge=C.handlersMap[q];if(!Ge?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const it=Array.from(Ge).map(function(){var wt=(0,u.Z)(function*(Cn){return Cn(A.origin,de)});return function(Cn){return wt.apply(this,arguments)}}()),Tt=yield function Qa(_){return Promise.all(_.map(function(){var p=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return p.apply(this,arguments)}}()))}(it);A.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:Tt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ja(_="",p=10){let v="";for(let C=0;C<p;C++)v+=Math.floor(10*Math.random());return _+v}class Gc{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,C=50){var A=this;return(0,u.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,de;return new Promise((Ge,it)=>{const Tt=Ja("",20);R.port1.start();const wt=setTimeout(()=>{it(new Error("unsupported_event"))},C);de={messageChannel:R,onMessage(Cn){const _r=Cn;if(_r.data.eventId===Tt)switch(_r.data.status){case"ack":clearTimeout(wt),q=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Ge(_r.data.response);break;default:clearTimeout(wt),clearTimeout(q),it(new Error("invalid_response"))}}},A.handlers.add(de),R.port1.addEventListener("message",de.onMessage),A.target.postMessage({eventType:p,eventId:Tt,data:v},[R.port2])}).finally(()=>{de&&A.removeMessageHandler(de)})})()}}function Kn(){return window}function b2(){return typeof Kn().WorkerGlobalScope<"u"&&"function"==typeof Kn().importScripts}function Xa(){return(Xa=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ks="firebaseLocalStorageDb",Ys="firebaseLocalStorage",D2="fbase_key";class Mo{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function e1(_,p){return _.transaction([Ys],p?"readwrite":"readonly").objectStore(Ys)}function sa(){const _=indexedDB.open(Ks,1);return new Promise((p,v)=>{_.addEventListener("error",()=>{v(_.error)}),_.addEventListener("upgradeneeded",()=>{const C=_.result;try{C.createObjectStore(Ys,{keyPath:D2})}catch(A){v(A)}}),_.addEventListener("success",(0,u.Z)(function*(){const C=_.result;C.objectStoreNames.contains(Ys)?p(C):(C.close(),yield function N0(){const _=indexedDB.deleteDatabase(Ks);return new Mo(_).toPromise()}(),p(yield sa()))}))})}function Ds(_,p,v){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(_,p,v){const C=e1(_,!0).put({[D2]:p,value:v});return new Mo(C).toPromise()})).apply(this,arguments)}function t1(){return(t1=(0,u.Z)(function*(_,p){const v=e1(_,!1).get(p),C=yield new Mo(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function So(_,p){const v=e1(_,!0).delete(p);return new Mo(v).toPromise()}const oa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield sa()),v.db})()}_withRetries(v){var C=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const R=yield C._openDb();return yield v(R)}catch(R){if(A++>3)throw R;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return b2()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=I0._getInstance(function w2(){return b2()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(A,R){return{keyProcessed:(yield v._poll()).includes(R.key)}});return function(A,R){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var C,A;if(v.activeServiceWorker=yield function Eo(){return Xa.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Gc(v.activeServiceWorker);const R=yield v.sender._send("ping",{},800);!R||(null===(C=R[0])||void 0===C?void 0:C.fulfilled)&&(null===(A=R[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function C2(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield sa();return yield Ds(v,Do,"1"),yield So(v,Do),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(R=>Ds(R,v,C)),A.localCache[v]=C,A.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,u.Z)(function*(){const A=yield C._withRetries(R=>function E2(_,p){return t1.apply(this,arguments)}(R,v));return C.localCache[v]=A,A})()}_remove(v){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(A=>So(A,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const C=yield v._withRetries(q=>{const de=e1(q,!1).getAll();return new Mo(de).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:q,value:de}of C)R.add(q),JSON.stringify(v.localCache[q])!==JSON.stringify(de)&&(v.notifyListeners(q,de),A.push(q));for(const q of Object.keys(v.localCache))v.localCache[q]&&!R.has(q)&&(v.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(v,C){this.localCache[v]=C;const A=this.listeners[v];if(A)for(const R of Array.from(A))R(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function aa(_,p){return Mn(_,"POST","/v2/accounts/mfaSignIn:start",zt(_,p))}function Qs(){return(Qs=(0,u.Z)(function*(_){return(yield Mn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function la(_){return new Promise((p,v)=>{const C=document.createElement("script");C.setAttribute("src",_),C.onload=p,C.onerror=A=>{const R=Ce("internal-error");R.customData=A,v(R)},C.type="text/javascript",C.charset="UTF-8",function ca(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(C)})}function T2(_){return`__${_}${Math.floor(1e6*Math.random())}`}const n1=1e12;class Nn{constructor(p){this.auth=p,this.counter=n1,this._widgets=new Map}render(p,v){const C=this.counter;return this._widgets.set(C,new F3(p,this.auth.name,v||{})),this.counter++,C}reset(p){var v;const C=p||n1;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(p){var v;return(null===(v=this._widgets.get(p||n1))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,u.Z)(function*(){var C;return null===(C=v._widgets.get(p||n1))||void 0===C||C.execute(),""})()}}class F3{constructor(p,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;B(A,"argument-error",{appName:v}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fh(_){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<_;C++)p.push(v.charAt(Math.floor(Math.random()*v.length)));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const H3=T2("rcb"),ph=new _n(3e4,6e4);class gu{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Kn().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return B(function q7(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(v),p,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Kn().grecaptcha):new Promise((C,A)=>{const R=Kn().setTimeout(()=>{A(Ce(p,"network-request-failed"))},ph.get());Kn()[H3]=()=>{Kn().clearTimeout(R),delete Kn()[H3];const de=Kn().grecaptcha;if(!de)return void A(Ce(p,"internal-error"));const Ge=de.render;de.render=(it,Tt)=>{const wt=Ge(it,Tt);return this.counter++,wt},this.hostLanguage=v,C(de)},la(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:H3,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(R),A(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=Kn().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class r1{load(p){return(0,u.Z)(function*(){return new Nn(p)})()}clearedOneInstance(){}}const B3="recaptcha",U3={theme:"light",type:"image"};class Sr{constructor(p,v=Object.assign({},U3),C){this.parameters=v,this.type=B3,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(C),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;B(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new r1:new gu,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const v=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(v)||new Promise(R=>{const q=de=>{!de||(p.tokenChangeListeners.delete(q),R(de))};p.tokenChangeListeners.add(q),p.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof p)p(v);else if("string"==typeof p){const C=Kn()[p];"function"==typeof C&&C(v)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){B(yt()&&!b2(),p.auth,"internal-error"),yield function yn(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function pi(_){return Qs.apply(this,arguments)}(p.auth);B(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mi{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=Ws._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function bn(){return(bn=(0,u.Z)(function*(_,p,v){const C=zn(_),A=yield Js(C,p,(0,P.m9)(v));return new mi(A,R=>Hn(C,R))})).apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_);yield en(!1,C,"phone");const A=yield Js(C.auth,p,(0,P.m9)(v));return new mi(A,R=>r2(C,R))})).apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_),A=yield Js(C.auth,p,(0,P.m9)(v));return new mi(A,R=>s2(C,R))})).apply(this,arguments)}function Js(_,p,v){return I2.apply(this,arguments)}function I2(){return(I2=(0,u.Z)(function*(_,p,v){var C;const A=yield v.verify();try{let R;if(B("string"==typeof A,_,"argument-error"),B(v.type===B3,_,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const q=R.session;if("phoneNumber"in R)return B("enroll"===q.type,_,"internal-error"),(yield v2(_,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{B("signin"===q.type,_,"internal-error");const de=(null===(C=R.multiFactorHint)||void 0===C?void 0:C.uid)||R.multiFactorUid;return B(de,_,"missing-multi-factor-info"),(yield aa(_,{mfaPendingCredential:q.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield R3(_,{phoneNumber:R.phoneNumber,recaptchaToken:A});return q}}finally{v._reset()}})).apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(_,p){yield mo((0,P.m9)(_),p)})).apply(this,arguments)}let o1=(()=>{class _{constructor(v){this.providerId=_.PROVIDER_ID,this.auth=zn(v)}verifyPhoneNumber(v,C){return Js(this.auth,v,(0,P.m9)(C))}static credential(v,C){return Ws._fromVerification(v,C)}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:A}=v;return C&&A?Ws._fromTokenResponse(C,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function da(_,p){return p?oe(p):(B(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ms extends Rr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return fr(p,this._buildIdpRequest())}_linkToIdToken(p,v){return fr(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return fr(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function Je(_){return Vi(_.auth,new Ms(_),_.bypassAuthState)}function a1(_){const{auth:p,user:v}=_;return B(v,p,"internal-error"),go(v,new Ms(_),_.bypassAuthState)}function Xs(_){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(_){const{auth:p,user:v}=_;return B(v,p,"internal-error"),mo(v,new Ms(_),_.bypassAuthState)})).apply(this,arguments)}class fa{constructor(p,v,C,A,R=!1){this.auth=p,this.resolver=C,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,u.Z)(function*(C,A){p.pendingPromise={resolve:C,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(C,A){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:A,postBody:R,tenantId:q,error:de,type:Ge}=p;if(de)return void v.reject(de);const it={auth:v.auth,requestUri:C,sessionId:A,tenantId:q||void 0,postBody:R||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ge)(it))}catch(Tt){v.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Je;case"linkViaPopup":case"linkViaRedirect":return Xs;case"reauthViaPopup":case"reauthViaRedirect":return a1;default:xe(this.auth,"internal-error")}}resolve(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const On=new _n(2e3,1e4);function eo(){return(eo=(0,u.Z)(function*(_,p,v){const C=zn(_);We(_,p,vs);const A=da(C,v);return new ss(C,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_);We(C.auth,p,vs);const A=da(C.auth,v);return new ss(C.auth,"reauthViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}function c1(){return(c1=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_);We(C.auth,p,vs);const A=da(C.auth,v);return new ss(C.auth,"linkViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}let ss=(()=>{class _ extends fa{constructor(v,C,A,R,q){super(v,C,R,q),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const C=yield v.execute();return B(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,u.Z)(function*(){Z(1===v.filter.length,"Popup operations only handle one event");const C=Ja();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(A=>{v.reject(A)}),v.resolver._isIframeWebStorageSupported(v.auth,A=>{A||v.reject(Ce(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,A;this.pollId=null!==(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,On.get())};v()}}return _.currentPopupAction=null,_})();const Ai=new Map;class Qc extends fa{constructor(p,v,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,u.Z)(function*(){let C=Ai.get(v.auth._key());if(!C){try{const R=(yield function gi(_,p){return vi.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;C=()=>Promise.resolve(R)}catch(A){C=()=>Promise.reject(A)}Ai.set(v.auth._key(),C)}return v.bypassAuthState||Ai.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return v().call(C,p);if("unknown"!==p.type){if(p.eventId){const A=yield C.auth._redirectUserForId(p.eventId);if(A)return C.user=A,v().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function vi(){return(vi=(0,u.Z)(function*(_,p){const v=Vn(p),C=Ss(_);if(!(yield C._isAvailable()))return!1;const A="true"===(yield C._get(v));return yield C._remove(v),A})).apply(this,arguments)}function Bi(_,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(_,p){return Ss(_)._set(Vn(p),"true")})).apply(this,arguments)}function to(_,p){Ai.set(_._key(),p)}function Ss(_){return oe(_._redirectPersistence)}function Vn(_){return K("pendingRedirect",_.config.apiKey,_.name)}function M(){return(M=(0,u.Z)(function*(_,p,v){const C=zn(_);We(_,p,vs);const A=da(C,v);return yield Bi(A,C),A._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_);We(C.auth,p,vs);const A=da(C.auth,v);yield Bi(A,C.auth);const R=yield St(C);return A._openRedirect(C.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(_,p,v){const C=(0,P.m9)(_);We(C.auth,p,vs);const A=da(C.auth,v);yield en(!1,C,p.providerId),yield Bi(A,C.auth);const R=yield St(C);return A._openRedirect(C.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(_,p){return yield zn(_)._initializationPromise,ft(_,p,!1)})).apply(this,arguments)}function ft(_,p){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(_,p,v=!1){const C=zn(_),A=da(C,p),q=yield new Qc(C,A,v).execute();return q&&!v&&(delete q.user._redirectEventId,yield C._persistUserIfCurrent(q.user),yield C._setRedirectUser(null,p)),q})).apply(this,arguments)}function St(_){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(_){const p=Ja(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Ao{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(v=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Qn(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lt(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var C;if(p.error&&!Lt(p)){const A=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ce(this.auth,A))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const C=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pa(p))}saveEventToCache(p){this.cachedEventUids.add(pa(p)),this.lastProcessedEventTime=Date.now()}}function pa(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Lt({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function _i(_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(_,p={}){return Mn(_,"GET","/v1/projects",p)})).apply(this,arguments)}const Z7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G3=/^https?/;function vu(){return(vu=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield _i(_);for(const v of p)try{if(W3(v))return}catch{}xe(_,"unauthorized-domain")})).apply(this,arguments)}function W3(_){const p=Pe(),{protocol:v,hostname:C}=new URL(p);if(_.startsWith("chrome-extension://")){const q=new URL(_);return""===q.hostname&&""===C?"chrome-extension:"===v&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&q.hostname===C}if(!G3.test(v))return!1;if(Z7.test(_))return C===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const q3=new _n(3e4,6e4);function gh(){const _=Kn().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let v=0;v<_.CP.length;v++)_.CP[v]=null}let os=null;function _u(_){return os=os||function vr(_){return new Promise((p,v)=>{var C,A,R;function q(){gh(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{gh(),v(Ce(_,"network-request-failed"))},timeout:q3.get()})}if(null!==(A=null===(C=Kn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(R=Kn().gapi)||void 0===R||!R.load){const de=T2("iframefcb");return Kn()[de]=()=>{gapi.load?q():v(Ce(_,"network-request-failed"))},la(`https://apis.google.com/js/api.js?onload=${de}`).catch(Ge=>v(Ge))}q()}}).catch(p=>{throw os=null,p})}(_),os}const Z3=new _n(5e3,15e3),vh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_h=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K3(_){const p=_.config;B(p.authDomain,_,"auth-domain-config-required");const v=p.emulator?kn(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:_.name,v:ae.SDK_VERSION},A=_h.get(_.config.apiHost);A&&(C.eid=A);const R=_._getFrameworks();return R.length&&(C.fw=R.join(",")),`${v}?${(0,P.xO)(C).slice(1)}`}function Cu(){return Cu=(0,u.Z)(function*(_){const p=yield _u(_),v=Kn().gapi;return B(v,_,"internal-error"),p.open({where:document.body,url:K3(_),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vh,dontclear:!0},C=>new Promise(function(){var A=(0,u.Z)(function*(R,q){yield C.restyle({setHideOnLeave:!1});const de=Ce(_,"network-request-failed"),Ge=Kn().setTimeout(()=>{q(de)},Z3.get());function it(){Kn().clearTimeout(Ge),R(C)}C.ping(it).then(it,()=>{q(de)})});return function(R,q){return A.apply(this,arguments)}}()))}),Cu.apply(this,arguments)}const yh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k0(_,p,v,C,A,R){B(_.config.authDomain,_,"auth-domain-config-required"),B(_.config.apiKey,_,"invalid-api-key");const q={apiKey:_.config.apiKey,appName:_.name,authType:v,redirectUrl:C,v:ae.SDK_VERSION,eventId:A};if(p instanceof vs){p.setDefaultLanguage(_.languageCode),q.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ge,it]of Object.entries(R||{}))q[Ge]=it}if(p instanceof _s){const Ge=p.getScopes().filter(it=>""!==it);Ge.length>0&&(q.scopes=Ge.join(","))}_.tenantId&&(q.tid=_.tenantId);const de=q;for(const Ge of Object.keys(de))void 0===de[Ge]&&delete de[Ge];return`${function Xc({config:_}){return _.emulator?kn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(de).slice(1)}`}const ma="webStorageSupport";class tl extends class wh{constructor(p){this.factorId=p}_process(p,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,C);case"signin":return this._finalizeSignIn(p,v.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new tl(p)}_finalizeEnroll(p,v,C){return function _2(_,p){return Mn(_,"POST","/v2/accounts/mfaEnrollment:finalize",zt(_,p))}(p,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function S2(_,p){return Mn(_,"POST","/v2/accounts/mfaSignIn:finalize",zt(_,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nl=(()=>{class _{constructor(){}static assertion(v){return tl._fromCredential(v)}}return _.FACTOR_ID="phone",_})();var rl="@firebase/auth";class Dh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,u.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);!v||(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function No(){return window}function O0(){return(O0=(0,u.Z)(function*(_,p,v){var C;const{BuildInfo:A}=No();Z(p.sessionId,"AuthEvent did not contain a session ID");const R=yield R2(p.sessionId),q={};return $t()?q.ibi=A.packageName:Xt()?q.apn=A.packageName:xe(_,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=R,k0(_,v,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,q)})).apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(_){const{BuildInfo:p}=No(),v={};$t()?v.iosBundleId=p.packageName:Xt()?v.androidPackageName=p.packageName:xe(_,"operation-not-supported-in-this-environment"),yield _i(_,v)})).apply(this,arguments)}function L0(){return(L0=(0,u.Z)(function*(_,p,v){const{cordova:C}=No();let A=()=>{};try{yield new Promise((R,q)=>{let de=null;function Ge(){var wt;R();const Cn=null===(wt=C.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof Cn&&Cn(),"function"==typeof v?.close&&v.close()}function it(){de||(de=window.setTimeout(()=>{q(Ce(_,"redirect-cancelled-by-user"))},2e3))}function Tt(){"visible"===document?.visibilityState&&it()}p.addPassiveListener(Ge),document.addEventListener("resume",it,!1),Xt()&&document.addEventListener("visibilitychange",Tt,!1),A=()=>{p.removePassiveListener(Ge),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",Tt,!1),de&&window.clearTimeout(de)}})}finally{A()}})).apply(this,arguments)}function R2(_){return u1.apply(this,arguments)}function u1(){return(u1=(0,u.Z)(function*(_){const p=O2(_),v=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(v)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function O2(_){if(Z(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),v=new Uint8Array(p);for(let C=0;C<_.length;C++)v[C]=_.charCodeAt(C);return v}(0,P.Pz)("authIdTokenMaxAge"),function Y3(_){(0,ae._registerComponent)(new ue.wA("auth",(p,{options:v})=>{const C=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:R,authDomain:q}=C.options;return((de,Ge)=>{B(R&&!R.includes(":"),"invalid-api-key",{appName:de.name}),B(!q?.includes(":"),"argument-error",{appName:de.name});const it={apiKey:R,authDomain:q,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bs(_)},Tt=new Vt(de,Ge,it);return function Ve(_,p){const v=p?.persistence||[],C=(Array.isArray(v)?v:[v]).map(oe);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(C,p?.popupRedirectResolver)}(Tt,v),Tt})(C,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,C)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",p=>{const v=zn(p.getProvider("auth").getImmediate());return new Dh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(rl,"0.21.0",function Eh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(rl,"0.21.0","esm2017")}("Browser");class z0 extends Ao{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function J3(_){return h1.apply(this,arguments)}function h1(){return(h1=(0,u.Z)(function*(_){const p=yield f1()._get(xo(_));return p&&(yield f1()._remove(xo(_))),p})).apply(this,arguments)}function Nh(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const C=Math.floor(Math.random()*p.length);_.push(p.charAt(C))}return _.join("")}function f1(){return oe(Ka)}function xo(_){return K("authEvent",_.config.apiKey,_.name)}function ko(_){if(!_?.includes("?"))return{};const[p,...v]=_.split("?");return(0,P.zd)(v.join("?"))}function L2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function sl(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Su(_=(0,P.z$)()){return!("file:"!==sl()&&"ionic:"!==sl()&&"capacitor:"!==sl()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function id(){try{const _=self.localStorage,p=Ja();if(_)return _.setItem(p,"1"),_.removeItem(p),!function Rh(_=(0,P.z$)()){return function rd(){return(0,P.w1)()&&11===document?.documentMode}()||function Iu(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch{return H0()&&(0,P.hl)()}return!1}function H0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function B0(){return(function kh(){return"http:"===sl()||"https:"===sl()}()||(0,P.ru)()||Su())&&!function Tu(){return(0,P.b$)()||(0,P.UG)()}()&&id()&&!H0()}function Oo(){return Su()&&typeof document<"u"}function ol(){return(ol=(0,u.Z)(function*(){return!!Oo()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const Ni={LOCAL:"local",NONE:"none",SESSION:"session"},ti=B,m1="persistence";function al(_){return U0.apply(this,arguments)}function U0(){return(U0=(0,u.Z)(function*(_){yield _._initializationPromise;const p=j0(),v=K(m1,_.config.apiKey,_.name);p&&p.setItem(v,_._getPersistence())})).apply(this,arguments)}function j0(){var _;try{return(null===(_=function Au(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const $0=B;class xi{constructor(){this.browserResolver=oe(class Is{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=is,this._completeRedirectFn=ft,this._overrideRedirectResult=to}_openPopup(p,v,C,A){var R=this;return(0,u.Z)(function*(){var q;Z(null===(q=R.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const de=k0(p,v,C,Pe(),A);return function k2(_,p,v,C=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-C)/2,0).toString();let de="";const Ge=Object.assign(Object.assign({},yh),{width:C.toString(),height:A.toString(),top:R,left:q}),it=(0,P.z$)().toLowerCase();v&&(de=nn(it)?"_blank":v),Ye(it)&&(p=p||"http://localhost",Ge.scrollbars="yes");const Tt=Object.entries(Ge).reduce((Cn,[_r,ji])=>`${Cn}${_r}=${ji},`,"");if(function di(_=(0,P.z$)()){var p;return $t(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(it)&&"_self"!==de)return function Ch(_,p){const v=document.createElement("a");v.href=_,v.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(p||"",de),new bh(null);const wt=window.open(p||"",de,Tt);B(wt,_,"popup-blocked");try{wt.focus()}catch{}return new bh(wt)}(p,de,Ja())})()}_openRedirect(p,v,C,A){var R=this;return(0,u.Z)(function*(){return yield R._originValidation(p),function Fi(_){Kn().location.href=_}(k0(p,v,C,Pe(),A)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:A,promise:R}=this.eventManagers[v];return A?Promise.resolve(A):(Z(R,"If manager is not set, promise should be"),R)}const C=this.initAndGetManager(p);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(p){var v=this;return(0,u.Z)(function*(){const C=yield function bu(_){return Cu.apply(this,arguments)}(p),A=new Ao(p);return C.register("authEvent",R=>(B(R?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:A},v.iframes[p._key()]=C,A})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(ma,{type:ma},A=>{var R;const q=null===(R=A?.[0])||void 0===R?void 0:R[ma];void 0!==q&&v(!!q),xe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function no(_){return vu.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return lo()||bt()||$t()}}),this.cordovaResolver=oe(class Mu{constructor(){this._redirectPersistence=is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ft,this._overrideRedirectResult=to}_initialize(p){var v=this;return(0,u.Z)(function*(){const C=p._key();let A=v.eventManagers.get(C);return A||(A=new z0(p),v.eventManagers.set(C,A),v.attachCallbackListeners(p,A)),A})()}_openPopup(p){xe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,v,C,A){var R=this;return(0,u.Z)(function*(){!function Ah(_){var p,v,C,A,R,q,de,Ge,it,Tt;const wt=No();B("function"==typeof(null===(p=wt?.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(v=wt?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(R=null===(A=null===(C=wt?.cordova)||void 0===C?void 0:C.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Ge=null===(de=null===(q=wt?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ge?void 0:Ge.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Tt=null===(it=wt?.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===Tt?void 0:Tt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield R._initialize(p);yield q.initialized(),q.resetRedirect(),function gr(){Ai.clear()}(),yield R._originValidation(p);const de=function Q3(_,p,v=null){return{type:p,eventId:v,urlResponse:null,sessionId:Nh(),postBody:null,tenantId:_.tenantId,error:Ce(_,"no-auth-event")}}(p,C,A);yield function d1(_,p){return f1()._set(xo(_),p)}(p,de);const Ge=yield function ga(_,p,v){return O0.apply(this,arguments)}(p,de,v),it=yield function Th(_){const{cordova:p}=No();return new Promise(v=>{p.plugins.browsertab.isAvailable(C=>{let A=null;C?p.plugins.browsertab.openUrl(_):A=p.InAppBrowser.open(_,function Dr(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),v(A)})})}(Ge);return function Ih(_,p,v){return L0.apply(this,arguments)}(p,q,it)})()}_isIframeWebStorageSupported(p,v){throw new Error("Method not implemented.")}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function l1(_){return il.apply(this,arguments)}(p)),this.originValidationPromises[v]}attachCallbackListeners(p,v){const{universalLinks:C,handleOpenURL:A,BuildInfo:R}=No(),q=setTimeout((0,u.Z)(function*(){yield J3(p),v.onEvent(L2())}),500),de=function(){var Tt=(0,u.Z)(function*(wt){clearTimeout(q);const Cn=yield J3(p);let _r=null;Cn&&wt?.url&&(_r=function X3(_,p){var v,C;const A=function td(_){const p=ko(_),v=p.link?decodeURIComponent(p.link):void 0,C=ko(v).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ko(A).link||A||C||v||_}(p);if(A.includes("/__/auth/callback")){const R=ko(A),q=R.firebaseError?function ed(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,de=null===(C=null===(v=q?.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],Ge=de?Ce(de):null;return Ge?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(Cn,wt.url)),v.onEvent(_r||L2())});return function(Cn){return Tt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,de);const Ge=A,it=`${R.packageName.toLowerCase()}://`;No().handleOpenURL=function(){var Tt=(0,u.Z)(function*(wt){if(wt.toLowerCase().startsWith(it)&&de({url:wt}),"function"==typeof Ge)try{Ge(wt)}catch(Cn){console.error(Cn)}});return function(wt){return Tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=is,this._completeRedirectFn=ft,this._overrideRedirectResult=to}_initialize(p){var v=this;return(0,u.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,v,C,A){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,v,C,A)})()}_openRedirect(p,v,C,A){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,v,C,A)})()}_isIframeWebStorageSupported(p,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,v)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Oo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const v=yield function sd(){return ol.apply(this,arguments)}();p.underlyingResolver=v?p.cordovaResolver:p.browserResolver})()}}function G0(_){return _.unwrap()}function W0(_){return va(_)}function va(_){const{_tokenResponse:p}=_ instanceof P.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return o1.credentialFromResult(_);const v=p.providerId;if(!v||"password"===v)return null;let C;switch(v){case"google.com":C=Y1;break;case"facebook.com":C=Ha;break;case"github.com":C=xc;break;case"twitter.com":C=hi;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:de,nonce:Ge}=p;return R||q||A||de?de?v.startsWith("saml.")?pr._create(v,de):gs._fromParams({providerId:v,signInMethod:v,pendingToken:de,idToken:A,accessToken:R}):new po(v).credential({idToken:A,accessToken:R,rawNonce:Ge}):null}return _ instanceof P.ZR?C.credentialFromError(_):C.credentialFromResult(_)}function ki(_,p){return p.catch(v=>{throw v instanceof P.ZR&&function ll(_,p){var v;const C=null===(v=p.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Oh(_,function qn(_,p){var v;const C=(0,P.m9)(_),A=p;return B(p.customData.operationType,C,"argument-error"),B(null===(v=A.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),g2._fromError(C,A)}(_,p));else if(C){const A=va(p),R=p;A&&(R.credential=A,R.tenantId=C.tenantId||void 0,R.email=C.email||void 0,R.phoneNumber=C.phoneNumber||void 0)}}(_,v),v}).then(v=>{const A=v.user;return{operationType:v.operationType,credential:W0(v),additionalUserInfo:p2(v),user:as.getOrCreate(A)}})}function _a(_,p){return xu.apply(this,arguments)}function xu(){return(xu=(0,u.Z)(function*(_,p){const v=yield p;return{verificationId:v.verificationId,confirm:C=>ki(_,v.confirm(C))}})).apply(this,arguments)}class Oh{constructor(p,v){this.resolver=v,this.auth=function cl(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ki(G0(this.auth),this.resolver.resolveSignIn(p))}}class as{constructor(p){this._delegate=p,this.multiFactor=function ia(_){const p=(0,P.m9)(_);return wo.has(p)||wo.set(p,mu._fromUser(p)),wo.get(p)}(p)}static getOrCreate(p){return as.USER_MAP.has(p)||as.USER_MAP.set(p,new as(p)),as.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var v=this;return(0,u.Z)(function*(){return ki(v.auth,r2(v._delegate,p))})()}linkWithPhoneNumber(p,v){var C=this;return(0,u.Z)(function*(){return _a(C.auth,function cn(_,p,v){return Hi.apply(this,arguments)}(C._delegate,p,v))})()}linkWithPopup(p){var v=this;return(0,u.Z)(function*(){return ki(v.auth,function A2(_,p,v){return c1.apply(this,arguments)}(v._delegate,p,xi))})()}linkWithRedirect(p){var v=this;return(0,u.Z)(function*(){return yield al(zn(v.auth)),function Q(_,p,v){return function re(_,p,v){return Me.apply(this,arguments)}(_,p,v)}(v._delegate,p,xi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var v=this;return(0,u.Z)(function*(){return ki(v.auth,s2(v._delegate,p))})()}reauthenticateWithPhoneNumber(p,v){return _a(this.auth,function s1(_,p,v){return Bn.apply(this,arguments)}(this._delegate,p,v))}reauthenticateWithPopup(p){return ki(this.auth,function $3(_,p,v){return Yc.apply(this,arguments)}(this._delegate,p,xi))}reauthenticateWithRedirect(p){var v=this;return(0,u.Z)(function*(){return yield al(zn(v.auth)),function S(_,p,v){return function N(_,p,v){return V.apply(this,arguments)}(_,p,v)}(v._delegate,p,xi)})()}sendEmailVerification(p){return function Vc(_,p){return qa.apply(this,arguments)}(this._delegate,p)}unlink(p){var v=this;return(0,u.Z)(function*(){return yield function Fr(_,p){return X1.apply(this,arguments)}(v._delegate,p),v})()}updateEmail(p){return function b0(_,p){return yo((0,P.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function _o(_,p){return yo((0,P.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function j3(_,p){return Zc.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Bc(_,p){return Uc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,v){return function Fc(_,p,v){return d2.apply(this,arguments)}(this._delegate,p,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}as.USER_MAP=new WeakMap;const ya=B;let P2=(()=>{class _{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=v.options;ya(A,"invalid-api-key",{appName:v.name}),ya(A,"invalid-api-key",{appName:v.name});const R=typeof window<"u"?xi:void 0;this._delegate=C.initialize({options:{persistence:ba(A,v.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(De),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?as.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function q1(_,p,v){const C=zn(_);B(C._canInitEmulator,C,"emulator-config-failed"),B(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const A=!!v?.disableWarnings,R=es(p),{host:q,port:de}=function rr(_){const p=es(_),v=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(C);if(A){const R=A[1];return{host:R,port:Us(C.substr(R.length+1))}}{const[R,q]=C.split(":");return{host:R,port:Us(q)}}}(p);C.config.emulator={url:`${R}//${q}${null===de?"":`:${de}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:q,port:de,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function js(){function _(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,v,C)}applyActionCode(v){return function Ii(_,p){return Ua.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return ja(this._delegate,v)}confirmPasswordReset(v,C){return function l2(_,p,v){return ta.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var A=this;return(0,u.Z)(function*(){return ki(A._delegate,function $a(_,p,v){return Wn.apply(this,arguments)}(A._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function u2(_,p){return Wa.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function ws(_,p){return"EMAIL_SIGNIN"===K1.parseLink(p)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,u.Z)(function*(){ya(B0(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function $e(_,p){return rt.apply(this,arguments)}(v._delegate,xi);return C?ki(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function p1(_,p){zn(_)._logFramework(p)}(this._delegate,v)}onAuthStateChanged(v,C,A){const{next:R,error:q,complete:de}=ul(v,C,A);return this._delegate.onAuthStateChanged(R,q,de)}onIdTokenChanged(v,C,A){const{next:R,error:q,complete:de}=ul(v,C,A);return this._delegate.onIdTokenChanged(R,q,de)}sendSignInLinkToEmail(v,C){return function Pc(_,p,v){return vo.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function c2(_,p,v){return Gn.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,u.Z)(function*(){let A;switch(function Nu(_,p){ti(Object.values(Ni).includes(p),_,"invalid-persistence-type"),(0,P.b$)()?ti(p!==Ni.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?ti(p===Ni.NONE,_,"unsupported-persistence-type"):H0()?ti(p===Ni.NONE||p===Ni.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):ti(p===Ni.NONE||id(),_,"unsupported-persistence-type")}(C._delegate,v),v){case Ni.SESSION:A=is;break;case Ni.LOCAL:A=(yield oe(oa)._isAvailable())?oa:Ka;break;case Ni.NONE:A=H;break;default:return xe("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return ki(this._delegate,function du(_){return $n.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return ki(this._delegate,Hn(this._delegate,v))}signInWithCustomToken(v){return ki(this._delegate,function Rc(_,p){return Ba.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return ki(this._delegate,function rs(_,p,v){return Hn((0,P.m9)(_),ns.credential(p,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return ki(this._delegate,function z3(_,p,v){return Ga.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return _a(this._delegate,function ut(_,p,v){return bn.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,u.Z)(function*(){return ya(B0(),C._delegate,"operation-not-supported-in-this-environment"),ki(C._delegate,function Kc(_,p,v){return eo.apply(this,arguments)}(C._delegate,v,xi))})()}signInWithRedirect(v){var C=this;return(0,u.Z)(function*(){return ya(B0(),C._delegate,"operation-not-supported-in-this-environment"),yield al(C._delegate),function Yt(_,p,v){return function Io(_,p,v){return M.apply(this,arguments)}(_,p,v)}(C._delegate,v,xi)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function Lc(_,p){return y0.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ni,_})();function ul(_,p,v){let C=_;"function"!=typeof _&&({next:C,error:p,complete:v}=_);const A=C;return{next:q=>A(q&&as.getOrCreate(q)),error:p,complete:v}}function ba(_,p){const v=function Lo(_,p){const v=j0();if(!v)return[];const C=K(m1,_,p);switch(v.getItem(C)){case Ni.NONE:return[H];case Ni.LOCAL:return[oa,is];case Ni.SESSION:return[is];default:return[]}}(_,p);if(typeof self<"u"&&!v.includes(oa)&&v.push(oa),typeof window<"u")for(const C of[Ka,is])v.includes(C)||v.push(C);return v.includes(H)||v.push(H),v}class ku{constructor(){this.providerId="phone",this._delegate=new o1(G0(te.Z.auth()))}static credential(p,v){return o1.credential(p,v)}verifyPhoneNumber(p,v){return this._delegate.verifyPhoneNumber(p,v)}unwrap(){return this._delegate}}ku.PHONE_SIGN_IN_METHOD=o1.PHONE_SIGN_IN_METHOD,ku.PROVIDER_ID=o1.PROVIDER_ID;const dl=B;class Ru{constructor(p,v,C=te.Z.app()){var A;dl(null===(A=C.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Sr(p,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lu(_){_.INTERNAL.registerComponent(new ue.wA("auth-compat",p=>{const v=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new P2(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ns,FacebookAuthProvider:Ha,GithubAuthProvider:xc,GoogleAuthProvider:Y1,OAuthProvider:po,SAMLAuthProvider:Si,PhoneAuthProvider:ku,PhoneMultiFactorGenerator:nl,RecaptchaVerifier:Ru,TwitterAuthProvider:hi,Auth:P2,AuthCredential:Rr,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.0")}(te.Z)},8766:(gt,Te,O)=>{O.d(Te,{Lj:()=>xe,X3:()=>ht});var u=O(5861);let P,ae;const ue=new WeakMap,fe=new WeakMap,pe=new WeakMap,U=new WeakMap,j=new WeakMap;let Oe={get(B,ve,Z){if(B instanceof IDBTransaction){if("done"===ve)return fe.get(B);if("objectStoreNames"===ve)return B.objectStoreNames||pe.get(B);if("store"===ve)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return me(B[ve])},set:(B,ve,Z)=>(B[ve]=Z,!0),has:(B,ve)=>B instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in B};function _e(B){return"function"==typeof B?function lt(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...ve){return B.apply(st(this),ve),me(ue.get(this))}:function(...ve){return me(B.apply(st(this),ve))}:function(ve,...Z){const ee=B.call(st(this),ve,...Z);return pe.set(ee,ve.sort?ve.sort():[ve]),me(ee)}}(B):(B instanceof IDBTransaction&&function Ue(B){if(fe.has(B))return;const ve=new Promise((Z,ee)=>{const oe=()=>{B.removeEventListener("complete",se),B.removeEventListener("error",Ve),B.removeEventListener("abort",Ve)},se=()=>{Z(),oe()},Ve=()=>{ee(B.error||new DOMException("AbortError","AbortError")),oe()};B.addEventListener("complete",se),B.addEventListener("error",Ve),B.addEventListener("abort",Ve)});fe.set(B,ve)}(B),((B,ve)=>ve.some(Z=>B instanceof Z))(B,function ce(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,Oe):B)}function me(B){if(B instanceof IDBRequest)return function Y(B){const ve=new Promise((Z,ee)=>{const oe=()=>{B.removeEventListener("success",se),B.removeEventListener("error",Ve)},se=()=>{Z(me(B.result)),oe()},Ve=()=>{ee(B.error),oe()};B.addEventListener("success",se),B.addEventListener("error",Ve)});return ve.then(Z=>{Z instanceof IDBCursor&&ue.set(Z,B)}).catch(()=>{}),j.set(ve,B),ve}(B);if(U.has(B))return U.get(B);const ve=_e(B);return ve!==B&&(U.set(B,ve),j.set(ve,B)),ve}const st=B=>j.get(B);function ht(B,ve,{blocked:Z,upgrade:ee,blocking:oe,terminated:se}={}){const Ve=indexedDB.open(B,ve),Pe=me(Ve);return ee&&Ve.addEventListener("upgradeneeded",yt=>{ee(me(Ve.result),yt.oldVersion,yt.newVersion,me(Ve.transaction))}),Z&&Ve.addEventListener("blocked",()=>Z()),Pe.then(yt=>{se&&yt.addEventListener("close",()=>se()),oe&&yt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Pe}function xe(B,{blocked:ve}={}){const Z=indexedDB.deleteDatabase(B);return ve&&Z.addEventListener("blocked",()=>ve()),me(Z).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],We=new Map;function qe(B,ve){if(!(B instanceof IDBDatabase)||ve in B||"string"!=typeof ve)return;if(We.get(ve))return We.get(ve);const Z=ve.replace(/FromIndex$/,""),ee=ve!==Z,oe=Ee.includes(Z);if(!(Z in(ee?IDBIndex:IDBObjectStore).prototype)||!oe&&!Ce.includes(Z))return;const se=function(){var Ve=(0,u.Z)(function*(Pe,...yt){const on=this.transaction(Pe,oe?"readwrite":"readonly");let Wt=on.store;return ee&&(Wt=Wt.index(yt.shift())),(yield Promise.all([Wt[Z](...yt),oe&&on.done]))[0]});return function(yt){return Ve.apply(this,arguments)}}();return We.set(ve,se),se}!function De(B){Oe=B(Oe)}(B=>({...B,get:(ve,Z,ee)=>qe(ve,Z)||B.get(ve,Z,ee),has:(ve,Z)=>!!qe(ve,Z)||B.has(ve,Z)}))},5861:(gt,Te,O)=>{function u(P,ae,ce,he,ue,fe,pe){try{var U=P[fe](pe),j=U.value}catch(Y){return void ce(Y)}U.done?ae(j):Promise.resolve(j).then(he,ue)}function te(P){return function(){var ae=this,ce=arguments;return new Promise(function(he,ue){var fe=P.apply(ae,ce);function pe(j){u(fe,he,ue,pe,U,"next",j)}function U(j){u(fe,he,ue,pe,U,"throw",j)}pe(void 0)})}}O.d(Te,{Z:()=>te})}},gt=>{gt(gt.s=3274)}]);