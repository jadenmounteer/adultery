"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[244],{244:(J,d,e)=>{e.r(d),e.d(d,{ShoppingListModule:()=>b});var l=e(6895),r=e(2431),t=e(4650),c=e(6683),h=e(182),m=e(7579),L=e(4004),g=e(3101);let u=(()=>{class o{constructor(n,i){this.authService=n,this.firestore=i,this.shopingLists=[],this.shoppingListsChanged=new m.x}fetchShoppingLists(){const n=this.authService.userId;this.firestore.collection("shopping-lists",i=>i.where("userId","==",n)).snapshotChanges().pipe((0,L.U)(i=>i.map(p=>({id:p.payload.doc.id,userId:p.payload.doc.data().userId,listName:p.payload.doc.data().listName,items:p.payload.doc.data().items,complete:p.payload.doc.data().complete})))).subscribe(i=>{this.shopingLists=i,this.shoppingListsChanged.next([...this.shopingLists])})}addNewShoppingList(n){this.firestore.collection("shopping-lists").add({...n})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(h.e),t.LFG(g.ST))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var a=e(433);let S=(()=>{class o{constructor(n,i,p){this.activeModal=n,this.authService=i,this.shoppingListService=p}ngOnInit(){}onSubmit(n){console.log(this.authService.userId),console.log(n),this.shoppingListService.addNewShoppingList({id:"",userId:this.authService.userId,listName:n.value.name,complete:!1,items:null}),this.activeModal.close("Close click")}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(c.Kz),t.Y36(h.e),t.Y36(u))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-shopping-list-modal"]],decls:13,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["type","text","name","name","id","name","ngModel","","placeholder","Enter name",1,"form-control"],["nameInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(n,i){if(1&n){const p=t.EpF();t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Create New Shopping List"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),t.qZA()(),t.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5),t._UZ(8,"input",6,7),t.qZA()()(),t.TgZ(10,"div",8)(11,"button",9),t.NdJ("click",function(){t.CHM(p);const N=t.MAs(6);return t.KtG(i.onSubmit(N))}),t._uU(12," Submit "),t.qZA()()}},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.On,a.F]}),o})();var f=e(837);function v(o,s){if(1&o&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA()()),2&o){const n=s.$implicit;t.xp6(2),t.Oqu(n.listName)}}const C=[{path:"",component:(()=>{class o{constructor(n,i){this.modalService=n,this.shoppingListService=i,this.contentLoaded=!1,this.shoppingLists=[]}ngOnInit(){this.shoppingListsSubscription=this.shoppingListService.shoppingListsChanged.subscribe(n=>{this.shoppingLists=n,this.contentLoaded=!0}),this.shoppingListService.fetchShoppingLists()}onAddShoppingList(){this.modalService.open(S)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(c.FF),t.Y36(u))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-shopping-list-page"]],decls:8,vars:2,consts:[[3,"contentLoaded"],["pageHeader",""],["pageContent",""],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),t._uU(3,"Shopping Lists"),t.qZA()(),t.TgZ(4,"div",2),t.YNc(5,v,3,1,"ul",3),t.TgZ(6,"button",4),t.NdJ("click",function(){return i.onAddShoppingList()}),t._uU(7," Add List + "),t.qZA()()()),2&n&&(t.Q6J("contentLoaded",i.contentLoaded),t.xp6(5),t.Q6J("ngForOf",i.shoppingLists))},dependencies:[l.sg,f.z]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[r.Bz.forChild(C),r.Bz]}),o})();var A=e(4769),M=e(2767),F=e(2011),Z=e(3385),T=e(2340);let b=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.ez,y,A.e,M.n,a.u5,g.yb,Z.ww,F.hO.initializeApp(T.N.firebase)]}),o})()}}]);