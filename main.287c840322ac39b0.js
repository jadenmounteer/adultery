"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{2011:(ft,Ae,z)=>{z.d(Ae,{Dh:()=>fe,GT:()=>he,cc:()=>Ne,hO:()=>Oe,on:()=>U,pX:()=>oe,xv:()=>de});var g=z(4650),X=z(9260),k=z(2122);ft=z.hmd(ft);const ae=["ngOnDestroy"],oe=(pe,et,lt,Te={})=>new Proxy(pe,{get:(Ce,Ee)=>lt.runOutsideAngular(()=>{var Ue;if(pe[Ee])return!(null===(Ue=Te?.spy)||void 0===Ue)&&Ue.get&&Te.spy.get(Ee,pe[Ee]),pe[Ee];if(ae.indexOf(Ee)>-1)return()=>{};const Be=et.toPromise().then(F=>{const ge=F&&F[Ee];return"function"==typeof ge?ge.bind(F):ge&&ge.then?ge.then(W=>lt.run(()=>W)):lt.run(()=>ge)});return new Proxy(()=>{},{get:(F,ge)=>Be[ge],apply:(F,ge,W)=>Be.then(J=>{var se;const ie=J&&J(...W);return!(null===(se=Te?.spy)||void 0===se)&&se.apply&&Te.spy.apply(Ee,W,ie),ie})})})}),he=(pe,et)=>{et.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(Te=>{Object.defineProperty(pe.prototype,Te,Object.getOwnPropertyDescriptor(lt.prototype||lt,Te))})})};class le{constructor(et){return et}}const fe=new g.OlP("angularfire2.app.options"),de=new g.OlP("angularfire2.app.name");function U(pe,et,lt){const Ce="object"==typeof lt&&lt||{};Ce.name=Ce.name||"string"==typeof lt&&lt||"[DEFAULT]";const Ue=X.Z.apps.filter(Be=>Be&&Be.name===Ce.name)[0]||et.runOutsideAngular(()=>X.Z.initializeApp(pe,Ce));try{JSON.stringify(pe)!==JSON.stringify(Ue.options)&&j("error",`${Ue.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Ue)}const j=(pe,...et)=>{(0,g.X6Q)()&&typeof console<"u"&&console[pe](...et)},K={provide:le,useFactory:U,deps:[fe,g.R0b,[new g.FiY,de]]};let Oe=(()=>{class pe{constructor(lt){X.Z.registerVersion("angularfire",k.q4.full,"core"),X.Z.registerVersion("angularfire",k.q4.full,"app-compat"),X.Z.registerVersion("angular",g.q4F.full,lt.toString())}static initializeApp(lt,Te){return{ngModule:pe,providers:[{provide:fe,useValue:lt},{provide:de,useValue:Te}]}}}return pe.\u0275fac=function(lt){return new(lt||pe)(g.LFG(g.Lbi))},pe.\u0275mod=g.oAB({type:pe}),pe.\u0275inj=g.cJS({providers:[K]}),pe})();function Ne(pe,et,lt,Te,Ce){const[,Ee,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===pe)||[];if(Ee)return function be(pe,et){try{return pe.toString()===et.toString()}catch{return pe===et}}(Ce,Ue)||(ve("error",`${et} was already initialized on the ${lt} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ce,was:Ue})),Ee;{const Be=Te();return globalThis.\u0275AngularfireInstanceCache.push([pe,Be,Ce]),Be}}const ot=!!ft.hot,ve=(pe,...et)=>{(0,g.X6Q)()&&typeof console<"u"&&console[pe](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ft,Ae,z)=>{z.d(Ae,{q4:()=>it,iC:()=>ci,HU:()=>$s,vb:()=>Ri,JM:()=>Fo});var g=z(4650),X=z(259),k=z(5861),ae=z(9681),oe=z(2090),he=z(4859),le=z(1877),fe=z(8766);const de="@firebase/installations",U="0.6.0",K=`w:${U}`,Oe="FIS_v2",et=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lt(M){return M instanceof oe.ZR&&M.code.includes("request-failed")}function Te({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function Ce(M){return{token:M.token,requestStatus:2,expiresIn:J(M.expiresIn),creationTime:Date.now()}}function Ee(M,I){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,k.Z)(function*(M,I){const O=(yield I.json()).error;return et.create("request-failed",{requestName:M,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Be({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function F(M,{refreshToken:I}){const x=Be(M);return x.append("Authorization",function se(M){return`${Oe} ${M}`}(I)),x}function ge(M){return W.apply(this,arguments)}function W(){return(W=(0,k.Z)(function*(M){const I=yield M();return I.status>=500&&I.status<600?M():I})).apply(this,arguments)}function J(M){return Number(M.replace("s","000"))}function ie(M,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,k.Z)(function*({appConfig:M,heartbeatServiceProvider:I},{fid:x}){const O=Te(M),Q=Be(M),te=I.getImmediate({optional:!0});if(te){const ut=yield te.getHeartbeatsHeader();ut&&Q.append("x-firebase-client",ut)}const He={method:"POST",headers:Q,body:JSON.stringify({fid:x,authVersion:Oe,appId:M.appId,sdkVersion:K})},Je=yield ge(()=>fetch(O,He));if(Je.ok){const ut=yield Je.json();return{fid:ut.fid||x,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Ce(ut.authToken)}}throw yield Ee("Create Installation",Je)})).apply(this,arguments)}function ke(M){return new Promise(I=>{setTimeout(I,M)})}const nn=/^[cdef][\w-]{21}$/;function Ze(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const x=function pn(M){return function pt(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return nn.test(x)?x:""}catch{return""}}function Sn(M){return`${M.appName}!${M.appId}`}const Yt=new Map;function rn(M,I){const x=Sn(M);yn(x,I),function J1(M,I){const x=function Ur(){return!b1&&"BroadcastChannel"in self&&(b1=new BroadcastChannel("[Firebase] FID Change"),b1.onmessage=M=>{yn(M.data.key,M.data.fid)}),b1}();x&&x.postMessage({key:M,fid:I}),function Jr(){0===Yt.size&&b1&&(b1.close(),b1=null)}()}(x,I)}function yn(M,I){const x=Yt.get(M);if(x)for(const O of x)O(I)}let b1=null;const l1="firebase-installations-store";let u1=null;function mo(){return u1||(u1=(0,fe.X3)("firebase-installations-database",1,{upgrade:(M,I)=>{0===I&&M.createObjectStore(l1)}})),u1}function Qe(M,I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,k.Z)(function*(M,I){const x=Sn(M),Q=(yield mo()).transaction(l1,"readwrite"),te=Q.objectStore(l1),Me=yield te.get(x);return yield te.put(I,x),yield Q.done,(!Me||Me.fid!==I.fid)&&rn(M,I.fid),I})).apply(this,arguments)}function yi(M){return rr.apply(this,arguments)}function rr(){return(rr=(0,k.Z)(function*(M){const I=Sn(M),O=(yield mo()).transaction(l1,"readwrite");yield O.objectStore(l1).delete(I),yield O.done})).apply(this,arguments)}function h1(M,I){return O1.apply(this,arguments)}function O1(){return(O1=(0,k.Z)(function*(M,I){const x=Sn(M),Q=(yield mo()).transaction(l1,"readwrite"),te=Q.objectStore(l1),Me=yield te.get(x),He=I(Me);return void 0===He?yield te.delete(x):yield te.put(He,x),yield Q.done,He&&(!Me||Me.fid!==He.fid)&&rn(M,He.fid),He})).apply(this,arguments)}function Fn(M){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,k.Z)(function*(M){let I;const x=yield h1(M.appConfig,O=>{const Q=En(O),te=Ct(M,Q);return I=te.registrationPromise,te.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function En(M){return Nt(M||{fid:Ze(),registrationStatus:0})}function Ct(M,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(et.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},O=function ht(M,I){return ln.apply(this,arguments)}(M,x);return{installationEntry:x,registrationPromise:O}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:wr(M)}:{installationEntry:I}}function ln(){return(ln=(0,k.Z)(function*(M,I){try{const x=yield ie(M,I);return Qe(M.appConfig,x)}catch(x){throw lt(x)&&409===x.customData.serverCode?yield yi(M.appConfig):yield Qe(M.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function wr(M){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,k.Z)(function*(M){let I=yield Xr(M.appConfig);for(;1===I.registrationStatus;)yield ke(100),I=yield Xr(M.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:O}=yield Fn(M);return O||x}return I})).apply(this,arguments)}function Xr(M){return h1(M,I=>{if(!I)throw et.create("installation-not-found");return Nt(I)})}function Nt(M){return function _i(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function sn(M,I){return V1.apply(this,arguments)}function V1(){return(V1=(0,k.Z)(function*({appConfig:M,heartbeatServiceProvider:I},x){const O=on(M,x),Q=F(M,x),te=I.getImmediate({optional:!0});if(te){const ut=yield te.getHeartbeatsHeader();ut&&Q.append("x-firebase-client",ut)}const He={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:K,appId:M.appId}})},Je=yield ge(()=>fetch(O,He));if(Je.ok)return Ce(yield Je.json());throw yield Ee("Generate Auth Token",Je)})).apply(this,arguments)}function on(M,{fid:I}){return`${Te(M)}/${I}/authTokens:generate`}function ir(M){return Br.apply(this,arguments)}function Br(){return(Br=(0,k.Z)(function*(M,I=!1){let x;const O=yield h1(M.appConfig,te=>{if(!Ut(te))throw et.create("not-registered");const Me=te.authToken;if(!I&&B(Me))return te;if(1===Me.requestStatus)return x=rt(M,I),te;{if(!navigator.onLine)throw et.create("app-offline");const He=Z(te);return x=Dt(M,He),He}});return x?yield x:O.authToken})).apply(this,arguments)}function rt(M,I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,k.Z)(function*(M,I){let x=yield tt(M.appConfig);for(;1===x.authToken.requestStatus;)yield ke(100),x=yield tt(M.appConfig);const O=x.authToken;return 0===O.requestStatus?ir(M,I):O})).apply(this,arguments)}function tt(M){return h1(M,I=>{if(!Ut(I))throw et.create("not-registered");return function we(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Dt(M,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*(M,I){try{const x=yield sn(M,I),O=Object.assign(Object.assign({},I),{authToken:x});return yield Qe(M.appConfig,O),x}catch(x){if(!lt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const O=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Qe(M.appConfig,O)}else yield yi(M.appConfig);throw x}})).apply(this,arguments)}function Ut(M){return void 0!==M&&2===M.registrationStatus}function B(M){return 2===M.requestStatus&&!function V(M){const I=Date.now();return I<M.creationTime||M.creationTime+M.expiresIn<I+36e5}(M)}function Z(M){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:I})}function Ge(){return(Ge=(0,k.Z)(function*(M){const I=M,{installationEntry:x,registrationPromise:O}=yield Fn(I);return O?O.catch(console.error):ir(I).catch(console.error),x.fid})).apply(this,arguments)}function Jt(){return(Jt=(0,k.Z)(function*(M,I=!1){const x=M;return yield bn(x),(yield ir(x,I)).token})).apply(this,arguments)}function bn(M){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,k.Z)(function*(M){const{registrationPromise:I}=yield Fn(M);I&&(yield I)})).apply(this,arguments)}function Ci(M){return et.create("missing-app-config-values",{valueName:M})}const Ds="installations",Nn=M=>{const I=M.getProvider("app").getImmediate(),x=function An(M){if(!M||!M.options)throw Ci("App Configuration");if(!M.name)throw Ci("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!M.options[x])throw Ci(x);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},qi=M=>{const I=M.getProvider("app").getImmediate(),x=(0,ae._getProvider)(I,Ds).getImmediate();return{getId:()=>function Y(M){return Ge.apply(this,arguments)}(x),getToken:Q=>function mt(M){return Jt.apply(this,arguments)}(x,Q)}};(function E2(){(0,ae._registerComponent)(new he.wA(Ds,Nn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",qi,"PRIVATE"))})(),(0,ae.registerVersion)(de,U),(0,ae.registerVersion)(de,U,"esm2017");const H1="@firebase/remote-config",Qn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class O4{constructor(I,x,O,Q){this.client=I,this.storage=x,this.storageCache=O,this.logger=Q}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-x,Q=O<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var x=this;return(0,k.Z)(function*(){const[O,Q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Q&&x.isCachedDataFresh(I.cacheMaxAgeMillis,O))return Q;I.eTag=Q&&Q.eTag;const te=yield x.client.fetch(I),Me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Me.push(x.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Me),te})()}}function Xa(M=navigator){return M.languages&&M.languages[0]||M.language}class ec{constructor(I,x,O,Q,te,Me){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=O,this.projectId=Q,this.apiKey=te,this.appId=Me}fetch(I){var x=this;return(0,k.Z)(function*(){const[O,Q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Je={sdk_version:x.sdkVersion,app_instance_id:O,app_instance_id_token:Q,app_id:x.appId,language_code:Xa()},ut={method:"POST",headers:He,body:JSON.stringify(Je)},Rt=fetch(Me,ut),Mt=new Promise((jn,o1)=>{I.signal.addEventListener(()=>{const li=new Error("The operation was aborted.");li.name="AbortError",o1(li)})});let Jn;try{yield Promise.race([Rt,Mt]),Jn=yield Rt}catch(jn){let o1="fetch-client-network";throw"AbortError"===jn?.name&&(o1="fetch-timeout"),Qn.create(o1,{originalErrorMessage:jn?.message})}let Bn=Jn.status;const Gs=Jn.headers.get("ETag")||void 0;let qs,zt;if(200===Jn.status){let jn;try{jn=yield Jn.json()}catch(o1){throw Qn.create("fetch-client-parse",{originalErrorMessage:o1?.message})}qs=jn.entries,zt=jn.state}if("INSTANCE_STATE_UNSPECIFIED"===zt?Bn=500:"NO_CHANGE"===zt?Bn=304:("NO_TEMPLATE"===zt||"EMPTY_CONFIG"===zt)&&(qs={}),304!==Bn&&200!==Bn)throw Qn.create("fetch-status",{httpStatus:Bn});return{status:Bn,eTag:Gs,config:qs}})()}}class jl{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,k.Z)(function*(){const O=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,O)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:O}){var Q=this;return(0,k.Z)(function*(){yield function or(M,I){return new Promise((x,O)=>{const Q=Math.max(I-Date.now(),0),te=setTimeout(x,Q);M.addEventListener(()=>{clearTimeout(te),O(Qn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const te=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),te}catch(te){if(!function V4(M){if(!(M instanceof oe.ZR&&M.customData))return!1;const I=Number(M.customData.httpStatus);return 429===I||500===I||503===I||504===I}(te))throw te;const Me={throttleEndTimeMillis:Date.now()+(0,oe.$s)(O),backoffCount:O+1};return yield Q.storage.setThrottleMetadata(Me),Q.attemptFetch(I,Me)}})()}}class H4{constructor(I,x,O,Q,te){this.app=I,this._client=x,this._storageCache=O,this._storage=Q,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tc(M,I){const x=M.target.error||void 0;return Qn.create(I,{originalErrorMessage:x&&x?.message})}const Mi="app_namespace_store";class Wl{constructor(I,x,O,Q=function ql(){return new Promise((M,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=O=>{I(tc(O,"storage-open"))},x.onsuccess=O=>{M(O.target.result)},x.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(Mi,{keyPath:"compositeKey"})}}catch(x){I(Qn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=I,this.appName=x,this.namespace=O,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,k.Z)(function*(){const O=yield x.openDbPromise;return new Promise((Q,te)=>{const He=O.transaction([Mi],"readonly").objectStore(Mi),Je=x.createCompositeKey(I);try{const ut=He.get(Je);ut.onerror=Rt=>{te(tc(Rt,"storage-get"))},ut.onsuccess=Rt=>{const Mt=Rt.target.result;Q(Mt?Mt.value:void 0)}}catch(ut){te(Qn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(I,x){var O=this;return(0,k.Z)(function*(){const Q=yield O.openDbPromise;return new Promise((te,Me)=>{const Je=Q.transaction([Mi],"readwrite").objectStore(Mi),ut=O.createCompositeKey(I);try{const Rt=Je.put({compositeKey:ut,value:x});Rt.onerror=Mt=>{Me(tc(Mt,"storage-set"))},Rt.onsuccess=()=>{te()}}catch(Rt){Me(Qn.create("storage-set",{originalErrorMessage:Rt?.message}))}})})()}delete(I){var x=this;return(0,k.Z)(function*(){const O=yield x.openDbPromise;return new Promise((Q,te)=>{const He=O.transaction([Mi],"readwrite").objectStore(Mi),Je=x.createCompositeKey(I);try{const ut=He.delete(Je);ut.onerror=Rt=>{te(tc(Rt,"storage-delete"))},ut.onsuccess=()=>{Q()}}catch(ut){te(Qn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class U4{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,k.Z)(function*(){const x=I.storage.getLastFetchStatus(),O=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),te=yield x;te&&(I.lastFetchStatus=te);const Me=yield O;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const He=yield Q;He&&(I.activeConfig=He)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function I2(){return T0.apply(this,arguments)}function T0(){return(T0=(0,k.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ii(){(0,ae._registerComponent)(new he.wA("remote-config",function M(I,{instanceIdentifier:x}){const O=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,oe.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:te,apiKey:Me,appId:He}=O.options;if(!te)throw Qn.create("registration-project-id");if(!Me)throw Qn.create("registration-api-key");if(!He)throw Qn.create("registration-app-id");const Je=new Wl(He,O.name,x=x||"firebase"),ut=new U4(Je),Rt=new le.Yd(H1);Rt.logLevel=le.in.ERROR;const Mt=new ec(Q,ae.SDK_VERSION,x,te,Me,He),Jn=new jl(Mt,Je),Bn=new O4(Jn,Je,ut,Rt),Gs=new H4(O,Bn,ut,Je,Rt);return function Yn(M){const I=(0,oe.m9)(M);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Gs),Gs},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(H1,"0.4.0"),(0,ae.registerVersion)(H1,"0.4.0","esm2017")}();const F1="/firebase-messaging-sw.js",ei="/firebase-cloud-messaging-push-scope",ti="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_o="google.c.a.c_id",S2="google.c.a.c_l",nc="google.c.a.ts",x0="google.c.a.e";var ni=(()=>{return(M=ni||(ni={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ni;var M})();function f1(M){const I=new Uint8Array(M);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function t1(M){const x=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(x),Q=new Uint8Array(O.length);for(let te=0;te<O.length;++te)Q[te]=O.charCodeAt(te);return Q}const Ns="fcm_token_details_db",Er="fcm_token_object_Store";function N0(M){return L0.apply(this,arguments)}function L0(){return L0=(0,k.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Ns))return null;let I=null;return(yield(0,fe.X3)(Ns,5,{upgrade:(O=(0,k.Z)(function*(Q,te,Me,He){var Je;if(te<2||!Q.objectStoreNames.contains(Er))return;const ut=He.objectStore(Er),Rt=yield ut.index("fcmSenderId").get(M);if(yield ut.clear(),Rt)if(2===te){const Mt=Rt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;I={token:Mt.fcmToken,createTime:null!==(Je=Mt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:f1(Mt.vapidKey)}}}else if(3===te){const Mt=Rt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:f1(Mt.auth),p256dh:f1(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:f1(Mt.vapidKey)}}}else if(4===te){const Mt=Rt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:f1(Mt.auth),p256dh:f1(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:f1(Mt.vapidKey)}}}}),function(te,Me,He,Je){return O.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Ns),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Rn(I)?I:null;var O}),L0.apply(this,arguments)}function Rn(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:I}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const d1="firebase-messaging-store";let Tr=null;function D2(){return Tr||(Tr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(M,I)=>{0===I&&M.createObjectStore(d1)}})),Tr}function Ki(M){return ri.apply(this,arguments)}function ri(){return(ri=(0,k.Z)(function*(M){const I=I1(M),O=yield(yield D2()).transaction(d1).objectStore(d1).get(I);if(O)return O;{const Q=yield N0(M.appConfig.senderId);if(Q)return yield Qt(M,Q),Q}})).apply(this,arguments)}function Qt(M,I){return T2.apply(this,arguments)}function T2(){return(T2=(0,k.Z)(function*(M,I){const x=I1(M),Q=(yield D2()).transaction(d1,"readwrite");return yield Q.objectStore(d1).put(I,x),yield Q.done,I})).apply(this,arguments)}function Qi(M){return x2.apply(this,arguments)}function x2(){return(x2=(0,k.Z)(function*(M){const I=I1(M),O=(yield D2()).transaction(d1,"readwrite");yield O.objectStore(d1).delete(I),yield O.done})).apply(this,arguments)}function I1({appConfig:M}){return M.appId}const zn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tt(M,I){return L2.apply(this,arguments)}function L2(){return(L2=(0,k.Z)(function*(M,I){const x=yield sc(M),O=Se(I),Q={method:"POST",headers:x,body:JSON.stringify(O)};let te;try{te=yield(yield fetch(ii(M.appConfig),Q)).json()}catch(Me){throw zn.create("token-subscribe-failed",{errorInfo:Me?.toString()})}if(te.error)throw zn.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw zn.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function k0(M,I){return z2.apply(this,arguments)}function z2(){return(z2=(0,k.Z)(function*(M,I){const x=yield sc(M),O=Se(I.subscriptionOptions),Q={method:"PATCH",headers:x,body:JSON.stringify(O)};let te;try{te=yield(yield fetch(`${ii(M.appConfig)}/${I.token}`,Q)).json()}catch(Me){throw zn.create("token-update-failed",{errorInfo:Me?.toString()})}if(te.error)throw zn.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw zn.create("token-update-no-token");return te.token})).apply(this,arguments)}function k2(M,I){return ic.apply(this,arguments)}function ic(){return(ic=(0,k.Z)(function*(M,I){const O={method:"DELETE",headers:yield sc(M)};try{const te=yield(yield fetch(`${ii(M.appConfig)}/${I}`,O)).json();if(te.error)throw zn.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(Q){throw zn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function ii({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function sc(M){return Co.apply(this,arguments)}function Co(){return(Co=(0,k.Z)(function*({appConfig:M,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Se({p256dh:M,auth:I,endpoint:x,vapidKey:O}){const Q={web:{endpoint:x,auth:I,p256dh:M}};return O!==ti&&(Q.web.applicationPubKey=O),Q}const Wt=6048e5;function oc(M){return ac.apply(this,arguments)}function ac(){return(ac=(0,k.Z)(function*(M){const I=yield cc(M.swRegistration,M.vapidKey),x={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:I.endpoint,auth:f1(I.getKey("auth")),p256dh:f1(I.getKey("p256dh"))},O=yield Ki(M.firebaseDependencies);if(O){if($4(O.subscriptionOptions,x))return Date.now()>=O.createTime+Wt?Ls(M,{token:O.token,createTime:Date.now(),subscriptionOptions:x}):O.token;try{yield k2(M.firebaseDependencies,O.token)}catch(Q){console.warn(Q)}return wo(M.firebaseDependencies,x)}return wo(M.firebaseDependencies,x)})).apply(this,arguments)}function Pn(M){return R2.apply(this,arguments)}function R2(){return(R2=(0,k.Z)(function*(M){const I=yield Ki(M.firebaseDependencies);I&&(yield k2(M.firebaseDependencies,I.token),yield Qi(M.firebaseDependencies));const x=yield M.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ls(M,I){return p1.apply(this,arguments)}function p1(){return(p1=(0,k.Z)(function*(M,I){try{const x=yield k0(M.firebaseDependencies,I),O=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Qt(M.firebaseDependencies,O),x}catch(x){throw yield Pn(M),x}})).apply(this,arguments)}function wo(M,I){return bo.apply(this,arguments)}function bo(){return(bo=(0,k.Z)(function*(M,I){const O={token:yield Tt(M,I),createTime:Date.now(),subscriptionOptions:I};return yield Qt(M,O),O.token})).apply(this,arguments)}function cc(M,I){return lc.apply(this,arguments)}function lc(){return(lc=(0,k.Z)(function*(M,I){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t1(I)})})).apply(this,arguments)}function $4(M,I){return I.vapidKey===M.vapidKey&&I.endpoint===M.endpoint&&I.auth===M.auth&&I.p256dh===M.p256dh}function Eo(M){const I={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function On(M,I){if(!I.notification)return;M.notification={};const x=I.notification.title;x&&(M.notification.title=x);const O=I.notification.body;O&&(M.notification.body=O);const Q=I.notification.image;Q&&(M.notification.image=Q);const te=I.notification.icon;te&&(M.notification.icon=te)}(I,M),function U1(M,I){!I.data||(M.data=I.data)}(I,M),function uc(M,I){var x,O,Q,te,Me;if(!(I.fcmOptions||null!==(x=I.notification)&&void 0!==x&&x.click_action))return;M.fcmOptions={};const He=null!==(Q=null===(O=I.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==Q?Q:null===(te=I.notification)||void 0===te?void 0:te.click_action;He&&(M.fcmOptions.link=He);const Je=null===(Me=I.fcmOptions)||void 0===Me?void 0:Me.analytics_label;Je&&(M.fcmOptions.analyticsLabel=Je)}(I,M),I}function Yi(M){return"object"==typeof M&&!!M&&_o in M}function si(M,I){const x=[];for(let O=0;O<M.length;O++)x.push(M.charAt(O)),O<I.length&&x.push(I.charAt(O));return x.join("")}function Mo(M){return zn.create("missing-app-config-values",{valueName:M})}si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kl{constructor(I,x,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Zl(M){if(!M||!M.options)throw Mo("App Configuration Object");if(!M.name)throw Mo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=M;for(const O of I)if(!x[O])throw Mo(O);return{appName:M.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:x,analyticsProvider:O}}_delete(){return Promise.resolve()}}function hc(M){return P2.apply(this,arguments)}function P2(){return(P2=(0,k.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(F1,{scope:ei}),M.swRegistration.update().catch(()=>{})}catch(I){throw zn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Io(M,I){return fc.apply(this,arguments)}function fc(){return(fc=(0,k.Z)(function*(M,I){if(!I&&!M.swRegistration&&(yield hc(M)),I||!M.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw zn.create("invalid-sw-registration");M.swRegistration=I}})).apply(this,arguments)}function So(M,I){return dc.apply(this,arguments)}function dc(){return(dc=(0,k.Z)(function*(M,I){I?M.vapidKey=I:M.vapidKey||(M.vapidKey=ti)})).apply(this,arguments)}function V2(){return(V2=(0,k.Z)(function*(M,I){if(!navigator)throw zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zn.create("permission-blocked");return yield So(M,I?.vapidKey),yield Io(M,I?.serviceWorkerRegistration),oc(M)})).apply(this,arguments)}function pc(M,I,x){return mc.apply(this,arguments)}function mc(){return(mc=(0,k.Z)(function*(M,I,x){const O=gc(I);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:x[_o],message_name:x[S2],message_time:x[nc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gc(M){switch(M){case ni.NOTIFICATION_CLICKED:return"notification_open";case ni.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ji(){return(Ji=(0,k.Z)(function*(M,I){const x=I.data;if(!x.isFirebaseMessaging)return;M.onMessageHandler&&x.messageType===ni.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Eo(x)):M.onMessageHandler.next(Eo(x)));const O=x.data;Yi(O)&&"1"===O[x0]&&(yield pc(M,x.messageType,O))})).apply(this,arguments)}const Xi="@firebase/messaging",ar=M=>{const I=new Kl(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function G4(M,I){return Ji.apply(this,arguments)}(I,x)),I},n1=M=>{const I=M.getProvider("messaging").getImmediate();return{getToken:O=>function O2(M,I){return V2.apply(this,arguments)}(I,O)}};function q4(){return vc.apply(this,arguments)}function vc(){return(vc=(0,k.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mn(){(0,ae._registerComponent)(new he.wA("messaging",ar,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",n1,"PRIVATE")),(0,ae.registerVersion)(Xi,"0.12.0"),(0,ae.registerVersion)(Xi,"0.12.0","esm2017")}();const ks="analytics",K4="firebase_id",ts="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",B2="https://www.googletagmanager.com/gtag/js",Vn=new le.Yd("@firebase/analytics");function j2(M){return Promise.all(M.map(I=>I.catch(x=>x)))}function $2(M,I){const x=document.createElement("script");x.src=`${B2}?l=${M}&id=${I}`,x.async=!0,document.head.appendChild(x)}function P0(M,I,x,O,Q,te){return ns.apply(this,arguments)}function ns(){return(ns=(0,k.Z)(function*(M,I,x,O,Q,te){const Me=O[Q];try{if(Me)yield I[Me];else{const Je=(yield j2(x)).find(ut=>ut.measurementId===Q);Je&&(yield I[Je.appId])}}catch(He){Vn.error(He)}M("config",Q,te)})).apply(this,arguments)}function Rs(M,I,x,O,Q){return rs.apply(this,arguments)}function rs(){return(rs=(0,k.Z)(function*(M,I,x,O,Q){try{let te=[];if(Q&&Q.send_to){let Me=Q.send_to;Array.isArray(Me)||(Me=[Me]);const He=yield j2(x);for(const Je of Me){const ut=He.find(Mt=>Mt.measurementId===Je),Rt=ut&&I[ut.appId];if(!Rt){te=[];break}te.push(Rt)}}0===te.length&&(te=Object.values(I)),yield Promise.all(te),M("event",O,Q||{})}catch(te){Vn.error(te)}})).apply(this,arguments)}function Y4(M){const I=window.document.getElementsByTagName("script");for(const x of Object.values(I))if(x.src&&x.src.includes(B2)&&x.src.includes(M))return x;return null}const mr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xo=new class B1{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function X4(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function No(M){return _c.apply(this,arguments)}function _c(){return(_c=(0,k.Z)(function*(M){var I;const{appId:x,apiKey:O}=M,Q={method:"GET",headers:X4(O)},te=ts.replace("{app-id}",x),Me=yield fetch(te,Q);if(200!==Me.status&&304!==Me.status){let He="";try{const Je=yield Me.json();null!==(I=Je.error)&&void 0!==I&&I.message&&(He=Je.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:He})}return Me.json()})).apply(this,arguments)}function Un(M){return S1.apply(this,arguments)}function S1(){return(S1=(0,k.Z)(function*(M,I=xo,x){const{appId:O,apiKey:Q,measurementId:te}=M.options;if(!O)throw mr.create("no-app-id");if(!Q){if(te)return{measurementId:te,appId:O};throw mr.create("no-api-key")}const Me=I.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Z2;return setTimeout((0,k.Z)(function*(){He.abort()}),void 0!==x?x:6e4),q2({appId:O,apiKey:Q,measurementId:te},Me,He,I)})).apply(this,arguments)}function q2(M,I,x){return is.apply(this,arguments)}function is(){return(is=(0,k.Z)(function*(M,{throttleEndTimeMillis:I,backoffCount:x},O,Q=xo){var te;const{appId:Me,measurementId:He}=M;try{yield Lo(O,I)}catch(Je){if(He)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:Me,measurementId:He};throw Je}try{const Je=yield No(M);return Q.deleteThrottleMetadata(Me),Je}catch(Je){const ut=Je;if(!W2(ut)){if(Q.deleteThrottleMetadata(Me),He)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Me,measurementId:He};throw Je}const Rt=503===Number(null===(te=ut?.customData)||void 0===te?void 0:te.httpStatus)?(0,oe.$s)(x,Q.intervalMillis,30):(0,oe.$s)(x,Q.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+Rt,backoffCount:x+1};return Q.setThrottleMetadata(Me,Mt),Vn.debug(`Calling attemptFetch again in ${Rt} millis`),q2(M,Mt,O,Q)}})).apply(this,arguments)}function Lo(M,I){return new Promise((x,O)=>{const Q=Math.max(I-Date.now(),0),te=setTimeout(x,Q);M.addEventListener(()=>{clearTimeout(te),O(mr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function W2(M){if(!(M instanceof oe.ZR&&M.customData))return!1;const I=Number(M.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Z2{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Di,ko;function Ti(){return(Ti=(0,k.Z)(function*(M,I,x,O,Q){if(Q&&Q.global)M("event",x,O);else{const te=yield I;M("event",x,Object.assign(Object.assign({},O),{send_to:te}))}})).apply(this,arguments)}function os(M){ko=M}function wc(M){Di=M}function xi(){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,k.Z)(function*(){if(!(0,oe.hl)())return Vn.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(M){return Vn.warn(mr.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Vs(){return(Vs=(0,k.Z)(function*(M,I,x,O,Q,te,Me){var He;const Je=Un(M);Je.then(Bn=>{x[Bn.measurementId]=Bn.appId,M.options.measurementId&&Bn.measurementId!==M.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bn=>Vn.error(Bn)),I.push(Je);const ut=xi().then(Bn=>{if(Bn)return O.getId()}),[Rt,Mt]=yield Promise.all([Je,ut]);Y4(te)||$2(te,Rt.measurementId),ko&&(Q("consent","default",ko),os(void 0)),Q("js",new Date);const Jn=null!==(He=Me?.config)&&void 0!==He?He:{};return Jn.origin="firebase",Jn.update=!0,null!=Mt&&(Jn[K4]=Mt),Q("config",Rt.measurementId,Jn),Di&&(Q("set",Di),wc(void 0)),Rt.measurementId})).apply(this,arguments)}class J2{constructor(I){this.app=I}_delete(){return delete r1[this.app.options.appId],Promise.resolve()}}let r1={},Ni=[];const Hs={};let Us,as,Fs="dataLayer",Ro=!1;function d5(M,I,x){!function Ql(){const M=[];if((0,oe.ru)()&&M.push("This is a browser extension environment."),(0,oe.zI)()||M.push("Cookies are not available."),M.length>0){const I=M.map((O,Q)=>`(${Q+1}) ${O}`).join(" "),x=mr.create("invalid-analytics-context",{errorInfo:I});Vn.warn(x.message)}}();const O=M.options.appId;if(!O)throw mr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw mr.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=r1[O])throw mr.create("already-exists",{id:O});if(!Ro){!function Q4(M){let I=[];Array.isArray(window[M])?I=window[M]:window[M]=I}(Fs);const{wrappedGtag:te,gtagCore:Me}=function Ao(M,I,x,O,Q){let te=function(...Me){window[O].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(te=window[Q]),window[Q]=function G2(M,I,x,O){function te(){return(te=(0,k.Z)(function*(Me,He,Je){try{"event"===Me?yield Rs(M,I,x,He,Je):"config"===Me?yield P0(M,I,x,O,He,Je):"consent"===Me?M("consent","update",Je):M("set",He)}catch(ut){Vn.error(ut)}})).apply(this,arguments)}return function Q(Me,He,Je){return te.apply(this,arguments)}}(te,M,I,x),{gtagCore:te,wrappedGtag:window[Q]}}(r1,Ni,Hs,Fs,"gtag");as=te,Us=Me,Ro=!0}return r1[O]=function Os(M,I,x,O,Q,te,Me){return Vs.apply(this,arguments)}(M,Ni,Hs,I,Us,Fs,x),new J2(M)}function m5(){return O0.apply(this,arguments)}function O0(){return(O0=(0,k.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const ct="@firebase/analytics";!function Dn(){(0,ae._registerComponent)(new he.wA(ks,(I,{options:x})=>d5(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function M(I){try{const x=I.getProvider(ks).getImmediate();return{logEvent:(O,Q,te)=>function _n(M,I,x,O){M=(0,oe.m9)(M),function e6(M,I,x,O,Q){return Ti.apply(this,arguments)}(as,r1[M.app.options.appId],I,x,O).catch(Q=>Vn.error(Q))}(x,O,Q,te)}}catch(x){throw mr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(ct,"0.9.0"),(0,ae.registerVersion)(ct,"0.9.0","esm2017")}();var A1=z(4408),Nr=z(7565);const ea=new class Li extends Nr.v{}(class Oo extends A1.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(I,x,O):(I.flush(this),0)}});var bc=z(4986),ta=z(8505),Bs=z(9468),zi=z(5363);const it=new g.GfV("7.5.0"),Vo="__angularfire_symbol__analyticsIsSupportedValue",ki="__angularfire_symbol__analyticsIsSupported",na="__angularfire_symbol__remoteConfigIsSupportedValue",Ho="__angularfire_symbol__remoteConfigIsSupported",cr="__angularfire_symbol__messagingIsSupportedValue",Ec="__angularfire_symbol__messagingIsSupported";function Fo(M,I,x){if(I){if(1===I.length)return I[0];const te=I.filter(Me=>Me.app===x);if(1===te.length)return te[0]}return x.container.getProvider(M).getImmediate({optional:!0})}globalThis[ki]||(globalThis[ki]=m5().then(M=>globalThis[Vo]=M).catch(()=>globalThis[Vo]=!1)),globalThis[Ec]||(globalThis[Ec]=q4().then(M=>globalThis[cr]=M).catch(()=>globalThis[cr]=!1)),globalThis[Ho]||(globalThis[Ho]=I2().then(M=>globalThis[na]=M).catch(()=>globalThis[na]=!1));const Ri=(M,I)=>{const x=I?[I]:(0,X.C6)(),O=[];return x.forEach(Q=>{Q.container.getProvider(M).instances.forEach(Me=>{O.includes(Me)||O.push(Me)})}),O};function Pi(){}class m1{constructor(I,x=ea){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,O){const Q=this.zone;return this.delegate.schedule(function(Me){Q.runGuarded(()=>{I.apply(this,[Me])})},x,O)}}class Ic{constructor(I){this.zone=I,this.task=null}call(I,x){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pi,{},Pi,Pi)),x.pipe((0,ta.b)({next:O,complete:O,error:O})).subscribe(I).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $s=(()=>{class M{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new m1(Zone.current)),this.insideAngular=x.run(()=>new m1(Zone.current,bc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(x){return new(x||M)(g.LFG(g.R0b))},M.\u0275prov=g.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function s1(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function ci(M){return s1(),function Hn(M){return function(x){return(x=x.lift(new Ic(M.ngZone))).pipe((0,Bs.R)(M.outsideAngular),(0,zi.Q)(M.insideAngular))}}(s1())(M)}},2090:(ft,Ae,z)=>{z.d(Ae,{$s:()=>tt,BH:()=>$t,G6:()=>Ee,L:()=>fe,LL:()=>Yt,Pz:()=>nn,Sg:()=>Ze,UG:()=>be,US:()=>he,ZB:()=>j,ZR:()=>Sn,aH:()=>pt,b$:()=>pe,eu:()=>Be,hl:()=>Ue,jU:()=>ot,m9:()=>Ut,ne:()=>Wn,pd:()=>O1,r3:()=>E1,ru:()=>ve,tV:()=>de,uI:()=>Ne,vZ:()=>Qe,w1:()=>lt,xO:()=>rr,xb:()=>u1,z$:()=>Oe,zI:()=>F,zd:()=>h1});const ae=function(B){const V=[];let Z=0;for(let we=0;we<B.length;we++){let Y=B.charCodeAt(we);Y<128?V[Z++]=Y:Y<2048?(V[Z++]=Y>>6|192,V[Z++]=63&Y|128):55296==(64512&Y)&&we+1<B.length&&56320==(64512&B.charCodeAt(we+1))?(Y=65536+((1023&Y)<<10)+(1023&B.charCodeAt(++we)),V[Z++]=Y>>18|240,V[Z++]=Y>>12&63|128,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128):(V[Z++]=Y>>12|224,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128)}return V},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,V){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let Y=0;Y<B.length;Y+=3){const Ge=B[Y],mt=Y+1<B.length,Jt=mt?B[Y+1]:0,bn=Y+2<B.length,Kt=bn?B[Y+2]:0;let Bt=(15&Jt)<<2|Kt>>6,dr=63&Kt;bn||(dr=64,mt||(Bt=64)),we.push(Z[Ge>>2],Z[(3&Ge)<<4|Jt>>4],Z[Bt],Z[dr])}return we.join("")},encodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(B):this.encodeByteArray(ae(B),V)},decodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(B):function(B){const V=[];let Z=0,we=0;for(;Z<B.length;){const Y=B[Z++];if(Y<128)V[we++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ge=B[Z++];V[we++]=String.fromCharCode((31&Y)<<6|63&Ge)}else if(Y>239&&Y<365){const bn=((7&Y)<<18|(63&B[Z++])<<12|(63&B[Z++])<<6|63&B[Z++])-65536;V[we++]=String.fromCharCode(55296+(bn>>10)),V[we++]=String.fromCharCode(56320+(1023&bn))}else{const Ge=B[Z++],mt=B[Z++];V[we++]=String.fromCharCode((15&Y)<<12|(63&Ge)<<6|63&mt)}}return V.join("")}(this.decodeStringToByteArray(B,V))},decodeStringToByteArray(B,V){this.init_();const Z=V?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let Y=0;Y<B.length;){const Ge=Z[B.charAt(Y++)],Jt=Y<B.length?Z[B.charAt(Y)]:0;++Y;const Kt=Y<B.length?Z[B.charAt(Y)]:64;++Y;const je=Y<B.length?Z[B.charAt(Y)]:64;if(++Y,null==Ge||null==Jt||null==Kt||null==je)throw Error();we.push(Ge<<2|Jt>>4),64!==Kt&&(we.push(Jt<<4&240|Kt>>2),64!==je&&we.push(Kt<<6&192|je))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},fe=function(B){return function(B){const V=ae(B);return he.encodeByteArray(V,!0)}(B).replace(/\./g,"")},de=function(B){try{return he.decodeString(B,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function j(B,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return V}for(const Z in V)!V.hasOwnProperty(Z)||!K(Z)||(B[Z]=j(B[Z],V[Z]));return B}function K(B){return"__proto__"!==B}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function ve(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const B=Oe();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ee(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((B,V)=>{try{let Z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(we);Y.onsuccess=()=>{Y.result.close(),Z||self.indexedDB.deleteDatabase(we),B(!0)},Y.onupgradeneeded=()=>{Z=!1},Y.onerror=()=>{var Ge;V((null===(Ge=Y.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(Z){V(Z)}})}function F(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=B&&de(B[1]);return V&&JSON.parse(V)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},pt=()=>{var B;return null===(B=ie())||void 0===B?void 0:B.config},nn=B=>{var V;return null===(V=ie())||void 0===V?void 0:V[`_${B}`]};class $t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Z)=>{this.resolve=V,this.reject=Z})}wrapCallback(V){return(Z,we)=>{Z?this.reject(Z):this.resolve(we),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Z):V(Z,we))}}}function Ze(B,V){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=V||"demo-project",Y=B.iat||0,Ge=B.sub||B.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:Y,exp:Y+3600,auth_time:Y,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},B);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(mt)),""].join(".")}class Sn extends Error{constructor(V,Z,we){super(Z),this.code=V,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}}class Yt{constructor(V,Z,we){this.service=V,this.serviceName=Z,this.errors=we}create(V,...Z){const we=Z[0]||{},Y=`${this.service}/${V}`,Ge=this.errors[V],mt=Ge?function rn(B,V){return B.replace(Fr,(Z,we)=>{const Y=V[we];return null!=Y?String(Y):`<${we}?>`})}(Ge,we):"Error";return new Sn(Y,`${this.serviceName}: ${mt} (${Y}).`,we)}}const Fr=/\{\$([^}]+)}/g;function E1(B,V){return Object.prototype.hasOwnProperty.call(B,V)}function u1(B){for(const V in B)if(Object.prototype.hasOwnProperty.call(B,V))return!1;return!0}function Qe(B,V){if(B===V)return!0;const Z=Object.keys(B),we=Object.keys(V);for(const Y of Z){if(!we.includes(Y))return!1;const Ge=B[Y],mt=V[Y];if(Ar(Ge)&&Ar(mt)){if(!Qe(Ge,mt))return!1}else if(Ge!==mt)return!1}for(const Y of we)if(!Z.includes(Y))return!1;return!0}function Ar(B){return null!==B&&"object"==typeof B}function rr(B){const V=[];for(const[Z,we]of Object.entries(B))Array.isArray(we)?we.forEach(Y=>{V.push(encodeURIComponent(Z)+"="+encodeURIComponent(Y))}):V.push(encodeURIComponent(Z)+"="+encodeURIComponent(we));return V.length?"&"+V.join("&"):""}function h1(B){const V={};return B.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[Y,Ge]=we.split("=");V[decodeURIComponent(Y)]=decodeURIComponent(Ge)}}),V}function O1(B){const V=B.indexOf("?");if(!V)return"";const Z=B.indexOf("#",V);return B.substring(V,Z>0?Z:void 0)}function Wn(B,V){const Z=new En(B,V);return Z.subscribe.bind(Z)}class En{constructor(V,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{V(this)}).catch(we=>{this.error(we)})}next(V){this.forEachObserver(Z=>{Z.next(V)})}error(V){this.forEachObserver(Z=>{Z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Z,we){let Y;if(void 0===V&&void 0===Z&&void 0===we)throw new Error("Missing Observer.");Y=function ht(B,V){if("object"!=typeof B||null===B)return!1;for(const Z of V)if(Z in B&&"function"==typeof B[Z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Z,complete:we},void 0===Y.next&&(Y.next=ln),void 0===Y.error&&(Y.error=ln),void 0===Y.complete&&(Y.complete=ln);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ge}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,V)}sendOne(V,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Z(this.observers[V])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function tt(B,V=1e3,Z=2){const we=V*Math.pow(Z,B),Y=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+Y)}function Ut(B){return B&&B._delegate?B._delegate:B}},7650:(ft,Ae,z)=>{var g=z(4650);let X=null;function k(){return X}const le=new g.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function de(){return(0,g.LFG)(j)}()},providedIn:"platform"}),n})();const U=new g.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Oe(){return new j((0,g.LFG)(le))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(et)},providedIn:"root"}),n})();const pe=new g.OlP("appBaseHref");let et=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ot(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,c){const u=this.prepareExternalUrl(i+ot(c));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,c){const u=this.prepareExternalUrl(i+ot(c));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fe),g.LFG(pe,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lt=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,c){let u=this.prepareExternalUrl(i+ot(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,c){let u=this.prepareExternalUrl(i+ot(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fe),g.LFG(pe,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(t){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Ue(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ot(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ot,n.joinWithSlash=Ne,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(g.LFG(ve))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function Ce(){return new Te((0,g.LFG)(ve))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}function go(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}let un=(()=>{class n{constructor(t,r,i,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),Yn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ya,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ya{constructor(){this.$implicit=null,this.ngIf=null}}function pr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}let O4=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,c]=t.split("."),u=-1===i.indexOf("-")?void 0:g.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,c?`${r}${c}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.SBq),g.Y36(g.aQg),g.Y36(g.Qsj))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),xs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const ni="browser";function Er(n){return"server"===n}let A2=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new z0((0,g.LFG)(le),window)}),n})();class z0{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Tr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=d1(this.window.history)||d1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function d1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ki{}class Ji extends class G4 extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){X||(X=n)}(new Ji)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function H2(){return Xi=Xi||document.querySelector("base"),Xi?Xi.getAttribute("href"):null}();return null==t?null:function n1(n){ar=ar||document.createElement("a"),ar.setAttribute("href",n);const e=ar.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Xi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return go(document.cookie,e)}}let ar,Xi=null;const Mn=new g.OlP("TRANSITION_ID"),vc=[{provide:g.ip1,useFactory:function q4(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<i.length;c++)r.remove(i[c])})}},deps:[Mn,le,g.zs3],multi:!0}];let yc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const F2=new g.OlP("EventManagerPlugins");let W4=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let c=0;c<i.length;c++){const u=i[c];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(F2),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class U2{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let es=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),zs=(()=>{class n extends es{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(c=>{const u=this._doc.createElement("style");u.textContent=c,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Z4),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Z4))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Z4(n){k().remove(n)}const ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},K4=/%COMP%/g;function $2(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$2(n,i,t):(i=i.replace(K4,n),t.push(i))}return t}function Q4(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ns=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Rs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Y4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case g.ifc.ShadowDom:return new J4(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$2(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(W4),g.LFG(zs),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Rs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ks[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ao(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ao(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const c=ks[i];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ks[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,i&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Q4(r)):this.eventManager.addEventListener(e,t,Q4(r))}}function Ao(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Y4 extends Rs{constructor(e,t,r,i){super(e),this.component=r;const c=$2(i+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function Vn(n){return"_ngcontent-%COMP%".replace(K4,n)}(i+"-"+r.id),this.hostAttr=function j2(n){return"_nghost-%COMP%".replace(K4,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class J4 extends Rs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=$2(i.id,i.styles,[]);for(let u=0;u<c.length;u++){const f=document.createElement("style");f.textContent=c[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let mr=(()=>{class n extends U2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Do=["alt","control","meta","shift"],To={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xo=(()=>{class n extends U2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const c=n.parseEventName(r),u=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),Do.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),u+=w+".")}),u+=c,0!=r.length||0===c.length)return null;const v={};return v.domEventName=i,v.fullKey=u,v}static matchEventFullKeyCode(t,r){let i=To[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(i=t.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Do.forEach(u=>{u!==i&&(0,B1[u])(t)&&(c+=u+".")}),c+=i,c===r)}static eventCallback(t,r,i){return c=>{n.matchEventFullKeyCode(c,t)&&i.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Z2=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:ni},{provide:g.g9A,useValue:function q2(){Ji.makeCurrent()},multi:!0},{provide:le,useFactory:function Lo(){return(0,g.RDi)(document),document},deps:[]}]),Di=new g.OlP(""),e6=[{provide:g.rWj,useClass:class R0{addToWindow(e){g.dqk.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new Error("Could not find testability for element.");return c},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const i=g.dqk.getAllAngularTestabilities();let c=i.length,u=!1;const f=function(v){u=u||v,c--,0==c&&r(u)};i.forEach(function(v){v.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Ti=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function is(){return new g.qLn},deps:[]},{provide:F2,useClass:mr,multi:!0,deps:[le,g.R0b,g.Lbi]},{provide:F2,useClass:xo,multi:!0,deps:[le]},{provide:ns,useClass:ns,deps:[W4,zs,g.AFp]},{provide:g.FYo,useExisting:ns},{provide:es,useExisting:zs},{provide:zs,useClass:zs,deps:[le]},{provide:W4,useClass:W4,deps:[F2,g.R0b]},{provide:Ki,useClass:yc,deps:[]},[]];let K2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:Mn,useExisting:g.AFp},vc]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Di,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...Ti,...e6],imports:[xs,g.hGG]}),n})(),oi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ps(){return new oi((0,g.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):g.LFG(Xl),r},providedIn:"root"}),n})(),Xl=(()=>{class n extends Po{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case g.q3G.NONE:return r;case g.q3G.HTML:return(0,g.qzn)(r,"HTML")?(0,g.z3N)(r):(0,g.EiD)(this._doc,String(r)).toString();case g.q3G.STYLE:return(0,g.qzn)(r,"Style")?(0,g.z3N)(r):r;case g.q3G.SCRIPT:if((0,g.qzn)(r,"Script"))return(0,g.z3N)(r);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.qzn)(r,"URL")?(0,g.z3N)(r):(0,g.mCW)(String(r));case g.q3G.RESOURCE_URL:if((0,g.qzn)(r,"ResourceURL"))return(0,g.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,g.JVY)(t)}bypassSecurityTrustStyle(t){return(0,g.L6k)(t)}bypassSecurityTrustScript(t){return(0,g.eBb)(t)}bypassSecurityTrustUrl(t){return(0,g.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,g.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Jl(n){return new Xl(n.get(le))}(g.LFG(g.zs3)),r},providedIn:"root"}),n})();var _n=z(8996),j1=z(7669);function ct(...n){const e=(0,j1.yG)(n);return(0,_n.D)(n,e)}var xr=z(7579);class Dn extends xr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Oo=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nr=z(9751);const{isArray:Li}=Array,{getPrototypeOf:ea,prototype:eu,keys:bc}=Object;var zi=z(4671),it=z(4004);const{isArray:Vo}=Array;var cr=z(5403),Ec=z(9672);function js(...n){const e=(0,j1.yG)(n),t=(0,j1.jO)(n),{args:r,keys:i}=function ta(n){if(1===n.length){const e=n[0];if(Li(e))return{args:e,keys:null};if(function Bs(n){return n&&"object"==typeof n&&ea(n)===eu}(e)){const t=bc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,_n.D)([],e);const c=new Nr.y(function tu(n,e,t=zi.y){return r=>{Mc(e,()=>{const{length:i}=n,c=new Array(i);let u=i,f=i;for(let v=0;v<i;v++)Mc(e,()=>{const w=(0,_n.D)(n[v],e);let S=!1;w.subscribe((0,cr.x)(r,T=>{c[v]=T,S||(S=!0,f--),f||r.next(t(c.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>function Ho(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,u):zi.y));return t?c.pipe(function na(n){return(0,it.U)(e=>function ki(n,e){return Vo(e)?n(...e):n(e)}(n,e))}(t)):c}function Mc(n,e,t){n?(0,Ec.f)(t,n,e):e()}var ra=z(8189);function Ri(...n){return function Fo(){return(0,ra.J)(1)}()((0,_n.D)(n,(0,j1.yG)(n)))}var Pi=z(8421);function m1(n){return new Nr.y(e=>{(0,Pi.Xf)(n()).subscribe(e)})}var Ic=z(9635),$s=z(576);function s1(n,e){const t=(0,$s.m)(n)?n:()=>n,r=i=>i.error(t());return new Nr.y(e?i=>e.schedule(r,0,i):r)}var ai=z(515),D1=z(727),Mr=z(4482);function Oi(){return(0,Mr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,cr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,c=t;t=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ci extends Nr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new D1.w0;const t=this.getSubject();e.add(this.source.subscribe((0,cr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=D1.w0.EMPTY)}return e}refCount(){return Oi()(this)}}function Hn(n,e){return(0,Mr.e)((t,r)=>{let i=null,c=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,cr.x)(r,v=>{i?.unsubscribe();let w=0;const S=c++;(0,Pi.Xf)(n(v,S)).subscribe(i=(0,cr.x)(r,T=>r.next(e?e(v,T,S,w++):T),()=>{i=null,f()}))},()=>{u=!0,f()}))})}function Tn(n){return n<=0?()=>ai.E:(0,Mr.e)((e,t)=>{let r=0;e.subscribe((0,cr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ia(...n){const e=(0,j1.yG)(n);return(0,Mr.e)((t,r)=>{(e?Ri(n,t,e):Ri(n,t)).subscribe(r)})}function M(n,e){return(0,Mr.e)((t,r)=>{let i=0;t.subscribe((0,cr.x)(r,c=>n.call(e,c,i++)&&r.next(c)))})}var I=z(5577);function x(n){return(0,Mr.e)((e,t)=>{let r=!1;e.subscribe((0,cr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function O(n=Q){return(0,Mr.e)((e,t)=>{let r=!1;e.subscribe((0,cr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Q(){return new Oo}function te(n,e){const t=arguments.length>=2;return r=>r.pipe(n?M((i,c)=>n(i,c,r)):zi.y,Tn(1),t?x(e):O(()=>new Oo))}function Me(n,e){return(0,$s.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var He=z(8505);function Je(n){return(0,Mr.e)((e,t)=>{let c,r=null,i=!1;r=e.subscribe((0,cr.x)(t,void 0,void 0,u=>{c=(0,Pi.Xf)(n(u,Je(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(t))})}function ut(n,e,t,r,i){return(c,u)=>{let f=t,v=e,w=0;c.subscribe((0,cr.x)(u,S=>{const T=w++;v=f?n(v,S,T):(f=!0,S),r&&u.next(v)},i&&(()=>{f&&u.next(v),u.complete()})))}}function Rt(n,e){return(0,Mr.e)(ut(n,e,arguments.length>=2,!0))}function Mt(n){return n<=0?()=>ai.E:(0,Mr.e)((e,t)=>{let r=[];e.subscribe((0,cr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?M((i,c)=>n(i,c,r)):zi.y,Mt(1),t?x(e):O(()=>new Oo))}function qs(n){return(0,Mr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const zt="primary",jn=Symbol("RouteTitle");class o1{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function li(n){return new o1(n)}function Ld(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const u=r[c],f=n[c];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Vi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let c=0;c<t.length;c++)if(i=t[c],!V0(n[i],e[i]))return!1;return!0}function V0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,c)=>r[c]===i)}return n===e}function ru(n){return Array.prototype.concat.apply([],n)}function iu(n){return n.length>0?n[n.length-1]:null}function lr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function $1(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,_n.D)(Promise.resolve(n)):ct(n)}const zd={exact:function ou(n,e,t){if(!aa(n.segments,e.segments)||!sa(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ou(n.children[r],e.children[r],t))return!1;return!0},subset:B0},F0={exact:function y5(n,e){return Vi(n,e)},subset:function U0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>V0(n[t],e[t]))},ignored:()=>!0};function v5(n,e,t){return zd[t.paths](n.root,e.root,t.matrixParams)&&F0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function B0(n,e,t){return _5(n,e,e.segments,t)}function _5(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!aa(i,t)||e.hasChildren()||!sa(i,t,r))}if(n.segments.length===t.length){if(!aa(n.segments,t)||!sa(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!B0(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(aa(n.segments,i)&&sa(n.segments,i,r)&&n.children[zt])&&_5(n.children[zt],e,c,r)}}function sa(n,e,t){return e.every((r,i)=>F0[t](n[i].parameters,r.parameters))}class oa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=li(this.queryParams)),this._queryParamMap}toString(){return r6.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,lr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ac(this)}}class n6{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=li(this.parameters)),this._parameterMap}toString(){return $0(this)}}function aa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let j0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new Sc},providedIn:"root"}),n})();class Sc{parse(e){const t=new cs(e);return new oa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ws(e.root,!0)}`,r=function M5(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Dc(t)}=${Dc(i)}`).join("&"):`${Dc(t)}=${Dc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function b5(n){return encodeURI(n)}(e.fragment)}`:""}`}}const r6=new Sc;function Ac(n){return n.segments.map(e=>$0(e)).join("/")}function Ws(n,e){if(!n.hasChildren())return Ac(n);if(e){const t=n.children[zt]?Ws(n.children[zt],!1):"",r=[];return lr(n.children,(i,c)=>{c!==zt&&r.push(`${c}:${Ws(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function w5(n,e){let t=[];return lr(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),lr(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[Ws(n.children[zt],!1)]:[`${i}:${Ws(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${Ac(n)}/${t[0]}`:`${Ac(n)}/(${t.join("//")})`}}function ui(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dc(n){return ui(n).replace(/%3B/gi,";")}function Tc(n){return ui(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xc(n){return decodeURIComponent(n)}function Nc(n){return xc(n.replace(/\+/g,"%20"))}function $0(n){return`${Tc(n.path)}${function E5(n){return Object.keys(n).map(e=>`;${Tc(e)}=${Tc(n[e])}`).join("")}(n.parameters)}`}const au=/^[^\/()?;=#]+/;function i6(n){const e=n.match(au);return e?e[0]:""}const I5=/^[^=?&#]+/,G0=/^[^&#]+/;class cs{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new Zt(e,t)),r}parseSegment(){const e=i6(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(e),new n6(xc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=i6(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=i6(this.remaining);i&&(r=i,this.capture(r))}e[xc(t)]=xc(r)}parseQueryParam(e){const t=function $r(n){const e=n.match(I5);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function S5(n){const e=n.match(G0);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Nc(t),c=Nc(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(c)}else e[i]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=i6(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new g.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=zt);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[zt]:new Zt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new g.vHH(4011,!1)}}function Ir(n){return n.segments.length>0?new Zt([],{[zt]:n}):n}function Zs(n){const e={};for(const r of Object.keys(n.children)){const c=Zs(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function s6(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function Uo(n){return n instanceof oa}function T5(n,e,t,r,i){if(0===t.length)return la(e.root,e.root,e.root,r,i);const c=function cu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new c6(!0,0,n);let e=0,t=!1;const r=n.reduce((i,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return lr(c.outlets,(v,w)=>{f[w]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===u?(c.split("/").forEach((f,v)=>{0==v&&"."===f||(0==v&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,c]},[]);return new c6(t,e,r)}(t);return c.toRoot()?la(e.root,e.root,new Zt([],{}),r,i):function u(v){const w=function $o(n,e,t,r){if(n.isAbsolute)return new jo(e.root,!0,0);if(-1===r)return new jo(t,t===e.root,0);return function uu(n,e,t){let r=n,i=e,c=t;for(;c>i;){if(c-=i,r=r.parent,!r)throw new g.vHH(4005,!1);i=r.segments.length}return new jo(r,!1,i-c)}(t,r+(ca(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,e,n.snapshot?._urlSegment,v),S=w.processChildren?ls(w.segmentGroup,w.index,c.commands):Go(w.segmentGroup,w.index,c.commands);return la(e.root,w.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function ca(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bo(n){return"object"==typeof n&&null!=n&&n.outlets}function la(n,e,t,r,i){let u,c={};r&&lr(r,(v,w)=>{c[w]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),u=n===e?t:a6(n,e,t);const f=Ir(Zs(u));return new oa(f,c,i)}function a6(n,e,t){const r={};return lr(n.children,(i,c)=>{r[c]=i===e?t:a6(i,e,t)}),new Zt(n.segments,r)}class c6{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ca(r[0]))throw new g.vHH(4003,!1);const i=r.find(Bo);if(i&&i!==iu(r))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jo{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Go(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return ls(n,e,t);const r=function hu(n,e,t){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return c;const u=n.segments[i],f=t[r];if(Bo(f))break;const v=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!q0(v,w,u))return c;r+=2}else{if(!q0(v,{},u))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Zt(n.segments.slice(0,r.pathIndex),{});return c.children[zt]=new Zt(n.segments.slice(r.pathIndex),n.children),ls(c,0,i)}return r.match&&0===i.length?new Zt(n.segments,{}):r.match&&!n.hasChildren()?fu(n,e,t):r.match?ls(n,0,i):fu(n,e,t)}function ls(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const r=function x5(n){return Bo(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return lr(r,(c,u)=>{"string"==typeof c&&(c=[c]),null!==c&&(i[u]=Go(n.children[u],e,c))}),lr(n.children,(c,u)=>{void 0===r[u]&&(i[u]=c)}),new Zt(n.segments,i)}}function fu(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const c=t[i];if(Bo(c)){const v=us(c.outlets);return new Zt(r,v)}if(0===i&&ca(t[0])){r.push(new n6(n.segments[e].path,l6(t[0]))),i++;continue}const u=Bo(c)?c.outlets[zt]:`${c}`,f=i<t.length-1?t[i+1]:null;u&&f&&ca(f)?(r.push(new n6(u,l6(f))),i+=2):(r.push(new n6(u,{})),i++)}return new Zt(r,{})}function us(n){const e={};return lr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=fu(new Zt([],{}),0,t))}),e}function l6(n){const e={};return lr(n,(t,r)=>e[r]=`${t}`),e}function q0(n,e,t){return n==t.path&&Vi(e,t.parameters)}class hs{constructor(e,t){this.id=e,this.url=t}}class ua extends hs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qo extends hs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class u6 extends hs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class du extends hs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class N5 extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zc extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L5 extends hs{constructor(e,t,r,i,c){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W0 extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z0 extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pu{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mu{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f6{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Q0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Q0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=g1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return g1(e,this._root).map(t=>t.value)}}function Q0(n,e){if(n===e.value)return e;for(const t of e.children){const r=Q0(n,t);if(r)return r}return null}function g1(n,e){if(n===e.value)return[e];for(const t of e.children){const r=g1(n,t);if(r.length)return r.unshift(e),r}return[]}class Gr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Y0 extends kc{constructor(e,t){super(e),this.snapshot=t,Pc(this,e)}toString(){return this.snapshot.toString()}}function Rc(n,e){const t=function d6(n,e){const u=new v1([],{},{},"",{},zt,e,null,n.root,-1,{});return new g6("",new Gr(u,[]))}(n,e),r=new Dn([new n6("",{})]),i=new Dn({}),c=new Dn({}),u=new Dn({}),f=new Dn(""),v=new ds(r,i,u,f,c,zt,e,t.root);return v.snapshot=t.root,new Y0(new Gr(v,[]),t)}class ds{constructor(e,t,r,i,c,u,f,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,it.U)(w=>w[jn]))??ct(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>li(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>li(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p6(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],c=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function m6(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class v1{constructor(e,t,r,i,c,u,f,v,w,S,T,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=u,this.component=f,this.title=this.data?.[jn],this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=S,this._correctedLastPathIndex=P??S,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=li(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=li(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class g6 extends kc{constructor(e,t){super(t),this.url=e,Pc(this,t)}toString(){return v6(this._root)}}function Pc(n,e){e.value._routerState=n,e.children.forEach(t=>Pc(n,t))}function v6(n){const e=n.children.length>0?` { ${n.children.map(v6).join(", ")} } `:"";return`${n.value}${e}`}function Oc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Vi(e.params,t.params)||n.params.next(t.params),function nu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Vi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ks(n,e){const t=Vi(n.params,e.params)&&function C5(n,e){return aa(n,e)&&n.every((t,r)=>Vi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ks(n.parent,e.parent))}function Qs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function J0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qs(n,r,i);return Qs(n,r)})}(n,e,t);return new Gr(r,i)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Qs(n,f)),u}}const r=function k5(n){return new ds(new Dn(n.url),new Dn(n.params),new Dn(n.queryParams),new Dn(n.fragment),new Dn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(c=>Qs(n,c));return new Gr(r,i)}}const G1="ngNavigationCancelingError";function Ys(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ha(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ha(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[G1]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Vc(n){return Js(n)&&Uo(n.url)}function Js(n){return n&&n[G1]}class X0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hc,this.attachRef=null}}let Hc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new X0,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e3=!1;let t3=(()=>{class n{constructor(t,r,i,c,u){this.parentContexts=t,this.location=r,this.changeDetector=c,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=i||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,e3);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,e3);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,e3);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new g.vHH(4013,e3);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,v=new n3(t,f,i.injector);if(r&&function y(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(u);this.activated=i.createComponent(w,i.length,v)}else this.activated=i.createComponent(u,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Hc),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class n3{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ds?this.route:e===Hc?this.childContexts:this.parent.get(e,t)}}let d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[t3],encapsulation:2}),n})();function m(n,e){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yt(n){const e=n.children&&n.children.map(yt),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=d),t}function mn(n){return n.outlet||zt}function ur(n,e){const t=n.filter(r=>mn(r)===e);return t.push(...n.filter(r=>mn(r)!==e)),t}function T1(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class r3{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Oc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Wo(t);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,i[u],r),delete i[u]}),lr(i,(c,u)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(i===c)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=Wo(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=Wo(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Wo(t);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new f6(c.value.snapshot))}),e.children.length&&this.forwardEvent(new mu(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(Oc(i),i===c)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Oc(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=T1(i.snapshot),v=f?.get(g._Vd)??null;u.attachRef=null,u.route=i,u.resolver=v,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class i3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fc{constructor(e,t){this.component=e,this.route=t}}function s3(n,e,t){const r=n._root;return Zo(r,e?e._root:null,t,[r.value])}function Xs(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,g.Z0I)(n)?e.get(n):n:r}function Zo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=Wo(e);return n.children.forEach(u=>{(function _u(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const v=function R5(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!aa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!aa(n.url,e.url)||!Vi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ks(n,e)||!Vi(n.queryParams,e.queryParams);default:return!Ks(n,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new i3(r)):(c.data=u.data,c._resolvedData=u._resolvedData),Zo(n,e,c.component?f?f.children:null:t,r,i),v&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Fc(f.outlet.component,u))}else u&&Ko(e,f,i),i.canActivateChecks.push(new i3(r)),Zo(n,null,c.component?f?f.children:null:t,r,i)})(u,c[u.value.outlet],t,r.concat([u.value]),i),delete c[u.value.outlet]}),lr(c,(u,f)=>Ko(u,t.getContext(f),i)),i}function Ko(n,e,t){const r=Wo(n),i=n.value;lr(r,(c,u)=>{Ko(c,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Fc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function eo(n){return"function"==typeof n}function a3(n){return n instanceof Oo||"EmptyError"===n?.name}const y6=Symbol("INITIAL_VALUE");function c3(){return Hn(n=>js(n.map(e=>e.pipe(Tn(1),ia(y6)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===y6)return y6;if(!1===t||t instanceof oa)return t}return!0}),M(e=>e!==y6),Tn(1)))}function wu(n){return(0,Ic.z)((0,He.b)(e=>{if(Uo(e))throw Ys(0,e)}),(0,it.U)(e=>!0===e))}const Xn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P5(n,e,t,r,i){const c=O5(n,e,t);return c.matched?function rg(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ct(i.map(u=>{const f=Xs(u,n);return $1(function HC(n){return n&&eo(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(c3(),wu()):ct(!0)}(r=m(e,r),e,t).pipe((0,it.U)(u=>!0===u?c:{...Xn})):ct(c)}function O5(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xn}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ld)(t,n,e);if(!i)return{...Xn};const c={};lr(i.posParams,(f,v)=>{c[v]=f.path});const u=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function _6(n,e,t,r,i="corrected"){if(t.length>0&&function sg(n,e,t){return t.some(r=>bu(n,e,r)&&mn(r)!==zt)}(n,t,r)){const u=new Zt(e,function ig(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&mn(c)!==zt){const u=new Zt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[mn(c)]=u}return i}(n,e,r,new Zt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function og(n,e,t){return t.some(r=>bu(n,e,r))}(n,t,r)){const u=new Zt(n.segments,function Fd(n,e,t,r,i,c){const u={};for(const f of r)if(bu(n,t,f)&&!i[mn(f)]){const v=new Zt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:e.length,u[mn(f)]=v}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const c=new Zt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function bu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ud(n,e,t,r){return!!(mn(n)===r||r!==zt&&bu(e,t,n))&&("**"===n.path||O5(e,n,t).matched)}function ag(n,e,t){return 0===e.length&&!n.children[t]}const V5=!1;class fa{constructor(e){this.segmentGroup=e||null}}class Eu{constructor(e){this.urlTree=e}}function C6(n){return s1(new fa(n))}function H5(n){return s1(new Eu(n))}class $d{constructor(e,t,r,i,c){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=c,this.allowRedirects=!0}apply(){const e=_6(this.urlTree.root,[],[],this.config).segmentGroup,t=new Zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe((0,it.U)(c=>this.createUrlTree(Zs(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Je(c=>{if(c instanceof Eu)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof fa?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,zt).pipe((0,it.U)(i=>this.createUrlTree(Zs(i),e.queryParams,e.fragment))).pipe(Je(i=>{throw i instanceof fa?this.noMatchError(i):i}))}noMatchError(e){return new g.vHH(4002,V5)}createUrlTree(e,t,r){const i=Ir(e);return new oa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,it.U)(c=>new Zt([],c))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,_n.D)(i).pipe(Me(c=>{const u=r.children[c],f=ur(t,c);return this.expandSegmentGroup(e,f,u,c).pipe((0,it.U)(v=>({segment:v,outlet:c})))}),Rt((c,u)=>(c[u.outlet]=u.segment,c),{}),Jn())}expandSegment(e,t,r,i,c,u){return(0,_n.D)(r).pipe(Me(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,c,u).pipe(Je(w=>{if(w instanceof fa)return ct(null);throw w}))),te(f=>!!f),Je((f,v)=>{if(a3(f))return ag(t,i,c)?ct(new Zt([],{})):C6(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,c,u,f){return Ud(i,t,c,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,c,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u):C6(t):C6(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?H5(c):this.lineralizeSegments(r,c).pipe((0,I.z)(u=>{const f=new Zt(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u){const{matched:f,consumedSegments:v,remainingSegments:w,positionalParamSegments:S}=O5(t,i,c);if(!f)return C6(t);const T=this.applyRedirectCommands(v,i.redirectTo,S);return i.redirectTo.startsWith("/")?H5(T):this.lineralizeSegments(i,T).pipe((0,I.z)(P=>this.expandSegment(e,t,r,P.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,c){return"**"===r.path?(e=m(r,e),r.loadChildren?(r._loadedRoutes?ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,it.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Zt(i,{})))):ct(new Zt(i,{}))):P5(t,r,i,e).pipe(Hn(({matched:u,consumedSegments:f,remainingSegments:v})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,I.z)(S=>{const T=S.injector??e,P=S.routes,{segmentGroup:H,slicedSegments:$}=_6(t,f,v,P),ne=new Zt(H.segments,H.children);if(0===$.length&&ne.hasChildren())return this.expandChildren(T,P,ne).pipe((0,it.U)(nt=>new Zt(f,nt)));if(0===P.length&&0===$.length)return ct(new Zt(f,{}));const me=mn(r)===c;return this.expandSegment(T,ne,P,$,me?zt:c,!0).pipe((0,it.U)(Ke=>new Zt(f.concat(Ke.segments),Ke.children)))})):C6(t)))}getChildConfig(e,t,r){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function Hd(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ct(!0):ct(i.map(u=>{const f=Xs(u,n);return $1(function o3(n){return n&&eo(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(c3(),wu())}(e,t,r).pipe((0,I.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,He.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function cg(n){return s1(ha(V5,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ct(r);if(i.numberOfChildren>1||!i.children[zt])return s1(new g.vHH(4e3,V5));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const c=this.createSegmentGroup(e,t.root,r,i);return new oa(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return lr(e,(i,c)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[c]=t[f]}else r[c]=i}),r}createSegmentGroup(e,t,r,i){const c=this.createSegments(e,t.segments,r,i);let u={};return lr(t.children,(f,v)=>{u[v]=this.createSegmentGroup(e,f,r,i)}),new Zt(c,u)}createSegments(e,t,r,i){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new g.vHH(4001,V5);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class lg{}class qd{constructor(e,t,r,i,c,u,f,v){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=c,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=v}recognize(){const e=_6(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,zt).pipe((0,it.U)(t=>{if(null===t)return null;const r=new v1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gr(r,t),c=new g6(this.url,i);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(e){const t=e.value,r=p6(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,_n.D)(Object.keys(r.children)).pipe(Me(i=>{const c=r.children[i],u=ur(t,i);return this.processSegmentGroup(e,u,c,i)}),Rt((i,c)=>i&&c?(i.push(...c),i):null),function Bn(n,e=!1){return(0,Mr.e)((t,r)=>{let i=0;t.subscribe((0,cr.x)(r,c=>{const u=n(c,i++);(u||e)&&r.next(c),!u&&r.complete()}))})}(i=>null!==i),x(null),Jn(),(0,it.U)(i=>{if(null===i)return null;const c=l3(i);return function Uc(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}))}processSegment(e,t,r,i,c){return(0,_n.D)(t).pipe(Me(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,c)),te(u=>!!u),Je(u=>{if(a3(u))return ag(r,i,c)?ct([]):ct(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,c){if(t.redirectTo||!Ud(t,r,i,c))return ct(null);let u;if("**"===t.path){const f=i.length>0?iu(i).parameters:{},v=u3(r)+i.length;u=ct({snapshot:new v1(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$5(t),mn(t),t.component??t._loadedComponent??null,t,Mu(r),v,Iu(t),v),consumedSegments:[],remainingSegments:[]})}else u=P5(r,t,i,e).pipe((0,it.U)(({matched:f,consumedSegments:v,remainingSegments:w,parameters:S})=>{if(!f)return null;const T=u3(r)+v.length;return{snapshot:new v1(v,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$5(t),mn(t),t.component??t._loadedComponent??null,t,Mu(r),T,Iu(t),T),consumedSegments:v,remainingSegments:w}}));return u.pipe(Hn(f=>{if(null===f)return ct(null);const{snapshot:v,consumedSegments:w,remainingSegments:S}=f;e=t._injector??e;const T=t._loadedInjector??e,P=function ug(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:$}=_6(r,w,S,P.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution);if(0===$.length&&H.hasChildren())return this.processChildren(T,P,H).pipe((0,it.U)(me=>null===me?null:[new Gr(v,me)]));if(0===P.length&&0===$.length)return ct([new Gr(v,[])]);const ne=mn(t)===c;return this.processSegment(T,P,H,$,ne?zt:c).pipe((0,it.U)(me=>null===me?null:[new Gr(v,me)]))}))}}function j5(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function l3(n){const e=[],t=new Set;for(const r of n){if(!j5(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=l3(r.children);e.push(new Gr(r.value,i))}return e.filter(r=>!t.has(r))}function Mu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function u3(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $5(n){return n.data||{}}function Iu(n){return n.resolve||{}}function Zd(n){return"string"==typeof n.title||null===n.title}function G5(n){return Hn(e=>{const t=n(e);return t?(0,_n.D)(t).pipe((0,it.U)(()=>e)):ct(e)})}let Su=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[jn]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Kd)},providedIn:"root"}),n})(),Kd=(()=>{class n extends Su{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(oi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vg{}class BC extends class Qd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pa=new g.OlP("",{providedIn:"root",factory:()=>({})}),ma=new g.OlP("ROUTES");let Bc=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=$1(t.loadComponent()).pipe((0,He.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),qs(()=>{this.componentLoaders.delete(t)})),i=new ci(r,()=>new xr.x).pipe(Oi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,it.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,w,S=!1;Array.isArray(f)?w=f:(v=f.create(t).injector,w=ru(v.get(ma,[],g.XFs.Self|g.XFs.Optional)));return{routes:w.map(yt),injector:v}}),qs(()=>{this.childrenLoaders.delete(r)})),u=new ci(c,()=>new xr.x).pipe(Oi());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return $1(t()).pipe((0,I.z)(r=>r instanceof g.YKP||Array.isArray(r)?ct(r):(0,_n.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.zs3),g.LFG(g.Sil))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _g{}class jC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Cg(n){throw n}function wg(n,e,t){return e.parse("/")}const bg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Au(){const n=(0,g.f3M)(j0),e=(0,g.f3M)(Hc),t=(0,g.f3M)(Te),r=(0,g.f3M)(g.zs3),i=(0,g.f3M)(g.Sil),c=(0,g.f3M)(ma,{optional:!0})??[],u=(0,g.f3M)(pa,{optional:!0})??{},f=(0,g.f3M)(Kd),v=(0,g.f3M)(Su,{optional:!0}),w=(0,g.f3M)(_g,{optional:!0}),S=(0,g.f3M)(vg,{optional:!0}),T=new Lr(null,n,e,t,r,i,ru(c));return w&&(T.urlHandlingStrategy=w),S&&(T.routeReuseStrategy=S),T.titleStrategy=v??f,function Xd(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,T),T}let Lr=(()=>{class n{constructor(t,r,i,c,u,f,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=c,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xr.x,this.errorHandler=Cg,this.malformedUriErrorHandler=wg,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ct(void 0),this.urlHandlingStrategy=new jC,this.routeReuseStrategy=new BC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Bc),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new K0(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new pu(P)),this.ngModule=u.get(g.h0i),this.console=u.get(g.c2e);const T=u.get(g.R0b);this.isNgZoneEnabled=T instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function su(){return new oa(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Rc(this.currentUrlTree,this.rootComponentType),this.transitions=new Dn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(M(i=>0!==i.id),(0,it.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Hn(i=>{let c=!1,u=!1;return ct(i).pipe((0,He.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(f=>{const v=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Du(f.source)&&(this.browserUrlTree=f.extractedUrl),ct(f).pipe(Hn(T=>{const P=this.transitions.getValue();return r.next(new ua(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),P!==this.transitions.getValue()?ai.E:Promise.resolve(T)}),function F5(n,e,t,r){return Hn(i=>function jd(n,e,t,r,i){return new $d(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,it.U)(c=>({...i,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,He.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},i.urlAfterRedirects=T.urlAfterRedirects}),function fg(n,e,t,r,i,c){return(0,I.z)(u=>function Gd(n,e,t,r,i,c,u="emptyOnly",f="legacy"){return new qd(n,e,t,r,i,u,f,c).recognize().pipe(Hn(v=>null===v?function B5(n){return new Nr.y(e=>e.error(n))}(new lg):ct(v)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,c).pipe((0,it.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,He.b)(T=>{if(i.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(H,T)}this.browserUrlTree=T.urlAfterRedirects}const P=new N5(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(P)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:H,source:$,restoredState:ne,extras:me}=f,ze=new ua(P,this.serializeUrl(H),$,ne);r.next(ze);const Ke=Rc(H,this.rootComponentType).snapshot;return ct(i={...f,targetSnapshot:Ke,urlAfterRedirects:H,extras:{...me,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),ai.E}),(0,He.b)(f=>{const v=new zc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}),(0,it.U)(f=>i={...f,guards:s3(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function UC(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?ct({...t,guardsResult:!0}):function Od(n,e,t,r){return(0,_n.D)(n).pipe((0,I.z)(i=>function Cu(n,e,t,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?ct(c.map(f=>{const v=T1(e)??i,w=Xs(f,v);return $1(function Pd(n){return n&&eo(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):v.runInContext(()=>w(n,e,t,r))).pipe(te())})).pipe(c3()):ct(!0)}(i.component,i.route,t,e,r)),te(i=>!0!==i,!0))}(u,r,i,n).pipe((0,I.z)(f=>f&&function Qo(n){return"boolean"==typeof n}(f)?function Xm(n,e,t,r){return(0,_n.D)(e).pipe(Me(i=>Ri(function tg(n,e){return null!==n&&e&&e(new z5(n)),ct(!0)}(i.route.parent,r),function eg(n,e){return null!==n&&e&&e(new h6(n)),ct(!0)}(i.route,r),function Vd(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function yu(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>m1(()=>ct(u.guards.map(v=>{const w=T1(u.node)??t,S=Xs(v,w);return $1(function Rd(n){return n&&eo(n.canActivateChild)}(S)?S.canActivateChild(r,n):w.runInContext(()=>S(r,n))).pipe(te())})).pipe(c3())));return ct(c).pipe(c3())}(n,i.path,t),function ng(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const i=r.map(c=>m1(()=>{const u=T1(e)??t,f=Xs(c,u);return $1(function kd(n){return n&&eo(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(te())}));return ct(i).pipe(c3())}(n,i.route,t))),te(i=>!0!==i,!0))}(r,c,n,e):ct(f)),(0,it.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,He.b)(f=>{if(i.guardsResult=f.guardsResult,Uo(f.guardsResult))throw Ys(0,f.guardsResult);const v=new L5(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(v)}),M(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),G5(f=>{if(f.guards.canActivateChecks.length)return ct(f).pipe((0,He.b)(v=>{const w=new W0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),Hn(v=>{let w=!1;return ct(v).pipe(function dg(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ct(t);let c=0;return(0,_n.D)(i).pipe(Me(u=>function Wd(n,e,t,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!Zd(i)&&(c[jn]=i.title),function w6(n,e,t,r){const i=function pg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ct({});const c={};return(0,_n.D)(i).pipe((0,I.z)(u=>function mg(n,e,t,r){const i=T1(e)??r,c=Xs(n,i);return $1(c.resolve?c.resolve(e,t):i.runInContext(()=>c(e,t)))}(n[u],e,t,r).pipe(te(),(0,He.b)(f=>{c[u]=f}))),Mt(1),function Gs(n){return(0,it.U)(()=>n)}(c),Je(u=>a3(u)?ai.E:s1(u)))}(c,n,e,r).pipe((0,it.U)(u=>(n._resolvedData=u,n.data=p6(n,t).resolve,i&&Zd(i)&&(n.data[jn]=i.title),null)))}(u.route,r,n,e)),(0,He.b)(()=>c++),Mt(1),(0,I.z)(u=>c===i.length?ct(t):ai.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,He.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,He.b)(v=>{const w=new Z0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),G5(f=>{const v=w=>{const S=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,He.b)(T=>{w.component=T}),(0,it.U)(()=>{})));for(const T of w.children)S.push(...v(T));return S};return js(v(f.targetSnapshot.root)).pipe(x(),Tn(1))}),G5(()=>this.afterPreactivation()),(0,it.U)(f=>{const v=function y1(n,e,t){const r=Qs(n,e._root,t?t._root:void 0);return new Y0(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:v}}),(0,He.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(r=>(new r3(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,He.b)({next(){c=!0},complete(){c=!0}}),qs(()=>{c||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Je(f=>{if(u=!0,Js(f)){Vc(f)||(this.navigated=!0,this.restoreHistory(i,!0));const v=new u6(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(v),Vc(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Du(i.source)};this.scheduleNavigation(w,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new du(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(v);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return ai.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},c=t.state?.navigationId?t.state:null;if(c){const f={...c};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,c,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(yt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:c,fragment:u,queryParamsHandling:f,preserveFragment:v}=r,w=i||this.routerState.root,S=v?this.currentUrlTree.fragment:u;let T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...c};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}return null!==T&&(T=this.removeEmptyProps(T)),T5(w,this.currentUrlTree,t,T,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Uo(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Eg(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new g.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...bg}:!1===r?{...Jd}:r,Uo(t))return v5(this.currentUrlTree,t,i);const c=this.parseUrl(t);return v5(this.currentUrlTree,c,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const c=t[i];return null!=c&&(r[i]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new qo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,c,u){if(this.disposed)return Promise.resolve(!1);let f,v,w;u?(f=u.resolve,v=u.reject,w=u.promise):w=new Promise((P,H)=>{f=P,v=H});const S=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),T=i&&i.\u0275routerPageId?i.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:S,targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:f,reject:v,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",c):this.location.go(i,"",c)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const c=new u6(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(c),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:function(){return Au()},providedIn:"root"}),n})();function Du(n){return"imperative"!==n}class e7{}let Sg=(()=>{class n{constructor(t,r,i,c,u){this.router=t,this.injector=i,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(M(t=>t instanceof qo),Me(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,g.MMx)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,f=c._loadedInjector??u;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?i.push(this.preloadConfig(u,c)):(c.children||c._loadedRoutes)&&i.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,_n.D)(i).pipe((0,ra.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ct(null);const c=i.pipe((0,I.z)(u=>null===u?ct(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,_n.D)([c,u]).pipe((0,ra.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Lr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(e7),g.LFG(Bc))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ga=new g.OlP("");let to=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ua?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fs&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new fs(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function f3(n,e){return{\u0275kind:n,\u0275providers:e}}function xu(n){return[{provide:ma,multi:!0,useValue:n}]}function W5(){const n=(0,g.f3M)(g.zs3);return e=>{const t=n.get(g.z2F);if(e!==t.components[0])return;const r=n.get(Lr),i=n.get(Dg);1===n.get(Nu)&&r.initialNavigation(),n.get(n7,null,g.XFs.Optional)?.setUpPreloading(),n.get(ga,null,g.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Dg=new g.OlP("",{factory:()=>new xr.x}),Nu=new g.OlP("",{providedIn:"root",factory:()=>1});const n7=new g.OlP("");function ps(n){return f3(0,[{provide:n7,useExisting:Sg},{provide:e7,useExisting:n}])}const r7=new g.OlP("ROUTER_FORROOT_GUARD"),Ng=[Te,{provide:j0,useClass:Sc},{provide:Lr,useFactory:Au},Hc,{provide:ds,useFactory:function Ag(n){return n.routerState.root},deps:[Lr]},Bc];function Lg(){return new g.PXZ("Router",Lr)}let Lu=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ng,[],xu(t),{provide:r7,useFactory:Vt,deps:[[Lr,new g.FiY,new g.tp0]]},{provide:pa,useValue:r||{}},r?.useHash?{provide:ve,useClass:lt}:{provide:ve,useClass:et},{provide:ga,useFactory:()=>{const n=(0,g.f3M)(Lr),e=(0,g.f3M)(A2),t=(0,g.f3M)(pa);return t.scrollOffset&&e.setOffset(t.scrollOffset),new to(n,e,t)}},r?.preloadingStrategy?ps(r.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Lg},r?.initialNavigation?i7(r):[],[{provide:Z5,useFactory:W5},{provide:g.tb,multi:!0,useExisting:Z5}]]}}static forChild(t){return{ngModule:n,providers:[xu(t)]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(r7,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[d]}),n})();function Vt(n){return"guarded"}function i7(n){return["disabled"===n.initialNavigation?f3(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const e=(0,g.f3M)(Lr);return()=>{e.setUpLocationChangeListener()}}},{provide:Nu,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?f3(2,[{provide:Nu,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:e=>{const t=e.get(U,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(c=>{const u=e.get(Lr),f=e.get(Dg);(function i(c){e.get(Lr).events.pipe(M(f=>f instanceof qo||f instanceof u6||f instanceof du),(0,it.U)(f=>f instanceof qo||f instanceof u6&&(0===f.code||1===f.code)&&null),M(f=>null!==f),Tn(1)).subscribe(()=>{c()})})(()=>{c(!0),r=!0}),u.afterPreactivation=()=>(c(!0),r||f.closed?ct(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const Z5=new g.OlP(""),Pg=[];let o7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Lu.forRoot(Pg),Lu]}),n})();var Og=z(4986),qr=z(2122);function K5(){return(0,Mr.e)((n,e)=>{let t,r=!1;n.subscribe((0,cr.x)(e,i=>{const c=t;t=i,r&&e.next([c,i]),r=!0}))})}function QC(n,e){return n===e}var gt,Hi=z(2011),$c=(z(9169),z(3942)),_e=z(5861),Yo=z(9681),b6=z(4859),va=z(1877),Cn=z(2090),YC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ya={},zu=zu||{},Ht=YC||self;function ku(){}function Jo(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function p3(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var E6="closure_uid_"+(1e9*Math.random()>>>0),Fg=0;function c7(n,e,t){return n.call.apply(n.bind,arguments)}function Ug(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function _1(n,e,t){return(_1=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c7:Ug).apply(null,arguments)}function Ru(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function a1(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,c){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function _a(){this.s=this.s,this.o=this.o}_a.prototype.s=!1,_a.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function a7(n){Object.prototype.hasOwnProperty.call(n,E6)&&n[E6]||(n[E6]=++Fg)}(this)},_a.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const u7=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Pu(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Q5(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Jo(r)){const i=n.length||0,c=r.length||0;n.length=i+c;for(let u=0;u<c;u++)n[i+u]=r[u]}else n.push(r)}}function Wr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Wr.prototype.h=function(){this.defaultPrevented=!0};var JC=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",ku,e),Ht.removeEventListener("test",ku,e)}catch{}return n}();function M6(n){return/^[\s\xa0]*$/.test(n)}var h7=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function f7(n,e){return n<e?-1:n>e?1:0}function Xo(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function ms(n){return-1!=Xo().indexOf(n)}function Ou(n){return Ou[" "](n),n}Ou[" "]=ku;var I6,n,gs=ms("Opera"),Gc=ms("Trident")||ms("MSIE"),d7=ms("Edge"),m3=d7||Gc,no=ms("Gecko")&&!(-1!=Xo().toLowerCase().indexOf("webkit")&&!ms("Edge"))&&!(ms("Trident")||ms("MSIE"))&&!ms("Edge"),Y5=-1!=Xo().toLowerCase().indexOf("webkit")&&!ms("Edge");function J5(){var n=Ht.document;return n?n.documentMode:void 0}e:{var p7="",Hu=(n=Xo(),no?/rv:([^\);]+)(\)|;)/.exec(n):d7?/Edge\/([\d\.]+)/.exec(n):Gc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Y5?/WebKit\/(\S+)/.exec(n):gs?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Hu&&(p7=Hu?Hu[1]:""),Gc){var m7=J5();if(null!=m7&&m7>parseFloat(p7)){I6=String(m7);break e}}I6=p7}var Fu={};var X5=Ht.document&&Gc&&(J5()||parseInt(I6,10))||void 0;function ju(n,e){if(Wr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(no){e:{try{Ou(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Bg[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ju.X.h.call(this)}}a1(ju,Wr);var Bg={2:"touch",3:"pen",4:"mouse"};ju.prototype.h=function(){ju.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var v3="closure_listenable_"+(1e6*Math.random()|0),jg=0;function $g(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++jg,this.ba=this.ea=!1}function y3(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function g7(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function v7(n){const e={};for(const t in n)e[t]=n[t];return e}const Gg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eh(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<Gg.length;c++)t=Gg[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _3(n){this.src=n,this.g={},this.h=0}function th(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=u7(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(y3(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function C3(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return i}return-1}_3.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var u=C3(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new $g(e,this.src,c,!!r,i)).ea=t,n.push(e)),e};var y7="closure_lm_"+(1e6*Math.random()|0),_7={};function qg(n,e,t,r,i){if(r&&r.once)return Zg(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)qg(n,e[c],t,r,i);return null}return t=nh(t),n&&n[v3]?n.N(e,t,p3(r)?!!r.capture:!!r,i):Wg(n,e,t,!1,r,i)}function Wg(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var u=p3(i)?!!i.capture:!!i,f=ro(n);if(f||(n[y7]=f=new _3(n)),(t=f.add(e,t,r,u,c)).proxy)return t;if(r=function XC(){const e=ew;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JC||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Qg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Zg(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Zg(n,e[c],t,r,i);return null}return t=nh(t),n&&n[v3]?n.O(e,t,p3(r)?!!r.capture:!!r,i):Wg(n,e,t,!0,r,i)}function Kg(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)Kg(n,e[c],t,r,i);else r=p3(r)?!!r.capture:!!r,t=nh(t),n&&n[v3]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=C3(c=n.g[e],t,r,i))&&(y3(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=ro(n))&&(e=n.g[e.toString()],n=-1,e&&(n=C3(e,t,r,i)),(t=-1<n?e[n]:null)&&C7(t))}function C7(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[v3])th(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Qg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ro(e))?(th(t,n),0==t.h&&(t.src=null,e[y7]=null)):y3(n)}}}function Qg(n){return n in _7?_7[n]:_7[n]="on"+n}function ew(n,e){if(n.ba)n=!0;else{e=new ju(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&C7(n),n=t.call(r,e)}return n}function ro(n){return(n=n[y7])instanceof _3?n:null}var w3="__closure_events_fn_"+(1e9*Math.random()>>>0);function nh(n){return"function"==typeof n?n:(n[w3]||(n[w3]=function(e){return n.handleEvent(e)}),n[w3])}function zr(){_a.call(this),this.i=new _3(this),this.P=this,this.I=null}function kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Wr(e,n);else if(e instanceof Wr)e.target=e.target||n;else{var i=e;eh(e=new Wr(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var u=e.g=t[c];i=b3(u,r,!0,e)&&i}if(i=b3(u=e.g=n,r,!0,e)&&i,i=b3(u,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=b3(u=e.g=t[c],r,!1,e)&&i}function b3(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.ba&&u.capture==t){var f=u.listener,v=u.ha||u.src;u.ea&&th(n.i,u),i=!1!==f.call(v,r)&&i}}return i&&!r.defaultPrevented}a1(zr,_a),zr.prototype[v3]=!0,zr.prototype.removeEventListener=function(n,e,t,r){Kg(this,n,e,t,r)},zr.prototype.M=function(){if(zr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)y3(t[r]);delete n.g[e],n.h--}}this.I=null},zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var E3=Ht.JSON.stringify;function Yg(){var n=qc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sh,rh=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Jg,n=>n.reset());class Jg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xg(n){Ht.setTimeout(()=>{throw n},0)}function ih(n,e){sh||function ev(){var n=Ht.Promise.resolve(void 0);sh=function(){n.then(oh)}}(),S6||(sh(),S6=!0),qc.add(n,e)}var S6=!1,qc=new class Ca{constructor(){this.h=this.g=null}add(e,t){const r=rh.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function oh(){for(var n;n=Yg();){try{n.h.call(n.g)}catch(t){Xg(t)}var e=rh;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}S6=!1}function e2(n,e){zr.call(this),this.h=n||1,this.g=e||Ht,this.j=_1(this.lb,this),this.l=Date.now()}function M3(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function A6(n,e,t){if("function"==typeof n)t&&(n=_1(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_1(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function ah(n){n.g=A6(()=>{n.g=null,n.i&&(n.i=!1,ah(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}a1(e2,zr),(gt=e2.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),kr(this,"tick"),this.ca&&(M3(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){e2.X.M.call(this),M3(this),delete this.g};class w7 extends _a{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ah(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(n){_a.call(this),this.h=n,this.g={}}a1(Wc,_a);var $u=[];function ch(n,e,t,r){Array.isArray(t)||(t&&($u[0]=t.toString()),t=$u);for(var i=0;i<t.length;i++){var c=qg(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Gu(n){g7(n.g,function(e,t){this.g.hasOwnProperty(t)&&C7(e)},n),n.g={}}function qu(){this.g=!0}function Zc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function b7(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<i.length;u++)i[u]=""}}}return E3(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Wc.prototype.M=function(){Wc.X.M.call(this),Gu(this)},Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qu.prototype.Aa=function(){this.g=!1},qu.prototype.info=function(){};var wa={},E7=null;function C1(){return E7=E7||new zr}function lh(n){Wr.call(this,wa.Pa,n)}function I3(n){const e=C1();kr(e,new lh(e))}function rv(n,e){Wr.call(this,wa.STAT_EVENT,n),this.stat=e}function x1(n){const e=C1();kr(e,new rv(e,n))}function Wu(n,e){Wr.call(this,wa.Qa,n),this.size=e}function D6(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}wa.Pa="serverreachability",a1(lh,Wr),wa.STAT_EVENT="statevent",a1(rv,Wr),wa.Qa="timingevent",a1(Wu,Wr);var Zu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},M7={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function uh(){}function I7(){}uh.prototype.h=null;var Ku,T6={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fh(){Wr.call(this,"d")}function dh(){Wr.call(this,"c")}function S3(){}function A3(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Wc(this),this.O=ph,this.T=new e2(n=m3?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vs}function vs(){this.i=null,this.g="",this.h=!1}a1(fh,Wr),a1(dh,Wr),a1(S3,uh),S3.prototype.g=function(){return new XMLHttpRequest},S3.prototype.i=function(){return{}},Ku=new S3;var ph=45e3,mh={},Qu={};function S7(n,e,t){n.K=1,n.v=Ma(io(e)),n.s=t,n.P=!0,gh(n,null)}function gh(n,e){n.F=Date.now(),Kc(n),n.A=io(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),R7(t.i,"t",r),n.C=0,t=n.l.H,n.h=new vs,n.g=Sh(n.l,t?e:null,!n.s),0<n.N&&(n.L=new w7(_1(n.La,n,n.g),n.N)),ch(n.S,n.g,"readystatechange",n.ib),e=n.H?v7(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),I3(),function tw(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var u="",f=c.split("&"),v=0;v<f.length;v++){var w=f[v].split("=");if(1<w.length){var S=w[0];w=w[1];var T=S.split("_");u=2<=T.length&&"type"==T[1]?u+(S+"=")+w+"&":u+(S+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function A7(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function D7(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=iv(n,t),i==Qu){4==e&&(n.o=4,x1(14),r=!1),Zc(n.j,n.m,null,"[Incomplete Response]");break}if(i==mh){n.o=4,x1(15),Zc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Zc(n.j,n.m,i,null),x6(n,i)}A7(n)&&i!=Qu&&i!=mh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,x1(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),O3(e),e.K=!0,x1(11))):(Zc(n.j,n.m,t,"[Invalid Chunked Response]"),t2(n),ba(n))}function iv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Qu:(t=Number(e.substring(t,r)),isNaN(t)?mh:(r+=1)+t>e.length?Qu:(e=e.substr(r,t),n.C=r+t,e))}function Kc(n){n.V=Date.now()+n.O,T7(n,n.O)}function T7(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=D6(_1(n.gb,n),e)}function Yu(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function ba(n){0==n.l.G||n.I||V3(n.l,n)}function t2(n){Yu(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,M3(n.T),Gu(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function x6(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ch(t.h,n)))if(!n.J&&Ch(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;i4(t),k3(t)}P3(t),x1(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=D6(_1(t.cb,t),6e3));if(1>=O7(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else s4(t,11)}else if((n.J||t.g==n)&&i4(t),!M6(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const S=w[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const T=w[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const P=w[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const $=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var c=r.h;c.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(wh(c,c.h),c.h=null))}if(r.D){const ne=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.za=ne,Ln(r.F,r.D,ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=a8(r,r.H?r.ka:null,r.V),u.J){V7(r.h,u);var f=u,v=r.J;v&&f.setTimeout(v),f.B&&(Yu(f),Kc(f)),r.g=u}else U7(r);0<t.i.length&&R3(t)}else"stop"!=w[0]&&"close"!=w[0]||s4(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?s4(t,7):i8(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}I3()}catch{}}function sv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jo(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function vh(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Jo(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function nw(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Jo(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}(gt=A3.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const e=this.L;e&&3==q1(n)?e.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const S=q1(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||m3||this.g&&(this.h.h||this.g.fa()||bh(this.g)))){this.I||4!=S||7==e||I3(),Yu(this);var t=this.g.aa();this.Y=t;t:if(A7(this)){var r=bh(this.g);n="";var i=r.length,c=4==q1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){t2(this),ba(this);var u="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function tv(n,e,t,r,i,c,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,v=this.g;if((f=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M6(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,x1(12),t2(this),ba(this);break e}Zc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,x6(this,t)}this.P?(D7(this,S,u),m3&&this.i&&3==S&&(ch(this.S,this.T,"tick",this.hb),this.T.start())):(Zc(this.j,this.m,u,null),x6(this,u)),4==S&&t2(this),this.i&&!this.I&&(4==S?V3(this.l,this):(this.i=!1,Kc(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,x1(12)):(this.o=0,x1(13)),t2(this),ba(this)}}}catch{}},gt.hb=function(){if(this.g){var n=q1(this.g),e=this.g.fa();this.C<e.length&&(Yu(this),D7(this,n,e),this.i&&4!=n&&Kc(this))}},gt.cancel=function(){this.I=!0,t2(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function nv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(I3(),x1(17)),t2(this),this.o=2,ba(this)):T7(this,this.V-n)};var yh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ea){this.h=void 0!==e?e:n.h,N6(this,n.j),this.s=n.s,this.g=n.g,Fi(this,n.m),this.l=n.l,e=n.i;var t=new N3;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),D3(this,t),this.o=n.o}else n&&(t=String(n).match(yh))?(this.h=!!e,N6(this,t[1]||"",!0),this.s=T3(t[2]||""),this.g=T3(t[3]||"",!0),Fi(this,t[4]),this.l=T3(t[5]||"",!0),D3(this,t[6]||"",!0),this.o=T3(t[7]||"")):(this.h=!!e,this.i=new N3(null,this.h))}function io(n){return new Ea(n)}function N6(n,e,t){n.j=t?T3(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fi(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function D3(n,e,t){e instanceof N3?(n.i=e,function _h(n,e){e&&!n.j&&(Yc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(z7(this,r),R7(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Qc(e,av)),n.i=new N3(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function Ma(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function T3(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,N7),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function N7(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ea.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qc(e,L7,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qc(e,L7,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qc(t,"/"==t.charAt(0)?x3:ov,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qc(t,rw)),n.join("")};var L7=/[#\/\?@]/g,ov=/[#\?:]/g,x3=/[#\?]/g,av=/[#\?@]/g,rw=/#/g;function N3(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yc(n){n.g||(n.g=new Map,n.h=0,n.i&&function x7(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function z7(n,e){Yc(n),e=Jc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function k7(n,e){return Yc(n),e=Jc(n,e),n.g.has(e)}function R7(n,e,t){z7(n,e),0<t.length&&(n.i=null,n.g.set(Jc(n,e),Pu(t)),n.h+=t.length)}function Jc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ju(n){this.l=n||lv,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=N3.prototype).add=function(n,e){Yc(this),this.i=null,n=Jc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Yc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.oa=function(){Yc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let c=0;c<i.length;c++)t.push(e[r])}return t},gt.W=function(n){Yc(this);let e=[];if("string"==typeof n)k7(this,n)&&(e=e.concat(this.g.get(Jc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return Yc(this),this.i=null,k7(this,n=Jc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=c;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var lv=10;function P7(n){return!!n.h||!!n.g&&n.g.size>=n.j}function O7(n){return n.h?1:n.g?n.g.size:0}function Ch(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wh(n,e){n.g?n.g.add(e):n.h=e}function V7(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function L3(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Pu(n.i)}function n2(){}function iw(){this.g=new n2}function z3(n,e,t){const r=t||"";try{sv(n,function(i,c){let u=i;p3(i)&&(u=E3(i)),e.push(r+c+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xu(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xc(n){this.l=n.ac||null,this.j=n.jb||!1}function e8(n,e){zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ui,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ju.prototype.cancel=function(){if(this.i=L3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},n2.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},n2.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},a1(Xc,uh),Xc.prototype.g=function(){return new e8(this.l,this.j)},Xc.prototype.i=function(n){return function(){return n}}({}),a1(e8,zr);var Ui=0;function L6(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Sr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ys(n)}function ys(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=e8.prototype).open=function(n,e){if(this.readyState!=Ui)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ys(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sr(this)),this.readyState=Ui},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;L6(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sr(this):ys(this),3==this.readyState&&L6(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,Sr(this))},gt.Ua=function(n){this.g&&(this.response=n,Sr(this))},gt.ga=function(){this.g&&Sr(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(e8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var t8=Ht.JSON.parse;function hn(n){zr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=n8,this.K=this.L=!1}a1(hn,zr);var n8="",z6=/^https?$/i,k6=["POST","PUT"];function e4(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,t4(n),r2(n)}function t4(n){n.D||(n.D=!0,kr(n,"complete"),kr(n,"error"))}function n4(n){if(n.h&&typeof zu<"u"&&(!n.C[1]||4!=q1(n)||2!=n.aa()))if(n.v&&4==q1(n))A6(n.Ha,0,n);else if(kr(n,"readystatechange"),4==q1(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(yh)[1]||null;if(!i&&Ht.self&&Ht.self.location){var c=Ht.self.location.protocol;i=c.substr(0,c.length-1)}r=!z6.test(i?i.toLowerCase():"")}t=r}if(t)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var u=2<q1(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",t4(n)}}finally{r2(n)}}}function r2(n,e){if(n.g){r4(n);const t=n.g,r=n.C[0]?ku:null;n.g=null,n.C=null,e||kr(n,"ready");try{t.onreadystatechange=r}catch{}}}function r4(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function q1(n){return n.g?n.g.readyState:0}function bh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case n8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(n){let e="";return g7(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function r8(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Eh(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function P6(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Mh(n){this.Ca=0,this.i=[],this.j=new qu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=P6("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=P6("baseRetryDelayMs",5e3,n),this.bb=P6("retryDelaySeedMs",1e4,n),this.$a=P6("forwardChannelMaxRetries",2,n),this.ta=P6("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Ju(n&&n.concurrentRequestLimit),this.Fa=new iw,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function i8(n){if(Ih(n),3==n.G){var e=n.U++,t=io(n.F);Ln(t,"SID",n.I),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),O6(n,t),(e=new A3(n,n.j,e,void 0)).K=2,e.v=Ma(io(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sh(e.l,null),e.g.da(e.v)),e.F=Date.now(),Kc(e)}o8(n)}function k3(n){n.g&&(O3(n),n.g.cancel(),n.g=null)}function Ih(n){k3(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),i4(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function R3(n){P7(n.h)||n.m||(n.m=!0,ih(n.Ja,n),n.C=0)}function H7(n,e){var t;t=e?e.m:n.U++;const r=io(n.F);Ln(r,"SID",n.I),Ln(r,"RID",t),Ln(r,"AID",n.T),O6(n,r),n.o&&n.s&&r8(r,n.o,n.s),t=new A3(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=F7(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),wh(n.h,t),S7(t,r,e)}function O6(n,e){n.ia&&g7(n.ia,function(t,r){Ln(e,r,t)}),n.l&&sv({},function(t,r){Ln(e,r,t)})}function F7(n,e,t){t=Math.min(n.i.length,t);var r=n.l?_1(n.l.Ra,n.l,n):null;e:{var i=n.i;let c=-1;for(;;){const u=["count="+t];-1==c?0<t?(c=i[0].h,u.push("ofs="+c)):c=0:u.push("ofs="+c);let f=!0;for(let v=0;v<t;v++){let w=i[v].h;const S=i[v].g;if(w-=c,0>w)c=Math.max(0,i[v].h-100),f=!1;else try{z3(S,u,"req"+w+"_")}catch{r&&r(S)}}if(f){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function U7(n){n.g||n.u||(n.Z=1,ih(n.Ia,n),n.A=0)}function P3(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=D6(_1(n.Ia,n),s8(n,n.A)),n.A++,0))}function O3(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function B7(n){n.g=new A3(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=io(n.sa);Ln(e,"RID","rpc"),Ln(e,"SID",n.I),Ln(e,"CI",n.L?"0":"1"),Ln(e,"AID",n.T),Ln(e,"TYPE","xmlhttp"),O6(n,e),n.o&&n.s&&r8(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ma(io(e)),t.s=null,t.P=!0,gh(t,n)}function i4(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function V3(n,e){var t=null;if(n.g==e){i4(n),O3(n),n.g=null;var r=2}else{if(!Ch(n.h,e))return;t=e.D,V7(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;kr(r=C1(),new Wu(r,t)),R3(n)}else U7(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function hv(n,e){return!(O7(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=D6(_1(n.Ja,n,e),s8(n,n.C)),n.C++,0)))}(n,e)||2==r&&P3(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:s4(n,5);break;case 4:s4(n,10);break;case 3:s4(n,6);break;default:s4(n,2)}}function s8(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function s4(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=_1(n.kb,n);t||(t=new Ea("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||N6(t,"https"),Ma(t)),function uv(n,e){const t=new qu;if(Ht.Image){const r=new Image;r.onload=Ru(Xu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ru(Xu,t,r,"TestLoadImage: error",!1,e),r.onabort=Ru(Xu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ru(Xu,t,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else x1(2);n.G=0,n.l&&n.l.va(e),o8(n),Ih(n)}function o8(n){if(n.G=0,n.la=[],n.l){const e=L3(n.h);(0!=e.length||0!=n.i.length)&&(Q5(n.la,e),Q5(n.la,n.i),n.h.i.length=0,Pu(n.i),n.i.length=0),n.l.ua()}}function a8(n,e,t){var r=t instanceof Ea?io(t):new Ea(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Fi(r,r.m);else{var i=Ht.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new Ea(null,void 0);r&&N6(c,r),e&&(c.g=e),i&&Fi(c,i),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&Ln(r,t,e),Ln(r,"VER",n.ma),O6(n,r),r}function Sh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hn(t&&n.Da&&!n.ra?new Xc({jb:!0}):n.ra)).Ka(n.H),e}function j7(){}function V6(){if(Gc&&!(10<=Number(X5)))throw Error("Environmental error: no available transport.")}function W1(n,e){zr.call(this),this.g=new Mh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!M6(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!M6(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new o4(this)}function Ah(n){fh.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function c8(){dh.call(this),this.status=1}function o4(n){this.g=n}(gt=hn.prototype).Ka=function(n){this.L=n},gt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ku.g(),this.C=function hh(n){return n.h||(n.h=n.i())}(this.u?this.u:Ku),this.g.onreadystatechange=_1(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void e4(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),i=Ht.FormData&&n instanceof Ht.FormData,!(0<=u7(k6,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of t)this.g.setRequestHeader(c,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{r4(this),0<this.B&&((this.K=function R6(n){return Gc&&function Uu(){return function Vu(n){var e=Fu;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=h7(String(I6)).split("."),t=h7("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",c=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==i[0].length&&0==c[0].length)break;n=f7(0==i[1].length?0:parseInt(i[1],10),0==c[1].length?0:parseInt(c[1],10))||f7(0==i[2].length,0==c[2].length)||f7(i[2],c[2]),i=i[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_1(this.qa,this)):this.A=A6(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){e4(this,c)}},gt.qa=function(){typeof zu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),r2(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),r2(this,!0)),hn.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?n4(this):this.fb())},gt.fb=function(){n4(this)},gt.aa=function(){try{return 2<q1(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),t8(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=Mh.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new A3(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=v7(c),eh(c,this.S)):c=this.S),null!==this.o||this.N||(i.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=F7(this,i,e),Ln(t=io(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),O6(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Eh(c)))+"&"+e:this.o&&r8(t,this.o,c)),wh(this.h,i),this.Ya&&Ln(t,"TYPE","init"),this.O?(Ln(t,"$req",e),Ln(t,"SID","null"),i.Z=!0,S7(i,t,null)):S7(i,t,e),this.G=2}}else 3==this.G&&(n?H7(this,n):0==this.i.length||P7(this.h)||H7(this))},gt.Ia=function(){if(this.u=null,B7(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=D6(_1(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,x1(10),k3(this),B7(this))},gt.cb=function(){null!=this.v&&(this.v=null,k3(this),P3(this),x1(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),x1(2)):(this.j.info("Failed to ping google.com"),x1(1))},(gt=j7.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},V6.prototype.g=function(n,e){return new W1(n,e)},a1(W1,zr),W1.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;x1(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=a8(n,null,n.V),R3(n)},W1.prototype.close=function(){i8(this.g)},W1.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=E3(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&R3(e)},W1.prototype.M=function(){this.g.l=null,delete this.j,i8(this.g),delete this.g,W1.X.M.call(this)},a1(Ah,fh),a1(c8,dh),a1(o4,j7),o4.prototype.xa=function(){kr(this.g,"a")},o4.prototype.wa=function(n){kr(this.g,new Ah(n))},o4.prototype.va=function(n){kr(this.g,new c8)},o4.prototype.ua=function(){kr(this.g,"b")},V6.prototype.createWebChannel=V6.prototype.g,W1.prototype.send=W1.prototype.u,W1.prototype.open=W1.prototype.m,W1.prototype.close=W1.prototype.close,Zu.NO_ERROR=0,Zu.TIMEOUT=8,Zu.HTTP_ERROR=6,M7.COMPLETE="complete",I7.EventType=T6,T6.OPEN="a",T6.CLOSE="b",T6.ERROR="c",T6.MESSAGE="d",zr.prototype.listen=zr.prototype.N,hn.prototype.listenOnce=hn.prototype.O,hn.prototype.getLastError=hn.prototype.Oa,hn.prototype.getLastErrorCode=hn.prototype.Ea,hn.prototype.getStatus=hn.prototype.aa,hn.prototype.getResponseJson=hn.prototype.Sa,hn.prototype.getResponseText=hn.prototype.fa,hn.prototype.send=hn.prototype.da,hn.prototype.setWithCredentials=hn.prototype.Ka;var fv=ya.createWebChannelTransport=function(){return new V6},$7=ya.getStatEventTarget=function(){return C1()},l8=ya.ErrorCode=Zu,G7=ya.EventType=M7,q7=ya.Event=wa,W7=ya.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Z7=ya.FetchXmlHttpFactory=Xc,H3=ya.WebChannel=I7,K7=ya.XhrIo=hn;const u8="@firebase/firestore";class Rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let a4="9.15.0";const s2=new va.Yd("@firebase/firestore");function h8(){return s2.logLevel}function Le(n,...e){if(s2.logLevel<=va.in.DEBUG){const t=e.map(Y7);s2.debug(`Firestore (${a4}): ${n}`,...t)}}function hr(n,...e){if(s2.logLevel<=va.in.ERROR){const t=e.map(Y7);s2.error(`Firestore (${a4}): ${n}`,...t)}}function Ia(n,...e){if(s2.logLevel<=va.in.WARN){const t=e.map(Y7);s2.warn(`Firestore (${a4}): ${n}`,...t)}}function Y7(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${a4}) INTERNAL ASSERTION FAILED: `+n;throw hr(e),new Error(e)}function dt(n,e){n||st()}function We(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class X7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rr.UNAUTHENTICATED))}shutdown(){}}class dv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class t9{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pr,e.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,_e.Z)(function*(){yield w.promise,yield c(r.currentUser)}))},v=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?v(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt("string"==typeof r.accessToken),new X7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(null===e||"string"==typeof e),new Rr(e)}}class n9{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(dt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class H6{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new n9(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pv{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.A;return this.A=c.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?i(c):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt("string"==typeof t.token),this.A=t.token,new r9(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gv(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Dh{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gv(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+=e.charAt(i[c]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function Sa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Th(n){return n+"\0"}class fn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new fn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new fn(0,0))}static max(){return new wt(new fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class F3{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===F3.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof F3?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),u=t.get(i);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jt extends F3{construct(e,t,r){return new jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new jt(t)}static emptyPath(){return new jt([])}}const _s=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends F3{construct(e,t,r){return new gn(e,t,r)}static isValidIdentifier(e){return _s.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(c(),i++)}if(c(),u)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(jt.fromString(e))}static fromName(e){return new qe(jt.fromString(e).popFirst(5))}static empty(){return new qe(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new jt(e.slice()))}}class U3{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function xh(n){return n.fields.find(e=>2===e.kind)}function c4(n){return n.fields.filter(e=>2!==e.kind)}U3.UNKNOWN_ID=-1;class f8{constructor(e,t){this.fieldPath=e,this.kind=t}}class o2{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new o2(0,hi.min())}}function i9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(1e9===r?new fn(t+1,0):new fn(t,r));return new hi(i,qe.empty(),e)}function Lh(n){return new hi(n.readTime,n.key,-1)}class hi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hi(wt.min(),qe.empty(),-1)}static max(){return new hi(wt.max(),qe.empty(),-1)}}function d8(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const zh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Aa(n){return p8.apply(this,arguments)}function p8(){return p8=(0,_e.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==zh)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),p8.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,c=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++c,u&&c===i&&t()},v=>r(v))}),u=!0,c===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const c=e.length,u=new Array(c);let f=0;for(let v=0;v<c;v++){const w=v;t(e[w]).next(S=>{u[w]=S,++f,f===c&&r(u)},S=>i(S))}})}static doWhile(e,t){return new ce((r,i)=>{const c=()=>{!0===e()?t().next(()=>{c()},i):r()};c()})}}class j3{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new F6(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=m8(r.target.error);this.P.reject(new F6(e,i))}}static open(e,t,r,i){try{return new j3(t,e.transaction(i,r))}catch(c){throw new F6(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new s9(t)}}class Z1{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Z1.D((0,Cn.z$)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Da(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Cn.hl)())return!1;if(Z1.N())return!0;const e=(0,Cn.z$)(),t=Z1.D(e),r=0<t&&t<10,i=Z1.k(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{i(new F6(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new xe(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new xe(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new F6(e,f))},c.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,c.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,_e.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{c.db=yield c.F(e);const v=j3.open(c.db,e,u?"readonly":"readwrite",r),w=i(v).next(S=>(v.V(),S)).catch(S=>(v.abort(S),ce.reject(S))).toPromise();return w.catch(()=>{}),yield v.v,w}catch(v){const w=v,S="FirebaseError"!==w.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),c.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kh{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Da(this.q.delete())}}class F6 extends xe{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function a2(n){return"IndexedDbTransactionError"===n.name}class s9{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Da(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Da(this.store.add(e))}get(e){return Da(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Da(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Da(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.H(i,(u,f)=>{c.push(f)}).next(()=>c)}{const i=this.store.getAll(r.range);return new ce((c,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{c(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(c,u,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=c=>{const u=m8(c.target.error);i(u)},t.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}H(e,t){const r=[];return new ce((i,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const v=new kh(f),w=t(f.primaryKey,f.value,v);if(w instanceof ce){const S=w.catch(T=>(v.done(),ce.reject(T)));r.push(S)}v.isDone?i():null===v.G?f.continue():f.continue(v.G)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Da(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=m8(r.target.error);t(i)}})}let Rh=!1;function m8(n){const e=Z1.D((0,Cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rh||(Rh=!0,setTimeout(()=>{throw r},0)),r}}return n}class o9{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){a2(r)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Aa(r)}yield t.nt(6e4)}))}}class yv{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,c=!0;return ce.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(f=>{i-=f,r.add(u)});c=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,c)).next(f=>(Le("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,c)=>{const u=Lh(c);d8(u,r)>0&&(r=u)}),new hi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let fi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class _v{constructor(e,t,r,i,c,u,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=v}}class Ta{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ta("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ta&&e.projectId===this.projectId&&e.database===this.database}}function a9(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function l4(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function c9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $3(n){return null==n}function G3(n){return 0===n&&1/n==-1/0}function l9(n){return"number"==typeof n&&Number.isInteger(n)&&!G3(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Or{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Or(t)}static fromUint8Array(e){const t=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new Or(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const wv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(n){if(dt(!!n),"string"==typeof n){let e=0;const t=wv.exec(n);if(dt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fr(n.seconds),nanos:fr(n.nanos)}}function fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function u4(n){return"string"==typeof n?Or.fromBase64String(n):Or.fromUint8Array(n)}function Ph(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function u9(n){const e=n.mapValue.fields.__previous_value__;return Ph(e)?u9(e):e}function U6(n){const e=xa(n.mapValue.fields.__local_write_time__.timestampValue);return new fn(e.seconds,e.nanos)}const c2={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},q3={nullValue:"NULL_VALUE"};function Na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ph(n)?4:bv(n)?9007199254740991:10:st()}function Cs(n,e){if(n===e)return!0;const t=Na(n);if(t!==Na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return U6(n).isEqual(U6(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=xa(r.timestampValue),u=xa(i.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,u4(n.bytesValue).isEqual(u4(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return fr(r.geoPointValue.latitude)===fr(i.geoPointValue.latitude)&&fr(r.geoPointValue.longitude)===fr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return fr(r.integerValue)===fr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=fr(r.doubleValue),u=fr(i.doubleValue);return c===u?G3(c)===G3(u):isNaN(c)&&isNaN(u)}return!1}(n,e);case 9:return Sa(n.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(r,i){const c=r.mapValue.fields||{},u=i.mapValue.fields||{};if(a9(c)!==a9(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(void 0===u[f]||!Cs(c[f],u[f])))return!1;return!0}(n,e);default:return st()}var i}function B6(n,e){return void 0!==(n.values||[]).find(t=>Cs(t,e))}function l2(n,e){if(n===e)return 0;const t=Na(n),r=Na(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,c){const u=fr(i.integerValue||i.doubleValue),f=fr(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return Oh(n.timestampValue,e.timestampValue);case 4:return Oh(U6(n),U6(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,c){const u=u4(i),f=u4(c);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,c){const u=i.split("/"),f=c.split("/");for(let v=0;v<u.length&&v<f.length;v++){const w=Ft(u[v],f[v]);if(0!==w)return w}return Ft(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,c){const u=Ft(fr(i.latitude),fr(c.latitude));return 0!==u?u:Ft(fr(i.longitude),fr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,c){const u=i.values||[],f=c.values||[];for(let v=0;v<u.length&&v<f.length;++v){const w=l2(u[v],f[v]);if(w)return w}return Ft(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===c2.mapValue&&c===c2.mapValue)return 0;if(i===c2.mapValue)return 1;if(c===c2.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),v=c.fields||{},w=Object.keys(v);f.sort(),w.sort();for(let S=0;S<f.length&&S<w.length;++S){const T=Ft(f[S],w[S]);if(0!==T)return T;const P=l2(u[f[S]],v[w[S]]);if(0!==P)return P}return Ft(f.length,w.length)}(n.mapValue,e.mapValue);default:throw st()}}function Oh(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=xa(n),r=xa(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function h4(n){return W3(n)}function W3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xa(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?u4(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const u of r.values||[])c?c=!1:i+=",",i+=W3(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const f of i)u?u=!1:c+=",",c+=`${f}:${W3(r.fields[f])}`;return c+"}"}(n.mapValue):st();var e}function La(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function u2(n){return!!n&&"integerValue"in n}function Z3(n){return!!n&&"arrayValue"in n}function h9(n){return!!n&&"nullValue"in n}function f4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vh(n){return!!n&&"mapValue"in n}function d4(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return l4(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=d4(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=d4(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function f9(n){return"nullValue"in n?q3:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?La(Ta.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function d9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?La(Ta.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?c2:st()}function Ev(n,e){const t=l2(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function St(n,e){const t=l2(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class za{constructor(e,t){this.position=e,this.inclusive=t}}function p9(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],u=n.position[i];if(r=c.field.isKeyField()?qe.comparator(qe.fromName(u.referenceValue),t.key):l2(u,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function m9(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cs(n.position[t],e.position[t]))return!1;return!0}class p4{}class Xt extends p4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new v9(e,t,r):"array-contains"===t?new Sv(e,r):"in"===t?new j6(e,r):"not-in"===t?new Av(e,r):"array-contains-any"===t?new Dv(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new y9(e,r):new Iv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(l2(t,this.value)):null!==t&&Na(this.value)===Na(t)&&this.matchesComparison(l2(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends p4{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new vn(e,t)}matches(e){return h2(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function h2(n){return"and"===n.op}function $n(n){return"or"===n.op}function Mv(n){return Hh(n)&&h2(n)}function Hh(n){for(const e of n.filters)if(e instanceof vn)return!1;return!0}function Fh(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+h4(n.value);{const e=n.filters.map(t=>Fh(t)).join(",");return`${n.op}(${e})`}}function g9(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&Cs(t.value,r.value)):n instanceof vn?function(t,r){return r instanceof vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,c,u)=>i&&g9(c,r.filters[u]),!0)}(n,e):void st();var t,r}function Uh(n,e){const t=n.filters.concat(e);return vn.create(t,n.op)}function Bh(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${h4(e.value)}`:n instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(Bh).join(" ,")+"}"}(n):"Filter";var e}class v9 extends Xt{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class y9 extends Xt{constructor(e,t){super(e,"in",t),this.keys=_9(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Iv extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=_9(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _9(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class Sv extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Z3(t)&&B6(t.arrayValue,this.value)}}class j6 extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&B6(this.value.arrayValue,t)}}class Av extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(B6(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!B6(this.value.arrayValue,t)}}class Dv extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Z3(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>B6(this.value.arrayValue,r))}}class $6{constructor(e,t="asc"){this.field=e,this.dir=t}}function g8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class er{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new K3(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new K3(this.root,e,this.comparator,!1)}getReverseIterator(){return new K3(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new K3(this.root,e,this.comparator,!0)}}class K3{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=r??Zr.RED,this.left=i??Zr.EMPTY,this.right=c??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new Zr(e??this.key,t??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Zr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G6(this.data.getIterator())}getIteratorFrom(e){return new G6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class G6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function so(n){return n.hasNext()?n.getNext():void 0}class di{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new di([])}unionWith(e){let t=new xn(gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class c1{constructor(e){this.value=e}static empty(){return new c1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=d4(t)}setAll(e){let t=gn.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=d4(u):i.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){l4(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new c1(d4(this.value))}}function C9(n){const e=[];return l4(n.fields,(t,r)=>{const i=new gn([t]);if(Vh(r)){const c=C9(r.mapValue).fields;if(0===c.length)e.push(i);else for(const u of c)e.push(i.child(u))}else e.push(i)}),new di(e)}class kn{constructor(e,t,r,i,c,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=c,this.data=u,this.documentState=f}static newInvalidDocument(e){return new kn(e,0,wt.min(),wt.min(),wt.min(),c1.empty(),0)}static newFoundDocument(e,t,r,i){return new kn(e,1,t,wt.min(),r,i,0)}static newNoDocument(e,t){return new kn(e,2,t,wt.min(),wt.min(),c1.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,wt.min(),wt.min(),c1.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=c1.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=c1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class w9{constructor(e,t=null,r=[],i=[],c=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=u,this.endAt=f,this.ft=null}}function v8(n,e=null,t=[],r=[],i=null,c=null,u=null){return new w9(n,e,t,r,i,c,u)}function m4(n){const e=We(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Fh(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$3(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>h4(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>h4(r)).join(",")),e.ft=t}return e.ft}function q6(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!g8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!g9(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m9(n.startAt,e.startAt)&&m9(n.endAt,e.endAt)}function y8(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _8(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function Tv(n,e,t){let r=q3,i=!0;for(const c of _8(n,e)){let u=q3,f=!0;switch(c.op){case"<":case"<=":u=f9(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,f=!1;break;case"!=":case"not-in":u=q3}Ev({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];Ev({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function xv(n,e,t){let r=c2,i=!0;for(const c of _8(n,e)){let u=c2,f=!0;switch(c.op){case">=":case">":u=d9(c.value),f=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,f=!1;break;case"!=":case"not-in":u=c2}St({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];St({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class ka{constructor(e,t=null,r=[],i=[],c=null,u="F",f=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=u,this.startAt=f,this.endAt=v,this.dt=null,this._t=null}}function Nv(n,e,t,r,i,c,u,f){return new ka(n,e,t,r,i,c,u,f)}function g4(n){return new ka(n)}function Q3(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jh(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function C8(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function w8(n){return null!==n.collectionGroup}function ws(n){const e=We(n);if(null===e.dt){e.dt=[];const t=C8(e),r=jh(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new $6(t)),e.dt.push(new $6(gn.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $6(gn.keyField(),c))}}}return e.dt}function N1(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=v8(e.path,e.collectionGroup,ws(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of ws(e))t.push(new $6(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new za(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new za(e.startAt.position,e.startAt.inclusive):null;e._t=v8(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function $h(n,e){e.getFirstInequalityField(),C8(n);const t=n.filters.concat([e]);return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function b8(n,e,t){return new ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Y3(n,e){return q6(N1(n),N1(e))&&n.limitType===e.limitType}function b9(n){return`${m4(N1(n))}|lt:${n.limitType}`}function E8(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Bh(r)).join(", ")}]`),$3(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>h4(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>h4(r)).join(",")),`Target(${t})`}(N1(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ws(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,c,u){const f=p9(i,c,u);return i.inclusive?f<=0:f<0}(t.startAt,ws(t),r)||t.endAt&&!function(i,c,u){const f=p9(i,c,u);return i.inclusive?f>=0:f>0}(t.endAt,ws(t),r)));var t,r}function E9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function W6(n){return(e,t)=>{let r=!1;for(const i of ws(n)){const c=Lv(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function Lv(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,c,u){const f=c.data.field(i),v=u.data.field(i);return null!==f&&null!==v?l2(f,v):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function qh(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G3(e)?"-0":e}}function M9(n){return{integerValue:""+n}}function Wh(n,e){return l9(e)?M9(e):qh(n,e)}class M8{constructor(){this._=void 0}}function I9(n,e,t){return n instanceof Z6?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(c.fields.__previous_value__=i),{mapValue:c}}(t,e):n instanceof Ra?Zh(n,e):n instanceof v4?S9(n,e):function(r,i){const c=I8(r,i),u=S8(c)+S8(r.gt);return u2(c)&&u2(r.gt)?M9(u):qh(r.yt,u)}(n,e)}function zv(n,e,t){return n instanceof Ra?Zh(n,e):n instanceof v4?S9(n,e):t}function I8(n,e){return n instanceof K6?u2(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Z6 extends M8{}class Ra extends M8{constructor(e){super(),this.elements=e}}function Zh(n,e){const t=A9(e);for(const r of n.elements)t.some(i=>Cs(i,r))||t.push(r);return{arrayValue:{values:t}}}class v4 extends M8{constructor(e){super(),this.elements=e}}function S9(n,e){let t=A9(e);for(const r of n.elements)t=t.filter(i=>!Cs(i,r));return{arrayValue:{values:t}}}class K6 extends M8{constructor(e,t){super(),this.yt=e,this.gt=t}}function S8(n){return fr(n.integerValue||n.doubleValue)}function A9(n){return Z3(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Q6{constructor(e,t){this.field=e,this.transform=t}}class Rv{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A8(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class D8{}function D9(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new J6(n.key,Gn.none()):new Y6(n.key,n.data,Gn.none());{const t=n.data,r=c1.empty();let i=new xn(gn.comparator);for(let c of e.fields)if(!i.has(c)){let u=t.field(c);null===u&&c.length>1&&(c=c.popLast(),u=t.field(c)),null===u?r.delete(c):r.set(c,u),i=i.add(c)}return new f2(n.key,r,new di(i.toArray()),Gn.none())}}function Pv(n,e,t){n instanceof Y6?function(r,i,c){const u=r.value.clone(),f=x9(r.fieldTransforms,i,c.transformResults);u.setAll(f),i.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,e,t):n instanceof f2?function(r,i,c){if(!A8(r.precondition,i))return void i.convertToUnknownDocument(c.version);const u=x9(r.fieldTransforms,i,c.transformResults),f=i.data;f.setAll(Qh(r)),f.setAll(u),i.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function J3(n,e,t,r){return n instanceof Y6?function(i,c,u,f){if(!A8(i.precondition,c))return u;const v=i.value.clone(),w=N9(i.fieldTransforms,f,c);return v.setAll(w),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof f2?function(i,c,u,f){if(!A8(i.precondition,c))return u;const v=N9(i.fieldTransforms,f,c),w=c.data;return w.setAll(Qh(i)),w.setAll(v),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(u=t,A8(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function T9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=I8(r.transform,i||null);null!=c&&(null===t&&(t=c1.empty()),t.set(r.field,c))}return t||null}function Kh(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Sa(t,r,(i,c)=>function kv(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ra&&r instanceof Ra||t instanceof v4&&r instanceof v4?Sa(t.elements,r.elements,Cs):t instanceof K6&&r instanceof K6?Cs(t.gt,r.gt):t instanceof Z6&&r instanceof Z6);var t,r}(i,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Y6 extends D8{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class f2 extends D8{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Qh(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function x9(n,e,t){const r=new Map;dt(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],u=c.transform,f=e.data.field(c.field);r.set(c.field,zv(u,f,t[i]))}return r}function N9(n,e,t){const r=new Map;for(const i of n){const c=i.transform,u=t.data.field(i.field);r.set(i.field,I9(c,u,e))}return r}class J6 extends D8{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X3 extends D8{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yh{constructor(e){this.count=e}}var vr,en;function L9(n){switch(n){default:return st();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function z9(n){if(void 0===n)return hr("GRPC error has no .code"),re.UNKNOWN;switch(n){case vr.OK:return re.OK;case vr.CANCELLED:return re.CANCELLED;case vr.UNKNOWN:return re.UNKNOWN;case vr.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case vr.INTERNAL:return re.INTERNAL;case vr.UNAVAILABLE:return re.UNAVAILABLE;case vr.UNAUTHENTICATED:return re.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case vr.NOT_FOUND:return re.NOT_FOUND;case vr.ALREADY_EXISTS:return re.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return re.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case vr.ABORTED:return re.ABORTED;case vr.OUT_OF_RANGE:return re.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return re.UNIMPLEMENTED;case vr.DATA_LOSS:return re.DATA_LOSS;default:return st()}}(en=vr||(vr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){l4(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return c9(this.inner)}size(){return this.innerSize}}const Ov=new er(qe.comparator);function K1(){return Ov}const y4=new er(qe.comparator);function X6(...n){let e=y4;for(const t of n)e=e.insert(t.key,t);return e}function k9(n){let e=y4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function d2(){return _4()}function Jh(){return _4()}function _4(){return new oo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Vv=new er(qe.comparator),Xh=new xn(qe.comparator);function Gt(...n){let e=Xh;for(const t of n)e=e.add(t);return e}const R9=new xn(Ft);function e0(){return R9}class t0{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,n0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new t0(wt.min(),i,e0(),K1(),Gt())}}class n0{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n0(r,t,Gt(),Gt(),Gt())}}class el{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class ef{constructor(e,t){this.targetId=e,this.Et=t}}class P9{constructor(e,t,r=Or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class O9{constructor(){this.At=0,this.Rt=tf(),this.bt=Or.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Gt(),t=Gt(),r=Gt();return this.Rt.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new n0(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=tf()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Hv{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=K1(),this.qt=V9(),this.Ut=new xn(Ft)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const c=i.target;if(y8(c))if(0===r){const u=new qe(c.path);this.Qt(t,u,kn.newNoDocument(u,wt.min()))}else dt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((c,u)=>{const f=this.Yt(u);if(f){if(c.current&&y8(f.target)){const v=new qe(f.target.path);null!==this.Lt.get(v)||this.te(u,v)||this.Qt(u,v,kn.newNoDocument(v,e))}c.St&&(t.set(u,c.Ct()),c.xt())}});let r=Gt();this.qt.forEach((c,u)=>{let f=!0;u.forEachWhile(v=>{const w=this.Yt(v);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(c))}),this.Lt.forEach((c,u)=>u.setReadTime(e));const i=new t0(e,t,this.Ut,this.Lt,r);return this.Lt=K1(),this.qt=V9(),this.Ut=new xn(Ft),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new O9,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new xn(Ft),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new O9),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function V9(){return new er(qe.comparator)}function tf(){return new er(qe.comparator)}const sw={asc:"ASCENDING",desc:"DESCENDING"},H9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fv={and:"AND",or:"OR"};class Uv{constructor(e,t){this.databaseId=e,this.wt=t}}function tl(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bv(n,e){return n.wt?e.toBase64():e.toUint8Array()}function jv(n,e){return tl(n,e.toTimestamp())}function yr(n){return dt(!!n),wt.fromTimestamp(function(e){const t=xa(e);return new fn(t.seconds,t.nanos)}(n))}function nf(n,e){return(t=n,new jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rf(n){const e=jt.fromString(n);return dt(bs(e)),e}function nl(n,e){return nf(n.databaseId,e.path)}function ao(n,e){const t=rf(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(U9(t))}function sf(n,e){return nf(n.databaseId,e)}function F9(n){const e=rf(n);return 4===e.length?jt.emptyPath():U9(e)}function rl(n){return new jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U9(n){return dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function B9(n,e,t){return{name:nl(n,e),fields:t.value.mapValue.fields}}function j9(n,e,t){const r=ao(n,e.name),i=yr(e.updateTime),c=e.createTime?yr(e.createTime):wt.min(),u=new c1({mapValue:{fields:e.fields}}),f=kn.newFoundDocument(r,i,c,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function r0(n,e){let t;if(e instanceof Y6)t={update:B9(n,e.key,e.value)};else if(e instanceof J6)t={delete:nl(n,e.key)};else if(e instanceof f2)t={update:B9(n,e.key,e.data),updateMask:lf(e.fieldMask)};else{if(!(e instanceof X3))return st();t={verify:nl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const u=c.transform;if(u instanceof Z6)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ra)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof v4)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof K6)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:jv(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function T8(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Gn.updateTime(yr(i.updateTime)):void 0!==i.exists?Gn.exists(i.exists):Gn.none():Gn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,u){let f=null;"setToServerValue"in u?(dt("REQUEST_TIME"===u.setToServerValue),f=new Z6):"appendMissingElements"in u?f=new Ra(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new v4(u.removeAllFromArray.values||[]):"increment"in u?f=new K6(c,u.increment):st();const v=gn.fromServerFormat(u.fieldPath);return new Q6(v,f)}(n,i)):[];var i;if(e.update){const i=ao(n,e.update.name),c=new c1({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new di((e.updateMask.fieldPaths||[]).map(w=>gn.fromServerFormat(w)));return new f2(i,c,u,t,r)}return new Y6(i,c,t,r)}if(e.delete){const i=ao(n,e.delete);return new J6(i,t)}if(e.verify){const i=ao(n,e.verify);return new X3(i,t)}return st()}function af(n,e){return{documents:[sf(n,e.path)]}}function cf(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0!==v.length)return Z9(vn.create(v,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const c=function(v){if(0!==v.length)return v.map(w=>{return{field:s0((S=w).field),direction:$v(S.dir)};var S})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=(w=e.limit,n.wt||$3(w)?w:{value:w});var w,f,v;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function q9(n){let e=F9(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){dt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let c=[];t.where&&(c=function(S){const T=W9(S);return T instanceof vn&&Mv(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(S=>{return new $6(co((T=S).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;t.limit&&(f=function(S){let T;return T="object"==typeof S?S.value:S,$3(T)?null:T}(t.limit));let v=null;var S;t.startAt&&(v=new za((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new za(S.values||[],!S.before)}(t.endAt)),Nv(e,i,u,c,f,"F",v,w)}function W9(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=co(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=co(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=co(e.unaryFilter.field);return Xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=co(e.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?Xt.create(co((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return vn.create(e.compositeFilter.filters.map(t=>W9(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function $v(n){return sw[n]}function Gv(n){return H9[n]}function qv(n){return Fv[n]}function s0(n){return{fieldPath:n.canonicalString()}}function co(n){return gn.fromServerFormat(n.fieldPath)}function Z9(n){return n instanceof Xt?function(e){if("=="===e.op){if(f4(e.value))return{unaryFilter:{field:s0(e.field),op:"IS_NAN"}};if(h9(e.value))return{unaryFilter:{field:s0(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(f4(e.value))return{unaryFilter:{field:s0(e.field),op:"IS_NOT_NAN"}};if(h9(e.value))return{unaryFilter:{field:s0(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:s0(e.field),op:Gv(e.op),value:e.value}}}(n):n instanceof vn?function(e){const t=e.getFilters().map(r=>Z9(r));return 1===t.length?t[0]:{compositeFilter:{op:qv(e.op),filters:t}}}(n):st()}function lf(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bs(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function L1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=o0(e)),e=uf(n.get(t),e);return o0(e)}function uf(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function o0(n){return n+"\x01\x01"}function lo(n){const e=n.length;if(dt(e>=2),2===e)return dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),jt.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const u=n.indexOf("\x01",c);switch((u<0||u>t)&&st(),n.charAt(u+1)){case"\x01":const f=n.substring(c,u);let v;0===i.length?v=f:(i+=f,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(c,u),i+="\0";break;case"\x11":i+=n.substring(c,u+1);break;default:st()}c=u+2}return new jt(r)}const K9=["userId","batchId"];function x8(n,e){return[n,L1(e)]}function sl(n,e,t){return[n,L1(e),t]}const N8={},Wv=["prefixPath","collectionGroup","readTime","documentId"],Zv=["prefixPath","collectionGroup","documentId"],Q9=["collectionGroup","readTime","prefixPath","documentId"],Y9=["canonicalId","targetId"],hf=["targetId","path"],J9=["path","targetId"],Kv=["collectionId","parent"],Qv=["indexId","uid"],aw=["uid","sequenceNumber"],ff=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],df=["indexId","uid","orderedDocumentKey"],X9=["userId","collectionPath","documentId"],pf=["userId","collectionPath","largestBatchId"],mf=["userId","collectionGroup","largestBatchId"],ep=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yv=[...ep,"documentOverlays"],tp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],np=tp,rp=[...np,"indexConfiguration","indexState","indexEntries"];class ol extends B3{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Vr(n,e){const t=We(n);return Z1.M(t.se,e)}class L8{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&Pv(c,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=J3(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=J3(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Jh();return this.mutations.forEach(i=>{const c=e.get(i.key),u=c.overlayedDocument;let f=this.applyToLocalView(u,c.mutatedFields);f=t.has(i.key)?null:f;const v=D9(u,f);null!==v&&r.set(i.key,v),u.isValidDocument()||u.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(t,r)=>Kh(t,r))&&Sa(this.baseMutations,e.baseMutations,(t,r)=>Kh(t,r))}}class z8{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){dt(e.mutations.length===r.length);let i=Vv;const c=e.mutations;for(let u=0;u<c.length;u++)i=i.insert(c[u].key,r[u].version);return new z8(e,t,r,i)}}class k8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pa{constructor(e,t,r,i,c=wt.min(),u=wt.min(),f=Or.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class gf{constructor(e){this.ie=e}}function sp(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:al(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:nl(i=n.ie,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:tl(i,c.version.toTimestamp()),createTime:tl(i,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:C4(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:C4(e.version)}}var i,c;return r}function al(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function C4(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _r(n){const e=new fn(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function Bi(n,e){const t=(e.baseMutations||[]).map(c=>T8(n.ie,c));for(let c=0;c<e.mutations.length-1;++c){const u=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(u.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>T8(n.ie,c)),i=fn.fromMillis(e.localWriteTimeMs);return new L8(e.batchId,i,t,r)}function cl(n){const e=_r(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_r(n.lastLimboFreeSnapshotVersion):wt.min();let r;var i;return void 0!==n.query.documents?(dt(1===(i=n.query).documents.length),r=N1(g4(F9(i.documents[0])))):r=N1(q9(n.query)),new Pa(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Or.fromBase64String(n.resumeToken))}function op(n,e){const t=C4(e.snapshotVersion),r=C4(e.lastLimboFreeSnapshotVersion);let i;i=y8(e.target)?af(n.ie,e.target):cf(n.ie,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:m4(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ap(n){const e=q9({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?b8(e,e.limit,"L"):e}function cp(n,e){return new k8(e.largestBatchId,T8(n.ie,e.overlayMutation))}function vf(n,e){const t=e.path.lastSegment();return[n,L1(e.path.popLast()),t]}function yf(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:C4(r.readTime),documentKey:L1(r.documentKey.path),largestBatchId:r.largestBatchId}}class ll{getBundleMetadata(e,t){return lp(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:_r(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return lp(e).put({bundleId:(r=t).id,createTime:C4(yr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return R8(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ap(i.bundledQuery),readTime:_r(i.readTime)};var i})}saveNamedQuery(e,t){return R8(e).put({name:(r=t).name,readTime:C4(yr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lp(n){return Vr(n,"bundles")}function R8(n){return Vr(n,"namedQueries")}class P8{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new P8(e,t.uid||"")}getOverlay(e,t){return a0(e).get(vf(this.userId,t)).next(r=>r?cp(this.yt,r):null)}getOverlays(e,t){const r=d2();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((c,u)=>{const f=new k8(t,u);i.push(this.oe(e,f))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(L1(u.getCollectionPath())));const c=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(a0(e).Y("collectionPathOverlayIndex",f))}),ce.waitFor(c)}getOverlaysForCollection(e,t,r){const i=d2(),c=L1(t),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return a0(e).W("collectionPathOverlayIndex",u).next(f=>{for(const v of f){const w=cp(this.yt,v);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=d2();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return a0(e).Z({index:"collectionGroupOverlayIndex",range:f},(v,w,S)=>{const T=cp(this.yt,w);c.size()<i||T.largestBatchId===u?(c.set(T.getKey(),T),u=T.largestBatchId):S.done()}).next(()=>c)}oe(e,t){return a0(e).put(function(r,i,c){const[u,f,v]=vf(i,c.mutation.key);return{userId:i,collectionPath:f,documentId:v,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:r0(r.ie,c.mutation)}}(this.yt,this.userId,t))}}function a0(n){return Vr(n,"documentOverlays")}class w4{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(fr(e.integerValue));else if("doubleValue"in e){const r=fr(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),G3(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(u4(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?bv(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):st()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),qe.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Jv(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function up(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const c=Jv(255&t[i]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}w4.Ie=new w4;class _f{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=up(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=up(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hp{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class fp{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Oa{constructor(){this.$e=new _f,this.Be=new hp(this.$e),this.Le=new fp(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class p2{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new p2(this.indexId,this.documentKey,this.arrayValue,r)}}function b4(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Cf(n.arrayValue,e.arrayValue),0!==t?t:(t=Cf(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function Cf(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Xv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){dt(e.collectionGroup===this.collectionId);const t=xh(e);if(void 0!==t&&!this.We(t))return!1;const r=c4(e);let i=0,c=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[c++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(c>=this.Ke.length||!this.He(this.Ke[c++],u))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function wf(n){var e,t;if(dt(n instanceof Xt||n instanceof vn),n instanceof Xt){if(n instanceof j6){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Xt.create(n.field,"==",c)))||[];return vn.create(i,"or")}return n}const r=n.filters.map(i=>wf(i));return vn.create(r,n.op)}function c0(n){if(0===n.getFilters().length)return[];const e=dp(wf(n));return dt(V8(e)),bf(e)||O8(e)?[e]:e.getFilters()}function bf(n){return n instanceof Xt}function O8(n){return n instanceof vn&&Mv(n)}function V8(n){return bf(n)||O8(n)||function(e){if(e instanceof vn&&$n(e)){for(const t of e.getFilters())if(!bf(t)&&!O8(t))return!1;return!0}return!1}(n)}function dp(n){if(dt(n instanceof Xt||n instanceof vn),n instanceof Xt)return n;if(1===n.filters.length)return dp(n.filters[0]);const e=n.filters.map(r=>dp(r));let t=vn.create(e,n.op);return t=H8(t),V8(t)?t:(dt(t instanceof vn),dt(h2(t)),dt(t.filters.length>1),t.filters.reduce((r,i)=>Ef(r,i)))}function Ef(n,e){let t;return dt(n instanceof Xt||n instanceof vn),dt(e instanceof Xt||e instanceof vn),t=n instanceof Xt?e instanceof Xt?vn.create([n,e],"and"):ey(n,e):e instanceof Xt?ey(e,n):function(r,i){if(dt(r.filters.length>0&&i.filters.length>0),h2(r)&&h2(i))return Uh(r,i.getFilters());const c=$n(r)?r:i,u=$n(r)?i:r,f=c.filters.map(v=>Ef(v,u));return vn.create(f,"or")}(n,e),H8(t)}function ey(n,e){if(h2(e))return Uh(e,n.getFilters());{const t=e.filters.map(r=>Ef(n,r));return vn.create(t,"or")}}function H8(n){if(dt(n instanceof Xt||n instanceof vn),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return H8(e[0]);if(Hh(n))return n;const t=e.map(i=>H8(i)),r=[];return t.forEach(i=>{i instanceof Xt?r.push(i):i instanceof vn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:vn.create(r,n.op)}class ty{constructor(){this.Je=new Mf}addToCollectionParentIndex(e,t){return this.Je.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(hi.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Mf{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xn(jt.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(jt.comparator)).toArray()}}const ul=new Uint8Array(0);class pp{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Mf,this.Xe=new oo(r=>m4(r),(r,i)=>q6(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const c={collectionId:r,parent:L1(i)};return mp(e).put(c)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Th(t),""],!1,!0);return mp(e).W(i).next(c=>{for(const u of c){if(u.collectionId!==t)break;r.push(lo(u.parent))}return r})}addFieldIndex(e,t){const r=hl(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const c=r.add(i);if(t.indexState){const u=fl(e);return c.next(f=>{u.put(yf(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=hl(e),i=fl(e),c=l0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=l0(e);let i=!0;const c=new Map;return ce.forEach(this.Ze(t),u=>this.tn(e,u).next(f=>{i&&(i=!!f),c.set(u,f)})).next(()=>{if(i){let u=Gt();const f=[];return ce.forEach(c,(v,w)=>{var S;Le("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(nt=>`${nt.fieldPath}:${nt.kind}`).join(",")}`} to execute ${m4(t)}`);const T=function(nt,Ye){const bt=xh(Ye);if(void 0===bt)return null;for(const _t of _8(nt,bt.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(w,v),P=function(nt,Ye){const bt=new Map;for(const _t of c4(Ye))for(const tn of _8(nt,_t.fieldPath))switch(tn.op){case"==":case"in":bt.set(_t.fieldPath.canonicalString(),tn.value);break;case"not-in":case"!=":return bt.set(_t.fieldPath.canonicalString(),tn.value),Array.from(bt.values())}return null}(w,v),H=function(nt,Ye){const bt=[];let _t=!0;for(const tn of c4(Ye)){const P1=0===tn.kind?Tv(nt,tn.fieldPath,nt.startAt):xv(nt,tn.fieldPath,nt.startAt);bt.push(P1.value),_t&&(_t=P1.inclusive)}return new za(bt,_t)}(w,v),$=function(nt,Ye){const bt=[];let _t=!0;for(const tn of c4(Ye)){const P1=0===tn.kind?xv(nt,tn.fieldPath,nt.endAt):Tv(nt,tn.fieldPath,nt.endAt);bt.push(P1.value),_t&&(_t=P1.inclusive)}return new za(bt,_t)}(w,v),ne=this.en(v,w,H),me=this.en(v,w,$),ze=this.nn(v,w,P),Ke=this.sn(v.indexId,T,ne,H.inclusive,me,$.inclusive,ze);return ce.forEach(Ke,nt=>r.J(nt,t.limit).next(Ye=>{Ye.forEach(bt=>{const _t=qe.fromSegments(bt.documentKey);u.has(_t)||(u=u.add(_t),f.push(_t))})}))}).next(()=>f)}return ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:c0(vn.create(e.filters,"and")).map(r=>v8(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,c,u,f){const v=(null!=t?t.length:1)*Math.max(r.length,c.length),w=v/(null!=t?t.length:1),S=[];for(let T=0;T<v;++T){const P=t?this.rn(t[T/w]):ul,H=this.on(e,P,r[T%w],i),$=this.un(e,P,c[T%w],u),ne=f.map(me=>this.on(e,P,me,!0));S.push(...this.createRange(H,$,ne))}return S}on(e,t,r,i){const c=new p2(e,qe.empty(),t,r);return i?c:c.Ue()}un(e,t,r,i){const c=new p2(e,qe.empty(),t,r);return i?c.Ue():c}tn(e,t){const r=new Xv(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let u=null;for(const f of c)r.je(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ce.forEach(i,c=>this.tn(e,c).next(u=>{u?0!==r&&u.fields.length<function(f){let v=new xn(gn.comparator),w=!1;for(const S of f.filters)for(const T of S.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?w=!0:v=v.add(T.field));for(const S of f.orderBy)S.field.isKeyField()||(v=v.add(S.field));return v.size+(w?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Oa;for(const i of c4(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const u=r.qe(i.kind);w4.Ie.ue(c,u)}return r.Fe()}rn(e){const t=new Oa;return w4.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Oa;return w4.Ie.ue(La(this.databaseId,t),r.qe(function(i){const c=c4(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Oa);let c=0;for(const u of c4(e)){const f=r[c++];for(const v of i)if(this.hn(t,u.fieldPath)&&Z3(f))i=this.ln(i,u,f);else{const w=v.qe(u.kind);w4.Ie.ue(f,w)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],c=[];for(const u of r.arrayValue.values||[])for(const f of i){const v=new Oa;v.seed(f.Fe()),w4.Ie.ue(u,v.qe(t.kind)),c.push(v)}return c}hn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=hl(e),i=fl(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const u=[];return ce.forEach(c,f=>i.get([f.indexId,this.uid]).next(v=>{u.push(function(w,S){const T=S?new o2(S.sequenceNumber,new hi(_r(S.readTime),new qe(lo(S.documentKey)),S.largestBatchId)):o2.empty(),P=w.fields.map(([H,$])=>new f8(gn.fromServerFormat(H),$));return new U3(w.indexId,w.collectionGroup,P,T)}(f,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=hl(e),c=fl(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,v=>c.put(yf(v.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,c)=>{const u=r.get(i.collectionGroup);return(u?ce.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ce.forEach(f,v=>this._n(e,i,v).next(w=>{const S=this.wn(c,v);return w.isEqual(S)?ce.resolve():this.mn(e,c,v,w,S)}))))})}gn(e,t,r,i){return l0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return l0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=l0(e);let c=new xn(b4);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,f)=>{c=c.add(new p2(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>c)}wn(e,t){let r=new xn(b4);const i=this.cn(t,e);if(null==i)return r;const c=xh(t);if(null!=c){const u=e.data.field(c.fieldPath);if(Z3(u))for(const f of u.arrayValue.values||[])r=r.add(new p2(t.indexId,e.key,this.rn(f),i))}else r=r.add(new p2(t.indexId,e.key,ul,i));return r}mn(e,t,r,i,c){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,v,w,S,T){const P=f.getIterator(),H=v.getIterator();let $=so(P),ne=so(H);for(;$||ne;){let me=!1,ze=!1;if($&&ne){const Ke=w($,ne);Ke<0?ze=!0:Ke>0&&(me=!0)}else null!=$?ze=!0:me=!0;me?(S(ne),ne=so(H)):ze?(T($),$=so(P)):($=so(P),ne=so(H))}}(i,c,b4,f=>{u.push(this.gn(e,t,r,f))},f=>{u.push(this.yn(e,t,r,f))}),ce.waitFor(u)}dn(e){let t=1;return fl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>b4(u,f)).filter((u,f,v)=>!f||0!==b4(u,v[f-1]));const i=[];i.push(e);for(const u of r){const f=b4(u,e),v=b4(u,t);if(0===f)i[0]=e.Ue();else if(f>0&&v<0)i.push(u),i.push(u.Ue());else if(v>0)break}i.push(t);const c=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];c.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,ul,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,ul,[]]))}return c}pn(e,t){return b4(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gp)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||st())).next(gp)}}function mp(n){return Vr(n,"collectionParents")}function l0(n){return Vr(n,"indexEntries")}function hl(n){return Vr(n,"indexConfiguration")}function fl(n){return Vr(n,"indexState")}function gp(n){dt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;d8(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new hi(e.readTime,e.documentKey,t)}const If={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Q1{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Q1(e,Q1.DEFAULT_COLLECTION_PERCENTILE,Q1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Sf(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],u=IDBKeyRange.only(t.batchId);let f=0;const v=r.Z({range:u},(S,T,P)=>(f++,P.delete()));c.push(v.next(()=>{dt(1===f)}));const w=[];for(const S of t.mutations){const T=sl(e,S.key.path,t.batchId);c.push(i.delete(T)),w.push(S.key)}return ce.waitFor(c).next(()=>w)}function dl(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}Q1.DEFAULT_COLLECTION_PERCENTILE=10,Q1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Q1.DEFAULT=new Q1(41943040,Q1.DEFAULT_COLLECTION_PERCENTILE,Q1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Q1.DISABLED=new Q1(-1,0,0);class pl{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){dt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new pl(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).Z({index:"userMutationsIndex",range:r},(i,c,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=u0(e),u=Va(e);return u.add({}).next(f=>{dt("number"==typeof f);const v=new L8(f,t,r,i),w=function(P,H,$){const ne=$.baseMutations.map(ze=>r0(P.ie,ze)),me=$.mutations.map(ze=>r0(P.ie,ze));return{userId:H,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ne,mutations:me}}(this.yt,this.userId,v),S=[];let T=new xn((P,H)=>Ft(P.canonicalString(),H.canonicalString()));for(const P of i){const H=sl(this.userId,P.key.path,f);T=T.add(P.key.path.popLast()),S.push(u.put(w)),S.push(c.put(H,N8))}return T.forEach(P=>{S.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[f]=v.keys()}),ce.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return Va(e).get(t).next(r=>r?(dt(r.userId===this.userId),Bi(this.yt,r)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Va(e).Z({index:"userMutationsIndex",range:i},(u,f,v)=>{f.userId===this.userId&&(dt(f.batchId>=r),c=Bi(this.yt,f)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Va(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Va(e).W("userMutationsIndex",t).next(r=>r.map(i=>Bi(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=x8(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return u0(e).Z({range:i},(u,f,v)=>{const[w,S,T]=u,P=lo(S);if(w===this.userId&&t.path.isEqual(P))return Va(e).get(T).next(H=>{if(!H)throw st();dt(H.userId===this.userId),c.push(Bi(this.yt,H))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Ft);const i=[];return t.forEach(c=>{const u=x8(this.userId,c.path),f=IDBKeyRange.lowerBound(u),v=u0(e).Z({range:f},(w,S,T)=>{const[P,H,$]=w,ne=lo(H);P===this.userId&&c.path.isEqual(ne)?r=r.add($):T.done()});i.push(v)}),ce.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=x8(this.userId,r),u=IDBKeyRange.lowerBound(c);let f=new xn(Ft);return u0(e).Z({range:u},(v,w,S)=>{const[T,P,H]=v,$=lo(P);T===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(H)):S.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(c=>{i.push(Va(e).get(c).next(u=>{if(null===u)throw st();dt(u.userId===this.userId),r.push(Bi(this.yt,u))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Sf(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return u0(e).Z({range:r},(c,u,f)=>{if(c[0]===this.userId){const v=lo(c[1]);i.push(v)}else f.done()}).next(()=>{dt(0===i.length)})})}containsKey(e,t){return Af(e,this.userId,t)}Rn(e){return ny(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Af(n,e,t){const r=x8(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return u0(n).Z({range:c,X:!0},(f,v,w)=>{const[S,T,P]=f;S===e&&T===i&&(u=!0),w.done()}).next(()=>u)}function Va(n){return Vr(n,"mutations")}function u0(n){return Vr(n,"documentMutations")}function ny(n){return Vr(n,"mutationQueues")}class Ha{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ha(0)}static vn(){return new Ha(-1)}}class cw{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Ha(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>wt.fromTimestamp(new fn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ml(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(dt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return ml(e).Z((u,f)=>{const v=cl(f);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,c.push(this.removeTargetData(e,v)))}).next(()=>ce.waitFor(c)).next(()=>i)}forEachTarget(e,t){return ml(e).Z((r,i)=>{const c=cl(i);t(c)})}Vn(e){return ry(e).get("targetGlobalKey").next(t=>(dt(null!==t),t))}Sn(e,t){return ry(e).put("targetGlobalKey",t)}Dn(e,t){return ml(e).put(op(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=m4(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return ml(e).Z({range:i,index:"queryTargetsIndex"},(u,f,v)=>{const w=cl(f);q6(t,w.target)&&(c=w,v.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=E4(e);return t.forEach(u=>{const f=L1(u.path);i.push(c.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=E4(e);return ce.forEach(t,c=>{const u=L1(c.path);return ce.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=E4(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=E4(e);let c=Gt();return i.Z({range:r,X:!0},(u,f,v)=>{const w=lo(u[1]),S=new qe(w);c=c.add(S)}).next(()=>c)}containsKey(e,t){const r=L1(t.path),i=IDBKeyRange.bound([r],[Th(r)],!1,!0);let c=0;return E4(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,f],v,w)=>{0!==u&&(c++,w.done())}).next(()=>c>0)}ne(e,t){return ml(e).get(t).next(r=>r?cl(r):null)}}function ml(n){return Vr(n,"targets")}function ry(n){return Vr(n,"targetGlobal")}function E4(n){return Vr(n,"targetDocuments")}function iy([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class lw{constructor(e){this.xn=e,this.buffer=new xn(iy),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uw{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){a2(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Aa(r)}yield t.Fn(3e5)}))}}class hw{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(fi.at);const r=new lw(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(If)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),If):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,c,u,f,v,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),i=this.params.maximumSequenceNumbersToCollect):i=T,u=Date.now(),this.nthSequenceNumber(e,i))).next(T=>(r=T,f=Date.now(),this.removeTargets(e,r,t))).next(T=>(c=T,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(w=Date.now(),h8()<=va.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${c} targets in `+(v-f)+`ms\n\tRemoved ${T} documents in `+(w-v)+`ms\nTotal Duration: ${w-S}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:T})))}}class F8{constructor(e,t){this.db=e,this.garbageCollector=new hw(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Df(e,r)}removeReference(e,t,r){return Df(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Df(e,t)}Gn(e,t){return function(r,i){let c=!1;return ny(r).tt(u=>Af(r,u,i).next(f=>(f&&(c=!0),ce.resolve(!f)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Kn(e,(u,f)=>{if(f<=t){const v=this.Gn(e,u).next(w=>{if(!w)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,wt.min()),E4(e).delete([0,L1(u.path)])))});i.push(v)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Df(e,t)}Kn(e,t){const r=E4(e);let i,c=fi.at;return r.Z({index:"documentTargetsIndex"},([u,f],{path:v,sequenceNumber:w})=>{0===u?(c!==fi.at&&t(new qe(lo(i)),c),c=w,i=v):c=fi.at}).next(()=>{c!==fi.at&&t(new qe(lo(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Df(n,e){return E4(n).put((r=n.currentSequenceNumber,{targetId:0,path:L1(e.path),sequenceNumber:r}));var r}class Tf{constructor(){this.changes=new oo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class U8{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return m2(e).put(r)}removeEntry(e,t,r){return m2(e).delete(function(i,c){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],al(c),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=kn.newInvalidDocument(t);return m2(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(h0(t))},(i,c)=>{r=this.jn(t,c)}).next(()=>r)}Wn(e,t){let r={size:0,document:kn.newInvalidDocument(t)};return m2(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(h0(t))},(i,c)=>{r={document:this.jn(t,c),size:dl(c)}}).next(()=>r)}getEntries(e,t){let r=K1();return this.zn(e,t,(i,c)=>{const u=this.jn(i,c);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=K1(),i=new er(qe.comparator);return this.zn(e,t,(c,u)=>{const f=this.jn(c,u);r=r.insert(c,f),i=i.insert(c,dl(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ce.resolve();let i=new xn(Nf);t.forEach(v=>i=i.add(v));const c=IDBKeyRange.bound(h0(i.first()),h0(i.last())),u=i.getIterator();let f=u.getNext();return m2(e).Z({index:"documentKeyIndex",range:c},(v,w,S)=>{const T=qe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&Nf(f,T)<0;)r(f,null),f=u.getNext();f&&f.isEqual(T)&&(r(f,w),f=u.hasNext()?u.getNext():null),f?S.j(h0(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),al(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return m2(e).W(IDBKeyRange.bound(i,c,!0)).next(u=>{let f=K1();for(const v of u){const w=this.jn(qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let c=K1();const u=yp(t,r),f=yp(t,hi.max());return m2(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(v,w,S)=>{const T=this.jn(qe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(T.key,T),c.size===i&&S.done()}).next(()=>c)}newChangeBuffer(e){return new vp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sy(e).get("remoteDocumentGlobalKey").next(t=>(dt(!!t),t))}Qn(e,t){return sy(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function ip(n,e){let t;if(e.document)t=j9(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=_r(e.noDocument.readTime);t=kn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=qe.fromSegments(e.unknownDocument.path),i=_r(e.unknownDocument.version);t=kn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new fn(r[0],r[1]);return wt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return kn.newInvalidDocument(e)}}function xf(n){return new U8(n)}class vp extends Tf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new oo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new xn((c,u)=>Ft(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const f=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,f.readTime)),u.isValidDocument()){const v=sp(this.Yn.yt,u);i=i.add(c.path.popLast()),r+=dl(v)-f.size,t.push(this.Yn.addEntry(e,c,v))}else if(r-=f.size,this.trackRemovals){const v=sp(this.Yn.yt,u.convertToNoDocument(wt.min()));t.push(this.Yn.addEntry(e,c,v))}}),i.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((c,u)=>{this.Xn.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function sy(n){return Vr(n,"remoteDocumentGlobal")}function m2(n){return Vr(n,"remoteDocumentsV14")}function h0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yp(n,e){const t=e.documentKey.path.toArray();return[n,al(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Nf(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=Ft(t[c],r[c]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class fw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _p{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&J3(r.mutation,i,di.empty(),fn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const i=d2();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(c=>{let u=X6();return c.forEach((f,v)=>{u=u.insert(f,v.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=d2();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(c=>{t.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let c=K1();const u=_4(),f=_4();return t.forEach((v,w)=>{const S=r.get(w.key);i.has(w.key)&&(void 0===S||S.mutation instanceof f2)?c=c.insert(w.key,w):void 0!==S&&(u.set(w.key,S.mutation.getFieldMask()),J3(S.mutation,w,S.mutation.getFieldMask(),fn.now()))}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((w,S)=>u.set(w,S)),t.forEach((w,S)=>{var T;return f.set(w,new fw(S,null!==(T=u.get(w))&&void 0!==T?T:null))}),f))}recalculateAndSaveOverlays(e,t){const r=_4();let i=new er((u,f)=>u-f),c=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(v=>{const w=t.get(v);if(null===w)return;let S=r.get(v)||di.empty();S=f.applyToLocalView(w,S),r.set(v,S);const T=(i.get(f.batchId)||Gt()).add(v);i=i.insert(f.batchId,T)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const v=f.getNext(),w=v.key,S=v.value,T=Jh();S.forEach(P=>{if(!c.has(P)){const H=D9(t.get(P),r.get(P));null!==H&&T.set(P,H),c=c.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,T))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):w8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(c=>{const u=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-c.size):ce.resolve(d2());let f=-1,v=c;return u.next(w=>ce.forEach(w,(S,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),c.get(S)?ce.resolve():this.remoteDocumentCache.getEntry(e,S).next(P=>{v=v.insert(S,P)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,v,w,Gt())).next(S=>({batchId:f,changes:k9(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=X6();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let c=X6();return this.indexManager.getCollectionParents(e,i).next(u=>ce.forEach(u,f=>{const v=(w=t,S=f.child(i),new ka(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(w=>{w.forEach((S,T)=>{c=c.insert(S,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(c=>(i=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(c=>{c.forEach((f,v)=>{const w=v.getKey();null===i.get(w)&&(i=i.insert(w,kn.newInvalidDocument(w)))});let u=X6();return i.forEach((f,v)=>{const w=c.get(f);void 0!==w&&J3(w.mutation,v,di.empty(),fn.now()),Gh(t,v)&&(u=u.insert(f,v))}),u})}}class oy{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:yr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ap(r.bundledQuery),readTime:yr(r.readTime)}),ce.resolve();var r}}class ay{constructor(){this.overlays=new er(qe.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=d2();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.oe(e,t,c)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=d2(),c=t.length+1,u=new qe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const v=f.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&v.largestBatchId>r&&i.set(v.getKey(),v)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new er((w,S)=>w-S);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let S=c.get(w.largestBatchId);null===S&&(S=d2(),c=c.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const f=d2(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,S)=>f.set(w,S)),!(f.size()>=i)););return ce.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new k8(t,r));let c=this.es.get(t);void 0===c&&(c=Gt(),this.es.set(t,c)),this.es.set(t,c.add(r.key))}}class f0{constructor(){this.ns=new xn(Kr.ss),this.rs=new xn(Kr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Kr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Kr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new qe(new jt([])),r=new Kr(t,e),i=new Kr(t,e+1),c=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),c.push(u.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new jt([])),r=new Kr(t,e),i=new Kr(t,e+1);let c=Gt();return this.rs.forEachInRange([r,i],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new Kr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Kr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Ft(e._s,t._s)}static os(e,t){return Ft(e._s,t._s)||qe.comparator(e.key,t.key)}}class dw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new xn(Kr.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const c=this.ws;this.ws++;const u=new L8(c,t,r,i);this.mutationQueue.push(u);for(const f of i)this.gs=this.gs.add(new Kr(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),c=i<0?0:i;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kr(t,0),i=new Kr(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([r,i],u=>{const f=this.ys(u._s);c.push(f)}),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Ft);return t.forEach(i=>{const c=new Kr(i,0),u=new Kr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,u],f=>{r=r.add(f._s)})}),ce.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;qe.isDocumentKey(c)||(c=c.child(""));const u=new Kr(new qe(c),0);let f=new xn(Ft);return this.gs.forEachWhile(v=>{const w=v.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(v._s)),!0)},u),ce.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){dt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ce.forEach(t.mutations,i=>{const c=new Kr(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Kr(t,0),i=this.gs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pw{constructor(e){this.Es=e,this.docs=new er(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let r=K1();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():kn.newInvalidDocument(i))}),ce.resolve(r)}getAllFromCollection(e,t,r){let i=K1();const c=new qe(t.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:v}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||d8(Lh(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}As(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new mw(this)}getSize(e){return ce.resolve(this.size)}}class mw extends Tf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class cy{constructor(e){this.persistence=e,this.Rs=new oo(t=>m4(t),q6),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new f0,this.targetCount=0,this.vs=Ha.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ha(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ce.waitFor(c).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(u=>{c.push(i.markPotentiallyOrphaned(e,u))}),ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class Cp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new fi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new cy(this),this.indexManager=new ty,this.remoteDocumentCache=new pw(r=>this.referenceDelegate.xs(r)),this.yt=new gf(t),this.Ns=new oy(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ay,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new dw(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new ly(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(c=>this.referenceDelegate.Os(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Ms(e,t){return ce.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class ly extends B3{constructor(e){super(),this.currentSequenceNumber=e}}class Lf{constructor(e){this.persistence=e,this.Fs=new f0,this.$s=null}static Bs(e){return new Lf(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Ls.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,r=>{const i=qe.fromPath(r);return this.qs(e,i).next(c=>{c||t.removeEntry(i,wt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class uy{constructor(e){this.yt=e}$(e,t,r,i){const c=new j3("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K9,{unique:!0}),f.createObjectStore("documentMutations"),zf(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),zf(e)),u=u.next(()=>function(f){const v=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",w)}(c))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,v){return v.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",K9,{unique:!0});const S=v.store("mutations"),T=w.map(P=>S.put(P));return ce.waitFor(T)})}(e,c))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(c))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(c))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,c))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(c))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const v=f.createObjectStore("documentOverlays",{keyPath:X9});v.createIndex("collectionPathOverlayIndex",pf,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",mf,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const v=f.createObjectStore("remoteDocumentsV14",{keyPath:Wv});v.createIndex("documentKeyIndex",Zv),v.createIndex("collectionGroupIndex",Q9)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,c))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Qv}).createIndex("sequenceNumberIndex",aw,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:ff}).createIndex("documentKeyIndex",df,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=dl(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ce.forEach(i,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(f=>ce.forEach(f,v=>{dt(v.userId===c.userId);const w=Bi(this.yt,v);return Sf(e,c.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.Z((u,f)=>{const v=new jt(u),w=[0,L1(v)];c.push(t.get(w).next(S=>S?ce.resolve():t.put({targetId:0,path:L1(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Kv});const r=t.store("collectionParents"),i=new Mf,c=u=>{if(i.add(u)){const f=u.lastSegment(),v=u.popLast();return r.put({collectionId:f,parent:L1(v)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const v=new jt(u);return c(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,v],w)=>{const S=lo(f);return c(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const c=cl(i),u=op(this.yt,c);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((c,u)=>{const f=t.store("remoteDocumentsV14"),v=(w=u,w.document?new qe(jt.fromString(w.document.name).popFirst(5)):w.noDocument?qe.fromSegments(w.noDocument.path):w.unknownDocument?qe.fromSegments(w.unknownDocument.path):st()).path.toArray();var w;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(S))}).next(()=>ce.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=xf(this.yt),c=new Cp(Lf.Bs,this.yt.ie);return r.W().next(u=>{const f=new Map;return u.forEach(v=>{var w;let S=null!==(w=f.get(v.userId))&&void 0!==w?w:Gt();Bi(this.yt,v).keys().forEach(T=>S=S.add(T)),f.set(v.userId,S)}),ce.forEach(f,(v,w)=>{const S=new Rr(w),T=P8.re(this.yt,S),P=c.getIndexManager(S),H=pl.re(S,this.yt,P,c.referenceDelegate);return new _p(i,H,T,P).recalculateAndSaveOverlaysForDocumentKeys(new ol(t,fi.at),v).next()})})}}function zf(n){n.createObjectStore("targetDocuments",{keyPath:hf}).createIndex("documentTargetsIndex",J9,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Y9,{unique:!0}),n.createObjectStore("targetGlobal")}const B8="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wp{constructor(e,t,r,i,c,u,f,v,w,S,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=c,this.window=u,this.document=f,this.Js=w,this.Ys=S,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!wp.C())throw new xe(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new F8(this,i),this.ii=t+"main",this.yt=new gf(v),this.ri=new Z1(this.ii,this.Xs,new uy(this.yt)),this.Cs=new cw(this.referenceDelegate,this.yt),this.remoteDocumentCache=xf(this.yt),this.Ns=new ll,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(re.FAILED_PRECONDITION,B8);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new fi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>j8(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(a2(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return z1(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return j8(e).delete(this.clientId)}yi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Vr(r,"clientMetadata");return i.W().next(c=>{const u=e.Ii(c,18e5),f=c.filter(v=>-1===u.indexOf(v));return ce.forEach(f,v=>i.delete(v.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):z1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(re.FAILED_PRECONDITION,B8);return!1}}return!(!this.networkEnabled||!this.inForeground)||j8(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ol(t,fi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>j8(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return pl.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new pp(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return P8.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=15===(u=this.Xs)?rp:14===u?np:13===u?tp:12===u?Yv:11===u?ep:void st();var u;let f;return this.ri.runTransaction(e,i,c,v=>(f=new ol(v,this.Ss?this.Ss.next():fi.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(re.FAILED_PRECONDITION,zh);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(v=>(f.raiseOnCommittedEvent(),v))}Vi(e){return z1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(re.FAILED_PRECONDITION,B8)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return z1(e).put("owner",t)}static C(){return Z1.C()}_i(e){const t=z1(e);return t.get("owner").next(r=>this.mi(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Cn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){hr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function z1(n){return Vr(n,"owner")}function j8(n){return Vr(n,"clientMetadata")}function gl(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class kf{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Gt(),i=Gt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new kf(e,t.fromCache,r,i)}}class pi{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(c=>c||this.Oi(e,t,i,r)).next(c=>c||this.Mi(e,t))}ki(e,t){if(Q3(t))return ce.resolve(null);let r=N1(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=b8(t,null,"F"),r=N1(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Gt(...c);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(v=>{const w=this.Fi(t,f);return this.$i(t,w,u,v.readTime)?this.ki(e,b8(t,null,"F")):this.Bi(e,w,t,v)}))})))}Oi(e,t,r,i){return Q3(t)||i.isEqual(wt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(c=>{const u=this.Fi(t,c);return this.$i(t,u,r,i)?this.Mi(e,t):(h8()<=va.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),E8(t)),this.Bi(e,u,t,i9(i,-1)))})}Fi(e,t){let r=new xn(W6(e));return t.forEach((i,c)=>{Gh(e,c)&&(r=r.add(c))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Mi(e,t){return h8()<=va.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",E8(t)),this.Ni.getDocumentsMatchingQuery(e,t,hi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}class hy{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new er(Ft),this.Ui=new oo(c=>m4(c),q6),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _p(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function $8(n,e,t,r){return new hy(n,e,t,r)}function bp(n,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,_e.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],f=[];let v=Gt();for(const w of i){u.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}for(const w of c){f.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(w=>({ji:w,removedBatchIds:u,addedBatchIds:f}))})})}),Rf.apply(this,arguments)}function Pf(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,v,w){const S=v.batch,T=S.keys();let P=ce.resolve();return T.forEach(H=>{P=P.next(()=>w.getEntry(f,H)).next($=>{const ne=v.docVersions.get(H);dt(null!==ne),$.version.compareTo(ne)<0&&(S.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),w.addEntry($)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(f,S))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Gt();for(let v=0;v<u.mutationResults.length;++v)u.mutationResults[v].transformResults.length>0&&(f=f.add(u.batch.mutations[v].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Of(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Ep(n,e){const t=We(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((S,T)=>{const P=i.get(T);if(!P)return;f.push(t.Cs.removeMatchingKeys(c,S.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(c,S.addedDocuments,T)));let H=P.withSequenceNumber(c.currentSequenceNumber);var $,ne,me;e.targetMismatches.has(T)?H=H.withResumeToken(Or.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,r)),i=i.insert(T,H),ne=H,me=S,(0===($=P).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(c,H))});let v=K1(),w=Gt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,S))}),f.push(Mp(c,u,e.documentUpdates).next(S=>{v=S.Wi,w=S.zi})),!r.isEqual(wt.min())){const S=t.Cs.getLastRemoteSnapshotVersion(c).next(T=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,r));f.push(S)}return ce.waitFor(f).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,v,w)).next(()=>v)}).then(c=>(t.qi=i,c))}function Mp(n,e,t){let r=Gt(),i=Gt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let u=K1();return t.forEach((f,v)=>{const w=c.get(f);v.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),v.isNoDocument()&&v.version.isEqual(wt.min())?(e.removeEntry(f,v.readTime),u=u.insert(f,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||0===v.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(v),u=u.insert(f,v)):Le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",v.version)}),{Wi:u,zi:i}})}function Ip(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M4(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(c=>c?(i=c,ce.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new Pa(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function d0(n,e,t){return G8.apply(this,arguments)}function G8(){return G8=(0,_e.Z)(function*(n,e,t){const r=We(n),i=r.qi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!a2(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),G8.apply(this,arguments)}function q8(n,e,t){const r=We(n);let i=wt.min(),c=Gt();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,v,w){const S=We(f),T=S.Ui.get(w);return void 0!==T?ce.resolve(S.qi.get(T)):S.Cs.getTargetData(v,w)}(r,u,N1(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,f.targetId).next(v=>{c=v})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:wt.min(),t?c:Gt())).next(f=>(Vf(r,E9(e),f),{documents:f,Hi:c})))}function W8(n,e){const t=We(n),r=We(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.ne(c,e).next(u=>u?u.target:null))}function g2(n,e){const t=We(n),r=t.Ki.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,i9(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Vf(t,e,i),i))}function Vf(n,e,t){let r=n.Ki.get(e)||wt.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Ki.set(e,r)}function Es(){return Es=(0,_e.Z)(function*(n,e,t,r){const i=We(n);let c=Gt(),u=K1();for(const w of t){const S=e.Ji(w.metadata.name);w.document&&(c=c.add(S));const T=e.Yi(w);T.setReadTime(e.Xi(w.metadata.readTime)),u=u.insert(S,T)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield M4(i,(w=r,N1(g4(jt.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Mp(w,f,u).next(S=>(f.apply(w),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(w,v.targetId).next(()=>i.Cs.addMatchingKeys(w,c,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,S.Wi,S.zi)).next(()=>S.Wi)))}),Es.apply(this,arguments)}function fy(n,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,_e.Z)(function*(n,e,t=Gt()){const r=yield M4(n,N1(ap(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const u=yr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(c,e);const f=r.withResumeToken(Or.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(c,f).next(()=>i.Cs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Cs.addMatchingKeys(c,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(c,e))})}),Sp.apply(this,arguments)}function Ap(n,e){return`firestore_clients_${n}_${e}`}function Dp(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ff(n,e){return`firestore_targets_${n}_${e}`}class Z8{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let c,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(c=new xe(i.error.code,i.error.message))),u?new Z8(e,t,i.state,c):(hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class p0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new xe(r.error.code,r.error.message))),c?new p0(e,r.state,i):(hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Uf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=e0();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=l9(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return i?new Uf(e,c):(hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class K8{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new K8(t.clientId,t.onlineState):(hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bf{constructor(){this.activeTargetIds=e0()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q8{constructor(e,t,r,i,c){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new er(Ft),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=Ap(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Bf),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const c=e.getItem(Ap(e.persistenceKey,i));if(c){const u=Uf.Zi(i,c);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ff(this.persistenceKey,e));if(r){const i=p0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ff(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(c){let u=fi.at;if(null!=c)try{const f=JSON.parse(c);dt("number"==typeof f),u=f}catch(f){hr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==fi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Z8(this.currentUser,e,t,r),c=Dp(this.persistenceKey,this.currentUser,e);this.setItem(c,i.tr())}Er(e){const t=Dp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Ff(this.persistenceKey,e),c=new p0(e,t,r);this.setItem(i,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Uf.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Z8.Zi(new Rr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return p0.Zi(i,t)}yr(e){return K8.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),c=this.Ir(r),u=[],f=[];return c.forEach(v=>{i.has(v)||u.push(v)}),i.forEach(v=>{c.has(v)||f.push(v)}),this.syncEngine.Br(u,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=e0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class dy{constructor(){this.Lr=new Bf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Bf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jf{Ur(e){}shutdown(){}}class $f{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Tp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Np extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,c){const u=this.ho(e,t);Le("RestConnection","Sending: ",u,r);const f={};return this.lo(f,i,c),this.fo(e,u,f,r).then(v=>(Le("RestConnection","Received: ",v),v),v=>{throw Ia("RestConnection",`${e} failed with error: `,v,"url: ",u,"request:",r),v})}_o(e,t,r,i,c,u){return this.ao(e,t,r,i,c)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+a4,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Tp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((c,u)=>{const f=new K7;f.setWithCredentials(!0),f.listenOnce(G7.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case l8.NO_ERROR:const w=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(w)),c(w);break;case l8.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case l8.HTTP_ERROR:const S=f.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T?.error;if(P&&P.status&&P.message){const H=function($){const ne=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ne)>=0?ne:re.UNKNOWN}(P.status);u(new xe(H,P.message))}else u(new xe(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new xe(re.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);f.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fv(),u=$7(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Z7({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=i.join("");Le("Connection","Creating WebChannel: "+v,f);const w=c.createWebChannel(v,f);let S=!1,T=!1;const P=new xp({Hr:$=>{T?Le("Connection","Not sending because WebChannel is closed:",$):(S||(Le("Connection","Opening WebChannel transport."),w.open(),S=!0),Le("Connection","WebChannel sending:",$),w.send($))},Jr:()=>w.close()}),H=($,ne,me)=>{$.listen(ne,ze=>{try{me(ze)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return H(w,H3.EventType.OPEN,()=>{T||Le("Connection","WebChannel transport opened.")}),H(w,H3.EventType.CLOSE,()=>{T||(T=!0,Le("Connection","WebChannel transport closed"),P.io())}),H(w,H3.EventType.ERROR,$=>{T||(T=!0,Ia("Connection","WebChannel transport errored:",$),P.io(new xe(re.UNAVAILABLE,"The operation could not be completed")))}),H(w,H3.EventType.MESSAGE,$=>{var ne;if(!T){const me=$.data[0];dt(!!me);const ze=me,Ke=ze.error||(null===(ne=ze[0])||void 0===ne?void 0:ne.error);if(Ke){Le("Connection","WebChannel received error:",Ke);const nt=Ke.status;let Ye=function(_t){const tn=vr[_t];if(void 0!==tn)return z9(tn)}(nt),bt=Ke.message;void 0===Ye&&(Ye=re.INTERNAL,bt="Unknown error status: "+nt+" with message "+Ke.message),T=!0,P.io(new xe(Ye,bt)),w.close()}else Le("Connection","WebChannel received:",me),P.ro(me)}}),H(u,q7.STAT_EVENT,$=>{$.stat===W7.PROXY?Le("Connection","Detected buffering proxy"):$.stat===W7.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function Gf(){return typeof window<"u"?window:null}function I4(){return typeof document<"u"?document:null}function Fa(n){return new Uv(n,!0)}class Y8{constructor(e,t,r=1e3,i=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Lp{constructor(e,t,r,i,c,u,f,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Y8(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,_e.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_e.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(hr(t.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new xe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,_e.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zp extends Lp{constructor(e,t,r,i,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=c}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function $9(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:st(),i=e.targetChange.targetIds||[],c=function(v,w){return v.wt?(dt(void 0===w||"string"==typeof w),Or.fromBase64String(w||"")):(dt(void 0===w||w instanceof Uint8Array),Or.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(v){const w=void 0===v.code?re.UNKNOWN:z9(v.code);return new xe(w,v.message||"")}(u);t=new P9(r,i,c,f||null)}else if("documentChange"in e){const r=e.documentChange,i=ao(n,r.document.name),c=yr(r.document.updateTime),u=r.document.createTime?yr(r.document.createTime):wt.min(),f=new c1({mapValue:{fields:r.document.fields}}),v=kn.newFoundDocument(i,c,u,f);t=new el(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,i=ao(n,r.document),c=r.readTime?yr(r.readTime):wt.min(),u=kn.newNoDocument(i,c);t=new el([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=ao(n,r.document);t=new el([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,c=new Yh(r.count||0);t=new ef(r.targetId,c)}}var v;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return wt.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?yr(c.readTime):wt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=rl(this.yt),t.addTarget=function(i,c){let u;const f=c.target;return u=y8(f)?{documents:af(i,f)}:{query:cf(i,f)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?u.resumeToken=Bv(i,c.resumeToken):c.snapshotVersion.compareTo(wt.min())>0&&(u.readTime=tl(i,c.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function ow(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=rl(this.yt),t.removeTarget=e,this.Bo(t)}}class kp extends Lp{constructor(e,t,r,i,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function G9(n,e){return n&&n.length>0?(dt(void 0!==e),n.map(t=>function(r,i){let c=yr(r.updateTime?r.updateTime:i);return c.isEqual(wt.min())&&(c=yr(i)),new Rv(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.Zo(r,t)}return dt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=rl(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>r0(this.yt,r))};this.Bo(t)}}class py extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.ao(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(re.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection._o(e,t,r,c,u,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(re.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class gw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(hr(t),this.ou=!1):Le("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Pp{constructor(e,t,r,i,c){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.Ur(f=>{r.enqueueAndForget((0,_e.Z)(function*(){var v;v2(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,_e.Z)(function*(w){const S=We(w);S._u.add(4),yield m0(S),S.gu.set("Unknown"),S._u.delete(4),yield vl(S)}),function(w){return v.apply(this,arguments)})(u))}))}),this.gu=new gw(r,i)}}function vl(n){return qf.apply(this,arguments)}function qf(){return qf=(0,_e.Z)(function*(n){if(v2(n))for(const e of n.wu)yield e(!0)}),qf.apply(this,arguments)}function m0(n){return Op.apply(this,arguments)}function Op(){return Op=(0,_e.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Op.apply(this,arguments)}function Wf(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),g0(t)?Zf(t):Ua(t).ko()&&Vp(t,e))}function J8(n,e){const t=We(n),r=Ua(t);t.du.delete(e),r.ko()&&gy(t,e),0===t.du.size&&(r.ko()?r.Fo():v2(t)&&t.gu.set("Unknown"))}function Vp(n,e){n.yu.Ot(e.targetId),Ua(n).zo(e)}function gy(n,e){n.yu.Ot(e),Ua(n).Ho(e)}function Zf(n){n.yu=new Hv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Ua(n).start(),n.gu.uu()}function g0(n){return v2(n)&&!Ua(n).No()&&n.du.size>0}function v2(n){return 0===We(n)._u.size}function Hp(n){n.yu=void 0}function Fp(n){return y2.apply(this,arguments)}function y2(){return y2=(0,_e.Z)(function*(n){n.du.forEach((e,t)=>{Vp(n,e)})}),y2.apply(this,arguments)}function Up(n,e){return yl.apply(this,arguments)}function yl(){return yl=(0,_e.Z)(function*(n,e){Hp(n),g0(n)?(n.gu.hu(e),Zf(n)):n.gu.set("Unknown")}),yl.apply(this,arguments)}function Kf(n,e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,_e.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof P9&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,c){const u=c.cause;for(const f of c.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.du.delete(f),i.yu.removeTarget(f))}),function(i,c){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield v0(n,r)}else if(e instanceof el?n.yu.Kt(e):e instanceof ef?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(wt.min()))try{const r=yield Of(n.localStore);t.compareTo(r)>=0&&(yield function(i,c){const u=i.yu.Zt(c);return u.targetChanges.forEach((f,v)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.du.get(v);w&&i.du.set(v,w.withResumeToken(f.resumeToken,c))}}),u.targetMismatches.forEach(f=>{const v=i.du.get(f);if(!v)return;i.du.set(f,v.withResumeToken(Or.EMPTY_BYTE_STRING,v.snapshotVersion)),gy(i,f);const w=new Pa(v.target,f,1,v.sequenceNumber);Vp(i,w)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield v0(n,r)}var r}),Qf.apply(this,arguments)}function v0(n,e,t){return _l.apply(this,arguments)}function _l(){return _l=(0,_e.Z)(function*(n,e,t){if(!a2(e))throw e;n._u.add(1),yield m0(n),n.gu.set("Offline"),t||(t=()=>Of(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield vl(n)}))}),_l.apply(this,arguments)}function Cl(n,e){return e().catch(t=>v0(n,t,e))}function wl(n){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,_e.Z)(function*(n){const e=We(n),t=Ba(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;vw(e);)try{const i=yield Ip(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,yw(e,i)}catch(i){yield v0(e,i)}Yf(e)&&jp(e)}),Bp.apply(this,arguments)}function vw(n){return v2(n)&&n.fu.length<10}function yw(n,e){n.fu.push(e);const t=Ba(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Yf(n){return v2(n)&&!Ba(n).No()&&n.fu.length>0}function jp(n){Ba(n).start()}function vy(n){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,_e.Z)(function*(n){Ba(n).eu()}),Jf.apply(this,arguments)}function yy(n){return X8.apply(this,arguments)}function X8(){return X8=(0,_e.Z)(function*(n){const e=Ba(n);for(const t of n.fu)e.Xo(t.mutations)}),X8.apply(this,arguments)}function $p(n,e,t){return e5.apply(this,arguments)}function e5(){return e5=(0,_e.Z)(function*(n,e,t){const r=n.fu.shift(),i=z8.from(r,e,t);yield Cl(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield wl(n)}),e5.apply(this,arguments)}function _y(n,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,_e.Z)(function*(n,e){var t;e&&Ba(n).Yo&&(yield(t=(0,_e.Z)(function*(r,i){if(L9(c=i.code)&&c!==re.ABORTED){const u=r.fu.shift();Ba(r).Mo(),yield Cl(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield wl(r)}var c}),function(r,i){return t.apply(this,arguments)})(n,e)),Yf(n)&&jp(n)}),Xf.apply(this,arguments)}function ed(n,e){return bl.apply(this,arguments)}function bl(){return bl=(0,_e.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=v2(t);t._u.add(3),yield m0(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield vl(t)}),bl.apply(this,arguments)}function Gp(n,e){return t5.apply(this,arguments)}function t5(){return t5=(0,_e.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield vl(t)):e||(t._u.add(2),yield m0(t),t.gu.set("Unknown"))}),t5.apply(this,arguments)}function Ua(n){return n.pu||(n.pu=function(e,t,r){const i=We(e);return i.su(),new zp(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Fp.bind(null,n),Zr:Up.bind(null,n),Wo:Kf.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.pu.Mo(),g0(n)?Zf(n):n.gu.set("Unknown")):(yield n.pu.stop(),Hp(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ba(n){return n.Iu||(n.Iu=function(e,t,r){const i=We(e);return i.su(),new kp(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:vy.bind(null,n),Zr:_y.bind(null,n),tu:yy.bind(null,n),Zo:$p.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Iu.Mo(),yield wl(n)):(yield n.Iu.stop(),n.fu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class td{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,c){const u=Date.now()+r,f=new td(e,t,u,i,c);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function El(n,e){if(hr("AsyncQueue",`${e}: ${n}`),a2(n))return new xe(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Ml{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=X6(),this.sortedSet=new er(this.comparator)}static emptySet(e){return new Ml(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class qp{constructor(){this.Tu=new er(qe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class y0{constructor(e,t,r,i,c,u,f,v,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=v,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,c){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new y0(e,t,Ml.emptySet(t),u,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Y3(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Cy{constructor(){this.Au=void 0,this.listeners=[]}}class _w{constructor(){this.queries=new oo(e=>b9(e),Y3),this.onlineState="Unknown",this.Ru=new Set}}function Wp(n,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,_e.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new Cy),i)try{c.Au=yield t.onListen(r)}catch(u){const f=El(u,`Initialization of query '${E8(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,c),c.listeners.push(e),e.bu(t.onlineState),c.Au&&e.Pu(c.Au)&&Yp(t)}),Zp.apply(this,arguments)}function Kp(n,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,_e.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Qp.apply(this,arguments)}function wy(n,e){const t=We(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Pu(i)&&(r=!0);u.Au=i}}r&&Yp(t)}function Cw(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function Yp(n){n.Ru.forEach(e=>{e.next()})}class Jp{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new y0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=y0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class ww{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class by{constructor(e){this.yt=e}Ji(e){return ao(this.yt,e)}Yi(e){return e.metadata.exists?j9(this.yt,e.document,!1):kn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return yr(e)}}class bw{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=s(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=jt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new by(this.yt);for(const i of e)if(i.metadata.queries){const c=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Gt()).add(c);t.set(u,f)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function Hf(n,e,t,r){return Es.apply(this,arguments)}(e.localStore,new by(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield fy(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function s(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class o{constructor(e){this.key=e}}class a{constructor(e){this.key=e}}class l{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Gt(),this.mutatedKeys=Gt(),this.Gu=W6(e),this.Qu=new Ml(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new qp,i=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,T)=>{const P=i.get(S),H=Gh(this.query,T)?T:null,$=!!P&&this.mutatedKeys.has(P.key),ne=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let me=!1;P&&H?P.data.isEqual(H.data)?$!==ne&&(r.track({type:3,doc:H}),me=!0):this.Hu(P,H)||(r.track({type:2,doc:H}),me=!0,(v&&this.Gu(H,v)>0||w&&this.Gu(H,w)<0)&&(f=!0)):!P&&H?(r.track({type:0,doc:H}),me=!0):P&&!H&&(r.track({type:1,doc:P}),me=!0,(v||w)&&(f=!0)),me&&(H?(u=u.add(H),c=ne?c.add(S):c.delete(S)):(u=u.delete(S),c=c.delete(S)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const S="F"===this.query.limitType?u.last():u.first();u=u.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{Qu:u,zu:r,$i:f,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((w,S)=>function(T,P){const H=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return H(T)-H(P)}(w.type,S.type)||this.Gu(w.doc,S.doc)),this.Ju(r);const u=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,v=f!==this.Uu;return this.Uu=f,0!==c.length||v?{snapshot:new y0(this.query,e.Qu,i,c,e.mutatedKeys,0===f,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Gt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new a(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new o(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Gt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return y0.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class h{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class p{constructor(e){this.key=e,this.nc=!1}}class _{constructor(e,t,r,i,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new oo(f=>b9(f),Y3),this.rc=new Map,this.oc=new Set,this.uc=new er(qe.comparator),this.cc=new Map,this.ac=new f0,this.hc={},this.lc=new Map,this.fc=Ha.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function b(n,e){return E.apply(this,arguments)}function E(){return E=(0,_e.Z)(function*(n,e){const t=Ly(n);let r,i;const c=t.ic.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.ec();else{const u=yield M4(t.localStore,N1(e));t.isPrimaryClient&&Wf(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield A(t,e,r,"current"===f,u.resumeToken)}return i}),E.apply(this,arguments)}function A(n,e,t,r,i){return N.apply(this,arguments)}function N(){return N=(0,_e.Z)(function*(n,e,t,r,i){n._c=(T,P,H)=>{return($=(0,_e.Z)(function*(ne,me,ze,Ke){let nt=me.view.Wu(ze);nt.$i&&(nt=yield q8(ne.localStore,me.query,!1).then(({documents:_t})=>me.view.Wu(_t,nt)));const Ye=Ke&&Ke.targetChanges.get(me.targetId),bt=me.view.applyChanges(nt,ne.isPrimaryClient,Ye);return Dl(ne,me.targetId,bt.Xu),bt.snapshot}),function(ne,me,ze,Ke){return $.apply(this,arguments)})(n,T,P,H);var $};const c=yield q8(n.localStore,e,!0),u=new l(e,c.Hi),f=u.Wu(c.documents),v=n0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=u.applyChanges(f,n.isPrimaryClient,v);Dl(n,t,w.Xu);const S=new h(e,t,u);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),N.apply(this,arguments)}function R(n,e){return G.apply(this,arguments)}function G(){return G=(0,_e.Z)(function*(n,e){const t=We(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(c=>!Y3(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield d0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),J8(t.remoteStore,r.targetId),ja(t,r.targetId)}).catch(Aa))):(ja(t,r.targetId),yield d0(t.localStore,r.targetId,!0))}),G.apply(this,arguments)}function ye(){return ye=(0,_e.Z)(function*(n,e,t){const r=zy(n);try{const i=yield function(c,u){const f=We(c),v=fn.now(),w=u.reduce((P,H)=>P.add(H.key),Gt());let S,T;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let H=K1(),$=Gt();return f.Gi.getEntries(P,w).next(ne=>{H=ne,H.forEach((me,ze)=>{ze.isValidDocument()||($=$.add(me))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,H)).next(ne=>{S=ne;const me=[];for(const ze of u){const Ke=T9(ze,S.get(ze.key).overlayedDocument);null!=Ke&&me.push(new f2(ze.key,Ke,C9(Ke.value.mapValue),Gn.exists(!0)))}return f.mutationQueue.addMutationBatch(P,v,me,u)}).next(ne=>{T=ne;const me=ne.applyToLocalDocumentSet(S,$);return f.documentOverlayCache.saveOverlays(P,ne.batchId,me)})}).then(()=>({batchId:T.batchId,changes:k9(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,u,f){let v=c.hc[c.currentUser.toKey()];v||(v=new er(Ft)),v=v.insert(u,f),c.hc[c.currentUser.toKey()]=v}(r,i.batchId,t),yield S4(r,i.changes),yield wl(r.remoteStore)}catch(i){const c=El(i,"Failed to persist write");t.reject(c)}}),ye.apply(this,arguments)}function Pe(n,e){return $e.apply(this,arguments)}function $e(){return $e=(0,_e.Z)(function*(n,e){const t=We(n);try{const r=yield Ep(t.localStore,e);e.targetChanges.forEach((i,c)=>{const u=t.cc.get(c);u&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?dt(u.nc):i.removedDocuments.size>0&&(dt(u.nc),u.nc=!1))}),yield S4(t,r,e)}catch(r){yield Aa(r)}}),$e.apply(this,arguments)}function at(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((c,u)=>{const f=u.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(c,u){const f=We(c);f.onlineState=u;let v=!1;f.queries.forEach((w,S)=>{for(const T of S.listeners)T.bu(u)&&(v=!0)}),v&&Yp(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Et(n,e,t){return De.apply(this,arguments)}function De(){return De=(0,_e.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),c=i&&i.key;if(c){let u=new er(qe.comparator);u=u.insert(c,kn.newNoDocument(c,wt.min()));const f=Gt().add(c),v=new t0(wt.min(),new Map,new xn(Ft),u,f);yield Pe(r,v),r.uc=r.uc.remove(c),r.cc.delete(e),Tl(r)}else yield d0(r.localStore,e,!1).then(()=>ja(r,e,t)).catch(Aa)}),De.apply(this,arguments)}function xt(n,e){return dn.apply(this,arguments)}function dn(){return dn=(0,_e.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield Pf(t.localStore,e);Al(t,r,null),Sl(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield S4(t,i)}catch(i){yield Aa(i)}}),dn.apply(this,arguments)}function qn(n,e,t){return _2.apply(this,arguments)}function _2(){return _2=(0,_e.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(c,u){const f=We(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return f.mutationQueue.lookupMutationBatch(v,u).next(S=>(dt(null!==S),w=S.keys(),f.mutationQueue.removeMutationBatch(v,S))).next(()=>f.mutationQueue.performConsistencyCheck(v)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(v,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>f.localDocuments.getDocuments(v,w))})}(r.localStore,e);Al(r,e,t),Sl(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield S4(r,i)}catch(i){yield Aa(i)}}),_2.apply(this,arguments)}function Il(){return Il=(0,_e.Z)(function*(n,e){const t=We(n);v2(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=We(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=El(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Il.apply(this,arguments)}function Sl(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Al(n,e,t){const r=We(n);let i=r.hc[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ja(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||n5(n,r)})}function n5(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(J8(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Tl(n))}function Dl(n,e,t){for(const r of t)r instanceof o?(n.ac.addReference(r.key,e),rd(n,r)):r instanceof a?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||n5(n,r.key)):st()}function rd(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.oc.add(r),Tl(n))}function Tl(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new qe(jt.fromString(e)),r=n.fc.next();n.cc.set(r,new p(t)),n.uc=n.uc.insert(t,r),Wf(n.remoteStore,new Pa(N1(g4(t.path)),r,2,fi.at))}}function S4(n,e,t){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,_e.Z)(function*(n,e,t){const r=We(n),i=[],c=[],u=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,v)=>{u.push(r._c(v,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const S=kf.Ci(v.targetId,w);c.push(S)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(f=(0,_e.Z)(function*(v,w){const S=We(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(w,P=>ce.forEach(P.Si,H=>S.persistence.referenceDelegate.addReference(T,P.targetId,H)).next(()=>ce.forEach(P.Di,H=>S.persistence.referenceDelegate.removeReference(T,P.targetId,H)))))}catch(T){if(!a2(T))throw T;Le("LocalStore","Failed to update sequence numbers: "+T)}for(const T of w){const P=T.targetId;if(!T.fromCache){const H=S.qi.get(P),ne=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);S.qi=S.qi.insert(P,ne)}}}),function(v,w){return f.apply(this,arguments)})(r.localStore,c))}),Ey.apply(this,arguments)}function pI(n,e){return My.apply(this,arguments)}function My(){return My=(0,_e.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield bp(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(f=>{f.reject(new xe(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield S4(t,r.ji)}var i}),My.apply(this,arguments)}function mI(n,e){const t=We(n),r=t.cc.get(e);if(r&&r.nc)return Gt().add(r.key);{let i=Gt();const c=t.rc.get(e);if(!c)return i;for(const u of c){const f=t.ic.get(u);i=i.unionWith(f.view.ju)}return i}}function gI(n,e){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,_e.Z)(function*(n,e){const t=We(n),r=yield q8(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Dl(t,e.targetId,i.Xu),i}),Iy.apply(this,arguments)}function vI(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,_e.Z)(function*(n,e){const t=We(n);return g2(t.localStore,e).then(r=>S4(t,r))}),Sy.apply(this,arguments)}function yI(n,e,t,r){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,_e.Z)(function*(n,e,t,r){const i=We(n),c=yield function(u,f){const v=We(u),w=We(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.Tn(S,f).next(T=>T?v.localDocuments.getDocuments(S,T):ce.resolve(null)))}(i.localStore,e);var f;null!==c?("pending"===t?yield wl(i.remoteStore):"acknowledged"===t||"rejected"===t?(Al(i,e,r||null),Sl(i,e),f=e,We(We(i.localStore).mutationQueue).An(f)):st(),yield S4(i,c)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ay.apply(this,arguments)}function Dy(){return Dy=(0,_e.Z)(function*(n,e){const t=We(n);if(Ly(t),zy(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Ew(t,r.toArray());t.dc=!0,yield Gp(t.remoteStore,!0);for(const c of i)Wf(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((c,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(ja(t,u),d0(t.localStore,u,!0))),J8(t.remoteStore,u)}),yield i,yield Ew(t,r),function(c){const u=We(c);u.cc.forEach((f,v)=>{J8(u.remoteStore,v)}),u.ac.fs(),u.cc=new Map,u.uc=new er(qe.comparator)}(t),t.dc=!1,yield Gp(t.remoteStore,!1)}}),Dy.apply(this,arguments)}function Ew(n,e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,_e.Z)(function*(n,e,t){const r=We(n),i=[],c=[];for(const u of e){let f;const v=r.rc.get(u);if(v&&0!==v.length){f=yield M4(r.localStore,N1(v[0]));for(const w of v){const S=r.ic.get(w),T=yield gI(r,S);T.snapshot&&c.push(T.snapshot)}}else{const w=yield W8(r.localStore,u);f=yield M4(r.localStore,w),yield A(r,Mw(w),u,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(c),i}),Ty.apply(this,arguments)}function Mw(n){return Nv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function CI(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function wI(n,e,t,r){return xy.apply(this,arguments)}function xy(){return xy=(0,_e.Z)(function*(n,e,t,r){const i=We(n);if(i.dc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const c=i.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const u=yield g2(i.localStore,E9(c[0])),f=t0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Or.EMPTY_BYTE_STRING);yield S4(i,u,f);break}case"rejected":yield d0(i.localStore,e,!0),ja(i,e,r);break;default:st()}}),xy.apply(this,arguments)}function bI(n,e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,_e.Z)(function*(n,e,t){const r=Ly(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const c=yield W8(r.localStore,i),u=yield M4(r.localStore,c);yield A(r,Mw(c),u.targetId,!1,u.resumeToken),Wf(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield d0(r.localStore,i,!1).then(()=>{J8(r.remoteStore,i),ja(r,i)}).catch(Aa))}}),Ny.apply(this,arguments)}function Ly(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pe.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Et.bind(null,e),e.sc.Wo=wy.bind(null,e.eventManager),e.sc.wc=Cw.bind(null,e.eventManager),e}function zy(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qn.bind(null,e),e}class Iw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.yt=Fa(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return $8(this.persistence,new pi,e.initialUser,this.yt)}yc(e){return new Cp(Lf.Bs,this.yt)}gc(e){return new dy}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sw extends Iw{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield zy(r.Ac.syncEngine),yield wl(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return $8(this.persistence,new pi,e.initialUser,this.yt)}Tc(e,t){return new uw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new yv(t,this.persistence);return new o9(e.asyncQueue,r)}yc(e){const t=gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Q1.withCacheSize(this.cacheSizeBytes):Q1.DEFAULT;return new wp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Gf(),I4(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new dy}}class MI extends Sw{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Q8&&(r.sharedClientState.syncEngine={Fr:yI.bind(null,i),$r:wI.bind(null,i),Br:bI.bind(null,i),vi:CI.bind(null,i),Mr:vI.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var c=(0,_e.Z)(function*(u){yield function _I(n,e){return Dy.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}gc(e){const t=Gf();if(!Q8.C(t))throw new xe(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Q8(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ky{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>at(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pI.bind(null,r.syncEngine),yield Gp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _w}createDatastore(e){const t=Fa(e.databaseInfo.databaseId),r=new Np(e.databaseInfo);return new py(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,c=f=>at(this.syncEngine,f,0),u=$f.C()?new $f:new jf,new Pp(t,r,i,c,u);var t,r,i,c,u}createSyncEngine(e,t){return function(r,i,c,u,f,v,w){const S=new _(r,i,c,u,f,v);return w&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=We(t);Le("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield m0(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ry(n,e,t){if(!t)throw new xe(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Aw(n,e,t,r){if(!0===e&&!0===r)throw new xe(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Dw(n){if(!qe.isDocumentKey(n))throw new xe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tw(n){if(qe.isDocumentKey(n))throw new xe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Xp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xp(n);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xw(n,e){if(e<=0)throw new xe(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Nw=new Map;class Lw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Aw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new e9;switch(t.type){case"gapi":return new H6(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nw.get(e);t&&(Le("ComponentProvider","Removing Datastore"),Nw.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class k1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new k1(this.firestore,e,this._query)}}class $a extends k1{constructor(e,t,r){super(e,t,g4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new qe(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function kw(n,e,...t){if(n=(0,Cn.m9)(n),Ry("collection","path",e),n instanceof id){const r=jt.fromString(e,...t);return Tw(r),new $a(n,null,r)}{if(!(n instanceof tr||n instanceof $a))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jt.fromString(e,...t));return Tw(r),new $a(n.firestore,null,r)}}function em(n,e,...t){if(n=(0,Cn.m9)(n),1===arguments.length&&(e=Dh.R()),Ry("doc","path",e),n instanceof id){const r=jt.fromString(e,...t);return Dw(r),new tr(n,null,new qe(r))}{if(!(n instanceof tr||n instanceof $a))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jt.fromString(e,...t));return Dw(r),new tr(n.firestore,n instanceof $a?n.converter:null,new qe(r))}}function Rw(n,e){return n=(0,Cn.m9)(n),e=(0,Cn.m9)(e),(n instanceof tr||n instanceof $a)&&(e instanceof tr||e instanceof $a)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Py(n,e){return n=(0,Cn.m9)(n),e=(0,Cn.m9)(e),n instanceof k1&&e instanceof k1&&n.firestore===e.firestore&&Y3(n._query,e._query)&&n.converter===e.converter}function Pw(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SI{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Pr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const c=yield e.Cc(i);return new ww(JSON.parse(c),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,_e.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class TI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(c,u){const f=We(c),v=rl(f.yt)+"/documents",w={documents:u.map(H=>nl(f.yt,H))},S=yield f._o("BatchGetDocuments",v,w,u.length),T=new Map;S.forEach(H=>{const $=function il(n,e){return"found"in e?function(t,r){dt(!!r.found);const i=ao(t,r.found.name),c=yr(r.found.updateTime),u=r.found.createTime?yr(r.found.createTime):wt.min(),f=new c1({mapValue:{fields:r.found.fields}});return kn.newFoundDocument(i,c,u,f)}(n,e):"missing"in e?function(t,r){dt(!!r.missing),dt(!!r.readTime);const i=ao(t,r.missing),c=yr(r.readTime);return kn.newNoDocument(i,c)}(n,e):st()}(f.yt,H);T.set($.key.toString(),$)});const P=[];return u.forEach(H=>{const $=T.get(H.toString());dt(!!$),P.push($)}),P}),function(c,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new J6(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=qe.fromPath(i);e.mutations.push(new X3(c,e.precondition(c)))}),yield(r=(0,_e.Z)(function*(i,c){const u=We(i),f=rl(u.yt)+"/documents",v={writes:c.map(w=>r0(u.yt,w))};yield u.ao("Commit",f,v)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?Gn.exists(!1):Gn.updateTime(t):Gn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new xe(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(t)}return Gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xI{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.kc=r.maxAttempts,this.xo=new Y8(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,_e.Z)(function*(){const t=new TI(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Fc(c)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!$3(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!L9(t)}return!1}}class NI{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=Dh.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,_e.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=El(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Ow(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(c){r.isEqual(c)||(yield bp(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Oy.apply(this,arguments)}function Vw(n,e){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Hy(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ed(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>ed(e.remoteStore,c)),n.onlineComponents=e}),Vy.apply(this,arguments)}function Hy(n){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,_e.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield Ow(n,new Iw)),n.offlineComponents}),Fy.apply(this,arguments)}function nm(n){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,_e.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield Vw(n,new ky)),n.onlineComponents}),Uy.apply(this,arguments)}function Hw(n){return Hy(n).then(e=>e.persistence)}function rm(n){return Hy(n).then(e=>e.localStore)}function By(n){return nm(n).then(e=>e.remoteStore)}function jy(n){return nm(n).then(e=>e.syncEngine)}function r5(n){return $y.apply(this,arguments)}function $y(){return $y=(0,_e.Z)(function*(n){const e=yield nm(n),t=e.eventManager;return t.onListen=b.bind(null,e.syncEngine),t.onUnlisten=R.bind(null,e.syncEngine),t}),$y.apply(this,arguments)}function Uw(n,e,t={}){const r=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,c,u,f,v){const w=new tm({next:T=>{c.enqueueAndForget(()=>Kp(i,S));const P=T.docs.has(u);!P&&T.fromCache?v.reject(new xe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&f&&"server"===f.source?v.reject(new xe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),S=new Jp(g4(u.path),w,{includeMetadataChanges:!0,Nu:!0});return Wp(i,S)}(yield r5(n),n.asyncQueue,e,t,r)})),r.promise}function Bw(n,e,t={}){const r=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,c,u,f,v){const w=new tm({next:T=>{c.enqueueAndForget(()=>Kp(i,S)),T.fromCache&&"server"===f.source?v.reject(new xe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),S=new Jp(u,w,{includeMetadataChanges:!0,Nu:!0});return Wp(i,S)}(yield r5(n),n.asyncQueue,e,t,r)})),r.promise}class HI{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Y8(this,"async_queue_retry"),this.Wc=()=>{const t=I4();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=I4();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=I4();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Pr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!a2(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,hr("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=td.createAndSchedule(this,e,t,r,c=>this.Yc(c));return this.Uc.push(i),i}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Gy(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class FI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nr extends id{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new HI,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jw(this),this._firestoreClient.terminate()}}function Hr(n){return n._firestoreClient||jw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jw(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _v(n._databaseId,c,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var c,f;n._firestoreClient=new NI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function $w(n,e,t){const r=new Pr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield Ow(n,t),yield Vw(n,e),r.resolve()}catch(i){const c=i;if(!("FirebaseError"===(u=c).name?u.code===re.FAILED_PRECONDITION||u.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw c;Ia("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var u})).then(()=>r.promise)}function Gw(n){if(n._initialized||n._terminated)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(Or.fromBase64String(e))}catch(t){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(Or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class A4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xl{constructor(e){this._methodName=e}}class im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const QI=/^__.*__$/;class YI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new f2(e,this.data,this.fieldMask,t,this.fieldTransforms):new Y6(e,this.data,t,this.fieldTransforms)}}class qw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new f2(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ww(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class sm{constructor(e,t,r,i,c,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return cm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Ww(this.sa)&&QI.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class JI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Fa(e)}da(e,t,r,i=!1){return new sm({sa:e,methodName:t,fa:r,path:gn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Nl(n){const e=n._freezeSettings(),t=Fa(n._databaseId);return new JI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function om(n,e,t,r,i,c={}){const u=n.da(c.merge||c.mergeFields?2:0,e,t,i);Ky("Data must be an object, but it was:",u,r);const f=Qw(r,u);let v,w;if(c.merge)v=new di(u.fieldMask),w=u.fieldTransforms;else if(c.mergeFields){const S=[];for(const T of c.mergeFields){const P=Qy(e,T,t);if(!u.contains(P))throw new xe(re.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Jw(S,P)||S.push(P)}v=new di(S),w=u.fieldTransforms.filter(T=>v.covers(T.field))}else v=null,w=u.fieldTransforms;return new YI(new c1(f),v,w)}class sd extends xl{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}function Zw(n,e,t){return new sm({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class qy extends xl{_toFieldTransform(e){return new Q6(e.path,new Z6)}isEqual(e){return e instanceof qy}}class XI extends xl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Zw(this,e,!0),r=this._a.map(c=>Ll(c,t)),i=new Ra(r);return new Q6(e.path,i)}isEqual(e){return this===e}}class eS extends xl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Zw(this,e,!0),r=this._a.map(c=>Ll(c,t)),i=new v4(r);return new Q6(e.path,i)}isEqual(e){return this===e}}class tS extends xl{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new K6(e.yt,Wh(e.yt,this.wa));return new Q6(e.path,t)}isEqual(e){return this===e}}function Wy(n,e,t,r){const i=n.da(1,e,t);Ky("Data must be an object, but it was:",i,r);const c=[],u=c1.empty();l4(r,(v,w)=>{const S=am(e,v,t);w=(0,Cn.m9)(w);const T=i.ca(S);if(w instanceof sd)c.push(S);else{const P=Ll(w,T);null!=P&&(c.push(S),u.set(S,P))}});const f=new di(c);return new qw(u,f,i.fieldTransforms)}function Zy(n,e,t,r,i,c){const u=n.da(1,e,t),f=[Qy(e,r,t)],v=[i];if(c.length%2!=0)throw new xe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<c.length;P+=2)f.push(Qy(e,c[P])),v.push(c[P+1]);const w=[],S=c1.empty();for(let P=f.length-1;P>=0;--P)if(!Jw(w,f[P])){const H=f[P];let $=v[P];$=(0,Cn.m9)($);const ne=u.ca(H);if($ instanceof sd)w.push(H);else{const me=Ll($,ne);null!=me&&(w.push(H),S.set(H,me))}}const T=new di(w);return new qw(S,T,u.fieldTransforms)}function Kw(n,e,t,r=!1){return Ll(t,n.da(r?4:3,e))}function Ll(n,e){if(Yw(n=(0,Cn.m9)(n)))return Ky("Unsupported field value:",e,n),Qw(n,e);if(n instanceof xl)return function(t,r){if(!Ww(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let c=0;for(const u of t){let f=Ll(u,r.aa(c));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),c++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Cn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wh(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=fn.fromDate(t);return{timestampValue:tl(r.yt,i)}}if(t instanceof fn){const i=new fn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tl(r.yt,i)}}if(t instanceof im)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ga)return{bytesValue:Bv(r.yt,t._byteString)};if(t instanceof tr){const i=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(i))throw r.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nf(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Xp(t)}`)}(n,e)}function Qw(n,e){const t={};return c9(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):l4(n,(r,i)=>{const c=Ll(i,e.ra(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function Yw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fn||n instanceof im||n instanceof Ga||n instanceof tr||n instanceof xl)}function Ky(n,e,t){if(!Yw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Xp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Qy(n,e,t){if((e=(0,Cn.m9)(e))instanceof A4)return e._internalPath;if("string"==typeof e)return am(n,e);throw cm("Field path arguments must be of type string or ",n,!1,void 0,t)}const nS=new RegExp("[~\\*/\\[\\]]");function am(n,e,t){if(e.search(nS)>=0)throw cm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new A4(...e.split("."))._internalPath}catch{throw cm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cm(n,e,t,r,i){const c=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let v="";return(c||u)&&(v+=" (found",c&&(v+=` in field ${r}`),u&&(v+=` in document ${i}`),v+=")"),new xe(re.INVALID_ARGUMENT,f+n+v)}function Jw(n,e){return n.some(t=>t.isEqual(e))}class od{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rS extends od{data(){return super.data()}}function lm(n,e){return"string"==typeof e?am(n,e):e instanceof A4?e._internalPath:e._delegate._internalPath}function Xw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yy{}class ad extends Yy{}function _0(n,e,...t){let r=[];e instanceof Yy&&r.push(e),r=r.concat(t),function(i){const c=i.filter(f=>f instanceof i5).length,u=i.filter(f=>f instanceof cd).length;if(c>1||c>0&&u>0)throw new xe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class cd extends ad{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cd(e,t,r)}_apply(e){const t=this._parse(e);return rb(e._query,t),new k1(e.firestore,e.converter,$h(e._query,t))}_parse(e){const t=Nl(e.firestore);return function(i,c,u,f,v,w,S){let T;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){nb(S,w);const P=[];for(const H of S)P.push(tb(f,i,H));T={arrayValue:{values:P}}}else T=tb(f,i,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||nb(S,w),T=Kw(u,"where",S,"in"===w||"not-in"===w);return Xt.create(v,w,T)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class i5 extends Yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new i5(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let c=r;const u=i.getFlattenedFilters();for(const f of u)rb(c,f),c=$h(c,f)}(e._query,t),new k1(e.firestore,e.converter,$h(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jy extends ad{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jy(e,t)}_apply(e){const t=function(r,i,c){if(null!==r.startAt)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new $6(i,c);return function(f,v){if(null===jh(f)){const w=C8(f);null!==w&&ib(0,w,v.field)}}(r,u),u}(e._query,this._field,this._direction);return new k1(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new ka(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class um extends ad{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new um(e,t,r)}_apply(e){return new k1(e.firestore,e.converter,b8(e._query,this._limit,this._limitType))}}class hm extends ad{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new hm(e,t,r)}_apply(e){const t=eb(e,this.type,this._docOrFields,this._inclusive);return new k1(e.firestore,e.converter,(i=t,new ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class fm extends ad{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new fm(e,t,r)}_apply(e){const t=eb(e,this.type,this._docOrFields,this._inclusive);return new k1(e.firestore,e.converter,(i=t,new ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function eb(n,e,t,r){if(t[0]=(0,Cn.m9)(t[0]),t[0]instanceof od)return function(i,c,u,f,v){if(!f)throw new xe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const S of ws(i))if(S.field.isKeyField())w.push(La(c,f.key));else{const T=f.data.field(S.field);if(Ph(T))throw new xe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const P=S.field.canonicalString();throw new xe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}w.push(T)}return new za(w,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Nl(n.firestore);return function(c,u,f,v,w,S){const T=c.explicitOrderBy;if(w.length>T.length)throw new xe(re.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let H=0;H<w.length;H++){const $=w[H];if(T[H].field.isKeyField()){if("string"!=typeof $)throw new xe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof $}`);if(!w8(c)&&-1!==$.indexOf("/"))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${$}' contains a slash.`);const ne=c.path.child(jt.fromString($));if(!qe.isDocumentKey(ne))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const me=new qe(ne);P.push(La(u,me))}else{const ne=Kw(f,v,$);P.push(ne)}}return new za(P,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function tb(n,e,t){if("string"==typeof(t=(0,Cn.m9)(t))){if(""===t)throw new xe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w8(e)&&-1!==t.indexOf("/"))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(jt.fromString(t));if(!qe.isDocumentKey(r))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return La(n,new qe(r))}if(t instanceof tr)return La(n,t._key);throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xp(t)}.`)}function nb(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rb(n,e){if(e.isInequality()){const r=C8(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new xe(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const c=jh(n);null!==c&&ib(0,i,c)}const t=function(r,i){for(const c of r)for(const u of c.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ib(n,e,t){if(!t.isEqual(e))throw new xe(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Xy{convertValue(e,t="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(u4(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return l4(e.fields,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new im(fr(e.latitude),fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=u9(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(U6(e));default:return null}}convertTimestamp(e){const t=xa(e);return new fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=jt.fromString(e);dt(bs(r));const i=new Ta(r.get(1),r.get(3)),c=new qe(r.popFirst(5));return i.isEqual(t)||hr(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function dm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class fS extends Xy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class D4 extends od{constructor(e,t,r,i,c,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ld extends D4{data(e={}){return super.data(e)}}class C0{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ld(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new ld(r._firestore,r._userDataWriter,u.doc.key,u.doc,new zl(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new ld(r._firestore,r._userDataWriter,u.doc.key,u.doc,new zl(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,w=-1;return 0!==u.type&&(v=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),w=c.indexOf(u.doc.key)),{type:dS(u.type),doc:f,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function ob(n,e){return n instanceof D4&&e instanceof D4?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof C0&&e instanceof C0&&n._firestore===e._firestore&&Py(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class w0 extends Xy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function ab(n,e,t){n=an(n,tr);const r=an(n.firestore,nr),i=dm(n.converter,e,t);return s5(r,[om(Nl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Gn.none())])}function cb(n,e,t,...r){n=an(n,tr);const i=an(n.firestore,nr),c=Nl(i);let u;return u="string"==typeof(e=(0,Cn.m9)(e))||e instanceof A4?Zy(c,"updateDoc",n._key,e,t,r):Wy(c,"updateDoc",n._key,e),s5(i,[u.toMutation(n._key,Gn.exists(!0))])}function lb(n,...e){var t,r,i;n=(0,Cn.m9)(n);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||Gy(e[u])||(c=e[u],u++);const f={includeMetadataChanges:c.includeMetadataChanges};if(Gy(e[u])){const T=e[u];e[u]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[u+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[u+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let v,w,S;if(n instanceof tr)w=an(n.firestore,nr),S=g4(n._key.path),v={next:T=>{e[u]&&e[u](e_(w,n,T))},error:e[u+1],complete:e[u+2]};else{const T=an(n,k1);w=an(T.firestore,nr),S=T._query;const P=new w0(w);v={next:H=>{e[u]&&e[u](new C0(w,P,T,H))},error:e[u+1],complete:e[u+2]},Xw(n._query)}return function(T,P,H,$){const ne=new tm($),me=new Jp(P,ne,H);return T.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Wp(yield r5(T),me)})),()=>{ne.bc(),T.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Kp(yield r5(T),me)}))}}(Hr(w),S,f,v)}function s5(n,e){return function(t,r){const i=new Pr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function ee(n,e,t){return ye.apply(this,arguments)}(yield jy(t),r,i)})),i.promise}(Hr(n),e)}function e_(n,e,t){const r=t.docs.get(e._key),i=new w0(n);return new D4(n,i,e._key,r,new zl(t.hasPendingWrites,t.fromCache),e.converter)}const ES={maxAttempts:5};class ub{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nl(e)}set(e,t,r){this._verifyNotCommitted();const i=b0(e,this._firestore),c=dm(i.converter,t,r),u=om(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Gn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=b0(e,this._firestore);let u;return u="string"==typeof(t=(0,Cn.m9)(t))||t instanceof A4?Zy(this._dataReader,"WriteBatch.update",c._key,t,r,i):Wy(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(u.toMutation(c._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=b0(e,this._firestore);return this._mutations=this._mutations.concat(new J6(t._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function b0(n,e){if((n=(0,Cn.m9)(n)).firestore!==e)throw new xe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class MS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nl(e)}get(e){const t=b0(e,this._firestore),r=new fS(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const c=i[0];if(c.isFoundDocument())return new od(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new od(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=b0(e,this._firestore),c=dm(i.converter,t,r),u=om(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const c=b0(e,this._firestore);let u;return u="string"==typeof(t=(0,Cn.m9)(t))||t instanceof A4?Zy(this._dataReader,"Transaction.update",c._key,t,r,i):Wy(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,u),this}delete(e){const t=b0(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=b0(e,this._firestore),r=new w0(this._firestore);return super.get(e).then(i=>new D4(this._firestore,r,t._key,i._document,new zl(!1,!1),t.converter))}}function t_(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function fb(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function db(){if(!function Cv(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){a4=Yo.SDK_VERSION,(0,Yo._registerComponent)(new b6.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const c=t.getProvider("app").getImmediate(),u=new nr(new t9(t.getProvider("auth-internal")),new pv(t.getProvider("app-check-internal")),function(f,v){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(f.options.projectId,v)}(c,r),c);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Yo.registerVersion)(u8,"3.8.0",n),(0,Yo.registerVersion)(u8,"3.8.0","esm2017")}();class ud{constructor(e){this._delegate=e}static fromBase64String(e){return db(),new ud(Ga.fromBase64String(e))}static fromUint8Array(e){return fb(),new ud(Ga.fromUint8Array(e))}toBase64(){return db(),this._delegate.toBase64()}toUint8Array(){return fb(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function n_(n){return function zS(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class kS{enableIndexedDbPersistence(e,t){return function BI(n,e){Gw(n=an(n,nr));const t=Hr(n),r=n._freezeSettings(),i=new ky;return $w(t,i,new Sw(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function jI(n){Gw(n=an(n,nr));const e=Hr(n),t=n._freezeSettings(),r=new ky;return $w(e,r,new MI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $I(n){if(n._initialized&&!n._terminated)throw new xe(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!Z1.C())return Promise.resolve();const i=r+"main";yield Z1.delete(i)}),function(r){return t.apply(this,arguments)})(gl(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pb{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ta||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ia("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function zw(n,e,t,r={}){var i;const c=(n=an(n,id))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Ia("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Rr.MOCK_USER;else{u=(0,Cn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Rr(v)}n._authCredentials=new dv(new X7(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function qI(n){return function LI(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Hw(n),t=yield By(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i._u.delete(0),vl(i)}(t)}))}(Hr(n=an(n,nr)))}(this._delegate)}disableNetwork(){return function WI(n){return function zI(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Hw(n),t=yield By(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const c=We(i);c._u.add(0),yield m0(c),c.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Hr(n=an(n,nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Aw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function GI(n){return function(e){const t=new Pr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function nd(n,e){return Il.apply(this,arguments)}(yield jy(e),t)})),t.promise}(Hr(n=an(n,nr)))}(this._delegate)}onSnapshotsInSync(e){return function bS(n,e){return function PI(n,e){const t=new tm(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield r5(n),i=t,We(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield r5(n),i=t,void We(r).Ru.delete(i);var r,i}))}}(Hr(n=an(n,nr)),Gy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new o5(this,kw(this._delegate,e))}catch(t){throw mi(t,"collection()","Firestore.collection()")}}doc(e){try{return new uo(this,em(this._delegate,e))}catch(t){throw mi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new gi(this,function II(n,e){if(n=an(n,id),Ry("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new k1(n,null,(t=e,new ka(jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw mi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IS(n,e,t){n=an(n,nr);const r=Object.assign(Object.assign({},ES),t);return function(i){if(i.maxAttempts<1)throw new xe(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,c,u){const f=new Pr;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const v=yield function Fw(n){return nm(n).then(e=>e.datastore)}(i);new xI(i.asyncQueue,v,u,c,f).run()})),f.promise}(Hr(n),i=>e(new MS(n,i)),r)}(this._delegate,t=>e(new mb(this,t)))}batch(){return Hr(this._delegate),new gb(new ub(this._delegate,e=>s5(this._delegate,e)))}loadBundle(e){return function ZI(n,e){const t=Hr(n=an(n,nr)),r=new FI;return function OI(n,e,t,r){const i=function(c,u){let f;return f="string"==typeof c?(new TextEncoder).encode(c):c,v=function(v,w){if(v instanceof Uint8Array)return Pw(v,w);if(v instanceof ArrayBuffer)return Pw(new Uint8Array(v),w);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new SI(v,u);var v}(t,Fa(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function EI(n,e,t){const r=We(n);var i;(i=(0,_e.Z)(function*(c,u,f){try{const v=yield u.getMetadata();if(yield function(P,H){const $=We(P),ne=yr(H.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",me=>$.Ns.getBundleMetadata(me,H.id)).then(me=>!!me&&me.createTime.compareTo(ne)>=0)}(c.localStore,v))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=v).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(s(v));const w=new bw(v,c.localStore,u.yt);let S=yield u.mc();for(;S;){const P=yield w.Fu(S);P&&f._updateProgress(P),S=yield u.mc()}const T=yield w.complete();return yield S4(c,T.Lu,void 0),yield function(P,H){const $=We(P);return $.persistence.runTransaction("Save bundle","readwrite",ne=>$.Ns.saveBundleMetadata(ne,H))}(c.localStore,v),f._completeWith(T.progress),Promise.resolve(T.Bu)}catch(v){return Ia("SyncEngine",`Loading bundle failed with ${v}`),f._failWith(v),Promise.resolve(new Set)}var P}),function(c,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield jy(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function KI(n,e){return function VI(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",c=>i.Ns.getNamedQuery(c,r))}(yield rm(n),e)}))}(Hr(n=an(n,nr)),e).then(t=>t?new k1(n,null,t.query):null)}(this._delegate,e).then(t=>t?new gi(this,t):null)}}class pm extends Xy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(new Ga(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return uo.forKey(t,this.firestore,null)}}class mb{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pm(e)}get(e){const t=Rl(e);return this._delegate.get(t).then(r=>new hd(this._firestore,new D4(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Rl(e);return r?(t_("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Rl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}}class gb{constructor(e){this._delegate=e}set(e,t,r){const i=Rl(e);return r?(t_("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Rl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ld(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new kl(e,new pm(e),t),i.set(t,c)),c}}kl.INSTANCES=new WeakMap;class uo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pm(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new uo(t,new tr(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new uo(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new o5(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new o5(this.firestore,kw(this._delegate,e))}catch(t){throw mi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Cn.m9)(e))instanceof tr&&Rw(this._delegate,e)}set(e,t){t=t_("DocumentReference.set",t);try{return t?ab(this._delegate,e,t):ab(this._delegate,e)}catch(r){throw mi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?cb(this._delegate,e):cb(this._delegate,e,t,...r)}catch(i){throw mi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function CS(n){return s5(an(n.firestore,nr),[new J6(n._key,Gn.none())])}(this._delegate)}onSnapshot(...e){const t=vb(e),r=yb(e,i=>new hd(this.firestore,new D4(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return lb(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function mS(n){n=an(n,tr);const e=an(n.firestore,nr),t=Hr(e),r=new w0(e);return function kI(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,c,u){try{const f=yield function(v,w){const S=We(v);return S.persistence.runTransaction("read document","readonly",T=>S.localDocuments.getDocument(T,w))}(i,c);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new xe(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const v=El(f,`Failed to get document '${c} from cache`);u.reject(v)}}),function(i,c,u){return r.apply(this,arguments)})(yield rm(n),e,t);var r})),t.promise}(t,n._key).then(i=>new D4(e,r,n._key,i,new zl(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gS(n){n=an(n,tr);const e=an(n.firestore,nr);return Uw(Hr(e),n._key,{source:"server"}).then(t=>e_(e,n,t))}(this._delegate):function pS(n){n=an(n,tr);const e=an(n.firestore,nr);return Uw(Hr(e),n._key).then(t=>e_(e,n,t))}(this._delegate),t.then(r=>new hd(this.firestore,new D4(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new uo(this.firestore,this._delegate.withConverter(e?kl.getInstance(this.firestore,e):null))}}function mi(n,e,t){return n.message=n.message.replace(e,t),n}function vb(n){for(const e of n)if("object"==typeof e&&!n_(e))return e;return{}}function yb(n,e){var t,r;let i;return i=n_(n[0])?n[0]:n_(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class hd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ob(this._delegate,e._delegate)}}class fd extends hd{data(e){const t=this._delegate.data(e);return function J7(n,e){n||st()}(void 0!==t),t}}class gi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pm(e)}where(e,t,r){try{return new gi(this.firestore,_0(this._delegate,function iS(n,e,t){const r=e,i=lm("where",n);return cd._create(i,r,t)}(e,t,r)))}catch(i){throw mi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new gi(this.firestore,_0(this._delegate,function sS(n,e="asc"){const t=e,r=lm("orderBy",n);return Jy._create(r,t)}(e,t)))}catch(r){throw mi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new gi(this.firestore,_0(this._delegate,function oS(n){return xw("limit",n),um._create("limit",n,"F")}(e)))}catch(t){throw mi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new gi(this.firestore,_0(this._delegate,function aS(n){return xw("limitToLast",n),um._create("limitToLast",n,"L")}(e)))}catch(t){throw mi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new gi(this.firestore,_0(this._delegate,function cS(...n){return hm._create("startAt",n,!0)}(...e)))}catch(t){throw mi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new gi(this.firestore,_0(this._delegate,function lS(...n){return hm._create("startAfter",n,!1)}(...e)))}catch(t){throw mi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new gi(this.firestore,_0(this._delegate,function uS(...n){return fm._create("endBefore",n,!1)}(...e)))}catch(t){throw mi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new gi(this.firestore,_0(this._delegate,function hS(...n){return fm._create("endAt",n,!0)}(...e)))}catch(t){throw mi(t,"endAt()","Query.endAt()")}}isEqual(e){return Py(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function yS(n){n=an(n,k1);const e=an(n.firestore,nr),t=Hr(e),r=new w0(e);return function RI(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,c,u){try{const f=yield q8(i,c,!0),v=new l(c,f.Hi),w=v.Wu(f.documents),S=v.applyChanges(w,!1);u.resolve(S.snapshot)}catch(f){const v=El(f,`Failed to execute query '${c} against cache`);u.reject(v)}}),function(i,c,u){return r.apply(this,arguments)})(yield rm(n),e,t);var r})),t.promise}(t,n._query).then(i=>new C0(e,r,n,i))}(this._delegate):"server"===e?.source?function _S(n){n=an(n,k1);const e=an(n.firestore,nr),t=Hr(e),r=new w0(e);return Bw(t,n._query,{source:"server"}).then(i=>new C0(e,r,n,i))}(this._delegate):function vS(n){n=an(n,k1);const e=an(n.firestore,nr),t=Hr(e),r=new w0(e);return Xw(n._query),Bw(t,n._query).then(i=>new C0(e,r,n,i))}(this._delegate),t.then(r=>new r_(this.firestore,new C0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=vb(e),r=yb(e,i=>new r_(this.firestore,new C0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return lb(this._delegate,t,r)}withConverter(e){return new gi(this.firestore,this._delegate.withConverter(e?kl.getInstance(this.firestore,e):null))}}class PS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class r_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new gi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new PS(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new fd(this._firestore,r))})}isEqual(e){return ob(this._delegate,e._delegate)}}class o5 extends gi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new uo(this.firestore,e):null}doc(e){try{return new uo(this.firestore,void 0===e?em(this._delegate):em(this._delegate,e))}catch(t){throw mi(t,"doc()","CollectionReference.doc()")}}add(e){return function wS(n,e){const t=an(n.firestore,nr),r=em(n),i=dm(n.converter,e);return s5(t,[om(Nl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new uo(this.firestore,t))}isEqual(e){return Rw(this._delegate,e._delegate)}withConverter(e){return new o5(this.firestore,this._delegate.withConverter(e?kl.getInstance(this.firestore,e):null))}}function Rl(n){return an(n,tr)}class i_{constructor(...e){this._delegate=new A4(...e)}static documentId(){return new i_(gn.keyField().canonicalString())}isEqual(e){return(e=(0,Cn.m9)(e))instanceof A4&&this._delegate._internalPath.isEqual(e._internalPath)}}class Pl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function AS(){return new qy("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Pl(e)}static delete(){const e=function SS(){return new sd("deleteField")}();return e._methodName="FieldValue.delete",new Pl(e)}static arrayUnion(...e){const t=function DS(...n){return new XI("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Pl(t)}static arrayRemove(...e){const t=function TS(...n){return new eS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Pl(t)}static increment(e){const t=function xS(n){return new tS("increment",n)}(e);return t._methodName="FieldValue.increment",new Pl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const OS={Firestore:pb,GeoPoint:im,Timestamp:fn,Blob:ud,Transaction:mb,WriteBatch:gb,DocumentReference:uo,DocumentSnapshot:hd,Query:gi,QueryDocumentSnapshot:fd,QuerySnapshot:r_,CollectionReference:o5,FieldPath:i_,FieldValue:Pl,setLogLevel:function RS(n){!function Q7(n){s2.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function HS(n){(function VS(n,e){n.INTERNAL.registerComponent(new b6.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},OS)))})(n,(e,t)=>new pb(e,t,new kS)),n.registerVersion("@firebase/firestore-compat","0.3.0")}($c.Z);var FS=z(6451),dd=z(5363),US=z(6063);class BS extends xr.x{constructor(e=1/0,t=1/0,r=US.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:u}=this;t||(r.push(e),!i&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const u=t.now();let f=0;for(let v=1;v<r.length&&r[v]<=u;v+=2)f=v;f&&r.splice(0,f+1)}}}var jS=z(3099);function s_(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,jS.B)({connector:()=>new BS(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _b(n,e){return(0,$s.m)(e)?Hn(()=>n,e):Hn(()=>n)}var o_=z(9468);z(259);const c_=new Map,wb={activated:!1,tokenObservers:[]},ZS={initialized:!1,enabled:!1};function R1(n){return c_.get(n)||Object.assign({},wb)}function gm(){return ZS}class eA{constructor(e,t,r,i,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Cn.BH,yield function tA(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Cn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vi=new Cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Eb(n){if(!R1(n).activated)throw vi.create("use-before-activation",{appName:n.name})}function h_(n,e){return f_.apply(this,arguments)}function f_(){return f_=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,c)}catch(T){throw vi.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==u.status)throw vi.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(T){throw vi.create("fetch-parse-error",{originalErrorMessage:T?.message})}const v=f.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(v[1]),S=Date.now();return{token:f.token,expireTimeMillis:S+w,issuedAtTimeMillis:S}}),f_.apply(this,arguments)}function sA(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const pd="firebase-app-check-store";let _m=null;function Ib(){return _m||(_m=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pd,{keyPath:"compositeKey"})}}catch(t){e(vi.create("storage-open",{originalErrorMessage:t?.message}))}}),_m)}function d_(){return d_=(0,_e.Z)(function*(n,e){const r=(yield Ib()).transaction(pd,"readwrite"),c=r.objectStore(pd).put({compositeKey:n,value:e});return new Promise((u,f)=>{c.onsuccess=v=>{u()},r.onerror=v=>{var w;f(vi.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})}),d_.apply(this,arguments)}const md=new va.Yd("@firebase/app-check");function g_(n,e){return(0,Cn.hl)()?function lA(n,e){return function Sb(n,e){return d_.apply(this,arguments)}(function Db(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{md.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Tb(){return gm().enabled}function xb(){return y_.apply(this,arguments)}function y_(){return y_=(0,_e.Z)(function*(){const n=gm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),y_.apply(this,arguments)}const mA={error:"UNKNOWN_ERROR"};function gA(n){return Cn.US.encodeString(JSON.stringify(n),!1)}function Cm(n){return __.apply(this,arguments)}function __(){return __=(0,_e.Z)(function*(n,e=!1){const t=n.app;Eb(t);const r=R1(t);let c,i=r.token;if(i&&!a5(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(a5(v)?i=v:yield g_(t,void 0))}if(!e&&i&&a5(i))return{token:i.token};let f,u=!1;if(Tb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=h_(sA(t,yield xb()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const v=yield r.exchangeTokenPromise;return yield g_(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield R1(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?md.warn(v.message):md.error(v),c=v}return i?c?f=a5(i)?{token:i.token,internalError:c}:zb(c):(f={token:i.token},r.token=i,yield g_(t,i)):f=zb(c),u&&Lb(t,f),f}),__.apply(this,arguments)}function w_(n,e){const t=R1(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Nb(n){const{app:e}=n,t=R1(e);let r=t.tokenRefresher;r||(r=function vA(n){const{app:e}=n;return new eA((0,_e.Z)(function*(){let r;if(r=R1(e).token?yield Cm(n,!0):yield Cm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=R1(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Lb(n,e){const t=R1(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function a5(n){return n.expireTimeMillis-Date.now()>0}function zb(n){return{token:gA(mA),error:n}}class yA{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=R1(this.app);for(const t of e)w_(this.app,t.next);return Promise.resolve()}}const Ub="app-check-internal";!function LA(){(0,Yo._registerComponent)(new b6.wA("app-check",n=>function _A(n,e){return new yA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ub).initialize()})),(0,Yo._registerComponent)(new b6.wA(Ub,n=>function CA(n){return{getToken:e=>Cm(n,e),addTokenListener:e=>function C_(n,e,t,r){const{app:i}=n,c=R1(i);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&a5(c.token)){const f=c.token;Promise.resolve().then(()=>{t({token:f.token}),Nb(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Nb(n))}(n,"INTERNAL",e),removeTokenListener:e=>w_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yo.registerVersion)("@firebase/app-check","0.6.0")}();class I_{constructor(){return(0,qr.vb)("app-check")}}typeof window<"u"&&window;var OA=z(9260);const jb=new g.OlP("angularfire2.auth.use-emulator"),$b=new g.OlP("angularfire2.auth.settings"),Gb=new g.OlP("angularfire2.auth.tenant-id"),qb=new g.OlP("angularfire2.auth.langugage-code"),Wb=new g.OlP("angularfire2.auth.use-device-language"),Zb=new g.OlP("angularfire.auth.persistence"),Kb=(n,e,t,r,i,c,u,f)=>(0,Hi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,c&&v.useDeviceLanguage(),u)for(const[w,S]of Object.entries(u))v.settings[w]=S;return f&&v.setPersistence(f),v},[t,r,i,c,u,f]);let Qb=(()=>{class n{constructor(t,r,i,c,u,f,v,w,S,T,P,H){const $=new xr.x,ne=ct(void 0).pipe((0,dd.Q)(u.outsideAngular),Hn(()=>c.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,9169)))),(0,it.U)(()=>(0,Hi.on)(t,c,r)),(0,it.U)(me=>Kb(me,c,f,w,S,T,v,P)),s_({bufferSize:1,refCount:!1}));if(Er(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{ne.pipe(te()).subscribe();const ze=ne.pipe(Hn(Ye=>Ye.getRedirectResult().then(bt=>bt,()=>null)),qr.iC,s_({bufferSize:1,refCount:!1})),Ke=ne.pipe(Hn(Ye=>new Nr.y(bt=>({unsubscribe:c.runOutsideAngular(()=>Ye.onAuthStateChanged(_t=>bt.next(_t),_t=>bt.error(_t),()=>bt.complete()))})))),nt=ne.pipe(Hn(Ye=>new Nr.y(bt=>({unsubscribe:c.runOutsideAngular(()=>Ye.onIdTokenChanged(_t=>bt.next(_t),_t=>bt.error(_t),()=>bt.complete()))}))));this.authState=ze.pipe(_b(Ke),(0,o_.R)(u.outsideAngular),(0,dd.Q)(u.insideAngular)),this.user=ze.pipe(_b(nt),(0,o_.R)(u.outsideAngular),(0,dd.Q)(u.insideAngular)),this.idToken=this.user.pipe(Hn(Ye=>Ye?(0,_n.D)(Ye.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(Hn(Ye=>Ye?(0,_n.D)(Ye.getIdTokenResult()):ct(null))),this.credential=(0,FS.T)(ze,$,this.authState.pipe(M(Ye=>!Ye))).pipe((0,it.U)(Ye=>Ye?.user?Ye:null),(0,o_.R)(u.outsideAngular),(0,dd.Q)(u.insideAngular))}return(0,Hi.pX)(this,ne,c,{spy:{apply:(me,ze,Ke)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&Ke.then(nt=>$.next(nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Hi.Dh),g.LFG(Hi.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(qr.HU),g.LFG(jb,8),g.LFG($b,8),g.LFG(Gb,8),g.LFG(qb,8),g.LFG(Wb,8),g.LFG(Zb,8),g.LFG(I_,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Yb(n,e){return function HA(n,e=Og.z){return new Nr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function A_(n,e){return Yb(n,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function bm(n,e){return A_(n,e).pipe(ia(void 0),K5(),(0,it.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const v=i.find(S=>S.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(S=>S.ref.isEqual(u.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(u.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),c}))}function Jb(n,e,t){return bm(n,t).pipe(Rt((r,i)=>function UA(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function BA(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return D_(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return D_(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return D_(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),function Vg(n,e=zi.y){return n=n??QC,(0,Mr.e)((t,r)=>{let i,c=!0;t.subscribe((0,cr.x)(r,u=>{const f=e(u);(c||!n(i,f))&&(c=!1,i=f,r.next(u))}))})}(),(0,it.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function D_(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Xb(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class eE{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ia(void 0),K5(),M(([r,i])=>i.length>0||!r),(0,it.U)(([r,i])=>i),qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Xb(e);return Jb(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return A_(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qr.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(qr.iC)}add(e){return this.ref.add(e)}doc(e){return new tE(this.ref.doc(e),this.afs)}}class tE{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=iE(r,t);return new eE(i,c,this.afs)}snapshotChanges(){return function FA(n,e){return Yb(n,e).pipe(ia(void 0),K5(),(0,it.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_n.D)(this.ref.get(e)).pipe(qr.iC)}}class jA{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bm(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),M(t=>t.length>0),qr.iC):bm(this.query,this.afs.schedulers.outsideAngular).pipe(qr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Xb(e);return Jb(this.query,t,this.afs.schedulers.outsideAngular).pipe(qr.iC)}valueChanges(e={}){return A_(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),qr.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe(qr.iC)}}const nE=new g.OlP("angularfire2.enableFirestorePersistence"),rE=new g.OlP("angularfire2.firestore.persistenceSettings"),$A=new g.OlP("angularfire2.firestore.settings"),GA=new g.OlP("angularfire2.firestore.use-emulator");function iE(n,e=(t=>t)){return{query:e(n),ref:n}}let T_=(()=>{class n{constructor(t,r,i,c,u,f,v,w,S,T,P,H,$,ne,me,ze,Ke){this.schedulers=v;const nt=(0,Hi.on)(t,f,r),Ye=S;T&&Kb(nt,f,P,$,ne,me,H,ze),[this.firestore,this.persistenceEnabled$]=(0,Hi.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const bt=f.runOutsideAngular(()=>nt.firestore());if(c&&bt.settings(c),Ye&&bt.useEmulator(...Ye),i&&!Er(u)){const _t=()=>{try{return(0,_n.D)(bt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(tn){return typeof console<"u"&&console.warn(tn),ct(!1)}};return[bt,f.runOutsideAngular(_t)]}return[bt,ct(!1)]},[c,Ye,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:u}=iE(i,r),f=this.schedulers.ngZone.run(()=>c);return new eE(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),c=this.firestore.collectionGroup(t);return new jA(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new tE(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Hi.Dh),g.LFG(Hi.xv,8),g.LFG(nE,8),g.LFG($A,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(qr.HU),g.LFG(rE,8),g.LFG(GA,8),g.LFG(Qb,8),g.LFG(jb,8),g.LFG($b,8),g.LFG(Gb,8),g.LFG(qb,8),g.LFG(Wb,8),g.LFG(Zb,8),g.LFG(I_,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qA=(()=>{class n{constructor(){OA.Z.registerVersion("angularfire",qr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:nE,useValue:!0},{provide:rE,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[T_]}),n})();const WA=[[["","pageHeader",""]],"*",[["","pageFooter",""]]],ZA=function(n){return{"logged-in-footer":n}},KA=["[pageHeader]","*","[pageFooter]"];let QA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-page-wrapper"]],inputs:{user:"user"},ngContentSelectors:KA,decls:7,vars:3,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer",3,"ngClass"]],template:function(t,r){1&t&&(g.F$t(WA),g.TgZ(0,"div",0)(1,"div",1),g.Hsn(2),g.qZA(),g.TgZ(3,"div",2),g.Hsn(4,1),g.qZA(),g.TgZ(5,"div",3),g.Hsn(6,2),g.qZA()()),2&t&&(g.xp6(5),g.Q6J("ngClass",g.VKq(1,ZA,r.user.isLoggedIn)))},dependencies:[un],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll;padding-top:90px;display:flex;justify-content:center}.adultery-page-header[_ngcontent-%COMP%], .adultery-page-footer[_ngcontent-%COMP%]{height:90px;overflow:scroll}.adultery-page-header[_ngcontent-%COMP%]{border-bottom:1px solid black;position:fixed;top:0;width:100%}.adultery-page-footer[_ngcontent-%COMP%]{margin-top:auto}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;overflow:hidden}.logged-in-footer[_ngcontent-%COMP%]{border-top:1px solid black}']}),n})();class sE{}const T4="*";function oE(n,e){return{type:7,name:n,definitions:e,options:{}}}function x_(n,e=null){return{type:4,styles:e,timings:n}}function aE(n,e=null){return{type:2,steps:n,options:e}}function qa(n){return{type:6,styles:n,offset:null}}function N_(n,e,t){return{type:0,name:n,styles:e,options:t}}function cE(n){return{type:5,steps:n}}function L_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function lE(n){Promise.resolve().then(n)}class gd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class uE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const c=this.players.length;0==c?lE(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==c&&this._onFinish()}),u.onDestroy(()=>{++r==c&&this._onDestroy()}),u.onStart(()=>{++i==c&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let hE=(()=>{class n{constructor(t){this.firestore=t,this.defaultQuotes=[],this.quotesChanged=new xr.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,it.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})))).subscribe(t=>{this.defaultQuotes=t,this.quotesChanged.next([...this.defaultQuotes])})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(T_))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),JA=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g._UZ(1,"div")(2,"div")(3,"div")(4,"div"),g.qZA())},styles:[".lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:black;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),n})();function XA(n,e){if(1&n&&(g.TgZ(0,"div",2)(1,"span",3),g._uU(2),g.qZA()()),2&n){const t=g.oxw();g.Q6J("@fadeIn",void 0)("@quoteState",t.quoteState),g.xp6(2),g.AsE("",null==t.quoteToDisplay?null:t.quoteToDisplay.quoteToDisplay," \xa0-\xa0",null==t.quoteToDisplay?null:t.quoteToDisplay.whoSaidIt," ")}}function eD(n,e){1&n&&(g.TgZ(0,"div",4),g._UZ(1,"app-loading-spinner"),g.qZA())}let tD=(()=>{class n{constructor(t){this.quotesService=t,this.defaultQuotes=[],this.quotesLoaded=!1,this.quoteState="normal"}ngOnInit(){this.quoteSubscription=this.quotesService.quotesChanged.subscribe(t=>{this.defaultQuotes=this.shuffleQuotes(t),this.configureQuoteToDisplay(),this.quotesLoaded=!0}),this.quotesService.fetchDefaultQuotes()}ngOnDestroy(){this.quoteSubscription.unsubscribe()}configureQuoteToDisplay(){this.quoteToDisplay=this.defaultQuotes[0],setInterval(()=>{this.fadeOut(),setTimeout(()=>{this.quoteToDisplay=this.cycleThroughQuotes(),this.fadeIn()},490)},15e3)}cycleThroughQuotes(){let t;if(this.quoteToDisplay){let r=this.defaultQuotes.indexOf(this.quoteToDisplay);if(r<=this.defaultQuotes.length){let i=r+=1;t=this.defaultQuotes[i],void 0===t&&(t=this.defaultQuotes[0])}}else t=this.defaultQuotes[0];return t}shuffleQuotes(t){for(var r=t.length-1;r>0;r--){var i=Math.floor(Math.random()*(r+1)),c=t[r];t[r]=t[i],t[i]=c}return t}fadeOut(){this.quoteState="invisible"}fadeIn(){this.quoteState="normal"}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(hE))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-quotes"]],decls:2,vars:2,consts:[["class","quotes-container",4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],[1,"quotes-container"],[1,"body-text","header-and-footer-text"],[1,"loading-spinner-container"]],template:function(t,r){1&t&&(g.YNc(0,XA,3,4,"div",0),g.YNc(1,eD,2,0,"div",1)),2&t&&(g.Q6J("ngIf",r.quotesLoaded),g.xp6(1),g.Q6J("ngIf",!r.quotesLoaded))},dependencies:[Yn,JA],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.quotes-container[_ngcontent-%COMP%], .loading-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:90px;flex-wrap:wrap;padding-left:10px;padding-right:10px;justify-content:center}'],data:{animation:[oE("quoteState",[N_("invisible",qa({})),N_("normal",qa({})),L_("normal => invisible",x_(500,cE([qa({opacity:1}),qa({opacity:0})]))),L_("invisible => normal",x_(500,cE([qa({opacity:0}),qa({opacity:1})])))]),oE("fadeIn",[N_("in",qa({opacity:1})),L_("void => *",[qa({opacity:0}),x_(500)])])]}}),n})();function nD(n,e){if(1&n&&(g.TgZ(0,"div")(1,"p"),g._uU(2),g.qZA(),g._UZ(3,"app-quotes"),g.qZA()),2&n){const t=g.oxw();g.xp6(2),g.hij("Welcome ",t.user.name,"")}}function rD(n,e){1&n&&(g.TgZ(0,"div")(1,"h1"),g._uU(2,"Adultery"),g.qZA()())}let iD=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-header"]],inputs:{user:"user"},decls:3,vars:2,consts:[[1,"page-header-wrapper"],[4,"ngIf"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g.YNc(1,nD,4,1,"div",1),g.YNc(2,rD,3,0,"div",1),g.qZA()),2&t&&(g.xp6(1),g.Q6J("ngIf",r.user.isLoggedIn),g.xp6(1),g.Q6J("ngIf",!r.user.isLoggedIn))},dependencies:[Yn,tD],styles:[".page-header-wrapper[_ngcontent-%COMP%]{padding-left:10px}"]}),n})();var fE={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},dE={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]};let zq=(()=>{class n{constructor(){this.faDumbbell=fE,this.faUser=dE}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vd(n){return(vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pE(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Pq(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Pq(n,i,t[i])})}return n}function k_(n,e){return function Vq(n){if(Array.isArray(n))return n}(n)||function Fq(n,e){var t=[],r=!0,i=!1,c=void 0;try{for(var f,u=n[Symbol.iterator]();!(r=(f=u.next()).done)&&(t.push(f.value),!e||t.length!==e);r=!0);}catch(v){i=!0,c=v}finally{try{!r&&null!=u.return&&u.return()}finally{if(i)throw c}}return t}(n,e)||function Bq(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P_={},gE={};try{typeof window<"u"&&(P_=window),typeof document<"u"&&(gE=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var _E=(P_.navigator||{}).userAgent,CE=void 0===_E?"":_E,c5=P_,Qr=gE,x4=!!Qr.documentElement&&!!Qr.head&&"function"==typeof Qr.addEventListener&&"function"==typeof Qr.createElement,N4=(~CE.indexOf("MSIE")||CE.indexOf("Trident/"),"___FONT_AWESOME___"),ME="svg-inline--fa",DE=[1,2,3,4,5,6,7,8,9,10],Xq=DE.concat([11,12,13,14,15,16,17,18,19,20]),Ol={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},TE=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Ol.GROUP,Ol.SWAP_OPACITY,Ol.PRIMARY,Ol.SECONDARY].concat(DE.map(function(n){return"".concat(n,"x")})).concat(Xq.map(function(n){return"w-".concat(n)})),c5.FontAwesomeConfig||{});Qr&&"function"==typeof Qr.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=k_(n,2),r=e[1],i=function rW(n){return""===n||"false"!==n&&("true"===n||n)}(function nW(n){var e=Qr.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(TE[r]=i)});var H_=cn({},{familyPrefix:"fa",replacementClass:ME,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},TE);H_.autoReplaceSvg||(H_.observeMutations=!1);var qt=cn({},H_);c5.FontAwesomeConfig=qt;var L4=c5||{};L4[N4]||(L4[N4]={}),L4[N4].styles||(L4[N4].styles={}),L4[N4].hooks||(L4[N4].hooks={}),L4[N4].shims||(L4[N4].shims=[]);var C2=L4[N4],xE=[];x4&&((Qr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Qr.readyState)||Qr.addEventListener("DOMContentLoaded",function n(){Qr.removeEventListener("DOMContentLoaded",n),xE.map(function(e){return e()})}));var U_,F_="pending",NE="settled",Im="fulfilled",Sm="rejected",cW=function(){},LE=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,lW=typeof setImmediate>"u"?setTimeout:setImmediate,yd=[];function uW(){for(var n=0;n<yd.length;n++)yd[n][0](yd[n][1]);yd=[],U_=!1}function Am(n,e){yd.push([n,e]),U_||(U_=!0,lW(uW,0))}function zE(n){var e=n.owner,t=e._state,r=e._data,i=n[t],c=n.then;if("function"==typeof i){t=Im;try{r=i(r)}catch(u){_d(c,u)}}kE(c,r)||(t===Im&&B_(c,r),t===Sm&&_d(c,r))}function kE(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===vd(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?RE(n,i):B_(n,i))},function(i){t||(t=!0,_d(n,i))}),!0}}catch(i){return t||_d(n,i),!0}return!1}function B_(n,e){(n===e||!kE(n,e))&&RE(n,e)}function RE(n,e){n._state===F_&&(n._state=NE,n._data=e,Am(fW,n))}function _d(n,e){n._state===F_&&(n._state=NE,n._data=e,Am(dW,n))}function PE(n){n._then=n._then.forEach(zE)}function fW(n){n._state=Im,PE(n)}function dW(n){n._state=Sm,PE(n),!n._handled&&LE&&global.process.emit("unhandledRejection",n._data,n)}function pW(n){global.process.emit("rejectionHandled",n)}function Ms(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Ms))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function hW(n,e){function r(i){_d(e,i)}try{n(function t(i){B_(e,i)},r)}catch(i){r(i)}}(n,this)}Ms.prototype={constructor:Ms,_state:F_,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(cW),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===Sm&&LE&&Am(pW,this)),this._state===Im||this._state===Sm?Am(zE,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Ms.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Ms(function(e,t){var r=[],i=0;function c(v){return i++,function(w){r[v]=w,--i||e(r)}}for(var f,u=0;u<n.length;u++)(f=n[u])&&"function"==typeof f.then?f.then(c(u),t):r[u]=f;i||e(r)})},Ms.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Ms(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},Ms.resolve=function(n){return n&&"object"===vd(n)&&n.constructor===Ms?n:new Ms(function(e){e(n)})},Ms.reject=function(n){return new Ms(function(e,t){t(n)})};var z4={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Cd(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function VE(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Dm(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function $_(n){return n.size!==z4.size||n.x!==z4.x||n.y!==z4.y||n.rotate!==z4.rotate||n.flipX||n.flipY}function HE(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(c," ").concat(u," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var G_={x:0,y:0,width:"100%",height:"100%"};function FE(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function CW(n){return"g"===n.tag?n.children:[n]}function q_(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,c=n.iconName,u=n.transform,f=n.symbol,v=n.title,w=n.maskId,S=n.titleId,T=n.extra,P=n.watchable,H=void 0!==P&&P,$=r.found?r:t,ne=$.width,me=$.height,ze="fak"===i,Ke=ze?"":"fa-w-".concat(Math.ceil(ne/me*16)),nt=[qt.replacementClass,c?"".concat(qt.familyPrefix,"-").concat(c):"",Ke].filter(function(ji){return-1===T.classes.indexOf(ji)}).filter(function(ji){return""!==ji||!!ji}).concat(T.classes).join(" "),Ye={children:[],attributes:cn({},T.attributes,{"data-prefix":i,"data-icon":c,class:nt,role:T.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ne," ").concat(me)})},bt=ze&&!~T.classes.indexOf("fa-fw")?{width:"".concat(ne/me*16*.0625,"em")}:{};H&&(Ye.attributes["data-fa-i2svg"]=""),v&&Ye.children.push({tag:"title",attributes:{id:Ye.attributes["aria-labelledby"]||"title-".concat(S||Cd())},children:[v]});var _t=cn({},Ye,{prefix:i,iconName:c,main:t,mask:r,maskId:w,transform:u,symbol:f,styles:cn({},bt,T.styles)}),tn=r.found&&t.found?function wW(n){var e=n.children,t=n.attributes,r=n.main,i=n.mask,c=n.maskId,v=r.icon,S=i.icon,T=HE({transform:n.transform,containerWidth:i.width,iconWidth:r.width}),P={tag:"rect",attributes:cn({},G_,{fill:"white"})},H=v.children?{children:v.children.map(FE)}:{},$={tag:"g",attributes:cn({},T.inner),children:[FE(cn({tag:v.tag,attributes:cn({},v.attributes,T.path)},H))]},ne={tag:"g",attributes:cn({},T.outer),children:[$]},me="mask-".concat(c||Cd()),ze="clip-".concat(c||Cd()),Ke={tag:"mask",attributes:cn({},G_,{id:me,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[P,ne]},nt={tag:"defs",children:[{tag:"clipPath",attributes:{id:ze},children:CW(S)},Ke]};return e.push(nt,{tag:"rect",attributes:cn({fill:"currentColor","clip-path":"url(#".concat(ze,")"),mask:"url(#".concat(me,")")},G_)}),{children:e,attributes:t}}(_t):function bW(n){var e=n.children,t=n.attributes,r=n.main,i=n.transform,u=Dm(n.styles);if(u.length>0&&(t.style=u),$_(i)){var f=HE({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:cn({},f.outer),children:[{tag:"g",attributes:cn({},f.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:cn({},r.icon.attributes,f.path)}]}]})}else e.push(r.icon);return{children:e,attributes:t}}(_t),b2=tn.attributes;return _t.children=tn.children,_t.attributes=b2,f?function MW(n){var t=n.iconName,r=n.children,c=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:cn({},n.attributes,{id:!0===c?"".concat(n.prefix,"-").concat(qt.familyPrefix,"-").concat(t):c}),children:r}]}]}(_t):function EW(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,c=n.styles,u=n.transform;if($_(u)&&t.found&&!r.found){var w={x:t.width/t.height/2,y:.5};i.style=Dm(cn({},c,{"transform-origin":"".concat(w.x+u.x/16,"em ").concat(w.y+u.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(_t)}var K_=function(e,t,r,i){var v,w,S,c=Object.keys(e),u=c.length,f=void 0!==i?function(e,t){return function(r,i,c,u){return e.call(t,r,i,c,u)}}(t,i):t;for(void 0===r?(v=1,S=e[c[0]]):(v=0,S=r);v<u;v++)S=f(S,e[w=c[v]],w,e);return S};function GE(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,c=Object.keys(e).reduce(function(u,f){var v=e[f];return v.icon?u[v.iconName]=v.icon:u[f]=v,u},{});"function"!=typeof C2.hooks.addPack||i?C2.styles[n]=cn({},C2.styles[n]||{},c):C2.hooks.addPack(n,c),"fas"===n&&GE("fa",e)}var qE=C2.styles,DW=C2.shims,QE=function(){var e=function(i){return K_(qE,function(c,u,f){return c[f]=K_(u,i,{}),c},{})};e(function(r,i,c){return i[3]&&(r[i[3]]=c),r}),e(function(r,i,c){var u=i[2];return r[c]=c,u.forEach(function(f){r[f]=c}),r});var t="far"in qE;K_(DW,function(r,i){var u=i[1];return"far"===u&&!t&&(u="fas"),r[i[0]]={prefix:u,iconName:i[2]},r},{})};function JE(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function h5(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,c=void 0===i?[]:i;return"string"==typeof n?VE(n):"<".concat(e," ").concat(function yW(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(VE(n[t]),'" ')},"").trim()}(r),">").concat(c.map(h5).join(""),"</").concat(e,">")}QE();function bd(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(bd.prototype=Object.create(Error.prototype)).constructor=bd;var Nm={fill:"currentColor"},iM={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},X_=(cn({},Nm,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),cn({},iM,{attributeName:"opacity"}));function tC(n){var e=n[0],t=n[1],c=k_(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(c)?{tag:"g",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Ol.GROUP)},children:[{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Ol.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Ol.PRIMARY),fill:"currentColor",d:c[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:c}}}}cn({},Nm,{cx:"256",cy:"364",r:"28"}),cn({},iM,{attributeName:"r",values:"28;14;28;28;14;28;"}),cn({},X_,{values:"1;0;1;1;0;1;"}),cn({},Nm,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),cn({},X_,{values:"1;0;0;0;0;1;"}),cn({},Nm,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),cn({},X_,{values:"0;0;1;1;0;0;"});var rZ=function(){function n(){(function kq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Rq(n,e,t){e&&pE(n.prototype,e),t&&pE(n,t)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];var u=i.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(f){t.definitions[f]=cn({},t.definitions[f]||{},u[f]),GE(f,u[f]),QE()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(c){var u=i[c],f=u.prefix,v=u.iconName,w=u.icon;t[f]||(t[f]={}),t[f][v]=w}),t}}]),n}();function Ed(){qt.autoAddCss&&!zm&&(function OE(n){if(n&&x4){var e=Qr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Qr.head.childNodes,r=null,i=t.length-1;i>-1;i--){var c=t[i],u=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=c)}return Qr.head.insertBefore(e,r),n}}(function rC(){var n="fa",e=ME,t=qt.familyPrefix,r=qt.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||r!==e){var c=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");i=i.replace(c,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(f,".".concat(r))}return i}()),zm=!0)}function Lm(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return h5(r)})}}),Object.defineProperty(n,"node",{get:function(){if(x4){var r=Qr.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function iC(n){var e=n.prefix,t=void 0===e?"fa":e,r=n.iconName;if(r)return JE(lM.definitions,t,r)||JE(C2.styles,t,r)}var lM=new rZ,zm=!1,uM_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var c=i.toLowerCase().split("-"),u=c[0],f=c.slice(1).join("-");if(u&&"h"===f)return r.flipX=!0,r;if(u&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(u){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},t):t}(e)},hM=function iZ(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:iC(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:iC(i||{})),n(r,cn({},t,{mask:i}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,r=void 0===t?z4:t,i=e.symbol,c=void 0!==i&&i,u=e.mask,f=void 0===u?null:u,v=e.maskId,w=void 0===v?null:v,S=e.title,T=void 0===S?null:S,P=e.titleId,H=void 0===P?null:P,$=e.classes,ne=void 0===$?[]:$,me=e.attributes,ze=void 0===me?{}:me,Ke=e.styles,nt=void 0===Ke?{}:Ke;if(n){var Ye=n.prefix,bt=n.iconName,_t=n.icon;return Lm(cn({type:"icon"},n),function(){return Ed(),qt.autoA11y&&(T?ze["aria-labelledby"]="".concat(qt.replacementClass,"-title-").concat(H||Cd()):(ze["aria-hidden"]="true",ze.focusable="false")),q_({icons:{main:tC(_t),mask:f?tC(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ye,iconName:bt,transform:cn({},z4,r),symbol:c,title:T,maskId:w,titleId:H,extra:{attributes:ze,styles:nt,classes:ne}})})}});const fZ=["*"],mZ=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let yZ=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_Z=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t)r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(c=>r[c]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CZ=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[g.TTD]}),n})(),wZ=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275cmp=g.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[g.TTD],ngContentSelectors:fZ,decls:1,vars:0,template:function(t,r){1&t&&(g.F$t(),g.Hsn(0))},encapsulation:2}),n})(),bZ=(()=>{class n{constructor(t,r,i,c,u){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=c,this.classes=[],null!=u&&null==c&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,t){const i=this.findIconDefinition(r);if(null!=i){const c=this.buildParams();this.renderIcon(i,c)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?uM_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...mZ(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=hM(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Po),g.Y36(yZ),g.Y36(_Z),g.Y36(CZ,8),g.Y36(wZ,8))},n.\u0275cmp=g.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(g.Ikx("innerHTML",r.renderedIconHTML,g.oJD),g.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[g.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),EZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),MZ=(()=>{class n{constructor(t){this.icon=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(zq))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-nav"]],decls:3,vars:2,consts:[[1,"header-and-footer-text"],[3,"icon"]],template:function(t,r){1&t&&(g.TgZ(0,"nav",0),g._UZ(1,"fa-icon",1)(2,"fa-icon",1),g.qZA()),2&t&&(g.xp6(1),g.Q6J("icon",r.icon.faUser),g.xp6(1),g.Q6J("icon",r.icon.faDumbbell))},dependencies:[bZ],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}nav[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;align-items:center;height:90px}fa-icon[_ngcontent-%COMP%]{cursor:pointer}']}),n})();function IZ(n,e){1&n&&(g.TgZ(0,"div"),g._UZ(1,"app-nav"),g.qZA())}function SZ(n,e){1&n&&g._UZ(0,"div")}let AZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-footer"]],inputs:{user:"user"},decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(g.YNc(0,IZ,2,0,"div",0),g.YNc(1,SZ,1,0,"div",0)),2&t&&(g.Q6J("ngIf",r.user.isLoggedIn),g.xp6(1),g.Q6J("ngIf",!r.user.isLoggedIn))},dependencies:[Yn,MZ]}),n})(),DZ=(()=>{class n{constructor(t){this.title="adultery",this.user={name:"Jaden",isLoggedIn:!1}}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(T_))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:3,consts:[[1,"page-wrapper",3,"user"],[1,"desktop-header"],["pageHeader","",1,"header"],[3,"user"],[1,"content"],["pageFooter","",1,"footer"]],template:function(t,r){1&t&&(g.TgZ(0,"app-page-wrapper",0),g._UZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"app-header",3),g.qZA(),g.TgZ(4,"div",4),g._UZ(5,"router-outlet"),g.qZA(),g.TgZ(6,"div",5),g._UZ(7,"app-footer",3),g.qZA()()),2&t&&(g.Q6J("user",r.user),g.xp6(3),g.Q6J("user",r.user),g.xp6(4),g.Q6J("user",r.user))},dependencies:[t3,QA,iD,AZ],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:calc(100vh - 180px)}']}),n})();class fM{}class dM{}class k4{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),c=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(u):this.headers.set(c,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof k4?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new k4;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof k4?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const c=e.value;if(c){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===c.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class TZ{encodeKey(e){return pM(e)}encodeValue(e){return pM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const NZ=/%(\d[a-f0-9])/gi,LZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pM(n){return encodeURIComponent(n).replace(NZ,(e,t)=>LZ[t]??e)}function km(n){return`${n}`}class M0{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new TZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xZ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[u,f]=-1==c?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],v=t.get(u)||[];v.push(f),t.set(u,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(km):[km(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new M0({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(km(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(km(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zZ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gM(n){return typeof Blob<"u"&&n instanceof Blob}function vM(n){return typeof FormData<"u"&&n instanceof FormData}class Md{constructor(e,t,r,i){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function kZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new k4),this.context||(this.context=new zZ),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new M0,this.urlWithParams=t}serializeBody(){return null===this.body?null:mM(this.body)||gM(this.body)||vM(this.body)||function RZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof M0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vM(this.body)?null:gM(this.body)?this.body.type||null:mM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof M0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,w=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((T,P)=>T.set(P,e.setHeaders[P]),v)),e.setParams&&(w=Object.keys(e.setParams).reduce((T,P)=>T.set(P,e.setParams[P]),w)),new Md(t,r,c,{params:w,headers:v,context:S,reportProgress:f,responseType:i,withCredentials:u})}}var Yr=(()=>((Yr=Yr||{})[Yr.Sent=0]="Sent",Yr[Yr.UploadProgress=1]="UploadProgress",Yr[Yr.ResponseHeader=2]="ResponseHeader",Yr[Yr.DownloadProgress=3]="DownloadProgress",Yr[Yr.Response=4]="Response",Yr[Yr.User=5]="User",Yr))();class sC{constructor(e,t=200,r="OK"){this.headers=e.headers||new k4,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class oC extends sC{constructor(e={}){super(e),this.type=Yr.ResponseHeader}clone(e={}){return new oC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Rm extends sC{constructor(e={}){super(e),this.type=Yr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Rm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yM extends sC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function aC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let PZ=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let c;if(t instanceof Md)c=t;else{let v,w;v=i.headers instanceof k4?i.headers:new k4(i.headers),i.params&&(w=i.params instanceof M0?i.params:new M0({fromObject:i.params})),c=new Md(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=ct(c).pipe(Me(v=>this.handler.handle(v)));if(t instanceof Md||"events"===i.observe)return u;const f=u.pipe(M(v=>v instanceof Rm));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,it.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return f.pipe((0,it.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return f.pipe((0,it.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return f.pipe((0,it.U)(v=>v.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new M0).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,aC(i,r))}post(t,r,i={}){return this.request("POST",t,aC(i,r))}put(t,r,i={}){return this.request("PUT",t,aC(i,r))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fM))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class _M{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const CM=new g.OlP("HTTP_INTERCEPTORS");let OZ=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const VZ=/^\)\]\}',?\n/;let wM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Nr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,$)=>i.setRequestHeader(H,$.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const c=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const H=i.statusText||"OK",$=new k4(i.getAllResponseHeaders()),ne=function HZ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new oC({headers:$,status:i.status,statusText:H,url:ne}),u},v=()=>{let{headers:H,status:$,statusText:ne,url:me}=f(),ze=null;204!==$&&(ze=typeof i.response>"u"?i.responseText:i.response),0===$&&($=ze?200:0);let Ke=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof ze){const nt=ze;ze=ze.replace(VZ,"");try{ze=""!==ze?JSON.parse(ze):null}catch(Ye){ze=nt,Ke&&(Ke=!1,ze={error:Ye,text:ze})}}Ke?(r.next(new Rm({body:ze,headers:H,status:$,statusText:ne,url:me||void 0})),r.complete()):r.error(new yM({error:ze,headers:H,status:$,statusText:ne,url:me||void 0}))},w=H=>{const{url:$}=f(),ne=new yM({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:$||void 0});r.error(ne)};let S=!1;const T=H=>{S||(r.next(f()),S=!0);let $={type:Yr.DownloadProgress,loaded:H.loaded};H.lengthComputable&&($.total=H.total),"text"===t.responseType&&!!i.responseText&&($.partialText=i.responseText),r.next($)},P=H=>{let $={type:Yr.UploadProgress,loaded:H.loaded};H.lengthComputable&&($.total=H.total),r.next($)};return i.addEventListener("load",v),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",T),null!==c&&i.upload&&i.upload.addEventListener("progress",P)),i.send(c),r.next({type:Yr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",v),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",T),null!==c&&i.upload&&i.upload.removeEventListener("progress",P)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Ki))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const cC=new g.OlP("XSRF_COOKIE_NAME"),lC=new g.OlP("XSRF_HEADER_NAME");class bM{}let FZ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=go(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le),g.LFG(g.Lbi),g.LFG(cC))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),uC=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(bM),g.LFG(lC))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),UZ=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(CM,[]);this.chain=r.reduceRight((i,c)=>new _M(i,c),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(dM),g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),BZ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:uC,useClass:OZ}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:cC,useValue:t.cookieName}:[],t.headerName?{provide:lC,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[uC,{provide:CM,useExisting:uC,multi:!0},{provide:bM,useClass:FZ},{provide:cC,useValue:"XSRF-TOKEN"},{provide:lC,useValue:"X-XSRF-TOKEN"}]}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[PZ,{provide:fM,useClass:UZ},wM,{provide:dM,useExisting:wM}],imports:[BZ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();function EM(n){return new g.vHH(3e3,!1)}function MK(){return typeof window<"u"&&typeof window.document<"u"}function hC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function I0(n){switch(n.length){case 0:return new gd;case 1:return n[0];default:return new uE(n)}}function MM(n,e,t,r,i=new Map,c=new Map){const u=[],f=[];let v=-1,w=null;if(r.forEach(S=>{const T=S.get("offset"),P=T==v,H=P&&w||new Map;S.forEach(($,ne)=>{let me=ne,ze=$;if("offset"!==ne)switch(me=e.normalizePropertyName(me,u),ze){case"!":ze=i.get(ne);break;case T4:ze=c.get(ne);break;default:ze=e.normalizeStyleValue(ne,me,ze,u)}H.set(me,ze)}),P||f.push(H),w=H,v=T}),u.length)throw function fK(n){return new g.vHH(3502,!1)}();return f}function fC(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dC(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dC(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dC(t,"destroy",n)))}}function dC(n,e,t){const c=pC(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(c._data=u),c}function pC(n,e,t,r,i="",c=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:c,disabled:!!u}}function Is(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function IM(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let mC=(n,e)=>!1,SM=(n,e,t)=>[],AM=null;function gC(n){const e=n.parentNode||n.host;return e===AM?null:e}(hC()||typeof Element<"u")&&(MK()?(AM=(()=>document.documentElement)(),mC=(n,e)=>{for(;e;){if(e===n)return!0;e=gC(e)}return!1}):mC=(n,e)=>n.contains(e),SM=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vl=null,DM=!1;const TM=mC,xM=SM;let NM=(()=>{class n{validateStyleProperty(t){return function SK(n){Vl||(Vl=function AK(){return typeof document<"u"?document.body:null}()||{},DM=!!Vl.style&&"WebkitAppearance"in Vl.style);let e=!0;return Vl.style&&!function IK(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vl.style,!e&&DM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return TM(t,r)}getParentElement(t){return gC(t)}query(t,r,i){return xM(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,c,u,f=[],v){return new gd(i,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),vC=(()=>{class n{}return n.NOOP=new NM,n})();const yC="ng-enter",Pm="ng-leave",Om="ng-trigger",Vm=".ng-trigger",zM="ng-animating",_C=".ng-animating";function R4(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CC(parseFloat(e[1]),e[2])}function CC(n,e){return"s"===e?1e3*n:n}function Hm(n,e,t){return n.hasOwnProperty("duration")?n:function xK(n,e,t){let i,c=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(EM()),{duration:0,delay:0,easing:""};i=CC(parseFloat(f[1]),f[2]);const v=f[3];null!=v&&(c=CC(parseFloat(v),f[4]));const w=f[5];w&&(u=w)}else i=n;if(!t){let f=!1,v=e.length;i<0&&(e.push(function $Z(){return new g.vHH(3100,!1)}()),f=!0),c<0&&(e.push(function GZ(){return new g.vHH(3101,!1)}()),f=!0),f&&e.splice(v,0,EM())}return{duration:i,delay:c,easing:u}}(n,e,t)}function Id(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function kM(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function S0(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function PM(n,e,t){return t?e+":"+t+";":""}function OM(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=PM(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=PM(0,kK(t),n.style[t]));n.setAttribute("style",e)}function Wa(n,e,t){n.style&&(e.forEach((r,i)=>{const c=bC(i);t&&!t.has(i)&&t.set(i,n.style[c]),n.style[c]=r}),hC()&&OM(n))}function Hl(n,e){n.style&&(e.forEach((t,r)=>{const i=bC(r);n.style[i]=""}),hC()&&OM(n))}function Sd(n){return Array.isArray(n)?1==n.length?n[0]:aE(n):n}const wC=new RegExp("{{\\s*(.+?)\\s*}}","g");function VM(n){let e=[];if("string"==typeof n){let t;for(;t=wC.exec(n);)e.push(t[1]);wC.lastIndex=0}return e}function Ad(n,e,t){const r=n.toString(),i=r.replace(wC,(c,u)=>{let f=e[u];return null==f&&(t.push(function WZ(n){return new g.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Fm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const zK=/-+([a-z0-9])/g;function bC(n){return n.replace(zK,(...e)=>e[1].toUpperCase())}function kK(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ss(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ZZ(n){return new g.vHH(3004,!1)}()}}function HM(n,e){return window.getComputedStyle(n)[e]}function FK(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function UK(n,e,t){if(":"==n[0]){const v=function BK(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function cK(n){return new g.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function aK(n){return new g.vHH(3015,!1)}()),e;const i=r[1],c=r[2],u=r[3];e.push(FM(i,u));"<"==c[0]&&!("*"==i&&"*"==u)&&e.push(FM(u,i))}(r,t,e)):t.push(n),t}const $m=new Set(["true","1"]),Gm=new Set(["false","0"]);function FM(n,e){const t=$m.has(n)||Gm.has(n),r=$m.has(e)||Gm.has(e);return(i,c)=>{let u="*"==n||n==i,f="*"==e||e==c;return!u&&t&&"boolean"==typeof i&&(u=i?$m.has(n):Gm.has(n)),!f&&r&&"boolean"==typeof c&&(f=c?$m.has(e):Gm.has(e)),u&&f}}const jK=new RegExp("s*:selfs*,?","g");function EC(n,e,t,r){return new $K(n).build(e,t,r)}class $K{constructor(e){this._driver=e}build(e,t,r){const i=new WK(t);return this._resetContextStyleTimingState(i),Ss(this,Sd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const c=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function QZ(){return new g.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const v=f,w=v.name;w.toString().split(/\s*,\s*/).forEach(S=>{v.name=S,c.push(this.visitState(v,t))}),v.name=w}else if(1==f.type){const v=this.visitTransition(f,t);r+=v.queryCount,i+=v.depCount,u.push(v)}else t.errors.push(function YZ(){return new g.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,u=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(v=>{VM(v).forEach(w=>{u.hasOwnProperty(w)||c.add(w)})})}),c.size&&(Fm(c.values()),t.errors.push(function JZ(n,e){return new g.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ss(this,Sd(e.animation),t);return{type:1,matchers:FK(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Fl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ss(this,r,t)),options:Fl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const c=e.steps.map(u=>{t.currentTime=r;const f=Ss(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:c,options:Fl(e.options)}}visitAnimate(e,t){const r=function KK(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MC(Hm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=MC(0,0,"");return c.dynamic=!0,c.strValue=t,c}const i=Hm(t,e);return MC(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,c=e.styles?e.styles:qa({});if(5==c.type)i=this.visitKeyframes(c,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};r.easing&&(w.easing=r.easing),u=qa(w)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(u,t);v.isEmptyStep=f,i=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===T4?r.push(f):t.errors.push(new g.vHH(3002,!1)):r.push(kM(f));let c=!1,u=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!c))for(let v of f.values())if(v.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,v)=>{const w=t.collectedStyles.get(t.currentQuerySelector),S=w.get(v);let T=!0;S&&(c!=i&&c>=S.startTime&&i<=S.endTime&&(t.errors.push(function eK(n,e,t,r,i){return new g.vHH(3010,!1)}()),T=!1),c=S.startTime),T&&w.set(v,{startTime:c,endTime:i}),t.options&&function LK(n,e,t){const r=e.params||{},i=VM(n);i.length&&i.forEach(c=>{r.hasOwnProperty(c)||t.push(function qZ(n){return new g.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function tK(){return new g.vHH(3011,!1)}()),r;let c=0;const u=[];let f=!1,v=!1,w=0;const S=e.steps.map(ze=>{const Ke=this._makeStyleAst(ze,t);let nt=null!=Ke.offset?Ke.offset:function ZK(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ke.styles),Ye=0;return null!=nt&&(c++,Ye=Ke.offset=nt),v=v||Ye<0||Ye>1,f=f||Ye<w,w=Ye,u.push(Ye),Ke});v&&t.errors.push(function nK(){return new g.vHH(3012,!1)}()),f&&t.errors.push(function rK(){return new g.vHH(3200,!1)}());const T=e.steps.length;let P=0;c>0&&c<T?t.errors.push(function iK(){return new g.vHH(3202,!1)}()):0==c&&(P=1/(T-1));const H=T-1,$=t.currentTime,ne=t.currentAnimateTimings,me=ne.duration;return S.forEach((ze,Ke)=>{const nt=P>0?Ke==H?1:P*Ke:u[Ke],Ye=nt*me;t.currentTime=$+ne.delay+Ye,ne.duration=Ye,this._validateStyleAst(ze,t),ze.offset=nt,r.styles.push(ze)}),r}visitReference(e,t){return{type:8,animation:Ss(this,Sd(e.animation),t),options:Fl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Fl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Fl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[c,u]=function GK(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(jK,"")),n=n.replace(/@\*/g,Vm).replace(/@\w+/g,t=>Vm+"-"+t.slice(1)).replace(/:animating/g,_C),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,Is(t.collectedStyles,t.currentQuerySelector,new Map);const f=Ss(this,Sd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Fl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function sK(){return new g.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Hm(e.timings,t.errors,!0);return{type:12,animation:Ss(this,Sd(e.animation),t),timings:r,options:null}}}class WK{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fl(n){return n?(n=Id(n)).params&&(n.params=function qK(n){return n?Id(n):null}(n.params)):n={},n}function MC(n,e,t){return{duration:n,delay:e,easing:t}}function IC(n,e,t,r,i,c,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:c,totalTime:i+c,easing:u,subTimeline:f}}class qm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const JK=new RegExp(":enter","g"),eQ=new RegExp(":leave","g");function SC(n,e,t,r,i,c=new Map,u=new Map,f,v,w=[]){return(new tQ).buildKeyframes(n,e,t,r,i,c,u,f,v,w)}class tQ{buildKeyframes(e,t,r,i,c,u,f,v,w,S=[]){w=w||new qm;const T=new AC(e,t,w,i,c,S,[]);T.options=v;const P=v.delay?R4(v.delay):0;T.currentTimeline.delayNextStep(P),T.currentTimeline.setStyles([u],null,T.errors,v),Ss(this,r,T);const H=T.timelines.filter($=>$.containsAnimation());if(H.length&&f.size){let $;for(let ne=H.length-1;ne>=0;ne--){const me=H[ne];if(me.element===t){$=me;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,T.errors,v)}return H.length?H.map($=>$.buildKeyframes()):[IC(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),c=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);c!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const c=i?.delay;if(c){const u="number"==typeof c?c:R4(Ad(c,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const u=null!=r.duration?R4(r.duration):null,f=null!=r.delay?R4(r.delay):null;return 0!==u&&e.forEach(v=>{const w=t.appendInstructionToTimeline(v,u,f);c=Math.max(c,w.duration+w.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Ss(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const c=e.options;if(c&&(c.params||c.delay)&&(i=t.createSubContext(c),i.transformIntoNewTimeline(),null!=c.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wm);const u=R4(c.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ss(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?R4(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);c&&f.delayNextStep(c),Ss(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Hm(t.params?Ad(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,c=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(v=>{f.forwardTime((v.offset||0)*c),f.setStyles(v.styles,v.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},c=i.delay?R4(i.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wm);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let v=null;f.forEach((w,S)=>{t.currentQueryIndex=S;const T=t.createSubContext(e.options,w);c&&T.delayNextStep(c),w===t.element&&(v=T.currentTimeline),Ss(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,c=e.timings,u=Math.abs(c.duration),f=u*(t.currentQueryTotal-1);let v=u*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=f-v;break;case"full":v=r.currentStaggerTime}const S=t.currentTimeline;v&&S.delayNextStep(v);const T=S.currentTime;Ss(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const Wm={};class AC{constructor(e,t,r,i,c,u,f,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=c,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Zm(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=R4(r.duration)),null!=r.delay&&(i.delay=R4(r.delay));const c=r.params;if(c){let u=i.params;u||(u=this.options.params={}),Object.keys(c).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Ad(c[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,c=new AC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Wm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},c=new nQ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(c),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,c,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(JK,"."+this._enterClassName)).replace(eQ,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!c&&0==f.length&&u.push(function oK(n){return new g.vHH(3014,!1)}()),f}}class Zm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Zm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||T4),this._currentKeyframe.set(t,T4);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const c=i&&i.params||{},u=function rQ(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let c of r)t.set(c,T4)}else S0(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,v]of u){const w=Ad(v,c,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??T4),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,v)=>{const w=S0(f,new Map,this._backFill);w.forEach((S,T)=>{"!"===S?e.add(T):S===T4&&t.add(T)}),r||w.set("offset",v/this.duration),i.push(w)});const c=e.size?Fm(e.values()):[],u=t.size?Fm(t.values()):[];if(r){const f=i[0],v=new Map(f);f.set("offset",0),v.set("offset",1),i=[f,v]}return IC(this.element,i,c,u,this.duration,this.startTime,this.easing,!1)}}class nQ extends Zm{constructor(e,t,r,i,c,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],u=r+t,f=t/u,v=S0(e[0]);v.set("offset",0),c.push(v);const w=S0(e[0]);w.set("offset",jM(f)),c.push(w);const S=e.length-1;for(let T=1;T<=S;T++){let P=S0(e[T]);const H=P.get("offset");P.set("offset",jM((t+H*r)/u)),c.push(P)}r=u,t=0,i="",e=c}return IC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function jM(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class DC{}const iQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sQ extends DC{normalizePropertyName(e,t){return bC(e)}normalizeStyleValue(e,t,r,i){let c="";const u=r.toString().trim();if(iQ.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function KZ(n,e){return new g.vHH(3005,!1)}())}return u+c}}function $M(n,e,t,r,i,c,u,f,v,w,S,T,P){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:c,toState:r,toStyles:u,timelines:f,queriedElements:v,preStyleProps:w,postStyleProps:S,totalTime:T,errors:P}}const TC={};class GM{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function oQ(n,e,t,r,i){return n.some(c=>c(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,c,u,f,v,w,S){const T=[],P=this.ast.options&&this.ast.options.params||TC,$=this.buildStyles(r,f&&f.params||TC,T),ne=v&&v.params||TC,me=this.buildStyles(i,ne,T),ze=new Set,Ke=new Map,nt=new Map,Ye="void"===i,bt={params:aQ(ne,P),delay:this.ast.options?.delay},_t=S?[]:SC(e,t,this.ast.animation,c,u,$,me,bt,w,T);let tn=0;if(_t.forEach(b2=>{tn=Math.max(b2.duration+b2.delay,tn)}),T.length)return $M(t,this._triggerName,r,i,Ye,$,me,[],[],Ke,nt,tn,T);_t.forEach(b2=>{const ji=b2.element,cI=Is(Ke,ji,new Set);b2.preStyleProps.forEach(Ul=>cI.add(Ul));const xd=Is(nt,ji,new Set);b2.postStyleProps.forEach(Ul=>xd.add(Ul)),ji!==t&&ze.add(ji)});const P1=Fm(ze.values());return $M(t,this._triggerName,r,i,Ye,$,me,_t,P1,Ke,nt,tn)}}function aQ(n,e){const t=Id(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class cQ{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Id(this.defaultParams);return Object.keys(e).forEach(c=>{const u=e[c];null!==u&&(i[c]=u)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,f)=>{u&&(u=Ad(u,i,t));const v=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,v,u,t),r.set(v,u)})}),r}}class uQ{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new cQ(i.style,i.options&&i.options.params||{},r))}),qM(this.states,"true","1"),qM(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new GM(e,i,this.states))}),this.fallbackTransition=function hQ(n,e,t){return new GM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function qM(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const fQ=new qm;class dQ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],c=EC(this._driver,t,r,[]);if(r.length)throw function dK(n){return new g.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,r){const i=e.element,c=MM(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],c=this._animations.get(e);let u;const f=new Map;if(c?(u=SC(this._driver,t,c,yC,Pm,new Map,new Map,r,fQ,i),u.forEach(S=>{const T=Is(f,S.element,new Map);S.postStyleProps.forEach(P=>T.set(P,null))})):(i.push(function pK(){return new g.vHH(3300,!1)}()),u=[]),i.length)throw function mK(n){return new g.vHH(3504,!1)}();f.forEach((S,T)=>{S.forEach((P,H)=>{S.set(H,this._driver.computeStyle(T,H,T4))})});const w=I0(u.map(S=>{const T=f.get(S.element);return this._buildPlayer(S,new Map,T)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function gK(n){return new g.vHH(3301,!1)}();return t}listen(e,t,r,i){const c=pC(t,"","","");return fC(this._getPlayer(e),r,c,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const WM="ng-animate-queued",xC="ng-animate-disabled",yQ=[],ZM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_Q={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class NC{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function EQ(n){return n??null}(r?e.value:e),r){const c=Id(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Dd="void",LC=new NC(Dd);class CQ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function vK(n,e){return new g.vHH(3302,!1)}();if(null==r||0==r.length)throw function yK(n){return new g.vHH(3303,!1)}();if(!function MQ(n){return"start"==n||"done"==n}(r))throw function _K(n,e){return new g.vHH(3400,!1)}();const c=Is(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};c.push(u);const f=Is(this._engine.statesByElement,e,new Map);return f.has(t)||(fo(e,Om),fo(e,Om+"-"+t),f.set(t,LC)),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(u);v>=0&&c.splice(v,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function CK(n){return new g.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const c=this._getTrigger(t),u=new zC(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(fo(e,Om),fo(e,Om+"-"+t),this._engine.statesByElement.set(e,f=new Map));let v=f.get(t);const w=new NC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&w.absorbOptions(v.options),f.set(t,w),v||(v=LC),w.value!==Dd&&v.value===w.value){if(!function AQ(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const c=t[i];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(v.params,w.params)){const ne=[],me=c.matchStyles(v.value,v.params,ne),ze=c.matchStyles(w.value,w.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Hl(e,me),Wa(e,ze)})}return}const P=Is(this._engine.playersByElement,e,[]);P.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let H=c.matchTransition(v.value,w.value,e,w.params),$=!1;if(!H){if(!i)return;H=c.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:v,toState:w,player:u,isFallbackTransition:$}),$||(fo(e,WM),u.onStart(()=>{f5(e,WM)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const me=this._engine.playersByElement.get(e);if(me){let ze=me.indexOf(u);ze>=0&&me.splice(ze,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Vm,!0);r.forEach(i=>{if(i[ho])return;const c=this._engine.fetchNamespacesByElement(i);c.size?c.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const c=this._engine.statesByElement.get(e),u=new Map;if(c){const f=[];if(c.forEach((v,w)=>{if(u.set(w,v.value),this._triggers.has(w)){const S=this.trigger(e,w,Dd,i);S&&f.push(S)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&I0(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(c=>{const u=c.name;if(i.has(u))return;i.add(u);const v=this._triggers.get(u).fallbackTransition,w=r.get(u)||LC,S=new NC(Dd),T=new zC(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:v,fromState:w,toState:S,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[ho];(!c||c===ZM)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const c=r.element,u=this._elementListeners.get(c);u&&u.forEach(f=>{if(f.name==r.triggerName){const v=pC(c,r.triggerName,r.fromState.value,r.toState.value);v._data=e,fC(r.player,f.phase,v,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const c=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==c||0==u?c-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class wQ{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,c)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new CQ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const v=i.get(f);if(v){const w=r.indexOf(v);r.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const c=this._fetchNamespace(i.namespaceId);c&&t.add(c)}return t}trigger(e,t,r,i){if(Km(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Km(t))return;const c=t[ho];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fo(e,xC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),f5(e,xC))}removeNode(e,t,r,i){if(Km(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,c){this.collectedLeaveElements.push(t),t[ho]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,i,c){return Km(t)?this._fetchNamespace(e).listen(t,r,i,c):()=>{}}_buildInstruction(e,t,r,i,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,Vm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_C,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return I0(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ho];if(t&&t.setForRemoval){if(e[ho]=ZM,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(xC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?I0(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function wK(n){return new g.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new qm,i=[],c=new Map,u=[],f=new Map,v=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(vt=>{S.add(vt);const At=this.driver.query(vt,".ng-animate-queued",!0);for(let kt=0;kt<At.length;kt++)S.add(At[kt])});const T=this.bodyNode,P=Array.from(this.statesByElement.keys()),H=YM(P,this.collectedEnterElements),$=new Map;let ne=0;H.forEach((vt,At)=>{const kt=yC+ne++;$.set(At,kt),vt.forEach(wn=>fo(wn,kt))});const me=[],ze=new Set,Ke=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const At=this.collectedLeaveElements[vt],kt=At[ho];kt&&kt.setForRemoval&&(me.push(At),ze.add(At),kt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(wn=>ze.add(wn)):Ke.add(At))}const nt=new Map,Ye=YM(P,Array.from(ze));Ye.forEach((vt,At)=>{const kt=Pm+ne++;nt.set(At,kt),vt.forEach(wn=>fo(wn,kt))}),e.push(()=>{H.forEach((vt,At)=>{const kt=$.get(At);vt.forEach(wn=>f5(wn,kt))}),Ye.forEach((vt,At)=>{const kt=nt.get(At);vt.forEach(wn=>f5(wn,kt))}),me.forEach(vt=>{this.processLeaveNode(vt)})});const bt=[],_t=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(kt=>{const wn=kt.player,w1=kt.element;if(bt.push(wn),this.collectedEnterElements.length){const Y1=w1[ho];if(Y1&&Y1.setForMove){if(Y1.previousTriggersValues&&Y1.previousTriggersValues.has(kt.triggerName)){const Bl=Y1.previousTriggersValues.get(kt.triggerName),po=this.statesByElement.get(kt.element);if(po&&po.has(kt.triggerName)){const Jm=po.get(kt.triggerName);Jm.value=Bl,po.set(kt.triggerName,Jm)}}return void wn.destroy()}}const Za=!T||!this.driver.containsElement(T,w1),As=nt.get(w1),A0=$.get(w1),Cr=this._buildInstruction(kt,r,A0,As,Za);if(Cr.errors&&Cr.errors.length)return void _t.push(Cr);if(Za)return wn.onStart(()=>Hl(w1,Cr.fromStyles)),wn.onDestroy(()=>Wa(w1,Cr.toStyles)),void i.push(wn);if(kt.isFallbackTransition)return wn.onStart(()=>Hl(w1,Cr.fromStyles)),wn.onDestroy(()=>Wa(w1,Cr.toStyles)),void i.push(wn);const hI=[];Cr.timelines.forEach(Y1=>{Y1.stretchStartingKeyframe=!0,this.disabledNodes.has(Y1.element)||hI.push(Y1)}),Cr.timelines=hI,r.append(w1,Cr.timelines),u.push({instruction:Cr,player:wn,element:w1}),Cr.queriedElements.forEach(Y1=>Is(f,Y1,[]).push(wn)),Cr.preStyleProps.forEach((Y1,Bl)=>{if(Y1.size){let po=v.get(Bl);po||v.set(Bl,po=new Set),Y1.forEach((Jm,VC)=>po.add(VC))}}),Cr.postStyleProps.forEach((Y1,Bl)=>{let po=w.get(Bl);po||w.set(Bl,po=new Set),Y1.forEach((Jm,VC)=>po.add(VC))})});if(_t.length){const vt=[];_t.forEach(At=>{vt.push(function bK(n,e){return new g.vHH(3505,!1)}())}),bt.forEach(At=>At.destroy()),this.reportError(vt)}const tn=new Map,P1=new Map;u.forEach(vt=>{const At=vt.element;r.has(At)&&(P1.set(At,At),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,tn))}),i.forEach(vt=>{const At=vt.element;this._getPreviousPlayers(At,!1,vt.namespaceId,vt.triggerName,null).forEach(wn=>{Is(tn,At,[]).push(wn),wn.destroy()})});const b2=me.filter(vt=>XM(vt,v,w)),ji=new Map;QM(ji,this.driver,Ke,w,T4).forEach(vt=>{XM(vt,v,w)&&b2.push(vt)});const xd=new Map;H.forEach((vt,At)=>{QM(xd,this.driver,new Set(vt),v,"!")}),b2.forEach(vt=>{const At=ji.get(vt),kt=xd.get(vt);ji.set(vt,new Map([...Array.from(At?.entries()??[]),...Array.from(kt?.entries()??[])]))});const Ul=[],lI=[],uI={};u.forEach(vt=>{const{element:At,player:kt,instruction:wn}=vt;if(r.has(At)){if(S.has(At))return kt.onDestroy(()=>Wa(At,wn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(wn.totalTime),void i.push(kt);let w1=uI;if(P1.size>1){let As=At;const A0=[];for(;As=As.parentNode;){const Cr=P1.get(As);if(Cr){w1=Cr;break}A0.push(As)}A0.forEach(Cr=>P1.set(Cr,w1))}const Za=this._buildAnimation(kt.namespaceId,wn,tn,c,xd,ji);if(kt.setRealPlayer(Za),w1===uI)Ul.push(kt);else{const As=this.playersByElement.get(w1);As&&As.length&&(kt.parentPlayer=I0(As)),i.push(kt)}}else Hl(At,wn.fromStyles),kt.onDestroy(()=>Wa(At,wn.toStyles)),lI.push(kt),S.has(At)&&i.push(kt)}),lI.forEach(vt=>{const At=c.get(vt.element);if(At&&At.length){const kt=I0(At);vt.setRealPlayer(kt)}}),i.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<me.length;vt++){const At=me[vt],kt=At[ho];if(f5(At,Pm),kt&&kt.hasAnimation)continue;let wn=[];if(f.size){let Za=f.get(At);Za&&Za.length&&wn.push(...Za);let As=this.driver.query(At,_C,!0);for(let A0=0;A0<As.length;A0++){let Cr=f.get(As[A0]);Cr&&Cr.length&&wn.push(...Cr)}}const w1=wn.filter(Za=>!Za.destroyed);w1.length?IQ(this,At,w1):this.processLeaveNode(At)}return me.length=0,Ul.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const At=this.players.indexOf(vt);this.players.splice(At,1)}),vt.play()}),Ul}elementContainsData(e,t){let r=!1;const i=t[ho];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,c){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const v=!c||c==Dd;f.forEach(w=>{w.queued||!v&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const c=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const w=v.element,S=w!==c,T=Is(r,w,[]);this._getPreviousPlayers(w,S,u,f,t.toState).forEach(H=>{const $=H.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),H.destroy(),T.push(H)})}Hl(c,t.fromStyles)}_buildAnimation(e,t,r,i,c,u){const f=t.triggerName,v=t.element,w=[],S=new Set,T=new Set,P=t.timelines.map($=>{const ne=$.element;S.add(ne);const me=ne[ho];if(me&&me.removedBeforeQueried)return new gd($.duration,$.delay);const ze=ne!==v,Ke=function SQ(n){const e=[];return JM(n,e),e}((r.get(ne)||yQ).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===ne),nt=c.get(ne),Ye=u.get(ne),bt=MM(0,this._normalizer,0,$.keyframes,nt,Ye),_t=this._buildPlayer($,bt,Ke);if($.subTimeline&&i&&T.add(ne),ze){const tn=new zC(e,f,ne);tn.setRealPlayer(_t),w.push(tn)}return _t});w.forEach($=>{Is(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function bQ(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>fo($,zM));const H=I0(P);return H.onDestroy(()=>{S.forEach($=>f5($,zM)),Wa(v,t.toStyles)}),T.forEach($=>{Is(i,$,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new gd(e.duration,e.delay)}}class zC{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new gd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>fC(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Is(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Km(n){return n&&1===n.nodeType}function KM(n,e){const t=n.style.display;return n.style.display=e??"none",t}function QM(n,e,t,r,i){const c=[];t.forEach(v=>c.push(KM(v)));const u=[];r.forEach((v,w)=>{const S=new Map;v.forEach(T=>{const P=e.computeStyle(w,T,i);S.set(T,P),(!P||0==P.length)&&(w[ho]=_Q,u.push(w))}),n.set(w,S)});let f=0;return t.forEach(v=>KM(v,c[f++])),u}function YM(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),c=new Map;function u(f){if(!f)return 1;let v=c.get(f);if(v)return v;const w=f.parentNode;return v=t.has(w)?w:i.has(w)?1:u(w),c.set(f,v),v}return e.forEach(f=>{const v=u(f);1!==v&&t.get(v).push(f)}),t}function fo(n,e){n.classList?.add(e)}function f5(n,e){n.classList?.remove(e)}function IQ(n,e,t){I0(t).onDone(()=>n.processLeaveNode(e))}function JM(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof uE?JM(r.players,e):e.push(r)}}function XM(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(c=>i.add(c)):e.set(n,r),t.delete(n),!0}class Qm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,c)=>{},this._transitionEngine=new wQ(e,t,r),this._timelineEngine=new dQ(e,t,r),this._transitionEngine.onRemovalComplete=(i,c)=>this.onRemovalComplete(i,c)}registerTrigger(e,t,r,i,c){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const v=[],S=EC(this._driver,c,v,[]);if(v.length)throw function hK(n,e){return new g.vHH(3404,!1)}();f=function lQ(n,e,t){return new uQ(n,e,t)}(i,S,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[c,u]=IM(r);this._timelineEngine.command(c,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,c){if("@"==r.charAt(0)){const[u,f]=IM(r);return this._timelineEngine.listen(u,t,f,c)}return this._transitionEngine.listen(e,t,r,i,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TQ=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Wa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wa(this._element,this._initialStyles),this._endStyles&&(Wa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),Wa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kC(n){let e=null;return n.forEach((t,r)=>{(function xQ(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class eI{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:HM(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NQ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return TM(e,t)}getParentElement(e){return gC(e)}query(e,t,r){return xM(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,c,u=[]){const v={duration:r,delay:i,fill:0==i?"both":"forwards"};c&&(v.easing=c);const w=new Map,S=u.filter(H=>H instanceof eI);(function RK(n,e){return 0===n||0===e})(r,i)&&S.forEach(H=>{H.currentSnapshot.forEach(($,ne)=>w.set(ne,$))});let T=function NK(n){return n.length?n[0]instanceof Map?n:n.map(e=>kM(e)):[]}(t).map(H=>S0(H));T=function PK(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((c,u)=>{r.has(u)||i.push(u),r.set(u,c)}),i.length)for(let c=1;c<e.length;c++){let u=e[c];i.forEach(f=>u.set(f,HM(n,f)))}}return e}(e,T,w);const P=function DQ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=kC(e[0]),e.length>1&&(r=kC(e[e.length-1]))):e instanceof Map&&(t=kC(e)),t||r?new TQ(n,t,r):null}(e,T);return new eI(e,T,v,P)}}let LQ=(()=>{class n extends sE{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?aE(t):t;return tI(this._renderer,null,r,"register",[i]),new zQ(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.FYo),g.LFG(le))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class zQ extends class YA{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new kQ(this._id,e,t||{},this._renderer)}}class kQ{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tI(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tI(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nI="@.disabled";let RQ=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,u)=>{const f=u?.parentNode(c);f&&u.removeChild(f,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(c);return S||(S=new rI("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,S)),S}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const v=S=>{Array.isArray(S)?S.forEach(v):this.engine.registerTrigger(u,f,t,S.name,S)};return r.data.animation.forEach(v),new PQ(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[u,f]=c;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.FYo),g.LFG(Qm),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class rI{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nI?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class PQ extends rI{constructor(e,t,r,i,c){super(t,r,i,c),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nI?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function OQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),u="";return"@"!=c.charAt(0)&&([c,u]=function VQ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,i,c,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let HQ=(()=>{class n extends Qm{constructor(t,r,i,c){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(le),g.LFG(vC),g.LFG(DC),g.LFG(g.z2F))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const iI=[{provide:sE,useClass:LQ},{provide:DC,useFactory:function FQ(){return new sQ}},{provide:Qm,useClass:HQ},{provide:g.FYo,useFactory:function UQ(n,e,t){return new RQ(n,e,t)},deps:[ns,Qm,g.R0b]}],RC=[{provide:vC,useFactory:()=>new NQ},{provide:g.QbO,useValue:"BrowserAnimations"},...iI],sI=[{provide:vC,useClass:NM},{provide:g.QbO,useValue:"NoopAnimations"},...iI];let BQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?sI:RC}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:RC,imports:[K2]}),n})();const oI_firebase={projectId:"tubular-cccbd",appId:"1:990028114373:web:bf29b487880603fb1543ac",databaseURL:"https://tubular-cccbd-default-rtdb.firebaseio.com",storageBucket:"tubular-cccbd.appspot.com",apiKey:"AIzaSyA6F-mX06HCp46CBVOpZ07oSlFJuKm1FUw",authDomain:"tubular-cccbd.firebaseapp.com",messagingSenderId:"990028114373",measurementId:"G-8WS0Q8EVHW"};var jQ=z(4408);const Td={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Td;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(c=>{t=void 0,n(c)});return new D1.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Td;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Td;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var GQ=z(7565);const WQ=new class qQ extends GQ.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class $Q extends jQ.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Td.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==t&&(Td.cancelAnimationFrame(t),e._scheduled=void 0)}});var ZQ=z(5032);const QQ=["container"],PC=new g.OlP("LottieOptions");let OC=(()=>{class n{constructor(t,r){this.ngZone=t,this.options=r,this.player$=function YQ(n,e){const t=n();return(t instanceof Promise?(0,_n.D)(t).pipe((0,it.U)(i=>i.default||i)):ct(t)).pipe((0,He.b)(i=>i.useWebWorker(e)),s_({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,dd.Q)(WQ))}loadAnimation(t){return this.player$.pipe((0,it.U)(r=>this.createAnimationItem(r,t)))}resolveOptions(t,r){return Object.assign({container:r,renderer:"svg",loop:!0,autoplay:!0},t)}createAnimationItem(t,r){return this.ngZone.runOutsideAngular(()=>t.loadAnimation(r))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.R0b),g.LFG(PC))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JQ=(()=>{class n{constructor(t,r,i){this.ngZone=t,this.platformId=r,this.animationLoader=i,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new xr.x,this.loadAnimation$=new xr.x,this.animationItem$=new Dn(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(t,r){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([t,r]))}getAnimationItem(){return m1(()=>this.animationItem$).pipe(M(t=>null!==t))}awaitAnimationItemAndStartListening(t){return this.getAnimationItem().pipe(Hn(r=>new Nr.y(i=>{this.ngZone.runOutsideAngular(()=>{r.addEventListener(t,c=>{this.ngZone.runOutsideAngular(()=>{i.next(c)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe(M(([r])=>function rc(n){return n===ni}(this.platformId)&&void 0!==r.options)).pipe(Hn(([r,i])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(r.options.currentValue,i)))),function KQ(n){return(0,Mr.e)((e,t)=>{(0,Pi.Xf)(n).subscribe((0,cr.x)(t,()=>t.complete(),ZQ.Z)),!t.closed&&e.subscribe(t)})}(this.destroy$)).subscribe(r=>{this.ngZone.run(()=>this.animationItem$.next(r))})}destroyAnimation(){const t=this.animationItem$.getValue();null!==t&&(t.destroy(),this.animationItem$.next(null))}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.R0b),g.Y36(g.Lbi),g.Y36(OC))},n.\u0275dir=g.lG2({type:n,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),n})(),aI=(()=>{class n extends JQ{constructor(t,r,i){super(t,r,i),this.width=null,this.height=null,this.container=null}ngOnChanges(t){super.loadAnimation(t,this.container.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.R0b),g.Y36(g.Lbi),g.Y36(OC))},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-lottie"]],viewQuery:function(t,r){if(1&t&&g.Gf(QQ,7),2&t){let i;g.iGM(i=g.CRH())&&(r.container=i.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[g.qOj,g.TTD,g.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(t,r){1&t&&g._UZ(0,"div",0,1),2&t&&(g.Udp("width",r.width||"100%")("height",r.height||"100%"),g.Q6J("ngStyle",r.styles)("ngClass",r.containerClass))},dependencies:[xs,un,O4],encapsulation:2,changeDetection:0}),n})(),XQ=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:PC,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[aI]}),n})(),tY=(()=>{class n{constructor(){this.options={path:""},this.animationCreated=new g.vpe}onAnimate(t){console.log(t),this.animationCreated.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-animation"]],inputs:{options:"options"},outputs:{animationCreated:"animationCreated"},decls:2,vars:1,consts:[[1,"lottie-animation","mt-10"],[3,"options","animationCreated"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"ng-lottie",1),g.NdJ("animationCreated",function(c){return r.onAnimate(c)})("animationCreated",function(c){return r.onAnimate(c)}),g.qZA()()),2&t&&(g.xp6(1),g.Q6J("options",r.options))},dependencies:[aI],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:relative}"]}),n})(),nY=(()=>{class n{constructor(){this.homePageAnimation={path:"/assets/lottie/hero-on-its-way.json"}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-home-page"]],decls:7,vars:1,consts:[[1,"home-page-section"],[1,"home-page-section-title"],[3,"options"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h1"),g._uU(3,"An app to make adulting easier"),g.qZA(),g.TgZ(4,"h1"),g._uU(5,"So you can be a kid again"),g.qZA()(),g._UZ(6,"app-animation",2),g.qZA()),2&t&&(g.xp6(6),g.Q6J("options",r.homePageAnimation))},dependencies:[tY],styles:[".home-page-section-title[_ngcontent-%COMP%]{margin:auto;width:90%}"]}),n})();function rY(){return z.e(487).then(z.t.bind(z,4487,23))}const iY=[{path:"",component:nY}];let sY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[DZ]}),n.\u0275inj=g.cJS({providers:[hE],imports:[K2,o7,Lu.forRoot(iY),EZ,jZ,BQ,Hi.hO.initializeApp(oI_firebase),qA,XQ.forRoot({player:rY})]}),n})();(0,g.G48)(),Z2().bootstrapModule(sY).catch(n=>console.error(n))},9751:(ft,Ae,z)=>{z.d(Ae,{y:()=>fe});var g=z(930),X=z(727),k=z(8822),ae=z(9635),oe=z(2416),he=z(576),le=z(2806);let fe=(()=>{class K{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const be=new K;return be.source=this,be.operator=Ne,be}subscribe(Ne,be,ot){const ve=function j(K){return K&&K instanceof g.Lv||function U(K){return K&&(0,he.m)(K.next)&&(0,he.m)(K.error)&&(0,he.m)(K.complete)}(K)&&(0,X.Nn)(K)}(Ne)?Ne:new g.Hp(Ne,be,ot);return(0,le.x)(()=>{const{operator:pe,source:et}=this;ve.add(pe?pe.call(ve,et):et?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(be){Ne.error(be)}}forEach(Ne,be){return new(be=de(be))((ot,ve)=>{const pe=new g.Hp({next:et=>{try{Ne(et)}catch(lt){ve(lt),pe.unsubscribe()}},error:ve,complete:ot});this.subscribe(pe)})}_subscribe(Ne){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Ne)}[k.L](){return this}pipe(...Ne){return(0,ae.U)(Ne)(this)}toPromise(Ne){return new(Ne=de(Ne))((be,ot)=>{let ve;this.subscribe(pe=>ve=pe,pe=>ot(pe),()=>be(ve))})}}return K.create=Oe=>new K(Oe),K})();function de(K){var Oe;return null!==(Oe=K??oe.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(ft,Ae,z)=>{z.d(Ae,{x:()=>le});var g=z(9751),X=z(727);const ae=(0,z(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=z(8737),he=z(2806);let le=(()=>{class de extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new fe(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:Oe,observers:Ne}=this;return K||Oe?X.Lc:(this.currentObservers=null,Ne.push(j),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(Ne,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:Oe,isStopped:Ne}=this;K?j.error(Oe):Ne&&j.complete()}asObservable(){const j=new g.y;return j.source=this,j}}return de.create=(U,j)=>new fe(U,j),de})();class fe extends le{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,U)}error(U){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==K?K:X.Lc}}},930:(ft,Ae,z)=>{z.d(Ae,{Hp:()=>ot,Lv:()=>K});var g=z(576),X=z(727),k=z(2416),ae=z(7849),oe=z(5032);const he=de("C",void 0,void 0);function de(Te,Ce,Ee){return{kind:Te,value:Ce,error:Ee}}var U=z(3410),j=z(2806);class K extends X.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,X.Nn)(Ce)&&Ce.add(this)):this.destination=lt}static create(Ce,Ee,Ue){return new ot(Ce,Ee,Ue)}next(Ce){this.isStopped?et(function fe(Te){return de("N",Te,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?et(function le(Te){return de("E",void 0,Te)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?et(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Ne(Te,Ce){return Oe.call(Te,Ce)}class be{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ce)}catch(Ue){ve(Ue)}}error(Ce){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ce)}catch(Ue){ve(Ue)}else ve(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ee){ve(Ee)}}}class ot extends K{constructor(Ce,Ee,Ue){let Be;if(super(),(0,g.m)(Ce)||!Ce)Be={next:Ce??void 0,error:Ee??void 0,complete:Ue??void 0};else{let F;this&&k.v.useDeprecatedNextContext?(F=Object.create(Ce),F.unsubscribe=()=>this.unsubscribe(),Be={next:Ce.next&&Ne(Ce.next,F),error:Ce.error&&Ne(Ce.error,F),complete:Ce.complete&&Ne(Ce.complete,F)}):Be=Ce}this.destination=new be(Be)}}function ve(Te){k.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Te):(0,ae.h)(Te)}function et(Te,Ce){const{onStoppedNotification:Ee}=k.v;Ee&&U.z.setTimeout(()=>Ee(Te,Ce))}const lt={closed:!0,next:oe.Z,error:function pe(Te){throw Te},complete:oe.Z}},727:(ft,Ae,z)=>{z.d(Ae,{Lc:()=>he,w0:()=>oe,Nn:()=>le});var g=z(576);const k=(0,z(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,Oe)=>`${Oe+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=z(8737);class oe{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ne of j)Ne.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,g.m)(K))try{K()}catch(Ne){U=Ne instanceof k?Ne.errors:[Ne]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Ne of Oe)try{fe(Ne)}catch(be){U=U??[],be instanceof k?U=[...U,...be.errors]:U.push(be)}}if(U)throw new k(U)}}add(U){var j;if(U&&U!==this)if(this.closed)fe(U);else{if(U instanceof oe){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,ae.P)(j,U),U instanceof oe&&U._removeParent(this)}}oe.EMPTY=(()=>{const de=new oe;return de.closed=!0,de})();const he=oe.EMPTY;function le(de){return de instanceof oe||de&&"closed"in de&&(0,g.m)(de.remove)&&(0,g.m)(de.add)&&(0,g.m)(de.unsubscribe)}function fe(de){(0,g.m)(de)?de():de.unsubscribe()}},2416:(ft,Ae,z)=>{z.d(Ae,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Ae,z)=>{z.d(Ae,{E:()=>X});const X=new(z(9751).y)(oe=>oe.complete())},8996:(ft,Ae,z)=>{z.d(Ae,{D:()=>Ce});var g=z(8421),X=z(5363),k=z(9468),he=z(9751),fe=z(2202),de=z(576),U=z(9672);function K(Ee,Ue){if(!Ee)throw new Error("Iterable cannot be null");return new he.y(Be=>{(0,U.f)(Be,Ue,()=>{const F=Ee[Symbol.asyncIterator]();(0,U.f)(Be,Ue,()=>{F.next().then(ge=>{ge.done?Be.complete():Be.next(ge.value)})},0,!0)})})}var Oe=z(3670),Ne=z(8239),be=z(1144),ot=z(6495),ve=z(2206),pe=z(4532),et=z(3260);function Ce(Ee,Ue){return Ue?function Te(Ee,Ue){if(null!=Ee){if((0,Oe.c)(Ee))return function ae(Ee,Ue){return(0,g.Xf)(Ee).pipe((0,k.R)(Ue),(0,X.Q)(Ue))}(Ee,Ue);if((0,be.z)(Ee))return function le(Ee,Ue){return new he.y(Be=>{let F=0;return Ue.schedule(function(){F===Ee.length?Be.complete():(Be.next(Ee[F++]),Be.closed||this.schedule())})})}(Ee,Ue);if((0,Ne.t)(Ee))return function oe(Ee,Ue){return(0,g.Xf)(Ee).pipe((0,k.R)(Ue),(0,X.Q)(Ue))}(Ee,Ue);if((0,ve.D)(Ee))return K(Ee,Ue);if((0,ot.T)(Ee))return function j(Ee,Ue){return new he.y(Be=>{let F;return(0,U.f)(Be,Ue,()=>{F=Ee[fe.h](),(0,U.f)(Be,Ue,()=>{let ge,W;try{({value:ge,done:W}=F.next())}catch(J){return void Be.error(J)}W?Be.complete():Be.next(ge)},0,!0)}),()=>(0,de.m)(F?.return)&&F.return()})}(Ee,Ue);if((0,et.L)(Ee))return function lt(Ee,Ue){return K((0,et.Q)(Ee),Ue)}(Ee,Ue)}throw(0,pe.z)(Ee)}(Ee,Ue):(0,g.Xf)(Ee)}},8421:(ft,Ae,z)=>{z.d(Ae,{Xf:()=>Oe});var g=z(655),X=z(1144),k=z(8239),ae=z(9751),oe=z(3670),he=z(2206),le=z(4532),fe=z(6495),de=z(3260),U=z(576),j=z(7849),K=z(8822);function Oe(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,oe.c)(Te))return function Ne(Te){return new ae.y(Ce=>{const Ee=Te[K.L]();if((0,U.m)(Ee.subscribe))return Ee.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,X.z)(Te))return function be(Te){return new ae.y(Ce=>{for(let Ee=0;Ee<Te.length&&!Ce.closed;Ee++)Ce.next(Te[Ee]);Ce.complete()})}(Te);if((0,k.t)(Te))return function ot(Te){return new ae.y(Ce=>{Te.then(Ee=>{Ce.closed||(Ce.next(Ee),Ce.complete())},Ee=>Ce.error(Ee)).then(null,j.h)})}(Te);if((0,he.D)(Te))return pe(Te);if((0,fe.T)(Te))return function ve(Te){return new ae.y(Ce=>{for(const Ee of Te)if(Ce.next(Ee),Ce.closed)return;Ce.complete()})}(Te);if((0,de.L)(Te))return function et(Te){return pe((0,de.Q)(Te))}(Te)}throw(0,le.z)(Te)}function pe(Te){return new ae.y(Ce=>{(function lt(Te,Ce){var Ee,Ue,Be,F;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,g.KL)(Te);!(Ue=yield Ee.next()).done;)if(Ce.next(Ue.value),Ce.closed)return}catch(ge){Be={error:ge}}finally{try{Ue&&!Ue.done&&(F=Ee.return)&&(yield F.call(Ee))}finally{if(Be)throw Be.error}}Ce.complete()})})(Te,Ce).catch(Ee=>Ce.error(Ee))})}},6451:(ft,Ae,z)=>{z.d(Ae,{T:()=>he});var g=z(8189),X=z(8421),k=z(515),ae=z(7669),oe=z(8996);function he(...le){const fe=(0,ae.yG)(le),de=(0,ae._6)(le,1/0),U=le;return U.length?1===U.length?(0,X.Xf)(U[0]):(0,g.J)(de)((0,oe.D)(U,fe)):k.E}},5403:(ft,Ae,z)=>{z.d(Ae,{x:()=>X});var g=z(930);function X(ae,oe,he,le,fe){return new k(ae,oe,he,le,fe)}class k extends g.Lv{constructor(oe,he,le,fe,de,U){super(oe),this.onFinalize=de,this.shouldUnsubscribe=U,this._next=he?function(j){try{he(j)}catch(K){oe.error(K)}}:super._next,this._error=fe?function(j){try{fe(j)}catch(K){oe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(ft,Ae,z)=>{z.d(Ae,{U:()=>k});var g=z(4482),X=z(5403);function k(ae,oe){return(0,g.e)((he,le)=>{let fe=0;he.subscribe((0,X.x)(le,de=>{le.next(ae.call(oe,de,fe++))}))})}},8189:(ft,Ae,z)=>{z.d(Ae,{J:()=>k});var g=z(5577),X=z(4671);function k(ae=1/0){return(0,g.z)(X.y,ae)}},5577:(ft,Ae,z)=>{z.d(Ae,{z:()=>fe});var g=z(4004),X=z(8421),k=z(4482),ae=z(9672),oe=z(5403),le=z(576);function fe(de,U,j=1/0){return(0,le.m)(U)?fe((K,Oe)=>(0,g.U)((Ne,be)=>U(K,Ne,Oe,be))((0,X.Xf)(de(K,Oe))),j):("number"==typeof U&&(j=U),(0,k.e)((K,Oe)=>function he(de,U,j,K,Oe,Ne,be,ot){const ve=[];let pe=0,et=0,lt=!1;const Te=()=>{lt&&!ve.length&&!pe&&U.complete()},Ce=Ue=>pe<K?Ee(Ue):ve.push(Ue),Ee=Ue=>{Ne&&U.next(Ue),pe++;let Be=!1;(0,X.Xf)(j(Ue,et++)).subscribe((0,oe.x)(U,F=>{Oe?.(F),Ne?Ce(F):U.next(F)},()=>{Be=!0},void 0,()=>{if(Be)try{for(pe--;ve.length&&pe<K;){const F=ve.shift();be?(0,ae.f)(U,be,()=>Ee(F)):Ee(F)}Te()}catch(F){U.error(F)}}))};return de.subscribe((0,oe.x)(U,Ce,()=>{lt=!0,Te()})),()=>{ot?.()}}(K,Oe,de,j)))}},5363:(ft,Ae,z)=>{z.d(Ae,{Q:()=>ae});var g=z(9672),X=z(4482),k=z(5403);function ae(oe,he=0){return(0,X.e)((le,fe)=>{le.subscribe((0,k.x)(fe,de=>(0,g.f)(fe,oe,()=>fe.next(de),he),()=>(0,g.f)(fe,oe,()=>fe.complete(),he),de=>(0,g.f)(fe,oe,()=>fe.error(de),he)))})}},3099:(ft,Ae,z)=>{z.d(Ae,{B:()=>oe});var g=z(8421),X=z(7579),k=z(930),ae=z(4482);function oe(le={}){const{connector:fe=(()=>new X.x),resetOnError:de=!0,resetOnComplete:U=!0,resetOnRefCountZero:j=!0}=le;return K=>{let Oe,Ne,be,ot=0,ve=!1,pe=!1;const et=()=>{Ne?.unsubscribe(),Ne=void 0},lt=()=>{et(),Oe=be=void 0,ve=pe=!1},Te=()=>{const Ce=Oe;lt(),Ce?.unsubscribe()};return(0,ae.e)((Ce,Ee)=>{ot++,!pe&&!ve&&et();const Ue=be=be??fe();Ee.add(()=>{ot--,0===ot&&!pe&&!ve&&(Ne=he(Te,j))}),Ue.subscribe(Ee),!Oe&&ot>0&&(Oe=new k.Hp({next:Be=>Ue.next(Be),error:Be=>{pe=!0,et(),Ne=he(lt,de,Be),Ue.error(Be)},complete:()=>{ve=!0,et(),Ne=he(lt,U),Ue.complete()}}),(0,g.Xf)(Ce).subscribe(Oe))})(K)}}function he(le,fe,...de){if(!0===fe)return void le();if(!1===fe)return;const U=new k.Hp({next:()=>{U.unsubscribe(),le()}});return fe(...de).subscribe(U)}},9468:(ft,Ae,z)=>{z.d(Ae,{R:()=>X});var g=z(4482);function X(k,ae=0){return(0,g.e)((oe,he)=>{he.add(k.schedule(()=>oe.subscribe(he),ae))})}},8505:(ft,Ae,z)=>{z.d(Ae,{b:()=>oe});var g=z(576),X=z(4482),k=z(5403),ae=z(4671);function oe(he,le,fe){const de=(0,g.m)(he)||le||fe?{next:he,error:le,complete:fe}:he;return de?(0,X.e)((U,j)=>{var K;null===(K=de.subscribe)||void 0===K||K.call(de);let Oe=!0;U.subscribe((0,k.x)(j,Ne=>{var be;null===(be=de.next)||void 0===be||be.call(de,Ne),j.next(Ne)},()=>{var Ne;Oe=!1,null===(Ne=de.complete)||void 0===Ne||Ne.call(de),j.complete()},Ne=>{var be;Oe=!1,null===(be=de.error)||void 0===be||be.call(de,Ne),j.error(Ne)},()=>{var Ne,be;Oe&&(null===(Ne=de.unsubscribe)||void 0===Ne||Ne.call(de)),null===(be=de.finalize)||void 0===be||be.call(de)}))}):ae.y}},4408:(ft,Ae,z)=>{z.d(Ae,{o:()=>oe});var g=z(727);class X extends g.w0{constructor(le,fe){super()}schedule(le,fe=0){return this}}const k={setInterval(he,le,...fe){const{delegate:de}=k;return de?.setInterval?de.setInterval(he,le,...fe):setInterval(he,le,...fe)},clearInterval(he){const{delegate:le}=k;return(le?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=z(8737);class oe extends X{constructor(le,fe){super(le,fe),this.scheduler=le,this.work=fe,this.pending=!1}schedule(le,fe=0){var de;if(this.closed)return this;this.state=le;const U=this.id,j=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(j,U,fe)),this.pending=!0,this.delay=fe,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,fe),this}requestAsyncId(le,fe,de=0){return k.setInterval(le.flush.bind(le,this),de)}recycleAsyncId(le,fe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return fe;null!=fe&&k.clearInterval(fe)}execute(le,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(le,fe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,fe){let U,de=!1;try{this.work(le)}catch(j){de=!0,U=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:le,scheduler:fe}=this,{actions:de}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=le&&(this.id=this.recycleAsyncId(fe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Ae,z)=>{z.d(Ae,{v:()=>k});var g=z(6063);class X{constructor(oe,he=X.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,le){return new this.schedulerActionCtor(this,oe).schedule(le,he)}}X.now=g.l.now;class k extends X{constructor(oe,he=X.now){super(oe,he),this.actions=[],this._active=!1}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let le;this._active=!0;do{if(le=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,le){for(;oe=he.shift();)oe.unsubscribe();throw le}}}},4986:(ft,Ae,z)=>{z.d(Ae,{z:()=>k});var g=z(4408);const k=new(z(7565).v)(g.o)},6063:(ft,Ae,z)=>{z.d(Ae,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(ft,Ae,z)=>{z.d(Ae,{z:()=>g});const g={setTimeout(X,k,...ae){const{delegate:oe}=g;return oe?.setTimeout?oe.setTimeout(X,k,...ae):setTimeout(X,k,...ae)},clearTimeout(X){const{delegate:k}=g;return(k?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(ft,Ae,z)=>{z.d(Ae,{h:()=>X});const X=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Ae,z)=>{z.d(Ae,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ft,Ae,z)=>{z.d(Ae,{_6:()=>he,jO:()=>ae,yG:()=>oe});var g=z(576);function k(le){return le[le.length-1]}function ae(le){return(0,g.m)(k(le))?le.pop():void 0}function oe(le){return function X(le){return le&&(0,g.m)(le.schedule)}(k(le))?le.pop():void 0}function he(le,fe){return"number"==typeof k(le)?le.pop():fe}},8737:(ft,Ae,z)=>{function g(X,k){if(X){const ae=X.indexOf(k);0<=ae&&X.splice(ae,1)}}z.d(Ae,{P:()=>g})},3888:(ft,Ae,z)=>{function g(X){const ae=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}z.d(Ae,{d:()=>g})},2806:(ft,Ae,z)=>{z.d(Ae,{O:()=>ae,x:()=>k});var g=z(2416);let X=null;function k(oe){if(g.v.useDeprecatedSynchronousErrorHandling){const he=!X;if(he&&(X={errorThrown:!1,error:null}),oe(),he){const{errorThrown:le,error:fe}=X;if(X=null,le)throw fe}}else oe()}function ae(oe){g.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(ft,Ae,z)=>{function g(X,k,ae,oe=0,he=!1){const le=k.schedule(function(){ae(),he?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(le),!he)return le}z.d(Ae,{f:()=>g})},4671:(ft,Ae,z)=>{function g(X){return X}z.d(Ae,{y:()=>g})},1144:(ft,Ae,z)=>{z.d(Ae,{z:()=>g});const g=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(ft,Ae,z)=>{z.d(Ae,{D:()=>X});var g=z(576);function X(k){return Symbol.asyncIterator&&(0,g.m)(k?.[Symbol.asyncIterator])}},576:(ft,Ae,z)=>{function g(X){return"function"==typeof X}z.d(Ae,{m:()=>g})},3670:(ft,Ae,z)=>{z.d(Ae,{c:()=>k});var g=z(8822),X=z(576);function k(ae){return(0,X.m)(ae[g.L])}},6495:(ft,Ae,z)=>{z.d(Ae,{T:()=>k});var g=z(2202),X=z(576);function k(ae){return(0,X.m)(ae?.[g.h])}},8239:(ft,Ae,z)=>{z.d(Ae,{t:()=>X});var g=z(576);function X(k){return(0,g.m)(k?.then)}},3260:(ft,Ae,z)=>{z.d(Ae,{L:()=>ae,Q:()=>k});var g=z(655),X=z(576);function k(oe){return(0,g.FC)(this,arguments,function*(){const le=oe.getReader();try{for(;;){const{value:fe,done:de}=yield(0,g.qq)(le.read());if(de)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(fe)}}finally{le.releaseLock()}})}function ae(oe){return(0,X.m)(oe?.getReader)}},4482:(ft,Ae,z)=>{z.d(Ae,{A:()=>X,e:()=>k});var g=z(576);function X(ae){return(0,g.m)(ae?.lift)}function k(ae){return oe=>{if(X(oe))return oe.lift(function(he){try{return ae(he,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Ae,z)=>{function g(){}z.d(Ae,{Z:()=>g})},9635:(ft,Ae,z)=>{z.d(Ae,{U:()=>k,z:()=>X});var g=z(4671);function X(...ae){return k(ae)}function k(ae){return 0===ae.length?g.y:1===ae.length?ae[0]:function(he){return ae.reduce((le,fe)=>fe(le),he)}}},7849:(ft,Ae,z)=>{z.d(Ae,{h:()=>k});var g=z(2416),X=z(3410);function k(ae){X.z.setTimeout(()=>{const{onUnhandledError:oe}=g.v;if(!oe)throw ae;oe(ae)})}},4532:(ft,Ae,z)=>{function g(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Ae,{z:()=>g})},655:(ft,Ae,z)=>{function ae(W,J){var se={};for(var ie in W)Object.prototype.hasOwnProperty.call(W,ie)&&J.indexOf(ie)<0&&(se[ie]=W[ie]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ie=Object.getOwnPropertySymbols(W);Re<ie.length;Re++)J.indexOf(ie[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,ie[Re])&&(se[ie[Re]]=W[ie[Re]])}return se}function fe(W,J,se,ie){return new(se||(se=Promise))(function(ke,pt){function nn(pn){try{Ze(ie.next(pn))}catch(Sn){pt(Sn)}}function $t(pn){try{Ze(ie.throw(pn))}catch(Sn){pt(Sn)}}function Ze(pn){pn.done?ke(pn.value):function Re(ke){return ke instanceof se?ke:new se(function(pt){pt(ke)})}(pn.value).then(nn,$t)}Ze((ie=ie.apply(W,J||[])).next())})}function ve(W){return this instanceof ve?(this.v=W,this):new ve(W)}function pe(W,J,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ie=se.apply(W,J||[]),ke=[];return Re={},pt("next"),pt("throw"),pt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function pt(Yt){ie[Yt]&&(Re[Yt]=function(rn){return new Promise(function(Fr,Pt){ke.push([Yt,rn,Fr,Pt])>1||nn(Yt,rn)})})}function nn(Yt,rn){try{!function $t(Yt){Yt.value instanceof ve?Promise.resolve(Yt.value.v).then(Ze,pn):Sn(ke[0][2],Yt)}(ie[Yt](rn))}catch(Fr){Sn(ke[0][3],Fr)}}function Ze(Yt){nn("next",Yt)}function pn(Yt){nn("throw",Yt)}function Sn(Yt,rn){Yt(rn),ke.shift(),ke.length&&nn(ke[0][0],ke[0][1])}}function lt(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,J=W[Symbol.asyncIterator];return J?J.call(W):(W=function K(W){var J="function"==typeof Symbol&&Symbol.iterator,se=J&&W[J],ie=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ie>=W.length&&(W=void 0),{value:W&&W[ie++],done:!W}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},ie("next"),ie("throw"),ie("return"),se[Symbol.asyncIterator]=function(){return this},se);function ie(ke){se[ke]=W[ke]&&function(pt){return new Promise(function(nn,$t){!function Re(ke,pt,nn,$t){Promise.resolve($t).then(function(Ze){ke({value:Ze,done:nn})},pt)}(nn,$t,(pt=W[ke](pt)).done,pt.value)})}}}z.d(Ae,{FC:()=>pe,KL:()=>lt,_T:()=>ae,mG:()=>fe,qq:()=>ve})},4650:(ft,Ae,z)=>{z.d(Ae,{$8M:()=>J2,$Z:()=>ms,AFp:()=>xf,AaK:()=>fe,AsE:()=>kh,CRH:()=>k8,CZH:()=>U8,CqO:()=>Ah,D6c:()=>Cy,EJc:()=>Kr,EiD:()=>Hd,F$t:()=>Z7,F4k:()=>W1,FYo:()=>h3,FiY:()=>He,G48:()=>my,Gf:()=>L8,GfV:()=>Jd,Hsn:()=>H3,Ikx:()=>W3,JOm:()=>ui,JVY:()=>r3,L6k:()=>i3,LAX:()=>s3,LFG:()=>Tn,LSH:()=>_6,Lbi:()=>yp,Lck:()=>k9,MMx:()=>Xh,NdJ:()=>c8,OlP:()=>In,PXZ:()=>Dp,Q6J:()=>P3,QGY:()=>V6,QP$:()=>Jt,QbO:()=>_p,Qsj:()=>Cg,R0b:()=>pi,RDi:()=>y,Rgc:()=>o0,SBq:()=>Bc,Sil:()=>Cp,Suo:()=>z8,TTD:()=>ti,TgZ:()=>i4,Udp:()=>Sa,VKq:()=>rf,X6Q:()=>py,XFs:()=>Qe,Xpm:()=>Ie,Xts:()=>Eu,Y36:()=>Xo,YKP:()=>X6,YNc:()=>O6,Yjl:()=>we,Yz7:()=>rn,Z0I:()=>J1,ZZ4:()=>bl,_UZ:()=>s8,_Vd:()=>pa,_c5:()=>qp,_uU:()=>ce,aQg:()=>Ua,c2e:()=>oy,cJS:()=>Pt,cg1:()=>d4,dDg:()=>d0,dqk:()=>ln,eBb:()=>Fc,eFA:()=>K8,eoX:()=>G8,f3M:()=>M,g9A:()=>h0,h0i:()=>y4,hGG:()=>y0,hij:()=>Z1,iGM:()=>Vr,ifc:()=>ht,ip1:()=>Tf,jDz:()=>R9,kL8:()=>f9,lG2:()=>Z,lqb:()=>da,lri:()=>Ip,mCW:()=>eo,oAB:()=>Ut,oJD:()=>P5,oxw:()=>q7,pB0:()=>yu,q3G:()=>Xn,q4F:()=>Xd,qLn:()=>jc,qOj:()=>_h,qZA:()=>V3,qzn:()=>T1,rWj:()=>M4,sBO:()=>vl,sIi:()=>z3,s_b:()=>N8,soG:()=>f0,tb:()=>Nf,tp0:()=>ut,uIk:()=>n8,vHH:()=>be,vpe:()=>bs,wAp:()=>St,xp6:()=>i7,z2F:()=>I4,z3N:()=>ur,zSh:()=>j5,zs3:()=>$c});var g=z(7579),X=z(727),k=z(9751),ae=z(6451),oe=z(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=he({__forward_ref__:he});function j(s){return s.__forward_ref__=j,s.toString=function(){return fe(this())},s}function K(s){return function Oe(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===j}(s)?s():s}class be extends Error{constructor(o,a){super(function ot(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s,o){throw new be(-201,!1)}function $t(s,o){null==s&&function Ze(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Pt(s){return{providers:s.providers||[],imports:s.imports||[]}}function yn(s){return b1(s,E1)||b1(s,u1)}function J1(s){return null!==yn(s)}function b1(s,o){return s.hasOwnProperty(o)?s[o]:null}function $i(s){return s&&(s.hasOwnProperty(l1)||s.hasOwnProperty(mo))?s[l1]:null}const E1=he({\u0275prov:he}),l1=he({\u0275inj:he}),u1=he({ngInjectableDef:he}),mo=he({ngInjectorDef:he});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let Ar;function rr(s){const o=Ar;return Ar=s,o}function h1(s,o,a){const l=yn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Qe.Optional?null:void 0!==o?o:void Ce(fe(s))}function Fn(s){return{toString:s}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),ht=(()=>{return(s=ht||(ht={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ht;var s})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xr={},Nt=[],_i=he({\u0275cmp:he}),sn=he({\u0275dir:he}),V1=he({\u0275pipe:he}),on=he({\u0275mod:he}),ir=he({\u0275fac:he}),Br=he({__NG_ELEMENT_ID__:he});let rt=0;function Ie(s){return Fn(()=>{const a=!0===s.standalone,l={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Nt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ht.Emulated,id:"c"+rt++,styles:s.styles||Nt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return h.inputs=V(s.inputs,l),h.outputs=V(s.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Dt).filter(Lt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(mt).filter(Lt):null,h})}function Dt(s){return Y(s)||Ge(s)}function Lt(s){return null!==s}function Ut(s){return Fn(()=>({type:s.type,bootstrap:s.bootstrap||Nt,declarations:s.declarations||Nt,imports:s.imports||Nt,exports:s.exports||Nt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function V(s,o){if(null==s)return Xr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const Z=Ie;function we(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Y(s){return s[_i]||null}function Ge(s){return s[sn]||null}function mt(s){return s[V1]||null}function Jt(s){const o=Y(s)||Ge(s)||mt(s);return null!==o&&o.standalone}function bn(s,o){const a=s[on]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function pr(s){return Array.isArray(s)&&"object"==typeof s[1]}function jr(s){return Array.isArray(s)&&!0===s[1]}function M2(s){return 0!=(8&s.flags)}function yo(s){return 2==(2&s.flags)}function Ja(s){return 1==(1&s.flags)}function Dr(s){return null!==s.template}function D0(s){return 0!=(256&s[2])}function F1(s,o){return s.hasOwnProperty(ir)?s[ir]:null}class ei{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ti(){return Zi}function Zi(s){return s.type.prototype.ngOnChanges&&(s.setInput=S2),_o}function _o(){const s=x0(this),o=s?.current;if(o){const a=s.previous;if(a===Xr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function S2(s,o,a,l){const h=x0(s)||function xs(s,o){return s[nc]=o}(s,{previous:Xr,current:null}),p=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[a],E=_[b];p[b]=new ei(E&&E.currentValue,o,_===Xr),s[l]=o}ti.ngInherit=!0;const nc="__ngSimpleChanges__";function x0(s){return s[nc]||null}function Rn(s){for(;Array.isArray(s);)s=s[0];return s}function d1(s,o){return Rn(o[s])}function Tr(s,o){return Rn(o[s.index])}function Ki(s,o){return s.data[o]}function Qt(s,o){const a=o[s];return pr(a)?a:a[0]}function Qi(s){return 64==(64&s[2])}function I1(s,o){return null==o?null:s[o]}function N2(s){s[18]=0}function zn(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const Tt={lFrame:mc(null),bindingsEnabled:!0};function ii(){return Tt.bindingsEnabled}function Se(){return Tt.lFrame.lView}function Wt(){return Tt.lFrame.tView}function Pn(){let s=R2();for(;null!==s&&64===s.type;)s=s.parent;return s}function R2(){return Tt.lFrame.currentTNode}function p1(s,o){const a=Tt.lFrame;a.currentTNode=s,a.isParent=o}function wo(){return Tt.lFrame.isParent}function bo(){Tt.lFrame.isParent=!1}function Yi(){return Tt.lFrame.bindingIndex++}function si(s){const o=Tt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Kl(s,o){const a=Tt.lFrame;a.bindingIndex=a.bindingRootIndex=s,P2(o)}function P2(s){Tt.lFrame.currentDirectiveIndex=s}function fc(){return Tt.lFrame.currentQueryIndex}function So(s){Tt.lFrame.currentQueryIndex=s}function dc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function O2(s,o,a){if(a&Qe.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&Qe.Host||(h=dc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const l=Tt.lFrame=pc();return l.currentTNode=o,l.lView=s,!0}function V2(s){const o=pc(),a=s[1];Tt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function pc(){const s=Tt.lFrame,o=null===s?null:s.child;return null===o?mc(s):o}function mc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function gc(){const s=Tt.lFrame;return Tt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const G4=gc;function Ji(){const s=gc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ar(){return Tt.lFrame.selectedIndex}function n1(s){Tt.lFrame.selectedIndex=s}function Mn(){const s=Tt.lFrame;return Ki(s.tView,s.selectedIndex)}function U2(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:N}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function es(s,o,a){ks(s,o,3,a)}function zs(s,o,a,l){(3&s[2])===a&&ks(s,o,a,l)}function Z4(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function ks(s,o,a,l){const p=l??-1,_=o.length-1;let b=0;for(let E=void 0!==l?65535&s[18]:0;E<_;E++)if("number"==typeof o[E+1]){if(b=o[E],null!=l&&b>=l)break}else o[E]<0&&(s[18]+=65536),(b<p||-1==p)&&(K4(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function K4(s,o,a,l){const h=a[l]<0,p=a[l+1],b=s[h?-a[l]:a[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Ai{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Rs(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],_=a[l++],b=a[l++];s.setAttribute(o,_,b,p)}else{const p=h,_=a[++l];G2(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),l++}}return l}function rs(s){return 3===s||4===s||6===s}function G2(s){return 64===s.charCodeAt(0)}function Ao(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Y4(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function Y4(s,o,a,l,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function J4(s){return-1!==s}function mr(s){return 32767&s}function To(s,o){let a=function Do(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let B1=!0;function xo(s){const o=B1;return B1=s,o}let Un=0;const S1={};function is(s,o){const a=W2(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Lo(l.data,s),Lo(o,null),Lo(l.blueprint,null));const h=Z2(s,o),p=s.injectorIndex;if(J4(h)){const _=mr(h),b=To(h,o),E=b[1].data;for(let A=0;A<8;A++)o[p+A]=b[_+A]|E[_+A]}return o[p+8]=h,p}function Lo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function W2(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Z2(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Vs(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Di(s,o,a){!function q2(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Br)&&(l=a[Br]),null==l&&(l=a[Br]=Un++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ti(s,o,a){if(a&Qe.Optional||void 0!==s)return s;Ce()}function K2(s,o,a,l){if(a&Qe.Optional&&void 0===l&&(l=null),0==(a&(Qe.Self|Qe.Host))){const h=s[9],p=rr(void 0);try{return h?h.get(o,l,a&Qe.Optional):h1(o,l,a&Qe.Optional)}finally{rr(p)}}return Ti(l,0,a)}function ss(s,o,a,l=Qe.Default,h){if(null!==s){if(1024&o[2]){const _=function Os(s,o,a,l,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=zo(p,_,a,l|Qe.Self,S1);if(b!==S1)return b;let E=p.parent;if(!E){const A=_[21];if(A){const N=A.get(a,S1,l);if(N!==S1)return N}E=Vs(_),_=_[15]}p=E}return h}(s,o,a,l,S1);if(_!==S1)return _}const p=zo(s,o,a,l,S1);if(p!==S1)return p}return K2(o,a,l,h)}function zo(s,o,a,l,h){const p=function Cc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Br)?s[Br]:void 0;return"number"==typeof o?o>=0?255&o:wc:o}(a);if("function"==typeof p){if(!O2(o,s,l))return l&Qe.Host?Ti(h,0,l):K2(o,a,l,h);try{const _=p(l);if(null!=_||l&Qe.Optional)return _;Ce()}finally{G4()}}else if("number"==typeof p){let _=null,b=W2(s,o),E=-1,A=l&Qe.Host?o[16][6]:null;for((-1===b||l&Qe.SkipSelf)&&(E=-1===b?Z2(s,o):o[b+8],-1!==E&&ko(l,!1)?(_=o[1],b=mr(E),o=To(E,o)):b=-1);-1!==b;){const N=o[1];if(Q2(p,b,N.data)){const R=t6(b,o,a,_,l,A);if(R!==S1)return R}E=o[b+8],-1!==E&&ko(l,o[1].data[b+8]===A)&&Q2(p,b,o)?(_=N,b=mr(E),o=To(E,o)):b=-1}}return h}function t6(s,o,a,l,h,p){const _=o[1],b=_.data[s+8],N=Ps(b,_,a,null==l?yo(b)&&B1:l!=_&&0!=(3&b.type),h&Qe.Host&&p===b);return null!==N?oi(o,_,N,b):S1}function Ps(s,o,a,l,h){const p=s.providerIndexes,_=o.data,b=1048575&p,E=s.directiveStart,N=p>>20,G=h?b+N:s.directiveEnd;for(let ee=l?b:b+N;ee<G;ee++){const ye=_[ee];if(ee<E&&a===ye||ee>=E&&ye.type===a)return ee}if(h){const ee=_[E];if(ee&&Dr(ee)&&ee.type===a)return E}return null}function oi(s,o,a,l){let h=s[a];const p=o.data;if(function ts(s){return s instanceof Ai}(h)){const _=h;_.resolving&&function et(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new be(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(p[a]));const b=xo(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?rr(_.injectImpl):null;O2(s,l,Qe.Default);try{h=s[a]=_.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function W4(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=Zi(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&rr(E),xo(b),_.resolving=!1,G4()}}return h}function Q2(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function ko(s,o){return!(s&Qe.Self||s&Qe.Host&&o)}class os{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return ss(this._tNode,this._lView,o,l,a)}}function wc(){return new os(Pn(),Se())}function Vs(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function J2(s){return function e6(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(rs(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Pn(),s)}const Ni="__parameters__";function Us(s,o,a){return Fn(()=>{const l=function X2(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return b.annotation=_,b;function b(E,A,N){const R=E.hasOwnProperty(Ni)?E[Ni]:Object.defineProperty(E,Ni,{value:[]})[Ni];for(;R.length<=N;)R.push(null);return(R[N]=R[N]||[]).push(_),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class In{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=rn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Dn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Dn(l,o)):o!==s&&o.push(l)}return o}function A1(s,o){s.forEach(a=>Array.isArray(a)?A1(a,o):o(a))}function Oo(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Nr(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Li(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function it(s,o,a){let l=ki(s,o);return l>=0?s[1|l]=a:(l=~l,function bc(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function Vo(s,o){const a=ki(s,o);if(a>=0)return s[1|a]}function ki(s,o){return function Ho(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const p=l+(h-l>>1),_=s[p<<a];if(o===_)return p<<a;_>o?h=p:l=p+1}return~(h<<a)}(s,o,1)}const m1={},Ic="__NG_DI_FLAG__",$s="ngTempTokenPath",ai=/\n/gm,Mr="__source";let Oi;function ci(s){const o=Oi;return Oi=s,o}function Hn(s,o=Qe.Default){if(void 0===Oi)throw new be(-203,!1);return null===Oi?h1(s,void 0,o):Oi.get(s,o&Qe.Optional?null:void 0,o)}function Tn(s,o=Qe.Default){return(function yi(){return Ar}()||Hn)(K(s),o)}function M(s,o=Qe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Tn(s,o)}function I(s){const o=[];for(let a=0;a<s.length;a++){const l=K(s[a]);if(Array.isArray(l)){if(0===l.length)throw new be(900,!1);let h,p=Qe.Default;for(let _=0;_<l.length;_++){const b=l[_],E=O(b);"number"==typeof E?-1===E?h=b.token:p|=E:h=b}o.push(Tn(h,p))}else o.push(Tn(l))}return o}function x(s,o){return s[Ic]=o,s.prototype[Ic]=o,s}function O(s){return s[Ic]}const He=x(Us("Optional"),8),ut=x(Us("SkipSelf"),4);var ui=(()=>((ui=ui||{})[ui.Important=1]="Important",ui[ui.DashCase=2]="DashCase",ui))();const Nc=new Map;let $0=0;const cs="__ngContext__";function Ir(s,o){pr(o)?(s[cs]=o[20],function M5(s){Nc.set(s[20],s)}(o)):s[cs]=o}function c6(s,o){return undefined(s,o)}function $o(s){const o=s[3];return jr(o)?o[3]:o}function Go(s){return hu(s[13])}function ls(s){return hu(s[4])}function hu(s){for(;null!==s&&!jr(s);)s=s[4];return s}function us(s,o,a,l,h){if(null!=l){let p,_=!1;jr(l)?p=l:pr(l)&&(_=!0,l=l[0]);const b=Rn(l);0===s&&null!==a?null==h?gu(o,a,b):fs(o,a,b,h||null,!0):1===s&&null!==a?fs(o,a,b,h||null,!0):2===s?function v6(s,o,a){const l=Gr(s,o);l&&function Q0(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,b,_):3===s&&o.destroyNode(b),null!=p&&function J0(s,o,a,l,h){const p=a[7];p!==Rn(a)&&us(o,s,l,p,h);for(let b=10;b<a.length;b++){const E=a[b];Ks(E[1],E,s,o,l,p)}}(o,s,p,a,h)}}function ua(s,o,a){return s.createElement(o,a)}function W0(s,o){const a=s[9],l=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,zn(h,-1)),a.splice(l,1)}function Z0(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const h=l[17];null!==h&&h!==s&&W0(h,l),o>0&&(s[a-1][4]=l[4]);const p=Nr(s,10+o);!function qo(s,o){Ks(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function pu(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Ks(s,o,a,3,null,null),function N5(s){let o=s[13];if(!o)return K0(s[1],s);for(;o;){let a=null;if(pr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)pr(o)&&K0(o[1],o),o=o[3];null===o&&(o=s),pr(o)&&K0(o[1],o),a=o&&o[4]}o=a}}(o)}}function K0(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function mu(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Ai)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const b=h[p[_]],E=p[_+1];try{E.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function z5(s,o){const a=s.cleanup,l=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],b="function"==typeof _?_(o):Rn(o[_]),E=l[h=a[p+2]],A=a[p+3];"boolean"==typeof A?b.removeEventListener(a[p],E,A):A>=0?l[h=A]():l[h=-A].unsubscribe(),p+=2}else{const _=l[h=a[p+1]];a[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&jr(o[3])){a!==o[3]&&W0(a,o);const l=o[19];null!==l&&l.detachView(s)}!function i6(s){Nc.delete(s[20])}(o)}}function h6(s,o,a){return function f6(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===ht.None||h===ht.Emulated)return null}return Tr(l,a)}(s,o.parent,a)}function fs(s,o,a,l,h){s.insertBefore(o,a,l,h)}function gu(s,o,a){s.appendChild(o,a)}function kc(s,o,a,l,h){null!==l?fs(s,o,a,l,h):gu(s,o,a)}function Gr(s,o){return s.parentNode(o)}function Y0(s,o,a){return d6(s,o,a)}let ha,n3,m,d6=function Rc(s,o,a){return 40&s.type?Tr(s,a):null};function m6(s,o,a,l){const h=h6(s,l,o),p=o[11],b=Y0(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)kc(p,h,a[E],b,!1);else kc(p,h,a,b,!1)}function v1(s,o){if(null!==o){const a=o.type;if(3&a)return Tr(o,s);if(4&a)return Pc(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return v1(s,l);{const h=s[o.index];return jr(h)?Pc(-1,h):Rn(h)}}if(32&a)return c6(o,s)()||Rn(s[o.index]);{const l=g6(s,o);return null!==l?Array.isArray(l)?l[0]:v1($o(s[16]),l):v1(s,o.next)}}return null}function g6(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Pc(s,o){const a=10+s+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return v1(l,h)}return o[7]}function Oc(s,o,a,l,h,p,_){for(;null!=a;){const b=l[a.index],E=a.type;if(_&&0===o&&(b&&Ir(Rn(b),l),a.flags|=4),64!=(64&a.flags))if(8&E)Oc(s,o,a.child,l,h,p,!1),us(o,s,h,b,p);else if(32&E){const A=c6(a,l);let N;for(;N=A();)us(o,s,h,N,p);us(o,s,h,b,p)}else 16&E?Qs(s,o,l,a,h,p):us(o,s,h,b,p);a=_?a.projectionNext:a.next}}function Ks(s,o,a,l,h,p){Oc(a,l,s.firstChild,o,h,p,!1)}function Qs(s,o,a,l,h,p){const _=a[16],E=_[6].projection[l.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)us(o,s,h,E[A],p);else Oc(s,o,E,_[3],h,p,!0)}function G1(s,o,a){s.setAttribute(o,"style",a)}function Ys(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Js(s){return function Vc(){if(void 0===ha&&(ha=null,ln.trustedTypes))try{ha=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ha}()?.createHTML(s)||s}function y(s){n3=s}function D(s){return function C(){if(void 0===m&&(m=null,ln.trustedTypes))try{m=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return m}()?.createHTML(s)||s}class ue{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fe extends ue{getTypeName(){return"HTML"}}class Xe extends ue{getTypeName(){return"Style"}}class It extends ue{getTypeName(){return"Script"}}class yt extends ue{getTypeName(){return"URL"}}class mn extends ue{getTypeName(){return"ResourceURL"}}function ur(s){return s instanceof ue?s.changingThisBreaksApplicationSecurity:s}function T1(s,o){const a=function vu(s){return s instanceof ue&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function r3(s){return new Fe(s)}function i3(s){return new Xe(s)}function Fc(s){return new It(s)}function s3(s){return new yt(s)}function yu(s){return new mn(s)}class Zo{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Js(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class _u{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Js(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Js(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Ko=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function eo(s){return(s=String(s)).match(Ko)?s:"unsafe:"+s}function Qo(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function o3(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const kd=Qo("area,br,col,hr,img,wbr"),Rd=Qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pd=Qo("rp,rt"),a3=o3(kd,o3(Rd,Qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),o3(Pd,Qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),o3(Pd,Rd)),y6=Qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Od=o3(y6,Qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xm=Qo("script,style,template");class eg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!a3.hasOwnProperty(a))return this.sanitizedSomething=!0,!Xm.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),_=p.name,b=_.toLowerCase();if(!Od.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let E=p.value;y6[b]&&(E=eo(E)),this.buf.push(" ",_,'="',Vd(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();a3.hasOwnProperty(a)&&!kd.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Vd(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const tg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ng=/([^\#-~ |!])/g;function Vd(s){return s.replace(/&/g,"&amp;").replace(tg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ng,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cu;function Hd(s,o){let a=null;try{Cu=Cu||function Xs(s){const o=new _u(s);return function R5(){try{return!!(new window.DOMParser).parseFromString(Js(""),"text/html")}catch{return!1}}()?new Zo(o):o}(s);let l=o?String(o):"";a=Cu.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=Cu.getInertBodyElement(l)}while(l!==p);return Js((new eg).sanitizeChildren(wu(a)||a))}finally{if(a){const l=wu(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function wu(s){return"content"in s&&function rg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function P5(s){const o=fa();return o?D(o.sanitize(Xn.HTML,s)||""):T1(s,"HTML")?D(ur(s)):Hd(function d(){return void 0!==n3?n3:typeof document<"u"?document:void 0}(),ve(s))}function _6(s){const o=fa();return o?o.sanitize(Xn.URL,s)||"":T1(s,"URL")?ur(s):eo(ve(s))}function fa(){const s=Se();return s&&s[12]}const Eu=new In("ENVIRONMENT_INITIALIZER"),C6=new In("INJECTOR",-1),H5=new In("INJECTOR_DEF_TYPES");class Bd{get(o,a=m1){if(a===m1){const l=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw l.name="NullInjectorError",l}return a}}function cg(...s){return{\u0275providers:jd(0,s)}}function jd(s,...o){const a=[],l=new Set;let h;return A1(o,p=>{const _=p;F5(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&$d(h,a),a}function $d(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];A1(h,p=>{o.push(p)})}}function F5(s,o,a,l){if(!(s=K(s)))return!1;let h=null,p=$i(s);const _=!p&&Y(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const E=s.ngModule;if(p=$i(E),!p)return!1;h=E}const b=l.has(h);if(_){if(b)return!1;if(l.add(h),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of E)F5(A,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let A;l.add(h);try{A1(p.imports,N=>{F5(N,o,a,l)&&(A||(A=[]),A.push(N))})}finally{}void 0!==A&&$d(A,o)}if(!b){const A=F1(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:Nt},{provide:H5,useValue:h,multi:!0},{provide:Eu,useValue:()=>Tn(h),multi:!0})}const E=p.providers;null==E||b||A1(E,N=>{o.push(N)})}}return h!==s&&void 0!==s.providers}const lg=he({provide:String,useValue:he});function B5(s){return null!==s&&"object"==typeof s&&lg in s}function Uc(s){return"function"==typeof s}const j5=new In("Set Injector scope."),l3={},hg={};let Mu;function u3(){return void 0===Mu&&(Mu=new Bd),Mu}class da{}class $5 extends da{constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Su(o,_=>this.processProvider(_)),this.records.set(C6,w6(void 0,this)),h.has("environment")&&this.records.set(da,w6(void 0,this));const p=this.records.get(j5);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(H5.multi,Nt,Qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=ci(this),l=rr(void 0);try{return o()}finally{ci(a),rr(l)}}get(o,a=m1,l=Qe.Default){this.assertNotDestroyed();const h=ci(this),p=rr(void 0);try{if(!(l&Qe.SkipSelf)){let b=this.records.get(o);if(void 0===b){const E=function Zd(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(o)&&yn(o);b=E&&this.injectableDefInScope(E)?w6(Iu(o),l3):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&Qe.Self?u3():this.parent).get(o,a=l&Qe.Optional&&a===m1?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[$s]=_[$s]||[]).unshift(fe(o)),h)throw _;return function Q(s,o,a,l){const h=s[$s];throw o[Mr]&&h.unshift(o[Mr]),s.message=function te(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];p.push(_+":"+("string"==typeof b?JSON.stringify(b):fe(b)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(ai,"\n  ")}`}("\n"+s.message,h,a,l),s.ngTokenPath=h,s[$s]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{rr(p),ci(h)}}resolveInjectorInitializers(){const o=ci(this),a=rr(void 0);try{const l=this.get(Eu.multi,Nt,Qe.Self);for(const h of l)h()}finally{ci(o),rr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(fe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(o){let a=Uc(o=K(o))?o:K(o&&o.provide);const l=function dg(s){return B5(s)?w6(void 0,s.useValue):w6(function Wd(s,o,a){let l;if(Uc(s)){const h=K(s);return F1(h)||Iu(h)}if(B5(s))l=()=>K(s.useValue);else if(function qd(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...I(s.deps||[]));else if(function Gd(s){return!(!s||!s.useExisting)}(s))l=()=>Tn(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function pg(s){return!!s.deps}(s))return F1(h)||Iu(h);l=()=>new h(...I(s.deps))}return l}(s),l3)}(o);if(Uc(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=w6(void 0,l3,!0),h.factory=()=>I(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===l3&&(a.value=hg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function mg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=K(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Iu(s){const o=yn(s),a=null!==o?o.factory:F1(s);if(null!==a)return a;if(s instanceof In)throw new be(204,!1);if(s instanceof Function)return function fg(s){const o=s.length;if(o>0)throw Li(o,"?"),new be(204,!1);const a=function Ur(s){const o=s&&(s[E1]||s[u1]);if(o){const a=function Jr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new be(204,!1)}function w6(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function G5(s){return!!s.\u0275providers}function Su(s,o){for(const a of s)Array.isArray(a)?Su(a,o):G5(a)?Su(a.\u0275providers,o):o(a)}class gg{}class yg{resolveComponentFactory(o){throw function vg(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let pa=(()=>{class s{}return s.NULL=new yg,s})();function Yd(){return ma(Pn(),Se())}function ma(s,o){return new Bc(Tr(s,o))}let Bc=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Yd,s})();function _g(s){return s instanceof Bc?s.nativeElement:s}class h3{}let Cg=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function wg(){const s=Se(),a=Qt(Pn().index,s);return(pr(a)?a:s)[11]}(),s})(),bg=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class Jd{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Xd=new Jd("14.2.12"),Au={};function Du(s){return s.ngOriginalError}class jc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Du(o);for(;a&&Du(a);)a=Du(a);return a||null}}function to(s){return s instanceof Function?s():s}function W5(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Nu="ng-template";function Tg(s,o,a){let l=0;for(;l<s.length;){let h=s[l++];if(a&&"class"===h){if(h=s[l],-1!==W5(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function t7(s){return 4===s.type&&s.value!==Nu}function xg(s,o,a){return o===(4!==s.type||a?s.value:Nu)}function n7(s,o,a){let l=4;const h=s.attrs||[],p=function r7(s){for(let o=0;o<s.length;o++)if(rs(s[o]))return o;return s.length}(h);let _=!1;for(let b=0;b<o.length;b++){const E=o[b];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!xg(s,E,a)||""===E&&1===o.length){if(ps(l))return!1;_=!0}}else{const A=8&l?E:o[++b];if(8&l&&null!==s.attrs){if(!Tg(s.attrs,A,a)){if(ps(l))return!1;_=!0}continue}const R=WC(8&l?"class":E,h,t7(s),a);if(-1===R){if(ps(l))return!1;_=!0;continue}if(""!==A){let G;G=R>p?"":h[R+1].toLowerCase();const ee=8&l?G:null;if(ee&&-1!==W5(ee,A,0)||2&l&&A!==G){if(ps(l))return!1;_=!0}}}}else{if(!_&&!ps(l)&&!ps(E))return!1;if(_&&ps(E))continue;_=!1,l=E|1&l}}return ps(l)||_}function ps(s){return 0==(1&s)}function WC(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Ng(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function d3(s,o,a=!1){for(let l=0;l<o.length;l++)if(n7(s,o[l],a))return!0;return!1}function Lg(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let h=0;h<s.length;h++)if(s[h]!==l[h])continue e;return!0}}return!1}function Lu(s,o){return s?":not("+o.trim()+")":o}function zg(s){let o=s[0],a=1,l=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const b=s[++a];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!ps(_)&&(o+=Lu(p,h),h=""),l=_,p=p||!ps(l);a++}return""!==h&&(o+=Lu(p,h)),o}const Vt={};function i7(s){Z5(Wt(),Se(),ar()+s,!1)}function Z5(s,o,a,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&es(o,p,a)}else{const p=s.preOrderHooks;null!==p&&zs(o,p,0,a)}n1(a)}function Hi(s,o=null,a=null,l){const h=Hg(s,o,a,l);return h.resolveInjectorInitializers(),h}function Hg(s,o=null,a=null,l,h=new Set){const p=[a||Nt,cg(s)];return l=l||("object"==typeof s?void 0:fe(s)),new $5(p,o||u3(),l||null,h)}let $c=(()=>{class s{static create(a,l){if(Array.isArray(a))return Hi({name:""},l,a,"");{const h=a.name??"";return Hi({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=m1,s.NULL=new Bd,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>Tn(C6)}),s.__NG_ELEMENT_ID__=-1,s})();function Xo(s,o=Qe.Default){const a=Se();return null===a?Tn(s,o):ss(Pn(),a,K(s),o)}function ms(){throw new Error("invalid")}function Vu(s,o){return s<<17|o<<2}function gs(s){return s>>17&32767}function m3(s){return 2|s}function no(s){return(131068&s)>>2}function Y5(s,o){return-131069&s|o<<2}function I6(s){return 1|s}function ih(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const _=s.data[p];So(h),_.contentQueries(2,o[p],p)}}}function S6(s,o,a,l,h,p,_,b,E,A,N){const R=o.blueprint.slice();return R[0]=h,R[2]=76|l,(null!==N||s&&1024&s[2])&&(R[2]|=1024),N2(R),R[3]=R[15]=s,R[8]=a,R[10]=_||s&&s[10],R[11]=b||s&&s[11],R[12]=E||s&&s[12]||null,R[9]=A||s&&s[9]||null,R[6]=p,R[20]=function E5(){return $0++}(),R[21]=N,R[16]=2==o.type?s[16]:R,R}function qc(s,o,a,l,h){let p=s.data[o];if(null===p)p=function oh(s,o,a,l,h){const p=R2(),_=wo(),E=s.data[o]=function nv(s,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,a,l,h),function Zl(){return Tt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function Ls(){const s=Tt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return p1(p,!0),p}function e2(s,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function M3(s,o,a){V2(o);try{const l=s.viewQuery;null!==l&&vh(1,l,a);const h=s.template;null!==h&&ah(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ih(s,o),s.staticViewQueries&&vh(2,s.viewQuery,a);const p=s.components;null!==p&&function ev(s,o){for(let a=0;a<o.length;a++)T7(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Ji()}}function A6(s,o,a,l){const h=o[2];if(128!=(128&h)){V2(o);try{N2(o),function uc(s){return Tt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&ah(s,o,a,2,l);const _=3==(3&h);if(_){const A=s.preOrderCheckHooks;null!==A&&es(o,A,null)}else{const A=s.preOrderHooks;null!==A&&zs(o,A,0,null),Z4(o,0)}if(function D7(s){for(let o=Go(s);null!==o;o=ls(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(512&h[2])&&zn(p,1),h[2]|=512}}}(o),function A7(s){for(let o=Go(s);null!==o;o=ls(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];Qi(l)&&A6(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&ih(s,o),_){const A=s.contentCheckHooks;null!==A&&es(o,A)}else{const A=s.contentHooks;null!==A&&zs(o,A,1),Z4(o,1)}!function Xg(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)n1(~h);else{const p=h,_=a[++l],b=a[++l];Kl(_,p),b(2,o[p])}}}finally{n1(-1)}}(s,o);const b=s.components;null!==b&&function sh(s,o){for(let a=0;a<o.length;a++)iv(s,o[a])}(o,b);const E=s.viewQuery;if(null!==E&&vh(2,E,l),_){const A=s.viewCheckHooks;null!==A&&es(o,A)}else{const A=s.viewHooks;null!==A&&zs(o,A,2),Z4(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,zn(o[3],-1))}finally{Ji()}}}function ah(s,o,a,l,h){const p=ar(),_=2&l;try{n1(-1),_&&o.length>22&&Z5(s,o,22,!1),a(l,h)}finally{n1(p)}}function Wc(s,o,a){!ii()||(function M7(s,o,a,l){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||is(a,o),Ir(l,o);const _=a.initialInputs;for(let b=h;b<p;b++){const E=s.data[b],A=Dr(E);A&&A3(o,a,E);const N=oi(o,s,b,a);Ir(N,o),null!==_&&mh(0,b-h,N,E,0,_),A&&(Qt(a.index,o)[8]=N)}}(s,o,a,Tr(a,o)),128==(128&a.flags)&&function uh(s,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,_=function hc(){return Tt.lFrame.currentDirectiveIndex}();try{n1(p);for(let b=l;b<h;b++){const E=s.data[b],A=o[b];P2(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&hh(E,A)}}finally{n1(-1),P2(_)}}(s,o,a))}function $u(s,o,a=Tr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],b=-1===_?a(o,s):s[_];s[h++]=b}}}function ch(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Gu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Gu(s,o,a,l,h,p,_,b,E,A){const N=22+l,R=N+h,G=function qu(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Vt);return a}(N,R),ee="function"==typeof A?A():A;return G[1]={type:s,blueprint:G,template:a,queries:null,viewQuery:b,declTNode:o,data:G.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function Zc(s,o,a,l){const h=yh(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&x7(s).push(l,h.length-1))}function b7(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function wa(s,o){const l=o.directiveEnd,h=s.data,p=o.attrs,_=[];let b=null,E=null;for(let A=o.directiveStart;A<l;A++){const N=h[A],R=N.inputs,G=null===p||t7(o)?null:Qu(R,p);_.push(G),b=b7(R,A,b),E=b7(N.outputs,A,E)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=E}function C1(s,o,a,l,h,p,_,b){const E=Tr(o,a);let N,A=o.inputs;!b&&null!=A&&(N=A[l])?(N6(s,a,N,l,h),yo(o)&&lh(a,o.index)):3&o.type&&(l=function E7(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,o.value||"",l):h,p.setProperty(E,l,h))}function lh(s,o){const a=Qt(o,s);16&a[2]||(a[2]|=32)}function Wu(s,o,a,l){let h=!1;if(ii()){const p=function I7(s,o,a){const l=s.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];d3(a,_.selectors,!1)&&(h||(h=[]),Di(is(a,o),s,_.type),Dr(_)?(T6(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===l?null:{"":-1};if(null!==p){h=!0,Ku(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const R=p[N];R.providersResolver&&R.providersResolver(R)}let b=!1,E=!1,A=e2(s,o,p.length,null);for(let N=0;N<p.length;N++){const R=p[N];a.mergedAttrs=Ao(a.mergedAttrs,R.hostAttrs),S3(s,a,o,A,R),dh(A,R,_),null!==R.contentQueries&&(a.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=128);const G=R.type.prototype;!b&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),A++}wa(s,a)}_&&function fh(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new be(-301,!1);l.push(o[h],p)}}}(a,l,_)}return a.mergedAttrs=Ao(a.mergedAttrs,a.attrs),h}function D6(s,o,a,l,h,p){const _=p.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const E=~o.index;(function Zu(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=E&&b.push(E),b.push(l,h,_)}}function hh(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function T6(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function dh(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Dr(o)&&(a[""]=s)}}function Ku(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function S3(s,o,a,l,h){s.data[l]=h;const p=h.factory||(h.factory=F1(h.type)),_=new Ai(p,Dr(h),Xo);s.blueprint[l]=_,a[l]=_,D6(s,o,0,l,e2(s,a,h.hostVars,Vt),h)}function A3(s,o,a){const l=Tr(o,s),h=ch(a),p=s[10],_=ba(s,S6(s,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=_}function vs(s,o,a,l,h,p){const _=Tr(s,o);!function ph(s,o,a,l,h,p,_){if(null==p)s.removeAttribute(o,h,a);else{const b=null==_?ve(p):_(p,l||"",h);s.setAttribute(o,h,b,a)}}(o[11],_,p,s.value,a,l,h)}function mh(s,o,a,l,h,p){const _=p[o];if(null!==_){const b=l.setInput;for(let E=0;E<_.length;){const A=_[E++],N=_[E++],R=_[E++];null!==b?l.setInput(a,R,A,N):a[N]=R}}}function Qu(s,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function gh(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function iv(s,o){const a=Qt(o,s);if(Qi(a)){const l=a[1];48&a[2]?A6(l,a,l.template,a[8]):a[5]>0&&Kc(a)}}function Kc(s){for(let l=Go(s);null!==l;l=ls(l))for(let h=10;h<l.length;h++){const p=l[h];if(Qi(p))if(512&p[2]){const _=p[1];A6(_,p,_.template,p[8])}else p[5]>0&&Kc(p)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Qt(a[l],s);Qi(h)&&h[5]>0&&Kc(h)}}function T7(s,o){const a=Qt(o,s),l=a[1];(function Yu(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),M3(l,a,a[8])}function ba(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function t2(s){for(;s;){s[2]|=32;const o=$o(s);if(D0(s)&&!o)return s;s=o}return null}function x6(s,o,a,l=!0){const h=o[10];h.begin&&h.begin();try{A6(s,o,s.template,a)}catch(_){throw l&&io(o,_),_}finally{h.end&&h.end()}}function vh(s,o,a){So(0),o(s,a)}function yh(s){return s[7]||(s[7]=[])}function x7(s){return s.cleanup||(s.cleanup=[])}function io(s,o){const a=s[9],l=a?a.get(jc,null):null;l&&l.handleError(o)}function N6(s,o,a,l,h){for(let p=0;p<a.length;){const _=a[p++],b=a[p++],E=o[_],A=s.data[_];null!==A.setInput?A.setInput(E,h,l,b):E[b]=h}}function Fi(s,o,a){const l=d1(o,s);!function q0(s,o,a){s.setValue(o,a)}(s[11],l,a)}function D3(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?p=b:1==p?h=de(h,b):2==p&&(l=de(l,b+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function Ln(s,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Rn(p)),jr(p))for(let b=10;b<p.length;b++){const E=p[b],A=E[1].firstChild;null!==A&&Ln(E[1],E,A,l)}const _=a.type;if(8&_)Ln(s,o,a.child,l);else if(32&_){const b=c6(a,o);let E;for(;E=b();)l.push(E)}else if(16&_){const b=g6(o,a);if(Array.isArray(b))l.push(...b);else{const E=$o(o[16]);Ln(E[1],E,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class Ma{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ln(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(jr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Z0(o,l),Nr(a,l))}this._attachedToViewContainer=!1}pu(this._lView[1],this._lView)}onDestroy(o){Zc(this._lView[1],this._lView,null,o)}markForCheck(){t2(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){x6(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function du(s,o){Ks(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=o}}class T3 extends Ma{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;x6(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Qc extends pa{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Y(o);return new x3(a,this.ngModule)}}function N7(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class ov{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const h=this.injector.get(o,Au,l);return h!==Au||a===Au?h:this.parentInjector.get(o,a,l)}}class x3 extends gg{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function kg(s){return s.map(zg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return N7(this.componentDef.inputs)}get outputs(){return N7(this.componentDef.outputs)}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof da?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new ov(o,p):o,b=_.get(h3,null);if(null===b)throw new be(407,!1);const E=_.get(bg,null),A=b.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",R=l?function tv(s,o,a){return s.selectRootElement(o,a===ht.ShadowDom)}(A,l,this.componentDef.encapsulation):ua(A,N,function L7(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),G=this.componentDef.onPush?288:272,ee=Gu(0,null,null,1,0,null,null,null,null,null),ye=S6(null,ee,null,G,null,null,b,A,E,_,null);let Pe,$e;V2(ye);try{const at=function z7(s,o,a,l,h,p){const _=a[1];a[22]=s;const E=qc(_,22,2,"#host",null),A=E.mergedAttrs=o.hostAttrs;null!==A&&(D3(E,A,!0),null!==s&&(Rs(h,s,A),null!==E.classes&&Ys(h,s,E.classes),null!==E.styles&&G1(h,s,E.styles)));const N=l.createRenderer(s,o),R=S6(a,ch(o),null,o.onPush?32:16,a[22],E,l,N,p||null,null,null);return _.firstCreatePass&&(Di(is(E,a),_,o.type),T6(_,E),Ku(E,a.length,1)),ba(a,R),a[22]=R}(R,this.componentDef,ye,b,A);if(R)if(l)Rs(A,R,["ng-version",Xd.full]);else{const{attrs:Et,classes:De}=function Rg(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&a.push(p);else{if(!ps(h))break;h=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Et&&Rs(A,R,Et),De&&De.length>0&&Ys(A,R,De.join(" "))}if($e=Ki(ee,22),void 0!==a){const Et=$e.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const xt=a[De];Et.push(null!=xt?Array.from(xt):null)}}Pe=function k7(s,o,a,l){const h=a[1],p=function x1(s,o,a){const l=Pn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),S3(s,l,o,e2(s,o,1,null),a),wa(s,l));const h=oi(o,s,l.directiveStart,l);Ir(h,o);const p=Tr(l,o);return p&&Ir(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==l)for(const b of l)b(p,o);if(o.contentQueries){const b=Pn();o.contentQueries(1,p,b.directiveStart)}const _=Pn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(n1(_.index),D6(a[1],_,0,_.directiveStart,_.directiveEnd,o),hh(o,p)),p}(at,this.componentDef,ye,[R7]),M3(ee,ye,null)}finally{Ji()}return new N3(this.componentType,Pe,ma($e,ye),ye,$e)}}class N3 extends class Kd{}{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new T3(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;N6(p[1],p,h,o,a),lh(p,this._tNode.index)}}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function R7(){const s=Pn();U2(Se()[1],s)}function _h(s){let o=function Jc(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(Dr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new be(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const _=s;_.inputs=Ju(s.inputs),_.declaredInputs=Ju(s.declaredInputs),_.outputs=Ju(s.outputs);const b=h.hostBindings;b&&O7(s,b);const E=h.viewQuery,A=h.contentQueries;if(E&&lv(s,E),A&&P7(s,A),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),Dr(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const b=p[_];b&&b.ngInherit&&b(s),b===_h&&(a=!1)}}o=Object.getPrototypeOf(o)}!function cv(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Ao(h.hostAttrs,a=Ao(a,h.hostAttrs))}}(l)}function Ju(s){return s===Xr?{}:s===Nt?[]:s}function lv(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function P7(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function O7(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let L3=null;function n2(){if(!L3){const s=ln.Symbol;if(s&&s.iterator)L3=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(L3=l)}}}return L3}function z3(s){return!!Xc(s)&&(Array.isArray(s)||!(s instanceof Map)&&n2()in s)}function Xc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Sr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function n8(s,o,a,l){const h=Se();return Sr(h,Yi(),o)&&(Wt(),vs(Mn(),h,s,o,a,l)),n8}function R6(s,o,a,l,h,p){const b=function ys(s,o,a,l){const h=Sr(s,o,a);return Sr(s,o+1,l)||h}(s,function U1(){return Tt.lFrame.bindingIndex}(),a,h);return si(2),b?o+ve(a)+l+ve(h)+p:Vt}function O6(s,o,a,l,h,p,_,b){const E=Se(),A=Wt(),N=s+22,R=A.firstCreatePass?function H7(s,o,a,l,h,p,_,b,E){const A=o.consts,N=qc(o,s,4,_||null,I1(A,b));Wu(o,a,N,I1(A,E)),U2(o,N);const R=N.tViews=Gu(2,N,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,N),R.queries=o.queries.embeddedTView(N)),N}(N,A,E,o,a,l,h,p,_):A.data[N];p1(R,!1);const G=E[11].createComment("");m6(A,E,G,R),Ir(G,E),ba(E,E[N]=gh(G,E,G,R)),Ja(R)&&Wc(A,E,R),null!=_&&$u(E,R,b)}function P3(s,o,a){const l=Se();return Sr(l,Yi(),o)&&C1(Wt(),Mn(),l,s,o,l[11],a,!1),P3}function O3(s,o,a,l,h){const _=h?"class":"style";N6(s,a,o.inputs[_],_,l)}function i4(s,o,a,l){const h=Se(),p=Wt(),_=22+s,b=h[11],E=h[_]=ua(b,o,function F2(){return Tt.lFrame.currentNamespace}()),A=p.firstCreatePass?function B7(s,o,a,l,h,p,_){const b=o.consts,A=qc(o,s,2,h,I1(b,p));return Wu(o,a,A,I1(b,_)),null!==A.attrs&&D3(A,A.attrs,!1),null!==A.mergedAttrs&&D3(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(_,p,h,0,o,a,l):p.data[_];p1(A,!0);const N=A.mergedAttrs;null!==N&&Rs(b,E,N);const R=A.classes;null!==R&&Ys(b,E,R);const G=A.styles;return null!==G&&G1(b,E,G),64!=(64&A.flags)&&m6(p,h,E,A),0===function z2(){return Tt.lFrame.elementDepthCount}()&&Ir(E,h),function k2(){Tt.lFrame.elementDepthCount++}(),Ja(A)&&(Wc(p,h,A),function w7(s,o,a){if(M2(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,A,h)),null!==l&&$u(h,A),i4}function V3(){let s=Pn();wo()?bo():(s=s.parent,p1(s,!1));const o=s;!function ic(){Tt.lFrame.elementDepthCount--}();const a=Wt();return a.firstCreatePass&&(U2(a,s),M2(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function $2(s){return 0!=(16&s.flags)}(o)&&O3(a,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Q4(s){return 0!=(32&s.flags)}(o)&&O3(a,o,Se(),o.stylesWithoutHost,!1),V3}function s8(s,o,a,l){return i4(s,o,a,l),V3(),s8}function V6(s){return!!s&&"function"==typeof s.then}function W1(s){return!!s&&"function"==typeof s.subscribe}const Ah=W1;function c8(s,o,a,l){const h=Se(),p=Wt(),_=Pn();return function $7(s,o,a,l,h,p,_,b){const E=Ja(l),N=s.firstCreatePass&&x7(s),R=o[8],G=yh(o);let ee=!0;if(3&l.type||b){const $e=Tr(l,o),at=b?b($e):$e,Et=G.length,De=b?dn=>b(Rn(dn[l.index])):l.index;let xt=null;if(!b&&E&&(xt=function fv(s,o,a,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const b=o[7],E=h[p+2];return b.length>E?b[E]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,l.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,ee=!1;else{p=G7(l,o,R,p,!1);const dn=a.listen(at,h,p);G.push(p,dn),N&&N.push(h,De,Et,Et+1)}}else p=G7(l,o,R,p,!1);const ye=l.outputs;let Pe;if(ee&&null!==ye&&(Pe=ye[h])){const $e=Pe.length;if($e)for(let at=0;at<$e;at+=2){const qn=o[Pe[at]][Pe[at+1]].subscribe(p),_2=G.length;G.push(p,qn),N&&N.push(h,l.index,_2,-(_2+1))}}}(p,h,h[11],_,s,o,0,l),c8}function l8(s,o,a,l){try{return!1!==a(l)}catch(h){return io(s,h),!1}}function G7(s,o,a,l,h){return function p(_){if(_===Function)return l;t2(2&s.flags?Qt(s.index,o):o);let E=l8(o,0,l,_),A=p.__ngNextListenerFn__;for(;A;)E=l8(o,0,A,_)&&E,A=A.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function q7(s=1){return function Xi(s){return(Tt.lFrame.contextLView=function H2(s,o){for(;s>0;)o=o[15],s--;return o}(s,Tt.lFrame.contextLView))[8]}(s)}function W7(s,o){let a=null;const l=function ZC(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===l?d3(s,p,!0):Lg(l,p))return h}else a=h}return a}function Z7(s){const o=Se()[16][6];if(!o.projection){const l=o.projection=Li(s?s.length:1,null),h=l.slice();let p=o.child;for(;null!==p;){const _=s?W7(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function H3(s,o=0,a){const l=Se(),h=Wt(),p=qc(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),bo(),64!=(64&p.flags)&&function y1(s,o,a){Qs(o[11],0,o,a,h6(s,a,o),Y0(a.parent||o[6],a,o))}(h,l,p)}function J7(s,o,a,l,h){const p=s[a+1],_=null===o;let b=l?gs(p):no(p),E=!1;for(;0!==b&&(!1===E||_);){const N=s[b+1];We(s[b],o)&&(E=!0,s[b+1]=l?I6(N):m3(N)),b=l?gs(N):no(N)}E&&(s[a+1]=l?m3(p):I6(p))}function We(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ki(s,o)>=0}function Sa(s,o,a){return function _s(s,o,a,l){const h=Se(),p=Wt(),_=si(2);p.firstUpdatePass&&function U3(s,o,a,l){const h=s.data;if(null===h[a+1]){const p=h[ar()],_=function qe(s,o){return o>=s.expandoStartIndex}(s,a);(function p8(s,o){return 0!=(s.flags&(o?16:32))})(p,l)&&null===o&&!_&&(o=!1),o=function xh(s,o,a,l){const h=function Io(s){const o=Tt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=o2(a=Nh(null,s,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=Nh(h,s,o,a,l),null===p){let E=function c4(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==no(l))return s[gs(l)]}(s,o,l);void 0!==E&&Array.isArray(E)&&(E=Nh(null,s,o,E[1],l),E=o2(E,o.attrs,l),function vv(s,o,a,l){s[gs(a?o.classBindings:o.styleBindings)]=l}(s,o,l,E))}else p=function f8(s,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=o2(l,s[p].hostAttrs,a);return o2(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function st(s,o,a,l,h,p){let _=p?o.classBindings:o.styleBindings,b=gs(_),E=no(_);s[l]=a;let N,A=!1;if(Array.isArray(a)){const R=a;N=R[1],(null===N||ki(R,N)>0)&&(A=!0)}else N=a;if(h)if(0!==E){const G=gs(s[b+1]);s[l+1]=Vu(G,b),0!==G&&(s[G+1]=Y5(s[G+1],l)),s[b+1]=function d7(s,o){return 131071&s|o<<17}(s[b+1],l)}else s[l+1]=Vu(b,0),0!==b&&(s[b+1]=Y5(s[b+1],l)),b=l;else s[l+1]=Vu(E,0),0===b?b=l:s[E+1]=Y5(s[E+1],l),E=l;A&&(s[l+1]=m3(s[l+1])),J7(s,N,l,!0),J7(s,N,l,!1),function dt(s,o,a,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ki(p,o)>=0&&(a[l+1]=I6(a[l+1]))}(o,N,s,l,p),_=Vu(b,E),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,l)}}(p,s,_,l),o!==Vt&&Sr(h,_,o)&&function d8(s,o,a,l,h,p,_,b){if(!(3&o.type))return;const E=s.data,A=E[b+1];B3(function J5(s){return 1==(1&s)}(A)?zh(E,o,a,h,no(A),_):void 0)||(B3(p)||function Gc(s){return 2==(2&s)}(A)&&(p=zh(E,null,a,h,b,_)),function k5(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:ui.DashCase;null==h?s.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=ui.Important),s.setStyle(a,l,h,p))}}(l,_,d1(ar(),a),h,p))}(p,p.data[ar()],h,h[11],s,h[_+1]=function Aa(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(ur(s)))),s}(o,a),l,_)}(s,o,a,!1),Sa}function Nh(s,o,a,l,h){let p=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(p=o[b],l=o2(l,p.hostAttrs,h),p!==s);)b++;return null!==s&&(a.directiveStylingLast=b),l}function o2(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),it(s,_,!!a||o[++p]))}return void 0===s?null:s}function zh(s,o,a,l,h,p){const _=null===o;let b;for(;h>0;){const E=s[h],A=Array.isArray(E),N=A?E[1]:E,R=null===N;let G=a[h+1];G===Vt&&(G=R?Nt:void 0);let ee=R?Vo(G,l):N===l?G:void 0;if(A&&!B3(ee)&&(ee=Vo(E,l)),B3(ee)&&(b=ee,_))return b;const ye=s[h+1];h=_?gs(ye):no(ye)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(b=Vo(E,l))}return b}function B3(s){return void 0!==s}function ce(s,o=""){const a=Se(),l=Wt(),h=s+22,p=l.firstCreatePass?qc(l,h,1,o,null):l.data[h],_=a[h]=function l6(s,o){return s.createText(o)}(a[11],o);m6(l,a,_,p),p1(p,!1)}function Z1(s,o,a){const l=Se(),h=function k6(s,o,a,l){return Sr(s,Yi(),a)?o+ve(a)+l:Vt}(l,s,o,a);return h!==Vt&&Fi(l,ar(),h),Z1}function kh(s,o,a,l,h){const p=Se(),_=R6(p,s,o,a,l,h);return _!==Vt&&Fi(p,ar(),_),kh}function W3(s,o,a){const l=Se();return Sr(l,Yi(),o)&&C1(Wt(),Mn(),l,s,o,l[11],a,!0),W3}const u2=void 0;var h9=["en",[["a","p"],["AM","PM"],u2],[["AM","PM"],u2,u2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],u2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],u2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",u2,"{1} 'at' {0}",u2],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z3(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let f4={};function d4(s){const o=function za(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=d9(o);if(a)return a;const l=o.split("-")[0];if(a=d9(l),a)return a;if("en"===l)return h9;throw new be(701,!1)}function f9(s){return d4(s)[St.PluralCase]}function d9(s){return s in f4||(f4[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),f4[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const p4="en-US";let Hh=p4;class y4{}class X6{}function k9(s,o){return new Jh(s,o??null)}class Jh extends y4{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qc(this);const l=bn(o);this._bootstrapComponents=to(l.bootstrap),this._r3Injector=Hg(o,a,[{provide:y4,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _4 extends X6{constructor(o){super(),this.moduleType=o}create(o){return new Jh(this.moduleType,o)}}class Vv extends y4{constructor(o,a,l){super(),this.componentFactoryResolver=new Qc(this),this.instance=null;const h=new $5([...o,{provide:y4,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],a||u3(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Xh(s,o,a=null){return new Vv(s,o,a).injector}let Gt=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=jd(0,a.type),h=l.length>0?Xh([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rn({token:s,providedIn:"environment",factory:()=>new s(Tn(da))}),s})();function R9(s){s.getStandaloneInjector=o=>o.get(Gt).getOrCreateStandaloneInjector(s)}function rf(s,o,a,l){return function $9(s,o,a,l,h,p){const _=o+a;return Sr(s,_,h)?function Ui(s,o,a){return s[o]=a}(s,_+1,p?l.call(p,h):l(h)):function il(s,o){const a=s[o];return a===Vt?void 0:a}(s,_+1)}(Se(),function On(){const s=Tt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,a,l)}function lf(s){return o=>{setTimeout(s,void 0,o)}}const bs=class Z9 extends g.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),_=l;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=lf(p),h&&(h=lf(h)),_&&(_=lf(_)));const b=super.subscribe({next:h,error:p,complete:_});return o instanceof X.w0&&o.add(b),b}};function L1(){return this._results[n2()]()}class uf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=n2(),l=uf.prototype;l[a]||(l[a]=L1)}get changes(){return this._changes||(this._changes=new bs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=Dn(o);(this._changesDetected=!function xr(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let o0=(()=>{class s{}return s.__NG_ELEMENT_ID__=x8,s})();const lo=o0,K9=class extends lo{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,h=S6(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),M3(l,h,o),new Ma(h)}};function x8(){return sl(Pn(),Se())}function sl(s,o){return 4&s.type?new K9(o,s,ma(s,o)):null}let N8=(()=>{class s{}return s.__NG_ELEMENT_ID__=Wv,s})();function Wv(){return J9(Pn(),Se())}const Zv=N8,Q9=class extends Zv{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const o=Z2(this._hostTNode,this._hostLView);if(J4(o)){const a=To(o,this._hostLView),l=mr(o);return new os(a[1].data[l+8],a)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Y9(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,h),_}createComponent(o,a,l,h,p){const _=o&&!function j1(s){return"function"==typeof s}(o);let b;if(_)b=a;else{const R=a||{};b=R.index,l=R.injector,h=R.projectableNodes,p=R.environmentInjector||R.ngModuleRef}const E=_?o:new x3(Y(o)),A=l||this.parentInjector;if(!p&&null==E.ngModule){const G=(_?A:this.parentInjector).get(da,null);G&&(p=G)}const N=E.create(A,h,void 0,p);return this.insert(N.hostView,b),N}insert(o,a){const l=o._lView,h=l[1];if(function x2(s){return jr(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const R=l[3],G=new Q9(R,R[6],R[3]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function zc(s,o,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=o),l<p-10?(o[4]=a[h],Oo(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function L5(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,l,_,p);const b=Pc(p,_),E=l[11],A=Gr(E,_[7]);return null!==A&&function u6(s,o,a,l,h,p){l[0]=h,l[6]=o,Ks(s,l,a,1,h,p)}(h,_[6],E,l,A,b),o.attachToViewContainerRef(),Oo(hf(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Y9(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Z0(this._lContainer,a);l&&(Nr(hf(this._lContainer),a),pu(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Z0(this._lContainer,a);return l&&null!=Nr(hf(this._lContainer),a)?new Ma(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Y9(s){return s[8]}function hf(s){return s[8]||(s[8]=[])}function J9(s,o){let a;const l=o[s.index];if(jr(l))a=l;else{let h;if(8&s.type)h=Rn(l);else{const p=o[11];h=p.createComment("");const _=Tr(s,o);fs(p,Gr(p,_),h,function Wo(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=gh(l,o,h,s),ba(o,a)}return new Q9(a,s,o)}class ff{constructor(o){this.queryList=o,this.matches=null}clone(){return new ff(this.queryList)}setDirty(){this.queryList.setDirty()}}class df{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new df(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==al(o,a).matches&&this.queries[a].setDirty()}}class X9{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class pf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new pf(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class mf{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new mf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,ep(a,p)),this.matchTNodeWithReadOption(o,a,Ps(a,o,p,!1,!1))}else l===o0?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ps(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Bc||h===N8||h===o0&&4&a.type)this.addMatch(a.index,-2);else{const p=Ps(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function ep(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function tp(s,o,a,l){return-1===a?function Yv(s,o){return 11&s.type?ma(s,o):4&s.type?sl(s,o):null}(o,s):-2===a?function np(s,o,a){return a===Bc?ma(o,s):a===o0?sl(o,s):a===N8?J9(o,s):void 0}(s,o,l):oi(s,s[1],a,o)}function rp(s,o,a,l){const h=o[19].queries[l];if(null===h.matches){const p=s.data,_=a.matches,b=[];for(let E=0;E<_.length;E+=2){const A=_[E];b.push(A<0?null:tp(o,p[A],_[E+1],a.metadata.read))}h.matches=b}return h.matches}function ol(s,o,a,l){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=rp(s,o,h,a);for(let b=0;b<p.length;b+=2){const E=p[b];if(E>0)l.push(_[b/2]);else{const A=p[b+1],N=o[-E];for(let R=10;R<N.length;R++){const G=N[R];G[17]===G[3]&&ol(G[1],G,A,l)}if(null!==N[9]){const R=N[9];for(let G=0;G<R.length;G++){const ee=R[G];ol(ee[1],ee,A,l)}}}}}return l}function Vr(s){const o=Se(),a=Wt(),l=fc();So(l+1);const h=al(a,l);if(s.dirty&&function T2(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?ol(a,o,l,[]):rp(a,o,h,l);s.reset(p,_g),s.notifyOnChanges()}return!0}return!1}function L8(s,o,a){const l=Wt();l.firstCreatePass&&(ip(l,new X9(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),gf(l,Se(),o)}function z8(s,o,a,l){const h=Wt();if(h.firstCreatePass){const p=Pn();ip(h,new X9(o,a,l),p.index),function sp(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}gf(h,Se(),a)}function k8(){return function Pa(s,o){return s[19].queries[o].queryList}(Se(),fc())}function gf(s,o,a){const l=new uf(4==(4&a));Zc(s,o,l,l.destroy),null===o[19]&&(o[19]=new df),o[19].queries.push(new ff(l))}function ip(s,o,a){null===s.queries&&(s.queries=new pf),s.queries.track(new mf(o,a))}function al(s,o){return s.queries.getByIndex(o)}function F8(...s){}const Tf=new In("Application Initializer");let U8=(()=>{class s{constructor(a){this.appInits=a,this.resolve=F8,this.reject=F8,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(V6(p))a.push(p);else if(Ah(p)){const _=new Promise((b,E)=>{p.subscribe({complete:b,error:E})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Tn(Tf,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const xf=new In("AppId",{providedIn:"root",factory:function vp(){return`${m2()}${m2()}${m2()}`}});function m2(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h0=new In("Platform Initializer"),yp=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nf=new In("appBootstrapListener"),_p=new In("AnimationModuleType");let oy=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const f0=new In("LocaleId",{providedIn:"root",factory:()=>M(f0,Qe.Optional|Qe.SkipSelf)||function ay(){return typeof $localize<"u"&&$localize.locale||p4}()}),Kr=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class cy{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Cp=(()=>{class s{compileModuleSync(a){return new _4(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=to(bn(a).declarations).reduce((_,b)=>{const E=Y(b);return E&&_.push(new x3(E)),_},[]);return new cy(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const j8=(()=>Promise.resolve(0))();function gl(s){typeof Zone>"u"?j8.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class pi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bs(!1),this.onMicrotaskEmpty=new bs(!1),this.onStable=new bs(!1),this.onError=new bs(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function kf(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Rf(s){const o=()=>{!function bp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Pf(s),s.isCheckStableRunning=!0,$8(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Pf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,b)=>{try{return Of(s),a.invokeTask(h,p,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Ep(s)}},onInvoke:(a,l,h,p,_,b,E)=>{try{return Of(s),a.invoke(h,p,_,b,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ep(s)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Pf(s),$8(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pi.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(pi.isInAngularZone())throw new be(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,hy,F8,F8);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const hy={};function $8(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Pf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Of(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ep(s){s._nesting--,$8(s)}class Mp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bs,this.onMicrotaskEmpty=new bs,this.onStable=new bs,this.onError=new bs}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const Ip=new In(""),M4=new In("");let W8,d0=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,W8||(function q8(s){W8=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pi.assertNotInAngularZone(),gl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gl(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Tn(pi),Tn(G8),Tn(M4))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),G8=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return W8?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),g2=null;const Vf=new In("AllowMultipleToken"),Hf=new In("PlatformDestroyListeners");class Dp{constructor(o,a){this.name=o,this.token=a}}function K8(s,o,a=[]){const l=`Platform: ${o}`,h=new In(l);return(p=[])=>{let _=jf();if(!_||_.injector.get(Vf,!1)){const b=[...a,...p,{provide:h,useValue:!0}];s?s(b):function Ff(s){if(g2&&!g2.get(Vf,!1))throw new be(400,!1);g2=s;const o=s.get($f);(function p0(s){const o=s.get(h0,null);o&&o.forEach(a=>a())})(s)}(function Q8(s=[],o){return $c.create({name:o,providers:[{provide:j5,useValue:"platform"},{provide:Hf,useValue:new Set([()=>g2=null])},...s]})}(b,l))}return function Bf(s){const o=jf();if(!o)throw new be(401,!1);return o}()}}function jf(){return g2?.get($f)??null}let $f=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function xp(s,o){let a;return a="noop"===s?new Mp:("zone.js"===s?void 0:s)||new pi(o),a}(l?.ngZone,function Tp(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:pi,useValue:h}];return h.run(()=>{const _=$c.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(_),E=b.injector.get(jc,null);if(!E)throw new be(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:N=>{E.handleError(N)}});b.onDestroy(()=>{Fa(this._modules,b),A.unsubscribe()})}),function Np(s,o,a){try{const l=a();return V6(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(E,h,()=>{const A=b.injector.get(U8);return A.runInitializers(),A.donePromise.then(()=>(function Fh(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(Hh=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(f0,p4)||p4),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=Gf({},l);return function fy(s,o,a){const l=new _4(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(I4);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new be(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Hf,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Tn($c))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Gf(s,o){return Array.isArray(o)?o.reduce(Gf,s):{...s,...o}}let I4=(()=>{class s{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new k.y(b=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{pi.assertNotInAngularZone(),gl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(p,_.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof gg;if(!this._injector.get(U8).done)throw!h&&Jt(a),new be(405,false);let _;_=h?a:this._injector.get(pa).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const b=function Ap(s){return s.isBoundToModule}(_)?void 0:this._injector.get(y4),A=_.create($c.NULL,[],l||_.selector,b),N=A.location.nativeElement,R=A.injector.get(Ip,null);return R?.registerApplication(N),A.onDestroy(()=>{this.detachView(A.hostView),Fa(this.components,A),R?.unregisterApplication(N)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Fa(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Nf,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Fa(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Tn(pi),Tn(da),Tn(jc))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fa(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let zp=!0,kp=!1;function py(){return kp=!0,zp}function my(){if(kp)throw new Error("Cannot enable prod mode after platform setup.");zp=!1}let vl=(()=>{class s{}return s.__NG_ELEMENT_ID__=qf,s})();function qf(s){return function m0(s,o,a){if(yo(s)&&!a){const l=Qt(s.index,o);return new Ma(l,l)}return 47&s.type?new Ma(o[16],o):null}(Pn(),Se(),16==(16&s))}class Yf{constructor(){}supports(o){return z3(o)}create(o){return new vy(o)}}const jp=(s,o)=>o;class vy{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||jp}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<$p(l,h,p)?a:l,b=$p(_,h,p),E=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const A=b-h,N=E-h;if(A!=N){for(let G=0;G<A;G++){const ee=G<p.length?p[G]:p[G]=0,ye=ee+G;N<=ye&&ye<A&&(p[G]=ee+1)}p[_.previousIndex]=N-A}}b!==E&&o(_,b,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!z3(o))throw new be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],_=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,b),l=!0),a=a._next}else h=0,function Xu(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[n2()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{_=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Jf(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new X8),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new X8),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Jf{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yy{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class X8{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new yy,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $p(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class e5{constructor(){}supports(o){return o instanceof Map||Xc(o)}create(){return new _y}}class _y{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Xc(o)))throw new be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new Xf(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Xf{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ed(){return new bl([new Yf])}let bl=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||ed()),deps:[[s,new ut,new He]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new be(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:ed}),s})();function t5(){return new Ua([new e5])}let Ua=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||t5()),deps:[[s,new ut,new He]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new be(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:t5}),s})();const qp=K8(null,"core",[]);let y0=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Tn(I4))},s.\u0275mod=Ut({type:s}),s.\u0275inj=Pt({}),s})();function Cy(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ft,Ae,z)=>{z.d(Ae,{Z:()=>be});var g=z(2090),X=z(4859),k=z(9681),ae=z(1877);class oe{constructor(ve,pe){this._delegate=ve,this.firebase=pe,(0,k._addComponent)(ve,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ve,pe=k._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(ve);return!lt.isInitialized()&&"EXPLICIT"===(null===(et=lt.getComponent())||void 0===et?void 0:et.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:pe})}_removeServiceInstance(ve,pe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(pe)}_addComponent(ve){(0,k._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,k._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function de(){const ot=function fe(ot){const ve={},pe={__esModule:!0,initializeApp:function Te(Be,F={}){const ge=k.initializeApp(Be,F);if((0,g.r3)(ve,ge.name))return ve[ge.name];const W=new ot(ge,pe);return ve[ge.name]=W,W},app:lt,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Be){const F=Be.name,ge=F.replace("-compat","");if(k._registerComponent(Be)&&"PUBLIC"===Be.type){const W=(J=lt())=>{if("function"!=typeof J[ge])throw le.create("invalid-app-argument",{appName:F});return J[ge]()};void 0!==Be.serviceProps&&(0,g.ZB)(W,Be.serviceProps),pe[ge]=W,ot.prototype[ge]=function(...J){return this._getService.bind(this,F).apply(this,Be.multipleInstances?J:[])}}return"PUBLIC"===Be.type?pe[ge]:null},removeApp:function et(Be){delete ve[Be]},useAsService:function Ue(Be,F){return"serverAuth"===F?null:F},modularAPIs:k}};function lt(Be){if(!(0,g.r3)(ve,Be=Be||k._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Be});return ve[Be]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Ce(){return Object.keys(ve).map(Be=>ve[Be])}}),lt.App=ot,pe}(oe);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ve(pe){(0,g.ZB)(ot,pe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ot}(),j=new ae.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=U;!function Ne(ot){(0,k.registerVersion)("@firebase/app-compat","0.2.0",ot)}()},9681:(ft,Ae,z)=>{z.r(Ae),z.d(Ae,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>$i,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>rn,_apps:()=>pn,_clearComponents:()=>J1,_components:()=>Sn,_getProvider:()=>Pt,_registerComponent:()=>Fr,_removeServiceInstance:()=>yn,deleteApp:()=>mo,getApp:()=>l1,getApps:()=>u1,initializeApp:()=>E1,onLog:()=>yi,registerVersion:()=>Ar,setLogLevel:()=>rr});var g=z(5861),X=z(4859),k=z(1877),ae=z(2090),oe=z(8766);class he{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function le(rt){return"VERSION"===rt.getComponent()?.type}(tt)){const Dt=tt.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(tt=>tt).join(" ")}}const fe="@firebase/app",U=new k.Yd("@firebase/app"),$t="[DEFAULT]",Ze={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pn=new Map,Sn=new Map;function Yt(rt,Ie){try{rt.container.addComponent(Ie)}catch(tt){U.debug(`Component ${Ie.name} failed to register with FirebaseApp ${rt.name}`,tt)}}function rn(rt,Ie){rt.container.addOrOverwriteComponent(Ie)}function Fr(rt){const Ie=rt.name;if(Sn.has(Ie))return U.debug(`There were multiple attempts to register component ${Ie}.`),!1;Sn.set(Ie,rt);for(const tt of pn.values())Yt(tt,rt);return!0}function Pt(rt,Ie){const tt=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),rt.container.getProvider(Ie)}function yn(rt,Ie,tt=$t){Pt(rt,Ie).clearInstance(tt)}function J1(){Sn.clear()}const Ur=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jr{constructor(Ie,tt,Dt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}const $i="9.15.0";function E1(rt,Ie={}){let tt=rt;"object"!=typeof Ie&&(Ie={name:Ie});const Dt=Object.assign({name:$t,automaticDataCollectionEnabled:!1},Ie),Lt=Dt.name;if("string"!=typeof Lt||!Lt)throw Ur.create("bad-app-name",{appName:String(Lt)});if(tt||(tt=(0,ae.aH)()),!tt)throw Ur.create("no-options");const Ut=pn.get(Lt);if(Ut){if((0,ae.vZ)(tt,Ut.options)&&(0,ae.vZ)(Dt,Ut.config))return Ut;throw Ur.create("duplicate-app",{appName:Lt})}const B=new X.H0(Lt);for(const Z of Sn.values())B.addComponent(Z);const V=new Jr(tt,Dt,B);return pn.set(Lt,V),V}function l1(rt=$t){const Ie=pn.get(rt);if(!Ie&&rt===$t)return E1();if(!Ie)throw Ur.create("no-app",{appName:rt});return Ie}function u1(){return Array.from(pn.values())}function mo(rt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,g.Z)(function*(rt){const Ie=rt.name;pn.has(Ie)&&(pn.delete(Ie),yield Promise.all(rt.container.getProviders().map(tt=>tt.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Ar(rt,Ie,tt){var Dt;let Lt=null!==(Dt=Ze[rt])&&void 0!==Dt?Dt:rt;tt&&(Lt+=`-${tt}`);const Ut=Lt.match(/\s|\//),B=Ie.match(/\s|\//);if(Ut||B){const V=[`Unable to register library "${Lt}" with version "${Ie}":`];return Ut&&V.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Ut&&B&&V.push("and"),B&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void U.warn(V.join(" "))}Fr(new X.wA(`${Lt}-version`,()=>({library:Lt,version:Ie}),"VERSION"))}function yi(rt,Ie){if(null!==rt&&"function"!=typeof rt)throw Ur.create("invalid-log-argument");(0,k.Am)(rt,Ie)}function rr(rt){(0,k.Ub)(rt)}const Fn="firebase-heartbeat-store";let Wn=null;function En(){return Wn||(Wn=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(rt,Ie)=>{0===Ie&&rt.createObjectStore(Fn)}}).catch(rt=>{throw Ur.create("idb-open",{originalErrorMessage:rt.message})})),Wn}function ht(){return(ht=(0,g.Z)(function*(rt){try{return(yield En()).transaction(Fn).objectStore(Fn).get(Zn(rt))}catch(Ie){if(Ie instanceof ae.ZR)U.warn(Ie.message);else{const tt=Ur.create("idb-get",{originalErrorMessage:Ie?.message});U.warn(tt.message)}}})).apply(this,arguments)}function ln(rt,Ie){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(rt,Ie){try{const Dt=(yield En()).transaction(Fn,"readwrite");return yield Dt.objectStore(Fn).put(Ie,Zn(rt)),Dt.done}catch(tt){if(tt instanceof ae.ZR)U.warn(tt.message);else{const Dt=Ur.create("idb-set",{originalErrorMessage:tt?.message});U.warn(Dt.message)}}})).apply(this,arguments)}function Zn(rt){return`${rt.name}!${rt.options.appId}`}class _i{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new on(tt),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var Ie=this;return(0,g.Z)(function*(){const Dt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=sn();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Ie._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Lt))return Ie._heartbeatsCache.heartbeats.push({date:Lt,agent:Dt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ut=>{const B=new Date(Ut.date).valueOf();return Date.now()-B<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,g.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const tt=sn(),{heartbeatsToSend:Dt,unsentEntries:Lt}=function V1(rt,Ie=1024){const tt=[];let Dt=rt.slice();for(const Lt of rt){const Ut=tt.find(B=>B.agent===Lt.agent);if(Ut){if(Ut.dates.push(Lt.date),ir(tt)>Ie){Ut.dates.pop();break}}else if(tt.push({agent:Lt.agent,dates:[Lt.date]}),ir(tt)>Ie){tt.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:Dt}}(Ie._heartbeatsCache.heartbeats),Ut=(0,ae.L)(JSON.stringify({version:2,heartbeats:Dt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=tt,Lt.length>0?(Ie._heartbeatsCache.heartbeats=Lt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ut})()}}function sn(){return(new Date).toISOString().substring(0,10)}class on{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,g.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function Ct(rt){return ht.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var tt=this;return(0,g.Z)(function*(){var Dt;if(yield tt._canUseIndexedDBPromise){const Ut=yield tt.read();return ln(tt.app,{lastSentHeartbeatDate:null!==(Dt=Ie.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ut.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var tt=this;return(0,g.Z)(function*(){var Dt;if(yield tt._canUseIndexedDBPromise){const Ut=yield tt.read();return ln(tt.app,{lastSentHeartbeatDate:null!==(Dt=Ie.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Ie.heartbeats]})}})()}}function ir(rt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Br(rt){Fr(new X.wA("platform-logger",Ie=>new he(Ie),"PRIVATE")),Fr(new X.wA("heartbeat",Ie=>new _i(Ie),"PRIVATE")),Ar(fe,"0.9.0",rt),Ar(fe,"0.9.0","esm2017"),Ar("fire-js","")}("")},4859:(ft,Ae,z)=>{z.d(Ae,{H0:()=>fe,wA:()=>k});var g=z(5861),X=z(2090);class k{constructor(U,j,K){this.name=U,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class oe{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const K=new X.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&K.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const K=this.normalizeInstanceIdentifier(U?.identifier),Oe=null!==(j=U?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ne){if(Oe)return null;throw Ne}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function le(de){return"EAGER"===de.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const Ne=this.getOrInitializeService({instanceIdentifier:Oe});K.resolve(Ne)}catch{}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,g.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,K=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[Ne,be]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ne)&&be.resolve(Oe);return Oe}onInit(U,j){var K;const Oe=this.normalizeInstanceIdentifier(j),Ne=null!==(K=this.onInitCallbacks.get(Oe))&&void 0!==K?K:new Set;Ne.add(U),this.onInitCallbacks.set(Oe,Ne);const be=this.instances.get(Oe);return be&&U(be,Oe),()=>{Ne.delete(U)}}invokeOnInitCallbacks(U,j){const K=this.onInitCallbacks.get(j);if(K)for(const Oe of K)try{Oe(U,j)}catch{}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let K=this.instances.get(U);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(de=U,de===ae?void 0:de),options:j}),this.instances.set(U,K),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(K,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,K)}catch{}var de;return K||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new oe(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Ae,z)=>{z.d(Ae,{Am:()=>de,Ub:()=>fe,Yd:()=>le,in:()=>X});const g=[];var X=(()=>{return(U=X||(X={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",X;var U})();const k={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},he=(U,j,...K)=>{if(j<U.logLevel)return;const Oe=(new Date).toISOString(),Ne=oe[j];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ne](`[${Oe}]  ${U.name}:`,...K)};class le{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?k[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function fe(U){g.forEach(j=>{j.setLogLevel(U)})}function de(U,j){for(const K of g){let Oe=null;j&&j.level&&(Oe=k[j.level]),K.userLogHandler=null===U?null:(Ne,be,...ot)=>{const ve=ot.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");be>=(Oe??Ne.logLevel)&&U({level:X[be].toLowerCase(),message:ve,args:ot,type:Ne.name})}}}},259:(ft,Ae,z)=>{z.d(Ae,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=z(9681);(0,g.registerVersion)("firebase","9.15.0","app")},9260:(ft,Ae,z)=>{z.d(Ae,{Z:()=>g.Z});var g=z(3942);g.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(ft,Ae,z)=>{z.r(Ae);var g=z(5861),X=z(3942),k=z(2090),ae=z(9681),oe=z(1877),he=z(655),le=z(4859);const be=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new oe.Yd("@firebase/auth");function lt(y,...d){et.logLevel<=oe.in.ERROR&&et.error(`Auth (${ae.SDK_VERSION}): ${y}`,...d)}function Te(y,...d){throw Be(y,...d)}function Ce(y,...d){return Be(y,...d)}function Ee(y,d,m){const C=Object.assign(Object.assign({},ot()),{[d]:m});return new k.LL("auth","Firebase",C).create(d,{appName:y.name})}function Ue(y,d,m){if(!(d instanceof m))throw m.name!==d.constructor.name&&Te(y,"argument-error"),Ee(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(y,...d){if("string"!=typeof y){const m=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return ve.create(y,...d)}function F(y,d,...m){if(!y)throw Be(d,...m)}function ge(y){const d="INTERNAL ASSERTION FAILED: "+y;throw lt(d),new Error(d)}function W(y,d){y||ge(d)}const J=new Map;function se(y){W(y instanceof Function,"Expected a class definition");let d=J.get(y);return d?(W(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,J.set(y,d),d)}function ke(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===nn()||"https:"===nn()}function nn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class pn{constructor(d,m){this.shortDelay=d,this.longDelay=m,W(m>d,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(y,d){W(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return d?`${m}${d.startsWith("/")?d.slice(1):d}`:m}class Yt{static initialize(d,m,C){this.fetchImpl=d,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Fr=new pn(3e4,6e4);function Pt(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function yn(y,d,m,C){return J1.apply(this,arguments)}function J1(){return(J1=(0,g.Z)(function*(y,d,m,C,D={}){return b1(y,D,(0,g.Z)(function*(){let L={},q={};C&&("GET"===d?q=C:L={body:JSON.stringify(C)});const ue=(0,k.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Fe=yield y._getAdditionalHeaders();return Fe["Content-Type"]="application/json",y.languageCode&&(Fe["X-Firebase-Locale"]=y.languageCode),Yt.fetch()(E1(y,y.config.apiHost,m,ue),Object.assign({method:d,headers:Fe,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function b1(y,d,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,g.Z)(function*(y,d,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},rn),d);try{const D=new l1(y),L=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const q=yield L.json();if("needConfirmation"in q)throw u1(y,"account-exists-with-different-credential",q);if(L.ok&&!("errorMessage"in q))return q;{const ue=L.ok?q.errorMessage:q.error.message,[Fe,Xe]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw u1(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Fe)throw u1(y,"email-already-in-use",q);if("USER_DISABLED"===Fe)throw u1(y,"user-disabled",q);const It=C[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Ee(y,It,Xe);Te(y,It)}}catch(D){if(D instanceof k.ZR)throw D;Te(y,"network-request-failed")}})).apply(this,arguments)}function Jr(y,d,m,C){return $i.apply(this,arguments)}function $i(){return($i=(0,g.Z)(function*(y,d,m,C,D={}){const L=yield yn(y,d,m,C,D);return"mfaPendingCredential"in L&&Te(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function E1(y,d,m,C){const D=`${d}${m}?${C}`;return y.config.emulator?Sn(y.config,D):`${y.config.apiScheme}://${D}`}class l1{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ce(this.auth,"network-request-failed")),Fr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function u1(y,d,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const D=Ce(y,d,C);return D.customData._tokenResponse=m,D}function Qe(){return(Qe=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Ar(y,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function rr(y,d){return h1.apply(this,arguments)}function h1(){return(h1=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function O1(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function En(){return(En=(0,g.Z)(function*(y,d=!1){const m=(0,k.m9)(y),C=yield m.getIdToken(d),D=ht(C);F(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const L="object"==typeof D.firebase?D.firebase:void 0,q=L?.sign_in_provider;return{claims:D,token:C,authTime:O1(Ct(D.auth_time)),issuedAtTime:O1(Ct(D.iat)),expirationTime:O1(Ct(D.exp)),signInProvider:q||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Ct(y){return 1e3*Number(y)}function ht(y){const[d,m,C]=y.split(".");if(void 0===d||void 0===m||void 0===C)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,k.tV)(m);return D?JSON.parse(D):(lt("Failed to decode base64 JWT payload"),null)}catch(D){return lt("Caught error parsing JWT payload as JSON",D?.toString()),null}}function wr(y,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(y,d,m=!1){if(m)return d;try{return yield d}catch(C){throw C instanceof k.ZR&&Xr(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Xr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Nt{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var m;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(d=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield m.iteration()}),C)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&d.schedule(!0))}d.schedule()})()}}class _i{constructor(d,m){this.createdAt=d,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=O1(this.lastLoginAt),this.creationTime=O1(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sn(y){return V1.apply(this,arguments)}function V1(){return(V1=(0,g.Z)(function*(y){var d;const m=y.auth,C=yield y.getIdToken(),D=yield wr(y,rr(m,{idToken:C}));F(D?.users.length,m,"internal-error");const L=D.users[0];y._notifyReloadListener(L);const q=null!==(d=L.providerUserInfo)&&void 0!==d&&d.length?rt(L.providerUserInfo):[],ue=Br(y.providerData,q),It=!!y.isAnonymous&&!(y.email&&L.passwordHash||ue?.length),yt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ue,metadata:new _i(L.createdAt,L.lastLoginAt),isAnonymous:It};Object.assign(y,yt)})).apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(y){const d=(0,k.m9)(y);yield sn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Br(y,d){return[...y.filter(C=>!d.some(D=>D.providerId===C.providerId)),...d]}function rt(y){return y.map(d=>{var{providerId:m}=d,C=(0,he._T)(d,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function tt(){return(tt=(0,g.Z)(function*(y,d){const m=yield b1(y,{},(0,g.Z)(function*(){const C=(0,k.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:D,apiKey:L}=y.config,q=E1(y,D,"/v1/token",`key=${L}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(q,{method:"POST",headers:ue,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){F(d.idToken,"internal-error"),F(typeof d.idToken<"u","internal-error"),F(typeof d.refreshToken<"u","internal-error");const m="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function ln(y){const d=ht(y);return F(d,"internal-error"),F(typeof d.exp<"u","internal-error"),F(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,m)}getToken(d,m=!1){var C=this;return(0,g.Z)(function*(){return F(!C.accessToken||C.refreshToken,d,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,m){var C=this;return(0,g.Z)(function*(){const{accessToken:D,refreshToken:L,expiresIn:q}=yield function Ie(y,d){return tt.apply(this,arguments)}(d,m);C.updateTokensAndExpiration(D,L,Number(q))})()}updateTokensAndExpiration(d,m,C){this.refreshToken=m||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,m){const{refreshToken:C,accessToken:D,expirationTime:L}=m,q=new Dt;return C&&(F("string"==typeof C,"internal-error",{appName:d}),q.refreshToken=C),D&&(F("string"==typeof D,"internal-error",{appName:d}),q.accessToken=D),L&&(F("number"==typeof L,"internal-error",{appName:d}),q.expirationTime=L),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Dt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Lt(y,d){F("string"==typeof y||typeof y>"u","internal-error",{appName:d})}class Ut{constructor(d){var{uid:m,auth:C,stsTokenManager:D}=d,L=(0,he._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new _i(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(d){var m=this;return(0,g.Z)(function*(){const C=yield wr(m,m.stsTokenManager.getToken(m.auth,d));return F(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(d){return function Wn(y){return En.apply(this,arguments)}(this,d)}reload(){return function on(y){return ir.apply(this,arguments)}(this)}_assign(d){this!==d&&(F(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(m=>Object.assign({},m)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Ut(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,m=!1){var C=this;return(0,g.Z)(function*(){let D=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),D=!0),m&&(yield sn(C)),yield C.auth._persistUserIfCurrent(C),D&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,g.Z)(function*(){const m=yield d.getIdToken();return yield wr(d,function mo(y,d){return Qe.apply(this,arguments)}(d.auth,{idToken:m})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,m){var C,D,L,q,ue,Fe,Xe,It;const yt=null!==(C=m.displayName)&&void 0!==C?C:void 0,mn=null!==(D=m.email)&&void 0!==D?D:void 0,ur=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,T1=null!==(q=m.photoURL)&&void 0!==q?q:void 0,vu=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,r3=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,i3=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,Fc=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:s3,emailVerified:yu,isAnonymous:Xs,providerData:Zo,stsTokenManager:_u}=m;F(s3&&_u,d,"internal-error");const R5=Dt.fromJSON(this.name,_u);F("string"==typeof s3,d,"internal-error"),Lt(yt,d.name),Lt(mn,d.name),F("boolean"==typeof yu,d,"internal-error"),F("boolean"==typeof Xs,d,"internal-error"),Lt(ur,d.name),Lt(T1,d.name),Lt(vu,d.name),Lt(r3,d.name),Lt(i3,d.name),Lt(Fc,d.name);const Ko=new Ut({uid:s3,auth:d,email:mn,emailVerified:yu,displayName:yt,isAnonymous:Xs,photoURL:T1,phoneNumber:ur,tenantId:vu,stsTokenManager:R5,createdAt:i3,lastLoginAt:Fc});return Zo&&Array.isArray(Zo)&&(Ko.providerData=Zo.map(eo=>Object.assign({},eo))),r3&&(Ko._redirectEventId=r3),Ko}static _fromIdTokenResponse(d,m,C=!1){return(0,g.Z)(function*(){const D=new Dt;D.updateFromServerResponse(m);const L=new Ut({uid:m.localId,auth:d,stsTokenManager:D,isAnonymous:C});return yield sn(L),L})()}}const V=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(m,C){var D=this;return(0,g.Z)(function*(){D.storage[m]=C})()}_get(m){var C=this;return(0,g.Z)(function*(){const D=C.storage[m];return void 0===D?null:D})()}_remove(m){var C=this;return(0,g.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Z(y,d,m){return`firebase:${y}:${d}:${m}`}class we{constructor(d,m,C){this.persistence=d,this.auth=m,this.userKey=C;const{config:D,name:L}=this.auth;this.fullUserKey=Z(this.userKey,D.apiKey,L),this.fullPersistenceKey=Z("persistence",D.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const m=yield d.persistence._get(d.fullUserKey);return m?Ut._fromJSON(d.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var m=this;return(0,g.Z)(function*(){if(m.persistence===d)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=d,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,m,C="authUser"){return(0,g.Z)(function*(){if(!m.length)return new we(se(V),d,C);const D=(yield Promise.all(m.map(function(){var Xe=(0,g.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let L=D[0]||se(V);const q=Z(C,d.config.apiKey,d.name);let ue=null;for(const Xe of m)try{const It=yield Xe._get(q);if(It){const yt=Ut._fromJSON(d,It);Xe!==L&&(ue=yt),L=Xe;break}}catch{}const Fe=D.filter(Xe=>Xe._shouldAllowMigration);return L._shouldAllowMigration&&Fe.length?(L=Fe[0],ue&&(yield L._set(q,ue.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,g.Z)(function*(It){if(It!==L)try{yield It._remove(q)}catch{}});return function(It){return Xe.apply(this,arguments)}}())),new we(L,d,C)):new we(L,d,C)})()}}function Y(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(bn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ge(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ve(d))return"Blackberry";if(je(d))return"Webos";if(mt(d))return"Safari";if((d.includes("chrome/")||Jt(d))&&!d.includes("edge/"))return"Chrome";if(Kt(d))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ge(y=(0,k.z$)()){return/firefox\//i.test(y)}function mt(y=(0,k.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Jt(y=(0,k.z$)()){return/crios\//i.test(y)}function bn(y=(0,k.z$)()){return/iemobile/i.test(y)}function Kt(y=(0,k.z$)()){return/android/i.test(y)}function Ve(y=(0,k.z$)()){return/blackberry/i.test(y)}function je(y=(0,k.z$)()){return/webos/i.test(y)}function Bt(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Gi(y=(0,k.z$)()){return Bt(y)||Kt(y)||je(y)||Ve(y)||/windows phone/i.test(y)||bn(y)}function Ci(y,d=[]){let m;switch(y){case"Browser":m=Y((0,k.z$)());break;case"Worker":m=`${Y((0,k.z$)())}-${y}`;break;default:m=y}const C=d.length?d.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${C}`}class Ds{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,m){const C=L=>new Promise((q,ue)=>{try{q(d(L))}catch(Fe){ue(Fe)}});C.onAbort=m,this.queue.push(C);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(d){var m=this;return(0,g.Z)(function*(){if(m.auth.currentUser===d)return;const C=[];try{for(const D of m.queue)yield D(d),D.onAbort&&C.push(D.onAbort)}catch(D){C.reverse();for(const L of C)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Ot{constructor(d,m,C){this.app=d,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qi(this),this.idTokenSubscription=new qi(this),this.beforeStateQueue=new Ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(d,m){var C=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,g.Z)(function*(){var D,L;if(!C._deleted&&(C.persistenceManager=yield we.create(C,d),!C._deleted)){if(null!==(D=C._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const m=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||m){if(d.currentUser&&m&&d.currentUser.uid===m.uid)return d._currentUser._assign(m),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(m,!0)}})()}initializeCurrentUser(d){var m=this;return(0,g.Z)(function*(){var C;const D=yield m.assertedPersistence.getCurrentUser();let L=D,q=!1;if(d&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Fe=L?._redirectEventId,Xe=yield m.tryRedirectSignIn(d);(!ue||ue===Fe)&&Xe?.user&&(L=Xe.user,q=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(q)try{yield m.beforeStateQueue.runMiddleware(L)}catch(ue){L=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return F(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(d){var m=this;return(0,g.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,d,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var m=this;return(0,g.Z)(function*(){try{yield sn(d)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var m=this;return(0,g.Z)(function*(){const C=d?(0,k.m9)(d):null;return C&&F(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(d,m=!1){var C=this;return(0,g.Z)(function*(){if(!C._deleted)return d&&F(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,g.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var m=this;return this.queue((0,g.Z)(function*(){yield m.assertedPersistence.setPersistence(se(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new k.LL("auth","Firebase",d())}onAuthStateChanged(d,m,C){return this.registerStateListener(this.authStateSubscription,d,m,C)}beforeAuthStateChanged(d,m){return this.beforeStateQueue.pushCallback(d,m)}onIdTokenChanged(d,m,C){return this.registerStateListener(this.idTokenSubscription,d,m,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,m){var C=this;return(0,g.Z)(function*(){const D=yield C.getOrInitRedirectPersistenceManager(m);return null===d?D.removeCurrentUser():D.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var m=this;return(0,g.Z)(function*(){if(!m.redirectPersistenceManager){const C=d&&se(d)||m._popupRedirectResolver;F(C,m,"argument-error"),m.redirectPersistenceManager=yield we.create(m,[se(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(d){var m=this;return(0,g.Z)(function*(){var C,D;return m._isInitialized&&(yield m.queue((0,g.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===d?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===d?m.redirectUser:null})()}_persistUserIfCurrent(d){var m=this;return(0,g.Z)(function*(){if(d===m.currentUser)return m.queue((0,g.Z)(function*(){return m.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,m,C,D){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return F(q,this,"internal-error"),q.then(()=>L(this.currentUser)),"function"==typeof m?d.addObserver(m,C,D):d.addObserver(m)}directlySetCurrentUser(d){var m=this;return(0,g.Z)(function*(){m.currentUser&&m.currentUser!==d&&m._currentUser._stopProactiveRefresh(),d&&m.isProactiveRefreshEnabled&&d._startProactiveRefresh(),m.currentUser=d,d?yield m.assertedPersistence.setCurrentUser(d):yield m.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var m;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const D=yield null===(m=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(C["X-Firebase-Client"]=D),C})()}}function Nn(y){return(0,k.m9)(y)}class qi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function H1(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function wi(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class br{constructor(d,m){this.providerId=d,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(d){return ge("not implemented")}_linkToIdToken(d,m){return ge("not implemented")}_getReauthenticationResolver(d){return ge("not implemented")}}function Qn(y,d){return go.apply(this,arguments)}function go(){return(go=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:resetPassword",Pt(y,d))})).apply(this,arguments)}function un(y,d){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Qa(y,d){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:update",Pt(y,d))})).apply(this,arguments)}function Ts(){return(Ts=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signInWithPassword",Pt(y,d))})).apply(this,arguments)}function Ei(y,d){return M1.apply(this,arguments)}function M1(){return(M1=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:sendOobCode",Pt(y,d))})).apply(this,arguments)}function Yn(y,d){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,g.Z)(function*(y,d){return Ei(y,d)})).apply(this,arguments)}function pr(y,d){return jr.apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(y,d){return Ei(y,d)})).apply(this,arguments)}function M2(y,d){return yo.apply(this,arguments)}function yo(){return(yo=(0,g.Z)(function*(y,d){return Ei(y,d)})).apply(this,arguments)}function Ja(y,d){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(y,d){return Ei(y,d)})).apply(this,arguments)}function P4(){return(P4=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,d))})).apply(this,arguments)}function Xa(){return(Xa=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,d))})).apply(this,arguments)}class ec extends br{constructor(d,m,C,D=null){super("password",C),this._email=d,this._password=m,this._tenantId=D}static _fromEmailAndPassword(d,m){return new ec(d,m,"password")}static _fromEmailAndCode(d,m,C=null){return new ec(d,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(d){var m=this;return(0,g.Z)(function*(){switch(m.signInMethod){case"password":return function vo(y,d){return Ts.apply(this,arguments)}(d,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function D0(y,d){return P4.apply(this,arguments)}(d,{email:m._email,oobCode:m._password});default:Te(d,"internal-error")}})()}_linkToIdToken(d,m){var C=this;return(0,g.Z)(function*(){switch(C.signInMethod){case"password":return un(d,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function O4(y,d){return Xa.apply(this,arguments)}(d,{idToken:m,email:C._email,oobCode:C._password});default:Te(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function or(y,d){return V4.apply(this,arguments)}function V4(){return(V4=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signInWithIdp",Pt(y,d))})).apply(this,arguments)}class X1 extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const m=new X1(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(m.idToken=d.idToken),d.accessToken&&(m.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(m.nonce=d.nonce),d.pendingToken&&(m.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(m.accessToken=d.oauthToken,m.secret=d.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:D}=m,L=(0,he._T)(m,["providerId","signInMethod"]);if(!C||!D)return null;const q=new X1(C,D);return q.idToken=L.idToken||void 0,q.accessToken=L.accessToken||void 0,q.secret=L.secret,q.nonce=L.nonce,q.pendingToken=L.pendingToken||null,q}_getIdTokenResponse(d){return or(d,this.buildRequest())}_linkToIdToken(d,m){const C=this.buildRequest();return C.idToken=m,or(d,C)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,or(d,m)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),d.postBody=(0,k.xO)(m)}return d}}function $l(y,d){return H4.apply(this,arguments)}function H4(){return(H4=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:sendVerificationCode",Pt(y,d))})).apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,d))})).apply(this,arguments)}function F4(){return(F4=(0,g.Z)(function*(y,d){const m=yield Jr(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,d));if(m.temporaryProof)throw u1(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ql={USER_NOT_FOUND:"user-not-found"};function U4(){return(U4=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ql)})).apply(this,arguments)}class Ii extends br{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,m){return new Ii({verificationId:d,verificationCode:m})}static _fromTokenResponse(d,m){return new Ii({phoneNumber:d,temporaryProof:m})}_getIdTokenResponse(d){return function tc(y,d){return Mi.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,m){return function Gl(y,d){return F4.apply(this,arguments)}(d,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Wl(y,d){return U4.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:m,verificationId:C,verificationCode:D}=this.params;return d&&m?{temporaryProof:d,phoneNumber:m}:{sessionInfo:C,code:D}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:L}=d;return C||m||D||L?new Ii({verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:L}):null}}class I2{constructor(d){var m,C,D,L,q,ue;const Fe=(0,k.zd)((0,k.pd)(d)),Xe=null!==(m=Fe.apiKey)&&void 0!==m?m:null,It=null!==(C=Fe.oobCode)&&void 0!==C?C:null,yt=function B4(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Fe.mode)&&void 0!==D?D:null);F(Xe&&It&&yt,"argument-error"),this.apiKey=Xe,this.operation=yt,this.code=It,this.continueUrl=null!==(L=Fe.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(q=Fe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ue=Fe.tenantId)&&void 0!==ue?ue:null}static parseLink(d){const m=function j4(y){const d=(0,k.zd)((0,k.pd)(y)).link,m=d?(0,k.zd)((0,k.pd)(d)).deep_link_id:null,C=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(C?(0,k.zd)((0,k.pd)(C)).link:null)||C||m||d||y}(d);try{return new I2(m)}catch{return null}}}let F1=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return ec._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const D=I2.parseLink(C);return F(D,"argument-error"),ec._fromEmailAndCode(m,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ei{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ti extends ei{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Zi extends ti{static credentialFromJSON(d){const m="string"==typeof d?JSON.parse(d):d;return F("providerId"in m&&"signInMethod"in m,"argument-error"),X1._fromParams(m)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return F(d.idToken||d.accessToken,"argument-error"),X1._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Zi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Zi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:D,pendingToken:L,nonce:q,providerId:ue}=d;if(!C&&!D&&!m&&!L||!ue)return null;try{return new Zi(ue)._credential({idToken:m,accessToken:C,nonce:q,pendingToken:L})}catch{return null}}}let _o=(()=>{class y extends ti{constructor(){super("facebook.com")}static credential(m){return X1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),S2=(()=>{class y extends ti{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return X1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:D}=m;if(!C&&!D)return null;try{return y.credential(C,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),nc=(()=>{class y extends ti{constructor(){super("github.com")}static credential(m){return X1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class xs extends br{constructor(d,m){super(d,d),this.pendingToken=m}_getIdTokenResponse(d){return or(d,this.buildRequest())}_linkToIdToken(d,m){const C=this.buildRequest();return C.idToken=m,or(d,C)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,or(d,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:D,pendingToken:L}=m;return C&&D&&L&&C===D?new xs(C,L):null}static _create(d,m){return new xs(d,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class f1 extends ei{constructor(d){F(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return f1.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return f1.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const m=xs.fromJSON(d);return F(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:m,providerId:C}=d;if(!m||!C)return null;try{return xs._create(C,m)}catch{return null}}}let t1=(()=>{class y extends ti{constructor(){super("twitter.com")}static credential(m,C){return X1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:D}=m;if(!C||!D)return null;try{return y.credential(C,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ns(y,d){return rc.apply(this,arguments)}function rc(){return(rc=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signUp",Pt(y,d))})).apply(this,arguments)}class Er{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,m,C,D=!1){return(0,g.Z)(function*(){const L=yield Ut._fromIdTokenResponse(d,C,D),q=N0(C);return new Er({user:L,providerId:q,_tokenResponse:C,operationType:m})})()}static _forOperation(d,m,C){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const D=N0(C);return new Er({user:d,providerId:D,_tokenResponse:C,operationType:m})})()}}function N0(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Rn(){return(Rn=(0,g.Z)(function*(y){var d;const m=Nn(y);if(yield m._initializationPromise,null!==(d=m.currentUser)&&void 0!==d&&d.isAnonymous)return new Er({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Ns(m,{returnSecureToken:!0}),D=yield Er._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class A2 extends k.ZR{constructor(d,m,C,D){var L;super(m.code,m.message),this.operationType=C,this.user=D,Object.setPrototypeOf(this,A2.prototype),this.customData={appName:d.name,tenantId:null!==(L=d.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,m,C,D){return new A2(d,m,C,D)}}function z0(y,d,m,C){return("reauthenticate"===d?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?A2._fromErrorAndOperation(y,L,d,C):L})}function d1(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function D2(){return(D2=(0,g.Z)(function*(y,d){const m=(0,k.m9)(y);yield Qt(!0,m,d);const{providerUserInfo:C}=yield Ar(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[d]}),D=d1(C||[]);return m.providerData=m.providerData.filter(L=>D.has(L.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ki(y,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,g.Z)(function*(y,d,m=!1){const C=yield wr(y,d._linkToIdToken(y.auth,yield y.getIdToken()),m);return Er._forOperation(y,"link",C)})).apply(this,arguments)}function Qt(y,d,m){return T2.apply(this,arguments)}function T2(){return(T2=(0,g.Z)(function*(y,d,m){yield sn(d);const D=!1===y?"provider-already-linked":"no-such-provider";F(d1(d.providerData).has(m)===y,d.auth,D)})).apply(this,arguments)}function Qi(y,d){return x2.apply(this,arguments)}function x2(){return(x2=(0,g.Z)(function*(y,d,m=!1){const{auth:C}=y,D="reauthenticate";try{const L=yield wr(y,z0(C,D,d,y),m);F(L.idToken,C,"internal-error");const q=ht(L.idToken);F(q,C,"internal-error");const{sub:ue}=q;return F(y.uid===ue,C,"user-mismatch"),Er._forOperation(y,D,L)}catch(L){throw"auth/user-not-found"===L?.code&&Te(C,"user-mismatch"),L}})).apply(this,arguments)}function I1(y,d){return N2.apply(this,arguments)}function N2(){return(N2=(0,g.Z)(function*(y,d,m=!1){const C="signIn",D=yield z0(y,C,d),L=yield Er._fromIdTokenResponse(y,C,D);return m||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function zn(y,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,g.Z)(function*(y,d){return I1(Nn(y),d)})).apply(this,arguments)}function L2(y,d){return k0.apply(this,arguments)}function k0(){return(k0=(0,g.Z)(function*(y,d){const m=(0,k.m9)(y);return yield Qt(!1,m,d.providerId),Ki(m,d)})).apply(this,arguments)}function z2(y,d){return k2.apply(this,arguments)}function k2(){return(k2=(0,g.Z)(function*(y,d){return Qi((0,k.m9)(y),d)})).apply(this,arguments)}function ic(y,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(y,d){return Jr(y,"POST","/v1/accounts:signInWithCustomToken",Pt(y,d))})).apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(y,d){const m=Nn(y),C=yield ic(m,{token:d,returnSecureToken:!0}),D=yield Er._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Se{constructor(d,m){this.factorId=d,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(d,m){return"phoneInfo"in m?Wt._fromServerResponse(d,m):Te(d,"internal-error")}}class Wt extends Se{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,m){return new Wt(m)}}function oc(y,d,m){var C;F((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),F(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=m.url,d.dynamicLinkDomain=m.dynamicLinkDomain,d.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(F(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=m.iOS.bundleId),m.android&&(F(m.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=m.android.installApp,d.androidMinimumVersionCode=m.android.minimumVersion,d.androidPackageName=m.android.packageName)}function Pn(){return(Pn=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y),D={requestType:"PASSWORD_RESET",email:d};m&&oc(C,D,m),yield pr(C,D)})).apply(this,arguments)}function Ls(){return(Ls=(0,g.Z)(function*(y,d,m){yield Qn((0,k.m9)(y),{oobCode:d,newPassword:m})})).apply(this,arguments)}function wo(){return(wo=(0,g.Z)(function*(y,d){yield Qa((0,k.m9)(y),{oobCode:d})})).apply(this,arguments)}function bo(y,d){return cc.apply(this,arguments)}function cc(){return(cc=(0,g.Z)(function*(y,d){const m=(0,k.m9)(y),C=yield Qn(m,{oobCode:d}),D=C.requestType;switch(F(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":F(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":F(C.mfaInfo,m,"internal-error");default:F(C.email,m,"internal-error")}let L=null;return C.mfaInfo&&(L=Se._fromServerResponse(Nn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:D}})).apply(this,arguments)}function $4(){return($4=(0,g.Z)(function*(y,d){const{data:m}=yield bo((0,k.m9)(y),d);return m.email})).apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(y,d,m){const C=Nn(y),D=yield Ns(C,{returnSecureToken:!0,email:d,password:m}),L=yield Er._fromIdTokenResponse(C,"signIn",D);return yield C._updateCurrentUser(L.user),L})).apply(this,arguments)}function Yi(){return(Yi=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y),D={requestType:"EMAIL_SIGNIN",email:d};F(m.handleCodeInApp,C,"argument-error"),m&&oc(C,D,m),yield M2(C,D)})).apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y),D=F1.credentialWithLink(d,m||ke());return F(D._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),zn(C,D)})).apply(this,arguments)}function Kl(y,d){return hc.apply(this,arguments)}function hc(){return(hc=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:createAuthUri",Pt(y,d))})).apply(this,arguments)}function Io(){return(Io=(0,g.Z)(function*(y,d){const C={identifier:d,continueUri:pt()?ke():"http://localhost"},{signinMethods:D}=yield Kl((0,k.m9)(y),C);return D||[]})).apply(this,arguments)}function So(){return(So=(0,g.Z)(function*(y,d){const m=(0,k.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&oc(m.auth,D,d);const{email:L}=yield Yn(m.auth,D);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function O2(){return(O2=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};m&&oc(C.auth,L,m);const{email:q}=yield Ja(C.auth,L);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function V2(y,d){return pc.apply(this,arguments)}function pc(){return(pc=(0,g.Z)(function*(y,d){return yn(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function gc(){return(gc=(0,g.Z)(function*(y,{displayName:d,photoURL:m}){if(void 0===d&&void 0===m)return;const C=(0,k.m9)(y),L={idToken:yield C.getIdToken(),displayName:d,photoUrl:m,returnSecureToken:!0},q=yield wr(C,V2(C.auth,L));C.displayName=q.displayName||null,C.photoURL=q.photoUrl||null;const ue=C.providerData.find(({providerId:Fe})=>"password"===Fe);ue&&(ue.displayName=C.displayName,ue.photoURL=C.photoURL),yield C._updateTokensIfNecessary(q)})).apply(this,arguments)}function Xi(y,d,m){return H2.apply(this,arguments)}function H2(){return(H2=(0,g.Z)(function*(y,d,m){const{auth:C}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(L.email=d),m&&(L.password=m);const q=yield wr(y,un(C,L));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class n1{constructor(d,m,C={}){this.isNewUser=d,this.providerId=m,this.profile=C}}class Mn extends n1{constructor(d,m,C,D){super(d,m,C),this.username=D}}class q4 extends n1{constructor(d,m){super(d,"facebook.com",m)}}class vc extends Mn{constructor(d,m){super(d,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class R0 extends n1{constructor(d,m){super(d,"google.com",m)}}class yc extends Mn{constructor(d,m,C){super(d,"twitter.com",m,C)}}function F2(y){const{user:d,_tokenResponse:m}=y;return d.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ar(y){var d,m;if(!y)return null;const{providerId:C}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const q=null===(m=null===(d=ht(y.idToken))||void 0===d?void 0:d.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new n1(L,"anonymous"!==q&&"custom"!==q?q:null)}if(!C)return null;switch(C){case"facebook.com":return new q4(L,D);case"github.com":return new vc(L,D);case"google.com":return new R0(L,D);case"twitter.com":return new yc(L,D,y.screenName||null);case"custom":case"anonymous":return new n1(L,null);default:return new n1(L,C,D)}}(m)}class ts{constructor(d,m,C){this.type=d,this.credential=m,this.auth=C}static _fromIdtoken(d,m){return new ts("enroll",d,m)}static _fromMfaPendingCredential(d){return new ts("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var m,C;if(d?.multiFactorSession){if(null!==(m=d.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ts._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(C=d.multiFactorSession)&&void 0!==C&&C.idToken)return ts._fromIdtoken(d.multiFactorSession.idToken)}return null}}class B2{constructor(d,m,C){this.session=d,this.hints=m,this.signInResolver=C}static _fromError(d,m){const C=Nn(d),D=m.customData._serverResponse,L=(D.mfaInfo||[]).map(ue=>Se._fromServerResponse(C,ue));F(D.mfaPendingCredential,C,"internal-error");const q=ts._fromMfaPendingCredential(D.mfaPendingCredential);return new B2(q,L,function(){var ue=(0,g.Z)(function*(Fe){const Xe=yield Fe._process(C,q);delete D.mfaInfo,delete D.mfaPendingCredential;const It=Object.assign(Object.assign({},D),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const yt=yield Er._fromIdTokenResponse(C,m.operationType,It);return yield C._updateCurrentUser(yt.user),yt;case"reauthenticate":return F(m.user,C,"internal-error"),Er._forOperation(m.user,m.operationType,It);default:Te(C,"internal-error")}});return function(Fe){return ue.apply(this,arguments)}}())}resolveSignIn(d){var m=this;return(0,g.Z)(function*(){return m.signInResolver(d)})()}}function j2(y,d){return yn(y,"POST","/v2/accounts/mfaEnrollment:start",Pt(y,d))}class P0{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Se._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new P0(d)}getSession(){var d=this;return(0,g.Z)(function*(){return ts._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,m){var C=this;return(0,g.Z)(function*(){const D=d,L=yield C.getSession(),q=yield wr(C.user,D._process(C.user.auth,L,m));return yield C.user._updateTokensIfNecessary(q),C.user.reload()})()}unenroll(d){var m=this;return(0,g.Z)(function*(){const C="string"==typeof d?d:d.uid,D=yield m.user.getIdToken(),L=yield wr(m.user,function Q4(y,d){return yn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(y,d))}(m.user.auth,{idToken:D,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:q})=>q!==C),yield m.user._updateTokensIfNecessary(L);try{yield m.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const ns=new WeakMap,rs="__sak";class G2{constructor(d,m){this.storageRetriever=d,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,m){return this.storage.setItem(d,JSON.stringify(m)),Promise.resolve()}_get(d){const m=this.storage.getItem(d);return Promise.resolve(m?JSON.parse(m):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Do=(()=>{class y extends G2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ao(){const y=(0,k.z$)();return mt(y)||Bt(y)}()&&function An(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const D=this.storage.getItem(C),L=this.localCache[C];D!==L&&m(C,L,D)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((ue,Fe,Xe)=>{this.notifyListeners(ue,Xe)});const D=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(D);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!C)return}const L=()=>{const ue=this.storage.getItem(D);!C&&this.localCache[D]===ue||this.notifyListeners(D,ue)},q=this.storage.getItem(D);!function sr(){return(0,k.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const L of Array.from(D))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var D=()=>super._set,L=this;return(0,g.Z)(function*(){yield D().call(L,m,C),L.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,D=this;return(0,g.Z)(function*(){const L=yield C().call(D,m);return D.localCache[m]=JSON.stringify(L),L})()}_remove(m){var C=()=>super._remove,D=this;return(0,g.Z)(function*(){yield C().call(D,m),delete D.localCache[m]})()}}return y.type="LOCAL",y})(),B1=(()=>{class y extends G2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let X4=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(L=>L.isListeningto(m));if(C)return C;const D=new y(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,g.Z)(function*(){const D=m,{eventId:L,eventType:q,data:ue}=D.data,Fe=C.handlersMap[q];if(!Fe?.size)return;D.ports[0].postMessage({status:"ack",eventId:L,eventType:q});const Xe=Array.from(Fe).map(function(){var yt=(0,g.Z)(function*(mn){return mn(D.origin,ue)});return function(mn){return yt.apply(this,arguments)}}()),It=yield function xo(y){return Promise.all(y.map(function(){var d=(0,g.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return d.apply(this,arguments)}}()))}(Xe);D.ports[0].postMessage({status:"done",eventId:L,eventType:q,response:It})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function No(y="",d=10){let m="";for(let C=0;C<d;C++)m+=Math.floor(10*Math.random());return y+m}class _c{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,m,C=50){var D=this;return(0,g.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let q,ue;return new Promise((Fe,Xe)=>{const It=No("",20);L.port1.start();const yt=setTimeout(()=>{Xe(new Error("unsupported_event"))},C);ue={messageChannel:L,onMessage(mn){const ur=mn;if(ur.data.eventId===It)switch(ur.data.status){case"ack":clearTimeout(yt),q=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Fe(ur.data.response);break;default:clearTimeout(yt),clearTimeout(q),Xe(new Error("invalid_response"))}}},D.handlers.add(ue),L.port1.addEventListener("message",ue.onMessage),D.target.postMessage({eventType:d,eventId:It,data:m},[L.port2])}).finally(()=>{ue&&D.removeMessageHandler(ue)})})()}}function Un(){return window}function q2(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function Lo(){return(Lo=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Di="firebaseLocalStorageDb",Ti="firebaseLocalStorage",K2="fbase_key";class ss{constructor(d){this.request=d}toPromise(){return new Promise((d,m)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function zo(y,d){return y.transaction([Ti],d?"readwrite":"readonly").objectStore(Ti)}function Ps(){const y=indexedDB.open(Di,1);return new Promise((d,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Ti,{keyPath:K2})}catch(D){m(D)}}),y.addEventListener("success",(0,g.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Ti)?d(C):(C.close(),yield function t6(){const y=indexedDB.deleteDatabase(Di);return new ss(y).toPromise()}(),d(yield Ps()))}))})}function oi(y,d,m){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,g.Z)(function*(y,d,m){const C=zo(y,!0).put({[K2]:d,value:m});return new ss(C).toPromise()})).apply(this,arguments)}function ko(){return(ko=(0,g.Z)(function*(y,d){const m=zo(y,!1).get(d),C=yield new ss(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function os(y,d){const m=zo(y,!0).delete(d);return new ss(m).toPromise()}const Os=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,g.Z)(function*(){return m.db||(m.db=yield Ps()),m.db})()}_withRetries(m){var C=this;return(0,g.Z)(function*(){let D=0;for(;;)try{const L=yield C._openDb();return yield m(L)}catch(L){if(D++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,g.Z)(function*(){return q2()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,g.Z)(function*(){m.receiver=X4._getInstance(function Z2(){return q2()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,g.Z)(function*(D,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(D,L){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,g.Z)(function*(D,L){return["keyChanged"]});return function(D,L){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,g.Z)(function*(){var C,D;if(m.activeServiceWorker=yield function is(){return Lo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new _c(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(C=L[0])||void 0===C?void 0:C.fulfilled)&&(null===(D=L[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,g.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function W2(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ps();return yield oi(m,rs,"1"),yield os(m,rs),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,g.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var D=this;return(0,g.Z)(function*(){return D._withPendingWrite((0,g.Z)(function*(){return yield D._withRetries(L=>oi(L,m,C)),D.localCache[m]=C,D.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,g.Z)(function*(){const D=yield C._withRetries(L=>function Q2(y,d){return ko.apply(this,arguments)}(L,m));return C.localCache[m]=D,D})()}_remove(m){var C=this;return(0,g.Z)(function*(){return C._withPendingWrite((0,g.Z)(function*(){return yield C._withRetries(D=>os(D,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,g.Z)(function*(){const C=yield m._withRetries(q=>{const ue=zo(q,!1).getAll();return new ss(ue).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const D=[],L=new Set;for(const{fbase_key:q,value:ue}of C)L.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(ue)&&(m.notifyListeners(q,ue),D.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!L.has(q)&&(m.notifyListeners(q,null),D.push(q));return D})()}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const L of Array.from(D))L(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Vs(y,d){return yn(y,"POST","/v2/accounts/mfaSignIn:start",Pt(y,d))}function Ni(){return(Ni=(0,g.Z)(function*(y){return(yield yn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fs(y){return new Promise((d,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=d,C.onerror=D=>{const L=Ce("internal-error");L.customData=D,m(L)},C.type="text/javascript",C.charset="UTF-8",function Hs(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(C)})}function X2(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ro=1e12;class In{constructor(d){this.auth=d,this.counter=Ro,this._widgets=new Map}render(d,m){const C=this.counter;return this._widgets.set(C,new Ql(d,this.auth.name,m||{})),this.counter++,C}reset(d){var m;const C=d||Ro;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(d){var m;return(null===(m=this._widgets.get(d||Ro))||void 0===m?void 0:m.getResponse())||""}execute(d){var m=this;return(0,g.Z)(function*(){var C;return null===(C=m._widgets.get(d||Ro))||void 0===C||C.execute(),""})()}}class Ql{constructor(d,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof d?document.getElementById(d):d;F(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function d5(y){const d=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)d.push(m.charAt(Math.floor(Math.random()*m.length)));return d.join("")}(50);const{callback:d,"expired-callback":m}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yl=X2("rcb"),p5=new pn(3e4,6e4);class O0{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Un().grecaptcha)||void 0===d||!d.render)}load(d,m=""){return F(function Nd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),d,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Un().grecaptcha):new Promise((C,D)=>{const L=Un().setTimeout(()=>{D(Ce(d,"network-request-failed"))},p5.get());Un()[Yl]=()=>{Un().clearTimeout(L),delete Un()[Yl];const ue=Un().grecaptcha;if(!ue)return void D(Ce(d,"internal-error"));const Fe=ue.render;ue.render=(Xe,It)=>{const yt=Fe(Xe,It);return this.counter++,yt},this.hostLanguage=m,C(ue)},Fs(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Yl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),D(Ce(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var m;return!(null===(m=Un().grecaptcha)||void 0===m||!m.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Po{load(d){return(0,g.Z)(function*(){return new In(d)})()}clearedOneInstance(){}}const Jl="recaptcha",Xl={theme:"light",type:"image"};class gr{constructor(d,m=Object.assign({},Xl),C){this.parameters=m,this.type=Jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(C),this.isInvisible="invisible"===this.parameters.size,F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof d?document.getElementById(d):d;F(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Po:new O0,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const m=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(m)||new Promise(L=>{const q=ue=>{!ue||(d.tokenChangeListeners.delete(q),L(ue))};d.tokenChangeListeners.add(q),d.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof d)d(m);else if("string"==typeof d){const C=Un()[d];"function"==typeof C&&C(m)}}}assertNotDestroyed(){F(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let m=d.container;if(!d.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}d.widgetId=d.getAssertedRecaptcha().render(m,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){F(pt()&&!q2(),d.auth,"internal-error"),yield function _n(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const m=yield function r1(y){return Ni.apply(this,arguments)}(d.auth);F(m,d.auth,"internal-error"),d.parameters.sitekey=m})()}getAssertedRecaptcha(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class j1{constructor(d,m){this.verificationId=d,this.onConfirmation=m}confirm(d){const m=Ii._fromVerification(this.verificationId,d);return this.onConfirmation(m)}}function xr(){return(xr=(0,g.Z)(function*(y,d,m){const C=Nn(y),D=yield Li(C,d,(0,k.m9)(m));return new j1(D,L=>zn(C,L))})).apply(this,arguments)}function A1(){return(A1=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y);yield Qt(!1,C,"phone");const D=yield Li(C.auth,d,(0,k.m9)(m));return new j1(D,L=>L2(C,L))})).apply(this,arguments)}function Nr(){return(Nr=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y),D=yield Li(C.auth,d,(0,k.m9)(m));return new j1(D,L=>z2(C,L))})).apply(this,arguments)}function Li(y,d,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,g.Z)(function*(y,d,m){var C;const D=yield m.verify();try{let L;if(F("string"==typeof D,y,"argument-error"),F(m.type===Jl,y,"argument-error"),L="string"==typeof d?{phoneNumber:d}:d,"session"in L){const q=L.session;if("phoneNumber"in L)return F("enroll"===q.type,y,"internal-error"),(yield j2(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{F("signin"===q.type,y,"internal-error");const ue=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return F(ue,y,"missing-multi-factor-info"),(yield Vs(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield $l(y,{phoneNumber:L.phoneNumber,recaptchaToken:D});return q}}finally{m._reset()}})).apply(this,arguments)}function bc(){return(bc=(0,g.Z)(function*(y,d){yield Ki((0,k.m9)(y),d)})).apply(this,arguments)}let ta=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Nn(m)}verifyPhoneNumber(m,C){return Li(this.auth,m,(0,k.m9)(C))}static credential(m,C){return Ii._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:D}=m;return C&&D?Ii._fromTokenResponse(C,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Bs(y,d){return d?se(d):(F(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class zi extends br{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return or(d,this._buildIdpRequest())}_linkToIdToken(d,m){return or(d,this._buildIdpRequest(m))}_getReauthenticationResolver(d){return or(d,this._buildIdpRequest())}_buildIdpRequest(d){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(m.idToken=d),m}}function it(y){return I1(y.auth,new zi(y),y.bypassAuthState)}function Vo(y){const{auth:d,user:m}=y;return F(m,d,"internal-error"),Qi(m,new zi(y),y.bypassAuthState)}function ki(y){return na.apply(this,arguments)}function na(){return(na=(0,g.Z)(function*(y){const{auth:d,user:m}=y;return F(m,d,"internal-error"),Ki(m,new zi(y),y.bypassAuthState)})).apply(this,arguments)}class Ho{constructor(d,m,C,D,L=!1){this.auth=d,this.resolver=C,this.user=D,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var d=this;return new Promise(function(){var m=(0,g.Z)(function*(C,D){d.pendingPromise={resolve:C,reject:D};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(L){d.reject(L)}});return function(C,D){return m.apply(this,arguments)}}())}onAuthEvent(d){var m=this;return(0,g.Z)(function*(){const{urlResponse:C,sessionId:D,postBody:L,tenantId:q,error:ue,type:Fe}=d;if(ue)return void m.reject(ue);const Xe={auth:m.auth,requestUri:C,sessionId:D,tenantId:q||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(Xe))}catch(It){m.reject(It)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return it;case"linkViaPopup":case"linkViaRedirect":return ki;case"reauthViaPopup":case"reauthViaRedirect":return Vo;default:Te(this.auth,"internal-error")}}resolve(d){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cr=new pn(2e3,1e4);function js(){return(js=(0,g.Z)(function*(y,d,m){const C=Nn(y);Ue(y,d,ei);const D=Bs(C,m);return new Ri(C,"signInViaPopup",d,D).executeNotNull()})).apply(this,arguments)}function Mc(){return(Mc=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y);Ue(C.auth,d,ei);const D=Bs(C.auth,m);return new Ri(C.auth,"reauthViaPopup",d,D,C).executeNotNull()})).apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y);Ue(C.auth,d,ei);const D=Bs(C.auth,m);return new Ri(C.auth,"linkViaPopup",d,D,C).executeNotNull()})).apply(this,arguments)}let Ri=(()=>{class y extends Ho{constructor(m,C,D,L,q){super(m,C,L,q),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,g.Z)(function*(){const C=yield m.execute();return F(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,g.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const C=No();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,D;this.pollId=null!==(D=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,cr.get())};m()}}return y.currentPopupAction=null,y})();const m1=new Map;class Ic extends Ho{constructor(d,m,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,m=this;return(0,g.Z)(function*(){let C=m1.get(m.auth._key());if(!C){try{const L=(yield function $s(y,d){return s1.apply(this,arguments)}(m.resolver,m.auth))?yield d().call(m):null;C=()=>Promise.resolve(L)}catch(D){C=()=>Promise.reject(D)}m1.set(m.auth._key(),C)}return m.bypassAuthState||m1.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var m=()=>super.onAuthEvent,C=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return m().call(C,d);if("unknown"!==d.type){if(d.eventId){const D=yield C.auth._redirectUserForId(d.eventId);if(D)return C.user=D,m().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function s1(){return(s1=(0,g.Z)(function*(y,d){const m=Hn(d),C=ci(y);if(!(yield C._isAvailable()))return!1;const D="true"===(yield C._get(m));return yield C._remove(m),D})).apply(this,arguments)}function ai(y,d){return D1.apply(this,arguments)}function D1(){return(D1=(0,g.Z)(function*(y,d){return ci(y)._set(Hn(d),"true")})).apply(this,arguments)}function Oi(y,d){m1.set(y._key(),d)}function ci(y){return se(y._redirectPersistence)}function Hn(y){return Z("pendingRedirect",y.config.apiKey,y.name)}function M(){return(M=(0,g.Z)(function*(y,d,m){const C=Nn(y);Ue(y,d,ei);const D=Bs(C,m);return yield ai(D,C),D._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function O(){return(O=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y);Ue(C.auth,d,ei);const D=Bs(C.auth,m);yield ai(D,C.auth);const L=yield Mt(C);return D._openRedirect(C.auth,d,"reauthViaRedirect",L)})).apply(this,arguments)}function Me(){return(Me=(0,g.Z)(function*(y,d,m){const C=(0,k.m9)(y);Ue(C.auth,d,ei);const D=Bs(C.auth,m);yield Qt(!1,C,d.providerId),yield ai(D,C.auth);const L=yield Mt(C);return D._openRedirect(C.auth,d,"linkViaRedirect",L)})).apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(y,d){return yield Nn(y)._initializationPromise,ut(y,d,!1)})).apply(this,arguments)}function ut(y,d){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,g.Z)(function*(y,d,m=!1){const C=Nn(y),D=Bs(C,d),q=yield new Ic(C,D,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield C._persistUserIfCurrent(q.user),yield C._setRedirectUser(null,d)),q})).apply(this,arguments)}function Mt(y){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,g.Z)(function*(y){const d=No(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class Gs{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(m=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function jn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zt(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=d,m=!0)),m}sendToConsumer(d,m){var C;if(d.error&&!zt(d)){const D=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,D))}else m.onAuthEvent(d)}isEventForConsumer(d,m){const C=null===m.eventId||!!d.eventId&&d.eventId===m.eventId;return m.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(d))}saveEventToCache(d){this.cachedEventUids.add(qs(d)),this.lastProcessedEventTime=Date.now()}}function qs(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function zt({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===d?.code}function o1(y){return li.apply(this,arguments)}function li(){return(li=(0,g.Z)(function*(y,d={}){return yn(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Ld=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nu=/^https?/;function V0(){return(V0=(0,g.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield o1(y);for(const m of d)try{if(ru(m))return}catch{}Te(y,"unauthorized-domain")})).apply(this,arguments)}function ru(y){const d=ke(),{protocol:m,hostname:C}=new URL(d);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===C}if(!nu.test(m))return!1;if(Ld.test(y))return C===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(C)}const iu=new pn(3e4,6e4);function g5(){const y=Un().___jsl;if(y?.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let $1=null;function H0(y){return $1=$1||function lr(y){return new Promise((d,m)=>{var C,D,L;function q(){g5(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{g5(),m(Ce(y,"network-request-failed"))},timeout:iu.get()})}if(null!==(D=null===(C=Un().gapi)||void 0===C?void 0:C.iframes)&&void 0!==D&&D.Iframe)d(gapi.iframes.getContext());else{if(null===(L=Un().gapi)||void 0===L||!L.load){const ue=X2("iframefcb");return Un()[ue]=()=>{gapi.load?q():m(Ce(y,"network-request-failed"))},Fs(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Fe=>m(Fe))}q()}}).catch(d=>{throw $1=null,d})}(y),$1}const su=new pn(5e3,15e3),v5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ou(y){const d=y.config;F(d.authDomain,y,"auth-domain-config-required");const m=d.emulator?Sn(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:d.apiKey,appName:y.name,v:ae.SDK_VERSION},D=y5.get(y.config.apiHost);D&&(C.eid=D);const L=y._getFrameworks();return L.length&&(C.fw=L.join(",")),`${m}?${(0,k.xO)(C).slice(1)}`}function B0(){return B0=(0,g.Z)(function*(y){const d=yield H0(y),m=Un().gapi;return F(m,y,"internal-error"),d.open({where:document.body,url:ou(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v5,dontclear:!0},C=>new Promise(function(){var D=(0,g.Z)(function*(L,q){yield C.restyle({setHideOnLeave:!1});const ue=Ce(y,"network-request-failed"),Fe=Un().setTimeout(()=>{q(ue)},su.get());function Xe(){Un().clearTimeout(Fe),L(C)}C.ping(Xe).then(Xe,()=>{q(ue)})});return function(L,q){return D.apply(this,arguments)}}()))}),B0.apply(this,arguments)}const _5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class C5{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r6(y,d,m,C,D,L){F(y.config.authDomain,y,"auth-domain-config-required"),F(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:ae.SDK_VERSION,eventId:D};if(d instanceof ei){d.setDefaultLanguage(y.languageCode),q.providerId=d.providerId||"",(0,k.xb)(d.getCustomParameters())||(q.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Fe,Xe]of Object.entries(L||{}))q[Fe]=Xe}if(d instanceof ti){const Fe=d.getScopes().filter(Xe=>""!==Xe);Fe.length>0&&(q.scopes=Fe.join(","))}y.tenantId&&(q.tid=y.tenantId);const ue=q;for(const Fe of Object.keys(ue))void 0===ue[Fe]&&delete ue[Fe];return`${function Ac({config:y}){return y.emulator?Sn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(ue).slice(1)}`}const Ws="webStorageSupport";class Tc extends class b5{constructor(d){this.factorId=d}_process(d,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(d,m.credential,C);case"signin":return this._finalizeSignIn(d,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Tc(d)}_finalizeEnroll(d,m,C){return function $2(y,d){return yn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(y,d))}(d,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,m){return function J2(y,d){return yn(y,"POST","/v2/accounts/mfaSignIn:finalize",Pt(y,d))}(d,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xc=(()=>{class y{constructor(){}static assertion(m){return Tc._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Nc="@firebase/auth";class E5{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var m=this;return(0,g.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const m=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,m),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const m=this.internalListeners.get(d);!m||(this.internalListeners.delete(d),m(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cs(){return window}function s6(){return(s6=(0,g.Z)(function*(y,d,m){var C;const{BuildInfo:D}=cs();W(d.sessionId,"AuthEvent did not contain a session ID");const L=yield ca(d.sessionId),q={};return Bt()?q.ibi=D.packageName:Kt()?q.apn=D.packageName:Te(y,"operation-not-supported-in-this-environment"),D.displayName&&(q.appDisplayName=D.displayName),q.sessionId=L,r6(y,m,d.type,void 0,null!==(C=d.eventId)&&void 0!==C?C:void 0,q)})).apply(this,arguments)}function Lc(){return(Lc=(0,g.Z)(function*(y){const{BuildInfo:d}=cs(),m={};Bt()?m.iosBundleId=d.packageName:Kt()?m.androidPackageName=d.packageName:Te(y,"operation-not-supported-in-this-environment"),yield o1(y,m)})).apply(this,arguments)}function o6(){return(o6=(0,g.Z)(function*(y,d,m){const{cordova:C}=cs();let D=()=>{};try{yield new Promise((L,q)=>{let ue=null;function Fe(){var yt;L();const mn=null===(yt=C.plugins.browsertab)||void 0===yt?void 0:yt.close;"function"==typeof mn&&mn(),"function"==typeof m?.close&&m.close()}function Xe(){ue||(ue=window.setTimeout(()=>{q(Ce(y,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===document?.visibilityState&&Xe()}d.addPassiveListener(Fe),document.addEventListener("resume",Xe,!1),Kt()&&document.addEventListener("visibilitychange",It,!1),D=()=>{d.removePassiveListener(Fe),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",It,!1),ue&&window.clearTimeout(ue)}})}finally{D()}})).apply(this,arguments)}function ca(y){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,g.Z)(function*(y){const d=la(y),m=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function la(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),m=new Uint8Array(d);for(let C=0;C<y.length;C++)m[C]=y.charCodeAt(C);return m}(0,k.Pz)("authIdTokenMaxAge"),function au(y){(0,ae._registerComponent)(new le.wA("auth",(d,{options:m})=>{const C=d.getProvider("app").getImmediate(),D=d.getProvider("heartbeat"),{apiKey:L,authDomain:q}=C.options;return((ue,Fe)=>{F(L&&!L.includes(":"),"invalid-api-key",{appName:ue.name}),F(!q?.includes(":"),"argument-error",{appName:ue.name});const Xe={apiKey:L,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ci(y)},It=new Ot(ue,Fe,Xe);return function Re(y,d){const m=d?.persistence||[],C=(Array.isArray(m)?m:[m]).map(se);d?.errorMap&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(C,d?.popupRedirectResolver)}(It,m),It})(C,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,m,C)=>{d.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new le.wA("auth-internal",d=>{const m=Nn(d.getProvider("auth").getImmediate());return new E5(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Nc,"0.21.0",function M5(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Nc,"0.21.0","esm2017")}("Browser");class c6 extends Gs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function lu(y){return $o.apply(this,arguments)}function $o(){return($o=(0,g.Z)(function*(y){const d=yield Go()._get(ls(y));return d&&(yield Go()._remove(ls(y))),d})).apply(this,arguments)}function x5(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const C=Math.floor(Math.random()*d.length);y.push(d.charAt(C))}return y.join("")}function Go(){return se(Do)}function ls(y){return Z("authEvent",y.config.apiKey,y.name)}function us(y){if(!y?.includes("?"))return{};const[d,...m]=y.split("?");return(0,k.zd)(m.join("?"))}function ua(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function zc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function W0(y=(0,k.z$)()){return!("file:"!==zc()&&"ionic:"!==zc()&&"capacitor:"!==zc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function mu(){try{const y=self.localStorage,d=No();if(y)return y.setItem(d,"1"),y.removeItem(d),!function z5(y=(0,k.z$)()){return function pu(){return(0,k.w1)()&&11===document?.documentMode}()||function K0(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch{return h6()&&(0,k.hl)()}return!1}function h6(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function f6(){return(function L5(){return"http:"===zc()||"https:"===zc()}()||(0,k.ru)()||W0())&&!function Z0(){return(0,k.b$)()||(0,k.UG)()}()&&mu()&&!h6()}function fs(){return W0()&&typeof document<"u"}function kc(){return(kc=(0,g.Z)(function*(){return!!fs()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const g1={LOCAL:"local",NONE:"none",SESSION:"session"},Gr=F,Wo="persistence";function Rc(y){return d6.apply(this,arguments)}function d6(){return(d6=(0,g.Z)(function*(y){yield y._initializationPromise;const d=p6(),m=Z(Wo,y.config.apiKey,y.name);d&&d.setItem(m,y._getPersistence())})).apply(this,arguments)}function p6(){var y;try{return(null===(y=function Q0(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const m6=F;class v1{constructor(){this.browserResolver=se(class ui{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=ut,this._overrideRedirectResult=Oi}_openPopup(d,m,C,D){var L=this;return(0,g.Z)(function*(){var q;W(null===(q=L.eventManagers[d._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ue=r6(d,m,C,ke(),D);return function aa(y,d,m,C=500,D=600){const L=Math.max((window.screen.availHeight-D)/2,0).toString(),q=Math.max((window.screen.availWidth-C)/2,0).toString();let ue="";const Fe=Object.assign(Object.assign({},_5),{width:C.toString(),height:D.toString(),top:L,left:q}),Xe=(0,k.z$)().toLowerCase();m&&(ue=Jt(Xe)?"_blank":m),Ge(Xe)&&(d=d||"http://localhost",Fe.scrollbars="yes");const It=Object.entries(Fe).reduce((mn,[ur,T1])=>`${mn}${ur}=${T1},`,"");if(function e1(y=(0,k.z$)()){var d;return Bt(y)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Xe)&&"_self"!==ue)return function w5(y,d){const m=document.createElement("a");m.href=y,m.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(d||"",ue),new C5(null);const yt=window.open(d||"",ue,It);F(yt,y,"popup-blocked");try{yt.focus()}catch{}return new C5(yt)}(d,ue,No())})()}_openRedirect(d,m,C,D){var L=this;return(0,g.Z)(function*(){return yield L._originValidation(d),function S1(y){Un().location.href=y}(r6(d,m,C,ke(),D)),new Promise(()=>{})})()}_initialize(d){const m=d._key();if(this.eventManagers[m]){const{manager:D,promise:L}=this.eventManagers[m];return D?Promise.resolve(D):(W(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(d);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(d){var m=this;return(0,g.Z)(function*(){const C=yield function U0(y){return B0.apply(this,arguments)}(d),D=new Gs(d);return C.register("authEvent",L=>(F(L?.authEvent,d,"invalid-auth-event"),{status:D.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[d._key()]={manager:D},m.iframes[d._key()]=C,D})()}_isIframeWebStorageSupported(d,m){this.iframes[d._key()].send(Ws,{type:Ws},D=>{var L;const q=null===(L=D?.[0])||void 0===L?void 0:L[Ws];void 0!==q&&m(!!q),Te(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vi(y){return V0.apply(this,arguments)}(d)),this.originValidationPromises[m]}get _shouldInitProactively(){return Gi()||mt()||Bt()}}),this.cordovaResolver=se(class q0{constructor(){this._redirectPersistence=B1,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ut,this._overrideRedirectResult=Oi}_initialize(d){var m=this;return(0,g.Z)(function*(){const C=d._key();let D=m.eventManagers.get(C);return D||(D=new c6(d),m.eventManagers.set(C,D),m.attachCallbackListeners(d,D)),D})()}_openPopup(d){Te(d,"operation-not-supported-in-this-environment")}_openRedirect(d,m,C,D){var L=this;return(0,g.Z)(function*(){!function T5(y){var d,m,C,D,L,q,ue,Fe,Xe,It;const yt=cs();F("function"==typeof(null===(d=yt?.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),F(typeof(null===(m=yt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),F("function"==typeof(null===(L=null===(D=null===(C=yt?.cordova)||void 0===C?void 0:C.plugins)||void 0===D?void 0:D.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(Fe=null===(ue=null===(q=yt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Fe?void 0:Fe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(It=null===(Xe=yt?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const q=yield L._initialize(d);yield q.initialized(),q.resetRedirect(),function Mr(){m1.clear()}(),yield L._originValidation(d);const ue=function cu(y,d,m=null){return{type:d,eventId:m,urlResponse:null,sessionId:x5(),postBody:null,tenantId:y.tenantId,error:Ce(y,"no-auth-event")}}(d,C,D);yield function jo(y,d){return Go()._set(ls(y),d)}(d,ue);const Fe=yield function Zs(y,d,m){return s6.apply(this,arguments)}(d,ue,m),Xe=yield function A5(y){const{cordova:d}=cs();return new Promise(m=>{d.plugins.browsertab.isAvailable(C=>{let D=null;C?d.plugins.browsertab.openUrl(y):D=d.InAppBrowser.open(y,function dr(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(D)})})}(Fe);return function D5(y,d,m){return o6.apply(this,arguments)}(d,q,Xe)})()}_isIframeWebStorageSupported(d,m){throw new Error("Method not implemented.")}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Uo(y){return Lc.apply(this,arguments)}(d)),this.originValidationPromises[m]}attachCallbackListeners(d,m){const{universalLinks:C,handleOpenURL:D,BuildInfo:L}=cs(),q=setTimeout((0,g.Z)(function*(){yield lu(d),m.onEvent(ua())}),500),ue=function(){var It=(0,g.Z)(function*(yt){clearTimeout(q);const mn=yield lu(d);let ur=null;mn&&yt?.url&&(ur=function uu(y,d){var m,C;const D=function fu(y){const d=us(y),m=d.link?decodeURIComponent(d.link):void 0,C=us(m).link,D=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return us(D).link||D||C||m||y}(d);if(D.includes("/__/auth/callback")){const L=us(D),q=L.firebaseError?function hu(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,ue=null===(C=null===(m=q?.code)||void 0===m?void 0:m.split("auth/"))||void 0===C?void 0:C[1],Fe=ue?Ce(ue):null;return Fe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(mn,yt.url)),m.onEvent(ur||ua())});return function(mn){return It.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ue);const Fe=D,Xe=`${L.packageName.toLowerCase()}://`;cs().handleOpenURL=function(){var It=(0,g.Z)(function*(yt){if(yt.toLowerCase().startsWith(Xe)&&ue({url:yt}),"function"==typeof Fe)try{Fe(yt)}catch(mn){console.error(mn)}});return function(yt){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B1,this._completeRedirectFn=ut,this._overrideRedirectResult=Oi}_initialize(d){var m=this;return(0,g.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,m,C,D){var L=this;return(0,g.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(d,m,C,D)})()}_openRedirect(d,m,C,D){var L=this;return(0,g.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(d,m,C,D)})()}_isIframeWebStorageSupported(d,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,m)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return fs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return m6(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const m=yield function gu(){return kc.apply(this,arguments)}();d.underlyingResolver=m?d.cordovaResolver:d.browserResolver})()}}function g6(y){return y.unwrap()}function v6(y){return Ks(y)}function Ks(y){const{_tokenResponse:d}=y instanceof k.ZR?y.customData:y;if(!d)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ta.credentialFromResult(y);const m=d.providerId;if(!m||"password"===m)return null;let C;switch(m){case"google.com":C=S2;break;case"facebook.com":C=_o;break;case"github.com":C=nc;break;case"twitter.com":C=t1;break;default:const{oauthIdToken:D,oauthAccessToken:L,oauthTokenSecret:q,pendingToken:ue,nonce:Fe}=d;return L||q||D||ue?ue?m.startsWith("saml.")?xs._create(m,ue):X1._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:D,accessToken:L}):new Zi(m).credential({idToken:D,accessToken:L,rawNonce:Fe}):null}return y instanceof k.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function y1(y,d){return d.catch(m=>{throw m instanceof k.ZR&&function Oc(y,d){var m;const C=null===(m=d.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new k5(y,function Vn(y,d){var m;const C=(0,k.m9)(y),D=d;return F(d.customData.operationType,C,"argument-error"),F(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),B2._fromError(C,D)}(y,d));else if(C){const D=Ks(d),L=d;D&&(L.credential=D,L.tenantId=C.tenantId||void 0,L.email=C.email||void 0,L.phoneNumber=C.phoneNumber||void 0)}}(y,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:v6(m),additionalUserInfo:F2(m),user:G1.getOrCreate(D)}})}function Qs(y,d){return J0.apply(this,arguments)}function J0(){return(J0=(0,g.Z)(function*(y,d){const m=yield d;return{verificationId:m.verificationId,confirm:C=>y1(y,m.confirm(C))}})).apply(this,arguments)}class k5{constructor(d,m){this.resolver=m,this.auth=function Pc(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return y1(g6(this.auth),this.resolver.resolveSignIn(d))}}class G1{constructor(d){this._delegate=d,this.multiFactor=function Rs(y){const d=(0,k.m9)(y);return ns.has(d)||ns.set(d,P0._fromUser(d)),ns.get(d)}(d)}static getOrCreate(d){return G1.USER_MAP.has(d)||G1.USER_MAP.set(d,new G1(d)),G1.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var m=this;return(0,g.Z)(function*(){return y1(m.auth,L2(m._delegate,d))})()}linkWithPhoneNumber(d,m){var C=this;return(0,g.Z)(function*(){return Qs(C.auth,function Dn(y,d,m){return A1.apply(this,arguments)}(C._delegate,d,m))})()}linkWithPopup(d){var m=this;return(0,g.Z)(function*(){return y1(m.auth,function ra(y,d,m){return Fo.apply(this,arguments)}(m._delegate,d,v1))})()}linkWithRedirect(d){var m=this;return(0,g.Z)(function*(){return yield Rc(Nn(m.auth)),function Q(y,d,m){return function te(y,d,m){return Me.apply(this,arguments)}(y,d,m)}(m._delegate,d,v1)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var m=this;return(0,g.Z)(function*(){return y1(m.auth,z2(m._delegate,d))})()}reauthenticateWithPhoneNumber(d,m){return Qs(this.auth,function Oo(y,d,m){return Nr.apply(this,arguments)}(this._delegate,d,m))}reauthenticateWithPopup(d){return y1(this.auth,function tu(y,d,m){return Mc.apply(this,arguments)}(this._delegate,d,v1))}reauthenticateWithRedirect(d){var m=this;return(0,g.Z)(function*(){return yield Rc(Nn(m.auth)),function I(y,d,m){return function x(y,d,m){return O.apply(this,arguments)}(y,d,m)}(m._delegate,d,v1)})()}sendEmailVerification(d){return function fc(y,d){return So.apply(this,arguments)}(this._delegate,d)}unlink(d){var m=this;return(0,g.Z)(function*(){return yield function Tr(y,d){return D2.apply(this,arguments)}(m._delegate,d),m})()}updateEmail(d){return function G4(y,d){return Xi((0,k.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function Ji(y,d){return Xi((0,k.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function eu(y,d){return bc.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function mc(y,d){return gc.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,m){return function dc(y,d,m){return O2.apply(this,arguments)}(this._delegate,d,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G1.USER_MAP=new WeakMap;const Ys=F;let ha=(()=>{class y{constructor(m,C){if(this.app=m,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;Ys(D,"invalid-api-key",{appName:m.name}),Ys(D,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?v1:void 0;this._delegate=C.initialize({options:{persistence:Js(D,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G1.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,C){!function E2(y,d,m){const C=Nn(y);F(C._canInitEmulator,C,"emulator-config-failed"),F(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const D=!!m?.disableWarnings,L=H1(d),{host:q,port:ue}=function Kn(y){const d=H1(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(C);if(D){const L=D[1];return{host:L,port:wi(C.substr(L.length+1))}}{const[L,q]=C.split(":");return{host:L,port:wi(q)}}}(d);C.config.emulator={url:`${L}//${q}${null===ue?"":`:${ue}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:q,port:ue,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function bi(){function y(){const d=document.createElement("p"),m=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,C)}applyActionCode(m){return function p1(y,d){return wo.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return bo(this._delegate,m)}confirmPasswordReset(m,C){return function R2(y,d,m){return Ls.apply(this,arguments)}(this._delegate,m,C)}createUserWithEmailAndPassword(m,C){var D=this;return(0,g.Z)(function*(){return y1(D._delegate,function Eo(y,d,m){return On.apply(this,arguments)}(D._delegate,m,C))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function P2(y,d){return Io.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function si(y,d){return"EMAIL_SIGNIN"===I2.parseLink(d)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,g.Z)(function*(){Ys(f6(),m._delegate,"operation-not-supported-in-this-environment");const C=yield function He(y,d){return Je.apply(this,arguments)}(m._delegate,v1);return C?y1(m._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function qo(y,d){Nn(y)._logFramework(d)}(this._delegate,m)}onAuthStateChanged(m,C,D){const{next:L,error:q,complete:ue}=Vc(m,C,D);return this._delegate.onAuthStateChanged(L,q,ue)}onIdTokenChanged(m,C,D){const{next:L,error:q,complete:ue}=Vc(m,C,D);return this._delegate.onIdTokenChanged(L,q,ue)}sendSignInLinkToEmail(m,C){return function uc(y,d,m){return Yi.apply(this,arguments)}(this._delegate,m,C)}sendPasswordResetEmail(m,C){return function ac(y,d,m){return Pn.apply(this,arguments)}(this._delegate,m,C||void 0)}setPersistence(m){var C=this;return(0,g.Z)(function*(){let D;switch(function Y0(y,d){Gr(Object.values(g1).includes(d),y,"invalid-persistence-type"),(0,k.b$)()?Gr(d!==g1.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Gr(d===g1.NONE,y,"unsupported-persistence-type"):h6()?Gr(d===g1.NONE||d===g1.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Gr(d===g1.NONE||mu(),y,"unsupported-persistence-type")}(C._delegate,m),m){case g1.SESSION:D=B1;break;case g1.LOCAL:D=(yield se(Os)._isAvailable())?Os:Do;break;case g1.NONE:D=V;break;default:return Te("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return y1(this._delegate,function L0(y){return Rn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return y1(this._delegate,zn(this._delegate,m))}signInWithCustomToken(m){return y1(this._delegate,function sc(y,d){return Co.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,C){return y1(this._delegate,function U1(y,d,m){return zn((0,k.m9)(y),F1.credential(d,m))}(this._delegate,m,C))}signInWithEmailLink(m,C){return y1(this._delegate,function Zl(y,d,m){return Mo.apply(this,arguments)}(this._delegate,m,C))}signInWithPhoneNumber(m,C){return Qs(this._delegate,function ct(y,d,m){return xr.apply(this,arguments)}(this._delegate,m,C))}signInWithPopup(m){var C=this;return(0,g.Z)(function*(){return Ys(f6(),C._delegate,"operation-not-supported-in-this-environment"),y1(C._delegate,function Ec(y,d,m){return js.apply(this,arguments)}(C._delegate,m,v1))})()}signInWithRedirect(m){var C=this;return(0,g.Z)(function*(){return Ys(f6(),C._delegate,"operation-not-supported-in-this-environment"),yield Rc(C._delegate),function Tn(y,d,m){return function ia(y,d,m){return M.apply(this,arguments)}(y,d,m)}(C._delegate,m,v1)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function lc(y,d){return $4.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=g1,y})();function Vc(y,d,m){let C=y;"function"!=typeof y&&({next:C,error:d,complete:m}=y);const D=C;return{next:q=>D(q&&G1.getOrCreate(q)),error:d,complete:m}}function Js(y,d){const m=function ds(y,d){const m=p6();if(!m)return[];const C=Z(Wo,y,d);switch(m.getItem(C)){case g1.NONE:return[V];case g1.LOCAL:return[Os,B1];case g1.SESSION:return[B1];default:return[]}}(y,d);if(typeof self<"u"&&!m.includes(Os)&&m.push(Os),typeof window<"u")for(const C of[Do,B1])m.includes(C)||m.push(C);return m.includes(V)||m.push(V),m}class X0{constructor(){this.providerId="phone",this._delegate=new ta(g6(X.Z.auth()))}static credential(d,m){return ta.credential(d,m)}verifyPhoneNumber(d,m){return this._delegate.verifyPhoneNumber(d,m)}unwrap(){return this._delegate}}X0.PHONE_SIGN_IN_METHOD=ta.PHONE_SIGN_IN_METHOD,X0.PROVIDER_ID=ta.PROVIDER_ID;const Hc=F;class e3{constructor(d,m,C=X.Z.app()){var D;Hc(null===(D=C.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new gr(d,m,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function n3(y){y.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const m=d.getProvider("app-compat").getImmediate(),C=d.getProvider("auth");return new ha(m,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:F1,FacebookAuthProvider:_o,GithubAuthProvider:nc,GoogleAuthProvider:S2,OAuthProvider:Zi,SAMLAuthProvider:f1,PhoneAuthProvider:X0,PhoneMultiFactorGenerator:xc,RecaptchaVerifier:e3,TwitterAuthProvider:t1,Auth:ha,AuthCredential:br,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.0")}(X.Z)},8766:(ft,Ae,z)=>{z.d(Ae,{Lj:()=>Te,X3:()=>lt});var g=z(5861);let k,ae;const le=new WeakMap,fe=new WeakMap,de=new WeakMap,U=new WeakMap,j=new WeakMap;let Ne={get(F,ge,W){if(F instanceof IDBTransaction){if("done"===ge)return fe.get(F);if("objectStoreNames"===ge)return F.objectStoreNames||de.get(F);if("store"===ge)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return pe(F[ge])},set:(F,ge,W)=>(F[ge]=W,!0),has:(F,ge)=>F instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in F};function ve(F){return"function"==typeof F?function ot(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...ge){return F.apply(et(this),ge),pe(le.get(this))}:function(...ge){return pe(F.apply(et(this),ge))}:function(ge,...W){const J=F.call(et(this),ge,...W);return de.set(J,ge.sort?ge.sort():[ge]),pe(J)}}(F):(F instanceof IDBTransaction&&function Oe(F){if(fe.has(F))return;const ge=new Promise((W,J)=>{const se=()=>{F.removeEventListener("complete",ie),F.removeEventListener("error",Re),F.removeEventListener("abort",Re)},ie=()=>{W(),se()},Re=()=>{J(F.error||new DOMException("AbortError","AbortError")),se()};F.addEventListener("complete",ie),F.addEventListener("error",Re),F.addEventListener("abort",Re)});fe.set(F,ge)}(F),((F,ge)=>ge.some(W=>F instanceof W))(F,function oe(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Ne):F)}function pe(F){if(F instanceof IDBRequest)return function K(F){const ge=new Promise((W,J)=>{const se=()=>{F.removeEventListener("success",ie),F.removeEventListener("error",Re)},ie=()=>{W(pe(F.result)),se()},Re=()=>{J(F.error),se()};F.addEventListener("success",ie),F.addEventListener("error",Re)});return ge.then(W=>{W instanceof IDBCursor&&le.set(W,F)}).catch(()=>{}),j.set(ge,F),ge}(F);if(U.has(F))return U.get(F);const ge=ve(F);return ge!==F&&(U.set(F,ge),j.set(ge,F)),ge}const et=F=>j.get(F);function lt(F,ge,{blocked:W,upgrade:J,blocking:se,terminated:ie}={}){const Re=indexedDB.open(F,ge),ke=pe(Re);return J&&Re.addEventListener("upgradeneeded",pt=>{J(pe(Re.result),pt.oldVersion,pt.newVersion,pe(Re.transaction))}),W&&Re.addEventListener("blocked",()=>W()),ke.then(pt=>{ie&&pt.addEventListener("close",()=>ie()),se&&pt.addEventListener("versionchange",()=>se())}).catch(()=>{}),ke}function Te(F,{blocked:ge}={}){const W=indexedDB.deleteDatabase(F);return ge&&W.addEventListener("blocked",()=>ge()),pe(W).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ue=new Map;function Be(F,ge){if(!(F instanceof IDBDatabase)||ge in F||"string"!=typeof ge)return;if(Ue.get(ge))return Ue.get(ge);const W=ge.replace(/FromIndex$/,""),J=ge!==W,se=Ee.includes(W);if(!(W in(J?IDBIndex:IDBObjectStore).prototype)||!se&&!Ce.includes(W))return;const ie=function(){var Re=(0,g.Z)(function*(ke,...pt){const nn=this.transaction(ke,se?"readwrite":"readonly");let $t=nn.store;return J&&($t=$t.index(pt.shift())),(yield Promise.all([$t[W](...pt),se&&nn.done]))[0]});return function(pt){return Re.apply(this,arguments)}}();return Ue.set(ge,ie),ie}!function be(F){Ne=F(Ne)}(F=>({...F,get:(ge,W,J)=>Be(ge,W)||F.get(ge,W,J),has:(ge,W)=>!!Be(ge,W)||F.has(ge,W)}))},5861:(ft,Ae,z)=>{function g(k,ae,oe,he,le,fe,de){try{var U=k[fe](de),j=U.value}catch(K){return void oe(K)}U.done?ae(j):Promise.resolve(j).then(he,le)}function X(k){return function(){var ae=this,oe=arguments;return new Promise(function(he,le){var fe=k.apply(ae,oe);function de(j){g(fe,he,le,de,U,"next",j)}function U(j){g(fe,he,le,de,U,"throw",j)}de(void 0)})}}z.d(Ae,{Z:()=>X})}},ft=>{ft(ft.s=7650)}]);