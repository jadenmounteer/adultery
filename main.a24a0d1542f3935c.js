"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{6217:(Qt,We,H)=>{H.d(We,{nm:()=>si});var d=H(2122);H(4650),H(259);var it=H(5861),ct=H(9681),Ye=H(4859),It=H(2090),mt=H(1877);const re=new Map,Ke={activated:!1,tokenObservers:[]},_e={initialized:!1,enabled:!1};function Te($e){return re.get($e)||Object.assign({},Ke)}function Re(){return _e}class g1{constructor(He,qe,wt,Zt,E1){if(this.operation=He,this.retryPolicy=qe,this.getWaitDuration=wt,this.lowerBound=Zt,this.upperBound=E1,this.pending=null,this.nextErrorWaitInterval=Zt,Zt>E1)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(He){var qe=this;return(0,it.Z)(function*(){qe.stop();try{qe.pending=new It.BH,yield function y1($e){return new Promise(He=>{setTimeout(He,$e)})}(qe.getNextRun(He)),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new It.BH,yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(wt){qe.retryPolicy(wt)?qe.process(!1).catch(()=>{}):qe.stop()}})()}getNextRun(He){if(He)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const v1=new It.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ft($e){if(!Te($e).activated)throw v1.create("use-before-activation",{appName:$e.name})}function wn($e,He){return xn.apply(this,arguments)}function xn(){return(xn=(0,it.Z)(function*({url:$e,body:He},qe){const wt={"Content-Type":"application/json"},Zt=qe.getImmediate({optional:!0});if(Zt){const $2=yield Zt.getHeartbeatsHeader();$2&&(wt["X-Firebase-Client"]=$2)}const E1={method:"POST",body:JSON.stringify(He),headers:wt};let G1,An;try{G1=yield fetch($e,E1)}catch($2){throw v1.create("fetch-network-error",{originalErrorMessage:$2?.message})}if(200!==G1.status)throw v1.create("fetch-status-error",{httpStatus:G1.status});try{An=yield G1.json()}catch($2){throw v1.create("fetch-parse-error",{originalErrorMessage:$2?.message})}const yn=An.ttl.match(/^([\d.]+)(s)$/);if(!yn||!yn[2]||isNaN(Number(yn[1])))throw v1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${An.ttl}`});const Di=1e3*Number(yn[1]),G2=Date.now();return{token:An.token,expireTimeMillis:G2+Di,issuedAtTimeMillis:G2}})).apply(this,arguments)}function Gn($e,He){const{projectId:qe,appId:wt,apiKey:Zt}=$e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${qe}/apps/${wt}:exchangeDebugToken?key=${Zt}`,body:{debug_token:He}}}const Jn="firebase-app-check-store";let vn=null;function bn(){return vn||(vn=new Promise(($e,He)=>{try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=wt=>{$e(wt.target.result)},qe.onerror=wt=>{var Zt;He(v1.create("storage-open",{originalErrorMessage:null===(Zt=wt.target.error)||void 0===Zt?void 0:Zt.message}))},qe.onupgradeneeded=wt=>{0===wt.oldVersion&&wt.target.result.createObjectStore(Jn,{keyPath:"compositeKey"})}}catch(qe){He(v1.create("storage-open",{originalErrorMessage:qe?.message}))}}),vn)}function we(){return(we=(0,it.Z)(function*($e,He){const wt=(yield bn()).transaction(Jn,"readwrite"),E1=wt.objectStore(Jn).put({compositeKey:$e,value:He});return new Promise((G1,An)=>{E1.onsuccess=yn=>{G1()},wt.onerror=yn=>{var Di;An(v1.create("storage-set",{originalErrorMessage:null===(Di=yn.target.error)||void 0===Di?void 0:Di.message}))}})})).apply(this,arguments)}const s1=new mt.Yd("@firebase/app-check");function Bt($e,He){return(0,It.hl)()?function N2($e,He){return function st($e,He){return we.apply(this,arguments)}(function vt($e){return`${$e.options.appId}-${$e.name}`}($e),He)}($e,He).catch(qe=>{s1.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function Kn(){return Re().enabled}function q1(){return U1.apply(this,arguments)}function U1(){return(U1=(0,it.Z)(function*(){const $e=Re();if($e.enabled&&$e.token)return $e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const r1={error:"UNKNOWN_ERROR"};function Mt($e){return It.US.encodeString(JSON.stringify($e),!1)}function Wt($e){return w1.apply(this,arguments)}function w1(){return(w1=(0,it.Z)(function*($e,He=!1){const qe=$e.app;Ft(qe);const wt=Te(qe);let E1,Zt=wt.token;if(Zt&&!gt(Zt)&&(wt.token=void 0,Zt=void 0),!Zt){const yn=yield wt.cachedTokenPromise;yn&&(gt(yn)?Zt=yn:yield Bt(qe,void 0))}if(!He&&Zt&&gt(Zt))return{token:Zt.token};let An,G1=!1;if(Kn()){wt.exchangeTokenPromise||(wt.exchangeTokenPromise=wn(Gn(qe,yield q1()),$e.heartbeatServiceProvider).finally(()=>{wt.exchangeTokenPromise=void 0}),G1=!0);const yn=yield wt.exchangeTokenPromise;return yield Bt(qe,yn),wt.token=yn,{token:yn.token}}try{wt.exchangeTokenPromise||(wt.exchangeTokenPromise=wt.provider.getToken().finally(()=>{wt.exchangeTokenPromise=void 0}),G1=!0),Zt=yield Te(qe).exchangeTokenPromise}catch(yn){"appCheck/throttled"===yn.code?s1.warn(yn.message):s1.error(yn),E1=yn}return Zt?E1?An=gt(Zt)?{token:Zt.token,internalError:E1}:Be(E1):(An={token:Zt.token},wt.token=Zt,yield Bt(qe,Zt)):An=Be(E1),G1&&xe(qe,An),An})).apply(this,arguments)}function I1($e,He){const qe=Te($e),wt=qe.tokenObservers.filter(Zt=>Zt.next!==He);0===wt.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),qe.tokenObservers=wt}function Se($e){const{app:He}=$e,qe=Te(He);let wt=qe.tokenRefresher;wt||(wt=function be($e){const{app:He}=$e;return new g1((0,it.Z)(function*(){let wt;if(wt=Te(He).token?yield Wt($e,!0):yield Wt($e),wt.error)throw wt.error;if(wt.internalError)throw wt.internalError}),()=>!0,()=>{const qe=Te(He);if(qe.token){let wt=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return wt=Math.min(wt,qe.token.expireTimeMillis-3e5),Math.max(0,wt-Date.now())}return 0},3e4,96e4)}($e),qe.tokenRefresher=wt),!wt.isRunning()&&qe.isTokenAutoRefreshEnabled&&wt.start()}function xe($e,He){const qe=Te($e).tokenObservers;for(const wt of qe)try{"EXTERNAL"===wt.type&&null!=He.error?wt.error(He.error):wt.next(He)}catch{}}function gt($e){return $e.expireTimeMillis-Date.now()>0}function Be($e){return{token:Mt(r1),error:$e}}class jt{constructor(He,qe){this.app=He,this.heartbeatServiceProvider=qe}_delete(){const{tokenObservers:He}=Te(this.app);for(const qe of He)I1(this.app,qe.next);return Promise.resolve()}}const k2="app-check-internal";!function j2(){(0,ct._registerComponent)(new Ye.wA("app-check",$e=>function Yt($e,He){return new jt($e,He)}($e.getProvider("app").getImmediate(),$e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($e,He,qe)=>{$e.getProvider(k2).initialize()})),(0,ct._registerComponent)(new Ye.wA(k2,$e=>function O1($e){return{getToken:He=>Wt($e,He),addTokenListener:He=>function T1($e,He,qe,wt){const{app:Zt}=$e,E1=Te(Zt);if(E1.tokenObservers=[...E1.tokenObservers,{next:qe,error:wt,type:He}],E1.token&&gt(E1.token)){const An=E1.token;Promise.resolve().then(()=>{qe({token:An.token}),Se($e)}).catch(()=>{})}E1.cachedTokenPromise.then(()=>Se($e))}($e,"INTERNAL",He),removeTokenListener:He=>I1($e.app,He)}}($e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ct.registerVersion)("@firebase/app-check","0.6.0")}();class si{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},3385:(Qt,We,H)=>{H.d(We,{zQ:()=>Te,ww:()=>Qe,rT:()=>mt,f7:()=>Ke,L6:()=>Ye,_Q:()=>It,lh:()=>re,Qv:()=>ct,nw:()=>_e});var d=H(4650),D=H(7579),Q=H(9646),Me=H(9751),Ee=H(8996),De=H(6451),le=H(5363),Ae=H(3900),ze=H(4004),de=H(3151),fe=H(590),Ne=H(576);function Xe(Re,St){return(0,Ne.m)(St)?(0,Ae.w)(()=>Re,St):(0,Ae.w)(()=>Re)}var et=H(9468),Ze=H(9300),Pt=H(2122),rt=H(2011),nt=H(6895),Oe=H(6217),Kt=H(9260);const ct=new d.OlP("angularfire2.auth.use-emulator"),Ye=new d.OlP("angularfire2.auth.settings"),It=new d.OlP("angularfire2.auth.tenant-id"),mt=new d.OlP("angularfire2.auth.langugage-code"),re=new d.OlP("angularfire2.auth.use-device-language"),Ke=new d.OlP("angularfire.auth.persistence"),_e=(Re,St,Tt,f1,L1,S1,xt,g1)=>(0,rt.cc)(`${Re.name}.auth`,"AngularFireAuth",Re.name,()=>{const y1=St.runOutsideAngular(()=>Re.auth());if(Tt&&y1.useEmulator(...Tt),f1&&(y1.tenantId=f1),y1.languageCode=L1,S1&&y1.useDeviceLanguage(),xt)for(const[_1,v1]of Object.entries(xt))y1.settings[_1]=v1;return g1&&y1.setPersistence(g1),y1},[Tt,f1,L1,S1,xt,g1]);let Te=(()=>{class Re{constructor(Tt,f1,L1,S1,xt,g1,y1,_1,v1,qn,Ft,nn){const gn=new D.x,wn=(0,Q.of)(void 0).pipe((0,le.Q)(xt.outsideAngular),(0,Ae.w)(()=>S1.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,9169)))),(0,ze.U)(()=>(0,rt.on)(Tt,S1,f1)),(0,ze.U)(xn=>_e(xn,S1,g1,_1,v1,qn,y1,Ft)),(0,de.d)({bufferSize:1,refCount:!1}));if((0,nt.PM)(L1))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Q.of)(null);else{wn.pipe((0,fe.P)()).subscribe();const jn=wn.pipe((0,Ae.w)(V1=>V1.getRedirectResult().then(fn=>fn,()=>null)),Pt.iC,(0,de.d)({bufferSize:1,refCount:!1})),zn=wn.pipe((0,Ae.w)(V1=>new Me.y(fn=>({unsubscribe:S1.runOutsideAngular(()=>V1.onAuthStateChanged(Jn=>fn.next(Jn),Jn=>fn.error(Jn),()=>fn.complete()))})))),Gn=wn.pipe((0,Ae.w)(V1=>new Me.y(fn=>({unsubscribe:S1.runOutsideAngular(()=>V1.onIdTokenChanged(Jn=>fn.next(Jn),Jn=>fn.error(Jn),()=>fn.complete()))}))));this.authState=jn.pipe(Xe(zn),(0,et.R)(xt.outsideAngular),(0,le.Q)(xt.insideAngular)),this.user=jn.pipe(Xe(Gn),(0,et.R)(xt.outsideAngular),(0,le.Q)(xt.insideAngular)),this.idToken=this.user.pipe((0,Ae.w)(V1=>V1?(0,Ee.D)(V1.getIdToken()):(0,Q.of)(null))),this.idTokenResult=this.user.pipe((0,Ae.w)(V1=>V1?(0,Ee.D)(V1.getIdTokenResult()):(0,Q.of)(null))),this.credential=(0,De.T)(jn,gn,this.authState.pipe((0,Ze.h)(V1=>!V1))).pipe((0,ze.U)(V1=>V1?.user?V1:null),(0,et.R)(xt.outsideAngular),(0,le.Q)(xt.insideAngular))}return(0,rt.pX)(this,wn,S1,{spy:{apply:(xn,jn,zn)=>{(xn.startsWith("signIn")||xn.startsWith("createUser"))&&zn.then(Gn=>gn.next(Gn))}}})}}return Re.\u0275fac=function(Tt){return new(Tt||Re)(d.LFG(rt.Dh),d.LFG(rt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Pt.HU),d.LFG(ct,8),d.LFG(Ye,8),d.LFG(It,8),d.LFG(mt,8),d.LFG(re,8),d.LFG(Ke,8),d.LFG(Oe.nm,8))},Re.\u0275prov=d.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"any"}),Re})(),Qe=(()=>{class Re{constructor(){Kt.Z.registerVersion("angularfire",Pt.q4.full,"auth-compat")}}return Re.\u0275fac=function(Tt){return new(Tt||Re)},Re.\u0275mod=d.oAB({type:Re}),Re.\u0275inj=d.cJS({providers:[Te]}),Re})()},3101:(Qt,We,H)=>{H.d(We,{ST:()=>h5,yb:()=>a7});var d=H(4650),D=H(4986),Q=H(9751),Me=H(8996),Ee=H(9646),De=H(2122),le=H(8675),Ae=H(4482),ze=H(5403);function de(){return(0,Ae.e)((r,e)=>{let t,s=!1;r.subscribe((0,ze.x)(e,u=>{const y=t;t=u,s&&e.next([y,u]),s=!0}))})}var re,fe=H(4004),Ne=H(5026),Xe=H(1884),et=H(9300),Ze=H(2011),Pt=H(6895),nt=(H(9169),H(3942)),Oe=H(5861),Kt=H(9681),it=H(4859),ct=H(1877),Ye=H(2090),It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mt={},Ke=Ke||{},_e=It||self;function Te(){}function Qe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Re(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Tt="closure_uid_"+(1e9*Math.random()>>>0),f1=0;function L1(r,e,t){return r.call.apply(r.bind,arguments)}function S1(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function xt(r,e,t){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L1:S1).apply(null,arguments)}function g1(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function y1(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(s,u,y){for(var w=Array(arguments.length-2),x=2;x<arguments.length;x++)w[x-2]=arguments[x];return e.prototype[u].apply(s,w)}}function _1(){this.s=this.s,this.o=this.o}_1.prototype.s=!1,_1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function St(r){Object.prototype.hasOwnProperty.call(r,Tt)&&r[Tt]||(r[Tt]=++f1)}(this)},_1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Ft(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function nn(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Qe(s)){const u=r.length||0,y=s.length||0;r.length=u+y;for(let w=0;w<y;w++)r[u+w]=s[w]}else r.push(s)}}function gn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}gn.prototype.h=function(){this.defaultPrevented=!0};var wn=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{_e.addEventListener("test",Te,e),_e.removeEventListener("test",Te,e)}catch{}return r}();function xn(r){return/^[\s\xa0]*$/.test(r)}var jn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function zn(r,e){return r<e?-1:r>e?1:0}function Gn(){var r=_e.navigator;return r&&(r=r.userAgent)?r:""}function V1(r){return-1!=Gn().indexOf(r)}function fn(r){return fn[" "](r),r}fn[" "]=Te;var st,r,Vt=V1("Opera"),vn=V1("Trident")||V1("MSIE"),bn=V1("Edge"),cn=bn||vn,N2=V1("Gecko")&&!(-1!=Gn().toLowerCase().indexOf("webkit")&&!V1("Edge"))&&!(V1("Trident")||V1("MSIE"))&&!V1("Edge"),O2=-1!=Gn().toLowerCase().indexOf("webkit")&&!V1("Edge");function n1(){var r=_e.document;return r?r.documentMode:void 0}e:{var we="",ge=(r=Gn(),N2?/rv:([^\);]+)(\)|;)/.exec(r):bn?/Edge\/([\d\.]+)/.exec(r):vn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):O2?/WebKit\/(\S+)/.exec(r):Vt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(ge&&(we=ge?ge[1]:""),vn){var ot=n1();if(null!=ot&&ot>parseFloat(we)){st=String(ot);break e}}st=we}var vt={};var Bt=_e.document&&vn&&(n1()||parseInt(st,10))||void 0;function hn(r,e){if(gn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(N2){e:{try{fn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:$1[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&hn.X.h.call(this)}}y1(hn,gn);var $1={2:"touch",3:"pen",4:"mouse"};hn.prototype.h=function(){hn.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Kn="closure_listenable_"+(1e6*Math.random()|0),q1=0;function U1(r,e,t,s,u){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=u,this.key=++q1,this.ba=this.ea=!1}function Z1(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function r1(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Mt(r){const e={};for(const t in r)e[t]=r[t];return e}const Wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w1(r,e){let t,s;for(let u=1;u<arguments.length;u++){for(t in s=arguments[u],s)r[t]=s[t];for(let y=0;y<Wt.length;y++)t=Wt[y],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function T1(r){this.src=r,this.g={},this.h=0}function I1(r,e){var t=e.type;if(t in r.g){var y,s=r.g[t],u=qn(s,e);(y=0<=u)&&Array.prototype.splice.call(s,u,1),y&&(Z1(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Se(r,e,t,s){for(var u=0;u<r.length;++u){var y=r[u];if(!y.ba&&y.listener==e&&y.capture==!!t&&y.ha==s)return u}return-1}T1.prototype.add=function(r,e,t,s,u){var y=r.toString();(r=this.g[y])||(r=this.g[y]=[],this.h++);var w=Se(r,e,s,u);return-1<w?(e=r[w],t||(e.ea=!1)):((e=new U1(e,this.src,y,!!s,u)).ea=t,r.push(e)),e};var be="closure_lm_"+(1e6*Math.random()|0),xe={};function gt(r,e,t,s,u){if(s&&s.once)return Yt(r,e,t,s,u);if(Array.isArray(e)){for(var y=0;y<e.length;y++)gt(r,e[y],t,s,u);return null}return t=Ue(t),r&&r[Kn]?r.N(e,t,Re(s)?!!s.capture:!!s,u):Be(r,e,t,!1,s,u)}function Be(r,e,t,s,u,y){if(!e)throw Error("Invalid event type");var w=Re(u)?!!u.capture:!!u,x=he(r);if(x||(r[be]=x=new T1(r)),(t=x.add(e,t,s,w,y)).proxy)return t;if(s=function jt(){const e=Ce;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)wn||(u=w),void 0===u&&(u=!1),r.addEventListener(e.toString(),s,u);else if(r.attachEvent)r.attachEvent(F1(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Yt(r,e,t,s,u){if(Array.isArray(e)){for(var y=0;y<e.length;y++)Yt(r,e[y],t,s,u);return null}return t=Ue(t),r&&r[Kn]?r.O(e,t,Re(s)?!!s.capture:!!s,u):Be(r,e,t,!0,s,u)}function O1(r,e,t,s,u){if(Array.isArray(e))for(var y=0;y<e.length;y++)O1(r,e[y],t,s,u);else s=Re(s)?!!s.capture:!!s,t=Ue(t),r&&r[Kn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Se(y=r.g[e],t,s,u))&&(Z1(y[t]),Array.prototype.splice.call(y,t,1),0==y.length&&(delete r.g[e],r.h--))):r&&(r=he(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Se(e,t,s,u)),(t=-1<r?e[r]:null)&&en(t))}function en(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[Kn])I1(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(F1(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=he(e))?(I1(t,r),0==t.h&&(t.src=null,e[be]=null)):Z1(r)}}}function F1(r){return r in xe?xe[r]:xe[r]="on"+r}function Ce(r,e){if(r.ba)r=!0;else{e=new hn(e,this);var t=r.listener,s=r.ha||r.src;r.ea&&en(r),r=t.call(s,e)}return r}function he(r){return(r=r[be])instanceof T1?r:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ue(r){return"function"==typeof r?r:(r[ae]||(r[ae]=function(e){return r.handleEvent(e)}),r[ae])}function pt(){_1.call(this),this.i=new T1(this),this.P=this,this.I=null}function $t(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new gn(e,r);else if(e instanceof gn)e.target=e.target||r;else{var u=e;w1(e=new gn(s,r),u)}if(u=!0,t)for(var y=t.length-1;0<=y;y--){var w=e.g=t[y];u=D1(w,s,!0,e)&&u}if(u=D1(w=e.g=r,s,!0,e)&&u,u=D1(w,s,!1,e)&&u,t)for(y=0;y<t.length;y++)u=D1(w=e.g=t[y],s,!1,e)&&u}function D1(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,y=0;y<e.length;++y){var w=e[y];if(w&&!w.ba&&w.capture==t){var x=w.listener,U=w.ha||w.src;w.ea&&I1(r.i,w),u=!1!==x.call(U,s)&&u}}return u&&!s.defaultPrevented}y1(pt,_1),pt.prototype[Kn]=!0,pt.prototype.removeEventListener=function(r,e,t,s){O1(this,r,e,t,s)},pt.prototype.M=function(){if(pt.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Z1(t[s]);delete r.g[e],r.h--}}this.I=null},pt.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},pt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var W1=_e.JSON.stringify;function Dn(){var r=R2;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var T2,R1=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Mn,r=>r.reset());class Mn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function u2(r){_e.setTimeout(()=>{throw r},0)}function hi(r,e){T2||function s2(){var r=_e.Promise.resolve(void 0);T2=function(){r.then(A2)}}(),Y2||(T2(),Y2=!0),R2.add(r,e)}var Y2=!1,R2=new class _2{constructor(){this.h=this.g=null}add(e,t){const s=R1.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function A2(){for(var r;r=Dn();){try{r.h.call(r.g)}catch(t){u2(t)}var e=R1;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Y2=!1}function g2(r,e){pt.call(this),this.h=r||1,this.g=e||_e,this.j=xt(this.lb,this),this.l=Date.now()}function pi(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function Tn(r,e,t){if("function"==typeof r)t&&(r=xt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=xt(r.handleEvent,r)}return 2147483647<Number(e)?-1:_e.setTimeout(r,e||0)}function xr(r){r.g=Tn(()=>{r.g=null,r.i&&(r.i=!1,xr(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}y1(g2,pt),(re=g2.prototype).ca=!1,re.R=null,re.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),$t(this,"tick"),this.ca&&(pi(this),this.start()))}},re.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},re.M=function(){g2.X.M.call(this),pi(this),delete this.g};class k2 extends _1{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xr(this)}M(){super.M(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function j2(r){_1.call(this),this.h=r,this.g={}}y1(j2,_1);var J2=[];function ri(r,e,t,s){Array.isArray(t)||(t&&(J2[0]=t.toString()),t=J2);for(var u=0;u<t.length;u++){var y=gt(e,t[u],s||r.handleEvent,!1,r.h||r);if(!y)break;r.g[y.key]=y}}function si(r){r1(r.g,function(e,t){this.g.hasOwnProperty(t)&&en(e)},r),r.g={}}function P2(){this.g=!0}function En(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rr(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var y=u[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var w=1;w<u.length;w++)u[w]=""}}}return W1(t)}catch{return e}}(r,t)+(s?" "+s:"")})}j2.prototype.M=function(){j2.X.M.call(this),si(this)},j2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P2.prototype.Aa=function(){this.g=!1},P2.prototype.info=function(){};var mi={},sr=null;function w2(){return sr=sr||new pt}function _r(r){gn.call(this,mi.Pa,r)}function zr(r){const e=w2();$t(e,new _r(e))}function as(r,e){gn.call(this,mi.STAT_EVENT,r),this.stat=e}function V2(r){const e=w2();$t(e,new as(e,r))}function cs(r,e){gn.call(this,mi.Qa,r),this.size=e}function d2(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){r()},e)}mi.Pa="serverreachability",y1(_r,gn),mi.STAT_EVENT="statevent",y1(as,gn),mi.Qa="timingevent",y1(cs,gn);var $e={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},He={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qe(){}function Zt(){}qe.prototype.h=null;var yn,E1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function G1(){gn.call(this,"d")}function An(){gn.call(this,"c")}function Di(){}function G2(r,e,t,s){this.l=r,this.j=e,this.m=t,this.U=s||1,this.S=new j2(this),this.O=I2,this.T=new g2(r=cn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new $2}function $2(){this.i=null,this.g="",this.h=!1}y1(G1,gn),y1(An,gn),y1(Di,qe),Di.prototype.g=function(){return new XMLHttpRequest},Di.prototype.i=function(){return{}},yn=new Di;var I2=45e3,Fi={},Lr={};function o2(r,e,t){r.K=1,r.v=D2(ci(e)),r.s=t,r.P=!0,Xr(r,null)}function Xr(r,e){r.F=Date.now(),Z2(r),r.A=ci(r.v);var t=r.A,s=r.U;Array.isArray(s)||(s=[String(s)]),li(t.i,"t",s),r.C=0,t=r.l.H,r.h=new $2,r.g=dr(r.l,t?e:null,!r.s),0<r.N&&(r.L=new k2(xt(r.La,r,r.g),r.N)),ri(r.S,r.g,"readystatechange",r.ib),e=r.H?Mt(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),zr(),function Pn(r,e,t,s,u,y){r.info(function(){if(r.g)if(y)for(var w="",x=y.split("&"),U=0;U<x.length;U++){var J=x[U].split("=");if(1<J.length){var oe=J[0];J=J[1];var Ie=oe.split("_");w=2<=Ie.length&&"type"==Ie[1]?w+(oe+"=")+J+"&":w+(oe+"=redacted&")}}else w=null;else w=y;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+t+"\n"+w})}(r.j,r.u,r.A,r.m,r.U,r.s)}function oi(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function ai(r,e,t){let u,s=!0;for(;!r.I&&r.C<t.length;){if(u=zi(r,t),u==Lr){4==e&&(r.o=4,V2(14),s=!1),En(r.j,r.m,null,"[Incomplete Response]");break}if(u==Fi){r.o=4,V2(15),En(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}En(r.j,r.m,u,null),yi(r,u)}oi(r)&&u!=Lr&&u!=Fi&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,V2(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),sn(e),e.K=!0,V2(11))):(En(r.j,r.m,t,"[Invalid Chunked Response]"),br(r),vi(r))}function zi(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Lr:(t=Number(e.substring(t,s)),isNaN(t)?Fi:(s+=1)+t>e.length?Lr:(e=e.substr(s,t),r.C=s+t,e))}function Z2(r){r.V=Date.now()+r.O,es(r,r.O)}function es(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=d2(xt(r.gb,r),e)}function gi(r){r.B&&(_e.clearTimeout(r.B),r.B=null)}function vi(r){0==r.l.G||r.I||$n(r.l,r)}function br(r){gi(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,pi(r.T),si(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function yi(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||At(t.h,r)))if(!r.J&&At(t.h,r)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;on(t),z(t)}K1(t),V2(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=d2(xt(t.cb,t),6e3));if(1>=qi(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else pn(t,11)}else if((r.J||t.g==r)&&on(t),!xn(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let J=u[e];if(t.T=J[0],J=J[1],2==t.G)if("c"==J[0]){t.I=J[1],t.ka=J[2];const oe=J[3];null!=oe&&(t.ma=oe,t.j.info("VER="+t.ma));const Ie=J[4];null!=Ie&&(t.Ca=Ie,t.j.info("SVER="+t.Ca));const lt=J[5];null!=lt&&"number"==typeof lt&&0<lt&&(t.J=s=1.5*lt,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const kt=r.g;if(kt){const Ut=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var y=s.h;y.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(y.j=y.l,y.g=new Set,y.h&&(rn(y,y.h),y.h=null))}if(s.D){const N1=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;N1&&(s.za=N1,Fn(s.F,s.D,N1))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var w=r;if((s=t).sa=Qi(s,s.H?s.ka:null,s.V),w.J){Oi(s.h,w);var x=w,U=s.J;U&&x.setTimeout(U),x.B&&(gi(x),Z2(x)),s.g=w}else e1(s);0<t.i.length&&O(t)}else"stop"!=J[0]&&"close"!=J[0]||pn(t,7);else 3==t.G&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?pn(t,7):Et(t):"noop"!=J[0]&&t.l&&t.l.wa(J),t.A=0)}zr()}catch{}}function Q2(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Qe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function _i(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Qe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Li(r){if(r.W&&"function"==typeof r.W)return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Qe(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),u=s.length,y=0;y<u;y++)e.call(void 0,s[y],t&&t[y],r)}(re=G2.prototype).setTimeout=function(r){this.O=r},re.ib=function(r){r=r.target;const e=this.L;e&&3==ee(r)?e.l():this.La(r)},re.La=function(r){try{if(r==this.g)e:{const oe=ee(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>oe)&&(3!=oe||cn||this.g&&(this.h.h||this.g.fa()||ce(this.g)))){this.I||4!=oe||7==e||zr(),gi(this);var t=this.g.aa();this.Y=t;t:if(oi(this)){var s=ce(this.g);r="";var u=s.length,y=4==ee(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){br(this),vi(this);var w="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:y&&e==u-1});s.splice(0,u),this.h.g+=r,this.C=0,w=this.h.g}else w=this.g.fa();if(this.i=200==t,function xi(r,e,t,s,u,y,w){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+y+" "+w})}(this.j,this.u,this.A,this.m,this.U,oe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var x,U=this.g;if((x=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xn(x)){var J=x;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,V2(12),br(this),vi(this);break e}En(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yi(this,t)}this.P?(ai(this,oe,w),cn&&this.i&&3==oe&&(ri(this.S,this.T,"tick",this.hb),this.T.start())):(En(this.j,this.m,w,null),yi(this,w)),4==oe&&br(this),this.i&&!this.I&&(4==oe?$n(this.l,this):(this.i=!1,Z2(this)))}else 400==t&&0<w.indexOf("Unknown SID")?(this.o=3,V2(12)):(this.o=0,V2(13)),br(this),vi(this)}}}catch{}},re.hb=function(){if(this.g){var r=ee(this.g),e=this.g.fa();this.C<e.length&&(gi(this),ai(this,r,e),this.i&&4!=r&&Z2(this))}},re.cancel=function(){this.I=!0,br(this)},re.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function M2(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zr(),V2(17)),br(this),this.o=2,vi(this)):es(this,this.V-r)};var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qn(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Qn){this.h=void 0!==e?e:r.h,$r(this,r.j),this.s=r.s,this.g=r.g,Xn(this,r.m),this.l=r.l,e=r.i;var t=new n2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),or(this,t),this.o=r.o}else r&&(t=String(r).match(Ei))?(this.h=!!e,$r(this,t[1]||"",!0),this.s=v2(t[2]||""),this.g=v2(t[3]||"",!0),Xn(this,t[4]),this.l=v2(t[5]||"",!0),or(this,t[6]||"",!0),this.o=v2(t[7]||"")):(this.h=!!e,this.i=new n2(null,this.h))}function ci(r){return new Qn(r)}function $r(r,e,t){r.j=t?v2(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Xn(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function or(r,e,t){e instanceof n2?(r.i=e,function Cr(r,e){e&&!r.j&&(f2(r),r.i=null,r.g.forEach(function(t,s){var u=s.toLowerCase();s!=u&&(r2(this,s),li(this,u,t))},r)),r.j=e}(r.i,r.h)):(t||(e=X2(e,Zi)),r.i=new n2(e,r.h))}function Fn(r,e,t){r.i.set(e,t)}function D2(r){return Fn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function v2(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function X2(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Zr),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Zr(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Qn.prototype.toString=function(){var r=[],e=this.j;e&&r.push(X2(e,Si,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(X2(e,Si,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(X2(t,"/"==t.charAt(0)?ar:tn,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",X2(t,ls)),r.join("")};var Si=/[#\/\?@]/g,tn=/[#\?:]/g,ar=/[#\?]/g,Zi=/[#\?@]/g,ls=/#/g;function n2(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function f2(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ss(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),u=null;if(0<=s){var y=r[t].substring(0,s);u=r[t].substring(s+1)}else y=r[t];e(y,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function r2(r,e){f2(r),e=Bi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function B1(r,e){return f2(r),e=Bi(r,e),r.g.has(e)}function li(r,e,t){r2(r,e),0<t.length&&(r.i=null,r.g.set(Bi(r,e),Ft(t)),r.h+=t.length)}function Bi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ui(r){this.l=r||Ni,r=_e.PerformanceNavigationTiming?0<(r=_e.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(_e.g&&_e.g.Ga&&_e.g.Ga()&&_e.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(re=n2.prototype).add=function(r,e){f2(this),this.i=null,r=Bi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},re.forEach=function(r,e){f2(this),this.g.forEach(function(t,s){t.forEach(function(u){r.call(e,u,s,this)},this)},this)},re.oa=function(){f2(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const u=r[s];for(let y=0;y<u.length;y++)t.push(e[s])}return t},re.W=function(r){f2(this);let e=[];if("string"==typeof r)B1(this,r)&&(e=e.concat(this.g.get(Bi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},re.set=function(r,e){return f2(this),this.i=null,B1(this,r=Bi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},re.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const y=encodeURIComponent(String(s)),w=this.W(s);for(s=0;s<w.length;s++){var u=y;""!==w[s]&&(u+="="+encodeURIComponent(String(w[s]))),r.push(u)}}return this.i=r.join("&")};var Ni=10;function Wi(r){return!!r.h||!!r.g&&r.g.size>=r.j}function qi(r){return r.h?1:r.g?r.g.size:0}function At(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function rn(r,e){r.g?r.g.add(e):r.h=e}function Oi(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Mr(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Ft(r.i)}function a2(){}function Ns(){this.g=new a2}function us(r,e,t){const s=t||"";try{Q2(r,function(u,y){let w=u;Re(u)&&(w=W1(u)),e.push(s+y+"="+encodeURIComponent(w))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function x2(r,e,t,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function cr(r){this.l=r.ac||null,this.j=r.jb||!1}function Wr(r,e){pt.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=Or,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ui.prototype.cancel=function(){if(this.i=Mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},a2.prototype.stringify=function(r){return _e.JSON.stringify(r,void 0)},a2.prototype.parse=function(r){return _e.JSON.parse(r,void 0)},y1(cr,qe),cr.prototype.g=function(){return new Wr(this.l,this.j)},cr.prototype.i=function(r){return function(){return r}}({}),y1(Wr,pt);var Or=0;function B(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function F(r){r.readyState=4,r.l=null,r.j=null,r.A=null,k(r)}function k(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(re=Wr.prototype).open=function(r,e){if(this.readyState!=Or)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,k(this)},re.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||_e).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,F(this)),this.readyState=Or},re.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,k(this)),this.g&&(this.readyState=3,k(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},re.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?F(this):k(this),3==this.readyState&&B(this)}},re.Va=function(r){this.g&&(this.response=this.responseText=r,F(this))},re.Ua=function(r){this.g&&(this.response=r,F(this))},re.ga=function(){this.g&&F(this)},re.setRequestHeader=function(r,e){this.v.append(r,e)},re.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},re.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ne=_e.JSON.parse;function at(r){pt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=m1,this.K=this.L=!1}y1(at,pt);var m1="",Bn=/^https?$/i,lr=["POST","PUT"];function wr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ur(r),Ji(r)}function ur(r){r.D||(r.D=!0,$t(r,"complete"),$t(r,"error"))}function Rr(r){if(r.h&&typeof Ke<"u"&&(!r.C[1]||4!=ee(r)||2!=r.aa()))if(r.v&&4==ee(r))Tn(r.Ha,0,r);else if($t(r,"readystatechange"),4==ee(r)){r.h=!1;try{const x=r.aa();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===x){var u=String(r.H).match(Ei)[1]||null;if(!u&&_e.self&&_e.self.location){var y=_e.self.location.protocol;u=y.substr(0,y.length-1)}s=!Bn.test(u?u.toLowerCase():"")}t=s}if(t)$t(r,"complete"),$t(r,"success");else{r.m=6;try{var w=2<ee(r)?r.g.statusText:""}catch{w=""}r.j=w+" ["+r.aa()+"]",ur(r)}}finally{Ji(r)}}}function Ji(r,e){if(r.g){W(r);const t=r.g,s=r.C[0]?Te:null;r.g=null,r.C=null,e||$t(r,"ready");try{t.onreadystatechange=s}catch{}}}function W(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(_e.clearTimeout(r.A),r.A=null)}function ee(r){return r.g?r.g.readyState:0}function ce(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case m1:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function ve(r){let e="";return r1(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function je(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=ve(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Fn(r,e,t))}function yt(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Nt(r){this.Ca=0,this.i=[],this.j=new P2,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=yt("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=yt("baseRetryDelayMs",5e3,r),this.bb=yt("retryDelaySeedMs",1e4,r),this.$a=yt("forwardChannelMaxRetries",2,r),this.ta=yt("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new Ui(r&&r.concurrentRequestLimit),this.Fa=new Ns,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Et(r){if($(r),3==r.G){var e=r.U++,t=ci(r.F);Fn(t,"SID",r.I),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),Je(r,t),(e=new G2(r,r.j,e,void 0)).K=2,e.v=D2(ci(t)),t=!1,_e.navigator&&_e.navigator.sendBeacon&&(t=_e.navigator.sendBeacon(e.v.toString(),"")),!t&&_e.Image&&((new Image).src=e.v,t=!0),t||(e.g=dr(e.l,null),e.g.da(e.v)),e.F=Date.now(),Z2(e)}Dr(r)}function z(r){r.g&&(sn(r),r.g.cancel(),r.g=null)}function $(r){z(r),r.u&&(_e.clearTimeout(r.u),r.u=null),on(r),r.h.cancel(),r.m&&("number"==typeof r.m&&_e.clearTimeout(r.m),r.m=null)}function O(r){Wi(r.h)||r.m||(r.m=!0,hi(r.Ja,r),r.C=0)}function me(r,e){var t;t=e?e.m:r.U++;const s=ci(r.F);Fn(s,"SID",r.I),Fn(s,"RID",t),Fn(s,"AID",r.T),Je(r,s),r.o&&r.s&&je(s,r.o,r.s),t=new G2(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=ft(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),rn(r.h,t),o2(t,s,e)}function Je(r,e){r.ia&&r1(r.ia,function(t,s){Fn(e,s,t)}),r.l&&Q2({},function(t,s){Fn(e,s,t)})}function ft(r,e,t){t=Math.min(r.i.length,t);var s=r.l?xt(r.l.Ra,r.l,r):null;e:{var u=r.i;let y=-1;for(;;){const w=["count="+t];-1==y?0<t?(y=u[0].h,w.push("ofs="+y)):y=0:w.push("ofs="+y);let x=!0;for(let U=0;U<t;U++){let J=u[U].h;const oe=u[U].g;if(J-=y,0>J)y=Math.max(0,u[U].h-100),x=!1;else try{us(oe,w,"req"+J+"_")}catch{s&&s(oe)}}if(x){s=w.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,s}function e1(r){r.g||r.u||(r.Z=1,hi(r.Ia,r),r.A=0)}function K1(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=d2(xt(r.Ia,r),In(r,r.A)),r.A++,0))}function sn(r){null!=r.B&&(_e.clearTimeout(r.B),r.B=null)}function ln(r){r.g=new G2(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=ci(r.sa);Fn(e,"RID","rpc"),Fn(e,"SID",r.I),Fn(e,"CI",r.L?"0":"1"),Fn(e,"AID",r.T),Fn(e,"TYPE","xmlhttp"),Je(r,e),r.o&&r.s&&je(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=D2(ci(e)),t.s=null,t.P=!0,Xr(t,r)}function on(r){null!=r.v&&(_e.clearTimeout(r.v),r.v=null)}function $n(r,e){var t=null;if(r.g==e){on(r),sn(r),r.g=null;var s=2}else{if(!At(r.h,e))return;t=e.D,Oi(r.h,e),s=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=r.C;$t(s=w2(),new cs(s,t)),O(r)}else e1(r);else if(3==(u=e.o)||0==u&&0<r.pa||!(1==s&&function X(r,e){return!(qi(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=d2(xt(r.Ja,r,e),In(r,r.C)),r.C++,0)))}(r,e)||2==s&&K1(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),u){case 1:pn(r,5);break;case 4:pn(r,10);break;case 3:pn(r,6);break;default:pn(r,2)}}function In(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function pn(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=xt(r.kb,r);t||(t=new Qn("//www.google.com/images/cleardot.gif"),_e.location&&"http"==_e.location.protocol||$r(t,"https"),D2(t)),function Ki(r,e){const t=new P2;if(_e.Image){const s=new Image;s.onload=g1(x2,t,s,"TestLoadImage: loaded",!0,e),s.onerror=g1(x2,t,s,"TestLoadImage: error",!1,e),s.onabort=g1(x2,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=g1(x2,t,s,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else V2(2);r.G=0,r.l&&r.l.va(e),Dr(r),$(r)}function Dr(r){if(r.G=0,r.la=[],r.l){const e=Mr(r.h);(0!=e.length||0!=r.i.length)&&(nn(r.la,e),nn(r.la,r.i),r.h.i.length=0,Ft(r.i),r.i.length=0),r.l.ua()}}function Qi(r,e,t){var s=t instanceof Qn?ci(t):new Qn(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Xn(s,s.m);else{var u=_e.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var y=new Qn(null,void 0);s&&$r(y,s),e&&(y.g=e),u&&Xn(y,u),t&&(y.l=t),s=y}return e=r.za,(t=r.D)&&e&&Fn(s,t,e),Fn(s,"VER",r.ma),Je(r,s),s}function dr(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&r.Da&&!r.ra?new cr({jb:!0}):r.ra)).Ka(r.H),e}function Er(){}function Xi(){if(vn&&!(10<=Number(Bt)))throw Error("Environmental error: no available transport.")}function ui(r,e){pt.call(this),this.g=new Nt(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!xn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xn(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new E2(this)}function ds(r){G1.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function qs(){An.call(this),this.status=1}function E2(r){this.g=r}(re=at.prototype).Ka=function(r){this.L=r},re.da=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yn.g(),this.C=function wt(r){return r.h||(r.h=r.i())}(this.u?this.u:yn),this.g.onreadystatechange=xt(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(y){return void wr(this,y)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)t.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const y of s.keys())t.set(y,s.get(y))}s=Array.from(t.keys()).find(y=>"content-type"==y.toLowerCase()),u=_e.FormData&&r instanceof _e.FormData,!(0<=qn(lr,e))||s||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,w]of t)this.g.setRequestHeader(y,w);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{W(this),0<this.B&&((this.K=function Yi(r){return vn&&function s1(){return function Jn(r){var e=vt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=jn(String(st)).split("."),t=jn("9").split("."),s=Math.max(e.length,t.length);for(let w=0;0==r&&w<s;w++){var u=e[w]||"",y=t[w]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],0==u[0].length&&0==y[0].length)break;r=zn(0==u[1].length?0:parseInt(u[1],10),0==y[1].length?0:parseInt(y[1],10))||zn(0==u[2].length,0==y[2].length)||zn(u[2],y[2]),u=u[3],y=y[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.qa,this)):this.A=Tn(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(y){wr(this,y)}},re.qa=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))},re.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,$t(this,"complete"),$t(this,"abort"),Ji(this))},re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ji(this,!0)),at.X.M.call(this)},re.Ha=function(){this.s||(this.F||this.v||this.l?Rr(this):this.fb())},re.fb=function(){Rr(this)},re.aa=function(){try{return 2<ee(this)?this.g.status:-1}catch{return-1}},re.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},re.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ne(e)}},re.Ea=function(){return this.m},re.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(re=Nt.prototype).ma=8,re.G=1,re.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const u=new G2(this,this.j,r,void 0);let y=this.s;if(this.S&&(y?(y=Mt(y),w1(y,this.S)):y=this.S),null!==this.o||this.N||(u.H=y,y=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ft(this,u,e),Fn(t=ci(this.F),"RID",r),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),Je(this,t),y&&(this.N?e="headers="+encodeURIComponent(String(ve(y)))+"&"+e:this.o&&je(t,this.o,y)),rn(this.h,u),this.Ya&&Fn(t,"TYPE","init"),this.O?(Fn(t,"$req",e),Fn(t,"SID","null"),u.Z=!0,o2(u,t,null)):o2(u,t,e),this.G=2}}else 3==this.G&&(r?me(this,r):0==this.i.length||Wi(this.h)||me(this))},re.Ia=function(){if(this.u=null,ln(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=d2(xt(this.eb,this),r)}},re.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,V2(10),z(this),ln(this))},re.cb=function(){null!=this.v&&(this.v=null,z(this),K1(this),V2(19))},re.kb=function(r){r?(this.j.info("Successfully pinged google.com"),V2(2)):(this.j.info("Failed to ping google.com"),V2(1))},(re=Er.prototype).xa=function(){},re.wa=function(){},re.va=function(){},re.ua=function(){},re.Ra=function(){},Xi.prototype.g=function(r,e){return new ui(r,e)},y1(ui,pt),ui.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;V2(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Qi(r,null,r.V),O(r)},ui.prototype.close=function(){Et(this.g)},ui.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=W1(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&O(e)},ui.prototype.M=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,ui.X.M.call(this)},y1(ds,G1),y1(qs,An),y1(E2,Er),E2.prototype.xa=function(){$t(this.g,"a")},E2.prototype.wa=function(r){$t(this.g,new ds(r))},E2.prototype.va=function(r){$t(this.g,new qs)},E2.prototype.ua=function(){$t(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,He.COMPLETE="complete",Zt.EventType=E1,E1.OPEN="a",E1.CLOSE="b",E1.ERROR="c",E1.MESSAGE="d",pt.prototype.listen=pt.prototype.N,at.prototype.listenOnce=at.prototype.O,at.prototype.getLastError=at.prototype.Oa,at.prototype.getLastErrorCode=at.prototype.Ea,at.prototype.getStatus=at.prototype.aa,at.prototype.getResponseJson=at.prototype.Sa,at.prototype.getResponseText=at.prototype.fa,at.prototype.send=at.prototype.da,at.prototype.setWithCredentials=at.prototype.Ka;var Ks=mt.createWebChannelTransport=function(){return new Xi},Ko=mt.getStatEventTarget=function(){return w2()},Yo=mt.ErrorCode=$e,Jo=mt.EventType=He,vo=mt.Event=mi,Xs=mt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ps=mt.FetchXmlHttpFactory=cr,eo=mt.WebChannel=Zt,To=mt.XhrIo=at;const yo="@firebase/firestore";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let ei="9.15.0";const kr=new ct.Yd("@firebase/firestore");function Ts(){return kr.logLevel}function Ht(r,...e){if(kr.logLevel<=ct.in.DEBUG){const t=e.map(to);kr.debug(`Firestore (${ei}): ${r}`,...t)}}function bi(r,...e){if(kr.logLevel<=ct.in.ERROR){const t=e.map(to);kr.error(`Firestore (${ei}): ${r}`,...t)}}function ts(r,...e){if(kr.logLevel<=ct.in.WARN){const t=e.map(to);kr.warn(`Firestore (${ei}): ${r}`,...t)}}function to(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function t1(r="Unexpected state"){const e=`FIRESTORE (${ei}) INTERNAL ASSERTION FAILED: `+r;throw bi(e),new Error(e)}function p1(r,e){r||t1()}function Jt(r,e){return r}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends Ye.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class H2{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ai{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class no{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ti.UNAUTHENTICATED))}shutdown(){}}class Pr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _o{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let u=this.i;const y=J=>this.i!==u?(u=this.i,t(J)):Promise.resolve();let w=new H2;this.o=()=>{this.i++,this.currentUser=this.u(),w.resolve(),w=new H2,e.enqueueRetryable(()=>y(this.currentUser))};const x=()=>{const J=w;e.enqueueRetryable((0,Oe.Z)(function*(){yield J.promise,yield y(s.currentUser)}))},U=J=>{Ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(J=>U(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?U(J):(Ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),w.resolve(),w=new H2)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(p1("string"==typeof s.accessToken),new Ai(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return p1(null===e||"string"==typeof e),new Ti(e)}}class fs{constructor(e,t,s,u){this.h=e,this.l=t,this.m=s,this.g=u,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(p1(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class bo{constructor(e,t,s,u){this.h=e,this.l=t,this.m=s,this.g=u}getToken(){return Promise.resolve(new fs(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class io{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=y=>{null!=y.error&&Ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const w=y.token!==this.A;return this.A=y.token,Ht("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?t(y.token):Promise.resolve()};this.o=y=>{e.enqueueRetryable(()=>s(y))};const u=y=>{Ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.appCheck.addTokenListener(this.o)};this.T.onInit(y=>u(y)),setTimeout(()=>{if(!this.appCheck){const y=this.T.getImmediate({optional:!0});y?u(y):Ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(p1("string"==typeof t.token),this.A=t.token,new io(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hr(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Kr{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const u=hr(40);for(let y=0;y<u.length;++y)s.length<20&&u[y]<t&&(s+=e.charAt(u[y]%e.length))}return s}}function Y1(r,e){return r<e?-1:r>e?1:0}function er(r,e,t){return r.length===e.length&&r.every((s,u)=>t(s,e[u]))}function Co(r){return r+"\0"}class S2{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return S2.fromMillis(Date.now())}static fromDate(e){return S2.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new S2(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y1(this.nanoseconds,e.nanoseconds):Y1(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class A1{constructor(e){this.timestamp=e}static fromTimestamp(e){return new A1(e)}static min(){return new A1(new S2(0,0))}static max(){return new A1(new S2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b2{constructor(e,t,s){void 0===t?t=0:t>e.length&&t1(),void 0===s?s=e.length-t:s>e.length-t&&t1(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===b2.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof b2?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let u=0;u<s;u++){const y=e.get(u),w=t.get(u);if(y<w)return-1;if(y>w)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends b2{construct(e,t,s){return new Vn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Lt(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(u=>u.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const ro=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends b2{construct(e,t,s){return new Sn(e,t,s)}static isValidIdentifier(e){return ro.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const t=[];let s="",u=0;const y=()=>{if(0===s.length)throw new Lt(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let w=!1;for(;u<e.length;){const x=e[u];if("\\"===x){if(u+1===e.length)throw new Lt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Lt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=U,u+=2}else"`"===x?(w=!w,u++):"."!==x||w?(s+=x,u++):(y(),u++)}if(y(),w)throw new Lt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}class qt{constructor(e){this.path=e}static fromPath(e){return new qt(Vn.fromString(e))}static fromName(e){return new qt(Vn.fromString(e).popFirst(5))}static empty(){return new qt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new Vn(e.slice()))}}class hs{constructor(e,t,s,u){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=u}}function ws(r){return r.fields.find(e=>2===e.kind)}function Ri(r){return r.fields.filter(e=>2!==e.kind)}hs.UNKNOWN_ID=-1;class ns{constructor(e,t){this.fieldPath=e,this.kind=t}}class Zn{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Zn(0,Vr.min())}}function so(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=A1.fromTimestamp(1e9===s?new S2(t+1,0):new S2(t,s));return new Vr(u,qt.empty(),e)}function Qo(r){return new Vr(r.readTime,r.key,-1)}class Vr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vr(A1.min(),qt.empty(),-1)}static max(){return new Vr(A1.max(),qt.empty(),-1)}}function Ao(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=qt.comparator(r.documentKey,e.documentKey),0!==t?t:Y1(r.largestBatchId,e.largestBatchId))}const va="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Mo(r){return gs.apply(this,arguments)}function gs(){return gs=(0,Oe.Z)(function*(r){if(r.code!==ht.FAILED_PRECONDITION||r.message!==va)throw r;Ht("LocalStore","Unexpectedly lost primary lease")}),gs.apply(this,arguments)}class dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&t1(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new dt((s,u)=>{this.nextCallback=y=>{this.wrapSuccess(e,y).next(s,u)},this.catchCallback=y=>{this.wrapFailure(t,y).next(s,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof dt?t:dt.resolve(t)}catch(t){return dt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):dt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):dt.reject(t)}static resolve(e){return new dt((t,s)=>{t(e)})}static reject(e){return new dt((t,s)=>{s(e)})}static waitFor(e){return new dt((t,s)=>{let u=0,y=0,w=!1;e.forEach(x=>{++u,x.next(()=>{++y,w&&y===u&&t()},U=>s(U))}),w=!0,y===u&&t()})}static or(e){let t=dt.resolve(!1);for(const s of e)t=t.next(u=>u?dt.resolve(u):s());return t}static forEach(e,t){const s=[];return e.forEach((u,y)=>{s.push(t.call(this,u,y))}),this.waitFor(s)}static mapArray(e,t){return new dt((s,u)=>{const y=e.length,w=new Array(y);let x=0;for(let U=0;U<y;U++){const J=U;t(e[J]).next(oe=>{w[J]=oe,++x,x===y&&s(w)},oe=>u(oe))}})}static doWhile(e,t){return new dt((s,u)=>{const y=()=>{!0===e()?t().next(()=>{y()},u):s()};y()})}}class oo{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new H2,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new vs(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const u=wo(s.target.error);this.P.reject(new vs(e,u))}}static open(e,t,s,u){try{return new oo(t,e.transaction(u,s))}catch(y){throw new vs(t,y)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ht("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Io(t)}}class Wn{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Wn.D((0,Ye.z$)())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ht("SimpleDb","Removing database:",e),ki(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ye.hl)())return!1;if(Wn.N())return!0;const e=(0,Ye.z$)(),t=Wn.D(e),s=0<t&&t<10,u=Wn.k(e),y=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||y)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,Oe.Z)(function*(){return t.db||(Ht("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,u)=>{const y=indexedDB.open(t.name,t.version);y.onsuccess=w=>{s(w.target.result)},y.onblocked=()=>{u(new vs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},y.onerror=w=>{const x=w.target.error;u("VersionError"===x.name?new Lt(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new Lt(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new vs(e,x))},y.onupgradeneeded=w=>{Ht("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',w.oldVersion),t.S.$(w.target.result,y.transaction,w.oldVersion,t.version).next(()=>{Ht("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,u){var y=this;return(0,Oe.Z)(function*(){const w="readonly"===t;let x=0;for(;;){++x;try{y.db=yield y.F(e);const U=oo.open(y.db,e,w?"readonly":"readwrite",s),J=u(U).next(oe=>(U.V(),oe)).catch(oe=>(U.abort(oe),dt.reject(oe))).toPromise();return J.catch(()=>{}),yield U.v,J}catch(U){const J=U,oe="FirebaseError"!==J.name&&x<3;if(Ht("SimpleDb","Transaction failed with error:",J.message,"Retrying:",oe),y.close(),!oe)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Vs{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ki(this.q.delete())}}class vs extends Lt{constructor(e,t){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Hs(r){return"IndexedDbTransactionError"===r.name}class Io{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ht("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ht("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ki(s)}add(e){return Ht("SimpleDb","ADD",this.store.name,e,e),ki(this.store.add(e))}get(e){return ki(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ht("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ht("SimpleDb","DELETE",this.store.name,e),ki(this.store.delete(e))}count(){return Ht("SimpleDb","COUNT",this.store.name),ki(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),y=[];return this.H(u,(w,x)=>{y.push(x)}).next(()=>y)}{const u=this.store.getAll(s.range);return new dt((y,w)=>{u.onerror=x=>{w(x.target.error)},u.onsuccess=x=>{y(x.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new dt((u,y)=>{s.onerror=w=>{y(w.target.error)},s.onsuccess=w=>{u(w.target.result)}})}Y(e,t){Ht("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const u=this.cursor(s);return this.H(u,(y,w,x)=>x.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const u=this.cursor(s);return this.H(u,t)}tt(e){const t=this.cursor({});return new dt((s,u)=>{t.onerror=y=>{const w=wo(y.target.error);u(w)},t.onsuccess=y=>{const w=y.target.result;w?e(w.primaryKey,w.value).next(x=>{x?w.continue():s()}):s()}})}H(e,t){const s=[];return new dt((u,y)=>{e.onerror=w=>{y(w.target.error)},e.onsuccess=w=>{const x=w.target.result;if(!x)return void u();const U=new Vs(x),J=t(x.primaryKey,x.value,U);if(J instanceof dt){const oe=J.catch(Ie=>(U.done(),dt.reject(Ie)));s.push(oe)}U.isDone?u():null===U.G?x.continue():x.continue(U.G)}}).next(()=>dt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ki(r){return new dt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const u=wo(s.target.error);t(u)}})}let Hr=!1;function wo(r){const e=Wn.D((0,Ye.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hr||(Hr=!0,setTimeout(()=>{throw s},0)),s}}return r}class Fr{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ht("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Oe.Z)(function*(){t.task=null;try{Ht("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){Hs(s)?Ht("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Mo(s)}yield t.nt(6e4)}))}}class Fs{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let u=t,y=!0;return dt.doWhile(()=>!0===y&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(w=>{if(null!==w&&!s.has(w))return Ht("IndexBackiller",`Processing collection: ${w}`),this.rt(e,w,u).next(x=>{u-=x,s.add(w)});y=!1})).next(()=>t-u)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,s).next(y=>{const w=y.changes;return this.localStore.indexManager.updateIndexEntries(e,w).next(()=>this.ot(u,y)).next(x=>(Ht("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>w.size)}))}ot(e,t){let s=e;return t.changes.forEach((u,y)=>{const w=Qo(y);Ao(w,s)>0&&(s=w)}),new Vr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let tr=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>s.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return r.at=-1,r})();class p{constructor(e,t,s,u,y,w,x,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=u,this.ssl=y,this.forceLongPolling=w,this.autoDetectLongPolling=x,this.useFetchStreams=U}}class l{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new l("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof l&&e.projectId===this.projectId&&e.database===this.database}}function a(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function g(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function M(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function A(r){return null==r}function j(r){return 0===r&&1/r==-1/0}function K(r){return"number"==typeof r&&Number.isInteger(r)&&!j(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Le{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Le(t)}static fromUint8Array(e){const t=function(s){let u="";for(let y=0;y<s.length;++y)u+=String.fromCharCode(s[y]);return u}(e);return new Le(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y1(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Le.EMPTY_BYTE_STRING=new Le("");const Ot=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _t(r){if(p1(!!r),"string"==typeof r){let e=0;const t=Ot.exec(r);if(p1(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(r.seconds),nanos:Xt(r.nanos)}}function Xt(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function j1(r){return"string"==typeof r?Le.fromBase64String(r):Le.fromUint8Array(r)}function k1(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Q1(r){const e=r.mapValue.fields.__previous_value__;return k1(e)?Q1(e):e}function un(r){const e=_t(r.mapValue.fields.__local_write_time__.timestampValue);return new S2(e.seconds,e.nanos)}const Ln={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},y2={nullValue:"NULL_VALUE"};function h2(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?k1(r)?4:Y(r)?9007199254740991:10:t1()}function z2(r,e){if(r===e)return!0;const t=h2(r);if(t!==h2(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return un(r).isEqual(un(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const y=_t(s.timestampValue),w=_t(u.timestampValue);return y.seconds===w.seconds&&y.nanos===w.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return u=e,j1(r.bytesValue).isEqual(j1(u.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,u){return Xt(s.geoPointValue.latitude)===Xt(u.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(u.geoPointValue.longitude)}(r,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return Xt(s.integerValue)===Xt(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const y=Xt(s.doubleValue),w=Xt(u.doubleValue);return y===w?j(y)===j(w):isNaN(y)&&isNaN(w)}return!1}(r,e);case 9:return er(r.arrayValue.values||[],e.arrayValue.values||[],z2);case 10:return function(s,u){const y=s.mapValue.fields||{},w=u.mapValue.fields||{};if(a(y)!==a(w))return!1;for(const x in y)if(y.hasOwnProperty(x)&&(void 0===w[x]||!z2(y[x],w[x])))return!1;return!0}(r,e);default:return t1()}var u}function is(r,e){return void 0!==(r.values||[]).find(t=>z2(t,e))}function ti(r,e){if(r===e)return 0;const t=h2(r),s=h2(e);if(t!==s)return Y1(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Y1(r.booleanValue,e.booleanValue);case 2:return function(u,y){const w=Xt(u.integerValue||u.doubleValue),x=Xt(y.integerValue||y.doubleValue);return w<x?-1:w>x?1:w===x?0:isNaN(w)?isNaN(x)?0:-1:1}(r,e);case 3:return pr(r.timestampValue,e.timestampValue);case 4:return pr(un(r),un(e));case 5:return Y1(r.stringValue,e.stringValue);case 6:return function(u,y){const w=j1(u),x=j1(y);return w.compareTo(x)}(r.bytesValue,e.bytesValue);case 7:return function(u,y){const w=u.split("/"),x=y.split("/");for(let U=0;U<w.length&&U<x.length;U++){const J=Y1(w[U],x[U]);if(0!==J)return J}return Y1(w.length,x.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,y){const w=Y1(Xt(u.latitude),Xt(y.latitude));return 0!==w?w:Y1(Xt(u.longitude),Xt(y.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(u,y){const w=u.values||[],x=y.values||[];for(let U=0;U<w.length&&U<x.length;++U){const J=ti(w[U],x[U]);if(J)return J}return Y1(w.length,x.length)}(r.arrayValue,e.arrayValue);case 10:return function(u,y){if(u===Ln.mapValue&&y===Ln.mapValue)return 0;if(u===Ln.mapValue)return 1;if(y===Ln.mapValue)return-1;const w=u.fields||{},x=Object.keys(w),U=y.fields||{},J=Object.keys(U);x.sort(),J.sort();for(let oe=0;oe<x.length&&oe<J.length;++oe){const Ie=Y1(x[oe],J[oe]);if(0!==Ie)return Ie;const lt=ti(w[x[oe]],U[J[oe]]);if(0!==lt)return lt}return Y1(x.length,J.length)}(r.mapValue,e.mapValue);default:throw t1()}}function pr(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Y1(r,e);const t=_t(r),s=_t(e),u=Y1(t.seconds,s.seconds);return 0!==u?u:Y1(t.nanos,s.nanos)}function Ci(r){return As(r)}function As(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const u=_t(s);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?j1(r.bytesValue).toBase64():"referenceValue"in r?qt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let u="[",y=!0;for(const w of s.values||[])y?y=!1:u+=",",u+=As(w);return u+"]"}(r.arrayValue):"mapValue"in r?function(s){const u=Object.keys(s.fields||{}).sort();let y="{",w=!0;for(const x of u)w?w=!1:y+=",",y+=`${x}:${As(s.fields[x])}`;return y+"}"}(r.mapValue):t1();var e}function ji(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Is(r){return!!r&&"integerValue"in r}function Bs(r){return!!r&&"arrayValue"in r}function B2(r){return!!r&&"nullValue"in r}function ya(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function P(r){return!!r&&"mapValue"in r}function V(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return g(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=V(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=V(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Y(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function se(r){return"nullValue"in r?y2:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ji(l.empty(),qt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:t1()}function Pe(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ji(l.empty(),qt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Ln:t1()}function tt(r,e){const t=ti(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function zt(r,e){const t=ti(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class o1{constructor(e,t){this.position=e,this.inclusive=t}}function C1(r,e,t){let s=0;for(let u=0;u<r.position.length;u++){const y=e[u],w=r.position[u];if(s=y.field.isKeyField()?qt.comparator(qt.fromName(w.referenceValue),t.key):ti(w,t.data.field(y.field)),"desc"===y.dir&&(s*=-1),0!==s)break}return s}function c1(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!z2(r.position[t],e.position[t]))return!1;return!0}class On{}class u1 extends On{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new G3(e,t,s):"array-contains"===t?new B6(e,s):"in"===t?new c3(e,s):"not-in"===t?new O4(e,s):"array-contains-any"===t?new ja(e,s):new u1(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new F6(e,s):new $3(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ti(t,this.value)):null!==t&&h2(this.value)===h2(t)&&this.matchesComparison(ti(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return t1()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class H1 extends On{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new H1(e,t)}matches(e){return c2(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function c2(r){return"and"===r.op}function Pi(r){return"or"===r.op}function Ys(r){return Us(r)&&c2(r)}function Us(r){for(const e of r.filters)if(e instanceof H1)return!1;return!0}function Br(r){if(r instanceof u1)return r.field.canonicalString()+r.op.toString()+Ci(r.value);{const e=r.filters.map(t=>Br(t)).join(",");return`${r.op}(${e})`}}function ys(r,e){return r instanceof u1?(t=r,(s=e)instanceof u1&&t.op===s.op&&t.field.isEqual(s.field)&&z2(t.value,s.value)):r instanceof H1?function(t,s){return s instanceof H1&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((u,y,w)=>u&&ys(y,s.filters[w]),!0)}(r,e):void t1();var t,s}function _a(r,e){const t=r.filters.concat(e);return H1.create(t,r.op)}function H6(r){return r instanceof u1?`${(e=r).field.canonicalString()} ${e.op} ${Ci(e.value)}`:r instanceof H1?function(e){return e.op.toString()+" {"+e.getFilters().map(H6).join(" ,")+"}"}(r):"Filter";var e}class G3 extends u1{constructor(e,t,s){super(e,t,s),this.key=qt.fromName(s.referenceValue)}matches(e){const t=qt.comparator(e.key,this.key);return this.matchesComparison(t)}}class F6 extends u1{constructor(e,t){super(e,"in",t),this.keys=Z3(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $3 extends u1{constructor(e,t){super(e,"not-in",t),this.keys=Z3(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Z3(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>qt.fromName(s.referenceValue))}class B6 extends u1{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bs(t)&&is(t.arrayValue,this.value)}}class c3 extends u1{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&is(this.value.arrayValue,t)}}class O4 extends u1{constructor(e,t){super(e,"not-in",t)}matches(e){if(is(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!is(this.value.arrayValue,t)}}class ja extends u1{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>is(this.value.arrayValue,s))}}class ba{constructor(e,t="asc"){this.field=e,this.dir=t}}function W3(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Nr{constructor(e,t){this.comparator=e,this.root=t||Ds.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ds.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ds.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return t+s.left.size;u<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new f4(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new f4(this.root,e,this.comparator,!1)}getReverseIterator(){return new f4(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new f4(this.root,e,this.comparator,!0)}}class f4{constructor(e,t,s,u){this.isReverse=u,this.nodeStack=[];let y=1;for(;!e.isEmpty();)if(y=t?s(e.key,t):1,t&&u&&(y*=-1),y<0)e=this.isReverse?e.left:e.right;else{if(0===y){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ds{constructor(e,t,s,u,y){this.key=e,this.value=t,this.color=s??Ds.RED,this.left=u??Ds.EMPTY,this.right=y??Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,u,y){return new Ds(e??this.key,t??this.value,s??this.color,u??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let u=this;const y=s(e,u.key);return u=y<0?u.copy(null,null,null,u.left.insert(e,t,s),null):0===y?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Ds.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw t1();const e=this.left.check();if(e!==this.right.check())throw t1();return e+(this.isRed()?0:1)}}Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new class{constructor(){this.size=0}get key(){throw t1()}get value(){throw t1()}get color(){throw t1()}get left(){throw t1()}get right(){throw t1()}copy(r,e,t,s,u){return this}insert(r,e,t){return new Ds(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q3(this.data.getIterator())}getIteratorFrom(e){return new q3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,y=s.getNext().key;if(0!==this.comparator(u,y))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new di(this.comparator);return t.data=e,t}}class q3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ca(r){return r.hasNext()?r.getNext():void 0}class js{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new js([])}unionWith(e){let t=new di(Sn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return er(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!P(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=V(t)}setAll(e){let t=Sn.emptyPath(),s={},u=[];e.forEach((w,x)=>{if(!t.isImmediateParentOf(x)){const U=this.getFieldsMap(t);this.applyChanges(U,s,u),s={},u=[],t=x.popLast()}w?s[x.lastSegment()]=V(w):u.push(x.lastSegment())});const y=this.getFieldsMap(t);this.applyChanges(y,s,u)}delete(e){const t=this.field(e.popLast());P(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return z2(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=t.mapValue.fields[e.get(s)];P(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,s){g(t,(u,y)=>e[u]=y);for(const u of s)delete e[u]}clone(){return new Es(V(this.value))}}function l3(r){const e=[];return g(r.fields,(t,s)=>{const u=new Sn([t]);if(P(s)){const y=l3(s.mapValue).fields;if(0===y.length)e.push(u);else for(const w of y)e.push(u.child(w))}else e.push(u)}),new js(e)}class Gi{constructor(e,t,s,u,y,w,x){this.key=e,this.documentType=t,this.version=s,this.readTime=u,this.createTime=y,this.data=w,this.documentState=x}static newInvalidDocument(e){return new Gi(e,0,A1.min(),A1.min(),A1.min(),Es.empty(),0)}static newFoundDocument(e,t,s,u){return new Gi(e,1,t,A1.min(),s,u,0)}static newNoDocument(e,t){return new Gi(e,2,t,A1.min(),A1.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new Gi(e,3,t,A1.min(),A1.min(),Es.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(A1.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=A1.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(e,t=null,s=[],u=[],y=null,w=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=u,this.limit=y,this.startAt=w,this.endAt=x,this.ft=null}}function U6(r,e=null,t=[],s=[],u=null,y=null,w=null){return new Bc(r,e,t,s,u,y,w)}function Ga(r){const e=Jt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Br(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),A(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ci(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ci(s)).join(",")),e.ft=t}return e.ft}function u3(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!W3(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ys(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!c1(r.startAt,e.startAt)&&c1(r.endAt,e.endAt)}function d3(r){return qt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function R4(r,e){return r.filters.filter(t=>t instanceof u1&&t.field.isEqual(e))}function f3(r,e,t){let s=y2,u=!0;for(const y of R4(r,e)){let w=y2,x=!0;switch(y.op){case"<":case"<=":w=se(y.value);break;case"==":case"in":case">=":w=y.value;break;case">":w=y.value,x=!1;break;case"!=":case"not-in":w=y2}tt({value:s,inclusive:u},{value:w,inclusive:x})<0&&(s=w,u=x)}if(null!==t)for(let y=0;y<r.orderBy.length;++y)if(r.orderBy[y].field.isEqual(e)){const w=t.position[y];tt({value:s,inclusive:u},{value:w,inclusive:t.inclusive})<0&&(s=w,u=t.inclusive);break}return{value:s,inclusive:u}}function k4(r,e,t){let s=Ln,u=!0;for(const y of R4(r,e)){let w=Ln,x=!0;switch(y.op){case">=":case">":w=Pe(y.value),x=!1;break;case"==":case"in":case"<=":w=y.value;break;case"<":w=y.value,x=!1;break;case"!=":case"not-in":w=Ln}zt({value:s,inclusive:u},{value:w,inclusive:x})>0&&(s=w,u=x)}if(null!==t)for(let y=0;y<r.orderBy.length;++y)if(r.orderBy[y].field.isEqual(e)){const w=t.position[y];zt({value:s,inclusive:u},{value:w,inclusive:t.inclusive})>0&&(s=w,u=t.inclusive);break}return{value:s,inclusive:u}}class xo{constructor(e,t=null,s=[],u=[],y=null,w="F",x=null,U=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=u,this.limit=y,this.limitType=w,this.startAt=x,this.endAt=U,this.dt=null,this._t=null}}function h4(r,e,t,s,u,y,w,x){return new xo(r,e,t,s,u,y,w,x)}function xs(r){return new xo(r)}function K3(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Y3(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function p4(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function h3(r){return null!==r.collectionGroup}function zo(r){const e=Jt(r);if(null===e.dt){e.dt=[];const t=p4(e),s=Y3(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new ba(t)),e.dt.push(new ba(Sn.keyField(),"asc"));else{let u=!1;for(const y of e.explicitOrderBy)e.dt.push(y),y.field.isKeyField()&&(u=!0);if(!u){const y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ba(Sn.keyField(),y))}}}return e.dt}function rs(r){const e=Jt(r);if(!e._t)if("F"===e.limitType)e._t=U6(e.path,e.collectionGroup,zo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const y of zo(e))t.push(new ba(y.field,"desc"===y.dir?"asc":"desc"));const s=e.endAt?new o1(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new o1(e.startAt.position,e.startAt.inclusive):null;e._t=U6(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}return e._t}function J3(r,e){e.getFirstInequalityField(),p4(r);const t=r.filters.concat([e]);return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function zs(r,e,t){return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function q2(r,e){return u3(rs(r),rs(e))&&r.limitType===e.limitType}function P4(r){return`${Ga(rs(r))}|lt:${r.limitType}`}function V4(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>H6(s)).join(", ")}]`),A(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ci(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ci(s)).join(",")),`Target(${t})`}(rs(r))}; limitType=${r.limitType})`}function Tr(r,e){return e.isFoundDocument()&&function(t,s){const u=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):qt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(r,e)&&function(t,s){for(const u of zo(t))if(!u.field.isKeyField()&&null===s.data.field(u.field))return!1;return!0}(r,e)&&function(t,s){for(const u of t.filters)if(!u.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(u,y,w){const x=C1(u,y,w);return u.inclusive?x<=0:x<0}(t.startAt,zo(t),s)||t.endAt&&!function(u,y,w){const x=C1(u,y,w);return u.inclusive?x>=0:x>0}(t.endAt,zo(t),s)));var t,s}function H4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Q3(r){return(e,t)=>{let s=!1;for(const u of zo(r)){const y=ao(u,e,t);if(0!==y)return y;s=s||u.field.isKeyField()}return 0}}function ao(r,e,t){const s=r.field.isKeyField()?qt.comparator(e.key,t.key):function(u,y,w){const x=y.data.field(u),U=w.data.field(u);return null!==x&&null!==U?ti(x,U):t1()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return t1()}}function _s(r,e){if(r.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j(e)?"-0":e}}function Do(r){return{integerValue:""+r}}function ea(r,e){return K(e)?Do(e):_s(r,e)}class m4{constructor(){this._=void 0}}function p3(r,e,t){return r instanceof Lo?function(s,u){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&(y.fields.__previous_value__=u),{mapValue:y}}(t,e):r instanceof Js?Oo(r,e):r instanceof Gs?g4(r,e):function(s,u){const y=e6(s,u),w=Ma(y)+Ma(s.gt);return Is(y)&&Is(s.gt)?Do(w):_s(s.yt,w)}(r,e)}function X3(r,e,t){return r instanceof Js?Oo(r,e):r instanceof Gs?g4(r,e):t}function e6(r,e){return r instanceof Ro?Is(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Lo extends m4{}class Js extends m4{constructor(e){super(),this.elements=e}}function Oo(r,e){const t=ta(e);for(const s of r.elements)t.some(u=>z2(u,s))||t.push(s);return{arrayValue:{values:t}}}class Gs extends m4{constructor(e){super(),this.elements=e}}function g4(r,e){let t=ta(e);for(const s of r.elements)t=t.filter(u=>!z2(u,s));return{arrayValue:{values:t}}}class Ro extends m4{constructor(e,t){super(),this.yt=e,this.gt=t}}function Ma(r){return Xt(r.integerValue||r.doubleValue)}function ta(r){return Bs(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class wa{constructor(e,t){this.field=e,this.transform=t}}class $a{constructor(e,t){this.version=e,this.transformResults=t}}class $i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function m3(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Da{}function v4(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ea(r.key,$i.none()):new Za(r.key,r.data,$i.none());{const t=r.data,s=Es.empty();let u=new di(Sn.comparator);for(let y of e.fields)if(!u.has(y)){let w=t.field(y);null===w&&y.length>1&&(y=y.popLast(),w=t.field(y)),null===w?s.delete(y):s.set(y,w),u=u.add(y)}return new ia(r.key,s,new js(u.toArray()),$i.none())}}function G6(r,e,t){r instanceof Za?function(s,u,y){const w=s.value.clone(),x=$6(s.fieldTransforms,u,y.transformResults);w.setAll(x),u.convertToFoundDocument(y.version,w).setHasCommittedMutations()}(r,e,t):r instanceof ia?function(s,u,y){if(!m3(s.precondition,u))return void u.convertToUnknownDocument(y.version);const w=$6(s.fieldTransforms,u,y.transformResults),x=u.data;x.setAll(F4(s)),x.setAll(w),u.convertToFoundDocument(y.version,x).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function g3(r,e,t,s){return r instanceof Za?function(u,y,w,x){if(!m3(u.precondition,y))return w;const U=u.value.clone(),J=Z6(u.fieldTransforms,x,y);return U.setAll(J),y.convertToFoundDocument(y.version,U).setHasLocalMutations(),null}(r,e,t,s):r instanceof ia?function(u,y,w,x){if(!m3(u.precondition,y))return w;const U=Z6(u.fieldTransforms,x,y),J=y.data;return J.setAll(F4(u)),J.setAll(U),y.convertToFoundDocument(y.version,J).setHasLocalMutations(),null===w?null:w.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(oe=>oe.field))}(r,e,t,s):(w=t,m3(r.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):w);var y,w}function na(r,e){let t=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),y=e6(s.transform,u||null);null!=y&&(null===t&&(t=Es.empty()),t.set(s.field,y))}return t||null}function v3(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&er(t,s,(u,y)=>function j6(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Js&&s instanceof Js||t instanceof Gs&&s instanceof Gs?er(t.elements,s.elements,z2):t instanceof Ro&&s instanceof Ro?z2(t.gt,s.gt):t instanceof Lo&&s instanceof Lo);var t,s}(u,y))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Za extends Da{constructor(e,t,s,u=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ia extends Da{constructor(e,t,s,u,y=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=u,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function F4(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function $6(r,e,t){const s=new Map;p1(r.length===t.length);for(let u=0;u<t.length;u++){const y=r[u],w=y.transform,x=e.data.field(y.field);s.set(y.field,X3(w,x,t[u]))}return s}function Z6(r,e,t){const s=new Map;for(const u of r){const y=u.transform,w=t.data.field(u.field);s.set(u.field,p3(y,w,e))}return s}class Ea extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y3 extends Da{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sa{constructor(e){this.count=e}}var nr,e2;function Na(r){switch(r){default:return t1();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function B4(r){if(void 0===r)return bi("GRPC error has no .code"),ht.UNKNOWN;switch(r){case nr.OK:return ht.OK;case nr.CANCELLED:return ht.CANCELLED;case nr.UNKNOWN:return ht.UNKNOWN;case nr.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case nr.INTERNAL:return ht.INTERNAL;case nr.UNAVAILABLE:return ht.UNAVAILABLE;case nr.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case nr.NOT_FOUND:return ht.NOT_FOUND;case nr.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case nr.ABORTED:return ht.ABORTED;case nr.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case nr.DATA_LOSS:return ht.DATA_LOSS;default:return t1()}}(e2=nr||(nr={}))[e2.OK=0]="OK",e2[e2.CANCELLED=1]="CANCELLED",e2[e2.UNKNOWN=2]="UNKNOWN",e2[e2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e2[e2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e2[e2.NOT_FOUND=5]="NOT_FOUND",e2[e2.ALREADY_EXISTS=6]="ALREADY_EXISTS",e2[e2.PERMISSION_DENIED=7]="PERMISSION_DENIED",e2[e2.UNAUTHENTICATED=16]="UNAUTHENTICATED",e2[e2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e2[e2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e2[e2.ABORTED=10]="ABORTED",e2[e2.OUT_OF_RANGE=11]="OUT_OF_RANGE",e2[e2.UNIMPLEMENTED=12]="UNIMPLEMENTED",e2[e2.INTERNAL=13]="INTERNAL",e2[e2.UNAVAILABLE=14]="UNAVAILABLE",e2[e2.DATA_LOSS=15]="DATA_LOSS";class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[u,y]of s)if(this.equalsFn(u,e))return y}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,t]],void this.innerSize++;for(let y=0;y<u.length;y++)if(this.equalsFn(u[y][0],e))return void(u[y]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[t]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){g(this.inner,(t,s)=>{for(const[u,y]of s)e(u,y)})}isEmpty(){return M(this.inner)}size(){return this.innerSize}}const L0=new Nr(qt.comparator);function ss(){return L0}const co=new Nr(qt.comparator);function Ta(...r){let e=co;for(const t of r)e=e.insert(t.key,t);return e}function ko(r){let e=co;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function $s(){return Po()}function y4(){return Po()}function Po(){return new Ls(r=>r.toString(),(r,e)=>r.isEqual(e))}const Qs=new Nr(qt.comparator),ra=new di(qt.comparator);function Hn(...r){let e=ra;for(const t of r)e=e.add(t);return e}const t6=new di(Y1);function sa(){return t6}class Vo{constructor(e,t,s,u,y){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const u=new Map;return u.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vo(A1.min(),u,sa(),ss(),Hn())}}class Aa{constructor(e,t,s,u,y){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Aa(s,t,Hn(),Hn(),Hn())}}class Ia{constructor(e,t,s,u){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=u}}class _4{constructor(e,t){this.targetId=e,this.Et=t}}class Zs{constructor(e,t,s=Le.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=u}}class Wa{constructor(){this.At=0,this.Rt=U4(),this.bt=Le.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Hn(),t=Hn(),s=Hn();return this.Rt.forEach((u,y)=>{switch(y){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:s=s.add(u);break;default:t1()}}),new Aa(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=U4()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class b4{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ss(),this.qt=C4(),this.Ut=new di(Y1)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:t1()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,s=e.Et.count,u=this.Yt(t);if(u){const y=u.target;if(d3(y))if(0===s){const w=new qt(y.path);this.Qt(t,w,Gi.newNoDocument(w,A1.min()))}else p1(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((y,w)=>{const x=this.Yt(w);if(x){if(y.current&&d3(x.target)){const U=new qt(x.target.path);null!==this.Lt.get(U)||this.te(w,U)||this.Qt(w,U,Gi.newNoDocument(U,e))}y.St&&(t.set(w,y.Ct()),y.xt())}});let s=Hn();this.qt.forEach((y,w)=>{let x=!0;w.forEachWhile(U=>{const J=this.Yt(U);return!J||2===J.purpose||(x=!1,!1)}),x&&(s=s.add(y))}),this.Lt.forEach((y,w)=>w.setReadTime(e));const u=new Vo(e,t,this.Ut,this.Lt,s);return this.Lt=ss(),this.qt=C4(),this.Ut=new di(Y1),u}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Wa,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new di(Y1),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ht("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Wa),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function C4(){return new Nr(qt.comparator)}function U4(){return new Nr(qt.comparator)}const qa={asc:"ASCENDING",desc:"DESCENDING"},bs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_3={and:"AND",or:"OR"};class n6{constructor(e,t){this.databaseId=e,this.wt=t}}function xa(r,e){return r.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lo(r,e){return r.wt?e.toBase64():e.toUint8Array()}function oa(r,e){return xa(r,e.toTimestamp())}function Mi(r){return p1(!!r),A1.fromTimestamp(function(e){const t=_t(e);return new S2(t.seconds,t.nanos)}(r))}function za(r,e){return(t=r,new Vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ho(r){const e=Vn.fromString(r);return p1(r6(e)),e}function aa(r,e){return za(r.databaseId,e.path)}function uo(r,e){const t=Ho(e);if(t.get(1)!==r.databaseId.projectId)throw new Lt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Lt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new qt(S(t))}function b3(r,e){return za(r.databaseId,e)}function W6(r){const e=Ho(r);return 4===e.length?Vn.emptyPath():S(e)}function Ka(r){return new Vn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S(r){return p1(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function v(r,e,t){return{name:aa(r,e),fields:t.value.mapValue.fields}}function b(r,e,t){const s=uo(r,e.name),u=Mi(e.updateTime),y=e.createTime?Mi(e.createTime):A1.min(),w=new Es({mapValue:{fields:e.fields}}),x=Gi.newFoundDocument(s,u,y,w);return t&&x.setHasCommittedMutations(),t?x.setHasCommittedMutations():x}function ie(r,e){let t;if(e instanceof Za)t={update:v(r,e.key,e.value)};else if(e instanceof Ea)t={delete:aa(r,e.key)};else if(e instanceof ia)t={update:v(r,e.key,e.data),updateMask:i6(e.fieldMask)};else{if(!(e instanceof y3))return t1();t={verify:aa(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,y){const w=y.transform;if(w instanceof Lo)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Js)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof Gs)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Ro)return{fieldPath:y.field.canonicalString(),increment:w.gt};throw t1()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:oa(r,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:t1()),t;var u}function Ge(r,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?$i.updateTime(Mi(u.updateTime)):void 0!==u.exists?$i.exists(u.exists):$i.none():$i.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(y,w){let x=null;"setToServerValue"in w?(p1("REQUEST_TIME"===w.setToServerValue),x=new Lo):"appendMissingElements"in w?x=new Js(w.appendMissingElements.values||[]):"removeAllFromArray"in w?x=new Gs(w.removeAllFromArray.values||[]):"increment"in w?x=new Ro(y,w.increment):t1();const U=Sn.fromServerFormat(w.fieldPath);return new wa(U,x)}(r,u)):[];var u;if(e.update){const u=uo(r,e.update.name),y=new Es({mapValue:{fields:e.update.fields}});if(e.updateMask){const w=new js((e.updateMask.fieldPaths||[]).map(J=>Sn.fromServerFormat(J)));return new ia(u,y,w,t,s)}return new Za(u,y,t,s)}if(e.delete){const u=uo(r,e.delete);return new Ea(u,t)}if(e.verify){const u=uo(r,e.verify);return new y3(u,t)}return t1()}function d1(r,e){return{documents:[b3(r,e.path)]}}function x1(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=b3(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=b3(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(U){if(0!==U.length)return j4(H1.create(U,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const y=function(U){if(0!==U.length)return U.map(J=>{return{field:La((oe=J).field),direction:Yr(oe.dir)};var oe})}(e.orderBy);y&&(t.structuredQuery.orderBy=y);const w=(J=e.limit,r.wt||A(J)?J:{value:J});var J,x,U;return null!==w&&(t.structuredQuery.limit=w),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(U=e.endAt).inclusive,values:U.position}),t}function mn(r){let e=W6(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let u=null;if(s>0){p1(1===s);const oe=t.from[0];oe.allDescendants?u=oe.collectionId:e=e.child(oe.collectionId)}let y=[];t.where&&(y=function(oe){const Ie=mr(oe);return Ie instanceof H1&&Ys(Ie)?Ie.getFilters():[Ie]}(t.where));let w=[];t.orderBy&&(w=t.orderBy.map(oe=>{return new ba(Ya((Ie=oe).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let x=null;t.limit&&(x=function(oe){let Ie;return Ie="object"==typeof oe?oe.value:oe,A(Ie)?null:Ie}(t.limit));let U=null;var oe;t.startAt&&(U=new o1((oe=t.startAt).values||[],!!oe.before));let J=null;return t.endAt&&(J=function(oe){return new o1(oe.values||[],!oe.before)}(t.endAt)),h4(e,u,w,y,x,"F",U,J)}function mr(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ya(e.unaryFilter.field);return u1.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Ya(e.unaryFilter.field);return u1.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(e.unaryFilter.field);return u1.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Ya(e.unaryFilter.field);return u1.create(y,"!=",{nullValue:"NULL_VALUE"});default:return t1()}}(r):void 0!==r.fieldFilter?u1.create(Ya((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return t1()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return H1.create(e.compositeFilter.filters.map(t=>mr(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return t1()}}(e.compositeFilter.op))}(r):t1();var e}function Yr(r){return qa[r]}function ca(r){return bs[r]}function C3(r){return _3[r]}function La(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Sn.fromServerFormat(r.fieldPath)}function j4(r){return r instanceof u1?function(e){if("=="===e.op){if(ya(e.value))return{unaryFilter:{field:La(e.field),op:"IS_NAN"}};if(B2(e.value))return{unaryFilter:{field:La(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ya(e.value))return{unaryFilter:{field:La(e.field),op:"IS_NOT_NAN"}};if(B2(e.value))return{unaryFilter:{field:La(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(e.field),op:ca(e.op),value:e.value}}}(r):r instanceof H1?function(e){const t=e.getFilters().map(s=>j4(s));return 1===t.length?t[0]:{compositeFilter:{op:C3(e.op),filters:t}}}(r):t1()}function i6(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function r6(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Cs(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=M3(e)),e=s6(r.get(t),e);return M3(e)}function s6(r,e){let t=e;const s=r.length;for(let u=0;u<s;u++){const y=r.charAt(u);switch(y){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=y}}return t}function M3(r){return r+"\x01\x01"}function Fo(r){const e=r.length;if(p1(e>=2),2===e)return p1("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Vn.emptyPath();const t=e-2,s=[];let u="";for(let y=0;y<e;){const w=r.indexOf("\x01",y);switch((w<0||w>t)&&t1(),r.charAt(w+1)){case"\x01":const x=r.substring(y,w);let U;0===u.length?U=x:(u+=x,U=u,u=""),s.push(U);break;case"\x10":u+=r.substring(y,w),u+="\0";break;case"\x11":u+=r.substring(y,w+1);break;default:t1()}y=w+2}return new Vn(s)}const w3=["userId","batchId"];function Oa(r,e){return[r,Cs(e)]}function Ra(r,e,t){return[r,Cs(e),t]}const o6={},q6=["prefixPath","collectionGroup","readTime","documentId"],Uc=["prefixPath","collectionGroup","documentId"],jc=["collectionGroup","readTime","prefixPath","documentId"],b7=["canonicalId","targetId"],C7=["targetId","path"],M7=["path","targetId"],a6=["collectionId","parent"],O0=["indexId","uid"],w7=["uid","sequenceNumber"],D7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gc=["indexId","uid","orderedDocumentKey"],R0=["userId","collectionPath","documentId"],y5=["userId","collectionPath","largestBatchId"],_5=["userId","collectionGroup","largestBatchId"],$c=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zc=[...$c,"documentOverlays"],D3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k0=D3,P0=[...k0,"indexConfiguration","indexState","indexEntries"];class V0 extends Xo{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function p2(r,e){const t=Jt(r);return Wn.M(t.se,e)}class E3{constructor(e,t,s,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const y=this.mutations[u];y.key.isEqual(e.key)&&G6(y,e,s[u])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=g3(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=g3(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=y4();return this.mutations.forEach(u=>{const y=e.get(u.key),w=y.overlayedDocument;let x=this.applyToLocalView(w,y.mutatedFields);x=t.has(u.key)?null:x;const U=v4(w,x);null!==U&&s.set(u.key,U),w.isValidDocument()||w.convertToNoDocument(A1.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hn())}isEqual(e){return this.batchId===e.batchId&&er(this.mutations,e.mutations,(t,s)=>v3(t,s))&&er(this.baseMutations,e.baseMutations,(t,s)=>v3(t,s))}}class H0{constructor(e,t,s,u){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=u}static from(e,t,s){p1(e.mutations.length===s.length);let u=Qs;const y=e.mutations;for(let w=0;w<y.length;w++)u=u.insert(y[w].key,s[w].version);return new H0(e,t,s,u)}}class c6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ja{constructor(e,t,s,u,y=A1.min(),w=A1.min(),x=Le.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=x}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wc{constructor(e){this.ie=e}}function qc(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:K6(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:aa(u=r.ie,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:xa(u,y.version.toTimestamp()),createTime:xa(u,y.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:G4(e.version)};else{if(!e.isUnknownDocument())return t1();s.unknownDocument={path:t.path.toArray(),version:G4(e.version)}}var u,y;return s}function K6(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function G4(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function M4(r){const e=new S2(r.seconds,r.nanoseconds);return A1.fromTimestamp(e)}function $4(r,e){const t=(e.baseMutations||[]).map(y=>Ge(r.ie,y));for(let y=0;y<e.mutations.length-1;++y){const w=e.mutations[y];y+1<e.mutations.length&&void 0!==e.mutations[y+1].transform&&(w.updateTransforms=e.mutations[y+1].transform.fieldTransforms,e.mutations.splice(y+1,1),++y)}const s=e.mutations.map(y=>Ge(r.ie,y)),u=S2.fromMillis(e.localWriteTimeMs);return new E3(e.batchId,u,t,s)}function ka(r){const e=M4(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?M4(r.lastLimboFreeSnapshotVersion):A1.min();let s;var u;return void 0!==r.query.documents?(p1(1===(u=r.query).documents.length),s=rs(xs(W6(u.documents[0])))):s=rs(mn(r.query)),new Ja(s,r.targetId,0,r.lastListenSequenceNumber,e,t,Le.fromBase64String(r.resumeToken))}function m(r,e){const t=G4(e.snapshotVersion),s=G4(e.lastLimboFreeSnapshotVersion);let u;u=d3(e.target)?d1(r.ie,e.target):x1(r.ie,e.target);const y=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ga(e.target),readTime:t,resumeToken:y,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function C(r){const e=mn({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?zs(e,e.limit,"L"):e}function f(r,e){return new c6(e.largestBatchId,Ge(r.ie,e.overlayMutation))}function E(r,e){const t=e.path.lastSegment();return[r,Cs(e.path.popLast()),t]}function L(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:G4(s.readTime),documentKey:Cs(s.documentKey.path),largestBatchId:s.largestBatchId}}class G{getBundleMetadata(e,t){return ye(e).get(t).next(s=>{if(s)return{id:(u=s).bundleId,createTime:M4(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return ye(e).put({bundleId:(s=t).id,createTime:G4(Mi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ve(e).get(t).next(s=>{if(s)return{name:(u=s).name,query:C(u.bundledQuery),readTime:M4(u.readTime)};var u})}saveNamedQuery(e,t){return Ve(e).put({name:(s=t).name,readTime:G4(Mi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ye(r){return p2(r,"bundles")}function Ve(r){return p2(r,"namedQueries")}class ke{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new ke(e,t.uid||"")}getOverlay(e,t){return bt(e).get(E(this.userId,t)).next(s=>s?f(this.yt,s):null)}getOverlays(e,t){const s=$s();return dt.forEach(t,u=>this.getOverlay(e,u).next(y=>{null!==y&&s.set(u,y)})).next(()=>s)}saveOverlays(e,t,s){const u=[];return s.forEach((y,w)=>{const x=new c6(t,w);u.push(this.oe(e,x))}),dt.waitFor(u)}removeOverlaysForBatchId(e,t,s){const u=new Set;t.forEach(w=>u.add(Cs(w.getCollectionPath())));const y=[];return u.forEach(w=>{const x=IDBKeyRange.bound([this.userId,w,s],[this.userId,w,s+1],!1,!0);y.push(bt(e).Y("collectionPathOverlayIndex",x))}),dt.waitFor(y)}getOverlaysForCollection(e,t,s){const u=$s(),y=Cs(t),w=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,Number.POSITIVE_INFINITY],!0);return bt(e).W("collectionPathOverlayIndex",w).next(x=>{for(const U of x){const J=f(this.yt,U);u.set(J.getKey(),J)}return u})}getOverlaysForCollectionGroup(e,t,s,u){const y=$s();let w;const x=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bt(e).Z({index:"collectionGroupOverlayIndex",range:x},(U,J,oe)=>{const Ie=f(this.yt,J);y.size()<u||Ie.largestBatchId===w?(y.set(Ie.getKey(),Ie),w=Ie.largestBatchId):oe.done()}).next(()=>y)}oe(e,t){return bt(e).put(function(s,u,y){const[w,x,U]=E(u,y.mutation.key);return{userId:u,collectionPath:x,documentId:U,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:ie(s.ie,y.mutation)}}(this.yt,this.userId,t))}}function bt(r){return p2(r,"documentOverlays")}class Dt{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Xt(e.integerValue));else if("doubleValue"in e){const s=Xt(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),j(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(j1(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?Y(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):t1()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const u of Object.keys(s))this.de(u,t),this.ce(s[u],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const u of s)this.ce(u,t)}me(e,t){this.he(t,37),qt.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function z1(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function b1(r){const e=64-function(t){let s=0;for(let u=0;u<8;++u){const y=z1(255&t[u]);if(s+=y,8!==y)break}return s}(r);return Math.ceil(e/8)}Dt.Ie=new Dt;class P1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const u=t.codePointAt(0);this.Ee(240|u>>>18),this.Ee(128|63&u>>>12),this.Ee(128|63&u>>>6),this.Ee(128|63&u)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const u=t.codePointAt(0);this.be(240|u>>>18),this.be(128|63&u>>>12),this.be(128|63&u>>>6),this.be(128|63&u)}}this.Pe()}Se(e){const t=this.De(e),s=b1(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=255&t[u]}xe(e){const t=this.De(e),s=b1(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(u){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,u,!1),new Uint8Array(y.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let u=1;u<t.length;++u)t[u]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class L2{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class dn{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Nn{constructor(){this.$e=new P1,this.Be=new L2(this.$e),this.Le=new dn(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Yn{constructor(e,t,s,u){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=u}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Yn(this.indexId,this.documentKey,this.arrayValue,s)}}function Rn(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=fi(r.arrayValue,e.arrayValue),0!==t?t:(t=fi(r.directionalValue,e.directionalValue),0!==t?t:qt.comparator(r.documentKey,e.documentKey)))}function fi(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class t2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){p1(e.collectionGroup===this.collectionId);const t=ws(e);if(void 0!==t&&!this.We(t))return!1;const s=Ri(e);let u=0,y=0;for(;u<s.length&&this.We(s[u]);++u);if(u===s.length)return!0;if(void 0!==this.Qe){const w=s[u];if(!this.ze(this.Qe,w)||!this.He(this.Ke[y++],w))return!1;++u}for(;u<s.length;++u){const w=s[u];if(y>=this.Ke.length||!this.He(this.Ke[y++],w))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function m2(r){var e,t;if(p1(r instanceof u1||r instanceof H1),r instanceof u1){if(r instanceof c3){const u=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(y=>u1.create(r.field,"==",y)))||[];return H1.create(u,"or")}return r}const s=r.filters.map(u=>m2(u));return H1.create(s,r.op)}function C2(r){if(0===r.getFilters().length)return[];const e=Vi(m2(r));return p1(Ur(e)),wi(e)||ni(e)?[e]:e.getFilters()}function wi(r){return r instanceof u1}function ni(r){return r instanceof H1&&Ys(r)}function Ur(r){return wi(r)||ni(r)||function(e){if(e instanceof H1&&Pi(e)){for(const t of e.getFilters())if(!wi(t)&&!ni(t))return!1;return!0}return!1}(r)}function Vi(r){if(p1(r instanceof u1||r instanceof H1),r instanceof u1)return r;if(1===r.filters.length)return Vi(r.filters[0]);const e=r.filters.map(s=>Vi(s));let t=H1.create(e,r.op);return t=Ms(t),Ur(t)?t:(p1(t instanceof H1),p1(c2(t)),p1(t.filters.length>1),t.filters.reduce((s,u)=>gr(s,u)))}function gr(r,e){let t;return p1(r instanceof u1||r instanceof H1),p1(e instanceof u1||e instanceof H1),t=r instanceof u1?e instanceof u1?H1.create([r,e],"and"):Eo(r,e):e instanceof u1?Eo(e,r):function(s,u){if(p1(s.filters.length>0&&u.filters.length>0),c2(s)&&c2(u))return _a(s,u.getFilters());const y=Pi(s)?s:u,w=Pi(s)?u:s,x=y.filters.map(U=>gr(U,w));return H1.create(x,"or")}(r,e),Ms(t)}function Eo(r,e){if(c2(e))return _a(e,r.getFilters());{const t=e.filters.map(s=>gr(r,s));return H1.create(t,"or")}}function Ms(r){if(p1(r instanceof u1||r instanceof H1),r instanceof u1)return r;const e=r.getFilters();if(1===e.length)return Ms(e[0]);if(Us(r))return r;const t=e.map(u=>Ms(u)),s=[];return t.forEach(u=>{u instanceof u1?s.push(u):u instanceof H1&&(u.op===r.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:H1.create(s,r.op)}class w4{constructor(){this.Je=new Bo}addToCollectionParentIndex(e,t){return this.Je.add(t),dt.resolve()}getCollectionParents(e,t){return dt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return dt.resolve()}deleteFieldIndex(e,t){return dt.resolve()}getDocumentsMatchingTarget(e,t){return dt.resolve(null)}getIndexType(e,t){return dt.resolve(0)}getFieldIndexes(e,t){return dt.resolve([])}getNextCollectionGroupToUpdate(e){return dt.resolve(null)}getMinOffset(e,t){return dt.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,t){return dt.resolve(Vr.min())}updateCollectionGroup(e,t,s){return dt.resolve()}updateIndexEntries(e,t){return dt.resolve()}}class Bo{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t]||new di(Vn.comparator),y=!u.has(s);return this.index[t]=u.add(s),y}has(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t];return u&&u.has(s)}getEntries(e){return(this.index[e]||new di(Vn.comparator)).toArray()}}const Os=new Uint8Array(0);class So{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Bo,this.Xe=new Ls(s=>Ga(s),(s,u)=>u3(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const y={collectionId:s,parent:Cs(u)};return S3(e).put(y)}return dt.resolve()}getCollectionParents(e,t){const s=[],u=IDBKeyRange.bound([t,""],[Co(t),""],!1,!0);return S3(e).W(u).next(y=>{for(const w of y){if(w.collectionId!==t)break;s.push(Fo(w.parent))}return s})}addFieldIndex(e,t){const s=Z4(e),u={indexId:(w=t).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var w;delete u.indexId;const y=s.add(u);if(t.indexState){const w=D4(e);return y.next(x=>{w.put(L(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return y.next()}deleteFieldIndex(e,t){const s=Z4(e),u=D4(e),y=No(e);return s.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>y.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=No(e);let u=!0;const y=new Map;return dt.forEach(this.Ze(t),w=>this.tn(e,w).next(x=>{u&&(u=!!x),y.set(w,x)})).next(()=>{if(u){let w=Hn();const x=[];return dt.forEach(y,(U,J)=>{var oe;Ht("IndexedDbIndexManager",`Using index ${oe=U,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(U2=>`${U2.fieldPath}:${U2.kind}`).join(",")}`} to execute ${Ga(t)}`);const Ie=function(U2,jr){const K2=ws(jr);if(void 0===K2)return null;for(const ii of R4(U2,K2.fieldPath))switch(ii.op){case"array-contains-any":return ii.value.arrayValue.values||[];case"array-contains":return[ii.value]}return null}(J,U),lt=function(U2,jr){const K2=new Map;for(const ii of Ri(jr))for(const Gr of R4(U2,ii.fieldPath))switch(Gr.op){case"==":case"in":K2.set(ii.fieldPath.canonicalString(),Gr.value);break;case"not-in":case"!=":return K2.set(ii.fieldPath.canonicalString(),Gr.value),Array.from(K2.values())}return null}(J,U),kt=function(U2,jr){const K2=[];let ii=!0;for(const Gr of Ri(jr)){const I0=0===Gr.kind?f3(U2,Gr.fieldPath,U2.startAt):k4(U2,Gr.fieldPath,U2.startAt);K2.push(I0.value),ii&&(ii=I0.inclusive)}return new o1(K2,ii)}(J,U),Ut=function(U2,jr){const K2=[];let ii=!0;for(const Gr of Ri(jr)){const I0=0===Gr.kind?k4(U2,Gr.fieldPath,U2.endAt):f3(U2,Gr.fieldPath,U2.endAt);K2.push(I0.value),ii&&(ii=I0.inclusive)}return new o1(K2,ii)}(J,U),N1=this.en(U,J,kt),X1=this.en(U,J,Ut),Hi=this.nn(U,J,lt),Ir=this.sn(U.indexId,Ie,N1,kt.inclusive,X1,Ut.inclusive,Hi);return dt.forEach(Ir,U2=>s.J(U2,t.limit).next(jr=>{jr.forEach(K2=>{const ii=qt.fromSegments(K2.documentKey);w.has(ii)||(w=w.add(ii),x.push(ii))})}))}).next(()=>x)}return dt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:C2(H1.create(e.filters,"and")).map(s=>U6(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,u,y,w,x){const U=(null!=t?t.length:1)*Math.max(s.length,y.length),J=U/(null!=t?t.length:1),oe=[];for(let Ie=0;Ie<U;++Ie){const lt=t?this.rn(t[Ie/J]):Os,kt=this.on(e,lt,s[Ie%J],u),Ut=this.un(e,lt,y[Ie%J],w),N1=x.map(X1=>this.on(e,lt,X1,!0));oe.push(...this.createRange(kt,Ut,N1))}return oe}on(e,t,s,u){const y=new Yn(e,qt.empty(),t,s);return u?y:y.Ue()}un(e,t,s,u){const y=new Yn(e,qt.empty(),t,s);return u?y.Ue():y}tn(e,t){const s=new t2(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(y=>{let w=null;for(const x of y)s.je(x)&&(!w||x.fields.length>w.fields.length)&&(w=x);return w})}getIndexType(e,t){let s=2;const u=this.Ze(t);return dt.forEach(u,y=>this.tn(e,y).next(w=>{w?0!==s&&w.fields.length<function(x){let U=new di(Sn.comparator),J=!1;for(const oe of x.filters)for(const Ie of oe.getFlattenedFilters())Ie.field.isKeyField()||("array-contains"===Ie.op||"array-contains-any"===Ie.op?J=!0:U=U.add(Ie.field));for(const oe of x.orderBy)oe.field.isKeyField()||(U=U.add(oe.field));return U.size+(J?1:0)}(y)&&(s=1):s=0})).next(()=>null!==t.limit&&u.length>1&&2===s?1:s)}cn(e,t){const s=new Nn;for(const u of Ri(e)){const y=t.data.field(u.fieldPath);if(null==y)return null;const w=s.qe(u.kind);Dt.Ie.ue(y,w)}return s.Fe()}rn(e){const t=new Nn;return Dt.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new Nn;return Dt.Ie.ue(ji(this.databaseId,t),s.qe(function(u){const y=Ri(u);return 0===y.length?0:y[y.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let u=[];u.push(new Nn);let y=0;for(const w of Ri(e)){const x=s[y++];for(const U of u)if(this.hn(t,w.fieldPath)&&Bs(x))u=this.ln(u,w,x);else{const J=U.qe(w.kind);Dt.Ie.ue(x,J)}}return this.fn(u)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const u=[...e],y=[];for(const w of s.arrayValue.values||[])for(const x of u){const U=new Nn;U.seed(x.Fe()),Dt.Ie.ue(w,U.qe(t.kind)),y.push(U)}return y}hn(e,t){return!!e.filters.find(s=>s instanceof u1&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Z4(e),u=D4(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(y=>{const w=[];return dt.forEach(y,x=>u.get([x.indexId,this.uid]).next(U=>{w.push(function(J,oe){const Ie=oe?new Zn(oe.sequenceNumber,new Vr(M4(oe.readTime),new qt(Fo(oe.documentKey)),oe.largestBatchId)):Zn.empty(),lt=J.fields.map(([kt,Ut])=>new ns(Sn.fromServerFormat(kt),Ut));return new hs(J.indexId,J.collectionGroup,lt,Ie)}(x,U))})).next(()=>w)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,u)=>{const y=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==y?y:Y1(s.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const u=Z4(e),y=D4(e);return this.dn(e).next(w=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>dt.forEach(x,U=>y.put(L(U.indexId,this.user,w,s)))))}updateIndexEntries(e,t){const s=new Map;return dt.forEach(t,(u,y)=>{const w=s.get(u.collectionGroup);return(w?dt.resolve(w):this.getFieldIndexes(e,u.collectionGroup)).next(x=>(s.set(u.collectionGroup,x),dt.forEach(x,U=>this._n(e,u,U).next(J=>{const oe=this.wn(y,U);return J.isEqual(oe)?dt.resolve():this.mn(e,y,U,J,oe)}))))})}gn(e,t,s,u){return No(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,u){return No(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const u=No(e);let y=new di(Rn);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(w,x)=>{y=y.add(new Yn(s.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>y)}wn(e,t){let s=new di(Rn);const u=this.cn(t,e);if(null==u)return s;const y=ws(t);if(null!=y){const w=e.data.field(y.fieldPath);if(Bs(w))for(const x of w.arrayValue.values||[])s=s.add(new Yn(t.indexId,e.key,this.rn(x),u))}else s=s.add(new Yn(t.indexId,e.key,Os,u));return s}mn(e,t,s,u,y){Ht("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const w=[];return function(x,U,J,oe,Ie){const lt=x.getIterator(),kt=U.getIterator();let Ut=Ca(lt),N1=Ca(kt);for(;Ut||N1;){let X1=!1,Hi=!1;if(Ut&&N1){const Ir=J(Ut,N1);Ir<0?Hi=!0:Ir>0&&(X1=!0)}else null!=Ut?Hi=!0:X1=!0;X1?(oe(N1),N1=Ca(kt)):Hi?(Ie(Ut),Ut=Ca(lt)):(Ut=Ca(lt),N1=Ca(kt))}}(u,y,Rn,x=>{w.push(this.gn(e,t,s,x))},x=>{w.push(this.yn(e,t,s,x))}),dt.waitFor(w)}dn(e){let t=1;return D4(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,y)=>{y.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((w,x)=>Rn(w,x)).filter((w,x,U)=>!x||0!==Rn(w,U[x-1]));const u=[];u.push(e);for(const w of s){const x=Rn(w,e),U=Rn(w,t);if(0===x)u[0]=e.Ue();else if(x>0&&U<0)u.push(w),u.push(w.Ue());else if(U>0)break}u.push(t);const y=[];for(let w=0;w<u.length;w+=2){if(this.pn(u[w],u[w+1]))return[];y.push(IDBKeyRange.bound([u[w].indexId,this.uid,u[w].arrayValue,u[w].directionalValue,Os,[]],[u[w+1].indexId,this.uid,u[w+1].arrayValue,u[w+1].directionalValue,Os,[]]))}return y}pn(e,t){return Rn(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(la)}getMinOffset(e,t){return dt.mapArray(this.Ze(t),s=>this.tn(e,s).next(u=>u||t1())).next(la)}}function S3(r){return p2(r,"collectionParents")}function No(r){return p2(r,"indexEntries")}function Z4(r){return p2(r,"indexConfiguration")}function D4(r){return p2(r,"indexState")}function la(r){p1(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const u=r[s].indexState.offset;Ao(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Vr(e.readTime,e.documentKey,t)}const N3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ir{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fo(r,e,t){const s=r.store("mutations"),u=r.store("documentMutations"),y=[],w=IDBKeyRange.only(t.batchId);let x=0;const U=s.Z({range:w},(oe,Ie,lt)=>(x++,lt.delete()));y.push(U.next(()=>{p1(1===x)}));const J=[];for(const oe of t.mutations){const Ie=Ra(e,oe.key.path,t.batchId);y.push(u.delete(Ie)),J.push(oe.key)}return dt.waitFor(y).next(()=>J)}function Qa(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw t1();e=r.noDocument}return JSON.stringify(e).length}ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class W4{constructor(e,t,s,u){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=u,this.In={}}static re(e,t,s,u){p1(""!==e.uid);const y=e.isAuthenticated()?e.uid:"";return new W4(y,t,s,u)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ua(e).Z({index:"userMutationsIndex",range:s},(u,y,w)=>{t=!1,w.done()}).next(()=>t)}addMutationBatch(e,t,s,u){const y=q4(e),w=ua(e);return w.add({}).next(x=>{p1("number"==typeof x);const U=new E3(x,t,s,u),J=function(lt,kt,Ut){const N1=Ut.baseMutations.map(Hi=>ie(lt.ie,Hi)),X1=Ut.mutations.map(Hi=>ie(lt.ie,Hi));return{userId:kt,batchId:Ut.batchId,localWriteTimeMs:Ut.localWriteTime.toMillis(),baseMutations:N1,mutations:X1}}(this.yt,this.userId,U),oe=[];let Ie=new di((lt,kt)=>Y1(lt.canonicalString(),kt.canonicalString()));for(const lt of u){const kt=Ra(this.userId,lt.key.path,x);Ie=Ie.add(lt.key.path.popLast()),oe.push(w.put(J)),oe.push(y.put(kt,o6))}return Ie.forEach(lt=>{oe.push(this.indexManager.addToCollectionParentIndex(e,lt))}),e.addOnCommittedListener(()=>{this.In[x]=U.keys()}),dt.waitFor(oe).next(()=>U)})}lookupMutationBatch(e,t){return ua(e).get(t).next(s=>s?(p1(s.userId===this.userId),$4(this.yt,s)):null)}Tn(e,t){return this.In[t]?dt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const u=s.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,u=IDBKeyRange.lowerBound([this.userId,s]);let y=null;return ua(e).Z({index:"userMutationsIndex",range:u},(w,x,U)=>{x.userId===this.userId&&(p1(x.batchId>=s),y=$4(this.yt,x)),U.done()}).next(()=>y)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ua(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,y,w)=>{s=y.batchId,w.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ua(e).W("userMutationsIndex",t).next(s=>s.map(u=>$4(this.yt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Oa(this.userId,t.path),u=IDBKeyRange.lowerBound(s),y=[];return q4(e).Z({range:u},(w,x,U)=>{const[J,oe,Ie]=w,lt=Fo(oe);if(J===this.userId&&t.path.isEqual(lt))return ua(e).get(Ie).next(kt=>{if(!kt)throw t1();p1(kt.userId===this.userId),y.push($4(this.yt,kt))});U.done()}).next(()=>y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new di(Y1);const u=[];return t.forEach(y=>{const w=Oa(this.userId,y.path),x=IDBKeyRange.lowerBound(w),U=q4(e).Z({range:x},(J,oe,Ie)=>{const[lt,kt,Ut]=J,N1=Fo(kt);lt===this.userId&&y.path.isEqual(N1)?s=s.add(Ut):Ie.done()});u.push(U)}),dt.waitFor(u).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1,y=Oa(this.userId,s),w=IDBKeyRange.lowerBound(y);let x=new di(Y1);return q4(e).Z({range:w},(U,J,oe)=>{const[Ie,lt,kt]=U,Ut=Fo(lt);Ie===this.userId&&s.isPrefixOf(Ut)?Ut.length===u&&(x=x.add(kt)):oe.done()}).next(()=>this.En(e,x))}En(e,t){const s=[],u=[];return t.forEach(y=>{u.push(ua(e).get(y).next(w=>{if(null===w)throw t1();p1(w.userId===this.userId),s.push($4(this.yt,w))}))}),dt.waitFor(u).next(()=>s)}removeMutationBatch(e,t){return fo(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),dt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return dt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return q4(e).Z({range:s},(y,w,x)=>{if(y[0]===this.userId){const U=Fo(y[1]);u.push(U)}else x.done()}).next(()=>{p1(0===u.length)})})}containsKey(e,t){return Pa(e,this.userId,t)}Rn(e){return l6(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pa(r,e,t){const s=Oa(e,t.path),u=s[1],y=IDBKeyRange.lowerBound(s);let w=!1;return q4(r).Z({range:y,X:!0},(x,U,J)=>{const[oe,Ie,lt]=x;oe===e&&Ie===u&&(w=!0),J.done()}).next(()=>w)}function ua(r){return p2(r,"mutations")}function q4(r){return p2(r,"documentMutations")}function l6(r){return p2(r,"mutationQueues")}class Xa{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Xa(0)}static vn(){return new Xa(-1)}}class Y6{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new Xa(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>A1.fromTimestamp(new S2(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>e4(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(p1(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let u=0;const y=[];return e4(e).Z((w,x)=>{const U=ka(x);U.sequenceNumber<=t&&null===s.get(U.targetId)&&(u++,y.push(this.removeTargetData(e,U)))}).next(()=>dt.waitFor(y)).next(()=>u)}forEachTarget(e,t){return e4(e).Z((s,u)=>{const y=ka(u);t(y)})}Vn(e){return u6(e).get("targetGlobalKey").next(t=>(p1(null!==t),t))}Sn(e,t){return u6(e).put("targetGlobalKey",t)}Dn(e,t){return e4(e).put(m(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ga(t),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let y=null;return e4(e).Z({range:u,index:"queryTargetsIndex"},(w,x,U)=>{const J=ka(x);u3(t,J.target)&&(y=J,U.done())}).next(()=>y)}addMatchingKeys(e,t,s){const u=[],y=Va(e);return t.forEach(w=>{const x=Cs(w.path);u.push(y.put({targetId:s,path:x})),u.push(this.referenceDelegate.addReference(e,s,w))}),dt.waitFor(u)}removeMatchingKeys(e,t,s){const u=Va(e);return dt.forEach(t,y=>{const w=Cs(y.path);return dt.waitFor([u.delete([s,w]),this.referenceDelegate.removeReference(e,s,y)])})}removeMatchingKeysForTargetId(e,t){const s=Va(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),u=Va(e);let y=Hn();return u.Z({range:s,X:!0},(w,x,U)=>{const J=Fo(w[1]),oe=new qt(J);y=y.add(oe)}).next(()=>y)}containsKey(e,t){const s=Cs(t.path),u=IDBKeyRange.bound([s],[Co(s)],!1,!0);let y=0;return Va(e).Z({index:"documentTargetsIndex",X:!0,range:u},([w,x],U,J)=>{0!==w&&(y++,J.done())}).next(()=>y>0)}ne(e,t){return e4(e).get(t).next(s=>s?ka(s):null)}}function e4(r){return p2(r,"targets")}function u6(r){return p2(r,"targetGlobal")}function Va(r){return p2(r,"targetDocuments")}function T3([r,e],[t,s]){const u=Y1(r,t);return 0===u?Y1(e,s):u}class A3{constructor(e){this.xn=e,this.buffer=new di(T3),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();T3(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kc{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ht("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Oe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){Hs(s)?Ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Mo(s)}yield t.Fn(3e5)}))}}class E4{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return dt.resolve(tr.at);const s=new A3(t);return this.$n.forEachTarget(e,u=>s.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>s.On(u))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(N3)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N3):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,u,y,w,x,U,J;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(Ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),u=this.params.maximumSequenceNumbersToCollect):u=Ie,w=Date.now(),this.nthSequenceNumber(e,u))).next(Ie=>(s=Ie,x=Date.now(),this.removeTargets(e,s,t))).next(Ie=>(y=Ie,U=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ie=>(J=Date.now(),Ts()<=ct.in.DEBUG&&Ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-oe}ms\n\tDetermined least recently used ${u} in `+(x-w)+`ms\n\tRemoved ${y} targets in `+(U-x)+`ms\n\tRemoved ${Ie} documents in `+(J-U)+`ms\nTotal Duration: ${J-oe}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:y,documentsRemoved:Ie})))}}class d6{constructor(e,t){this.db=e,this.garbageCollector=new E4(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(u=>s+u))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,u)=>t(u))}addReference(e,t,s){return I3(e,s)}removeReference(e,t,s){return I3(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return I3(e,t)}Gn(e,t){return function(s,u){let y=!1;return l6(s).tt(w=>Pa(s,w,u).next(x=>(x&&(y=!0),dt.resolve(!x)))).next(()=>y)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let y=0;return this.Kn(e,(w,x)=>{if(x<=t){const U=this.Gn(e,w).next(J=>{if(!J)return y++,s.getEntry(e,w).next(()=>(s.removeEntry(w,A1.min()),Va(e).delete([0,Cs(w.path)])))});u.push(U)}}).next(()=>dt.waitFor(u)).next(()=>s.apply(e)).next(()=>y)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return I3(e,t)}Kn(e,t){const s=Va(e);let u,y=tr.at;return s.Z({index:"documentTargetsIndex"},([w,x],{path:U,sequenceNumber:J})=>{0===w?(y!==tr.at&&t(new qt(Fo(u)),y),y=J,u=U):y=tr.at}).next(()=>{y!==tr.at&&t(new qt(Fo(u)),y)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function I3(r,e){return Va(r).put((s=r.currentSequenceNumber,{targetId:0,path:Cs(e.path),sequenceNumber:s}));var s}class J6{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?dt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q6{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return t4(e).put(s)}removeEntry(e,t,s){return t4(e).delete(function(u,y){const w=u.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],K6(y),w[w.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=Gi.newInvalidDocument(t);return t4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(e0(t))},(u,y)=>{s=this.jn(t,y)}).next(()=>s)}Wn(e,t){let s={size:0,document:Gi.newInvalidDocument(t)};return t4(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(e0(t))},(u,y)=>{s={document:this.jn(t,y),size:Qa(y)}}).next(()=>s)}getEntries(e,t){let s=ss();return this.zn(e,t,(u,y)=>{const w=this.jn(u,y);s=s.insert(u,w)}).next(()=>s)}Hn(e,t){let s=ss(),u=new Nr(qt.comparator);return this.zn(e,t,(y,w)=>{const x=this.jn(y,w);s=s.insert(y,x),u=u.insert(y,Qa(w))}).next(()=>({documents:s,Jn:u}))}zn(e,t,s){if(t.isEmpty())return dt.resolve();let u=new di(S7);t.forEach(U=>u=u.add(U));const y=IDBKeyRange.bound(e0(u.first()),e0(u.last())),w=u.getIterator();let x=w.getNext();return t4(e).Z({index:"documentKeyIndex",range:y},(U,J,oe)=>{const Ie=qt.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;x&&S7(x,Ie)<0;)s(x,null),x=w.getNext();x&&x.isEqual(Ie)&&(s(x,J),x=w.hasNext()?w.getNext():null),x?oe.j(e0(x)):oe.done()}).next(()=>{for(;x;)s(x,null),x=w.hasNext()?w.getNext():null})}getAllFromCollection(e,t,s){const u=[t.popLast().toArray(),t.lastSegment(),K6(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],y=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return t4(e).W(IDBKeyRange.bound(u,y,!0)).next(w=>{let x=ss();for(const U of w){const J=this.jn(qt.fromSegments(U.prefixPath.concat(U.collectionGroup,U.documentId)),U);x=x.insert(J.key,J)}return x})}getAllFromCollectionGroup(e,t,s,u){let y=ss();const w=E7(t,s),x=E7(t,Vr.max());return t4(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(w,x,!0)},(U,J,oe)=>{const Ie=this.jn(qt.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);y=y.insert(Ie.key,Ie),y.size===u&&oe.done()}).next(()=>y)}newChangeBuffer(e){return new S4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Uo(e).get("remoteDocumentGlobalKey").next(t=>(p1(!!t),t))}Qn(e,t){return Uo(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function b5(r,e){let t;if(e.document)t=b(r.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=qt.fromSegments(e.noDocument.path),u=M4(e.noDocument.readTime);t=Gi.newNoDocument(s,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return t1();{const s=qt.fromSegments(e.unknownDocument.path),u=M4(e.unknownDocument.version);t=Gi.newUnknownDocument(s,u)}}return e.readTime&&t.setReadTime(function(s){const u=new S2(s[0],s[1]);return A1.fromTimestamp(u)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(A1.min()))return s}return Gi.newInvalidDocument(e)}}function X6(r){return new Q6(r)}class S4 extends J6{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ls(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const t=[];let s=0,u=new di((y,w)=>Y1(y.canonicalString(),w.canonicalString()));return this.changes.forEach((y,w)=>{const x=this.Xn.get(y);if(t.push(this.Yn.removeEntry(e,y,x.readTime)),w.isValidDocument()){const U=qc(this.Yn.yt,w);u=u.add(y.path.popLast()),s+=Qa(U)-x.size,t.push(this.Yn.addEntry(e,y,U))}else if(s-=x.size,this.trackRemovals){const U=qc(this.Yn.yt,w.convertToNoDocument(A1.min()));t.push(this.Yn.addEntry(e,y,U))}}),u.forEach(y=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,y))}),t.push(this.Yn.updateMetadata(e,s)),dt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:u})=>(u.forEach((y,w)=>{this.Xn.set(y,{size:w,readTime:s.get(y).readTime})}),s))}}function Uo(r){return p2(r,"remoteDocumentGlobal")}function t4(r){return p2(r,"remoteDocumentsV14")}function e0(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function E7(r,e){const t=e.documentKey.path.toArray();return[r,K6(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function S7(r,e){const t=r.path.toArray(),s=e.path.toArray();let u=0;for(let y=0;y<t.length-2&&y<s.length-2;++y)if(u=Y1(t[y],s[y]),u)return u;return u=Y1(t.length,s.length),u||(u=Y1(t[t.length-2],s[s.length-2]),u||Y1(t[t.length-1],s[s.length-1]))}class C5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class N7{constructor(e,t,s,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==s&&g3(s.mutation,u,js.empty(),S2.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Hn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Hn()){const u=$s();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,s).next(y=>{let w=Ta();return y.forEach((x,U)=>{w=w.insert(x,U.overlayedDocument)}),w}))}getOverlayedDocuments(e,t){const s=$s();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Hn()))}populateOverlays(e,t,s){const u=[];return s.forEach(y=>{t.has(y)||u.push(y)}),this.documentOverlayCache.getOverlays(e,u).next(y=>{y.forEach((w,x)=>{t.set(w,x)})})}computeViews(e,t,s,u){let y=ss();const w=Po(),x=Po();return t.forEach((U,J)=>{const oe=s.get(J.key);u.has(J.key)&&(void 0===oe||oe.mutation instanceof ia)?y=y.insert(J.key,J):void 0!==oe&&(w.set(J.key,oe.mutation.getFieldMask()),g3(oe.mutation,J,oe.mutation.getFieldMask(),S2.now()))}),this.recalculateAndSaveOverlays(e,y).next(U=>(U.forEach((J,oe)=>w.set(J,oe)),t.forEach((J,oe)=>{var Ie;return x.set(J,new C5(oe,null!==(Ie=w.get(J))&&void 0!==Ie?Ie:null))}),x))}recalculateAndSaveOverlays(e,t){const s=Po();let u=new Nr((w,x)=>w-x),y=Hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(w=>{for(const x of w)x.keys().forEach(U=>{const J=t.get(U);if(null===J)return;let oe=s.get(U)||js.empty();oe=x.applyToLocalView(J,oe),s.set(U,oe);const Ie=(u.get(x.batchId)||Hn()).add(U);u=u.insert(x.batchId,Ie)})}).next(()=>{const w=[],x=u.getReverseIterator();for(;x.hasNext();){const U=x.getNext(),J=U.key,oe=U.value,Ie=y4();oe.forEach(lt=>{if(!y.has(lt)){const kt=v4(t.get(lt),s.get(lt));null!==kt&&Ie.set(lt,kt),y=y.add(lt)}}),w.push(this.documentOverlayCache.saveOverlays(e,J,Ie))}return dt.waitFor(w)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return qt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):h3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var u}getNextDocuments(e,t,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,u).next(y=>{const w=u-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,u-y.size):dt.resolve($s());let x=-1,U=y;return w.next(J=>dt.forEach(J,(oe,Ie)=>(x<Ie.largestBatchId&&(x=Ie.largestBatchId),y.get(oe)?dt.resolve():this.remoteDocumentCache.getEntry(e,oe).next(lt=>{U=U.insert(oe,lt)}))).next(()=>this.populateOverlays(e,J,y)).next(()=>this.computeViews(e,U,J,Hn())).next(oe=>({batchId:x,changes:ko(oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qt(t)).next(s=>{let u=Ta();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const u=t.collectionGroup;let y=Ta();return this.indexManager.getCollectionParents(e,u).next(w=>dt.forEach(w,x=>{const U=(J=t,oe=x.child(u),new xo(oe,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,oe;return this.getDocumentsMatchingCollectionQuery(e,U,s).next(J=>{J.forEach((oe,Ie)=>{y=y.insert(oe,Ie)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,t,s){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(y=>(u=y,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(y=>{y.forEach((x,U)=>{const J=U.getKey();null===u.get(J)&&(u=u.insert(J,Gi.newInvalidDocument(J)))});let w=Ta();return u.forEach((x,U)=>{const J=y.get(x);void 0!==J&&g3(J.mutation,U,js.empty(),S2.now()),Tr(t,U)&&(w=w.insert(x,U))}),w})}}class M5{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return dt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Mi(s.createTime)}),dt.resolve()}getNamedQuery(e,t){return dt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:C(s.bundledQuery),readTime:Mi(s.readTime)}),dt.resolve();var s}}class b9{constructor(){this.overlays=new Nr(qt.comparator),this.es=new Map}getOverlay(e,t){return dt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=$s();return dt.forEach(t,u=>this.getOverlay(e,u).next(y=>{null!==y&&s.set(u,y)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((u,y)=>{this.oe(e,t,y)}),dt.resolve()}removeOverlaysForBatchId(e,t,s){const u=this.es.get(s);return void 0!==u&&(u.forEach(y=>this.overlays=this.overlays.remove(y)),this.es.delete(s)),dt.resolve()}getOverlaysForCollection(e,t,s){const u=$s(),y=t.length+1,w=new qt(t.child("")),x=this.overlays.getIteratorFrom(w);for(;x.hasNext();){const U=x.getNext().value,J=U.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===y&&U.largestBatchId>s&&u.set(U.getKey(),U)}return dt.resolve(u)}getOverlaysForCollectionGroup(e,t,s,u){let y=new Nr((J,oe)=>J-oe);const w=this.overlays.getIterator();for(;w.hasNext();){const J=w.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>s){let oe=y.get(J.largestBatchId);null===oe&&(oe=$s(),y=y.insert(J.largestBatchId,oe)),oe.set(J.getKey(),J)}}const x=$s(),U=y.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((J,oe)=>x.set(J,oe)),!(x.size()>=u)););return dt.resolve(x)}oe(e,t,s){const u=this.overlays.get(s.key);if(null!==u){const w=this.es.get(u.largestBatchId).delete(s.key);this.es.set(u.largestBatchId,w)}this.overlays=this.overlays.insert(s.key,new c6(t,s));let y=this.es.get(t);void 0===y&&(y=Hn(),this.es.set(t,y)),this.es.set(t,y.add(s.key))}}class F0{constructor(){this.ns=new di(Rs.ss),this.rs=new di(Rs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new Rs(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new Rs(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new qt(new Vn([])),s=new Rs(t,e),u=new Rs(t,e+1),y=[];return this.rs.forEachInRange([s,u],w=>{this.cs(w),y.push(w.key)}),y}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qt(new Vn([])),s=new Rs(t,e),u=new Rs(t,e+1);let y=Hn();return this.rs.forEachInRange([s,u],w=>{y=y.add(w.key)}),y}containsKey(e){const t=new Rs(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Rs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qt.comparator(e.key,t.key)||Y1(e._s,t._s)}static os(e,t){return Y1(e._s,t._s)||qt.comparator(e.key,t.key)}}class w5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new di(Rs.ss)}checkEmpty(e){return dt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,u){const y=this.ws;this.ws++;const w=new E3(y,t,s,u);this.mutationQueue.push(w);for(const x of u)this.gs=this.gs.add(new Rs(x.key,y)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return dt.resolve(w)}lookupMutationBatch(e,t){return dt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),y=u<0?0:u;return dt.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Rs(t,0),u=new Rs(t,Number.POSITIVE_INFINITY),y=[];return this.gs.forEachInRange([s,u],w=>{const x=this.ys(w._s);y.push(x)}),dt.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new di(Y1);return t.forEach(u=>{const y=new Rs(u,0),w=new Rs(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([y,w],x=>{s=s.add(x._s)})}),dt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1;let y=s;qt.isDocumentKey(y)||(y=y.child(""));const w=new Rs(new qt(y),0);let x=new di(Y1);return this.gs.forEachWhile(U=>{const J=U.key.path;return!!s.isPrefixOf(J)&&(J.length===u&&(x=x.add(U._s)),!0)},w),dt.resolve(this.Is(x))}Is(e){const t=[];return e.forEach(s=>{const u=this.ys(s);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){p1(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return dt.forEach(t.mutations,u=>{const y=new Rs(u.key,t.batchId);return s=s.delete(y),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new Rs(t,0),u=this.gs.firstAfterOrEqual(s);return dt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return dt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class T7{constructor(e){this.Es=e,this.docs=new Nr(qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,u=this.docs.get(s),y=u?u.size:0,w=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:w}),this.size+=w-y,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return dt.resolve(s?s.document.mutableCopy():Gi.newInvalidDocument(t))}getEntries(e,t){let s=ss();return t.forEach(u=>{const y=this.docs.get(u);s=s.insert(u,y?y.document.mutableCopy():Gi.newInvalidDocument(u))}),dt.resolve(s)}getAllFromCollection(e,t,s){let u=ss();const y=new qt(t.child("")),w=this.docs.getIteratorFrom(y);for(;w.hasNext();){const{key:x,value:{document:U}}=w.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||Ao(Qo(U),s)<=0||(u=u.insert(U.key,U.mutableCopy()))}return dt.resolve(u)}getAllFromCollectionGroup(e,t,s,u){t1()}As(e,t){return dt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new A7(this)}getSize(e){return dt.resolve(this.size)}}class A7 extends J6{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(s)}),dt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class da{constructor(e){this.persistence=e,this.Rs=new Ls(t=>Ga(t),u3),this.lastRemoteSnapshotVersion=A1.min(),this.highestTargetId=0,this.bs=0,this.Ps=new F0,this.targetCount=0,this.vs=Xa.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,u)=>t(u)),dt.resolve()}getLastRemoteSnapshotVersion(e){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return dt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),dt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Xa(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,dt.resolve()}updateTargetData(e,t){return this.Dn(t),dt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,dt.resolve()}removeTargets(e,t,s){let u=0;const y=[];return this.Rs.forEach((w,x)=>{x.sequenceNumber<=t&&null===s.get(x.targetId)&&(this.Rs.delete(w),y.push(this.removeMatchingKeysForTargetId(e,x.targetId)),u++)}),dt.waitFor(y).next(()=>u)}getTargetCount(e){return dt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return dt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),dt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const u=this.persistence.referenceDelegate,y=[];return u&&t.forEach(w=>{y.push(u.markPotentiallyOrphaned(e,w))}),dt.waitFor(y)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),dt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return dt.resolve(s)}containsKey(e,t){return dt.resolve(this.Ps.containsKey(t))}}class D5{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new tr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new da(this),this.indexManager=new w4,this.remoteDocumentCache=new T7(s=>this.referenceDelegate.xs(s)),this.yt=new Wc(t),this.Ns=new M5(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new w5(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Ht("MemoryPersistence","Starting transaction:",e);const u=new E5(this.Ss.next());return this.referenceDelegate.ks(),s(u).next(y=>this.referenceDelegate.Os(u).next(()=>y)).toPromise().then(y=>(u.raiseOnCommittedEvent(),y))}Ms(e,t){return dt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class E5 extends Xo{constructor(e){super(),this.currentSequenceNumber=e}}class B0{constructor(e){this.persistence=e,this.Fs=new F0,this.$s=null}static Bs(e){return new B0(e)}get Ls(){if(this.$s)return this.$s;throw t1()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),dt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),dt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),dt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(y=>this.Ls.add(y.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.Ls,s=>{const u=qt.fromPath(s);return this.qs(e,u).next(y=>{y||t.removeEntry(u,A1.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return dt.or([()=>dt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class I7{constructor(e){this.yt=e}$(e,t,s,u){const y=new oo("createOrUpgrade",t);var x;s<1&&u>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",w3,{unique:!0}),x.createObjectStore("documentMutations"),S5(e),function(x){x.createObjectStore("remoteDocuments")}(e));let w=dt.resolve();return s<3&&u>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),S5(e)),w=w.next(()=>function(x){const U=x.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:A1.min().toTimestamp(),targetCount:0};return U.put("targetGlobalKey",J)}(y))),s<4&&u>=4&&(0!==s&&(w=w.next(()=>function(x,U){return U.store("mutations").W().next(J=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",w3,{unique:!0});const oe=U.store("mutations"),Ie=J.map(lt=>oe.put(lt));return dt.waitFor(Ie)})}(e,y))),w=w.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(w=w.next(()=>this.Us(y))),s<6&&u>=6&&(w=w.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(y)))),s<7&&u>=7&&(w=w.next(()=>this.Gs(y))),s<8&&u>=8&&(w=w.next(()=>this.Qs(e,y))),s<9&&u>=9&&(w=w.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(w=w.next(()=>this.js(y))),s<11&&u>=11&&(w=w.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(w=w.next(()=>{!function(x){const U=x.createObjectStore("documentOverlays",{keyPath:R0});U.createIndex("collectionPathOverlayIndex",y5,{unique:!1}),U.createIndex("collectionGroupOverlayIndex",_5,{unique:!1})}(e)})),s<13&&u>=13&&(w=w.next(()=>function(x){const U=x.createObjectStore("remoteDocumentsV14",{keyPath:q6});U.createIndex("documentKeyIndex",Uc),U.createIndex("collectionGroupIndex",jc)}(e)).next(()=>this.Ws(e,y)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(w=w.next(()=>this.zs(e,y))),s<15&&u>=15&&(w=w.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:O0}).createIndex("sequenceNumberIndex",w7,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:D7}).createIndex("documentKeyIndex",Gc,{unique:!1})}(e))),w}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,u)=>{t+=Qa(u)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(u=>dt.forEach(u,y=>{const w=IDBKeyRange.bound([y.userId,-1],[y.userId,y.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",w).next(x=>dt.forEach(x,U=>{p1(U.userId===y.userId);const J=$4(this.yt,U);return fo(e,y.userId,J).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const y=[];return s.Z((w,x)=>{const U=new Vn(w),J=[0,Cs(U)];y.push(t.get(J).next(oe=>oe?dt.resolve():t.put({targetId:0,path:Cs(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>dt.waitFor(y))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:a6});const s=t.store("collectionParents"),u=new Bo,y=w=>{if(u.add(w)){const x=w.lastSegment(),U=w.popLast();return s.put({collectionId:x,parent:Cs(U)})}};return t.store("remoteDocuments").Z({X:!0},(w,x)=>{const U=new Vn(w);return y(U.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([w,x,U],J)=>{const oe=Fo(x);return y(oe.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,u)=>{const y=ka(u),w=m(this.yt,y);return t.put(w)})}Ws(e,t){const s=t.store("remoteDocuments"),u=[];return s.Z((y,w)=>{const x=t.store("remoteDocumentsV14"),U=(J=w,J.document?new qt(Vn.fromString(J.document.name).popFirst(5)):J.noDocument?qt.fromSegments(J.noDocument.path):J.unknownDocument?qt.fromSegments(J.unknownDocument.path):t1()).path.toArray();var J;const oe={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:w.readTime||[0,0],unknownDocument:w.unknownDocument,noDocument:w.noDocument,document:w.document,hasCommittedMutations:!!w.hasCommittedMutations};u.push(x.put(oe))}).next(()=>dt.waitFor(u))}zs(e,t){const s=t.store("mutations"),u=X6(this.yt),y=new D5(B0.Bs,this.yt.ie);return s.W().next(w=>{const x=new Map;return w.forEach(U=>{var J;let oe=null!==(J=x.get(U.userId))&&void 0!==J?J:Hn();$4(this.yt,U).keys().forEach(Ie=>oe=oe.add(Ie)),x.set(U.userId,oe)}),dt.forEach(x,(U,J)=>{const oe=new Ti(J),Ie=ke.re(this.yt,oe),lt=y.getIndexManager(oe),kt=W4.re(oe,this.yt,lt,y.referenceDelegate);return new N7(u,kt,Ie,lt).recalculateAndSaveOverlaysForDocumentKeys(new V0(t,tr.at),U).next()})})}}function S5(r){r.createObjectStore("targetDocuments",{keyPath:C7}).createIndex("documentTargetsIndex",M7,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",b7,{unique:!0}),r.createObjectStore("targetGlobal")}const Yc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class U0{constructor(e,t,s,u,y,w,x,U,J,oe,Ie=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=y,this.window=w,this.document=x,this.Js=J,this.Ys=oe,this.Xs=Ie,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=lt=>Promise.resolve(),!U0.C())throw new Lt(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d6(this,u),this.ii=t+"main",this.yt=new Wc(U),this.ri=new Wn(this.ii,this.Xs,new I7(this.yt)),this.Cs=new Y6(this.referenceDelegate,this.yt),this.remoteDocumentCache=X6(this.yt),this.Ns=new G,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===oe&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Lt(ht.FAILED_PRECONDITION,Yc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new tr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,Oe.Z)(function*(u){if(t.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Oe.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Oe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>j0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Hs(e))return Ht("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return t0(e).get("owner").next(t=>dt.resolve(this.mi(t)))}gi(e){return j0(e).delete(this.clientId)}yi(){var e=this;return(0,Oe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=p2(s,"clientMetadata");return u.W().next(y=>{const w=e.Ii(y,18e5),x=y.filter(U=>-1===w.indexOf(U));return dt.forEach(x,U=>u.delete(U.clientId)).next(()=>x)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?dt.resolve(!0):t0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Lt(ht.FAILED_PRECONDITION,Yc);return!1}}return!(!this.networkEnabled||!this.inForeground)||j0(e).W().next(s=>void 0===this.Ii(s,5e3).find(u=>{if(this.clientId!==u.clientId){const w=!this.inForeground&&u.inForeground,x=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||w&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ht("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Oe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new V0(t,tr.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>j0(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return W4.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new So(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return ke.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Ht("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",y=15===(w=this.Xs)?P0:14===w?k0:13===w?D3:12===w?Zc:11===w?$c:void t1();var w;let x;return this.ri.runTransaction(e,u,y,U=>(x=new V0(U,this.Ss?this.Ss.next():tr.at),"readwrite-primary"===t?this.fi(x).next(J=>!!J||this.di(x)).next(J=>{if(!J)throw bi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Lt(ht.FAILED_PRECONDITION,va);return s(x)}).next(J=>this.wi(x).next(()=>J)):this.Vi(x).next(()=>s(x)))).then(U=>(x.raiseOnCommittedEvent(),U))}Vi(e){return t0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Lt(ht.FAILED_PRECONDITION,Yc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return t0(e).put("owner",t)}static C(){return Wn.C()}_i(e){const t=t0(e);return t.get("owner").next(s=>this.mi(s)?(Ht("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):dt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(bi(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ye.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ht("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return bi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function t0(r){return p2(r,"owner")}function j0(r){return p2(r,"clientMetadata")}function Jc(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Un{constructor(e,t,s,u){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=u}static Ci(e,t){let s=Hn(),u=Hn();for(const y of t.docChanges)switch(y.type){case 0:s=s.add(y.doc.key);break;case 1:u=u.add(y.doc.key)}return new Un(e,t.fromCache,s,u)}}class Qc{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,u){return this.ki(e,t).next(y=>y||this.Oi(e,t,u,s)).next(y=>y||this.Mi(e,t))}ki(e,t){if(K3(t))return dt.resolve(null);let s=rs(t);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=zs(t,null,"F"),s=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(y=>{const w=Hn(...y);return this.Ni.getDocuments(e,w).next(x=>this.indexManager.getMinOffset(e,s).next(U=>{const J=this.Fi(t,x);return this.$i(t,J,w,U.readTime)?this.ki(e,zs(t,null,"F")):this.Bi(e,J,t,U)}))})))}Oi(e,t,s,u){return K3(t)||u.isEqual(A1.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(y=>{const w=this.Fi(t,y);return this.$i(t,w,s,u)?this.Mi(e,t):(Ts()<=ct.in.DEBUG&&Ht("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),V4(t)),this.Bi(e,w,t,so(u,-1)))})}Fi(e,t){let s=new di(Q3(e));return t.forEach((u,y)=>{Tr(e,y)&&(s=s.add(y))}),s}$i(e,t,s,u){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const y="F"===e.limitType?t.last():t.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(u)>0)}Mi(e,t){return Ts()<=ct.in.DEBUG&&Ht("QueryEngine","Using full collection scan to execute query:",V4(t)),this.Ni.getDocumentsMatchingQuery(e,t,Vr.min())}Bi(e,t,s,u){return this.Ni.getDocumentsMatchingQuery(e,s,u).next(y=>(t.forEach(w=>{y=y.insert(w.key,w)}),y))}}class N5{constructor(e,t,s,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new Nr(Y1),this.Ui=new Ls(y=>Ga(y),u3),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N7(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Xc(r,e,t,s){return new N5(r,e,t,s)}function T5(r,e){return e8.apply(this,arguments)}function e8(){return e8=(0,Oe.Z)(function*(r,e){const t=Jt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let u;return t.mutationQueue.getAllMutationBatches(s).next(y=>(u=y,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(y=>{const w=[],x=[];let U=Hn();for(const J of u){w.push(J.batchId);for(const oe of J.mutations)U=U.add(oe.key)}for(const J of y){x.push(J.batchId);for(const oe of J.mutations)U=U.add(oe.key)}return t.localDocuments.getDocuments(s,U).next(J=>({ji:J,removedBatchIds:w,addedBatchIds:x}))})})}),e8.apply(this,arguments)}function A5(r,e){const t=Jt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),y=t.Gi.newChangeBuffer({trackRemovals:!0});return function(w,x,U,J){const oe=U.batch,Ie=oe.keys();let lt=dt.resolve();return Ie.forEach(kt=>{lt=lt.next(()=>J.getEntry(x,kt)).next(Ut=>{const N1=U.docVersions.get(kt);p1(null!==N1),Ut.version.compareTo(N1)<0&&(oe.applyToRemoteDocument(Ut,U),Ut.isValidDocument()&&(Ut.setReadTime(U.commitVersion),J.addEntry(Ut)))})}),lt.next(()=>w.mutationQueue.removeMutationBatch(x,oe))}(t,s,e,y).next(()=>y.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let x=Hn();for(let U=0;U<w.mutationResults.length;++U)w.mutationResults[U].transformResults.length>0&&(x=x.add(w.batch.mutations[U].key));return x}(e))).next(()=>t.localDocuments.getDocuments(s,u))})}function I5(r){const e=Jt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function x5(r,e){const t=Jt(r),s=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const w=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const x=[];e.targetChanges.forEach((oe,Ie)=>{const lt=u.get(Ie);if(!lt)return;x.push(t.Cs.removeMatchingKeys(y,oe.removedDocuments,Ie).next(()=>t.Cs.addMatchingKeys(y,oe.addedDocuments,Ie)));let kt=lt.withSequenceNumber(y.currentSequenceNumber);var Ut,N1,X1;e.targetMismatches.has(Ie)?kt=kt.withResumeToken(Le.EMPTY_BYTE_STRING,A1.min()).withLastLimboFreeSnapshotVersion(A1.min()):oe.resumeToken.approximateByteSize()>0&&(kt=kt.withResumeToken(oe.resumeToken,s)),u=u.insert(Ie,kt),N1=kt,X1=oe,(0===(Ut=lt).resumeToken.approximateByteSize()||N1.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||X1.addedDocuments.size+X1.modifiedDocuments.size+X1.removedDocuments.size>0)&&x.push(t.Cs.updateTargetData(y,kt))});let U=ss(),J=Hn();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(y,oe))}),x.push(z5(y,w,e.documentUpdates).next(oe=>{U=oe.Wi,J=oe.zi})),!s.isEqual(A1.min())){const oe=t.Cs.getLastRemoteSnapshotVersion(y).next(Ie=>t.Cs.setTargetsMetadata(y,y.currentSequenceNumber,s));x.push(oe)}return dt.waitFor(x).next(()=>w.apply(y)).next(()=>t.localDocuments.getLocalViewOfDocuments(y,U,J)).next(()=>U)}).then(y=>(t.qi=u,y))}function z5(r,e,t){let s=Hn(),u=Hn();return t.forEach(y=>s=s.add(y)),e.getEntries(r,s).next(y=>{let w=ss();return t.forEach((x,U)=>{const J=y.get(x);U.isFoundDocument()!==J.isFoundDocument()&&(u=u.add(x)),U.isNoDocument()&&U.version.isEqual(A1.min())?(e.removeEntry(x,U.readTime),w=w.insert(x,U)):!J.isValidDocument()||U.version.compareTo(J.version)>0||0===U.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(U),w=w.insert(x,U)):Ht("LocalStore","Ignoring outdated watch update for ",x,". Current version:",J.version," Watch version:",U.version)}),{Wi:w,zi:u}})}function x7(r,e){const t=Jt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function n0(r,e){const t=Jt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return t.Cs.getTargetData(s,e).next(y=>y?(u=y,dt.resolve(u)):t.Cs.allocateTargetId(s).next(w=>(u=new Ja(e,w,0,s.currentSequenceNumber),t.Cs.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=t.qi.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function x3(r,e,t){return G0.apply(this,arguments)}function G0(){return G0=(0,Oe.Z)(function*(r,e,t){const s=Jt(r),u=s.qi.get(e),y=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",y,w=>s.persistence.referenceDelegate.removeTarget(w,u)))}catch(w){if(!Hs(w))throw w;Ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${w}`)}s.qi=s.qi.remove(e),s.Ui.delete(u.target)}),G0.apply(this,arguments)}function n4(r,e,t){const s=Jt(r);let u=A1.min(),y=Hn();return s.persistence.runTransaction("Execute query","readonly",w=>function(x,U,J){const oe=Jt(x),Ie=oe.Ui.get(J);return void 0!==Ie?dt.resolve(oe.qi.get(Ie)):oe.Cs.getTargetData(U,J)}(s,w,rs(e)).next(x=>{if(x)return u=x.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(w,x.targetId).next(U=>{y=U})}).next(()=>s.Li.getDocumentsMatchingQuery(w,e,t?u:A1.min(),t?y:Hn())).next(x=>(Z0(s,H4(e),x),{documents:x,Hi:y})))}function t8(r,e){const t=Jt(r),s=Jt(t.Cs),u=t.qi.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",y=>s.ne(y,e).next(w=>w?w.target:null))}function $0(r,e){const t=Jt(r),s=t.Ki.get(e)||A1.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,so(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Z0(t,e,u),u))}function Z0(r,e,t){let s=r.Ki.get(e)||A1.min();t.forEach((u,y)=>{y.readTime.compareTo(s)>0&&(s=y.readTime)}),r.Ki.set(e,s)}function L5(){return L5=(0,Oe.Z)(function*(r,e,t,s){const u=Jt(r);let y=Hn(),w=ss();for(const J of t){const oe=e.Ji(J.metadata.name);J.document&&(y=y.add(oe));const Ie=e.Yi(J);Ie.setReadTime(e.Xi(J.metadata.readTime)),w=w.insert(oe,Ie)}const x=u.Gi.newChangeBuffer({trackRemovals:!0}),U=yield n0(u,(J=s,rs(xs(Vn.fromString(`__bundle__/docs/${J}`)))));var J;return u.persistence.runTransaction("Apply bundle documents","readwrite",J=>z5(J,x,w).next(oe=>(x.apply(J),oe)).next(oe=>u.Cs.removeMatchingKeysForTargetId(J,U.targetId).next(()=>u.Cs.addMatchingKeys(J,y,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(J,oe.Wi,oe.zi)).next(()=>oe.Wi)))}),L5.apply(this,arguments)}function C9(r,e){return O5.apply(this,arguments)}function O5(){return O5=(0,Oe.Z)(function*(r,e,t=Hn()){const s=yield n0(r,rs(C(e.bundledQuery))),u=Jt(r);return u.persistence.runTransaction("Save named query","readwrite",y=>{const w=Mi(e.readTime);if(s.snapshotVersion.compareTo(w)>=0)return u.Ns.saveNamedQuery(y,e);const x=s.withResumeToken(Le.EMPTY_BYTE_STRING,w);return u.qi=u.qi.insert(x.targetId,x),u.Cs.updateTargetData(y,x).next(()=>u.Cs.removeMatchingKeysForTargetId(y,s.targetId)).next(()=>u.Cs.addMatchingKeys(y,t,s.targetId)).next(()=>u.Ns.saveNamedQuery(y,e))})}),O5.apply(this,arguments)}function R5(r,e){return`firestore_clients_${r}_${e}`}function n8(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function k5(r,e){return`firestore_targets_${r}_${e}`}class W0{constructor(e,t,s,u){this.user=e,this.batchId=t,this.state=s,this.error=u}static Zi(e,t,s){const u=JSON.parse(s);let y,w="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return w&&u.error&&(w="string"==typeof u.error.message&&"string"==typeof u.error.code,w&&(y=new Lt(u.error.code,u.error.message))),w?new W0(e,t,u.state,y):(bi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class i4{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let u,y="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return y&&s.error&&(y="string"==typeof s.error.message&&"string"==typeof s.error.code,y&&(u=new Lt(s.error.code,s.error.message))),y?new i4(e,s.state,u):(bi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class q0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let u="object"==typeof s&&s.activeTargetIds instanceof Array,y=sa();for(let w=0;u&&w<s.activeTargetIds.length;++w)u=K(s.activeTargetIds[w]),y=y.add(s.activeTargetIds[w]);return u?new q0(e,y):(bi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class K0{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new K0(t.clientId,t.onlineState):(bi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class f6{constructor(){this.activeTargetIds=sa()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i8{constructor(e,t,s,u,y){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Nr(Y1),this.started=!1,this.cr=[];const w=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.ar=R5(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new f6),this.lr=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const y=e.getItem(R5(e.persistenceKey,u));if(y){const w=q0.Zi(u,y);w&&(e.ur=e.ur.insert(w.clientId,w))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const u=e.yr(s);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(k5(this.persistenceKey,e));if(s){const u=i4.Zi(e,s);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(k5(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(u=>{this.Er(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ht("SharedClientState","READ",e,t),t}setItem(e,t){Ht("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ht("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ht("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Oe.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const u=t.vr(s.key);return t.Vr(u,null)}{const u=t.Sr(s.key,s.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const u=t.Dr(s.key,s.newValue);if(u)return t.Cr(u)}}else if(t._r.test(s.key)){if(null!==s.newValue){const u=t.Nr(s.key,s.newValue);if(u)return t.kr(u)}}else if(s.key===t.wr){if(null!==s.newValue){const u=t.yr(s.newValue);if(u)return t.pr(u)}}else if(s.key===t.hr){const u=function(y){let w=tr.at;if(null!=y)try{const x=JSON.parse(y);p1("number"==typeof x),w=x}catch(x){bi("SharedClientState","Failed to read sequence number from WebStorage",x)}return w}(s.newValue);u!==tr.at&&t.sequenceNumberHandler(u)}else if(s.key===t.mr){const u=t.Or(s.newValue);yield Promise.all(u.map(y=>t.syncEngine.Mr(y)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const u=new W0(this.currentUser,e,t,s),y=n8(this.persistenceKey,this.currentUser,e);this.setItem(y,u.tr())}Er(e){const t=n8(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const u=k5(this.persistenceKey,e),y=new i4(e,t,s);this.setItem(u,y.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return q0.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),u=Number(s[1]);return W0.Zi(new Ti(void 0!==s[2]?s[2]:null),u,t)}Nr(e,t){const s=this._r.exec(e),u=Number(s[1]);return i4.Zi(u,t)}yr(e){return K0.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ht("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),y=this.Ir(s),w=[],x=[];return y.forEach(U=>{u.has(U)||w.push(U)}),u.forEach(U=>{y.has(U)||x.push(U)}),this.syncEngine.Br(w,x).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=sa();return e.forEach((s,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class r8{constructor(){this.Lr=new f6,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new f6,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class L7{Ur(e){}shutdown(){}}class P5{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const O7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R7{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class k7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,u,y){const w=this.ho(e,t);Ht("RestConnection","Sending: ",w,s);const x={};return this.lo(x,u,y),this.fo(e,w,x,s).then(U=>(Ht("RestConnection","Received: ",U),U),U=>{throw ts("RestConnection",`${e} failed with error: `,U,"url: ",w,"request:",s),U})}_o(e,t,s,u,y,w){return this.ao(e,t,s,u,y)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ei,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,y)=>e[y]=u),s&&s.headers.forEach((u,y)=>e[y]=u)}ho(e,t){return`${this.oo}/v1/${t}:${O7[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,u){return new Promise((y,w)=>{const x=new To;x.setWithCredentials(!0),x.listenOnce(Jo.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Yo.NO_ERROR:const J=x.getResponseJson();Ht("Connection","XHR received:",JSON.stringify(J)),y(J);break;case Yo.TIMEOUT:Ht("Connection",'RPC "'+e+'" timed out'),w(new Lt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Yo.HTTP_ERROR:const oe=x.getStatus();if(Ht("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",x.getResponseText()),oe>0){let Ie=x.getResponseJson();Array.isArray(Ie)&&(Ie=Ie[0]);const lt=Ie?.error;if(lt&&lt.status&&lt.message){const kt=function(Ut){const N1=Ut.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(N1)>=0?N1:ht.UNKNOWN}(lt.status);w(new Lt(kt,lt.message))}else w(new Lt(ht.UNKNOWN,"Server responded with status "+x.getStatus()))}else w(new Lt(ht.UNAVAILABLE,"Connection failed."));break;default:t1()}}finally{Ht("Connection",'RPC "'+e+'" completed.')}});const U=JSON.stringify(u);x.send(t,"POST",U,s,15)})}wo(e,t,s){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Ks(),w=Ko(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new Ps({})),this.lo(x.initMessageHeaders,t,s),x.encodeInitMessageHeaders=!0;const U=u.join("");Ht("Connection","Creating WebChannel: "+U,x);const J=y.createWebChannel(U,x);let oe=!1,Ie=!1;const lt=new R7({Hr:Ut=>{Ie?Ht("Connection","Not sending because WebChannel is closed:",Ut):(oe||(Ht("Connection","Opening WebChannel transport."),J.open(),oe=!0),Ht("Connection","WebChannel sending:",Ut),J.send(Ut))},Jr:()=>J.close()}),kt=(Ut,N1,X1)=>{Ut.listen(N1,Hi=>{try{X1(Hi)}catch(Ir){setTimeout(()=>{throw Ir},0)}})};return kt(J,eo.EventType.OPEN,()=>{Ie||Ht("Connection","WebChannel transport opened.")}),kt(J,eo.EventType.CLOSE,()=>{Ie||(Ie=!0,Ht("Connection","WebChannel transport closed"),lt.io())}),kt(J,eo.EventType.ERROR,Ut=>{Ie||(Ie=!0,ts("Connection","WebChannel transport errored:",Ut),lt.io(new Lt(ht.UNAVAILABLE,"The operation could not be completed")))}),kt(J,eo.EventType.MESSAGE,Ut=>{var N1;if(!Ie){const X1=Ut.data[0];p1(!!X1);const Hi=X1,Ir=Hi.error||(null===(N1=Hi[0])||void 0===N1?void 0:N1.error);if(Ir){Ht("Connection","WebChannel received error:",Ir);const U2=Ir.status;let jr=function(ii){const Gr=nr[ii];if(void 0!==Gr)return B4(Gr)}(U2),K2=Ir.message;void 0===jr&&(jr=ht.INTERNAL,K2="Unknown error status: "+U2+" with message "+Ir.message),Ie=!0,lt.io(new Lt(jr,K2)),J.close()}else Ht("Connection","WebChannel received:",X1),lt.ro(X1)}}),kt(w,vo.STAT_EVENT,Ut=>{Ut.stat===Xs.PROXY?Ht("Connection","Detected buffering proxy"):Ut.stat===Xs.NOPROXY&&Ht("Connection","Detected no buffering proxy")}),setTimeout(()=>{lt.so()},0),lt}}function s8(){return typeof window<"u"?window:null}function Y0(){return typeof document<"u"?document:null}function h6(r){return new n6(r,!0)}class J0{constructor(e,t,s=1e3,u=1.5,y=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=u,this.po=y,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-s);u>0&&Ht("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Q0{constructor(e,t,s,u,y,w,x,U){this.Hs=e,this.vo=s,this.Vo=u,this.connection=y,this.authCredentialsProvider=w,this.appCheckCredentialsProvider=x,this.listener=U,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new J0(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Oe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Oe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,Oe.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===ht.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===ht.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.So===t&&this.Go(s,u)},s=>{e(()=>{const u=new Lt(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(u)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{s(()=>this.Qo(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Oe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M9 extends Q0{constructor(e,t,s,u,y,w){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,u,w),this.yt=y}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function q(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:t1(),u=e.targetChange.targetIds||[],y=function(U,J){return U.wt?(p1(void 0===J||"string"==typeof J),Le.fromBase64String(J||"")):(p1(void 0===J||J instanceof Uint8Array),Le.fromUint8Array(J||new Uint8Array))}(r,e.targetChange.resumeToken),w=e.targetChange.cause,x=w&&function(U){const J=void 0===U.code?ht.UNKNOWN:B4(U.code);return new Lt(J,U.message||"")}(w);t=new Zs(s,u,y,x||null)}else if("documentChange"in e){const s=e.documentChange,u=uo(r,s.document.name),y=Mi(s.document.updateTime),w=s.document.createTime?Mi(s.document.createTime):A1.min(),x=new Es({mapValue:{fields:s.document.fields}}),U=Gi.newFoundDocument(u,y,w,x);t=new Ia(s.targetIds||[],s.removedTargetIds||[],U.key,U)}else if("documentDelete"in e){const s=e.documentDelete,u=uo(r,s.document),y=s.readTime?Mi(s.readTime):A1.min(),w=Gi.newNoDocument(u,y);t=new Ia([],s.removedTargetIds||[],w.key,w)}else if("documentRemove"in e){const s=e.documentRemove,u=uo(r,s.document);t=new Ia([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return t1();{const s=e.filter,y=new Sa(s.count||0);t=new _4(s.targetId,y)}}var U;return t}(this.yt,e),s=function(u){if(!("targetChange"in u))return A1.min();const y=u.targetChange;return y.targetIds&&y.targetIds.length?A1.min():y.readTime?Mi(y.readTime):A1.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=Ka(this.yt),t.addTarget=function(u,y){let w;const x=y.target;return w=d3(x)?{documents:d1(u,x)}:{query:x1(u,x)},w.targetId=y.targetId,y.resumeToken.approximateByteSize()>0?w.resumeToken=lo(u,y.resumeToken):y.snapshotVersion.compareTo(A1.min())>0&&(w.readTime=xa(u,y.snapshotVersion.toTimestamp())),w}(this.yt,e);const s=function an(r,e){const t=function(s,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return t1()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=Ka(this.yt),t.removeTarget=e,this.Bo(t)}}class o8 extends Q0{constructor(e,t,s,u,y,w){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,u,w),this.yt=y,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(p1(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Ct(r,e){return r&&r.length>0?(p1(void 0!==e),r.map(t=>function(s,u){let y=Mi(s.updateTime?s.updateTime:u);return y.isEqual(A1.min())&&(y=Mi(u)),new $a(y,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.Zo(s,t)}return p1(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ka(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ie(this.yt,s))};this.Bo(t)}}class P7 extends class{}{constructor(e,t,s,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=u,this.nu=!1}su(){if(this.nu)throw new Lt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,y])=>this.connection.ao(e,t,s,u,y)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Lt(ht.UNKNOWN,u.toString())})}_o(e,t,s,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,w])=>this.connection._o(e,t,s,y,w,u)).catch(y=>{throw"FirebaseError"===y.name?(y.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Lt(ht.UNKNOWN,y.toString())})}terminate(){this.nu=!0}}class V5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(bi(t),this.ou=!1):Ht("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class H5{constructor(e,t,s,u,y){var w=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=y,this.mu.Ur(x=>{s.enqueueAndForget((0,Oe.Z)(function*(){var U;r4(w)&&(Ht("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,Oe.Z)(function*(J){const oe=Jt(J);oe._u.add(4),yield z3(oe),oe.gu.set("Unknown"),oe._u.delete(4),yield Y4(oe)}),function(J){return U.apply(this,arguments)})(w))}))}),this.gu=new V5(s,u)}}function Y4(r){return jo.apply(this,arguments)}function jo(){return jo=(0,Oe.Z)(function*(r){if(r4(r))for(const e of r.wu)yield e(!0)}),jo.apply(this,arguments)}function z3(r){return a8.apply(this,arguments)}function a8(){return a8=(0,Oe.Z)(function*(r){for(const e of r.wu)yield e(!1)}),a8.apply(this,arguments)}function p6(r,e){const t=Jt(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),F5(t)?s0(t):a0(t).ko()&&r0(t,e))}function Go(r,e){const t=Jt(r),s=a0(t);t.du.delete(e),s.ko()&&c8(t,e),0===t.du.size&&(s.ko()?s.Fo():r4(t)&&t.gu.set("Unknown"))}function r0(r,e){r.yu.Ot(e.targetId),a0(r).zo(e)}function c8(r,e){r.yu.Ot(e),a0(r).Ho(e)}function s0(r){r.yu=new b4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>r.du.get(e)||null}),a0(r).start(),r.gu.uu()}function F5(r){return r4(r)&&!a0(r).No()&&r.du.size>0}function r4(r){return 0===Jt(r)._u.size}function V7(r){r.yu=void 0}function X0(r){return m6.apply(this,arguments)}function m6(){return m6=(0,Oe.Z)(function*(r){r.du.forEach((e,t)=>{r0(r,e)})}),m6.apply(this,arguments)}function l8(r,e){return o0.apply(this,arguments)}function o0(){return o0=(0,Oe.Z)(function*(r,e){V7(r),F5(r)?(r.gu.hu(e),s0(r)):r.gu.set("Unknown")}),o0.apply(this,arguments)}function u8(r,e,t){return B5.apply(this,arguments)}function B5(){return B5=(0,Oe.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof Zs&&2===e.state&&e.cause)try{yield(s=(0,Oe.Z)(function*(u,y){const w=y.cause;for(const x of y.targetIds)u.du.has(x)&&(yield u.remoteSyncer.rejectListen(x,w),u.du.delete(x),u.yu.removeTarget(x))}),function(u,y){return s.apply(this,arguments)})(r,e)}catch(s){Ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ec(r,s)}else if(e instanceof Ia?r.yu.Kt(e):e instanceof _4?r.yu.Jt(e):r.yu.jt(e),!t.isEqual(A1.min()))try{const s=yield I5(r.localStore);t.compareTo(s)>=0&&(yield function(u,y){const w=u.yu.Zt(y);return w.targetChanges.forEach((x,U)=>{if(x.resumeToken.approximateByteSize()>0){const J=u.du.get(U);J&&u.du.set(U,J.withResumeToken(x.resumeToken,y))}}),w.targetMismatches.forEach(x=>{const U=u.du.get(x);if(!U)return;u.du.set(x,U.withResumeToken(Le.EMPTY_BYTE_STRING,U.snapshotVersion)),c8(u,x);const J=new Ja(U.target,x,1,U.sequenceNumber);r0(u,J)}),u.remoteSyncer.applyRemoteEvent(w)}(r,t))}catch(s){Ht("RemoteStore","Failed to raise snapshot:",s),yield ec(r,s)}var s}),B5.apply(this,arguments)}function ec(r,e,t){return d8.apply(this,arguments)}function d8(){return d8=(0,Oe.Z)(function*(r,e,t){if(!Hs(e))throw e;r._u.add(1),yield z3(r),r.gu.set("Offline"),t||(t=()=>I5(r.localStore)),r.asyncQueue.enqueueRetryable((0,Oe.Z)(function*(){Ht("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield Y4(r)}))}),d8.apply(this,arguments)}function U5(r,e){return e().catch(t=>ec(r,t,e))}function g6(r){return tc.apply(this,arguments)}function tc(){return tc=(0,Oe.Z)(function*(r){const e=Jt(r),t=ho(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;D9(e);)try{const u=yield x7(e.localStore,s);if(null===u){0===e.fu.length&&t.Fo();break}s=u.batchId,H7(e,u)}catch(u){yield ec(e,u)}F7(e)&&f8(e)}),tc.apply(this,arguments)}function D9(r){return r4(r)&&r.fu.length<10}function H7(r,e){r.fu.push(e);const t=ho(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function F7(r){return r4(r)&&!ho(r).No()&&r.fu.length>0}function f8(r){ho(r).start()}function j5(r){return h8.apply(this,arguments)}function h8(){return h8=(0,Oe.Z)(function*(r){ho(r).eu()}),h8.apply(this,arguments)}function p8(r){return G5.apply(this,arguments)}function G5(){return G5=(0,Oe.Z)(function*(r){const e=ho(r);for(const t of r.fu)e.Xo(t.mutations)}),G5.apply(this,arguments)}function E9(r,e,t){return $5.apply(this,arguments)}function $5(){return $5=(0,Oe.Z)(function*(r,e,t){const s=r.fu.shift(),u=H0.from(s,e,t);yield U5(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),yield g6(r)}),$5.apply(this,arguments)}function S9(r,e){return Z5.apply(this,arguments)}function Z5(){return Z5=(0,Oe.Z)(function*(r,e){var t;e&&ho(r).Yo&&(yield(t=(0,Oe.Z)(function*(s,u){if(Na(y=u.code)&&y!==ht.ABORTED){const w=s.fu.shift();ho(s).Mo(),yield U5(s,()=>s.remoteSyncer.rejectFailedWrite(w.batchId,u)),yield g6(s)}var y}),function(s,u){return t.apply(this,arguments)})(r,e)),F7(r)&&f8(r)}),Z5.apply(this,arguments)}function B7(r,e){return W5.apply(this,arguments)}function W5(){return W5=(0,Oe.Z)(function*(r,e){const t=Jt(r);t.asyncQueue.verifyOperationInProgress(),Ht("RemoteStore","RemoteStore received new credentials");const s=r4(t);t._u.add(3),yield z3(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Y4(t)}),W5.apply(this,arguments)}function q5(r,e){return K5.apply(this,arguments)}function K5(){return K5=(0,Oe.Z)(function*(r,e){const t=Jt(r);e?(t._u.delete(2),yield Y4(t)):e||(t._u.add(2),yield z3(t),t.gu.set("Unknown"))}),K5.apply(this,arguments)}function a0(r){return r.pu||(r.pu=function(e,t,s){const u=Jt(e);return u.su(),new M9(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,s)}(r.datastore,r.asyncQueue,{Yr:X0.bind(null,r),Zr:l8.bind(null,r),Wo:u8.bind(null,r)}),r.wu.push(function(){var e=(0,Oe.Z)(function*(t){t?(r.pu.Mo(),F5(r)?s0(r):r.gu.set("Unknown")):(yield r.pu.stop(),V7(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function ho(r){return r.Iu||(r.Iu=function(e,t,s){const u=Jt(e);return u.su(),new o8(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,s)}(r.datastore,r.asyncQueue,{Yr:j5.bind(null,r),Zr:S9.bind(null,r),tu:p8.bind(null,r),Zo:E9.bind(null,r)}),r.wu.push(function(){var e=(0,Oe.Z)(function*(t){t?(r.Iu.Mo(),yield g6(r)):(yield r.Iu.stop(),r.fu.length>0&&(Ht("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class c0{constructor(e,t,s,u,y){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=u,this.removalCallback=y,this.deferred=new H2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(e,t,s,u,y){const w=Date.now()+s,x=new c0(e,t,w,u,y);return x.start(s),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v6(r,e){if(bi("AsyncQueue",`${e}: ${r}`),Hs(r))return new Lt(ht.UNAVAILABLE,`${e}: ${r}`);throw r}class L3{constructor(e){this.comparator=e?(t,s)=>e(t,s)||qt.comparator(t.key,s.key):(t,s)=>qt.comparator(t.key,s.key),this.keyedMap=Ta(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new L3(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof L3)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,y=s.getNext().key;if(!u.isEqual(y))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new L3;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class nc{constructor(){this.Tu=new Nr(qt.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):t1():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class O3{constructor(e,t,s,u,y,w,x,U,J){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=y,this.fromCache=w,this.syncStateChanged=x,this.excludesMetadataChanges=U,this.hasCachedResults=J}static fromInitialDocuments(e,t,s,u,y){const w=[];return t.forEach(x=>{w.push({type:0,doc:x})}),new O3(e,t,L3.emptySet(t),w,s,u,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&q2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==s[u].type||!t[u].doc.isEqual(s[u].doc))return!1;return!0}}class m8{constructor(){this.Au=void 0,this.listeners=[]}}class U7{constructor(){this.queries=new Ls(e=>P4(e),q2),this.onlineState="Unknown",this.Ru=new Set}}function s4(r,e){return ic.apply(this,arguments)}function ic(){return ic=(0,Oe.Z)(function*(r,e){const t=Jt(r),s=e.query;let u=!1,y=t.queries.get(s);if(y||(u=!0,y=new m8),u)try{y.Au=yield t.onListen(s)}catch(w){const x=v6(w,`Initialization of query '${V4(e.query)}' failed`);return void e.onError(x)}t.queries.set(s,y),y.listeners.push(e),e.bu(t.onlineState),y.Au&&e.Pu(y.Au)&&y8(t)}),ic.apply(this,arguments)}function g8(r,e){return v8.apply(this,arguments)}function v8(){return v8=(0,Oe.Z)(function*(r,e){const t=Jt(r),s=e.query;let u=!1;const y=t.queries.get(s);if(y){const w=y.listeners.indexOf(e);w>=0&&(y.listeners.splice(w,1),u=0===y.listeners.length)}if(u)return t.queries.delete(s),t.onUnlisten(s)}),v8.apply(this,arguments)}function Y5(r,e){const t=Jt(r);let s=!1;for(const u of e){const w=t.queries.get(u.query);if(w){for(const x of w.listeners)x.Pu(u)&&(s=!0);w.Au=u}}s&&y8(t)}function j7(r,e,t){const s=Jt(r),u=s.queries.get(e);if(u)for(const y of u.listeners)y.onError(t);s.queries.delete(e)}function y8(r){r.Ru.forEach(e=>{e.next()})}class y6{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new O3(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=O3.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class _6{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class rc{constructor(e){this.yt=e}Ji(e){return uo(this.yt,e)}Yi(e){return e.metadata.exists?b(this.yt,e.document,!1):Gi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Mi(e)}}class b6{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sc(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=Vn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new rc(this.yt);for(const u of e)if(u.metadata.queries){const y=s.Ji(u.metadata.name);for(const w of u.metadata.queries){const x=(t.get(w)||Hn()).add(y);t.set(w,x)}}return t}complete(){var e=this;return(0,Oe.Z)(function*(){const t=yield function z7(r,e,t,s){return L5.apply(this,arguments)}(e.localStore,new rc(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const u of e.queries)yield C9(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function sc(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class l0{constructor(e){this.key=e}}class _8{constructor(e){this.key=e}}class b8{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Hn(),this.mutatedKeys=Hn(),this.Gu=Q3(e),this.Qu=new L3(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new nc,u=t?t.Qu:this.Qu;let y=t?t.mutatedKeys:this.mutatedKeys,w=u,x=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,J="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((oe,Ie)=>{const lt=u.get(oe),kt=Tr(this.query,Ie)?Ie:null,Ut=!!lt&&this.mutatedKeys.has(lt.key),N1=!!kt&&(kt.hasLocalMutations||this.mutatedKeys.has(kt.key)&&kt.hasCommittedMutations);let X1=!1;lt&&kt?lt.data.isEqual(kt.data)?Ut!==N1&&(s.track({type:3,doc:kt}),X1=!0):this.Hu(lt,kt)||(s.track({type:2,doc:kt}),X1=!0,(U&&this.Gu(kt,U)>0||J&&this.Gu(kt,J)<0)&&(x=!0)):!lt&&kt?(s.track({type:0,doc:kt}),X1=!0):lt&&!kt&&(s.track({type:1,doc:lt}),X1=!0,(U||J)&&(x=!0)),X1&&(kt?(w=w.add(kt),y=N1?y.add(oe):y.delete(oe)):(w=w.delete(oe),y=y.delete(oe)))}),null!==this.query.limit)for(;w.size>this.query.limit;){const oe="F"===this.query.limitType?w.last():w.first();w=w.delete(oe.key),y=y.delete(oe.key),s.track({type:1,doc:oe})}return{Qu:w,zu:s,$i:x,mutatedKeys:y}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const y=e.zu.Eu();y.sort((J,oe)=>function(Ie,lt){const kt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return t1()}};return kt(Ie)-kt(lt)}(J.type,oe.type)||this.Gu(J.doc,oe.doc)),this.Ju(s);const w=t?this.Yu():[],x=0===this.Ku.size&&this.current?1:0,U=x!==this.Uu;return this.Uu=x,0!==y.length||U?{snapshot:new O3(this.query,e.Qu,u,y,e.mutatedKeys,0===x,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:w}:{Xu:w}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new nc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Hn(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new _8(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new l0(s))}),t}tc(e){this.qu=e.Hi,this.Ku=Hn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return O3.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class C8{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class M8{constructor(e){this.key=e,this.nc=!1}}class J5{constructor(e,t,s,u,y,w){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=u,this.currentUser=y,this.maxConcurrentLimboResolutions=w,this.sc={},this.ic=new Ls(x=>P4(x),q2),this.rc=new Map,this.oc=new Set,this.uc=new Nr(qt.comparator),this.cc=new Map,this.ac=new F0,this.hc={},this.lc=new Map,this.fc=Xa.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function w8(r,e){return D8.apply(this,arguments)}function D8(){return D8=(0,Oe.Z)(function*(r,e){const t=dc(r);let s,u;const y=t.ic.get(e);if(y)s=y.targetId,t.sharedClientState.addLocalQueryTarget(s),u=y.view.ec();else{const w=yield n0(t.localStore,rs(e));t.isPrimaryClient&&p6(t.remoteStore,w);const x=t.sharedClientState.addLocalQueryTarget(w.targetId);s=w.targetId,u=yield Q5(t,e,s,"current"===x,w.resumeToken)}return u}),D8.apply(this,arguments)}function Q5(r,e,t,s,u){return E8.apply(this,arguments)}function E8(){return E8=(0,Oe.Z)(function*(r,e,t,s,u){r._c=(Ie,lt,kt)=>{return(Ut=(0,Oe.Z)(function*(N1,X1,Hi,Ir){let U2=X1.view.Wu(Hi);U2.$i&&(U2=yield n4(N1.localStore,X1.query,!1).then(({documents:ii})=>X1.view.Wu(ii,U2)));const jr=Ir&&Ir.targetChanges.get(X1.targetId),K2=X1.view.applyChanges(U2,N1.isPrimaryClient,jr);return x8(N1,X1.targetId,K2.Xu),K2.snapshot}),function(N1,X1,Hi,Ir){return Ut.apply(this,arguments)})(r,Ie,lt,kt);var Ut};const y=yield n4(r.localStore,e,!0),w=new b8(e,y.Hi),x=w.Wu(y.documents),U=Aa.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,u),J=w.applyChanges(x,r.isPrimaryClient,U);x8(r,t,J.Xu);const oe=new C8(e,t,w);return r.ic.set(e,oe),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),J.snapshot}),E8.apply(this,arguments)}function X5(r,e){return S8.apply(this,arguments)}function S8(){return S8=(0,Oe.Z)(function*(r,e){const t=Jt(r),s=t.ic.get(e),u=t.rc.get(s.targetId);if(u.length>1)return t.rc.set(s.targetId,u.filter(y=>!q2(y,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield x3(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Go(t.remoteStore,s.targetId),R3(t,s.targetId)}).catch(Mo))):(R3(t,s.targetId),yield x3(t.localStore,s.targetId,!0))}),S8.apply(this,arguments)}function oc(){return oc=(0,Oe.Z)(function*(r,e,t){const s=fc(r);try{const u=yield function(y,w){const x=Jt(y),U=S2.now(),J=w.reduce((lt,kt)=>lt.add(kt.key),Hn());let oe,Ie;return x.persistence.runTransaction("Locally write mutations","readwrite",lt=>{let kt=ss(),Ut=Hn();return x.Gi.getEntries(lt,J).next(N1=>{kt=N1,kt.forEach((X1,Hi)=>{Hi.isValidDocument()||(Ut=Ut.add(X1))})}).next(()=>x.localDocuments.getOverlayedDocuments(lt,kt)).next(N1=>{oe=N1;const X1=[];for(const Hi of w){const Ir=na(Hi,oe.get(Hi.key).overlayedDocument);null!=Ir&&X1.push(new ia(Hi.key,Ir,l3(Ir.value.mapValue),$i.exists(!0)))}return x.mutationQueue.addMutationBatch(lt,U,X1,w)}).next(N1=>{Ie=N1;const X1=N1.applyToLocalDocumentSet(oe,Ut);return x.documentOverlayCache.saveOverlays(lt,N1.batchId,X1)})}).then(()=>({batchId:Ie.batchId,changes:ko(oe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(y,w,x){let U=y.hc[y.currentUser.toKey()];U||(U=new Nr(Y1)),U=U.insert(w,x),y.hc[y.currentUser.toKey()]=U}(s,u.batchId,t),yield N4(s,u.changes),yield g6(s.remoteStore)}catch(u){const y=v6(u,"Failed to persist write");t.reject(y)}}),oc.apply(this,arguments)}function tl(r,e){return po.apply(this,arguments)}function po(){return po=(0,Oe.Z)(function*(r,e){const t=Jt(r);try{const s=yield x5(t.localStore,e);e.targetChanges.forEach((u,y)=>{const w=t.cc.get(y);w&&(p1(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?w.nc=!0:u.modifiedDocuments.size>0?p1(w.nc):u.removedDocuments.size>0&&(p1(w.nc),w.nc=!1))}),yield N4(t,s,e)}catch(s){yield Mo(s)}}),po.apply(this,arguments)}function N8(r,e,t){const s=Jt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const u=[];s.ic.forEach((y,w)=>{const x=w.view.bu(e);x.snapshot&&u.push(x.snapshot)}),function(y,w){const x=Jt(y);x.onlineState=w;let U=!1;x.queries.forEach((J,oe)=>{for(const Ie of oe.listeners)Ie.bu(w)&&(U=!0)}),U&&y8(x)}(s.eventManager,e),u.length&&s.sc.Wo(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function G7(r,e,t){return nl.apply(this,arguments)}function nl(){return nl=(0,Oe.Z)(function*(r,e,t){const s=Jt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const u=s.cc.get(e),y=u&&u.key;if(y){let w=new Nr(qt.comparator);w=w.insert(y,Gi.newNoDocument(y,A1.min()));const x=Hn().add(y),U=new Vo(A1.min(),new Map,new di(Y1),w,x);yield tl(s,U),s.uc=s.uc.remove(y),s.cc.delete(e),cc(s)}else yield x3(s.localStore,e,!1).then(()=>R3(s,e,t)).catch(Mo)}),nl.apply(this,arguments)}function $7(r,e){return u0.apply(this,arguments)}function u0(){return u0=(0,Oe.Z)(function*(r,e){const t=Jt(r),s=e.batch.batchId;try{const u=yield A5(t.localStore,e);I8(t,s,null),ac(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield N4(t,u)}catch(u){yield Mo(u)}}),u0.apply(this,arguments)}function il(r,e,t){return T8.apply(this,arguments)}function T8(){return T8=(0,Oe.Z)(function*(r,e,t){const s=Jt(r);try{const u=yield function(y,w){const x=Jt(y);return x.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let J;return x.mutationQueue.lookupMutationBatch(U,w).next(oe=>(p1(null!==oe),J=oe.keys(),x.mutationQueue.removeMutationBatch(U,oe))).next(()=>x.mutationQueue.performConsistencyCheck(U)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(U,J,w)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,J)).next(()=>x.localDocuments.getDocuments(U,J))})}(s.localStore,e);I8(s,e,t),ac(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield N4(s,u)}catch(u){yield Mo(u)}}),T8.apply(this,arguments)}function A8(){return A8=(0,Oe.Z)(function*(r,e){const t=Jt(r);r4(t.remoteStore)||Ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const w=Jt(y);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>w.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===s)return void e.resolve();const u=t.lc.get(s)||[];u.push(e),t.lc.set(s,u)}catch(s){const u=v6(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),A8.apply(this,arguments)}function ac(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function I8(r,e,t){const s=Jt(r);let u=s.hc[s.currentUser.toKey()];if(u){const y=u.get(e);y&&(t?y.reject(t):y.resolve(),u=u.remove(e)),s.hc[s.currentUser.toKey()]=u}}function R3(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.rc.get(e))r.ic.delete(s),t&&r.sc.wc(s,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(s=>{r.ac.containsKey(s)||rl(r,s)})}function rl(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Go(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),cc(r))}function x8(r,e,t){for(const s of t)s instanceof l0?(r.ac.addReference(s.key,e),sl(r,s)):s instanceof _8?(Ht("SyncEngine","Document no longer in limbo: "+s.key),r.ac.removeReference(s.key,e),r.ac.containsKey(s.key)||rl(r,s.key)):t1()}function sl(r,e){const t=e.key,s=t.path.canonicalString();r.uc.get(t)||r.oc.has(s)||(Ht("SyncEngine","New document in limbo: "+t),r.oc.add(s),cc(r))}function cc(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new qt(Vn.fromString(e)),s=r.fc.next();r.cc.set(s,new M8(t)),r.uc=r.uc.insert(t,s),p6(r.remoteStore,new Ja(rs(xs(t.path)),s,2,tr.at))}}function N4(r,e,t){return fa.apply(this,arguments)}function fa(){return fa=(0,Oe.Z)(function*(r,e,t){const s=Jt(r),u=[],y=[],w=[];var x;s.ic.isEmpty()||(s.ic.forEach((x,U)=>{w.push(s._c(U,e,t).then(J=>{if((J||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(U.targetId,J?.fromCache?"not-current":"current"),J){u.push(J);const oe=Un.Ci(U.targetId,J);y.push(oe)}}))}),yield Promise.all(w),s.sc.Wo(u),yield(x=(0,Oe.Z)(function*(U,J){const oe=Jt(U);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>dt.forEach(J,lt=>dt.forEach(lt.Si,kt=>oe.persistence.referenceDelegate.addReference(Ie,lt.targetId,kt)).next(()=>dt.forEach(lt.Di,kt=>oe.persistence.referenceDelegate.removeReference(Ie,lt.targetId,kt)))))}catch(Ie){if(!Hs(Ie))throw Ie;Ht("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of J){const lt=Ie.targetId;if(!Ie.fromCache){const kt=oe.qi.get(lt),N1=kt.withLastLimboFreeSnapshotVersion(kt.snapshotVersion);oe.qi=oe.qi.insert(lt,N1)}}}),function(U,J){return x.apply(this,arguments)})(s.localStore,y))}),fa.apply(this,arguments)}function z8(r,e){return L8.apply(this,arguments)}function L8(){return L8=(0,Oe.Z)(function*(r,e){const t=Jt(r);if(!t.currentUser.isEqual(e)){Ht("SyncEngine","User change. New user:",e.toKey());const s=yield T5(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(w=>{w.forEach(x=>{x.reject(new Lt(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield N4(t,s.ji)}var u}),L8.apply(this,arguments)}function W7(r,e){const t=Jt(r),s=t.cc.get(e);if(s&&s.nc)return Hn().add(s.key);{let u=Hn();const y=t.rc.get(e);if(!y)return u;for(const w of y){const x=t.ic.get(w);u=u.unionWith(x.view.ju)}return u}}function N9(r,e){return lc.apply(this,arguments)}function lc(){return lc=(0,Oe.Z)(function*(r,e){const t=Jt(r),s=yield n4(t.localStore,e.query,!0),u=e.view.tc(s);return t.isPrimaryClient&&x8(t,e.targetId,u.Xu),u}),lc.apply(this,arguments)}function q7(r,e){return O8.apply(this,arguments)}function O8(){return O8=(0,Oe.Z)(function*(r,e){const t=Jt(r);return $0(t.localStore,e).then(s=>N4(t,s))}),O8.apply(this,arguments)}function K7(r,e,t,s){return d0.apply(this,arguments)}function d0(){return d0=(0,Oe.Z)(function*(r,e,t,s){const u=Jt(r),y=yield function(w,x){const U=Jt(w),J=Jt(U.mutationQueue);return U.persistence.runTransaction("Lookup mutation documents","readonly",oe=>J.Tn(oe,x).next(Ie=>Ie?U.localDocuments.getDocuments(oe,Ie):dt.resolve(null)))}(u.localStore,e);var x;null!==y?("pending"===t?yield g6(u.remoteStore):"acknowledged"===t||"rejected"===t?(I8(u,e,s||null),ac(u,e),x=e,Jt(Jt(u.localStore).mutationQueue).An(x)):t1(),yield N4(u,y)):Ht("SyncEngine","Cannot apply mutation batch with id: "+e)}),d0.apply(this,arguments)}function R8(){return R8=(0,Oe.Z)(function*(r,e){const t=Jt(r);if(dc(t),fc(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),u=yield f0(t,s.toArray());t.dc=!0,yield q5(t.remoteStore,!0);for(const y of u)p6(t.remoteStore,y)}else if(!1===e&&!1!==t.dc){const s=[];let u=Promise.resolve();t.rc.forEach((y,w)=>{t.sharedClientState.isLocalQueryTarget(w)?s.push(w):u=u.then(()=>(R3(t,w),x3(t.localStore,w,!0))),Go(t.remoteStore,w)}),yield u,yield f0(t,s),function(y){const w=Jt(y);w.cc.forEach((x,U)=>{Go(w.remoteStore,U)}),w.ac.fs(),w.cc=new Map,w.uc=new Nr(qt.comparator)}(t),t.dc=!1,yield q5(t.remoteStore,!1)}}),R8.apply(this,arguments)}function f0(r,e,t){return h0.apply(this,arguments)}function h0(){return h0=(0,Oe.Z)(function*(r,e,t){const s=Jt(r),u=[],y=[];for(const w of e){let x;const U=s.rc.get(w);if(U&&0!==U.length){x=yield n0(s.localStore,rs(U[0]));for(const J of U){const oe=s.ic.get(J),Ie=yield N9(s,oe);Ie.snapshot&&y.push(Ie.snapshot)}}else{const J=yield t8(s.localStore,w);x=yield n0(s.localStore,J),yield Q5(s,p0(J),w,!1,x.resumeToken)}u.push(x)}return s.sc.Wo(y),u}),h0.apply(this,arguments)}function p0(r){return h4(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function T9(r){const e=Jt(r);return Jt(Jt(e.localStore).persistence).vi()}function k8(r,e,t,s){return ol.apply(this,arguments)}function ol(){return ol=(0,Oe.Z)(function*(r,e,t,s){const u=Jt(r);if(u.dc)return void Ht("SyncEngine","Ignoring unexpected query state notification.");const y=u.rc.get(e);if(y&&y.length>0)switch(t){case"current":case"not-current":{const w=yield $0(u.localStore,H4(y[0])),x=Vo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Le.EMPTY_BYTE_STRING);yield N4(u,w,x);break}case"rejected":yield x3(u.localStore,e,!0),R3(u,e,s);break;default:t1()}}),ol.apply(this,arguments)}function al(r,e,t){return uc.apply(this,arguments)}function uc(){return uc=(0,Oe.Z)(function*(r,e,t){const s=dc(r);if(s.dc){for(const u of e){if(s.rc.has(u)){Ht("SyncEngine","Adding an already active target "+u);continue}const y=yield t8(s.localStore,u),w=yield n0(s.localStore,y);yield Q5(s,p0(y),w.targetId,!1,w.resumeToken),p6(s.remoteStore,w)}for(const u of t)s.rc.has(u)&&(yield x3(s.localStore,u,!1).then(()=>{Go(s.remoteStore,u),R3(s,u)}).catch(Mo))}}),uc.apply(this,arguments)}function dc(r){const e=Jt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G7.bind(null,e),e.sc.Wo=Y5.bind(null,e.eventManager),e.sc.wc=j7.bind(null,e.eventManager),e}function fc(r){const e=Jt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=il.bind(null,e),e}class o4{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Oe.Z)(function*(){t.yt=h6(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Xc(this.persistence,new Qc,e.initialUser,this.yt)}yc(e){return new D5(B0.Bs,this.yt)}gc(e){return new r8}terminate(){var e=this;return(0,Oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class m0 extends o4{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Oe.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield fc(s.Ac.syncEngine),yield g6(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Xc(this.persistence,new Qc,e.initialUser,this.yt)}Tc(e,t){return new Kc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new Fs(t,this.persistence);return new Fr(e.asyncQueue,s)}yc(e){const t=Jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new U0(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,s8(),Y0(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new r8}}class hc extends m0{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Oe.Z)(function*(){yield t().call(s,e);const u=s.Ac.syncEngine;s.sharedClientState instanceof i8&&(s.sharedClientState.syncEngine={Fr:K7.bind(null,u),$r:k8.bind(null,u),Br:al.bind(null,u),vi:T9.bind(null,u),Mr:q7.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var y=(0,Oe.Z)(function*(w){yield function Y7(r,e){return R8.apply(this,arguments)}(s.Ac.syncEngine,w),s.gcScheduler&&(w&&!s.gcScheduler.started?s.gcScheduler.start():w||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(w&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():w||s.indexBackfillerScheduler.stop())});return function(w){return y.apply(this,arguments)}}())})()}gc(e){const t=s8();if(!i8.C(t))throw new Lt(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Jc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new i8(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class k3{initialize(e,t){var s=this;return(0,Oe.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>N8(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=z8.bind(null,s.syncEngine),yield q5(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new U7}createDatastore(e){const t=h6(e.databaseInfo.databaseId),s=new k7(e.databaseInfo);return new P7(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,u=e.asyncQueue,y=x=>N8(this.syncEngine,x,0),w=P5.C()?new P5:new L7,new H5(t,s,u,y,w);var t,s,u,y,w}createSyncEngine(e,t){return function(s,u,y,w,x,U,J){const oe=new J5(s,u,y,w,x,U);return J&&(oe.dc=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Oe.Z)(function*(t){const s=Jt(t);Ht("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield z3(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function V8(r,e,t){if(!t)throw new Lt(ht.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function pc(r,e,t,s){if(!0===e&&!0===s)throw new Lt(ht.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function H8(r){if(!qt.isDocumentKey(r))throw new Lt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cl(r){if(qt.isDocumentKey(r))throw new Lt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mc(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":t1()}function l2(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Lt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mc(r);throw new Lt(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function ll(r,e){if(e<=0)throw new Lt(ht.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const J7=new Map;class ul{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Lt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,t,s,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ul({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ul(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new no;switch(t.type){case"gapi":return new bo(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Lt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=J7.get(e);t&&(Ht("ComponentProvider","Removing Datastore"),J7.delete(e),t.terminate())}(this),Promise.resolve()}}class vr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class Ws{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Ha extends Ws{constructor(e,t,s){super(e,t,xs(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new qt(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function vc(r,e,...t){if(r=(0,Ye.m9)(r),V8("collection","path",e),r instanceof gc){const s=Vn.fromString(e,...t);return cl(s),new Ha(r,null,s)}{if(!(r instanceof vr||r instanceof Ha))throw new Lt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vn.fromString(e,...t));return cl(s),new Ha(r.firestore,null,s)}}function C6(r,e,...t){if(r=(0,Ye.m9)(r),1===arguments.length&&(e=Kr.R()),V8("doc","path",e),r instanceof gc){const s=Vn.fromString(e,...t);return H8(s),new vr(r,null,new qt(s))}{if(!(r instanceof vr||r instanceof Ha))throw new Lt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vn.fromString(e,...t));return H8(s),new vr(r.firestore,r instanceof Ha?r.converter:null,new qt(s))}}function fl(r,e){return r=(0,Ye.m9)(r),e=(0,Ye.m9)(e),(r instanceof vr||r instanceof Ha)&&(e instanceof vr||e instanceof Ha)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function F8(r,e){return r=(0,Ye.m9)(r),e=(0,Ye.m9)(e),r instanceof Ws&&e instanceof Ws&&r.firestore===e.firestore&&q2(r._query,e._query)&&r.converter===e.converter}function hl(r,e=10240){let t=0;return{read:()=>(0,Oe.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Oe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class X7{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new H2,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Oe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Oe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),u=Number(s);isNaN(u)&&e.Dc(`length string (${s}) is not valid number`);const y=yield e.Cc(u);return new _6(JSON.parse(y),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Oe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,Oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Oe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class I9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Lt(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,Oe.Z)(function*(y,w){const x=Jt(y),U=Ka(x.yt)+"/documents",J={documents:w.map(kt=>aa(x.yt,kt))},oe=yield x._o("BatchGetDocuments",U,J,w.length),Ie=new Map;oe.forEach(kt=>{const Ut=function T(r,e){return"found"in e?function(t,s){p1(!!s.found);const u=uo(t,s.found.name),y=Mi(s.found.updateTime),w=s.found.createTime?Mi(s.found.createTime):A1.min(),x=new Es({mapValue:{fields:s.found.fields}});return Gi.newFoundDocument(u,y,w,x)}(r,e):"missing"in e?function(t,s){p1(!!s.missing),p1(!!s.readTime);const u=uo(t,s.missing),y=Mi(s.readTime);return Gi.newNoDocument(u,y)}(r,e):t1()}(x.yt,kt);Ie.set(Ut.key.toString(),Ut)});const lt=[];return w.forEach(kt=>{const Ut=Ie.get(kt.toString());p1(!!Ut),lt.push(Ut)}),lt}),function(y,w){return u.apply(this,arguments)})(t.datastore,e);var u;return s.forEach(u=>t.recordVersion(u)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ea(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,u)=>{const y=qt.fromPath(u);e.mutations.push(new y3(y,e.precondition(y)))}),yield(s=(0,Oe.Z)(function*(u,y){const w=Jt(u),x=Ka(w.yt)+"/documents",U={writes:y.map(J=>ie(w.yt,J))};yield w.ao("Commit",x,U)}),function(u,y){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw t1();t=A1.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Lt(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(A1.min())?$i.exists(!1):$i.updateTime(t):$i.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(A1.min()))throw new Lt(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $i.updateTime(t)}return $i.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class g0{constructor(e,t,s,u,y){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=u,this.deferred=y,this.kc=s.maxAttempts,this.xo=new J0(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Oe.Z)(function*(){const t=new I9(e.datastore),s=e.Mc(t);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(y=>{e.Fc(y)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!A(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Na(t)}return!1}}class eu{constructor(e,t,s,u){var y=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=u,this.user=Ti.UNAUTHENTICATED,this.clientId=Kr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var w=(0,Oe.Z)(function*(x){Ht("FirestoreClient","Received user=",x.uid),yield y.authCredentialListener(x),y.user=x});return function(x){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(s,w=>(Ht("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}getConfiguration(){var e=this;return(0,Oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new H2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const u=v6(s,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function pl(r,e){return v0.apply(this,arguments)}function v0(){return v0=(0,Oe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ht("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var u=(0,Oe.Z)(function*(y){s.isEqual(y)||(yield T5(e.localStore,y),s=y)});return function(y){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),v0.apply(this,arguments)}function ml(r,e){return ha.apply(this,arguments)}function ha(){return ha=(0,Oe.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield V3(r);Ht("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(u=>B7(e.remoteStore,u)),r.setAppCheckTokenChangeListener((u,y)=>B7(e.remoteStore,y)),r.onlineComponents=e}),ha.apply(this,arguments)}function V3(r){return ks.apply(this,arguments)}function ks(){return ks=(0,Oe.Z)(function*(r){return r.offlineComponents||(Ht("FirestoreClient","Using default OfflineComponentProvider"),yield pl(r,new o4)),r.offlineComponents}),ks.apply(this,arguments)}function a4(r){return M6.apply(this,arguments)}function M6(){return M6=(0,Oe.Z)(function*(r){return r.onlineComponents||(Ht("FirestoreClient","Using default OnlineComponentProvider"),yield ml(r,new k3)),r.onlineComponents}),M6.apply(this,arguments)}function $o(r){return V3(r).then(e=>e.persistence)}function w6(r){return V3(r).then(e=>e.localStore)}function J4(r){return a4(r).then(e=>e.remoteStore)}function Q4(r){return a4(r).then(e=>e.syncEngine)}function Fa(r){return X4.apply(this,arguments)}function X4(){return X4=(0,Oe.Z)(function*(r){const e=yield a4(r),t=e.eventManager;return t.onListen=w8.bind(null,e.syncEngine),t.onUnlisten=X5.bind(null,e.syncEngine),t}),X4.apply(this,arguments)}function F3(r,e,t={}){const s=new H2;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(u,y,w,x,U){const J=new yc({next:Ie=>{y.enqueueAndForget(()=>g8(u,oe));const lt=Ie.docs.has(w);!lt&&Ie.fromCache?U.reject(new Lt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&Ie.fromCache&&x&&"server"===x.source?U.reject(new Lt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ie)},error:Ie=>U.reject(Ie)}),oe=new y6(xs(w.path),J,{includeMetadataChanges:!0,Nu:!0});return s4(u,oe)}(yield Fa(r),r.asyncQueue,e,t,s)})),s.promise}function B8(r,e,t={}){const s=new H2;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function(u,y,w,x,U){const J=new yc({next:Ie=>{y.enqueueAndForget(()=>g8(u,oe)),Ie.fromCache&&"server"===x.source?U.reject(new Lt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ie)},error:Ie=>U.reject(Ie)}),oe=new y6(w,J,{includeMetadataChanges:!0,Nu:!0});return s4(u,oe)}(yield Fa(r),r.asyncQueue,e,t,s)})),s.promise}class bl{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new J0(this,"async_queue_retry"),this.Wc=()=>{const t=Y0();t&&Ht("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Y0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Y0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new H2;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Oe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Hs(t))throw t;Ht("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(y){let w=y.message||"";return y.stack&&(w=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),w}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=c0.createAndSchedule(this,e,t,s,y=>this.Yc(y));return this.Uc.push(u),u}zc(){this.Kc&&t1()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Oe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function bc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const u of["next","error","complete"])if(u in s&&"function"==typeof s[u])return!0;return!1}(r)}class Cl{constructor(){this._progressObserver={},this._taskCompletionResolver=new H2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yr extends gc{constructor(e,t,s,u){super(e,t,s,u),this.type="firestore",this._queue=new bl,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||U8(this),this._firestoreClient.terminate()}}function os(r){return r._firestoreClient||U8(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function U8(r){var e;const t=r._freezeSettings(),s=(y=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new p(r._databaseId,y,r._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var y,x;r._firestoreClient=new eu(r._authCredentials,r._appCheckCredentials,r._queue,s)}function wl(r,e,t){const s=new H2;return r.asyncQueue.enqueue((0,Oe.Z)(function*(){try{yield pl(r,t),yield ml(r,e),s.resolve()}catch(u){const y=u;if(!("FirebaseError"===(w=y).name?w.code===ht.FAILED_PRECONDITION||w.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw y;ts("Error enabling offline persistence. Falling back to persistence disabled: "+y),s.reject(y)}var w})).then(()=>s.promise)}function W8(r){if(r._initialized||r._terminated)throw new Lt(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Le.fromBase64String(e))}catch(t){throw new Lt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pa(Le.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class c4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Lt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T4{constructor(e){this._methodName=e}}class N6{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y1(this._lat,e._lat)||Y1(this._long,e._long)}}const ru=/^__.*__$/;class Sl{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Za(e,this.data,t,this.fieldTransforms)}}class q8{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function K8(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw t1()}}class y0{constructor(e,t,s,u,y,w){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=u,void 0===y&&this.na(),this.fieldTransforms=y||[],this.fieldMask=w||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:s,oa:!1});return u.ua(e),u}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:s,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return C0(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(K8(this.sa)&&ru.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class su{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||h6(e)}da(e,t,s,u=!1){return new y0({sa:e,methodName:t,fa:s,path:Sn.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function e3(r){const e=r._freezeSettings(),t=h6(r._databaseId);return new su(r._databaseId,!!e.ignoreUndefinedProperties,t)}function _0(r,e,t,s,u,y={}){const w=r.da(y.merge||y.mergeFields?2:0,e,t,u);Q8("Data must be an object, but it was:",w,s);const x=ou(s,w);let U,J;if(y.merge)U=new js(w.fieldMask),J=w.fieldTransforms;else if(y.mergeFields){const oe=[];for(const Ie of y.mergeFields){const lt=Sc(e,Ie,t);if(!w.contains(lt))throw new Lt(ht.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);Il(oe,lt)||oe.push(lt)}U=new js(oe),J=w.fieldTransforms.filter(Ie=>U.covers(Ie.field))}else U=null,J=w.fieldTransforms;return new Sl(new Es(x),U,J)}class B3 extends T4{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof B3}}function b0(r,e,t){return new y0({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class wc extends T4{_toFieldTransform(e){return new wa(e.path,new Lo)}isEqual(e){return e instanceof wc}}class Nl extends T4{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=b0(this,e,!0),s=this._a.map(y=>t3(y,t)),u=new Js(s);return new wa(e.path,u)}isEqual(e){return this===e}}class Y8 extends T4{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=b0(this,e,!0),s=this._a.map(y=>t3(y,t)),u=new Gs(s);return new wa(e.path,u)}isEqual(e){return this===e}}class Tl extends T4{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ro(e.yt,ea(e.yt,this.wa));return new wa(e.path,t)}isEqual(e){return this===e}}function Dc(r,e,t,s){const u=r.da(1,e,t);Q8("Data must be an object, but it was:",u,s);const y=[],w=Es.empty();g(s,(U,J)=>{const oe=Jr(e,U,t);J=(0,Ye.m9)(J);const Ie=u.ca(oe);if(J instanceof B3)y.push(oe);else{const lt=t3(J,Ie);null!=lt&&(y.push(oe),w.set(oe,lt))}});const x=new js(y);return new q8(w,x,u.fieldTransforms)}function Ec(r,e,t,s,u,y){const w=r.da(1,e,t),x=[Sc(e,s,t)],U=[u];if(y.length%2!=0)throw new Lt(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<y.length;lt+=2)x.push(Sc(e,y[lt])),U.push(y[lt+1]);const J=[],oe=Es.empty();for(let lt=x.length-1;lt>=0;--lt)if(!Il(J,x[lt])){const kt=x[lt];let Ut=U[lt];Ut=(0,Ye.m9)(Ut);const N1=w.ca(kt);if(Ut instanceof B3)J.push(kt);else{const X1=t3(Ut,N1);null!=X1&&(J.push(kt),oe.set(kt,X1))}}const Ie=new js(J);return new q8(oe,Ie,w.fieldTransforms)}function J8(r,e,t,s=!1){return t3(t,r.da(s?4:3,e))}function t3(r,e){if(Al(r=(0,Ye.m9)(r)))return Q8("Unsupported field value:",e,r),ou(r,e);if(r instanceof T4)return function(t,s){if(!K8(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const u=[];let y=0;for(const w of t){let x=t3(w,s.aa(y));null==x&&(x={nullValue:"NULL_VALUE"}),u.push(x),y++}return{arrayValue:{values:u}}}(r,e)}return function(t,s){if(null===(t=(0,Ye.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ea(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=S2.fromDate(t);return{timestampValue:xa(s.yt,u)}}if(t instanceof S2){const u=new S2(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xa(s.yt,u)}}if(t instanceof N6)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pa)return{bytesValue:lo(s.yt,t._byteString)};if(t instanceof vr){const u=s.databaseId,y=t.firestore._databaseId;if(!y.isEqual(u))throw s.ha(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:za(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${mc(t)}`)}(r,e)}function ou(r,e){const t={};return M(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):g(r,(s,u)=>{const y=t3(u,e.ra(s));null!=y&&(t[s]=y)}),{mapValue:{fields:t}}}function Al(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof S2||r instanceof N6||r instanceof pa||r instanceof vr||r instanceof T4)}function Q8(r,e,t){if(!Al(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=mc(t);throw e.ha("an object"===s?r+" a custom object":r+" "+s)}var s}function Sc(r,e,t){if((e=(0,Ye.m9)(e))instanceof c4)return e._internalPath;if("string"==typeof e)return Jr(r,e);throw C0("Field path arguments must be of type string or ",r,!1,void 0,t)}const au=new RegExp("[~\\*/\\[\\]]");function Jr(r,e,t){if(e.search(au)>=0)throw C0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new c4(...e.split("."))._internalPath}catch{throw C0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function C0(r,e,t,s,u){const y=s&&!s.isEmpty(),w=void 0!==u;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let U="";return(y||w)&&(U+=" (found",y&&(U+=` in field ${s}`),w&&(U+=` in document ${u}`),U+=")"),new Lt(ht.INVALID_ARGUMENT,x+r+U)}function Il(r,e){return r.some(t=>t.isEqual(e))}class M0{constructor(e,t,s,u,y){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=u,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xl extends M0{data(){return super.data()}}function Nc(r,e){return"string"==typeof e?Jr(r,e):e instanceof c4?e._internalPath:e._delegate._internalPath}function X8(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Lt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tc{}class l4 extends Tc{}function n3(r,e,...t){let s=[];e instanceof Tc&&s.push(e),s=s.concat(t),function(u){const y=u.filter(x=>x instanceof T6).length,w=u.filter(x=>x instanceof w0).length;if(y>1||y>0&&w>0)throw new Lt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)r=u._apply(r);return r}class w0 extends l4{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new w0(e,t,s)}_apply(e){const t=this._parse(e);return Ac(e._query,t),new Ws(e.firestore,e.converter,J3(e._query,t))}_parse(e){const t=e3(e.firestore);return function(u,y,w,x,U,J,oe){let Ie;if(U.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new Lt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Vl(oe,J);const lt=[];for(const kt of oe)lt.push(Pl(x,u,kt));Ie={arrayValue:{values:lt}}}else Ie=Pl(x,u,oe)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Vl(oe,J),Ie=J8(w,"where",oe,"in"===J||"not-in"===J);return u1.create(U,J,Ie)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class T6 extends Tc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new T6(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:H1.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,u){let y=s;const w=u.getFlattenedFilters();for(const x of w)Ac(y,x),y=J3(y,x)}(e._query,t),new Ws(e.firestore,e.converter,J3(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class D0 extends l4{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new D0(e,t)}_apply(e){const t=function(s,u,y){if(null!==s.startAt)throw new Lt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Lt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new ba(u,y);return function(x,U){if(null===Y3(x)){const J=p4(x);null!==J&&A6(0,J,U.field)}}(s,w),w}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(s,u){const y=s.explicitOrderBy.concat([u]);return new xo(s.path,s.collectionGroup,y,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class Zo extends l4{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Zo(e,t,s)}_apply(e){return new Ws(e.firestore,e.converter,zs(e._query,this._limit,this._limitType))}}class Wo extends l4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Wo(e,t,s)}_apply(e){const t=kl(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(u=t,new xo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)));var s,u}}class E0 extends l4{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new E0(e,t,s)}_apply(e){const t=kl(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(u=t,new xo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)));var s,u}}function kl(r,e,t,s){if(t[0]=(0,Ye.m9)(t[0]),t[0]instanceof M0)return function(u,y,w,x,U){if(!x)throw new Lt(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const J=[];for(const oe of zo(u))if(oe.field.isKeyField())J.push(ji(y,x.key));else{const Ie=x.data.field(oe.field);if(k1(Ie))throw new Lt(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ie){const lt=oe.field.canonicalString();throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}J.push(Ie)}return new o1(J,U)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const u=e3(r.firestore);return function(y,w,x,U,J,oe){const Ie=y.explicitOrderBy;if(J.length>Ie.length)throw new Lt(ht.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let kt=0;kt<J.length;kt++){const Ut=J[kt];if(Ie[kt].field.isKeyField()){if("string"!=typeof Ut)throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof Ut}`);if(!h3(y)&&-1!==Ut.indexOf("/"))throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${Ut}' contains a slash.`);const N1=y.path.child(Vn.fromString(Ut));if(!qt.isDocumentKey(N1))throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${N1}' is not because it contains an odd number of segments.`);const X1=new qt(N1);lt.push(ji(w,X1))}else{const N1=J8(x,U,Ut);lt.push(N1)}}return new o1(lt,oe)}(r._query,r.firestore._databaseId,u,e,t,s)}}function Pl(r,e,t){if("string"==typeof(t=(0,Ye.m9)(t))){if(""===t)throw new Lt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h3(e)&&-1!==t.indexOf("/"))throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Vn.fromString(t));if(!qt.isDocumentKey(s))throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ji(r,new qt(s))}if(t instanceof vr)return ji(r,t._key);throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(t)}.`)}function Vl(r,e){if(!Array.isArray(r)||0===r.length)throw new Lt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Lt(ht.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ac(r,e){if(e.isInequality()){const s=p4(r),u=e.field;if(null!==s&&!s.isEqual(u))throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${u.toString()}'`);const y=Y3(r);null!==y&&A6(0,u,y)}const t=function(s,u){for(const y of s)for(const w of y.getFlattenedFilters())if(u.indexOf(w.op)>=0)return w.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Lt(ht.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function A6(r,e,t){if(!t.isEqual(e))throw new Lt(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ic{convertValue(e,t="none"){switch(h2(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(j1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw t1()}}convertObject(e,t){const s={};return g(e.fields,(u,y)=>{s[u]=this.convertValue(y,t)}),s}convertGeoPoint(e){return new N6(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Q1(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(un(e));default:return null}}convertTimestamp(e){const t=_t(e);return new S2(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Vn.fromString(e);p1(r6(s));const u=new l(s.get(1),s.get(3)),y=new qt(s.popFirst(5));return u.isEqual(t)||bi(`Document ${y} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),y}}function xc(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Fl extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,t)}}class r3{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends M0{constructor(e,t,s,u,y,w){super(e,t,s,u,w),this._firestore=e,this._firestoreImpl=e,this.metadata=y}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new S0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Nc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class S0 extends ma{data(e={}){return super.data(e)}}class A4{constructor(e,t,s,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new r3(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new S0(this._firestore,this._userDataWriter,s.key,s,new r3(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let y=0;return s._snapshot.docChanges.map(w=>({type:"added",doc:new S0(s._firestore,s._userDataWriter,w.doc.key,w.doc,new r3(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:y++}))}{let y=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(w=>u||3!==w.type).map(w=>{const x=new S0(s._firestore,s._userDataWriter,w.doc.key,w.doc,new r3(s._snapshot.mutatedKeys.has(w.doc.key),s._snapshot.fromCache),s.query.converter);let U=-1,J=-1;return 0!==w.type&&(U=y.indexOf(w.doc.key),y=y.delete(w.doc.key)),1!==w.type&&(y=y.add(w.doc),J=y.indexOf(w.doc.key)),{type:Bl(w.type),doc:x,oldIndex:U,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Bl(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return t1()}}function zc(r,e){return r instanceof ma&&e instanceof ma?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof A4&&e instanceof A4&&r._firestore===e._firestore&&F8(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class I4 extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,t)}}function t5(r,e,t){r=l2(r,vr);const s=l2(r.firestore,yr),u=xc(r.converter,e,t);return I6(s,[_0(e3(s),"setDoc",r._key,u,null!==r.converter,t).toMutation(r._key,$i.none())])}function n5(r,e,t,...s){r=l2(r,vr);const u=l2(r.firestore,yr),y=e3(u);let w;return w="string"==typeof(e=(0,Ye.m9)(e))||e instanceof c4?Ec(y,"updateDoc",r._key,e,t,s):Dc(y,"updateDoc",r._key,e),I6(u,[w.toMutation(r._key,$i.exists(!0))])}function Wl(r,...e){var t,s,u;r=(0,Ye.m9)(r);let y={includeMetadataChanges:!1},w=0;"object"!=typeof e[w]||bc(e[w])||(y=e[w],w++);const x={includeMetadataChanges:y.includeMetadataChanges};if(bc(e[w])){const Ie=e[w];e[w]=null===(t=Ie.next)||void 0===t?void 0:t.bind(Ie),e[w+1]=null===(s=Ie.error)||void 0===s?void 0:s.bind(Ie),e[w+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let U,J,oe;if(r instanceof vr)J=l2(r.firestore,yr),oe=xs(r._key.path),U={next:Ie=>{e[w]&&e[w](i5(J,r,Ie))},error:e[w+1],complete:e[w+2]};else{const Ie=l2(r,Ws);J=l2(Ie.firestore,yr),oe=Ie._query;const lt=new I4(J);U={next:kt=>{e[w]&&e[w](new A4(J,lt,Ie,kt))},error:e[w+1],complete:e[w+2]},X8(r._query)}return function(Ie,lt,kt,Ut){const N1=new yc(Ut),X1=new y6(lt,N1,kt);return Ie.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return s4(yield Fa(Ie),X1)})),()=>{N1.bc(),Ie.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return g8(yield Fa(Ie),X1)}))}}(os(J),oe,x,U)}function I6(r,e){return function(t,s){const u=new H2;return t.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function el(r,e,t){return oc.apply(this,arguments)}(yield Q4(t),s,u)})),u.promise}(os(r),e)}function i5(r,e,t){const s=t.docs.get(e._key),u=new I4(r);return new ma(r,u,e._key,s,new r3(t.hasPendingWrites,t.fromCache),e.converter)}const hu={maxAttempts:5};class ql{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=e3(e)}set(e,t,s){this._verifyNotCommitted();const u=s3(e,this._firestore),y=xc(u.converter,t,s),w=_0(this._dataReader,"WriteBatch.set",u._key,y,null!==u.converter,s);return this._mutations.push(w.toMutation(u._key,$i.none())),this}update(e,t,s,...u){this._verifyNotCommitted();const y=s3(e,this._firestore);let w;return w="string"==typeof(t=(0,Ye.m9)(t))||t instanceof c4?Ec(this._dataReader,"WriteBatch.update",y._key,t,s,u):Dc(this._dataReader,"WriteBatch.update",y._key,t),this._mutations.push(w.toMutation(y._key,$i.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=s3(e,this._firestore);return this._mutations=this._mutations.concat(new Ea(t._key,$i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function s3(r,e){if((r=(0,Ye.m9)(r)).firestore!==e)throw new Lt(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class pu extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=e3(e)}get(e){const t=s3(e,this._firestore),s=new Fl(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return t1();const y=u[0];if(y.isFoundDocument())return new M0(this._firestore,s,y.key,y,t.converter);if(y.isNoDocument())return new M0(this._firestore,s,t._key,null,t.converter);throw t1()})}set(e,t,s){const u=s3(e,this._firestore),y=xc(u.converter,t,s),w=_0(this._dataReader,"Transaction.set",u._key,y,null!==u.converter,s);return this._transaction.set(u._key,w),this}update(e,t,s,...u){const y=s3(e,this._firestore);let w;return w="string"==typeof(t=(0,Ye.m9)(t))||t instanceof c4?Ec(this._dataReader,"Transaction.update",y._key,t,s,u):Dc(this._dataReader,"Transaction.update",y._key,t),this._transaction.update(y._key,w),this}delete(e){const t=s3(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=s3(e,this._firestore),s=new I4(this._firestore);return super.get(e).then(u=>new ma(this._firestore,s,t._key,u._document,new r3(!1,!1),t.converter))}}function Oc(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Lt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function s5(){if(typeof Uint8Array>"u")throw new Lt("unimplemented","Uint8Arrays are not available in this environment.")}function o5(){if(!function ue(){return typeof atob<"u"}())throw new Lt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){ei=Kt.SDK_VERSION,(0,Kt._registerComponent)(new it.wA("firestore",(t,{instanceIdentifier:s,options:u})=>{const y=t.getProvider("app").getImmediate(),w=new yr(new _o(t.getProvider("auth-internal")),new F2(t.getProvider("app-check-internal")),function(x,U){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Lt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new l(x.options.projectId,U)}(y,s),y);return u=Object.assign({useFetchStreams:e},u),w._setSettings(u),w},"PUBLIC").setMultipleInstances(!0)),(0,Kt.registerVersion)(yo,"3.8.0",r),(0,Kt.registerVersion)(yo,"3.8.0","esm2017")}();class x6{constructor(e){this._delegate=e}static fromBase64String(e){return o5(),new x6(pa.fromBase64String(e))}static fromUint8Array(e){return s5(),new x6(pa.fromUint8Array(e))}toBase64(){return o5(),this._delegate.toBase64()}toUint8Array(){return s5(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function N0(r){return function Jl(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class U3{enableIndexedDbPersistence(e,t){return function j8(r,e){W8(r=l2(r,yr));const t=os(r),s=r._freezeSettings(),u=new k3;return wl(t,u,new m0(u,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function G8(r){W8(r=l2(r,yr));const e=os(r),t=r._freezeSettings(),s=new k3;return wl(e,s,new hc(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Cc(r){if(r._initialized&&!r._terminated)throw new Lt(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new H2;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Oe.Z)(function*(){try{yield(t=(0,Oe.Z)(function*(s){if(!Wn.C())return Promise.resolve();const u=s+"main";yield Wn.delete(u)}),function(s){return t.apply(this,arguments)})(Jc(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ql{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof l||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function dl(r,e,t,s={}){var u;const y=(r=l2(r,gc))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==e&&ts("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},y),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let w,x;if("string"==typeof s.mockUserToken)w=s.mockUserToken,x=Ti.MOCK_USER;else{w=(0,Ye.Sg)(s.mockUserToken,null===(u=r._app)||void 0===u?void 0:u.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new Lt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ti(U)}r._authCredentials=new Pr(new Ai(w,x))}}(this._delegate,e,t,s)}enableNetwork(){return function $8(r){return function D6(r){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield $o(r),t=yield J4(r);return e.setNetworkEnabled(!0),function(s){const u=Jt(s);return u._u.delete(0),Y4(u)}(t)}))}(os(r=l2(r,yr)))}(this._delegate)}disableNetwork(){return function nu(r){return function E6(r){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){const e=yield $o(r),t=yield J4(r);return e.setNetworkEnabled(!1),(s=(0,Oe.Z)(function*(u){const y=Jt(u);y._u.add(0),yield z3(y),y.gu.set("Offline")}),function(u){return s.apply(this,arguments)})(t);var s}))}(os(r=l2(r,yr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,pc("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Mc(r){return function(e){const t=new H2;return e.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return function Z7(r,e){return A8.apply(this,arguments)}(yield Q4(e),t)})),t.promise}(os(r=l2(r,yr)))}(this._delegate)}onSnapshotsInSync(e){return function fu(r,e){return function vl(r,e){const t=new yc(e);return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return s=yield Fa(r),u=t,Jt(s).Ru.add(u),void u.next();var s,u})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return s=yield Fa(r),u=t,void Jt(s).Ru.delete(u);var s,u}))}}(os(r=l2(r,yr)),bc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Lt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new x4(this,vc(this._delegate,e))}catch(t){throw mo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ga(this,C6(this._delegate,e))}catch(t){throw mo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new go(this,function Q7(r,e){if(r=l2(r,gc),V8("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Lt(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(r,null,(t=e,new xo(Vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw mo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mu(r,e,t){r=l2(r,yr);const s=Object.assign(Object.assign({},hu),t);return function(u){if(u.maxAttempts<1)throw new Lt(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,y,w){const x=new H2;return u.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){const U=yield function H3(r){return a4(r).then(e=>e.datastore)}(u);new g0(u.asyncQueue,U,w,y,x).run()})),x.promise}(os(r),u=>e(new pu(r,u)),s)}(this._delegate,t=>e(new wu(this,t)))}batch(){return os(this._delegate),new kc(new ql(this._delegate,e=>I6(this._delegate,e)))}loadBundle(e){return function Z8(r,e){const t=os(r=l2(r,yr)),s=new Cl;return function yl(r,e,t,s){const u=function(y,w){let x;return x="string"==typeof y?(new TextEncoder).encode(y):y,U=function(U,J){if(U instanceof Uint8Array)return hl(U,J);if(U instanceof ArrayBuffer)return hl(new Uint8Array(U),J);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new X7(U,w);var U}(t,h6(e));r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){!function P8(r,e,t){const s=Jt(r);var u;(u=(0,Oe.Z)(function*(y,w,x){try{const U=yield w.getMetadata();if(yield function(lt,kt){const Ut=Jt(lt),N1=Mi(kt.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",X1=>Ut.Ns.getBundleMetadata(X1,kt.id)).then(X1=>!!X1&&X1.createTime.compareTo(N1)>=0)}(y.localStore,U))return yield w.close(),x._completeWith({taskState:"Success",documentsLoaded:(lt=U).totalDocuments,bytesLoaded:lt.totalBytes,totalDocuments:lt.totalDocuments,totalBytes:lt.totalBytes}),Promise.resolve(new Set);x._updateProgress(sc(U));const J=new b6(U,y.localStore,w.yt);let oe=yield w.mc();for(;oe;){const lt=yield J.Fu(oe);lt&&x._updateProgress(lt),oe=yield w.mc()}const Ie=yield J.complete();return yield N4(y,Ie.Lu,void 0),yield function(lt,kt){const Ut=Jt(lt);return Ut.persistence.runTransaction("Save bundle","readwrite",N1=>Ut.Ns.saveBundleMetadata(N1,kt))}(y.localStore,U),x._completeWith(Ie.progress),Promise.resolve(Ie.Bu)}catch(U){return ts("SyncEngine",`Loading bundle failed with ${U}`),x._failWith(U),Promise.resolve(new Set)}var lt}),function(y,w,x){return u.apply(this,arguments)})(s,e,t).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Q4(r),u,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function El(r,e){return function _l(r,e){return r.asyncQueue.enqueue((0,Oe.Z)(function*(){return function(t,s){const u=Jt(t);return u.persistence.runTransaction("Get named query","readonly",y=>u.Ns.getNamedQuery(y,s))}(yield w6(r),e)}))}(os(r=l2(r,yr)),e).then(t=>t?new Ws(r,null,t.query):null)}(this._delegate,e).then(t=>t?new go(this,t):null)}}class Rc extends Ic{constructor(e){super(),this.firestore=e}convertBytes(e){return new x6(new pa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ga.forKey(t,this.firestore,null)}}class wu{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rc(e)}get(e){const t=u4(e);return this._delegate.get(t).then(s=>new T0(this._firestore,new ma(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const u=u4(e);return s?(Oc("Transaction.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const y=u4(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,s,...u),this}delete(e){const t=u4(e);return this._delegate.delete(t),this}}class kc{constructor(e){this._delegate=e}set(e,t,s){const u=u4(e);return s?(Oc("WriteBatch.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const y=u4(e);return 2===arguments.length?this._delegate.update(y,t):this._delegate.update(y,t,s,...u),this}delete(e){const t=u4(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class L6{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new S0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new A0(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=L6.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let y=u.get(t);return y||(y=new L6(e,new Rc(e),t),u.set(t,y)),y}}L6.INSTANCES=new WeakMap;class ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rc(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Lt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ga(t,new vr(t._delegate,s,new qt(e)))}static forKey(e,t,s){return new ga(t,new vr(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new x4(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new x4(this.firestore,vc(this._delegate,e))}catch(t){throw mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ye.m9)(e))instanceof vr&&fl(this._delegate,e)}set(e,t){t=Oc("DocumentReference.set",t);try{return t?t5(this._delegate,e,t):t5(this._delegate,e)}catch(s){throw mo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?n5(this._delegate,e):n5(this._delegate,e,t,...s)}catch(u){throw mo(u,"updateDoc()","DocumentReference.update()")}}delete(){return function uu(r){return I6(l2(r.firestore,yr),[new Ea(r._key,$i.none())])}(this._delegate)}onSnapshot(...e){const t=Du(e),s=_n(e,u=>new T0(this.firestore,new ma(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Wl(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function Ul(r){r=l2(r,vr);const e=l2(r.firestore,yr),t=os(e),s=new I4(e);return function S6(r,e){const t=new H2;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(s=(0,Oe.Z)(function*(u,y,w){try{const x=yield function(U,J){const oe=Jt(U);return oe.persistence.runTransaction("read document","readonly",Ie=>oe.localDocuments.getDocument(Ie,J))}(u,y);x.isFoundDocument()?w.resolve(x):x.isNoDocument()?w.resolve(null):w.reject(new Lt(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const U=v6(x,`Failed to get document '${y} from cache`);w.reject(U)}}),function(u,y,w){return s.apply(this,arguments)})(yield w6(r),e,t);var s})),t.promise}(t,r._key).then(u=>new ma(e,s,r._key,u,new r3(null!==u&&u.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function jl(r){r=l2(r,vr);const e=l2(r.firestore,yr);return F3(os(e),r._key,{source:"server"}).then(t=>i5(e,r,t))}(this._delegate):function Lc(r){r=l2(r,vr);const e=l2(r.firestore,yr);return F3(os(e),r._key).then(t=>i5(e,r,t))}(this._delegate),t.then(s=>new T0(this.firestore,new ma(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new ga(this.firestore,this._delegate.withConverter(e?L6.getInstance(this.firestore,e):null))}}function mo(r,e,t){return r.message=r.message.replace(e,t),r}function Du(r){for(const e of r)if("object"==typeof e&&!N0(e))return e;return{}}function _n(r,e){var t,s;let u;return u=N0(r[0])?r[0]:N0(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:y=>{u.next&&u.next(e(y))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class T0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zc(this._delegate,e._delegate)}}class A0 extends T0{data(e){const t=this._delegate.data(e);return function fr(r,e){r||t1()}(void 0!==t),t}}class go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rc(e)}where(e,t,s){try{return new go(this.firestore,n3(this._delegate,function zl(r,e,t){const s=e,u=Nc("where",r);return w0._create(u,s,t)}(e,t,s)))}catch(u){throw mo(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new go(this.firestore,n3(this._delegate,function e5(r,e="asc"){const t=e,s=Nc("orderBy",r);return D0._create(s,t)}(e,t)))}catch(s){throw mo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new go(this.firestore,n3(this._delegate,function cu(r){return ll("limit",r),Zo._create("limit",r,"F")}(e)))}catch(t){throw mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new go(this.firestore,n3(this._delegate,function Ol(r){return ll("limitToLast",r),Zo._create("limitToLast",r,"L")}(e)))}catch(t){throw mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new go(this.firestore,n3(this._delegate,function Ba(...r){return Wo._create("startAt",r,!0)}(...e)))}catch(t){throw mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new go(this.firestore,n3(this._delegate,function Ua(...r){return Wo._create("startAfter",r,!1)}(...e)))}catch(t){throw mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new go(this.firestore,n3(this._delegate,function Rl(...r){return E0._create("endBefore",r,!1)}(...e)))}catch(t){throw mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new go(this.firestore,n3(this._delegate,function lu(...r){return E0._create("endAt",r,!0)}(...e)))}catch(t){throw mo(t,"endAt()","Query.endAt()")}}isEqual(e){return F8(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function $l(r){r=l2(r,Ws);const e=l2(r.firestore,yr),t=os(e),s=new I4(e);return function gl(r,e){const t=new H2;return r.asyncQueue.enqueueAndForget((0,Oe.Z)(function*(){return(s=(0,Oe.Z)(function*(u,y,w){try{const x=yield n4(u,y,!0),U=new b8(y,x.Hi),J=U.Wu(x.documents),oe=U.applyChanges(J,!1);w.resolve(oe.snapshot)}catch(x){const U=v6(x,`Failed to execute query '${y} against cache`);w.reject(U)}}),function(u,y,w){return s.apply(this,arguments)})(yield w6(r),e,t);var s})),t.promise}(t,r._query).then(u=>new A4(e,s,r,u))}(this._delegate):"server"===e?.source?function Zl(r){r=l2(r,Ws);const e=l2(r.firestore,yr),t=os(e),s=new I4(e);return B8(t,r._query,{source:"server"}).then(u=>new A4(e,s,r,u))}(this._delegate):function Gl(r){r=l2(r,Ws);const e=l2(r.firestore,yr),t=os(e),s=new I4(e);return X8(r._query),B8(t,r._query).then(u=>new A4(e,s,r,u))}(this._delegate),t.then(s=>new a5(this.firestore,new A4(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Du(e),s=_n(e,u=>new a5(this.firestore,new A4(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Wl(this._delegate,t,s)}withConverter(e){return new go(this.firestore,this._delegate.withConverter(e?L6.getInstance(this.firestore,e):null))}}class O6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new A0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class a5{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new A0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new O6(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new A0(this._firestore,s))})}isEqual(e){return zc(this._delegate,e._delegate)}}class x4 extends go{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ga(this.firestore,e):null}doc(e){try{return new ga(this.firestore,void 0===e?C6(this._delegate):C6(this._delegate,e))}catch(t){throw mo(t,"doc()","CollectionReference.doc()")}}add(e){return function du(r,e){const t=l2(r.firestore,yr),s=C6(r),u=xc(r.converter,e);return I6(t,[_0(e3(r.firestore),"addDoc",s._key,u,null!==r.converter,{}).toMutation(s._key,$i.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new ga(this.firestore,t))}isEqual(e){return fl(this._delegate,e._delegate)}withConverter(e){return new x4(this.firestore,this._delegate.withConverter(e?L6.getInstance(this.firestore,e):null))}}function u4(r){return l2(r,vr)}class Ar{constructor(...e){this._delegate=new c4(...e)}static documentId(){return new Ar(Sn.keyField().canonicalString())}isEqual(e){return(e=(0,Ye.m9)(e))instanceof c4&&this._delegate._internalPath.isEqual(e._internalPath)}}class R6{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vu(){return new wc("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new R6(e)}static delete(){const e=function gu(){return new B3("deleteField")}();return e._methodName="FieldValue.delete",new R6(e)}static arrayUnion(...e){const t=function yu(...r){return new Nl("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new R6(t)}static arrayRemove(...e){const t=function _u(...r){return new Y8("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new R6(t)}static increment(e){const t=function bu(r){return new Tl("increment",r)}(e);return t._methodName="FieldValue.increment",new R6(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Xl={Firestore:Ql,GeoPoint:N6,Timestamp:S2,Blob:x6,Transaction:wu,WriteBatch:kc,DocumentReference:ga,DocumentSnapshot:T0,Query:go,QueryDocumentSnapshot:A0,QuerySnapshot:a5,CollectionReference:x4,FieldPath:Ar,FieldValue:R6,setLogLevel:function z6(r){!function qr(r){kr.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function Eu(r){(function e7(r,e){r.INTERNAL.registerComponent(new it.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},Xl)))})(r,(e,t)=>new Ql(e,t,new U3)),r.registerVersion("@firebase/firestore-compat","0.3.0")}(nt.Z);var z4=H(3385),t7=H(6217),n7=H(9260);function r7(r,e){return function i7(r,e=D.z){return new Q.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function c5(r,e){return r7(r,e).pipe((0,fe.U)(t=>({payload:t,type:"query"})))}function o3(r,e){return c5(r,e).pipe((0,le.O)(void 0),de(),(0,fe.U)(([t,s])=>{const u=s.payload.docChanges(),y=u.map(w=>({type:w.type,payload:w}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((w,x)=>{const U=u.find(oe=>oe.doc.ref.isEqual(w.ref)),J=t?.payload.docs.find(oe=>oe.ref.isEqual(w.ref));U&&JSON.stringify(U.doc.metadata)===JSON.stringify(w.metadata)||!U&&J&&JSON.stringify(J.metadata)===JSON.stringify(w.metadata)||y.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:w}})}),y}))}function s7(r,e,t){return o3(r,t).pipe((0,Ne.R)((s,u)=>function Nu(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function Pc(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return l5(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return l5(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return l5(r,e.oldIndex,1)}return r}(r,s))}),r}(s,u.map(y=>y.payload),e),[]),(0,Xe.x)(),(0,fe.U)(s=>s.map(u=>({type:u.type,payload:u}))))}function l5(r,e,t,...s){const u=r.slice();return u.splice(e,t,...s),u}function u5(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class d5{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=o3(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,fe.U)(s=>s.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,le.O)(void 0),de(),(0,et.h)(([s,u])=>u.length>0||!s),(0,fe.U)(([s,u])=>u),De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=u5(e);return s7(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return c5(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),De.iC)}get(e){return(0,Me.D)(this.query.get(e)).pipe(De.iC)}add(e){return this.ref.add(e)}doc(e){return new f5(this.ref.doc(e),this.afs)}}class f5{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:u,query:y}=o7(s,t);return new d5(u,y,this.afs)}snapshotChanges(){return function Su(r,e){return r7(r,e).pipe((0,le.O)(void 0),de(),(0,fe.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Me.D)(this.ref.get(e)).pipe(De.iC)}}class Tu{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?o3(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,et.h)(t=>t.length>0),De.iC):o3(this.query,this.afs.schedulers.outsideAngular).pipe(De.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=u5(e);return s7(this.query,t,this.afs.schedulers.outsideAngular).pipe(De.iC)}valueChanges(e={}){return c5(this.query,this.afs.schedulers.outsideAngular).pipe((0,fe.U)(s=>s.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),De.iC)}get(e){return(0,Me.D)(this.query.get(e)).pipe(De.iC)}}const k6=new d.OlP("angularfire2.enableFirestorePersistence"),P6=new d.OlP("angularfire2.firestore.persistenceSettings"),Au=new d.OlP("angularfire2.firestore.settings"),Iu=new d.OlP("angularfire2.firestore.use-emulator");function o7(r,e=(t=>t)){return{query:e(r),ref:r}}let h5=(()=>{class r{constructor(t,s,u,y,w,x,U,J,oe,Ie,lt,kt,Ut,N1,X1,Hi,Ir){this.schedulers=U;const U2=(0,Ze.on)(t,x,s),jr=oe;Ie&&(0,z4.nw)(U2,x,lt,Ut,N1,X1,kt,Hi),[this.firestore,this.persistenceEnabled$]=(0,Ze.cc)(`${U2.name}.firestore`,"AngularFirestore",U2.name,()=>{const K2=x.runOutsideAngular(()=>U2.firestore());if(y&&K2.settings(y),jr&&K2.useEmulator(...jr),u&&!(0,Pt.PM)(w)){const ii=()=>{try{return(0,Me.D)(K2.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(Gr){return typeof console<"u"&&console.warn(Gr),(0,Ee.of)(!1)}};return[K2,x.runOutsideAngular(ii)]}return[K2,(0,Ee.of)(!1)]},[y,jr,u])}collection(t,s){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:y,query:w}=o7(u,s),x=this.schedulers.ngZone.run(()=>y);return new d5(x,w,this)}collectionGroup(t,s){const u=s||(w=>w),y=this.firestore.collectionGroup(t);return new Tu(u(y),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>s);return new f5(u,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(Ze.Dh),d.LFG(Ze.xv,8),d.LFG(k6,8),d.LFG(Au,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(De.HU),d.LFG(P6,8),d.LFG(Iu,8),d.LFG(z4.zQ,8),d.LFG(z4.Qv,8),d.LFG(z4.L6,8),d.LFG(z4._Q,8),d.LFG(z4.rT,8),d.LFG(z4.lh,8),d.LFG(z4.f7,8),d.LFG(t7.nm,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),a7=(()=>{class r{constructor(){n7.Z.registerVersion("angularfire",De.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:k6,useValue:!0},{provide:P6,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[h5]}),r})()},2011:(Qt,We,H)=>{H.d(We,{Dh:()=>Ae,GT:()=>De,cc:()=>et,hO:()=>Xe,on:()=>de,pX:()=>Ee,xv:()=>ze});var d=H(4650),D=H(9260),Q=H(2122);Qt=H.hmd(Qt);const Me=["ngOnDestroy"],Ee=(nt,Oe,Kt,it={})=>new Proxy(nt,{get:(ct,Ye)=>Kt.runOutsideAngular(()=>{var It;if(nt[Ye])return!(null===(It=it?.spy)||void 0===It)&&It.get&&it.spy.get(Ye,nt[Ye]),nt[Ye];if(Me.indexOf(Ye)>-1)return()=>{};const mt=Oe.toPromise().then(re=>{const Ke=re&&re[Ye];return"function"==typeof Ke?Ke.bind(re):Ke&&Ke.then?Ke.then(_e=>Kt.run(()=>_e)):Kt.run(()=>Ke)});return new Proxy(()=>{},{get:(re,Ke)=>mt[Ke],apply:(re,Ke,_e)=>mt.then(Te=>{var Qe;const Re=Te&&Te(..._e);return!(null===(Qe=it?.spy)||void 0===Qe)&&Qe.apply&&it.spy.apply(Ye,_e,Re),Re})})})}),De=(nt,Oe)=>{Oe.forEach(Kt=>{Object.getOwnPropertyNames(Kt.prototype||Kt).forEach(it=>{Object.defineProperty(nt.prototype,it,Object.getOwnPropertyDescriptor(Kt.prototype||Kt,it))})})};class le{constructor(Oe){return Oe}}const Ae=new d.OlP("angularfire2.app.options"),ze=new d.OlP("angularfire2.app.name");function de(nt,Oe,Kt){const ct="object"==typeof Kt&&Kt||{};ct.name=ct.name||"string"==typeof Kt&&Kt||"[DEFAULT]";const It=D.Z.apps.filter(mt=>mt&&mt.name===ct.name)[0]||Oe.runOutsideAngular(()=>D.Z.initializeApp(nt,ct));try{JSON.stringify(nt)!==JSON.stringify(It.options)&&fe("error",`${It.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(It)}const fe=(nt,...Oe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[nt](...Oe)},Ne={provide:le,useFactory:de,deps:[Ae,d.R0b,[new d.FiY,ze]]};let Xe=(()=>{class nt{constructor(Kt){D.Z.registerVersion("angularfire",Q.q4.full,"core"),D.Z.registerVersion("angularfire",Q.q4.full,"app-compat"),D.Z.registerVersion("angular",d.q4F.full,Kt.toString())}static initializeApp(Kt,it){return{ngModule:nt,providers:[{provide:Ae,useValue:Kt},{provide:ze,useValue:it}]}}}return nt.\u0275fac=function(Kt){return new(Kt||nt)(d.LFG(d.Lbi))},nt.\u0275mod=d.oAB({type:nt}),nt.\u0275inj=d.cJS({providers:[Ne]}),nt})();function et(nt,Oe,Kt,it,ct){const[,Ye,It]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===nt)||[];if(Ye)return function Ze(nt,Oe){try{return nt.toString()===Oe.toString()}catch{return nt===Oe}}(ct,It)||(rt("error",`${Oe} was already initialized on the ${Kt} Firebase App with different settings.${Pt?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:ct,was:It})),Ye;{const mt=it();return globalThis.\u0275AngularfireInstanceCache.push([nt,mt,ct]),mt}}const Pt=!!Qt.hot,rt=(nt,...Oe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[nt](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Qt,We,H)=>{H.d(We,{q4:()=>A,iC:()=>Is,HU:()=>is,vb:()=>Ln,JM:()=>un});var d=H(4650),D=H(259),Q=H(5861),Me=H(9681),Ee=H(2090),De=H(4859),le=H(1877),Ae=H(8766);const ze="@firebase/installations",Ne="w:0.6.0",Xe="FIS_v2",Oe=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Kt(P){return P instanceof Ee.ZR&&P.code.includes("request-failed")}function it({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function ct(P){return{token:P.token,requestStatus:2,expiresIn:Te(P.expiresIn),creationTime:Date.now()}}function Ye(P,V){return It.apply(this,arguments)}function It(){return(It=(0,Q.Z)(function*(P,V){const se=(yield V.json()).error;return Oe.create("request-failed",{requestName:P,serverCode:se.code,serverMessage:se.message,serverStatus:se.status})})).apply(this,arguments)}function mt({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function re(P,{refreshToken:V}){const Y=mt(P);return Y.append("Authorization",function Qe(P){return`${Xe} ${P}`}(V)),Y}function Ke(P){return _e.apply(this,arguments)}function _e(){return(_e=(0,Q.Z)(function*(P){const V=yield P();return V.status>=500&&V.status<600?P():V})).apply(this,arguments)}function Te(P){return Number(P.replace("s","000"))}function Re(P,V){return St.apply(this,arguments)}function St(){return(St=(0,Q.Z)(function*({appConfig:P,heartbeatServiceProvider:V},{fid:Y}){const se=it(P),Pe=mt(P),tt=V.getImmediate({optional:!0});if(tt){const c1=yield tt.getHeartbeatsHeader();c1&&Pe.append("x-firebase-client",c1)}const o1={method:"POST",headers:Pe,body:JSON.stringify({fid:Y,authVersion:Xe,appId:P.appId,sdkVersion:Ne})},C1=yield Ke(()=>fetch(se,o1));if(C1.ok){const c1=yield C1.json();return{fid:c1.fid||Y,registrationStatus:2,refreshToken:c1.refreshToken,authToken:ct(c1.authToken)}}throw yield Ye("Create Installation",C1)})).apply(this,arguments)}function Tt(P){return new Promise(V=>{setTimeout(V,P)})}const L1=/^[cdef][\w-]{21}$/;function xt(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const Y=function g1(P){return function f1(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return L1.test(Y)?Y:""}catch{return""}}function y1(P){return`${P.appName}!${P.appId}`}const _1=new Map;function v1(P,V){const Y=y1(P);nn(Y,V),function gn(P,V){const Y=function xn(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=P=>{nn(P.data.key,P.data.fid)}),wn}();Y&&Y.postMessage({key:P,fid:V}),function jn(){0===_1.size&&wn&&(wn.close(),wn=null)}()}(Y,V)}function nn(P,V){const Y=_1.get(P);if(Y)for(const se of Y)se(V)}let wn=null;const V1="firebase-installations-store";let fn=null;function Jn(){return fn||(fn=(0,Ae.X3)("firebase-installations-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(V1)}})),fn}function Vt(P,V){return vn.apply(this,arguments)}function vn(){return(vn=(0,Q.Z)(function*(P,V){const Y=y1(P),Pe=(yield Jn()).transaction(V1,"readwrite"),tt=Pe.objectStore(V1),zt=yield tt.get(Y);return yield tt.put(V,Y),yield Pe.done,(!zt||zt.fid!==V.fid)&&v1(P,V.fid),V})).apply(this,arguments)}function bn(P){return cn.apply(this,arguments)}function cn(){return(cn=(0,Q.Z)(function*(P){const V=y1(P),se=(yield Jn()).transaction(V1,"readwrite");yield se.objectStore(V1).delete(V),yield se.done})).apply(this,arguments)}function N2(P,V){return O2.apply(this,arguments)}function O2(){return(O2=(0,Q.Z)(function*(P,V){const Y=y1(P),Pe=(yield Jn()).transaction(V1,"readwrite"),tt=Pe.objectStore(V1),zt=yield tt.get(Y),o1=V(zt);return void 0===o1?yield tt.delete(Y):yield tt.put(o1,Y),yield Pe.done,o1&&(!zt||zt.fid!==o1.fid)&&v1(P,o1.fid),o1})).apply(this,arguments)}function n1(P){return st.apply(this,arguments)}function st(){return(st=(0,Q.Z)(function*(P){let V;const Y=yield N2(P.appConfig,se=>{const Pe=we(se),tt=ge(P,Pe);return V=tt.registrationPromise,tt.installationEntry});return""===Y.fid?{installationEntry:yield V}:{installationEntry:Y,registrationPromise:V}})).apply(this,arguments)}function we(P){return Bt(P||{fid:xt(),registrationStatus:0})}function ge(P,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(Oe.create("app-offline"))};const Y={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},se=function ot(P,V){return vt.apply(this,arguments)}(P,Y);return{installationEntry:Y,registrationPromise:se}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:s1(P)}:{installationEntry:V}}function vt(){return(vt=(0,Q.Z)(function*(P,V){try{const Y=yield Re(P,V);return Vt(P.appConfig,Y)}catch(Y){throw Kt(Y)&&409===Y.customData.serverCode?yield bn(P.appConfig):yield Vt(P.appConfig,{fid:V.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function s1(P){return h1.apply(this,arguments)}function h1(){return(h1=(0,Q.Z)(function*(P){let V=yield a1(P.appConfig);for(;1===V.registrationStatus;)yield Tt(100),V=yield a1(P.appConfig);if(0===V.registrationStatus){const{installationEntry:Y,registrationPromise:se}=yield n1(P);return se||Y}return V})).apply(this,arguments)}function a1(P){return N2(P,V=>{if(!V)throw Oe.create("installation-not-found");return Bt(V)})}function Bt(P){return function hn(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function $1(P,V){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Q.Z)(function*({appConfig:P,heartbeatServiceProvider:V},Y){const se=q1(P,Y),Pe=re(P,Y),tt=V.getImmediate({optional:!0});if(tt){const c1=yield tt.getHeartbeatsHeader();c1&&Pe.append("x-firebase-client",c1)}const o1={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:Ne,appId:P.appId}})},C1=yield Ke(()=>fetch(se,o1));if(C1.ok)return ct(yield C1.json());throw yield Ye("Generate Auth Token",C1)})).apply(this,arguments)}function q1(P,{fid:V}){return`${it(P)}/${V}/authTokens:generate`}function U1(P){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,Q.Z)(function*(P,V=!1){let Y;const se=yield N2(P.appConfig,tt=>{if(!I1(tt))throw Oe.create("not-registered");const zt=tt.authToken;if(!V&&Se(zt))return tt;if(1===zt.requestStatus)return Y=r1(P,V),tt;{if(!navigator.onLine)throw Oe.create("app-offline");const o1=xe(tt);return Y=w1(P,o1),o1}});return Y?yield Y:se.authToken})).apply(this,arguments)}function r1(P,V){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,Q.Z)(function*(P,V){let Y=yield Wt(P.appConfig);for(;1===Y.authToken.requestStatus;)yield Tt(100),Y=yield Wt(P.appConfig);const se=Y.authToken;return 0===se.requestStatus?U1(P,V):se})).apply(this,arguments)}function Wt(P){return N2(P,V=>{if(!I1(V))throw Oe.create("not-registered");return function gt(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function w1(P,V){return T1.apply(this,arguments)}function T1(){return(T1=(0,Q.Z)(function*(P,V){try{const Y=yield $1(P,V),se=Object.assign(Object.assign({},V),{authToken:Y});return yield Vt(P.appConfig,se),Y}catch(Y){if(!Kt(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const se=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield Vt(P.appConfig,se)}else yield bn(P.appConfig);throw Y}})).apply(this,arguments)}function I1(P){return void 0!==P&&2===P.registrationStatus}function Se(P){return 2===P.requestStatus&&!function be(P){const V=Date.now();return V<P.creationTime||P.creationTime+P.expiresIn<V+36e5}(P)}function xe(P){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:V})}function jt(){return(jt=(0,Q.Z)(function*(P){const V=P,{installationEntry:Y,registrationPromise:se}=yield n1(V);return se?se.catch(console.error):U1(V).catch(console.error),Y.fid})).apply(this,arguments)}function O1(){return(O1=(0,Q.Z)(function*(P,V=!1){const Y=P;return yield en(Y),(yield U1(Y,V)).token})).apply(this,arguments)}function en(P){return F1.apply(this,arguments)}function F1(){return(F1=(0,Q.Z)(function*(P){const{registrationPromise:V}=yield n1(P);V&&(yield V)})).apply(this,arguments)}function Dn(P){return Oe.create("missing-app-config-values",{valueName:P})}const _2="installations",Mn=P=>{const V=P.getProvider("app").getImmediate(),Y=function W1(P){if(!P||!P.options)throw Dn("App Configuration");if(!P.name)throw Dn("App Name");const V=["projectId","apiKey","appId"];for(const Y of V)if(!P.options[Y])throw Dn(Y);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(V);return{app:V,appConfig:Y,heartbeatServiceProvider:(0,Me._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},u2=P=>{const V=P.getProvider("app").getImmediate(),Y=(0,Me._getProvider)(V,_2).getImmediate();return{getId:()=>function Be(P){return jt.apply(this,arguments)}(Y),getToken:Pe=>function Yt(P){return O1.apply(this,arguments)}(Y,Pe)}};(function hi(){(0,Me._registerComponent)(new De.wA(_2,Mn,"PUBLIC")),(0,Me._registerComponent)(new De.wA("installations-internal",u2,"PRIVATE"))})(),(0,Me.registerVersion)(ze,"0.6.0"),(0,Me.registerVersion)(ze,"0.6.0","esm2017");const T2="@firebase/remote-config",g2=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class as{constructor(V,Y,se,Pe){this.client=V,this.storage=Y,this.storageCache=se,this.logger=Pe}isCachedDataFresh(V,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const se=Date.now()-Y,Pe=se<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${se}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Pe}.`),Pe}fetch(V){var Y=this;return(0,Q.Z)(function*(){const[se,Pe]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(Pe&&Y.isCachedDataFresh(V.cacheMaxAgeMillis,se))return Pe;V.eTag=Pe&&Pe.eTag;const tt=yield Y.client.fetch(V),zt=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&zt.push(Y.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(zt),tt})()}}function V2(P=navigator){return P.languages&&P.languages[0]||P.language}class cs{constructor(V,Y,se,Pe,tt,zt){this.firebaseInstallations=V,this.sdkVersion=Y,this.namespace=se,this.projectId=Pe,this.apiKey=tt,this.appId=zt}fetch(V){var Y=this;return(0,Q.Z)(function*(){const[se,Pe]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),zt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,o1={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},C1={sdk_version:Y.sdkVersion,app_instance_id:se,app_instance_id_token:Pe,app_id:Y.appId,language_code:V2()},c1={method:"POST",headers:o1,body:JSON.stringify(C1)},On=fetch(zt,c1),u1=new Promise((Br,ys)=>{V.signal.addEventListener(()=>{const _a=new Error("The operation was aborted.");_a.name="AbortError",ys(_a)})});let H1;try{yield Promise.race([On,u1]),H1=yield On}catch(Br){let ys="fetch-client-network";throw"AbortError"===Br?.name&&(ys="fetch-timeout"),g2.create(ys,{originalErrorMessage:Br?.message})}let c2=H1.status;const Pi=H1.headers.get("ETag")||void 0;let Ys,Us;if(200===H1.status){let Br;try{Br=yield H1.json()}catch(ys){throw g2.create("fetch-client-parse",{originalErrorMessage:ys?.message})}Ys=Br.entries,Us=Br.state}if("INSTANCE_STATE_UNSPECIFIED"===Us?c2=500:"NO_CHANGE"===Us?c2=304:("NO_TEMPLATE"===Us||"EMPTY_CONFIG"===Us)&&(Ys={}),304!==c2&&200!==c2)throw g2.create("fetch-status",{httpStatus:c2});return{status:c2,eTag:Pi,config:Ys}})()}}class He{constructor(V,Y){this.client=V,this.storage=Y}fetch(V){var Y=this;return(0,Q.Z)(function*(){const se=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(V,se)})()}attemptFetch(V,{throttleEndTimeMillis:Y,backoffCount:se}){var Pe=this;return(0,Q.Z)(function*(){yield function d2(P,V){return new Promise((Y,se)=>{const Pe=Math.max(V-Date.now(),0),tt=setTimeout(Y,Pe);P.addEventListener(()=>{clearTimeout(tt),se(g2.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,Y);try{const tt=yield Pe.client.fetch(V);return yield Pe.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function $e(P){if(!(P instanceof Ee.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}(tt))throw tt;const zt={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(se),backoffCount:se+1};return yield Pe.storage.setThrottleMetadata(zt),Pe.attemptFetch(V,zt)}})()}}class Zt{constructor(V,Y,se,Pe,tt){this.app=V,this._client=Y,this._storageCache=se,this._storage=Pe,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function E1(P,V){const Y=P.target.error||void 0;return g2.create(V,{originalErrorMessage:Y&&Y?.message})}const G1="app_namespace_store";class G2{constructor(V,Y,se,Pe=function Di(){return new Promise((P,V)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=se=>{V(E1(se,"storage-open"))},Y.onsuccess=se=>{P(se.target.result)},Y.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(G1,{keyPath:"compositeKey"})}}catch(Y){V(g2.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=V,this.appName=Y,this.namespace=se,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var Y=this;return(0,Q.Z)(function*(){const se=yield Y.openDbPromise;return new Promise((Pe,tt)=>{const o1=se.transaction([G1],"readonly").objectStore(G1),C1=Y.createCompositeKey(V);try{const c1=o1.get(C1);c1.onerror=On=>{tt(E1(On,"storage-get"))},c1.onsuccess=On=>{const u1=On.target.result;Pe(u1?u1.value:void 0)}}catch(c1){tt(g2.create("storage-get",{originalErrorMessage:c1?.message}))}})})()}set(V,Y){var se=this;return(0,Q.Z)(function*(){const Pe=yield se.openDbPromise;return new Promise((tt,zt)=>{const C1=Pe.transaction([G1],"readwrite").objectStore(G1),c1=se.createCompositeKey(V);try{const On=C1.put({compositeKey:c1,value:Y});On.onerror=u1=>{zt(E1(u1,"storage-set"))},On.onsuccess=()=>{tt()}}catch(On){zt(g2.create("storage-set",{originalErrorMessage:On?.message}))}})})()}delete(V){var Y=this;return(0,Q.Z)(function*(){const se=yield Y.openDbPromise;return new Promise((Pe,tt)=>{const o1=se.transaction([G1],"readwrite").objectStore(G1),C1=Y.createCompositeKey(V);try{const c1=o1.delete(C1);c1.onerror=On=>{tt(E1(On,"storage-delete"))},c1.onsuccess=()=>{Pe()}}catch(c1){tt(g2.create("storage-delete",{originalErrorMessage:c1?.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class $2{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,Q.Z)(function*(){const Y=V.storage.getLastFetchStatus(),se=V.storage.getLastSuccessfulFetchTimestampMillis(),Pe=V.storage.getActiveConfig(),tt=yield Y;tt&&(V.lastFetchStatus=tt);const zt=yield se;zt&&(V.lastSuccessfulFetchTimestampMillis=zt);const o1=yield Pe;o1&&(V.activeConfig=o1)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function o2(){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,Q.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function I2(){(0,Me._registerComponent)(new De.wA("remote-config",function P(V,{instanceIdentifier:Y}){const se=V.getProvider("app").getImmediate(),Pe=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw g2.create("registration-window");if(!(0,Ee.hl)())throw g2.create("indexed-db-unavailable");const{projectId:tt,apiKey:zt,appId:o1}=se.options;if(!tt)throw g2.create("registration-project-id");if(!zt)throw g2.create("registration-api-key");if(!o1)throw g2.create("registration-app-id");const C1=new G2(o1,se.name,Y=Y||"firebase"),c1=new $2(C1),On=new le.Yd(T2);On.logLevel=le.in.ERROR;const u1=new cs(Pe,Me.SDK_VERSION,Y,tt,zt,o1),H1=new He(u1,C1),c2=new as(H1,C1,c1,On),Pi=new Zt(se,c2,c1,C1,On);return function Pn(P){const V=(0,Ee.m9)(P);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(Pi),Pi},"PUBLIC").setMultipleInstances(!0)),(0,Me.registerVersion)(T2,"0.4.0"),(0,Me.registerVersion)(T2,"0.4.0","esm2017")}();const oi="/firebase-messaging-sw.js",ai="/firebase-cloud-messaging-push-scope",zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",es="google.c.a.c_id",gi="google.c.a.c_l",vi="google.c.a.ts",br="google.c.a.e";var Li=(()=>{return(P=Li||(Li={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Li;var P})();function _i(P){const V=new Uint8Array(P);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Q2(P){const Y=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),se=atob(Y),Pe=new Uint8Array(se.length);for(let tt=0;tt<se.length;++tt)Pe[tt]=se.charCodeAt(tt);return Pe}const Ei="fcm_token_details_db",Qn="fcm_token_object_Store";function ci(P){return $r.apply(this,arguments)}function $r(){return $r=(0,Q.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(Ei))return null;let V=null;return(yield(0,Ae.X3)(Ei,5,{upgrade:(se=(0,Q.Z)(function*(Pe,tt,zt,o1){var C1;if(tt<2||!Pe.objectStoreNames.contains(Qn))return;const c1=o1.objectStore(Qn),On=yield c1.index("fcmSenderId").get(P);if(yield c1.clear(),On)if(2===tt){const u1=On;if(!u1.auth||!u1.p256dh||!u1.endpoint)return;V={token:u1.fcmToken,createTime:null!==(C1=u1.createTime)&&void 0!==C1?C1:Date.now(),subscriptionOptions:{auth:u1.auth,p256dh:u1.p256dh,endpoint:u1.endpoint,swScope:u1.swScope,vapidKey:"string"==typeof u1.vapidKey?u1.vapidKey:_i(u1.vapidKey)}}}else if(3===tt){const u1=On;V={token:u1.fcmToken,createTime:u1.createTime,subscriptionOptions:{auth:_i(u1.auth),p256dh:_i(u1.p256dh),endpoint:u1.endpoint,swScope:u1.swScope,vapidKey:_i(u1.vapidKey)}}}else if(4===tt){const u1=On;V={token:u1.fcmToken,createTime:u1.createTime,subscriptionOptions:{auth:_i(u1.auth),p256dh:_i(u1.p256dh),endpoint:u1.endpoint,swScope:u1.swScope,vapidKey:_i(u1.vapidKey)}}}}),function(tt,zt,o1,C1){return se.apply(this,arguments)})})).close(),yield(0,Ae.Lj)(Ei),yield(0,Ae.Lj)("fcm_vapid_details_db"),yield(0,Ae.Lj)("undefined"),Xn(V)?V:null;var se}),$r.apply(this,arguments)}function Xn(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:V}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const D2="firebase-messaging-store";let v2=null;function X2(){return v2||(v2=(0,Ae.X3)("firebase-messaging-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(D2)}})),v2}function Zr(P){return Si.apply(this,arguments)}function Si(){return(Si=(0,Q.Z)(function*(P){const V=n2(P),se=yield(yield X2()).transaction(D2).objectStore(D2).get(V);if(se)return se;{const Pe=yield ci(P.appConfig.senderId);if(Pe)return yield tn(P,Pe),Pe}})).apply(this,arguments)}function tn(P,V){return ar.apply(this,arguments)}function ar(){return(ar=(0,Q.Z)(function*(P,V){const Y=n2(P),Pe=(yield X2()).transaction(D2,"readwrite");return yield Pe.objectStore(D2).put(V,Y),yield Pe.done,V})).apply(this,arguments)}function Zi(P){return ls.apply(this,arguments)}function ls(){return(ls=(0,Q.Z)(function*(P){const V=n2(P),se=(yield X2()).transaction(D2,"readwrite");yield se.objectStore(D2).delete(V),yield se.done})).apply(this,arguments)}function n2({appConfig:P}){return P.appId}const r2=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function B1(P,V){return li.apply(this,arguments)}function li(){return(li=(0,Q.Z)(function*(P,V){const Y=yield Wi(P),se=At(V),Pe={method:"POST",headers:Y,body:JSON.stringify(se)};let tt;try{tt=yield(yield fetch(Ni(P.appConfig),Pe)).json()}catch(zt){throw r2.create("token-subscribe-failed",{errorInfo:zt?.toString()})}if(tt.error)throw r2.create("token-subscribe-failed",{errorInfo:tt.error.message});if(!tt.token)throw r2.create("token-subscribe-no-token");return tt.token})).apply(this,arguments)}function Bi(P,V){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Q.Z)(function*(P,V){const Y=yield Wi(P),se=At(V.subscriptionOptions),Pe={method:"PATCH",headers:Y,body:JSON.stringify(se)};let tt;try{tt=yield(yield fetch(`${Ni(P.appConfig)}/${V.token}`,Pe)).json()}catch(zt){throw r2.create("token-update-failed",{errorInfo:zt?.toString()})}if(tt.error)throw r2.create("token-update-failed",{errorInfo:tt.error.message});if(!tt.token)throw r2.create("token-update-no-token");return tt.token})).apply(this,arguments)}function W2(P,V){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,Q.Z)(function*(P,V){const se={method:"DELETE",headers:yield Wi(P)};try{const tt=yield(yield fetch(`${Ni(P.appConfig)}/${V}`,se)).json();if(tt.error)throw r2.create("token-unsubscribe-failed",{errorInfo:tt.error.message})}catch(Pe){throw r2.create("token-unsubscribe-failed",{errorInfo:Pe?.toString()})}})).apply(this,arguments)}function Ni({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function Wi(P){return qi.apply(this,arguments)}function qi(){return(qi=(0,Q.Z)(function*({appConfig:P,installations:V}){const Y=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function At({p256dh:P,auth:V,endpoint:Y,vapidKey:se}){const Pe={web:{endpoint:Y,auth:V,p256dh:P}};return se!==zi&&(Pe.web.applicationPubKey=se),Pe}const rn=6048e5;function Oi(P){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,Q.Z)(function*(P){const V=yield Wr(P.swRegistration,P.vapidKey),Y={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:V.endpoint,auth:_i(V.getKey("auth")),p256dh:_i(V.getKey("p256dh"))},se=yield Zr(P.firebaseDependencies);if(se){if(B(se.subscriptionOptions,Y))return Date.now()>=se.createTime+rn?us(P,{token:se.token,createTime:Date.now(),subscriptionOptions:Y}):se.token;try{yield W2(P.firebaseDependencies,se.token)}catch(Pe){console.warn(Pe)}return x2(P.firebaseDependencies,Y)}return x2(P.firebaseDependencies,Y)})).apply(this,arguments)}function a2(P){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,Q.Z)(function*(P){const V=yield Zr(P.firebaseDependencies);V&&(yield W2(P.firebaseDependencies,V.token),yield Zi(P.firebaseDependencies));const Y=yield P.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function us(P,V){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,Q.Z)(function*(P,V){try{const Y=yield Bi(P.firebaseDependencies,V),se=Object.assign(Object.assign({},V),{token:Y,createTime:Date.now()});return yield tn(P.firebaseDependencies,se),Y}catch(Y){throw yield a2(P),Y}})).apply(this,arguments)}function x2(P,V){return cr.apply(this,arguments)}function cr(){return(cr=(0,Q.Z)(function*(P,V){const se={token:yield B1(P,V),createTime:Date.now(),subscriptionOptions:V};return yield tn(P,se),se.token})).apply(this,arguments)}function Wr(P,V){return Or.apply(this,arguments)}function Or(){return(Or=(0,Q.Z)(function*(P,V){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Q2(V)})})).apply(this,arguments)}function B(P,V){return V.vapidKey===P.vapidKey&&V.endpoint===P.endpoint&&V.auth===P.auth&&V.p256dh===P.p256dh}function F(P){const V={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function k(P,V){if(!V.notification)return;P.notification={};const Y=V.notification.title;Y&&(P.notification.title=Y);const se=V.notification.body;se&&(P.notification.body=se);const Pe=V.notification.image;Pe&&(P.notification.image=Pe);const tt=V.notification.icon;tt&&(P.notification.icon=tt)}(V,P),function ne(P,V){!V.data||(P.data=V.data)}(V,P),function at(P,V){var Y,se,Pe,tt,zt;if(!(V.fcmOptions||null!==(Y=V.notification)&&void 0!==Y&&Y.click_action))return;P.fcmOptions={};const o1=null!==(Pe=null===(se=V.fcmOptions)||void 0===se?void 0:se.link)&&void 0!==Pe?Pe:null===(tt=V.notification)||void 0===tt?void 0:tt.click_action;o1&&(P.fcmOptions.link=o1);const C1=null===(zt=V.fcmOptions)||void 0===zt?void 0:zt.analytics_label;C1&&(P.fcmOptions.analyticsLabel=C1)}(V,P),V}function m1(P){return"object"==typeof P&&!!P&&es in P}function Bn(P,V){const Y=[];for(let se=0;se<P.length;se++)Y.push(P.charAt(se)),se<V.length&&Y.push(V.charAt(se));return Y.join("")}function Yi(P){return r2.create("missing-app-config-values",{valueName:P})}Bn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wr{constructor(V,Y,se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function lr(P){if(!P||!P.options)throw Yi("App Configuration Object");if(!P.name)throw Yi("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=P;for(const se of V)if(!Y[se])throw Yi(se);return{appName:P.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Pe,installations:Y,analyticsProvider:se}}_delete(){return Promise.resolve()}}function ur(P){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,Q.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(oi,{scope:ai}),P.swRegistration.update().catch(()=>{})}catch(V){throw r2.create("failed-service-worker-registration",{browserErrorMessage:V?.message})}})).apply(this,arguments)}function Ji(P,V){return W.apply(this,arguments)}function W(){return(W=(0,Q.Z)(function*(P,V){if(!V&&!P.swRegistration&&(yield ur(P)),V||!P.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw r2.create("invalid-sw-registration");P.swRegistration=V}})).apply(this,arguments)}function ee(P,V){return ce.apply(this,arguments)}function ce(){return(ce=(0,Q.Z)(function*(P,V){V?P.vapidKey=V:P.vapidKey||(P.vapidKey=zi)})).apply(this,arguments)}function je(){return(je=(0,Q.Z)(function*(P,V){if(!navigator)throw r2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw r2.create("permission-blocked");return yield ee(P,V?.vapidKey),yield Ji(P,V?.serviceWorkerRegistration),Oi(P)})).apply(this,arguments)}function yt(P,V,Y){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Q.Z)(function*(P,V,Y){const se=Et(V);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(se,{message_id:Y[es],message_name:Y[gi],message_time:Y[vi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Et(P){switch(P){case Li.NOTIFICATION_CLICKED:return"notification_open";case Li.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $(){return($=(0,Q.Z)(function*(P,V){const Y=V.data;if(!Y.isFirebaseMessaging)return;P.onMessageHandler&&Y.messageType===Li.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(F(Y)):P.onMessageHandler.next(F(Y)));const se=Y.data;m1(se)&&"1"===se[br]&&(yield yt(P,Y.messageType,se))})).apply(this,arguments)}const O="@firebase/messaging",X="0.12.0",me=P=>{const V=new wr(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function z(P,V){return $.apply(this,arguments)}(V,Y)),V},Je=P=>{const V=P.getProvider("messaging").getImmediate();return{getToken:se=>function ve(P,V){return je.apply(this,arguments)}(V,se)}};function e1(){return K1.apply(this,arguments)}function K1(){return(K1=(0,Q.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ft(){(0,Me._registerComponent)(new De.wA("messaging",me,"PUBLIC")),(0,Me._registerComponent)(new De.wA("messaging-internal",Je,"PRIVATE")),(0,Me.registerVersion)(O,X),(0,Me.registerVersion)(O,X,"esm2017")}();const dr="analytics",Er="firebase_id",ds="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qs="https://www.googletagmanager.com/gtag/js",E2=new le.Yd("@firebase/analytics");function Ks(P){return Promise.all(P.map(V=>V.catch(Y=>Y)))}function Ko(P,V){const Y=document.createElement("script");Y.src=`${qs}?l=${P}&id=${V}`,Y.async=!0,document.head.appendChild(Y)}function Jo(P,V,Y,se,Pe,tt){return vo.apply(this,arguments)}function vo(){return(vo=(0,Q.Z)(function*(P,V,Y,se,Pe,tt){const zt=se[Pe];try{if(zt)yield V[zt];else{const C1=(yield Ks(Y)).find(c1=>c1.measurementId===Pe);C1&&(yield V[C1.appId])}}catch(o1){E2.error(o1)}P("config",Pe,tt)})).apply(this,arguments)}function Xs(P,V,Y,se,Pe){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,Q.Z)(function*(P,V,Y,se,Pe){try{let tt=[];if(Pe&&Pe.send_to){let zt=Pe.send_to;Array.isArray(zt)||(zt=[zt]);const o1=yield Ks(Y);for(const C1 of zt){const c1=o1.find(u1=>u1.measurementId===C1),On=c1&&V[c1.appId];if(!On){tt=[];break}tt.push(On)}}0===tt.length&&(tt=Object.values(V)),yield Promise.all(tt),P("event",se,Pe||{})}catch(tt){E2.error(tt)}})).apply(this,arguments)}function yo(P){const V=window.document.getElementsByTagName("script");for(const Y of Object.values(V))if(Y.src&&Y.src.includes(qs)&&Y.src.includes(P))return Y;return null}const ei=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ht=new class qr{constructor(V={},Y=1e3){this.throttleMetadata=V,this.intervalMillis=Y}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,Y){this.throttleMetadata[V]=Y}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function bi(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function ts(P){return to.apply(this,arguments)}function to(){return(to=(0,Q.Z)(function*(P){var V;const{appId:Y,apiKey:se}=P,Pe={method:"GET",headers:bi(se)},tt=ds.replace("{app-id}",Y),zt=yield fetch(tt,Pe);if(200!==zt.status&&304!==zt.status){let o1="";try{const C1=yield zt.json();null!==(V=C1.error)&&void 0!==V&&V.message&&(o1=C1.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:zt.status,responseMessage:o1})}return zt.json()})).apply(this,arguments)}function t1(P){return p1.apply(this,arguments)}function p1(){return(p1=(0,Q.Z)(function*(P,V=Ht,Y){const{appId:se,apiKey:Pe,measurementId:tt}=P.options;if(!se)throw ei.create("no-app-id");if(!Pe){if(tt)return{measurementId:tt,appId:se};throw ei.create("no-api-key")}const zt=V.getThrottleMetadata(se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o1=new H2;return setTimeout((0,Q.Z)(function*(){o1.abort()}),void 0!==Y?Y:6e4),fr({appId:se,apiKey:Pe,measurementId:tt},zt,o1,V)})).apply(this,arguments)}function fr(P,V,Y){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,Q.Z)(function*(P,{throttleEndTimeMillis:V,backoffCount:Y},se,Pe=Ht){var tt;const{appId:zt,measurementId:o1}=P;try{yield ht(se,V)}catch(C1){if(o1)return E2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o1} provided in the "measurementId" field in the local Firebase config. [${C1?.message}]`),{appId:zt,measurementId:o1};throw C1}try{const C1=yield ts(P);return Pe.deleteThrottleMetadata(zt),C1}catch(C1){const c1=C1;if(!Lt(c1)){if(Pe.deleteThrottleMetadata(zt),o1)return E2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o1} provided in the "measurementId" field in the local Firebase config. [${c1?.message}]`),{appId:zt,measurementId:o1};throw C1}const On=503===Number(null===(tt=c1?.customData)||void 0===tt?void 0:tt.httpStatus)?(0,Ee.$s)(Y,Pe.intervalMillis,30):(0,Ee.$s)(Y,Pe.intervalMillis),u1={throttleEndTimeMillis:Date.now()+On,backoffCount:Y+1};return Pe.setThrottleMetadata(zt,u1),E2.debug(`Calling attemptFetch again in ${On} millis`),fr(P,u1,se,Pe)}})).apply(this,arguments)}function ht(P,V){return new Promise((Y,se)=>{const Pe=Math.max(V-Date.now(),0),tt=setTimeout(Y,Pe);P.addEventListener(()=>{clearTimeout(tt),se(ei.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Lt(P){if(!(P instanceof Ee.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}class H2{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let Ai,Y1;function Pr(){return(Pr=(0,Q.Z)(function*(P,V,Y,se,Pe){if(Pe&&Pe.global)P("event",Y,se);else{const tt=yield V;P("event",Y,Object.assign(Object.assign({},se),{send_to:tt}))}})).apply(this,arguments)}function er(P){Y1=P}function Co(P){Ai=P}function S2(){return A1.apply(this,arguments)}function A1(){return(A1=(0,Q.Z)(function*(){if(!(0,Ee.hl)())return E2.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(P){return E2.warn(ei.create("indexeddb-unavailable",{errorInfo:P?.toString()}).message),!1}return!0})).apply(this,arguments)}function Vn(){return(Vn=(0,Q.Z)(function*(P,V,Y,se,Pe,tt,zt){var o1;const C1=t1(P);C1.then(c2=>{Y[c2.measurementId]=c2.appId,P.options.measurementId&&c2.measurementId!==P.options.measurementId&&E2.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${c2.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(c2=>E2.error(c2)),V.push(C1);const c1=S2().then(c2=>{if(c2)return se.getId()}),[On,u1]=yield Promise.all([C1,c1]);yo(tt)||Ko(tt,On.measurementId),Y1&&(Pe("consent","default",Y1),er(void 0)),Pe("js",new Date);const H1=null!==(o1=zt?.config)&&void 0!==o1?o1:{};return H1.origin="firebase",H1.update=!0,null!=u1&&(H1[Er]=u1),Pe("config",On.measurementId,H1),Ai&&(Pe("set",Ai),Co(void 0)),On.measurementId})).apply(this,arguments)}class ro{constructor(V){this.app=V}_delete(){return delete Sn[this.app.options.appId],Promise.resolve()}}let Sn={},qt=[];const hs={};let ps,ns,ws="dataLayer",ms=!1;function Qo(P,V,Y){!function so(){const P=[];if((0,Ee.ru)()&&P.push("This is a browser extension environment."),(0,Ee.zI)()||P.push("Cookies are not available."),P.length>0){const V=P.map((se,Pe)=>`(${Pe+1}) ${se}`).join(" "),Y=ei.create("invalid-analytics-context",{errorInfo:V});E2.warn(Y.message)}}();const se=P.options.appId;if(!se)throw ei.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw ei.create("no-api-key");E2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sn[se])throw ei.create("already-exists",{id:se});if(!ms){!function Yo(P){let V=[];Array.isArray(window[P])?V=window[P]:window[P]=V}(ws);const{wrappedGtag:tt,gtagCore:zt}=function To(P,V,Y,se,Pe){let tt=function(...zt){window[se].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(tt=window[Pe]),window[Pe]=function eo(P,V,Y,se){function tt(){return(tt=(0,Q.Z)(function*(zt,o1,C1){try{"event"===zt?yield Xs(P,V,Y,o1,C1):"config"===zt?yield Jo(P,V,Y,se,o1,C1):"consent"===zt?P("consent","update",C1):P("set",o1)}catch(c1){E2.error(c1)}})).apply(this,arguments)}return function Pe(zt,o1,C1){return tt.apply(this,arguments)}}(tt,P,V,Y),{gtagCore:tt,wrappedGtag:window[Pe]}}(Sn,qt,hs,ws,"gtag");ns=tt,ps=zt,ms=!0}return Sn[se]=function b2(P,V,Y,se,Pe,tt,zt){return Vn.apply(this,arguments)}(P,qt,hs,V,ps,ws,Y),new ro(P)}function va(){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,Q.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const Hs="@firebase/analytics";!function ki(){(0,Me._registerComponent)(new De.wA(dr,(V,{options:Y})=>Qo(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,Me._registerComponent)(new De.wA("analytics-internal",function P(V){try{const Y=V.getProvider(dr).getImmediate();return{logEvent:(se,Pe,tt)=>function Vs(P,V,Y,se){P=(0,Ee.m9)(P),function no(P,V,Y,se,Pe){return Pr.apply(this,arguments)}(ns,Sn[P.app.options.appId],V,Y,se).catch(Pe=>E2.error(Pe))}(Y,se,Pe,tt)}}catch(Y){throw ei.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,Me.registerVersion)(Hs,"0.9.0"),(0,Me.registerVersion)(Hs,"0.9.0","esm2017")}();var Hr=H(4408),Fr=H(7565);const tr=new class Fs extends Fr.v{}(class wo extends Hr.o{constructor(V,Y){super(V,Y),this.scheduler=V,this.work=Y}schedule(V,Y=0){return Y>0?super.schedule(V,Y):(this.delay=Y,this.state=V,this.scheduler.flush(this),this)}execute(V,Y){return Y>0||this.closed?super.execute(V,Y):this._execute(V,Y)}requestAsyncId(V,Y,se=0){return null!=se&&se>0||null==se&&this.delay>0?super.requestAsyncId(V,Y,se):(V.flush(this),0)}});var l=H(4986),a=H(8505),g=H(9468),M=H(5363);const A=new d.GfV("7.5.0"),j="__angularfire_symbol__analyticsIsSupportedValue",K="__angularfire_symbol__analyticsIsSupported",ue="__angularfire_symbol__remoteConfigIsSupportedValue",Le="__angularfire_symbol__remoteConfigIsSupported",Ot="__angularfire_symbol__messagingIsSupportedValue",_t="__angularfire_symbol__messagingIsSupported";function un(P,V,Y){if(V){if(1===V.length)return V[0];const tt=V.filter(zt=>zt.app===Y);if(1===tt.length)return tt[0]}return Y.container.getProvider(P).getImmediate({optional:!0})}globalThis[K]||(globalThis[K]=va().then(P=>globalThis[j]=P).catch(()=>globalThis[j]=!1)),globalThis[_t]||(globalThis[_t]=e1().then(P=>globalThis[Ot]=P).catch(()=>globalThis[Ot]=!1)),globalThis[Le]||(globalThis[Le]=o2().then(P=>globalThis[ue]=P).catch(()=>globalThis[ue]=!1));const Ln=(P,V)=>{const Y=V?[V]:(0,D.C6)(),se=[];return Y.forEach(Pe=>{Pe.container.getProvider(P).instances.forEach(zt=>{se.includes(zt)||se.push(zt)})}),se};function y2(){}class h2{constructor(V,Y=tr){this.zone=V,this.delegate=Y}now(){return this.delegate.now()}schedule(V,Y,se){const Pe=this.zone;return this.delegate.schedule(function(zt){Pe.runGuarded(()=>{V.apply(this,[zt])})},Y,se)}}class z2{constructor(V){this.zone=V,this.task=null}call(V,Y){const se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",y2,{},y2,y2)),Y.pipe((0,a.b)({next:se,complete:se,error:se})).subscribe(V).add(se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let is=(()=>{class P{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new h2(Zone.current)),this.insideAngular=Y.run(()=>new h2(Zone.current,l.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(Y){return new(Y||P)(d.LFG(d.R0b))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function ti(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Is(P){return ti(),function Bs(P){return function(Y){return(Y=Y.lift(new z2(P.ngZone))).pipe((0,g.R)(P.outsideAngular),(0,M.Q)(P.insideAngular))}}(ti())(P)}},2090:(Qt,We,H)=>{H.d(We,{$s:()=>Wt,BH:()=>S1,G6:()=>Ye,L:()=>Ae,LL:()=>_1,Pz:()=>L1,Sg:()=>xt,UG:()=>Ze,US:()=>De,ZB:()=>fe,ZR:()=>y1,aH:()=>f1,b$:()=>nt,eu:()=>mt,hl:()=>It,jU:()=>Pt,m9:()=>I1,ne:()=>st,pd:()=>O2,r3:()=>Gn,ru:()=>rt,tV:()=>ze,uI:()=>et,vZ:()=>Vt,w1:()=>Kt,xO:()=>cn,xb:()=>fn,z$:()=>Xe,zI:()=>re,zd:()=>N2});const Me=function(Se){const be=[];let xe=0;for(let gt=0;gt<Se.length;gt++){let Be=Se.charCodeAt(gt);Be<128?be[xe++]=Be:Be<2048?(be[xe++]=Be>>6|192,be[xe++]=63&Be|128):55296==(64512&Be)&&gt+1<Se.length&&56320==(64512&Se.charCodeAt(gt+1))?(Be=65536+((1023&Be)<<10)+(1023&Se.charCodeAt(++gt)),be[xe++]=Be>>18|240,be[xe++]=Be>>12&63|128,be[xe++]=Be>>6&63|128,be[xe++]=63&Be|128):(be[xe++]=Be>>12|224,be[xe++]=Be>>6&63|128,be[xe++]=63&Be|128)}return be},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,be){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,gt=[];for(let Be=0;Be<Se.length;Be+=3){const jt=Se[Be],Yt=Be+1<Se.length,O1=Yt?Se[Be+1]:0,en=Be+2<Se.length,F1=en?Se[Be+2]:0;let ae=(15&O1)<<2|F1>>6,Ue=63&F1;en||(Ue=64,Yt||(ae=64)),gt.push(xe[jt>>2],xe[(3&jt)<<4|O1>>4],xe[ae],xe[Ue])}return gt.join("")},encodeString(Se,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Se):this.encodeByteArray(Me(Se),be)},decodeString(Se,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Se):function(Se){const be=[];let xe=0,gt=0;for(;xe<Se.length;){const Be=Se[xe++];if(Be<128)be[gt++]=String.fromCharCode(Be);else if(Be>191&&Be<224){const jt=Se[xe++];be[gt++]=String.fromCharCode((31&Be)<<6|63&jt)}else if(Be>239&&Be<365){const en=((7&Be)<<18|(63&Se[xe++])<<12|(63&Se[xe++])<<6|63&Se[xe++])-65536;be[gt++]=String.fromCharCode(55296+(en>>10)),be[gt++]=String.fromCharCode(56320+(1023&en))}else{const jt=Se[xe++],Yt=Se[xe++];be[gt++]=String.fromCharCode((15&Be)<<12|(63&jt)<<6|63&Yt)}}return be.join("")}(this.decodeStringToByteArray(Se,be))},decodeStringToByteArray(Se,be){this.init_();const xe=be?this.charToByteMapWebSafe_:this.charToByteMap_,gt=[];for(let Be=0;Be<Se.length;){const jt=xe[Se.charAt(Be++)],O1=Be<Se.length?xe[Se.charAt(Be)]:0;++Be;const F1=Be<Se.length?xe[Se.charAt(Be)]:64;++Be;const he=Be<Se.length?xe[Se.charAt(Be)]:64;if(++Be,null==jt||null==O1||null==F1||null==he)throw Error();gt.push(jt<<2|O1>>4),64!==F1&&(gt.push(O1<<4&240|F1>>2),64!==he&&gt.push(F1<<6&192|he))}return gt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}},Ae=function(Se){return function(Se){const be=Me(Se);return De.encodeByteArray(be,!0)}(Se).replace(/\./g,"")},ze=function(Se){try{return De.decodeString(Se,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function fe(Se,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===Se&&(Se={});break;case Array:Se=[];break;default:return be}for(const xe in be)!be.hasOwnProperty(xe)||!Ne(xe)||(Se[xe]=fe(Se[xe],be[xe]));return Se}function Ne(Se){return"__proto__"!==Se}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function rt(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Kt(){const Se=Xe();return Se.indexOf("MSIE ")>=0||Se.indexOf("Trident/")>=0}function Ye(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function It(){try{return"object"==typeof indexedDB}catch{return!1}}function mt(){return new Promise((Se,be)=>{try{let xe=!0;const gt="validate-browser-context-for-indexeddb-analytics-module",Be=self.indexedDB.open(gt);Be.onsuccess=()=>{Be.result.close(),xe||self.indexedDB.deleteDatabase(gt),Se(!0)},Be.onupgradeneeded=()=>{xe=!1},Be.onerror=()=>{var jt;be((null===(jt=Be.error)||void 0===jt?void 0:jt.message)||"")}}catch(xe){be(xe)}})}function re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Re=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Se=process.env.__FIREBASE_DEFAULTS__;return Se?JSON.parse(Se):void 0})()||(()=>{if(typeof document>"u")return;let Se;try{Se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const be=Se&&ze(Se[1]);return be&&JSON.parse(be)})()}catch(Se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Se}`)}},f1=()=>{var Se;return null===(Se=Re())||void 0===Se?void 0:Se.config},L1=Se=>{var be;return null===(be=Re())||void 0===be?void 0:be[`_${Se}`]};class S1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,xe)=>{this.resolve=be,this.reject=xe})}wrapCallback(be){return(xe,gt)=>{xe?this.reject(xe):this.resolve(gt),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(xe):be(xe,gt))}}}function xt(Se,be){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const gt=be||"demo-project",Be=Se.iat||0,jt=Se.sub||Se.user_id;if(!jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Yt=Object.assign({iss:`https://securetoken.google.com/${gt}`,aud:gt,iat:Be,exp:Be+3600,auth_time:Be,sub:jt,user_id:jt,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(Yt)),""].join(".")}class y1 extends Error{constructor(be,xe,gt){super(xe),this.code=be,this.customData=gt,this.name="FirebaseError",Object.setPrototypeOf(this,y1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_1.prototype.create)}}class _1{constructor(be,xe,gt){this.service=be,this.serviceName=xe,this.errors=gt}create(be,...xe){const gt=xe[0]||{},Be=`${this.service}/${be}`,jt=this.errors[be],Yt=jt?function v1(Se,be){return Se.replace(qn,(xe,gt)=>{const Be=be[gt];return null!=Be?String(Be):`<${gt}?>`})}(jt,gt):"Error";return new y1(Be,`${this.serviceName}: ${Yt} (${Be}).`,gt)}}const qn=/\{\$([^}]+)}/g;function Gn(Se,be){return Object.prototype.hasOwnProperty.call(Se,be)}function fn(Se){for(const be in Se)if(Object.prototype.hasOwnProperty.call(Se,be))return!1;return!0}function Vt(Se,be){if(Se===be)return!0;const xe=Object.keys(Se),gt=Object.keys(be);for(const Be of xe){if(!gt.includes(Be))return!1;const jt=Se[Be],Yt=be[Be];if(vn(jt)&&vn(Yt)){if(!Vt(jt,Yt))return!1}else if(jt!==Yt)return!1}for(const Be of gt)if(!xe.includes(Be))return!1;return!0}function vn(Se){return null!==Se&&"object"==typeof Se}function cn(Se){const be=[];for(const[xe,gt]of Object.entries(Se))Array.isArray(gt)?gt.forEach(Be=>{be.push(encodeURIComponent(xe)+"="+encodeURIComponent(Be))}):be.push(encodeURIComponent(xe)+"="+encodeURIComponent(gt));return be.length?"&"+be.join("&"):""}function N2(Se){const be={};return Se.replace(/^\?/,"").split("&").forEach(gt=>{if(gt){const[Be,jt]=gt.split("=");be[decodeURIComponent(Be)]=decodeURIComponent(jt)}}),be}function O2(Se){const be=Se.indexOf("?");if(!be)return"";const xe=Se.indexOf("#",be);return Se.substring(be,xe>0?xe:void 0)}function st(Se,be){const xe=new we(Se,be);return xe.subscribe.bind(xe)}class we{constructor(be,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{be(this)}).catch(gt=>{this.error(gt)})}next(be){this.forEachObserver(xe=>{xe.next(be)})}error(be){this.forEachObserver(xe=>{xe.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,xe,gt){let Be;if(void 0===be&&void 0===xe&&void 0===gt)throw new Error("Missing Observer.");Be=function ot(Se,be){if("object"!=typeof Se||null===Se)return!1;for(const xe of be)if(xe in Se&&"function"==typeof Se[xe])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:xe,complete:gt},void 0===Be.next&&(Be.next=vt),void 0===Be.error&&(Be.error=vt),void 0===Be.complete&&(Be.complete=vt);const jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Be.error(this.finalError):Be.complete()}catch{}}),this.observers.push(Be),jt}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,be)}sendOne(be,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{xe(this.observers[be])}catch(gt){typeof console<"u"&&console.error&&console.error(gt)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vt(){}function Wt(Se,be=1e3,xe=2){const gt=be*Math.pow(xe,Se),Be=Math.round(.5*gt*(Math.random()-.5)*2);return Math.min(144e5,gt+Be)}function I1(Se){return Se&&Se._delegate?Se._delegate:Se}},2767:(Qt,We,H)=>{H.d(We,{n:()=>Ae});var d=H(6895),D=H(433),Q=H(3101),Me=H(2011),Ee=H(2340),De=H(3385),le=H(4650);let Ae=(()=>{class ze{}return ze.\u0275fac=function(fe){return new(fe||ze)},ze.\u0275mod=le.oAB({type:ze}),ze.\u0275inj=le.cJS({imports:[d.ez,D.u5,Q.yb,Me.hO.initializeApp(Ee.N.firebase),De.ww]}),ze})()},182:(Qt,We,H)=>{H.d(We,{e:()=>de});var d=H(5861),D=H(7579),Q=H(3900),Me=H(9646),Ee=H(9260),De=H(4650),le=H(2431),Ae=H(3385),ze=H(3101);let de=(()=>{class fe{constructor(Xe,et,Ze){this.router=Xe,this.afAuth=et,this.afs=Ze,this.authChange=new D.x,this.isAuthenticated=!1,this.user$=this.afAuth.authState.pipe((0,Q.w)(Pt=>Pt?this.afs.doc(`users/${Pt.uid}`).valueChanges():(0,Me.of)(null)))}googleSignin(){var Xe=this;return(0,d.Z)(function*(){const et=new Ee.Z.auth.GoogleAuthProvider,Ze=yield Xe.afAuth.signInWithPopup(et);return Xe.updateUserData(Ze.user)})()}updateUserData(Xe){return this.userId=Xe?.uid,this.afs.doc(`users/${Xe?.uid}`).set({uid:Xe.uid,email:Xe.email,displayName:Xe.displayName,photoURL:Xe.photoURL},{merge:!0})}iniAuthListener(){this.afAuth.authState.subscribe(Xe=>{Xe?(this.onSuccessfulAuthentication(),this.updateUserData(Xe)):this.onUnsuccessfulAuthentication()})}registerUser(Xe){this.afAuth.createUserWithEmailAndPassword(Xe.email,Xe.password).then(et=>{console.log(et),this.onSuccessfulAuthentication()}).catch(et=>{console.log(et)})}login(Xe){this.afAuth.signInWithEmailAndPassword(Xe.email,Xe.password).then(et=>{console.log(et)}).catch(et=>{console.log(et)})}logout(){this.afAuth.signOut()}isAuth(){return this.isAuthenticated}onSuccessfulAuthentication(){this.isAuthenticated=!0,this.authChange.next(!0)}onUnsuccessfulAuthentication(){this.isAuthenticated=!1,this.authChange.next(!1),this.router.navigate([""])}}return fe.\u0275fac=function(Xe){return new(Xe||fe)(De.LFG(le.F0),De.LFG(Ae.zQ),De.LFG(ze.ST))},fe.\u0275prov=De.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},3919:(Qt,We,H)=>{H.d(We,{z:()=>Q});var d=H(4650),D=H(6683);let Q=(()=>{class Me{constructor(De){this.activeModal=De}ngOnInit(){}}return Me.\u0275fac=function(De){return new(De||Me)(d.Y36(D.Kz))},Me.\u0275cmp=d.Xpm({type:Me,selectors:[["app-confirm-modal"]],inputs:{message:"message"},decls:9,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(De,le){1&De&&(d.TgZ(0,"div",0)(1,"h4",1),d._uU(2),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return le.activeModal.dismiss("Cross click")}),d.qZA()(),d.TgZ(4,"div",3)(5,"button",4),d.NdJ("click",function(){return le.activeModal.close("Yes")}),d._uU(6," Yes "),d.qZA(),d.TgZ(7,"button",5),d.NdJ("click",function(){return le.activeModal.close("No")}),d._uU(8," No "),d.qZA()()),2&De&&(d.xp6(2),d.Oqu(le.message))}}),Me})()},837:(Qt,We,H)=>{H.d(We,{z:()=>Ae});var d=H(4650),D=H(6895);let Q=(()=>{class ze{constructor(){}}return ze.\u0275fac=function(fe){return new(fe||ze)},ze.\u0275cmp=d.Xpm({type:ze,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(fe,Ne){1&fe&&(d.TgZ(0,"div",0),d._UZ(1,"div")(2,"div")(3,"div")(4,"div"),d.qZA())},styles:[".lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:black;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),ze})();function Me(ze,de){1&ze&&(d.TgZ(0,"div",4),d.Hsn(1,1),d.qZA())}function Ee(ze,de){1&ze&&(d.TgZ(0,"div",5),d._UZ(1,"app-loading-spinner"),d.qZA())}const De=[[["","pageHeader",""]],[["","pageContent",""]]],le=["[pageHeader]","[pageContent]"];let Ae=(()=>{class ze{constructor(){this.contentLoaded=!1}ngOnInit(){}onClickAddButton(){console.log("hello world")}}return ze.\u0275fac=function(fe){return new(fe||ze)},ze.\u0275cmp=d.Xpm({type:ze,selectors:[["app-content-wrapper"]],inputs:{contentLoaded:"contentLoaded"},ngContentSelectors:le,decls:5,vars:2,consts:[[1,"content-wrapper"],[1,"page-header"],["class","content-container",4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],[1,"content-container"],[1,"loading-spinner-container"]],template:function(fe,Ne){1&fe&&(d.F$t(De),d.TgZ(0,"div",0)(1,"div",1),d.Hsn(2),d.qZA(),d.YNc(3,Me,2,0,"div",2),d.YNc(4,Ee,2,0,"div",3),d.qZA()),2&fe&&(d.xp6(3),d.Q6J("ngIf",Ne.contentLoaded),d.xp6(1),d.Q6J("ngIf",!Ne.contentLoaded))},dependencies:[D.O5,Q],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:100vw;padding-left:10px;padding-right:10px}.content-container[_ngcontent-%COMP%]{margin-top:10px}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:60vh;flex-wrap:wrap;padding-left:10px;padding-right:10px;justify-content:center}']}),ze})()},4769:(Qt,We,H)=>{H.d(We,{e:()=>Me});var d=H(6895),D=H(6683),Q=H(4650);let Me=(()=>{class Ee{}return Ee.\u0275fac=function(le){return new(le||Ee)},Ee.\u0275mod=Q.oAB({type:Ee}),Ee.\u0275inj=Q.cJS({imports:[d.ez,D.IJ,D.XC,D.IJ,D.XC]}),Ee})()},3909:(Qt,We,H)=>{H.d(We,{C:()=>vg});var xt={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},Sr={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},er={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},da={prefix:"fas",iconName:"pencil-alt",icon:[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"]},t8={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},N6={prefix:"fas",iconName:"tools",icon:[512,512,[],"f7d9","M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"]},Y8={prefix:"fas",iconName:"trash-alt",icon:[448,512,[],"f2ed","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"]},Ll={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},u7={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},gg=H(4650);let vg=(()=>{class _7{constructor(){this.faDumbbell=Sr,this.faUser=Ll,this.faGoogle=u7,this.faEdit=er,this.faPlus=t8,this.faPencilAlt=da,this.faTools=N6,this.faTrashAlt=Y8,this.faArrowLeft=xt}}return _7.\u0275fac=function(_g){return new(_g||_7)},_7.\u0275prov=gg.Yz7({token:_7,factory:_7.\u0275fac,providedIn:"root"}),_7})()},2340:(Qt,We,H)=>{H.d(We,{N:()=>d});const d={production:!0,firebase:{apiKey:"AIzaSyBhyZOhjOEyor9d77QOlILrHlQcqFFcQdY",authDomain:"adultery-prod.firebaseapp.com",projectId:"adultery-prod",storageBucket:"adultery-prod.appspot.com",messagingSenderId:"1064210384939",appId:"1:1064210384939:web:46399359cb7ff93afb826e"}}},3785:(Qt,We,H)=>{var d=H(1481),D=H(4650),Q=H(2431),Me=H(182);let Ee=(()=>{class p{constructor(a,g){this.authService=a,this.router=g}canActivate(a,g){return this.authService.isAuth()?this.authService.isAuth():(this.router.navigate(["login"]),!1)}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(Me.e),D.LFG(Q.F0))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac}),p})();var De=H(3909),le=H(433);let Ae=(()=>{class p{constructor(){}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-google-button"]],decls:6,vars:0,consts:[[1,"google-btn"],[1,"google-icon-wrapper"],["src","https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",1,"google-icon"],[1,"btn-text"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0)(1,"div",1),D._UZ(2,"img",2),D.qZA(),D.TgZ(3,"p",3)(4,"b"),D._uU(5,"Sign in with google"),D.qZA()()())},styles:[".google-btn[_ngcontent-%COMP%]{cursor:pointer;width:184px;height:42px;background-color:#4285f4;border-radius:2px;box-shadow:0 3px 4px #00000040}.google-btn[_ngcontent-%COMP%]   .google-icon-wrapper[_ngcontent-%COMP%]{position:absolute;margin-top:1px;margin-left:1px;width:40px;height:40px;border-radius:2px;background-color:#fff}.google-btn[_ngcontent-%COMP%]   .google-icon[_ngcontent-%COMP%]{position:absolute;margin-top:11px;margin-left:11px;width:18px;height:18px}.google-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{float:right;margin:11px 11px 0 0;color:#fff;font-size:14px;letter-spacing:.2px;font-family:Roboto}.google-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #4285f4}.google-btn[_ngcontent-%COMP%]:active{background:#1669f2}"]}),p})(),ze=(()=>{class p{constructor(a,g){this.authService=a,this.icon=g}ngOnInit(){}onSubmit(a){this.authService.login({email:a.value.email,password:a.value.password})}onOathSignIn(){this.authService.googleSignin()}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Me.e),D.Y36(De.C))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"login-page"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(a,g){if(1&a){const M=D.EpF();D.TgZ(0,"div",0)(1,"form",1,2),D.NdJ("ngSubmit",function(){D.CHM(M);const j=D.MAs(2);return D.KtG(g.onSubmit(j))}),D.TgZ(3,"h1"),D._uU(4,"Welcome back fellow adult!"),D.qZA(),D.TgZ(5,"div",3),D._UZ(6,"input",4,5),D.qZA(),D.TgZ(8,"div",3),D._UZ(9,"input",6,7),D.qZA(),D.TgZ(11,"button",8),D._uU(12," Login "),D.qZA(),D.TgZ(13,"app-google-button",9),D.NdJ("click",function(){return g.onOathSignIn()}),D.qZA()()()}if(2&a){const M=D.MAs(2);D.xp6(11),D.Q6J("disabled",!M.valid)}},dependencies:[le._Y,le.Fj,le.JJ,le.JL,le.Q7,le.wO,le.On,le.F,Ae],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),p})(),de=(()=>{class p{constructor(a,g){this.authService=a,this.icon=g}ngOnInit(){}onSubmit(a){this.authService.registerUser({email:a.value.email,password:a.value.password})}onOathSignIn(){this.authService.googleSignin()}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Me.e),D.Y36(De.C))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-signup"]],decls:13,vars:1,consts:[[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["type","email","placeholder","Email","ngModel","","name","email","required","",1,"form-control"],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["pwInput","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"click"]],template:function(a,g){if(1&a){const M=D.EpF();D.TgZ(0,"form",0,1),D.NdJ("ngSubmit",function(){D.CHM(M);const j=D.MAs(1);return D.KtG(g.onSubmit(j))}),D.TgZ(2,"h1"),D._uU(3,"Sign Up to Start Adulting!"),D.qZA(),D.TgZ(4,"div",2),D._UZ(5,"input",3,4),D.qZA(),D.TgZ(7,"div",2),D._UZ(8,"input",5,6),D.qZA(),D.TgZ(10,"button",7),D._uU(11," Sign Up "),D.qZA(),D.TgZ(12,"app-google-button",8),D.NdJ("click",function(){return g.onOathSignIn()}),D.qZA()()}if(2&a){const M=D.MAs(1);D.xp6(10),D.Q6J("disabled",!M.valid)}},dependencies:[le._Y,le.Fj,le.JJ,le.JL,le.Q7,le.wO,le.On,le.F,Ae],styles:["form[_ngcontent-%COMP%]{display:flex;gap:10px;flex-direction:column}"]}),p})();var fe=H(837);let Ne=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-feature-coming-soon"]],decls:12,vars:1,consts:[[3,"contentLoaded"],["pageContent","",1,"page-container"],[1,"gif-container"],["src","https://media.giphy.com/media/H1dxi6xdh4NGQCZSvz/giphy.gif"],["src","https://media.giphy.com/media/l0HefZY0mFfLS9AFa/giphy.gif"]],template:function(a,g){1&a&&(D.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),D._uU(3,"This feature is not available yet"),D.qZA(),D.TgZ(4,"p"),D._uU(5," Our team of highly adult developers are working around the clock to bring more awesome features to this app. "),D.qZA(),D.TgZ(6,"div",2),D._UZ(7,"img",3),D.qZA(),D.TgZ(8,"p"),D._uU(9,"This one is currently in progress. It's going to be..."),D.qZA(),D.TgZ(10,"div",2),D._UZ(11,"img",4),D.qZA()()()),2&a&&D.Q6J("contentLoaded",!0)},dependencies:[fe.z],styles:[".page-container[_ngcontent-%COMP%]{display:flex;gap:10px;text-align:center;flex-direction:column}"]}),p})();var Xe=H(6683),et=H(7579),Ze=H(4004),Pt=H(3101);let rt=(()=>{class p{constructor(a,g){this.firestore=a,this.authService=g,this.exercises=[],this.exercisesChanged=new et.x}fetchExercises(){const a=this.authService.userId;this.firestore.collection("exercises",g=>g.where("userId","==",a)).snapshotChanges().pipe((0,Ze.U)(g=>g.map(M=>({id:M.payload.doc.id,defaultExercise:M.payload.doc.data().defaultExercise,defaultTags:M.payload.doc.data().defaultTags,description:M.payload.doc.data().description,exerciseImage:M.payload.doc.data().exerciseImage,name:M.payload.doc.data().name,userId:M.payload.doc.data().userId})))).subscribe(g=>{this.exercises=g,this.exercisesChanged.next([...this.exercises])})}addNewExercise(a){this.firestore.collection("exercises").add({...a})}updateExercise(a){this.firestore.collection("exercises").doc(a.id).update({name:a.name,description:a.description})}deleteExercise(a){this.firestore.collection("exercises").doc(a.id).delete()}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(Pt.ST),D.LFG(Me.e))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac}),p})(),nt=(()=>{class p{constructor(a,g,M){this.activeModal=a,this.exercisesService=g,this.authService=M}onSubmit(a){this.exercisesService.addNewExercise({id:"",userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:a.value.exerciseName,description:a.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Xe.Kz),D.Y36(rt),D.Y36(Me.e))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-add-exercise-modal"]],decls:20,vars:0,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name","ngModel","","placeholder","Enter name",1,"form-control"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","ngModel","","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(a,g){if(1&a){const M=D.EpF();D.TgZ(0,"div",0)(1,"h4",1),D._uU(2,"Create New Exercise"),D.qZA(),D.TgZ(3,"button",2),D.NdJ("click",function(){return g.activeModal.dismiss("Cross click")}),D.qZA()(),D.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),D._uU(9,"Name"),D.qZA(),D._UZ(10,"input",7,8),D.qZA(),D.TgZ(12,"div",5)(13,"label",9),D._uU(14,"Description"),D.qZA(),D._UZ(15,"textarea",10,11),D.qZA()()(),D.TgZ(17,"div",12)(18,"button",13),D.NdJ("click",function(){D.CHM(M);const j=D.MAs(6);return D.KtG(g.onSubmit(j))}),D._uU(19," Submit "),D.qZA()()}},dependencies:[le._Y,le.Fj,le.JJ,le.JL,le.On,le.F]}),p})();var Oe=H(6895),Kt=H(3919);let it=(()=>{class p{constructor(a,g,M,A){this.activeModal=a,this.exercisesService=g,this.authService=M,this.modalService=A}onSubmit(a){this.exercisesService.updateExercise({id:this.exerciseToEdit.id,userId:this.authService.userId,defaultExercise:!1,exerciseImage:null,name:a.value.exerciseName,description:a.value.exerciseDescription,defaultTags:null}),this.activeModal.close("Close click")}onDelete(){const a=this.modalService.open(Kt.z);a.componentInstance.message=`Are you sure you want to delete ${this.exerciseToEdit.name}?`,a.result.then(g=>{"Yes"===g&&(this.exercisesService.deleteExercise(this.exerciseToEdit),this.activeModal.close("Close click"))})}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Xe.Kz),D.Y36(rt),D.Y36(Me.e),D.Y36(Xe.FF))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-edit-exercise-modal"]],inputs:{exerciseToEdit:"exerciseToEdit"},decls:22,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","exerciseName","id","name",1,"form-control",3,"ngModel"],["nameInput","ngModel"],["for","exerciseDescription"],["id","exerciseDescription","name","exerciseDescription","rows","3","placeholder","Describe how this exercise should be preformed.",1,"form-control",3,"ngModel"],["exerciseDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(a,g){if(1&a){const M=D.EpF();D.TgZ(0,"div",0)(1,"h4",1),D._uU(2),D.qZA(),D.TgZ(3,"button",2),D.NdJ("click",function(){return g.activeModal.dismiss("Cross click")}),D.qZA()(),D.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5)(8,"label",6),D._uU(9,"Name"),D.qZA(),D._UZ(10,"input",7,8),D.qZA(),D.TgZ(12,"div",5)(13,"label",9),D._uU(14,"Description"),D.qZA(),D._UZ(15,"textarea",10,11),D.qZA()()(),D.TgZ(17,"div",12)(18,"button",13),D.NdJ("click",function(){D.CHM(M);const j=D.MAs(6);return D.KtG(g.onSubmit(j))}),D._uU(19," Submit "),D.qZA(),D.TgZ(20,"button",14),D.NdJ("click",function(){return g.onDelete()}),D._uU(21," Delete Exercise "),D.qZA()()}2&a&&(D.xp6(2),D.hij("Edit ",g.exerciseToEdit.name,""),D.xp6(8),D.Q6J("ngModel",g.exerciseToEdit.name),D.xp6(5),D.Q6J("ngModel",g.exerciseToEdit.description))},dependencies:[le._Y,le.Fj,le.JJ,le.JL,le.On,le.F]}),p})(),ct=(()=>{class p{constructor(a,g){this.firestore=a,this.authService=g,this.fitnessLogs=[],this.fitnessLogsChanged=new et.x}fetchLogs(a){const g=this.authService.userId;this.firestore.collection("fitnessLogs",M=>M.where("userId","==",g).where("parentId","==",a)).snapshotChanges().pipe((0,Ze.U)(M=>M.map(A=>({id:A.payload.doc.id,date:A.payload.doc.data().date.toDate(),text:A.payload.doc.data().text,userId:A.payload.doc.data().userId,parentId:A.payload.doc.data().parentId})))).subscribe(M=>{this.fitnessLogs=M,this.fitnessLogsChanged.next([...this.fitnessLogs])})}addNewLog(a){this.firestore.collection("fitnessLogs").add({...a})}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(Pt.ST),D.LFG(Me.e))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Ye=(()=>{class p{constructor(a,g,M){this.activeModal=a,this.authService=g,this.fitnessLogsService=M}ngOnInit(){}onSubmit(a){const g=a.value.logDescription,M=this.getDate();this.fitnessLogsService.addNewLog({id:"",date:M,text:g,userId:this.authService.userId,parentId:this.parentItem.id}),this.activeModal.close("Close click")}getDate(){return new Date}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Xe.Kz),D.Y36(Me.e),D.Y36(ct))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-add-fitness-log-modal"]],inputs:{parentItem:"parentItem"},decls:15,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["f","ngForm"],[1,"form-group"],["id","logDescription","name","logDescription","ngModel","","rows","3","placeholder","Add your log here...",1,"form-control"],["logDescriptionInput","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(a,g){if(1&a){const M=D.EpF();D.TgZ(0,"div",0)(1,"h4",1),D._uU(2),D.qZA(),D.TgZ(3,"button",2),D.NdJ("click",function(){return g.activeModal.dismiss("Cross click")}),D.qZA()(),D.TgZ(4,"div",3)(5,"form",null,4)(7,"div",5),D._UZ(8,"textarea",6,7),D.qZA()()(),D.TgZ(10,"div",8)(11,"button",9),D.NdJ("click",function(){D.CHM(M);const j=D.MAs(6);return D.KtG(g.onSubmit(j))}),D._uU(12," Submit "),D.qZA(),D.TgZ(13,"button",10),D.NdJ("click",function(){return g.activeModal.close("No")}),D._uU(14," Cancel "),D.qZA()()}2&a&&(D.xp6(2),D.hij("Add New Log for ",g.parentItem.name,""))},dependencies:[le._Y,le.Fj,le.JJ,le.JL,le.On,le.F]}),p})();var It=H(3868);function mt(p,l){if(1&p&&(D.TgZ(0,"div")(1,"span",5),D._uU(2),D.ALo(3,"date"),D.qZA(),D.TgZ(4,"span",6),D._uU(5),D.qZA()()),2&p){const a=l.$implicit;D.xp6(2),D.hij("",D.lcZ(3,2,a.date)," -"),D.xp6(3),D.hij(" ",a.text,"")}}let re=(()=>{class p{constructor(a,g,M){this.icon=a,this.modalService=g,this.fitnessLogsService=M,this.fitnessLogs=[],this.fitnessLogsLoaded=!1}ngOnInit(){this.fitnessLogsSubscription=this.fitnessLogsService.fitnessLogsChanged.subscribe(a=>{this.fitnessLogs=a,this.fitnessLogsLoaded=!0}),this.fitnessLogsService.fetchLogs(this.parentItem.id)}ngOnDestroy(){this.fitnessLogsSubscription.unsubscribe()}onClickAddLog(){this.modalService.open(Ye).componentInstance.parentItem=this.parentItem,console.log(this.fitnessLogsService.fitnessLogs)}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(De.C),D.Y36(Xe.FF),D.Y36(ct))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-fitness-logs"]],inputs:{parentItem:"parentItem"},decls:7,vars:2,consts:[[1,"logs-section"],[1,"title-section"],[1,"pencil-icon"],[3,"icon","click"],[4,"ngFor","ngForOf"],[1,"log-date"],[1,"log-text"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0)(1,"div",1)(2,"h5"),D._uU(3,"Logs"),D.qZA(),D.TgZ(4,"div",2)(5,"fa-icon",3),D.NdJ("click",function(){return g.onClickAddLog()}),D.qZA()()(),D.YNc(6,mt,6,4,"div",4),D.qZA()),2&a&&(D.xp6(5),D.Q6J("icon",g.icon.faPencilAlt),D.xp6(1),D.Q6J("ngForOf",g.fitnessLogs))},dependencies:[It.BN,Oe.sg,Oe.uU],styles:[".pencil-icon[_ngcontent-%COMP%]{cursor:pointer}.title-section[_ngcontent-%COMP%]{display:flex;gap:10px}"]}),p})(),Ke=(()=>{class p{constructor(a){this.activeModal=a}ngOnInit(){}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Xe.Kz))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-view-exercise-modal"]],inputs:{exercise:"exercise"},decls:9,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"src"],[3,"parentItem"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0)(1,"h4",1),D._uU(2),D.qZA(),D.TgZ(3,"button",2),D.NdJ("click",function(){return g.activeModal.dismiss("Cross click")}),D.qZA()(),D.TgZ(4,"div",3),D._UZ(5,"img",4),D.TgZ(6,"p"),D._uU(7),D.qZA(),D._UZ(8,"app-fitness-logs",5),D.qZA()),2&a&&(D.xp6(2),D.Oqu(g.exercise.name),D.xp6(3),D.Q6J("src",g.exercise.exerciseImage,D.LSH),D.xp6(2),D.Oqu(g.exercise.description),D.xp6(1),D.Q6J("parentItem",g.exercise))},dependencies:[re]}),p})(),_e=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-exercise-tag"]],inputs:{tag:"tag"},decls:3,vars:1,consts:[[1,"tag"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0)(1,"span"),D._uU(2),D.qZA()()),2&a&&(D.xp6(2),D.Oqu(g.tag))},styles:[".tag[_ngcontent-%COMP%]{border:2px solid black;padding:2px}"]}),p})();function Te(p,l){1&p&&D._UZ(0,"app-exercise-tag",5),2&p&&D.Q6J("tag",l.$implicit)}let Qe=(()=>{class p{constructor(a,g){this.icon=a,this.modalService=g}ngOnInit(){}onClickEditButton(){this.modalService.open(it).componentInstance.exerciseToEdit=this.exercise}onClickExerciseItem(){this.modalService.open(Ke).componentInstance.exercise=this.exercise}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(De.C),D.Y36(Xe.FF))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-exercise-library-item"]],inputs:{exercise:"exercise"},decls:7,vars:3,consts:[[1,"exercise-item-container",3,"click"],[1,"name-container"],[1,"tag-container"],[3,"tag",4,"ngFor","ngForOf"],[1,"edit-button",3,"icon","click"],[3,"tag"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0),D.NdJ("click",function(){return g.onClickExerciseItem()}),D.TgZ(1,"div",1)(2,"span"),D._uU(3),D.qZA()(),D.TgZ(4,"div",2),D.YNc(5,Te,1,1,"app-exercise-tag",3),D.qZA(),D.TgZ(6,"fa-icon",4),D.NdJ("click",function(A){return g.onClickEditButton(),A.stopPropagation()}),D.qZA()()),2&a&&(D.xp6(3),D.Oqu(g.exercise.name),D.xp6(2),D.Q6J("ngForOf",g.exercise.defaultTags),D.xp6(1),D.Q6J("icon",g.icon.faEdit))},dependencies:[It.BN,Oe.sg,_e],styles:[".exercise-item-container[_ngcontent-%COMP%]{border:2px solid grey;width:90%;margin-left:auto;margin-right:auto;display:flex;gap:20%;padding:10px;cursor:pointer}.tag-container[_ngcontent-%COMP%]{display:flex;gap:5px}.edit-button[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer;transition:background-color .5s;padding:2px;border-radius:20%}.edit-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.name-container[_ngcontent-%COMP%]{width:200px}"]}),p})(),Re=(()=>{class p{constructor(a){this.icon=a}ngOnInit(){}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(De.C))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-add-button"]],decls:2,vars:1,consts:[[1,"add-button"],[3,"icon"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0),D._UZ(1,"fa-icon",1),D.qZA()),2&a&&(D.xp6(1),D.Q6J("icon",g.icon.faPlus))},dependencies:[It.BN],styles:[".add-button[_ngcontent-%COMP%]{border:2px solid black;width:70px;height:70px;display:flex;justify-content:center;align-items:center;border-radius:50%;cursor:pointer;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#f3f3f3}fa-icon[_ngcontent-%COMP%]{font-size:2.5em}"]}),p})();function St(p,l){1&p&&D._UZ(0,"app-exercise-library-item",7),2&p&&D.Q6J("exercise",l.$implicit)}let Tt=(()=>{class p{constructor(a,g){this.exercisesService=a,this.modalService=g,this.defaultExercises=[],this.exercisesLoaded=!1}ngOnInit(){this.exercisesSubscription=this.exercisesService.exercisesChanged.subscribe(a=>{this.defaultExercises=a,this.exercisesLoaded=!0}),this.exercisesService.fetchExercises()}ngOnDestroy(){this.exercisesSubscription.unsubscribe()}onClickAddButton(){this.modalService.open(nt)}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(rt),D.Y36(Xe.FF))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-exercise-library"]],decls:9,vars:2,consts:[[3,"contentLoaded"],["pageHeader",""],["pageContent",""],[1,"exercises-container"],[3,"exercise",4,"ngFor","ngForOf"],[1,"add-button-container"],[3,"click"],[3,"exercise"]],template:function(a,g){1&a&&(D.TgZ(0,"app-content-wrapper",0)(1,"div",1)(2,"h1"),D._uU(3,"Exercise Library"),D.qZA()(),D.TgZ(4,"div",2)(5,"div",3),D.YNc(6,St,1,1,"app-exercise-library-item",4),D.qZA(),D.TgZ(7,"div",5)(8,"app-add-button",6),D.NdJ("click",function(){return g.onClickAddButton()}),D.qZA()()()()),2&a&&(D.Q6J("contentLoaded",g.exercisesLoaded),D.xp6(6),D.Q6J("ngForOf",g.defaultExercises))},dependencies:[fe.z,Oe.sg,Qe,Re],styles:[".exercises-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;flex-direction:column}app-exercise-library-item[_ngcontent-%COMP%]{width:100%}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}"]}),p})();var f1=H(8996),L1=H(9646),S1=H(4408),xt=H(727);const g1={schedule(p){let l=requestAnimationFrame,a=cancelAnimationFrame;const{delegate:g}=g1;g&&(l=g.requestAnimationFrame,a=g.cancelAnimationFrame);const M=l(A=>{a=void 0,p(A)});return new xt.w0(()=>a?.(M))},requestAnimationFrame(...p){const{delegate:l}=g1;return(l?.requestAnimationFrame||requestAnimationFrame)(...p)},cancelAnimationFrame(...p){const{delegate:l}=g1;return(l?.cancelAnimationFrame||cancelAnimationFrame)(...p)},delegate:void 0};var _1=H(7565);const qn=new class v1 extends _1.v{flush(l){this._active=!0;const a=this._scheduled;this._scheduled=void 0;const{actions:g}=this;let M;l=l||g.shift();do{if(M=l.execute(l.state,l.delay))break}while((l=g[0])&&l.id===a&&g.shift());if(this._active=!1,M){for(;(l=g[0])&&l.id===a&&g.shift();)l.unsubscribe();throw M}}}(class y1 extends S1.o{constructor(l,a){super(l,a),this.scheduler=l,this.work=a}requestAsyncId(l,a,g=0){return null!==g&&g>0?super.requestAsyncId(l,a,g):(l.actions.push(this),l._scheduled||(l._scheduled=g1.requestAnimationFrame(()=>l.flush(void 0))))}recycleAsyncId(l,a,g=0){var M;if(null!=g?g>0:this.delay>0)return super.recycleAsyncId(l,a,g);const{actions:A}=l;null!=a&&(null===(M=A[A.length-1])||void 0===M?void 0:M.id)!==a&&(g1.cancelAnimationFrame(a),l._scheduled=void 0)}});var nn=H(1135),gn=H(9770),wn=H(9751),xn=H(8505),jn=H(3151),zn=H(5363),Gn=H(9300),V1=H(3900),fn=H(2722);const Jn=["container"],Vt=new D.OlP("LottieOptions");let bn=(()=>{class p{constructor(a,g){this.ngZone=a,this.options=g,this.player$=function vn(p,l){const a=p();return(a instanceof Promise?(0,f1.D)(a).pipe((0,Ze.U)(M=>M.default||M)):(0,L1.of)(a)).pipe((0,xn.b)(M=>M.useWebWorker(l)),(0,jn.d)({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,zn.Q)(qn))}loadAnimation(a){return this.player$.pipe((0,Ze.U)(g=>this.createAnimationItem(g,a)))}resolveOptions(a,g){return Object.assign({container:g,renderer:"svg",loop:!0,autoplay:!0},a)}createAnimationItem(a,g){return this.ngZone.runOutsideAngular(()=>a.loadAnimation(g))}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(D.R0b),D.LFG(Vt))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),cn=(()=>{class p{constructor(a,g,M){this.ngZone=a,this.platformId=g,this.animationLoader=M,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new et.x,this.loadAnimation$=new et.x,this.animationItem$=new nn.X(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(a,g){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([a,g]))}getAnimationItem(){return(0,gn.P)(()=>this.animationItem$).pipe((0,Gn.h)(a=>null!==a))}awaitAnimationItemAndStartListening(a){return this.getAnimationItem().pipe((0,V1.w)(g=>new wn.y(M=>{this.ngZone.runOutsideAngular(()=>{g.addEventListener(a,A=>{this.ngZone.runOutsideAngular(()=>{M.next(A)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe((0,Gn.h)(([g])=>(0,Oe.NF)(this.platformId)&&void 0!==g.options)).pipe((0,V1.w)(([g,M])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(g.options.currentValue,M)))),(0,fn.R)(this.destroy$)).subscribe(g=>{this.ngZone.run(()=>this.animationItem$.next(g))})}destroyAnimation(){const a=this.animationItem$.getValue();null!==a&&(a.destroy(),this.animationItem$.next(null))}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(D.R0b),D.Y36(D.Lbi),D.Y36(bn))},p.\u0275dir=D.lG2({type:p,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),p})(),O2=(()=>{class p extends cn{constructor(a,g,M){super(a,g,M),this.width=null,this.height=null,this.container=null}ngOnChanges(a){super.loadAnimation(a,this.container.nativeElement)}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(D.R0b),D.Y36(D.Lbi),D.Y36(bn))},p.\u0275cmp=D.Xpm({type:p,selectors:[["ng-lottie"]],viewQuery:function(a,g){if(1&a&&D.Gf(Jn,7),2&a){let M;D.iGM(M=D.CRH())&&(g.container=M.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[D.qOj,D.TTD,D.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(a,g){1&a&&D._UZ(0,"div",0,1),2&a&&(D.Udp("width",g.width||"100%")("height",g.height||"100%"),D.Q6J("ngStyle",g.styles)("ngClass",g.containerClass))},dependencies:[Oe.ez,Oe.mk,Oe.PC],encapsulation:2,changeDetection:0}),p})(),n1=(()=>{class p{static forRoot(a){return{ngModule:p,providers:[{provide:Vt,useValue:a}]}}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=D.oAB({type:p}),p.\u0275inj=D.cJS({imports:[O2]}),p})(),h1=(()=>{class p{constructor(){this.animationTypes=new Map([["kidAgainAnimation","https://assets1.lottiefiles.com/private_files/lf30_x8jhuhr4.json"],["fitnessAnimation","https://assets2.lottiefiles.com/packages/lf20_ju61m9x9.json"],["timeManagementAnimation","https://assets1.lottiefiles.com/packages/lf20_i7ooqm2q.json"],["financeAnimation","https://assets2.lottiefiles.com/packages/lf20_qxdztkhq.json"]]),this.animationSize="medium",this.animationCreated=new D.vpe,this.animationPath=""}ngOnInit(){this.animationPath=this.getAnimationPath(this.animationKey),this.options={path:this.animationPath}}getAnimationPath(a){const g=this.animationTypes.get(a);if(null!=g)return g;throw new Error(`The animation ${a} does not exist \u{1f62d}`)}onAnimate(a){this.animationCreated.emit(a)}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-animation"]],inputs:{animationKey:"animationKey",animationSize:"animationSize"},outputs:{animationCreated:"animationCreated"},decls:2,vars:1,consts:[[1,"lottie-animation","mt-10"],[3,"options","animationCreated"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0)(1,"ng-lottie",1),D.NdJ("animationCreated",function(A){return g.onAnimate(A)})("animationCreated",function(A){return g.onAnimate(A)}),D.qZA()()),2&a&&(D.xp6(1),D.Q6J("options",g.options))},dependencies:[O2],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:relative}"]}),p})();const Bt=[{path:"",component:(()=>{class p{constructor(a){this.router=a}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Q.F0))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-home-page"]],decls:29,vars:0,consts:[[1,"home-page-section"],[1,"home-page-section-title"],["animationKey","kidAgainAnimation"],[1,"login-or-sign-up-buttons-container"],["type","button",1,"btn","btn-primary",3,"click"],["animationKey","fitnessAnimation"],["animationKey","timeManagementAnimation"],["animationKey","financeAnimation"]],template:function(a,g){1&a&&(D.TgZ(0,"div",0)(1,"div",1)(2,"h1"),D._uU(3,"An app to make adulting easier"),D.qZA(),D.TgZ(4,"h1"),D._uU(5,"So you can be a kid again"),D.qZA()(),D._UZ(6,"app-animation",2),D.TgZ(7,"div",3)(8,"button",4),D.NdJ("click",function(){return g.router.navigate(["/login"])}),D._uU(9," Login "),D.qZA(),D.TgZ(10,"button",4),D.NdJ("click",function(){return g.router.navigate(["/signup"])}),D._uU(11," Sign Up "),D.qZA()()(),D.TgZ(12,"div",0)(13,"div",1)(14,"h1"),D._uU(15,"Reach your fitness goals"),D.qZA()(),D._UZ(16,"app-animation",5),D.qZA(),D.TgZ(17,"div",0)(18,"div",1)(19,"h1"),D._uU(20,"Impress your mom"),D.qZA(),D.TgZ(21,"h1"),D._uU(22,"with your time management skills"),D.qZA()(),D._UZ(23,"app-animation",6),D.qZA(),D.TgZ(24,"div",0)(25,"div",1)(26,"h1"),D._uU(27,"Be your financial best"),D.qZA()(),D._UZ(28,"app-animation",7),D.qZA())},dependencies:[h1],styles:[".home-page-section-title[_ngcontent-%COMP%]{margin:auto;width:90%}app-animation[_ngcontent-%COMP%]{max-width:500px}.login-or-sign-up-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),p})()},{path:"login",component:ze},{path:"signup",component:de},{path:"exercise-library",component:Tt,canActivate:[Ee]},{path:"coming-soon",component:Ne,canActivate:[Ee]},{path:"shopping-list-page",loadChildren:()=>H.e(941).then(H.bind(H,5941)).then(p=>p.ShoppingListModule)},{path:"shopping-list-page/shopping-list/:shopping-list-id",loadChildren:()=>H.e(941).then(H.bind(H,5941)).then(p=>p.ShoppingListModule)}];let hn=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=D.oAB({type:p}),p.\u0275inj=D.cJS({providers:[Ee],imports:[Q.Bz.forRoot(Bt),Q.Bz]}),p})();function $1(p,l){if(1&p){const a=D.EpF();D.TgZ(0,"li",9)(1,"a",10),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return D.KtG(M.isMenuCollapsed=!0)}),D._uU(2,"Login "),D.qZA()()}2&p&&(D.xp6(1),D.Q6J("routerLink","login"))}function Kn(p,l){if(1&p){const a=D.EpF();D.TgZ(0,"li",9)(1,"a",10),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return D.KtG(M.isMenuCollapsed=!0)}),D._uU(2,"Sign Up "),D.qZA()()}2&p&&(D.xp6(1),D.Q6J("routerLink","signup"))}function q1(p,l){if(1&p&&(D.TgZ(0,"a",17),D._uU(1),D.qZA()),2&p){const a=l.ngIf;D.xp6(1),D.hij(" ",a.email," ")}}function U1(p,l){if(1&p){const a=D.EpF();D.TgZ(0,"li",9)(1,"div",11)(2,"span",12),D._UZ(3,"fa-icon",13),D.YNc(4,q1,2,1,"a",14),D.ALo(5,"async"),D.qZA(),D.TgZ(6,"div",15)(7,"button",16),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return M.isMenuCollapsed=!0,D.KtG(M.authService.logout())}),D._uU(8," Sign Out "),D.qZA()()()()}if(2&p){const a=D.oxw();D.xp6(3),D.Q6J("icon",a.icon.faUser),D.xp6(1),D.Q6J("ngIf",D.lcZ(5,2,a.authService.user$))}}const Z1=function(){return["active"]};function r1(p,l){if(1&p){const a=D.EpF();D.TgZ(0,"li",9)(1,"div",11)(2,"span",12),D._UZ(3,"fa-icon",13),D.TgZ(4,"a",17),D._uU(5,"Fitness"),D.qZA()(),D.TgZ(6,"div",15)(7,"button",18),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return D.KtG(M.isMenuCollapsed=!0)}),D._uU(8," Exercises "),D.qZA(),D.TgZ(9,"button",18),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return D.KtG(M.isMenuCollapsed=!0)}),D._uU(10," Workouts "),D.qZA(),D.TgZ(11,"button",18),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return D.KtG(M.isMenuCollapsed=!0)}),D._uU(12," Plans "),D.qZA()()()()}if(2&p){const a=D.oxw();D.xp6(3),D.Q6J("icon",a.icon.faDumbbell),D.xp6(4),D.Q6J("routerLink","exercise-library")("routerLinkActive",D.DdM(7,Z1)),D.xp6(2),D.Q6J("routerLink","coming-soon")("routerLinkActive",D.DdM(8,Z1)),D.xp6(2),D.Q6J("routerLink","coming-soon")("routerLinkActive",D.DdM(9,Z1))}}function Mt(p,l){if(1&p){const a=D.EpF();D.TgZ(0,"li",9)(1,"div",11)(2,"span",12),D._UZ(3,"fa-icon",13),D.TgZ(4,"a",17),D._uU(5,"Tool Belt"),D.qZA()(),D.TgZ(6,"div",15)(7,"button",18),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return D.KtG(M.isMenuCollapsed=!0)}),D._uU(8," Shopping List "),D.qZA(),D.TgZ(9,"button",18),D.NdJ("click",function(){D.CHM(a);const M=D.oxw();return D.KtG(M.isMenuCollapsed=!0)}),D._uU(10," Meal Planner "),D.qZA()()()()}if(2&p){const a=D.oxw();D.xp6(3),D.Q6J("icon",a.icon.faTools),D.xp6(4),D.Q6J("routerLink","shopping-list-page")("routerLinkActive",D.DdM(5,Z1)),D.xp6(2),D.Q6J("routerLink","coming-soon")("routerLinkActive",D.DdM(6,Z1))}}let Wt=(()=>{class p{constructor(a,g){this.icon=a,this.authService=g,this.isAuth=!1,this.isMenuCollapsed=!0}ngOnInit(){this.authSubscription=this.authService.authChange.subscribe(a=>{this.isAuth=a})}ngOnDestroy(){this.authSubscription.unsubscribe()}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(De.C),D.Y36(Me.e))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-nav"]],decls:16,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-light","mb-3"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],[1,"three","navbar-toggler"],["id","hamburger-1",1,"hamburger",3,"click"],[1,"line"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["class","nav-item active",4,"ngIf"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink","click"],["ngbDropdown",""],[1,"nav-link-container"],[3,"icon"],["class","nav-link","style","cursor: pointer","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],["ngbDropdownToggle","",1,"nav-link",2,"cursor","pointer"],["ngbDropdownItem","",3,"routerLink","routerLinkActive","click"]],template:function(a,g){1&a&&(D.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),D._uU(3,"Adultery"),D.qZA(),D.TgZ(4,"div",3)(5,"div",4),D.NdJ("click",function(){return g.isMenuCollapsed=!g.isMenuCollapsed}),D._UZ(6,"span",5)(7,"span",5)(8,"span",5),D.qZA()(),D.TgZ(9,"div",6)(10,"ul",7),D.YNc(11,$1,3,1,"li",8),D.YNc(12,Kn,3,1,"li",8),D.YNc(13,U1,9,4,"li",8),D.YNc(14,r1,13,10,"li",8),D.YNc(15,Mt,11,7,"li",8),D.qZA()()()()),2&a&&(D.xp6(2),D.Q6J("routerLink","."),D.xp6(3),D.ekj("is-active",!g.isMenuCollapsed),D.xp6(4),D.Q6J("ngbCollapse",g.isMenuCollapsed),D.xp6(2),D.Q6J("ngIf",!g.isAuth),D.xp6(1),D.Q6J("ngIf",!g.isAuth),D.xp6(1),D.Q6J("ngIf",g.isAuth),D.xp6(1),D.Q6J("ngIf",g.isAuth),D.xp6(1),D.Q6J("ngIf",g.isAuth))},dependencies:[Q.rH,Q.yS,Q.Od,It.BN,Xe._D,Xe.jt,Xe.iD,Xe.Vi,Xe.TH,Xe.M2,Oe.O5,Oe.Ov],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.navbar[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{background-color:#000;min-height:90px}.navbar-logo-img[_ngcontent-%COMP%]{max-height:75px}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]{cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus, .active[_ngcontent-%COMP%], .a[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]:active, .navbar-brand[_ngcontent-%COMP%]:focus{color:#ababab}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item.active[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]:hover{background-color:#000;color:#ababab}.navbar-toggler[_ngcontent-%COMP%]{color:#fff}.hamburger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:50px;height:5px;background-color:#ecf0f1;display:block;margin:8px auto;transition:all .3s ease-in-out}.hamburger[_ngcontent-%COMP%]:hover{cursor:pointer}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(2){opacity:0}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){transform:translateY(13px) rotate(45deg)}#hamburger-1.is-active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-13px) rotate(-45deg)}.nav-link-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media (min-width: 650px){fa-icon[_ngcontent-%COMP%]{display:none}}']}),p})();const w1=[[["","pageHeader",""]],[["","pageContent",""]],[["","pageFooter",""]]],T1=["[pageHeader]","[pageContent]","[pageFooter]"];let I1=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-page-wrapper"]],ngContentSelectors:T1,decls:7,vars:0,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer"]],template:function(a,g){1&a&&(D.F$t(w1),D.TgZ(0,"div",0)(1,"div",1),D.Hsn(2),D.qZA(),D.TgZ(3,"div",2),D.Hsn(4,1),D.qZA(),D.TgZ(5,"div",3),D.Hsn(6,2),D.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll;margin-top:90px;display:flex;justify-content:center}.adultery-page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;overflow:hidden}']}),p})(),Se=(()=>{class p{constructor(a,g){this.authService=g,this.title="adultery"}ngOnInit(){this.authService.iniAuthListener()}}return p.\u0275fac=function(a){return new(a||p)(D.Y36(Pt.ST),D.Y36(Me.e))},p.\u0275cmp=D.Xpm({type:p,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page-wrapper"],[1,"desktop-header"],["pageHeader","",1,"header"],["pageContent","",1,"content"],["pageFooter","",1,"footer"]],template:function(a,g){1&a&&(D.TgZ(0,"app-page-wrapper",0),D._UZ(1,"div",1),D.TgZ(2,"div",2),D._UZ(3,"app-nav"),D.qZA(),D.TgZ(4,"div",3),D._UZ(5,"router-outlet"),D.qZA(),D._UZ(6,"div",4),D.qZA())},dependencies:[Q.lC,Wt,I1],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}']}),p})();var be=H(529);let xe=(()=>{class p{constructor(a){this.firestore=a,this.defaultQuotes=[],this.quotesChanged=new et.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,Ze.U)(a=>a.map(g=>({id:g.payload.doc.id,...g.payload.doc.data()})))).subscribe(a=>{this.defaultQuotes=a,this.quotesChanged.next([...this.defaultQuotes])})}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(Pt.ST))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac}),p})();class gt{}const jt="*";function F1(p,l=null){return{type:2,steps:p,options:l}}function Ce(p){return{type:6,styles:p,offset:null}}function _2(p){Promise.resolve().then(p)}class R1{constructor(l=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const a="start"==l?this._onStartFns:this._onDoneFns;a.forEach(g=>g()),a.length=0}}class Mn{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let a=0,g=0,M=0;const A=this.players.length;0==A?_2(()=>this._onFinish()):this.players.forEach(j=>{j.onDone(()=>{++a==A&&this._onFinish()}),j.onDestroy(()=>{++g==A&&this._onDestroy()}),j.onStart(()=>{++M==A&&this._onStart()})}),this.totalTime=this.players.reduce((j,K)=>Math.max(j,K.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const a=l*this.totalTime;this.players.forEach(g=>{const M=g.totalTime?Math.min(1,a/g.totalTime):1;g.setPosition(M)})}getPosition(){const l=this.players.reduce((a,g)=>null===a||g.totalTime>a.totalTime?g:a,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const a="start"==l?this._onStartFns:this._onDoneFns;a.forEach(g=>g()),a.length=0}}function T2(p){return new D.vHH(3e3,!1)}function yn(){return typeof window<"u"&&typeof window.document<"u"}function Di(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function G2(p){switch(p.length){case 0:return new R1;case 1:return p[0];default:return new Mn(p)}}function $2(p,l,a,g,M=new Map,A=new Map){const j=[],K=[];let ue=-1,Le=null;if(g.forEach(Ot=>{const _t=Ot.get("offset"),Xt=_t==ue,j1=Xt&&Le||new Map;Ot.forEach((k1,Q1)=>{let un=Q1,Ln=k1;if("offset"!==Q1)switch(un=l.normalizePropertyName(un,j),Ln){case"!":Ln=M.get(Q1);break;case jt:Ln=A.get(Q1);break;default:Ln=l.normalizeStyleValue(Q1,un,Ln,j)}j1.set(un,Ln)}),Xt||K.push(j1),Le=j1,ue=_t}),j.length)throw function zr(p){return new D.vHH(3502,!1)}();return K}function I2(p,l,a,g){switch(l){case"start":p.onStart(()=>g(a&&Fi(a,"start",p)));break;case"done":p.onDone(()=>g(a&&Fi(a,"done",p)));break;case"destroy":p.onDestroy(()=>g(a&&Fi(a,"destroy",p)))}}function Fi(p,l,a){const A=Lr(p.element,p.triggerName,p.fromState,p.toState,l||p.phaseName,a.totalTime??p.totalTime,!!a.disabled),j=p._data;return null!=j&&(A._data=j),A}function Lr(p,l,a,g,M="",A=0,j){return{element:p,triggerName:l,fromState:a,toState:g,phaseName:M,totalTime:A,disabled:!!j}}function o2(p,l,a){let g=p.get(l);return g||p.set(l,g=a),g}function Xr(p){const l=p.indexOf(":");return[p.substring(1,l),p.slice(l+1)]}let oi=(p,l)=>!1,ai=(p,l,a)=>[],zi=null;function Z2(p){const l=p.parentNode||p.host;return l===zi?null:l}(Di()||typeof Element<"u")&&(yn()?(zi=(()=>document.documentElement)(),oi=(p,l)=>{for(;l;){if(l===p)return!0;l=Z2(l)}return!1}):oi=(p,l)=>p.contains(l),ai=(p,l,a)=>{if(a)return Array.from(p.querySelectorAll(l));const g=p.querySelector(l);return g?[g]:[]});let vi=null,br=!1;const Q2=oi,Ei=ai;let Qn=(()=>{class p{validateStyleProperty(a){return function yi(p){vi||(vi=function _i(){return typeof document<"u"?document.body:null}()||{},br=!!vi.style&&"WebkitAppearance"in vi.style);let l=!0;return vi.style&&!function gi(p){return"ebkit"==p.substring(1,6)}(p)&&(l=p in vi.style,!l&&br&&(l="Webkit"+p.charAt(0).toUpperCase()+p.slice(1)in vi.style)),l}(a)}matchesElement(a,g){return!1}containsElement(a,g){return Q2(a,g)}getParentElement(a){return Z2(a)}query(a,g,M){return Ei(a,g,M)}computeStyle(a,g,M){return M||""}animate(a,g,M,A,j,K=[],ue){return new R1(M,A)}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac}),p})(),ci=(()=>{class p{}return p.NOOP=new Qn,p})();const Fn="ng-enter",D2="ng-leave",v2="ng-trigger",X2=".ng-trigger",Zr="ng-animating",Si=".ng-animating";function tn(p){if("number"==typeof p)return p;const l=p.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:ar(parseFloat(l[1]),l[2])}function ar(p,l){return"s"===l?1e3*p:p}function Zi(p,l,a){return p.hasOwnProperty("duration")?p:function ls(p,l,a){let M,A=0,j="";if("string"==typeof p){const K=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===K)return l.push(T2()),{duration:0,delay:0,easing:""};M=ar(parseFloat(K[1]),K[2]);const ue=K[3];null!=ue&&(A=ar(parseFloat(ue),K[4]));const Le=K[5];Le&&(j=Le)}else M=p;if(!a){let K=!1,ue=l.length;M<0&&(l.push(function s2(){return new D.vHH(3100,!1)}()),K=!0),A<0&&(l.push(function Y2(){return new D.vHH(3101,!1)}()),K=!0),K&&l.splice(ue,0,T2())}return{duration:M,delay:A,easing:j}}(p,l,a)}function n2(p,l={}){return Object.keys(p).forEach(a=>{l[a]=p[a]}),l}function f2(p){const l=new Map;return Object.keys(p).forEach(a=>{l.set(a,p[a])}),l}function li(p,l=new Map,a){if(a)for(let[g,M]of a)l.set(g,M);for(let[g,M]of p)l.set(g,M);return l}function Bi(p,l,a){return a?l+":"+a+";":""}function Cr(p){let l="";for(let a=0;a<p.style.length;a++){const g=p.style.item(a);l+=Bi(0,g,p.style.getPropertyValue(g))}for(const a in p.style)p.style.hasOwnProperty(a)&&!a.startsWith("_")&&(l+=Bi(0,Ns(a),p.style[a]));p.setAttribute("style",l)}function W2(p,l,a){p.style&&(l.forEach((g,M)=>{const A=a2(M);a&&!a.has(M)&&a.set(M,p.style[A]),p.style[A]=g}),Di()&&Cr(p))}function Ui(p,l){p.style&&(l.forEach((a,g)=>{const M=a2(g);p.style[M]=""}),Di()&&Cr(p))}function Ni(p){return Array.isArray(p)?1==p.length?p[0]:F1(p):p}const qi=new RegExp("{{\\s*(.+?)\\s*}}","g");function At(p){let l=[];if("string"==typeof p){let a;for(;a=qi.exec(p);)l.push(a[1]);qi.lastIndex=0}return l}function rn(p,l,a){const g=p.toString(),M=g.replace(qi,(A,j)=>{let K=l[j];return null==K&&(a.push(function A2(p){return new D.vHH(3003,!1)}()),K=""),K.toString()});return M==g?p:M}function Oi(p){const l=[];let a=p.next();for(;!a.done;)l.push(a.value),a=p.next();return l}const Mr=/-+([a-z0-9])/g;function a2(p){return p.replace(Mr,(...l)=>l[1].toUpperCase())}function Ns(p){return p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function x2(p,l,a){switch(l.type){case 7:return p.visitTrigger(l,a);case 0:return p.visitState(l,a);case 1:return p.visitTransition(l,a);case 2:return p.visitSequence(l,a);case 3:return p.visitGroup(l,a);case 4:return p.visitAnimate(l,a);case 5:return p.visitKeyframes(l,a);case 6:return p.visitStyle(l,a);case 8:return p.visitReference(l,a);case 9:return p.visitAnimateChild(l,a);case 10:return p.visitAnimateRef(l,a);case 11:return p.visitQuery(l,a);case 12:return p.visitStagger(l,a);default:throw function g2(p){return new D.vHH(3004,!1)}()}}function cr(p,l){return window.getComputedStyle(p)[l]}function Bn(p,l){const a=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(g=>function lr(p,l,a){if(":"==p[0]){const ue=function Yi(p,l){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,g)=>parseFloat(g)>parseFloat(a);case":decrement":return(a,g)=>parseFloat(g)<parseFloat(a);default:return l.push(function mi(p){return new D.vHH(3016,!1)}()),"* => *"}}(p,a);if("function"==typeof ue)return void l.push(ue);p=ue}const g=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return a.push(function rr(p){return new D.vHH(3015,!1)}()),l;const M=g[1],A=g[2],j=g[3];l.push(Rr(M,j));"<"==A[0]&&!("*"==M&&"*"==j)&&l.push(Rr(j,M))}(g,a,l)):a.push(p),a}const wr=new Set(["true","1"]),ur=new Set(["false","0"]);function Rr(p,l){const a=wr.has(p)||ur.has(p),g=wr.has(l)||ur.has(l);return(M,A)=>{let j="*"==p||p==M,K="*"==l||l==A;return!j&&a&&"boolean"==typeof M&&(j=M?wr.has(p):ur.has(p)),!K&&g&&"boolean"==typeof A&&(K=A?wr.has(l):ur.has(l)),j&&K}}const W=new RegExp("s*:selfs*,?","g");function ee(p,l,a,g){return new ve(p).build(l,a,g)}class ve{constructor(l){this._driver=l}build(l,a,g){const M=new Nt(a);return this._resetContextStyleTimingState(M),x2(this,Ni(l),M)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,a){let g=a.queryCount=0,M=a.depCount=0;const A=[],j=[];return"@"==l.name.charAt(0)&&a.errors.push(function Tn(){return new D.vHH(3006,!1)}()),l.definitions.forEach(K=>{if(this._resetContextStyleTimingState(a),0==K.type){const ue=K,Le=ue.name;Le.toString().split(/\s*,\s*/).forEach(Ot=>{ue.name=Ot,A.push(this.visitState(ue,a))}),ue.name=Le}else if(1==K.type){const ue=this.visitTransition(K,a);g+=ue.queryCount,M+=ue.depCount,j.push(ue)}else a.errors.push(function xr(){return new D.vHH(3007,!1)}())}),{type:7,name:l.name,states:A,transitions:j,queryCount:g,depCount:M,options:null}}visitState(l,a){const g=this.visitStyle(l.styles,a),M=l.options&&l.options.params||null;if(g.containsDynamicStyles){const A=new Set,j=M||{};g.styles.forEach(K=>{K instanceof Map&&K.forEach(ue=>{At(ue).forEach(Le=>{j.hasOwnProperty(Le)||A.add(Le)})})}),A.size&&(Oi(A.values()),a.errors.push(function k2(p,l){return new D.vHH(3008,!1)}()))}return{type:0,name:l.name,style:g,options:M?{params:M}:null}}visitTransition(l,a){a.queryCount=0,a.depCount=0;const g=x2(this,Ni(l.animation),a);return{type:1,matchers:Bn(l.expr,a.errors),animation:g,queryCount:a.queryCount,depCount:a.depCount,options:$(l.options)}}visitSequence(l,a){return{type:2,steps:l.steps.map(g=>x2(this,g,a)),options:$(l.options)}}visitGroup(l,a){const g=a.currentTime;let M=0;const A=l.steps.map(j=>{a.currentTime=g;const K=x2(this,j,a);return M=Math.max(M,a.currentTime),K});return a.currentTime=M,{type:3,steps:A,options:$(l.options)}}visitAnimate(l,a){const g=function z(p,l){if(p.hasOwnProperty("duration"))return p;if("number"==typeof p)return O(Zi(p,l).duration,0,"");const a=p;if(a.split(/\s+/).some(A=>"{"==A.charAt(0)&&"{"==A.charAt(1))){const A=O(0,0,"");return A.dynamic=!0,A.strValue=a,A}const M=Zi(a,l);return O(M.duration,M.delay,M.easing)}(l.timings,a.errors);a.currentAnimateTimings=g;let M,A=l.styles?l.styles:Ce({});if(5==A.type)M=this.visitKeyframes(A,a);else{let j=l.styles,K=!1;if(!j){K=!0;const Le={};g.easing&&(Le.easing=g.easing),j=Ce(Le)}a.currentTime+=g.duration+g.delay;const ue=this.visitStyle(j,a);ue.isEmptyStep=K,M=ue}return a.currentAnimateTimings=null,{type:4,timings:g,style:M,options:null}}visitStyle(l,a){const g=this._makeStyleAst(l,a);return this._validateStyleAst(g,a),g}_makeStyleAst(l,a){const g=[],M=Array.isArray(l.styles)?l.styles:[l.styles];for(let K of M)"string"==typeof K?K===jt?g.push(K):a.errors.push(new D.vHH(3002,!1)):g.push(f2(K));let A=!1,j=null;return g.forEach(K=>{if(K instanceof Map&&(K.has("easing")&&(j=K.get("easing"),K.delete("easing")),!A))for(let ue of K.values())if(ue.toString().indexOf("{{")>=0){A=!0;break}}),{type:6,styles:g,easing:j,offset:l.offset,containsDynamicStyles:A,options:null}}_validateStyleAst(l,a){const g=a.currentAnimateTimings;let M=a.currentTime,A=a.currentTime;g&&A>0&&(A-=g.duration+g.delay),l.styles.forEach(j=>{"string"!=typeof j&&j.forEach((K,ue)=>{const Le=a.collectedStyles.get(a.currentQuerySelector),Ot=Le.get(ue);let _t=!0;Ot&&(A!=M&&A>=Ot.startTime&&M<=Ot.endTime&&(a.errors.push(function ri(p,l,a,g,M){return new D.vHH(3010,!1)}()),_t=!1),A=Ot.startTime),_t&&Le.set(ue,{startTime:A,endTime:M}),a.options&&function Wi(p,l,a){const g=l.params||{},M=At(p);M.length&&M.forEach(A=>{g.hasOwnProperty(A)||a.push(function R2(p){return new D.vHH(3001,!1)}())})}(K,a.options,a.errors)})})}visitKeyframes(l,a){const g={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function si(){return new D.vHH(3011,!1)}()),g;let A=0;const j=[];let K=!1,ue=!1,Le=0;const Ot=l.steps.map(Ln=>{const y2=this._makeStyleAst(Ln,a);let h2=null!=y2.offset?y2.offset:function Et(p){if("string"==typeof p)return null;let l=null;if(Array.isArray(p))p.forEach(a=>{if(a instanceof Map&&a.has("offset")){const g=a;l=parseFloat(g.get("offset")),g.delete("offset")}});else if(p instanceof Map&&p.has("offset")){const a=p;l=parseFloat(a.get("offset")),a.delete("offset")}return l}(y2.styles),z2=0;return null!=h2&&(A++,z2=y2.offset=h2),ue=ue||z2<0||z2>1,K=K||z2<Le,Le=z2,j.push(z2),y2});ue&&a.errors.push(function P2(){return new D.vHH(3012,!1)}()),K&&a.errors.push(function Pn(){return new D.vHH(3200,!1)}());const _t=l.steps.length;let Xt=0;A>0&&A<_t?a.errors.push(function xi(){return new D.vHH(3202,!1)}()):0==A&&(Xt=1/(_t-1));const j1=_t-1,k1=a.currentTime,Q1=a.currentAnimateTimings,un=Q1.duration;return Ot.forEach((Ln,y2)=>{const h2=Xt>0?y2==j1?1:Xt*y2:j[y2],z2=h2*un;a.currentTime=k1+Q1.delay+z2,Q1.duration=z2,this._validateStyleAst(Ln,a),Ln.offset=h2,g.styles.push(Ln)}),g}visitReference(l,a){return{type:8,animation:x2(this,Ni(l.animation),a),options:$(l.options)}}visitAnimateChild(l,a){return a.depCount++,{type:9,options:$(l.options)}}visitAnimateRef(l,a){return{type:10,animation:this.visitReference(l.animation,a),options:$(l.options)}}visitQuery(l,a){const g=a.currentQuerySelector,M=l.options||{};a.queryCount++,a.currentQuery=l;const[A,j]=function je(p){const l=!!p.split(/\s*,\s*/).find(a=>":self"==a);return l&&(p=p.replace(W,"")),p=p.replace(/@\*/g,X2).replace(/@\w+/g,a=>X2+"-"+a.slice(1)).replace(/:animating/g,Si),[p,l]}(l.selector);a.currentQuerySelector=g.length?g+" "+A:A,o2(a.collectedStyles,a.currentQuerySelector,new Map);const K=x2(this,Ni(l.animation),a);return a.currentQuery=null,a.currentQuerySelector=g,{type:11,selector:A,limit:M.limit||0,optional:!!M.optional,includeSelf:j,animation:K,originalSelector:l.selector,options:$(l.options)}}visitStagger(l,a){a.currentQuery||a.errors.push(function En(){return new D.vHH(3013,!1)}());const g="full"===l.timings?{duration:0,delay:0,easing:"full"}:Zi(l.timings,a.errors,!0);return{type:12,animation:x2(this,Ni(l.animation),a),timings:g,options:null}}}class Nt{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $(p){return p?(p=n2(p)).params&&(p.params=function yt(p){return p?n2(p):null}(p.params)):p={},p}function O(p,l,a){return{duration:p,delay:l,easing:a}}function X(p,l,a,g,M,A,j=null,K=!1){return{type:1,element:p,keyframes:l,preStyleProps:a,postStyleProps:g,duration:M,delay:A,totalTime:M+A,easing:j,subTimeline:K}}class me{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,a){let g=this._map.get(l);g||this._map.set(l,g=[]),g.push(...a)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const e1=new RegExp(":enter","g"),sn=new RegExp(":leave","g");function ln(p,l,a,g,M,A=new Map,j=new Map,K,ue,Le=[]){return(new on).buildKeyframes(p,l,a,g,M,A,j,K,ue,Le)}class on{buildKeyframes(l,a,g,M,A,j,K,ue,Le,Ot=[]){Le=Le||new me;const _t=new In(l,a,Le,M,A,Ot,[]);_t.options=ue;const Xt=ue.delay?tn(ue.delay):0;_t.currentTimeline.delayNextStep(Xt),_t.currentTimeline.setStyles([j],null,_t.errors,ue),x2(this,g,_t);const j1=_t.timelines.filter(k1=>k1.containsAnimation());if(j1.length&&K.size){let k1;for(let Q1=j1.length-1;Q1>=0;Q1--){const un=j1[Q1];if(un.element===a){k1=un;break}}k1&&!k1.allowOnlyTimelineStyles()&&k1.setStyles([K],null,_t.errors,ue)}return j1.length?j1.map(k1=>k1.buildKeyframes()):[X(a,[],[],[],0,Xt,"",!1)]}visitTrigger(l,a){}visitState(l,a){}visitTransition(l,a){}visitAnimateChild(l,a){const g=a.subInstructions.get(a.element);if(g){const M=a.createSubContext(l.options),A=a.currentTimeline.currentTime,j=this._visitSubInstructions(g,M,M.options);A!=j&&a.transformIntoNewTimeline(j)}a.previousNode=l}visitAnimateRef(l,a){const g=a.createSubContext(l.options);g.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],a,g),this.visitReference(l.animation,g),a.transformIntoNewTimeline(g.currentTimeline.currentTime),a.previousNode=l}_applyAnimationRefDelays(l,a,g){for(const M of l){const A=M?.delay;if(A){const j="number"==typeof A?A:tn(rn(A,M?.params??{},a.errors));g.delayNextStep(j)}}}_visitSubInstructions(l,a,g){let A=a.currentTimeline.currentTime;const j=null!=g.duration?tn(g.duration):null,K=null!=g.delay?tn(g.delay):null;return 0!==j&&l.forEach(ue=>{const Le=a.appendInstructionToTimeline(ue,j,K);A=Math.max(A,Le.duration+Le.delay)}),A}visitReference(l,a){a.updateOptions(l.options,!0),x2(this,l.animation,a),a.previousNode=l}visitSequence(l,a){const g=a.subContextCount;let M=a;const A=l.options;if(A&&(A.params||A.delay)&&(M=a.createSubContext(A),M.transformIntoNewTimeline(),null!=A.delay)){6==M.previousNode.type&&(M.currentTimeline.snapshotCurrentStyles(),M.previousNode=$n);const j=tn(A.delay);M.delayNextStep(j)}l.steps.length&&(l.steps.forEach(j=>x2(this,j,M)),M.currentTimeline.applyStylesToKeyframe(),M.subContextCount>g&&M.transformIntoNewTimeline()),a.previousNode=l}visitGroup(l,a){const g=[];let M=a.currentTimeline.currentTime;const A=l.options&&l.options.delay?tn(l.options.delay):0;l.steps.forEach(j=>{const K=a.createSubContext(l.options);A&&K.delayNextStep(A),x2(this,j,K),M=Math.max(M,K.currentTimeline.currentTime),g.push(K.currentTimeline)}),g.forEach(j=>a.currentTimeline.mergeTimelineCollectedStyles(j)),a.transformIntoNewTimeline(M),a.previousNode=l}_visitTiming(l,a){if(l.dynamic){const g=l.strValue;return Zi(a.params?rn(g,a.params,a.errors):g,a.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,a){const g=a.currentAnimateTimings=this._visitTiming(l.timings,a),M=a.currentTimeline;g.delay&&(a.incrementTime(g.delay),M.snapshotCurrentStyles());const A=l.style;5==A.type?this.visitKeyframes(A,a):(a.incrementTime(g.duration),this.visitStyle(A,a),M.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=l}visitStyle(l,a){const g=a.currentTimeline,M=a.currentAnimateTimings;!M&&g.hasCurrentStyleProperties()&&g.forwardFrame();const A=M&&M.easing||l.easing;l.isEmptyStep?g.applyEmptyStep(A):g.setStyles(l.styles,A,a.errors,a.options),a.previousNode=l}visitKeyframes(l,a){const g=a.currentAnimateTimings,M=a.currentTimeline.duration,A=g.duration,K=a.createSubContext().currentTimeline;K.easing=g.easing,l.styles.forEach(ue=>{K.forwardTime((ue.offset||0)*A),K.setStyles(ue.styles,ue.easing,a.errors,a.options),K.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(K),a.transformIntoNewTimeline(M+A),a.previousNode=l}visitQuery(l,a){const g=a.currentTimeline.currentTime,M=l.options||{},A=M.delay?tn(M.delay):0;A&&(6===a.previousNode.type||0==g&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=$n);let j=g;const K=a.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!M.optional,a.errors);a.currentQueryTotal=K.length;let ue=null;K.forEach((Le,Ot)=>{a.currentQueryIndex=Ot;const _t=a.createSubContext(l.options,Le);A&&_t.delayNextStep(A),Le===a.element&&(ue=_t.currentTimeline),x2(this,l.animation,_t),_t.currentTimeline.applyStylesToKeyframe(),j=Math.max(j,_t.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(j),ue&&(a.currentTimeline.mergeTimelineCollectedStyles(ue),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=l}visitStagger(l,a){const g=a.parentContext,M=a.currentTimeline,A=l.timings,j=Math.abs(A.duration),K=j*(a.currentQueryTotal-1);let ue=j*a.currentQueryIndex;switch(A.duration<0?"reverse":A.easing){case"reverse":ue=K-ue;break;case"full":ue=g.currentStaggerTime}const Ot=a.currentTimeline;ue&&Ot.delayNextStep(ue);const _t=Ot.currentTime;x2(this,l.animation,a),a.previousNode=l,g.currentStaggerTime=M.currentTime-_t+(M.startTime-g.currentTimeline.startTime)}}const $n={};class In{constructor(l,a,g,M,A,j,K,ue){this._driver=l,this.element=a,this.subInstructions=g,this._enterClassName=M,this._leaveClassName=A,this.errors=j,this.timelines=K,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$n,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ue||new pn(this._driver,a,0),K.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,a){if(!l)return;const g=l;let M=this.options;null!=g.duration&&(M.duration=tn(g.duration)),null!=g.delay&&(M.delay=tn(g.delay));const A=g.params;if(A){let j=M.params;j||(j=this.options.params={}),Object.keys(A).forEach(K=>{(!a||!j.hasOwnProperty(K))&&(j[K]=rn(A[K],j,this.errors))})}}_copyOptions(){const l={};if(this.options){const a=this.options.params;if(a){const g=l.params={};Object.keys(a).forEach(M=>{g[M]=a[M]})}}return l}createSubContext(l=null,a,g){const M=a||this.element,A=new In(this._driver,M,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(M,g||0));return A.previousNode=this.previousNode,A.currentAnimateTimings=this.currentAnimateTimings,A.options=this._copyOptions(),A.updateOptions(l),A.currentQueryIndex=this.currentQueryIndex,A.currentQueryTotal=this.currentQueryTotal,A.parentContext=this,this.subContextCount++,A}transformIntoNewTimeline(l){return this.previousNode=$n,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,a,g){const M={duration:a??l.duration,delay:this.currentTimeline.currentTime+(g??0)+l.delay,easing:""},A=new Dr(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,M,l.stretchStartingKeyframe);return this.timelines.push(A),M}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,a,g,M,A,j){let K=[];if(M&&K.push(this.element),l.length>0){l=(l=l.replace(e1,"."+this._enterClassName)).replace(sn,"."+this._leaveClassName);let Le=this._driver.query(this.element,l,1!=g);0!==g&&(Le=g<0?Le.slice(Le.length+g,Le.length):Le.slice(0,g)),K.push(...Le)}return!A&&0==K.length&&j.push(function M2(p){return new D.vHH(3014,!1)}()),K}}class pn{constructor(l,a,g,M){this._driver=l,this.element=a,this.startTime=g,this._elementTimelineStylesLookup=M,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+l),a&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,a){return this.applyStylesToKeyframe(),new pn(this._driver,l,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,a){this._localTimelineStyles.set(l,a),this._globalTimelineStyles.set(l,a),this._styleSummary.set(l,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[a,g]of this._globalTimelineStyles)this._backFill.set(a,g||jt),this._currentKeyframe.set(a,jt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,a,g,M){a&&this._previousKeyframe.set("easing",a);const A=M&&M.params||{},j=function dr(p,l){const a=new Map;let g;return p.forEach(M=>{if("*"===M){g=g||l.keys();for(let A of g)a.set(A,jt)}else li(M,a)}),a}(l,this._globalTimelineStyles);for(let[K,ue]of j){const Le=rn(ue,A,g);this._pendingStyles.set(K,Le),this._localTimelineStyles.has(K)||this._backFill.set(K,this._globalTimelineStyles.get(K)??jt),this._updateStyle(K,Le)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,a)=>{this._currentKeyframe.set(a,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,l)}))}snapshotCurrentStyles(){for(let[l,a]of this._localTimelineStyles)this._pendingStyles.set(l,a),this._updateStyle(l,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let a in this._currentKeyframe)l.push(a);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((a,g)=>{const M=this._styleSummary.get(g);(!M||a.time>M.time)&&this._updateStyle(g,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,a=new Set,g=1===this._keyframes.size&&0===this.duration;let M=[];this._keyframes.forEach((K,ue)=>{const Le=li(K,new Map,this._backFill);Le.forEach((Ot,_t)=>{"!"===Ot?l.add(_t):Ot===jt&&a.add(_t)}),g||Le.set("offset",ue/this.duration),M.push(Le)});const A=l.size?Oi(l.values()):[],j=a.size?Oi(a.values()):[];if(g){const K=M[0],ue=new Map(K);K.set("offset",0),ue.set("offset",1),M=[K,ue]}return X(this.element,M,A,j,this.duration,this.startTime,this.easing,!1)}}class Dr extends pn{constructor(l,a,g,M,A,j,K=!1){super(l,a,j.delay),this.keyframes=g,this.preStyleProps=M,this.postStyleProps=A,this._stretchStartingKeyframe=K,this.timings={duration:j.duration,delay:j.delay,easing:j.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:a,duration:g,easing:M}=this.timings;if(this._stretchStartingKeyframe&&a){const A=[],j=g+a,K=a/j,ue=li(l[0]);ue.set("offset",0),A.push(ue);const Le=li(l[0]);Le.set("offset",Qi(K)),A.push(Le);const Ot=l.length-1;for(let _t=1;_t<=Ot;_t++){let Xt=li(l[_t]);const j1=Xt.get("offset");Xt.set("offset",Qi((a+j1*g)/j)),A.push(Xt)}g=j,a=0,M="",l=A}return X(this.element,l,this.preStyleProps,this.postStyleProps,g,a,M,!0)}}function Qi(p,l=3){const a=Math.pow(10,l-1);return Math.round(p*a)/a}class Xi{}const ds=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qs extends Xi{normalizePropertyName(l,a){return a2(l)}normalizeStyleValue(l,a,g,M){let A="";const j=g.toString().trim();if(ds.has(a)&&0!==g&&"0"!==g)if("number"==typeof g)A="px";else{const K=g.match(/^[+-]?[\d\.]+([a-z]*)$/);K&&0==K[1].length&&M.push(function pi(p,l){return new D.vHH(3005,!1)}())}return j+A}}function E2(p,l,a,g,M,A,j,K,ue,Le,Ot,_t,Xt){return{type:0,element:p,triggerName:l,isRemovalTransition:M,fromState:a,fromStyles:A,toState:g,toStyles:j,timelines:K,queriedElements:ue,preStyleProps:Le,postStyleProps:Ot,totalTime:_t,errors:Xt}}const Ks={};class Ko{constructor(l,a,g){this._triggerName=l,this.ast=a,this._stateStyles=g}match(l,a,g,M){return function Jo(p,l,a,g,M){return p.some(A=>A(l,a,g,M))}(this.ast.matchers,l,a,g,M)}buildStyles(l,a,g){let M=this._stateStyles.get("*");return void 0!==l&&(M=this._stateStyles.get(l?.toString())||M),M?M.buildStyles(a,g):new Map}build(l,a,g,M,A,j,K,ue,Le,Ot){const _t=[],Xt=this.ast.options&&this.ast.options.params||Ks,k1=this.buildStyles(g,K&&K.params||Ks,_t),Q1=ue&&ue.params||Ks,un=this.buildStyles(M,Q1,_t),Ln=new Set,y2=new Map,h2=new Map,z2="void"===M,is={params:vo(Q1,Xt),delay:this.ast.options?.delay},ti=Ot?[]:ln(l,a,this.ast.animation,A,j,k1,un,is,Le,_t);let pr=0;if(ti.forEach(As=>{pr=Math.max(As.duration+As.delay,pr)}),_t.length)return E2(a,this._triggerName,g,M,z2,k1,un,[],[],y2,h2,pr,_t);ti.forEach(As=>{const ji=As.element,Is=o2(y2,ji,new Set);As.preStyleProps.forEach(B2=>Is.add(B2));const Bs=o2(h2,ji,new Set);As.postStyleProps.forEach(B2=>Bs.add(B2)),ji!==a&&Ln.add(ji)});const Ci=Oi(Ln.values());return E2(a,this._triggerName,g,M,z2,k1,un,ti,Ci,y2,h2,pr)}}function vo(p,l){const a=n2(l);for(const g in p)p.hasOwnProperty(g)&&null!=p[g]&&(a[g]=p[g]);return a}class Xs{constructor(l,a,g){this.styles=l,this.defaultParams=a,this.normalizer=g}buildStyles(l,a){const g=new Map,M=n2(this.defaultParams);return Object.keys(l).forEach(A=>{const j=l[A];null!==j&&(M[A]=j)}),this.styles.styles.forEach(A=>{"string"!=typeof A&&A.forEach((j,K)=>{j&&(j=rn(j,M,a));const ue=this.normalizer.normalizePropertyName(K,a);j=this.normalizer.normalizeStyleValue(K,ue,j,a),g.set(ue,j)})}),g}}class eo{constructor(l,a,g){this.name=l,this.ast=a,this._normalizer=g,this.transitionFactories=[],this.states=new Map,a.states.forEach(M=>{this.states.set(M.name,new Xs(M.style,M.options&&M.options.params||{},g))}),yo(this.states,"true","1"),yo(this.states,"false","0"),a.transitions.forEach(M=>{this.transitionFactories.push(new Ko(l,M,this.states))}),this.fallbackTransition=function To(p,l,a){return new Ko(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(j,K)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,a,g,M){return this.transitionFactories.find(j=>j.match(l,a,g,M))||null}matchStyles(l,a,g){return this.fallbackTransition.buildStyles(l,a,g)}}function yo(p,l,a){p.has(l)?p.has(a)||p.set(a,p.get(l)):p.has(a)&&p.set(l,p.get(a))}const Ti=new me;class ei{constructor(l,a,g){this.bodyNode=l,this._driver=a,this._normalizer=g,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,a){const g=[],A=ee(this._driver,a,g,[]);if(g.length)throw function as(p){return new D.vHH(3503,!1)}();this._animations.set(l,A)}_buildPlayer(l,a,g){const M=l.element,A=$2(0,this._normalizer,0,l.keyframes,a,g);return this._driver.animate(M,A,l.duration,l.delay,l.easing,[],!0)}create(l,a,g={}){const M=[],A=this._animations.get(l);let j;const K=new Map;if(A?(j=ln(this._driver,a,A,Fn,D2,new Map,new Map,g,Ti,M),j.forEach(Ot=>{const _t=o2(K,Ot.element,new Map);Ot.postStyleProps.forEach(Xt=>_t.set(Xt,null))})):(M.push(function V2(){return new D.vHH(3300,!1)}()),j=[]),M.length)throw function cs(p){return new D.vHH(3504,!1)}();K.forEach((Ot,_t)=>{Ot.forEach((Xt,j1)=>{Ot.set(j1,this._driver.computeStyle(_t,j1,jt))})});const Le=G2(j.map(Ot=>{const _t=K.get(Ot.element);return this._buildPlayer(Ot,new Map,_t)}));return this._playersById.set(l,Le),Le.onDestroy(()=>this.destroy(l)),this.players.push(Le),Le}destroy(l){const a=this._getPlayer(l);a.destroy(),this._playersById.delete(l);const g=this.players.indexOf(a);g>=0&&this.players.splice(g,1)}_getPlayer(l){const a=this._playersById.get(l);if(!a)throw function d2(p){return new D.vHH(3301,!1)}();return a}listen(l,a,g,M){const A=Lr(a,"","","");return I2(this._getPlayer(l),g,A,M),()=>{}}command(l,a,g,M){if("register"==g)return void this.register(l,M[0]);if("create"==g)return void this.create(l,a,M[0]||{});const A=this._getPlayer(l);switch(g){case"play":A.play();break;case"pause":A.pause();break;case"reset":A.reset();break;case"restart":A.restart();break;case"finish":A.finish();break;case"init":A.init();break;case"setPosition":A.setPosition(parseFloat(M[0]));break;case"destroy":this.destroy(l)}}}const kr="ng-animate-queued",qr="ng-animate-disabled",to=[],t1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},p1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fr="__ng_removed";class Jt{constructor(l,a=""){this.namespaceId=a;const g=l&&l.hasOwnProperty("value");if(this.value=function _o(p){return p??null}(g?l.value:l),g){const A=n2(l);delete A.value,this.options=A}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(l){const a=l.params;if(a){const g=this.options.params;Object.keys(a).forEach(M=>{null==g[M]&&(g[M]=a[M])})}}}const ht="void",Lt=new Jt(ht);class H2{constructor(l,a,g){this.id=l,this.hostElement=a,this._engine=g,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,hr(a,this._hostClassName)}listen(l,a,g,M){if(!this._triggers.has(a))throw function $e(p,l){return new D.vHH(3302,!1)}();if(null==g||0==g.length)throw function He(p){return new D.vHH(3303,!1)}();if(!function bo(p){return"start"==p||"done"==p}(g))throw function qe(p,l){return new D.vHH(3400,!1)}();const A=o2(this._elementListeners,l,[]),j={name:a,phase:g,callback:M};A.push(j);const K=o2(this._engine.statesByElement,l,new Map);return K.has(a)||(hr(l,v2),hr(l,v2+"-"+a),K.set(a,Lt)),()=>{this._engine.afterFlush(()=>{const ue=A.indexOf(j);ue>=0&&A.splice(ue,1),this._triggers.has(a)||K.delete(a)})}}register(l,a){return!this._triggers.has(l)&&(this._triggers.set(l,a),!0)}_getTrigger(l){const a=this._triggers.get(l);if(!a)throw function wt(p){return new D.vHH(3401,!1)}();return a}trigger(l,a,g,M=!0){const A=this._getTrigger(a),j=new no(this.id,a,l);let K=this._engine.statesByElement.get(l);K||(hr(l,v2),hr(l,v2+"-"+a),this._engine.statesByElement.set(l,K=new Map));let ue=K.get(a);const Le=new Jt(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&ue&&Le.absorbOptions(ue.options),K.set(a,Le),ue||(ue=Lt),Le.value!==ht&&ue.value===Le.value){if(!function S2(p,l){const a=Object.keys(p),g=Object.keys(l);if(a.length!=g.length)return!1;for(let M=0;M<a.length;M++){const A=a[M];if(!l.hasOwnProperty(A)||p[A]!==l[A])return!1}return!0}(ue.params,Le.params)){const Q1=[],un=A.matchStyles(ue.value,ue.params,Q1),Ln=A.matchStyles(Le.value,Le.params,Q1);Q1.length?this._engine.reportError(Q1):this._engine.afterFlush(()=>{Ui(l,un),W2(l,Ln)})}return}const Xt=o2(this._engine.playersByElement,l,[]);Xt.forEach(Q1=>{Q1.namespaceId==this.id&&Q1.triggerName==a&&Q1.queued&&Q1.destroy()});let j1=A.matchTransition(ue.value,Le.value,l,Le.params),k1=!1;if(!j1){if(!M)return;j1=A.fallbackTransition,k1=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:a,transition:j1,fromState:ue,toState:Le,player:j,isFallbackTransition:k1}),k1||(hr(l,kr),j.onStart(()=>{Kr(l,kr)})),j.onDone(()=>{let Q1=this.players.indexOf(j);Q1>=0&&this.players.splice(Q1,1);const un=this._engine.playersByElement.get(l);if(un){let Ln=un.indexOf(j);Ln>=0&&un.splice(Ln,1)}}),this.players.push(j),Xt.push(j),j}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(a=>a.delete(l)),this._elementListeners.forEach((a,g)=>{this._elementListeners.set(g,a.filter(M=>M.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const a=this._engine.playersByElement.get(l);a&&(a.forEach(g=>g.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,a){const g=this._engine.driver.query(l,X2,!0);g.forEach(M=>{if(M[fr])return;const A=this._engine.fetchNamespacesByElement(M);A.size?A.forEach(j=>j.triggerLeaveAnimation(M,a,!1,!0)):this.clearElementCache(M)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(M=>this.clearElementCache(M)))}triggerLeaveAnimation(l,a,g,M){const A=this._engine.statesByElement.get(l),j=new Map;if(A){const K=[];if(A.forEach((ue,Le)=>{if(j.set(Le,ue.value),this._triggers.has(Le)){const Ot=this.trigger(l,Le,ht,M);Ot&&K.push(Ot)}}),K.length)return this._engine.markElementAsRemoved(this.id,l,!0,a,j),g&&G2(K).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const a=this._elementListeners.get(l),g=this._engine.statesByElement.get(l);if(a&&g){const M=new Set;a.forEach(A=>{const j=A.name;if(M.has(j))return;M.add(j);const ue=this._triggers.get(j).fallbackTransition,Le=g.get(j)||Lt,Ot=new Jt(ht),_t=new no(this.id,j,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:j,transition:ue,fromState:Le,toState:Ot,player:_t,isFallbackTransition:!0})})}}removeNode(l,a){const g=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,a),this.triggerLeaveAnimation(l,a,!0))return;let M=!1;if(g.totalAnimations){const A=g.players.length?g.playersByQueriedElement.get(l):[];if(A&&A.length)M=!0;else{let j=l;for(;j=j.parentNode;)if(g.statesByElement.get(j)){M=!0;break}}}if(this.prepareLeaveAnimationListeners(l),M)g.markElementAsRemoved(this.id,l,!1,a);else{const A=l[fr];(!A||A===t1)&&(g.afterFlush(()=>this.clearElementCache(l)),g.destroyInnerAnimations(l),g._onRemovalComplete(l,a))}}insertNode(l,a){hr(l,this._hostClassName)}drainQueuedTransitions(l){const a=[];return this._queue.forEach(g=>{const M=g.player;if(M.destroyed)return;const A=g.element,j=this._elementListeners.get(A);j&&j.forEach(K=>{if(K.name==g.triggerName){const ue=Lr(A,g.triggerName,g.fromState.value,g.toState.value);ue._data=l,I2(g.player,K.phase,ue,K.callback)}}),M.markedForDestroy?this._engine.afterFlush(()=>{M.destroy()}):a.push(g)}),this._queue=[],a.sort((g,M)=>{const A=g.transition.ast.depCount,j=M.transition.ast.depCount;return 0==A||0==j?A-j:this._engine.driver.containsElement(g.element,M.element)?1:-1})}destroy(l){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let a=!1;return this._elementListeners.has(l)&&(a=!0),a=!!this._queue.find(g=>g.element===l)||a,a}}class Ai{constructor(l,a,g){this.bodyNode=l,this.driver=a,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(M,A)=>{}}_onRemovalComplete(l,a){this.onRemovalComplete(l,a)}get queuedPlayers(){const l=[];return this._namespaceList.forEach(a=>{a.players.forEach(g=>{g.queued&&l.push(g)})}),l}createNamespace(l,a){const g=new H2(l,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(g,a):(this.newHostElements.set(a,g),this.collectEnterElement(a)),this._namespaceLookup[l]=g}_balanceNamespaceList(l,a){const g=this._namespaceList,M=this.namespacesByHostElement;if(g.length-1>=0){let j=!1,K=this.driver.getParentElement(a);for(;K;){const ue=M.get(K);if(ue){const Le=g.indexOf(ue);g.splice(Le+1,0,l),j=!0;break}K=this.driver.getParentElement(K)}j||g.unshift(l)}else g.push(l);return M.set(a,l),l}register(l,a){let g=this._namespaceLookup[l];return g||(g=this.createNamespace(l,a)),g}registerTrigger(l,a,g){let M=this._namespaceLookup[l];M&&M.register(a,g)&&this.totalAnimations++}destroy(l,a){if(!l)return;const g=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[l];const M=this._namespaceList.indexOf(g);M>=0&&this._namespaceList.splice(M,1)}),this.afterFlushAnimationsDone(()=>g.destroy(a))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const a=new Set,g=this.statesByElement.get(l);if(g)for(let M of g.values())if(M.namespaceId){const A=this._fetchNamespace(M.namespaceId);A&&a.add(A)}return a}trigger(l,a,g,M){if(fs(a)){const A=this._fetchNamespace(l);if(A)return A.trigger(a,g,M),!0}return!1}insertNode(l,a,g,M){if(!fs(a))return;const A=a[fr];if(A&&A.setForRemoval){A.setForRemoval=!1,A.setForMove=!0;const j=this.collectedLeaveElements.indexOf(a);j>=0&&this.collectedLeaveElements.splice(j,1)}if(l){const j=this._fetchNamespace(l);j&&j.insertNode(a,g)}M&&this.collectEnterElement(a)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,a){a?this.disabledNodes.has(l)||(this.disabledNodes.add(l),hr(l,qr)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Kr(l,qr))}removeNode(l,a,g,M){if(fs(a)){const A=l?this._fetchNamespace(l):null;if(A?A.removeNode(a,M):this.markElementAsRemoved(l,a,!1,M),g){const j=this.namespacesByHostElement.get(a);j&&j.id!==l&&j.removeNode(a,M)}}else this._onRemovalComplete(a,M)}markElementAsRemoved(l,a,g,M,A){this.collectedLeaveElements.push(a),a[fr]={namespaceId:l,setForRemoval:M,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:A}}listen(l,a,g,M,A){return fs(a)?this._fetchNamespace(l).listen(a,g,M,A):()=>{}}_buildInstruction(l,a,g,M,A){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,g,M,l.fromState.options,l.toState.options,a,A)}destroyInnerAnimations(l){let a=this.driver.query(l,X2,!0);a.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(l,Si,!0),a.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(l){const a=this.playersByElement.get(l);a&&a.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(l){const a=this.playersByQueriedElement.get(l);a&&a.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return G2(this.players).onDone(()=>l());l()})}processLeaveNode(l){const a=l[fr];if(a&&a.setForRemoval){if(l[fr]=t1,a.namespaceId){this.destroyInnerAnimations(l);const g=this._fetchNamespace(a.namespaceId);g&&g.clearElementCache(l)}this._onRemovalComplete(l,a.setForRemoval)}l.classList?.contains(qr)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(l=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,M)=>this._balanceNamespaceList(g,M)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)hr(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{a=this._flushAnimations(g,l)}finally{for(let M=0;M<g.length;M++)g[M]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],a.length?G2(a).onDone(()=>{g.forEach(M=>M())}):g.forEach(M=>M())}}reportError(l){throw function Zt(p){return new D.vHH(3402,!1)}()}_flushAnimations(l,a){const g=new me,M=[],A=new Map,j=[],K=new Map,ue=new Map,Le=new Map,Ot=new Set;this.disabledNodes.forEach(V=>{Ot.add(V);const Y=this.driver.query(V,".ng-animate-queued",!0);for(let se=0;se<Y.length;se++)Ot.add(Y[se])});const _t=this.bodyNode,Xt=Array.from(this.statesByElement.keys()),j1=Sr(Xt,this.collectedEnterElements),k1=new Map;let Q1=0;j1.forEach((V,Y)=>{const se=Fn+Q1++;k1.set(Y,se),V.forEach(Pe=>hr(Pe,se))});const un=[],Ln=new Set,y2=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){const Y=this.collectedLeaveElements[V],se=Y[fr];se&&se.setForRemoval&&(un.push(Y),Ln.add(Y),se.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(Pe=>Ln.add(Pe)):y2.add(Y))}const h2=new Map,z2=Sr(Xt,Array.from(Ln));z2.forEach((V,Y)=>{const se=D2+Q1++;h2.set(Y,se),V.forEach(Pe=>hr(Pe,se))}),l.push(()=>{j1.forEach((V,Y)=>{const se=k1.get(Y);V.forEach(Pe=>Kr(Pe,se))}),z2.forEach((V,Y)=>{const se=h2.get(Y);V.forEach(Pe=>Kr(Pe,se))}),un.forEach(V=>{this.processLeaveNode(V)})});const is=[],ti=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(a).forEach(se=>{const Pe=se.player,tt=se.element;if(is.push(Pe),this.collectedEnterElements.length){const H1=tt[fr];if(H1&&H1.setForMove){if(H1.previousTriggersValues&&H1.previousTriggersValues.has(se.triggerName)){const c2=H1.previousTriggersValues.get(se.triggerName),Pi=this.statesByElement.get(se.element);if(Pi&&Pi.has(se.triggerName)){const Ys=Pi.get(se.triggerName);Ys.value=c2,Pi.set(se.triggerName,Ys)}}return void Pe.destroy()}}const zt=!_t||!this.driver.containsElement(_t,tt),o1=h2.get(tt),C1=k1.get(tt),c1=this._buildInstruction(se,g,C1,o1,zt);if(c1.errors&&c1.errors.length)return void ti.push(c1);if(zt)return Pe.onStart(()=>Ui(tt,c1.fromStyles)),Pe.onDestroy(()=>W2(tt,c1.toStyles)),void M.push(Pe);if(se.isFallbackTransition)return Pe.onStart(()=>Ui(tt,c1.fromStyles)),Pe.onDestroy(()=>W2(tt,c1.toStyles)),void M.push(Pe);const On=[];c1.timelines.forEach(H1=>{H1.stretchStartingKeyframe=!0,this.disabledNodes.has(H1.element)||On.push(H1)}),c1.timelines=On,g.append(tt,c1.timelines),j.push({instruction:c1,player:Pe,element:tt}),c1.queriedElements.forEach(H1=>o2(K,H1,[]).push(Pe)),c1.preStyleProps.forEach((H1,c2)=>{if(H1.size){let Pi=ue.get(c2);Pi||ue.set(c2,Pi=new Set),H1.forEach((Ys,Us)=>Pi.add(Us))}}),c1.postStyleProps.forEach((H1,c2)=>{let Pi=Le.get(c2);Pi||Le.set(c2,Pi=new Set),H1.forEach((Ys,Us)=>Pi.add(Us))})});if(ti.length){const V=[];ti.forEach(Y=>{V.push(function G1(p,l){return new D.vHH(3505,!1)}())}),is.forEach(Y=>Y.destroy()),this.reportError(V)}const pr=new Map,Ci=new Map;j.forEach(V=>{const Y=V.element;g.has(Y)&&(Ci.set(Y,Y),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,pr))}),M.forEach(V=>{const Y=V.element;this._getPreviousPlayers(Y,!1,V.namespaceId,V.triggerName,null).forEach(Pe=>{o2(pr,Y,[]).push(Pe),Pe.destroy()})});const As=un.filter(V=>A1(V,ue,Le)),ji=new Map;F2(ji,this.driver,y2,Le,jt).forEach(V=>{A1(V,ue,Le)&&As.push(V)});const Bs=new Map;j1.forEach((V,Y)=>{F2(Bs,this.driver,new Set(V),ue,"!")}),As.forEach(V=>{const Y=ji.get(V),se=Bs.get(V);ji.set(V,new Map([...Array.from(Y?.entries()??[]),...Array.from(se?.entries()??[])]))});const B2=[],ya=[],P={};j.forEach(V=>{const{element:Y,player:se,instruction:Pe}=V;if(g.has(Y)){if(Ot.has(Y))return se.onDestroy(()=>W2(Y,Pe.toStyles)),se.disabled=!0,se.overrideTotalTime(Pe.totalTime),void M.push(se);let tt=P;if(Ci.size>1){let o1=Y;const C1=[];for(;o1=o1.parentNode;){const c1=Ci.get(o1);if(c1){tt=c1;break}C1.push(o1)}C1.forEach(c1=>Ci.set(c1,tt))}const zt=this._buildAnimation(se.namespaceId,Pe,pr,A,Bs,ji);if(se.setRealPlayer(zt),tt===P)B2.push(se);else{const o1=this.playersByElement.get(tt);o1&&o1.length&&(se.parentPlayer=G2(o1)),M.push(se)}}else Ui(Y,Pe.fromStyles),se.onDestroy(()=>W2(Y,Pe.toStyles)),ya.push(se),Ot.has(Y)&&M.push(se)}),ya.forEach(V=>{const Y=A.get(V.element);if(Y&&Y.length){const se=G2(Y);V.setRealPlayer(se)}}),M.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<un.length;V++){const Y=un[V],se=Y[fr];if(Kr(Y,D2),se&&se.hasAnimation)continue;let Pe=[];if(K.size){let zt=K.get(Y);zt&&zt.length&&Pe.push(...zt);let o1=this.driver.query(Y,Si,!0);for(let C1=0;C1<o1.length;C1++){let c1=K.get(o1[C1]);c1&&c1.length&&Pe.push(...c1)}}const tt=Pe.filter(zt=>!zt.destroyed);tt.length?Y1(this,Y,tt):this.processLeaveNode(Y)}return un.length=0,B2.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();const Y=this.players.indexOf(V);this.players.splice(Y,1)}),V.play()}),B2}elementContainsData(l,a){let g=!1;const M=a[fr];return M&&M.setForRemoval&&(g=!0),this.playersByElement.has(a)&&(g=!0),this.playersByQueriedElement.has(a)&&(g=!0),this.statesByElement.has(a)&&(g=!0),this._fetchNamespace(l).elementContainsData(a)||g}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,a,g,M,A){let j=[];if(a){const K=this.playersByQueriedElement.get(l);K&&(j=K)}else{const K=this.playersByElement.get(l);if(K){const ue=!A||A==ht;K.forEach(Le=>{Le.queued||!ue&&Le.triggerName!=M||j.push(Le)})}}return(g||M)&&(j=j.filter(K=>!(g&&g!=K.namespaceId||M&&M!=K.triggerName))),j}_beforeAnimationBuild(l,a,g){const A=a.element,j=a.isRemovalTransition?void 0:l,K=a.isRemovalTransition?void 0:a.triggerName;for(const ue of a.timelines){const Le=ue.element,Ot=Le!==A,_t=o2(g,Le,[]);this._getPreviousPlayers(Le,Ot,j,K,a.toState).forEach(j1=>{const k1=j1.getRealPlayer();k1.beforeDestroy&&k1.beforeDestroy(),j1.destroy(),_t.push(j1)})}Ui(A,a.fromStyles)}_buildAnimation(l,a,g,M,A,j){const K=a.triggerName,ue=a.element,Le=[],Ot=new Set,_t=new Set,Xt=a.timelines.map(k1=>{const Q1=k1.element;Ot.add(Q1);const un=Q1[fr];if(un&&un.removedBeforeQueried)return new R1(k1.duration,k1.delay);const Ln=Q1!==ue,y2=function er(p){const l=[];return Co(p,l),l}((g.get(Q1)||to).map(pr=>pr.getRealPlayer())).filter(pr=>!!pr.element&&pr.element===Q1),h2=A.get(Q1),z2=j.get(Q1),is=$2(0,this._normalizer,0,k1.keyframes,h2,z2),ti=this._buildPlayer(k1,is,y2);if(k1.subTimeline&&M&&_t.add(Q1),Ln){const pr=new no(l,K,Q1);pr.setRealPlayer(ti),Le.push(pr)}return ti});Le.forEach(k1=>{o2(this.playersByQueriedElement,k1.element,[]).push(k1),k1.onDone(()=>function Pr(p,l,a){let g=p.get(l);if(g){if(g.length){const M=g.indexOf(a);g.splice(M,1)}0==g.length&&p.delete(l)}return g}(this.playersByQueriedElement,k1.element,k1))}),Ot.forEach(k1=>hr(k1,Zr));const j1=G2(Xt);return j1.onDestroy(()=>{Ot.forEach(k1=>Kr(k1,Zr)),W2(ue,a.toStyles)}),_t.forEach(k1=>{o2(M,k1,[]).push(j1)}),j1}_buildPlayer(l,a,g){return a.length>0?this.driver.animate(l.element,a,l.duration,l.delay,l.easing,g):new R1(l.duration,l.delay)}}class no{constructor(l,a,g){this.namespaceId=l,this.triggerName=a,this.element=g,this._player=new R1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((a,g)=>{a.forEach(M=>I2(l,g,void 0,M))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const a=this._player;a.triggerCallback&&l.onStart(()=>a.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,a){o2(this._queuedCallbacks,l,[]).push(a)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const a=this._player;a.triggerCallback&&a.triggerCallback(l)}}function fs(p){return p&&1===p.nodeType}function io(p,l){const a=p.style.display;return p.style.display=l??"none",a}function F2(p,l,a,g,M){const A=[];a.forEach(ue=>A.push(io(ue)));const j=[];g.forEach((ue,Le)=>{const Ot=new Map;ue.forEach(_t=>{const Xt=l.computeStyle(Le,_t,M);Ot.set(_t,Xt),(!Xt||0==Xt.length)&&(Le[fr]=p1,j.push(Le))}),p.set(Le,Ot)});let K=0;return a.forEach(ue=>io(ue,A[K++])),j}function Sr(p,l){const a=new Map;if(p.forEach(K=>a.set(K,[])),0==l.length)return a;const M=new Set(l),A=new Map;function j(K){if(!K)return 1;let ue=A.get(K);if(ue)return ue;const Le=K.parentNode;return ue=a.has(Le)?Le:M.has(Le)?1:j(Le),A.set(K,ue),ue}return l.forEach(K=>{const ue=j(K);1!==ue&&a.get(ue).push(K)}),a}function hr(p,l){p.classList?.add(l)}function Kr(p,l){p.classList?.remove(l)}function Y1(p,l,a){G2(a).onDone(()=>p.processLeaveNode(l))}function Co(p,l){for(let a=0;a<p.length;a++){const g=p[a];g instanceof Mn?Co(g.players,l):l.push(g)}}function A1(p,l,a){const g=a.get(p);if(!g)return!1;let M=l.get(p);return M?g.forEach(A=>M.add(A)):l.set(p,g),a.delete(p),!0}class b2{constructor(l,a,g){this.bodyNode=l,this._driver=a,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(M,A)=>{},this._transitionEngine=new Ai(l,a,g),this._timelineEngine=new ei(l,a,g),this._transitionEngine.onRemovalComplete=(M,A)=>this.onRemovalComplete(M,A)}registerTrigger(l,a,g,M,A){const j=l+"-"+M;let K=this._triggerCache[j];if(!K){const ue=[],Ot=ee(this._driver,A,ue,[]);if(ue.length)throw function _r(p,l){return new D.vHH(3404,!1)}();K=function Ps(p,l,a){return new eo(p,l,a)}(M,Ot,this._normalizer),this._triggerCache[j]=K}this._transitionEngine.registerTrigger(a,M,K)}register(l,a){this._transitionEngine.register(l,a)}destroy(l,a){this._transitionEngine.destroy(l,a)}onInsert(l,a,g,M){this._transitionEngine.insertNode(l,a,g,M)}onRemove(l,a,g,M){this._transitionEngine.removeNode(l,a,M||!1,g)}disableAnimations(l,a){this._transitionEngine.markElementAsDisabled(l,a)}process(l,a,g,M){if("@"==g.charAt(0)){const[A,j]=Xr(g);this._timelineEngine.command(A,a,j,M)}else this._transitionEngine.trigger(l,a,g,M)}listen(l,a,g,M,A){if("@"==g.charAt(0)){const[j,K]=Xr(g);return this._timelineEngine.listen(j,a,K,A)}return this._transitionEngine.listen(l,a,g,M,A)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ro=(()=>{class p{constructor(a,g,M){this._element=a,this._startStyles=g,this._endStyles=M,this._state=0;let A=p.initialStylesByElement.get(a);A||p.initialStylesByElement.set(a,A=new Map),this._initialStyles=A}start(){this._state<1&&(this._startStyles&&W2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(W2(this._element,this._initialStyles),this._endStyles&&(W2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(Ui(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),W2(this._element,this._initialStyles),this._state=3)}}return p.initialStylesByElement=new WeakMap,p})();function Sn(p){let l=null;return p.forEach((a,g)=>{(function qt(p){return"display"===p||"position"===p})(g)&&(l=l||new Map,l.set(g,a))}),l}class hs{constructor(l,a,g,M){this.element=l,this.keyframes=a,this.options=g,this._specialStyles=M,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const a=[];return l.forEach(g=>{a.push(Object.fromEntries(g))}),a}_triggerWebAnimation(l,a,g){return l.animate(this._convertKeyframesToObject(a),g)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((g,M)=>{"offset"!==M&&l.set(M,this._finished?g:cr(this.element,M))}),this.currentSnapshot=l}triggerCallback(l){const a="start"===l?this._onStartFns:this._onDoneFns;a.forEach(g=>g()),a.length=0}}class ws{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,a){return!1}containsElement(l,a){return Q2(l,a)}getParentElement(l){return Z2(l)}query(l,a,g){return Ei(l,a,g)}computeStyle(l,a,g){return window.getComputedStyle(l)[a]}animate(l,a,g,M,A,j=[]){const ue={duration:g,delay:M,fill:0==M?"both":"forwards"};A&&(ue.easing=A);const Le=new Map,Ot=j.filter(j1=>j1 instanceof hs);(function us(p,l){return 0===p||0===l})(g,M)&&Ot.forEach(j1=>{j1.currentSnapshot.forEach((k1,Q1)=>Le.set(Q1,k1))});let _t=function r2(p){return p.length?p[0]instanceof Map?p:p.map(l=>f2(l)):[]}(a).map(j1=>li(j1));_t=function Ki(p,l,a){if(a.size&&l.length){let g=l[0],M=[];if(a.forEach((A,j)=>{g.has(j)||M.push(j),g.set(j,A)}),M.length)for(let A=1;A<l.length;A++){let j=l[A];M.forEach(K=>j.set(K,cr(p,K)))}}return l}(l,_t,Le);const Xt=function Vn(p,l){let a=null,g=null;return Array.isArray(l)&&l.length?(a=Sn(l[0]),l.length>1&&(g=Sn(l[l.length-1]))):l instanceof Map&&(a=Sn(l)),a||g?new ro(p,a,g):null}(l,_t);return new hs(l,_t,ue,Xt)}}let Ri=(()=>{class p extends gt{constructor(a,g){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(g.body,{id:"0",encapsulation:D.ifc.None,styles:[],data:{animation:[]}})}build(a){const g=this._nextAnimationId.toString();this._nextAnimationId++;const M=Array.isArray(a)?F1(a):a;return ms(this._renderer,null,g,"register",[M]),new ps(g,this._renderer)}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(D.FYo),D.LFG(Oe.K0))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac}),p})();class ps extends class Be{}{constructor(l,a){super(),this._id=l,this._renderer=a}create(l,a){return new ns(this._id,l,a||{},this._renderer)}}class ns{constructor(l,a,g,M){this.id=l,this.element=a,this._renderer=M,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(l,a){return this._renderer.listen(this.element,`@@${this.id}:${l}`,a)}_command(l,...a){return ms(this._renderer,this.element,this.id,l,a)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ms(p,l,a,g,M){return p.setProperty(l,`@@${a}:${g}`,M)}const so="@.disabled";let Qo=(()=>{class p{constructor(a,g,M){this.delegate=a,this.engine=g,this._zone=M,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(A,j)=>{const K=j?.parentNode(A);K&&j.removeChild(K,A)}}createRenderer(a,g){const A=this.delegate.createRenderer(a,g);if(!(a&&g&&g.data&&g.data.animation)){let Ot=this._rendererCache.get(A);return Ot||(Ot=new Vr("",A,this.engine,()=>this._rendererCache.delete(A)),this._rendererCache.set(A,Ot)),Ot}const j=g.id,K=g.id+"-"+this._currentId;this._currentId++,this.engine.register(K,a);const ue=Ot=>{Array.isArray(Ot)?Ot.forEach(ue):this.engine.registerTrigger(j,K,a,Ot.name,Ot)};return g.data.animation.forEach(ue),new Ao(this,K,A,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,g,M){a>=0&&a<this._microtaskId?this._zone.run(()=>g(M)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(A=>{const[j,K]=A;j(K)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,M]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(D.FYo),D.LFG(b2),D.LFG(D.R0b))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac}),p})();class Vr{constructor(l,a,g,M){this.namespaceId=l,this.delegate=a,this.engine=g,this._onDestroy=M,this.destroyNode=this.delegate.destroyNode?A=>a.destroyNode(A):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(l,a){return this.delegate.createElement(l,a)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,a){this.delegate.appendChild(l,a),this.engine.onInsert(this.namespaceId,a,l,!1)}insertBefore(l,a,g,M=!0){this.delegate.insertBefore(l,a,g),this.engine.onInsert(this.namespaceId,a,l,M)}removeChild(l,a,g){this.engine.onRemove(this.namespaceId,a,this.delegate,g)}selectRootElement(l,a){return this.delegate.selectRootElement(l,a)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,a,g,M){this.delegate.setAttribute(l,a,g,M)}removeAttribute(l,a,g){this.delegate.removeAttribute(l,a,g)}addClass(l,a){this.delegate.addClass(l,a)}removeClass(l,a){this.delegate.removeClass(l,a)}setStyle(l,a,g,M){this.delegate.setStyle(l,a,g,M)}removeStyle(l,a,g){this.delegate.removeStyle(l,a,g)}setProperty(l,a,g){"@"==a.charAt(0)&&a==so?this.disableAnimations(l,!!g):this.delegate.setProperty(l,a,g)}setValue(l,a){this.delegate.setValue(l,a)}listen(l,a,g){return this.delegate.listen(l,a,g)}disableAnimations(l,a){this.engine.disableAnimations(l,a)}}class Ao extends Vr{constructor(l,a,g,M,A){super(a,g,M,A),this.factory=l,this.namespaceId=a}setProperty(l,a,g){"@"==a.charAt(0)?"."==a.charAt(1)&&a==so?this.disableAnimations(l,g=void 0===g||!!g):this.engine.process(this.namespaceId,l,a.slice(1),g):this.delegate.setProperty(l,a,g)}listen(l,a,g){if("@"==a.charAt(0)){const M=function va(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(l);let A=a.slice(1),j="";return"@"!=A.charAt(0)&&([A,j]=function Xo(p){const l=p.indexOf(".");return[p.substring(0,l),p.slice(l+1)]}(A)),this.engine.listen(this.namespaceId,M,A,j,K=>{this.factory.scheduleListenerCallback(K._data||-1,g,K)})}return this.delegate.listen(l,a,g)}}const oo=[{provide:gt,useClass:Ri},{provide:Xi,useFactory:function gs(){return new qs}},{provide:b2,useClass:(()=>{class p extends b2{constructor(a,g,M,A){super(a.body,g,M)}ngOnDestroy(){this.flush()}}return p.\u0275fac=function(a){return new(a||p)(D.LFG(Oe.K0),D.LFG(ci),D.LFG(Xi),D.LFG(D.z2F))},p.\u0275prov=D.Yz7({token:p,factory:p.\u0275fac}),p})()},{provide:D.FYo,useFactory:function dt(p,l,a){return new Qo(p,l,a)},deps:[d.se,b2,D.R0b]}],Wn=[{provide:ci,useFactory:()=>new ws},{provide:D.QbO,useValue:"BrowserAnimations"},...oo],Vs=[{provide:ci,useClass:Qn},{provide:D.QbO,useValue:"NoopAnimations"},...oo];let vs=(()=>{class p{static withConfig(a){return{ngModule:p,providers:a.disableAnimations?Vs:Wn}}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=D.oAB({type:p}),p.\u0275inj=D.cJS({providers:Wn,imports:[d.b2]}),p})();var Hr=H(4769),wo=H(2767);function Fr(){return H.e(487).then(H.t.bind(H,4487,23))}let Fs=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=D.oAB({type:p,bootstrap:[Se]}),p.\u0275inj=D.cJS({providers:[xe,rt],imports:[hn,It.uH,be.JF,n1.forRoot({player:Fr}),le.u5,Hr.e,wo.n,d.b2,vs]}),p})();H(2340).N.production&&(0,D.G48)(),d.q6().bootstrapModule(Fs).catch(p=>console.error(p))},1135:(Qt,We,H)=>{H.d(We,{X:()=>D});var d=H(7579);class D extends d.x{constructor(Me){super(),this._value=Me}get value(){return this.getValue()}_subscribe(Me){const Ee=super._subscribe(Me);return!Ee.closed&&Me.next(this._value),Ee}getValue(){const{hasError:Me,thrownError:Ee,_value:De}=this;if(Me)throw Ee;return this._throwIfClosed(),De}next(Me){super.next(this._value=Me)}}},9751:(Qt,We,H)=>{H.d(We,{y:()=>Ae});var d=H(930),D=H(727),Q=H(8822),Me=H(9635),Ee=H(2416),De=H(576),le=H(2806);let Ae=(()=>{class Ne{constructor(et){et&&(this._subscribe=et)}lift(et){const Ze=new Ne;return Ze.source=this,Ze.operator=et,Ze}subscribe(et,Ze,Pt){const rt=function fe(Ne){return Ne&&Ne instanceof d.Lv||function de(Ne){return Ne&&(0,De.m)(Ne.next)&&(0,De.m)(Ne.error)&&(0,De.m)(Ne.complete)}(Ne)&&(0,D.Nn)(Ne)}(et)?et:new d.Hp(et,Ze,Pt);return(0,le.x)(()=>{const{operator:nt,source:Oe}=this;rt.add(nt?nt.call(rt,Oe):Oe?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(et){try{return this._subscribe(et)}catch(Ze){et.error(Ze)}}forEach(et,Ze){return new(Ze=ze(Ze))((Pt,rt)=>{const nt=new d.Hp({next:Oe=>{try{et(Oe)}catch(Kt){rt(Kt),nt.unsubscribe()}},error:rt,complete:Pt});this.subscribe(nt)})}_subscribe(et){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(et)}[Q.L](){return this}pipe(...et){return(0,Me.U)(et)(this)}toPromise(et){return new(et=ze(et))((Ze,Pt)=>{let rt;this.subscribe(nt=>rt=nt,nt=>Pt(nt),()=>Ze(rt))})}}return Ne.create=Xe=>new Ne(Xe),Ne})();function ze(Ne){var Xe;return null!==(Xe=Ne??Ee.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(Qt,We,H)=>{H.d(We,{x:()=>le});var d=H(9751),D=H(727);const Me=(0,H(3888).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=H(8737),De=H(2806);let le=(()=>{class ze extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const Ne=new Ae(this,this);return Ne.operator=fe,Ne}_throwIfClosed(){if(this.closed)throw new Me}next(fe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(fe)}})}error(fe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(fe)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:Ne,isStopped:Xe,observers:et}=this;return Ne||Xe?D.Lc:(this.currentObservers=null,et.push(fe),new D.w0(()=>{this.currentObservers=null,(0,Ee.P)(et,fe)}))}_checkFinalizedStatuses(fe){const{hasError:Ne,thrownError:Xe,isStopped:et}=this;Ne?fe.error(Xe):et&&fe.complete()}asObservable(){const fe=new d.y;return fe.source=this,fe}}return ze.create=(de,fe)=>new Ae(de,fe),ze})();class Ae extends le{constructor(de,fe){super(),this.destination=de,this.source=fe}next(de){var fe,Ne;null===(Ne=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===Ne||Ne.call(fe,de)}error(de){var fe,Ne;null===(Ne=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===Ne||Ne.call(fe,de)}complete(){var de,fe;null===(fe=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===fe||fe.call(de)}_subscribe(de){var fe,Ne;return null!==(Ne=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(de))&&void 0!==Ne?Ne:D.Lc}}},930:(Qt,We,H)=>{H.d(We,{Hp:()=>Pt,Lv:()=>Ne});var d=H(576),D=H(727),Q=H(2416),Me=H(7849),Ee=H(5032);const De=ze("C",void 0,void 0);function ze(it,ct,Ye){return{kind:it,value:ct,error:Ye}}var de=H(3410),fe=H(2806);class Ne extends D.w0{constructor(ct){super(),this.isStopped=!1,ct?(this.destination=ct,(0,D.Nn)(ct)&&ct.add(this)):this.destination=Kt}static create(ct,Ye,It){return new Pt(ct,Ye,It)}next(ct){this.isStopped?Oe(function Ae(it){return ze("N",it,void 0)}(ct),this):this._next(ct)}error(ct){this.isStopped?Oe(function le(it){return ze("E",void 0,it)}(ct),this):(this.isStopped=!0,this._error(ct))}complete(){this.isStopped?Oe(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ct){this.destination.next(ct)}_error(ct){try{this.destination.error(ct)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function et(it,ct){return Xe.call(it,ct)}class Ze{constructor(ct){this.partialObserver=ct}next(ct){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(ct)}catch(It){rt(It)}}error(ct){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(ct)}catch(It){rt(It)}else rt(ct)}complete(){const{partialObserver:ct}=this;if(ct.complete)try{ct.complete()}catch(Ye){rt(Ye)}}}class Pt extends Ne{constructor(ct,Ye,It){let mt;if(super(),(0,d.m)(ct)||!ct)mt={next:ct??void 0,error:Ye??void 0,complete:It??void 0};else{let re;this&&Q.v.useDeprecatedNextContext?(re=Object.create(ct),re.unsubscribe=()=>this.unsubscribe(),mt={next:ct.next&&et(ct.next,re),error:ct.error&&et(ct.error,re),complete:ct.complete&&et(ct.complete,re)}):mt=ct}this.destination=new Ze(mt)}}function rt(it){Q.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(it):(0,Me.h)(it)}function Oe(it,ct){const{onStoppedNotification:Ye}=Q.v;Ye&&de.z.setTimeout(()=>Ye(it,ct))}const Kt={closed:!0,next:Ee.Z,error:function nt(it){throw it},complete:Ee.Z}},727:(Qt,We,H)=>{H.d(We,{Lc:()=>De,w0:()=>Ee,Nn:()=>le});var d=H(576);const Q=(0,H(3888).d)(ze=>function(fe){ze(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((Ne,Xe)=>`${Xe+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Me=H(8737);class Ee{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const et of fe)et.remove(this);else fe.remove(this);const{initialTeardown:Ne}=this;if((0,d.m)(Ne))try{Ne()}catch(et){de=et instanceof Q?et.errors:[et]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const et of Xe)try{Ae(et)}catch(Ze){de=de??[],Ze instanceof Q?de=[...de,...Ze.errors]:de.push(Ze)}}if(de)throw new Q(de)}}add(de){var fe;if(de&&de!==this)if(this.closed)Ae(de);else{if(de instanceof Ee){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(de)}}_hasParent(de){const{_parentage:fe}=this;return fe===de||Array.isArray(fe)&&fe.includes(de)}_addParent(de){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(de),fe):fe?[fe,de]:de}_removeParent(de){const{_parentage:fe}=this;fe===de?this._parentage=null:Array.isArray(fe)&&(0,Me.P)(fe,de)}remove(de){const{_finalizers:fe}=this;fe&&(0,Me.P)(fe,de),de instanceof Ee&&de._removeParent(this)}}Ee.EMPTY=(()=>{const ze=new Ee;return ze.closed=!0,ze})();const De=Ee.EMPTY;function le(ze){return ze instanceof Ee||ze&&"closed"in ze&&(0,d.m)(ze.remove)&&(0,d.m)(ze.add)&&(0,d.m)(ze.unsubscribe)}function Ae(ze){(0,d.m)(ze)?ze():ze.unsubscribe()}},2416:(Qt,We,H)=>{H.d(We,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Qt,We,H)=>{H.d(We,{a:()=>de});var d=H(9751),D=H(4742),Q=H(8996),Me=H(4671),Ee=H(3268),De=H(3269),le=H(1810),Ae=H(5403),ze=H(9672);function de(...Xe){const et=(0,De.yG)(Xe),Ze=(0,De.jO)(Xe),{args:Pt,keys:rt}=(0,D.D)(Xe);if(0===Pt.length)return(0,Q.D)([],et);const nt=new d.y(function fe(Xe,et,Ze=Me.y){return Pt=>{Ne(et,()=>{const{length:rt}=Xe,nt=new Array(rt);let Oe=rt,Kt=rt;for(let it=0;it<rt;it++)Ne(et,()=>{const ct=(0,Q.D)(Xe[it],et);let Ye=!1;ct.subscribe((0,Ae.x)(Pt,It=>{nt[it]=It,Ye||(Ye=!0,Kt--),Kt||Pt.next(Ze(nt.slice()))},()=>{--Oe||Pt.complete()}))},Pt)},Pt)}}(Pt,et,rt?Oe=>(0,le.n)(rt,Oe):Me.y));return Ze?nt.pipe((0,Ee.Z)(Ze)):nt}function Ne(Xe,et,Ze){Xe?(0,ze.f)(Ze,Xe,et):et()}},7272:(Qt,We,H)=>{H.d(We,{z:()=>Ee});var d=H(8189),Q=H(3269),Me=H(8996);function Ee(...De){return function D(){return(0,d.J)(1)}()((0,Me.D)(De,(0,Q.yG)(De)))}},9770:(Qt,We,H)=>{H.d(We,{P:()=>Q});var d=H(9751),D=H(8421);function Q(Me){return new d.y(Ee=>{(0,D.Xf)(Me()).subscribe(Ee)})}},515:(Qt,We,H)=>{H.d(We,{E:()=>D});const D=new(H(9751).y)(Ee=>Ee.complete())},8996:(Qt,We,H)=>{H.d(We,{D:()=>ct});var d=H(8421),D=H(5363),Q=H(9468),De=H(9751),Ae=H(2202),ze=H(576),de=H(9672);function Ne(Ye,It){if(!Ye)throw new Error("Iterable cannot be null");return new De.y(mt=>{(0,de.f)(mt,It,()=>{const re=Ye[Symbol.asyncIterator]();(0,de.f)(mt,It,()=>{re.next().then(Ke=>{Ke.done?mt.complete():mt.next(Ke.value)})},0,!0)})})}var Xe=H(3670),et=H(8239),Ze=H(1144),Pt=H(6495),rt=H(2206),nt=H(4532),Oe=H(3260);function ct(Ye,It){return It?function it(Ye,It){if(null!=Ye){if((0,Xe.c)(Ye))return function Me(Ye,It){return(0,d.Xf)(Ye).pipe((0,Q.R)(It),(0,D.Q)(It))}(Ye,It);if((0,Ze.z)(Ye))return function le(Ye,It){return new De.y(mt=>{let re=0;return It.schedule(function(){re===Ye.length?mt.complete():(mt.next(Ye[re++]),mt.closed||this.schedule())})})}(Ye,It);if((0,et.t)(Ye))return function Ee(Ye,It){return(0,d.Xf)(Ye).pipe((0,Q.R)(It),(0,D.Q)(It))}(Ye,It);if((0,rt.D)(Ye))return Ne(Ye,It);if((0,Pt.T)(Ye))return function fe(Ye,It){return new De.y(mt=>{let re;return(0,de.f)(mt,It,()=>{re=Ye[Ae.h](),(0,de.f)(mt,It,()=>{let Ke,_e;try{({value:Ke,done:_e}=re.next())}catch(Te){return void mt.error(Te)}_e?mt.complete():mt.next(Ke)},0,!0)}),()=>(0,ze.m)(re?.return)&&re.return()})}(Ye,It);if((0,Oe.L)(Ye))return function Kt(Ye,It){return Ne((0,Oe.Q)(Ye),It)}(Ye,It)}throw(0,nt.z)(Ye)}(Ye,It):(0,d.Xf)(Ye)}},8421:(Qt,We,H)=>{H.d(We,{Xf:()=>Xe});var d=H(655),D=H(1144),Q=H(8239),Me=H(9751),Ee=H(3670),De=H(2206),le=H(4532),Ae=H(6495),ze=H(3260),de=H(576),fe=H(7849),Ne=H(8822);function Xe(it){if(it instanceof Me.y)return it;if(null!=it){if((0,Ee.c)(it))return function et(it){return new Me.y(ct=>{const Ye=it[Ne.L]();if((0,de.m)(Ye.subscribe))return Ye.subscribe(ct);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,D.z)(it))return function Ze(it){return new Me.y(ct=>{for(let Ye=0;Ye<it.length&&!ct.closed;Ye++)ct.next(it[Ye]);ct.complete()})}(it);if((0,Q.t)(it))return function Pt(it){return new Me.y(ct=>{it.then(Ye=>{ct.closed||(ct.next(Ye),ct.complete())},Ye=>ct.error(Ye)).then(null,fe.h)})}(it);if((0,De.D)(it))return nt(it);if((0,Ae.T)(it))return function rt(it){return new Me.y(ct=>{for(const Ye of it)if(ct.next(Ye),ct.closed)return;ct.complete()})}(it);if((0,ze.L)(it))return function Oe(it){return nt((0,ze.Q)(it))}(it)}throw(0,le.z)(it)}function nt(it){return new Me.y(ct=>{(function Kt(it,ct){var Ye,It,mt,re;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,d.KL)(it);!(It=yield Ye.next()).done;)if(ct.next(It.value),ct.closed)return}catch(Ke){mt={error:Ke}}finally{try{It&&!It.done&&(re=Ye.return)&&(yield re.call(Ye))}finally{if(mt)throw mt.error}}ct.complete()})})(it,ct).catch(Ye=>ct.error(Ye))})}},6451:(Qt,We,H)=>{H.d(We,{T:()=>De});var d=H(8189),D=H(8421),Q=H(515),Me=H(3269),Ee=H(8996);function De(...le){const Ae=(0,Me.yG)(le),ze=(0,Me._6)(le,1/0),de=le;return de.length?1===de.length?(0,D.Xf)(de[0]):(0,d.J)(ze)((0,Ee.D)(de,Ae)):Q.E}},9646:(Qt,We,H)=>{H.d(We,{of:()=>Q});var d=H(3269),D=H(8996);function Q(...Me){const Ee=(0,d.yG)(Me);return(0,D.D)(Me,Ee)}},5403:(Qt,We,H)=>{H.d(We,{x:()=>D});var d=H(930);function D(Me,Ee,De,le,Ae){return new Q(Me,Ee,De,le,Ae)}class Q extends d.Lv{constructor(Ee,De,le,Ae,ze,de){super(Ee),this.onFinalize=ze,this.shouldUnsubscribe=de,this._next=De?function(fe){try{De(fe)}catch(Ne){Ee.error(Ne)}}:super._next,this._error=Ae?function(fe){try{Ae(fe)}catch(Ne){Ee.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(fe){Ee.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4351:(Qt,We,H)=>{H.d(We,{b:()=>Q});var d=H(5577),D=H(576);function Q(Me,Ee){return(0,D.m)(Ee)?(0,d.z)(Me,Ee,1):(0,d.z)(Me,1)}},6590:(Qt,We,H)=>{H.d(We,{d:()=>Q});var d=H(4482),D=H(5403);function Q(Me){return(0,d.e)((Ee,De)=>{let le=!1;Ee.subscribe((0,D.x)(De,Ae=>{le=!0,De.next(Ae)},()=>{le||De.next(Me),De.complete()}))})}},1884:(Qt,We,H)=>{H.d(We,{x:()=>Me});var d=H(4671),D=H(4482),Q=H(5403);function Me(De,le=d.y){return De=De??Ee,(0,D.e)((Ae,ze)=>{let de,fe=!0;Ae.subscribe((0,Q.x)(ze,Ne=>{const Xe=le(Ne);(fe||!De(de,Xe))&&(fe=!1,de=Xe,ze.next(Ne))}))})}function Ee(De,le){return De===le}},9300:(Qt,We,H)=>{H.d(We,{h:()=>Q});var d=H(4482),D=H(5403);function Q(Me,Ee){return(0,d.e)((De,le)=>{let Ae=0;De.subscribe((0,D.x)(le,ze=>Me.call(Ee,ze,Ae++)&&le.next(ze)))})}},590:(Qt,We,H)=>{H.d(We,{P:()=>le});var d=H(6805),D=H(9300),Q=H(5698),Me=H(6590),Ee=H(8068),De=H(4671);function le(Ae,ze){const de=arguments.length>=2;return fe=>fe.pipe(Ae?(0,D.h)((Ne,Xe)=>Ae(Ne,Xe,fe)):De.y,(0,Q.q)(1),de?(0,Me.d)(ze):(0,Ee.T)(()=>new d.K))}},4004:(Qt,We,H)=>{H.d(We,{U:()=>Q});var d=H(4482),D=H(5403);function Q(Me,Ee){return(0,d.e)((De,le)=>{let Ae=0;De.subscribe((0,D.x)(le,ze=>{le.next(Me.call(Ee,ze,Ae++))}))})}},9718:(Qt,We,H)=>{H.d(We,{h:()=>D});var d=H(4004);function D(Q){return(0,d.U)(()=>Q)}},8189:(Qt,We,H)=>{H.d(We,{J:()=>Q});var d=H(5577),D=H(4671);function Q(Me=1/0){return(0,d.z)(D.y,Me)}},5577:(Qt,We,H)=>{H.d(We,{z:()=>Ae});var d=H(4004),D=H(8421),Q=H(4482),Me=H(9672),Ee=H(5403),le=H(576);function Ae(ze,de,fe=1/0){return(0,le.m)(de)?Ae((Ne,Xe)=>(0,d.U)((et,Ze)=>de(Ne,et,Xe,Ze))((0,D.Xf)(ze(Ne,Xe))),fe):("number"==typeof de&&(fe=de),(0,Q.e)((Ne,Xe)=>function De(ze,de,fe,Ne,Xe,et,Ze,Pt){const rt=[];let nt=0,Oe=0,Kt=!1;const it=()=>{Kt&&!rt.length&&!nt&&de.complete()},ct=It=>nt<Ne?Ye(It):rt.push(It),Ye=It=>{et&&de.next(It),nt++;let mt=!1;(0,D.Xf)(fe(It,Oe++)).subscribe((0,Ee.x)(de,re=>{Xe?.(re),et?ct(re):de.next(re)},()=>{mt=!0},void 0,()=>{if(mt)try{for(nt--;rt.length&&nt<Ne;){const re=rt.shift();Ze?(0,Me.f)(de,Ze,()=>Ye(re)):Ye(re)}it()}catch(re){de.error(re)}}))};return ze.subscribe((0,Ee.x)(de,ct,()=>{Kt=!0,it()})),()=>{Pt?.()}}(Ne,Xe,ze,fe)))}},5363:(Qt,We,H)=>{H.d(We,{Q:()=>Me});var d=H(9672),D=H(4482),Q=H(5403);function Me(Ee,De=0){return(0,D.e)((le,Ae)=>{le.subscribe((0,Q.x)(Ae,ze=>(0,d.f)(Ae,Ee,()=>Ae.next(ze),De),()=>(0,d.f)(Ae,Ee,()=>Ae.complete(),De),ze=>(0,d.f)(Ae,Ee,()=>Ae.error(ze),De)))})}},5026:(Qt,We,H)=>{H.d(We,{R:()=>Me});var d=H(4482),D=H(5403);function Q(Ee,De,le,Ae,ze){return(de,fe)=>{let Ne=le,Xe=De,et=0;de.subscribe((0,D.x)(fe,Ze=>{const Pt=et++;Xe=Ne?Ee(Xe,Ze,Pt):(Ne=!0,Ze),Ae&&fe.next(Xe)},ze&&(()=>{Ne&&fe.next(Xe),fe.complete()})))}}function Me(Ee,De){return(0,d.e)(Q(Ee,De,arguments.length>=2,!0))}},3099:(Qt,We,H)=>{H.d(We,{B:()=>Ee});var d=H(8421),D=H(7579),Q=H(930),Me=H(4482);function Ee(le={}){const{connector:Ae=(()=>new D.x),resetOnError:ze=!0,resetOnComplete:de=!0,resetOnRefCountZero:fe=!0}=le;return Ne=>{let Xe,et,Ze,Pt=0,rt=!1,nt=!1;const Oe=()=>{et?.unsubscribe(),et=void 0},Kt=()=>{Oe(),Xe=Ze=void 0,rt=nt=!1},it=()=>{const ct=Xe;Kt(),ct?.unsubscribe()};return(0,Me.e)((ct,Ye)=>{Pt++,!nt&&!rt&&Oe();const It=Ze=Ze??Ae();Ye.add(()=>{Pt--,0===Pt&&!nt&&!rt&&(et=De(it,fe))}),It.subscribe(Ye),!Xe&&Pt>0&&(Xe=new Q.Hp({next:mt=>It.next(mt),error:mt=>{nt=!0,Oe(),et=De(Kt,ze,mt),It.error(mt)},complete:()=>{rt=!0,Oe(),et=De(Kt,de),It.complete()}}),(0,d.Xf)(ct).subscribe(Xe))})(Ne)}}function De(le,Ae,...ze){if(!0===Ae)return void le();if(!1===Ae)return;const de=new Q.Hp({next:()=>{de.unsubscribe(),le()}});return Ae(...ze).subscribe(de)}},3151:(Qt,We,H)=>{H.d(We,{d:()=>Ee});var d=H(7579),D=H(6063);class Q extends d.x{constructor(le=1/0,Ae=1/0,ze=D.l){super(),this._bufferSize=le,this._windowTime=Ae,this._timestampProvider=ze,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ae===1/0,this._bufferSize=Math.max(1,le),this._windowTime=Math.max(1,Ae)}next(le){const{isStopped:Ae,_buffer:ze,_infiniteTimeWindow:de,_timestampProvider:fe,_windowTime:Ne}=this;Ae||(ze.push(le),!de&&ze.push(fe.now()+Ne)),this._trimBuffer(),super.next(le)}_subscribe(le){this._throwIfClosed(),this._trimBuffer();const Ae=this._innerSubscribe(le),{_infiniteTimeWindow:ze,_buffer:de}=this,fe=de.slice();for(let Ne=0;Ne<fe.length&&!le.closed;Ne+=ze?1:2)le.next(fe[Ne]);return this._checkFinalizedStatuses(le),Ae}_trimBuffer(){const{_bufferSize:le,_timestampProvider:Ae,_buffer:ze,_infiniteTimeWindow:de}=this,fe=(de?1:2)*le;if(le<1/0&&fe<ze.length&&ze.splice(0,ze.length-fe),!de){const Ne=Ae.now();let Xe=0;for(let et=1;et<ze.length&&ze[et]<=Ne;et+=2)Xe=et;Xe&&ze.splice(0,Xe+1)}}}var Me=H(3099);function Ee(De,le,Ae){let ze,de=!1;return De&&"object"==typeof De?({bufferSize:ze=1/0,windowTime:le=1/0,refCount:de=!1,scheduler:Ae}=De):ze=De??1/0,(0,Me.B)({connector:()=>new Q(ze,le,Ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:de})}},8675:(Qt,We,H)=>{H.d(We,{O:()=>Me});var d=H(7272),D=H(3269),Q=H(4482);function Me(...Ee){const De=(0,D.yG)(Ee);return(0,Q.e)((le,Ae)=>{(De?(0,d.z)(Ee,le,De):(0,d.z)(Ee,le)).subscribe(Ae)})}},9468:(Qt,We,H)=>{H.d(We,{R:()=>D});var d=H(4482);function D(Q,Me=0){return(0,d.e)((Ee,De)=>{De.add(Q.schedule(()=>Ee.subscribe(De),Me))})}},3900:(Qt,We,H)=>{H.d(We,{w:()=>Me});var d=H(8421),D=H(4482),Q=H(5403);function Me(Ee,De){return(0,D.e)((le,Ae)=>{let ze=null,de=0,fe=!1;const Ne=()=>fe&&!ze&&Ae.complete();le.subscribe((0,Q.x)(Ae,Xe=>{ze?.unsubscribe();let et=0;const Ze=de++;(0,d.Xf)(Ee(Xe,Ze)).subscribe(ze=(0,Q.x)(Ae,Pt=>Ae.next(De?De(Xe,Pt,Ze,et++):Pt),()=>{ze=null,Ne()}))},()=>{fe=!0,Ne()}))})}},5698:(Qt,We,H)=>{H.d(We,{q:()=>Me});var d=H(515),D=H(4482),Q=H(5403);function Me(Ee){return Ee<=0?()=>d.E:(0,D.e)((De,le)=>{let Ae=0;De.subscribe((0,Q.x)(le,ze=>{++Ae<=Ee&&(le.next(ze),Ee<=Ae&&le.complete())}))})}},2722:(Qt,We,H)=>{H.d(We,{R:()=>Ee});var d=H(4482),D=H(5403),Q=H(8421),Me=H(5032);function Ee(De){return(0,d.e)((le,Ae)=>{(0,Q.Xf)(De).subscribe((0,D.x)(Ae,()=>Ae.complete(),Me.Z)),!Ae.closed&&le.subscribe(Ae)})}},8505:(Qt,We,H)=>{H.d(We,{b:()=>Ee});var d=H(576),D=H(4482),Q=H(5403),Me=H(4671);function Ee(De,le,Ae){const ze=(0,d.m)(De)||le||Ae?{next:De,error:le,complete:Ae}:De;return ze?(0,D.e)((de,fe)=>{var Ne;null===(Ne=ze.subscribe)||void 0===Ne||Ne.call(ze);let Xe=!0;de.subscribe((0,Q.x)(fe,et=>{var Ze;null===(Ze=ze.next)||void 0===Ze||Ze.call(ze,et),fe.next(et)},()=>{var et;Xe=!1,null===(et=ze.complete)||void 0===et||et.call(ze),fe.complete()},et=>{var Ze;Xe=!1,null===(Ze=ze.error)||void 0===Ze||Ze.call(ze,et),fe.error(et)},()=>{var et,Ze;Xe&&(null===(et=ze.unsubscribe)||void 0===et||et.call(ze)),null===(Ze=ze.finalize)||void 0===Ze||Ze.call(ze)}))}):Me.y}},8068:(Qt,We,H)=>{H.d(We,{T:()=>Me});var d=H(6805),D=H(4482),Q=H(5403);function Me(De=Ee){return(0,D.e)((le,Ae)=>{let ze=!1;le.subscribe((0,Q.x)(Ae,de=>{ze=!0,Ae.next(de)},()=>ze?Ae.complete():Ae.error(De())))})}function Ee(){return new d.K}},4408:(Qt,We,H)=>{H.d(We,{o:()=>Ee});var d=H(727);class D extends d.w0{constructor(le,Ae){super()}schedule(le,Ae=0){return this}}const Q={setInterval(De,le,...Ae){const{delegate:ze}=Q;return ze?.setInterval?ze.setInterval(De,le,...Ae):setInterval(De,le,...Ae)},clearInterval(De){const{delegate:le}=Q;return(le?.clearInterval||clearInterval)(De)},delegate:void 0};var Me=H(8737);class Ee extends D{constructor(le,Ae){super(le,Ae),this.scheduler=le,this.work=Ae,this.pending=!1}schedule(le,Ae=0){var ze;if(this.closed)return this;this.state=le;const de=this.id,fe=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(fe,de,Ae)),this.pending=!0,this.delay=Ae,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(fe,this.id,Ae),this}requestAsyncId(le,Ae,ze=0){return Q.setInterval(le.flush.bind(le,this),ze)}recycleAsyncId(le,Ae,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return Ae;null!=Ae&&Q.clearInterval(Ae)}execute(le,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(le,Ae);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,Ae){let de,ze=!1;try{this.work(le)}catch(fe){ze=!0,de=fe||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:le,scheduler:Ae}=this,{actions:ze}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Me.P)(ze,this),null!=le&&(this.id=this.recycleAsyncId(Ae,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(Qt,We,H)=>{H.d(We,{v:()=>Q});var d=H(6063);class D{constructor(Ee,De=D.now){this.schedulerActionCtor=Ee,this.now=De}schedule(Ee,De=0,le){return new this.schedulerActionCtor(this,Ee).schedule(le,De)}}D.now=d.l.now;class Q extends D{constructor(Ee,De=D.now){super(Ee,De),this.actions=[],this._active=!1}flush(Ee){const{actions:De}=this;if(this._active)return void De.push(Ee);let le;this._active=!0;do{if(le=Ee.execute(Ee.state,Ee.delay))break}while(Ee=De.shift());if(this._active=!1,le){for(;Ee=De.shift();)Ee.unsubscribe();throw le}}}},4986:(Qt,We,H)=>{H.d(We,{P:()=>Me,z:()=>Q});var d=H(4408);const Q=new(H(7565).v)(d.o),Me=Q},6063:(Qt,We,H)=>{H.d(We,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Qt,We,H)=>{H.d(We,{z:()=>d});const d={setTimeout(D,Q,...Me){const{delegate:Ee}=d;return Ee?.setTimeout?Ee.setTimeout(D,Q,...Me):setTimeout(D,Q,...Me)},clearTimeout(D){const{delegate:Q}=d;return(Q?.clearTimeout||clearTimeout)(D)},delegate:void 0}},2202:(Qt,We,H)=>{H.d(We,{h:()=>D});const D=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qt,We,H)=>{H.d(We,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Qt,We,H)=>{H.d(We,{K:()=>D});const D=(0,H(3888).d)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Qt,We,H)=>{H.d(We,{_6:()=>De,jO:()=>Me,yG:()=>Ee});var d=H(576),D=H(3532);function Q(le){return le[le.length-1]}function Me(le){return(0,d.m)(Q(le))?le.pop():void 0}function Ee(le){return(0,D.K)(Q(le))?le.pop():void 0}function De(le,Ae){return"number"==typeof Q(le)?le.pop():Ae}},4742:(Qt,We,H)=>{H.d(We,{D:()=>Ee});const{isArray:d}=Array,{getPrototypeOf:D,prototype:Q,keys:Me}=Object;function Ee(le){if(1===le.length){const Ae=le[0];if(d(Ae))return{args:Ae,keys:null};if(function De(le){return le&&"object"==typeof le&&D(le)===Q}(Ae)){const ze=Me(Ae);return{args:ze.map(de=>Ae[de]),keys:ze}}}return{args:le,keys:null}}},8737:(Qt,We,H)=>{function d(D,Q){if(D){const Me=D.indexOf(Q);0<=Me&&D.splice(Me,1)}}H.d(We,{P:()=>d})},3888:(Qt,We,H)=>{function d(D){const Me=D(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Me.prototype=Object.create(Error.prototype),Me.prototype.constructor=Me,Me}H.d(We,{d:()=>d})},1810:(Qt,We,H)=>{function d(D,Q){return D.reduce((Me,Ee,De)=>(Me[Ee]=Q[De],Me),{})}H.d(We,{n:()=>d})},2806:(Qt,We,H)=>{H.d(We,{O:()=>Me,x:()=>Q});var d=H(2416);let D=null;function Q(Ee){if(d.v.useDeprecatedSynchronousErrorHandling){const De=!D;if(De&&(D={errorThrown:!1,error:null}),Ee(),De){const{errorThrown:le,error:Ae}=D;if(D=null,le)throw Ae}}else Ee()}function Me(Ee){d.v.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=Ee)}},9672:(Qt,We,H)=>{function d(D,Q,Me,Ee=0,De=!1){const le=Q.schedule(function(){Me(),De?D.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(D.add(le),!De)return le}H.d(We,{f:()=>d})},4671:(Qt,We,H)=>{function d(D){return D}H.d(We,{y:()=>d})},1144:(Qt,We,H)=>{H.d(We,{z:()=>d});const d=D=>D&&"number"==typeof D.length&&"function"!=typeof D},2206:(Qt,We,H)=>{H.d(We,{D:()=>D});var d=H(576);function D(Q){return Symbol.asyncIterator&&(0,d.m)(Q?.[Symbol.asyncIterator])}},576:(Qt,We,H)=>{function d(D){return"function"==typeof D}H.d(We,{m:()=>d})},3670:(Qt,We,H)=>{H.d(We,{c:()=>Q});var d=H(8822),D=H(576);function Q(Me){return(0,D.m)(Me[d.L])}},6495:(Qt,We,H)=>{H.d(We,{T:()=>Q});var d=H(2202),D=H(576);function Q(Me){return(0,D.m)(Me?.[d.h])}},8239:(Qt,We,H)=>{H.d(We,{t:()=>D});var d=H(576);function D(Q){return(0,d.m)(Q?.then)}},3260:(Qt,We,H)=>{H.d(We,{L:()=>Me,Q:()=>Q});var d=H(655),D=H(576);function Q(Ee){return(0,d.FC)(this,arguments,function*(){const le=Ee.getReader();try{for(;;){const{value:Ae,done:ze}=yield(0,d.qq)(le.read());if(ze)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ae)}}finally{le.releaseLock()}})}function Me(Ee){return(0,D.m)(Ee?.getReader)}},3532:(Qt,We,H)=>{H.d(We,{K:()=>D});var d=H(576);function D(Q){return Q&&(0,d.m)(Q.schedule)}},4482:(Qt,We,H)=>{H.d(We,{A:()=>D,e:()=>Q});var d=H(576);function D(Me){return(0,d.m)(Me?.lift)}function Q(Me){return Ee=>{if(D(Ee))return Ee.lift(function(De){try{return Me(De,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Qt,We,H)=>{H.d(We,{Z:()=>Me});var d=H(4004);const{isArray:D}=Array;function Me(Ee){return(0,d.U)(De=>function Q(Ee,De){return D(De)?Ee(...De):Ee(De)}(Ee,De))}},5032:(Qt,We,H)=>{function d(){}H.d(We,{Z:()=>d})},9635:(Qt,We,H)=>{H.d(We,{U:()=>Q,z:()=>D});var d=H(4671);function D(...Me){return Q(Me)}function Q(Me){return 0===Me.length?d.y:1===Me.length?Me[0]:function(De){return Me.reduce((le,Ae)=>Ae(le),De)}}},7849:(Qt,We,H)=>{H.d(We,{h:()=>Q});var d=H(2416),D=H(3410);function Q(Me){D.z.setTimeout(()=>{const{onUnhandledError:Ee}=d.v;if(!Ee)throw Me;Ee(Me)})}},4532:(Qt,We,H)=>{function d(D){return new TypeError(`You provided ${null!==D&&"object"==typeof D?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(We,{z:()=>d})},655:(Qt,We,H)=>{function Me(_e,Te){var Qe={};for(var Re in _e)Object.prototype.hasOwnProperty.call(_e,Re)&&Te.indexOf(Re)<0&&(Qe[Re]=_e[Re]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var St=0;for(Re=Object.getOwnPropertySymbols(_e);St<Re.length;St++)Te.indexOf(Re[St])<0&&Object.prototype.propertyIsEnumerable.call(_e,Re[St])&&(Qe[Re[St]]=_e[Re[St]])}return Qe}function Ae(_e,Te,Qe,Re){return new(Qe||(Qe=Promise))(function(Tt,f1){function L1(g1){try{xt(Re.next(g1))}catch(y1){f1(y1)}}function S1(g1){try{xt(Re.throw(g1))}catch(y1){f1(y1)}}function xt(g1){g1.done?Tt(g1.value):function St(Tt){return Tt instanceof Qe?Tt:new Qe(function(f1){f1(Tt)})}(g1.value).then(L1,S1)}xt((Re=Re.apply(_e,Te||[])).next())})}function rt(_e){return this instanceof rt?(this.v=_e,this):new rt(_e)}function nt(_e,Te,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var St,Re=Qe.apply(_e,Te||[]),Tt=[];return St={},f1("next"),f1("throw"),f1("return"),St[Symbol.asyncIterator]=function(){return this},St;function f1(_1){Re[_1]&&(St[_1]=function(v1){return new Promise(function(qn,Ft){Tt.push([_1,v1,qn,Ft])>1||L1(_1,v1)})})}function L1(_1,v1){try{!function S1(_1){_1.value instanceof rt?Promise.resolve(_1.value.v).then(xt,g1):y1(Tt[0][2],_1)}(Re[_1](v1))}catch(qn){y1(Tt[0][3],qn)}}function xt(_1){L1("next",_1)}function g1(_1){L1("throw",_1)}function y1(_1,v1){_1(v1),Tt.shift(),Tt.length&&L1(Tt[0][0],Tt[0][1])}}function Kt(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Te=_e[Symbol.asyncIterator];return Te?Te.call(_e):(_e=function Ne(_e){var Te="function"==typeof Symbol&&Symbol.iterator,Qe=Te&&_e[Te],Re=0;if(Qe)return Qe.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Re>=_e.length&&(_e=void 0),{value:_e&&_e[Re++],done:!_e}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Qe={},Re("next"),Re("throw"),Re("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Re(Tt){Qe[Tt]=_e[Tt]&&function(f1){return new Promise(function(L1,S1){!function St(Tt,f1,L1,S1){Promise.resolve(S1).then(function(xt){Tt({value:xt,done:L1})},f1)}(L1,S1,(f1=_e[Tt](f1)).done,f1.value)})}}}H.d(We,{FC:()=>nt,KL:()=>Kt,_T:()=>Me,mG:()=>Ae,qq:()=>rt})},6895:(Qt,We,H)=>{H.d(We,{Do:()=>Kt,EM:()=>or,HT:()=>Ee,JF:()=>Zr,K0:()=>le,Mx:()=>pi,NF:()=>Ss,O5:()=>Pn,Ov:()=>Zt,PC:()=>as,PM:()=>Qn,S$:()=>rt,V_:()=>de,Ye:()=>it,b0:()=>Oe,bD:()=>Li,ez:()=>yi,mk:()=>Tn,q:()=>Q,sg:()=>ri,tP:()=>V2,uU:()=>G2,w_:()=>De});var d=H(4650);let D=null;function Q(){return D}function Ee(z){D||(D=z)}class De{}const le=new d.OlP("DocumentToken");let Ae=(()=>{class z{historyGo(O){throw new Error("Not implemented")}}return z.\u0275fac=function(O){return new(O||z)},z.\u0275prov=d.Yz7({token:z,factory:function(){return function ze(){return(0,d.LFG)(fe)}()},providedIn:"platform"}),z})();const de=new d.OlP("Location Initialized");let fe=(()=>{class z extends Ae{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(O){const X=Q().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",O,!1),()=>X.removeEventListener("popstate",O)}onHashChange(O){const X=Q().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",O,!1),()=>X.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,X,me){Ne()?this._history.pushState(O,X,me):this.location.hash=me}replaceState(O,X,me){Ne()?this._history.replaceState(O,X,me):this.location.hash=me}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return z.\u0275fac=function(O){return new(O||z)(d.LFG(le))},z.\u0275prov=d.Yz7({token:z,factory:function(){return function Xe(){return new fe((0,d.LFG)(le))}()},providedIn:"platform"}),z})();function Ne(){return!!window.history.pushState}function et(z,$){if(0==z.length)return $;if(0==$.length)return z;let O=0;return z.endsWith("/")&&O++,$.startsWith("/")&&O++,2==O?z+$.substring(1):1==O?z+$:z+"/"+$}function Ze(z){const $=z.match(/#|\?|$/),O=$&&$.index||z.length;return z.slice(0,O-("/"===z[O-1]?1:0))+z.slice(O)}function Pt(z){return z&&"?"!==z[0]?"?"+z:z}let rt=(()=>{class z{historyGo(O){throw new Error("Not implemented")}}return z.\u0275fac=function(O){return new(O||z)},z.\u0275prov=d.Yz7({token:z,factory:function(){return(0,d.f3M)(Oe)},providedIn:"root"}),z})();const nt=new d.OlP("appBaseHref");let Oe=(()=>{class z extends rt{constructor(O,X){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=X??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return et(this._baseHref,O)}path(O=!1){const X=this._platformLocation.pathname+Pt(this._platformLocation.search),me=this._platformLocation.hash;return me&&O?`${X}${me}`:X}pushState(O,X,me,Je){const ft=this.prepareExternalUrl(me+Pt(Je));this._platformLocation.pushState(O,X,ft)}replaceState(O,X,me,Je){const ft=this.prepareExternalUrl(me+Pt(Je));this._platformLocation.replaceState(O,X,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return z.\u0275fac=function(O){return new(O||z)(d.LFG(Ae),d.LFG(nt,8))},z.\u0275prov=d.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),Kt=(()=>{class z extends rt{constructor(O,X){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(O){const X=et(this._baseHref,O);return X.length>0?"#"+X:X}pushState(O,X,me,Je){let ft=this.prepareExternalUrl(me+Pt(Je));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.pushState(O,X,ft)}replaceState(O,X,me,Je){let ft=this.prepareExternalUrl(me+Pt(Je));0==ft.length&&(ft=this._platformLocation.pathname),this._platformLocation.replaceState(O,X,ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return z.\u0275fac=function(O){return new(O||z)(d.LFG(Ae),d.LFG(nt,8))},z.\u0275prov=d.Yz7({token:z,factory:z.\u0275fac}),z})(),it=(()=>{class z{constructor(O){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const X=this._locationStrategy.getBaseHref();this._baseHref=Ze(It(X)),this._locationStrategy.onPopState(me=>{this._subject.emit({url:this.path(!0),pop:!0,state:me.state,type:me.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,X=""){return this.path()==this.normalize(O+Pt(X))}normalize(O){return z.stripTrailingSlash(function Ye(z,$){return z&&$.startsWith(z)?$.substring(z.length):$}(this._baseHref,It(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,X="",me=null){this._locationStrategy.pushState(me,"",O,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Pt(X)),me)}replaceState(O,X="",me=null){this._locationStrategy.replaceState(me,"",O,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Pt(X)),me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)})),()=>{const X=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(X,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",X){this._urlChangeListeners.forEach(me=>me(O,X))}subscribe(O,X,me){return this._subject.subscribe({next:O,error:X,complete:me})}}return z.normalizeQueryParams=Pt,z.joinWithSlash=et,z.stripTrailingSlash=Ze,z.\u0275fac=function(O){return new(O||z)(d.LFG(rt))},z.\u0275prov=d.Yz7({token:z,factory:function(){return function ct(){return new it((0,d.LFG)(rt))}()},providedIn:"root"}),z})();function It(z){return z.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Format=0]="Format",_e[_e.Standalone=1]="Standalone",_e))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),Qe=(()=>((Qe=Qe||{})[Qe.Short=0]="Short",Qe[Qe.Medium=1]="Medium",Qe[Qe.Long=2]="Long",Qe[Qe.Full=3]="Full",Qe))(),Re=(()=>((Re=Re||{})[Re.Decimal=0]="Decimal",Re[Re.Group=1]="Group",Re[Re.List=2]="List",Re[Re.PercentSign=3]="PercentSign",Re[Re.PlusSign=4]="PlusSign",Re[Re.MinusSign=5]="MinusSign",Re[Re.Exponential=6]="Exponential",Re[Re.SuperscriptingExponent=7]="SuperscriptingExponent",Re[Re.PerMille=8]="PerMille",Re[Re.Infinity=9]="Infinity",Re[Re.NaN=10]="NaN",Re[Re.TimeSeparator=11]="TimeSeparator",Re[Re.CurrencyDecimal=12]="CurrencyDecimal",Re[Re.CurrencyGroup=13]="CurrencyGroup",Re))();function _1(z,$){return Vt((0,d.cg1)(z)[d.wAp.DateFormat],$)}function v1(z,$){return Vt((0,d.cg1)(z)[d.wAp.TimeFormat],$)}function qn(z,$){return Vt((0,d.cg1)(z)[d.wAp.DateTimeFormat],$)}function Ft(z,$){const O=(0,d.cg1)(z),X=O[d.wAp.NumberSymbols][$];if(typeof X>"u"){if($===Re.CurrencyDecimal)return O[d.wAp.NumberSymbols][Re.Decimal];if($===Re.CurrencyGroup)return O[d.wAp.NumberSymbols][Re.Group]}return X}function Gn(z){if(!z[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${z[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vt(z,$){for(let O=$;O>-1;O--)if(typeof z[O]<"u")return z[O];throw new Error("Locale data API: locale data undefined")}function vn(z){const[$,O]=z.split(":");return{hours:+$,minutes:+O}}const O2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,n1={},st=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var we=(()=>((we=we||{})[we.Short=0]="Short",we[we.ShortGMT=1]="ShortGMT",we[we.Long=2]="Long",we[we.Extended=3]="Extended",we))(),ge=(()=>((ge=ge||{})[ge.FullYear=0]="FullYear",ge[ge.Month=1]="Month",ge[ge.Date=2]="Date",ge[ge.Hours=3]="Hours",ge[ge.Minutes=4]="Minutes",ge[ge.Seconds=5]="Seconds",ge[ge.FractionalSeconds=6]="FractionalSeconds",ge[ge.Day=7]="Day",ge))(),ot=(()=>((ot=ot||{})[ot.DayPeriods=0]="DayPeriods",ot[ot.Days=1]="Days",ot[ot.Months=2]="Months",ot[ot.Eras=3]="Eras",ot))();function vt(z,$,O,X){let me=function jt(z){if(O1(z))return z;if("number"==typeof z&&!isNaN(z))return new Date(z);if("string"==typeof z){if(z=z.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(z)){const[me,Je=1,ft=1]=z.split("-").map(e1=>+e1);return s1(me,Je-1,ft)}const O=parseFloat(z);if(!isNaN(z-O))return new Date(O);let X;if(X=z.match(O2))return function Yt(z){const $=new Date(0);let O=0,X=0;const me=z[8]?$.setUTCFullYear:$.setFullYear,Je=z[8]?$.setUTCHours:$.setHours;z[9]&&(O=Number(z[9]+z[10]),X=Number(z[9]+z[11])),me.call($,Number(z[1]),Number(z[2])-1,Number(z[3]));const ft=Number(z[4]||0)-O,e1=Number(z[5]||0)-X,K1=Number(z[6]||0),sn=Math.floor(1e3*parseFloat("0."+(z[7]||0)));return Je.call($,ft,e1,K1,sn),$}(X)}const $=new Date(z);if(!O1($))throw new Error(`Unable to convert "${z}" into a date`);return $}(z);$=h1(O,$)||$;let e1,ft=[];for(;$;){if(e1=st.exec($),!e1){ft.push($);break}{ft=ft.concat(e1.slice(1));const ln=ft.pop();if(!ln)break;$=ln}}let K1=me.getTimezoneOffset();X&&(K1=xe(X,K1),me=function Be(z,$,O){const X=O?-1:1,me=z.getTimezoneOffset();return function gt(z,$){return(z=new Date(z.getTime())).setMinutes(z.getMinutes()+$),z}(z,X*(xe($,me)-me))}(me,X,!0));let sn="";return ft.forEach(ln=>{const on=function be(z){if(Se[z])return Se[z];let $;switch(z){case"G":case"GG":case"GGG":$=q1(ot.Eras,Te.Abbreviated);break;case"GGGG":$=q1(ot.Eras,Te.Wide);break;case"GGGGG":$=q1(ot.Eras,Te.Narrow);break;case"y":$=$1(ge.FullYear,1,0,!1,!0);break;case"yy":$=$1(ge.FullYear,2,0,!0,!0);break;case"yyy":$=$1(ge.FullYear,3,0,!1,!0);break;case"yyyy":$=$1(ge.FullYear,4,0,!1,!0);break;case"Y":$=I1(1);break;case"YY":$=I1(2,!0);break;case"YYY":$=I1(3);break;case"YYYY":$=I1(4);break;case"M":case"L":$=$1(ge.Month,1,1);break;case"MM":case"LL":$=$1(ge.Month,2,1);break;case"MMM":$=q1(ot.Months,Te.Abbreviated);break;case"MMMM":$=q1(ot.Months,Te.Wide);break;case"MMMMM":$=q1(ot.Months,Te.Narrow);break;case"LLL":$=q1(ot.Months,Te.Abbreviated,_e.Standalone);break;case"LLLL":$=q1(ot.Months,Te.Wide,_e.Standalone);break;case"LLLLL":$=q1(ot.Months,Te.Narrow,_e.Standalone);break;case"w":$=T1(1);break;case"ww":$=T1(2);break;case"W":$=T1(1,!0);break;case"d":$=$1(ge.Date,1);break;case"dd":$=$1(ge.Date,2);break;case"c":case"cc":$=$1(ge.Day,1);break;case"ccc":$=q1(ot.Days,Te.Abbreviated,_e.Standalone);break;case"cccc":$=q1(ot.Days,Te.Wide,_e.Standalone);break;case"ccccc":$=q1(ot.Days,Te.Narrow,_e.Standalone);break;case"cccccc":$=q1(ot.Days,Te.Short,_e.Standalone);break;case"E":case"EE":case"EEE":$=q1(ot.Days,Te.Abbreviated);break;case"EEEE":$=q1(ot.Days,Te.Wide);break;case"EEEEE":$=q1(ot.Days,Te.Narrow);break;case"EEEEEE":$=q1(ot.Days,Te.Short);break;case"a":case"aa":case"aaa":$=q1(ot.DayPeriods,Te.Abbreviated);break;case"aaaa":$=q1(ot.DayPeriods,Te.Wide);break;case"aaaaa":$=q1(ot.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":$=q1(ot.DayPeriods,Te.Abbreviated,_e.Standalone,!0);break;case"bbbb":$=q1(ot.DayPeriods,Te.Wide,_e.Standalone,!0);break;case"bbbbb":$=q1(ot.DayPeriods,Te.Narrow,_e.Standalone,!0);break;case"B":case"BB":case"BBB":$=q1(ot.DayPeriods,Te.Abbreviated,_e.Format,!0);break;case"BBBB":$=q1(ot.DayPeriods,Te.Wide,_e.Format,!0);break;case"BBBBB":$=q1(ot.DayPeriods,Te.Narrow,_e.Format,!0);break;case"h":$=$1(ge.Hours,1,-12);break;case"hh":$=$1(ge.Hours,2,-12);break;case"H":$=$1(ge.Hours,1);break;case"HH":$=$1(ge.Hours,2);break;case"m":$=$1(ge.Minutes,1);break;case"mm":$=$1(ge.Minutes,2);break;case"s":$=$1(ge.Seconds,1);break;case"ss":$=$1(ge.Seconds,2);break;case"S":$=$1(ge.FractionalSeconds,1);break;case"SS":$=$1(ge.FractionalSeconds,2);break;case"SSS":$=$1(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":$=Z1(we.Short);break;case"ZZZZZ":$=Z1(we.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":$=Z1(we.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":$=Z1(we.Long);break;default:return null}return Se[z]=$,$}(ln);sn+=on?on(me,O,K1):"''"===ln?"'":ln.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),sn}function s1(z,$,O){const X=new Date(0);return X.setFullYear(z,$,O),X.setHours(0,0,0),X}function h1(z,$){const O=function Tt(z){return(0,d.cg1)(z)[d.wAp.LocaleId]}(z);if(n1[O]=n1[O]||{},n1[O][$])return n1[O][$];let X="";switch($){case"shortDate":X=_1(z,Qe.Short);break;case"mediumDate":X=_1(z,Qe.Medium);break;case"longDate":X=_1(z,Qe.Long);break;case"fullDate":X=_1(z,Qe.Full);break;case"shortTime":X=v1(z,Qe.Short);break;case"mediumTime":X=v1(z,Qe.Medium);break;case"longTime":X=v1(z,Qe.Long);break;case"fullTime":X=v1(z,Qe.Full);break;case"short":const me=h1(z,"shortTime"),Je=h1(z,"shortDate");X=a1(qn(z,Qe.Short),[me,Je]);break;case"medium":const ft=h1(z,"mediumTime"),e1=h1(z,"mediumDate");X=a1(qn(z,Qe.Medium),[ft,e1]);break;case"long":const K1=h1(z,"longTime"),sn=h1(z,"longDate");X=a1(qn(z,Qe.Long),[K1,sn]);break;case"full":const ln=h1(z,"fullTime"),on=h1(z,"fullDate");X=a1(qn(z,Qe.Full),[ln,on])}return X&&(n1[O][$]=X),X}function a1(z,$){return $&&(z=z.replace(/\{([^}]+)}/g,function(O,X){return null!=$&&X in $?$[X]:O})),z}function Bt(z,$,O="-",X,me){let Je="";(z<0||me&&z<=0)&&(me?z=1-z:(z=-z,Je=O));let ft=String(z);for(;ft.length<$;)ft="0"+ft;return X&&(ft=ft.slice(ft.length-$)),Je+ft}function $1(z,$,O=0,X=!1,me=!1){return function(Je,ft){let e1=function Kn(z,$){switch(z){case ge.FullYear:return $.getFullYear();case ge.Month:return $.getMonth();case ge.Date:return $.getDate();case ge.Hours:return $.getHours();case ge.Minutes:return $.getMinutes();case ge.Seconds:return $.getSeconds();case ge.FractionalSeconds:return $.getMilliseconds();case ge.Day:return $.getDay();default:throw new Error(`Unknown DateType value "${z}".`)}}(z,Je);if((O>0||e1>-O)&&(e1+=O),z===ge.Hours)0===e1&&-12===O&&(e1=12);else if(z===ge.FractionalSeconds)return function hn(z,$){return Bt(z,3).substring(0,$)}(e1,$);const K1=Ft(ft,Re.MinusSign);return Bt(e1,$,K1,X,me)}}function q1(z,$,O=_e.Format,X=!1){return function(me,Je){return function U1(z,$,O,X,me,Je){switch(O){case ot.Months:return function S1(z,$,O){const X=(0,d.cg1)(z),Je=Vt([X[d.wAp.MonthsFormat],X[d.wAp.MonthsStandalone]],$);return Vt(Je,O)}($,me,X)[z.getMonth()];case ot.Days:return function L1(z,$,O){const X=(0,d.cg1)(z),Je=Vt([X[d.wAp.DaysFormat],X[d.wAp.DaysStandalone]],$);return Vt(Je,O)}($,me,X)[z.getDay()];case ot.DayPeriods:const ft=z.getHours(),e1=z.getMinutes();if(Je){const sn=function V1(z){const $=(0,d.cg1)(z);return Gn($),($[d.wAp.ExtraData][2]||[]).map(X=>"string"==typeof X?vn(X):[vn(X[0]),vn(X[1])])}($),ln=function fn(z,$,O){const X=(0,d.cg1)(z);Gn(X);const Je=Vt([X[d.wAp.ExtraData][0],X[d.wAp.ExtraData][1]],$)||[];return Vt(Je,O)||[]}($,me,X),on=sn.findIndex($n=>{if(Array.isArray($n)){const[In,pn]=$n,Dr=ft>=In.hours&&e1>=In.minutes,Qi=ft<pn.hours||ft===pn.hours&&e1<pn.minutes;if(In.hours<pn.hours){if(Dr&&Qi)return!0}else if(Dr||Qi)return!0}else if($n.hours===ft&&$n.minutes===e1)return!0;return!1});if(-1!==on)return ln[on]}return function f1(z,$,O){const X=(0,d.cg1)(z),Je=Vt([X[d.wAp.DayPeriodsFormat],X[d.wAp.DayPeriodsStandalone]],$);return Vt(Je,O)}($,me,X)[ft<12?0:1];case ot.Eras:return function xt(z,$){return Vt((0,d.cg1)(z)[d.wAp.Eras],$)}($,X)[z.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${O}`)}}(me,Je,z,$,O,X)}}function Z1(z){return function($,O,X){const me=-1*X,Je=Ft(O,Re.MinusSign),ft=me>0?Math.floor(me/60):Math.ceil(me/60);switch(z){case we.Short:return(me>=0?"+":"")+Bt(ft,2,Je)+Bt(Math.abs(me%60),2,Je);case we.ShortGMT:return"GMT"+(me>=0?"+":"")+Bt(ft,1,Je);case we.Long:return"GMT"+(me>=0?"+":"")+Bt(ft,2,Je)+":"+Bt(Math.abs(me%60),2,Je);case we.Extended:return 0===X?"Z":(me>=0?"+":"")+Bt(ft,2,Je)+":"+Bt(Math.abs(me%60),2,Je);default:throw new Error(`Unknown zone width "${z}"`)}}}function w1(z){return s1(z.getFullYear(),z.getMonth(),z.getDate()+(4-z.getDay()))}function T1(z,$=!1){return function(O,X){let me;if($){const Je=new Date(O.getFullYear(),O.getMonth(),1).getDay()-1,ft=O.getDate();me=1+Math.floor((ft+Je)/7)}else{const Je=w1(O),ft=function Wt(z){const $=s1(z,0,1).getDay();return s1(z,0,1+($<=4?4:11)-$)}(Je.getFullYear()),e1=Je.getTime()-ft.getTime();me=1+Math.round(e1/6048e5)}return Bt(me,z,Ft(X,Re.MinusSign))}}function I1(z,$=!1){return function(O,X){return Bt(w1(O).getFullYear(),z,Ft(X,Re.MinusSign),$)}}const Se={};function xe(z,$){z=z.replace(/:/g,"");const O=Date.parse("Jan 01, 1970 00:00:00 "+z)/6e4;return isNaN(O)?$:O}function O1(z){return z instanceof Date&&!isNaN(z.valueOf())}function pi(z,$){$=encodeURIComponent($);for(const O of z.split(";")){const X=O.indexOf("="),[me,Je]=-1==X?[O,""]:[O.slice(0,X),O.slice(X+1)];if(me.trim()===$)return decodeURIComponent(Je)}return null}let Tn=(()=>{class z{constructor(O,X,me,Je){this._iterableDiffers=O,this._keyValueDiffers=X,this._ngEl=me,this._renderer=Je,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),O.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),O.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),O.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(X=>this._toggleClass(X,!0)):Object.keys(O).forEach(X=>this._toggleClass(X,!!O[X])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(X=>this._toggleClass(X,!1)):Object.keys(O).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(O,X){(O=O.trim())&&O.split(/\s+/g).forEach(me=>{X?this._renderer.addClass(this._ngEl.nativeElement,me):this._renderer.removeClass(this._ngEl.nativeElement,me)})}}return z.\u0275fac=function(O){return new(O||z)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},z.\u0275dir=d.lG2({type:z,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),z})();class J2{constructor($,O,X,me){this.$implicit=$,this.ngForOf=O,this.index=X,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class z{constructor(O,X,me){this._viewContainer=O,this._template=X,this._differs=me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const X=this._viewContainer;O.forEachOperation((me,Je,ft)=>{if(null==me.previousIndex)X.createEmbeddedView(this._template,new J2(me.item,this._ngForOf,-1,-1),null===ft?void 0:ft);else if(null==ft)X.remove(null===Je?void 0:Je);else if(null!==Je){const e1=X.get(Je);X.move(e1,ft),si(e1,me)}});for(let me=0,Je=X.length;me<Je;me++){const e1=X.get(me).context;e1.index=me,e1.count=Je,e1.ngForOf=this._ngForOf}O.forEachIdentityChange(me=>{si(X.get(me.currentIndex),me)})}static ngTemplateContextGuard(O,X){return!0}}return z.\u0275fac=function(O){return new(O||z)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},z.\u0275dir=d.lG2({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),z})();function si(z,$){z.context.$implicit=$.item}let Pn=(()=>{class z{constructor(O,X){this._viewContainer=O,this._context=new xi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){En("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){En("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,X){return!0}}return z.\u0275fac=function(O){return new(O||z)(d.Y36(d.s_b),d.Y36(d.Rgc))},z.\u0275dir=d.lG2({type:z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),z})();class xi{constructor(){this.$implicit=null,this.ngIf=null}}function En(z,$){if($&&!$.createEmbeddedView)throw new Error(`${z} must be a TemplateRef, but received '${(0,d.AaK)($)}'.`)}let as=(()=>{class z{constructor(O,X,me){this._ngEl=O,this._differs=X,this._renderer=me,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,X){const[me,Je]=O.split("."),ft=-1===me.indexOf("-")?void 0:d.JOm.DashCase;null!=X?this._renderer.setStyle(this._ngEl.nativeElement,me,Je?`${X}${Je}`:X,ft):this._renderer.removeStyle(this._ngEl.nativeElement,me,ft)}_applyChanges(O){O.forEachRemovedItem(X=>this._setStyle(X.key,null)),O.forEachAddedItem(X=>this._setStyle(X.key,X.currentValue)),O.forEachChangedItem(X=>this._setStyle(X.key,X.currentValue))}}return z.\u0275fac=function(O){return new(O||z)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},z.\u0275dir=d.lG2({type:z,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),z})(),V2=(()=>{class z{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(O.ngTemplateOutlet||O.ngTemplateOutletInjector){const X=this._viewContainerRef;if(this._viewRef&&X.remove(X.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:me,ngTemplateOutletContext:Je,ngTemplateOutletInjector:ft}=this;this._viewRef=X.createEmbeddedView(me,Je,ft?{injector:ft}:void 0)}else this._viewRef=null}else this._viewRef&&O.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return z.\u0275fac=function(O){return new(O||z)(d.Y36(d.s_b))},z.\u0275dir=d.lG2({type:z,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),z})();function d2(z,$){return new d.vHH(2100,!1)}class $e{createSubscription($,O){return $.subscribe({next:O,error:X=>{throw X}})}dispose($){$.unsubscribe()}}class He{createSubscription($,O){return $.then(O,X=>{throw X})}dispose($){}}const qe=new He,wt=new $e;let Zt=(()=>{class z{constructor(O){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=O}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,X=>this._updateLatestValue(O,X))}_selectStrategy(O){if((0,d.QGY)(O))return qe;if((0,d.F4k)(O))return wt;throw d2()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,X){O===this._obj&&(this._latestValue=X,this._ref.markForCheck())}}return z.\u0275fac=function(O){return new(O||z)(d.Y36(d.sBO,16))},z.\u0275pipe=d.Yjl({name:"async",type:z,pure:!1,standalone:!0}),z})();const Di=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let G2=(()=>{class z{constructor(O,X){this.locale=O,this.defaultTimezone=X}transform(O,X="mediumDate",me,Je){if(null==O||""===O||O!=O)return null;try{return vt(O,X,Je||this.locale,me??this.defaultTimezone??void 0)}catch(ft){throw d2()}}}return z.\u0275fac=function(O){return new(O||z)(d.Y36(d.soG,16),d.Y36(Di,24))},z.\u0275pipe=d.Yjl({name:"date",type:z,pure:!0,standalone:!0}),z})(),yi=(()=>{class z{}return z.\u0275fac=function(O){return new(O||z)},z.\u0275mod=d.oAB({type:z}),z.\u0275inj=d.cJS({}),z})();const Li="browser";function Ss(z){return z===Li}function Qn(z){return"server"===z}let or=(()=>{class z{}return z.\u0275prov=(0,d.Yz7)({token:z,providedIn:"root",factory:()=>new Fn((0,d.LFG)(le),window)}),z})();class Fn{constructor($,O){this.document=$,this.window=O,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const O=function v2(z,$){const O=z.getElementById($)||z.getElementsByName($)[0];if(O)return O;if("function"==typeof z.createTreeWalker&&z.body&&(z.body.createShadowRoot||z.body.attachShadow)){const X=z.createTreeWalker(z.body,NodeFilter.SHOW_ELEMENT);let me=X.currentNode;for(;me;){const Je=me.shadowRoot;if(Je){const ft=Je.getElementById($)||Je.querySelector(`[name="${$}"]`);if(ft)return ft}me=X.nextNode()}}return null}(this.document,$);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=$)}}scrollToElement($){const O=$.getBoundingClientRect(),X=O.left+this.window.pageXOffset,me=O.top+this.window.pageYOffset,Je=this.offset();this.window.scrollTo(X-Je[0],me-Je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=D2(this.window.history)||D2(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function D2(z){return Object.getOwnPropertyDescriptor(z,"scrollRestoration")}class Zr{}},529:(Qt,We,H)=>{H.d(We,{JF:()=>N2});var d=H(6895),D=H(4650),Q=H(9646),Me=H(9751),Ee=H(4351),De=H(9300),le=H(4004);class Ae{}class ze{}class de{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(ge=>{const ot=ge.indexOf(":");if(ot>0){const vt=ge.slice(0,ot),s1=vt.toLowerCase(),h1=ge.slice(ot+1).trim();this.maybeSetNormalizedName(vt,s1),this.headers.has(s1)?this.headers.get(s1).push(h1):this.headers.set(s1,[h1])}})}:()=>{this.headers=new Map,Object.keys(we).forEach(ge=>{let ot=we[ge];const vt=ge.toLowerCase();"string"==typeof ot&&(ot=[ot]),ot.length>0&&(this.headers.set(vt,ot),this.maybeSetNormalizedName(ge,vt))})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const ge=this.headers.get(we.toLowerCase());return ge&&ge.length>0?ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,ge){return this.clone({name:we,value:ge,op:"a"})}set(we,ge){return this.clone({name:we,value:ge,op:"s"})}delete(we,ge){return this.clone({name:we,value:ge,op:"d"})}maybeSetNormalizedName(we,ge){this.normalizedNames.has(ge)||this.normalizedNames.set(ge,we)}init(){this.lazyInit&&(this.lazyInit instanceof de?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(ge=>{this.headers.set(ge,we.headers.get(ge)),this.normalizedNames.set(ge,we.normalizedNames.get(ge))})}clone(we){const ge=new de;return ge.lazyInit=this.lazyInit&&this.lazyInit instanceof de?this.lazyInit:this,ge.lazyUpdate=(this.lazyUpdate||[]).concat([we]),ge}applyUpdate(we){const ge=we.name.toLowerCase();switch(we.op){case"a":case"s":let ot=we.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(we.name,ge);const vt=("a"===we.op?this.headers.get(ge):void 0)||[];vt.push(...ot),this.headers.set(ge,vt);break;case"d":const s1=we.value;if(s1){let h1=this.headers.get(ge);if(!h1)return;h1=h1.filter(a1=>-1===s1.indexOf(a1)),0===h1.length?(this.headers.delete(ge),this.normalizedNames.delete(ge)):this.headers.set(ge,h1)}else this.headers.delete(ge),this.normalizedNames.delete(ge)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(ge=>we(this.normalizedNames.get(ge),this.headers.get(ge)))}}class Ne{encodeKey(we){return Pt(we)}encodeValue(we){return Pt(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const et=/%(\d[a-f0-9])/gi,Ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pt(st){return encodeURIComponent(st).replace(et,(we,ge)=>Ze[ge]??we)}function rt(st){return`${st}`}class nt{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new Ne,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xe(st,we){const ge=new Map;return st.length>0&&st.replace(/^\?/,"").split("&").forEach(vt=>{const s1=vt.indexOf("="),[h1,a1]=-1==s1?[we.decodeKey(vt),""]:[we.decodeKey(vt.slice(0,s1)),we.decodeValue(vt.slice(s1+1))],Bt=ge.get(h1)||[];Bt.push(a1),ge.set(h1,Bt)}),ge}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(ge=>{const ot=we.fromObject[ge],vt=Array.isArray(ot)?ot.map(rt):[rt(ot)];this.map.set(ge,vt)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const ge=this.map.get(we);return ge?ge[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,ge){return this.clone({param:we,value:ge,op:"a"})}appendAll(we){const ge=[];return Object.keys(we).forEach(ot=>{const vt=we[ot];Array.isArray(vt)?vt.forEach(s1=>{ge.push({param:ot,value:s1,op:"a"})}):ge.push({param:ot,value:vt,op:"a"})}),this.clone(ge)}set(we,ge){return this.clone({param:we,value:ge,op:"s"})}delete(we,ge){return this.clone({param:we,value:ge,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const ge=this.encoder.encodeKey(we);return this.map.get(we).map(ot=>ge+"="+this.encoder.encodeValue(ot)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const ge=new nt({encoder:this.encoder});return ge.cloneFrom=this.cloneFrom||this,ge.updates=(this.updates||[]).concat(we),ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const ge=("a"===we.op?this.map.get(we.param):void 0)||[];ge.push(rt(we.value)),this.map.set(we.param,ge);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let ot=this.map.get(we.param)||[];const vt=ot.indexOf(rt(we.value));-1!==vt&&ot.splice(vt,1),ot.length>0?this.map.set(we.param,ot):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class Kt{constructor(){this.map=new Map}set(we,ge){return this.map.set(we,ge),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function ct(st){return typeof ArrayBuffer<"u"&&st instanceof ArrayBuffer}function Ye(st){return typeof Blob<"u"&&st instanceof Blob}function It(st){return typeof FormData<"u"&&st instanceof FormData}class re{constructor(we,ge,ot,vt){let s1;if(this.url=ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function it(st){switch(st){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==ot?ot:null,s1=vt):s1=ot,s1&&(this.reportProgress=!!s1.reportProgress,this.withCredentials=!!s1.withCredentials,s1.responseType&&(this.responseType=s1.responseType),s1.headers&&(this.headers=s1.headers),s1.context&&(this.context=s1.context),s1.params&&(this.params=s1.params)),this.headers||(this.headers=new de),this.context||(this.context=new Kt),this.params){const h1=this.params.toString();if(0===h1.length)this.urlWithParams=ge;else{const a1=ge.indexOf("?");this.urlWithParams=ge+(-1===a1?"?":a1<ge.length-1?"&":"")+h1}}else this.params=new nt,this.urlWithParams=ge}serializeBody(){return null===this.body?null:ct(this.body)||Ye(this.body)||It(this.body)||function mt(st){return typeof URLSearchParams<"u"&&st instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||It(this.body)?null:Ye(this.body)?this.body.type||null:ct(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const ge=we.method||this.method,ot=we.url||this.url,vt=we.responseType||this.responseType,s1=void 0!==we.body?we.body:this.body,h1=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,a1=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let Bt=we.headers||this.headers,hn=we.params||this.params;const $1=we.context??this.context;return void 0!==we.setHeaders&&(Bt=Object.keys(we.setHeaders).reduce((Kn,q1)=>Kn.set(q1,we.setHeaders[q1]),Bt)),we.setParams&&(hn=Object.keys(we.setParams).reduce((Kn,q1)=>Kn.set(q1,we.setParams[q1]),hn)),new re(ge,ot,s1,{params:hn,headers:Bt,context:$1,reportProgress:a1,responseType:vt,withCredentials:h1})}}var Ke=(()=>((Ke=Ke||{})[Ke.Sent=0]="Sent",Ke[Ke.UploadProgress=1]="UploadProgress",Ke[Ke.ResponseHeader=2]="ResponseHeader",Ke[Ke.DownloadProgress=3]="DownloadProgress",Ke[Ke.Response=4]="Response",Ke[Ke.User=5]="User",Ke))();class _e{constructor(we,ge=200,ot="OK"){this.headers=we.headers||new de,this.status=void 0!==we.status?we.status:ge,this.statusText=we.statusText||ot,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class Te extends _e{constructor(we={}){super(we),this.type=Ke.ResponseHeader}clone(we={}){return new Te({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Qe extends _e{constructor(we={}){super(we),this.type=Ke.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new Qe({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class Re extends _e{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function St(st,we){return{body:we,headers:st.headers,context:st.context,observe:st.observe,params:st.params,reportProgress:st.reportProgress,responseType:st.responseType,withCredentials:st.withCredentials}}let Tt=(()=>{class st{constructor(ge){this.handler=ge}request(ge,ot,vt={}){let s1;if(ge instanceof re)s1=ge;else{let Bt,hn;Bt=vt.headers instanceof de?vt.headers:new de(vt.headers),vt.params&&(hn=vt.params instanceof nt?vt.params:new nt({fromObject:vt.params})),s1=new re(ge,ot,void 0!==vt.body?vt.body:null,{headers:Bt,context:vt.context,params:hn,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const h1=(0,Q.of)(s1).pipe((0,Ee.b)(Bt=>this.handler.handle(Bt)));if(ge instanceof re||"events"===vt.observe)return h1;const a1=h1.pipe((0,De.h)(Bt=>Bt instanceof Qe));switch(vt.observe||"body"){case"body":switch(s1.responseType){case"arraybuffer":return a1.pipe((0,le.U)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Bt.body}));case"blob":return a1.pipe((0,le.U)(Bt=>{if(null!==Bt.body&&!(Bt.body instanceof Blob))throw new Error("Response is not a Blob.");return Bt.body}));case"text":return a1.pipe((0,le.U)(Bt=>{if(null!==Bt.body&&"string"!=typeof Bt.body)throw new Error("Response is not a string.");return Bt.body}));default:return a1.pipe((0,le.U)(Bt=>Bt.body))}case"response":return a1;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(ge,ot={}){return this.request("DELETE",ge,ot)}get(ge,ot={}){return this.request("GET",ge,ot)}head(ge,ot={}){return this.request("HEAD",ge,ot)}jsonp(ge,ot){return this.request("JSONP",ge,{params:(new nt).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ge,ot={}){return this.request("OPTIONS",ge,ot)}patch(ge,ot,vt={}){return this.request("PATCH",ge,St(vt,ot))}post(ge,ot,vt={}){return this.request("POST",ge,St(vt,ot))}put(ge,ot,vt={}){return this.request("PUT",ge,St(vt,ot))}}return st.\u0275fac=function(ge){return new(ge||st)(D.LFG(Ae))},st.\u0275prov=D.Yz7({token:st,factory:st.\u0275fac}),st})();class f1{constructor(we,ge){this.next=we,this.interceptor=ge}handle(we){return this.interceptor.intercept(we,this.next)}}const L1=new D.OlP("HTTP_INTERCEPTORS");let S1=(()=>{class st{intercept(ge,ot){return ot.handle(ge)}}return st.\u0275fac=function(ge){return new(ge||st)},st.\u0275prov=D.Yz7({token:st,factory:st.\u0275fac}),st})();const wn=/^\)\]\}',?\n/;let jn=(()=>{class st{constructor(ge){this.xhrFactory=ge}handle(ge){if("JSONP"===ge.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Me.y(ot=>{const vt=this.xhrFactory.build();if(vt.open(ge.method,ge.urlWithParams),ge.withCredentials&&(vt.withCredentials=!0),ge.headers.forEach((U1,Z1)=>vt.setRequestHeader(U1,Z1.join(","))),ge.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!ge.headers.has("Content-Type")){const U1=ge.detectContentTypeHeader();null!==U1&&vt.setRequestHeader("Content-Type",U1)}if(ge.responseType){const U1=ge.responseType.toLowerCase();vt.responseType="json"!==U1?U1:"text"}const s1=ge.serializeBody();let h1=null;const a1=()=>{if(null!==h1)return h1;const U1=vt.statusText||"OK",Z1=new de(vt.getAllResponseHeaders()),r1=function xn(st){return"responseURL"in st&&st.responseURL?st.responseURL:/^X-Request-URL:/m.test(st.getAllResponseHeaders())?st.getResponseHeader("X-Request-URL"):null}(vt)||ge.url;return h1=new Te({headers:Z1,status:vt.status,statusText:U1,url:r1}),h1},Bt=()=>{let{headers:U1,status:Z1,statusText:r1,url:Mt}=a1(),Wt=null;204!==Z1&&(Wt=typeof vt.response>"u"?vt.responseText:vt.response),0===Z1&&(Z1=Wt?200:0);let w1=Z1>=200&&Z1<300;if("json"===ge.responseType&&"string"==typeof Wt){const T1=Wt;Wt=Wt.replace(wn,"");try{Wt=""!==Wt?JSON.parse(Wt):null}catch(I1){Wt=T1,w1&&(w1=!1,Wt={error:I1,text:Wt})}}w1?(ot.next(new Qe({body:Wt,headers:U1,status:Z1,statusText:r1,url:Mt||void 0})),ot.complete()):ot.error(new Re({error:Wt,headers:U1,status:Z1,statusText:r1,url:Mt||void 0}))},hn=U1=>{const{url:Z1}=a1(),r1=new Re({error:U1,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:Z1||void 0});ot.error(r1)};let $1=!1;const Kn=U1=>{$1||(ot.next(a1()),$1=!0);let Z1={type:Ke.DownloadProgress,loaded:U1.loaded};U1.lengthComputable&&(Z1.total=U1.total),"text"===ge.responseType&&!!vt.responseText&&(Z1.partialText=vt.responseText),ot.next(Z1)},q1=U1=>{let Z1={type:Ke.UploadProgress,loaded:U1.loaded};U1.lengthComputable&&(Z1.total=U1.total),ot.next(Z1)};return vt.addEventListener("load",Bt),vt.addEventListener("error",hn),vt.addEventListener("timeout",hn),vt.addEventListener("abort",hn),ge.reportProgress&&(vt.addEventListener("progress",Kn),null!==s1&&vt.upload&&vt.upload.addEventListener("progress",q1)),vt.send(s1),ot.next({type:Ke.Sent}),()=>{vt.removeEventListener("error",hn),vt.removeEventListener("abort",hn),vt.removeEventListener("load",Bt),vt.removeEventListener("timeout",hn),ge.reportProgress&&(vt.removeEventListener("progress",Kn),null!==s1&&vt.upload&&vt.upload.removeEventListener("progress",q1)),vt.readyState!==vt.DONE&&vt.abort()}})}}return st.\u0275fac=function(ge){return new(ge||st)(D.LFG(d.JF))},st.\u0275prov=D.Yz7({token:st,factory:st.\u0275fac}),st})();const zn=new D.OlP("XSRF_COOKIE_NAME"),Gn=new D.OlP("XSRF_HEADER_NAME");class V1{}let fn=(()=>{class st{constructor(ge,ot,vt){this.doc=ge,this.platform=ot,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ge=this.doc.cookie||"";return ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(ge,this.cookieName),this.lastCookieString=ge),this.lastToken}}return st.\u0275fac=function(ge){return new(ge||st)(D.LFG(d.K0),D.LFG(D.Lbi),D.LFG(zn))},st.\u0275prov=D.Yz7({token:st,factory:st.\u0275fac}),st})(),Jn=(()=>{class st{constructor(ge,ot){this.tokenService=ge,this.headerName=ot}intercept(ge,ot){const vt=ge.url.toLowerCase();if("GET"===ge.method||"HEAD"===ge.method||vt.startsWith("http://")||vt.startsWith("https://"))return ot.handle(ge);const s1=this.tokenService.getToken();return null!==s1&&!ge.headers.has(this.headerName)&&(ge=ge.clone({headers:ge.headers.set(this.headerName,s1)})),ot.handle(ge)}}return st.\u0275fac=function(ge){return new(ge||st)(D.LFG(V1),D.LFG(Gn))},st.\u0275prov=D.Yz7({token:st,factory:st.\u0275fac}),st})(),Vt=(()=>{class st{constructor(ge,ot){this.backend=ge,this.injector=ot,this.chain=null}handle(ge){if(null===this.chain){const ot=this.injector.get(L1,[]);this.chain=ot.reduceRight((vt,s1)=>new f1(vt,s1),this.backend)}return this.chain.handle(ge)}}return st.\u0275fac=function(ge){return new(ge||st)(D.LFG(ze),D.LFG(D.zs3))},st.\u0275prov=D.Yz7({token:st,factory:st.\u0275fac}),st})(),cn=(()=>{class st{static disable(){return{ngModule:st,providers:[{provide:Jn,useClass:S1}]}}static withOptions(ge={}){return{ngModule:st,providers:[ge.cookieName?{provide:zn,useValue:ge.cookieName}:[],ge.headerName?{provide:Gn,useValue:ge.headerName}:[]]}}}return st.\u0275fac=function(ge){return new(ge||st)},st.\u0275mod=D.oAB({type:st}),st.\u0275inj=D.cJS({providers:[Jn,{provide:L1,useExisting:Jn,multi:!0},{provide:V1,useClass:fn},{provide:zn,useValue:"XSRF-TOKEN"},{provide:Gn,useValue:"X-XSRF-TOKEN"}]}),st})(),N2=(()=>{class st{}return st.\u0275fac=function(ge){return new(ge||st)},st.\u0275mod=D.oAB({type:st}),st.\u0275inj=D.cJS({providers:[Tt,{provide:Ae,useClass:Vt},jn,{provide:ze,useExisting:jn}],imports:[cn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),st})()},4650:(Qt,We,H)=>{H.d(We,{$8M:()=>ro,$Z:()=>V5,AFp:()=>Gd,ALo:()=>ud,AaK:()=>Ae,CHM:()=>Oi,CRH:()=>bd,CZH:()=>h7,CqO:()=>iu,D6c:()=>Vp,DdM:()=>td,EJc:()=>Xh,EiD:()=>k0,EpF:()=>W8,F$t:()=>e3,F4k:()=>c4,FYo:()=>Pa,FiY:()=>o1,G48:()=>bp,Gf:()=>yd,GfV:()=>Xa,Gpc:()=>fe,Hsn:()=>_0,Ikx:()=>N0,JOm:()=>xs,JVY:()=>La,KtG:()=>Mr,L6k:()=>Ya,LAX:()=>i6,LFG:()=>B2,LMc:()=>Fp,LSH:()=>c6,Lbi:()=>Kh,Lck:()=>Wf,MAs:()=>U8,MGl:()=>b0,MMx:()=>Hu,NdJ:()=>T4,OlP:()=>Zn,Oqu:()=>zc,PXZ:()=>pp,Q6J:()=>j8,QGY:()=>pa,QP$:()=>O1,QbO:()=>Yh,Qsj:()=>ua,QtT:()=>j9,R0b:()=>d4,RDi:()=>S,Rgc:()=>g5,SBq:()=>fo,SDv:()=>U9,Sil:()=>tp,Suo:()=>_d,TTD:()=>zi,TgZ:()=>Cc,Tol:()=>Ol,Udp:()=>D0,VKq:()=>nd,W1O:()=>Dd,WLB:()=>id,X6Q:()=>_p,XFs:()=>Vt,Xpm:()=>Mt,Xts:()=>m,Y36:()=>K4,YKP:()=>Z9,YNc:()=>tu,Yjl:()=>gt,Yz7:()=>v1,Z0I:()=>gn,ZZ4:()=>l9,_Bn:()=>$9,_UZ:()=>$8,_Vd:()=>la,_c5:()=>kp,_uU:()=>Bl,aQg:()=>u9,c2e:()=>Jh,cJS:()=>Ft,cg1:()=>kc,dDg:()=>up,dqk:()=>vt,eBb:()=>j4,eFA:()=>rf,ekj:()=>e5,eoX:()=>ef,f3M:()=>P,g9A:()=>Zd,h0i:()=>Vc,hGG:()=>Pp,hij:()=>Lc,iGM:()=>vd,ifc:()=>ot,ip1:()=>jd,jDz:()=>q9,kEZ:()=>rd,kL8:()=>ga,lG2:()=>xe,lcZ:()=>dd,lqb:()=>t2,lri:()=>Qd,mCW:()=>Oa,n5z:()=>S2,oAB:()=>I1,oJD:()=>E3,oxw:()=>y0,pB0:()=>r6,pQV:()=>Lu,q3G:()=>p2,q4F:()=>Y6,qLn:()=>A3,qOj:()=>vc,qZA:()=>Mc,qzn:()=>ca,rWj:()=>Xd,s9C:()=>B3,sBO:()=>Cp,sIi:()=>g0,s_b:()=>l7,soG:()=>p7,tb:()=>Wd,tp0:()=>c1,uIk:()=>w6,vHH:()=>Ze,vpe:()=>a3,wAp:()=>_n,xp6:()=>Qc,z2F:()=>m7,z3N:()=>Yr,zSh:()=>dn,zs3:()=>n4});var d=H(7579),D=H(727),Q=H(9751),Me=H(6451),Ee=H(3099);function De(n){for(let i in n)if(n[i]===De)return i;throw Error("Could not find renamed property on target object.")}function le(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ze(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const de=De({__forward_ref__:De});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Ae(this())},n}function Ne(n){return Xe(n)?n():n}function Xe(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===fe}class Ze extends Error{constructor(i,o){super(function Pt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function ct(n,i){throw new Ze(-201,!1)}function xt(n,i,o,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${o} ${c} ${i} <=Actual]`))}function v1(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ft(n){return{providers:n.providers||[],imports:n.imports||[]}}function nn(n){return wn(n,Gn)||wn(n,fn)}function gn(n){return null!==nn(n)}function wn(n,i){return n.hasOwnProperty(i)?n[i]:null}function zn(n){return n&&(n.hasOwnProperty(V1)||n.hasOwnProperty(Jn))?n[V1]:null}const Gn=De({\u0275prov:De}),V1=De({\u0275inj:De}),fn=De({ngInjectableDef:De}),Jn=De({ngInjectorDef:De});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let vn;function cn(n){const i=vn;return vn=n,i}function N2(n,i,o){const c=nn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Vt.Optional?null:void 0!==i?i:void ct(Ae(n))}function n1(n){return{toString:n}.toString()}var st=(()=>((st=st||{})[st.OnPush=0]="OnPush",st[st.Default=1]="Default",st))(),ot=(()=>{return(n=ot||(ot={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ot;var n})();const vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),a1={},Bt=[],hn=De({\u0275cmp:De}),$1=De({\u0275dir:De}),Kn=De({\u0275pipe:De}),q1=De({\u0275mod:De}),U1=De({\u0275fac:De}),Z1=De({__NG_ELEMENT_ID__:De});let r1=0;function Mt(n){return n1(()=>{const o=!0===n.standalone,c={},h={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===st.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Bt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ot.Emulated,id:"c"+r1++,styles:n.styles||Bt,_:null,setInput:null,schemas:n.schemas||null,tView:null},_=n.dependencies,N=n.features;return h.inputs=be(n.inputs,c),h.outputs=be(n.outputs),N&&N.forEach(I=>I(h)),h.directiveDefs=_?()=>("function"==typeof _?_():_).map(w1).filter(T1):null,h.pipeDefs=_?()=>("function"==typeof _?_():_).map(Yt).filter(T1):null,h})}function w1(n){return Be(n)||jt(n)}function T1(n){return null!==n}function I1(n){return n1(()=>({type:n.type,bootstrap:n.bootstrap||Bt,declarations:n.declarations||Bt,imports:n.imports||Bt,exports:n.exports||Bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function be(n,i){if(null==n)return a1;const o={};for(const c in n)if(n.hasOwnProperty(c)){let h=n[c],_=h;Array.isArray(h)&&(_=h[1],h=h[0]),o[h]=c,i&&(i[h]=_)}return o}const xe=Mt;function gt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Be(n){return n[hn]||null}function jt(n){return n[$1]||null}function Yt(n){return n[Kn]||null}function O1(n){const i=Be(n)||jt(n)||Yt(n);return null!==i&&i.standalone}function en(n,i){const o=n[q1]||null;if(!o&&!0===i)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return o}function En(n){return Array.isArray(n)&&"object"==typeof n[1]}function M2(n){return Array.isArray(n)&&!0===n[1]}function rr(n){return 0!=(8&n.flags)}function mi(n){return 2==(2&n.flags)}function sr(n){return 1==(1&n.flags)}function w2(n){return null!==n.template}function _r(n){return 0!=(256&n[2])}function oi(n,i){return n.hasOwnProperty(U1)?n[U1]:null}class ai{constructor(i,o,c){this.previousValue=i,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function zi(){return Z2}function Z2(n){return n.type.prototype.ngOnChanges&&(n.setInput=gi),es}function es(){const n=br(this),i=n?.current;if(i){const o=n.previous;if(o===a1)n.previous=i;else for(let c in i)o[c]=i[c];n.current=null,this.ngOnChanges(i)}}function gi(n,i,o,c){const h=br(n)||function yi(n,i){return n[vi]=i}(n,{previous:a1,current:null}),_=h.current||(h.current={}),N=h.previous,I=this.declaredInputs[o],R=N[I];_[I]=new ai(R&&R.currentValue,i,N===a1),n[c]=i}zi.ngInherit=!0;const vi="__ngSimpleChanges__";function br(n){return n[vi]||null}function Xn(n){for(;Array.isArray(n);)n=n[0];return n}function D2(n,i){return Xn(i[n])}function v2(n,i){return Xn(i[n.index])}function Zr(n,i){return n.data[i]}function Si(n,i){return n[i]}function tn(n,i){const o=i[n];return En(o)?o:o[0]}function Zi(n){return 64==(64&n[2])}function n2(n,i){return null==i?null:n[i]}function f2(n){n[18]=0}function r2(n,i){n[5]+=i;let o=n,c=n[3];for(;null!==c&&(1===i&&1===o[5]||-1===i&&0===o[5]);)c[5]+=i,o=c,c=c[3]}const B1={lFrame:Nt(null),bindingsEnabled:!0};function Ni(){return B1.bindingsEnabled}function At(){return B1.lFrame.lView}function rn(){return B1.lFrame.tView}function Oi(n){return B1.lFrame.contextLView=n,n[8]}function Mr(n){return B1.lFrame.contextLView=null,n}function a2(){let n=Ns();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ns(){return B1.lFrame.currentTNode}function us(){const n=B1.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Ki(n,i){const o=B1.lFrame;o.currentTNode=n,o.isParent=i}function x2(){return B1.lFrame.isParent}function cr(){B1.lFrame.isParent=!1}function k(){const n=B1.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function m1(){return B1.lFrame.bindingIndex++}function Bn(n){const i=B1.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Yi(n){B1.lFrame.inI18n=n}function wr(n,i){const o=B1.lFrame;o.bindingIndex=o.bindingRootIndex=n,Rr(i)}function Rr(n){B1.lFrame.currentDirectiveIndex=n}function W(){return B1.lFrame.currentQueryIndex}function ee(n){B1.lFrame.currentQueryIndex=n}function ce(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function ve(n,i,o){if(o&Vt.SkipSelf){let h=i,_=n;for(;!(h=h.parent,null!==h||o&Vt.Host||(h=ce(_),null===h||(_=_[15],10&h.type))););if(null===h)return!1;i=h,n=_}const c=B1.lFrame=yt();return c.currentTNode=i,c.lView=n,!0}function je(n){const i=yt(),o=n[1];B1.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function yt(){const n=B1.lFrame,i=null===n?null:n.child;return null===i?Nt(n):i}function Nt(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Et(){const n=B1.lFrame;return B1.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const z=Et;function $(){const n=Et();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function me(){return B1.lFrame.selectedIndex}function Je(n){B1.lFrame.selectedIndex=n}function ft(){const n=B1.lFrame;return Zr(n.tView,n.selectedIndex)}function In(n,i){for(let o=i.directiveStart,c=i.directiveEnd;o<c;o++){const _=n.data[o].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:I,ngAfterViewInit:R,ngAfterViewChecked:Z,ngOnDestroy:te}=_;N&&(n.contentHooks||(n.contentHooks=[])).push(-o,N),I&&((n.contentHooks||(n.contentHooks=[])).push(o,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,I)),R&&(n.viewHooks||(n.viewHooks=[])).push(-o,R),Z&&((n.viewHooks||(n.viewHooks=[])).push(o,Z),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,Z)),null!=te&&(n.destroyHooks||(n.destroyHooks=[])).push(o,te)}}function pn(n,i,o){dr(n,i,3,o)}function Dr(n,i,o,c){(3&n[2])===o&&dr(n,i,o,c)}function Qi(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function dr(n,i,o,c){const _=c??-1,N=i.length-1;let I=0;for(let R=void 0!==c?65535&n[18]:0;R<N;R++)if("number"==typeof i[R+1]){if(I=i[R],null!=c&&I>=c)break}else i[R]<0&&(n[18]+=65536),(I<_||-1==_)&&(Er(n,o,i,R),n[18]=(4294901760&n[18])+R+2),R++}function Er(n,i,o,c){const h=o[c]<0,_=o[c+1],I=n[h?-o[c]:o[c]];if(h){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{_.call(I)}finally{}}}else try{_.call(I)}finally{}}class ui{constructor(i,o,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Xs(n,i,o){let c=0;for(;c<o.length;){const h=o[c];if("number"==typeof h){if(0!==h)break;c++;const _=o[c++],N=o[c++],I=o[c++];n.setAttribute(i,N,I,_)}else{const _=h,N=o[++c];eo(_)?n.setProperty(i,_,N):n.setAttribute(i,_,N),c++}}return c}function Ps(n){return 3===n||4===n||6===n}function eo(n){return 64===n.charCodeAt(0)}function To(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let c=0;c<i.length;c++){const h=i[c];"number"==typeof h?o=h:0===o||yo(n,o,h,null,-1===o||2===o?i[++c]:null)}}return n}function yo(n,i,o,c,h){let _=0,N=n.length;if(-1===i)N=-1;else for(;_<n.length;){const I=n[_++];if("number"==typeof I){if(I===i){N=-1;break}if(I>i){N=_-1;break}}}for(;_<n.length;){const I=n[_];if("number"==typeof I)break;if(I===o){if(null===c)return void(null!==h&&(n[_+1]=h));if(c===n[_+1])return void(n[_+2]=h)}_++,null!==c&&_++,null!==h&&_++}-1!==N&&(n.splice(N,0,i),_=N+1),n.splice(_++,0,o),null!==c&&n.splice(_++,0,c),null!==h&&n.splice(_++,0,h)}function Ti(n){return-1!==n}function ei(n){return 32767&n}function Ts(n,i){let o=function kr(n){return n>>16}(n),c=i;for(;o>0;)c=c[15],o--;return c}let qr=!0;function Ht(n){const i=qr;return qr=n,i}let t1=0;const p1={};function Jt(n,i){const o=Lt(n,i);if(-1!==o)return o;const c=i[1];c.firstCreatePass&&(n.injectorIndex=i.length,ht(c.data,n),ht(i,null),ht(c.blueprint,null));const h=H2(n,i),_=n.injectorIndex;if(Ti(h)){const N=ei(h),I=Ts(h,i),R=I[1].data;for(let Z=0;Z<8;Z++)i[_+Z]=I[N+Z]|R[N+Z]}return i[_+8]=h,_}function ht(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Lt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function H2(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,c=null,h=i;for(;null!==h;){if(c=Vn(h),null===c)return-1;if(o++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function Ai(n,i,o){!function fr(n,i,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Z1)&&(c=o[Z1]),null==c&&(c=o[Z1]=t1++);const h=255&c;i.data[n+(h>>5)]|=1<<h}(n,i,o)}function Pr(n,i,o){if(o&Vt.Optional||void 0!==n)return n;ct()}function _o(n,i,o,c){if(o&Vt.Optional&&void 0===c&&(c=null),0==(o&(Vt.Self|Vt.Host))){const h=n[9],_=cn(void 0);try{return h?h.get(i,c,o&Vt.Optional):N2(i,c,o&Vt.Optional)}finally{cn(_)}}return Pr(c,0,o)}function fs(n,i,o,c=Vt.Default,h){if(null!==n){if(1024&i[2]){const N=function b2(n,i,o,c,h){let _=n,N=i;for(;null!==_&&null!==N&&1024&N[2]&&!(256&N[2]);){const I=bo(_,N,o,c|Vt.Self,p1);if(I!==p1)return I;let R=_.parent;if(!R){const Z=N[21];if(Z){const te=Z.get(o,p1,c);if(te!==p1)return te}R=Vn(N),N=N[15]}_=R}return h}(n,i,o,c,p1);if(N!==p1)return N}const _=bo(n,i,o,c,p1);if(_!==p1)return _}return _o(i,o,c,h)}function bo(n,i,o,c,h){const _=function hr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Z1)?n[Z1]:void 0;return"number"==typeof i?i>=0?255&i:Co:i}(o);if("function"==typeof _){if(!ve(i,n,c))return c&Vt.Host?Pr(h,0,c):_o(i,o,c,h);try{const N=_(c);if(null!=N||c&Vt.Optional)return N;ct()}finally{z()}}else if("number"==typeof _){let N=null,I=Lt(n,i),R=-1,Z=c&Vt.Host?i[16][6]:null;for((-1===I||c&Vt.SkipSelf)&&(R=-1===I?H2(n,i):i[I+8],-1!==R&&Y1(c,!1)?(N=i[1],I=ei(R),i=Ts(R,i)):I=-1);-1!==I;){const te=i[1];if(Kr(_,I,te.data)){const pe=io(I,i,o,N,c,Z);if(pe!==p1)return pe}R=i[I+8],-1!==R&&Y1(c,i[1].data[I+8]===Z)&&Kr(_,I,i)?(N=te,I=ei(R),i=Ts(R,i)):I=-1}}return h}function io(n,i,o,c,h,_){const N=i[1],I=N.data[n+8],te=F2(I,N,o,null==c?mi(I)&&qr:c!=N&&0!=(3&I.type),h&Vt.Host&&_===I);return null!==te?Sr(i,N,te,I):p1}function F2(n,i,o,c,h){const _=n.providerIndexes,N=i.data,I=1048575&_,R=n.directiveStart,te=_>>20,Fe=h?I+te:n.directiveEnd;for(let ut=c?I:I+te;ut<Fe;ut++){const Rt=N[ut];if(ut<R&&o===Rt||ut>=R&&Rt.type===o)return ut}if(h){const ut=N[R];if(ut&&w2(ut)&&ut.type===o)return R}return null}function Sr(n,i,o,c){let h=n[o];const _=i.data;if(function ds(n){return n instanceof ui}(h)){const N=h;N.resolving&&function Oe(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ze(-200,`Circular dependency in DI detected for ${n}${o}`)}(function nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}(_[o]));const I=Ht(N.canSeeViewProviders);N.resolving=!0;const R=N.injectImpl?cn(N.injectImpl):null;ve(n,c,Vt.Default);try{h=n[o]=N.factory(void 0,_,n,c),i.firstCreatePass&&o>=c.directiveStart&&function $n(n,i,o){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:_}=i.type.prototype;if(c){const N=Z2(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,N),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,N)}h&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,h),_&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,_))}(o,_[o],i)}finally{null!==R&&cn(R),Ht(I),N.resolving=!1,z()}}return h}function Kr(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function Y1(n,i){return!(n&Vt.Self||n&Vt.Host&&i)}class er{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,c){return fs(this._tNode,this._lView,i,c,o)}}function Co(){return new er(a2(),At())}function S2(n){return n1(()=>{const i=n.prototype.constructor,o=i[U1]||A1(i),c=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==c;){const _=h[U1]||A1(h);if(_&&_!==o)return _;h=Object.getPrototypeOf(h)}return _=>new _})}function A1(n){return Xe(n)?()=>{const i=A1(Ne(n));return i&&i()}:oi(n)}function Vn(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function ro(n){return function no(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const c=o.length;let h=0;for(;h<c;){const _=o[h];if(Ps(_))break;if(0===_)h+=2;else if("number"==typeof _)for(h++;h<c&&"string"==typeof o[h];)h++;else{if(_===i)return o[h+1];h+=2}}}return null}(a2(),n)}const qt="__parameters__";function ps(n,i,o){return n1(()=>{const c=function Ri(n){return function(...o){if(n){const c=n(...o);for(const h in c)this[h]=c[h]}}}(i);function h(..._){if(this instanceof h)return c.apply(this,_),this;const N=new h(..._);return I.annotation=N,I;function I(R,Z,te){const pe=R.hasOwnProperty(qt)?R[qt]:Object.defineProperty(R,qt,{value:[]})[qt];for(;pe.length<=te;)pe.push(null);return(pe[te]=pe[te]||[]).push(N),R}}return o&&(h.prototype=Object.create(o.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}class Zn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=v1({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ki(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let c=n[o];Array.isArray(c)?(i===n&&(i=n.slice(0,o)),ki(c,i)):i!==n&&i.push(c)}return i}function Hr(n,i){n.forEach(o=>Array.isArray(o)?Hr(o,i):i(o))}function wo(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Fr(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Fs(n,i){const o=[];for(let c=0;c<n;c++)o.push(i);return o}function A(n,i,o){let c=K(n,i);return c>=0?n[1|c]=o:(c=~c,function l(n,i,o,c){let h=n.length;if(h==i)n.push(o,c);else if(1===h)n.push(c,n[0]),n[0]=o;else{for(h--,n.push(n[h-1],n[h]);h>i;)n[h]=n[h-2],h--;n[i]=o,n[i+1]=c}}(n,c,i,o)),c}function j(n,i){const o=K(n,i);if(o>=0)return n[1|o]}function K(n,i){return function Le(n,i,o){let c=0,h=n.length>>o;for(;h!==c;){const _=c+(h-c>>1),N=n[_<<o];if(i===N)return _<<o;N>i?h=_:c=_+1}return~(h<<o)}(n,i,1)}const h2={},z2="__NG_DI_FLAG__",is="ngTempTokenPath",pr=/\n/gm,As="__source";let ji;function Is(n){const i=ji;return ji=n,i}function Bs(n,i=Vt.Default){if(void 0===ji)throw new Ze(-203,!1);return null===ji?N2(n,void 0,i):ji.get(n,i&Vt.Optional?null:void 0,i)}function B2(n,i=Vt.Default){return(function bn(){return vn}()||Bs)(Ne(n),i)}function P(n,i=Vt.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),B2(n,i)}function V(n){const i=[];for(let o=0;o<n.length;o++){const c=Ne(n[o]);if(Array.isArray(c)){if(0===c.length)throw new Ze(900,!1);let h,_=Vt.Default;for(let N=0;N<c.length;N++){const I=c[N],R=se(I);"number"==typeof R?-1===R?h=I.token:_|=R:h=I}i.push(B2(h,_))}else i.push(B2(c))}return i}function Y(n,i){return n[z2]=i,n.prototype[z2]=i,n}function se(n){return n[z2]}const o1=Y(ps("Optional"),8),c1=Y(ps("SkipSelf"),4);var xs=(()=>((xs=xs||{})[xs.Important=1]="Important",xs[xs.DashCase=2]="DashCase",xs))();const K3=/^>|^->|<!--|-->|--!>|<!-$/g,Y3=/(<|>)/;const zo=new Map;let rs=0;const ao="__ngContext__";function _s(n,i){En(i)?(n[ao]=i[20],function zs(n){zo.set(n[20],n)}(i)):n[ao]=i}let Ro;function Ma(n,i){return Ro(n,i)}function $a(n){const i=n[3];return M2(i)?i[3]:i}function Da(n){return G6(n[13])}function v4(n){return G6(n[4])}function G6(n){for(;null!==n&&!M2(n);)n=n[4];return n}function na(n,i,o,c,h){if(null!=c){let _,N=!1;M2(c)?_=c:En(c)&&(N=!0,c=c[0]);const I=Xn(c);0===n&&null!==o?null==h?$s(i,o,I):ko(i,o,I,h||null,!0):1===n&&null!==o?ko(i,o,I,h||null,!0):2===n?C4(i,I,N):3===n&&i.destroyNode(I),null!=_&&function n6(n,i,o,c,h){const _=o[7];_!==Xn(o)&&na(i,n,c,_,h);for(let I=10;I<o.length;I++){const R=o[I];qa(R[1],R,n,i,c,_)}}(i,n,_,o,h)}}function v3(n,i){return n.createText(i)}function Za(n,i,o){n.setValue(i,o)}function ia(n,i){return n.createComment(function h3(n){return n.replace(K3,i=>i.replace(Y3,"\u200b$1\u200b"))}(i))}function F4(n,i,o){return n.createElement(i,o)}function e2(n,i){const o=n[9],c=o.indexOf(i),h=i[3];512&i[2]&&(i[2]&=-513,r2(h,-1)),o.splice(c,1)}function Na(n,i){if(n.length<=10)return;const o=10+i,c=n[o];if(c){const h=c[17];null!==h&&h!==n&&e2(h,c),i>0&&(n[o-1][4]=c[4]);const _=Fr(n,10+i);!function $6(n,i){qa(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(c[1],c);const N=_[19];null!==N&&N.detachView(_[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function B4(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&qa(n,i,o,3,null,null),function y3(n){let i=n[13];if(!i)return Ls(n[1],n);for(;i;){let o=null;if(En(i))o=i[13];else{const c=i[10];c&&(o=c)}if(!o){for(;i&&!i[4]&&i!==n;)En(i)&&Ls(i[1],i),i=i[3];null===i&&(i=n),En(i)&&Ls(i[1],i),o=i&&i[4]}i=o}}(i)}}function Ls(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function ss(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let c=0;c<o.length;c+=2){const h=i[o[c]];if(!(h instanceof ui)){const _=o[c+1];if(Array.isArray(_))for(let N=0;N<_.length;N+=2){const I=h[_[N]],R=_[N+1];try{R.call(I)}finally{}}else try{_.call(h)}finally{}}}}(n,i),function L0(n,i){const o=n.cleanup,c=i[7];let h=-1;if(null!==o)for(let _=0;_<o.length-1;_+=2)if("string"==typeof o[_]){const N=o[_+1],I="function"==typeof N?N(i):Xn(i[N]),R=c[h=o[_+2]],Z=o[_+3];"boolean"==typeof Z?I.removeEventListener(o[_],R,Z):Z>=0?c[h=Z]():c[h=-Z].unsubscribe(),_+=2}else{const N=c[h=o[_+1]];o[_].call(N)}if(null!==c){for(let _=h+1;_<c.length;_++)(0,c[_])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&M2(i[3])){o!==i[3]&&e2(o,i);const c=i[19];null!==c&&c.detachView(n)}!function P4(n){zo.delete(n[20])}(i)}}function co(n,i,o){return Ta(n,i.parent,o)}function Ta(n,i,o){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return o[0];if(2&c.flags){const h=n.data[c.directiveStart].encapsulation;if(h===ot.None||h===ot.Emulated)return null}return v2(c,o)}function ko(n,i,o,c,h){n.insertBefore(i,o,c,h)}function $s(n,i,o){n.appendChild(i,o)}function y4(n,i,o,c,h){null!==c?ko(n,i,o,c,h):$s(n,i,o)}function ra(n,i){return n.parentNode(i)}function t6(n,i,o){return Vo(n,i,o)}function sa(n,i,o){return 40&n.type?v2(n,o):null}let Aa,Mi,Ka,b,Vo=sa;function Ia(n,i){Vo=n,Aa=i}function _4(n,i,o,c){const h=co(n,c,i),_=i[11],I=t6(c.parent||i[6],c,i);if(null!=h)if(Array.isArray(o))for(let R=0;R<o.length;R++)y4(_,h,o[R],I,!1);else y4(_,h,o,I,!1);void 0!==Aa&&Aa(_,c,i,o,h)}function Zs(n,i){if(null!==i){const o=i.type;if(3&o)return v2(i,n);if(4&o)return b4(-1,n[i.index]);if(8&o){const c=i.child;if(null!==c)return Zs(n,c);{const h=n[i.index];return M2(h)?b4(-1,h):Xn(h)}}if(32&o)return Ma(i,n)()||Xn(n[i.index]);{const c=Wa(n,i);return null!==c?Array.isArray(c)?c[0]:Zs($a(n[16]),c):Zs(n,i.next)}}return null}function Wa(n,i){return null!==i?n[16][6].projection[i.projection]:null}function b4(n,i){const o=10+n+1;if(o<i.length){const c=i[o],h=c[1].firstChild;if(null!==h)return Zs(c,h)}return i[7]}function C4(n,i,o){const c=ra(n,i);c&&function Po(n,i,o,c){n.removeChild(i,o,c)}(n,c,i,o)}function U4(n,i,o,c,h,_,N){for(;null!=o;){const I=c[o.index],R=o.type;if(N&&0===i&&(I&&_s(Xn(I),c),o.flags|=4),64!=(64&o.flags))if(8&R)U4(n,i,o.child,c,h,_,!1),na(i,n,h,I,_);else if(32&R){const Z=Ma(o,c);let te;for(;te=Z();)na(i,n,h,te,_);na(i,n,h,I,_)}else 16&R?_3(n,i,c,o,h,_):na(i,n,h,I,_);o=N?o.projectionNext:o.next}}function qa(n,i,o,c,h,_){U4(o,c,n.firstChild,i,h,_,!1)}function _3(n,i,o,c,h,_){const N=o[16],R=N[6].projection[c.projection];if(Array.isArray(R))for(let Z=0;Z<R.length;Z++)na(i,n,h,R[Z],_);else U4(n,i,R,N[3],h,_,!0)}function lo(n,i,o){n.setAttribute(i,"style",o)}function oa(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Ho(n){return function za(){if(void 0===Mi&&(Mi=null,vt.trustedTypes))try{Mi=vt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mi}()?.createHTML(n)||n}function S(n){Ka=n}function v(){return void 0!==Ka?Ka:typeof document<"u"?document:void 0}function q(n){return function T(){if(void 0===b&&(b=null,vt.trustedTypes))try{b=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return b}()?.createHTML(n)||n}class Ct{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class d1 extends Ct{getTypeName(){return"HTML"}}class x1 extends Ct{getTypeName(){return"Style"}}class mn extends Ct{getTypeName(){return"Script"}}class an extends Ct{getTypeName(){return"URL"}}class mr extends Ct{getTypeName(){return"ResourceURL"}}function Yr(n){return n instanceof Ct?n.changingThisBreaksApplicationSecurity:n}function ca(n,i){const o=function C3(n){return n instanceof Ct&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function La(n){return new d1(n)}function Ya(n){return new x1(n)}function j4(n){return new mn(n)}function i6(n){return new an(n)}function r6(n){return new mr(n)}function Cs(n){const i=new M3(n);return function Fo(){try{return!!(new window.DOMParser).parseFromString(Ho(""),"text/html")}catch{return!1}}()?new s6(i):i}class s6{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Ho(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class M3{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const c=this.inertDocument.createElement("body");o.appendChild(c)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ho(i),o;const c=this.inertDocument.createElement("body");return c.innerHTML=Ho(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(i){const o=i.attributes;for(let h=o.length-1;0<h;h--){const N=o.item(h).name;("xmlns:ns1"===N||0===N.indexOf("ns1:"))&&i.removeAttribute(N)}let c=i.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const w3=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Oa(n){return(n=String(n)).match(w3)?n:"unsafe:"+n}function Ra(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function o6(...n){const i={};for(const o of n)for(const c in o)o.hasOwnProperty(c)&&(i[c]=!0);return i}const q6=Ra("area,br,col,hr,img,wbr"),Uc=Ra("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jc=Ra("rp,rt"),a6=o6(q6,o6(Uc,Ra("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),o6(jc,Ra("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),o6(jc,Uc)),O0=Ra("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gc=o6(O0,Ra("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ra("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),R0=Ra("script,style,template");class y5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let h=this.checkClobberedElement(o,o.nextSibling);if(h){o=h;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!a6.hasOwnProperty(o))return this.sanitizedSomething=!0,!R0.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=i.attributes;for(let h=0;h<c.length;h++){const _=c.item(h),N=_.name,I=N.toLowerCase();if(!Gc.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let R=_.value;O0[I]&&(R=Oa(R)),this.buf.push(" ",N,'="',Zc(R),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();a6.hasOwnProperty(o)&&!q6.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Zc(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const _5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$c=/([^\#-~ |!])/g;function Zc(n){return n.replace(/&/g,"&amp;").replace(_5,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace($c,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let D3;function k0(n,i){let o=null;try{D3=D3||Cs(n);let c=i?String(i):"";o=D3.getInertBodyElement(c);let h=5,_=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=_,_=o.innerHTML,o=D3.getInertBodyElement(c)}while(c!==_);return Ho((new y5).sanitizeChildren(P0(o)||o))}finally{if(o){const c=P0(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function P0(n){return"content"in n&&function V0(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var p2=(()=>((p2=p2||{})[p2.NONE=0]="NONE",p2[p2.HTML=1]="HTML",p2[p2.STYLE=2]="STYLE",p2[p2.SCRIPT=3]="SCRIPT",p2[p2.URL=4]="URL",p2[p2.RESOURCE_URL=5]="RESOURCE_URL",p2))();function E3(n){const i=ka();return i?q(i.sanitize(p2.HTML,n)||""):ca(n,"HTML")?q(Yr(n)):k0(v(),rt(n))}function c6(n){const i=ka();return i?i.sanitize(p2.URL,n)||"":ca(n,"URL")?Yr(n):Oa(rt(n))}function ka(){const n=At();return n&&n[12]}const m=new Zn("ENVIRONMENT_INITIALIZER"),C=new Zn("INJECTOR",-1),f=new Zn("INJECTOR_DEF_TYPES");class E{get(i,o=h2){if(o===h2){const c=new Error(`NullInjectorError: No provider for ${Ae(i)}!`);throw c.name="NullInjectorError",c}return o}}function L(...n){return{\u0275providers:G(0,n)}}function G(n,...i){const o=[],c=new Set;let h;return Hr(i,_=>{const N=_;Ve(N,o,[],c)&&(h||(h=[]),h.push(N))}),void 0!==h&&ye(h,o),o}function ye(n,i){for(let o=0;o<n.length;o++){const{providers:h}=n[o];Hr(h,_=>{i.push(_)})}}function Ve(n,i,o,c){if(!(n=Ne(n)))return!1;let h=null,_=zn(n);const N=!_&&Be(n);if(_||N){if(N&&!N.standalone)return!1;h=n}else{const R=n.ngModule;if(_=zn(R),!_)return!1;h=R}const I=c.has(h);if(N){if(I)return!1;if(c.add(h),N.dependencies){const R="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Z of R)Ve(Z,i,o,c)}}else{if(!_)return!1;{if(null!=_.imports&&!I){let Z;c.add(h);try{Hr(_.imports,te=>{Ve(te,i,o,c)&&(Z||(Z=[]),Z.push(te))})}finally{}void 0!==Z&&ye(Z,i)}if(!I){const Z=oi(h)||(()=>new h);i.push({provide:h,useFactory:Z,deps:Bt},{provide:f,useValue:h,multi:!0},{provide:m,useValue:()=>B2(h),multi:!0})}const R=_.providers;null==R||I||Hr(R,te=>{i.push(te)})}}return h!==n&&void 0!==n.providers}const bt=De({provide:String,useValue:De});function Dt(n){return null!==n&&"object"==typeof n&&bt in n}function P1(n){return"function"==typeof n}const dn=new Zn("Set Injector scope."),Nn={},Yn={};let Rn;function fi(){return void 0===Rn&&(Rn=new E),Rn}class t2{}class m2 extends t2{constructor(i,o,c,h){super(),this.parent=o,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bo(i,N=>this.processProvider(N)),this.records.set(C,Vi(void 0,this)),h.has("environment")&&this.records.set(t2,Vi(void 0,this));const _=this.records.get(dn);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(f.multi,Bt,Vt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Is(this),c=cn(void 0);try{return i()}finally{Is(o),cn(c)}}get(i,o=h2,c=Vt.Default){this.assertNotDestroyed();const h=Is(this),_=cn(void 0);try{if(!(c&Vt.SkipSelf)){let I=this.records.get(i);if(void 0===I){const R=function Ms(n){return"function"==typeof n||"object"==typeof n&&n instanceof Zn}(i)&&nn(i);I=R&&this.injectableDefInScope(R)?Vi(C2(i),Nn):null,this.records.set(i,I)}if(null!=I)return this.hydrate(i,I)}return(c&Vt.Self?fi():this.parent).get(i,o=c&Vt.Optional&&o===h2?null:o)}catch(N){if("NullInjectorError"===N.name){if((N[is]=N[is]||[]).unshift(Ae(i)),h)throw N;return function Pe(n,i,o,c){const h=n[is];throw i[As]&&h.unshift(i[As]),n.message=function tt(n,i,o,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let h=Ae(i);if(Array.isArray(i))h=i.map(Ae).join(" -> ");else if("object"==typeof i){let _=[];for(let N in i)if(i.hasOwnProperty(N)){let I=i[N];_.push(N+":"+("string"==typeof I?JSON.stringify(I):Ae(I)))}h=`{${_.join(", ")}}`}return`${o}${c?"("+c+")":""}[${h}]: ${n.replace(pr,"\n  ")}`}("\n"+n.message,h,o,c),n.ngTokenPath=h,n[is]=null,n}(N,i,"R3InjectorError",this.source)}throw N}finally{cn(_),Is(h)}}resolveInjectorInitializers(){const i=Is(this),o=cn(void 0);try{const c=this.get(m.multi,Bt,Vt.Self);for(const h of c)h()}finally{Is(i),cn(o)}}toString(){const i=[],o=this.records;for(const c of o.keys())i.push(Ae(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(i){let o=P1(i=Ne(i))?i:Ne(i&&i.provide);const c=function ni(n){return Dt(n)?Vi(void 0,n.useValue):Vi(Ur(n),Nn)}(i);if(P1(i)||!0!==i.multi)this.records.get(o);else{let h=this.records.get(o);h||(h=Vi(void 0,Nn,!0),h.factory=()=>V(h.multi),this.records.set(o,h)),o=i,h.multi.push(i)}this.records.set(o,c)}hydrate(i,o){return o.value===Nn&&(o.value=Yn,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Eo(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ne(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function C2(n){const i=nn(n),o=null!==i?i.factory:oi(n);if(null!==o)return o;if(n instanceof Zn)throw new Ze(204,!1);if(n instanceof Function)return function wi(n){const i=n.length;if(i>0)throw Fs(i,"?"),new Ze(204,!1);const o=function xn(n){const i=n&&(n[Gn]||n[fn]);if(i){const o=function jn(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Ze(204,!1)}function Ur(n,i,o){let c;if(P1(n)){const h=Ne(n);return oi(h)||C2(h)}if(Dt(n))c=()=>Ne(n.useValue);else if(function b1(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...V(n.deps||[]));else if(function z1(n){return!(!n||!n.useExisting)}(n))c=()=>B2(Ne(n.useExisting));else{const h=Ne(n&&(n.useClass||n.provide));if(!function gr(n){return!!n.deps}(n))return oi(h)||C2(h);c=()=>new h(...V(n.deps))}return c}function Vi(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function w4(n){return!!n.\u0275providers}function Bo(n,i){for(const o of n)Array.isArray(o)?Bo(o,i):w4(o)?Bo(o.\u0275providers,i):i(o)}class So{}class D4{resolveComponentFactory(i){throw function S3(n){const i=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let la=(()=>{class n{}return n.NULL=new D4,n})();function N3(){return ir(a2(),At())}function ir(n,i){return new fo(v2(n,i))}let fo=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=N3,n})();function Qa(n){return n instanceof fo?n.nativeElement:n}class Pa{}let ua=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function q4(){const n=At(),o=tn(a2().index,n);return(En(o)?o:n)[11]}(),n})(),l6=(()=>{class n{}return n.\u0275prov=v1({token:n,providedIn:"root",factory:()=>null}),n})();class Xa{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Y6=new Xa("14.2.12"),e4={};function T3(n){return n.ngOriginalError}class A3{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&T3(i);for(;o&&T3(o);)o=T3(o);return o||null}}function Uo(n){return n instanceof Function?n():n}function M5(n,i,o){let c=n.length;for(;;){const h=n.indexOf(i,o);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const _=i.length;if(h+_===c||n.charCodeAt(h+_)<=32)return h}o=h+1}}const F0="ng-template";function Rs(n,i,o){let c=0;for(;c<n.length;){let h=n[c++];if(o&&"class"===h){if(h=n[c],-1!==M5(h.toLowerCase(),i,0))return!0}else if(1===h){for(;c<n.length&&"string"==typeof(h=n[c++]);)if(h.toLowerCase()===i)return!0;return!1}}return!1}function w5(n){return 4===n.type&&n.value!==F0}function T7(n,i,o){return i===(4!==n.type||o?n.value:F0)}function A7(n,i,o){let c=4;const h=n.attrs||[],_=function I7(n){for(let i=0;i<n.length;i++)if(Ps(n[i]))return i;return n.length}(h);let N=!1;for(let I=0;I<i.length;I++){const R=i[I];if("number"!=typeof R){if(!N)if(4&c){if(c=2|1&c,""!==R&&!T7(n,R,o)||""===R&&1===i.length){if(da(c))return!1;N=!0}}else{const Z=8&c?R:i[++I];if(8&c&&null!==n.attrs){if(!Rs(n.attrs,Z,o)){if(da(c))return!1;N=!0}continue}const pe=D5(8&c?"class":R,h,w5(n),o);if(-1===pe){if(da(c))return!1;N=!0;continue}if(""!==Z){let Fe;Fe=pe>_?"":h[pe+1].toLowerCase();const ut=8&c?Fe:null;if(ut&&-1!==M5(ut,Z,0)||2&c&&Z!==Fe){if(da(c))return!1;N=!0}}}}else{if(!N&&!da(c)&&!da(R))return!1;if(N&&da(R))continue;N=!1,c=R|1&c}}return da(c)||N}function da(n){return 0==(1&n)}function D5(n,i,o,c){if(null===i)return-1;let h=0;if(c||!o){let _=!1;for(;h<i.length;){const N=i[h];if(N===n)return h;if(3===N||6===N)_=!0;else{if(1===N||2===N){let I=i[++h];for(;"string"==typeof I;)I=i[++h];continue}if(4===N)break;if(0===N){h+=4;continue}}h+=_?1:2}return-1}return function S5(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const c=n[o];if("number"==typeof c)return-1;if(c===i)return o;o++}return-1}(i,n)}function E5(n,i,o=!1){for(let c=0;c<i.length;c++)if(A7(n,i[c],o))return!0;return!1}function Yc(n,i){e:for(let o=0;o<i.length;o++){const c=i[o];if(n.length===c.length){for(let h=0;h<n.length;h++)if(n[h]!==c[h])continue e;return!0}}return!1}function U0(n,i){return n?":not("+i.trim()+")":i}function t0(n){let i=n[0],o=1,c=2,h="",_=!1;for(;o<n.length;){let N=n[o];if("string"==typeof N)if(2&c){const I=n[++o];h+="["+N+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?h+="."+N:4&c&&(h+=" "+N);else""!==h&&!da(N)&&(i+=U0(_,h),h=""),c=N,_=_||!da(c);o++}return""!==h&&(i+=U0(_,h)),i}const Un={};function Qc(n){N5(rn(),At(),me()+n,!1)}function N5(n,i,o,c){if(!c)if(3==(3&i[2])){const _=n.preOrderCheckHooks;null!==_&&pn(i,_,o)}else{const _=n.preOrderHooks;null!==_&&Dr(i,_,0,o)}Je(o)}function x3(n,i=null,o=null,c){const h=G0(n,i,o,c);return h.resolveInjectorInitializers(),h}function G0(n,i=null,o=null,c,h=new Set){const _=[o||Bt,L(n)];return c=c||("object"==typeof n?void 0:Ae(n)),new m2(_,i||fi(),c||null,h)}let n4=(()=>{class n{static create(o,c){if(Array.isArray(o))return x3({name:""},c,o,"");{const h=o.name??"";return x3({name:h},o.parent,o.providers,h)}}}return n.THROW_IF_NOT_FOUND=h2,n.NULL=new E,n.\u0275prov=v1({token:n,providedIn:"any",factory:()=>B2(C)}),n.__NG_ELEMENT_ID__=-1,n})();function K4(n,i=Vt.Default){const o=At();return null===o?B2(n,i):fs(a2(),o,Ne(n),i)}function V5(){throw new Error("invalid")}function Y4(n,i){return n<<17|i<<2}function jo(n){return n>>17&32767}function p6(n){return 2|n}function Go(n){return(131068&n)>>2}function r0(n,i){return-131069&n|i<<2}function s0(n){return 1|n}function Y5(n,i){const o=n.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const h=o[c],_=o[c+1];if(-1!==_){const N=n.data[_];ee(h),N.contentQueries(2,i[_],_)}}}function y6(n,i,o,c,h,_,N,I,R,Z,te){const pe=i.blueprint.slice();return pe[0]=h,pe[2]=76|c,(null!==te||n&&1024&n[2])&&(pe[2]|=1024),f2(pe),pe[3]=pe[15]=n,pe[8]=o,pe[10]=N||n&&n[10],pe[11]=I||n&&n[11],pe[12]=R||n&&n[12]||null,pe[9]=Z||n&&n[9]||null,pe[6]=_,pe[20]=function J3(){return rs++}(),pe[21]=te,pe[16]=2==i.type?n[16]:pe,pe}function _6(n,i,o,c,h){let _=n.data[i];if(null===_)_=rc(n,i,o,c,h),function lr(){return B1.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=o,_.value=c,_.attrs=h;const N=us();_.injectorIndex=null===N?-1:N.injectorIndex}return Ki(_,!0),_}function rc(n,i,o,c,h){const _=Ns(),N=x2(),R=n.data[i]=function S8(n,i,o,c,h,_){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?_:_&&_.parent,o,i,c,h);return null===n.firstChild&&(n.firstChild=R),null!==_&&(N?null==_.child&&null!==R.parent&&(_.child=R):null===_.next&&(_.next=R)),R}function b6(n,i,o,c){if(0===o)return-1;const h=i.length;for(let _=0;_<o;_++)i.push(c),n.blueprint.push(c),n.data.push(null);return h}function sc(n,i,o){je(i);try{const c=n.viewQuery;null!==c&&k8(1,c,o);const h=n.template;null!==h&&_8(n,i,h,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Y5(n,i),n.staticViewQueries&&k8(2,n.viewQuery,o);const _=n.components;null!==_&&function y8(n,i){for(let o=0;o<i.length;o++)Y7(n,i[o])}(i,_)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[2]&=-5,$()}}function l0(n,i,o,c){const h=i[2];if(128!=(128&h)){je(i);try{f2(i),function at(n){return B1.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&_8(n,i,o,2,c);const N=3==(3&h);if(N){const Z=n.preOrderCheckHooks;null!==Z&&pn(i,Z,null)}else{const Z=n.preOrderHooks;null!==Z&&Dr(i,Z,0,null),Qi(i,0)}if(function O8(n){for(let i=Da(n);null!==i;i=v4(i)){if(!i[2])continue;const o=i[9];for(let c=0;c<o.length;c++){const h=o[c],_=h[3];0==(512&h[2])&&r2(_,1),h[2]|=512}}}(i),function q7(n){for(let i=Da(n);null!==i;i=v4(i))for(let o=10;o<i.length;o++){const c=i[o],h=c[1];Zi(c)&&l0(h,c,h.template,c[8])}}(i),null!==n.contentQueries&&Y5(n,i),N){const Z=n.contentCheckHooks;null!==Z&&pn(i,Z)}else{const Z=n.contentHooks;null!==Z&&Dr(i,Z,1),Qi(i,1)}!function v8(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const h=o[c];if(h<0)Je(~h);else{const _=h,N=o[++c],I=o[++c];wr(N,_),I(2,i[_])}}}finally{Je(-1)}}(n,i);const I=n.components;null!==I&&function j7(n,i){for(let o=0;o<i.length;o++)K7(n,i[o])}(i,I);const R=n.viewQuery;if(null!==R&&k8(2,R,c),N){const Z=n.viewCheckHooks;null!==Z&&pn(i,Z)}else{const Z=n.viewHooks;null!==Z&&Dr(i,Z,2),Qi(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,r2(i[3],-1))}finally{$()}}}function _8(n,i,o,c,h){const _=me(),N=2&c;try{Je(-1),N&&i.length>22&&N5(n,i,22,!1),o(c,h)}finally{Je(_)}}function C8(n,i,o){!Ni()||(function Z7(n,i,o,c){const h=o.directiveStart,_=o.directiveEnd;n.firstCreatePass||Jt(o,i),_s(c,i);const N=o.initialInputs;for(let I=h;I<_;I++){const R=n.data[I],Z=w2(R);Z&&N4(i,o,R);const te=Sr(i,n,I,o);_s(te,i),null!==N&&L8(0,I-h,te,R,0,N),Z&&(tn(o.index,i)[8]=te)}}(n,i,o,v2(o,i)),128==(128&o.flags)&&function A8(n,i,o){const c=o.directiveStart,h=o.directiveEnd,_=o.index,N=function ur(){return B1.lFrame.currentDirectiveIndex}();try{Je(_);for(let I=c;I<h;I++){const R=n.data[I],Z=i[I];Rr(I),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&ac(R,Z)}}finally{Je(-1),Rr(N)}}(n,i,o))}function M8(n,i,o=v2){const c=i.localNames;if(null!==c){let h=i.index+1;for(let _=0;_<c.length;_+=2){const N=c[_+1],I=-1===N?o(i,n):n[N];n[h++]=I}}}function J5(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=w8(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function w8(n,i,o,c,h,_,N,I,R,Z){const te=22+c,pe=te+h,Fe=function D8(n,i){const o=[];for(let c=0;c<i;c++)o.push(c<n?null:Un);return o}(te,pe),ut="function"==typeof Z?Z():Z;return Fe[1]={type:n,blueprint:Fe,template:o,queries:null,viewQuery:I,declTNode:i,data:Fe.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:R,consts:ut,incompleteFirstPass:!1}}function X5(n,i,o,c){const h=al(i);null===o?h.push(c):(h.push(o),n.firstCreatePass&&uc(n).push(c,h.length-1))}function el(n,i,o){for(let c in n)if(n.hasOwnProperty(c)){const h=n[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(i,h):o[c]=[i,h]}return o}function oc(n,i){const c=i.directiveEnd,h=n.data,_=i.attrs,N=[];let I=null,R=null;for(let Z=i.directiveStart;Z<c;Z++){const te=h[Z],pe=te.inputs,Fe=null===_||w5(i)?null:W7(pe,_);N.push(Fe),I=el(pe,Z,I),R=el(te.outputs,Z,R)}null!==I&&(I.hasOwnProperty("class")&&(i.flags|=16),I.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=N,i.inputs=I,i.outputs=R}function po(n,i,o,c,h,_,N,I){const R=v2(i,o);let te,Z=i.inputs;!I&&null!=Z&&(te=Z[c])?(P8(n,o,te,c,h),mi(i)&&N8(o,i.index)):3&i.type&&(c=function tl(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),h=null!=N?N(h,i.value||"",c):h,_.setProperty(R,c,h))}function N8(n,i){const o=tn(i,n);16&o[2]||(o[2]|=32)}function u0(n,i,o,c){let h=!1;if(Ni()){const _=function I8(n,i,o){const c=n.directiveRegistry;let h=null;if(c)for(let _=0;_<c.length;_++){const N=c[_];E5(o,N.selectors,!1)&&(h||(h=[]),Ai(Jt(o,i),n,N.type),w2(N)?(R3(n,o),h.unshift(N)):h.push(N))}return h}(n,i,o),N=null===c?null:{"":-1};if(null!==_){h=!0,sl(o,n.data.length,_.length);for(let te=0;te<_.length;te++){const pe=_[te];pe.providersResolver&&pe.providersResolver(pe)}let I=!1,R=!1,Z=b6(n,i,_.length,null);for(let te=0;te<_.length;te++){const pe=_[te];o.mergedAttrs=To(o.mergedAttrs,pe.hostAttrs),cc(n,o,i,Z,pe),x8(Z,pe,N),null!==pe.contentQueries&&(o.flags|=8),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(o.flags|=128);const Fe=pe.type.prototype;!I&&(Fe.ngOnChanges||Fe.ngOnInit||Fe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),I=!0),!R&&(Fe.ngOnChanges||Fe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),R=!0),Z++}oc(n,o)}N&&function rl(n,i,o){if(i){const c=n.localNames=[];for(let h=0;h<i.length;h+=2){const _=o[i[h+1]];if(null==_)throw new Ze(-301,!1);c.push(i[h],_)}}}(o,c,N)}return o.mergedAttrs=To(o.mergedAttrs,o.attrs),h}function il(n,i,o,c,h,_){const N=_.hostBindings;if(N){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const R=~i.index;(function T8(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(I)!=R&&I.push(R),I.push(c,h,N)}}function ac(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function R3(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function x8(n,i,o){if(o){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)o[i.exportAs[c]]=n;w2(i)&&(o[""]=n)}}function sl(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function cc(n,i,o,c,h){n.data[c]=h;const _=h.factory||(h.factory=oi(h.type)),N=new ui(_,w2(h),K4);n.blueprint[c]=N,o[c]=N,il(n,i,0,c,b6(n,o,h.hostVars,Un),h)}function N4(n,i,o){const c=v2(i,n),h=J5(o),_=n[10],N=f0(n,y6(n,h,null,o.onPush?32:16,c,i,_,_.createRenderer(c,o),null,null,null));n[i.index]=N}function z8(n,i,o,c,h,_,N){if(null==_)n.removeAttribute(i,h,o);else{const I=null==N?rt(_):N(_,c||"",h);n.setAttribute(i,h,I,o)}}function L8(n,i,o,c,h,_){const N=_[i];if(null!==N){const I=c.setInput;for(let R=0;R<N.length;){const Z=N[R++],te=N[R++],pe=N[R++];null!==I?c.setInput(o,pe,Z,te):o[te]=pe}}}function W7(n,i){let o=null,c=0;for(;c<i.length;){const h=i[c];if(0!==h)if(5!==h){if("number"==typeof h)break;n.hasOwnProperty(h)&&(null===o&&(o=[]),o.push(h,n[h],i[c+1])),c+=2}else c+=2;else c+=4}return o}function lc(n,i,o,c){return new Array(n,!0,!1,i,null,0,c,o,null,null)}function K7(n,i){const o=tn(i,n);if(Zi(o)){const c=o[1];48&o[2]?l0(c,o,c.template,o[8]):o[5]>0&&d0(o)}}function d0(n){for(let c=Da(n);null!==c;c=v4(c))for(let h=10;h<c.length;h++){const _=c[h];if(Zi(_))if(512&_[2]){const N=_[1];l0(N,_,N.template,_[8])}else _[5]>0&&d0(_)}const o=n[1].components;if(null!==o)for(let c=0;c<o.length;c++){const h=tn(o[c],n);Zi(h)&&h[5]>0&&d0(h)}}function Y7(n,i){const o=tn(i,n),c=o[1];(function R8(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(c,o),sc(c,o,o[8])}function f0(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function h0(n){for(;n;){n[2]|=32;const i=$a(n);if(_r(n)&&!i)return n;n=i}return null}function p0(n,i,o,c=!0){const h=i[10];h.begin&&h.begin();try{l0(n,i,n.template,o)}catch(N){throw c&&fc(i,N),N}finally{h.end&&h.end()}}function k8(n,i,o){ee(0),i(n,o)}function al(n){return n[7]||(n[7]=[])}function uc(n){return n.cleanup||(n.cleanup=[])}function fc(n,i){const o=n[9],c=o?o.get(A3,null):null;c&&c.handleError(i)}function P8(n,i,o,c,h){for(let _=0;_<o.length;){const N=o[_++],I=o[_++],R=i[N],Z=n.data[N];null!==Z.setInput?Z.setInput(R,h,c,I):R[I]=h}}function m0(n,i,o){let c=o?n.styles:null,h=o?n.classes:null,_=0;if(null!==i)for(let N=0;N<i.length;N++){const I=i[N];"number"==typeof I?_=I:1==_?h=ze(h,I):2==_&&(c=ze(c,I+": "+i[++N]+";"))}o?n.styles=c:n.stylesWithoutHost=c,o?n.classes=h:n.classesWithoutHost=h}function hc(n,i,o,c,h=!1){for(;null!==o;){const _=i[o.index];if(null!==_&&c.push(Xn(_)),M2(_))for(let I=10;I<_.length;I++){const R=_[I],Z=R[1].firstChild;null!==Z&&hc(R[1],R,Z,c)}const N=o.type;if(8&N)hc(n,i,o.child,c);else if(32&N){const I=Ma(o,i);let R;for(;R=I();)c.push(R)}else if(16&N){const I=Wa(i,o);if(Array.isArray(I))c.push(...I);else{const R=$a(i[16]);hc(R[1],R,I,c,!0)}}o=h?o.projectionNext:o.next}return c}class k3{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return hc(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(M2(i)){const o=i[8],c=o?o.indexOf(this):-1;c>-1&&(Na(i,c),Fr(o,c))}this._attachedToViewContainer=!1}B4(this._lView[1],this._lView)}onDestroy(i){X5(this._lView[1],this._lView,null,i)}markForCheck(){h0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){p0(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ea(n,i){qa(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=i}}class V8 extends k3{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;p0(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class pc extends la{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Be(i);return new l2(o,this.ngModule)}}function H8(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class mc{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,c){const h=this.injector.get(i,e4,c);return h!==e4||o===e4?h:this.parentInjector.get(i,o,c)}}class l2 extends So{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function j0(n){return n.map(t0).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return H8(this.componentDef.inputs)}get outputs(){return H8(this.componentDef.outputs)}create(i,o,c,h){let _=(h=h||this.ngModule)instanceof t2?h:h?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const N=_?new mc(i,_):i,I=N.get(Pa,null);if(null===I)throw new Ze(407,!1);const R=N.get(l6,null),Z=I.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",pe=c?function E8(n,i,o){return n.selectRootElement(i,o===ot.ShadowDom)}(Z,c,this.componentDef.encapsulation):F4(Z,te,function cl(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(te)),Fe=this.componentDef.onPush?288:272,ut=w8(0,null,null,1,0,null,null,null,null,null),Rt=y6(null,ut,null,Fe,null,null,I,Z,R,N,null);let l1,M1;je(Rt);try{const J1=function dl(n,i,o,c,h,_){const N=o[1];o[22]=n;const R=_6(N,22,2,"#host",null),Z=R.mergedAttrs=i.hostAttrs;null!==Z&&(m0(R,Z,!0),null!==n&&(Xs(h,n,Z),null!==R.classes&&oa(h,n,R.classes),null!==R.styles&&lo(h,n,R.styles)));const te=c.createRenderer(n,i),pe=y6(o,J5(i),null,i.onPush?32:16,o[22],R,c,te,_||null,null,null);return N.firstCreatePass&&(Ai(Jt(R,o),N,i.type),R3(N,R),sl(R,o.length,1)),f0(o,pe),o[22]=pe}(pe,this.componentDef,Rt,I,Z);if(pe)if(c)Xs(Z,pe,["ng-version",Y6.full]);else{const{attrs:Cn,classes:Gt}=function Jc(n){const i=[],o=[];let c=1,h=2;for(;c<n.length;){let _=n[c];if("string"==typeof _)2===h?""!==_&&i.push(_,n[++c]):8===h&&o.push(_);else{if(!da(h))break;h=_}c++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Cn&&Xs(Z,pe,Cn),Gt&&Gt.length>0&&oa(Z,pe,Gt.join(" "))}if(M1=Zr(ut,22),void 0!==o){const Cn=M1.projection=[];for(let Gt=0;Gt<this.ngContentSelectors.length;Gt++){const kn=o[Gt];Cn.push(null!=kn?Array.from(kn):null)}}l1=function vr(n,i,o,c){const h=o[1],_=function $7(n,i,o){const c=a2();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),cc(n,c,i,b6(n,i,1,null),o),oc(n,c));const h=Sr(i,n,c.directiveStart,c);_s(h,i);const _=v2(c,i);return _&&_s(_,i),h}(h,o,i);if(n[8]=o[8]=_,null!==c)for(const I of c)I(_,i);if(i.contentQueries){const I=a2();i.contentQueries(1,_,I.directiveStart)}const N=a2();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Je(N.index),il(o[1],N,0,N.directiveStart,N.directiveEnd,i),ac(i,_)),_}(J1,this.componentDef,Rt,[Ws]),sc(ut,Rt,null)}finally{$()}return new ul(this.componentType,l1,ir(M1,Rt),Rt,M1)}}class ul extends class Os{}{constructor(i,o,c,h,_){super(),this.location=c,this._rootLView=h,this._tNode=_,this.instance=o,this.hostView=this.changeDetectorRef=new V8(h),this.componentType=i}setInput(i,o){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[i])){const _=this._rootLView;P8(_[1],_,h,i,o),N8(_,this._tNode.index)}}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ws(){const n=a2();In(At()[1],n)}function vc(n){let i=function Ha(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const c=[n];for(;i;){let h;if(w2(n))h=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ze(903,!1);h=i.\u0275dir}if(h){if(o){c.push(h);const N=n;N.inputs=C6(n.inputs),N.declaredInputs=C6(n.declaredInputs),N.outputs=C6(n.outputs);const I=h.hostBindings;I&&hl(n,I);const R=h.viewQuery,Z=h.contentQueries;if(R&&fl(n,R),Z&&F8(n,Z),le(n.inputs,h.inputs),le(n.declaredInputs,h.declaredInputs),le(n.outputs,h.outputs),w2(h)&&h.data.animation){const te=n.data;te.animation=(te.animation||[]).concat(h.data.animation)}}const _=h.features;if(_)for(let N=0;N<_.length;N++){const I=_[N];I&&I.ngInherit&&I(n),I===vc&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Q7(n){let i=0,o=null;for(let c=n.length-1;c>=0;c--){const h=n[c];h.hostVars=i+=h.hostVars,h.hostAttrs=To(h.hostAttrs,o=To(o,h.hostAttrs))}}(c)}function C6(n){return n===a1?{}:n===Bt?[]:n}function fl(n,i){const o=n.viewQuery;n.viewQuery=o?(c,h)=>{i(c,h),o(c,h)}:i}function F8(n,i){const o=n.contentQueries;n.contentQueries=o?(c,h,_)=>{i(c,h,_),o(c,h,_)}:i}function hl(n,i){const o=n.hostBindings;n.hostBindings=o?(c,h)=>{i(c,h),o(c,h)}:i}let _c=null;function P3(){if(!_c){const n=vt.Symbol;if(n&&n.iterator)_c=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const c=i[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(_c=c)}}}return _c}function g0(n){return!!v0(n)&&(Array.isArray(n)||!(n instanceof Map)&&P3()in n)}function v0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ha(n,i,o){return n[i]=o}function ks(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function a4(n,i,o,c){const h=ks(n,i,o);return ks(n,i+1,c)||h}function w6(n,i,o,c){const h=At();return ks(h,m1(),i)&&(rn(),function fa(n,i,o,c,h,_){const N=v2(n,i);z8(i[11],N,_,n.value,o,c,h)}(ft(),h,n,i,o,c)),w6}function Q4(n,i,o,c){return ks(n,m1(),o)?i+rt(o)+c:Un}function tu(n,i,o,c,h,_,N,I){const R=At(),Z=rn(),te=n+22,pe=Z.firstCreatePass?function x9(n,i,o,c,h,_,N,I,R){const Z=i.consts,te=_6(i,n,4,N||null,n2(Z,I));u0(i,o,te,n2(Z,R)),In(i,te);const pe=te.tViews=w8(2,te,c,h,_,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Z);return null!==i.queries&&(i.queries.template(i,te),pe.queries=i.queries.embeddedTView(te)),te}(te,Z,R,i,o,c,h,_,N):Z.data[te];Ki(pe,!1);const Fe=R[11].createComment("");_4(Z,R,Fe,pe),_s(Fe,R),f0(R,R[te]=lc(Fe,R,Fe,pe)),sr(pe)&&C8(Z,R,pe),null!=N&&M8(R,pe,I)}function U8(n){return Si(function Or(){return B1.lFrame.contextLView}(),22+n)}function j8(n,i,o){const c=At();return ks(c,m1(),i)&&po(rn(),ft(),c,n,i,c[11],o,!1),j8}function G8(n,i,o,c,h){const N=h?"class":"style";P8(n,o,i.inputs[N],N,c)}function Cc(n,i,o,c){const h=At(),_=rn(),N=22+n,I=h[11],R=h[N]=F4(I,i,function on(){return B1.lFrame.currentNamespace}()),Z=_.firstCreatePass?function wl(n,i,o,c,h,_,N){const I=i.consts,Z=_6(i,n,2,h,n2(I,_));return u0(i,o,Z,n2(I,N)),null!==Z.attrs&&m0(Z,Z.attrs,!1),null!==Z.mergedAttrs&&m0(Z,Z.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,Z),Z}(N,_,h,0,i,o,c):_.data[N];Ki(Z,!0);const te=Z.mergedAttrs;null!==te&&Xs(I,R,te);const pe=Z.classes;null!==pe&&oa(I,R,pe);const Fe=Z.styles;return null!==Fe&&lo(I,R,Fe),64!=(64&Z.flags)&&_4(_,h,R,Z),0===function Cr(){return B1.lFrame.elementDepthCount}()&&_s(R,h),function W2(){B1.lFrame.elementDepthCount++}(),sr(Z)&&(C8(_,h,Z),function b8(n,i,o){if(rr(i)){const h=i.directiveEnd;for(let _=i.directiveStart;_<h;_++){const N=n.data[_];N.contentQueries&&N.contentQueries(1,o[_],_)}}}(_,Z,h)),null!==c&&M8(h,Z),Cc}function Mc(){let n=a2();x2()?cr():(n=n.parent,Ki(n,!1));const i=n;!function Ui(){B1.lFrame.elementDepthCount--}();const o=rn();return o.firstCreatePass&&(In(o,n),rr(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Ko(n){return 0!=(16&n.flags)}(i)&&G8(o,i,At(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Yo(n){return 0!=(32&n.flags)}(i)&&G8(o,i,At(),i.stylesWithoutHost,!1),Mc}function $8(n,i,o,c){return Cc(n,i,o,c),Mc(),$8}function W8(){return At()}function pa(n){return!!n&&"function"==typeof n.then}function c4(n){return!!n&&"function"==typeof n.subscribe}const iu=c4;function T4(n,i,o,c){const h=At(),_=rn(),N=a2();return function Sl(n,i,o,c,h,_,N,I){const R=sr(c),te=n.firstCreatePass&&uc(n),pe=i[8],Fe=al(i);let ut=!0;if(3&c.type||I){const M1=v2(c,i),J1=I?I(M1):M1,Cn=Fe.length,Gt=I?Ii=>I(Xn(Ii[c.index])):c.index;let kn=null;if(!I&&R&&(kn=function ru(n,i,o,c){const h=n.cleanup;if(null!=h)for(let _=0;_<h.length-1;_+=2){const N=h[_];if(N===o&&h[_+1]===c){const I=i[7],R=h[_+2];return I.length>R?I[R]:null}"string"==typeof N&&(_+=2)}return null}(n,i,h,c.index)),null!==kn)(kn.__ngLastListenerFn__||kn).__ngNextListenerFn__=_,kn.__ngLastListenerFn__=_,ut=!1;else{_=K8(c,i,pe,_,!1);const Ii=o.listen(J1,h,_);Fe.push(_,Ii),te&&te.push(h,Gt,Cn,Cn+1)}}else _=K8(c,i,pe,_,!1);const Rt=c.outputs;let l1;if(ut&&null!==Rt&&(l1=Rt[h])){const M1=l1.length;if(M1)for(let J1=0;J1<M1;J1+=2){const Qr=i[l1[J1]][l1[J1+1]].subscribe(_),z0=Fe.length;Fe.push(_,Qr),te&&te.push(h,c.index,z0,-(z0+1))}}}(_,h,h[11],N,n,i,0,c),T4}function q8(n,i,o,c){try{return!1!==o(c)}catch(h){return fc(n,h),!1}}function K8(n,i,o,c,h){return function _(N){if(N===Function)return c;h0(2&n.flags?tn(n.index,i):i);let R=q8(i,0,c,N),Z=_.__ngNextListenerFn__;for(;Z;)R=q8(i,0,Z,N)&&R,Z=Z.__ngNextListenerFn__;return h&&!1===R&&(N.preventDefault(),N.returnValue=!1),R}}function y0(n=1){return function O(n){return(B1.lFrame.contextLView=function X(n,i){for(;n>0;)i=i[15],n--;return i}(n,B1.lFrame.contextLView))[8]}(n)}function su(n,i){let o=null;const c=function B0(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let h=0;h<i.length;h++){const _=i[h];if("*"!==_){if(null===c?E5(n,_,!0):Yc(c,_))return h}else o=h}return o}function e3(n){const i=At()[16][6];if(!i.projection){const c=i.projection=Fs(n?n.length:1,null),h=c.slice();let _=i.child;for(;null!==_;){const N=n?su(_,n):0;null!==N&&(h[N]?h[N].projectionNext=_:c[N]=_,h[N]=_),_=_.next}}}function _0(n,i=0,o){const c=At(),h=rn(),_=_6(h,22+n,16,null,o||null);null===_.projection&&(_.projection=i),cr(),64!=(64&_.flags)&&function bs(n,i,o){_3(i[11],0,i,o,co(n,o,i),t6(o.parent||i[6],o,i))}(h,c,_)}function B3(n,i,o){return b0(n,"",i,"",o),B3}function b0(n,i,o,c,h){const _=At(),N=Q4(_,i,o,c);return N!==Un&&po(rn(),ft(),_,n,N,_[11],h,!1),b0}function Sc(n,i,o,c,h){const _=n[o+1],N=null===i;let I=c?jo(_):Go(_),R=!1;for(;0!==I&&(!1===R||N);){const te=n[I+1];au(n[I],i)&&(R=!0,n[I+1]=c?s0(te):p6(te)),I=c?jo(te):Go(te)}R&&(n[o+1]=c?p6(_):s0(_))}function au(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&K(n,i)>=0}const Jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C0(n){return n.substring(Jr.key,Jr.keyEnd)}function xl(n,i){const o=Jr.textEnd;return o===i?-1:(i=Jr.keyEnd=function n3(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,Jr.key=i,o),l4(n,i,o))}function l4(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function D0(n,i,o){return Ba(n,i,o,!1),D0}function e5(n,i){return Ba(n,i,null,!0),e5}function Ol(n){!function Ua(n,i,o,c){const h=rn(),_=Bn(2);h.firstUpdatePass&&Rl(h,null,_,c);const N=At();if(o!==Un&&ks(N,_,o)){const I=h.data[me()];if(A4(I,c)&&!E0(h,_)){let R=c?I.classesWithoutHost:I.stylesWithoutHost;null!==R&&(o=ze(R,o||"")),G8(h,I,N,o,c)}else!function xc(n,i,o,c,h,_,N,I){h===Un&&(h=Bt);let R=0,Z=0,te=0<h.length?h[0]:null,pe=0<_.length?_[0]:null;for(;null!==te||null!==pe;){const Fe=R<h.length?h[R+1]:void 0,ut=Z<_.length?_[Z+1]:void 0;let l1,Rt=null;te===pe?(R+=2,Z+=2,Fe!==ut&&(Rt=pe,l1=ut)):null===pe||null!==te&&te<pe?(R+=2,Rt=te):(Z+=2,Rt=pe,l1=ut),null!==Rt&&Fl(n,i,o,c,Rt,l1,N,I),te=R<h.length?h[R]:null,pe=Z<_.length?_[Z]:null}}(h,I,N,N[11],N[_+1],N[_+1]=function Hl(n,i,o){if(null==o||""===o)return Bt;const c=[],h=Yr(o);if(Array.isArray(h))for(let _=0;_<h.length;_++)n(c,h[_],!0);else if("object"==typeof h)for(const _ in h)h.hasOwnProperty(_)&&n(c,_,h[_]);else"string"==typeof h&&i(c,h);return c}(n,i,o),c,_)}}(A,Wo,n,!0)}function Wo(n,i){for(let o=function M0(n){return function Tc(n){Jr.key=0,Jr.keyEnd=0,Jr.value=0,Jr.valueEnd=0,Jr.textEnd=n.length}(n),xl(n,l4(n,0,Jr.textEnd))}(i);o>=0;o=xl(i,o))A(n,C0(i),!0)}function Ba(n,i,o,c){const h=At(),_=rn(),N=Bn(2);_.firstUpdatePass&&Rl(_,n,N,c),i!==Un&&ks(h,N,i)&&Fl(_,_.data[me()],h,h[11],n,h[N+1]=function S0(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ae(Yr(n)))),n}(i,o),c,N)}function E0(n,i){return i>=n.expandoStartIndex}function Rl(n,i,o,c){const h=n.data;if(null===h[o+1]){const _=h[me()],N=E0(n,o);A4(_,c)&&null===i&&!N&&(i=!1),i=function lu(n,i,o,c){const h=function Ji(n){const i=B1.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let _=c?i.residualClasses:i.residualStyles;if(null===h)0===(c?i.classBindings:i.styleBindings)&&(o=A6(o=Ac(null,n,i,o,c),i.attrs,c),_=null);else{const N=i.directiveStylingLast;if(-1===N||n[N]!==h)if(o=Ac(h,n,i,o,c),null===_){let R=function kl(n,i,o){const c=o?i.classBindings:i.styleBindings;if(0!==Go(c))return n[jo(c)]}(n,i,c);void 0!==R&&Array.isArray(R)&&(R=Ac(null,n,i,R[1],c),R=A6(R,i.attrs,c),function Pl(n,i,o,c){n[jo(o?i.classBindings:i.styleBindings)]=c}(n,i,c,R))}else _=function Vl(n,i,o){let c;const h=i.directiveEnd;for(let _=1+i.directiveStylingLast;_<h;_++)c=A6(c,n[_].hostAttrs,o);return A6(c,i.attrs,o)}(n,i,c)}return void 0!==_&&(c?i.residualClasses=_:i.residualStyles=_),o}(h,_,i,c),function Al(n,i,o,c,h,_){let N=_?i.classBindings:i.styleBindings,I=jo(N),R=Go(N);n[c]=o;let te,Z=!1;if(Array.isArray(o)){const pe=o;te=pe[1],(null===te||K(pe,te)>0)&&(Z=!0)}else te=o;if(h)if(0!==R){const Fe=jo(n[I+1]);n[c+1]=Y4(Fe,I),0!==Fe&&(n[Fe+1]=r0(n[Fe+1],c)),n[I+1]=function a8(n,i){return 131071&n|i<<17}(n[I+1],c)}else n[c+1]=Y4(I,0),0!==I&&(n[I+1]=r0(n[I+1],c)),I=c;else n[c+1]=Y4(R,0),0===I?I=c:n[R+1]=r0(n[R+1],c),R=c;Z&&(n[c+1]=p6(n[c+1])),Sc(n,te,c,!0),Sc(n,te,c,!1),function Q8(n,i,o,c,h){const _=h?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof i&&K(_,i)>=0&&(o[c+1]=s0(o[c+1]))}(i,te,n,c,_),N=Y4(I,R),_?i.classBindings=N:i.styleBindings=N}(h,_,i,o,N,c)}}function Ac(n,i,o,c,h){let _=null;const N=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<N&&(_=i[I],c=A6(c,_.hostAttrs,h),_!==n);)I++;return null!==n&&(o.directiveStylingLast=I),c}function A6(n,i,o){const c=o?1:2;let h=-1;if(null!==i)for(let _=0;_<i.length;_++){const N=i[_];"number"==typeof N?h=N:h===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),A(n,N,!!o||i[++_]))}return void 0===n?null:n}function Fl(n,i,o,c,h,_,N,I){if(!(3&i.type))return;const R=n.data,Z=R[I+1];ma(function c8(n){return 1==(1&n)}(Z)?r3(R,i,o,h,Go(Z),N):void 0)||(ma(_)||function z3(n){return 2==(2&n)}(Z)&&(_=r3(R,null,o,h,I,N)),function xa(n,i,o,c,h){if(i)h?n.addClass(o,c):n.removeClass(o,c);else{let _=-1===c.indexOf("-")?void 0:xs.DashCase;null==h?n.removeStyle(o,c,_):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),_|=xs.Important),n.setStyle(o,c,h,_))}}(c,N,D2(me(),o),h,_))}function r3(n,i,o,c,h,_){const N=null===i;let I;for(;h>0;){const R=n[h],Z=Array.isArray(R),te=Z?R[1]:R,pe=null===te;let Fe=o[h+1];Fe===Un&&(Fe=pe?Bt:void 0);let ut=pe?j(Fe,c):te===c?Fe:void 0;if(Z&&!ma(ut)&&(ut=j(R,c)),ma(ut)&&(I=ut,N))return I;const Rt=n[h+1];h=N?jo(Rt):Go(Rt)}if(null!==i){let R=_?i.residualClasses:i.residualStyles;null!=R&&(I=j(R,c))}return I}function ma(n){return void 0!==n}function A4(n,i){return 0!=(n.flags&(i?16:32))}function Bl(n,i=""){const o=At(),c=rn(),h=n+22,_=c.firstCreatePass?_6(c,h,1,i,null):c.data[h],N=o[h]=v3(o[11],i);_4(c,o,N,_),Ki(_,!1)}function zc(n){return Lc("",n,""),zc}function Lc(n,i,o){const c=At(),h=Q4(c,n,i,o);return h!==Un&&function o4(n,i,o){const c=D2(i,n);Za(n[11],c,o)}(c,me(),h),Lc}function N0(n,i,o){const c=At();return ks(c,m1(),i)&&po(rn(),ft(),c,n,i,c[11],o,!0),N0}const U3=void 0;var Rc=["en",[["a","p"],["AM","PM"],U3],[["AM","PM"],U3,U3],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],U3,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],U3,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",U3,"{1} 'at' {0}",U3],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ql(n){const o=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let z6={};function kc(n){const i=function T0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=mo(i);if(o)return o;const c=i.split("-")[0];if(o=mo(c),o)return o;if("en"===c)return Rc;throw new Ze(701,!1)}function ga(n){return kc(n)[_n.PluralCase]}function mo(n){return n in z6||(z6[n]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[n]),z6[n]}var _n=(()=>((_n=_n||{})[_n.LocaleId=0]="LocaleId",_n[_n.DayPeriodsFormat=1]="DayPeriodsFormat",_n[_n.DayPeriodsStandalone=2]="DayPeriodsStandalone",_n[_n.DaysFormat=3]="DaysFormat",_n[_n.DaysStandalone=4]="DaysStandalone",_n[_n.MonthsFormat=5]="MonthsFormat",_n[_n.MonthsStandalone=6]="MonthsStandalone",_n[_n.Eras=7]="Eras",_n[_n.FirstDayOfWeek=8]="FirstDayOfWeek",_n[_n.WeekendRange=9]="WeekendRange",_n[_n.DateFormat=10]="DateFormat",_n[_n.TimeFormat=11]="TimeFormat",_n[_n.DateTimeFormat=12]="DateTimeFormat",_n[_n.NumberSymbols=13]="NumberSymbols",_n[_n.NumberFormats=14]="NumberFormats",_n[_n.CurrencyCode=15]="CurrencyCode",_n[_n.CurrencySymbol=16]="CurrencySymbol",_n[_n.CurrencyName=17]="CurrencyName",_n[_n.Currencies=18]="Currencies",_n[_n.Directionality=19]="Directionality",_n[_n.PluralCase=20]="PluralCase",_n[_n.ExtraData=21]="ExtraData",_n))();const A0=["zero","one","two","few","many"],O6="en-US",x4={marker:"element"},u4={marker:"ICU"};var Ar=(()=>((Ar=Ar||{})[Ar.SHIFT=2]="SHIFT",Ar[Ar.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ar[Ar.COMMENT=2]="COMMENT",Ar))();let Xl=O6;function e7(n){(function S1(n,i){null==n&&xt(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Xl=n.toLowerCase().replace(/_/g,"-"))}function z4(n,i,o){const c=i.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?sa(n,0,o):Xn(o[h])}function t7(n,i,o,c,h){const _=i.insertBeforeIndex;if(Array.isArray(_)){let N=c,I=null;if(3&i.type||(I=N,N=h),null!==N&&0==(2&i.flags))for(let R=1;R<_.length;R++)ko(n,N,o[_[R]],I,!1)}}function n7(n,i){if(n.push(i),n.length>1)for(let o=n.length-2;o>=0;o--){const c=n[o];i7(c)||r7(c,i)&&null===Su(c)&&c5(c,i.index)}}function i7(n){return!(64&n.type)}function r7(n,i){return i7(i)||n.index>i.index}function Su(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function c5(n,i){const o=n.insertBeforeIndex;Array.isArray(o)?o[0]=i:(Ia(z4,t7),n.insertBeforeIndex=i)}function o3(n,i){const o=n.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function l5(n,i,o){const c=rc(n,o,64,null,null);return n7(i,c),c}function Pc(n,i){const o=i[n.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function u5(n){return n>>>17}function d5(n){return(131070&n)>>>1}let k6=0,P6=0;function h5(n,i,o,c){const h=o[11];let N,_=null;for(let I=0;I<i.length;I++){const R=i[I];if("string"==typeof R){const Z=i[++I];null===o[Z]&&(o[Z]=v3(h,R))}else if("number"==typeof R)switch(1&R){case 0:const Z=u5(R);let te,pe;if(null===_&&(_=Z,N=ra(h,c)),Z===_?(te=c,pe=N):(te=null,pe=Xn(o[Z])),null!==pe){const l1=d5(R);ko(h,pe,o[l1],te,!1);const J1=o3(n,l1);if(null!==J1&&"object"==typeof J1){const Cn=Pc(J1,o);null!==Cn&&h5(n,J1.create[Cn],o,o[J1.anchorIdx])}}break;case 1:const ut=i[++I],Rt=i[++I];z8(h,D2(R>>>1,o),null,null,ut,Rt,null)}else switch(R){case u4:const Z=i[++I],te=i[++I];null===o[te]&&_s(o[te]=ia(h,Z),o);break;case x4:const pe=i[++I],Fe=i[++I];null===o[Fe]&&_s(o[Fe]=F4(h,pe,null),o)}}}function a7(n,i,o,c,h){for(let _=0;_<o.length;_++){const N=o[_],I=o[++_];if(N&h){let R="";for(let Z=_+1;Z<=_+I;Z++){const te=o[Z];if("string"==typeof te)R+=te;else if("number"==typeof te)if(te<0)R+=rt(i[c-te]);else{const pe=te>>>2;switch(3&te){case 1:const Fe=o[++Z],ut=o[++Z],Rt=n.data[pe];"string"==typeof Rt?z8(i[11],i[pe],null,Rt,Fe,R,ut):po(n,Rt,i,Fe,R,i[11],ut,!1);break;case 0:const l1=i[pe];null!==l1&&Za(i[11],l1,R);break;case 2:e(n,o3(n,pe),i,R);break;case 3:r(n,o3(n,pe),c,i)}}}}else{const R=o[_+1];if(R>0&&3==(3&R)){const te=o3(n,R>>>2);i[te.currentCaseLViewIndex]<0&&r(n,te,c,i)}}_+=I}}function r(n,i,o,c){let h=c[i.currentCaseLViewIndex];if(null!==h){let _=k6;h<0&&(h=c[i.currentCaseLViewIndex]=~h,_=-1),a7(n,c,i.update[h],o,_)}}function e(n,i,o,c){const h=function s(n,i){let o=n.cases.indexOf(i);if(-1===o)switch(n.type){case 1:{const c=function go(n,i){const o=ga(i)(parseInt(n,10)),c=A0[o];return void 0!==c?c:"other"}(i,function Eu(){return Xl}());o=n.cases.indexOf(c),-1===o&&"other"!==c&&(o=n.cases.indexOf("other"));break}case 0:o=n.cases.indexOf("other")}return-1===o?null:o}(i,c);if(Pc(i,o)!==h&&(t(n,i,o),o[i.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const N=o[i.anchorIdx];N&&h5(n,i.create[h],o,N)}}function t(n,i,o){let c=Pc(i,o);if(null!==c){const h=i.remove[c];for(let _=0;_<h.length;_++){const N=h[_];if(N>0){const I=D2(N,o);null!==I&&C4(o[11],I)}else t(n,o3(n,~N),o)}}}function u(){const n=[];let o,c,i=-1;function _(I,R){i=0;const Z=Pc(I,R);c=null!==Z?I.remove[Z]:Bt}function N(){if(i<c.length){const I=c[i++];return I>0?o[I]:(n.push(i,c),_(o[1].data[~I],o),N())}return 0===n.length?null:(c=n.pop(),i=n.pop(),N())}return function h(I,R){for(o=R;n.length;)n.pop();return _(I.value,R),N}}const oe=/\ufffd(\d+):?\d*\ufffd/gi,lt=/\ufffd(\d+)\ufffd/,kt=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,N1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,X1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Hi=/\uE500/g;function jr(n,i,o,c,h,_,N){const I=b6(n,c,1,null);let R=I<<Ar.SHIFT,Z=us();i===Z&&(Z=null),null===Z&&(R|=Ar.APPEND_EAGERLY),N&&(R|=Ar.COMMENT,function ta(n){void 0===Ro&&(Ro=n())}(u)),h.push(R,null===_?"":_);const te=rc(n,I,N?32:1,null===_?"":_,null);n7(o,te);const pe=te.index;return Ki(te,!1),null!==Z&&i!==Z&&function Nu(n,i){let o=n.insertBeforeIndex;null===o?(Ia(z4,t7),o=n.insertBeforeIndex=[null,i]):(function Ke(n,i,o){n!=i&&xt(o,n,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(Z,pe),te}function K2(n,i,o,c,h,_,N){const I=N.match(oe),R=jr(n,i,o,_,c,I?null:N,!1);I&&Gr(h,N,R.index,null,0,null)}function Gr(n,i,o,c,h,_){const N=n.length,I=N+1;n.push(null,null);const R=N+2,Z=i.split(oe);let te=0;for(let pe=0;pe<Z.length;pe++){const Fe=Z[pe];if(1&pe){const ut=h+parseInt(Fe,10);n.push(-1-ut),te|=O9(ut)}else""!==Fe&&n.push(Fe)}return n.push(o<<2|(c?1:0)),c&&n.push(c,_),n[N]=te,n[I]=n.length-R,te}function O9(n){return 1<<Math.min(n,31)}function R9(n){let i,_,o="",c=0,h=!1;for(;null!==(i=N1.exec(n));)h?i[0]===`\ufffd/*${_}\ufffd`&&(c=i.index,h=!1):(o+=n.substring(c,i.index+i[0].length),_=i[1],h=!0);return o+=n.slice(c),o}function k9(n,i,o,c,h,_){let N=0;const I={type:h.type,currentCaseLViewIndex:b6(n,i,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function If(n,i,o){n.push(O9(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,h,_),function s7(n,i,o){const c=n.data[i];null===c?n.data[i]=o:c.value=o}(n,_,I);const R=h.values;for(let Z=0;Z<R.length;Z++){const te=R[Z],pe=[];for(let Fe=0;Fe<te.length;Fe++){const ut=te[Fe];if("string"!=typeof ut){const Rt=pe.push(ut)-1;te[Fe]=`\x3c!--\ufffd${Rt}\ufffd--\x3e`}}N=Tf(n,I,i,o,c,h.cases[Z],te.join(""),pe)|N}N&&function xf(n,i,o){n.push(i,1,o<<2|3)}(o,N,_)}function Nf(n){const i=[],o=[];let c=1,h=0;const _=xu(n=n.replace(kt,function(N,I,R){return c="select"===R?0:1,h=parseInt(I.slice(1),10),""}));for(let N=0;N<_.length;){let I=_[N++].trim();1===c&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&i.push(I);const R=xu(_[N++]);i.length>o.length&&o.push(R)}return{type:c,mainBinding:h,cases:i,values:o}}function xu(n){if(!n)return[];let i=0;const o=[],c=[],h=/[{}]/g;let _;for(h.lastIndex=0;_=h.exec(n);){const I=_.index;if("}"==_[0]){if(o.pop(),0==o.length){const R=n.substring(i,I);kt.test(R)?c.push(Nf(R)):c.push(R),i=I+1}}else{if(0==o.length){const R=n.substring(i,I);c.push(R),i=I+1}o.push("{")}}const N=n.substring(i);return c.push(N),c}function Tf(n,i,o,c,h,_,N,I){const R=[],Z=[],te=[];i.cases.push(_),i.create.push(R),i.remove.push(Z),i.update.push(te);const Fe=Cs(v()).getInertBodyElement(N),ut=P0(Fe)||Fe;return ut?P9(n,i,o,c,R,Z,te,ut,h,I,0):0}function P9(n,i,o,c,h,_,N,I,R,Z,te){let pe=0,Fe=I.firstChild;for(;Fe;){const ut=b6(n,o,1,null);switch(Fe.nodeType){case Node.ELEMENT_NODE:const Rt=Fe,l1=Rt.tagName.toLowerCase();if(a6.hasOwnProperty(l1)){zu(h,x4,l1,R,ut),n.data[ut]=l1;const Gt=Rt.attributes;for(let kn=0;kn<Gt.length;kn++){const Ii=Gt.item(kn),Qr=Ii.name.toLowerCase();Ii.value.match(oe)?Gc.hasOwnProperty(Qr)&&Gr(N,Ii.value,ut,Ii.name,0,O0[Qr]?Oa:null):zf(h,ut,Ii)}pe=P9(n,i,o,c,h,_,N,Fe,ut,Z,te+1)|pe,V9(_,ut,te)}break;case Node.TEXT_NODE:const M1=Fe.textContent||"",J1=M1.match(oe);zu(h,null,J1?"":M1,R,ut),V9(_,ut,te),J1&&(pe=Gr(N,M1,ut,null,0,null)|pe);break;case Node.COMMENT_NODE:const Cn=lt.exec(Fe.textContent||"");if(Cn){const kn=Z[parseInt(Cn[1],10)];zu(h,u4,"",R,ut),k9(n,o,c,R,kn,ut),Af(_,ut,te)}}Fe=Fe.nextSibling}return pe}function V9(n,i,o){0===o&&n.push(i)}function Af(n,i,o){0===o&&(n.push(~i),n.push(i))}function zu(n,i,o,c,h){null!==i&&n.push(i),n.push(o,h,function Tu(n,i,o){return n|i<<17|o<<1}(0,c,h))}function zf(n,i,o){n.push(i<<1|1,o.name,o.value)}function F9(n,i,o=-1){const c=rn(),h=At(),_=22+n,N=n2(c.consts,i),I=us();c.firstCreatePass&&function U2(n,i,o,c,h,_){const N=us(),I=[],R=[],Z=[[]];h=function Sf(n,i){if(function Ef(n){return-1===n}(i))return R9(n);{const o=n.indexOf(`:${i}\ufffd`)+2+i.toString().length,c=n.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return R9(n.substring(o,c))}}(h,_);const te=function Ir(n){return n.replace(Hi," ")}(h).split(X1);for(let pe=0;pe<te.length;pe++){let Fe=te[pe];if(0==(1&pe)){const ut=xu(Fe);for(let Rt=0;Rt<ut.length;Rt++){let l1=ut[Rt];if(0==(1&Rt)){const M1=l1;""!==M1&&K2(n,N,Z[0],I,R,o,M1)}else{const M1=l1;if("object"!=typeof M1)throw new Error(`Unable to parse ICU expression in "${h}" message.`);k9(n,o,R,i,M1,jr(n,N,Z[0],o,I,"",!0).index)}}}else{const ut=47===Fe.charCodeAt(0),l1=(Fe.charCodeAt(ut?1:0),22+Number.parseInt(Fe.substring(ut?2:1)));if(ut)Z.shift(),Ki(us(),!1);else{const M1=l5(n,Z[0],l1);Z.unshift([]),Ki(M1,!0)}}}n.data[c]={create:I,update:R}}(c,null===I?0:I.index,h,_,N,o);const R=c.data[_],te=Ta(c,I===h[6]?null:I,h);(function o7(n,i,o,c){const h=n[11];for(let _=0;_<i.length;_++){const N=i[_++],I=i[_],R=(N&Ar.COMMENT)===Ar.COMMENT,Z=(N&Ar.APPEND_EAGERLY)===Ar.APPEND_EAGERLY,te=N>>>Ar.SHIFT;let pe=n[te];null===pe&&(pe=n[te]=R?h.createComment(I):v3(h,I)),Z&&null!==o&&ko(h,o,pe,c,!1)}})(h,R.create,te,I&&8&I.type?h[I.index]:null),Yi(!0)}function U9(n,i,o){F9(n,i,o),function B9(){Yi(!1)}()}function Lu(n){return function Au(n){n&&(k6|=1<<Math.min(P6,31)),P6++}(ks(At(),m1(),n)),Lu}function j9(n){!function Iu(n,i,o){if(P6>0){const c=n.data[o];a7(n,i,Array.isArray(c)?c:c.update,function ne(){return B1.lFrame.bindingIndex}()-P6-1,k6)}k6=0,P6=0}(rn(),At(),n+22)}function Ou(n,i,o,c,h){if(n=Ne(n),Array.isArray(n))for(let _=0;_<n.length;_++)Ou(n[_],i,o,c,h);else{const _=rn(),N=At();let I=P1(n)?n:Ne(n.provide),R=Ur(n);const Z=a2(),te=1048575&Z.providerIndexes,pe=Z.directiveStart,Fe=Z.providerIndexes>>20;if(P1(n)||!n.multi){const ut=new ui(R,h,K4),Rt=ku(I,i,h?te:te+Fe,pe);-1===Rt?(Ai(Jt(Z,N),_,I),Ru(_,n,i.length),i.push(I),Z.directiveStart++,Z.directiveEnd++,h&&(Z.providerIndexes+=1048576),o.push(ut),N.push(ut)):(o[Rt]=ut,N[Rt]=ut)}else{const ut=ku(I,i,te+Fe,pe),Rt=ku(I,i,te,te+Fe),l1=ut>=0&&o[ut],M1=Rt>=0&&o[Rt];if(h&&!M1||!h&&!l1){Ai(Jt(Z,N),_,I);const J1=function Zf(n,i,o,c,h){const _=new ui(n,o,K4);return _.multi=[],_.index=i,_.componentProviders=0,G9(_,h,c&&!o),_}(h?$f:Gf,o.length,h,c,R);!h&&M1&&(o[Rt].providerFactory=J1),Ru(_,n,i.length,0),i.push(I),Z.directiveStart++,Z.directiveEnd++,h&&(Z.providerIndexes+=1048576),o.push(J1),N.push(J1)}else Ru(_,n,ut>-1?ut:Rt,G9(o[h?Rt:ut],R,!h&&c));!h&&c&&M1&&o[Rt].componentProviders++}}}function Ru(n,i,o,c){const h=P1(i),_=function L2(n){return!!n.useClass}(i);if(h||_){const R=(_?Ne(i.useClass):i).prototype.ngOnDestroy;if(R){const Z=n.destroyHooks||(n.destroyHooks=[]);if(!h&&i.multi){const te=Z.indexOf(o);-1===te?Z.push(o,[c,R]):Z[te+1].push(c,R)}else Z.push(o,R)}}}function G9(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function ku(n,i,o,c){for(let h=o;h<c;h++)if(i[h]===n)return h;return-1}function Gf(n,i,o,c){return Pu(this.multi,[])}function $f(n,i,o,c){const h=this.multi;let _;if(this.providerFactory){const N=this.providerFactory.componentProviders,I=Sr(o,o[1],this.providerFactory.index,c);_=I.slice(0,N),Pu(h,_);for(let R=N;R<I.length;R++)_.push(I[R])}else _=[],Pu(h,_);return _}function Pu(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function $9(n,i=[]){return o=>{o.providersResolver=(c,h)=>function jf(n,i,o){const c=rn();if(c.firstCreatePass){const h=w2(n);Ou(o,c.data,c.blueprint,h,!0),Ou(i,c.data,c.blueprint,h,!1)}}(c,h?h(n):n,i)}}class Vc{}class Z9{}function Wf(n,i){return new W9(n,i??null)}class W9 extends Vc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pc(this);const c=en(i);this._bootstrapComponents=Uo(c.bootstrap),this._r3Injector=G0(i,o,[{provide:Vc,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],Ae(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Vu extends Z9{constructor(i){super(),this.moduleType=i}create(i){return new W9(this.moduleType,i)}}class qf extends Vc{constructor(i,o,c){super(),this.componentFactoryResolver=new pc(this),this.instance=null;const h=new m2([...i,{provide:Vc,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],o||fi(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Hu(n,i,o=null){return new qf(n,i,o).injector}let Kf=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const c=G(0,o.type),h=c.length>0?Hu([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,h)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=v1({token:n,providedIn:"environment",factory:()=>new n(B2(t2))}),n})();function q9(n){n.getStandaloneInjector=i=>i.get(Kf).getOrCreateStandaloneInjector(n)}function td(n,i,o){const c=k()+n,h=At();return h[c]===Un?ha(h,c,o?i.call(o):i()):function V3(n,i){return n[i]}(h,c)}function nd(n,i,o,c){return sd(At(),k(),n,i,o,c)}function id(n,i,o,c,h){return function od(n,i,o,c,h,_,N){const I=i+o;return a4(n,I,h,_)?ha(n,I+2,N?c.call(N,h,_):c(h,_)):p5(n,I+2)}(At(),k(),n,i,o,c,h)}function rd(n,i,o,c,h,_){return function ad(n,i,o,c,h,_,N,I){const R=i+o;return function M6(n,i,o,c,h){const _=a4(n,i,o,c);return ks(n,i+2,h)||_}(n,R,h,_,N)?ha(n,R+3,I?c.call(I,h,_,N):c(h,_,N)):p5(n,R+3)}(At(),k(),n,i,o,c,h,_)}function p5(n,i){const o=n[i];return o===Un?void 0:o}function sd(n,i,o,c,h,_){const N=i+o;return ks(n,N,h)?ha(n,N+1,_?c.call(_,h):c(h)):p5(n,N+1)}function ud(n,i){const o=rn();let c;const h=n+22;o.firstCreatePass?(c=function uh(n,i){if(i)for(let o=i.length-1;o>=0;o--){const c=i[o];if(n===c.name)return c}}(i,o.pipeRegistry),o.data[h]=c,c.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(h,c.onDestroy)):c=o.data[h];const _=c.factory||(c.factory=oi(c.type)),N=cn(K4);try{const I=Ht(!1),R=_();return Ht(I),function os(n,i,o,c){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=c}(o,At(),h,R),R}finally{cn(N)}}function dd(n,i,o){const c=n+22,h=At(),_=Si(h,c);return function m5(n,i){return n[1].data[i].pure}(h,c)?sd(h,k(),i,_.transform,o,_):_.transform(o)}function Bu(n){return i=>{setTimeout(n,void 0,i)}}const a3=class mh extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,c){let h=i,_=o||(()=>null),N=c;if(i&&"object"==typeof i){const R=i;h=R.next?.bind(R),_=R.error?.bind(R),N=R.complete?.bind(R)}this.__isAsync&&(_=Bu(_),h&&(h=Bu(h)),N&&(N=Bu(N)));const I=super.subscribe({next:h,error:_,complete:N});return i instanceof D.w0&&i.add(I),I}};function gh(){return this._results[P3()]()}class Uu{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=P3(),c=Uu.prototype;c[o]||(c[o]=gh)}get changes(){return this._changes||(this._changes=new a3)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const c=this;c.dirty=!1;const h=ki(i);(this._changesDetected=!function Io(n,i,o){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let h=n[c],_=i[c];if(o&&(h=o(h),_=o(_)),_!==h)return!1}return!0}(c._results,h,o))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let g5=(()=>{class n{}return n.__NG_ELEMENT_ID__=_h,n})();const vh=g5,yh=class extends vh{constructor(i,o,c){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(i,o){const c=this._declarationTContainer.tViews,h=y6(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,null,o||null);h[17]=this._declarationLView[this._declarationTContainer.index];const N=this._declarationLView[19];return null!==N&&(h[19]=N.createEmbeddedView(c)),sc(c,h,i),new k3(h)}};function _h(){return c7(a2(),At())}function c7(n,i){return 4&n.type?new yh(i,n,ir(n,i)):null}let l7=(()=>{class n{}return n.__NG_ELEMENT_ID__=bh,n})();function bh(){return pd(a2(),At())}const Ch=l7,fd=class extends Ch{constructor(i,o,c){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=c}get element(){return ir(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){const i=H2(this._hostTNode,this._hostLView);if(Ti(i)){const o=Ts(i,this._hostLView),c=ei(i);return new er(o[1].data[c+8],o)}return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=hd(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,c){let h,_;"number"==typeof c?h=c:null!=c&&(h=c.index,_=c.injector);const N=i.createEmbeddedView(o||{},_);return this.insert(N,h),N}createComponent(i,o,c,h,_){const N=i&&!function vs(n){return"function"==typeof n}(i);let I;if(N)I=o;else{const pe=o||{};I=pe.index,c=pe.injector,h=pe.projectableNodes,_=pe.environmentInjector||pe.ngModuleRef}const R=N?i:new l2(Be(i)),Z=c||this.parentInjector;if(!_&&null==R.ngModule){const Fe=(N?Z:this.parentInjector).get(t2,null);Fe&&(_=Fe)}const te=R.create(Z,h,void 0,_);return this.insert(te.hostView,I),te}insert(i,o){const c=i._lView,h=c[1];if(function ls(n){return M2(n[3])}(c)){const te=this.indexOf(i);if(-1!==te)this.detach(te);else{const pe=c[3],Fe=new fd(pe,pe[6],pe[3]);Fe.detach(Fe.indexOf(i))}}const _=this._adjustIndex(o),N=this._lContainer;!function Sa(n,i,o,c){const h=10+c,_=o.length;c>0&&(o[h-1][4]=i),c<_-10?(i[4]=o[h],wo(o,10+c,i)):(o.push(i),i[4]=null),i[3]=o;const N=i[17];null!==N&&o!==N&&function nr(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(N,i);const I=i[19];null!==I&&I.insertView(n),i[2]|=64}(h,c,N,_);const I=b4(_,N),R=c[11],Z=ra(R,N[7]);return null!==Z&&function Z6(n,i,o,c,h,_){c[0]=h,c[6]=i,qa(n,c,o,1,h,_)}(h,N[6],R,c,Z,I),i.attachToViewContainerRef(),wo(ju(N),_,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=hd(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),c=Na(this._lContainer,o);c&&(Fr(ju(this._lContainer),o),B4(c[1],c))}detach(i){const o=this._adjustIndex(i,-1),c=Na(this._lContainer,o);return c&&null!=Fr(ju(this._lContainer),o)?new k3(c):null}_adjustIndex(i,o=0){return i??this.length+o}};function hd(n){return n[8]}function ju(n){return n[8]||(n[8]=[])}function pd(n,i){let o;const c=i[n.index];if(M2(c))o=c;else{let h;if(8&n.type)h=Xn(c);else{const _=i[11];h=_.createComment("");const N=v2(n,i);ko(_,ra(_,N),h,function Hn(n,i){return n.nextSibling(i)}(_,N),!1)}i[n.index]=o=lc(c,i,h,n),f0(i,o)}return new fd(o,n,i)}class Gu{constructor(i){this.queryList=i,this.matches=null}clone(){return new Gu(this.queryList)}setDirty(){this.queryList.setDirty()}}class $u{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const c=null!==i.contentQueries?i.contentQueries[0]:o.length,h=[];for(let _=0;_<c;_++){const N=o.getByIndex(_);h.push(this.queries[N.indexInDeclarationView].clone())}return new $u(h)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==wd(i,o).matches&&this.queries[o].setDirty()}}class md{constructor(i,o,c=null){this.predicate=i,this.flags=o,this.read=c}}class Zu{constructor(i=[]){this.queries=i}elementStart(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let c=0;c<this.length;c++){const h=null!==o?o.length:0,_=this.getByIndex(c).embeddedTView(i,h);_&&(_.indexInDeclarationView=c,null!==o?o.push(_):o=[_])}return null!==o?new Zu(o):null}template(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class u7{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new u7(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const _=c[h];this.matchTNodeWithReadOption(i,o,Dh(o,_)),this.matchTNodeWithReadOption(i,o,F2(o,i,_,!1,!1))}else c===g5?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,F2(o,i,c,!1,!1))}matchTNodeWithReadOption(i,o,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===fo||h===l7||h===g5&&4&o.type)this.addMatch(o.index,-2);else{const _=F2(o,i,h,!1,!1);null!==_&&this.addMatch(o.index,_)}else this.addMatch(o.index,c)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function Dh(n,i){const o=n.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===i)return o[c+1];return null}function Sh(n,i,o,c){return-1===o?function Eh(n,i){return 11&n.type?ir(n,i):4&n.type?c7(n,i):null}(i,n):-2===o?function Nh(n,i,o){return o===fo?ir(i,n):o===g5?c7(i,n):o===l7?pd(i,n):void 0}(n,i,c):Sr(n,n[1],o,i)}function gd(n,i,o,c){const h=i[19].queries[c];if(null===h.matches){const _=n.data,N=o.matches,I=[];for(let R=0;R<N.length;R+=2){const Z=N[R];I.push(Z<0?null:Sh(i,_[Z],N[R+1],o.metadata.read))}h.matches=I}return h.matches}function Wu(n,i,o,c){const h=n.queries.getByIndex(o),_=h.matches;if(null!==_){const N=gd(n,i,h,o);for(let I=0;I<_.length;I+=2){const R=_[I];if(R>0)c.push(N[I/2]);else{const Z=_[I+1],te=i[-R];for(let pe=10;pe<te.length;pe++){const Fe=te[pe];Fe[17]===Fe[3]&&Wu(Fe[1],Fe,Z,c)}if(null!==te[9]){const pe=te[9];for(let Fe=0;Fe<pe.length;Fe++){const ut=pe[Fe];Wu(ut[1],ut,Z,c)}}}}}return c}function vd(n){const i=At(),o=rn(),c=W();ee(c+1);const h=wd(o,c);if(n.dirty&&function ar(n){return 4==(4&n[2])}(i)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const _=h.crossesNgTemplate?Wu(o,i,c,[]):gd(o,i,h,c);n.reset(_,Qa),n.notifyOnChanges()}return!0}return!1}function yd(n,i,o){const c=rn();c.firstCreatePass&&(Md(c,new md(n,i,o),-1),2==(2&i)&&(c.staticViewQueries=!0)),Cd(c,At(),i)}function _d(n,i,o,c){const h=rn();if(h.firstCreatePass){const _=a2();Md(h,new md(i,o,c),_.index),function Ah(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(h,n),2==(2&o)&&(h.staticContentQueries=!0)}Cd(h,At(),o)}function bd(){return function Th(n,i){return n[19].queries[i].queryList}(At(),W())}function Cd(n,i,o){const c=new Uu(4==(4&o));X5(n,i,c,c.destroy),null===i[19]&&(i[19]=new $u),i[19].queries.push(new Gu(c))}function Md(n,i,o){null===n.queries&&(n.queries=new Zu),n.queries.track(new u7(i,o))}function wd(n,i){return n.queries.getByIndex(i)}function Dd(n,i){return c7(n,i)}function f7(...n){}const jd=new Zn("Application Initializer");let h7=(()=>{class n{constructor(o){this.appInits=o,this.resolve=f7,this.reject=f7,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const _=this.appInits[h]();if(pa(_))o.push(_);else if(iu(_)){const N=new Promise((I,R)=>{_.subscribe({complete:I,error:R})});o.push(N)}}Promise.all(o).then(()=>{c()}).catch(h=>{this.reject(h)}),0===o.length&&c(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(B2(jd,8))},n.\u0275prov=v1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gd=new Zn("AppId",{providedIn:"root",factory:function $d(){return`${Qu()}${Qu()}${Qu()}`}});function Qu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zd=new Zn("Platform Initializer"),Kh=new Zn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wd=new Zn("appBootstrapListener"),Yh=new Zn("AnimationModuleType");let Jh=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=v1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const p7=new Zn("LocaleId",{providedIn:"root",factory:()=>P(p7,Vt.Optional|Vt.SkipSelf)||function Qh(){return typeof $localize<"u"&&$localize.locale||O6}()}),Xh=new Zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ep{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let tp=(()=>{class n{compileModuleSync(o){return new Vu(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),_=Uo(en(o).declarations).reduce((N,I)=>{const R=Be(I);return R&&N.push(new l2(R)),N},[]);return new ep(c,_)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=v1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rp=(()=>Promise.resolve(0))();function Xu(n){typeof Zone>"u"?rp.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class d4{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new a3(!1),this.onMicrotaskEmpty=new a3(!1),this.onStable=new a3(!1),this.onError=new a3(!1),typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&o,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function sp(){let n=vt.requestAnimationFrame,i=vt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function cp(n){const i=()=>{!function ap(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(vt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,t9(n),n.isCheckStableRunning=!0,e9(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),t9(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,h,_,N,I)=>{try{return Yd(n),o.invokeTask(h,_,N,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&i(),Jd(n)}},onInvoke:(o,c,h,_,N,I,R)=>{try{return Yd(n),o.invoke(h,_,N,I,R)}finally{n.shouldCoalesceRunChangeDetection&&i(),Jd(n)}},onHasTask:(o,c,h,_)=>{o.hasTask(h,_),c===h&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,t9(n),e9(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(o,c,h,_)=>(o.handleError(h,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!d4.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(d4.isInAngularZone())throw new Ze(909,!1)}run(i,o,c){return this._inner.run(i,o,c)}runTask(i,o,c,h){const _=this._inner,N=_.scheduleEventTask("NgZoneEvent: "+h,i,op,f7,f7);try{return _.runTask(N,o,c)}finally{_.cancelTask(N)}}runGuarded(i,o,c){return this._inner.runGuarded(i,o,c)}runOutsideAngular(i){return this._outer.run(i)}}const op={};function e9(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function t9(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Yd(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Jd(n){n._nesting--,e9(n)}class lp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new a3,this.onMicrotaskEmpty=new a3,this.onStable=new a3,this.onError=new a3}run(i,o,c){return i.apply(o,c)}runGuarded(i,o,c){return i.apply(o,c)}runOutsideAngular(i){return i()}runTask(i,o,c,h){return i.apply(o,c)}}const Qd=new Zn(""),Xd=new Zn("");let n9,up=(()=>{class n{constructor(o,c,h){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,n9||(function dp(n){n9=n}(h),h.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{d4.assertNotInAngularZone(),Xu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xu(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,h){let _=-1;c&&c>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==_),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:_,updateCb:h})}whenStable(o,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,h){return[]}}return n.\u0275fac=function(o){return new(o||n)(B2(d4),B2(ef),B2(Xd))},n.\u0275prov=v1({token:n,factory:n.\u0275fac}),n})(),ef=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return n9?.findTestabilityInTree(this,o,c)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=v1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),V6=null;const tf=new Zn("AllowMultipleToken"),i9=new Zn("PlatformDestroyListeners");class pp{constructor(i,o){this.name=i,this.token=o}}function rf(n,i,o=[]){const c=`Platform: ${i}`,h=new Zn(c);return(_=[])=>{let N=r9();if(!N||N.injector.get(tf,!1)){const I=[...o,..._,{provide:h,useValue:!0}];n?n(I):function mp(n){if(V6&&!V6.get(tf,!1))throw new Ze(400,!1);V6=n;const i=n.get(af);(function nf(n){const i=n.get(Zd,null);i&&i.forEach(o=>o())})(n)}(function sf(n=[],i){return n4.create({name:i,providers:[{provide:dn,useValue:"platform"},{provide:i9,useValue:new Set([()=>V6=null])},...n]})}(I,c))}return function vp(n){const i=r9();if(!i)throw new Ze(401,!1);return i}()}}function r9(){return V6?.get(af)??null}let af=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const h=function lf(n,i){let o;return o="noop"===n?new lp:("zone.js"===n?void 0:n)||new d4(i),o}(c?.ngZone,function cf(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),_=[{provide:d4,useValue:h}];return h.run(()=>{const N=n4.create({providers:_,parent:this.injector,name:o.moduleType.name}),I=o.create(N),R=I.injector.get(A3,null);if(!R)throw new Ze(402,!1);return h.runOutsideAngular(()=>{const Z=h.onError.subscribe({next:te=>{R.handleError(te)}});I.onDestroy(()=>{g7(this._modules,I),Z.unsubscribe()})}),function uf(n,i,o){try{const c=o();return pa(c)?c.catch(h=>{throw i.runOutsideAngular(()=>n.handleError(h)),h}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(R,h,()=>{const Z=I.injector.get(h7);return Z.runInitializers(),Z.donePromise.then(()=>(e7(I.injector.get(p7,O6)||O6),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,c=[]){const h=df({},c);return function fp(n,i,o){const c=new Vu(o);return Promise.resolve(c)}(0,0,o).then(_=>this.bootstrapModuleFactory(_,h))}_moduleDoBootstrap(o){const c=o.injector.get(m7);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!o.instance.ngDoBootstrap)throw new Ze(403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(i9,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(B2(n4))},n.\u0275prov=v1({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function df(n,i){return Array.isArray(i)?i.reduce(df,n):{...n,...i}}let m7=(()=>{class n{constructor(o,c,h){this._zone=o,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new Q.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),N=new Q.y(I=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{d4.assertNotInAngularZone(),Xu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{d4.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{R.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,Me.T)(_,N.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const h=o instanceof So;if(!this._injector.get(h7).done)throw!h&&O1(o),new Ze(405,false);let N;N=h?o:this._injector.get(la).resolveComponentFactory(o),this.componentTypes.push(N.componentType);const I=function hp(n){return n.isBoundToModule}(N)?void 0:this._injector.get(Vc),Z=N.create(n4.NULL,[],c||N.selector,I),te=Z.location.nativeElement,pe=Z.injector.get(Qd,null);return pe?.registerApplication(te),Z.onDestroy(()=>{this.detachView(Z.hostView),g7(this.components,Z),pe?.unregisterApplication(te)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new Ze(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;g7(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Wd,[]).concat(this._bootstrapListeners).forEach(h=>h(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>g7(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ze(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(B2(d4),B2(t2),B2(A3))},n.\u0275prov=v1({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function g7(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let hf=!0,pf=!1;function _p(){return pf=!0,hf}function bp(){if(pf)throw new Error("Cannot enable prod mode after platform setup.");hf=!1}let Cp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Mp,n})();function Mp(n){return function wp(n,i,o){if(mi(n)&&!o){const c=tn(n.index,i);return new k3(c,c)}return 47&n.type?new k3(i[16],i):null}(a2(),At(),16==(16&n))}class yf{constructor(){}supports(i){return g0(i)}create(i){return new Ap(i)}}const Tp=(n,i)=>i;class Ap{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Tp}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,c=this._removalsHead,h=0,_=null;for(;o||c;){const N=!c||o&&o.currentIndex<bf(c,h,_)?o:c,I=bf(N,h,_),R=N.currentIndex;if(N===c)h--,c=c._nextRemoved;else if(o=o._next,null==N.previousIndex)h++;else{_||(_=[]);const Z=I-h,te=R-h;if(Z!=te){for(let Fe=0;Fe<Z;Fe++){const ut=Fe<_.length?_[Fe]:_[Fe]=0,Rt=ut+Fe;te<=Rt&&Rt<Z&&(_[Fe]=ut+1)}_[N.previousIndex]=te-Z}}I!==R&&i(N,I,R)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!g0(i))throw new Ze(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let h,_,N,o=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let I=0;I<this.length;I++)_=i[I],N=this._trackByFn(I,_),null!==o&&Object.is(o.trackById,N)?(c&&(o=this._verifyReinsertion(o,_,N,I)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,N,I),c=!0),o=o._next}else h=0,function pl(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[P3()]();let c;for(;!(c=o.next()).done;)i(c.value)}}(i,I=>{N=this._trackByFn(h,I),null!==o&&Object.is(o.trackById,N)?(c&&(o=this._verifyReinsertion(o,I,N,h)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,N,h),c=!0),o=o._next,h++}),this.length=h;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,c,h){let _;return null===i?_=this._itTail:(_=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,_,h)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,_,h)):i=this._addAfter(new Ip(o,c),_,h),i}_verifyReinsertion(i,o,c,h){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==_?i=this._reinsertAfter(_,i._prev,h):i.currentIndex!=h&&(i.currentIndex=h,this._addToMoves(i,h)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const h=i._prevRemoved,_=i._nextRemoved;return null===h?this._removalsHead=_:h._nextRemoved=_,null===_?this._removalsTail=h:_._prevRemoved=h,this._insertAfter(i,o,c),this._addToMoves(i,c),i}_moveAfter(i,o,c){return this._unlink(i),this._insertAfter(i,o,c),this._addToMoves(i,c),i}_addAfter(i,o,c){return this._insertAfter(i,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,c){const h=null===o?this._itHead:o._next;return i._next=h,i._prev=o,null===h?this._itTail=i:h._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new _f),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,c=i._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _f),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Ip{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xp{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const o=i._prevDup,c=i._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class _f{constructor(){this.map=new Map}put(i){const o=i.trackById;let c=this.map.get(o);c||(c=new xp,this.map.set(o,c)),c.add(i)}get(i,o){const h=this.map.get(i);return h?h.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bf(n,i,o){const c=n.previousIndex;if(null===c)return c;let h=0;return o&&c<o.length&&(h=o[c]),c+i+h}class Cf{constructor(){}supports(i){return i instanceof Map||v0(i)}create(){return new zp}}class zp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||v0(i)))throw new Ze(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,h)=>{if(o&&o.key===h)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const _=this._getOrCreateRecordForKey(h,c);o=this._insertBeforeOrAppend(o,_)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const c=i._prev;return o._next=i,o._prev=c,i._prev=o,c&&(c._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const h=this._records.get(i);this._maybeAddToChanges(h,o);const _=h._prev,N=h._next;return _&&(_._next=N),N&&(N._prev=_),h._next=null,h._prev=null,h}const c=new Lp(i);return this._records.set(i,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(c=>o(i[c],c))}}class Lp{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mf(){return new l9([new yf])}let l9=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(null!=c){const h=c.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||Mf()),deps:[[n,new c1,new o1]]}}find(o){const c=this.factories.find(h=>h.supports(o));if(null!=c)return c;throw new Ze(901,!1)}}return n.\u0275prov=v1({token:n,providedIn:"root",factory:Mf}),n})();function wf(){return new u9([new Cf])}let u9=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(c){const h=c.factories.slice();o=o.concat(h)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||wf()),deps:[[n,new c1,new o1]]}}find(o){const c=this.factories.find(h=>h.supports(o));if(c)return c;throw new Ze(901,!1)}}return n.\u0275prov=v1({token:n,providedIn:"root",factory:wf}),n})();const kp=rf(null,"core",[]);let Pp=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(B2(m7))},n.\u0275mod=I1({type:n}),n.\u0275inj=Ft({}),n})();function Vp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Fp(n,i){const o=Be(n),c=i.elementInjector||fi();return new l2(o).create(c,i.projectableNodes,i.hostElement,i.environmentInjector)}},433:(Qt,We,H)=>{H.d(We,{Fj:()=>it,u5:()=>Oi,wO:()=>Bi,qQ:()=>ar,JJ:()=>st,JL:()=>we,F:()=>En,On:()=>wt,wV:()=>G1,Q7:()=>n2,_Y:()=>Zt});var d=H(4650),D=H(6895),Q=H(8996),Me=H(9751),Ee=H(4742),De=H(8421),le=H(3269),Ae=H(5403),ze=H(3268),de=H(1810),Ne=H(4004);let Xe=(()=>{class B{constructor(k,ne){this._renderer=k,this._elementRef=ne,this.onChange=at=>{},this.onTouched=()=>{}}setProperty(k,ne){this._renderer.setProperty(this._elementRef.nativeElement,k,ne)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return B.\u0275fac=function(k){return new(k||B)(d.Y36(d.Qsj),d.Y36(d.SBq))},B.\u0275dir=d.lG2({type:B}),B})(),et=(()=>{class B extends Xe{}return B.\u0275fac=function(){let F;return function(ne){return(F||(F=d.n5z(B)))(ne||B)}}(),B.\u0275dir=d.lG2({type:B,features:[d.qOj]}),B})();const Ze=new d.OlP("NgValueAccessor"),nt={provide:Ze,useExisting:(0,d.Gpc)(()=>it),multi:!0},Kt=new d.OlP("CompositionEventMode");let it=(()=>{class B extends Xe{constructor(k,ne,at){super(k,ne),this._compositionMode=at,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oe(){const B=(0,D.q)()?(0,D.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return B.\u0275fac=function(k){return new(k||B)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Kt,8))},B.\u0275dir=d.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,ne){1&k&&d.NdJ("input",function(m1){return ne._handleInput(m1.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(m1){return ne._compositionEnd(m1.target.value)})},features:[d._Bn([nt]),d.qOj]}),B})();function Ye(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}const mt=new d.OlP("NgValidators"),re=new d.OlP("NgAsyncValidators");function Re(B){return Ye(B.value)?{required:!0}:null}function xt(B){return null}function g1(B){return null!=B}function y1(B){return(0,d.QGY)(B)?(0,Q.D)(B):B}function _1(B){let F={};return B.forEach(k=>{F=null!=k?{...F,...k}:F}),0===Object.keys(F).length?null:F}function v1(B,F){return F.map(k=>k(B))}function Ft(B){return B.map(F=>function qn(B){return!B.validate}(F)?F:k=>F.validate(k))}function gn(B){return null!=B?function nn(B){if(!B)return null;const F=B.filter(g1);return 0==F.length?null:function(k){return _1(v1(k,F))}}(Ft(B)):null}function xn(B){return null!=B?function wn(B){if(!B)return null;const F=B.filter(g1);return 0==F.length?null:function(k){return function fe(...B){const F=(0,le.jO)(B),{args:k,keys:ne}=(0,Ee.D)(B),at=new Me.y(m1=>{const{length:Bn}=k;if(!Bn)return void m1.complete();const lr=new Array(Bn);let Yi=Bn,wr=Bn;for(let ur=0;ur<Bn;ur++){let Rr=!1;(0,De.Xf)(k[ur]).subscribe((0,Ae.x)(m1,Ji=>{Rr||(Rr=!0,wr--),lr[ur]=Ji},()=>Yi--,void 0,()=>{(!Yi||!Rr)&&(wr||m1.next(ne?(0,de.n)(ne,lr):lr),m1.complete())}))}});return F?at.pipe((0,ze.Z)(F)):at}(v1(k,F).map(y1)).pipe((0,Ne.U)(_1))}}(Ft(B)):null}function jn(B,F){return null===B?[F]:Array.isArray(B)?[...B,F]:[B,F]}function V1(B){return B?Array.isArray(B)?B:[B]:[]}function fn(B,F){return Array.isArray(B)?B.includes(F):B===F}function Jn(B,F){const k=V1(F);return V1(B).forEach(at=>{fn(k,at)||k.push(at)}),k}function Vt(B,F){return V1(F).filter(k=>!fn(B,k))}class vn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=gn(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,k){return!!this.control&&this.control.hasError(F,k)}getError(F,k){return this.control?this.control.getError(F,k):null}}class bn extends vn{get formDirective(){return null}get path(){return null}}class cn extends vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class N2{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let st=(()=>{class B extends N2{constructor(k){super(k)}}return B.\u0275fac=function(k){return new(k||B)(d.Y36(cn,2))},B.\u0275dir=d.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,ne){2&k&&d.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},features:[d.qOj]}),B})(),we=(()=>{class B extends N2{constructor(k){super(k)}}return B.\u0275fac=function(k){return new(k||B)(d.Y36(bn,10))},B.\u0275dir=d.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,ne){2&k&&d.ekj("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)("ng-submitted",ne.isSubmitted)},features:[d.qOj]}),B})();const I1="VALID",Se="INVALID",be="PENDING",xe="DISABLED";function gt(B){return(O1(B)?B.validators:B)||null}function Be(B){return Array.isArray(B)?gn(B):B||null}function jt(B,F){return(O1(F)?F.asyncValidators:B)||null}function Yt(B){return Array.isArray(B)?xn(B):B||null}function O1(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}class Ce{constructor(F,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=k,this._composedValidatorFn=Be(this._rawValidators),this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===I1}get invalid(){return this.status===Se}get pending(){return this.status==be}get disabled(){return this.status===xe}get enabled(){return this.status!==xe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=Be(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=Yt(F)}addValidators(F){this.setValidators(Jn(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(Jn(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Vt(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Vt(F,this._rawAsyncValidators))}hasValidator(F){return fn(this._rawValidators,F)}hasAsyncValidator(F){return fn(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=be,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const k=this._parentMarkedDirty(F.onlySelf);this.status=xe,this.errors=null,this._forEachChild(ne=>{ne.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:k}),this._onDisabledChange.forEach(ne=>ne(!0))}enable(F={}){const k=this._parentMarkedDirty(F.onlySelf);this.status=I1,this._forEachChild(ne=>{ne.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:k}),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===I1||this.status===be)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xe:I1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=be,this._hasOwnPendingAsyncValidator=!0;const k=y1(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,k={}){this.errors=F,this._updateControlsErrors(!1!==k.emitEvent)}get(F){let k=F;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((ne,at)=>ne&&ne._find(at),this)}getError(F,k){const ne=k?this.get(k):this;return ne&&ne.errors?ne.errors[F]:null}hasError(F,k){return!!this.getError(F,k)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?xe:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(be)?be:this._anyControlsHaveStatus(Se)?Se:I1}_anyControlsHaveStatus(F){return this._anyControls(k=>k.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){O1(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}}class he extends Ce{constructor(F,k,ne){super(gt(k),jt(ne,k)),this.controls=F,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,k){return this.controls[F]?this.controls[F]:(this.controls[F]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(F,k,ne={}){this.registerControl(F,k),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(F,k={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(F,k,ne={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],k&&this.registerControl(F,k),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,k={}){(function F1(B,F,k){B._forEachChild((ne,at)=>{if(void 0===k[at])throw new d.vHH(1002,"")})})(this,0,F),Object.keys(F).forEach(ne=>{(function en(B,F,k){const ne=B.controls;if(!(F?Object.keys(ne):ne).length)throw new d.vHH(1e3,"");if(!ne[k])throw new d.vHH(1001,"")})(this,!0,ne),this.controls[ne].setValue(F[ne],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(F,k={}){null!=F&&(Object.keys(F).forEach(ne=>{const at=this.controls[ne];at&&at.patchValue(F[ne],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(F={},k={}){this._forEachChild((ne,at)=>{ne.reset(F[at],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(F,k,ne)=>(F[ne]=k.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(k,ne)=>!!ne._syncPendingControls()||k);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(k=>{const ne=this.controls[k];ne&&F(ne,k)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[k,ne]of Object.entries(this.controls))if(this.contains(k)&&F(ne))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,ne,at)=>((ne.enabled||this.disabled)&&(k[at]=ne.value),k))}_reduceChildren(F,k){let ne=F;return this._forEachChild((at,m1)=>{ne=k(ne,at,m1)}),ne}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}function W1(B,F){Mn(B,F),F.valueAccessor.writeValue(B.value),B.disabled&&F.valueAccessor.setDisabledState?.(!0),function hi(B,F){F.valueAccessor.registerOnChange(k=>{B._pendingValue=k,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&s2(B,F)})}(B,F),function Y2(B,F){const k=(ne,at)=>{F.valueAccessor.writeValue(ne),at&&F.viewToModelUpdate(ne)};B.registerOnChange(k),F._registerOnDestroy(()=>{B._unregisterOnChange(k)})}(B,F),function T2(B,F){F.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&s2(B,F),"submit"!==B.updateOn&&B.markAsTouched()})}(B,F),function R1(B,F){if(F.valueAccessor.setDisabledState){const k=ne=>{F.valueAccessor.setDisabledState(ne)};B.registerOnDisabledChange(k),F._registerOnDestroy(()=>{B._unregisterOnDisabledChange(k)})}}(B,F)}function _2(B,F){B.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(F)})}function Mn(B,F){const k=function zn(B){return B._rawValidators}(B);null!==F.validator?B.setValidators(jn(k,F.validator)):"function"==typeof k&&B.setValidators([k]);const ne=function Gn(B){return B._rawAsyncValidators}(B);null!==F.asyncValidator?B.setAsyncValidators(jn(ne,F.asyncValidator)):"function"==typeof ne&&B.setAsyncValidators([ne]);const at=()=>B.updateValueAndValidity();_2(F._rawValidators,at),_2(F._rawAsyncValidators,at)}function s2(B,F){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}const Pn={provide:bn,useExisting:(0,d.Gpc)(()=>En)},xi=(()=>Promise.resolve())();let En=(()=>{class B extends bn{constructor(k,ne){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new he({},gn(k),xn(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(k){xi.then(()=>{const ne=this._findContainer(k.path);k.control=ne.registerControl(k.name,k.control),W1(k.control,k),k.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(k)})}getControl(k){return this.form.get(k.path)}removeControl(k){xi.then(()=>{const ne=this._findContainer(k.path);ne&&ne.removeControl(k.name),this._directives.delete(k)})}addFormGroup(k){xi.then(()=>{const ne=this._findContainer(k.path),at=new he({});(function R2(B,F){Mn(B,F)})(at,k),ne.registerControl(k.name,at),at.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(k){xi.then(()=>{const ne=this._findContainer(k.path);ne&&ne.removeControl(k.name)})}getFormGroup(k){return this.form.get(k.path)}updateModel(k,ne){xi.then(()=>{this.form.get(k.path).setValue(ne)})}setValue(k){this.control.setValue(k)}onSubmit(k){return this.submitted=!0,function J2(B,F){B._syncPendingControls(),F.forEach(k=>{const ne=k.control;"submit"===ne.updateOn&&ne._pendingChange&&(k.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(k){return k.pop(),k.length?this.form.get(k):this.form}}return B.\u0275fac=function(k){return new(k||B)(d.Y36(mt,10),d.Y36(re,10))},B.\u0275dir=d.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,ne){1&k&&d.NdJ("submit",function(m1){return ne.onSubmit(m1)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Pn]),d.qOj]}),B})();function M2(B,F){const k=B.indexOf(F);k>-1&&B.splice(k,1)}function rr(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const mi=class extends Ce{constructor(F=null,k,ne){super(gt(k),jt(ne,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),O1(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=rr(F)?F.value:F)}setValue(F,k={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(F,k={}){this.setValue(F,k)}reset(F=this.defaultValue,k={}){this._applyFormState(F),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){M2(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){M2(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){rr(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}},He={provide:cn,useExisting:(0,d.Gpc)(()=>wt)},qe=(()=>Promise.resolve())();let wt=(()=>{class B extends cn{constructor(k,ne,at,m1,Bn){super(),this._changeDetectorRef=Bn,this.control=new mi,this._registered=!1,this.update=new d.vpe,this._parent=k,this._setValidators(ne),this._setAsyncValidators(at),this.valueAccessor=function ri(B,F){if(!F)return null;let k,ne,at;return Array.isArray(F),F.forEach(m1=>{m1.constructor===it?k=m1:function j2(B){return Object.getPrototypeOf(B.constructor)===et}(m1)?ne=m1:at=m1}),at||ne||k||null}(0,m1)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const ne=k.name.previousValue;this.formDirective.removeControl({name:ne,path:this._getPath(ne)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),function k2(B,F){if(!B.hasOwnProperty("model"))return!1;const k=B.model;return!!k.isFirstChange()||!Object.is(F,k.currentValue)}(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){W1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){qe.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const ne=k.isDisabled.currentValue,at=0!==ne&&(0,d.D6c)(ne);qe.then(()=>{at&&!this.control.disabled?this.control.disable():!at&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?function D1(B,F){return[...F.path,B]}(k,this._parent):[k]}}return B.\u0275fac=function(k){return new(k||B)(d.Y36(bn,9),d.Y36(mt,10),d.Y36(re,10),d.Y36(Ze,10),d.Y36(d.sBO,8))},B.\u0275dir=d.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([He]),d.qOj,d.TTD]}),B})(),Zt=(()=>{class B{}return B.\u0275fac=function(k){return new(k||B)},B.\u0275dir=d.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})();const E1={provide:Ze,useExisting:(0,d.Gpc)(()=>G1),multi:!0};let G1=(()=>{class B extends et{writeValue(k){this.setProperty("value",k??"")}registerOnChange(k){this.onChange=ne=>{k(""==ne?null:parseFloat(ne))}}}return B.\u0275fac=function(){let F;return function(ne){return(F||(F=d.n5z(B)))(ne||B)}}(),B.\u0275dir=d.lG2({type:B,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(k,ne){1&k&&d.NdJ("input",function(m1){return ne.onChange(m1.target.value)})("blur",function(){return ne.onTouched()})},features:[d._Bn([E1]),d.qOj]}),B})(),Di=(()=>{class B{}return B.\u0275fac=function(k){return new(k||B)},B.\u0275mod=d.oAB({type:B}),B.\u0275inj=d.cJS({}),B})();let X2=(()=>{class B{constructor(){this._validator=xt}ngOnChanges(k){if(this.inputName in k){const ne=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(ne),this._validator=this._enabled?this.createValidator(ne):xt,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return B.\u0275fac=function(k){return new(k||B)},B.\u0275dir=d.lG2({type:B,features:[d.TTD]}),B})();const tn={provide:mt,useExisting:(0,d.Gpc)(()=>ar),multi:!0};let ar=(()=>{class B extends X2{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=k=>function v2(B){return"number"==typeof B?B:parseFloat(B)}(k),this.createValidator=k=>function Te(B){return F=>{if(Ye(F.value)||Ye(B))return null;const k=parseFloat(F.value);return!isNaN(k)&&k<B?{min:{min:B,actual:F.value}}:null}}(k)}}return B.\u0275fac=function(){let F;return function(ne){return(F||(F=d.n5z(B)))(ne||B)}}(),B.\u0275dir=d.lG2({type:B,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(k,ne){2&k&&d.uIk("min",ne._enabled?ne.min:null)},inputs:{min:"min"},features:[d._Bn([tn]),d.qOj]}),B})();const Zi={provide:mt,useExisting:(0,d.Gpc)(()=>n2),multi:!0};let n2=(()=>{class B extends X2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=k=>Re}enabled(k){return k}}return B.\u0275fac=function(){let F;return function(ne){return(F||(F=d.n5z(B)))(ne||B)}}(),B.\u0275dir=d.lG2({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,ne){2&k&&d.uIk("required",ne._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([Zi]),d.qOj]}),B})();const li={provide:mt,useExisting:(0,d.Gpc)(()=>Bi),multi:!0};let Bi=(()=>{class B extends X2{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=k=>function D2(B){return"number"==typeof B?B:parseInt(B,10)}(k),this.createValidator=k=>function f1(B){return F=>Ye(F.value)||!function It(B){return null!=B&&"number"==typeof B.length}(F.value)?null:F.value.length<B?{minlength:{requiredLength:B,actualLength:F.value.length}}:null}(k)}}return B.\u0275fac=function(){let F;return function(ne){return(F||(F=d.n5z(B)))(ne||B)}}(),B.\u0275dir=d.lG2({type:B,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(k,ne){2&k&&d.uIk("minlength",ne._enabled?ne.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([li]),d.qOj]}),B})(),rn=(()=>{class B{}return B.\u0275fac=function(k){return new(k||B)},B.\u0275mod=d.oAB({type:B}),B.\u0275inj=d.cJS({imports:[Di]}),B})(),Oi=(()=>{class B{}return B.\u0275fac=function(k){return new(k||B)},B.\u0275mod=d.oAB({type:B}),B.\u0275inj=d.cJS({imports:[rn]}),B})()},1481:(Qt,We,H)=>{H.d(We,{Dx:()=>st,H7:()=>Yt,b2:()=>bn,q6:()=>fn,se:()=>Re});var d=H(6895),D=H(4650);class Q extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Me extends Q{static makeCurrent(){(0,d.HT)(new Me)}onAndCancel(he,ae,Ue){return he.addEventListener(ae,Ue,!1),()=>{he.removeEventListener(ae,Ue,!1)}}dispatchEvent(he,ae){he.dispatchEvent(ae)}remove(he){he.parentNode&&he.parentNode.removeChild(he)}createElement(he,ae){return(ae=ae||this.getDefaultDocument()).createElement(he)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(he){return he.nodeType===Node.ELEMENT_NODE}isShadowRoot(he){return he instanceof DocumentFragment}getGlobalEventTarget(he,ae){return"window"===ae?window:"document"===ae?he:"body"===ae?he.body:null}getBaseHref(he){const ae=function De(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==ae?null:function Ae(Ce){le=le||document.createElement("a"),le.setAttribute("href",Ce);const he=le.pathname;return"/"===he.charAt(0)?he:`/${he}`}(ae)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(he){return(0,d.Mx)(document.cookie,he)}}let le,Ee=null;const ze=new D.OlP("TRANSITION_ID"),fe=[{provide:D.ip1,useFactory:function de(Ce,he,ae){return()=>{ae.get(D.CZH).donePromise.then(()=>{const Ue=(0,d.q)(),pt=he.querySelectorAll(`style[ng-transition="${Ce}"]`);for(let $t=0;$t<pt.length;$t++)Ue.remove(pt[$t])})}},deps:[ze,d.K0,D.zs3],multi:!0}];let Xe=(()=>{class Ce{build(){return new XMLHttpRequest}}return Ce.\u0275fac=function(ae){return new(ae||Ce)},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const et=new D.OlP("EventManagerPlugins");let Ze=(()=>{class Ce{constructor(ae,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,ae.forEach(pt=>pt.manager=this),this._plugins=ae.slice().reverse()}addEventListener(ae,Ue,pt){return this._findPluginFor(Ue).addEventListener(ae,Ue,pt)}addGlobalEventListener(ae,Ue,pt){return this._findPluginFor(Ue).addGlobalEventListener(ae,Ue,pt)}getZone(){return this._zone}_findPluginFor(ae){const Ue=this._eventNameToPlugin.get(ae);if(Ue)return Ue;const pt=this._plugins;for(let $t=0;$t<pt.length;$t++){const D1=pt[$t];if(D1.supports(ae))return this._eventNameToPlugin.set(ae,D1),D1}throw new Error(`No event manager plugin found for event ${ae}`)}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(et),D.LFG(D.R0b))},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class Pt{constructor(he){this._doc=he}addGlobalEventListener(he,ae,Ue){const pt=(0,d.q)().getGlobalEventTarget(this._doc,he);if(!pt)throw new Error(`Unsupported event target ${pt} for event ${ae}`);return this.addEventListener(pt,ae,Ue)}}let rt=(()=>{class Ce{constructor(){this._stylesSet=new Set}addStyles(ae){const Ue=new Set;ae.forEach(pt=>{this._stylesSet.has(pt)||(this._stylesSet.add(pt),Ue.add(pt))}),this.onStylesAdded(Ue)}onStylesAdded(ae){}getAllStyles(){return Array.from(this._stylesSet)}}return Ce.\u0275fac=function(ae){return new(ae||Ce)},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})(),nt=(()=>{class Ce extends rt{constructor(ae){super(),this._doc=ae,this._hostNodes=new Map,this._hostNodes.set(ae.head,[])}_addStylesToHost(ae,Ue,pt){ae.forEach($t=>{const D1=this._doc.createElement("style");D1.textContent=$t,pt.push(Ue.appendChild(D1))})}addHost(ae){const Ue=[];this._addStylesToHost(this._stylesSet,ae,Ue),this._hostNodes.set(ae,Ue)}removeHost(ae){const Ue=this._hostNodes.get(ae);Ue&&Ue.forEach(Oe),this._hostNodes.delete(ae)}onStylesAdded(ae){this._hostNodes.forEach((Ue,pt)=>{this._addStylesToHost(ae,pt,Ue)})}ngOnDestroy(){this._hostNodes.forEach(ae=>ae.forEach(Oe))}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(d.K0))},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();function Oe(Ce){(0,d.q)().remove(Ce)}const Kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g;function _e(Ce,he,ae){for(let Ue=0;Ue<he.length;Ue++){let pt=he[Ue];Array.isArray(pt)?_e(Ce,pt,ae):(pt=pt.replace(it,Ce),ae.push(pt))}return ae}function Te(Ce){return he=>{if("__ngUnwrap__"===he)return Ce;!1===Ce(he)&&(he.preventDefault(),he.returnValue=!1)}}let Re=(()=>{class Ce{constructor(ae,Ue,pt){this.eventManager=ae,this.sharedStylesHost=Ue,this.appId=pt,this.rendererByCompId=new Map,this.defaultRenderer=new St(ae)}createRenderer(ae,Ue){if(!ae||!Ue)return this.defaultRenderer;switch(Ue.encapsulation){case D.ifc.Emulated:{let pt=this.rendererByCompId.get(Ue.id);return pt||(pt=new S1(this.eventManager,this.sharedStylesHost,Ue,this.appId),this.rendererByCompId.set(Ue.id,pt)),pt.applyToHost(ae),pt}case 1:case D.ifc.ShadowDom:return new xt(this.eventManager,this.sharedStylesHost,ae,Ue);default:if(!this.rendererByCompId.has(Ue.id)){const pt=_e(Ue.id,Ue.styles,[]);this.sharedStylesHost.addStyles(pt),this.rendererByCompId.set(Ue.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(Ze),D.LFG(nt),D.LFG(D.AFp))},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();class St{constructor(he){this.eventManager=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(he,ae){return ae?document.createElementNS(Kt[ae]||ae,he):document.createElement(he)}createComment(he){return document.createComment(he)}createText(he){return document.createTextNode(he)}appendChild(he,ae){(L1(he)?he.content:he).appendChild(ae)}insertBefore(he,ae,Ue){he&&(L1(he)?he.content:he).insertBefore(ae,Ue)}removeChild(he,ae){he&&he.removeChild(ae)}selectRootElement(he,ae){let Ue="string"==typeof he?document.querySelector(he):he;if(!Ue)throw new Error(`The selector "${he}" did not match any elements`);return ae||(Ue.textContent=""),Ue}parentNode(he){return he.parentNode}nextSibling(he){return he.nextSibling}setAttribute(he,ae,Ue,pt){if(pt){ae=pt+":"+ae;const $t=Kt[pt];$t?he.setAttributeNS($t,ae,Ue):he.setAttribute(ae,Ue)}else he.setAttribute(ae,Ue)}removeAttribute(he,ae,Ue){if(Ue){const pt=Kt[Ue];pt?he.removeAttributeNS(pt,ae):he.removeAttribute(`${Ue}:${ae}`)}else he.removeAttribute(ae)}addClass(he,ae){he.classList.add(ae)}removeClass(he,ae){he.classList.remove(ae)}setStyle(he,ae,Ue,pt){pt&(D.JOm.DashCase|D.JOm.Important)?he.style.setProperty(ae,Ue,pt&D.JOm.Important?"important":""):he.style[ae]=Ue}removeStyle(he,ae,Ue){Ue&D.JOm.DashCase?he.style.removeProperty(ae):he.style[ae]=""}setProperty(he,ae,Ue){he[ae]=Ue}setValue(he,ae){he.nodeValue=ae}listen(he,ae,Ue){return"string"==typeof he?this.eventManager.addGlobalEventListener(he,ae,Te(Ue)):this.eventManager.addEventListener(he,ae,Te(Ue))}}function L1(Ce){return"TEMPLATE"===Ce.tagName&&void 0!==Ce.content}class S1 extends St{constructor(he,ae,Ue,pt){super(he),this.component=Ue;const $t=_e(pt+"-"+Ue.id,Ue.styles,[]);ae.addStyles($t),this.contentAttr=function re(Ce){return"_ngcontent-%COMP%".replace(it,Ce)}(pt+"-"+Ue.id),this.hostAttr=function Ke(Ce){return"_nghost-%COMP%".replace(it,Ce)}(pt+"-"+Ue.id)}applyToHost(he){super.setAttribute(he,this.hostAttr,"")}createElement(he,ae){const Ue=super.createElement(he,ae);return super.setAttribute(Ue,this.contentAttr,""),Ue}}class xt extends St{constructor(he,ae,Ue,pt){super(he),this.sharedStylesHost=ae,this.hostEl=Ue,this.shadowRoot=Ue.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $t=_e(pt.id,pt.styles,[]);for(let D1=0;D1<$t.length;D1++){const W1=document.createElement("style");W1.textContent=$t[D1],this.shadowRoot.appendChild(W1)}}nodeOrShadowRoot(he){return he===this.hostEl?this.shadowRoot:he}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(he,ae){return super.appendChild(this.nodeOrShadowRoot(he),ae)}insertBefore(he,ae,Ue){return super.insertBefore(this.nodeOrShadowRoot(he),ae,Ue)}removeChild(he,ae){return super.removeChild(this.nodeOrShadowRoot(he),ae)}parentNode(he){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(he)))}}let g1=(()=>{class Ce extends Pt{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,Ue,pt){return ae.addEventListener(Ue,pt,!1),()=>this.removeEventListener(ae,Ue,pt)}removeEventListener(ae,Ue,pt){return ae.removeEventListener(Ue,pt)}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(d.K0))},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const y1=["alt","control","meta","shift"],_1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v1={alt:Ce=>Ce.altKey,control:Ce=>Ce.ctrlKey,meta:Ce=>Ce.metaKey,shift:Ce=>Ce.shiftKey};let qn=(()=>{class Ce extends Pt{constructor(ae){super(ae)}supports(ae){return null!=Ce.parseEventName(ae)}addEventListener(ae,Ue,pt){const $t=Ce.parseEventName(Ue),D1=Ce.eventCallback($t.fullKey,pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(ae,$t.domEventName,D1))}static parseEventName(ae){const Ue=ae.toLowerCase().split("."),pt=Ue.shift();if(0===Ue.length||"keydown"!==pt&&"keyup"!==pt)return null;const $t=Ce._normalizeKey(Ue.pop());let D1="",W1=Ue.indexOf("code");if(W1>-1&&(Ue.splice(W1,1),D1="code."),y1.forEach(_2=>{const R1=Ue.indexOf(_2);R1>-1&&(Ue.splice(R1,1),D1+=_2+".")}),D1+=$t,0!=Ue.length||0===$t.length)return null;const Dn={};return Dn.domEventName=pt,Dn.fullKey=D1,Dn}static matchEventFullKeyCode(ae,Ue){let pt=_1[ae.key]||ae.key,$t="";return Ue.indexOf("code.")>-1&&(pt=ae.code,$t="code."),!(null==pt||!pt)&&(pt=pt.toLowerCase()," "===pt?pt="space":"."===pt&&(pt="dot"),y1.forEach(D1=>{D1!==pt&&(0,v1[D1])(ae)&&($t+=D1+".")}),$t+=pt,$t===Ue)}static eventCallback(ae,Ue,pt){return $t=>{Ce.matchEventFullKeyCode($t,ae)&&pt.runGuarded(()=>Ue($t))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(d.K0))},Ce.\u0275prov=D.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const fn=(0,D.eFA)(D._c5,"browser",[{provide:D.Lbi,useValue:d.bD},{provide:D.g9A,useValue:function jn(){Me.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function Gn(){return(0,D.RDi)(document),document},deps:[]}]),Jn=new D.OlP(""),Vt=[{provide:D.rWj,useClass:class Ne{addToWindow(he){D.dqk.getAngularTestability=(Ue,pt=!0)=>{const $t=he.findTestabilityInTree(Ue,pt);if(null==$t)throw new Error("Could not find testability for element.");return $t},D.dqk.getAllAngularTestabilities=()=>he.getAllTestabilities(),D.dqk.getAllAngularRootElements=()=>he.getAllRootElements(),D.dqk.frameworkStabilizers||(D.dqk.frameworkStabilizers=[]),D.dqk.frameworkStabilizers.push(Ue=>{const pt=D.dqk.getAllAngularTestabilities();let $t=pt.length,D1=!1;const W1=function(Dn){D1=D1||Dn,$t--,0==$t&&Ue(D1)};pt.forEach(function(Dn){Dn.whenStable(W1)})})}findTestabilityInTree(he,ae,Ue){return null==ae?null:he.getTestability(ae)??(Ue?(0,d.q)().isShadowRoot(ae)?this.findTestabilityInTree(he,ae.host,!0):this.findTestabilityInTree(he,ae.parentElement,!0):null)}},deps:[]},{provide:D.lri,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]},{provide:D.dDg,useClass:D.dDg,deps:[D.R0b,D.eoX,D.rWj]}],vn=[{provide:D.zSh,useValue:"root"},{provide:D.qLn,useFactory:function zn(){return new D.qLn},deps:[]},{provide:et,useClass:g1,multi:!0,deps:[d.K0,D.R0b,D.Lbi]},{provide:et,useClass:qn,multi:!0,deps:[d.K0]},{provide:Re,useClass:Re,deps:[Ze,nt,D.AFp]},{provide:D.FYo,useExisting:Re},{provide:rt,useExisting:nt},{provide:nt,useClass:nt,deps:[d.K0]},{provide:Ze,useClass:Ze,deps:[et,D.R0b]},{provide:d.JF,useClass:Xe,deps:[]},[]];let bn=(()=>{class Ce{constructor(ae){}static withServerTransition(ae){return{ngModule:Ce,providers:[{provide:D.AFp,useValue:ae.appId},{provide:ze,useExisting:D.AFp},fe]}}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(Jn,12))},Ce.\u0275mod=D.oAB({type:Ce}),Ce.\u0275inj=D.cJS({providers:[...vn,...Vt],imports:[d.ez,D.hGG]}),Ce})(),st=(()=>{class Ce{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(d.K0))},Ce.\u0275prov=D.Yz7({token:Ce,factory:function(ae){let Ue=null;return Ue=ae?new ae:function n1(){return new st((0,D.LFG)(d.K0))}(),Ue},providedIn:"root"}),Ce})();typeof window<"u"&&window;let Yt=(()=>{class Ce{}return Ce.\u0275fac=function(ae){return new(ae||Ce)},Ce.\u0275prov=D.Yz7({token:Ce,factory:function(ae){let Ue=null;return Ue=ae?new(ae||Ce):D.LFG(en),Ue},providedIn:"root"}),Ce})(),en=(()=>{class Ce extends Yt{constructor(ae){super(),this._doc=ae}sanitize(ae,Ue){if(null==Ue)return null;switch(ae){case D.q3G.NONE:return Ue;case D.q3G.HTML:return(0,D.qzn)(Ue,"HTML")?(0,D.z3N)(Ue):(0,D.EiD)(this._doc,String(Ue)).toString();case D.q3G.STYLE:return(0,D.qzn)(Ue,"Style")?(0,D.z3N)(Ue):Ue;case D.q3G.SCRIPT:if((0,D.qzn)(Ue,"Script"))return(0,D.z3N)(Ue);throw new Error("unsafe value used in a script context");case D.q3G.URL:return(0,D.qzn)(Ue,"URL")?(0,D.z3N)(Ue):(0,D.mCW)(String(Ue));case D.q3G.RESOURCE_URL:if((0,D.qzn)(Ue,"ResourceURL"))return(0,D.z3N)(Ue);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ae} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ae){return(0,D.JVY)(ae)}bypassSecurityTrustStyle(ae){return(0,D.L6k)(ae)}bypassSecurityTrustScript(ae){return(0,D.eBb)(ae)}bypassSecurityTrustUrl(ae){return(0,D.LAX)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,D.pB0)(ae)}}return Ce.\u0275fac=function(ae){return new(ae||Ce)(D.LFG(d.K0))},Ce.\u0275prov=D.Yz7({token:Ce,factory:function(ae){let Ue=null;return Ue=ae?new ae:function O1(Ce){return new en(Ce.get(d.K0))}(D.LFG(D.zs3)),Ue},providedIn:"root"}),Ce})()},2431:(Qt,We,H)=>{H.d(We,{gz:()=>I2,F0:()=>F2,rH:()=>Kr,Od:()=>er,yS:()=>Y1,Bz:()=>vs,lC:()=>$r});var d=H(4650),D=H(8996),Q=H(9646),Me=H(1135),Ee=H(6805),De=H(9841),le=H(7272),Ae=H(9770),ze=H(9635),de=H(9751),fe=H(576);function Ne(p,l){const a=(0,fe.m)(p)?p:()=>p,g=M=>M.error(a());return new de.y(l?M=>l.schedule(g,0,M):g)}var Xe=H(515),et=H(727),Ze=H(4482),Pt=H(5403);function rt(){return(0,Ze.e)((p,l)=>{let a=null;p._refCount++;const g=(0,Pt.x)(l,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(a=null);const M=p._connection,A=a;a=null,M&&(!A||M===A)&&M.unsubscribe(),l.unsubscribe()});p.subscribe(g),g.closed||(a=p.connect())})}class nt extends de.y{constructor(l,a){super(),this.source=l,this.subjectFactory=a,this._subject=null,this._refCount=0,this._connection=null,(0,Ze.A)(l)&&(this.lift=l.lift)}_subscribe(l){return this.getSubject().subscribe(l)}getSubject(){const l=this._subject;return(!l||l.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:l}=this;this._subject=this._connection=null,l?.unsubscribe()}connect(){let l=this._connection;if(!l){l=this._connection=new et.w0;const a=this.getSubject();l.add(this.source.subscribe((0,Pt.x)(a,void 0,()=>{this._teardown(),a.complete()},g=>{this._teardown(),a.error(g)},()=>this._teardown()))),l.closed&&(this._connection=null,l=et.w0.EMPTY)}return l}refCount(){return rt()(this)}}var Oe=H(7579),Kt=H(6895),it=H(4004),ct=H(3900),Ye=H(5698),It=H(8675),mt=H(9300),re=H(5577),Ke=H(590),_e=H(4351),Te=H(8505),Qe=H(8421);function Re(p){return(0,Ze.e)((l,a)=>{let A,g=null,M=!1;g=l.subscribe((0,Pt.x)(a,void 0,void 0,j=>{A=(0,Qe.Xf)(p(j,Re(p)(l))),g?(g.unsubscribe(),g=null,A.subscribe(a)):M=!0})),M&&(g.unsubscribe(),g=null,A.subscribe(a))})}var St=H(5026);function Tt(p){return p<=0?()=>Xe.E:(0,Ze.e)((l,a)=>{let g=[];l.subscribe((0,Pt.x)(a,M=>{g.push(M),p<g.length&&g.shift()},()=>{for(const M of g)a.next(M);a.complete()},void 0,()=>{g=null}))})}var f1=H(8068),L1=H(6590),S1=H(4671);function xt(p,l){const a=arguments.length>=2;return g=>g.pipe(p?(0,mt.h)((M,A)=>p(M,A,g)):S1.y,Tt(1),a?(0,L1.d)(l):(0,f1.T)(()=>new Ee.K))}var y1=H(9718);function _1(p){return(0,Ze.e)((l,a)=>{try{l.subscribe(a)}finally{a.add(p)}})}var v1=H(8189),qn=H(1481);const Ft="primary",nn=Symbol("RouteTitle");class gn{constructor(l){this.params=l||{}}has(l){return Object.prototype.hasOwnProperty.call(this.params,l)}get(l){if(this.has(l)){const a=this.params[l];return Array.isArray(a)?a[0]:a}return null}getAll(l){if(this.has(l)){const a=this.params[l];return Array.isArray(a)?a:[a]}return[]}get keys(){return Object.keys(this.params)}}function wn(p){return new gn(p)}function xn(p,l,a){const g=a.path.split("/");if(g.length>p.length||"full"===a.pathMatch&&(l.hasChildren()||g.length<p.length))return null;const M={};for(let A=0;A<g.length;A++){const j=g[A],K=p[A];if(j.startsWith(":"))M[j.substring(1)]=K;else if(j!==K.path)return null}return{consumed:p.slice(0,g.length),posParams:M}}function zn(p,l){const a=p?Object.keys(p):void 0,g=l?Object.keys(l):void 0;if(!a||!g||a.length!=g.length)return!1;let M;for(let A=0;A<a.length;A++)if(M=a[A],!Gn(p[M],l[M]))return!1;return!0}function Gn(p,l){if(Array.isArray(p)&&Array.isArray(l)){if(p.length!==l.length)return!1;const a=[...p].sort(),g=[...l].sort();return a.every((M,A)=>g[A]===M)}return p===l}function V1(p){return Array.prototype.concat.apply([],p)}function fn(p){return p.length>0?p[p.length-1]:null}function Vt(p,l){for(const a in p)p.hasOwnProperty(a)&&l(p[a],a)}function vn(p){return(0,d.CqO)(p)?p:(0,d.QGY)(p)?(0,D.D)(Promise.resolve(p)):(0,Q.of)(p)}const N2={exact:function we(p,l,a){if(!$1(p.segments,l.segments)||!s1(p.segments,l.segments,a)||p.numberOfChildren!==l.numberOfChildren)return!1;for(const g in l.children)if(!p.children[g]||!we(p.children[g],l.children[g],a))return!1;return!0},subset:ot},O2={exact:function st(p,l){return zn(p,l)},subset:function ge(p,l){return Object.keys(l).length<=Object.keys(p).length&&Object.keys(l).every(a=>Gn(p[a],l[a]))},ignored:()=>!0};function n1(p,l,a){return N2[a.paths](p.root,l.root,a.matrixParams)&&O2[a.queryParams](p.queryParams,l.queryParams)&&!("exact"===a.fragment&&p.fragment!==l.fragment)}function ot(p,l,a){return vt(p,l,l.segments,a)}function vt(p,l,a,g){if(p.segments.length>a.length){const M=p.segments.slice(0,a.length);return!(!$1(M,a)||l.hasChildren()||!s1(M,a,g))}if(p.segments.length===a.length){if(!$1(p.segments,a)||!s1(p.segments,a,g))return!1;for(const M in l.children)if(!p.children[M]||!ot(p.children[M],l.children[M],g))return!1;return!0}{const M=a.slice(0,p.segments.length),A=a.slice(p.segments.length);return!!($1(p.segments,M)&&s1(p.segments,M,g)&&p.children[Ft])&&vt(p.children[Ft],l,A,g)}}function s1(p,l,a){return l.every((g,M)=>O2[a](p[M].parameters,g.parameters))}class h1{constructor(l,a,g){this.root=l,this.queryParams=a,this.fragment=g}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return Z1.serialize(this)}}class a1{constructor(l,a){this.segments=l,this.children=a,this.parent=null,Vt(a,(g,M)=>g.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return r1(this)}}class Bt{constructor(l,a){this.path=l,this.parameters=a}get parameterMap(){return this._parameterMap||(this._parameterMap=wn(this.parameters)),this._parameterMap}toString(){return xe(this)}}function $1(p,l){return p.length===l.length&&p.every((a,g)=>a.path===l[g].path)}let q1=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275prov=d.Yz7({token:p,factory:function(){return new U1},providedIn:"root"}),p})();class U1{parse(l){const a=new he(l);return new h1(a.parseRootSegment(),a.parseQueryParams(),a.parseFragment())}serialize(l){const a=`/${Mt(l.root,!0)}`,g=function Be(p){const l=Object.keys(p).map(a=>{const g=p[a];return Array.isArray(g)?g.map(M=>`${w1(a)}=${w1(M)}`).join("&"):`${w1(a)}=${w1(g)}`}).filter(a=>!!a);return l.length?`?${l.join("&")}`:""}(l.queryParams);return`${a}${g}${"string"==typeof l.fragment?`#${function T1(p){return encodeURI(p)}(l.fragment)}`:""}`}}const Z1=new U1;function r1(p){return p.segments.map(l=>xe(l)).join("/")}function Mt(p,l){if(!p.hasChildren())return r1(p);if(l){const a=p.children[Ft]?Mt(p.children[Ft],!1):"",g=[];return Vt(p.children,(M,A)=>{A!==Ft&&g.push(`${A}:${Mt(M,!1)}`)}),g.length>0?`${a}(${g.join("//")})`:a}{const a=function Kn(p,l){let a=[];return Vt(p.children,(g,M)=>{M===Ft&&(a=a.concat(l(g,M)))}),Vt(p.children,(g,M)=>{M!==Ft&&(a=a.concat(l(g,M)))}),a}(p,(g,M)=>M===Ft?[Mt(p.children[Ft],!1)]:[`${M}:${Mt(g,!1)}`]);return 1===Object.keys(p.children).length&&null!=p.children[Ft]?`${r1(p)}/${a[0]}`:`${r1(p)}/(${a.join("//")})`}}function Wt(p){return encodeURIComponent(p).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function w1(p){return Wt(p).replace(/%3B/gi,";")}function I1(p){return Wt(p).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(p){return decodeURIComponent(p)}function be(p){return Se(p.replace(/\+/g,"%20"))}function xe(p){return`${I1(p.path)}${function gt(p){return Object.keys(p).map(l=>`;${I1(l)}=${I1(p[l])}`).join("")}(p.parameters)}`}const jt=/^[^\/()?;=#]+/;function Yt(p){const l=p.match(jt);return l?l[0]:""}const O1=/^[^=?&#]+/,F1=/^[^&#]+/;class he{constructor(l){this.url=l,this.remaining=l}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new a1([],{}):new a1([],this.parseChildren())}parseQueryParams(){const l={};if(this.consumeOptional("?"))do{this.parseQueryParam(l)}while(this.consumeOptional("&"));return l}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const l=[];for(this.peekStartsWith("(")||l.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),l.push(this.parseSegment());let a={};this.peekStartsWith("/(")&&(this.capture("/"),a=this.parseParens(!0));let g={};return this.peekStartsWith("(")&&(g=this.parseParens(!1)),(l.length>0||Object.keys(a).length>0)&&(g[Ft]=new a1(l,a)),g}parseSegment(){const l=Yt(this.remaining);if(""===l&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(l),new Bt(Se(l),this.parseMatrixParams())}parseMatrixParams(){const l={};for(;this.consumeOptional(";");)this.parseParam(l);return l}parseParam(l){const a=Yt(this.remaining);if(!a)return;this.capture(a);let g="";if(this.consumeOptional("=")){const M=Yt(this.remaining);M&&(g=M,this.capture(g))}l[Se(a)]=Se(g)}parseQueryParam(l){const a=function en(p){const l=p.match(O1);return l?l[0]:""}(this.remaining);if(!a)return;this.capture(a);let g="";if(this.consumeOptional("=")){const j=function Ce(p){const l=p.match(F1);return l?l[0]:""}(this.remaining);j&&(g=j,this.capture(g))}const M=be(a),A=be(g);if(l.hasOwnProperty(M)){let j=l[M];Array.isArray(j)||(j=[j],l[M]=j),j.push(A)}else l[M]=A}parseParens(l){const a={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const g=Yt(this.remaining),M=this.remaining[g.length];if("/"!==M&&")"!==M&&";"!==M)throw new d.vHH(4010,!1);let A;g.indexOf(":")>-1?(A=g.slice(0,g.indexOf(":")),this.capture(A),this.capture(":")):l&&(A=Ft);const j=this.parseChildren();a[A]=1===Object.keys(j).length?j[Ft]:new a1([],j),this.consumeOptional("//")}return a}peekStartsWith(l){return this.remaining.startsWith(l)}consumeOptional(l){return!!this.peekStartsWith(l)&&(this.remaining=this.remaining.substring(l.length),!0)}capture(l){if(!this.consumeOptional(l))throw new d.vHH(4011,!1)}}function ae(p){return p.segments.length>0?new a1([],{[Ft]:p}):p}function Ue(p){const l={};for(const g of Object.keys(p.children)){const A=Ue(p.children[g]);(A.segments.length>0||A.hasChildren())&&(l[g]=A)}return function pt(p){if(1===p.numberOfChildren&&p.children[Ft]){const l=p.children[Ft];return new a1(p.segments.concat(l.segments),l.children)}return p}(new a1(p.segments,l))}function $t(p){return p instanceof h1}function R1(p,l,a,g,M){if(0===a.length)return hi(l.root,l.root,l.root,g,M);const A=function Y2(p){if("string"==typeof p[0]&&1===p.length&&"/"===p[0])return new s2(!0,0,p);let l=0,a=!1;const g=p.reduce((M,A,j)=>{if("object"==typeof A&&null!=A){if(A.outlets){const K={};return Vt(A.outlets,(ue,Le)=>{K[Le]="string"==typeof ue?ue.split("/"):ue}),[...M,{outlets:K}]}if(A.segmentPath)return[...M,A.segmentPath]}return"string"!=typeof A?[...M,A]:0===j?(A.split("/").forEach((K,ue)=>{0==ue&&"."===K||(0==ue&&""===K?a=!0:".."===K?l++:""!=K&&M.push(K))}),M):[...M,A]},[]);return new s2(a,l,g)}(a);return A.toRoot()?hi(l.root,l.root,new a1([],{}),g,M):function j(ue){const Le=function g2(p,l,a,g){if(p.isAbsolute)return new R2(l.root,!0,0);if(-1===g)return new R2(a,a===l.root,0);return function pi(p,l,a){let g=p,M=l,A=a;for(;A>M;){if(A-=M,g=g.parent,!g)throw new d.vHH(4005,!1);M=g.segments.length}return new R2(g,!1,M-A)}(a,g+(Mn(p.commands[0])?0:1),p.numberOfDoubleDots)}(A,l,p.snapshot?._urlSegment,ue),Ot=Le.processChildren?k2(Le.segmentGroup,Le.index,A.commands):xr(Le.segmentGroup,Le.index,A.commands);return hi(l.root,Le.segmentGroup,Ot,g,M)}(p.snapshot?._lastPathIndex)}function Mn(p){return"object"==typeof p&&null!=p&&!p.outlets&&!p.segmentPath}function u2(p){return"object"==typeof p&&null!=p&&p.outlets}function hi(p,l,a,g,M){let j,A={};g&&Vt(g,(ue,Le)=>{A[Le]=Array.isArray(ue)?ue.map(Ot=>`${Ot}`):`${ue}`}),j=p===l?a:T2(p,l,a);const K=ae(Ue(j));return new h1(K,A,M)}function T2(p,l,a){const g={};return Vt(p.children,(M,A)=>{g[A]=M===l?a:T2(M,l,a)}),new a1(p.segments,g)}class s2{constructor(l,a,g){if(this.isAbsolute=l,this.numberOfDoubleDots=a,this.commands=g,l&&g.length>0&&Mn(g[0]))throw new d.vHH(4003,!1);const M=g.find(u2);if(M&&M!==fn(g))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class R2{constructor(l,a,g){this.segmentGroup=l,this.processChildren=a,this.index=g}}function xr(p,l,a){if(p||(p=new a1([],{})),0===p.segments.length&&p.hasChildren())return k2(p,l,a);const g=function j2(p,l,a){let g=0,M=l;const A={match:!1,pathIndex:0,commandIndex:0};for(;M<p.segments.length;){if(g>=a.length)return A;const j=p.segments[M],K=a[g];if(u2(K))break;const ue=`${K}`,Le=g<a.length-1?a[g+1]:null;if(M>0&&void 0===ue)break;if(ue&&Le&&"object"==typeof Le&&void 0===Le.outlets){if(!P2(ue,Le,j))return A;g+=2}else{if(!P2(ue,{},j))return A;g++}M++}return{match:!0,pathIndex:M,commandIndex:g}}(p,l,a),M=a.slice(g.commandIndex);if(g.match&&g.pathIndex<p.segments.length){const A=new a1(p.segments.slice(0,g.pathIndex),{});return A.children[Ft]=new a1(p.segments.slice(g.pathIndex),p.children),k2(A,0,M)}return g.match&&0===M.length?new a1(p.segments,{}):g.match&&!p.hasChildren()?J2(p,l,a):g.match?k2(p,0,M):J2(p,l,a)}function k2(p,l,a){if(0===a.length)return new a1(p.segments,{});{const g=function Tn(p){return u2(p[0])?p[0].outlets:{[Ft]:p}}(a),M={};return Vt(g,(A,j)=>{"string"==typeof A&&(A=[A]),null!==A&&(M[j]=xr(p.children[j],l,A))}),Vt(p.children,(A,j)=>{void 0===g[j]&&(M[j]=A)}),new a1(p.segments,M)}}function J2(p,l,a){const g=p.segments.slice(0,l);let M=0;for(;M<a.length;){const A=a[M];if(u2(A)){const ue=ri(A.outlets);return new a1(g,ue)}if(0===M&&Mn(a[0])){g.push(new Bt(p.segments[l].path,si(a[0]))),M++;continue}const j=u2(A)?A.outlets[Ft]:`${A}`,K=M<a.length-1?a[M+1]:null;j&&K&&Mn(K)?(g.push(new Bt(j,si(K))),M+=2):(g.push(new Bt(j,{})),M++)}return new a1(g,{})}function ri(p){const l={};return Vt(p,(a,g)=>{"string"==typeof a&&(a=[a]),null!==a&&(l[g]=J2(new a1([],{}),0,a))}),l}function si(p){const l={};return Vt(p,(a,g)=>l[g]=`${a}`),l}function P2(p,l,a){return p==a.path&&zn(l,a.parameters)}class Pn{constructor(l,a){this.id=l,this.url=a}}class xi extends Pn{constructor(l,a,g="imperative",M=null){super(l,a),this.type=0,this.navigationTrigger=g,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class En extends Pn{constructor(l,a,g){super(l,a),this.urlAfterRedirects=g,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class M2 extends Pn{constructor(l,a,g,M){super(l,a),this.reason=g,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rr extends Pn{constructor(l,a,g,M){super(l,a),this.error=g,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mi extends Pn{constructor(l,a,g,M){super(l,a),this.urlAfterRedirects=g,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends Pn{constructor(l,a,g,M){super(l,a),this.urlAfterRedirects=g,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w2 extends Pn{constructor(l,a,g,M,A){super(l,a),this.urlAfterRedirects=g,this.state=M,this.shouldActivate=A,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _r extends Pn{constructor(l,a,g,M){super(l,a),this.urlAfterRedirects=g,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends Pn{constructor(l,a,g,M){super(l,a),this.urlAfterRedirects=g,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as{constructor(l){this.route=l,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class V2{constructor(l){this.route=l,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cs{constructor(l){this.snapshot=l,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d2{constructor(l){this.snapshot=l,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $e{constructor(l){this.snapshot=l,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(l){this.snapshot=l,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(l,a,g){this.routerEvent=l,this.position=a,this.anchor=g,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zt{constructor(l){this._root=l}get root(){return this._root.value}parent(l){const a=this.pathFromRoot(l);return a.length>1?a[a.length-2]:null}children(l){const a=E1(l,this._root);return a?a.children.map(g=>g.value):[]}firstChild(l){const a=E1(l,this._root);return a&&a.children.length>0?a.children[0].value:null}siblings(l){const a=G1(l,this._root);return a.length<2?[]:a[a.length-2].children.map(M=>M.value).filter(M=>M!==l)}pathFromRoot(l){return G1(l,this._root).map(a=>a.value)}}function E1(p,l){if(p===l.value)return l;for(const a of l.children){const g=E1(p,a);if(g)return g}return null}function G1(p,l){if(p===l.value)return[l];for(const a of l.children){const g=G1(p,a);if(g.length)return g.unshift(l),g}return[]}class An{constructor(l,a){this.value=l,this.children=a}toString(){return`TreeNode(${this.value})`}}function yn(p){const l={};return p&&p.children.forEach(a=>l[a.value.outlet]=a),l}class Di extends Zt{constructor(l,a){super(l),this.snapshot=a,oi(this,l)}toString(){return this.snapshot.toString()}}function G2(p,l){const a=function $2(p,l){const j=new o2([],{},{},"",{},Ft,l,null,p.root,-1,{});return new Xr("",new An(j,[]))}(p,l),g=new Me.X([new Bt("",{})]),M=new Me.X({}),A=new Me.X({}),j=new Me.X({}),K=new Me.X(""),ue=new I2(g,M,j,K,A,Ft,l,a.root);return ue.snapshot=a.root,new Di(new An(ue,[]),a)}class I2{constructor(l,a,g,M,A,j,K,ue){this.url=l,this.params=a,this.queryParams=g,this.fragment=M,this.data=A,this.outlet=j,this.component=K,this.title=this.data?.pipe((0,it.U)(Le=>Le[nn]))??(0,Q.of)(void 0),this._futureSnapshot=ue}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(l=>wn(l)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(l=>wn(l)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fi(p,l="emptyOnly"){const a=p.pathFromRoot;let g=0;if("always"!==l)for(g=a.length-1;g>=1;){const M=a[g],A=a[g-1];if(M.routeConfig&&""===M.routeConfig.path)g--;else{if(A.component)break;g--}}return function Lr(p){return p.reduce((l,a)=>({params:{...l.params,...a.params},data:{...l.data,...a.data},resolve:{...a.data,...l.resolve,...a.routeConfig?.data,...a._resolvedData}}),{params:{},data:{},resolve:{}})}(a.slice(g))}class o2{constructor(l,a,g,M,A,j,K,ue,Le,Ot,_t,Xt){this.url=l,this.params=a,this.queryParams=g,this.fragment=M,this.data=A,this.outlet=j,this.component=K,this.title=this.data?.[nn],this.routeConfig=ue,this._urlSegment=Le,this._lastPathIndex=Ot,this._correctedLastPathIndex=Xt??Ot,this._resolve=_t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(g=>g.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xr extends Zt{constructor(l,a){super(a),this.url=l,oi(this,a)}toString(){return ai(this._root)}}function oi(p,l){l.value._routerState=p,l.children.forEach(a=>oi(p,a))}function ai(p){const l=p.children.length>0?` { ${p.children.map(ai).join(", ")} } `:"";return`${p.value}${l}`}function zi(p){if(p.snapshot){const l=p.snapshot,a=p._futureSnapshot;p.snapshot=a,zn(l.queryParams,a.queryParams)||p.queryParams.next(a.queryParams),l.fragment!==a.fragment&&p.fragment.next(a.fragment),zn(l.params,a.params)||p.params.next(a.params),function jn(p,l){if(p.length!==l.length)return!1;for(let a=0;a<p.length;++a)if(!zn(p[a],l[a]))return!1;return!0}(l.url,a.url)||p.url.next(a.url),zn(l.data,a.data)||p.data.next(a.data)}else p.snapshot=p._futureSnapshot,p.data.next(p._futureSnapshot.data)}function Z2(p,l){const a=zn(p.params,l.params)&&function hn(p,l){return $1(p,l)&&p.every((a,g)=>zn(a.parameters,l[g].parameters))}(p.url,l.url);return a&&!(!p.parent!=!l.parent)&&(!p.parent||Z2(p.parent,l.parent))}function gi(p,l,a){if(a&&p.shouldReuseRoute(l.value,a.value.snapshot)){const g=a.value;g._futureSnapshot=l.value;const M=function vi(p,l,a){return l.children.map(g=>{for(const M of a.children)if(p.shouldReuseRoute(g.value,M.value.snapshot))return gi(p,g,M);return gi(p,g)})}(p,l,a);return new An(g,M)}{if(p.shouldAttach(l.value)){const A=p.retrieve(l.value);if(null!==A){const j=A.route;return j.value._futureSnapshot=l.value,j.children=l.children.map(K=>gi(p,K)),j}}const g=function br(p){return new I2(new Me.X(p.url),new Me.X(p.params),new Me.X(p.queryParams),new Me.X(p.fragment),new Me.X(p.data),p.outlet,p.component,p)}(l.value),M=l.children.map(A=>gi(p,A));return new An(g,M)}}const yi="ngNavigationCancelingError";function Li(p,l){const{redirectTo:a,navigationBehaviorOptions:g}=$t(l)?{redirectTo:l,navigationBehaviorOptions:void 0}:l,M=_i(!1,0,l);return M.url=a,M.navigationBehaviorOptions=g,M}function _i(p,l,a){const g=new Error("NavigationCancelingError: "+(p||""));return g[yi]=!0,g.cancellationCode=l,a&&(g.url=a),g}function Q2(p){return Ei(p)&&$t(p.url)}function Ei(p){return p&&p[yi]}class Ss{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qn,this.attachRef=null}}let Qn=(()=>{class p{constructor(){this.contexts=new Map}onChildOutletCreated(a,g){const M=this.getOrCreateContext(a);M.outlet=g,this.contexts.set(a,M)}onChildOutletDestroyed(a){const g=this.getContext(a);g&&(g.outlet=null,g.attachRef=null)}onOutletDeactivated(){const a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let g=this.getContext(a);return g||(g=new Ss,this.contexts.set(a,g)),g}getContext(a){return this.contexts.get(a)||null}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const ci=!1;let $r=(()=>{class p{constructor(a,g,M,A,j){this.parentContexts=a,this.location=g,this.changeDetector=A,this.environmentInjector=j,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=M||Ft,a.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const a=this.parentContexts.getContext(this.name);a&&a.route&&(a.attachRef?this.attach(a.attachRef,a.route):this.activateWith(a.route,a.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,ci);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,ci);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,ci);this.location.detach();const a=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(a.instance),a}attach(a,g){this.activated=a,this._activatedRoute=g,this.location.insert(a.hostView),this.attachEvents.emit(a.instance)}deactivate(){if(this.activated){const a=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,g){if(this.isActivated)throw new d.vHH(4013,ci);this._activatedRoute=a;const M=this.location,j=a._futureSnapshot.component,K=this.parentContexts.getOrCreateContext(this.name).children,ue=new Xn(a,K,M.injector);if(g&&function or(p){return!!p.resolveComponentFactory}(g)){const Le=g.resolveComponentFactory(j);this.activated=M.createComponent(Le,M.length,ue)}else this.activated=M.createComponent(j,{index:M.length,injector:ue,environmentInjector:g??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return p.\u0275fac=function(a){return new(a||p)(d.Y36(Qn),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},p.\u0275dir=d.lG2({type:p,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),p})();class Xn{constructor(l,a,g){this.route=l,this.childContexts=a,this.parent=g}get(l,a){return l===I2?this.route:l===Qn?this.childContexts:this.parent.get(l,a)}}let Fn=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=d.Xpm({type:p,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(a,g){1&a&&d._UZ(0,"router-outlet")},dependencies:[$r],encapsulation:2}),p})();function D2(p,l){return p.providers&&!p._injector&&(p._injector=(0,d.MMx)(p.providers,l,`Route: ${p.path}`)),p._injector??l}function n2(p){const l=p.children&&p.children.map(n2),a=l?{...p,children:l}:{...p};return!a.component&&!a.loadComponent&&(l||a.loadChildren)&&a.outlet&&a.outlet!==Ft&&(a.component=Fn),a}function f2(p){return p.outlet||Ft}function r2(p,l){const a=p.filter(g=>f2(g)===l);return a.push(...p.filter(g=>f2(g)!==l)),a}function B1(p){if(!p)return null;if(p.routeConfig?._injector)return p.routeConfig._injector;for(let l=p.parent;l;l=l.parent){const a=l.routeConfig;if(a?._loadedInjector)return a._loadedInjector;if(a?._injector)return a._injector}return null}class Bi{constructor(l,a,g,M){this.routeReuseStrategy=l,this.futureState=a,this.currState=g,this.forwardEvent=M}activate(l){const a=this.futureState._root,g=this.currState?this.currState._root:null;this.deactivateChildRoutes(a,g,l),zi(this.futureState.root),this.activateChildRoutes(a,g,l)}deactivateChildRoutes(l,a,g){const M=yn(a);l.children.forEach(A=>{const j=A.value.outlet;this.deactivateRoutes(A,M[j],g),delete M[j]}),Vt(M,(A,j)=>{this.deactivateRouteAndItsChildren(A,g)})}deactivateRoutes(l,a,g){const M=l.value,A=a?a.value:null;if(M===A)if(M.component){const j=g.getContext(M.outlet);j&&this.deactivateChildRoutes(l,a,j.children)}else this.deactivateChildRoutes(l,a,g);else A&&this.deactivateRouteAndItsChildren(a,g)}deactivateRouteAndItsChildren(l,a){l.value.component&&this.routeReuseStrategy.shouldDetach(l.value.snapshot)?this.detachAndStoreRouteSubtree(l,a):this.deactivateRouteAndOutlet(l,a)}detachAndStoreRouteSubtree(l,a){const g=a.getContext(l.value.outlet),M=g&&l.value.component?g.children:a,A=yn(l);for(const j of Object.keys(A))this.deactivateRouteAndItsChildren(A[j],M);if(g&&g.outlet){const j=g.outlet.detach(),K=g.children.onOutletDeactivated();this.routeReuseStrategy.store(l.value.snapshot,{componentRef:j,route:l,contexts:K})}}deactivateRouteAndOutlet(l,a){const g=a.getContext(l.value.outlet),M=g&&l.value.component?g.children:a,A=yn(l);for(const j of Object.keys(A))this.deactivateRouteAndItsChildren(A[j],M);g&&g.outlet&&(g.outlet.deactivate(),g.children.onOutletDeactivated(),g.attachRef=null,g.resolver=null,g.route=null)}activateChildRoutes(l,a,g){const M=yn(a);l.children.forEach(A=>{this.activateRoutes(A,M[A.value.outlet],g),this.forwardEvent(new He(A.value.snapshot))}),l.children.length&&this.forwardEvent(new d2(l.value.snapshot))}activateRoutes(l,a,g){const M=l.value,A=a?a.value:null;if(zi(M),M===A)if(M.component){const j=g.getOrCreateContext(M.outlet);this.activateChildRoutes(l,a,j.children)}else this.activateChildRoutes(l,a,g);else if(M.component){const j=g.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const K=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),j.children.onOutletReAttached(K.contexts),j.attachRef=K.componentRef,j.route=K.route.value,j.outlet&&j.outlet.attach(K.componentRef,K.route.value),zi(K.route.value),this.activateChildRoutes(l,null,j.children)}else{const K=B1(M.snapshot),ue=K?.get(d._Vd)??null;j.attachRef=null,j.route=M,j.resolver=ue,j.injector=K,j.outlet&&j.outlet.activateWith(M,j.injector),this.activateChildRoutes(l,null,j.children)}}else this.activateChildRoutes(l,null,g)}}class Cr{constructor(l){this.path=l,this.route=this.path[this.path.length-1]}}class W2{constructor(l,a){this.component=l,this.route=a}}function Ui(p,l,a){const g=p._root;return qi(g,l?l._root:null,a,[g.value])}function Wi(p,l){const a=Symbol(),g=l.get(p,a);return g===a?"function"!=typeof p||(0,d.Z0I)(p)?l.get(p):p:g}function qi(p,l,a,g,M={canDeactivateChecks:[],canActivateChecks:[]}){const A=yn(l);return p.children.forEach(j=>{(function At(p,l,a,g,M={canDeactivateChecks:[],canActivateChecks:[]}){const A=p.value,j=l?l.value:null,K=a?a.getContext(p.value.outlet):null;if(j&&A.routeConfig===j.routeConfig){const ue=function rn(p,l,a){if("function"==typeof a)return a(p,l);switch(a){case"pathParamsChange":return!$1(p.url,l.url);case"pathParamsOrQueryParamsChange":return!$1(p.url,l.url)||!zn(p.queryParams,l.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z2(p,l)||!zn(p.queryParams,l.queryParams);default:return!Z2(p,l)}}(j,A,A.routeConfig.runGuardsAndResolvers);ue?M.canActivateChecks.push(new Cr(g)):(A.data=j.data,A._resolvedData=j._resolvedData),qi(p,l,A.component?K?K.children:null:a,g,M),ue&&K&&K.outlet&&K.outlet.isActivated&&M.canDeactivateChecks.push(new W2(K.outlet.component,j))}else j&&Oi(l,K,M),M.canActivateChecks.push(new Cr(g)),qi(p,null,A.component?K?K.children:null:a,g,M)})(j,A[j.value.outlet],a,g.concat([j.value]),M),delete A[j.value.outlet]}),Vt(A,(j,K)=>Oi(j,a.getContext(K),M)),M}function Oi(p,l,a){const g=yn(p),M=p.value;Vt(g,(A,j)=>{Oi(A,M.component?l?l.children.getContext(j):null:l,a)}),a.canDeactivateChecks.push(new W2(M.component&&l&&l.outlet&&l.outlet.isActivated?l.outlet.component:null,M))}function Mr(p){return"function"==typeof p}function B(p){return p instanceof Ee.K||"EmptyError"===p?.name}const F=Symbol("INITIAL_VALUE");function k(){return(0,ct.w)(p=>(0,De.a)(p.map(l=>l.pipe((0,Ye.q)(1),(0,It.O)(F)))).pipe((0,it.U)(l=>{for(const a of l)if(!0!==a){if(a===F)return F;if(!1===a||a instanceof h1)return a}return!0}),(0,mt.h)(l=>l!==F),(0,Ye.q)(1)))}function Ji(p){return(0,ze.z)((0,Te.b)(l=>{if($t(l))throw Li(0,l)}),(0,it.U)(l=>!0===l))}const ee={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ce(p,l,a,g,M){const A=ve(p,l,a);return A.matched?function W(p,l,a,g){const M=l.canMatch;if(!M||0===M.length)return(0,Q.of)(!0);const A=M.map(j=>{const K=Wi(j,p);return vn(function cr(p){return p&&Mr(p.canMatch)}(K)?K.canMatch(l,a):p.runInContext(()=>K(l,a)))});return(0,Q.of)(A).pipe(k(),Ji())}(g=D2(l,g),l,a).pipe((0,it.U)(j=>!0===j?A:{...ee})):(0,Q.of)(A)}function ve(p,l,a){if(""===l.path)return"full"===l.pathMatch&&(p.hasChildren()||a.length>0)?{...ee}:{matched:!0,consumedSegments:[],remainingSegments:a,parameters:{},positionalParamSegments:{}};const M=(l.matcher||xn)(a,p,l);if(!M)return{...ee};const A={};Vt(M.posParams,(K,ue)=>{A[ue]=K.path});const j=M.consumed.length>0?{...A,...M.consumed[M.consumed.length-1].parameters}:A;return{matched:!0,consumedSegments:M.consumed,remainingSegments:a.slice(M.consumed.length),parameters:j,positionalParamSegments:M.posParams??{}}}function je(p,l,a,g,M="corrected"){if(a.length>0&&function Et(p,l,a){return a.some(g=>$(p,l,g)&&f2(g)!==Ft)}(p,a,g)){const j=new a1(l,function Nt(p,l,a,g){const M={};M[Ft]=g,g._sourceSegment=p,g._segmentIndexShift=l.length;for(const A of a)if(""===A.path&&f2(A)!==Ft){const j=new a1([],{});j._sourceSegment=p,j._segmentIndexShift=l.length,M[f2(A)]=j}return M}(p,l,g,new a1(a,p.children)));return j._sourceSegment=p,j._segmentIndexShift=l.length,{segmentGroup:j,slicedSegments:[]}}if(0===a.length&&function z(p,l,a){return a.some(g=>$(p,l,g))}(p,a,g)){const j=new a1(p.segments,function yt(p,l,a,g,M,A){const j={};for(const K of g)if($(p,a,K)&&!M[f2(K)]){const ue=new a1([],{});ue._sourceSegment=p,ue._segmentIndexShift="legacy"===A?p.segments.length:l.length,j[f2(K)]=ue}return{...M,...j}}(p,l,a,g,p.children,M));return j._sourceSegment=p,j._segmentIndexShift=l.length,{segmentGroup:j,slicedSegments:a}}const A=new a1(p.segments,p.children);return A._sourceSegment=p,A._segmentIndexShift=l.length,{segmentGroup:A,slicedSegments:a}}function $(p,l,a){return(!(p.hasChildren()||l.length>0)||"full"!==a.pathMatch)&&""===a.path}function O(p,l,a,g){return!!(f2(p)===g||g!==Ft&&$(l,a,p))&&("**"===p.path||ve(l,p,a).matched)}function X(p,l,a){return 0===l.length&&!p.children[a]}const me=!1;class Je{constructor(l){this.segmentGroup=l||null}}class ft{constructor(l){this.urlTree=l}}function e1(p){return Ne(new Je(p))}function K1(p){return Ne(new ft(p))}class $n{constructor(l,a,g,M,A){this.injector=l,this.configLoader=a,this.urlSerializer=g,this.urlTree=M,this.config=A,this.allowRedirects=!0}apply(){const l=je(this.urlTree.root,[],[],this.config).segmentGroup,a=new a1(l.segments,l.children);return this.expandSegmentGroup(this.injector,this.config,a,Ft).pipe((0,it.U)(A=>this.createUrlTree(Ue(A),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Re(A=>{if(A instanceof ft)return this.allowRedirects=!1,this.match(A.urlTree);throw A instanceof Je?this.noMatchError(A):A}))}match(l){return this.expandSegmentGroup(this.injector,this.config,l.root,Ft).pipe((0,it.U)(M=>this.createUrlTree(Ue(M),l.queryParams,l.fragment))).pipe(Re(M=>{throw M instanceof Je?this.noMatchError(M):M}))}noMatchError(l){return new d.vHH(4002,me)}createUrlTree(l,a,g){const M=ae(l);return new h1(M,a,g)}expandSegmentGroup(l,a,g,M){return 0===g.segments.length&&g.hasChildren()?this.expandChildren(l,a,g).pipe((0,it.U)(A=>new a1([],A))):this.expandSegment(l,g,a,g.segments,M,!0)}expandChildren(l,a,g){const M=[];for(const A of Object.keys(g.children))"primary"===A?M.unshift(A):M.push(A);return(0,D.D)(M).pipe((0,_e.b)(A=>{const j=g.children[A],K=r2(a,A);return this.expandSegmentGroup(l,K,j,A).pipe((0,it.U)(ue=>({segment:ue,outlet:A})))}),(0,St.R)((A,j)=>(A[j.outlet]=j.segment,A),{}),xt())}expandSegment(l,a,g,M,A,j){return(0,D.D)(g).pipe((0,_e.b)(K=>this.expandSegmentAgainstRoute(l,a,g,K,M,A,j).pipe(Re(Le=>{if(Le instanceof Je)return(0,Q.of)(null);throw Le}))),(0,Ke.P)(K=>!!K),Re((K,ue)=>{if(B(K))return X(a,M,A)?(0,Q.of)(new a1([],{})):e1(a);throw K}))}expandSegmentAgainstRoute(l,a,g,M,A,j,K){return O(M,a,A,j)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(l,a,M,A,j):K&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(l,a,g,M,A,j):e1(a):e1(a)}expandSegmentAgainstRouteUsingRedirect(l,a,g,M,A,j){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(l,g,M,j):this.expandRegularSegmentAgainstRouteUsingRedirect(l,a,g,M,A,j)}expandWildCardWithParamsAgainstRouteUsingRedirect(l,a,g,M){const A=this.applyRedirectCommands([],g.redirectTo,{});return g.redirectTo.startsWith("/")?K1(A):this.lineralizeSegments(g,A).pipe((0,re.z)(j=>{const K=new a1(j,{});return this.expandSegment(l,K,a,j,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(l,a,g,M,A,j){const{matched:K,consumedSegments:ue,remainingSegments:Le,positionalParamSegments:Ot}=ve(a,M,A);if(!K)return e1(a);const _t=this.applyRedirectCommands(ue,M.redirectTo,Ot);return M.redirectTo.startsWith("/")?K1(_t):this.lineralizeSegments(M,_t).pipe((0,re.z)(Xt=>this.expandSegment(l,a,g,Xt.concat(Le),j,!1)))}matchSegmentAgainstRoute(l,a,g,M,A){return"**"===g.path?(l=D2(g,l),g.loadChildren?(g._loadedRoutes?(0,Q.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):this.configLoader.loadChildren(l,g)).pipe((0,it.U)(K=>(g._loadedRoutes=K.routes,g._loadedInjector=K.injector,new a1(M,{})))):(0,Q.of)(new a1(M,{}))):ce(a,g,M,l).pipe((0,ct.w)(({matched:j,consumedSegments:K,remainingSegments:ue})=>j?this.getChildConfig(l=g._injector??l,g,M).pipe((0,re.z)(Ot=>{const _t=Ot.injector??l,Xt=Ot.routes,{segmentGroup:j1,slicedSegments:k1}=je(a,K,ue,Xt),Q1=new a1(j1.segments,j1.children);if(0===k1.length&&Q1.hasChildren())return this.expandChildren(_t,Xt,Q1).pipe((0,it.U)(h2=>new a1(K,h2)));if(0===Xt.length&&0===k1.length)return(0,Q.of)(new a1(K,{}));const un=f2(g)===A;return this.expandSegment(_t,Q1,Xt,k1,un?Ft:A,!0).pipe((0,it.U)(y2=>new a1(K.concat(y2.segments),y2.children)))})):e1(a)))}getChildConfig(l,a,g){return a.children?(0,Q.of)({routes:a.children,injector:l}):a.loadChildren?void 0!==a._loadedRoutes?(0,Q.of)({routes:a._loadedRoutes,injector:a._loadedInjector}):function Rr(p,l,a,g){const M=l.canLoad;if(void 0===M||0===M.length)return(0,Q.of)(!0);const A=M.map(j=>{const K=Wi(j,p);return vn(function Ns(p){return p&&Mr(p.canLoad)}(K)?K.canLoad(l,a):p.runInContext(()=>K(l,a)))});return(0,Q.of)(A).pipe(k(),Ji())}(l,a,g).pipe((0,re.z)(M=>M?this.configLoader.loadChildren(l,a).pipe((0,Te.b)(A=>{a._loadedRoutes=A.routes,a._loadedInjector=A.injector})):function ln(p){return Ne(_i(me,3))}())):(0,Q.of)({routes:[],injector:l})}lineralizeSegments(l,a){let g=[],M=a.root;for(;;){if(g=g.concat(M.segments),0===M.numberOfChildren)return(0,Q.of)(g);if(M.numberOfChildren>1||!M.children[Ft])return Ne(new d.vHH(4e3,me));M=M.children[Ft]}}applyRedirectCommands(l,a,g){return this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),l,g)}applyRedirectCreateUrlTree(l,a,g,M){const A=this.createSegmentGroup(l,a.root,g,M);return new h1(A,this.createQueryParams(a.queryParams,this.urlTree.queryParams),a.fragment)}createQueryParams(l,a){const g={};return Vt(l,(M,A)=>{if("string"==typeof M&&M.startsWith(":")){const K=M.substring(1);g[A]=a[K]}else g[A]=M}),g}createSegmentGroup(l,a,g,M){const A=this.createSegments(l,a.segments,g,M);let j={};return Vt(a.children,(K,ue)=>{j[ue]=this.createSegmentGroup(l,K,g,M)}),new a1(A,j)}createSegments(l,a,g,M){return a.map(A=>A.path.startsWith(":")?this.findPosParam(l,A,M):this.findOrReturn(A,g))}findPosParam(l,a,g){const M=g[a.path.substring(1)];if(!M)throw new d.vHH(4001,me);return M}findOrReturn(l,a){let g=0;for(const M of a){if(M.path===l.path)return a.splice(g),M;g++}return l}}class Dr{}class Er{constructor(l,a,g,M,A,j,K,ue){this.injector=l,this.rootComponentType=a,this.config=g,this.urlTree=M,this.url=A,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=K,this.urlSerializer=ue}recognize(){const l=je(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,l,Ft).pipe((0,it.U)(a=>{if(null===a)return null;const g=new o2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new An(g,a),A=new Xr(this.url,M);return this.inheritParamsAndData(A._root),A}))}inheritParamsAndData(l){const a=l.value,g=Fi(a,this.paramsInheritanceStrategy);a.params=Object.freeze(g.params),a.data=Object.freeze(g.data),l.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(l,a,g,M){return 0===g.segments.length&&g.hasChildren()?this.processChildren(l,a,g):this.processSegment(l,a,g,g.segments,M)}processChildren(l,a,g){return(0,D.D)(Object.keys(g.children)).pipe((0,_e.b)(M=>{const A=g.children[M],j=r2(a,M);return this.processSegmentGroup(l,j,A,M)}),(0,St.R)((M,A)=>M&&A?(M.push(...A),M):null),function g1(p,l=!1){return(0,Ze.e)((a,g)=>{let M=0;a.subscribe((0,Pt.x)(g,A=>{const j=p(A,M++);(j||l)&&g.next(A),!j&&g.complete()}))})}(M=>null!==M),(0,L1.d)(null),xt(),(0,it.U)(M=>{if(null===M)return null;const A=qs(M);return function Xi(p){p.sort((l,a)=>l.value.outlet===Ft?-1:a.value.outlet===Ft?1:l.value.outlet.localeCompare(a.value.outlet))}(A),A}))}processSegment(l,a,g,M,A){return(0,D.D)(a).pipe((0,_e.b)(j=>this.processSegmentAgainstRoute(j._injector??l,j,g,M,A)),(0,Ke.P)(j=>!!j),Re(j=>{if(B(j))return X(g,M,A)?(0,Q.of)([]):(0,Q.of)(null);throw j}))}processSegmentAgainstRoute(l,a,g,M,A){if(a.redirectTo||!O(a,g,M,A))return(0,Q.of)(null);let j;if("**"===a.path){const K=M.length>0?fn(M).parameters:{},ue=Ko(g)+M.length,Le=new o2(M,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(a),f2(a),a.component??a._loadedComponent??null,a,Ks(g),ue,vo(a),ue);j=(0,Q.of)({snapshot:Le,consumedSegments:[],remainingSegments:[]})}else j=ce(g,a,M,l).pipe((0,it.U)(({matched:K,consumedSegments:ue,remainingSegments:Le,parameters:Ot})=>{if(!K)return null;const _t=Ko(g)+ue.length;return{snapshot:new o2(ue,Ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jo(a),f2(a),a.component??a._loadedComponent??null,a,Ks(g),_t,vo(a),_t),consumedSegments:ue,remainingSegments:Le}}));return j.pipe((0,ct.w)(K=>{if(null===K)return(0,Q.of)(null);const{snapshot:ue,consumedSegments:Le,remainingSegments:Ot}=K;l=a._injector??l;const _t=a._loadedInjector??l,Xt=function ui(p){return p.children?p.children:p.loadChildren?p._loadedRoutes:[]}(a),{segmentGroup:j1,slicedSegments:k1}=je(g,Le,Ot,Xt.filter(un=>void 0===un.redirectTo),this.relativeLinkResolution);if(0===k1.length&&j1.hasChildren())return this.processChildren(_t,Xt,j1).pipe((0,it.U)(un=>null===un?null:[new An(ue,un)]));if(0===Xt.length&&0===k1.length)return(0,Q.of)([new An(ue,[])]);const Q1=f2(a)===A;return this.processSegment(_t,Xt,j1,k1,Q1?Ft:A).pipe((0,it.U)(un=>null===un?null:[new An(ue,un)]))}))}}function ds(p){const l=p.value.routeConfig;return l&&""===l.path&&void 0===l.redirectTo}function qs(p){const l=[],a=new Set;for(const g of p){if(!ds(g)){l.push(g);continue}const M=l.find(A=>g.value.routeConfig===A.value.routeConfig);void 0!==M?(M.children.push(...g.children),a.add(M)):l.push(g)}for(const g of a){const M=qs(g.children);l.push(new An(g.value,M))}return l.filter(g=>!a.has(g))}function Ks(p){let l=p;for(;l._sourceSegment;)l=l._sourceSegment;return l}function Ko(p){let l=p,a=l._segmentIndexShift??0;for(;l._sourceSegment;)l=l._sourceSegment,a+=l._segmentIndexShift??0;return a-1}function Jo(p){return p.data||{}}function vo(p){return p.resolve||{}}function ei(p){return"string"==typeof p.title||null===p.title}function kr(p){return(0,ct.w)(l=>{const a=p(l);return a?(0,D.D)(a).pipe((0,it.U)(()=>l)):(0,Q.of)(l)})}let Ts=(()=>{class p{buildTitle(a){let g,M=a.root;for(;void 0!==M;)g=this.getResolvedTitleForRoute(M)??g,M=M.children.find(A=>A.outlet===Ft);return g}getResolvedTitleForRoute(a){return a.data[nn]}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275prov=d.Yz7({token:p,factory:function(){return(0,d.f3M)(qr)},providedIn:"root"}),p})(),qr=(()=>{class p extends Ts{constructor(a){super(),this.title=a}updateTitle(a){const g=this.buildTitle(a);void 0!==g&&this.title.setTitle(g)}}return p.\u0275fac=function(a){return new(a||p)(d.LFG(qn.Dx))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class bi{}class to extends class ts{shouldDetach(l){return!1}store(l,a){}shouldAttach(l){return!1}retrieve(l){return null}shouldReuseRoute(l,a){return l.routeConfig===a.routeConfig}}{}const p1=new d.OlP("",{providedIn:"root",factory:()=>({})}),Jt=new d.OlP("ROUTES");let ht=(()=>{class p{constructor(a,g){this.injector=a,this.compiler=g,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(a){if(this.componentLoaders.get(a))return this.componentLoaders.get(a);if(a._loadedComponent)return(0,Q.of)(a._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(a);const g=vn(a.loadComponent()).pipe((0,Te.b)(A=>{this.onLoadEndListener&&this.onLoadEndListener(a),a._loadedComponent=A}),_1(()=>{this.componentLoaders.delete(a)})),M=new nt(g,()=>new Oe.x).pipe(rt());return this.componentLoaders.set(a,M),M}loadChildren(a,g){if(this.childrenLoaders.get(g))return this.childrenLoaders.get(g);if(g._loadedRoutes)return(0,Q.of)({routes:g._loadedRoutes,injector:g._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(g);const A=this.loadModuleFactoryOrRoutes(g.loadChildren).pipe((0,it.U)(K=>{this.onLoadEndListener&&this.onLoadEndListener(g);let ue,Le,Ot=!1;Array.isArray(K)?Le=K:(ue=K.create(a).injector,Le=V1(ue.get(Jt,[],d.XFs.Self|d.XFs.Optional)));return{routes:Le.map(n2),injector:ue}}),_1(()=>{this.childrenLoaders.delete(g)})),j=new nt(A,()=>new Oe.x).pipe(rt());return this.childrenLoaders.set(g,j),j}loadModuleFactoryOrRoutes(a){return vn(a()).pipe((0,re.z)(g=>g instanceof d.YKP||Array.isArray(g)?(0,Q.of)(g):(0,D.D)(this.compiler.compileModuleAsync(g))))}}return p.\u0275fac=function(a){return new(a||p)(d.LFG(d.zs3),d.LFG(d.Sil))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class Lt{}class H2{shouldProcessUrl(l){return!0}extract(l){return l}merge(l,a){return l}}function no(p){throw p}function Pr(p,l,a){return l.parse("/")}const _o={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function io(){const p=(0,d.f3M)(q1),l=(0,d.f3M)(Qn),a=(0,d.f3M)(Kt.Ye),g=(0,d.f3M)(d.zs3),M=(0,d.f3M)(d.Sil),A=(0,d.f3M)(Jt,{optional:!0})??[],j=(0,d.f3M)(p1,{optional:!0})??{},K=(0,d.f3M)(qr),ue=(0,d.f3M)(Ts,{optional:!0}),Le=(0,d.f3M)(Lt,{optional:!0}),Ot=(0,d.f3M)(bi,{optional:!0}),_t=new F2(null,p,l,a,g,M,V1(A));return Le&&(_t.urlHandlingStrategy=Le),Ot&&(_t.routeReuseStrategy=Ot),_t.titleStrategy=ue??K,function bo(p,l){p.errorHandler&&(l.errorHandler=p.errorHandler),p.malformedUriErrorHandler&&(l.malformedUriErrorHandler=p.malformedUriErrorHandler),p.onSameUrlNavigation&&(l.onSameUrlNavigation=p.onSameUrlNavigation),p.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=p.paramsInheritanceStrategy),p.relativeLinkResolution&&(l.relativeLinkResolution=p.relativeLinkResolution),p.urlUpdateStrategy&&(l.urlUpdateStrategy=p.urlUpdateStrategy),p.canceledNavigationResolution&&(l.canceledNavigationResolution=p.canceledNavigationResolution)}(j,_t),_t}let F2=(()=>{class p{constructor(a,g,M,A,j,K,ue){this.rootComponentType=a,this.urlSerializer=g,this.rootContexts=M,this.location=A,this.config=ue,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oe.x,this.errorHandler=no,this.malformedUriErrorHandler=Pr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Q.of)(void 0),this.urlHandlingStrategy=new H2,this.routeReuseStrategy=new to,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=j.get(ht),this.configLoader.onLoadEndListener=Xt=>this.triggerEvent(new V2(Xt)),this.configLoader.onLoadStartListener=Xt=>this.triggerEvent(new as(Xt)),this.ngModule=j.get(d.h0i),this.console=j.get(d.c2e);const _t=j.get(d.R0b);this.isNgZoneEnabled=_t instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(ue),this.currentUrlTree=function cn(){return new h1(new a1([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=G2(this.currentUrlTree,this.rootComponentType),this.transitions=new Me.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(a){const g=this.events;return a.pipe((0,mt.h)(M=>0!==M.id),(0,it.U)(M=>({...M,extractedUrl:this.urlHandlingStrategy.extract(M.rawUrl)})),(0,ct.w)(M=>{let A=!1,j=!1;return(0,Q.of)(M).pipe((0,Te.b)(K=>{this.currentNavigation={id:K.id,initialUrl:K.rawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ct.w)(K=>{const ue=this.browserUrlTree.toString(),Le=!this.navigated||K.extractedUrl.toString()!==ue||ue!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Le)&&this.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return hr(K.source)&&(this.browserUrlTree=K.extractedUrl),(0,Q.of)(K).pipe((0,ct.w)(_t=>{const Xt=this.transitions.getValue();return g.next(new xi(_t.id,this.serializeUrl(_t.extractedUrl),_t.source,_t.restoredState)),Xt!==this.transitions.getValue()?Xe.E:Promise.resolve(_t)}),function In(p,l,a,g){return(0,ct.w)(M=>function on(p,l,a,g,M){return new $n(p,l,a,g,M).apply()}(p,l,a,M.extractedUrl,g).pipe((0,it.U)(A=>({...M,urlAfterRedirects:A}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Te.b)(_t=>{this.currentNavigation={...this.currentNavigation,finalUrl:_t.urlAfterRedirects},M.urlAfterRedirects=_t.urlAfterRedirects}),function Xs(p,l,a,g,M,A){return(0,re.z)(j=>function dr(p,l,a,g,M,A,j="emptyOnly",K="legacy"){return new Er(p,l,a,g,M,j,K,A).recognize().pipe((0,ct.w)(ue=>null===ue?function Qi(p){return new de.y(l=>l.error(p))}(new Dr):(0,Q.of)(ue)))}(p,l,a,j.urlAfterRedirects,g.serialize(j.urlAfterRedirects),g,M,A).pipe((0,it.U)(K=>({...j,targetSnapshot:K}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Te.b)(_t=>{if(M.targetSnapshot=_t.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!_t.extras.skipLocationChange){const j1=this.urlHandlingStrategy.merge(_t.urlAfterRedirects,_t.rawUrl);this.setBrowserUrl(j1,_t)}this.browserUrlTree=_t.urlAfterRedirects}const Xt=new mi(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);g.next(Xt)}));if(Le&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xt,extractedUrl:j1,source:k1,restoredState:Q1,extras:un}=K,Ln=new xi(Xt,this.serializeUrl(j1),k1,Q1);g.next(Ln);const y2=G2(j1,this.rootComponentType).snapshot;return M={...K,targetSnapshot:y2,urlAfterRedirects:j1,extras:{...un,skipLocationChange:!1,replaceUrl:!1}},(0,Q.of)(M)}return this.rawUrlTree=K.rawUrl,K.resolve(null),Xe.E}),(0,Te.b)(K=>{const ue=new sr(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot);this.triggerEvent(ue)}),(0,it.U)(K=>M={...K,guards:Ui(K.targetSnapshot,K.currentSnapshot,this.rootContexts)}),function ne(p,l){return(0,re.z)(a=>{const{targetSnapshot:g,currentSnapshot:M,guards:{canActivateChecks:A,canDeactivateChecks:j}}=a;return 0===j.length&&0===A.length?(0,Q.of)({...a,guardsResult:!0}):function at(p,l,a,g){return(0,D.D)(p).pipe((0,re.z)(M=>function ur(p,l,a,g,M){const A=l&&l.routeConfig?l.routeConfig.canDeactivate:null;if(!A||0===A.length)return(0,Q.of)(!0);const j=A.map(K=>{const ue=B1(l)??M,Le=Wi(K,ue);return vn(function x2(p){return p&&Mr(p.canDeactivate)}(Le)?Le.canDeactivate(p,l,a,g):ue.runInContext(()=>Le(p,l,a,g))).pipe((0,Ke.P)())});return(0,Q.of)(j).pipe(k())}(M.component,M.route,a,l,g)),(0,Ke.P)(M=>!0!==M,!0))}(j,g,M,p).pipe((0,re.z)(K=>K&&function a2(p){return"boolean"==typeof p}(K)?function m1(p,l,a,g){return(0,D.D)(l).pipe((0,_e.b)(M=>(0,le.z)(function lr(p,l){return null!==p&&l&&l(new cs(p)),(0,Q.of)(!0)}(M.route.parent,g),function Bn(p,l){return null!==p&&l&&l(new $e(p)),(0,Q.of)(!0)}(M.route,g),function wr(p,l,a){const g=l[l.length-1],A=l.slice(0,l.length-1).reverse().map(j=>function Ni(p){const l=p.routeConfig?p.routeConfig.canActivateChild:null;return l&&0!==l.length?{node:p,guards:l}:null}(j)).filter(j=>null!==j).map(j=>(0,Ae.P)(()=>{const K=j.guards.map(ue=>{const Le=B1(j.node)??a,Ot=Wi(ue,Le);return vn(function Ki(p){return p&&Mr(p.canActivateChild)}(Ot)?Ot.canActivateChild(g,p):Le.runInContext(()=>Ot(g,p))).pipe((0,Ke.P)())});return(0,Q.of)(K).pipe(k())}));return(0,Q.of)(A).pipe(k())}(p,M.path,a),function Yi(p,l,a){const g=l.routeConfig?l.routeConfig.canActivate:null;if(!g||0===g.length)return(0,Q.of)(!0);const M=g.map(A=>(0,Ae.P)(()=>{const j=B1(l)??a,K=Wi(A,j);return vn(function us(p){return p&&Mr(p.canActivate)}(K)?K.canActivate(l,p):j.runInContext(()=>K(l,p))).pipe((0,Ke.P)())}));return(0,Q.of)(M).pipe(k())}(p,M.route,a))),(0,Ke.P)(M=>!0!==M,!0))}(g,A,p,l):(0,Q.of)(K)),(0,it.U)(K=>({...a,guardsResult:K})))})}(this.ngModule.injector,K=>this.triggerEvent(K)),(0,Te.b)(K=>{if(M.guardsResult=K.guardsResult,$t(K.guardsResult))throw Li(0,K.guardsResult);const ue=new w2(K.id,this.serializeUrl(K.extractedUrl),this.serializeUrl(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.triggerEvent(ue)}),(0,mt.h)(K=>!!K.guardsResult||(this.restoreHistory(K),this.cancelNavigationTransition(K,"",3),!1)),kr(K=>{if(K.guards.canActivateChecks.length)return(0,Q.of)(K).pipe((0,Te.b)(ue=>{const Le=new _r(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot);this.triggerEvent(Le)}),(0,ct.w)(ue=>{let Le=!1;return(0,Q.of)(ue).pipe(function Ps(p,l){return(0,re.z)(a=>{const{targetSnapshot:g,guards:{canActivateChecks:M}}=a;if(!M.length)return(0,Q.of)(a);let A=0;return(0,D.D)(M).pipe((0,_e.b)(j=>function eo(p,l,a,g){const M=p.routeConfig,A=p._resolve;return void 0!==M?.title&&!ei(M)&&(A[nn]=M.title),function To(p,l,a,g){const M=function yo(p){return[...Object.keys(p),...Object.getOwnPropertySymbols(p)]}(p);if(0===M.length)return(0,Q.of)({});const A={};return(0,D.D)(M).pipe((0,re.z)(j=>function Ti(p,l,a,g){const M=B1(l)??g,A=Wi(p,M);return vn(A.resolve?A.resolve(l,a):M.runInContext(()=>A(l,a)))}(p[j],l,a,g).pipe((0,Ke.P)(),(0,Te.b)(K=>{A[j]=K}))),Tt(1),(0,y1.h)(A),Re(j=>B(j)?Xe.E:Ne(j)))}(A,p,l,g).pipe((0,it.U)(j=>(p._resolvedData=j,p.data=Fi(p,a).resolve,M&&ei(M)&&(p.data[nn]=M.title),null)))}(j.route,g,p,l)),(0,Te.b)(()=>A++),Tt(1),(0,re.z)(j=>A===M.length?(0,Q.of)(a):Xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Te.b)({next:()=>Le=!0,complete:()=>{Le||(this.restoreHistory(ue),this.cancelNavigationTransition(ue,"",2))}}))}),(0,Te.b)(ue=>{const Le=new zr(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot);this.triggerEvent(Le)}))}),kr(K=>{const ue=Le=>{const Ot=[];Le.routeConfig?.loadComponent&&!Le.routeConfig._loadedComponent&&Ot.push(this.configLoader.loadComponent(Le.routeConfig).pipe((0,Te.b)(_t=>{Le.component=_t}),(0,it.U)(()=>{})));for(const _t of Le.children)Ot.push(...ue(_t));return Ot};return(0,De.a)(ue(K.targetSnapshot.root)).pipe((0,L1.d)(),(0,Ye.q)(1))}),kr(()=>this.afterPreactivation()),(0,it.U)(K=>{const ue=function es(p,l,a){const g=gi(p,l._root,a?a._root:void 0);return new Di(g,l)}(this.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return M={...K,targetRouterState:ue}}),(0,Te.b)(K=>{this.currentUrlTree=K.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl),this.routerState=K.targetRouterState,"deferred"===this.urlUpdateStrategy&&(K.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,K),this.browserUrlTree=K.urlAfterRedirects)}),((p,l,a)=>(0,it.U)(g=>(new Bi(l,g.targetRouterState,g.currentRouterState,a).activate(p),g)))(this.rootContexts,this.routeReuseStrategy,K=>this.triggerEvent(K)),(0,Te.b)({next(){A=!0},complete(){A=!0}}),_1(()=>{A||j||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),Re(K=>{if(j=!0,Ei(K)){Q2(K)||(this.navigated=!0,this.restoreHistory(M,!0));const ue=new M2(M.id,this.serializeUrl(M.extractedUrl),K.message,K.cancellationCode);if(g.next(ue),Q2(K)){const Le=this.urlHandlingStrategy.merge(K.url,this.rawUrlTree),Ot={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hr(M.source)};this.scheduleNavigation(Le,"imperative",null,Ot,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{this.restoreHistory(M,!0);const ue=new rr(M.id,this.serializeUrl(M.extractedUrl),K,M.targetSnapshot??void 0);g.next(ue);try{M.resolve(this.errorHandler(K))}catch(Le){M.reject(Le)}}return Xe.E}))}))}resetRootComponentType(a){this.rootComponentType=a,this.routerState.root.component=this.rootComponentType}setTransition(a){this.transitions.next({...this.transitions.value,...a})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(a=>{const g="popstate"===a.type?"popstate":"hashchange";"popstate"===g&&setTimeout(()=>{const M={replaceUrl:!0},A=a.state?.navigationId?a.state:null;if(A){const K={...A};delete K.navigationId,delete K.\u0275routerPageId,0!==Object.keys(K).length&&(M.state=K)}const j=this.parseUrl(a.url);this.scheduleNavigation(j,g,A,M)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(a){this.events.next(a)}resetConfig(a){this.config=a.map(n2),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(a,g={}){const{relativeTo:M,queryParams:A,fragment:j,queryParamsHandling:K,preserveFragment:ue}=g,Le=M||this.routerState.root,Ot=ue?this.currentUrlTree.fragment:j;let _t=null;switch(K){case"merge":_t={...this.currentUrlTree.queryParams,...A};break;case"preserve":_t=this.currentUrlTree.queryParams;break;default:_t=A||null}return null!==_t&&(_t=this.removeEmptyProps(_t)),R1(Le,this.currentUrlTree,a,_t,Ot??null)}navigateByUrl(a,g={skipLocationChange:!1}){const M=$t(a)?a:this.parseUrl(a),A=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(A,"imperative",null,g)}navigate(a,g={skipLocationChange:!1}){return function Sr(p){for(let l=0;l<p.length;l++){if(null==p[l])throw new d.vHH(4008,false)}}(a),this.navigateByUrl(this.createUrlTree(a,g),g)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){let g;try{g=this.urlSerializer.parse(a)}catch(M){g=this.malformedUriErrorHandler(M,this.urlSerializer,a)}return g}isActive(a,g){let M;if(M=!0===g?{..._o}:!1===g?{...fs}:g,$t(a))return n1(this.currentUrlTree,a,M);const A=this.parseUrl(a);return n1(this.currentUrlTree,A,M)}removeEmptyProps(a){return Object.keys(a).reduce((g,M)=>{const A=a[M];return null!=A&&(g[M]=A),g},{})}processNavigations(){this.navigations.subscribe(a=>{this.navigated=!0,this.lastSuccessfulId=a.id,this.currentPageId=a.targetPageId,this.events.next(new En(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),a.resolve(!0)},a=>{this.console.warn(`Unhandled Navigation Error: ${a}`)})}scheduleNavigation(a,g,M,A,j){if(this.disposed)return Promise.resolve(!1);let K,ue,Le;j?(K=j.resolve,ue=j.reject,Le=j.promise):Le=new Promise((Xt,j1)=>{K=Xt,ue=j1});const Ot=++this.navigationId;let _t;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(M=this.location.getState()),_t=M&&M.\u0275routerPageId?M.\u0275routerPageId:A.replaceUrl||A.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_t=0,this.setTransition({id:Ot,targetPageId:_t,source:g,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:a,extras:A,resolve:K,reject:ue,promise:Le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Le.catch(Xt=>Promise.reject(Xt))}setBrowserUrl(a,g){const M=this.urlSerializer.serialize(a),A={...g.extras.state,...this.generateNgRouterState(g.id,g.targetPageId)};this.location.isCurrentPathEqualTo(M)||g.extras.replaceUrl?this.location.replaceState(M,"",A):this.location.go(M,"",A)}restoreHistory(a,g=!1){if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-a.targetPageId;"popstate"!==a.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===M?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===M&&(this.resetState(a),this.browserUrlTree=a.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(M)}else"replace"===this.canceledNavigationResolution&&(g&&this.resetState(a),this.resetUrlToCurrentUrlTree())}resetState(a){this.routerState=a.currentRouterState,this.currentUrlTree=a.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(a,g,M){const A=new M2(a.id,this.serializeUrl(a.extractedUrl),g,M);this.triggerEvent(A),a.resolve(!1)}generateNgRouterState(a,g){return"computed"===this.canceledNavigationResolution?{navigationId:a,\u0275routerPageId:g}:{navigationId:a}}}return p.\u0275fac=function(a){d.$Z()},p.\u0275prov=d.Yz7({token:p,factory:function(){return io()},providedIn:"root"}),p})();function hr(p){return"imperative"!==p}let Kr=(()=>{class p{constructor(a,g,M,A,j){this.router=a,this.route=g,this.tabIndexAttribute=M,this.renderer=A,this.el=j,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Oe.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(a){this._preserveFragment=(0,d.D6c)(a)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(a){this._skipLocationChange=(0,d.D6c)(a)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(a){this._replaceUrl=(0,d.D6c)(a)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(a){if(null!=this.tabIndexAttribute)return;const g=this.renderer,M=this.el.nativeElement;null!==a?g.setAttribute(M,"tabindex",a):g.removeAttribute(M,"tabindex")}ngOnChanges(a){this.onChanges.next(this)}set routerLink(a){null!=a?(this.commands=Array.isArray(a)?a:[a],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return p.\u0275fac=function(a){return new(a||p)(d.Y36(F2),d.Y36(I2),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},p.\u0275dir=d.lG2({type:p,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(a,g){1&a&&d.NdJ("click",function(){return g.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),p})(),Y1=(()=>{class p{constructor(a,g,M){this.router=a,this.route=g,this.locationStrategy=M,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Oe.x,this.subscription=a.events.subscribe(A=>{A instanceof En&&this.updateTargetUrlAndHref()})}set preserveFragment(a){this._preserveFragment=(0,d.D6c)(a)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(a){this._skipLocationChange=(0,d.D6c)(a)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(a){this._replaceUrl=(0,d.D6c)(a)}get replaceUrl(){return this._replaceUrl}set routerLink(a){this.commands=null!=a?Array.isArray(a)?a:[a]:null}ngOnChanges(a){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(a,g,M,A,j){return!!(0!==a||g||M||A||j||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return p.\u0275fac=function(a){return new(a||p)(d.Y36(F2),d.Y36(I2),d.Y36(Kt.S$))},p.\u0275dir=d.lG2({type:p,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(a,g){1&a&&d.NdJ("click",function(A){return g.onClick(A.button,A.ctrlKey,A.shiftKey,A.altKey,A.metaKey)}),2&a&&d.uIk("target",g.target)("href",g.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),p})(),er=(()=>{class p{constructor(a,g,M,A,j,K){this.router=a,this.element=g,this.renderer=M,this.cdr=A,this.link=j,this.linkWithHref=K,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=a.events.subscribe(ue=>{ue instanceof En&&this.update()})}ngAfterContentInit(){(0,Q.of)(this.links.changes,this.linksWithHrefs.changes,(0,Q.of)(null)).pipe((0,v1.J)()).subscribe(a=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const a=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(g=>!!g).map(g=>g.onChanges);this.linkInputChangesSubscription=(0,D.D)(a).pipe((0,v1.J)()).subscribe(g=>{this.isActive!==this.isLinkActive(this.router)(g)&&this.update()})}set routerLinkActive(a){const g=Array.isArray(a)?a:a.split(" ");this.classes=g.filter(M=>!!M)}ngOnChanges(a){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const a=this.hasActiveLinks();this.isActive!==a&&(this.isActive=a,this.cdr.markForCheck(),this.classes.forEach(g=>{a?this.renderer.addClass(this.element.nativeElement,g):this.renderer.removeClass(this.element.nativeElement,g)}),a&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(a))})}isLinkActive(a){const g=function Co(p){return!!p.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return M=>!!M.urlTree&&a.isActive(M.urlTree,g)}hasActiveLinks(){const a=this.isLinkActive(this.router);return this.link&&a(this.link)||this.linkWithHref&&a(this.linkWithHref)||this.links.some(a)||this.linksWithHrefs.some(a)}}return p.\u0275fac=function(a){return new(a||p)(d.Y36(F2),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Kr,8),d.Y36(Y1,8))},p.\u0275dir=d.lG2({type:p,selectors:[["","routerLinkActive",""]],contentQueries:function(a,g,M){if(1&a&&(d.Suo(M,Kr,5),d.Suo(M,Y1,5)),2&a){let A;d.iGM(A=d.CRH())&&(g.links=A),d.iGM(A=d.CRH())&&(g.linksWithHrefs=A)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.TTD]}),p})();class S2{}let Vn=(()=>{class p{constructor(a,g,M,A,j){this.router=a,this.injector=M,this.preloadingStrategy=A,this.loader=j}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.h)(a=>a instanceof En),(0,_e.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(a,g){const M=[];for(const A of g){A.providers&&!A._injector&&(A._injector=(0,d.MMx)(A.providers,a,`Route: ${A.path}`));const j=A._injector??a,K=A._loadedInjector??j;A.loadChildren&&!A._loadedRoutes&&void 0===A.canLoad||A.loadComponent&&!A._loadedComponent?M.push(this.preloadConfig(j,A)):(A.children||A._loadedRoutes)&&M.push(this.processRoutes(K,A.children??A._loadedRoutes))}return(0,D.D)(M).pipe((0,v1.J)())}preloadConfig(a,g){return this.preloadingStrategy.preload(g,()=>{let M;M=g.loadChildren&&void 0===g.canLoad?this.loader.loadChildren(a,g):(0,Q.of)(null);const A=M.pipe((0,re.z)(j=>null===j?(0,Q.of)(void 0):(g._loadedRoutes=j.routes,g._loadedInjector=j.injector,this.processRoutes(j.injector??a,j.routes))));if(g.loadComponent&&!g._loadedComponent){const j=this.loader.loadComponent(g);return(0,D.D)([A,j]).pipe((0,v1.J)())}return A})}}return p.\u0275fac=function(a){return new(a||p)(d.LFG(F2),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(S2),d.LFG(ht))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const ro=new d.OlP("");let Sn=(()=>{class p{constructor(a,g,M={}){this.router=a,this.viewportScroller=g,this.options=M,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},M.scrollPositionRestoration=M.scrollPositionRestoration||"disabled",M.anchorScrolling=M.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(a=>{a instanceof xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=a.navigationTrigger,this.restoredId=a.restoredState?a.restoredState.navigationId:0):a instanceof En&&(this.lastId=a.id,this.scheduleScrollEvent(a,this.router.parseUrl(a.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(a=>{a instanceof qe&&(a.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(a.position):a.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(a.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(a,g){this.router.triggerEvent(new qe(a,"popstate"===this.lastSource?this.store[this.restoredId]:null,g))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return p.\u0275fac=function(a){d.$Z()},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac}),p})();function Ri(p,l){return{\u0275kind:p,\u0275providers:l}}function ps(p){return[{provide:Jt,multi:!0,useValue:p}]}function ms(){const p=(0,d.f3M)(d.zs3);return l=>{const a=p.get(d.z2F);if(l!==a.components[0])return;const g=p.get(F2),M=p.get(Zn);1===p.get(so)&&g.initialNavigation(),p.get(va,null,d.XFs.Optional)?.setUpPreloading(),p.get(ro,null,d.XFs.Optional)?.init(),g.resetRootComponentType(a.componentTypes[0]),M.closed||(M.next(),M.unsubscribe())}}const Zn=new d.OlP("",{factory:()=>new Oe.x}),so=new d.OlP("",{providedIn:"root",factory:()=>1});const va=new d.OlP("");function Xo(p){return Ri(0,[{provide:va,useExisting:Vn},{provide:S2,useExisting:p}])}const oo=new d.OlP("ROUTER_FORROOT_GUARD"),Wn=[Kt.Ye,{provide:q1,useClass:U1},{provide:F2,useFactory:io},Qn,{provide:I2,useFactory:function ws(p){return p.routerState.root},deps:[F2]},ht];function Vs(){return new d.PXZ("Router",F2)}let vs=(()=>{class p{constructor(a){}static forRoot(a,g){return{ngModule:p,providers:[Wn,[],ps(a),{provide:oo,useFactory:Hr,deps:[[F2,new d.FiY,new d.tp0]]},{provide:p1,useValue:g||{}},g?.useHash?{provide:Kt.S$,useClass:Kt.Do}:{provide:Kt.S$,useClass:Kt.b0},{provide:ro,useFactory:()=>{const p=(0,d.f3M)(F2),l=(0,d.f3M)(Kt.EM),a=(0,d.f3M)(p1);return a.scrollOffset&&l.setOffset(a.scrollOffset),new Sn(p,l,a)}},g?.preloadingStrategy?Xo(g.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Vs},g?.initialNavigation?wo(g):[],[{provide:Fr,useFactory:ms},{provide:d.tb,multi:!0,useExisting:Fr}]]}}static forChild(a){return{ngModule:p,providers:[ps(a)]}}}return p.\u0275fac=function(a){return new(a||p)(d.LFG(oo,8))},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[Fn]}),p})();function Hr(p){return"guarded"}function wo(p){return["disabled"===p.initialNavigation?Ri(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const l=(0,d.f3M)(F2);return()=>{l.setUpLocationChangeListener()}}},{provide:so,useValue:2}]).\u0275providers:[],"enabledBlocking"===p.initialNavigation?Ri(2,[{provide:so,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:l=>{const a=l.get(Kt.V_,Promise.resolve());let g=!1;return()=>a.then(()=>new Promise(A=>{const j=l.get(F2),K=l.get(Zn);(function M(A){l.get(F2).events.pipe((0,mt.h)(K=>K instanceof En||K instanceof M2||K instanceof rr),(0,it.U)(K=>K instanceof En||K instanceof M2&&(0===K.code||1===K.code)&&null),(0,mt.h)(K=>null!==K),(0,Ye.q)(1)).subscribe(()=>{A()})})(()=>{A(!0),g=!0}),j.afterPreactivation=()=>(A(!0),g||K.closed?(0,Q.of)(void 0):K),j.initialNavigation()}))}}]).\u0275providers:[]]}const Fr=new d.OlP("")},3942:(Qt,We,H)=>{H.d(We,{Z:()=>Ze});var d=H(2090),D=H(4859),Q=H(9681),Me=H(1877);class Ee{constructor(rt,nt){this._delegate=rt,this.firebase=nt,(0,Q._addComponent)(rt,new D.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Q.deleteApp)(this._delegate)))}_getService(rt,nt=Q._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const Kt=this._delegate.container.getProvider(rt);return!Kt.isInitialized()&&"EXPLICIT"===(null===(Oe=Kt.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&Kt.initialize(),Kt.getImmediate({identifier:nt})}_removeServiceInstance(rt,nt=Q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(nt)}_addComponent(rt){(0,Q._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,Q._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function ze(){const Pt=function Ae(Pt){const rt={},nt={__esModule:!0,initializeApp:function it(mt,re={}){const Ke=Q.initializeApp(mt,re);if((0,d.r3)(rt,Ke.name))return rt[Ke.name];const _e=new Pt(Ke,nt);return rt[Ke.name]=_e,_e},app:Kt,registerVersion:Q.registerVersion,setLogLevel:Q.setLogLevel,onLog:Q.onLog,apps:null,SDK_VERSION:Q.SDK_VERSION,INTERNAL:{registerComponent:function Ye(mt){const re=mt.name,Ke=re.replace("-compat","");if(Q._registerComponent(mt)&&"PUBLIC"===mt.type){const _e=(Te=Kt())=>{if("function"!=typeof Te[Ke])throw le.create("invalid-app-argument",{appName:re});return Te[Ke]()};void 0!==mt.serviceProps&&(0,d.ZB)(_e,mt.serviceProps),nt[Ke]=_e,Pt.prototype[Ke]=function(...Te){return this._getService.bind(this,re).apply(this,mt.multipleInstances?Te:[])}}return"PUBLIC"===mt.type?nt[Ke]:null},removeApp:function Oe(mt){delete rt[mt]},useAsService:function It(mt,re){return"serverAuth"===re?null:re},modularAPIs:Q}};function Kt(mt){if(!(0,d.r3)(rt,mt=mt||Q._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:mt});return rt[mt]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function ct(){return Object.keys(rt).map(mt=>rt[mt])}}),Kt.App=Pt,nt}(Ee);return Pt.INTERNAL=Object.assign(Object.assign({},Pt.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function rt(nt){(0,d.ZB)(Pt,nt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Pt}(),fe=new Me.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pt=self.firebase.SDK_VERSION;Pt&&Pt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=de;!function et(Pt){(0,Q.registerVersion)("@firebase/app-compat","0.2.0",Pt)}()},9681:(Qt,We,H)=>{H.r(We),H.d(We,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>zn,_DEFAULT_ENTRY_NAME:()=>S1,_addComponent:()=>_1,_addOrOverwriteComponent:()=>v1,_apps:()=>g1,_clearComponents:()=>gn,_components:()=>y1,_getProvider:()=>Ft,_registerComponent:()=>qn,_removeServiceInstance:()=>nn,deleteApp:()=>Jn,getApp:()=>V1,getApps:()=>fn,initializeApp:()=>Gn,onLog:()=>bn,registerVersion:()=>vn,setLogLevel:()=>cn});var d=H(5861),D=H(4859),Q=H(1877),Me=H(2090),Ee=H(8766);class De{constructor(Mt){this.container=Mt}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function le(r1){return"VERSION"===r1.getComponent()?.type}(Wt)){const w1=Wt.getImmediate();return`${w1.library}/${w1.version}`}return null}).filter(Wt=>Wt).join(" ")}}const Ae="@firebase/app",de=new Q.Yd("@firebase/app"),S1="[DEFAULT]",xt={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},g1=new Map,y1=new Map;function _1(r1,Mt){try{r1.container.addComponent(Mt)}catch(Wt){de.debug(`Component ${Mt.name} failed to register with FirebaseApp ${r1.name}`,Wt)}}function v1(r1,Mt){r1.container.addOrOverwriteComponent(Mt)}function qn(r1){const Mt=r1.name;if(y1.has(Mt))return de.debug(`There were multiple attempts to register component ${Mt}.`),!1;y1.set(Mt,r1);for(const Wt of g1.values())_1(Wt,r1);return!0}function Ft(r1,Mt){const Wt=r1.container.getProvider("heartbeat").getImmediate({optional:!0});return Wt&&Wt.triggerHeartbeat(),r1.container.getProvider(Mt)}function nn(r1,Mt,Wt=S1){Ft(r1,Mt).clearInstance(Wt)}function gn(){y1.clear()}const xn=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(Mt,Wt,w1){this._isDeleted=!1,this._options=Object.assign({},Mt),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=w1,this.container.addComponent(new D.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Mt){this._isDeleted=Mt}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const zn="9.15.0";function Gn(r1,Mt={}){let Wt=r1;"object"!=typeof Mt&&(Mt={name:Mt});const w1=Object.assign({name:S1,automaticDataCollectionEnabled:!1},Mt),T1=w1.name;if("string"!=typeof T1||!T1)throw xn.create("bad-app-name",{appName:String(T1)});if(Wt||(Wt=(0,Me.aH)()),!Wt)throw xn.create("no-options");const I1=g1.get(T1);if(I1){if((0,Me.vZ)(Wt,I1.options)&&(0,Me.vZ)(w1,I1.config))return I1;throw xn.create("duplicate-app",{appName:T1})}const Se=new D.H0(T1);for(const xe of y1.values())Se.addComponent(xe);const be=new jn(Wt,w1,Se);return g1.set(T1,be),be}function V1(r1=S1){const Mt=g1.get(r1);if(!Mt&&r1===S1)return Gn();if(!Mt)throw xn.create("no-app",{appName:r1});return Mt}function fn(){return Array.from(g1.values())}function Jn(r1){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(r1){const Mt=r1.name;g1.has(Mt)&&(g1.delete(Mt),yield Promise.all(r1.container.getProviders().map(Wt=>Wt.delete())),r1.isDeleted=!0)})).apply(this,arguments)}function vn(r1,Mt,Wt){var w1;let T1=null!==(w1=xt[r1])&&void 0!==w1?w1:r1;Wt&&(T1+=`-${Wt}`);const I1=T1.match(/\s|\//),Se=Mt.match(/\s|\//);if(I1||Se){const be=[`Unable to register library "${T1}" with version "${Mt}":`];return I1&&be.push(`library name "${T1}" contains illegal characters (whitespace or "/")`),I1&&Se&&be.push("and"),Se&&be.push(`version name "${Mt}" contains illegal characters (whitespace or "/")`),void de.warn(be.join(" "))}qn(new D.wA(`${T1}-version`,()=>({library:T1,version:Mt}),"VERSION"))}function bn(r1,Mt){if(null!==r1&&"function"!=typeof r1)throw xn.create("invalid-log-argument");(0,Q.Am)(r1,Mt)}function cn(r1){(0,Q.Ub)(r1)}const n1="firebase-heartbeat-store";let st=null;function we(){return st||(st=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(r1,Mt)=>{0===Mt&&r1.createObjectStore(n1)}}).catch(r1=>{throw xn.create("idb-open",{originalErrorMessage:r1.message})})),st}function ot(){return(ot=(0,d.Z)(function*(r1){try{return(yield we()).transaction(n1).objectStore(n1).get(h1(r1))}catch(Mt){if(Mt instanceof Me.ZR)de.warn(Mt.message);else{const Wt=xn.create("idb-get",{originalErrorMessage:Mt?.message});de.warn(Wt.message)}}})).apply(this,arguments)}function vt(r1,Mt){return s1.apply(this,arguments)}function s1(){return(s1=(0,d.Z)(function*(r1,Mt){try{const w1=(yield we()).transaction(n1,"readwrite");return yield w1.objectStore(n1).put(Mt,h1(r1)),w1.done}catch(Wt){if(Wt instanceof Me.ZR)de.warn(Wt.message);else{const w1=xn.create("idb-set",{originalErrorMessage:Wt?.message});de.warn(w1.message)}}})).apply(this,arguments)}function h1(r1){return`${r1.name}!${r1.options.appId}`}class hn{constructor(Mt){this.container=Mt,this._heartbeatsCache=null;const Wt=this.container.getProvider("app").getImmediate();this._storage=new q1(Wt),this._heartbeatsCachePromise=this._storage.read().then(w1=>(this._heartbeatsCache=w1,w1))}triggerHeartbeat(){var Mt=this;return(0,d.Z)(function*(){const w1=Mt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),T1=$1();if(null===Mt._heartbeatsCache&&(Mt._heartbeatsCache=yield Mt._heartbeatsCachePromise),Mt._heartbeatsCache.lastSentHeartbeatDate!==T1&&!Mt._heartbeatsCache.heartbeats.some(I1=>I1.date===T1))return Mt._heartbeatsCache.heartbeats.push({date:T1,agent:w1}),Mt._heartbeatsCache.heartbeats=Mt._heartbeatsCache.heartbeats.filter(I1=>{const Se=new Date(I1.date).valueOf();return Date.now()-Se<=2592e6}),Mt._storage.overwrite(Mt._heartbeatsCache)})()}getHeartbeatsHeader(){var Mt=this;return(0,d.Z)(function*(){if(null===Mt._heartbeatsCache&&(yield Mt._heartbeatsCachePromise),null===Mt._heartbeatsCache||0===Mt._heartbeatsCache.heartbeats.length)return"";const Wt=$1(),{heartbeatsToSend:w1,unsentEntries:T1}=function Kn(r1,Mt=1024){const Wt=[];let w1=r1.slice();for(const T1 of r1){const I1=Wt.find(Se=>Se.agent===T1.agent);if(I1){if(I1.dates.push(T1.date),U1(Wt)>Mt){I1.dates.pop();break}}else if(Wt.push({agent:T1.agent,dates:[T1.date]}),U1(Wt)>Mt){Wt.pop();break}w1=w1.slice(1)}return{heartbeatsToSend:Wt,unsentEntries:w1}}(Mt._heartbeatsCache.heartbeats),I1=(0,Me.L)(JSON.stringify({version:2,heartbeats:w1}));return Mt._heartbeatsCache.lastSentHeartbeatDate=Wt,T1.length>0?(Mt._heartbeatsCache.heartbeats=T1,yield Mt._storage.overwrite(Mt._heartbeatsCache)):(Mt._heartbeatsCache.heartbeats=[],Mt._storage.overwrite(Mt._heartbeatsCache)),I1})()}}function $1(){return(new Date).toISOString().substring(0,10)}class q1{constructor(Mt){this.app=Mt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Me.hl)()&&(0,Me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Mt=this;return(0,d.Z)(function*(){return(yield Mt._canUseIndexedDBPromise)&&(yield function ge(r1){return ot.apply(this,arguments)}(Mt.app))||{heartbeats:[]}})()}overwrite(Mt){var Wt=this;return(0,d.Z)(function*(){var w1;if(yield Wt._canUseIndexedDBPromise){const I1=yield Wt.read();return vt(Wt.app,{lastSentHeartbeatDate:null!==(w1=Mt.lastSentHeartbeatDate)&&void 0!==w1?w1:I1.lastSentHeartbeatDate,heartbeats:Mt.heartbeats})}})()}add(Mt){var Wt=this;return(0,d.Z)(function*(){var w1;if(yield Wt._canUseIndexedDBPromise){const I1=yield Wt.read();return vt(Wt.app,{lastSentHeartbeatDate:null!==(w1=Mt.lastSentHeartbeatDate)&&void 0!==w1?w1:I1.lastSentHeartbeatDate,heartbeats:[...I1.heartbeats,...Mt.heartbeats]})}})()}}function U1(r1){return(0,Me.L)(JSON.stringify({version:2,heartbeats:r1})).length}!function Z1(r1){qn(new D.wA("platform-logger",Mt=>new De(Mt),"PRIVATE")),qn(new D.wA("heartbeat",Mt=>new hn(Mt),"PRIVATE")),vn(Ae,"0.9.0",r1),vn(Ae,"0.9.0","esm2017"),vn("fire-js","")}("")},4859:(Qt,We,H)=>{H.d(We,{H0:()=>Ae,wA:()=>Q});var d=H(5861),D=H(2090);class Q{constructor(de,fe,Ne){this.name=de,this.instanceFactory=fe,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const Me="[DEFAULT]";class Ee{constructor(de,fe){this.name=de,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const fe=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(fe)){const Ne=new D.BH;if(this.instancesDeferred.set(fe,Ne),this.isInitialized(fe)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:fe});Xe&&Ne.resolve(Xe)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(de){var fe;const Ne=this.normalizeInstanceIdentifier(de?.identifier),Xe=null!==(fe=de?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(et){if(Xe)return null;throw et}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function le(ze){return"EAGER"===ze.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Me})}catch{}for(const[fe,Ne]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(fe);try{const et=this.getOrInitializeService({instanceIdentifier:Xe});Ne.resolve(et)}catch{}}}}clearInstance(de=Me){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,d.Z)(function*(){const fe=Array.from(de.instances.values());yield Promise.all([...fe.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...fe.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=Me){return this.instances.has(de)}getOptions(de=Me){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:fe={}}=de,Ne=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Ne,options:fe});for(const[et,Ze]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(et)&&Ze.resolve(Xe);return Xe}onInit(de,fe){var Ne;const Xe=this.normalizeInstanceIdentifier(fe),et=null!==(Ne=this.onInitCallbacks.get(Xe))&&void 0!==Ne?Ne:new Set;et.add(de),this.onInitCallbacks.set(Xe,et);const Ze=this.instances.get(Xe);return Ze&&de(Ze,Xe),()=>{et.delete(de)}}invokeOnInitCallbacks(de,fe){const Ne=this.onInitCallbacks.get(fe);if(Ne)for(const Xe of Ne)try{Xe(de,fe)}catch{}}getOrInitializeService({instanceIdentifier:de,options:fe={}}){let Ne=this.instances.get(de);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=de,ze===Me?void 0:ze),options:fe}),this.instances.set(de,Ne),this.instancesOptions.set(de,fe),this.invokeOnInitCallbacks(Ne,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Ne)}catch{}var ze;return Ne||null}normalizeInstanceIdentifier(de=Me){return this.component?this.component.multipleInstances?de:Me:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const fe=this.getProvider(de.name);if(fe.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);fe.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const fe=new Ee(de,this);return this.providers.set(de,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(Qt,We,H)=>{H.d(We,{Am:()=>ze,Ub:()=>Ae,Yd:()=>le,in:()=>D});const d=[];var D=(()=>{return(de=D||(D={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",D;var de})();const Q={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},Me=D.INFO,Ee={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},De=(de,fe,...Ne)=>{if(fe<de.logLevel)return;const Xe=(new Date).toISOString(),et=Ee[fe];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[et](`[${Xe}]  ${de.name}:`,...Ne)};class le{constructor(fe){this.name=fe,this._logLevel=Me,this._logHandler=De,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in D))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?Q[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...fe),this._logHandler(this,D.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...fe),this._logHandler(this,D.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,D.INFO,...fe),this._logHandler(this,D.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,D.WARN,...fe),this._logHandler(this,D.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...fe),this._logHandler(this,D.ERROR,...fe)}}function Ae(de){d.forEach(fe=>{fe.setLogLevel(de)})}function ze(de,fe){for(const Ne of d){let Xe=null;fe&&fe.level&&(Xe=Q[fe.level]),Ne.userLogHandler=null===de?null:(et,Ze,...Pt)=>{const rt=Pt.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Ze>=(Xe??et.logLevel)&&de({level:D[Ze].toLowerCase(),message:rt,args:Pt,type:et.name})}}}},3868:(Qt,We,H)=>{H.d(We,{BN:()=>Bn,uH:()=>Ji});var d=H(4650);function D(W){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(W)}function Me(W,ee){for(var ce=0;ce<ee.length;ce++){var ve=ee[ce];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(W,ve.key,ve)}}function De(W,ee,ce){return ee in W?Object.defineProperty(W,ee,{value:ce,enumerable:!0,configurable:!0,writable:!0}):W[ee]=ce,W}function le(W){for(var ee=1;ee<arguments.length;ee++){var ce=null!=arguments[ee]?arguments[ee]:{},ve=Object.keys(ce);"function"==typeof Object.getOwnPropertySymbols&&(ve=ve.concat(Object.getOwnPropertySymbols(ce).filter(function(je){return Object.getOwnPropertyDescriptor(ce,je).enumerable}))),ve.forEach(function(je){De(W,je,ce[je])})}return W}function Ae(W,ee){return function fe(W){if(Array.isArray(W))return W}(W)||function Xe(W,ee){var ce=[],ve=!0,je=!1,yt=void 0;try{for(var Et,Nt=W[Symbol.iterator]();!(ve=(Et=Nt.next()).done)&&(ce.push(Et.value),!ee||ce.length!==ee);ve=!0);}catch(z){je=!0,yt=z}finally{try{!ve&&null!=Nt.return&&Nt.return()}finally{if(je)throw yt}}return ce}(W,ee)||function Ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rt={},nt={};try{typeof window<"u"&&(rt=window),typeof document<"u"&&(nt=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var ct=(rt.navigator||{}).userAgent,Ye=void 0===ct?"":ct,It=rt,mt=nt,Te=!!mt.documentElement&&!!mt.head&&"function"==typeof mt.addEventListener&&"function"==typeof mt.createElement,Re=(~Ye.indexOf("MSIE")||Ye.indexOf("Trident/"),"___FONT_AWESOME___"),f1="svg-inline--fa",zn=[1,2,3,4,5,6,7,8,9,10],Gn=zn.concat([11,12,13,14,15,16,17,18,19,20]),fn={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Vt=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",fn.GROUP,fn.SWAP_OPACITY,fn.PRIMARY,fn.SECONDARY].concat(zn.map(function(W){return"".concat(W,"x")})).concat(Gn.map(function(W){return"w-".concat(W)})),It.FontAwesomeConfig||{});mt&&"function"==typeof mt.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(W){var ee=Ae(W,2),ve=ee[1],je=function bn(W){return""===W||"false"!==W&&("true"===W||W)}(function vn(W){var ee=mt.querySelector("script["+W+"]");if(ee)return ee.getAttribute(W)}(ee[0]));null!=je&&(Vt[ve]=je)});var O2=le({},{familyPrefix:"fa",replacementClass:f1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Vt);O2.autoReplaceSvg||(O2.observeMutations=!1);var n1=le({},O2);It.FontAwesomeConfig=n1;var st=It||{};st[Re]||(st[Re]={}),st[Re].styles||(st[Re].styles={}),st[Re].hooks||(st[Re].hooks={}),st[Re].shims||(st[Re].shims=[]);var we=st[Re],ge=[];Te&&((mt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(mt.readyState)||mt.addEventListener("DOMContentLoaded",function W(){mt.removeEventListener("DOMContentLoaded",W),ge.map(function(ee){return ee()})}));var Z1,h1="pending",a1="settled",Bt="fulfilled",hn="rejected",$1=function(){},Kn=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,q1=typeof setImmediate>"u"?setTimeout:setImmediate,U1=[];function r1(){for(var W=0;W<U1.length;W++)U1[W][0](U1[W][1]);U1=[],Z1=!1}function Mt(W,ee){U1.push([W,ee]),Z1||(Z1=!0,q1(r1,0))}function w1(W){var ee=W.owner,ce=ee._state,ve=ee._data,je=W[ce],yt=W.then;if("function"==typeof je){ce=Bt;try{ve=je(ve)}catch(Nt){be(yt,Nt)}}T1(yt,ve)||(ce===Bt&&I1(yt,ve),ce===hn&&be(yt,ve))}function T1(W,ee){var ce;try{if(W===ee)throw new TypeError("A promises callback cannot return that same promise.");if(ee&&("function"==typeof ee||"object"===D(ee))){var ve=ee.then;if("function"==typeof ve)return ve.call(ee,function(je){ce||(ce=!0,ee===je?Se(W,je):I1(W,je))},function(je){ce||(ce=!0,be(W,je))}),!0}}catch(je){return ce||be(W,je),!0}return!1}function I1(W,ee){(W===ee||!T1(W,ee))&&Se(W,ee)}function Se(W,ee){W._state===h1&&(W._state=a1,W._data=ee,Mt(gt,W))}function be(W,ee){W._state===h1&&(W._state=a1,W._data=ee,Mt(Be,W))}function xe(W){W._then=W._then.forEach(w1)}function gt(W){W._state=Bt,xe(W)}function Be(W){W._state=hn,xe(W),!W._handled&&Kn&&global.process.emit("unhandledRejection",W._data,W)}function jt(W){global.process.emit("rejectionHandled",W)}function Yt(W){if("function"!=typeof W)throw new TypeError("Promise resolver "+W+" is not a function");if(!(this instanceof Yt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function Wt(W,ee){function ve(je){be(ee,je)}try{W(function ce(je){I1(ee,je)},ve)}catch(je){ve(je)}}(W,this)}Yt.prototype={constructor:Yt,_state:h1,_then:null,_data:void 0,_handled:!1,then:function(ee,ce){var ve={owner:this,then:new this.constructor($1),fulfilled:ee,rejected:ce};return(ce||ee)&&!this._handled&&(this._handled=!0,this._state===hn&&Kn&&Mt(jt,this)),this._state===Bt||this._state===hn?Mt(w1,ve):this._then.push(ve),ve.then},catch:function(ee){return this.then(null,ee)}},Yt.all=function(W){if(!Array.isArray(W))throw new TypeError("You must pass an array to Promise.all().");return new Yt(function(ee,ce){var ve=[],je=0;function yt(z){return je++,function($){ve[z]=$,--je||ee(ve)}}for(var Et,Nt=0;Nt<W.length;Nt++)(Et=W[Nt])&&"function"==typeof Et.then?Et.then(yt(Nt),ce):ve[Nt]=Et;je||ee(ve)})},Yt.race=function(W){if(!Array.isArray(W))throw new TypeError("You must pass an array to Promise.race().");return new Yt(function(ee,ce){for(var je,ve=0;ve<W.length;ve++)(je=W[ve])&&"function"==typeof je.then?je.then(ee,ce):ee(je)})},Yt.resolve=function(W){return W&&"object"===D(W)&&W.constructor===Yt?W:new Yt(function(ee){ee(W)})},Yt.reject=function(W){return new Yt(function(ee,ce){ce(W)})};var F1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ue(){for(var W=12,ee="";W-- >0;)ee+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return ee}function W1(W){return"".concat(W).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _2(W){return Object.keys(W||{}).reduce(function(ee,ce){return ee+"".concat(ce,": ").concat(W[ce],";")},"")}function R1(W){return W.size!==F1.size||W.x!==F1.x||W.y!==F1.y||W.rotate!==F1.rotate||W.flipX||W.flipY}function Mn(W){var ee=W.transform,ve=W.iconWidth,je={transform:"translate(".concat(W.containerWidth/2," 256)")},yt="translate(".concat(32*ee.x,", ").concat(32*ee.y,") "),Nt="scale(".concat(ee.size/16*(ee.flipX?-1:1),", ").concat(ee.size/16*(ee.flipY?-1:1),") "),Et="rotate(".concat(ee.rotate," 0 0)");return{outer:je,inner:{transform:"".concat(yt," ").concat(Nt," ").concat(Et)},path:{transform:"translate(".concat(ve/2*-1," -256)")}}}var hi={x:0,y:0,width:"100%",height:"100%"};function T2(W){var ee=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return W.attributes&&(W.attributes.fill||ee)&&(W.attributes.fill="black"),W}function s2(W){return"g"===W.tag?W.children:[W]}function pi(W){var ee=W.icons,ce=ee.main,ve=ee.mask,je=W.prefix,yt=W.iconName,Nt=W.transform,Et=W.symbol,z=W.title,$=W.maskId,O=W.titleId,X=W.extra,me=W.watchable,Je=void 0!==me&&me,ft=ve.found?ve:ce,e1=ft.width,K1=ft.height,sn="fak"===je,ln=sn?"":"fa-w-".concat(Math.ceil(e1/K1*16)),on=[n1.replacementClass,yt?"".concat(n1.familyPrefix,"-").concat(yt):"",ln].filter(function(Er){return-1===X.classes.indexOf(Er)}).filter(function(Er){return""!==Er||!!Er}).concat(X.classes).join(" "),$n={children:[],attributes:le({},X.attributes,{"data-prefix":je,"data-icon":yt,class:on,role:X.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e1," ").concat(K1)})},In=sn&&!~X.classes.indexOf("fa-fw")?{width:"".concat(e1/K1*16*.0625,"em")}:{};Je&&($n.attributes["data-fa-i2svg"]=""),z&&$n.children.push({tag:"title",attributes:{id:$n.attributes["aria-labelledby"]||"title-".concat(O||Ue())},children:[z]});var pn=le({},$n,{prefix:je,iconName:yt,main:ce,mask:ve,maskId:$,transform:Nt,symbol:Et,styles:le({},In,X.styles)}),Dr=ve.found&&ce.found?function Y2(W){var ee=W.children,ce=W.attributes,ve=W.main,je=W.mask,yt=W.maskId,z=ve.icon,O=je.icon,X=Mn({transform:W.transform,containerWidth:je.width,iconWidth:ve.width}),me={tag:"rect",attributes:le({},hi,{fill:"white"})},Je=z.children?{children:z.children.map(T2)}:{},ft={tag:"g",attributes:le({},X.inner),children:[T2(le({tag:z.tag,attributes:le({},z.attributes,X.path)},Je))]},e1={tag:"g",attributes:le({},X.outer),children:[ft]},K1="mask-".concat(yt||Ue()),sn="clip-".concat(yt||Ue()),ln={tag:"mask",attributes:le({},hi,{id:K1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[me,e1]},on={tag:"defs",children:[{tag:"clipPath",attributes:{id:sn},children:s2(O)},ln]};return ee.push(on,{tag:"rect",attributes:le({fill:"currentColor","clip-path":"url(#".concat(sn,")"),mask:"url(#".concat(K1,")")},hi)}),{children:ee,attributes:ce}}(pn):function R2(W){var ee=W.children,ce=W.attributes,ve=W.main,je=W.transform,Nt=_2(W.styles);if(Nt.length>0&&(ce.style=Nt),R1(je)){var Et=Mn({transform:je,containerWidth:ve.width,iconWidth:ve.width});ee.push({tag:"g",attributes:le({},Et.outer),children:[{tag:"g",attributes:le({},Et.inner),children:[{tag:ve.icon.tag,children:ve.icon.children,attributes:le({},ve.icon.attributes,Et.path)}]}]})}else ee.push(ve.icon);return{children:ee,attributes:ce}}(pn),dr=Dr.attributes;return pn.children=Dr.children,pn.attributes=dr,Et?function g2(W){var ce=W.iconName,ve=W.children,yt=W.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:le({},W.attributes,{id:!0===yt?"".concat(W.prefix,"-").concat(n1.familyPrefix,"-").concat(ce):yt}),children:ve}]}]}(pn):function A2(W){var ee=W.children,ce=W.main,ve=W.mask,je=W.attributes,yt=W.styles,Nt=W.transform;if(R1(Nt)&&ce.found&&!ve.found){var $={x:ce.width/ce.height/2,y:.5};je.style=_2(le({},yt,{"transform-origin":"".concat($.x+Nt.x/16,"em ").concat($.y+Nt.y/16,"em")}))}return[{tag:"svg",attributes:je,children:ee}]}(pn)}var xi=function(ee,ce,ve,je){var z,$,O,yt=Object.keys(ee),Nt=yt.length,Et=void 0!==je?function(ee,ce){return function(ve,je,yt,Nt){return ee.call(ce,ve,je,yt,Nt)}}(ce,je):ce;for(void 0===ve?(z=1,O=ee[yt[0]]):(z=0,O=ve);z<Nt;z++)O=Et(O,ee[$=yt[z]],$,ee);return O};function M2(W,ee){var ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ve=ce.skipHooks,je=void 0!==ve&&ve,yt=Object.keys(ee).reduce(function(Nt,Et){var z=ee[Et];return z.icon?Nt[z.iconName]=z.icon:Nt[Et]=z,Nt},{});"function"!=typeof we.hooks.addPack||je?we.styles[W]=le({},we.styles[W]||{},yt):we.hooks.addPack(W,yt),"fas"===W&&M2("fa",ee)}var rr=we.styles,mi=we.shims,zr=function(){var ee=function(je){return xi(rr,function(yt,Nt,Et){return yt[Et]=xi(Nt,je,{}),yt},{})};ee(function(ve,je,yt){return je[3]&&(ve[je[3]]=yt),ve}),ee(function(ve,je,yt){var Nt=je[2];return ve[yt]=yt,Nt.forEach(function(Et){ve[Et]=yt}),ve});var ce="far"in rr;xi(mi,function(ve,je){var Nt=je[1];return"far"===Nt&&!ce&&(Nt="fas"),ve[je[0]]={prefix:Nt,iconName:je[2]},ve},{})};function qe(W,ee,ce){if(W&&W[ee]&&W[ee][ce])return{prefix:ee,iconName:ce,icon:W[ee][ce]}}function wt(W){var ee=W.tag,ce=W.attributes,ve=void 0===ce?{}:ce,je=W.children,yt=void 0===je?[]:je;return"string"==typeof W?W1(W):"<".concat(ee," ").concat(function Dn(W){return Object.keys(W||{}).reduce(function(ee,ce){return ee+"".concat(ce,'="').concat(W1(W[ce]),'" ')},"").trim()}(ve),">").concat(yt.map(wt).join(""),"</").concat(ee,">")}zr();function yi(W){this.name="MissingIcon",this.message=W||"Icon unavailable",this.stack=(new Error).stack}(yi.prototype=Object.create(Error.prototype)).constructor=yi;var Li={fill:"currentColor"},_i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ei=(le({},Li,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),le({},_i,{attributeName:"opacity"}));function or(W){var ee=W[0],ce=W[1],yt=Ae(W.slice(4),1)[0];return{found:!0,width:ee,height:ce,icon:Array.isArray(yt)?{tag:"g",attributes:{class:"".concat(n1.familyPrefix,"-").concat(fn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(n1.familyPrefix,"-").concat(fn.SECONDARY),fill:"currentColor",d:yt[0]}},{tag:"path",attributes:{class:"".concat(n1.familyPrefix,"-").concat(fn.PRIMARY),fill:"currentColor",d:yt[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:yt}}}}function li(){n1.autoAddCss&&!Wi&&(function he(W){if(W&&Te){var ee=mt.createElement("style");ee.setAttribute("type","text/css"),ee.innerHTML=W;for(var ce=mt.head.childNodes,ve=null,je=ce.length-1;je>-1;je--){var yt=ce[je],Nt=(yt.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Nt)>-1&&(ve=yt)}return mt.head.insertBefore(ee,ve),W}}(function r2(){var W="fa",ee=f1,ce=n1.familyPrefix,ve=n1.replacementClass,je='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(ce!==W||ve!==ee){var yt=new RegExp("\\.".concat(W,"\\-"),"g"),Nt=new RegExp("\\--".concat(W,"\\-"),"g"),Et=new RegExp("\\.".concat(ee),"g");je=je.replace(yt,".".concat(ce,"-")).replace(Nt,"--".concat(ce,"-")).replace(Et,".".concat(ve))}return je}()),Wi=!0)}function Bi(W,ee){return Object.defineProperty(W,"abstract",{get:ee}),Object.defineProperty(W,"html",{get:function(){return W.abstract.map(function(ve){return wt(ve)})}}),Object.defineProperty(W,"node",{get:function(){if(Te){var ve=mt.createElement("div");return ve.innerHTML=W.html,ve.children}}}),W}function Cr(W){var ee=W.prefix,ce=void 0===ee?"fa":ee,ve=W.iconName;if(ve)return qe(Ui.definitions,ce,ve)||qe(we.styles,ce,ve)}le({},Li,{cx:"256",cy:"364",r:"28"}),le({},_i,{attributeName:"r",values:"28;14;28;28;14;28;"}),le({},Ei,{values:"1;0;1;1;0;1;"}),le({},Li,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),le({},Ei,{values:"1;0;0;0;0;1;"}),le({},Li,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),le({},Ei,{values:"0;0;1;1;0;0;"});var Ui=new(function(){function W(){(function Q(W,ee){if(!(W instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,W),this.definitions={}}return function Ee(W,ee,ce){ee&&Me(W.prototype,ee),ce&&Me(W,ce)}(W,[{key:"add",value:function(){for(var ce=this,ve=arguments.length,je=new Array(ve),yt=0;yt<ve;yt++)je[yt]=arguments[yt];var Nt=je.reduce(this._pullDefinitions,{});Object.keys(Nt).forEach(function(Et){ce.definitions[Et]=le({},ce.definitions[Et]||{},Nt[Et]),M2(Et,Nt[Et]),zr()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(ce,ve){var je=ve.prefix&&ve.iconName&&ve.icon?{0:ve}:ve;return Object.keys(je).map(function(yt){var Nt=je[yt],Et=Nt.prefix,z=Nt.iconName,$=Nt.icon;ce[Et]||(ce[Et]={}),ce[Et][z]=$}),ce}}]),W}()),Wi=!1,At_transform=function(ee){return function(ee){var ce={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return ee?ee.toLowerCase().split(" ").reduce(function(ve,je){var yt=je.toLowerCase().split("-"),Nt=yt[0],Et=yt.slice(1).join("-");if(Nt&&"h"===Et)return ve.flipX=!0,ve;if(Nt&&"v"===Et)return ve.flipY=!0,ve;if(Et=parseFloat(Et),isNaN(Et))return ve;switch(Nt){case"grow":ve.size=ve.size+Et;break;case"shrink":ve.size=ve.size-Et;break;case"left":ve.x=ve.x-Et;break;case"right":ve.x=ve.x+Et;break;case"up":ve.y=ve.y-Et;break;case"down":ve.y=ve.y+Et;break;case"rotate":ve.rotate=ve.rotate+Et}return ve},ce):ce}(ee)},rn=function W2(W){return function(ee){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ve=(ee||{}).icon?ee:Cr(ee||{}),je=ce.mask;return je&&(je=(je||{}).icon?je:Cr(je||{})),W(ve,le({},ce,{mask:je}))}}(function(W){var ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ce=ee.transform,ve=void 0===ce?F1:ce,je=ee.symbol,yt=void 0!==je&&je,Nt=ee.mask,Et=void 0===Nt?null:Nt,z=ee.maskId,$=void 0===z?null:z,O=ee.title,X=void 0===O?null:O,me=ee.titleId,Je=void 0===me?null:me,ft=ee.classes,e1=void 0===ft?[]:ft,K1=ee.attributes,sn=void 0===K1?{}:K1,ln=ee.styles,on=void 0===ln?{}:ln;if(W){var $n=W.prefix,In=W.iconName,pn=W.icon;return Bi(le({type:"icon"},W),function(){return li(),n1.autoA11y&&(X?sn["aria-labelledby"]="".concat(n1.replacementClass,"-title-").concat(Je||Ue()):(sn["aria-hidden"]="true",sn.focusable="false")),pi({icons:{main:or(pn),mask:Et?or(Et.icon):{found:!1,width:null,height:null,icon:{}}},prefix:$n,iconName:In,transform:le({},F1,ve),symbol:yt,title:X,maskId:$,titleId:Je,extra:{attributes:sn,styles:on,classes:e1}})})}}),Ki=H(1481);const x2=["*"],Or=W=>{const ee={"fa-spin":W.spin,"fa-pulse":W.pulse,"fa-fw":W.fixedWidth,"fa-border":W.border,"fa-inverse":W.inverse,"fa-layers-counter":W.counter,"fa-flip-horizontal":"horizontal"===W.flip||"both"===W.flip,"fa-flip-vertical":"vertical"===W.flip||"both"===W.flip,[`fa-${W.size}`]:null!==W.size,[`fa-rotate-${W.rotate}`]:null!==W.rotate,[`fa-pull-${W.pull}`]:null!==W.pull,[`fa-stack-${W.stackItemSize}`]:null!=W.stackItemSize};return Object.keys(ee).map(ce=>ee[ce]?ce:null).filter(ce=>ce)};let k=(()=>{class W{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return W.\u0275fac=function(ce){return new(ce||W)},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),ne=(()=>{class W{constructor(){this.definitions={}}addIcons(...ce){for(const ve of ce)ve.prefix in this.definitions||(this.definitions[ve.prefix]={}),this.definitions[ve.prefix][ve.iconName]=ve}addIconPacks(...ce){for(const ve of ce){const je=Object.keys(ve).map(yt=>ve[yt]);this.addIcons(...je)}}getIconDefinition(ce,ve){return ce in this.definitions&&ve in this.definitions[ce]?this.definitions[ce][ve]:null}}return W.\u0275fac=function(ce){return new(ce||W)},W.\u0275prov=d.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),at=(()=>{class W{constructor(){this.stackItemSize="1x"}ngOnChanges(ce){if("size"in ce)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return W.\u0275fac=function(ce){return new(ce||W)},W.\u0275dir=d.lG2({type:W,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[d.TTD]}),W})(),m1=(()=>{class W{constructor(ce,ve){this.renderer=ce,this.elementRef=ve}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(ce){"size"in ce&&(null!=ce.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${ce.size.currentValue}`),null!=ce.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${ce.size.previousValue}`))}}return W.\u0275fac=function(ce){return new(ce||W)(d.Y36(d.Qsj),d.Y36(d.SBq))},W.\u0275cmp=d.Xpm({type:W,selectors:[["fa-stack"]],inputs:{size:"size"},features:[d.TTD],ngContentSelectors:x2,decls:1,vars:0,template:function(ce,ve){1&ce&&(d.F$t(),d.Hsn(0))},encapsulation:2}),W})(),Bn=(()=>{class W{constructor(ce,ve,je,yt,Nt){this.sanitizer=ce,this.config=ve,this.iconLibrary=je,this.stackItem=yt,this.classes=[],null!=Nt&&null==yt&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(ce){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let ve=null;if(ve=this.icon??this.config.fallbackIcon,ce){const je=this.findIconDefinition(ve);if(null!=je){const yt=this.buildParams();this.renderIcon(je,yt)}}}render(){this.ngOnChanges({})}findIconDefinition(ce){const ve=((W,ee)=>(W=>void 0!==W.prefix&&void 0!==W.iconName)(W)?W:Array.isArray(W)&&2===W.length?{prefix:W[0],iconName:W[1]}:"string"==typeof W?{prefix:ee,iconName:W}:void 0)(ce,this.config.defaultPrefix);return"icon"in ve?ve:this.iconLibrary.getIconDefinition(ve.prefix,ve.iconName)??((W=>{throw new Error(`Could not find icon with iconName=${W.iconName} and prefix=${W.prefix} in the icon library.`)})(ve),null)}buildParams(){const ce={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},ve="string"==typeof this.transform?At_transform(this.transform):this.transform;return{title:this.title,transform:ve,classes:[...Or(ce),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(ce,ve){const je=rn(ce,ve);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(je.html.join("\n"))}}return W.\u0275fac=function(ce){return new(ce||W)(d.Y36(Ki.H7),d.Y36(k),d.Y36(ne),d.Y36(at,8),d.Y36(m1,8))},W.\u0275cmp=d.Xpm({type:W,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(ce,ve){2&ce&&(d.Ikx("innerHTML",ve.renderedIconHTML,d.oJD),d.uIk("title",ve.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[d.TTD],decls:0,vars:0,template:function(ce,ve){},encapsulation:2}),W})(),Ji=(()=>{class W{}return W.\u0275fac=function(ce){return new(ce||W)},W.\u0275mod=d.oAB({type:W}),W.\u0275inj=d.cJS({}),W})()},6683:(Qt,We,H)=>{H.d(We,{Kz:()=>$s,_D:()=>l,jt:()=>Ls,TH:()=>nr,Vi:()=>e2,XC:()=>ss,iD:()=>B4,FF:()=>sa,IJ:()=>ka,M2:()=>Sa});var d=H(4650),D=H(6895),Q=H(9751),Me=H(515),Ee=H(9646),De=H(7579),le=H(8421),Ae=H(5577),ze=H(1144),de=H(576),fe=H(3268);const Ne=["addListener","removeListener"],Xe=["addEventListener","removeEventListener"],et=["on","off"];function Ze(m,C,f,E){if((0,de.m)(f)&&(E=f,f=void 0),E)return Ze(m,C,f).pipe((0,fe.Z)(E));const[L,G]=function Oe(m){return(0,de.m)(m.addEventListener)&&(0,de.m)(m.removeEventListener)}(m)?Xe.map(ye=>Ve=>m[ye](C,Ve,f)):function rt(m){return(0,de.m)(m.addListener)&&(0,de.m)(m.removeListener)}(m)?Ne.map(Pt(m,C)):function nt(m){return(0,de.m)(m.on)&&(0,de.m)(m.off)}(m)?et.map(Pt(m,C)):[];if(!L&&(0,ze.z)(m))return(0,Ae.z)(ye=>Ze(ye,C,f))((0,le.Xf)(m));if(!L)throw new TypeError("Invalid event target");return new Q.y(ye=>{const Ve=(...ke)=>ye.next(1<ke.length?ke:ke[0]);return L(Ve),()=>G(Ve)})}function Pt(m,C){return f=>E=>m[f](C,E)}var Kt=H(4986),it=H(3532);function Ye(m=0,C,f=Kt.P){let E=-1;return null!=C&&((0,it.K)(C)?f=C:E=C),new Q.y(L=>{let G=function ct(m){return m instanceof Date&&!isNaN(m)}(m)?+m-f.now():m;G<0&&(G=0);let ye=0;return f.schedule(function(){L.closed||(L.next(ye++),0<=E?this.schedule(void 0,E):L.complete())},G)})}const{isArray:It}=Array;function mt(m){return 1===m.length&&It(m[0])?m[0]:m}var re=H(5403);function Ke(...m){return 1===(m=mt(m)).length?(0,le.Xf)(m[0]):new Q.y(function _e(m){return C=>{let f=[];for(let E=0;f&&!C.closed&&E<m.length;E++)f.push((0,le.Xf)(m[E]).subscribe((0,re.x)(C,L=>{if(f){for(let G=0;G<f.length;G++)G!==E&&f[G].unsubscribe();f=null}C.next(L)})))}}(m))}H(1135),H(9841);var Re=H(5032);new Q.y(Re.Z);var f1=H(3269);function L1(...m){const C=(0,f1.jO)(m),f=mt(m);return f.length?new Q.y(E=>{let L=f.map(()=>[]),G=f.map(()=>!1);E.add(()=>{L=G=null});for(let ye=0;!E.closed&&ye<f.length;ye++)(0,le.Xf)(f[ye]).subscribe((0,re.x)(E,Ve=>{if(L[ye].push(Ve),L.every(ke=>ke.length)){const ke=L.map(bt=>bt.shift());E.next(C?C(...ke):ke),L.some((bt,Dt)=>!bt.length&&G[Dt])&&E.complete()}},()=>{G[ye]=!0,!L[ye].length&&E.complete()}));return()=>{L=G=null}}):Me.E}var S1=H(7272),g1=H(2722),y1=H(9300),_1=H(5698),v1=H(4004),nn=(H(8675),H(1884),H(3900)),gn=H(8505),wn=H(4482),xn=H(4671);function jn(...m){const C=(0,f1.jO)(m);return(0,wn.e)((f,E)=>{const L=m.length,G=new Array(L);let ye=m.map(()=>!1),Ve=!1;for(let ke=0;ke<L;ke++)(0,le.Xf)(m[ke]).subscribe((0,re.x)(E,bt=>{G[ke]=bt,!Ve&&!ye[ke]&&(ye[ke]=!0,(Ve=ye.every(xn.y))&&(ye=null))},Re.Z));f.subscribe((0,re.x)(E,ke=>{if(Ve){const bt=[ke,...G];E.next(C?C(...bt):bt)}}))})}var Gn=H(9718);function V1(m,C){return C?f=>(0,S1.z)(C.pipe((0,_1.q)(1),function zn(){return(0,wn.e)((m,C)=>{m.subscribe((0,re.x)(C,Re.Z))})}()),f.pipe(V1(m))):(0,Ae.z)((f,E)=>m(f,E).pipe((0,_1.q)(1),(0,Gn.h)(f)))}var Vt=H(433),vn={left:"right",right:"left",bottom:"top",top:"bottom"};function bn(m){return m.replace(/left|right|bottom|top/g,function(C){return vn[C]})}function cn(m){return m.split("-")[0]}var N2={start:"end",end:"start"};function O2(m){return m.replace(/start|end/g,function(C){return N2[C]})}var n1="top",st="bottom",we="right",ge="left",ot="auto",vt=[n1,st,we,ge],s1="start",h1="end",Bt="viewport",hn="popper",Kn=vt.reduce(function(m,C){return m.concat([C+"-"+s1,C+"-"+h1])},[]),q1=[].concat(vt,[ot]).reduce(function(m,C){return m.concat([C,C+"-"+s1,C+"-"+h1])},[]),be=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xe(m){if(null==m)return window;if("[object Window]"!==m.toString()){var C=m.ownerDocument;return C&&C.defaultView||window}return m}function gt(m){return m instanceof xe(m).Element||m instanceof Element}function Be(m){return m instanceof xe(m).HTMLElement||m instanceof HTMLElement}function jt(m){return!(typeof ShadowRoot>"u")&&(m instanceof xe(m).ShadowRoot||m instanceof ShadowRoot)}function Yt(m){return((gt(m)?m.ownerDocument:m.document)||window.document).documentElement}var O1=Math.max,en=Math.min,F1=Math.round;function Ce(){var m=navigator.userAgentData;return null!=m&&m.brands?m.brands.map(function(C){return C.brand+"/"+C.version}).join(" "):navigator.userAgent}function he(){return!/^((?!chrome|android).)*safari/i.test(Ce())}function ae(m,C,f){void 0===C&&(C=!1),void 0===f&&(f=!1);var E=m.getBoundingClientRect(),L=1,G=1;C&&Be(m)&&(L=m.offsetWidth>0&&F1(E.width)/m.offsetWidth||1,G=m.offsetHeight>0&&F1(E.height)/m.offsetHeight||1);var Ve=(gt(m)?xe(m):window).visualViewport,ke=!he()&&f,bt=(E.left+(ke&&Ve?Ve.offsetLeft:0))/L,Dt=(E.top+(ke&&Ve?Ve.offsetTop:0))/G,z1=E.width/L,b1=E.height/G;return{width:z1,height:b1,top:Dt,right:bt+z1,bottom:Dt+b1,left:bt,x:bt,y:Dt}}function Ue(m){var C=xe(m);return{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function pt(m){return ae(Yt(m)).left+Ue(m).scrollLeft}function D1(m){return xe(m).getComputedStyle(m)}function Dn(m){return m?(m.nodeName||"").toLowerCase():null}function _2(m){return"html"===Dn(m)?m:m.assignedSlot||m.parentNode||(jt(m)?m.host:null)||Yt(m)}function R1(m){var C=D1(m);return/auto|scroll|overlay|hidden/.test(C.overflow+C.overflowY+C.overflowX)}function Mn(m){return["html","body","#document"].indexOf(Dn(m))>=0?m.ownerDocument.body:Be(m)&&R1(m)?m:Mn(_2(m))}function u2(m,C){var f;void 0===C&&(C=[]);var E=Mn(m),L=E===(null==(f=m.ownerDocument)?void 0:f.body),G=xe(E),ye=L?[G].concat(G.visualViewport||[],R1(E)?E:[]):E,Ve=C.concat(ye);return L?Ve:Ve.concat(u2(_2(ye)))}function hi(m){return["table","td","th"].indexOf(Dn(m))>=0}function T2(m){return Be(m)&&"fixed"!==D1(m).position?m.offsetParent:null}function Y2(m){for(var C=xe(m),f=T2(m);f&&hi(f)&&"static"===D1(f).position;)f=T2(f);return f&&("html"===Dn(f)||"body"===Dn(f)&&"static"===D1(f).position)?C:f||function s2(m){var C=/firefox/i.test(Ce());if(/Trident/i.test(Ce())&&Be(m)&&"fixed"===D1(m).position)return null;var L=_2(m);for(jt(L)&&(L=L.host);Be(L)&&["html","body"].indexOf(Dn(L))<0;){var G=D1(L);if("none"!==G.transform||"none"!==G.perspective||"paint"===G.contain||-1!==["transform","perspective"].indexOf(G.willChange)||C&&"filter"===G.willChange||C&&G.filter&&"none"!==G.filter)return L;L=L.parentNode}return null}(m)||C}function R2(m,C){var f=C.getRootNode&&C.getRootNode();if(m.contains(C))return!0;if(f&&jt(f)){var E=C;do{if(E&&m.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function A2(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function pi(m,C,f){return C===Bt?A2(function $t(m,C){var f=xe(m),E=Yt(m),L=f.visualViewport,G=E.clientWidth,ye=E.clientHeight,Ve=0,ke=0;if(L){G=L.width,ye=L.height;var bt=he();(bt||!bt&&"fixed"===C)&&(Ve=L.offsetLeft,ke=L.offsetTop)}return{width:G,height:ye,x:Ve+pt(m),y:ke}}(m,f)):gt(C)?function g2(m,C){var f=ae(m,!1,"fixed"===C);return f.top=f.top+m.clientTop,f.left=f.left+m.clientLeft,f.bottom=f.top+m.clientHeight,f.right=f.left+m.clientWidth,f.width=m.clientWidth,f.height=m.clientHeight,f.x=f.left,f.y=f.top,f}(C,f):A2(function W1(m){var C,f=Yt(m),E=Ue(m),L=null==(C=m.ownerDocument)?void 0:C.body,G=O1(f.scrollWidth,f.clientWidth,L?L.scrollWidth:0,L?L.clientWidth:0),ye=O1(f.scrollHeight,f.clientHeight,L?L.scrollHeight:0,L?L.clientHeight:0),Ve=-E.scrollLeft+pt(m),ke=-E.scrollTop;return"rtl"===D1(L||f).direction&&(Ve+=O1(f.clientWidth,L?L.clientWidth:0)-G),{width:G,height:ye,x:Ve,y:ke}}(Yt(m)))}function k2(m){return m.split("-")[1]}function j2(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function J2(m){var ke,C=m.reference,f=m.element,E=m.placement,L=E?cn(E):null,G=E?k2(E):null,ye=C.x+C.width/2-f.width/2,Ve=C.y+C.height/2-f.height/2;switch(L){case n1:ke={x:ye,y:C.y-f.height};break;case st:ke={x:ye,y:C.y+C.height};break;case we:ke={x:C.x+C.width,y:Ve};break;case ge:ke={x:C.x-f.width,y:Ve};break;default:ke={x:C.x,y:C.y}}var bt=L?j2(L):null;if(null!=bt){var Dt="y"===bt?"height":"width";switch(G){case s1:ke[bt]=ke[bt]-(C[Dt]/2-f[Dt]/2);break;case h1:ke[bt]=ke[bt]+(C[Dt]/2-f[Dt]/2)}}return ke}function si(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function P2(m,C){return C.reduce(function(f,E){return f[E]=m,f},{})}function Pn(m,C){void 0===C&&(C={});var E=C.placement,L=void 0===E?m.placement:E,G=C.strategy,ye=void 0===G?m.strategy:G,Ve=C.boundary,ke=void 0===Ve?"clippingParents":Ve,bt=C.rootBoundary,Dt=void 0===bt?Bt:bt,z1=C.elementContext,b1=void 0===z1?hn:z1,P1=C.altBoundary,L2=void 0!==P1&&P1,dn=C.padding,Nn=void 0===dn?0:dn,Yn=si("number"!=typeof Nn?Nn:P2(Nn,vt)),fi=m.rects.popper,t2=m.elements[L2?b1===hn?"reference":hn:b1],m2=function xr(m,C,f,E){var L="clippingParents"===C?function Tn(m){var C=u2(_2(m)),E=["absolute","fixed"].indexOf(D1(m).position)>=0&&Be(m)?Y2(m):m;return gt(E)?C.filter(function(L){return gt(L)&&R2(L,E)&&"body"!==Dn(L)}):[]}(m):[].concat(C),G=[].concat(L,[f]),Ve=G.reduce(function(ke,bt){var Dt=pi(m,bt,E);return ke.top=O1(Dt.top,ke.top),ke.right=en(Dt.right,ke.right),ke.bottom=en(Dt.bottom,ke.bottom),ke.left=O1(Dt.left,ke.left),ke},pi(m,G[0],E));return Ve.width=Ve.right-Ve.left,Ve.height=Ve.bottom-Ve.top,Ve.x=Ve.left,Ve.y=Ve.top,Ve}(gt(t2)?t2:t2.contextElement||Yt(m.elements.popper),ke,Dt,ye),C2=ae(m.elements.reference),wi=J2({reference:C2,element:fi,strategy:"absolute",placement:L}),ni=A2(Object.assign({},fi,wi)),Ur=b1===hn?ni:C2,Vi={top:m2.top-Ur.top+Yn.top,bottom:Ur.bottom-m2.bottom+Yn.bottom,left:m2.left-Ur.left+Yn.left,right:Ur.right-m2.right+Yn.right},gr=m.modifiersData.offset;if(b1===hn&&gr){var Eo=gr[L];Object.keys(Vi).forEach(function(Ms){var w4=[we,st].indexOf(Ms)>=0?1:-1,Bo=[n1,st].indexOf(Ms)>=0?"y":"x";Vi[Ms]+=Eo[Bo]*w4})}return Vi}const rr={name:"flip",enabled:!0,phase:"main",fn:function M2(m){var C=m.state,f=m.options,E=m.name;if(!C.modifiersData[E]._skip){for(var L=f.mainAxis,G=void 0===L||L,ye=f.altAxis,Ve=void 0===ye||ye,ke=f.fallbackPlacements,bt=f.padding,Dt=f.boundary,z1=f.rootBoundary,b1=f.altBoundary,P1=f.flipVariations,L2=void 0===P1||P1,dn=f.allowedAutoPlacements,Nn=C.options.placement,Yn=cn(Nn),fi=ke||(Yn!==Nn&&L2?function En(m){if(cn(m)===ot)return[];var C=bn(m);return[O2(m),C,O2(C)]}(Nn):[bn(Nn)]),t2=[Nn].concat(fi).reduce(function(ir,fo){return ir.concat(cn(fo)===ot?function xi(m,C){void 0===C&&(C={});var L=C.boundary,G=C.rootBoundary,ye=C.padding,Ve=C.flipVariations,ke=C.allowedAutoPlacements,bt=void 0===ke?q1:ke,Dt=k2(C.placement),z1=Dt?Ve?Kn:Kn.filter(function(L2){return k2(L2)===Dt}):vt,b1=z1.filter(function(L2){return bt.indexOf(L2)>=0});0===b1.length&&(b1=z1);var P1=b1.reduce(function(L2,dn){return L2[dn]=Pn(m,{placement:dn,boundary:L,rootBoundary:G,padding:ye})[cn(dn)],L2},{});return Object.keys(P1).sort(function(L2,dn){return P1[L2]-P1[dn]})}(C,{placement:fo,boundary:Dt,rootBoundary:z1,padding:bt,flipVariations:L2,allowedAutoPlacements:dn}):fo)},[]),m2=C.rects.reference,C2=C.rects.popper,wi=new Map,ni=!0,Ur=t2[0],Vi=0;Vi<t2.length;Vi++){var gr=t2[Vi],Eo=cn(gr),Ms=k2(gr)===s1,w4=[n1,st].indexOf(Eo)>=0,Bo=w4?"width":"height",Os=Pn(C,{placement:gr,boundary:Dt,rootBoundary:z1,altBoundary:b1,padding:bt}),So=w4?Ms?we:ge:Ms?st:n1;m2[Bo]>C2[Bo]&&(So=bn(So));var S3=bn(So),No=[];if(G&&No.push(Os[Eo]<=0),Ve&&No.push(Os[So]<=0,Os[S3]<=0),No.every(function(ir){return ir})){Ur=gr,ni=!1;break}wi.set(gr,No)}if(ni)for(var D4=function(fo){var Qa=t2.find(function(W4){var Pa=wi.get(W4);if(Pa)return Pa.slice(0,fo).every(function(ua){return ua})});if(Qa)return Ur=Qa,"break"},la=L2?3:1;la>0&&"break"!==D4(la);la--);C.placement!==Ur&&(C.modifiersData[E]._skip=!0,C.placement=Ur,C.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function sr(m,C,f){return O1(m,en(C,f))}function _r(m){var C=ae(m),f=m.offsetWidth,E=m.offsetHeight;return Math.abs(C.width-f)<=1&&(f=C.width),Math.abs(C.height-E)<=1&&(E=C.height),{x:m.offsetLeft,y:m.offsetTop,width:f,height:E}}const as={name:"preventOverflow",enabled:!0,phase:"main",fn:function zr(m){var C=m.state,f=m.options,E=m.name,L=f.mainAxis,G=void 0===L||L,ye=f.altAxis,Ve=void 0!==ye&&ye,b1=f.tether,P1=void 0===b1||b1,L2=f.tetherOffset,dn=void 0===L2?0:L2,Nn=Pn(C,{boundary:f.boundary,rootBoundary:f.rootBoundary,padding:f.padding,altBoundary:f.altBoundary}),Yn=cn(C.placement),Rn=k2(C.placement),fi=!Rn,t2=j2(Yn),m2=function mi(m){return"x"===m?"y":"x"}(t2),C2=C.modifiersData.popperOffsets,wi=C.rects.reference,ni=C.rects.popper,Ur="function"==typeof dn?dn(Object.assign({},C.rects,{placement:C.placement})):dn,Vi="number"==typeof Ur?{mainAxis:Ur,altAxis:Ur}:Object.assign({mainAxis:0,altAxis:0},Ur),gr=C.modifiersData.offset?C.modifiersData.offset[C.placement]:null,Eo={x:0,y:0};if(C2){if(G){var Ms,w4="y"===t2?n1:ge,Bo="y"===t2?st:we,Os="y"===t2?"height":"width",So=C2[t2],S3=So+Nn[w4],No=So-Nn[Bo],Z4=P1?-ni[Os]/2:0,D4=Rn===s1?wi[Os]:ni[Os],la=Rn===s1?-ni[Os]:-wi[Os],N3=C.elements.arrow,ir=P1&&N3?_r(N3):{width:0,height:0},fo=C.modifiersData["arrow#persistent"]?C.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Qa=fo[w4],W4=fo[Bo],Pa=sr(0,wi[Os],ir[Os]),ua=fi?wi[Os]/2-Z4-Pa-Qa-Vi.mainAxis:D4-Pa-Qa-Vi.mainAxis,q4=fi?-wi[Os]/2+Z4+Pa+W4+Vi.mainAxis:la+Pa+W4+Vi.mainAxis,l6=C.elements.arrow&&Y2(C.elements.arrow),Y6=null!=(Ms=gr?.[t2])?Ms:0,u6=So+q4-Y6,Va=sr(P1?en(S3,So+ua-Y6-(l6?"y"===t2?l6.clientTop||0:l6.clientLeft||0:0)):S3,So,P1?O1(No,u6):No);C2[t2]=Va,Eo[t2]=Va-So}if(Ve){var T3,E4=C2[m2],d6="y"===m2?"height":"width",I3=E4+Nn["x"===t2?n1:ge],J6=E4-Nn["x"===t2?st:we],Q6=-1!==[n1,ge].indexOf(Yn),X6=null!=(T3=gr?.[m2])?T3:0,S4=Q6?I3:E4-wi[d6]-ni[d6]-X6+Vi.altAxis,Uo=Q6?E4+wi[d6]+ni[d6]-X6-Vi.altAxis:J6,t4=P1&&Q6?function w2(m,C,f){var E=sr(m,C,f);return E>f?f:E}(S4,E4,Uo):sr(P1?S4:I3,E4,P1?Uo:J6);C2[m2]=t4,Eo[m2]=t4-E4}C.modifiersData[E]=Eo}},requiresIfExists:["offset"]},$e={name:"arrow",enabled:!0,phase:"main",fn:function cs(m){var C,f=m.state,E=m.name,L=m.options,G=f.elements.arrow,ye=f.modifiersData.popperOffsets,Ve=cn(f.placement),ke=j2(Ve),Dt=[ge,we].indexOf(Ve)>=0?"height":"width";if(G&&ye){var z1=function(C,f){return si("number"!=typeof(C="function"==typeof C?C(Object.assign({},f.rects,{placement:f.placement})):C)?C:P2(C,vt))}(L.padding,f),b1=_r(G),P1="y"===ke?n1:ge,L2="y"===ke?st:we,dn=f.rects.reference[Dt]+f.rects.reference[ke]-ye[ke]-f.rects.popper[Dt],Nn=ye[ke]-f.rects.reference[ke],Yn=Y2(G),Rn=Yn?"y"===ke?Yn.clientHeight||0:Yn.clientWidth||0:0,C2=Rn/2-b1[Dt]/2+(dn/2-Nn/2),wi=sr(z1[P1],C2,Rn-b1[Dt]-z1[L2]);f.modifiersData[E]=((C={})[ke]=wi,C.centerOffset=wi-C2,C)}},effect:function d2(m){var C=m.state,E=m.options.element,L=void 0===E?"[data-popper-arrow]":E;null!=L&&("string"==typeof L&&!(L=C.elements.popper.querySelector(L))||!R2(C.elements.popper,L)||(C.elements.arrow=L))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zt(m,C,f){void 0===f&&(f=!1);var E=Be(C),L=Be(C)&&function wt(m){var C=m.getBoundingClientRect(),f=F1(C.width)/m.offsetWidth||1,E=F1(C.height)/m.offsetHeight||1;return 1!==f||1!==E}(C),G=Yt(C),ye=ae(m,L,f),Ve={scrollLeft:0,scrollTop:0},ke={x:0,y:0};return(E||!E&&!f)&&(("body"!==Dn(C)||R1(G))&&(Ve=function qe(m){return m!==xe(m)&&Be(m)?function He(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}(m):Ue(m)}(C)),Be(C)?((ke=ae(C,!0)).x+=C.clientLeft,ke.y+=C.clientTop):G&&(ke.x=pt(G))),{x:ye.left+Ve.scrollLeft-ke.x,y:ye.top+Ve.scrollTop-ke.y,width:ye.width,height:ye.height}}function E1(m){var C=new Map,f=new Set,E=[];function L(G){f.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(Ve){if(!f.has(Ve)){var ke=C.get(Ve);ke&&L(ke)}}),E.push(G)}return m.forEach(function(G){C.set(G.name,G)}),m.forEach(function(G){f.has(G.name)||L(G)}),E}function An(m){var C;return function(){return C||(C=new Promise(function(f){Promise.resolve().then(function(){C=void 0,f(m())})})),C}}var $2={placement:"bottom",modifiers:[],strategy:"absolute"};function I2(){for(var m=arguments.length,C=new Array(m),f=0;f<m;f++)C[f]=arguments[f];return!C.some(function(E){return!(E&&"function"==typeof E.getBoundingClientRect)})}function Fi(m){void 0===m&&(m={});var f=m.defaultModifiers,E=void 0===f?[]:f,L=m.defaultOptions,G=void 0===L?$2:L;return function(Ve,ke,bt){void 0===bt&&(bt=G);var Dt={placement:"bottom",orderedModifiers:[],options:Object.assign({},$2,G),modifiersData:{},elements:{reference:Ve,popper:ke},attributes:{},styles:{}},z1=[],b1=!1,P1={state:Dt,setOptions:function(Yn){var Rn="function"==typeof Yn?Yn(Dt.options):Yn;dn(),Dt.options=Object.assign({},G,Dt.options,Rn),Dt.scrollParents={reference:gt(Ve)?u2(Ve):Ve.contextElement?u2(Ve.contextElement):[],popper:u2(ke)};var fi=function G1(m){var C=E1(m);return be.reduce(function(f,E){return f.concat(C.filter(function(L){return L.phase===E}))},[])}(function yn(m){var C=m.reduce(function(f,E){var L=f[E.name];return f[E.name]=L?Object.assign({},L,E,{options:Object.assign({},L.options,E.options),data:Object.assign({},L.data,E.data)}):E,f},{});return Object.keys(C).map(function(f){return C[f]})}([].concat(E,Dt.options.modifiers)));return Dt.orderedModifiers=fi.filter(function(gr){return gr.enabled}),function L2(){Dt.orderedModifiers.forEach(function(Nn){var Rn=Nn.options,t2=Nn.effect;if("function"==typeof t2){var m2=t2({state:Dt,name:Nn.name,instance:P1,options:void 0===Rn?{}:Rn});z1.push(m2||function(){})}})}(),P1.update()},forceUpdate:function(){if(!b1){var Yn=Dt.elements,Rn=Yn.reference,fi=Yn.popper;if(I2(Rn,fi)){Dt.rects={reference:Zt(Rn,Y2(fi),"fixed"===Dt.options.strategy),popper:_r(fi)},Dt.reset=!1,Dt.placement=Dt.options.placement,Dt.orderedModifiers.forEach(function(gr){return Dt.modifiersData[gr.name]=Object.assign({},gr.data)});for(var m2=0;m2<Dt.orderedModifiers.length;m2++)if(!0!==Dt.reset){var C2=Dt.orderedModifiers[m2],wi=C2.fn,ni=C2.options;"function"==typeof wi&&(Dt=wi({state:Dt,options:void 0===ni?{}:ni,name:C2.name,instance:P1})||Dt)}else Dt.reset=!1,m2=-1}}},update:An(function(){return new Promise(function(Nn){P1.forceUpdate(),Nn(Dt)})}),destroy:function(){dn(),b1=!0}};if(!I2(Ve,ke))return P1;function dn(){z1.forEach(function(Nn){return Nn()}),z1=[]}return P1.setOptions(bt).then(function(Nn){!b1&&bt.onFirstUpdate&&bt.onFirstUpdate(Nn)}),P1}}var o2={passive:!0},Z2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gi(m){var C,f=m.popper,E=m.popperRect,L=m.placement,G=m.variation,ye=m.offsets,Ve=m.position,ke=m.gpuAcceleration,bt=m.adaptive,Dt=m.roundOffsets,z1=m.isFixed,b1=ye.x,P1=void 0===b1?0:b1,L2=ye.y,dn=void 0===L2?0:L2,Nn="function"==typeof Dt?Dt({x:P1,y:dn}):{x:P1,y:dn};P1=Nn.x,dn=Nn.y;var Yn=ye.hasOwnProperty("x"),Rn=ye.hasOwnProperty("y"),fi=ge,t2=n1,m2=window;if(bt){var C2=Y2(f),wi="clientHeight",ni="clientWidth";C2===xe(f)&&"static"!==D1(C2=Yt(f)).position&&"absolute"===Ve&&(wi="scrollHeight",ni="scrollWidth"),(L===n1||(L===ge||L===we)&&G===h1)&&(t2=st,dn-=(z1&&C2===m2&&m2.visualViewport?m2.visualViewport.height:C2[wi])-E.height,dn*=ke?1:-1),L!==ge&&(L!==n1&&L!==st||G!==h1)||(fi=we,P1-=(z1&&C2===m2&&m2.visualViewport?m2.visualViewport.width:C2[ni])-E.width,P1*=ke?1:-1)}var Ms,gr=Object.assign({position:Ve},bt&&Z2),Eo=!0===Dt?function es(m){var f=m.y,L=window.devicePixelRatio||1;return{x:F1(m.x*L)/L||0,y:F1(f*L)/L||0}}({x:P1,y:dn}):{x:P1,y:dn};return P1=Eo.x,dn=Eo.y,Object.assign({},gr,ke?((Ms={})[t2]=Rn?"0":"",Ms[fi]=Yn?"0":"",Ms.transform=(m2.devicePixelRatio||1)<=1?"translate("+P1+"px, "+dn+"px)":"translate3d("+P1+"px, "+dn+"px, 0)",Ms):((C={})[t2]=Rn?dn+"px":"",C[fi]=Yn?P1+"px":"",C.transform="",C))}var Ei=Fi({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Xr(m){var C=m.state,f=m.instance,E=m.options,L=E.scroll,G=void 0===L||L,ye=E.resize,Ve=void 0===ye||ye,ke=xe(C.elements.popper),bt=[].concat(C.scrollParents.reference,C.scrollParents.popper);return G&&bt.forEach(function(Dt){Dt.addEventListener("scroll",f.update,o2)}),Ve&&ke.addEventListener("resize",f.update,o2),function(){G&&bt.forEach(function(Dt){Dt.removeEventListener("scroll",f.update,o2)}),Ve&&ke.removeEventListener("resize",f.update,o2)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function ai(m){var C=m.state;C.modifiersData[m.name]=J2({reference:C.rects.reference,element:C.rects.popper,strategy:"absolute",placement:C.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function vi(m){var C=m.state,f=m.options,E=f.gpuAcceleration,L=void 0===E||E,G=f.adaptive,ye=void 0===G||G,Ve=f.roundOffsets,ke=void 0===Ve||Ve,Dt={placement:cn(C.placement),variation:k2(C.placement),popper:C.elements.popper,popperRect:C.rects.popper,gpuAcceleration:L,isFixed:"fixed"===C.options.strategy};null!=C.modifiersData.popperOffsets&&(C.styles.popper=Object.assign({},C.styles.popper,gi(Object.assign({},Dt,{offsets:C.modifiersData.popperOffsets,position:C.options.strategy,adaptive:ye,roundOffsets:ke})))),null!=C.modifiersData.arrow&&(C.styles.arrow=Object.assign({},C.styles.arrow,gi(Object.assign({},Dt,{offsets:C.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ke})))),C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-placement":C.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function yi(m){var C=m.state;Object.keys(C.elements).forEach(function(f){var E=C.styles[f]||{},L=C.attributes[f]||{},G=C.elements[f];!Be(G)||!Dn(G)||(Object.assign(G.style,E),Object.keys(L).forEach(function(ye){var Ve=L[ye];!1===Ve?G.removeAttribute(ye):G.setAttribute(ye,!0===Ve?"":Ve)}))})},effect:function Li(m){var C=m.state,f={popper:{position:C.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(C.elements.popper.style,f.popper),C.styles=f,C.elements.arrow&&Object.assign(C.elements.arrow.style,f.arrow),function(){Object.keys(C.elements).forEach(function(E){var L=C.elements[E],G=C.attributes[E]||{},Ve=Object.keys(C.styles.hasOwnProperty(E)?C.styles[E]:f[E]).reduce(function(ke,bt){return ke[bt]="",ke},{});!Be(L)||!Dn(L)||(Object.assign(L.style,Ve),Object.keys(G).forEach(function(ke){L.removeAttribute(ke)}))})}},requires:["computeStyles"]}]});const ci={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Qn(m){var C=m.state,E=m.name,L=m.options.offset,G=void 0===L?[0,0]:L,ye=q1.reduce(function(Dt,z1){return Dt[z1]=function Ss(m,C,f){var E=cn(m),L=[ge,n1].indexOf(E)>=0?-1:1,G="function"==typeof f?f(Object.assign({},C,{placement:m})):f,ye=G[0],Ve=G[1];return ye=ye||0,Ve=(Ve||0)*L,[ge,we].indexOf(E)>=0?{x:Ve,y:ye}:{x:ye,y:Ve}}(z1,C.rects,G),Dt},{}),Ve=ye[C.placement],bt=Ve.y;null!=C.modifiersData.popperOffsets&&(C.modifiersData.popperOffsets.x+=Ve.x,C.modifiersData.popperOffsets.y+=bt),C.modifiersData[E]=ye}},Si=["*"],m1=["dialog"];function H2(m){return"string"==typeof m}function Pr(m){return null!=m}function Sr(m){return(m||document.body).getBoundingClientRect()}const er={animation:!0,transitionTimerDelayMs:5},Co=()=>{},{transitionTimerDelayMs:S2}=er,A1=new Map,b2=(m,C,f,E)=>{let L=E.context||{};const G=A1.get(C);if(G)switch(E.runningTransition){case"continue":return Me.E;case"stop":m.run(()=>G.transition$.complete()),L=Object.assign(G.context,L),A1.delete(C)}const ye=f(C,E.animation,L)||Co;if(!E.animation||"none"===window.getComputedStyle(C).transitionProperty)return m.run(()=>ye()),(0,Ee.of)(void 0).pipe(function hr(m){return C=>new Q.y(f=>C.subscribe({next:ye=>m.run(()=>f.next(ye)),error:ye=>m.run(()=>f.error(ye)),complete:()=>m.run(()=>f.complete())}))}(m));const Ve=new De.x,ke=new De.x,bt=Ve.pipe(function xt(...m){return C=>(0,S1.z)(C,(0,Ee.of)(...m))}(!0));A1.set(C,{transition$:Ve,complete:()=>{ke.next(),ke.complete()},context:L});const Dt=function Y1(m){const{transitionDelay:C,transitionDuration:f}=window.getComputedStyle(m);return 1e3*(parseFloat(C)+parseFloat(f))}(C);return m.runOutsideAngular(()=>{const z1=Ze(C,"transitionend").pipe((0,g1.R)(bt),(0,y1.h)(({target:P1})=>P1===C));Ke(Ye(Dt+S2).pipe((0,g1.R)(bt)),z1,ke).pipe((0,g1.R)(bt)).subscribe(()=>{A1.delete(C),m.run(()=>{ye(),Ve.next(),Ve.complete()})})}),Ve.asObservable()},Sn=(m,C,f)=>{let{direction:E,maxHeight:L}=f;const{classList:G}=m;function ye(){G.add("collapse"),"show"===E?G.add("show"):G.remove("show")}if(C)return L||(L=function ro(m){if(typeof navigator>"u")return"0px";const{classList:C}=m,f=C.contains("show");f||C.add("show"),m.style.height="";const E=m.getBoundingClientRect().height+"px";return f||C.remove("show"),E}(m),f.maxHeight=L,m.style.height="show"!==E?L:"0px",G.remove("collapse"),G.remove("collapsing"),G.remove("show"),Sr(m),G.add("collapsing")),m.style.height="show"===E?L:"0px",()=>{ye(),G.remove("collapsing"),m.style.height=""};ye()};let qt=(()=>{class m{constructor(){this.animation=er.animation}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Ao=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),gs=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),tr=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),p=(()=>{class m{constructor(f){this._ngbConfig=f}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return m.\u0275fac=function(f){return new(f||m)(d.LFG(qt))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),l=(()=>{class m{constructor(f,E,L){this._element=f,this._zone=L,this.collapsed=!1,this.ngbCollapseChange=new d.vpe,this.shown=new d.vpe,this.hidden=new d.vpe,this.animation=E.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:f}){f.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(f=this.collapsed){this.collapsed=!f,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(f,E){return b2(this._zone,this._element.nativeElement,Sn,{animation:E,runningTransition:"stop",context:{direction:f?"hide":"show"}})}_runTransitionWithEvents(f,E){this._runTransition(f,E).subscribe(()=>{f?this.hidden.emit():this.shown.emit()})}}return m.\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(p),d.Y36(d.R0b))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[d.TTD]}),m})(),a=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),m})();var se=(()=>{return(m=se||(se={}))[m.Tab=9]="Tab",m[m.Enter=13]="Enter",m[m.Escape=27]="Escape",m[m.Space=32]="Space",m[m.PageUp=33]="PageUp",m[m.PageDown=34]="PageDown",m[m.End=35]="End",m[m.Home=36]="Home",m[m.ArrowLeft=37]="ArrowLeft",m[m.ArrowUp=38]="ArrowUp",m[m.ArrowRight=39]="ArrowRight",m[m.ArrowDown=40]="ArrowDown",se;var m})();const C1=(m,C)=>!!C&&C.some(f=>f.contains(m)),c1=(m,C)=>!C||null!=function F2(m,C){return!C||typeof m.closest>"u"?null:m.closest(C)}(m,C),On=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function H1(m,C,f,E,L,G,ye,Ve){f&&m.runOutsideAngular((m=>On?()=>setTimeout(()=>m(),100):m)(()=>{const bt=Ze(C,"keydown").pipe((0,g1.R)(L),(0,y1.h)(b1=>b1.which===se.Escape),(0,gn.b)(b1=>b1.preventDefault())),Dt=Ze(C,"mousedown").pipe((0,v1.U)(b1=>{const P1=b1.target;return 2!==b1.button&&!C1(P1,ye)&&("inside"===f?C1(P1,G)&&c1(P1,Ve):"outside"===f?!C1(P1,G):c1(P1,Ve)||!C1(P1,G))}),(0,g1.R)(L)),z1=Ze(C,"mouseup").pipe(jn(Dt),(0,y1.h)(([b1,P1])=>P1),function fn(m,C=Kt.z){const f=Ye(m,C);return V1(()=>f)}(0),(0,g1.R)(L));Ke([bt.pipe((0,v1.U)(b1=>0)),z1.pipe((0,v1.U)(b1=>1))]).subscribe(b1=>m.run(()=>E(b1)))}))}const c2=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Pi(m){const C=Array.from(m.querySelectorAll(c2)).filter(f=>-1!==f.tabIndex);return[C[0],C[C.length-1]]}const Us=/\s+/,Br=/  +/gi,ys=/^start/,_a=/^end/,H6=/-(top|left)$/,G3=/-(bottom|right)$/,$3=/^left/,Z3=/^right/,B6=/^start/,c3=/^end/;function ja({placement:m,baseClass:C}){let f=Array.isArray(m)?m:m.split(Us),L=f.findIndex(ke=>"auto"===ke);L>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(ke){null==f.find(bt=>-1!==bt.search("^"+ke))&&f.splice(L++,1,ke)});const G=f.map(ke=>function F6(m){return m.replace(ys,"left").replace(_a,"right").replace(H6,"-start").replace(G3,"-end")}(ke));return{placement:G.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!C,phase:"write",fn({state:ke}){const bt=new RegExp(C+"(-[a-z]+)*","gi"),Dt=ke.elements.popper,z1=ke.placement;let b1=Dt.className;b1=b1.replace(bt,""),b1+=` ${function O4(m,C){let[f,E]=C.split("-");const L=f.replace($3,"start").replace(Z3,"end");let G=[L];if(E){let ye=E;("left"===f||"right"===f)&&(ye=ye.replace(B6,"top").replace(c3,"bottom")),G.push(`${L}-${ye}`)}return m&&(G=G.map(ye=>`${m}-${ye}`)),G.join(" ")}(C,z1)}`,b1=b1.trim().replace(Br," "),Dt.className=b1}},rr,as,$e,{enabled:!0,name:"flip",options:{fallbackPlacements:G}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function ba(m){return m}function f4(m){return C=>(C.modifiers.push(ci,{name:"offset",options:{offset:()=>m}}),C)}new Date(1882,10,12),new Date(2174,10,25);let Ea=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez,Vt.u5]}),m})(),y3=(()=>{class m{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Sa=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275dir=d.lG2({type:m,selectors:[["",8,"navbar"]]}),m})(),nr=(()=>{class m{constructor(f,E){this.elementRef=f,this._renderer=E,this._disabled=!1}set disabled(f){this._disabled=""===f||!0===f,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return m.\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(d.Qsj))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(f,E){2&f&&(d.Ikx("tabIndex",E.disabled?-1:0),d.ekj("disabled",E.disabled))},inputs:{disabled:"disabled"}}),m})(),e2=(()=>{class m{constructor(f,E){this.dropdown=f,this.placement="bottom",this.isOpen=!1,this.nativeElement=E.nativeElement}}return m.\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Ls)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(f,E,L){if(1&f&&d.Suo(L,nr,4),2&f){let G;d.iGM(G=d.CRH())&&(E.menuItems=G)}},hostVars:4,hostBindings:function(f,E){1&f&&d.NdJ("keydown.ArrowUp",function(G){return E.dropdown.onKeyDown(G)})("keydown.ArrowDown",function(G){return E.dropdown.onKeyDown(G)})("keydown.Home",function(G){return E.dropdown.onKeyDown(G)})("keydown.End",function(G){return E.dropdown.onKeyDown(G)})("keydown.Enter",function(G){return E.dropdown.onKeyDown(G)})("keydown.Space",function(G){return E.dropdown.onKeyDown(G)})("keydown.Tab",function(G){return E.dropdown.onKeyDown(G)})("keydown.Shift.Tab",function(G){return E.dropdown.onKeyDown(G)}),2&f&&d.ekj("dropdown-menu",!0)("show",E.dropdown.isOpen())}}),m})(),Na=(()=>{class m{constructor(f,E){this.dropdown=f,this.nativeElement=E.nativeElement}}return m.\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Ls)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,E){2&f&&d.uIk("aria-expanded",E.dropdown.isOpen())}}),m})(),B4=(()=>{class m extends Na{constructor(f,E){super(f,E)}}return m.\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Ls)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,E){1&f&&d.NdJ("click",function(){return E.dropdown.toggle()})("keydown.ArrowUp",function(G){return E.dropdown.onKeyDown(G)})("keydown.ArrowDown",function(G){return E.dropdown.onKeyDown(G)})("keydown.Home",function(G){return E.dropdown.onKeyDown(G)})("keydown.End",function(G){return E.dropdown.onKeyDown(G)})("keydown.Tab",function(G){return E.dropdown.onKeyDown(G)})("keydown.Shift.Tab",function(G){return E.dropdown.onKeyDown(G)}),2&f&&d.uIk("aria-expanded",E.dropdown.isOpen())},features:[d._Bn([{provide:Na,useExisting:(0,d.Gpc)(()=>m)}]),d.qOj]}),m})(),Ls=(()=>{class m{constructor(f,E,L,G,ye,Ve,ke){this._changeDetector=f,this._document=L,this._ngZone=G,this._elementRef=ye,this._renderer=Ve,this._destroyCloseHandlers$=new De.x,this._bodyContainer=null,this._positioning=function W3(){let m=null;return{createPopper(C){if(!m){let E=(C.updatePopperOptions||ba)(ja(C));m=Ei(C.hostElement,C.targetElement,E)}},update(){m&&m.update()},setOptions(C){if(m){let E=(C.updatePopperOptions||ba)(ja(C));m.setOptions(E)}},destroy(){m&&(m.destroy(),m=null)}}}(),this._open=!1,this.openChange=new d.vpe,this.placement=E.placement,this.container=E.container,this.autoClose=E.autoClose,this.display=ke?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe((0,_1.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(f){if(f.container&&this._open&&this._applyContainer(this.container),f.placement&&!f.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),f.dropdownClass){const{currentValue:E,previousValue:L}=f.dropdownClass;this._applyCustomDropdownClass(E,L)}f.autoClose&&this._open&&(this.autoClose=f.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:f4([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),H1(this._ngZone,this._document,this.autoClose,f=>{this.close(),0===f&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(f){const E=f.which,L=this._getMenuElements();let G=-1,ye=null;const Ve=this._isEventFromToggle(f);if(!Ve&&L.length&&L.forEach((ke,bt)=>{ke.contains(f.target)&&(ye=ke),ke===this._document.activeElement&&(G=bt)}),E!==se.Space&&E!==se.Enter){if(E!==se.Tab){if(Ve||ye){if(this.open(),L.length){switch(E){case se.ArrowDown:G=Math.min(G+1,L.length-1);break;case se.ArrowUp:if(this._isDropup()&&-1===G){G=L.length-1;break}G=Math.max(G-1,0);break;case se.Home:G=0;break;case se.End:G=L.length-1}L[G].focus()}f.preventDefault()}}else if(f.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===f.target)return void("body"!==this.container||f.shiftKey?f.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const ke=this._menu.nativeElement.querySelectorAll(c2);f.shiftKey&&f.target===ke[0]?(this._anchor.nativeElement.focus(),f.preventDefault()):!f.shiftKey&&f.target===ke[ke.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Ze(f.target,"focusout").pipe((0,_1.q)(1)).subscribe(({relatedTarget:ke})=>{this._elementRef.nativeElement.contains(ke)||this.close()})}}else ye&&(!0===this.autoClose||"inside"===this.autoClose)&&Ze(ye,"click").pipe((0,_1.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(f){return this._anchor.nativeElement.contains(f.target)}_getMenuElements(){const f=this._menu;return null==f?[]:f.menuItems.filter(E=>!E.disabled).map(E=>E.elementRef.nativeElement)}_positionMenu(){const f=this._menu;this.isOpen()&&f&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(f){return Array.isArray(f)?f[0]:f.split(" ")[0]}_resetContainer(){const f=this._renderer;this._menu&&f.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(f.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(f=null){if(this._resetContainer(),"body"===f){const E=this._renderer,L=this._menu.nativeElement,G=this._bodyContainer=this._bodyContainer||E.createElement("div");E.setStyle(G,"position","absolute"),E.setStyle(L,"position","static"),E.setStyle(G,"z-index","1055"),E.appendChild(G,L),E.appendChild(this._document.body,G)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(f,E){const L="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;L&&(E&&this._renderer.removeClass(L,E),f&&this._renderer.addClass(L,f))}_applyPlacementClasses(f){const E=this._menu;if(E){f||(f=this._getFirstPlacement(this.placement));const L=this._renderer,G=this._elementRef.nativeElement;L.removeClass(G,"dropup"),L.removeClass(G,"dropdown");const{nativeElement:ye}=E;"static"===this.display?(E.placement=null,L.setAttribute(ye,"data-bs-popper","static")):(E.placement=f,L.removeAttribute(ye,"data-bs-popper"));const Ve=-1!==f.search("^top")?"dropup":"dropdown";L.addClass(G,Ve);const ke=this._bodyContainer;ke&&(L.removeClass(ke,"dropup"),L.removeClass(ke,"dropdown"),L.addClass(ke,Ve))}}}return m.\u0275fac=function(f){return new(f||m)(d.Y36(d.sBO),d.Y36(y3),d.Y36(D.K0),d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Sa,8))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdown",""]],contentQueries:function(f,E,L){if(1&f&&(d.Suo(L,e2,5),d.Suo(L,Na,5)),2&f){let G;d.iGM(G=d.CRH())&&(E._menu=G.first),d.iGM(G=d.CRH())&&(E._anchor=G.first)}},hostVars:2,hostBindings:function(f,E){2&f&&d.ekj("show",E.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[d.TTD]}),m})(),ss=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),m})();class co{constructor(C,f,E){this.nodes=C,this.viewRef=f,this.componentRef=E}}let ko=(()=>{class m{constructor(f,E){this._el=f,this._zone=E}ngOnInit(){this._zone.onStable.asObservable().pipe((0,_1.q)(1)).subscribe(()=>{b2(this._zone,this._el.nativeElement,(f,E)=>{E&&Sr(f),f.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return b2(this._zone,this._el.nativeElement,({classList:f})=>f.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return m.\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(d.R0b))},m.\u0275cmp=d.Xpm({type:m,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(f,E){2&f&&(d.Tol("modal-backdrop"+(E.backdropClass?" "+E.backdropClass:"")),d.ekj("show",!E.animation)("fade",E.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(f,E){},encapsulation:2}),m})();class $s{close(C){}dismiss(C){}}class y4{constructor(C,f,E,L){this._windowCmptRef=C,this._contentRef=f,this._backdropCmptRef=E,this._beforeDismiss=L,this._closed=new De.x,this._dismissed=new De.x,this._hidden=new De.x,C.instance.dismissEvent.subscribe(G=>{this.dismiss(G)}),this.result=new Promise((G,ye)=>{this._resolve=G,this._reject=ye}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,g1.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,g1.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(C){this._windowCmptRef&&(this._closed.next(C),this._resolve(C),this._removeModalElements())}_dismiss(C){this._dismissed.next(C),this._reject(C),this._removeModalElements()}dismiss(C){if(this._windowCmptRef)if(this._beforeDismiss){const f=this._beforeDismiss();!function _o(m){return m&&m.then}(f)?!1!==f&&this._dismiss(C):f.then(E=>{!1!==E&&this._dismiss(C)},()=>{})}else this._dismiss(C)}_removeModalElements(){const C=this._windowCmptRef.instance.hide(),f=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ee.of)(void 0);C.subscribe(()=>{const{nativeElement:E}=this._windowCmptRef.location;E.parentNode.removeChild(E),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),f.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:E}=this._backdropCmptRef.location;E.parentNode.removeChild(E),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),L1(C,f).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Po=(()=>{return(m=Po||(Po={}))[m.BACKDROP_CLICK=0]="BACKDROP_CLICK",m[m.ESC=1]="ESC",Po;var m})();let Qs=(()=>{class m{constructor(f,E,L){this._document=f,this._elRef=E,this._zone=L,this._closed$=new De.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new De.x,this.hidden=new De.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":H2(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(f){this.dismissEvent.emit(f)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,_1.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:f}=this._elRef,E={animation:this.animation,runningTransition:"stop"},ye=L1(b2(this._zone,f,()=>f.classList.remove("show"),E),b2(this._zone,this._dialogEl.nativeElement,()=>{},E));return ye.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ye}_show(){const f={animation:this.animation,runningTransition:"continue"};L1(b2(this._zone,this._elRef.nativeElement,(G,ye)=>{ye&&Sr(G),G.classList.add("show")},f),b2(this._zone,this._dialogEl.nativeElement,()=>{},f)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:f}=this._elRef;this._zone.runOutsideAngular(()=>{Ze(f,"keydown").pipe((0,g1.R)(this._closed$),(0,y1.h)(L=>L.which===se.Escape)).subscribe(L=>{this.keyboard?requestAnimationFrame(()=>{L.defaultPrevented||this._zone.run(()=>this.dismiss(Po.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let E=!1;Ze(this._dialogEl.nativeElement,"mousedown").pipe((0,g1.R)(this._closed$),(0,gn.b)(()=>E=!1),(0,nn.w)(()=>Ze(f,"mouseup").pipe((0,g1.R)(this._closed$),(0,_1.q)(1))),(0,y1.h)(({target:L})=>f===L)).subscribe(()=>{E=!0}),Ze(f,"click").pipe((0,g1.R)(this._closed$)).subscribe(({target:L})=>{f===L&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!E&&this._zone.run(()=>this.dismiss(Po.BACKDROP_CLICK))),E=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:f}=this._elRef;if(!f.contains(document.activeElement)){const E=f.querySelector("[ngbAutofocus]"),L=Pi(f)[0];(E||L||f).focus()}}_restoreFocus(){const f=this._document.body,E=this._elWithFocus;let L;L=E&&E.focus&&f.contains(E)?E:f,this._zone.runOutsideAngular(()=>{setTimeout(()=>L.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&b2(this._zone,this._elRef.nativeElement,({classList:f})=>(f.add("modal-static"),()=>f.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return m.\u0275fac=function(f){return new(f||m)(d.Y36(D.K0),d.Y36(d.SBq),d.Y36(d.R0b))},m.\u0275cmp=d.Xpm({type:m,selectors:[["ngb-modal-window"]],viewQuery:function(f,E){if(1&f&&d.Gf(m1,7),2&f){let L;d.iGM(L=d.CRH())&&(E._dialogEl=L.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(f,E){2&f&&(d.uIk("aria-modal",!0)("aria-labelledby",E.ariaLabelledBy)("aria-describedby",E.ariaDescribedBy),d.Tol("modal d-block"+(E.windowClass?" "+E.windowClass:"")),d.ekj("fade",E.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Si,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(f,E){1&f&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&f&&d.Tol("modal-dialog"+(E.size?" modal-"+E.size:"")+(E.centered?" modal-dialog-centered":"")+E.fullscreenClass+(E.scrollable?" modal-dialog-scrollable":"")+(E.modalDialogClass?" "+E.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),m})(),ra=(()=>{class m{constructor(f){this._document=f}hide(){const f=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),E=this._document.body,L=E.style,{overflow:G,paddingRight:ye}=L;if(f>0){const Ve=parseFloat(window.getComputedStyle(E).paddingRight);L.paddingRight=`${Ve+f}px`}return L.overflow="hidden",()=>{f>0&&(L.paddingRight=ye),L.overflow=G}}}return m.\u0275fac=function(f){return new(f||m)(d.LFG(D.K0))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Hn=(()=>{class m{constructor(f,E,L,G,ye,Ve){this._applicationRef=f,this._injector=E,this._document=L,this._scrollBar=G,this._rendererFactory=ye,this._ngZone=Ve,this._activeWindowCmptHasChanged=new De.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const ke=this._windowCmpts[this._windowCmpts.length-1];((m,C,f,E=!1)=>{this._ngZone.runOutsideAngular(()=>{const L=Ze(C,"focusin").pipe((0,g1.R)(f),(0,v1.U)(G=>G.target));Ze(C,"keydown").pipe((0,g1.R)(f),(0,y1.h)(G=>G.which===se.Tab),jn(L)).subscribe(([G,ye])=>{const[Ve,ke]=Pi(C);(ye===Ve||ye===C)&&G.shiftKey&&(ke.focus(),G.preventDefault()),ye===ke&&!G.shiftKey&&(Ve.focus(),G.preventDefault())}),E&&Ze(C,"click").pipe((0,g1.R)(f),jn(L),(0,v1.U)(G=>G[1])).subscribe(G=>G.focus())})})(0,ke.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(ke.location.nativeElement)}})}_restoreScrollBar(){const f=this._scrollBarRestoreFn;f&&(this._scrollBarRestoreFn=null,f())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(f,E,L){const G=L.container instanceof HTMLElement?L.container:Pr(L.container)?this._document.querySelector(L.container):this._document.body,ye=this._rendererFactory.createRenderer(null,null);if(!G)throw new Error(`The specified modal container "${L.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ve=new $s,ke=this._getContentRef(L.injector||f,E,Ve,L);let bt=!1!==L.backdrop?this._attachBackdrop(G):void 0,Dt=this._attachWindowComponent(G,ke.nodes),z1=new y4(Dt,ke,bt,L.beforeDismiss);return this._registerModalRef(z1),this._registerWindowCmpt(Dt),z1.hidden.pipe((0,_1.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ye.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ve.close=b1=>{z1.close(b1)},Ve.dismiss=b1=>{z1.dismiss(b1)},this._applyWindowOptions(Dt.instance,L),1===this._modalRefs.length&&ye.addClass(this._document.body,"modal-open"),bt&&bt.instance&&(this._applyBackdropOptions(bt.instance,L),bt.changeDetectorRef.detectChanges()),Dt.changeDetectorRef.detectChanges(),z1}get activeInstances(){return this._activeInstances}dismissAll(f){this._modalRefs.forEach(E=>E.dismiss(f))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(f){let E=(0,d.LMc)(ko,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(E.hostView),f.appendChild(E.location.nativeElement),E}_attachWindowComponent(f,E){let L=(0,d.LMc)(Qs,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:E});return this._applicationRef.attachView(L.hostView),f.appendChild(L.location.nativeElement),L}_applyWindowOptions(f,E){this._windowAttributes.forEach(L=>{Pr(E[L])&&(f[L]=E[L])})}_applyBackdropOptions(f,E){this._backdropAttributes.forEach(L=>{Pr(E[L])&&(f[L]=E[L])})}_getContentRef(f,E,L,G){return E?E instanceof d.Rgc?this._createFromTemplateRef(E,L):H2(E)?this._createFromString(E):this._createFromComponent(f,E,L,G):new co([])}_createFromTemplateRef(f,E){const G=f.createEmbeddedView({$implicit:E,close(ye){E.close(ye)},dismiss(ye){E.dismiss(ye)}});return this._applicationRef.attachView(G),new co([G.rootNodes],G)}_createFromString(f){const E=this._document.createTextNode(`${f}`);return new co([[E]])}_createFromComponent(f,E,L,G){const ye=d.zs3.create({providers:[{provide:$s,useValue:L}],parent:f}),Ve=(0,d.LMc)(E,{environmentInjector:this._applicationRef.injector,elementInjector:ye}),ke=Ve.location.nativeElement;return G.scrollable&&ke.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ve.hostView),new co([[ke]],Ve.hostView,Ve)}_setAriaHidden(f){const E=f.parentElement;E&&f!==this._document.body&&(Array.from(E.children).forEach(L=>{L!==f&&"SCRIPT"!==L.nodeName&&(this._ariaHiddenValues.set(L,L.getAttribute("aria-hidden")),L.setAttribute("aria-hidden","true"))}),this._setAriaHidden(E))}_revertAriaHidden(){this._ariaHiddenValues.forEach((f,E)=>{f?E.setAttribute("aria-hidden",f):E.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(f){const E=()=>{const L=this._modalRefs.indexOf(f);L>-1&&(this._modalRefs.splice(L,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(f),this._activeInstances.emit(this._modalRefs),f.result.then(E,E)}_registerWindowCmpt(f){this._windowCmpts.push(f),this._activeWindowCmptHasChanged.next(),f.onDestroy(()=>{const E=this._windowCmpts.indexOf(f);E>-1&&(this._windowCmpts.splice(E,1),this._activeWindowCmptHasChanged.next())})}}return m.\u0275fac=function(f){return new(f||m)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(D.K0),d.LFG(ra),d.LFG(d.FYo),d.LFG(d.R0b))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),t6=(()=>{class m{constructor(f){this._ngbConfig=f,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return m.\u0275fac=function(f){return new(f||m)(d.LFG(qt))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),sa=(()=>{class m{constructor(f,E,L){this._injector=f,this._modalStack=E,this._config=L}open(f,E={}){const L={...this._config,animation:this._config.animation,...E};return this._modalStack.open(this._injector,f,L)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(f){this._modalStack.dismissAll(f)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return m.\u0275fac=function(f){return new(f||m)(d.LFG(d.zs3),d.LFG(Hn),d.LFG(t6))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Vo=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({providers:[sa]}),m})(),xa=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),S=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),mr=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),C3=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),j4=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),q6=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),a6=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),R0=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),m})();new d.OlP("live announcer delay",{providedIn:"root",factory:function D3(){return 100}});let E3=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[D.ez]}),m})(),M4=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),m})();const $4=[Ao,gs,tr,a,Ea,ss,Vo,xa,M4,S,mr,C3,j4,q6,a6,R0,E3];let ka=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[$4,Ao,gs,tr,a,Ea,ss,Vo,xa,M4,S,mr,C3,j4,q6,a6,R0,E3]}),m})()},259:(Qt,We,H)=>{H.d(We,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=H(9681);(0,d.registerVersion)("firebase","9.15.0","app")},9260:(Qt,We,H)=>{H.d(We,{Z:()=>d.Z});var d=H(3942);d.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(Qt,We,H)=>{H.r(We);var d=H(5861),D=H(3942),Q=H(2090),Me=H(9681),Ee=H(1877),De=H(655),le=H(4859);const Ze=function Xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pt=function et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new Q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new Ee.Yd("@firebase/auth");function Kt(S,...v){Oe.logLevel<=Ee.in.ERROR&&Oe.error(`Auth (${Me.SDK_VERSION}): ${S}`,...v)}function it(S,...v){throw mt(S,...v)}function ct(S,...v){return mt(S,...v)}function Ye(S,v,b){const T=Object.assign(Object.assign({},Pt()),{[v]:b});return new Q.LL("auth","Firebase",T).create(v,{appName:S.name})}function It(S,v,b){if(!(v instanceof b))throw b.name!==v.constructor.name&&it(S,"argument-error"),Ye(S,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(S,...v){if("string"!=typeof S){const b=v[0],T=[...v.slice(1)];return T[0]&&(T[0].appName=S.name),S._errorFactory.create(b,...T)}return rt.create(S,...v)}function re(S,v,...b){if(!S)throw mt(v,...b)}function Ke(S){const v="INTERNAL ASSERTION FAILED: "+S;throw Kt(v),new Error(v)}function _e(S,v){S||Ke(v)}const Te=new Map;function Qe(S){_e(S instanceof Function,"Expected a class definition");let v=Te.get(S);return v?(_e(v instanceof S,"Instance stored in cache mismatched with class"),v):(v=new S,Te.set(S,v),v)}function Tt(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.href)||""}function f1(){return"http:"===L1()||"https:"===L1()}function L1(){var S;return typeof self<"u"&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class g1{constructor(v,b){this.shortDelay=v,this.longDelay=b,_e(b>v,"Short delay should be less than long delay!"),this.isMobile=(0,Q.uI)()||(0,Q.b$)()}get(){return function S1(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(f1()||(0,Q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function y1(S,v){_e(S.emulator,"Emulator should always be set here");const{url:b}=S.emulator;return v?`${b}${v.startsWith("/")?v.slice(1):v}`:b}class _1{static initialize(v,b,T){this.fetchImpl=v,b&&(this.headersImpl=b),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const v1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qn=new g1(3e4,6e4);function Ft(S,v){return S.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:S.tenantId}):v}function nn(S,v,b,T){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(S,v,b,T,q={}){return wn(S,q,(0,d.Z)(function*(){let ie={},Ge={};T&&("GET"===v?Ge=T:ie={body:JSON.stringify(T)});const Ct=(0,Q.xO)(Object.assign({key:S.config.apiKey},Ge)).slice(1),d1=yield S._getAdditionalHeaders();return d1["Content-Type"]="application/json",S.languageCode&&(d1["X-Firebase-Locale"]=S.languageCode),_1.fetch()(Gn(S,S.config.apiHost,b,Ct),Object.assign({method:v,headers:d1,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function wn(S,v,b){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(S,v,b){S._canInitEmulator=!1;const T=Object.assign(Object.assign({},v1),v);try{const q=new V1(S),ie=yield Promise.race([b(),q.promise]);q.clearNetworkTimeout();const Ge=yield ie.json();if("needConfirmation"in Ge)throw fn(S,"account-exists-with-different-credential",Ge);if(ie.ok&&!("errorMessage"in Ge))return Ge;{const Ct=ie.ok?Ge.errorMessage:Ge.error.message,[d1,x1]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===d1)throw fn(S,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===d1)throw fn(S,"email-already-in-use",Ge);if("USER_DISABLED"===d1)throw fn(S,"user-disabled",Ge);const mn=T[d1]||d1.toLowerCase().replace(/[_\s]+/g,"-");if(x1)throw Ye(S,mn,x1);it(S,mn)}}catch(q){if(q instanceof Q.ZR)throw q;it(S,"network-request-failed")}})).apply(this,arguments)}function jn(S,v,b,T){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(S,v,b,T,q={}){const ie=yield nn(S,v,b,T,q);return"mfaPendingCredential"in ie&&it(S,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function Gn(S,v,b,T){const q=`${v}${b}?${T}`;return S.config.emulator?y1(S.config,q):`${S.config.apiScheme}://${q}`}class V1{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((b,T)=>{this.timer=setTimeout(()=>T(ct(this.auth,"network-request-failed")),qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(S,v,b){const T={appName:S.name};b.email&&(T.email=b.email),b.phoneNumber&&(T.phoneNumber=b.phoneNumber);const q=ct(S,v,T);return q.customData._tokenResponse=b,q}function Vt(){return(Vt=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function vn(S,v){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function cn(S,v){return N2.apply(this,arguments)}function N2(){return(N2=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function O2(S){if(S)try{const v=new Date(Number(S));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function we(){return(we=(0,d.Z)(function*(S,v=!1){const b=(0,Q.m9)(S),T=yield b.getIdToken(v),q=ot(T);re(q&&q.exp&&q.auth_time&&q.iat,b.auth,"internal-error");const ie="object"==typeof q.firebase?q.firebase:void 0,Ge=ie?.sign_in_provider;return{claims:q,token:T,authTime:O2(ge(q.auth_time)),issuedAtTime:O2(ge(q.iat)),expirationTime:O2(ge(q.exp)),signInProvider:Ge||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function ge(S){return 1e3*Number(S)}function ot(S){const[v,b,T]=S.split(".");if(void 0===v||void 0===b||void 0===T)return Kt("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,Q.tV)(b);return q?JSON.parse(q):(Kt("Failed to decode base64 JWT payload"),null)}catch(q){return Kt("Caught error parsing JWT payload as JSON",q?.toString()),null}}function s1(S,v){return h1.apply(this,arguments)}function h1(){return(h1=(0,d.Z)(function*(S,v,b=!1){if(b)return v;try{return yield v}catch(T){throw T instanceof Q.ZR&&a1(T)&&S.auth.currentUser===S&&(yield S.auth.signOut()),T}})).apply(this,arguments)}function a1({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Bt{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var b;if(v){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const q=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(v=!1){var b=this;if(!this.isRunning)return;const T=this.getInterval(v);this.timerId=setTimeout((0,d.Z)(function*(){yield b.iteration()}),T)}iteration(){var v=this;return(0,d.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&v.schedule(!0))}v.schedule()})()}}class hn{constructor(v,b){this.createdAt=v,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=O2(this.lastLoginAt),this.creationTime=O2(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $1(S){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(S){var v;const b=S.auth,T=yield S.getIdToken(),q=yield s1(S,cn(b,{idToken:T}));re(q?.users.length,b,"internal-error");const ie=q.users[0];S._notifyReloadListener(ie);const Ge=null!==(v=ie.providerUserInfo)&&void 0!==v&&v.length?r1(ie.providerUserInfo):[],Ct=Z1(S.providerData,Ge),mn=!!S.isAnonymous&&!(S.email&&ie.passwordHash||Ct?.length),an={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:Ct,metadata:new hn(ie.createdAt,ie.lastLoginAt),isAnonymous:mn};Object.assign(S,an)})).apply(this,arguments)}function U1(){return(U1=(0,d.Z)(function*(S){const v=(0,Q.m9)(S);yield $1(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Z1(S,v){return[...S.filter(T=>!v.some(q=>q.providerId===T.providerId)),...v]}function r1(S){return S.map(v=>{var{providerId:b}=v,T=(0,De._T)(v,["providerId"]);return{providerId:b,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Wt(){return(Wt=(0,d.Z)(function*(S,v){const b=yield wn(S,{},(0,d.Z)(function*(){const T=(0,Q.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:q,apiKey:ie}=S.config,Ge=Gn(S,q,"/v1/token",`key=${ie}`),Ct=yield S._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",_1.fetch()(Ge,{method:"POST",headers:Ct,body:T})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class w1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){re(v.idToken,"internal-error"),re(typeof v.idToken<"u","internal-error"),re(typeof v.refreshToken<"u","internal-error");const b="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function vt(S){const v=ot(S);return re(v,"internal-error"),re(typeof v.exp<"u","internal-error"),re(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,b)}getToken(v,b=!1){var T=this;return(0,d.Z)(function*(){return re(!T.accessToken||T.refreshToken,v,"user-token-expired"),b||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(v,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,b){var T=this;return(0,d.Z)(function*(){const{accessToken:q,refreshToken:ie,expiresIn:Ge}=yield function Mt(S,v){return Wt.apply(this,arguments)}(v,b);T.updateTokensAndExpiration(q,ie,Number(Ge))})()}updateTokensAndExpiration(v,b,T){this.refreshToken=b||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(v,b){const{refreshToken:T,accessToken:q,expirationTime:ie}=b,Ge=new w1;return T&&(re("string"==typeof T,"internal-error",{appName:v}),Ge.refreshToken=T),q&&(re("string"==typeof q,"internal-error",{appName:v}),Ge.accessToken=q),ie&&(re("number"==typeof ie,"internal-error",{appName:v}),Ge.expirationTime=ie),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new w1,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function T1(S,v){re("string"==typeof S||typeof S>"u","internal-error",{appName:v})}class I1{constructor(v){var{uid:b,auth:T,stsTokenManager:q}=v,ie=(0,De._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=T,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new hn(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(v){var b=this;return(0,d.Z)(function*(){const T=yield s1(b,b.stsTokenManager.getToken(b.auth,v));return re(T,b.auth,"internal-error"),b.accessToken!==T&&(b.accessToken=T,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),T})()}getIdTokenResult(v){return function st(S){return we.apply(this,arguments)}(this,v)}reload(){return function q1(S){return U1.apply(this,arguments)}(this)}_assign(v){this!==v&&(re(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(b=>Object.assign({},b)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new I1(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,b=!1){var T=this;return(0,d.Z)(function*(){let q=!1;v.idToken&&v.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(v),q=!0),b&&(yield $1(T)),yield T.auth._persistUserIfCurrent(T),q&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var v=this;return(0,d.Z)(function*(){const b=yield v.getIdToken();return yield s1(v,function Jn(S,v){return Vt.apply(this,arguments)}(v.auth,{idToken:b})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,b){var T,q,ie,Ge,Ct,d1,x1,mn;const an=null!==(T=b.displayName)&&void 0!==T?T:void 0,mr=null!==(q=b.email)&&void 0!==q?q:void 0,Yr=null!==(ie=b.phoneNumber)&&void 0!==ie?ie:void 0,ca=null!==(Ge=b.photoURL)&&void 0!==Ge?Ge:void 0,C3=null!==(Ct=b.tenantId)&&void 0!==Ct?Ct:void 0,La=null!==(d1=b._redirectEventId)&&void 0!==d1?d1:void 0,Ya=null!==(x1=b.createdAt)&&void 0!==x1?x1:void 0,j4=null!==(mn=b.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:i6,emailVerified:r6,isAnonymous:Cs,providerData:s6,stsTokenManager:M3}=b;re(i6&&M3,v,"internal-error");const Fo=w1.fromJSON(this.name,M3);re("string"==typeof i6,v,"internal-error"),T1(an,v.name),T1(mr,v.name),re("boolean"==typeof r6,v,"internal-error"),re("boolean"==typeof Cs,v,"internal-error"),T1(Yr,v.name),T1(ca,v.name),T1(C3,v.name),T1(La,v.name),T1(Ya,v.name),T1(j4,v.name);const w3=new I1({uid:i6,auth:v,email:mr,emailVerified:r6,displayName:an,isAnonymous:Cs,photoURL:ca,phoneNumber:Yr,tenantId:C3,stsTokenManager:Fo,createdAt:Ya,lastLoginAt:j4});return s6&&Array.isArray(s6)&&(w3.providerData=s6.map(Oa=>Object.assign({},Oa))),La&&(w3._redirectEventId=La),w3}static _fromIdTokenResponse(v,b,T=!1){return(0,d.Z)(function*(){const q=new w1;q.updateFromServerResponse(b);const ie=new I1({uid:b.localId,auth:v,stsTokenManager:q,isAnonymous:T});return yield $1(ie),ie})()}}const be=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(b,T){var q=this;return(0,d.Z)(function*(){q.storage[b]=T})()}_get(b){var T=this;return(0,d.Z)(function*(){const q=T.storage[b];return void 0===q?null:q})()}_remove(b){var T=this;return(0,d.Z)(function*(){delete T.storage[b]})()}_addListener(b,T){}_removeListener(b,T){}}return S.type="NONE",S})();function xe(S,v,b){return`firebase:${S}:${v}:${b}`}class gt{constructor(v,b,T){this.persistence=v,this.auth=b,this.userKey=T;const{config:q,name:ie}=this.auth;this.fullUserKey=xe(this.userKey,q.apiKey,ie),this.fullPersistenceKey=xe("persistence",q.apiKey,ie),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,d.Z)(function*(){const b=yield v.persistence._get(v.fullUserKey);return b?I1._fromJSON(v.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var b=this;return(0,d.Z)(function*(){if(b.persistence===v)return;const T=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=v,T?b.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,b,T="authUser"){return(0,d.Z)(function*(){if(!b.length)return new gt(Qe(be),v,T);const q=(yield Promise.all(b.map(function(){var x1=(0,d.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return x1.apply(this,arguments)}}()))).filter(x1=>x1);let ie=q[0]||Qe(be);const Ge=xe(T,v.config.apiKey,v.name);let Ct=null;for(const x1 of b)try{const mn=yield x1._get(Ge);if(mn){const an=I1._fromJSON(v,mn);x1!==ie&&(Ct=an),ie=x1;break}}catch{}const d1=q.filter(x1=>x1._shouldAllowMigration);return ie._shouldAllowMigration&&d1.length?(ie=d1[0],Ct&&(yield ie._set(Ge,Ct.toJSON())),yield Promise.all(b.map(function(){var x1=(0,d.Z)(function*(mn){if(mn!==ie)try{yield mn._remove(Ge)}catch{}});return function(mn){return x1.apply(this,arguments)}}())),new gt(ie,v,T)):new gt(ie,v,T)})()}}function Be(S){const v=S.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(en(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(jt(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(Ce(v))return"Blackberry";if(he(v))return"Webos";if(Yt(v))return"Safari";if((v.includes("chrome/")||O1(v))&&!v.includes("edge/"))return"Chrome";if(F1(v))return"Android";{const T=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function jt(S=(0,Q.z$)()){return/firefox\//i.test(S)}function Yt(S=(0,Q.z$)()){const v=S.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function O1(S=(0,Q.z$)()){return/crios\//i.test(S)}function en(S=(0,Q.z$)()){return/iemobile/i.test(S)}function F1(S=(0,Q.z$)()){return/android/i.test(S)}function Ce(S=(0,Q.z$)()){return/blackberry/i.test(S)}function he(S=(0,Q.z$)()){return/webos/i.test(S)}function ae(S=(0,Q.z$)()){return/iphone|ipad|ipod/i.test(S)||/macintosh/i.test(S)&&/mobile/i.test(S)}function D1(S=(0,Q.z$)()){return ae(S)||F1(S)||he(S)||Ce(S)||/windows phone/i.test(S)||en(S)}function Dn(S,v=[]){let b;switch(S){case"Browser":b=Be((0,Q.z$)());break;case"Worker":b=`${Be((0,Q.z$)())}-${S}`;break;default:b=S}const T=v.length?v.join(","):"FirebaseCore-web";return`${b}/JsCore/${Me.SDK_VERSION}/${T}`}class _2{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,b){const T=ie=>new Promise((Ge,Ct)=>{try{Ge(v(ie))}catch(d1){Ct(d1)}});T.onAbort=b,this.queue.push(T);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(v){var b=this;return(0,d.Z)(function*(){if(b.auth.currentUser===v)return;const T=[];try{for(const q of b.queue)yield q(v),q.onAbort&&T.push(q.onAbort)}catch(q){T.reverse();for(const ie of T)try{ie()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}class R1{constructor(v,b,T){this.app=v,this.heartbeatServiceProvider=b,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u2(this),this.idTokenSubscription=new u2(this),this.beforeStateQueue=new _2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(v,b){var T=this;return b&&(this._popupRedirectResolver=Qe(b)),this._initializationPromise=this.queue((0,d.Z)(function*(){var q,ie;if(!T._deleted&&(T.persistenceManager=yield gt.create(T,v),!T._deleted)){if(null!==(q=T._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(b),T.lastNotifiedUid=(null===(ie=T.currentUser)||void 0===ie?void 0:ie.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,d.Z)(function*(){if(v._deleted)return;const b=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||b){if(v.currentUser&&b&&v.currentUser.uid===b.uid)return v._currentUser._assign(b),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(b,!0)}})()}initializeCurrentUser(v){var b=this;return(0,d.Z)(function*(){var T;const q=yield b.assertedPersistence.getCurrentUser();let ie=q,Ge=!1;if(v&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Ct=null===(T=b.redirectUser)||void 0===T?void 0:T._redirectEventId,d1=ie?._redirectEventId,x1=yield b.tryRedirectSignIn(v);(!Ct||Ct===d1)&&x1?.user&&(ie=x1.user,Ge=!0)}if(!ie)return b.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Ge)try{yield b.beforeStateQueue.runMiddleware(ie)}catch(Ct){ie=q,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Ct))}return ie?b.reloadAndSetCurrentUserOrClear(ie):b.directlySetCurrentUser(null)}return re(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ie._redirectEventId?b.directlySetCurrentUser(ie):b.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(v){var b=this;return(0,d.Z)(function*(){let T=null;try{T=yield b._popupRedirectResolver._completeRedirectFn(b,v,!0)}catch{yield b._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(v){var b=this;return(0,d.Z)(function*(){try{yield $1(v)}catch(T){if("auth/network-request-failed"!==T?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function xt(){if(typeof navigator>"u")return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var v=this;return(0,d.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var b=this;return(0,d.Z)(function*(){const T=v?(0,Q.m9)(v):null;return T&&re(T.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(T&&T._clone(b))})()}_updateCurrentUser(v,b=!1){var T=this;return(0,d.Z)(function*(){if(!T._deleted)return v&&re(T.tenantId===v.tenantId,T,"tenant-id-mismatch"),b||(yield T.beforeStateQueue.runMiddleware(v)),T.queue((0,d.Z)(function*(){yield T.directlySetCurrentUser(v),T.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,d.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var b=this;return this.queue((0,d.Z)(function*(){yield b.assertedPersistence.setPersistence(Qe(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new Q.LL("auth","Firebase",v())}onAuthStateChanged(v,b,T){return this.registerStateListener(this.authStateSubscription,v,b,T)}beforeAuthStateChanged(v,b){return this.beforeStateQueue.pushCallback(v,b)}onIdTokenChanged(v,b,T){return this.registerStateListener(this.idTokenSubscription,v,b,T)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,b){var T=this;return(0,d.Z)(function*(){const q=yield T.getOrInitRedirectPersistenceManager(b);return null===v?q.removeCurrentUser():q.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var b=this;return(0,d.Z)(function*(){if(!b.redirectPersistenceManager){const T=v&&Qe(v)||b._popupRedirectResolver;re(T,b,"argument-error"),b.redirectPersistenceManager=yield gt.create(b,[Qe(T._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(v){var b=this;return(0,d.Z)(function*(){var T,q;return b._isInitialized&&(yield b.queue((0,d.Z)(function*(){}))),(null===(T=b._currentUser)||void 0===T?void 0:T._redirectEventId)===v?b._currentUser:(null===(q=b.redirectUser)||void 0===q?void 0:q._redirectEventId)===v?b.redirectUser:null})()}_persistUserIfCurrent(v){var b=this;return(0,d.Z)(function*(){if(v===b.currentUser)return b.queue((0,d.Z)(function*(){return b.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(b=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,b,T,q){if(this._deleted)return()=>{};const ie="function"==typeof b?b:b.next.bind(b),Ge=this._isInitialized?Promise.resolve():this._initializationPromise;return re(Ge,this,"internal-error"),Ge.then(()=>ie(this.currentUser)),"function"==typeof b?v.addObserver(b,T,q):v.addObserver(b)}directlySetCurrentUser(v){var b=this;return(0,d.Z)(function*(){b.currentUser&&b.currentUser!==v&&b._currentUser._stopProactiveRefresh(),v&&b.isProactiveRefreshEnabled&&v._startProactiveRefresh(),b.currentUser=v,v?yield b.assertedPersistence.setCurrentUser(v):yield b.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Dn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,d.Z)(function*(){var b;const T={"X-Client-Version":v.clientVersion};v.app.options.appId&&(T["X-Firebase-gmpid"]=v.app.options.appId);const q=yield null===(b=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return q&&(T["X-Firebase-Client"]=q),T})()}}function Mn(S){return(0,Q.m9)(S)}class u2{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,Q.ne)(b=>this.observer=b)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function T2(S){const v=S.indexOf(":");return v<0?"":S.substr(0,v+1)}function Y2(S){if(!S)return null;const v=Number(S);return isNaN(v)?null:v}class A2{constructor(v,b){this.providerId=v,this.signInMethod=b}toJSON(){return Ke("not implemented")}_getIdTokenResponse(v){return Ke("not implemented")}_linkToIdToken(v,b){return Ke("not implemented")}_getReauthenticationResolver(v){return Ke("not implemented")}}function g2(S,v){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:resetPassword",Ft(S,v))})).apply(this,arguments)}function Tn(S,v){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function k2(S,v){return j2.apply(this,arguments)}function j2(){return(j2=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:update",Ft(S,v))})).apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signInWithPassword",Ft(S,v))})).apply(this,arguments)}function si(S,v){return P2.apply(this,arguments)}function P2(){return(P2=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:sendOobCode",Ft(S,v))})).apply(this,arguments)}function Pn(S,v){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(S,v){return si(S,v)})).apply(this,arguments)}function En(S,v){return M2.apply(this,arguments)}function M2(){return(M2=(0,d.Z)(function*(S,v){return si(S,v)})).apply(this,arguments)}function rr(S,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(S,v){return si(S,v)})).apply(this,arguments)}function sr(S,v){return w2.apply(this,arguments)}function w2(){return(w2=(0,d.Z)(function*(S,v){return si(S,v)})).apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signInWithEmailLink",Ft(S,v))})).apply(this,arguments)}function V2(){return(V2=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signInWithEmailLink",Ft(S,v))})).apply(this,arguments)}class cs extends A2{constructor(v,b,T,q=null){super("password",T),this._email=v,this._password=b,this._tenantId=q}static _fromEmailAndPassword(v,b){return new cs(v,b,"password")}static _fromEmailAndCode(v,b,T=null){return new cs(v,b,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(v){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return function J2(S,v){return ri.apply(this,arguments)}(v,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function _r(S,v){return zr.apply(this,arguments)}(v,{email:b._email,oobCode:b._password});default:it(v,"internal-error")}})()}_linkToIdToken(v,b){var T=this;return(0,d.Z)(function*(){switch(T.signInMethod){case"password":return Tn(v,{idToken:b,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function as(S,v){return V2.apply(this,arguments)}(v,{idToken:b,email:T._email,oobCode:T._password});default:it(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function d2(S,v){return $e.apply(this,arguments)}function $e(){return($e=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signInWithIdp",Ft(S,v))})).apply(this,arguments)}class qe extends A2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const b=new qe(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(b.idToken=v.idToken),v.accessToken&&(b.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(b.nonce=v.nonce),v.pendingToken&&(b.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(b.accessToken=v.oauthToken,b.secret=v.oauthTokenSecret):it("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:q}=b,ie=(0,De._T)(b,["providerId","signInMethod"]);if(!T||!q)return null;const Ge=new qe(T,q);return Ge.idToken=ie.idToken||void 0,Ge.accessToken=ie.accessToken||void 0,Ge.secret=ie.secret,Ge.nonce=ie.nonce,Ge.pendingToken=ie.pendingToken||null,Ge}_getIdTokenResponse(v){return d2(v,this.buildRequest())}_linkToIdToken(v,b){const T=this.buildRequest();return T.idToken=b,d2(v,T)}_getReauthenticationResolver(v){const b=this.buildRequest();return b.autoCreate=!1,d2(v,b)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),v.postBody=(0,Q.xO)(b)}return v}}function wt(S,v){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:sendVerificationCode",Ft(S,v))})).apply(this,arguments)}function G1(){return(G1=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signInWithPhoneNumber",Ft(S,v))})).apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(S,v){const b=yield jn(S,"POST","/v1/accounts:signInWithPhoneNumber",Ft(S,v));if(b.temporaryProof)throw fn(S,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Di={USER_NOT_FOUND:"user-not-found"};function $2(){return($2=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signInWithPhoneNumber",Ft(S,Object.assign(Object.assign({},v),{operation:"REAUTH"})),Di)})).apply(this,arguments)}class I2 extends A2{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,b){return new I2({verificationId:v,verificationCode:b})}static _fromTokenResponse(v,b){return new I2({phoneNumber:v,temporaryProof:b})}_getIdTokenResponse(v){return function E1(S,v){return G1.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,b){return function An(S,v){return yn.apply(this,arguments)}(v,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function G2(S,v){return $2.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:b,verificationId:T,verificationCode:q}=this.params;return v&&b?{temporaryProof:v,phoneNumber:b}:{sessionInfo:T,code:q}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:b,verificationCode:T,phoneNumber:q,temporaryProof:ie}=v;return T||b||q||ie?new I2({verificationId:b,verificationCode:T,phoneNumber:q,temporaryProof:ie}):null}}class o2{constructor(v){var b,T,q,ie,Ge,Ct;const d1=(0,Q.zd)((0,Q.pd)(v)),x1=null!==(b=d1.apiKey)&&void 0!==b?b:null,mn=null!==(T=d1.oobCode)&&void 0!==T?T:null,an=function Fi(S){switch(S){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=d1.mode)&&void 0!==q?q:null);re(x1&&mn&&an,"argument-error"),this.apiKey=x1,this.operation=an,this.code=mn,this.continueUrl=null!==(ie=d1.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Ge=d1.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(Ct=d1.tenantId)&&void 0!==Ct?Ct:null}static parseLink(v){const b=function Lr(S){const v=(0,Q.zd)((0,Q.pd)(S)).link,b=v?(0,Q.zd)((0,Q.pd)(v)).deep_link_id:null,T=(0,Q.zd)((0,Q.pd)(S)).deep_link_id;return(T?(0,Q.zd)((0,Q.pd)(T)).link:null)||T||b||v||S}(v);try{return new o2(b)}catch{return null}}}let oi=(()=>{class S{constructor(){this.providerId=S.PROVIDER_ID}static credential(b,T){return cs._fromEmailAndPassword(b,T)}static credentialWithLink(b,T){const q=o2.parseLink(T);return re(q,"argument-error"),cs._fromEmailAndCode(b,q.code,q.tenantId)}}return S.PROVIDER_ID="password",S.EMAIL_PASSWORD_SIGN_IN_METHOD="password",S.EMAIL_LINK_SIGN_IN_METHOD="emailLink",S})();class ai{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class zi extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class Z2 extends zi{static credentialFromJSON(v){const b="string"==typeof v?JSON.parse(v):v;return re("providerId"in b&&"signInMethod"in b,"argument-error"),qe._fromParams(b)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return re(v.idToken||v.accessToken,"argument-error"),qe._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return Z2.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return Z2.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:q,pendingToken:ie,nonce:Ge,providerId:Ct}=v;if(!T&&!q&&!b&&!ie||!Ct)return null;try{return new Z2(Ct)._credential({idToken:b,accessToken:T,nonce:Ge,pendingToken:ie})}catch{return null}}}let es=(()=>{class S extends zi{constructor(){super("facebook.com")}static credential(b){return qe._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return S.credentialFromTaggedObject(b)}static credentialFromError(b){return S.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return S.credential(b.oauthAccessToken)}catch{return null}}}return S.FACEBOOK_SIGN_IN_METHOD="facebook.com",S.PROVIDER_ID="facebook.com",S})(),gi=(()=>{class S extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(b,T){return qe._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:T})}static credentialFromResult(b){return S.credentialFromTaggedObject(b)}static credentialFromError(b){return S.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:T,oauthAccessToken:q}=b;if(!T&&!q)return null;try{return S.credential(T,q)}catch{return null}}}return S.GOOGLE_SIGN_IN_METHOD="google.com",S.PROVIDER_ID="google.com",S})(),vi=(()=>{class S extends zi{constructor(){super("github.com")}static credential(b){return qe._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return S.credentialFromTaggedObject(b)}static credentialFromError(b){return S.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return S.credential(b.oauthAccessToken)}catch{return null}}}return S.GITHUB_SIGN_IN_METHOD="github.com",S.PROVIDER_ID="github.com",S})();class yi extends A2{constructor(v,b){super(v,v),this.pendingToken=b}_getIdTokenResponse(v){return d2(v,this.buildRequest())}_linkToIdToken(v,b){const T=this.buildRequest();return T.idToken=b,d2(v,T)}_getReauthenticationResolver(v){const b=this.buildRequest();return b.autoCreate=!1,d2(v,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const b="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:q,pendingToken:ie}=b;return T&&q&&ie&&T===q?new yi(T,ie):null}static _create(v,b){return new yi(v,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _i extends ai{constructor(v){re(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return _i.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return _i.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const b=yi.fromJSON(v);return re(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:b,providerId:T}=v;if(!b||!T)return null;try{return yi._create(T,b)}catch{return null}}}let Q2=(()=>{class S extends zi{constructor(){super("twitter.com")}static credential(b,T){return qe._fromParams({providerId:S.PROVIDER_ID,signInMethod:S.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:T})}static credentialFromResult(b){return S.credentialFromTaggedObject(b)}static credentialFromError(b){return S.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:T,oauthTokenSecret:q}=b;if(!T||!q)return null;try{return S.credential(T,q)}catch{return null}}}return S.TWITTER_SIGN_IN_METHOD="twitter.com",S.PROVIDER_ID="twitter.com",S})();function Ei(S,v){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signUp",Ft(S,v))})).apply(this,arguments)}class Qn{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,b,T,q=!1){return(0,d.Z)(function*(){const ie=yield I1._fromIdTokenResponse(v,T,q),Ge=ci(T);return new Qn({user:ie,providerId:Ge,_tokenResponse:T,operationType:b})})()}static _forOperation(v,b,T){return(0,d.Z)(function*(){yield v._updateTokensIfNecessary(T,!0);const q=ci(T);return new Qn({user:v,providerId:q,_tokenResponse:T,operationType:b})})()}}function ci(S){return S.providerId?S.providerId:"phoneNumber"in S?"phone":null}function Xn(){return(Xn=(0,d.Z)(function*(S){var v;const b=Mn(S);if(yield b._initializationPromise,null!==(v=b.currentUser)&&void 0!==v&&v.isAnonymous)return new Qn({user:b.currentUser,providerId:null,operationType:"signIn"});const T=yield Ei(b,{returnSecureToken:!0}),q=yield Qn._fromIdTokenResponse(b,"signIn",T,!0);return yield b._updateCurrentUser(q.user),q})).apply(this,arguments)}class or extends Q.ZR{constructor(v,b,T,q){var ie;super(b.code,b.message),this.operationType=T,this.user=q,Object.setPrototypeOf(this,or.prototype),this.customData={appName:v.name,tenantId:null!==(ie=v.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:b.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(v,b,T,q){return new or(v,b,T,q)}}function Fn(S,v,b,T){return("reauthenticate"===v?b._getReauthenticationResolver(S):b._getIdTokenResponse(S)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?or._fromErrorAndOperation(S,ie,v,T):ie})}function D2(S){return new Set(S.map(({providerId:v})=>v).filter(v=>!!v))}function X2(){return(X2=(0,d.Z)(function*(S,v){const b=(0,Q.m9)(S);yield tn(!0,b,v);const{providerUserInfo:T}=yield vn(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[v]}),q=D2(T||[]);return b.providerData=b.providerData.filter(ie=>q.has(ie.providerId)),q.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Zr(S,v){return Si.apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(S,v,b=!1){const T=yield s1(S,v._linkToIdToken(S.auth,yield S.getIdToken()),b);return Qn._forOperation(S,"link",T)})).apply(this,arguments)}function tn(S,v,b){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(S,v,b){yield $1(v);const q=!1===S?"provider-already-linked":"no-such-provider";re(D2(v.providerData).has(b)===S,v.auth,q)})).apply(this,arguments)}function Zi(S,v){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(S,v,b=!1){const{auth:T}=S,q="reauthenticate";try{const ie=yield s1(S,Fn(T,q,v,S),b);re(ie.idToken,T,"internal-error");const Ge=ot(ie.idToken);re(Ge,T,"internal-error");const{sub:Ct}=Ge;return re(S.uid===Ct,T,"user-mismatch"),Qn._forOperation(S,q,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&it(T,"user-mismatch"),ie}})).apply(this,arguments)}function n2(S,v){return f2.apply(this,arguments)}function f2(){return(f2=(0,d.Z)(function*(S,v,b=!1){const T="signIn",q=yield Fn(S,T,v),ie=yield Qn._fromIdTokenResponse(S,T,q);return b||(yield S._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function r2(S,v){return B1.apply(this,arguments)}function B1(){return(B1=(0,d.Z)(function*(S,v){return n2(Mn(S),v)})).apply(this,arguments)}function li(S,v){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,d.Z)(function*(S,v){const b=(0,Q.m9)(S);return yield tn(!1,b,v.providerId),Zr(b,v)})).apply(this,arguments)}function Cr(S,v){return W2.apply(this,arguments)}function W2(){return(W2=(0,d.Z)(function*(S,v){return Zi((0,Q.m9)(S),v)})).apply(this,arguments)}function Ui(S,v){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(S,v){return jn(S,"POST","/v1/accounts:signInWithCustomToken",Ft(S,v))})).apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(S,v){const b=Mn(S),T=yield Ui(b,{token:v,returnSecureToken:!0}),q=yield Qn._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(q.user),q})).apply(this,arguments)}class At{constructor(v,b){this.factorId=v,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(v,b){return"phoneInfo"in b?rn._fromServerResponse(v,b):it(v,"internal-error")}}class rn extends At{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,b){return new rn(b)}}function Oi(S,v,b){var T;re((null===(T=b.url)||void 0===T?void 0:T.length)>0,S,"invalid-continue-uri"),re(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,S,"invalid-dynamic-link-domain"),v.continueUrl=b.url,v.dynamicLinkDomain=b.dynamicLinkDomain,v.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(re(b.iOS.bundleId.length>0,S,"missing-ios-bundle-id"),v.iOSBundleId=b.iOS.bundleId),b.android&&(re(b.android.packageName.length>0,S,"missing-android-pkg-name"),v.androidInstallApp=b.android.installApp,v.androidMinimumVersionCode=b.android.minimumVersion,v.androidPackageName=b.android.packageName)}function a2(){return(a2=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S),q={requestType:"PASSWORD_RESET",email:v};b&&Oi(T,q,b),yield En(T,q)})).apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(S,v,b){yield g2((0,Q.m9)(S),{oobCode:v,newPassword:b})})).apply(this,arguments)}function x2(){return(x2=(0,d.Z)(function*(S,v){yield k2((0,Q.m9)(S),{oobCode:v})})).apply(this,arguments)}function cr(S,v){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(S,v){const b=(0,Q.m9)(S),T=yield g2(b,{oobCode:v}),q=T.requestType;switch(re(q,b,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(T.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(T.mfaInfo,b,"internal-error");default:re(T.email,b,"internal-error")}let ie=null;return T.mfaInfo&&(ie=At._fromServerResponse(Mn(b),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ie},operation:q}})).apply(this,arguments)}function B(){return(B=(0,d.Z)(function*(S,v){const{data:b}=yield cr((0,Q.m9)(S),v);return b.email})).apply(this,arguments)}function k(){return(k=(0,d.Z)(function*(S,v,b){const T=Mn(S),q=yield Ei(T,{returnSecureToken:!0,email:v,password:b}),ie=yield Qn._fromIdTokenResponse(T,"signIn",q);return yield T._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function m1(){return(m1=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S),q={requestType:"EMAIL_SIGNIN",email:v};re(b.handleCodeInApp,T,"argument-error"),b&&Oi(T,q,b),yield rr(T,q)})).apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S),q=oi.credentialWithLink(v,b||Tt());return re(q._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),r2(T,q)})).apply(this,arguments)}function wr(S,v){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:createAuthUri",Ft(S,v))})).apply(this,arguments)}function Ji(){return(Ji=(0,d.Z)(function*(S,v){const T={identifier:v,continueUri:f1()?Tt():"http://localhost"},{signinMethods:q}=yield wr((0,Q.m9)(S),T);return q||[]})).apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(S,v){const b=(0,Q.m9)(S),q={requestType:"VERIFY_EMAIL",idToken:yield S.getIdToken()};v&&Oi(b.auth,q,v);const{email:ie}=yield Pn(b.auth,q);ie!==S.email&&(yield S.reload())})).apply(this,arguments)}function ve(){return(ve=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield S.getIdToken(),newEmail:v};b&&Oi(T.auth,ie,b);const{email:Ge}=yield sr(T.auth,ie);Ge!==S.email&&(yield S.reload())})).apply(this,arguments)}function je(S,v){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(S,v){return nn(S,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(S,{displayName:v,photoURL:b}){if(void 0===v&&void 0===b)return;const T=(0,Q.m9)(S),ie={idToken:yield T.getIdToken(),displayName:v,photoUrl:b,returnSecureToken:!0},Ge=yield s1(T,je(T.auth,ie));T.displayName=Ge.displayName||null,T.photoURL=Ge.photoUrl||null;const Ct=T.providerData.find(({providerId:d1})=>"password"===d1);Ct&&(Ct.displayName=T.displayName,Ct.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Ge)})).apply(this,arguments)}function O(S,v,b){return X.apply(this,arguments)}function X(){return(X=(0,d.Z)(function*(S,v,b){const{auth:T}=S,ie={idToken:yield S.getIdToken(),returnSecureToken:!0};v&&(ie.email=v),b&&(ie.password=b);const Ge=yield s1(S,Tn(T,ie));yield S._updateTokensIfNecessary(Ge,!0)})).apply(this,arguments)}class Je{constructor(v,b,T={}){this.isNewUser=v,this.providerId=b,this.profile=T}}class ft extends Je{constructor(v,b,T,q){super(v,b,T),this.username=q}}class e1 extends Je{constructor(v,b){super(v,"facebook.com",b)}}class K1 extends ft{constructor(v,b){super(v,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class sn extends Je{constructor(v,b){super(v,"google.com",b)}}class ln extends ft{constructor(v,b,T){super(v,"twitter.com",b,T)}}function on(S){const{user:v,_tokenResponse:b}=S;return v.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function me(S){var v,b;if(!S)return null;const{providerId:T}=S,q=S.rawUserInfo?JSON.parse(S.rawUserInfo):{},ie=S.isNewUser||"identitytoolkit#SignupNewUserResponse"===S.kind;if(!T&&S?.idToken){const Ge=null===(b=null===(v=ot(S.idToken))||void 0===v?void 0:v.firebase)||void 0===b?void 0:b.sign_in_provider;if(Ge)return new Je(ie,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!T)return null;switch(T){case"facebook.com":return new e1(ie,q);case"github.com":return new K1(ie,q);case"google.com":return new sn(ie,q);case"twitter.com":return new ln(ie,q,S.screenName||null);case"custom":case"anonymous":return new Je(ie,null);default:return new Je(ie,T,q)}}(b)}class ds{constructor(v,b,T){this.type=v,this.credential=b,this.auth=T}static _fromIdtoken(v,b){return new ds("enroll",v,b)}static _fromMfaPendingCredential(v){return new ds("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var b,T;if(v?.multiFactorSession){if(null!==(b=v.multiFactorSession)&&void 0!==b&&b.pendingCredential)return ds._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(T=v.multiFactorSession)&&void 0!==T&&T.idToken)return ds._fromIdtoken(v.multiFactorSession.idToken)}return null}}class qs{constructor(v,b,T){this.session=v,this.hints=b,this.signInResolver=T}static _fromError(v,b){const T=Mn(v),q=b.customData._serverResponse,ie=(q.mfaInfo||[]).map(Ct=>At._fromServerResponse(T,Ct));re(q.mfaPendingCredential,T,"internal-error");const Ge=ds._fromMfaPendingCredential(q.mfaPendingCredential);return new qs(Ge,ie,function(){var Ct=(0,d.Z)(function*(d1){const x1=yield d1._process(T,Ge);delete q.mfaInfo,delete q.mfaPendingCredential;const mn=Object.assign(Object.assign({},q),{idToken:x1.idToken,refreshToken:x1.refreshToken});switch(b.operationType){case"signIn":const an=yield Qn._fromIdTokenResponse(T,b.operationType,mn);return yield T._updateCurrentUser(an.user),an;case"reauthenticate":return re(b.user,T,"internal-error"),Qn._forOperation(b.user,b.operationType,mn);default:it(T,"internal-error")}});return function(d1){return Ct.apply(this,arguments)}}())}resolveSignIn(v){var b=this;return(0,d.Z)(function*(){return b.signInResolver(v)})()}}function Ks(S,v){return nn(S,"POST","/v2/accounts/mfaEnrollment:start",Ft(S,v))}class Jo{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(T=>At._fromServerResponse(v.auth,T)))})}static _fromUser(v){return new Jo(v)}getSession(){var v=this;return(0,d.Z)(function*(){return ds._fromIdtoken(yield v.user.getIdToken(),v.user.auth)})()}enroll(v,b){var T=this;return(0,d.Z)(function*(){const q=v,ie=yield T.getSession(),Ge=yield s1(T.user,q._process(T.user.auth,ie,b));return yield T.user._updateTokensIfNecessary(Ge),T.user.reload()})()}unenroll(v){var b=this;return(0,d.Z)(function*(){const T="string"==typeof v?v:v.uid,q=yield b.user.getIdToken(),ie=yield s1(b.user,function Yo(S,v){return nn(S,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(S,v))}(b.user.auth,{idToken:q,mfaEnrollmentId:T}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Ge})=>Ge!==T),yield b.user._updateTokensIfNecessary(ie);try{yield b.user.reload()}catch(Ge){if("auth/user-token-expired"!==Ge?.code)throw Ge}})()}}const vo=new WeakMap,Ps="__sak";class eo{constructor(v,b){this.storageRetriever=v,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Ps,"1"),this.storage.removeItem(Ps),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,b){return this.storage.setItem(v,JSON.stringify(b)),Promise.resolve()}_get(v){const b=this.storage.getItem(v);return Promise.resolve(b?JSON.parse(b):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const kr=(()=>{class S extends eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,T)=>this.onStorageEvent(b,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function To(){const S=(0,Q.z$)();return Yt(S)||ae(S)}()&&function W1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=D1(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const T of Object.keys(this.listeners)){const q=this.storage.getItem(T),ie=this.localCache[T];q!==ie&&b(T,ie,q)}}onStorageEvent(b,T=!1){if(!b.key)return void this.forAllChangedKeys((Ct,d1,x1)=>{this.notifyListeners(Ct,x1)});const q=b.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ct=this.storage.getItem(q);if(b.newValue!==Ct)null!==b.newValue?this.storage.setItem(q,b.newValue):this.storage.removeItem(q);else if(this.localCache[q]===b.newValue&&!T)return}const ie=()=>{const Ct=this.storage.getItem(q);!T&&this.localCache[q]===Ct||this.notifyListeners(q,Ct)},Ge=this.storage.getItem(q);!function $t(){return(0,Q.w1)()&&10===document.documentMode}()||Ge===b.newValue||b.newValue===b.oldValue?ie():setTimeout(ie,10)}notifyListeners(b,T){this.localCache[b]=T;const q=this.listeners[b];if(q)for(const ie of Array.from(q))ie(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,T,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:T,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,T){var q=()=>super._set,ie=this;return(0,d.Z)(function*(){yield q().call(ie,b,T),ie.localCache[b]=JSON.stringify(T)})()}_get(b){var T=()=>super._get,q=this;return(0,d.Z)(function*(){const ie=yield T().call(q,b);return q.localCache[b]=JSON.stringify(ie),ie})()}_remove(b){var T=()=>super._remove,q=this;return(0,d.Z)(function*(){yield T().call(q,b),delete q.localCache[b]})()}}return S.type="LOCAL",S})(),qr=(()=>{class S extends eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,T){}_removeListener(b,T){}}return S.type="SESSION",S})();let bi=(()=>{class S{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const T=this.receivers.find(ie=>ie.isListeningto(b));if(T)return T;const q=new S(b);return this.receivers.push(q),q}isListeningto(b){return this.eventTarget===b}handleEvent(b){var T=this;return(0,d.Z)(function*(){const q=b,{eventId:ie,eventType:Ge,data:Ct}=q.data,d1=T.handlersMap[Ge];if(!d1?.size)return;q.ports[0].postMessage({status:"ack",eventId:ie,eventType:Ge});const x1=Array.from(d1).map(function(){var an=(0,d.Z)(function*(mr){return mr(q.origin,Ct)});return function(mr){return an.apply(this,arguments)}}()),mn=yield function Ht(S){return Promise.all(S.map(function(){var v=(0,d.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(T){return{fulfilled:!1,reason:T}}});return function(b){return v.apply(this,arguments)}}()))}(x1);q.ports[0].postMessage({status:"done",eventId:ie,eventType:Ge,response:mn})})()}_subscribe(b,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(T)}_unsubscribe(b,T){this.handlersMap[b]&&T&&this.handlersMap[b].delete(T),(!T||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return S.receivers=[],S})();function ts(S="",v=10){let b="";for(let T=0;T<v;T++)b+=Math.floor(10*Math.random());return S+b}class to{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,b,T=50){var q=this;return(0,d.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Ge,Ct;return new Promise((d1,x1)=>{const mn=ts("",20);ie.port1.start();const an=setTimeout(()=>{x1(new Error("unsupported_event"))},T);Ct={messageChannel:ie,onMessage(mr){const Yr=mr;if(Yr.data.eventId===mn)switch(Yr.data.status){case"ack":clearTimeout(an),Ge=setTimeout(()=>{x1(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),d1(Yr.data.response);break;default:clearTimeout(an),clearTimeout(Ge),x1(new Error("invalid_response"))}}},q.handlers.add(Ct),ie.port1.addEventListener("message",Ct.onMessage),q.target.postMessage({eventType:v,eventId:mn,data:b},[ie.port2])}).finally(()=>{Ct&&q.removeMessageHandler(Ct)})})()}}function t1(){return window}function fr(){return typeof t1().WorkerGlobalScope<"u"&&"function"==typeof t1().importScripts}function ht(){return(ht=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ai="firebaseLocalStorageDb",Pr="firebaseLocalStorage",_o="fbase_key";class fs{constructor(v){this.request=v}toPromise(){return new Promise((v,b)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function bo(S,v){return S.transaction([Pr],v?"readwrite":"readonly").objectStore(Pr)}function F2(){const S=indexedDB.open(Ai,1);return new Promise((v,b)=>{S.addEventListener("error",()=>{b(S.error)}),S.addEventListener("upgradeneeded",()=>{const T=S.result;try{T.createObjectStore(Pr,{keyPath:_o})}catch(q){b(q)}}),S.addEventListener("success",(0,d.Z)(function*(){const T=S.result;T.objectStoreNames.contains(Pr)?v(T):(T.close(),yield function io(){const S=indexedDB.deleteDatabase(Ai);return new fs(S).toPromise()}(),v(yield F2()))}))})}function Sr(S,v,b){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(S,v,b){const T=bo(S,!0).put({[_o]:v,value:b});return new fs(T).toPromise()})).apply(this,arguments)}function Y1(){return(Y1=(0,d.Z)(function*(S,v){const b=bo(S,!1).get(v),T=yield new fs(b).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function er(S,v){const b=bo(S,!0).delete(v);return new fs(b).toPromise()}const b2=(()=>{class S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,d.Z)(function*(){return b.db||(b.db=yield F2()),b.db})()}_withRetries(b){var T=this;return(0,d.Z)(function*(){let q=0;for(;;)try{const ie=yield T._openDb();return yield b(ie)}catch(ie){if(q++>3)throw ie;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,d.Z)(function*(){return fr()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,d.Z)(function*(){b.receiver=bi._getInstance(function H2(){return fr()?self:null}()),b.receiver._subscribe("keyChanged",function(){var T=(0,d.Z)(function*(q,ie){return{keyProcessed:(yield b._poll()).includes(ie.key)}});return function(q,ie){return T.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var T=(0,d.Z)(function*(q,ie){return["keyChanged"]});return function(q,ie){return T.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,d.Z)(function*(){var T,q;if(b.activeServiceWorker=yield function Jt(){return ht.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new to(b.activeServiceWorker);const ie=yield b.sender._send("ping",{},800);!ie||(null===(T=ie[0])||void 0===T?void 0:T.fulfilled)&&(null===(q=ie[0])||void 0===q?void 0:q.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var T=this;return(0,d.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Lt(){var S;return(null===(S=navigator?.serviceWorker)||void 0===S?void 0:S.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:b},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const b=yield F2();return yield Sr(b,Ps,"1"),yield er(b,Ps),!0}catch{}return!1})()}_withPendingWrite(b){var T=this;return(0,d.Z)(function*(){T.pendingWrites++;try{yield b()}finally{T.pendingWrites--}})()}_set(b,T){var q=this;return(0,d.Z)(function*(){return q._withPendingWrite((0,d.Z)(function*(){return yield q._withRetries(ie=>Sr(ie,b,T)),q.localCache[b]=T,q.notifyServiceWorker(b)}))})()}_get(b){var T=this;return(0,d.Z)(function*(){const q=yield T._withRetries(ie=>function Kr(S,v){return Y1.apply(this,arguments)}(ie,b));return T.localCache[b]=q,q})()}_remove(b){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(q=>er(q,b)),delete T.localCache[b],T.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,d.Z)(function*(){const T=yield b._withRetries(Ge=>{const Ct=bo(Ge,!1).getAll();return new fs(Ct).toPromise()});if(!T)return[];if(0!==b.pendingWrites)return[];const q=[],ie=new Set;for(const{fbase_key:Ge,value:Ct}of T)ie.add(Ge),JSON.stringify(b.localCache[Ge])!==JSON.stringify(Ct)&&(b.notifyListeners(Ge,Ct),q.push(Ge));for(const Ge of Object.keys(b.localCache))b.localCache[Ge]&&!ie.has(Ge)&&(b.notifyListeners(Ge,null),q.push(Ge));return q})()}notifyListeners(b,T){this.localCache[b]=T;const q=this.listeners[b];if(q)for(const ie of Array.from(q))ie(T)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return S.type="LOCAL",S})();function Vn(S,v){return nn(S,"POST","/v2/accounts/mfaSignIn:start",Ft(S,v))}function qt(){return(qt=(0,d.Z)(function*(S){return(yield nn(S,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ws(S){return new Promise((v,b)=>{const T=document.createElement("script");T.setAttribute("src",S),T.onload=v,T.onerror=q=>{const ie=ct("internal-error");ie.customData=q,b(ie)},T.type="text/javascript",T.charset="UTF-8",function hs(){var S,v;return null!==(v=null===(S=document.getElementsByTagName("head"))||void 0===S?void 0:S[0])&&void 0!==v?v:document}().appendChild(T)})}function Ri(S){return`__${S}${Math.floor(1e6*Math.random())}`}const ms=1e12;class Zn{constructor(v){this.auth=v,this.counter=ms,this._widgets=new Map}render(v,b){const T=this.counter;return this._widgets.set(T,new so(v,this.auth.name,b||{})),this.counter++,T}reset(v){var b;const T=v||ms;null===(b=this._widgets.get(T))||void 0===b||b.delete(),this._widgets.delete(T)}getResponse(v){var b;return(null===(b=this._widgets.get(v||ms))||void 0===b?void 0:b.getResponse())||""}execute(v){var b=this;return(0,d.Z)(function*(){var T;return null===(T=b._widgets.get(v||ms))||void 0===T||T.execute(),""})()}}class so{constructor(v,b,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof v?document.getElementById(v):v;re(q,"argument-error",{appName:b}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qo(S){const v=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<S;T++)v.push(b.charAt(Math.floor(Math.random()*b.length)));return v.join("")}(50);const{callback:v,"expired-callback":b}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vr=Ri("rcb"),Ao=new g1(3e4,6e4);class Xo{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=t1().grecaptcha)||void 0===v||!v.render)}load(v,b=""){return re(function Mo(S){return S.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(S)}(b),v,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(t1().grecaptcha):new Promise((T,q)=>{const ie=t1().setTimeout(()=>{q(ct(v,"network-request-failed"))},Ao.get());t1()[Vr]=()=>{t1().clearTimeout(ie),delete t1()[Vr];const Ct=t1().grecaptcha;if(!Ct)return void q(ct(v,"internal-error"));const d1=Ct.render;Ct.render=(x1,mn)=>{const an=d1(x1,mn);return this.counter++,an},this.hostLanguage=b,T(Ct)},ws(`https://www.google.com/recaptcha/api.js??${(0,Q.xO)({onload:Vr,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(ie),q(ct(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var b;return!(null===(b=t1().grecaptcha)||void 0===b||!b.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gs{load(v){return(0,d.Z)(function*(){return new Zn(v)})()}clearedOneInstance(){}}const dt="recaptcha",oo={theme:"light",type:"image"};class Wn{constructor(v,b=Object.assign({},oo),T){this.parameters=b,this.type=dt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(T),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof v?document.getElementById(v):v;re(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gs:new Xo,this.validateStartingState()}verify(){var v=this;return(0,d.Z)(function*(){v.assertNotDestroyed();const b=yield v.render(),T=v.getAssertedRecaptcha();return T.getResponse(b)||new Promise(ie=>{const Ge=Ct=>{!Ct||(v.tokenChangeListeners.delete(Ge),ie(Ct))};v.tokenChangeListeners.add(Ge),v.isInvisible&&T.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return b=>{if(this.tokenChangeListeners.forEach(T=>T(b)),"function"==typeof v)v(b);else if("string"==typeof v){const T=t1()[v];"function"==typeof T&&T(b)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,d.Z)(function*(){if(yield v.init(),!v.widgetId){let b=v.container;if(!v.isInvisible){const T=document.createElement("div");b.appendChild(T),b=T}v.widgetId=v.getAssertedRecaptcha().render(b,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,d.Z)(function*(){re(f1()&&!fr(),v.auth,"internal-error"),yield function Vs(){let S=null;return new Promise(v=>{"complete"!==document.readyState?(S=()=>v(),window.addEventListener("load",S)):v()}).catch(v=>{throw S&&window.removeEventListener("load",S),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const b=yield function Sn(S){return qt.apply(this,arguments)}(v.auth);re(b,v.auth,"internal-error"),v.parameters.sitekey=b})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vs{constructor(v,b){this.verificationId=v,this.onConfirmation=b}confirm(v){const b=I2._fromVerification(this.verificationId,v);return this.onConfirmation(b)}}function Io(){return(Io=(0,d.Z)(function*(S,v,b){const T=Mn(S),q=yield Fs(T,v,(0,Q.m9)(b));return new vs(q,ie=>r2(T,ie))})).apply(this,arguments)}function Hr(){return(Hr=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S);yield tn(!1,T,"phone");const q=yield Fs(T.auth,v,(0,Q.m9)(b));return new vs(q,ie=>li(T,ie))})).apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S),q=yield Fs(T.auth,v,(0,Q.m9)(b));return new vs(q,ie=>Cr(T,ie))})).apply(this,arguments)}function Fs(S,v,b){return tr.apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(S,v,b){var T;const q=yield b.verify();try{let ie;if(re("string"==typeof q,S,"argument-error"),re(b.type===dt,S,"argument-error"),ie="string"==typeof v?{phoneNumber:v}:v,"session"in ie){const Ge=ie.session;if("phoneNumber"in ie)return re("enroll"===Ge.type,S,"internal-error"),(yield Ks(S,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{re("signin"===Ge.type,S,"internal-error");const Ct=(null===(T=ie.multiFactorHint)||void 0===T?void 0:T.uid)||ie.multiFactorUid;return re(Ct,S,"missing-multi-factor-info"),(yield Vn(S,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:Ct,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield wt(S,{phoneNumber:ie.phoneNumber,recaptchaToken:q});return Ge}}finally{b._reset()}})).apply(this,arguments)}function l(){return(l=(0,d.Z)(function*(S,v){yield Zr((0,Q.m9)(S),v)})).apply(this,arguments)}let a=(()=>{class S{constructor(b){this.providerId=S.PROVIDER_ID,this.auth=Mn(b)}verifyPhoneNumber(b,T){return Fs(this.auth,b,(0,Q.m9)(T))}static credential(b,T){return I2._fromVerification(b,T)}static credentialFromResult(b){return S.credentialFromTaggedObject(b)}static credentialFromError(b){return S.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:T,temporaryProof:q}=b;return T&&q?I2._fromTokenResponse(T,q):null}}return S.PROVIDER_ID="phone",S.PHONE_SIGN_IN_METHOD="phone",S})();function g(S,v){return v?Qe(v):(re(S._popupRedirectResolver,S,"argument-error"),S._popupRedirectResolver)}class M extends A2{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return d2(v,this._buildIdpRequest())}_linkToIdToken(v,b){return d2(v,this._buildIdpRequest(b))}_getReauthenticationResolver(v){return d2(v,this._buildIdpRequest())}_buildIdpRequest(v){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(b.idToken=v),b}}function A(S){return n2(S.auth,new M(S),S.bypassAuthState)}function j(S){const{auth:v,user:b}=S;return re(b,v,"internal-error"),Zi(b,new M(S),S.bypassAuthState)}function K(S){return ue.apply(this,arguments)}function ue(){return(ue=(0,d.Z)(function*(S){const{auth:v,user:b}=S;return re(b,v,"internal-error"),Zr(b,new M(S),S.bypassAuthState)})).apply(this,arguments)}class Le{constructor(v,b,T,q,ie=!1){this.auth=v,this.resolver=T,this.user=q,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var v=this;return new Promise(function(){var b=(0,d.Z)(function*(T,q){v.pendingPromise={resolve:T,reject:q};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(ie){v.reject(ie)}});return function(T,q){return b.apply(this,arguments)}}())}onAuthEvent(v){var b=this;return(0,d.Z)(function*(){const{urlResponse:T,sessionId:q,postBody:ie,tenantId:Ge,error:Ct,type:d1}=v;if(Ct)return void b.reject(Ct);const x1={auth:b.auth,requestUri:T,sessionId:q,tenantId:Ge||void 0,postBody:ie||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(d1)(x1))}catch(mn){b.reject(mn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return A;case"linkViaPopup":case"linkViaRedirect":return K;case"reauthViaPopup":case"reauthViaRedirect":return j;default:it(this.auth,"internal-error")}}resolve(v){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ot=new g1(2e3,1e4);function Xt(){return(Xt=(0,d.Z)(function*(S,v,b){const T=Mn(S);It(S,v,ai);const q=g(T,b);return new Ln(T,"signInViaPopup",v,q).executeNotNull()})).apply(this,arguments)}function k1(){return(k1=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S);It(T.auth,v,ai);const q=g(T.auth,b);return new Ln(T.auth,"reauthViaPopup",v,q,T).executeNotNull()})).apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S);It(T.auth,v,ai);const q=g(T.auth,b);return new Ln(T.auth,"linkViaPopup",v,q,T).executeNotNull()})).apply(this,arguments)}let Ln=(()=>{class S extends Le{constructor(b,T,q,ie,Ge){super(b,T,ie,Ge),this.provider=q,this.authWindow=null,this.pollId=null,S.currentPopupAction&&S.currentPopupAction.cancel(),S.currentPopupAction=this}executeNotNull(){var b=this;return(0,d.Z)(function*(){const T=yield b.execute();return re(T,b.auth,"internal-error"),T})()}onExecution(){var b=this;return(0,d.Z)(function*(){_e(1===b.filter.length,"Popup operations only handle one event");const T=ts();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],T),b.authWindow.associatedEvent=T,b.resolver._originValidation(b.auth).catch(q=>{b.reject(q)}),b.resolver._isIframeWebStorageSupported(b.auth,q=>{q||b.reject(ct(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,S.currentPopupAction=null}pollUserCancellation(){const b=()=>{var T,q;this.pollId=null!==(q=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ct(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Ot.get())};b()}}return S.currentPopupAction=null,S})();const h2=new Map;class z2 extends Le{constructor(v,b,T=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,T),this.eventId=null}execute(){var v=()=>super.execute,b=this;return(0,d.Z)(function*(){let T=h2.get(b.auth._key());if(!T){try{const ie=(yield function is(S,v){return ti.apply(this,arguments)}(b.resolver,b.auth))?yield v().call(b):null;T=()=>Promise.resolve(ie)}catch(q){T=()=>Promise.reject(q)}h2.set(b.auth._key(),T)}return b.bypassAuthState||h2.set(b.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(v){var b=()=>super.onAuthEvent,T=this;return(0,d.Z)(function*(){if("signInViaRedirect"===v.type)return b().call(T,v);if("unknown"!==v.type){if(v.eventId){const q=yield T.auth._redirectUserForId(v.eventId);if(q)return T.user=q,b().call(T,v);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ti(){return(ti=(0,d.Z)(function*(S,v){const b=Bs(v),T=Is(S);if(!(yield T._isAvailable()))return!1;const q="true"===(yield T._get(b));return yield T._remove(b),q})).apply(this,arguments)}function pr(S,v){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(S,v){return Is(S)._set(Bs(v),"true")})).apply(this,arguments)}function ji(S,v){h2.set(S._key(),v)}function Is(S){return Qe(S._redirectPersistence)}function Bs(S){return xe("pendingRedirect",S.config.apiKey,S.name)}function P(){return(P=(0,d.Z)(function*(S,v,b){const T=Mn(S);It(S,v,ai);const q=g(T,b);return yield pr(q,T),q._openRedirect(T,v,"signInViaRedirect")})).apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S);It(T.auth,v,ai);const q=g(T.auth,b);yield pr(q,T.auth);const ie=yield u1(T);return q._openRedirect(T.auth,v,"reauthViaRedirect",ie)})).apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(S,v,b){const T=(0,Q.m9)(S);It(T.auth,v,ai);const q=g(T.auth,b);yield tn(!1,T,v.providerId),yield pr(q,T.auth);const ie=yield u1(T);return q._openRedirect(T.auth,v,"linkViaRedirect",ie)})).apply(this,arguments)}function C1(){return(C1=(0,d.Z)(function*(S,v){return yield Mn(S)._initializationPromise,c1(S,v,!1)})).apply(this,arguments)}function c1(S,v){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(S,v,b=!1){const T=Mn(S),q=g(T,v),Ge=yield new z2(T,q,b).execute();return Ge&&!b&&(delete Ge.user._redirectEventId,yield T._persistUserIfCurrent(Ge.user),yield T._setRedirectUser(null,v)),Ge})).apply(this,arguments)}function u1(S){return H1.apply(this,arguments)}function H1(){return(H1=(0,d.Z)(function*(S){const v=ts(`${S.uid}:::`);return S._redirectEventId=v,yield S.auth._setRedirectUser(S),yield S.auth._persistUserIfCurrent(S),v})).apply(this,arguments)}class Pi{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let b=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(v,T)&&(b=!0,this.sendToConsumer(v,T),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Br(S){switch(S.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Us(S);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=v,b=!0)),b}sendToConsumer(v,b){var T;if(v.error&&!Us(v)){const q=(null===(T=v.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";b.onError(ct(this.auth,q))}else b.onAuthEvent(v)}isEventForConsumer(v,b){const T=null===b.eventId||!!v.eventId&&v.eventId===b.eventId;return b.filter.includes(v.type)&&T}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ys(v))}saveEventToCache(v){this.cachedEventUids.add(Ys(v)),this.lastProcessedEventTime=Date.now()}}function Ys(S){return[S.type,S.eventId,S.sessionId,S.tenantId].filter(v=>v).join("-")}function Us({type:S,error:v}){return"unknown"===S&&"auth/no-auth-event"===v?.code}function ys(S){return _a.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(S,v={}){return nn(S,"GET","/v1/projects",v)})).apply(this,arguments)}const H6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G3=/^https?/;function $3(){return($3=(0,d.Z)(function*(S){if(S.config.emulator)return;const{authorizedDomains:v}=yield ys(S);for(const b of v)try{if(Z3(b))return}catch{}it(S,"unauthorized-domain")})).apply(this,arguments)}function Z3(S){const v=Tt(),{protocol:b,hostname:T}=new URL(v);if(S.startsWith("chrome-extension://")){const Ge=new URL(S);return""===Ge.hostname&&""===T?"chrome-extension:"===b&&S.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===b&&Ge.hostname===T}if(!G3.test(b))return!1;if(H6.test(S))return T===S;const q=S.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(T)}const B6=new g1(3e4,6e4);function c3(){const S=t1().___jsl;if(S?.H)for(const v of Object.keys(S.H))if(S.H[v].r=S.H[v].r||[],S.H[v].L=S.H[v].L||[],S.H[v].r=[...S.H[v].L],S.CP)for(let b=0;b<S.CP.length;b++)S.CP[b]=null}let ja=null;function ba(S){return ja=ja||function O4(S){return new Promise((v,b)=>{var T,q,ie;function Ge(){c3(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{c3(),b(ct(S,"network-request-failed"))},timeout:B6.get()})}if(null!==(q=null===(T=t1().gapi)||void 0===T?void 0:T.iframes)&&void 0!==q&&q.Iframe)v(gapi.iframes.getContext());else{if(null===(ie=t1().gapi)||void 0===ie||!ie.load){const Ct=Ri("iframefcb");return t1()[Ct]=()=>{gapi.load?Ge():b(ct(S,"network-request-failed"))},ws(`https://apis.google.com/js/api.js?onload=${Ct}`).catch(d1=>b(d1))}Ge()}}).catch(v=>{throw ja=null,v})}(S),ja}const W3=new g1(5e3,15e3),Ds={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},di=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q3(S){const v=S.config;re(v.authDomain,S,"auth-domain-config-required");const b=v.emulator?y1(v,"emulator/auth/iframe"):`https://${S.config.authDomain}/__/auth/iframe`,T={apiKey:v.apiKey,appName:S.name,v:Me.SDK_VERSION},q=di.get(S.config.apiHost);q&&(T.eid=q);const ie=S._getFrameworks();return ie.length&&(T.fw=ie.join(",")),`${b}?${(0,Q.xO)(T).slice(1)}`}function js(){return js=(0,d.Z)(function*(S){const v=yield ba(S),b=t1().gapi;return re(b,S,"internal-error"),v.open({where:document.body,url:q3(S),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ds,dontclear:!0},T=>new Promise(function(){var q=(0,d.Z)(function*(ie,Ge){yield T.restyle({setHideOnLeave:!1});const Ct=ct(S,"network-request-failed"),d1=t1().setTimeout(()=>{Ge(Ct)},W3.get());function x1(){t1().clearTimeout(d1),ie(T)}T.ping(x1).then(x1,()=>{Ge(Ct)})});return function(ie,Ge){return q.apply(this,arguments)}}()))}),js.apply(this,arguments)}const Es={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ga{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k4(S,v,b,T,q,ie){re(S.config.authDomain,S,"auth-domain-config-required"),re(S.config.apiKey,S,"invalid-api-key");const Ge={apiKey:S.config.apiKey,appName:S.name,authType:b,redirectUrl:T,v:Me.SDK_VERSION,eventId:q};if(v instanceof ai){v.setDefaultLanguage(S.languageCode),Ge.providerId=v.providerId||"",(0,Q.xb)(v.getCustomParameters())||(Ge.customParameters=JSON.stringify(v.getCustomParameters()));for(const[d1,x1]of Object.entries(ie||{}))Ge[d1]=x1}if(v instanceof zi){const d1=v.getScopes().filter(x1=>""!==x1);d1.length>0&&(Ge.scopes=d1.join(","))}S.tenantId&&(Ge.tid=S.tenantId);const Ct=Ge;for(const d1 of Object.keys(Ct))void 0===Ct[d1]&&delete Ct[d1];return`${function xo({config:S}){return S.emulator?y1(S,"emulator/auth/handler"):`https://${S.authDomain}/__/auth/handler`}(S)}?${(0,Q.xO)(Ct).slice(1)}`}const h4="webStorageSupport";class p4 extends class Y3{constructor(v){this.factorId=v}_process(v,b,T){switch(b.type){case"enroll":return this._finalizeEnroll(v,b.credential,T);case"signin":return this._finalizeSignIn(v,b.credential);default:return Ke("unexpected MultiFactorSessionType")}}}{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new p4(v)}_finalizeEnroll(v,b,T){return function Ko(S,v){return nn(S,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(S,v))}(v,{idToken:b,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,b){return function ro(S,v){return nn(S,"POST","/v2/accounts/mfaSignIn:finalize",Ft(S,v))}(v,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let h3=(()=>{class S{constructor(){}static assertion(b){return p4._fromCredential(b)}}return S.FACTOR_ID="phone",S})();var zo="@firebase/auth";class J3{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var b=this;return(0,d.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const b=this.auth.onIdTokenChanged(T=>{v(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,b),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const b=this.internalListeners.get(v);!b||(this.internalListeners.delete(v),b(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ao(){return window}function ea(){return(ea=(0,d.Z)(function*(S,v,b){var T;const{BuildInfo:q}=ao();_e(v.sessionId,"AuthEvent did not contain a session ID");const ie=yield Oo(v.sessionId),Ge={};return ae()?Ge.ibi=q.packageName:F1()?Ge.apn=q.packageName:it(S,"operation-not-supported-in-this-environment"),q.displayName&&(Ge.appDisplayName=q.displayName),Ge.sessionId=ie,k4(S,b,v.type,void 0,null!==(T=v.eventId)&&void 0!==T?T:void 0,Ge)})).apply(this,arguments)}function p3(){return(p3=(0,d.Z)(function*(S){const{BuildInfo:v}=ao(),b={};ae()?b.iosBundleId=v.packageName:F1()?b.androidPackageName=v.packageName:it(S,"operation-not-supported-in-this-environment"),yield ys(S,b)})).apply(this,arguments)}function Lo(){return(Lo=(0,d.Z)(function*(S,v,b){const{cordova:T}=ao();let q=()=>{};try{yield new Promise((ie,Ge)=>{let Ct=null;function d1(){var an;ie();const mr=null===(an=T.plugins.browsertab)||void 0===an?void 0:an.close;"function"==typeof mr&&mr(),"function"==typeof b?.close&&b.close()}function x1(){Ct||(Ct=window.setTimeout(()=>{Ge(ct(S,"redirect-cancelled-by-user"))},2e3))}function mn(){"visible"===document?.visibilityState&&x1()}v.addPassiveListener(d1),document.addEventListener("resume",x1,!1),F1()&&document.addEventListener("visibilitychange",mn,!1),q=()=>{v.removePassiveListener(d1),document.removeEventListener("resume",x1,!1),document.removeEventListener("visibilitychange",mn,!1),Ct&&window.clearTimeout(Ct)}})}finally{q()}})).apply(this,arguments)}function Oo(S){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(S){const v=g4(S),b=yield crypto.subtle.digest("SHA-256",v);return Array.from(new Uint8Array(b)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function g4(S){if(_e(/[0-9a-zA-Z]+/.test(S),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(S);const v=new ArrayBuffer(S.length),b=new Uint8Array(v);for(let T=0;T<S.length;T++)b[T]=S.charCodeAt(T);return b}(0,Q.Pz)("authIdTokenMaxAge"),function q2(S){(0,Me._registerComponent)(new le.wA("auth",(v,{options:b})=>{const T=v.getProvider("app").getImmediate(),q=v.getProvider("heartbeat"),{apiKey:ie,authDomain:Ge}=T.options;return((Ct,d1)=>{re(ie&&!ie.includes(":"),"invalid-api-key",{appName:Ct.name}),re(!Ge?.includes(":"),"argument-error",{appName:Ct.name});const x1={apiKey:ie,authDomain:Ge,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dn(S)},mn=new R1(Ct,d1,x1);return function St(S,v){const b=v?.persistence||[],T=(Array.isArray(b)?b:[b]).map(Qe);v?.errorMap&&S._updateErrorMap(v.errorMap),S._initializeWithPersistence(T,v?.popupRedirectResolver)}(mn,b),mn})(T,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,b,T)=>{v.getProvider("auth-internal").initialize()})),(0,Me._registerComponent)(new le.wA("auth-internal",v=>{const b=Mn(v.getProvider("auth").getImmediate());return new J3(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Me.registerVersion)(zo,"0.21.0",function zs(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,Me.registerVersion)(zo,"0.21.0","esm2017")}("Browser");class Ma extends Pi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(v=>{this.resolveInialized=v})}addPassiveListener(v){this.passiveListeners.add(v)}removePassiveListener(v){this.passiveListeners.delete(v)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(v){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(v)),super.onEvent(v)}initialized(){var v=this;return(0,d.Z)(function*(){yield v.initPromise})()}}function j6(S){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(S){const v=yield Da()._get(v4(S));return v&&(yield Da()._remove(v4(S))),v})).apply(this,arguments)}function m3(){const S=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<20;b++){const T=Math.floor(Math.random()*v.length);S.push(v.charAt(T))}return S.join("")}function Da(){return Qe(kr)}function v4(S){return xe("authEvent",S.config.apiKey,S.name)}function na(S){if(!S?.includes("?"))return{};const[v,...b]=S.split("?");return(0,Q.zd)(b.join("?"))}function F4(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ct("no-auth-event")}}function Sa(){var S;return(null===(S=self?.location)||void 0===S?void 0:S.protocol)||null}function e2(S=(0,Q.z$)()){return!("file:"!==Sa()&&"ionic:"!==Sa()&&"capacitor:"!==Sa()||!S.toLowerCase().match(/iphone|ipad|ipod|android/))}function ss(){try{const S=self.localStorage,v=ts();if(S)return S.setItem(v,"1"),S.removeItem(v),!function L0(S=(0,Q.z$)()){return function B4(){return(0,Q.w1)()&&11===document?.documentMode}()||function Ls(S=(0,Q.z$)()){return/Edge\/\d+/.test(S)}(S)}()||(0,Q.hl)()}catch{return co()&&(0,Q.hl)()}return!1}function co(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ta(){return(function nr(){return"http:"===Sa()||"https:"===Sa()}()||(0,Q.ru)()||e2())&&!function Na(){return(0,Q.b$)()||(0,Q.UG)()}()&&ss()&&!co()}function ko(){return e2()&&typeof document<"u"}function y4(){return(y4=(0,d.Z)(function*(){return!!ko()&&new Promise(S=>{const v=setTimeout(()=>{S(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(v),S(!0)})})})).apply(this,arguments)}const Qs={LOCAL:"local",NONE:"none",SESSION:"session"},ra=re,Hn="persistence";function sa(S){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(S){yield S._initializationPromise;const v=Ia(),b=xe(Hn,S.config.apiKey,S.name);v&&v.setItem(b,S._getPersistence())})).apply(this,arguments)}function Ia(){var S;try{return(null===(S=function Po(){return typeof window<"u"?window:null}())||void 0===S?void 0:S.sessionStorage)||null}catch{return null}}const _4=re;class Zs{constructor(){this.browserResolver=Qe(class xs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qr,this._completeRedirectFn=c1,this._overrideRedirectResult=ji}_openPopup(v,b,T,q){var ie=this;return(0,d.Z)(function*(){var Ge;_e(null===(Ge=ie.eventManagers[v._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const Ct=k4(v,b,T,Tt(),q);return function u3(S,v,b,T=500,q=600){const ie=Math.max((window.screen.availHeight-q)/2,0).toString(),Ge=Math.max((window.screen.availWidth-T)/2,0).toString();let Ct="";const d1=Object.assign(Object.assign({},Es),{width:T.toString(),height:q.toString(),top:ie,left:Ge}),x1=(0,Q.z$)().toLowerCase();b&&(Ct=O1(x1)?"_blank":b),jt(x1)&&(v=v||"http://localhost",d1.scrollbars="yes");const mn=Object.entries(d1).reduce((mr,[Yr,ca])=>`${mr}${Yr}=${ca},`,"");if(function pt(S=(0,Q.z$)()){var v;return ae(S)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(x1)&&"_self"!==Ct)return function d3(S,v){const b=document.createElement("a");b.href=S,b.target=v;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(T)}(v||"",Ct),new Ga(null);const an=window.open(v||"",Ct,mn);re(an,S,"popup-blocked");try{an.focus()}catch{}return new Ga(an)}(v,Ct,ts())})()}_openRedirect(v,b,T,q){var ie=this;return(0,d.Z)(function*(){return yield ie._originValidation(v),function p1(S){t1().location.href=S}(k4(v,b,T,Tt(),q)),new Promise(()=>{})})()}_initialize(v){const b=v._key();if(this.eventManagers[b]){const{manager:q,promise:ie}=this.eventManagers[b];return q?Promise.resolve(q):(_e(ie,"If manager is not set, promise should be"),ie)}const T=this.initAndGetManager(v);return this.eventManagers[b]={promise:T},T.catch(()=>{delete this.eventManagers[b]}),T}initAndGetManager(v){var b=this;return(0,d.Z)(function*(){const T=yield function Ca(S){return js.apply(this,arguments)}(v),q=new Pi(v);return T.register("authEvent",ie=>(re(ie?.authEvent,v,"invalid-auth-event"),{status:q.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[v._key()]={manager:q},b.iframes[v._key()]=T,q})()}_isIframeWebStorageSupported(v,b){this.iframes[v._key()].send(h4,{type:h4},q=>{var ie;const Ge=null===(ie=q?.[0])||void 0===ie?void 0:ie[h4];void 0!==Ge&&b(!!Ge),it(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function F6(S){return $3.apply(this,arguments)}(v)),this.originValidationPromises[b]}get _shouldInitProactively(){return D1()||Yt()||ae()}}),this.cordovaResolver=Qe(class Za{constructor(){this._redirectPersistence=qr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=c1,this._overrideRedirectResult=ji}_initialize(v){var b=this;return(0,d.Z)(function*(){const T=v._key();let q=b.eventManagers.get(T);return q||(q=new Ma(v),b.eventManagers.set(T,q),b.attachCallbackListeners(v,q)),q})()}_openPopup(v){it(v,"operation-not-supported-in-this-environment")}_openRedirect(v,b,T,q){var ie=this;return(0,d.Z)(function*(){!function Js(S){var v,b,T,q,ie,Ge,Ct,d1,x1,mn;const an=ao();re("function"==typeof(null===(v=an?.universalLinks)||void 0===v?void 0:v.subscribe),S,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(b=an?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(ie=null===(q=null===(T=an?.cordova)||void 0===T?void 0:T.plugins)||void 0===q?void 0:q.browsertab)||void 0===ie?void 0:ie.openUrl),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(d1=null===(Ct=null===(Ge=an?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===d1?void 0:d1.isAvailable),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(mn=null===(x1=an?.cordova)||void 0===x1?void 0:x1.InAppBrowser)||void 0===mn?void 0:mn.open),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(v);const Ge=yield ie._initialize(v);yield Ge.initialized(),Ge.resetRedirect(),function As(){h2.clear()}(),yield ie._originValidation(v);const Ct=function ta(S,v,b=null){return{type:v,eventId:b,urlResponse:null,sessionId:m3(),postBody:null,tenantId:S.tenantId,error:ct(S,"no-auth-event")}}(v,T,q);yield function wa(S,v){return Da()._set(v4(S),v)}(v,Ct);const d1=yield function Do(S,v,b){return ea.apply(this,arguments)}(v,Ct,b),x1=yield function X3(S){const{cordova:v}=ao();return new Promise(b=>{v.plugins.browsertab.isAvailable(T=>{let q=null;T?v.plugins.browsertab.openUrl(S):q=v.InAppBrowser.open(S,function Ue(S=(0,Q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(S)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(S)}()?"_blank":"_system","location=yes"),b(q)})})}(d1);return function e6(S,v,b){return Lo.apply(this,arguments)}(v,Ge,x1)})()}_isIframeWebStorageSupported(v,b){throw new Error("Method not implemented.")}_originValidation(v){const b=v._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function m4(S){return p3.apply(this,arguments)}(v)),this.originValidationPromises[b]}attachCallbackListeners(v,b){const{universalLinks:T,handleOpenURL:q,BuildInfo:ie}=ao(),Ge=setTimeout((0,d.Z)(function*(){yield j6(v),b.onEvent(F4())}),500),Ct=function(){var mn=(0,d.Z)(function*(an){clearTimeout(Ge);const mr=yield j6(v);let Yr=null;mr&&an?.url&&(Yr=function $i(S,v){var b,T;const q=function g3(S){const v=na(S),b=v.link?decodeURIComponent(v.link):void 0,T=na(b).link,q=v.deep_link_id?decodeURIComponent(v.deep_link_id):void 0;return na(q).link||q||T||b||S}(v);if(q.includes("/__/auth/callback")){const ie=na(q),Ge=ie.firebaseError?function G6(S){try{return JSON.parse(S)}catch{return null}}(decodeURIComponent(ie.firebaseError)):null,Ct=null===(T=null===(b=Ge?.code)||void 0===b?void 0:b.split("auth/"))||void 0===T?void 0:T[1],d1=Ct?ct(Ct):null;return d1?{type:S.type,eventId:S.eventId,tenantId:S.tenantId,error:d1,urlResponse:null,sessionId:null,postBody:null}:{type:S.type,eventId:S.eventId,tenantId:S.tenantId,sessionId:S.sessionId,urlResponse:q,postBody:null}}return null}(mr,an.url)),b.onEvent(Yr||F4())});return function(mr){return mn.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Ct);const d1=q,x1=`${ie.packageName.toLowerCase()}://`;ao().handleOpenURL=function(){var mn=(0,d.Z)(function*(an){if(an.toLowerCase().startsWith(x1)&&Ct({url:an}),"function"==typeof d1)try{d1(an)}catch(mr){console.error(mr)}});return function(an){return mn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=qr,this._completeRedirectFn=c1,this._overrideRedirectResult=ji}_initialize(v){var b=this;return(0,d.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(v)})()}_openPopup(v,b,T,q){var ie=this;return(0,d.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(v,b,T,q)})()}_openRedirect(v,b,T,q){var ie=this;return(0,d.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(v,b,T,q)})()}_isIframeWebStorageSupported(v,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(v,b)}_originValidation(v){return this.assertedUnderlyingResolver._originValidation(v)}get _shouldInitProactively(){return ko()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _4(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var v=this;return(0,d.Z)(function*(){if(v.underlyingResolver)return;const b=yield function $s(){return y4.apply(this,arguments)}();v.underlyingResolver=b?v.cordovaResolver:v.browserResolver})()}}function Wa(S){return S.unwrap()}function C4(S){return qa(S)}function qa(S){const{_tokenResponse:v}=S instanceof Q.ZR?S.customData:S;if(!v)return null;if(!(S instanceof Q.ZR)&&"temporaryProof"in v&&"phoneNumber"in v)return a.credentialFromResult(S);const b=v.providerId;if(!b||"password"===b)return null;let T;switch(b){case"google.com":T=gi;break;case"facebook.com":T=es;break;case"github.com":T=vi;break;case"twitter.com":T=Q2;break;default:const{oauthIdToken:q,oauthAccessToken:ie,oauthTokenSecret:Ge,pendingToken:Ct,nonce:d1}=v;return ie||Ge||q||Ct?Ct?b.startsWith("saml.")?yi._create(b,Ct):qe._fromParams({providerId:b,signInMethod:b,pendingToken:Ct,idToken:q,accessToken:ie}):new Z2(b).credential({idToken:q,accessToken:ie,rawNonce:d1}):null}return S instanceof Q.ZR?T.credentialFromError(S):T.credentialFromResult(S)}function bs(S,v){return v.catch(b=>{throw b instanceof Q.ZR&&function U4(S,v){var b;const T=null===(b=v.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===v?.code)v.resolver=new xa(S,function E2(S,v){var b;const T=(0,Q.m9)(S),q=v;return re(v.customData.operationType,T,"argument-error"),re(null===(b=q.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,T,"argument-error"),qs._fromError(T,q)}(S,v));else if(T){const q=qa(v),ie=v;q&&(ie.credential=q,ie.tenantId=T.tenantId||void 0,ie.email=T.email||void 0,ie.phoneNumber=T.phoneNumber||void 0)}}(S,b),b}).then(b=>{const q=b.user;return{operationType:b.operationType,credential:C4(b),additionalUserInfo:on(b),user:lo.getOrCreate(q)}})}function _3(S,v){return n6.apply(this,arguments)}function n6(){return(n6=(0,d.Z)(function*(S,v){const b=yield v;return{verificationId:b.verificationId,confirm:T=>bs(S,b.confirm(T))}})).apply(this,arguments)}class xa{constructor(v,b){this.resolver=b,this.auth=function b4(S){return S.wrapped()}(v)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(v){return bs(Wa(this.auth),this.resolver.resolveSignIn(v))}}class lo{constructor(v){this._delegate=v,this.multiFactor=function Xs(S){const v=(0,Q.m9)(S);return vo.has(v)||vo.set(v,Jo._fromUser(v)),vo.get(v)}(v)}static getOrCreate(v){return lo.USER_MAP.has(v)||lo.USER_MAP.set(v,new lo(v)),lo.USER_MAP.get(v)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(v){return this._delegate.getIdTokenResult(v)}getIdToken(v){return this._delegate.getIdToken(v)}linkAndRetrieveDataWithCredential(v){return this.linkWithCredential(v)}linkWithCredential(v){var b=this;return(0,d.Z)(function*(){return bs(b.auth,li(b._delegate,v))})()}linkWithPhoneNumber(v,b){var T=this;return(0,d.Z)(function*(){return _3(T.auth,function ki(S,v,b){return Hr.apply(this,arguments)}(T._delegate,v,b))})()}linkWithPopup(v){var b=this;return(0,d.Z)(function*(){return bs(b.auth,function Q1(S,v,b){return un.apply(this,arguments)}(b._delegate,v,Zs))})()}linkWithRedirect(v){var b=this;return(0,d.Z)(function*(){return yield sa(Mn(b.auth)),function Pe(S,v,b){return function tt(S,v,b){return zt.apply(this,arguments)}(S,v,b)}(b._delegate,v,Zs)})()}reauthenticateAndRetrieveDataWithCredential(v){return this.reauthenticateWithCredential(v)}reauthenticateWithCredential(v){var b=this;return(0,d.Z)(function*(){return bs(b.auth,Cr(b._delegate,v))})()}reauthenticateWithPhoneNumber(v,b){return _3(this.auth,function wo(S,v,b){return Fr.apply(this,arguments)}(this._delegate,v,b))}reauthenticateWithPopup(v){return bs(this.auth,function j1(S,v,b){return k1.apply(this,arguments)}(this._delegate,v,Zs))}reauthenticateWithRedirect(v){var b=this;return(0,d.Z)(function*(){return yield sa(Mn(b.auth)),function V(S,v,b){return function Y(S,v,b){return se.apply(this,arguments)}(S,v,b)}(b._delegate,v,Zs)})()}sendEmailVerification(v){return function W(S,v){return ee.apply(this,arguments)}(this._delegate,v)}unlink(v){var b=this;return(0,d.Z)(function*(){return yield function v2(S,v){return X2.apply(this,arguments)}(b._delegate,v),b})()}updateEmail(v){return function z(S,v){return O((0,Q.m9)(S),v,null)}(this._delegate,v)}updatePassword(v){return function $(S,v){return O((0,Q.m9)(S),null,v)}(this._delegate,v)}updatePhoneNumber(v){return function p(S,v){return l.apply(this,arguments)}(this._delegate,v)}updateProfile(v){return function Nt(S,v){return Et.apply(this,arguments)}(this._delegate,v)}verifyBeforeUpdateEmail(v,b){return function ce(S,v,b){return ve.apply(this,arguments)}(this._delegate,v,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}lo.USER_MAP=new WeakMap;const oa=re;let Mi=(()=>{class S{constructor(b,T){if(this.app=b,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=b.options;oa(q,"invalid-api-key",{appName:b.name}),oa(q,"invalid-api-key",{appName:b.name});const ie=typeof window<"u"?Zs:void 0;this._delegate=T.initialize({options:{persistence:Ho(q,b.name),popupRedirectResolver:ie}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?lo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,T){!function hi(S,v,b){const T=Mn(S);re(T._canInitEmulator,T,"emulator-config-failed"),re(/^https?:\/\//.test(v),T,"invalid-emulator-scheme");const q=!!b?.disableWarnings,ie=T2(v),{host:Ge,port:Ct}=function s2(S){const v=T2(S),b=/(\/\/)?([^?#/]+)/.exec(S.substr(v.length));if(!b)return{host:"",port:null};const T=b[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(T);if(q){const ie=q[1];return{host:ie,port:Y2(T.substr(ie.length+1))}}{const[ie,Ge]=T.split(":");return{host:ie,port:Y2(Ge)}}}(v);T.config.emulator={url:`${ie}//${Ge}${null===Ct?"":`:${Ct}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ge,port:Ct,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function R2(){function S(){const v=document.createElement("p"),b=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",S):S())}()}(this._delegate,b,T)}applyActionCode(b){return function Ki(S,v){return x2.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return cr(this._delegate,b)}confirmPasswordReset(b,T){return function Ns(S,v,b){return us.apply(this,arguments)}(this._delegate,b,T)}createUserWithEmailAndPassword(b,T){var q=this;return(0,d.Z)(function*(){return bs(q._delegate,function F(S,v,b){return k.apply(this,arguments)}(q._delegate,b,T))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function Rr(S,v){return Ji.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function Bn(S,v){return"EMAIL_SIGNIN"===o2.parseLink(v)?.operation}(0,b)}getRedirectResult(){var b=this;return(0,d.Z)(function*(){oa(Ta(),b._delegate,"operation-not-supported-in-this-environment");const T=yield function o1(S,v){return C1.apply(this,arguments)}(b._delegate,Zs);return T?bs(b._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function $6(S,v){Mn(S)._logFramework(v)}(this._delegate,b)}onAuthStateChanged(b,T,q){const{next:ie,error:Ge,complete:Ct}=za(b,T,q);return this._delegate.onAuthStateChanged(ie,Ge,Ct)}onIdTokenChanged(b,T,q){const{next:ie,error:Ge,complete:Ct}=za(b,T,q);return this._delegate.onIdTokenChanged(ie,Ge,Ct)}sendSignInLinkToEmail(b,T){return function at(S,v,b){return m1.apply(this,arguments)}(this._delegate,b,T)}sendPasswordResetEmail(b,T){return function Mr(S,v,b){return a2.apply(this,arguments)}(this._delegate,b,T||void 0)}setPersistence(b){var T=this;return(0,d.Z)(function*(){let q;switch(function t6(S,v){ra(Object.values(Qs).includes(v),S,"invalid-persistence-type"),(0,Q.b$)()?ra(v!==Qs.SESSION,S,"unsupported-persistence-type"):(0,Q.UG)()?ra(v===Qs.NONE,S,"unsupported-persistence-type"):co()?ra(v===Qs.NONE||v===Qs.LOCAL&&(0,Q.hl)(),S,"unsupported-persistence-type"):ra(v===Qs.NONE||ss(),S,"unsupported-persistence-type")}(T._delegate,b),b){case Qs.SESSION:q=qr;break;case Qs.LOCAL:q=(yield Qe(b2)._isAvailable())?b2:kr;break;case Qs.NONE:q=be;break;default:return it("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return bs(this._delegate,function $r(S){return Xn.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return bs(this._delegate,r2(this._delegate,b))}signInWithCustomToken(b){return bs(this._delegate,function Wi(S,v){return qi.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,T){return bs(this._delegate,function ne(S,v,b){return r2((0,Q.m9)(S),oi.credential(v,b))}(this._delegate,b,T))}signInWithEmailLink(b,T){return bs(this._delegate,function lr(S,v,b){return Yi.apply(this,arguments)}(this._delegate,b,T))}signInWithPhoneNumber(b,T){return _3(this._delegate,function Hs(S,v,b){return Io.apply(this,arguments)}(this._delegate,b,T))}signInWithPopup(b){var T=this;return(0,d.Z)(function*(){return oa(Ta(),T._delegate,"operation-not-supported-in-this-environment"),bs(T._delegate,function _t(S,v,b){return Xt.apply(this,arguments)}(T._delegate,b,Zs))})()}signInWithRedirect(b){var T=this;return(0,d.Z)(function*(){return oa(Ta(),T._delegate,"operation-not-supported-in-this-environment"),yield sa(T._delegate),function B2(S,v,b){return function ya(S,v,b){return P.apply(this,arguments)}(S,v,b)}(T._delegate,b,Zs)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function Or(S,v){return B.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return S.Persistence=Qs,S})();function za(S,v,b){let T=S;"function"!=typeof S&&({next:T,error:v,complete:b}=S);const q=T;return{next:Ge=>q(Ge&&lo.getOrCreate(Ge)),error:v,complete:b}}function Ho(S,v){const b=function Aa(S,v){const b=Ia();if(!b)return[];const T=xe(Hn,S,v);switch(b.getItem(T)){case Qs.NONE:return[be];case Qs.LOCAL:return[b2,qr];case Qs.SESSION:return[qr];default:return[]}}(S,v);if(typeof self<"u"&&!b.includes(b2)&&b.push(b2),typeof window<"u")for(const T of[kr,qr])b.includes(T)||b.push(T);return b.includes(be)||b.push(be),b}class aa{constructor(){this.providerId="phone",this._delegate=new a(Wa(D.Z.auth()))}static credential(v,b){return a.credential(v,b)}verifyPhoneNumber(v,b){return this._delegate.verifyPhoneNumber(v,b)}unwrap(){return this._delegate}}aa.PHONE_SIGN_IN_METHOD=a.PHONE_SIGN_IN_METHOD,aa.PROVIDER_ID=a.PROVIDER_ID;const uo=re;class b3{constructor(v,b,T=D.Z.app()){var q;uo(null===(q=T.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Wn(v,b,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ka(S){S.INTERNAL.registerComponent(new le.wA("auth-compat",v=>{const b=v.getProvider("app-compat").getImmediate(),T=v.getProvider("auth");return new Mi(b,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:oi,FacebookAuthProvider:es,GithubAuthProvider:vi,GoogleAuthProvider:gi,OAuthProvider:Z2,SAMLAuthProvider:_i,PhoneAuthProvider:aa,PhoneMultiFactorGenerator:h3,RecaptchaVerifier:b3,TwitterAuthProvider:Q2,Auth:Mi,AuthCredential:A2,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),S.registerVersion("@firebase/auth-compat","0.3.0")}(D.Z)},8766:(Qt,We,H)=>{H.d(We,{Lj:()=>it,X3:()=>Kt});var d=H(5861);let Q,Me;const le=new WeakMap,Ae=new WeakMap,ze=new WeakMap,de=new WeakMap,fe=new WeakMap;let et={get(re,Ke,_e){if(re instanceof IDBTransaction){if("done"===Ke)return Ae.get(re);if("objectStoreNames"===Ke)return re.objectStoreNames||ze.get(re);if("store"===Ke)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return nt(re[Ke])},set:(re,Ke,_e)=>(re[Ke]=_e,!0),has:(re,Ke)=>re instanceof IDBTransaction&&("done"===Ke||"store"===Ke)||Ke in re};function rt(re){return"function"==typeof re?function Pt(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...Ke){return re.apply(Oe(this),Ke),nt(le.get(this))}:function(...Ke){return nt(re.apply(Oe(this),Ke))}:function(Ke,..._e){const Te=re.call(Oe(this),Ke,..._e);return ze.set(Te,Ke.sort?Ke.sort():[Ke]),nt(Te)}}(re):(re instanceof IDBTransaction&&function Xe(re){if(Ae.has(re))return;const Ke=new Promise((_e,Te)=>{const Qe=()=>{re.removeEventListener("complete",Re),re.removeEventListener("error",St),re.removeEventListener("abort",St)},Re=()=>{_e(),Qe()},St=()=>{Te(re.error||new DOMException("AbortError","AbortError")),Qe()};re.addEventListener("complete",Re),re.addEventListener("error",St),re.addEventListener("abort",St)});Ae.set(re,Ke)}(re),((re,Ke)=>Ke.some(_e=>re instanceof _e))(re,function Ee(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,et):re)}function nt(re){if(re instanceof IDBRequest)return function Ne(re){const Ke=new Promise((_e,Te)=>{const Qe=()=>{re.removeEventListener("success",Re),re.removeEventListener("error",St)},Re=()=>{_e(nt(re.result)),Qe()},St=()=>{Te(re.error),Qe()};re.addEventListener("success",Re),re.addEventListener("error",St)});return Ke.then(_e=>{_e instanceof IDBCursor&&le.set(_e,re)}).catch(()=>{}),fe.set(Ke,re),Ke}(re);if(de.has(re))return de.get(re);const Ke=rt(re);return Ke!==re&&(de.set(re,Ke),fe.set(Ke,re)),Ke}const Oe=re=>fe.get(re);function Kt(re,Ke,{blocked:_e,upgrade:Te,blocking:Qe,terminated:Re}={}){const St=indexedDB.open(re,Ke),Tt=nt(St);return Te&&St.addEventListener("upgradeneeded",f1=>{Te(nt(St.result),f1.oldVersion,f1.newVersion,nt(St.transaction))}),_e&&St.addEventListener("blocked",()=>_e()),Tt.then(f1=>{Re&&f1.addEventListener("close",()=>Re()),Qe&&f1.addEventListener("versionchange",()=>Qe())}).catch(()=>{}),Tt}function it(re,{blocked:Ke}={}){const _e=indexedDB.deleteDatabase(re);return Ke&&_e.addEventListener("blocked",()=>Ke()),nt(_e).then(()=>{})}const ct=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],It=new Map;function mt(re,Ke){if(!(re instanceof IDBDatabase)||Ke in re||"string"!=typeof Ke)return;if(It.get(Ke))return It.get(Ke);const _e=Ke.replace(/FromIndex$/,""),Te=Ke!==_e,Qe=Ye.includes(_e);if(!(_e in(Te?IDBIndex:IDBObjectStore).prototype)||!Qe&&!ct.includes(_e))return;const Re=function(){var St=(0,d.Z)(function*(Tt,...f1){const L1=this.transaction(Tt,Qe?"readwrite":"readonly");let S1=L1.store;return Te&&(S1=S1.index(f1.shift())),(yield Promise.all([S1[_e](...f1),Qe&&L1.done]))[0]});return function(f1){return St.apply(this,arguments)}}();return It.set(Ke,Re),Re}!function Ze(re){et=re(et)}(re=>({...re,get:(Ke,_e,Te)=>mt(Ke,_e)||re.get(Ke,_e,Te),has:(Ke,_e)=>!!mt(Ke,_e)||re.has(Ke,_e)}))},5861:(Qt,We,H)=>{function d(Q,Me,Ee,De,le,Ae,ze){try{var de=Q[Ae](ze),fe=de.value}catch(Ne){return void Ee(Ne)}de.done?Me(fe):Promise.resolve(fe).then(De,le)}function D(Q){return function(){var Me=this,Ee=arguments;return new Promise(function(De,le){var Ae=Q.apply(Me,Ee);function ze(fe){d(Ae,De,le,ze,de,"next",fe)}function de(fe){d(Ae,De,le,ze,de,"throw",fe)}ze(void 0)})}}H.d(We,{Z:()=>D})}},Qt=>{Qt(Qt.s=3785)}]);