"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{2011:(dt,Ae,P)=>{P.d(Ae,{Dh:()=>fe,GT:()=>he,cc:()=>Ne,hO:()=>Oe,on:()=>U,pX:()=>oe,xv:()=>de});var v=P(4650),X=P(9260),z=P(2122);dt=P.hmd(dt);const ae=["ngOnDestroy"],oe=(pe,et,ct,Te={})=>new Proxy(pe,{get:(Ce,Ee)=>ct.runOutsideAngular(()=>{var Fe;if(pe[Ee])return!(null===(Fe=Te?.spy)||void 0===Fe)&&Fe.get&&Te.spy.get(Ee,pe[Ee]),pe[Ee];if(ae.indexOf(Ee)>-1)return()=>{};const Be=et.toPromise().then(F=>{const ge=F&&F[Ee];return"function"==typeof ge?ge.bind(F):ge&&ge.then?ge.then(W=>ct.run(()=>W)):ct.run(()=>ge)});return new Proxy(()=>{},{get:(F,ge)=>Be[ge],apply:(F,ge,W)=>Be.then(J=>{var se;const ie=J&&J(...W);return!(null===(se=Te?.spy)||void 0===se)&&se.apply&&Te.spy.apply(Ee,W,ie),ie})})})}),he=(pe,et)=>{et.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(Te=>{Object.defineProperty(pe.prototype,Te,Object.getOwnPropertyDescriptor(ct.prototype||ct,Te))})})};class le{constructor(et){return et}}const fe=new v.OlP("angularfire2.app.options"),de=new v.OlP("angularfire2.app.name");function U(pe,et,ct){const Ce="object"==typeof ct&&ct||{};Ce.name=Ce.name||"string"==typeof ct&&ct||"[DEFAULT]";const Fe=X.Z.apps.filter(Be=>Be&&Be.name===Ce.name)[0]||et.runOutsideAngular(()=>X.Z.initializeApp(pe,Ce));try{JSON.stringify(pe)!==JSON.stringify(Fe.options)&&j("error",`${Fe.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Fe)}const j=(pe,...et)=>{(0,v.X6Q)()&&typeof console<"u"&&console[pe](...et)},K={provide:le,useFactory:U,deps:[fe,v.R0b,[new v.FiY,de]]};let Oe=(()=>{class pe{constructor(ct){X.Z.registerVersion("angularfire",z.q4.full,"core"),X.Z.registerVersion("angularfire",z.q4.full,"app-compat"),X.Z.registerVersion("angular",v.q4F.full,ct.toString())}static initializeApp(ct,Te){return{ngModule:pe,providers:[{provide:fe,useValue:ct},{provide:de,useValue:Te}]}}}return pe.\u0275fac=function(ct){return new(ct||pe)(v.LFG(v.Lbi))},pe.\u0275mod=v.oAB({type:pe}),pe.\u0275inj=v.cJS({providers:[K]}),pe})();function Ne(pe,et,ct,Te,Ce){const[,Ee,Fe]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===pe)||[];if(Ee)return function be(pe,et){try{return pe.toString()===et.toString()}catch{return pe===et}}(Ce,Fe)||(ve("error",`${et} was already initialized on the ${ct} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ce,was:Fe})),Ee;{const Be=Te();return globalThis.\u0275AngularfireInstanceCache.push([pe,Be,Ce]),Be}}const st=!!dt.hot,ve=(pe,...et)=>{(0,v.X6Q)()&&typeof console<"u"&&console[pe](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(dt,Ae,P)=>{P.d(Ae,{q4:()=>ot,iC:()=>oi,HU:()=>Bs,vb:()=>ki,JM:()=>H2});var v=P(4650),X=P(259),z=P(5861),ae=P(9681),oe=P(2090),he=P(4859),le=P(1877),fe=P(8766);const de="@firebase/installations",U="0.6.0",K=`w:${U}`,Oe="FIS_v2",et=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(M){return M instanceof oe.ZR&&M.code.includes("request-failed")}function Te({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function Ce(M){return{token:M.token,requestStatus:2,expiresIn:J(M.expiresIn),creationTime:Date.now()}}function Ee(M,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,z.Z)(function*(M,I){const O=(yield I.json()).error;return et.create("request-failed",{requestName:M,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Be({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function F(M,{refreshToken:I}){const x=Be(M);return x.append("Authorization",function se(M){return`${Oe} ${M}`}(I)),x}function ge(M){return W.apply(this,arguments)}function W(){return(W=(0,z.Z)(function*(M){const I=yield M();return I.status>=500&&I.status<600?M():I})).apply(this,arguments)}function J(M){return Number(M.replace("s","000"))}function ie(M,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,z.Z)(function*({appConfig:M,heartbeatServiceProvider:I},{fid:x}){const O=Te(M),Q=Be(M),te=I.getImmediate({optional:!0});if(te){const ut=yield te.getHeartbeatsHeader();ut&&Q.append("x-firebase-client",ut)}const Ue={method:"POST",headers:Q,body:JSON.stringify({fid:x,authVersion:Oe,appId:M.appId,sdkVersion:K})},Je=yield ge(()=>fetch(O,Ue));if(Je.ok){const ut=yield Je.json();return{fid:ut.fid||x,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Ce(ut.authToken)}}throw yield Ee("Create Installation",Je)})).apply(this,arguments)}function ke(M){return new Promise(I=>{setTimeout(I,M)})}const nn=/^[cdef][\w-]{21}$/;function Ze(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const x=function dn(M){return function pt(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return nn.test(x)?x:""}catch{return""}}function Sn(M){return`${M.appName}!${M.appId}`}const Yt=new Map;function rn(M,I){const x=Sn(M);vn(x,I),function Q1(M,I){const x=function Hr(){return!C1&&"BroadcastChannel"in self&&(C1=new BroadcastChannel("[Firebase] FID Change"),C1.onmessage=M=>{vn(M.data.key,M.data.fid)}),C1}();x&&x.postMessage({key:M,fid:I}),function Yr(){0===Yt.size&&C1&&(C1.close(),C1=null)}()}(x,I)}function vn(M,I){const x=Yt.get(M);if(x)for(const O of x)O(I)}let C1=null;const c1="firebase-installations-store";let l1=null;function d2(){return l1||(l1=(0,fe.X3)("firebase-installations-database",1,{upgrade:(M,I)=>{0===I&&M.createObjectStore(c1)}})),l1}function Qe(M,I){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,z.Z)(function*(M,I){const x=Sn(M),Q=(yield d2()).transaction(c1,"readwrite"),te=Q.objectStore(c1),Me=yield te.get(x);return yield te.put(I,x),yield Q.done,(!Me||Me.fid!==I.fid)&&rn(M,I.fid),I})).apply(this,arguments)}function vi(M){return nr.apply(this,arguments)}function nr(){return(nr=(0,z.Z)(function*(M){const I=Sn(M),O=(yield d2()).transaction(c1,"readwrite");yield O.objectStore(c1).delete(I),yield O.done})).apply(this,arguments)}function u1(M,I){return R1.apply(this,arguments)}function R1(){return(R1=(0,z.Z)(function*(M,I){const x=Sn(M),Q=(yield d2()).transaction(c1,"readwrite"),te=Q.objectStore(c1),Me=yield te.get(x),Ue=I(Me);return void 0===Ue?yield te.delete(x):yield te.put(Ue,x),yield Q.done,Ue&&(!Me||Me.fid!==Ue.fid)&&rn(M,Ue.fid),Ue})).apply(this,arguments)}function Hn(M){return qn.apply(this,arguments)}function qn(){return(qn=(0,z.Z)(function*(M){let I;const x=yield u1(M.appConfig,O=>{const Q=En(O),te=Ct(M,Q);return I=te.registrationPromise,te.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function En(M){return Nt(M||{fid:Ze(),registrationStatus:0})}function Ct(M,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(et.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},O=function ht(M,I){return ln.apply(this,arguments)}(M,x);return{installationEntry:x,registrationPromise:O}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:wr(M)}:{installationEntry:I}}function ln(){return(ln=(0,z.Z)(function*(M,I){try{const x=yield ie(M,I);return Qe(M.appConfig,x)}catch(x){throw ct(x)&&409===x.customData.serverCode?yield vi(M.appConfig):yield Qe(M.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function wr(M){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,z.Z)(function*(M){let I=yield Jr(M.appConfig);for(;1===I.registrationStatus;)yield ke(100),I=yield Jr(M.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:O}=yield Hn(M);return O||x}return I})).apply(this,arguments)}function Jr(M){return u1(M,I=>{if(!I)throw et.create("installation-not-found");return Nt(I)})}function Nt(M){return function yi(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function sn(M,I){return P1.apply(this,arguments)}function P1(){return(P1=(0,z.Z)(function*({appConfig:M,heartbeatServiceProvider:I},x){const O=on(M,x),Q=F(M,x),te=I.getImmediate({optional:!0});if(te){const ut=yield te.getHeartbeatsHeader();ut&&Q.append("x-firebase-client",ut)}const Ue={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:K,appId:M.appId}})},Je=yield ge(()=>fetch(O,Ue));if(Je.ok)return Ce(yield Je.json());throw yield Ee("Generate Auth Token",Je)})).apply(this,arguments)}function on(M,{fid:I}){return`${Te(M)}/${I}/authTokens:generate`}function rr(M){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,z.Z)(function*(M,I=!1){let x;const O=yield u1(M.appConfig,te=>{if(!Ut(te))throw et.create("not-registered");const Me=te.authToken;if(!I&&B(Me))return te;if(1===Me.requestStatus)return x=rt(M,I),te;{if(!navigator.onLine)throw et.create("app-offline");const Ue=Z(te);return x=Dt(M,Ue),Ue}});return x?yield x:O.authToken})).apply(this,arguments)}function rt(M,I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,z.Z)(function*(M,I){let x=yield tt(M.appConfig);for(;1===x.authToken.requestStatus;)yield ke(100),x=yield tt(M.appConfig);const O=x.authToken;return 0===O.requestStatus?rr(M,I):O})).apply(this,arguments)}function tt(M){return u1(M,I=>{if(!Ut(I))throw et.create("not-registered");return function we(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Dt(M,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,z.Z)(function*(M,I){try{const x=yield sn(M,I),O=Object.assign(Object.assign({},I),{authToken:x});return yield Qe(M.appConfig,O),x}catch(x){if(!ct(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const O=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Qe(M.appConfig,O)}else yield vi(M.appConfig);throw x}})).apply(this,arguments)}function Ut(M){return void 0!==M&&2===M.registrationStatus}function B(M){return 2===M.requestStatus&&!function V(M){const I=Date.now();return I<M.creationTime||M.creationTime+M.expiresIn<I+36e5}(M)}function Z(M){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:I})}function Ge(){return(Ge=(0,z.Z)(function*(M){const I=M,{installationEntry:x,registrationPromise:O}=yield Hn(I);return O?O.catch(console.error):rr(I).catch(console.error),x.fid})).apply(this,arguments)}function Jt(){return(Jt=(0,z.Z)(function*(M,I=!1){const x=M;return yield wn(x),(yield rr(x,I)).token})).apply(this,arguments)}function wn(M){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,z.Z)(function*(M){const{registrationPromise:I}=yield Hn(M);I&&(yield I)})).apply(this,arguments)}function _i(M){return et.create("missing-app-config-values",{valueName:M})}const As="installations",xn=M=>{const I=M.getProvider("app").getImmediate(),x=function An(M){if(!M||!M.options)throw _i("App Configuration");if(!M.name)throw _i("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!M.options[x])throw _i(x);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},$i=M=>{const I=M.getProvider("app").getImmediate(),x=(0,ae._getProvider)(I,As).getImmediate();return{getId:()=>function Y(M){return Ge.apply(this,arguments)}(x),getToken:Q=>function mt(M){return Jt.apply(this,arguments)}(x,Q)}};(function bo(){(0,ae._registerComponent)(new he.wA(As,xn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",$i,"PRIVATE"))})(),(0,ae.registerVersion)(de,U),(0,ae.registerVersion)(de,U,"esm2017");const O1="@firebase/remote-config",Kn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class A0{constructor(I,x,O,Q){this.client=I,this.storage=x,this.storageCache=O,this.logger=Q}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-x,Q=O<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var x=this;return(0,z.Z)(function*(){const[O,Q]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Q&&x.isCachedDataFresh(I.cacheMaxAgeMillis,O))return Q;I.eTag=Q&&Q.eTag;const te=yield x.client.fetch(I),Me=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Me.push(x.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Me),te})()}}function Ya(M=navigator){return M.languages&&M.languages[0]||M.language}class Ja{constructor(I,x,O,Q,te,Me){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=O,this.projectId=Q,this.apiKey=te,this.appId=Me}fetch(I){var x=this;return(0,z.Z)(function*(){const[O,Q]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Je={sdk_version:x.sdkVersion,app_instance_id:O,app_instance_id_token:Q,app_id:x.appId,language_code:Ya()},ut={method:"POST",headers:Ue,body:JSON.stringify(Je)},Rt=fetch(Me,ut),Mt=new Promise((Bn,s1)=>{I.signal.addEventListener(()=>{const ai=new Error("The operation was aborted.");ai.name="AbortError",s1(ai)})});let Yn;try{yield Promise.race([Rt,Mt]),Yn=yield Rt}catch(Bn){let s1="fetch-client-network";throw"AbortError"===Bn?.name&&(s1="fetch-timeout"),Kn.create(s1,{originalErrorMessage:Bn?.message})}let Un=Yn.status;const js=Yn.headers.get("ETag")||void 0;let $s,zt;if(200===Yn.status){let Bn;try{Bn=yield Yn.json()}catch(s1){throw Kn.create("fetch-client-parse",{originalErrorMessage:s1?.message})}$s=Bn.entries,zt=Bn.state}if("INSTANCE_STATE_UNSPECIFIED"===zt?Un=500:"NO_CHANGE"===zt?Un=304:("NO_TEMPLATE"===zt||"EMPTY_CONFIG"===zt)&&($s={}),304!==Un&&200!==Un)throw Kn.create("fetch-status",{httpStatus:Un});return{status:Un,eTag:js,config:$s}})()}}class Bl{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,z.Z)(function*(){const O=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,O)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:O}){var Q=this;return(0,z.Z)(function*(){yield function sr(M,I){return new Promise((x,O)=>{const Q=Math.max(I-Date.now(),0),te=setTimeout(x,Q);M.addEventListener(()=>{clearTimeout(te),O(Kn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const te=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),te}catch(te){if(!function R4(M){if(!(M instanceof oe.ZR&&M.customData))return!1;const I=Number(M.customData.httpStatus);return 429===I||500===I||503===I||504===I}(te))throw te;const Me={throttleEndTimeMillis:Date.now()+(0,oe.$s)(O),backoffCount:O+1};return yield Q.storage.setThrottleMetadata(Me),Q.attemptFetch(I,Me)}})()}}class P4{constructor(I,x,O,Q,te){this.app=I,this._client=x,this._storageCache=O,this._storage=Q,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xa(M,I){const x=M.target.error||void 0;return Kn.create(I,{originalErrorMessage:x&&x?.message})}const Ei="app_namespace_store";class ql{constructor(I,x,O,Q=function Gl(){return new Promise((M,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=O=>{I(Xa(O,"storage-open"))},x.onsuccess=O=>{M(O.target.result)},x.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(Ei,{keyPath:"compositeKey"})}}catch(x){I(Kn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=I,this.appName=x,this.namespace=O,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,z.Z)(function*(){const O=yield x.openDbPromise;return new Promise((Q,te)=>{const Ue=O.transaction([Ei],"readonly").objectStore(Ei),Je=x.createCompositeKey(I);try{const ut=Ue.get(Je);ut.onerror=Rt=>{te(Xa(Rt,"storage-get"))},ut.onsuccess=Rt=>{const Mt=Rt.target.result;Q(Mt?Mt.value:void 0)}}catch(ut){te(Kn.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(I,x){var O=this;return(0,z.Z)(function*(){const Q=yield O.openDbPromise;return new Promise((te,Me)=>{const Je=Q.transaction([Ei],"readwrite").objectStore(Ei),ut=O.createCompositeKey(I);try{const Rt=Je.put({compositeKey:ut,value:x});Rt.onerror=Mt=>{Me(Xa(Mt,"storage-set"))},Rt.onsuccess=()=>{te()}}catch(Rt){Me(Kn.create("storage-set",{originalErrorMessage:Rt?.message}))}})})()}delete(I){var x=this;return(0,z.Z)(function*(){const O=yield x.openDbPromise;return new Promise((Q,te)=>{const Ue=O.transaction([Ei],"readwrite").objectStore(Ei),Je=x.createCompositeKey(I);try{const ut=Ue.delete(Je);ut.onerror=Rt=>{te(Xa(Rt,"storage-delete"))},ut.onsuccess=()=>{Q()}}catch(ut){te(Kn.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class V4{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,z.Z)(function*(){const x=I.storage.getLastFetchStatus(),O=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),te=yield x;te&&(I.lastFetchStatus=te);const Me=yield O;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const Ue=yield Q;Ue&&(I.activeConfig=Ue)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Mo(){return D0.apply(this,arguments)}function D0(){return(D0=(0,z.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Mi(){(0,ae._registerComponent)(new he.wA("remote-config",function M(I,{instanceIdentifier:x}){const O=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!(0,oe.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:te,apiKey:Me,appId:Ue}=O.options;if(!te)throw Kn.create("registration-project-id");if(!Me)throw Kn.create("registration-api-key");if(!Ue)throw Kn.create("registration-app-id");const Je=new ql(Ue,O.name,x=x||"firebase"),ut=new V4(Je),Rt=new le.Yd(O1);Rt.logLevel=le.in.ERROR;const Mt=new Ja(Q,ae.SDK_VERSION,x,te,Me,Ue),Yn=new Bl(Mt,Je),Un=new A0(Yn,Je,ut,Rt),js=new P4(O,Un,ut,Je,Rt);return function fr(M){const I=(0,oe.m9)(M);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(js),js},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(O1,"0.4.0"),(0,ae.registerVersion)(O1,"0.4.0","esm2017")}();const V1="/firebase-messaging-sw.js",J1="/firebase-cloud-messaging-push-scope",X1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",v2="google.c.a.c_id",Io="google.c.a.c_l",ec="google.c.a.ts",T0="google.c.a.e";var ei=(()=>{return(M=ei||(ei={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",ei;var M})();function h1(M){const I=new Uint8Array(M);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function e1(M){const x=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(x),Q=new Uint8Array(O.length);for(let te=0;te<O.length;++te)Q[te]=O.charCodeAt(te);return Q}const Ts="fcm_token_details_db",Er="fcm_token_object_Store";function x0(M){return N0.apply(this,arguments)}function N0(){return N0=(0,z.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Ts))return null;let I=null;return(yield(0,fe.X3)(Ts,5,{upgrade:(O=(0,z.Z)(function*(Q,te,Me,Ue){var Je;if(te<2||!Q.objectStoreNames.contains(Er))return;const ut=Ue.objectStore(Er),Rt=yield ut.index("fcmSenderId").get(M);if(yield ut.clear(),Rt)if(2===te){const Mt=Rt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;I={token:Mt.fcmToken,createTime:null!==(Je=Mt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:h1(Mt.vapidKey)}}}else if(3===te){const Mt=Rt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:h1(Mt.auth),p256dh:h1(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:h1(Mt.vapidKey)}}}else if(4===te){const Mt=Rt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:h1(Mt.auth),p256dh:h1(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:h1(Mt.vapidKey)}}}}),function(te,Me,Ue,Je){return O.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Ts),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Rn(I)?I:null;var O}),N0.apply(this,arguments)}function Rn(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:I}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const f1="firebase-messaging-store";let Dr=null;function Ao(){return Dr||(Dr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(M,I)=>{0===I&&M.createObjectStore(f1)}})),Dr}function Wi(M){return ti.apply(this,arguments)}function ti(){return(ti=(0,z.Z)(function*(M){const I=E1(M),O=yield(yield Ao()).transaction(f1).objectStore(f1).get(I);if(O)return O;{const Q=yield x0(M.appConfig.senderId);if(Q)return yield Qt(M,Q),Q}})).apply(this,arguments)}function Qt(M,I){return Do.apply(this,arguments)}function Do(){return(Do=(0,z.Z)(function*(M,I){const x=E1(M),Q=(yield Ao()).transaction(f1,"readwrite");return yield Q.objectStore(f1).put(I,x),yield Q.done,I})).apply(this,arguments)}function Zi(M){return To.apply(this,arguments)}function To(){return(To=(0,z.Z)(function*(M){const I=E1(M),O=(yield Ao()).transaction(f1,"readwrite");yield O.objectStore(f1).delete(I),yield O.done})).apply(this,arguments)}function E1({appConfig:M}){return M.appId}const zn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tt(M,I){return No.apply(this,arguments)}function No(){return(No=(0,z.Z)(function*(M,I){const x=yield nc(M),O=Se(I),Q={method:"POST",headers:x,body:JSON.stringify(O)};let te;try{te=yield(yield fetch(ni(M.appConfig),Q)).json()}catch(Me){throw zn.create("token-subscribe-failed",{errorInfo:Me?.toString()})}if(te.error)throw zn.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw zn.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function z0(M,I){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,z.Z)(function*(M,I){const x=yield nc(M),O=Se(I.subscriptionOptions),Q={method:"PATCH",headers:x,body:JSON.stringify(O)};let te;try{te=yield(yield fetch(`${ni(M.appConfig)}/${I.token}`,Q)).json()}catch(Me){throw zn.create("token-update-failed",{errorInfo:Me?.toString()})}if(te.error)throw zn.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw zn.create("token-update-no-token");return te.token})).apply(this,arguments)}function zo(M,I){return tc.apply(this,arguments)}function tc(){return(tc=(0,z.Z)(function*(M,I){const O={method:"DELETE",headers:yield nc(M)};try{const te=yield(yield fetch(`${ni(M.appConfig)}/${I}`,O)).json();if(te.error)throw zn.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(Q){throw zn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function ni({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function nc(M){return _2.apply(this,arguments)}function _2(){return(_2=(0,z.Z)(function*({appConfig:M,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Se({p256dh:M,auth:I,endpoint:x,vapidKey:O}){const Q={web:{endpoint:x,auth:I,p256dh:M}};return O!==X1&&(Q.web.applicationPubKey=O),Q}const Wt=6048e5;function rc(M){return ic.apply(this,arguments)}function ic(){return(ic=(0,z.Z)(function*(M){const I=yield sc(M.swRegistration,M.vapidKey),x={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:I.endpoint,auth:h1(I.getKey("auth")),p256dh:h1(I.getKey("p256dh"))},O=yield Wi(M.firebaseDependencies);if(O){if(B4(O.subscriptionOptions,x))return Date.now()>=O.createTime+Wt?xs(M,{token:O.token,createTime:Date.now(),subscriptionOptions:x}):O.token;try{yield zo(M.firebaseDependencies,O.token)}catch(Q){console.warn(Q)}return C2(M.firebaseDependencies,x)}return C2(M.firebaseDependencies,x)})).apply(this,arguments)}function Pn(M){return ko.apply(this,arguments)}function ko(){return(ko=(0,z.Z)(function*(M){const I=yield Wi(M.firebaseDependencies);I&&(yield zo(M.firebaseDependencies,I.token),yield Zi(M.firebaseDependencies));const x=yield M.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function xs(M,I){return d1.apply(this,arguments)}function d1(){return(d1=(0,z.Z)(function*(M,I){try{const x=yield z0(M.firebaseDependencies,I),O=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Qt(M.firebaseDependencies,O),x}catch(x){throw yield Pn(M),x}})).apply(this,arguments)}function C2(M,I){return w2.apply(this,arguments)}function w2(){return(w2=(0,z.Z)(function*(M,I){const O={token:yield Tt(M,I),createTime:Date.now(),subscriptionOptions:I};return yield Qt(M,O),O.token})).apply(this,arguments)}function sc(M,I){return oc.apply(this,arguments)}function oc(){return(oc=(0,z.Z)(function*(M,I){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e1(I)})})).apply(this,arguments)}function B4(M,I){return I.vapidKey===M.vapidKey&&I.endpoint===M.endpoint&&I.auth===M.auth&&I.p256dh===M.p256dh}function b2(M){const I={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function On(M,I){if(!I.notification)return;M.notification={};const x=I.notification.title;x&&(M.notification.title=x);const O=I.notification.body;O&&(M.notification.body=O);const Q=I.notification.image;Q&&(M.notification.image=Q);const te=I.notification.icon;te&&(M.notification.icon=te)}(I,M),function H1(M,I){!I.data||(M.data=I.data)}(I,M),function ac(M,I){var x,O,Q,te,Me;if(!(I.fcmOptions||null!==(x=I.notification)&&void 0!==x&&x.click_action))return;M.fcmOptions={};const Ue=null!==(Q=null===(O=I.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==Q?Q:null===(te=I.notification)||void 0===te?void 0:te.click_action;Ue&&(M.fcmOptions.link=Ue);const Je=null===(Me=I.fcmOptions)||void 0===Me?void 0:Me.analytics_label;Je&&(M.fcmOptions.analyticsLabel=Je)}(I,M),I}function Ki(M){return"object"==typeof M&&!!M&&v2 in M}function ri(M,I){const x=[];for(let O=0;O<M.length;O++)x.push(M.charAt(O)),O<I.length&&x.push(I.charAt(O));return x.join("")}function E2(M){return zn.create("missing-app-config-values",{valueName:M})}ri("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ri("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zl{constructor(I,x,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Wl(M){if(!M||!M.options)throw E2("App Configuration Object");if(!M.name)throw E2("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=M;for(const O of I)if(!x[O])throw E2(O);return{appName:M.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:x,analyticsProvider:O}}_delete(){return Promise.resolve()}}function cc(M){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,z.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(V1,{scope:J1}),M.swRegistration.update().catch(()=>{})}catch(I){throw zn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function M2(M,I){return lc.apply(this,arguments)}function lc(){return(lc=(0,z.Z)(function*(M,I){if(!I&&!M.swRegistration&&(yield cc(M)),I||!M.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw zn.create("invalid-sw-registration");M.swRegistration=I}})).apply(this,arguments)}function I2(M,I){return uc.apply(this,arguments)}function uc(){return(uc=(0,z.Z)(function*(M,I){I?M.vapidKey=I:M.vapidKey||(M.vapidKey=X1)})).apply(this,arguments)}function Oo(){return(Oo=(0,z.Z)(function*(M,I){if(!navigator)throw zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zn.create("permission-blocked");return yield I2(M,I?.vapidKey),yield M2(M,I?.serviceWorkerRegistration),rc(M)})).apply(this,arguments)}function hc(M,I,x){return fc.apply(this,arguments)}function fc(){return(fc=(0,z.Z)(function*(M,I,x){const O=dc(I);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:x[v2],message_name:x[Io],message_time:x[ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dc(M){switch(M){case ei.NOTIFICATION_CLICKED:return"notification_open";case ei.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qi(){return(Qi=(0,z.Z)(function*(M,I){const x=I.data;if(!x.isFirebaseMessaging)return;M.onMessageHandler&&x.messageType===ei.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(b2(x)):M.onMessageHandler.next(b2(x)));const O=x.data;Ki(O)&&"1"===O[T0]&&(yield hc(M,x.messageType,O))})).apply(this,arguments)}const Yi="@firebase/messaging",or=M=>{const I=new Zl(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function j4(M,I){return Qi.apply(this,arguments)}(I,x)),I},t1=M=>{const I=M.getProvider("messaging").getImmediate();return{getToken:O=>function Po(M,I){return Oo.apply(this,arguments)}(I,O)}};function $4(){return pc.apply(this,arguments)}function pc(){return(pc=(0,z.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mn(){(0,ae._registerComponent)(new he.wA("messaging",or,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",t1,"PRIVATE")),(0,ae.registerVersion)(Yi,"0.12.0"),(0,ae.registerVersion)(Yi,"0.12.0","esm2017")}();const Ls="analytics",W4="firebase_id",Xi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uo="https://www.googletagmanager.com/gtag/js",Vn=new le.Yd("@firebase/analytics");function Bo(M){return Promise.all(M.map(I=>I.catch(x=>x)))}function jo(M,I){const x=document.createElement("script");x.src=`${Uo}?l=${M}&id=${I}`,x.async=!0,document.head.appendChild(x)}function R0(M,I,x,O,Q,te){return es.apply(this,arguments)}function es(){return(es=(0,z.Z)(function*(M,I,x,O,Q,te){const Me=O[Q];try{if(Me)yield I[Me];else{const Je=(yield Bo(x)).find(ut=>ut.measurementId===Q);Je&&(yield I[Je.appId])}}catch(Ue){Vn.error(Ue)}M("config",Q,te)})).apply(this,arguments)}function zs(M,I,x,O,Q){return ts.apply(this,arguments)}function ts(){return(ts=(0,z.Z)(function*(M,I,x,O,Q){try{let te=[];if(Q&&Q.send_to){let Me=Q.send_to;Array.isArray(Me)||(Me=[Me]);const Ue=yield Bo(x);for(const Je of Me){const ut=Ue.find(Mt=>Mt.measurementId===Je),Rt=ut&&I[ut.appId];if(!Rt){te=[];break}te.push(Rt)}}0===te.length&&(te=Object.values(I)),yield Promise.all(te),M("event",O,Q||{})}catch(te){Vn.error(te)}})).apply(this,arguments)}function K4(M){const I=window.document.getElementsByTagName("script");for(const x of Object.values(I))if(x.src&&x.src.includes(Uo)&&x.src.includes(M))return x;return null}const pr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),T2=new class F1{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Y4(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function x2(M){return gc.apply(this,arguments)}function gc(){return(gc=(0,z.Z)(function*(M){var I;const{appId:x,apiKey:O}=M,Q={method:"GET",headers:Y4(O)},te=Xi.replace("{app-id}",x),Me=yield fetch(te,Q);if(200!==Me.status&&304!==Me.status){let Ue="";try{const Je=yield Me.json();null!==(I=Je.error)&&void 0!==I&&I.message&&(Ue=Je.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:Ue})}return Me.json()})).apply(this,arguments)}function Fn(M){return M1.apply(this,arguments)}function M1(){return(M1=(0,z.Z)(function*(M,I=T2,x){const{appId:O,apiKey:Q,measurementId:te}=M.options;if(!O)throw pr.create("no-app-id");if(!Q){if(te)return{measurementId:te,appId:O};throw pr.create("no-api-key")}const Me=I.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Wo;return setTimeout((0,z.Z)(function*(){Ue.abort()}),void 0!==x?x:6e4),Go({appId:O,apiKey:Q,measurementId:te},Me,Ue,I)})).apply(this,arguments)}function Go(M,I,x){return ns.apply(this,arguments)}function ns(){return(ns=(0,z.Z)(function*(M,{throttleEndTimeMillis:I,backoffCount:x},O,Q=T2){var te;const{appId:Me,measurementId:Ue}=M;try{yield N2(O,I)}catch(Je){if(Ue)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:Me,measurementId:Ue};throw Je}try{const Je=yield x2(M);return Q.deleteThrottleMetadata(Me),Je}catch(Je){const ut=Je;if(!qo(ut)){if(Q.deleteThrottleMetadata(Me),Ue)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Me,measurementId:Ue};throw Je}const Rt=503===Number(null===(te=ut?.customData)||void 0===te?void 0:te.httpStatus)?(0,oe.$s)(x,Q.intervalMillis,30):(0,oe.$s)(x,Q.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+Rt,backoffCount:x+1};return Q.setThrottleMetadata(Me,Mt),Vn.debug(`Calling attemptFetch again in ${Rt} millis`),Go(M,Mt,O,Q)}})).apply(this,arguments)}function N2(M,I){return new Promise((x,O)=>{const Q=Math.max(I-Date.now(),0),te=setTimeout(x,Q);M.addEventListener(()=>{clearTimeout(te),O(pr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function qo(M){if(!(M instanceof oe.ZR&&M.customData))return!1;const I=Number(M.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Wo{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ai,z2;function Di(){return(Di=(0,z.Z)(function*(M,I,x,O,Q){if(Q&&Q.global)M("event",x,O);else{const te=yield I;M("event",x,Object.assign(Object.assign({},O),{send_to:te}))}})).apply(this,arguments)}function is(M){z2=M}function yc(M){Ai=M}function Ti(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,z.Z)(function*(){if(!(0,oe.hl)())return Vn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(M){return Vn.warn(pr.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ps(){return(Ps=(0,z.Z)(function*(M,I,x,O,Q,te,Me){var Ue;const Je=Fn(M);Je.then(Un=>{x[Un.measurementId]=Un.appId,M.options.measurementId&&Un.measurementId!==M.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${Un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Un=>Vn.error(Un)),I.push(Je);const ut=Ti().then(Un=>{if(Un)return O.getId()}),[Rt,Mt]=yield Promise.all([Je,ut]);K4(te)||jo(te,Rt.measurementId),z2&&(Q("consent","default",z2),is(void 0)),Q("js",new Date);const Yn=null!==(Ue=Me?.config)&&void 0!==Ue?Ue:{};return Yn.origin="firebase",Yn.update=!0,null!=Mt&&(Yn[W4]=Mt),Q("config",Rt.measurementId,Yn),Ai&&(Q("set",Ai),yc(void 0)),Rt.measurementId})).apply(this,arguments)}class Yo{constructor(I){this.app=I}_delete(){return delete n1[this.app.options.appId],Promise.resolve()}}let n1={},xi=[];const Os={};let Hs,ss,Vs="dataLayer",k2=!1;function u5(M,I,x){!function Kl(){const M=[];if((0,oe.ru)()&&M.push("This is a browser extension environment."),(0,oe.zI)()||M.push("Cookies are not available."),M.length>0){const I=M.map((O,Q)=>`(${Q+1}) ${O}`).join(" "),x=pr.create("invalid-analytics-context",{errorInfo:I});Vn.warn(x.message)}}();const O=M.options.appId;if(!O)throw pr.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw pr.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=n1[O])throw pr.create("already-exists",{id:O});if(!k2){!function Z4(M){let I=[];Array.isArray(window[M])?I=window[M]:window[M]=I}(Vs);const{wrappedGtag:te,gtagCore:Me}=function S2(M,I,x,O,Q){let te=function(...Me){window[O].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(te=window[Q]),window[Q]=function $o(M,I,x,O){function te(){return(te=(0,z.Z)(function*(Me,Ue,Je){try{"event"===Me?yield zs(M,I,x,Ue,Je):"config"===Me?yield R0(M,I,x,O,Ue,Je):"consent"===Me?M("consent","update",Je):M("set",Ue)}catch(ut){Vn.error(ut)}})).apply(this,arguments)}return function Q(Me,Ue,Je){return te.apply(this,arguments)}}(te,M,I,x),{gtagCore:te,wrappedGtag:window[Q]}}(n1,xi,Os,Vs,"gtag");ss=te,Hs=Me,k2=!0}return n1[O]=function Rs(M,I,x,O,Q,te,Me){return Ps.apply(this,arguments)}(M,xi,Os,I,Hs,Vs,x),new Yo(M)}function f5(){return P0.apply(this,arguments)}function P0(){return(P0=(0,z.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const lt="@firebase/analytics";!function Nn(){(0,ae._registerComponent)(new he.wA(Ls,(I,{options:x})=>u5(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function M(I){try{const x=I.getProvider(Ls).getImmediate();return{logEvent:(O,Q,te)=>function bn(M,I,x,O){M=(0,oe.m9)(M),function J4(M,I,x,O,Q){return Di.apply(this,arguments)}(ss,n1[M.app.options.appId],I,x,O).catch(Q=>Vn.error(Q))}(x,O,Q,te)}}catch(x){throw pr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(lt,"0.9.0"),(0,ae.registerVersion)(lt,"0.9.0","esm2017")}();var I1=P(4408),Br=P(7565);const Xo=new class Ni extends Br.v{}(class P2 extends I1.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(I,x,O):(I.flush(this),0)}});var _c=P(4986),ea=P(8505),Fs=P(9468),Li=P(5363);const ot=new v.GfV("7.5.0"),O2="__angularfire_symbol__analyticsIsSupportedValue",zi="__angularfire_symbol__analyticsIsSupported",ta="__angularfire_symbol__remoteConfigIsSupportedValue",V2="__angularfire_symbol__remoteConfigIsSupported",gr="__angularfire_symbol__messagingIsSupportedValue",Cc="__angularfire_symbol__messagingIsSupported";function H2(M,I,x){if(I){if(1===I.length)return I[0];const te=I.filter(Me=>Me.app===x);if(1===te.length)return te[0]}return x.container.getProvider(M).getImmediate({optional:!0})}globalThis[zi]||(globalThis[zi]=f5().then(M=>globalThis[O2]=M).catch(()=>globalThis[O2]=!1)),globalThis[Cc]||(globalThis[Cc]=$4().then(M=>globalThis[gr]=M).catch(()=>globalThis[gr]=!1)),globalThis[V2]||(globalThis[V2]=Mo().then(M=>globalThis[ta]=M).catch(()=>globalThis[ta]=!1));const ki=(M,I)=>{const x=I?[I]:(0,X.C6)(),O=[];return x.forEach(Q=>{Q.container.getProvider(M).instances.forEach(Me=>{O.includes(Me)||O.push(Me)})}),O};function os(){}class S1{constructor(I,x=Xo){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,O){const Q=this.zone;return this.delegate.schedule(function(Me){Q.runGuarded(()=>{I.apply(this,[Me])})},x,O)}}class bc{constructor(I){this.zone=I,this.task=null}call(I,x){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),x.pipe((0,ea.b)({next:O,complete:O,error:O})).subscribe(I).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bs=(()=>{class M{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new S1(Zone.current)),this.insideAngular=x.run(()=>new S1(Zone.current,_c.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(x){return new(x||M)(v.LFG(v.R0b))},M.\u0275prov=v.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function i1(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function oi(M){return i1(),function Qn(M){return function(x){return(x=x.lift(new bc(M.ngZone))).pipe((0,Fs.R)(M.outsideAngular),(0,Li.Q)(M.insideAngular))}}(i1())(M)}},2090:(dt,Ae,P)=>{P.d(Ae,{$s:()=>tt,BH:()=>$t,G6:()=>Ee,L:()=>fe,LL:()=>Yt,Pz:()=>nn,Sg:()=>Ze,UG:()=>be,US:()=>he,ZB:()=>j,ZR:()=>Sn,aH:()=>pt,b$:()=>pe,eu:()=>Be,hl:()=>Fe,jU:()=>st,m9:()=>Ut,ne:()=>qn,pd:()=>R1,r3:()=>w1,ru:()=>ve,tV:()=>de,uI:()=>Ne,vZ:()=>Qe,w1:()=>ct,xO:()=>nr,xb:()=>l1,z$:()=>Oe,zI:()=>F,zd:()=>u1});const ae=function(B){const V=[];let Z=0;for(let we=0;we<B.length;we++){let Y=B.charCodeAt(we);Y<128?V[Z++]=Y:Y<2048?(V[Z++]=Y>>6|192,V[Z++]=63&Y|128):55296==(64512&Y)&&we+1<B.length&&56320==(64512&B.charCodeAt(we+1))?(Y=65536+((1023&Y)<<10)+(1023&B.charCodeAt(++we)),V[Z++]=Y>>18|240,V[Z++]=Y>>12&63|128,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128):(V[Z++]=Y>>12|224,V[Z++]=Y>>6&63|128,V[Z++]=63&Y|128)}return V},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,V){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let Y=0;Y<B.length;Y+=3){const Ge=B[Y],mt=Y+1<B.length,Jt=mt?B[Y+1]:0,wn=Y+2<B.length,Kt=wn?B[Y+2]:0;let Bt=(15&Jt)<<2|Kt>>6,hr=63&Kt;wn||(hr=64,mt||(Bt=64)),we.push(Z[Ge>>2],Z[(3&Ge)<<4|Jt>>4],Z[Bt],Z[hr])}return we.join("")},encodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(B):this.encodeByteArray(ae(B),V)},decodeString(B,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(B):function(B){const V=[];let Z=0,we=0;for(;Z<B.length;){const Y=B[Z++];if(Y<128)V[we++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ge=B[Z++];V[we++]=String.fromCharCode((31&Y)<<6|63&Ge)}else if(Y>239&&Y<365){const wn=((7&Y)<<18|(63&B[Z++])<<12|(63&B[Z++])<<6|63&B[Z++])-65536;V[we++]=String.fromCharCode(55296+(wn>>10)),V[we++]=String.fromCharCode(56320+(1023&wn))}else{const Ge=B[Z++],mt=B[Z++];V[we++]=String.fromCharCode((15&Y)<<12|(63&Ge)<<6|63&mt)}}return V.join("")}(this.decodeStringToByteArray(B,V))},decodeStringToByteArray(B,V){this.init_();const Z=V?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let Y=0;Y<B.length;){const Ge=Z[B.charAt(Y++)],Jt=Y<B.length?Z[B.charAt(Y)]:0;++Y;const Kt=Y<B.length?Z[B.charAt(Y)]:64;++Y;const je=Y<B.length?Z[B.charAt(Y)]:64;if(++Y,null==Ge||null==Jt||null==Kt||null==je)throw Error();we.push(Ge<<2|Jt>>4),64!==Kt&&(we.push(Jt<<4&240|Kt>>2),64!==je&&we.push(Kt<<6&192|je))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},fe=function(B){return function(B){const V=ae(B);return he.encodeByteArray(V,!0)}(B).replace(/\./g,"")},de=function(B){try{return he.decodeString(B,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function j(B,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return V}for(const Z in V)!V.hasOwnProperty(Z)||!K(Z)||(B[Z]=j(B[Z],V[Z]));return B}function K(B){return"__proto__"!==B}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function st(){return"object"==typeof self&&self.self===self}function ve(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){const B=Oe();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ee(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function Be(){return new Promise((B,V)=>{try{let Z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(we);Y.onsuccess=()=>{Y.result.close(),Z||self.indexedDB.deleteDatabase(we),B(!0)},Y.onupgradeneeded=()=>{Z=!1},Y.onerror=()=>{var Ge;V((null===(Ge=Y.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(Z){V(Z)}})}function F(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=B&&de(B[1]);return V&&JSON.parse(V)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},pt=()=>{var B;return null===(B=ie())||void 0===B?void 0:B.config},nn=B=>{var V;return null===(V=ie())||void 0===V?void 0:V[`_${B}`]};class $t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,Z)=>{this.resolve=V,this.reject=Z})}wrapCallback(V){return(Z,we)=>{Z?this.reject(Z):this.resolve(we),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(Z):V(Z,we))}}}function Ze(B,V){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=V||"demo-project",Y=B.iat||0,Ge=B.sub||B.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:Y,exp:Y+3600,auth_time:Y,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},B);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(mt)),""].join(".")}class Sn extends Error{constructor(V,Z,we){super(Z),this.code=V,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}}class Yt{constructor(V,Z,we){this.service=V,this.serviceName=Z,this.errors=we}create(V,...Z){const we=Z[0]||{},Y=`${this.service}/${V}`,Ge=this.errors[V],mt=Ge?function rn(B,V){return B.replace(Vr,(Z,we)=>{const Y=V[we];return null!=Y?String(Y):`<${we}?>`})}(Ge,we):"Error";return new Sn(Y,`${this.serviceName}: ${mt} (${Y}).`,we)}}const Vr=/\{\$([^}]+)}/g;function w1(B,V){return Object.prototype.hasOwnProperty.call(B,V)}function l1(B){for(const V in B)if(Object.prototype.hasOwnProperty.call(B,V))return!1;return!0}function Qe(B,V){if(B===V)return!0;const Z=Object.keys(B),we=Object.keys(V);for(const Y of Z){if(!we.includes(Y))return!1;const Ge=B[Y],mt=V[Y];if(Sr(Ge)&&Sr(mt)){if(!Qe(Ge,mt))return!1}else if(Ge!==mt)return!1}for(const Y of we)if(!Z.includes(Y))return!1;return!0}function Sr(B){return null!==B&&"object"==typeof B}function nr(B){const V=[];for(const[Z,we]of Object.entries(B))Array.isArray(we)?we.forEach(Y=>{V.push(encodeURIComponent(Z)+"="+encodeURIComponent(Y))}):V.push(encodeURIComponent(Z)+"="+encodeURIComponent(we));return V.length?"&"+V.join("&"):""}function u1(B){const V={};return B.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[Y,Ge]=we.split("=");V[decodeURIComponent(Y)]=decodeURIComponent(Ge)}}),V}function R1(B){const V=B.indexOf("?");if(!V)return"";const Z=B.indexOf("#",V);return B.substring(V,Z>0?Z:void 0)}function qn(B,V){const Z=new En(B,V);return Z.subscribe.bind(Z)}class En{constructor(V,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{V(this)}).catch(we=>{this.error(we)})}next(V){this.forEachObserver(Z=>{Z.next(V)})}error(V){this.forEachObserver(Z=>{Z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,Z,we){let Y;if(void 0===V&&void 0===Z&&void 0===we)throw new Error("Missing Observer.");Y=function ht(B,V){if("object"!=typeof B||null===B)return!1;for(const Z of V)if(Z in B&&"function"==typeof B[Z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:Z,complete:we},void 0===Y.next&&(Y.next=ln),void 0===Y.error&&(Y.error=ln),void 0===Y.complete&&(Y.complete=ln);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ge}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,V)}sendOne(V,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{Z(this.observers[V])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}function tt(B,V=1e3,Z=2){const we=V*Math.pow(Z,B),Y=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+Y)}function Ut(B){return B&&B._delegate?B._delegate:B}},5028:(dt,Ae,P)=>{var v=P(4650);let X=null;function z(){return X}const le=new v.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return function de(){return(0,v.LFG)(j)}()},providedIn:"platform"}),n})();const U=new v.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(t){const r=z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=z().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le))},n.\u0275prov=v.Yz7({token:n,factory:function(){return function Oe(){return new j((0,v.LFG)(le))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function st(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return(0,v.f3M)(et)},providedIn:"root"}),n})();const pe=new v.OlP("appBaseHref");let et=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+st(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,c){const u=this.prepareExternalUrl(i+st(c));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,c){const u=this.prepareExternalUrl(i+st(c));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(fe),v.LFG(pe,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ct=(()=>{class n extends ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,c){let u=this.prepareExternalUrl(i+st(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,c){let u=this.prepareExternalUrl(i+st(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(fe),v.LFG(pe,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(t){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Fe(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+st(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Fe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=st,n.joinWithSlash=Ne,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(v.LFG(ve))},n.\u0275prov=v.Yz7({token:n,factory:function(){return function Ce(){return new Te((0,v.LFG)(ve))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}function p2(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}let fr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ka,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(v.s_b),v.Y36(v.Rgc))},n.\u0275dir=v.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ka{constructor(){this.$implicit=null,this.ngIf=null}}function dr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,v.AaK)(e)}'.`)}let y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({}),n})();function Er(n){return"server"===n}let So=(()=>{class n{}return n.\u0275prov=(0,v.Yz7)({token:n,providedIn:"root",factory:()=>new L0((0,v.LFG)(le),window)}),n})();class L0{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Dr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=f1(this.window.history)||f1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function f1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Wi{}class Qi extends class j4 extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){X||(X=n)}(new Qi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Vo(){return Yi=Yi||document.querySelector("base"),Yi?Yi.getAttribute("href"):null}();return null==t?null:function t1(n){or=or||document.createElement("a"),or.setAttribute("href",n);const e=or.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return p2(document.cookie,e)}}let or,Yi=null;const Mn=new v.OlP("TRANSITION_ID"),pc=[{provide:v.ip1,useFactory:function $4(n,e,t){return()=>{t.get(v.CZH).donePromise.then(()=>{const r=z(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<i.length;c++)r.remove(i[c])})}},deps:[Mn,le,v.zs3],multi:!0}];let mc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=new v.OlP("EventManagerPlugins");let G4=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let c=0;c<i.length;c++){const u=i[c];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Ho),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class Fo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=z().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ji=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),Ns=(()=>{class n extends Ji{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(c=>{const u=this._doc.createElement("style");u.textContent=c,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(q4),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(q4))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();function q4(n){z().remove(n)}const Ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},W4=/%COMP%/g;function jo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jo(n,i,t):(i=i.replace(W4,n),t.push(i))}return t}function Z4(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let es=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new zs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case v.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new K4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case v.ifc.ShadowDom:return new Q4(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=jo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(G4),v.LFG(Ns),v.LFG(v.AFp))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class zs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ls[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(S2(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(S2(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const c=Ls[i];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ls[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(v.JOm.DashCase|v.JOm.Important)?e.style.setProperty(t,r,i&v.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&v.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Z4(r)):this.eventManager.addEventListener(e,t,Z4(r))}}function S2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class K4 extends zs{constructor(e,t,r,i){super(e),this.component=r;const c=jo(i+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function Vn(n){return"_ngcontent-%COMP%".replace(W4,n)}(i+"-"+r.id),this.hostAttr=function Bo(n){return"_nghost-%COMP%".replace(W4,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Q4 extends zs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=jo(i.id,i.styles,[]);for(let u=0;u<c.length;u++){const f=document.createElement("style");f.textContent=c[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pr=(()=>{class n extends Fo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const A2=["alt","control","meta","shift"],D2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let T2=(()=>{class n extends Fo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const c=n.parseEventName(r),u=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),A2.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),u+=w+".")}),u+=c,0!=r.length||0===c.length)return null;const g={};return g.domEventName=i,g.fullKey=u,g}static matchEventFullKeyCode(t,r){let i=D2[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(i=t.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),A2.forEach(u=>{u!==i&&(0,F1[u])(t)&&(c+=u+".")}),c+=i,c===r)}static eventCallback(t,r,i){return c=>{n.matchEventFullKeyCode(c,t)&&i.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const Wo=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:"browser"},{provide:v.g9A,useValue:function Go(){Qi.makeCurrent()},multi:!0},{provide:le,useFactory:function N2(){return(0,v.RDi)(document),document},deps:[]}]),Ai=new v.OlP(""),J4=[{provide:v.rWj,useClass:class k0{addToWindow(e){v.dqk.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new Error("Could not find testability for element.");return c},v.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(r=>{const i=v.dqk.getAllAngularTestabilities();let c=i.length,u=!1;const f=function(g){u=u||g,c--,0==c&&r(u)};i.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?z().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Di=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function ns(){return new v.qLn},deps:[]},{provide:Ho,useClass:pr,multi:!0,deps:[le,v.R0b,v.Lbi]},{provide:Ho,useClass:T2,multi:!0,deps:[le]},{provide:es,useClass:es,deps:[G4,Ns,v.AFp]},{provide:v.FYo,useExisting:es},{provide:Ji,useExisting:Ns},{provide:Ns,useClass:Ns,deps:[le]},{provide:G4,useClass:G4,deps:[Ho,v.R0b]},{provide:Wi,useClass:mc,deps:[]},[]];let Zo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:v.AFp,useValue:t.appId},{provide:Mn,useExisting:v.AFp},pc]}}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Ai,12))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[...Di,...J4],imports:[y2,v.hGG]}),n})(),ii=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le))},n.\u0275prov=v.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ks(){return new ii((0,v.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let R2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):v.LFG(Jl),r},providedIn:"root"}),n})(),Jl=(()=>{class n extends R2{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case v.q3G.NONE:return r;case v.q3G.HTML:return(0,v.qzn)(r,"HTML")?(0,v.z3N)(r):(0,v.EiD)(this._doc,String(r)).toString();case v.q3G.STYLE:return(0,v.qzn)(r,"Style")?(0,v.z3N)(r):r;case v.q3G.SCRIPT:if((0,v.qzn)(r,"Script"))return(0,v.z3N)(r);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.qzn)(r,"URL")?(0,v.z3N)(r):(0,v.mCW)(String(r));case v.q3G.RESOURCE_URL:if((0,v.qzn)(r,"ResourceURL"))return(0,v.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,v.JVY)(t)}bypassSecurityTrustStyle(t){return(0,v.L6k)(t)}bypassSecurityTrustScript(t){return(0,v.eBb)(t)}bypassSecurityTrustUrl(t){return(0,v.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,v.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le))},n.\u0275prov=v.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Yl(n){return new Jl(n.get(le))}(v.LFG(v.zs3)),r},providedIn:"root"}),n})();var bn=P(8996),U1=P(7669);function lt(...n){const e=(0,U1.yG)(n);return(0,bn.D)(n,e)}var r1=P(7579);class Nn extends r1.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const P2=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Br=P(9751);const{isArray:Ni}=Array,{getPrototypeOf:Xo,prototype:Xl,keys:_c}=Object;var Li=P(4671),ot=P(4004);const{isArray:O2}=Array;var gr=P(5403),Cc=P(9672);function Us(...n){const e=(0,U1.yG)(n),t=(0,U1.jO)(n),{args:r,keys:i}=function ea(n){if(1===n.length){const e=n[0];if(Ni(e))return{args:e,keys:null};if(function Fs(n){return n&&"object"==typeof n&&Xo(n)===Xl}(e)){const t=_c(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,bn.D)([],e);const c=new Br.y(function eu(n,e,t=Li.y){return r=>{wc(e,()=>{const{length:i}=n,c=new Array(i);let u=i,f=i;for(let g=0;g<i;g++)wc(e,()=>{const w=(0,bn.D)(n[g],e);let S=!1;w.subscribe((0,gr.x)(r,T=>{c[g]=T,S||(S=!0,f--),f||r.next(t(c.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>function V2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,u):Li.y));return t?c.pipe(function ta(n){return(0,ot.U)(e=>function zi(n,e){return O2(e)?n(...e):n(e)}(n,e))}(t)):c}function wc(n,e,t){n?(0,Cc.f)(t,n,e):e()}var na=P(8189);function ki(...n){return function H2(){return(0,na.J)(1)}()((0,bn.D)(n,(0,U1.yG)(n)))}var os=P(8421);function S1(n){return new Br.y(e=>{(0,os.Xf)(n()).subscribe(e)})}var bc=P(9635),Bs=P(576);function i1(n,e){const t=(0,Bs.m)(n)?n:()=>n,r=i=>i.error(t());return new Br.y(e?i=>e.schedule(r,0,i):r)}var si=P(515),B1=P(727),Tr=P(4482);function Ri(){return(0,Tr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,c=t;t=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class oi extends Br.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Tr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new B1.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=B1.w0.EMPTY)}return e}refCount(){return Ri()(this)}}function Qn(n,e){return(0,Tr.e)((t,r)=>{let i=null,c=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,gr.x)(r,g=>{i?.unsubscribe();let w=0;const S=c++;(0,os.Xf)(n(g,S)).subscribe(i=(0,gr.x)(r,T=>r.next(e?e(g,T,S,w++):T),()=>{i=null,f()}))},()=>{u=!0,f()}))})}function Dn(n){return n<=0?()=>si.E:(0,Tr.e)((e,t)=>{let r=0;e.subscribe((0,gr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ra(...n){const e=(0,U1.yG)(n);return(0,Tr.e)((t,r)=>{(e?ki(n,t,e):ki(n,t)).subscribe(r)})}function M(n,e){return(0,Tr.e)((t,r)=>{let i=0;t.subscribe((0,gr.x)(r,c=>n.call(e,c,i++)&&r.next(c)))})}var I=P(5577);function x(n){return(0,Tr.e)((e,t)=>{let r=!1;e.subscribe((0,gr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function O(n=Q){return(0,Tr.e)((e,t)=>{let r=!1;e.subscribe((0,gr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Q(){return new P2}function te(n,e){const t=arguments.length>=2;return r=>r.pipe(n?M((i,c)=>n(i,c,r)):Li.y,Dn(1),t?x(e):O(()=>new P2))}function Me(n,e){return(0,Bs.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var Ue=P(8505);function Je(n){return(0,Tr.e)((e,t)=>{let c,r=null,i=!1;r=e.subscribe((0,gr.x)(t,void 0,void 0,u=>{c=(0,os.Xf)(n(u,Je(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(t))})}function ut(n,e,t,r,i){return(c,u)=>{let f=t,g=e,w=0;c.subscribe((0,gr.x)(u,S=>{const T=w++;g=f?n(g,S,T):(f=!0,S),r&&u.next(g)},i&&(()=>{f&&u.next(g),u.complete()})))}}function Rt(n,e){return(0,Tr.e)(ut(n,e,arguments.length>=2,!0))}function Mt(n){return n<=0?()=>si.E:(0,Tr.e)((e,t)=>{let r=[];e.subscribe((0,gr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Yn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?M((i,c)=>n(i,c,r)):Li.y,Mt(1),t?x(e):O(()=>new P2))}function $s(n){return(0,Tr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const zt="primary",Bn=Symbol("RouteTitle");class s1{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ai(n){return new s1(n)}function Ad(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const u=r[c],f=n[c];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Pi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let c=0;c<t.length;c++)if(i=t[c],!O0(n[i],e[i]))return!1;return!0}function O0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,c)=>r[c]===i)}return n===e}function nu(n){return Array.prototype.concat.apply([],n)}function ru(n){return n.length>0?n[n.length-1]:null}function ar(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function j1(n){return(0,v.CqO)(n)?n:(0,v.QGY)(n)?(0,bn.D)(Promise.resolve(n)):lt(n)}const Dd={exact:function su(n,e,t){if(!oa(n.segments,e.segments)||!ia(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!su(n.children[r],e.children[r],t))return!1;return!0},subset:U0},H0={exact:function m5(n,e){return Pi(n,e)},subset:function F0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>O0(n[t],e[t]))},ignored:()=>!0};function p5(n,e,t){return Dd[t.paths](n.root,e.root,t.matrixParams)&&H0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function U0(n,e,t){return g5(n,e,e.segments,t)}function g5(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!oa(i,t)||e.hasChildren()||!ia(i,t,r))}if(n.segments.length===t.length){if(!oa(n.segments,t)||!ia(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!U0(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(oa(n.segments,i)&&ia(n.segments,i,r)&&n.children[zt])&&g5(n.children[zt],e,c,r)}}function ia(n,e,t){return e.every((r,i)=>H0[t](n[i].parameters,r.parameters))}class sa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ai(this.queryParams)),this._queryParamMap}toString(){return t6.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ar(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mc(this)}}class e6{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ai(this.parameters)),this._parameterMap}toString(){return j0(this)}}function oa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let B0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return new Ec},providedIn:"root"}),n})();class Ec{parse(e){const t=new as(e);return new sa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gs(e.root,!0)}`,r=function w5(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ic(t)}=${Ic(i)}`).join("&"):`${Ic(t)}=${Ic(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _5(n){return encodeURI(n)}(e.fragment)}`:""}`}}const t6=new Ec;function Mc(n){return n.segments.map(e=>j0(e)).join("/")}function Gs(n,e){if(!n.hasChildren())return Mc(n);if(e){const t=n.children[zt]?Gs(n.children[zt],!1):"",r=[];return ar(n.children,(i,c)=>{c!==zt&&r.push(`${c}:${Gs(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function y5(n,e){let t=[];return ar(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),ar(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[Gs(n.children[zt],!1)]:[`${i}:${Gs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${Mc(n)}/${t[0]}`:`${Mc(n)}/(${t.join("//")})`}}function ci(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ic(n){return ci(n).replace(/%3B/gi,";")}function Sc(n){return ci(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ac(n){return decodeURIComponent(n)}function Dc(n){return Ac(n.replace(/\+/g,"%20"))}function j0(n){return`${Sc(n.path)}${function C5(n){return Object.keys(n).map(e=>`;${Sc(e)}=${Sc(n[e])}`).join("")}(n.parameters)}`}const ou=/^[^\/()?;=#]+/;function n6(n){const e=n.match(ou);return e?e[0]:""}const b5=/^[^=?&#]+/,$0=/^[^&#]+/;class as{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new Zt(e,t)),r}parseSegment(){const e=n6(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(e),new e6(Ac(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=n6(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=n6(this.remaining);i&&(r=i,this.capture(r))}e[Ac(t)]=Ac(r)}parseQueryParam(e){const t=function jr(n){const e=n.match(b5);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function E5(n){const e=n.match($0);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Dc(t),c=Dc(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(c)}else e[i]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=n6(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new v.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=zt);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[zt]:new Zt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new v.vHH(4011,!1)}}function Mr(n){return n.segments.length>0?new Zt([],{[zt]:n}):n}function qs(n){const e={};for(const r of Object.keys(n.children)){const c=qs(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function r6(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function F2(n){return n instanceof sa}function S5(n,e,t,r,i){if(0===t.length)return ca(e.root,e.root,e.root,r,i);const c=function au(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new o6(!0,0,n);let e=0,t=!1;const r=n.reduce((i,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return ar(c.outlets,(g,w)=>{f[w]="string"==typeof g?g.split("/"):g}),[...i,{outlets:f}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===u?(c.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,c]},[]);return new o6(t,e,r)}(t);return c.toRoot()?ca(e.root,e.root,new Zt([],{}),r,i):function u(g){const w=function j2(n,e,t,r){if(n.isAbsolute)return new B2(e.root,!0,0);if(-1===r)return new B2(t,t===e.root,0);return function lu(n,e,t){let r=n,i=e,c=t;for(;c>i;){if(c-=i,r=r.parent,!r)throw new v.vHH(4005,!1);i=r.segments.length}return new B2(r,!1,i-c)}(t,r+(aa(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,e,n.snapshot?._urlSegment,g),S=w.processChildren?cs(w.segmentGroup,w.index,c.commands):$2(w.segmentGroup,w.index,c.commands);return ca(e.root,w.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function aa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function U2(n){return"object"==typeof n&&null!=n&&n.outlets}function ca(n,e,t,r,i){let u,c={};r&&ar(r,(g,w)=>{c[w]=Array.isArray(g)?g.map(S=>`${S}`):`${g}`}),u=n===e?t:s6(n,e,t);const f=Mr(qs(u));return new sa(f,c,i)}function s6(n,e,t){const r={};return ar(n.children,(i,c)=>{r[c]=i===e?t:s6(i,e,t)}),new Zt(n.segments,r)}class o6{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&aa(r[0]))throw new v.vHH(4003,!1);const i=r.find(U2);if(i&&i!==ru(r))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class B2{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $2(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return cs(n,e,t);const r=function uu(n,e,t){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return c;const u=n.segments[i],f=t[r];if(U2(f))break;const g=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&w&&"object"==typeof w&&void 0===w.outlets){if(!G0(g,w,u))return c;r+=2}else{if(!G0(g,{},u))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Zt(n.segments.slice(0,r.pathIndex),{});return c.children[zt]=new Zt(n.segments.slice(r.pathIndex),n.children),cs(c,0,i)}return r.match&&0===i.length?new Zt(n.segments,{}):r.match&&!n.hasChildren()?hu(n,e,t):r.match?cs(n,0,i):hu(n,e,t)}function cs(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const r=function A5(n){return U2(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return ar(r,(c,u)=>{"string"==typeof c&&(c=[c]),null!==c&&(i[u]=$2(n.children[u],e,c))}),ar(n.children,(c,u)=>{void 0===r[u]&&(i[u]=c)}),new Zt(n.segments,i)}}function hu(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const c=t[i];if(U2(c)){const g=ls(c.outlets);return new Zt(r,g)}if(0===i&&aa(t[0])){r.push(new e6(n.segments[e].path,a6(t[0]))),i++;continue}const u=U2(c)?c.outlets[zt]:`${c}`,f=i<t.length-1?t[i+1]:null;u&&f&&aa(f)?(r.push(new e6(u,a6(f))),i+=2):(r.push(new e6(u,{})),i++)}return new Zt(r,{})}function ls(n){const e={};return ar(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=hu(new Zt([],{}),0,t))}),e}function a6(n){const e={};return ar(n,(t,r)=>e[r]=`${t}`),e}function G0(n,e,t){return n==t.path&&Pi(e,t.parameters)}class us{constructor(e,t){this.id=e,this.url=t}}class la extends us{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G2 extends us{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class c6 extends us{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fu extends us{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D5 extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xc extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T5 extends us{constructor(e,t,r,i,c){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class q0 extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W0 extends us{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class du{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z0{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class x5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pu{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u6{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=K0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=K0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=p1(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return p1(e,this._root).map(t=>t.value)}}function K0(n,e){if(n===e.value)return e;for(const t of e.children){const r=K0(n,t);if(r)return r}return null}function p1(n,e){if(n===e.value)return[e];for(const t of e.children){const r=p1(n,t);if(r.length)return r.unshift(e),r}return[]}class $r{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function q2(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Q0 extends Nc{constructor(e,t){super(e),this.snapshot=t,zc(this,e)}toString(){return this.snapshot.toString()}}function Lc(n,e){const t=function h6(n,e){const u=new m1([],{},{},"",{},zt,e,null,n.root,-1,{});return new p6("",new $r(u,[]))}(n,e),r=new Nn([new e6("",{})]),i=new Nn({}),c=new Nn({}),u=new Nn({}),f=new Nn(""),g=new fs(r,i,u,f,c,zt,e,t.root);return g.snapshot=t.root,new Q0(new $r(g,[]),t)}class fs{constructor(e,t,r,i,c,u,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ot.U)(w=>w[Bn]))??lt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ot.U)(e=>ai(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ot.U)(e=>ai(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function f6(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],c=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function d6(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class m1{constructor(e,t,r,i,c,u,f,g,w,S,T,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=u,this.component=f,this.title=this.data?.[Bn],this.routeConfig=g,this._urlSegment=w,this._lastPathIndex=S,this._correctedLastPathIndex=R??S,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ai(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ai(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class p6 extends Nc{constructor(e,t){super(t),this.url=e,zc(this,t)}toString(){return m6(this._root)}}function zc(n,e){e.value._routerState=n,e.children.forEach(t=>zc(n,t))}function m6(n){const e=n.children.length>0?` { ${n.children.map(m6).join(", ")} } `:"";return`${n.value}${e}`}function kc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Pi(e.params,t.params)||n.params.next(t.params),function tu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Pi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ws(n,e){const t=Pi(n.params,e.params)&&function v5(n,e){return oa(n,e)&&n.every((t,r)=>Pi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ws(n.parent,e.parent))}function Zs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Y0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zs(n,r,i);return Zs(n,r)})}(n,e,t);return new $r(r,i)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Zs(n,f)),u}}const r=function N5(n){return new fs(new Nn(n.url),new Nn(n.params),new Nn(n.queryParams),new Nn(n.fragment),new Nn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(c=>Zs(n,c));return new $r(r,i)}}const $1="ngNavigationCancelingError";function Ks(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=F2(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ua(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ua(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$1]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Rc(n){return Qs(n)&&F2(n.url)}function Qs(n){return n&&n[$1]}class J0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pc,this.attachRef=null}}let Pc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new J0,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const X0=!1;let e3=(()=>{class n{constructor(t,r,i,c,u){this.parentContexts=t,this.location=r,this.changeDetector=c,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.name=i||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,X0);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,X0);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,X0);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new v.vHH(4013,X0);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new t3(t,f,i.injector);if(r&&function y(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(u);this.activated=i.createComponent(w,i.length,g)}else this.activated=i.createComponent(u,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Pc),v.Y36(v.s_b),v.$8M("name"),v.Y36(v.sBO),v.Y36(v.lqb))},n.\u0275dir=v.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class t3{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fs?this.route:e===Pc?this.childContexts:this.parent.get(e,t)}}let d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(t,r){1&t&&v._UZ(0,"router-outlet")},dependencies:[e3],encapsulation:2}),n})();function m(n,e){return n.providers&&!n._injector&&(n._injector=(0,v.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yt(n){const e=n.children&&n.children.map(yt),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=d),t}function pn(n){return n.outlet||zt}function cr(n,e){const t=n.filter(r=>pn(r)===e);return t.push(...n.filter(r=>pn(r)!==e)),t}function A1(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class n3{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=q2(t);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,i[u],r),delete i[u]}),ar(i,(c,u)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(i===c)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=q2(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=q2(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=q2(t);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new u6(c.value.snapshot))}),e.children.length&&this.forwardEvent(new pu(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(kc(i),i===c)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),kc(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=A1(i.snapshot),g=f?.get(v._Vd)??null;u.attachRef=null,u.route=i,u.resolver=g,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class r3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Oc{constructor(e,t){this.component=e,this.route=t}}function i3(n,e,t){const r=n._root;return W2(r,e?e._root:null,t,[r.value])}function Ys(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,v.Z0I)(n)?e.get(n):n:r}function W2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=q2(e);return n.children.forEach(u=>{(function yu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const g=function L5(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!oa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!oa(n.url,e.url)||!Pi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ws(n,e)||!Pi(n.queryParams,e.queryParams);default:return!Ws(n,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new r3(r)):(c.data=u.data,c._resolvedData=u._resolvedData),W2(n,e,c.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Oc(f.outlet.component,u))}else u&&Z2(e,f,i),i.canActivateChecks.push(new r3(r)),W2(n,null,c.component?f?f.children:null:t,r,i)})(u,c[u.value.outlet],t,r.concat([u.value]),i),delete c[u.value.outlet]}),ar(c,(u,f)=>Z2(u,t.getContext(f),i)),i}function Z2(n,e,t){const r=q2(n),i=n.value;ar(r,(c,u)=>{Z2(c,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Oc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Js(n){return"function"==typeof n}function o3(n){return n instanceof P2||"EmptyError"===n?.name}const g6=Symbol("INITIAL_VALUE");function a3(){return Qn(n=>Us(n.map(e=>e.pipe(Dn(1),ra(g6)))).pipe((0,ot.U)(e=>{for(const t of e)if(!0!==t){if(t===g6)return g6;if(!1===t||t instanceof sa)return t}return!0}),M(e=>e!==g6),Dn(1)))}function Cu(n){return(0,bc.z)((0,Ue.b)(e=>{if(F2(e))throw Ks(0,e)}),(0,ot.U)(e=>!0===e))}const Jn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z5(n,e,t,r,i){const c=k5(n,e,t);return c.matched?function tg(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(u=>{const f=Ys(u,n);return j1(function kC(n){return n&&Js(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(a3(),Cu()):lt(!0)}(r=m(e,r),e,t).pipe((0,ot.U)(u=>!0===u?c:{...Jn})):lt(c)}function k5(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Jn}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ad)(t,n,e);if(!i)return{...Jn};const c={};ar(i.posParams,(f,g)=>{c[g]=f.path});const u=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function v6(n,e,t,r,i="corrected"){if(t.length>0&&function rg(n,e,t){return t.some(r=>wu(n,e,r)&&pn(r)!==zt)}(n,t,r)){const u=new Zt(e,function ng(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&pn(c)!==zt){const u=new Zt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[pn(c)]=u}return i}(n,e,r,new Zt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function ig(n,e,t){return t.some(r=>wu(n,e,r))}(n,t,r)){const u=new Zt(n.segments,function Rd(n,e,t,r,i,c){const u={};for(const f of r)if(wu(n,t,f)&&!i[pn(f)]){const g=new Zt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===c?n.segments.length:e.length,u[pn(f)]=g}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const c=new Zt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function wu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Pd(n,e,t,r){return!!(pn(n)===r||r!==zt&&wu(e,t,n))&&("**"===n.path||k5(e,n,t).matched)}function sg(n,e,t){return 0===e.length&&!n.children[t]}const R5=!1;class ha{constructor(e){this.segmentGroup=e||null}}class bu{constructor(e){this.urlTree=e}}function y6(n){return i1(new ha(n))}function P5(n){return i1(new bu(n))}class Hd{constructor(e,t,r,i,c){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=c,this.allowRedirects=!0}apply(){const e=v6(this.urlTree.root,[],[],this.config).segmentGroup,t=new Zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe((0,ot.U)(c=>this.createUrlTree(qs(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Je(c=>{if(c instanceof bu)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof ha?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,zt).pipe((0,ot.U)(i=>this.createUrlTree(qs(i),e.queryParams,e.fragment))).pipe(Je(i=>{throw i instanceof ha?this.noMatchError(i):i}))}noMatchError(e){return new v.vHH(4002,R5)}createUrlTree(e,t,r){const i=Mr(e);return new sa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ot.U)(c=>new Zt([],c))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,bn.D)(i).pipe(Me(c=>{const u=r.children[c],f=cr(t,c);return this.expandSegmentGroup(e,f,u,c).pipe((0,ot.U)(g=>({segment:g,outlet:c})))}),Rt((c,u)=>(c[u.outlet]=u.segment,c),{}),Yn())}expandSegment(e,t,r,i,c,u){return(0,bn.D)(r).pipe(Me(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,c,u).pipe(Je(w=>{if(w instanceof ha)return lt(null);throw w}))),te(f=>!!f),Je((f,g)=>{if(o3(f))return sg(t,i,c)?lt(new Zt([],{})):y6(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,c,u,f){return Pd(i,t,c,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,c,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u):y6(t):y6(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?P5(c):this.lineralizeSegments(r,c).pipe((0,I.z)(u=>{const f=new Zt(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u){const{matched:f,consumedSegments:g,remainingSegments:w,positionalParamSegments:S}=k5(t,i,c);if(!f)return y6(t);const T=this.applyRedirectCommands(g,i.redirectTo,S);return i.redirectTo.startsWith("/")?P5(T):this.lineralizeSegments(i,T).pipe((0,I.z)(R=>this.expandSegment(e,t,r,R.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,c){return"**"===r.path?(e=m(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ot.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Zt(i,{})))):lt(new Zt(i,{}))):z5(t,r,i,e).pipe(Qn(({matched:u,consumedSegments:f,remainingSegments:g})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,I.z)(S=>{const T=S.injector??e,R=S.routes,{segmentGroup:H,slicedSegments:$}=v6(t,f,g,R),ne=new Zt(H.segments,H.children);if(0===$.length&&ne.hasChildren())return this.expandChildren(T,R,ne).pipe((0,ot.U)(nt=>new Zt(f,nt)));if(0===R.length&&0===$.length)return lt(new Zt(f,{}));const me=pn(r)===c;return this.expandSegment(T,ne,R,$,me?zt:c,!0).pipe((0,ot.U)(Ke=>new Zt(f.concat(Ke.segments),Ke.children)))})):y6(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function kd(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(u=>{const f=Ys(u,n);return j1(function s3(n){return n&&Js(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(a3(),Cu())}(e,t,r).pipe((0,I.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ue.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function og(n){return i1(ua(R5,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[zt])return i1(new v.vHH(4e3,R5));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const c=this.createSegmentGroup(e,t.root,r,i);return new sa(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ar(e,(i,c)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[c]=t[f]}else r[c]=i}),r}createSegmentGroup(e,t,r,i){const c=this.createSegments(e,t.segments,r,i);let u={};return ar(t.children,(f,g)=>{u[g]=this.createSegmentGroup(e,f,r,i)}),new Zt(c,u)}createSegments(e,t,r,i){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new v.vHH(4001,R5);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class ag{}class Ud{constructor(e,t,r,i,c,u,f,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=c,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=g}recognize(){const e=v6(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,zt).pipe((0,ot.U)(t=>{if(null===t)return null;const r=new m1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $r(r,t),c=new p6(this.url,i);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(e){const t=e.value,r=f6(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,bn.D)(Object.keys(r.children)).pipe(Me(i=>{const c=r.children[i],u=cr(t,i);return this.processSegmentGroup(e,u,c,i)}),Rt((i,c)=>i&&c?(i.push(...c),i):null),function Un(n,e=!1){return(0,Tr.e)((t,r)=>{let i=0;t.subscribe((0,gr.x)(r,c=>{const u=n(c,i++);(u||e)&&r.next(c),!u&&r.complete()}))})}(i=>null!==i),x(null),Yn(),(0,ot.U)(i=>{if(null===i)return null;const c=c3(i);return function Vc(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}))}processSegment(e,t,r,i,c){return(0,bn.D)(t).pipe(Me(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,c)),te(u=>!!u),Je(u=>{if(o3(u))return sg(r,i,c)?lt([]):lt(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,c){if(t.redirectTo||!Pd(t,r,i,c))return lt(null);let u;if("**"===t.path){const f=i.length>0?ru(i).parameters:{},g=l3(r)+i.length;u=lt({snapshot:new m1(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U5(t),pn(t),t.component??t._loadedComponent??null,t,Eu(r),g,Mu(t),g),consumedSegments:[],remainingSegments:[]})}else u=z5(r,t,i,e).pipe((0,ot.U)(({matched:f,consumedSegments:g,remainingSegments:w,parameters:S})=>{if(!f)return null;const T=l3(r)+g.length;return{snapshot:new m1(g,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U5(t),pn(t),t.component??t._loadedComponent??null,t,Eu(r),T,Mu(t),T),consumedSegments:g,remainingSegments:w}}));return u.pipe(Qn(f=>{if(null===f)return lt(null);const{snapshot:g,consumedSegments:w,remainingSegments:S}=f;e=t._injector??e;const T=t._loadedInjector??e,R=function cg(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:$}=v6(r,w,S,R.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution);if(0===$.length&&H.hasChildren())return this.processChildren(T,R,H).pipe((0,ot.U)(me=>null===me?null:[new $r(g,me)]));if(0===R.length&&0===$.length)return lt([new $r(g,[])]);const ne=pn(t)===c;return this.processSegment(T,R,H,$,ne?zt:c).pipe((0,ot.U)(me=>null===me?null:[new $r(g,me)]))}))}}function F5(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function c3(n){const e=[],t=new Set;for(const r of n){if(!F5(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=c3(r.children);e.push(new $r(r.value,i))}return e.filter(r=>!t.has(r))}function Eu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function l3(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function U5(n){return n.data||{}}function Mu(n){return n.resolve||{}}function jd(n){return"string"==typeof n.title||null===n.title}function B5(n){return Qn(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,ot.U)(()=>e)):lt(e)})}let Iu=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[Bn]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return(0,v.f3M)($d)},providedIn:"root"}),n})(),$d=(()=>{class n extends Iu{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(ii))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mg{}class OC extends class Gd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const da=new v.OlP("",{providedIn:"root",factory:()=>({})}),pa=new v.OlP("ROUTES");let Hc=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=j1(t.loadComponent()).pipe((0,Ue.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),$s(()=>{this.componentLoaders.delete(t)})),i=new oi(r,()=>new r1.x).pipe(Ri());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ot.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,w,S=!1;Array.isArray(f)?w=f:(g=f.create(t).injector,w=nu(g.get(pa,[],v.XFs.Self|v.XFs.Optional)));return{routes:w.map(yt),injector:g}}),$s(()=>{this.childrenLoaders.delete(r)})),u=new oi(c,()=>new r1.x).pipe(Ri());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return j1(t()).pipe((0,I.z)(r=>r instanceof v.YKP||Array.isArray(r)?lt(r):(0,bn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.zs3),v.LFG(v.Sil))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vg{}class VC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yg(n){throw n}function _g(n,e,t){return e.parse("/")}const Cg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Su(){const n=(0,v.f3M)(B0),e=(0,v.f3M)(Pc),t=(0,v.f3M)(Te),r=(0,v.f3M)(v.zs3),i=(0,v.f3M)(v.Sil),c=(0,v.f3M)(pa,{optional:!0})??[],u=(0,v.f3M)(da,{optional:!0})??{},f=(0,v.f3M)($d),g=(0,v.f3M)(Iu,{optional:!0}),w=(0,v.f3M)(vg,{optional:!0}),S=(0,v.f3M)(mg,{optional:!0}),T=new xr(null,n,e,t,r,i,nu(c));return w&&(T.urlHandlingStrategy=w),S&&(T.routeReuseStrategy=S),T.titleStrategy=g??f,function Zd(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,T),T}let xr=(()=>{class n{constructor(t,r,i,c,u,f,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=c,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new r1.x,this.errorHandler=yg,this.malformedUriErrorHandler=_g,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new VC,this.routeReuseStrategy=new OC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Hc),this.configLoader.onLoadEndListener=R=>this.triggerEvent(new Z0(R)),this.configLoader.onLoadStartListener=R=>this.triggerEvent(new du(R)),this.ngModule=u.get(v.h0i),this.console=u.get(v.c2e);const T=u.get(v.R0b);this.isNgZoneEnabled=T instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function iu(){return new sa(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Lc(this.currentUrlTree,this.rootComponentType),this.transitions=new Nn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(M(i=>0!==i.id),(0,ot.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Qn(i=>{let c=!1,u=!1;return lt(i).pipe((0,Ue.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qn(f=>{const g=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Au(f.source)&&(this.browserUrlTree=f.extractedUrl),lt(f).pipe(Qn(T=>{const R=this.transitions.getValue();return r.next(new la(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),R!==this.transitions.getValue()?si.E:Promise.resolve(T)}),function O5(n,e,t,r){return Qn(i=>function Vd(n,e,t,r,i){return new Hd(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ot.U)(c=>({...i,urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ue.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},i.urlAfterRedirects=T.urlAfterRedirects}),function ug(n,e,t,r,i,c){return(0,I.z)(u=>function Fd(n,e,t,r,i,c,u="emptyOnly",f="legacy"){return new Ud(n,e,t,r,i,u,f,c).recognize().pipe(Qn(g=>null===g?function H5(n){return new Br.y(e=>e.error(n))}(new ag):lt(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,c).pipe((0,ot.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ue.b)(T=>{if(i.targetSnapshot=T.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(H,T)}this.browserUrlTree=T.urlAfterRedirects}const R=new D5(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(R)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:H,source:$,restoredState:ne,extras:me}=f,ze=new la(R,this.serializeUrl(H),$,ne);r.next(ze);const Ke=Lc(H,this.rootComponentType).snapshot;return lt(i={...f,targetSnapshot:Ke,urlAfterRedirects:H,extras:{...me,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),si.E}),(0,Ue.b)(f=>{const g=new xc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,ot.U)(f=>i={...f,guards:i3(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function PC(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?lt({...t,guardsResult:!0}):function Ld(n,e,t,r){return(0,bn.D)(n).pipe((0,I.z)(i=>function _u(n,e,t,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?lt(c.map(f=>{const g=A1(e)??i,w=Ys(f,g);return j1(function Nd(n){return n&&Js(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):g.runInContext(()=>w(n,e,t,r))).pipe(te())})).pipe(a3()):lt(!0)}(i.component,i.route,t,e,r)),te(i=>!0!==i,!0))}(u,r,i,n).pipe((0,I.z)(f=>f&&function K2(n){return"boolean"==typeof n}(f)?function Ym(n,e,t,r){return(0,bn.D)(e).pipe(Me(i=>ki(function Xm(n,e){return null!==n&&e&&e(new x5(n)),lt(!0)}(i.route.parent,r),function Jm(n,e){return null!==n&&e&&e(new l6(n)),lt(!0)}(i.route,r),function zd(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function vu(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>S1(()=>lt(u.guards.map(g=>{const w=A1(u.node)??t,S=Ys(g,w);return j1(function xd(n){return n&&Js(n.canActivateChild)}(S)?S.canActivateChild(r,n):w.runInContext(()=>S(r,n))).pipe(te())})).pipe(a3())));return lt(c).pipe(a3())}(n,i.path,t),function eg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(c=>S1(()=>{const u=A1(e)??t,f=Ys(c,u);return j1(function Td(n){return n&&Js(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(te())}));return lt(i).pipe(a3())}(n,i.route,t))),te(i=>!0!==i,!0))}(r,c,n,e):lt(f)),(0,ot.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Ue.b)(f=>{if(i.guardsResult=f.guardsResult,F2(f.guardsResult))throw Ks(0,f.guardsResult);const g=new T5(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),M(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),B5(f=>{if(f.guards.canActivateChecks.length)return lt(f).pipe((0,Ue.b)(g=>{const w=new q0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(w)}),Qn(g=>{let w=!1;return lt(g).pipe(function hg(n,e){return(0,I.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);let c=0;return(0,bn.D)(i).pipe(Me(u=>function Bd(n,e,t,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!jd(i)&&(c[Bn]=i.title),function _6(n,e,t,r){const i=function fg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return lt({});const c={};return(0,bn.D)(i).pipe((0,I.z)(u=>function dg(n,e,t,r){const i=A1(e)??r,c=Ys(n,i);return j1(c.resolve?c.resolve(e,t):i.runInContext(()=>c(e,t)))}(n[u],e,t,r).pipe(te(),(0,Ue.b)(f=>{c[u]=f}))),Mt(1),function js(n){return(0,ot.U)(()=>n)}(c),Je(u=>o3(u)?si.E:i1(u)))}(c,n,e,r).pipe((0,ot.U)(u=>(n._resolvedData=u,n.data=f6(n,t).resolve,i&&jd(i)&&(n.data[Bn]=i.title),null)))}(u.route,r,n,e)),(0,Ue.b)(()=>c++),Mt(1),(0,I.z)(u=>c===i.length?lt(t):si.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ue.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Ue.b)(g=>{const w=new W0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(w)}))}),B5(f=>{const g=w=>{const S=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Ue.b)(T=>{w.component=T}),(0,ot.U)(()=>{})));for(const T of w.children)S.push(...g(T));return S};return Us(g(f.targetSnapshot.root)).pipe(x(),Dn(1))}),B5(()=>this.afterPreactivation()),(0,ot.U)(f=>{const g=function g1(n,e,t){const r=Zs(n,e._root,t?t._root:void 0);return new Q0(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:g}}),(0,Ue.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,ot.U)(r=>(new n3(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Ue.b)({next(){c=!0},complete(){c=!0}}),$s(()=>{c||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Je(f=>{if(u=!0,Qs(f)){Rc(f)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new c6(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(g),Rc(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Au(i.source)};this.scheduleNavigation(w,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new fu(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(g);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return si.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},c=t.state?.navigationId?t.state:null;if(c){const f={...c};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,c,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(yt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:c,fragment:u,queryParamsHandling:f,preserveFragment:g}=r,w=i||this.routerState.root,S=g?this.currentUrlTree.fragment:u;let T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...c};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}return null!==T&&(T=this.removeEmptyProps(T)),S5(w,this.currentUrlTree,t,T,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=F2(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function wg(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new v.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Cg}:!1===r?{...Wd}:r,F2(t))return p5(this.currentUrlTree,t,i);const c=this.parseUrl(t);return p5(this.currentUrlTree,c,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const c=t[i];return null!=c&&(r[i]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new G2(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,c,u){if(this.disposed)return Promise.resolve(!1);let f,g,w;u?(f=u.resolve,g=u.reject,w=u.promise):w=new Promise((R,H)=>{f=R,g=H});const S=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),T=i&&i.\u0275routerPageId?i.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):T=0,this.setTransition({id:S,targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:f,reject:g,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",c):this.location.go(i,"",c)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const c=new c6(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(c),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){v.$Z()},n.\u0275prov=v.Yz7({token:n,factory:function(){return Su()},providedIn:"root"}),n})();function Au(n){return"imperative"!==n}class Kd{}let Mg=(()=>{class n{constructor(t,r,i,c,u){this.router=t,this.injector=i,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(M(t=>t instanceof G2),Me(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,v.MMx)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,f=c._loadedInjector??u;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?i.push(this.preloadConfig(u,c)):(c.children||c._loadedRoutes)&&i.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,bn.D)(i).pipe((0,na.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const c=i.pipe((0,I.z)(u=>null===u?lt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,bn.D)([c,u]).pipe((0,na.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(xr),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(Kd),v.LFG(Hc))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ma=new v.OlP("");let Xs=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof la?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G2&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hs&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new hs(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){v.$Z()},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();function h3(n,e){return{\u0275kind:n,\u0275providers:e}}function Tu(n){return[{provide:pa,multi:!0,useValue:n}]}function $5(){const n=(0,v.f3M)(v.zs3);return e=>{const t=n.get(v.z2F);if(e!==t.components[0])return;const r=n.get(xr),i=n.get(Sg);1===n.get(xu)&&r.initialNavigation(),n.get(Yd,null,v.XFs.Optional)?.setUpPreloading(),n.get(ma,null,v.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Sg=new v.OlP("",{factory:()=>new r1.x}),xu=new v.OlP("",{providedIn:"root",factory:()=>1});const Yd=new v.OlP("");function ds(n){return h3(0,[{provide:Yd,useExisting:Mg},{provide:Kd,useExisting:n}])}const Jd=new v.OlP("ROUTER_FORROOT_GUARD"),Tg=[Te,{provide:B0,useClass:Ec},{provide:xr,useFactory:Su},Pc,{provide:fs,useFactory:function Ig(n){return n.routerState.root},deps:[xr]},Hc];function xg(){return new v.PXZ("Router",xr)}let G5=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Tg,[],Tu(t),{provide:Jd,useFactory:Vt,deps:[[xr,new v.FiY,new v.tp0]]},{provide:da,useValue:r||{}},r?.useHash?{provide:ve,useClass:ct}:{provide:ve,useClass:et},{provide:ma,useFactory:()=>{const n=(0,v.f3M)(xr),e=(0,v.f3M)(So),t=(0,v.f3M)(da);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Xs(n,e,t)}},r?.preloadingStrategy?ds(r.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:xg},r?.initialNavigation?Xd(r):[],[{provide:q5,useFactory:$5},{provide:v.tb,multi:!0,useExisting:q5}]]}}static forChild(t){return{ngModule:n,providers:[Tu(t)]}}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Jd,8))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[d]}),n})();function Vt(n){return"guarded"}function Xd(n){return["disabled"===n.initialNavigation?h3(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const e=(0,v.f3M)(xr);return()=>{e.setUpLocationChangeListener()}}},{provide:xu,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?h3(2,[{provide:xu,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:e=>{const t=e.get(U,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(c=>{const u=e.get(xr),f=e.get(Sg);(function i(c){e.get(xr).events.pipe(M(f=>f instanceof G2||f instanceof c6||f instanceof fu),(0,ot.U)(f=>f instanceof G2||f instanceof c6&&(0===f.code||1===f.code)&&null),M(f=>null!==f),Dn(1)).subscribe(()=>{c()})})(()=>{c(!0),r=!0}),u.afterPreactivation=()=>(c(!0),r||f.closed?lt(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const q5=new v.OlP(""),kg=[];let t7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[G5.forRoot(kg),G5]}),n})();var Rg=P(4986),Gr=P(2122);function W5(){return(0,Tr.e)((n,e)=>{let t,r=!1;n.subscribe((0,gr.x)(e,i=>{const c=t;t=i,r&&e.next([c,i]),r=!0}))})}function GC(n,e){return n===e}var gt,Oi=P(2011),Uc=(P(9169),P(3942)),_e=P(5861),Q2=P(9681),C6=P(4859),ga=P(1877),_n=P(2090),qC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},va={},Nu=Nu||{},Ht=qC||self;function Lu(){}function Y2(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function d3(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var w6="closure_uid_"+(1e9*Math.random()>>>0),Vg=0;function r7(n,e,t){return n.call.apply(n.bind,arguments)}function Hg(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function v1(n,e,t){return(v1=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r7:Hg).apply(null,arguments)}function zu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function o1(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,c){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function ya(){this.s=this.s,this.o=this.o}ya.prototype.s=!1,ya.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function n7(n){Object.prototype.hasOwnProperty.call(n,w6)&&n[w6]||(n[w6]=++Vg)}(this)},ya.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s7=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ku(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Z5(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Y2(r)){const i=n.length||0,c=r.length||0;n.length=i+c;for(let u=0;u<c;u++)n[i+u]=r[u]}else n.push(r)}}function qr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}qr.prototype.h=function(){this.defaultPrevented=!0};var WC=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",Lu,e),Ht.removeEventListener("test",Lu,e)}catch{}return n}();function b6(n){return/^[\s\xa0]*$/.test(n)}var o7=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function a7(n,e){return n<e?-1:n>e?1:0}function J2(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function ps(n){return-1!=J2().indexOf(n)}function Ru(n){return Ru[" "](n),n}Ru[" "]=Lu;var E6,n,ms=ps("Opera"),Bc=ps("Trident")||ps("MSIE"),c7=ps("Edge"),p3=c7||Bc,e2=ps("Gecko")&&!(-1!=J2().toLowerCase().indexOf("webkit")&&!ps("Edge"))&&!(ps("Trident")||ps("MSIE"))&&!ps("Edge"),K5=-1!=J2().toLowerCase().indexOf("webkit")&&!ps("Edge");function Q5(){var n=Ht.document;return n?n.documentMode:void 0}e:{var l7="",Ou=(n=J2(),e2?/rv:([^\);]+)(\)|;)/.exec(n):c7?/Edge\/([\d\.]+)/.exec(n):Bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):K5?/WebKit\/(\S+)/.exec(n):ms?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ou&&(l7=Ou?Ou[1]:""),Bc){var u7=Q5();if(null!=u7&&u7>parseFloat(l7)){E6=String(u7);break e}}E6=l7}var Vu={};var Y5=Ht.document&&Bc&&(Q5()||parseInt(E6,10))||void 0;function Uu(n,e){if(qr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(e2){e:{try{Ru(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Fg[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uu.X.h.call(this)}}o1(Uu,qr);var Fg={2:"touch",3:"pen",4:"mouse"};Uu.prototype.h=function(){Uu.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var g3="closure_listenable_"+(1e6*Math.random()|0),Ug=0;function Bg(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Ug,this.ba=this.ea=!1}function v3(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function h7(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function f7(n){const e={};for(const t in n)e[t]=n[t];return e}const jg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J5(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<jg.length;c++)t=jg[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function y3(n){this.src=n,this.g={},this.h=0}function X5(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=s7(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(v3(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _3(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return i}return-1}y3.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var u=_3(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new Bg(e,this.src,c,!!r,i)).ea=t,n.push(e)),e};var d7="closure_lm_"+(1e6*Math.random()|0),p7={};function $g(n,e,t,r,i){if(r&&r.once)return qg(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)$g(n,e[c],t,r,i);return null}return t=eh(t),n&&n[g3]?n.N(e,t,d3(r)?!!r.capture:!!r,i):Gg(n,e,t,!1,r,i)}function Gg(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var u=d3(i)?!!i.capture:!!i,f=t2(n);if(f||(n[d7]=f=new y3(n)),(t=f.add(e,t,r,u,c)).proxy)return t;if(r=function ZC(){const e=KC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)WC||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Zg(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qg(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)qg(n,e[c],t,r,i);return null}return t=eh(t),n&&n[g3]?n.O(e,t,d3(r)?!!r.capture:!!r,i):Gg(n,e,t,!0,r,i)}function Wg(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)Wg(n,e[c],t,r,i);else r=d3(r)?!!r.capture:!!r,t=eh(t),n&&n[g3]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_3(c=n.g[e],t,r,i))&&(v3(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=t2(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_3(e,t,r,i)),(t=-1<n?e[n]:null)&&m7(t))}function m7(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[g3])X5(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Zg(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=t2(e))?(X5(t,n),0==t.h&&(t.src=null,e[d7]=null)):v3(n)}}}function Zg(n){return n in p7?p7[n]:p7[n]="on"+n}function KC(n,e){if(n.ba)n=!0;else{e=new Uu(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&m7(n),n=t.call(r,e)}return n}function t2(n){return(n=n[d7])instanceof y3?n:null}var C3="__closure_events_fn_"+(1e9*Math.random()>>>0);function eh(n){return"function"==typeof n?n:(n[C3]||(n[C3]=function(e){return n.handleEvent(e)}),n[C3])}function Nr(){ya.call(this),this.i=new y3(this),this.P=this,this.I=null}function Lr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new qr(e,n);else if(e instanceof qr)e.target=e.target||n;else{var i=e;J5(e=new qr(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var u=e.g=t[c];i=w3(u,r,!0,e)&&i}if(i=w3(u=e.g=n,r,!0,e)&&i,i=w3(u,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=w3(u=e.g=t[c],r,!1,e)&&i}function w3(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.ba&&u.capture==t){var f=u.listener,g=u.ha||u.src;u.ea&&X5(n.i,u),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}o1(Nr,ya),Nr.prototype[g3]=!0,Nr.prototype.removeEventListener=function(n,e,t,r){Wg(this,n,e,t,r)},Nr.prototype.M=function(){if(Nr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)v3(t[r]);delete n.g[e],n.h--}}this.I=null},Nr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var b3=Ht.JSON.stringify;function Kg(){var n=jc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var rh,th=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Qg,n=>n.reset());class Qg{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yg(n){Ht.setTimeout(()=>{throw n},0)}function nh(n,e){rh||function Jg(){var n=Ht.Promise.resolve(void 0);rh=function(){n.then(ih)}}(),M6||(rh(),M6=!0),jc.add(n,e)}var M6=!1,jc=new class _a{constructor(){this.h=this.g=null}add(e,t){const r=th.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ih(){for(var n;n=Kg();){try{n.h.call(n.g)}catch(t){Yg(t)}var e=th;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}M6=!1}function X2(n,e){Nr.call(this),this.h=n||1,this.g=e||Ht,this.j=v1(this.lb,this),this.l=Date.now()}function E3(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function I6(n,e,t){if("function"==typeof n)t&&(n=v1(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=v1(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ht.setTimeout(n,e||0)}function sh(n){n.g=I6(()=>{n.g=null,n.i&&(n.i=!1,sh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}o1(X2,Nr),(gt=X2.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Lr(this,"tick"),this.ca&&(E3(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){X2.X.M.call(this),E3(this),delete this.g};class g7 extends ya{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sh(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $c(n){ya.call(this),this.h=n,this.g={}}o1($c,ya);var Bu=[];function oh(n,e,t,r){Array.isArray(t)||(t&&(Bu[0]=t.toString()),t=Bu);for(var i=0;i<t.length;i++){var c=$g(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function ju(n){h7(n.g,function(e,t){this.g.hasOwnProperty(t)&&m7(e)},n),n.g={}}function $u(){this.g=!0}function Gc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function v7(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<i.length;u++)i[u]=""}}}return b3(t)}catch{return e}}(n,t)+(r?" "+r:"")})}$c.prototype.M=function(){$c.X.M.call(this),ju(this)},$c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$u.prototype.Aa=function(){this.g=!1},$u.prototype.info=function(){};var Ca={},y7=null;function y1(){return y7=y7||new Nr}function ah(n){qr.call(this,Ca.Pa,n)}function M3(n){const e=y1();Lr(e,new ah(e))}function tv(n,e){qr.call(this,Ca.STAT_EVENT,n),this.stat=e}function D1(n){const e=y1();Lr(e,new tv(e,n))}function Gu(n,e){qr.call(this,Ca.Qa,n),this.size=e}function S6(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},e)}Ca.Pa="serverreachability",o1(ah,qr),Ca.STAT_EVENT="statevent",o1(tv,qr),Ca.Qa="timingevent",o1(Gu,qr);var qu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},_7={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ch(){}function C7(){}ch.prototype.h=null;var Wu,A6={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function uh(){qr.call(this,"d")}function hh(){qr.call(this,"c")}function I3(){}function S3(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new $c(this),this.O=fh,this.T=new X2(n=p3?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}o1(uh,qr),o1(hh,qr),o1(I3,ch),I3.prototype.g=function(){return new XMLHttpRequest},I3.prototype.i=function(){return{}},Wu=new I3;var fh=45e3,dh={},Zu={};function w7(n,e,t){n.K=1,n.v=Ea(n2(e)),n.s=t,n.P=!0,ph(n,null)}function ph(n,e){n.F=Date.now(),qc(n),n.A=n2(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),x7(t.i,"t",r),n.C=0,t=n.l.H,n.h=new gs,n.g=Eh(n.l,t?e:null,!n.s),0<n.N&&(n.L=new g7(v1(n.La,n,n.g),n.N)),oh(n.S,n.g,"readystatechange",n.ib),e=n.H?f7(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),M3(),function QC(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var u="",f=c.split("&"),g=0;g<f.length;g++){var w=f[g].split("=");if(1<w.length){var S=w[0];w=w[1];var T=S.split("_");u=2<=T.length&&"type"==T[1]?u+(S+"=")+w+"&":u+(S+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function b7(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function E7(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=nv(n,t),i==Zu){4==e&&(n.o=4,D1(14),r=!1),Gc(n.j,n.m,null,"[Incomplete Response]");break}if(i==dh){n.o=4,D1(15),Gc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Gc(n.j,n.m,i,null),D6(n,i)}b7(n)&&i!=Zu&&i!=dh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,D1(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),P3(e),e.K=!0,D1(11))):(Gc(n.j,n.m,t,"[Invalid Chunked Response]"),eo(n),wa(n))}function nv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Zu:(t=Number(e.substring(t,r)),isNaN(t)?dh:(r+=1)+t>e.length?Zu:(e=e.substr(r,t),n.C=r+t,e))}function qc(n){n.V=Date.now()+n.O,M7(n,n.O)}function M7(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=S6(v1(n.gb,n),e)}function Ku(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function wa(n){0==n.l.G||n.I||O3(n.l,n)}function eo(n){Ku(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,E3(n.T),ju(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function D6(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||vh(t.h,n)))if(!n.J&&vh(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;t4(t),z3(t)}R3(t),D1(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=S6(v1(t.cb,t),6e3));if(1>=z7(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else n4(t,11)}else if((n.J||t.g==n)&&t4(t),!b6(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const S=w[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const T=w[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const R=w[5];null!=R&&"number"==typeof R&&0<R&&(t.J=r=1.5*R,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const $=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var c=r.h;c.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(yh(c,c.h),c.h=null))}if(r.D){const ne=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.za=ne,Ln(r.F,r.D,ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=s8(r,r.H?r.ka:null,r.V),u.J){k7(r.h,u);var f=u,g=r.J;g&&f.setTimeout(g),f.B&&(Ku(f),qc(f)),r.g=u}else O7(r);0<t.i.length&&k3(t)}else"stop"!=w[0]&&"close"!=w[0]||n4(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?n4(t,7):n8(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}M3()}catch{}}function rv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Y2(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function mh(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Y2(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function YC(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Y2(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}(gt=S3.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const e=this.L;e&&3==G1(n)?e.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const S=G1(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||p3||this.g&&(this.h.h||this.g.fa()||_h(this.g)))){this.I||4!=S||7==e||M3(),Ku(this);var t=this.g.aa();this.Y=t;t:if(b7(this)){var r=_h(this.g);n="";var i=r.length,c=4==G1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),wa(this);var u="";break t}this.h.i=new Ht.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function Xg(n,e,t,r,i,c,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b6(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,D1(12),eo(this),wa(this);break e}Gc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,D6(this,t)}this.P?(E7(this,S,u),p3&&this.i&&3==S&&(oh(this.S,this.T,"tick",this.hb),this.T.start())):(Gc(this.j,this.m,u,null),D6(this,u)),4==S&&eo(this),this.i&&!this.I&&(4==S?O3(this.l,this):(this.i=!1,qc(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,D1(12)):(this.o=0,D1(13)),eo(this),wa(this)}}}catch{}},gt.hb=function(){if(this.g){var n=G1(this.g),e=this.g.fa();this.C<e.length&&(Ku(this),E7(this,n,e),this.i&&4!=n&&qc(this))}},gt.cancel=function(){this.I=!0,eo(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function ev(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(M3(),D1(17)),eo(this),this.o=2,wa(this)):M7(this,this.V-n)};var gh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ba){this.h=void 0!==e?e:n.h,T6(this,n.j),this.s=n.s,this.g=n.g,Vi(this,n.m),this.l=n.l,e=n.i;var t=new x3;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),A3(this,t),this.o=n.o}else n&&(t=String(n).match(gh))?(this.h=!!e,T6(this,t[1]||"",!0),this.s=D3(t[2]||""),this.g=D3(t[3]||"",!0),Vi(this,t[4]),this.l=D3(t[5]||"",!0),A3(this,t[6]||"",!0),this.o=D3(t[7]||"")):(this.h=!!e,this.i=new x3(null,this.h))}function n2(n){return new ba(n)}function T6(n,e,t){n.j=t?D3(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Vi(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function A3(n,e,t){e instanceof x3?(n.i=e,function N7(n,e){e&&!n.j&&(Zc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(D7(this,r),x7(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Wc(e,sv)),n.i=new x3(e,n.h))}function Ln(n,e,t){n.i.set(e,t)}function Ea(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function D3(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,S7),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function S7(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ba.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wc(e,A7,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wc(e,A7,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wc(t,"/"==t.charAt(0)?T3:iv,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wc(t,JC)),n.join("")};var A7=/[#\/\?@]/g,iv=/[#\?:]/g,T3=/[#\?]/g,sv=/[#\?@]/g,JC=/#/g;function x3(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zc(n){n.g||(n.g=new Map,n.h=0,n.i&&function I7(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function D7(n,e){Zc(n),e=Kc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function T7(n,e){return Zc(n),e=Kc(n,e),n.g.has(e)}function x7(n,e,t){D7(n,e),0<t.length&&(n.i=null,n.g.set(Kc(n,e),ku(t)),n.h+=t.length)}function Kc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Qu(n){this.l=n||av,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=x3.prototype).add=function(n,e){Zc(this),this.i=null,n=Kc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Zc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.oa=function(){Zc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let c=0;c<i.length;c++)t.push(e[r])}return t},gt.W=function(n){Zc(this);let e=[];if("string"==typeof n)T7(this,n)&&(e=e.concat(this.g.get(Kc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return Zc(this),this.i=null,T7(this,n=Kc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=c;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var av=10;function L7(n){return!!n.h||!!n.g&&n.g.size>=n.j}function z7(n){return n.h?1:n.g?n.g.size:0}function vh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function yh(n,e){n.g?n.g.add(e):n.h=e}function k7(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function N3(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ku(n.i)}function to(){}function XC(){this.g=new to}function L3(n,e,t){const r=t||"";try{rv(n,function(i,c){let u=i;d3(i)&&(u=b3(i)),e.push(r+c+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yu(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qc(n){this.l=n.ac||null,this.j=n.jb||!1}function Ju(n,e){Nr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Hi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qu.prototype.cancel=function(){if(this.i=N3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},to.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},to.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},o1(Qc,ch),Qc.prototype.g=function(){return new Ju(this.l,this.j)},Qc.prototype.i=function(n){return function(){return n}}({}),o1(Ju,Nr);var Hi=0;function x6(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ir(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vs(n)}function vs(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=Ju.prototype).open=function(n,e){if(this.readyState!=Hi)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,vs(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ht).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ir(this)),this.readyState=Hi},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x6(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ir(this):vs(this),3==this.readyState&&x6(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,Ir(this))},gt.Ua=function(n){this.g&&(this.response=n,Ir(this))},gt.ga=function(){this.g&&Ir(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Xu=Ht.JSON.parse;function un(n){Nr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=e8,this.K=this.L=!1}o1(un,Nr);var e8="",N6=/^https?$/i,L6=["POST","PUT"];function Yc(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Jc(n),no(n)}function Jc(n){n.D||(n.D=!0,Lr(n,"complete"),Lr(n,"error"))}function Xc(n){if(n.h&&typeof Nu<"u"&&(!n.C[1]||4!=G1(n)||2!=n.aa()))if(n.v&&4==G1(n))I6(n.Ha,0,n);else if(Lr(n,"readystatechange"),4==G1(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(gh)[1]||null;if(!i&&Ht.self&&Ht.self.location){var c=Ht.self.location.protocol;i=c.substr(0,c.length-1)}r=!N6.test(i?i.toLowerCase():"")}t=r}if(t)Lr(n,"complete"),Lr(n,"success");else{n.m=6;try{var u=2<G1(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",Jc(n)}}finally{no(n)}}}function no(n,e){if(n.g){e4(n);const t=n.g,r=n.C[0]?Lu:null;n.g=null,n.C=null,e||Lr(n,"ready");try{t.onreadystatechange=r}catch{}}}function e4(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function G1(n){return n.g?n.g.readyState:0}function _h(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case e8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ch(n){let e="";return h7(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function t8(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Ch(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function k6(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wh(n){this.Ca=0,this.i=[],this.j=new $u,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=k6("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=k6("baseRetryDelayMs",5e3,n),this.bb=k6("retryDelaySeedMs",1e4,n),this.$a=k6("forwardChannelMaxRetries",2,n),this.ta=k6("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Qu(n&&n.concurrentRequestLimit),this.Fa=new XC,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function n8(n){if(bh(n),3==n.G){var e=n.U++,t=n2(n.F);Ln(t,"SID",n.I),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),R6(n,t),(e=new S3(n,n.j,e,void 0)).K=2,e.v=Ea(n2(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(e.v.toString(),"")),!t&&Ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=Eh(e.l,null),e.g.da(e.v)),e.F=Date.now(),qc(e)}i8(n)}function z3(n){n.g&&(P3(n),n.g.cancel(),n.g=null)}function bh(n){z3(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),t4(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function k3(n){L7(n.h)||n.m||(n.m=!0,nh(n.Ja,n),n.C=0)}function R7(n,e){var t;t=e?e.m:n.U++;const r=n2(n.F);Ln(r,"SID",n.I),Ln(r,"RID",t),Ln(r,"AID",n.T),R6(n,r),n.o&&n.s&&t8(r,n.o,n.s),t=new S3(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=P7(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),yh(n.h,t),w7(t,r,e)}function R6(n,e){n.ia&&h7(n.ia,function(t,r){Ln(e,r,t)}),n.l&&rv({},function(t,r){Ln(e,r,t)})}function P7(n,e,t){t=Math.min(n.i.length,t);var r=n.l?v1(n.l.Ra,n.l,n):null;e:{var i=n.i;let c=-1;for(;;){const u=["count="+t];-1==c?0<t?(c=i[0].h,u.push("ofs="+c)):c=0:u.push("ofs="+c);let f=!0;for(let g=0;g<t;g++){let w=i[g].h;const S=i[g].g;if(w-=c,0>w)c=Math.max(0,i[g].h-100),f=!1;else try{L3(S,u,"req"+w+"_")}catch{r&&r(S)}}if(f){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function O7(n){n.g||n.u||(n.Z=1,nh(n.Ia,n),n.A=0)}function R3(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=S6(v1(n.Ia,n),r8(n,n.A)),n.A++,0))}function P3(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function V7(n){n.g=new S3(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=n2(n.sa);Ln(e,"RID","rpc"),Ln(e,"SID",n.I),Ln(e,"CI",n.L?"0":"1"),Ln(e,"AID",n.T),Ln(e,"TYPE","xmlhttp"),R6(n,e),n.o&&n.s&&t8(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ea(n2(e)),t.s=null,t.P=!0,ph(t,n)}function t4(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function O3(n,e){var t=null;if(n.g==e){t4(n),P3(n),n.g=null;var r=2}else{if(!vh(n.h,e))return;t=e.D,k7(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Lr(r=y1(),new Gu(r,t)),k3(n)}else O7(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function lv(n,e){return!(z7(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=S6(v1(n.Ja,n,e),r8(n,n.C)),n.C++,0)))}(n,e)||2==r&&R3(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:n4(n,5);break;case 4:n4(n,10);break;case 3:n4(n,6);break;default:n4(n,2)}}function r8(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function n4(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=v1(n.kb,n);t||(t=new ba("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||T6(t,"https"),Ea(t)),function cv(n,e){const t=new $u;if(Ht.Image){const r=new Image;r.onload=zu(Yu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Yu,t,r,"TestLoadImage: error",!1,e),r.onabort=zu(Yu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Yu,t,r,"TestLoadImage: timeout",!1,e),Ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else D1(2);n.G=0,n.l&&n.l.va(e),i8(n),bh(n)}function i8(n){if(n.G=0,n.la=[],n.l){const e=N3(n.h);(0!=e.length||0!=n.i.length)&&(Z5(n.la,e),Z5(n.la,n.i),n.h.i.length=0,ku(n.i),n.i.length=0),n.l.ua()}}function s8(n,e,t){var r=t instanceof ba?n2(t):new ba(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Vi(r,r.m);else{var i=Ht.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new ba(null,void 0);r&&T6(c,r),e&&(c.g=e),i&&Vi(c,i),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&Ln(r,t,e),Ln(r,"VER",n.ma),R6(n,r),r}function Eh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new un(t&&n.Da&&!n.ra?new Qc({jb:!0}):n.ra)).Ka(n.H),e}function H7(){}function P6(){if(Bc&&!(10<=Number(Y5)))throw Error("Environmental error: no available transport.")}function q1(n,e){Nr.call(this),this.g=new wh(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!b6(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!b6(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new r4(this)}function Mh(n){uh.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function o8(){hh.call(this),this.status=1}function r4(n){this.g=n}(gt=un.prototype).Ka=function(n){this.L=n},gt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wu.g(),this.C=function lh(n){return n.h||(n.h=n.i())}(this.u?this.u:Wu),this.g.onreadystatechange=v1(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void Yc(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),i=Ht.FormData&&n instanceof Ht.FormData,!(0<=s7(L6,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of t)this.g.setRequestHeader(c,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e4(this),0<this.B&&((this.K=function z6(n){return Bc&&function Hu(){return function Pu(n){var e=Vu;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=o7(String(E6)).split("."),t=o7("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",c=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==i[0].length&&0==c[0].length)break;n=a7(0==i[1].length?0:parseInt(i[1],10),0==c[1].length?0:parseInt(c[1],10))||a7(0==i[2].length,0==c[2].length)||a7(i[2],c[2]),i=i[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=v1(this.qa,this)):this.A=I6(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Yc(this,c)}},gt.qa=function(){typeof Nu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Lr(this,"complete"),Lr(this,"abort"),no(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),no(this,!0)),un.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?Xc(this):this.fb())},gt.fb=function(){Xc(this)},gt.aa=function(){try{return 2<G1(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Xu(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=wh.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new S3(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=f7(c),J5(c,this.S)):c=this.S),null!==this.o||this.N||(i.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=P7(this,i,e),Ln(t=n2(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),R6(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Ch(c)))+"&"+e:this.o&&t8(t,this.o,c)),yh(this.h,i),this.Ya&&Ln(t,"TYPE","init"),this.O?(Ln(t,"$req",e),Ln(t,"SID","null"),i.Z=!0,w7(i,t,null)):w7(i,t,e),this.G=2}}else 3==this.G&&(n?R7(this,n):0==this.i.length||L7(this.h)||R7(this))},gt.Ia=function(){if(this.u=null,V7(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=S6(v1(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,D1(10),z3(this),V7(this))},gt.cb=function(){null!=this.v&&(this.v=null,z3(this),R3(this),D1(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),D1(2)):(this.j.info("Failed to ping google.com"),D1(1))},(gt=H7.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},P6.prototype.g=function(n,e){return new q1(n,e)},o1(q1,Nr),q1.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;D1(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=s8(n,null,n.V),k3(n)},q1.prototype.close=function(){n8(this.g)},q1.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=b3(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&k3(e)},q1.prototype.M=function(){this.g.l=null,delete this.j,n8(this.g),delete this.g,q1.X.M.call(this)},o1(Mh,uh),o1(o8,hh),o1(r4,H7),r4.prototype.xa=function(){Lr(this.g,"a")},r4.prototype.wa=function(n){Lr(this.g,new Mh(n))},r4.prototype.va=function(n){Lr(this.g,new o8)},r4.prototype.ua=function(){Lr(this.g,"b")},P6.prototype.createWebChannel=P6.prototype.g,q1.prototype.send=q1.prototype.u,q1.prototype.open=q1.prototype.m,q1.prototype.close=q1.prototype.close,qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,_7.COMPLETE="complete",C7.EventType=A6,A6.OPEN="a",A6.CLOSE="b",A6.ERROR="c",A6.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,un.prototype.listenOnce=un.prototype.O,un.prototype.getLastError=un.prototype.Oa,un.prototype.getLastErrorCode=un.prototype.Ea,un.prototype.getStatus=un.prototype.aa,un.prototype.getResponseJson=un.prototype.Sa,un.prototype.getResponseText=un.prototype.fa,un.prototype.send=un.prototype.da,un.prototype.setWithCredentials=un.prototype.Ka;var uv=va.createWebChannelTransport=function(){return new P6},F7=va.getStatEventTarget=function(){return y1()},a8=va.ErrorCode=qu,U7=va.EventType=_7,B7=va.Event=Ca,j7=va.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$7=va.FetchXmlHttpFactory=Qc,V3=va.WebChannel=C7,G7=va.XhrIo=un;const c8="@firebase/firestore";class zr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let i4="9.15.0";const ro=new ga.Yd("@firebase/firestore");function l8(){return ro.logLevel}function Le(n,...e){if(ro.logLevel<=ga.in.DEBUG){const t=e.map(W7);ro.debug(`Firestore (${i4}): ${n}`,...t)}}function lr(n,...e){if(ro.logLevel<=ga.in.ERROR){const t=e.map(W7);ro.error(`Firestore (${i4}): ${n}`,...t)}}function Ma(n,...e){if(ro.logLevel<=ga.in.WARN){const t=e.map(W7);ro.warn(`Firestore (${i4}): ${n}`,...t)}}function W7(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${i4}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function ft(n,e){n||it()}function We(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends _n.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class K7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zr.UNAUTHENTICATED))}shutdown(){}}class hv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Y7{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new kr,e.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,_e.Z)(function*(){yield w.promise,yield c(r.currentUser)}))},g=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>g(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?g(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new kr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new K7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new zr(e)}}class J7{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class O6{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new J7(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fv{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.A;return this.A=c.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?i(c):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),this.A=t.token,new X7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pv(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ih{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pv(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+=e.charAt(i[c]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function s4(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Sh(n){return n+"\0"}class hn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new hn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new hn(0,0))}static max(){return new wt(new hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class H3{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===H3.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof H3?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),u=t.get(i);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jt extends H3{construct(e,t,r){return new jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new jt(t)}static emptyPath(){return new jt([])}}const ys=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends H3{construct(e,t,r){return new mn(e,t,r)}static isValidIdentifier(e){return ys.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(c(),i++)}if(c(),u)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(jt.fromString(e))}static fromName(e){return new qe(jt.fromString(e).popFirst(5))}static empty(){return new qe(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new jt(e.slice()))}}class F3{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Ah(n){return n.fields.find(e=>2===e.kind)}function o4(n){return n.fields.filter(e=>2!==e.kind)}F3.UNKNOWN_ID=-1;class u8{constructor(e,t){this.fieldPath=e,this.kind=t}}class io{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new io(0,li.min())}}function e9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(1e9===r?new hn(t+1,0):new hn(t,r));return new li(i,qe.empty(),e)}function Th(n){return new li(n.readTime,n.key,-1)}class li{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new li(wt.min(),qe.empty(),-1)}static max(){return new li(wt.max(),qe.empty(),-1)}}function h8(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const xh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ia(n){return f8.apply(this,arguments)}function f8(){return f8=(0,_e.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==xh)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),f8.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,c=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++c,u&&c===i&&t()},g=>r(g))}),u=!0,c===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const c=e.length,u=new Array(c);let f=0;for(let g=0;g<c;g++){const w=g;t(e[w]).next(S=>{u[w]=S,++f,f===c&&r(u)},S=>i(S))}})}static doWhile(e,t){return new ce((r,i)=>{const c=()=>{!0===e()?t().next(()=>{c()},i):r()};c()})}}class B3{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new kr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new V6(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=d8(r.target.error);this.P.reject(new V6(e,i))}}static open(e,t,r,i){try{return new B3(t,e.transaction(i,r))}catch(c){throw new V6(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new t9(t)}}class ui{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===ui.D((0,_n.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Sa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_n.hl)())return!1;if(ui.N())return!0;const e=(0,_n.z$)(),t=ui.D(e),r=0<t&&t<10,i=ui.k(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{i(new V6(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new xe(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new xe(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new V6(e,f))},c.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,c.transaction,u.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,_e.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{c.db=yield c.F(e);const g=B3.open(c.db,e,u?"readonly":"readwrite",r),w=i(g).next(S=>(g.V(),S)).catch(S=>(g.abort(S),ce.reject(S))).toPromise();return w.catch(()=>{}),yield g.v,w}catch(g){const w=g,S="FirebaseError"!==w.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),c.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Nh{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Sa(this.q.delete())}}class V6 extends xe{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function so(n){return"IndexedDbTransactionError"===n.name}class t9{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Sa(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Sa(this.store.add(e))}get(e){return Sa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Sa(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Sa(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.H(i,(u,f)=>{c.push(f)}).next(()=>c)}{const i=this.store.getAll(r.range);return new ce((c,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{c(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(c,u,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=c=>{const u=d8(c.target.error);i(u)},t.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}H(e,t){const r=[];return new ce((i,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const g=new Nh(f),w=t(f.primaryKey,f.value,g);if(w instanceof ce){const S=w.catch(T=>(g.done(),ce.reject(T)));r.push(S)}g.isDone?i():null===g.G?f.continue():f.continue(g.G)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sa(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=d8(r.target.error);t(i)}})}let Lh=!1;function d8(n){const e=ui.D((0,_n.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lh||(Lh=!0,setTimeout(()=>{throw r},0)),r}}return n}class n9{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){so(r)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ia(r)}yield t.nt(6e4)}))}}class gv{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,c=!0;return ce.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Le("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(f=>{i-=f,r.add(u)});c=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,c)).next(f=>(Le("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,c)=>{const u=Th(c);h8(u,r)>0&&(r=u)}),new li(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let hi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class vv{constructor(e,t,r,i,c,u,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class Aa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Aa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}function r9(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function a4(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function i9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function j3(n){return null==n}function $3(n){return 0===n&&1/n==-1/0}function s9(n){return"number"==typeof n&&Number.isInteger(n)&&!$3(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const _v=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(n){if(ft(!!n),"string"==typeof n){let e=0;const t=_v.exec(n);if(ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ur(n.seconds),nanos:ur(n.nanos)}}function ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function c4(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function zh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function o9(n){const e=n.mapValue.fields.__previous_value__;return zh(e)?o9(e):e}function H6(n){const e=Da(n.mapValue.fields.__local_write_time__.timestampValue);return new hn(e.seconds,e.nanos)}const oo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},G3={nullValue:"NULL_VALUE"};function Ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zh(n)?4:Cv(n)?9007199254740991:10:it()}function _s(n,e){if(n===e)return!0;const t=Ta(n);if(t!==Ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return H6(n).isEqual(H6(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=Da(r.timestampValue),u=Da(i.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,c4(n.bytesValue).isEqual(c4(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ur(r.geoPointValue.latitude)===ur(i.geoPointValue.latitude)&&ur(r.geoPointValue.longitude)===ur(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ur(r.integerValue)===ur(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=ur(r.doubleValue),u=ur(i.doubleValue);return c===u?$3(c)===$3(u):isNaN(c)&&isNaN(u)}return!1}(n,e);case 9:return s4(n.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:return function(r,i){const c=r.mapValue.fields||{},u=i.mapValue.fields||{};if(r9(c)!==r9(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(void 0===u[f]||!_s(c[f],u[f])))return!1;return!0}(n,e);default:return it()}var i}function F6(n,e){return void 0!==(n.values||[]).find(t=>_s(t,e))}function ao(n,e){if(n===e)return 0;const t=Ta(n),r=Ta(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,c){const u=ur(i.integerValue||i.doubleValue),f=ur(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return kh(n.timestampValue,e.timestampValue);case 4:return kh(H6(n),H6(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,c){const u=c4(i),f=c4(c);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,c){const u=i.split("/"),f=c.split("/");for(let g=0;g<u.length&&g<f.length;g++){const w=Ft(u[g],f[g]);if(0!==w)return w}return Ft(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,c){const u=Ft(ur(i.latitude),ur(c.latitude));return 0!==u?u:Ft(ur(i.longitude),ur(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,c){const u=i.values||[],f=c.values||[];for(let g=0;g<u.length&&g<f.length;++g){const w=ao(u[g],f[g]);if(w)return w}return Ft(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===oo.mapValue&&c===oo.mapValue)return 0;if(i===oo.mapValue)return 1;if(c===oo.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),g=c.fields||{},w=Object.keys(g);f.sort(),w.sort();for(let S=0;S<f.length&&S<w.length;++S){const T=Ft(f[S],w[S]);if(0!==T)return T;const R=ao(u[f[S]],g[w[S]]);if(0!==R)return R}return Ft(f.length,w.length)}(n.mapValue,e.mapValue);default:throw it()}}function kh(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=Da(n),r=Da(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function l4(n){return q3(n)}function q3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Da(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?c4(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const u of r.values||[])c?c=!1:i+=",",i+=q3(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const f of i)u?u=!1:c+=",",c+=`${f}:${q3(r.fields[f])}`;return c+"}"}(n.mapValue):it();var e}function xa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function co(n){return!!n&&"integerValue"in n}function W3(n){return!!n&&"arrayValue"in n}function a9(n){return!!n&&"nullValue"in n}function u4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rh(n){return!!n&&"mapValue"in n}function h4(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return a4(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=h4(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=h4(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function c9(n){return"nullValue"in n?G3:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xa(Aa.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function l9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xa(Aa.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?oo:it()}function wv(n,e){const t=ao(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function St(n,e){const t=ao(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Na{constructor(e,t){this.position=e,this.inclusive=t}}function u9(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],u=n.position[i];if(r=c.field.isKeyField()?qe.comparator(qe.fromName(u.referenceValue),t.key):ao(u,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function h9(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_s(n.position[t],e.position[t]))return!1;return!0}class f4{}class Xt extends f4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new d9(e,t,r):"array-contains"===t?new Mv(e,r):"in"===t?new U6(e,r):"not-in"===t?new Iv(e,r):"array-contains-any"===t?new Sv(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new p9(e,r):new Ev(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ao(t,this.value)):null!==t&&Ta(this.value)===Ta(t)&&this.matchesComparison(ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gn extends f4{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new gn(e,t)}matches(e){return lo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function lo(n){return"and"===n.op}function jn(n){return"or"===n.op}function bv(n){return Ph(n)&&lo(n)}function Ph(n){for(const e of n.filters)if(e instanceof gn)return!1;return!0}function Oh(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+l4(n.value);{const e=n.filters.map(t=>Oh(t)).join(",");return`${n.op}(${e})`}}function f9(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&_s(t.value,r.value)):n instanceof gn?function(t,r){return r instanceof gn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,c,u)=>i&&f9(c,r.filters[u]),!0)}(n,e):void it();var t,r}function Vh(n,e){const t=n.filters.concat(e);return gn.create(t,n.op)}function Hh(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${l4(e.value)}`:n instanceof gn?function(e){return e.op.toString()+" {"+e.getFilters().map(Hh).join(" ,")+"}"}(n):"Filter";var e}class d9 extends Xt{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class p9 extends Xt{constructor(e,t){super(e,"in",t),this.keys=m9(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ev extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=m9(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m9(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class Mv extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return W3(t)&&F6(t.arrayValue,this.value)}}class U6 extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&F6(this.value.arrayValue,t)}}class Iv extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(F6(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!F6(this.value.arrayValue,t)}}class Sv extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!W3(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>F6(this.value.arrayValue,r))}}class B6{constructor(e,t="asc"){this.field=e,this.dir=t}}function p8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xn{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new Xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Z3(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Z3(this.root,e,this.comparator,!1)}getReverseIterator(){return new Z3(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Z3(this.root,e,this.comparator,!0)}}class Z3{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=r??Wr.RED,this.left=i??Wr.EMPTY,this.right=c??Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new Wr(e??this.key,t??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new j6(this.data.getIterator())}getIteratorFrom(e){return new j6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tn(this.comparator);return t.data=e,t}}class j6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function r2(n){return n.hasNext()?n.getNext():void 0}class fi{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new fi([])}unionWith(e){let t=new Tn(mn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return s4(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class a1{constructor(e){this.value=e}static empty(){return new a1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=h4(t)}setAll(e){let t=mn.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=h4(u):i.push(f.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){a4(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new a1(h4(this.value))}}function g9(n){const e=[];return a4(n.fields,(t,r)=>{const i=new mn([t]);if(Rh(r)){const c=g9(r.mapValue).fields;if(0===c.length)e.push(i);else for(const u of c)e.push(i.child(u))}else e.push(i)}),new fi(e)}class kn{constructor(e,t,r,i,c,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=c,this.data=u,this.documentState=f}static newInvalidDocument(e){return new kn(e,0,wt.min(),wt.min(),wt.min(),a1.empty(),0)}static newFoundDocument(e,t,r,i){return new kn(e,1,t,wt.min(),r,i,0)}static newNoDocument(e,t){return new kn(e,2,t,wt.min(),wt.min(),a1.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,wt.min(),wt.min(),a1.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=a1.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=a1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class v9{constructor(e,t=null,r=[],i=[],c=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=u,this.endAt=f,this.ft=null}}function m8(n,e=null,t=[],r=[],i=null,c=null,u=null){return new v9(n,e,t,r,i,c,u)}function d4(n){const e=We(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Oh(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),j3(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>l4(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>l4(r)).join(",")),e.ft=t}return e.ft}function $6(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!p8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!f9(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!h9(n.startAt,e.startAt)&&h9(n.endAt,e.endAt)}function g8(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function v8(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function Av(n,e,t){let r=G3,i=!0;for(const c of v8(n,e)){let u=G3,f=!0;switch(c.op){case"<":case"<=":u=c9(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,f=!1;break;case"!=":case"not-in":u=G3}wv({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];wv({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function Dv(n,e,t){let r=oo,i=!0;for(const c of v8(n,e)){let u=oo,f=!0;switch(c.op){case">=":case">":u=l9(c.value),f=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,f=!1;break;case"!=":case"not-in":u=oo}St({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];St({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class La{constructor(e,t=null,r=[],i=[],c=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=u,this.startAt=f,this.endAt=g,this.dt=null,this._t=null}}function Tv(n,e,t,r,i,c,u,f){return new La(n,e,t,r,i,c,u,f)}function p4(n){return new La(n)}function K3(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fh(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function y8(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _8(n){return null!==n.collectionGroup}function Cs(n){const e=We(n);if(null===e.dt){e.dt=[];const t=y8(e),r=Fh(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new B6(t)),e.dt.push(new B6(mn.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new B6(mn.keyField(),c))}}}return e.dt}function T1(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=m8(e.path,e.collectionGroup,Cs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Cs(e))t.push(new B6(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new Na(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Na(e.startAt.position,e.startAt.inclusive):null;e._t=m8(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Uh(n,e){e.getFirstInequalityField(),y8(n);const t=n.filters.concat([e]);return new La(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function C8(n,e,t){return new La(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Q3(n,e){return $6(T1(n),T1(e))&&n.limitType===e.limitType}function y9(n){return`${d4(T1(n))}|lt:${n.limitType}`}function w8(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Hh(r)).join(", ")}]`),j3(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>l4(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>l4(r)).join(",")),`Target(${t})`}(T1(n))}; limitType=${n.limitType})`}function Bh(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Cs(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,c,u){const f=u9(i,c,u);return i.inclusive?f<=0:f<0}(t.startAt,Cs(t),r)||t.endAt&&!function(i,c,u){const f=u9(i,c,u);return i.inclusive?f>=0:f>0}(t.endAt,Cs(t),r)));var t,r}function _9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G6(n){return(e,t)=>{let r=!1;for(const i of Cs(n)){const c=xv(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function xv(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(i,c,u){const f=c.data.field(i),g=u.data.field(i);return null!==f&&null!==g?ao(f,g):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function jh(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$3(e)?"-0":e}}function C9(n){return{integerValue:""+n}}function $h(n,e){return s9(e)?C9(e):jh(n,e)}class b8{constructor(){this._=void 0}}function w9(n,e,t){return n instanceof q6?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(c.fields.__previous_value__=i),{mapValue:c}}(t,e):n instanceof za?Gh(n,e):n instanceof m4?b9(n,e):function(r,i){const c=E8(r,i),u=M8(c)+M8(r.gt);return co(c)&&co(r.gt)?C9(u):jh(r.yt,u)}(n,e)}function Nv(n,e,t){return n instanceof za?Gh(n,e):n instanceof m4?b9(n,e):t}function E8(n,e){return n instanceof W6?co(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class q6 extends b8{}class za extends b8{constructor(e){super(),this.elements=e}}function Gh(n,e){const t=E9(e);for(const r of n.elements)t.some(i=>_s(i,r))||t.push(r);return{arrayValue:{values:t}}}class m4 extends b8{constructor(e){super(),this.elements=e}}function b9(n,e){let t=E9(e);for(const r of n.elements)t=t.filter(i=>!_s(i,r));return{arrayValue:{values:t}}}class W6 extends b8{constructor(e,t){super(),this.yt=e,this.gt=t}}function M8(n){return ur(n.integerValue||n.doubleValue)}function E9(n){return W3(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Z6{constructor(e,t){this.field=e,this.transform=t}}class zv{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function I8(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class S8{}function M9(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Q6(n.key,$n.none()):new K6(n.key,n.data,$n.none());{const t=n.data,r=a1.empty();let i=new Tn(mn.comparator);for(let c of e.fields)if(!i.has(c)){let u=t.field(c);null===u&&c.length>1&&(c=c.popLast(),u=t.field(c)),null===u?r.delete(c):r.set(c,u),i=i.add(c)}return new uo(n.key,r,new fi(i.toArray()),$n.none())}}function kv(n,e,t){n instanceof K6?function(r,i,c){const u=r.value.clone(),f=S9(r.fieldTransforms,i,c.transformResults);u.setAll(f),i.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,e,t):n instanceof uo?function(r,i,c){if(!I8(r.precondition,i))return void i.convertToUnknownDocument(c.version);const u=S9(r.fieldTransforms,i,c.transformResults),f=i.data;f.setAll(Wh(r)),f.setAll(u),i.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Y3(n,e,t,r){return n instanceof K6?function(i,c,u,f){if(!I8(i.precondition,c))return u;const g=i.value.clone(),w=A9(i.fieldTransforms,f,c);return g.setAll(w),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof uo?function(i,c,u,f){if(!I8(i.precondition,c))return u;const g=A9(i.fieldTransforms,f,c),w=c.data;return w.setAll(Wh(i)),w.setAll(g),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(u=t,I8(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function I9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=E8(r.transform,i||null);null!=c&&(null===t&&(t=a1.empty()),t.set(r.field,c))}return t||null}function qh(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&s4(t,r,(i,c)=>function Lv(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof za&&r instanceof za||t instanceof m4&&r instanceof m4?s4(t.elements,r.elements,_s):t instanceof W6&&r instanceof W6?_s(t.gt,r.gt):t instanceof q6&&r instanceof q6);var t,r}(i,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class K6 extends S8{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends S8{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Wh(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function S9(n,e,t){const r=new Map;ft(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],u=c.transform,f=e.data.field(c.field);r.set(c.field,Nv(u,f,t[i]))}return r}function A9(n,e,t){const r=new Map;for(const i of n){const c=i.transform,u=t.data.field(i.field);r.set(i.field,w9(c,u,e))}return r}class Q6 extends S8{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J3 extends S8{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zh{constructor(e){this.count=e}}var vr,en;function D9(n){switch(n){default:return it();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function T9(n){if(void 0===n)return lr("GRPC error has no .code"),re.UNKNOWN;switch(n){case vr.OK:return re.OK;case vr.CANCELLED:return re.CANCELLED;case vr.UNKNOWN:return re.UNKNOWN;case vr.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case vr.INTERNAL:return re.INTERNAL;case vr.UNAVAILABLE:return re.UNAVAILABLE;case vr.UNAUTHENTICATED:return re.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case vr.NOT_FOUND:return re.NOT_FOUND;case vr.ALREADY_EXISTS:return re.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return re.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case vr.ABORTED:return re.ABORTED;case vr.OUT_OF_RANGE:return re.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return re.UNIMPLEMENTED;case vr.DATA_LOSS:return re.DATA_LOSS;default:return it()}}(en=vr||(vr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class s2{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){a4(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return i9(this.inner)}size(){return this.innerSize}}const Rv=new Xn(qe.comparator);function W1(){return Rv}const g4=new Xn(qe.comparator);function Y6(...n){let e=g4;for(const t of n)e=e.insert(t.key,t);return e}function x9(n){let e=g4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ho(){return v4()}function Kh(){return v4()}function v4(){return new s2(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pv=new Xn(qe.comparator),Qh=new Tn(qe.comparator);function Gt(...n){let e=Qh;for(const t of n)e=e.add(t);return e}const N9=new Tn(Ft);function J6(){return N9}class X6{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,e0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new X6(wt.min(),i,J6(),W1(),Gt())}}class e0{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new e0(r,t,Gt(),Gt(),Gt())}}class X3{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class Yh{constructor(e,t){this.targetId=e,this.Et=t}}class L9{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class z9{constructor(){this.At=0,this.Rt=Jh(),this.bt=Rr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Gt(),t=Gt(),r=Gt();return this.Rt.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new e0(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=Jh()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ov{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=W1(),this.qt=k9(),this.Ut=new Tn(Ft)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const c=i.target;if(g8(c))if(0===r){const u=new qe(c.path);this.Qt(t,u,kn.newNoDocument(u,wt.min()))}else ft(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((c,u)=>{const f=this.Yt(u);if(f){if(c.current&&g8(f.target)){const g=new qe(f.target.path);null!==this.Lt.get(g)||this.te(u,g)||this.Qt(u,g,kn.newNoDocument(g,e))}c.St&&(t.set(u,c.Ct()),c.xt())}});let r=Gt();this.qt.forEach((c,u)=>{let f=!0;u.forEachWhile(g=>{const w=this.Yt(g);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(c))}),this.Lt.forEach((c,u)=>u.setReadTime(e));const i=new X6(e,t,this.Ut,this.Lt,r);return this.Lt=W1(),this.qt=k9(),this.Ut=new Tn(Ft),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new z9,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Tn(Ft),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new z9),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function k9(){return new Xn(qe.comparator)}function Jh(){return new Xn(qe.comparator)}const ew={asc:"ASCENDING",desc:"DESCENDING"},R9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vv={and:"AND",or:"OR"};class Hv{constructor(e,t){this.databaseId=e,this.wt=t}}function el(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fv(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Uv(n,e){return el(n,e.toTimestamp())}function yr(n){return ft(!!n),wt.fromTimestamp(function(e){const t=Da(e);return new hn(t.seconds,t.nanos)}(n))}function Xh(n,e){return(t=n,new jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function P9(n){const e=jt.fromString(n);return ft(ws(e)),e}function tl(n,e){return Xh(n.databaseId,e.path)}function o2(n,e){const t=P9(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(V9(t))}function ef(n,e){return Xh(n.databaseId,e)}function O9(n){const e=P9(n);return 4===e.length?jt.emptyPath():V9(e)}function nl(n){return new jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function V9(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function H9(n,e,t){return{name:tl(n,e),fields:t.value.mapValue.fields}}function F9(n,e,t){const r=o2(n,e.name),i=yr(e.updateTime),c=e.createTime?yr(e.createTime):wt.min(),u=new a1({mapValue:{fields:e.fields}}),f=kn.newFoundDocument(r,i,c,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function t0(n,e){let t;if(e instanceof K6)t={update:H9(n,e.key,e.value)};else if(e instanceof Q6)t={delete:tl(n,e.key)};else if(e instanceof uo)t={update:H9(n,e.key,e.data),updateMask:rf(e.fieldMask)};else{if(!(e instanceof J3))return it();t={verify:tl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const u=c.transform;if(u instanceof q6)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof za)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof m4)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof W6)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Uv(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function A8(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?$n.updateTime(yr(i.updateTime)):void 0!==i.exists?$n.exists(i.exists):$n.none():$n.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,u){let f=null;"setToServerValue"in u?(ft("REQUEST_TIME"===u.setToServerValue),f=new q6):"appendMissingElements"in u?f=new za(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new m4(u.removeAllFromArray.values||[]):"increment"in u?f=new W6(c,u.increment):it();const g=mn.fromServerFormat(u.fieldPath);return new Z6(g,f)}(n,i)):[];var i;if(e.update){const i=o2(n,e.update.name),c=new a1({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new fi((e.updateMask.fieldPaths||[]).map(w=>mn.fromServerFormat(w)));return new uo(i,c,u,t,r)}return new K6(i,c,t,r)}if(e.delete){const i=o2(n,e.delete);return new Q6(i,t)}if(e.verify){const i=o2(n,e.verify);return new J3(i,t)}return it()}function tf(n,e){return{documents:[ef(n,e.path)]}}function nf(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ef(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ef(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return G9(gn.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const c=function(g){if(0!==g.length)return g.map(w=>{return{field:n0((S=w).field),direction:Bv(S.dir)};var S})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=(w=e.limit,n.wt||j3(w)?w:{value:w});var w,f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function j9(n){let e=O9(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let c=[];t.where&&(c=function(S){const T=$9(S);return T instanceof gn&&bv(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(S=>{return new B6(a2((T=S).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;t.limit&&(f=function(S){let T;return T="object"==typeof S?S.value:S,j3(T)?null:T}(t.limit));let g=null;var S;t.startAt&&(g=new Na((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new Na(S.values||[],!S.before)}(t.endAt)),Tv(e,i,u,c,f,"F",g,w)}function $9(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=a2(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=a2(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=a2(e.unaryFilter.field);return Xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=a2(e.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(n):void 0!==n.fieldFilter?Xt.create(a2((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return gn.create(e.compositeFilter.filters.map(t=>$9(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return it()}}(e.compositeFilter.op))}(n):it();var e}function Bv(n){return ew[n]}function jv(n){return R9[n]}function $v(n){return Vv[n]}function n0(n){return{fieldPath:n.canonicalString()}}function a2(n){return mn.fromServerFormat(n.fieldPath)}function G9(n){return n instanceof Xt?function(e){if("=="===e.op){if(u4(e.value))return{unaryFilter:{field:n0(e.field),op:"IS_NAN"}};if(a9(e.value))return{unaryFilter:{field:n0(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(u4(e.value))return{unaryFilter:{field:n0(e.field),op:"IS_NOT_NAN"}};if(a9(e.value))return{unaryFilter:{field:n0(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:n0(e.field),op:jv(e.op),value:e.value}}}(n):n instanceof gn?function(e){const t=e.getFilters().map(r=>G9(r));return 1===t.length?t[0]:{compositeFilter:{op:$v(e.op),filters:t}}}(n):it()}function rf(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ws(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function x1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=r0(e)),e=sf(n.get(t),e);return r0(e)}function sf(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function r0(n){return n+"\x01\x01"}function c2(n){const e=n.length;if(ft(e>=2),2===e)return ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),jt.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const u=n.indexOf("\x01",c);switch((u<0||u>t)&&it(),n.charAt(u+1)){case"\x01":const f=n.substring(c,u);let g;0===i.length?g=f:(i+=f,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(c,u),i+="\0";break;case"\x11":i+=n.substring(c,u+1);break;default:it()}c=u+2}return new jt(r)}const q9=["userId","batchId"];function D8(n,e){return[n,x1(e)]}function il(n,e,t){return[n,x1(e),t]}const T8={},Gv=["prefixPath","collectionGroup","readTime","documentId"],qv=["prefixPath","collectionGroup","documentId"],W9=["collectionGroup","readTime","prefixPath","documentId"],Z9=["canonicalId","targetId"],af=["targetId","path"],K9=["path","targetId"],Wv=["collectionId","parent"],Zv=["indexId","uid"],nw=["uid","sequenceNumber"],cf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lf=["indexId","uid","orderedDocumentKey"],Q9=["userId","collectionPath","documentId"],uf=["userId","collectionPath","largestBatchId"],hf=["userId","collectionGroup","largestBatchId"],Y9=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kv=[...Y9,"documentOverlays"],J9=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],X9=J9,ep=[...X9,"indexConfiguration","indexState","indexEntries"];class sl extends U3{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Pr(n,e){const t=We(n);return ui.M(t.se,e)}class ff{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&kv(c,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Y3(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Y3(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Kh();return this.mutations.forEach(i=>{const c=e.get(i.key),u=c.overlayedDocument;let f=this.applyToLocalView(u,c.mutatedFields);f=t.has(i.key)?null:f;const g=M9(u,f);null!==g&&r.set(i.key,g),u.isValidDocument()||u.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&s4(this.mutations,e.mutations,(t,r)=>qh(t,r))&&s4(this.baseMutations,e.baseMutations,(t,r)=>qh(t,r))}}class x8{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ft(e.mutations.length===r.length);let i=Pv;const c=e.mutations;for(let u=0;u<c.length;u++)i=i.insert(c[u].key,r[u].version);return new x8(e,t,r,i)}}class N8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ka{constructor(e,t,r,i,c=wt.min(),u=wt.min(),f=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class df{constructor(e){this.ie=e}}function np(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ol(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:tl(i=n.ie,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:el(i,c.version.toTimestamp()),createTime:el(i,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:y4(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:y4(e.version)}}var i,c;return r}function ol(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function y4(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _r(n){const e=new hn(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function Fi(n,e){const t=(e.baseMutations||[]).map(c=>A8(n.ie,c));for(let c=0;c<e.mutations.length-1;++c){const u=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(u.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>A8(n.ie,c)),i=hn.fromMillis(e.localWriteTimeMs);return new ff(e.batchId,i,t,r)}function al(n){const e=_r(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_r(n.lastLimboFreeSnapshotVersion):wt.min();let r;var i;return void 0!==n.query.documents?(ft(1===(i=n.query).documents.length),r=T1(p4(O9(i.documents[0])))):r=T1(j9(n.query)),new ka(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function rp(n,e){const t=y4(e.snapshotVersion),r=y4(e.lastLimboFreeSnapshotVersion);let i;i=g8(e.target)?tf(n.ie,e.target):nf(n.ie,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:d4(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ip(n){const e=j9({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?C8(e,e.limit,"L"):e}function sp(n,e){return new N8(e.largestBatchId,A8(n.ie,e.overlayMutation))}function pf(n,e){const t=e.path.lastSegment();return[n,x1(e.path.popLast()),t]}function mf(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:y4(r.readTime),documentKey:x1(r.documentKey.path),largestBatchId:r.largestBatchId}}class cl{getBundleMetadata(e,t){return op(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:_r(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return op(e).put({bundleId:(r=t).id,createTime:y4(yr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return L8(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ip(i.bundledQuery),readTime:_r(i.readTime)};var i})}saveNamedQuery(e,t){return L8(e).put({name:(r=t).name,readTime:y4(yr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function op(n){return Pr(n,"bundles")}function L8(n){return Pr(n,"namedQueries")}class z8{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new z8(e,t.uid||"")}getOverlay(e,t){return s0(e).get(pf(this.userId,t)).next(r=>r?sp(this.yt,r):null)}getOverlays(e,t){const r=ho();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((c,u)=>{const f=new N8(t,u);i.push(this.oe(e,f))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(x1(u.getCollectionPath())));const c=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(s0(e).Y("collectionPathOverlayIndex",f))}),ce.waitFor(c)}getOverlaysForCollection(e,t,r){const i=ho(),c=x1(t),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return s0(e).W("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const w=sp(this.yt,g);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=ho();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return s0(e).Z({index:"collectionGroupOverlayIndex",range:f},(g,w,S)=>{const T=sp(this.yt,w);c.size()<i||T.largestBatchId===u?(c.set(T.getKey(),T),u=T.largestBatchId):S.done()}).next(()=>c)}oe(e,t){return s0(e).put(function(r,i,c){const[u,f,g]=pf(i,c.mutation.key);return{userId:i,collectionPath:f,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:t0(r.ie,c.mutation)}}(this.yt,this.userId,t))}}function s0(n){return Pr(n,"documentOverlays")}class _4{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ur(e.integerValue));else if("doubleValue"in e){const r=ur(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),$3(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(c4(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?Cv(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):it()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),qe.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Qv(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function ap(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const c=Qv(255&t[i]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}_4.Ie=new _4;class gf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=ap(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=ap(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class cp{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class lp{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Ra{constructor(){this.$e=new gf,this.Be=new cp(this.$e),this.Le=new lp(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class fo{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fo(this.indexId,this.documentKey,this.arrayValue,r)}}function C4(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vf(n.arrayValue,e.arrayValue),0!==t?t:(t=vf(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function vf(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Yv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){ft(e.collectionGroup===this.collectionId);const t=Ah(e);if(void 0!==t&&!this.We(t))return!1;const r=o4(e);let i=0,c=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const u=r[i];if(!this.ze(this.Qe,u)||!this.He(this.Ke[c++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(c>=this.Ke.length||!this.He(this.Ke[c++],u))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function yf(n){var e,t;if(ft(n instanceof Xt||n instanceof gn),n instanceof Xt){if(n instanceof U6){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Xt.create(n.field,"==",c)))||[];return gn.create(i,"or")}return n}const r=n.filters.map(i=>yf(i));return gn.create(r,n.op)}function o0(n){if(0===n.getFilters().length)return[];const e=up(yf(n));return ft(R8(e)),_f(e)||k8(e)?[e]:e.getFilters()}function _f(n){return n instanceof Xt}function k8(n){return n instanceof gn&&bv(n)}function R8(n){return _f(n)||k8(n)||function(e){if(e instanceof gn&&jn(e)){for(const t of e.getFilters())if(!_f(t)&&!k8(t))return!1;return!0}return!1}(n)}function up(n){if(ft(n instanceof Xt||n instanceof gn),n instanceof Xt)return n;if(1===n.filters.length)return up(n.filters[0]);const e=n.filters.map(r=>up(r));let t=gn.create(e,n.op);return t=P8(t),R8(t)?t:(ft(t instanceof gn),ft(lo(t)),ft(t.filters.length>1),t.filters.reduce((r,i)=>Cf(r,i)))}function Cf(n,e){let t;return ft(n instanceof Xt||n instanceof gn),ft(e instanceof Xt||e instanceof gn),t=n instanceof Xt?e instanceof Xt?gn.create([n,e],"and"):Jv(n,e):e instanceof Xt?Jv(e,n):function(r,i){if(ft(r.filters.length>0&&i.filters.length>0),lo(r)&&lo(i))return Vh(r,i.getFilters());const c=jn(r)?r:i,u=jn(r)?i:r,f=c.filters.map(g=>Cf(g,u));return gn.create(f,"or")}(n,e),P8(t)}function Jv(n,e){if(lo(e))return Vh(e,n.getFilters());{const t=e.filters.map(r=>Cf(n,r));return gn.create(t,"or")}}function P8(n){if(ft(n instanceof Xt||n instanceof gn),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return P8(e[0]);if(Ph(n))return n;const t=e.map(i=>P8(i)),r=[];return t.forEach(i=>{i instanceof Xt?r.push(i):i instanceof gn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:gn.create(r,n.op)}class Xv{constructor(){this.Je=new wf}addToCollectionParentIndex(e,t){return this.Je.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(li.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class wf{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Tn(jt.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(jt.comparator)).toArray()}}const ll=new Uint8Array(0);class hp{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new wf,this.Xe=new s2(r=>d4(r),(r,i)=>$6(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const c={collectionId:r,parent:x1(i)};return fp(e).put(c)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Sh(t),""],!1,!0);return fp(e).W(i).next(c=>{for(const u of c){if(u.collectionId!==t)break;r.push(c2(u.parent))}return r})}addFieldIndex(e,t){const r=ul(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const c=r.add(i);if(t.indexState){const u=hl(e);return c.next(f=>{u.put(mf(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=ul(e),i=hl(e),c=a0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=a0(e);let i=!0;const c=new Map;return ce.forEach(this.Ze(t),u=>this.tn(e,u).next(f=>{i&&(i=!!f),c.set(u,f)})).next(()=>{if(i){let u=Gt();const f=[];return ce.forEach(c,(g,w)=>{var S;Le("IndexedDbIndexManager",`Using index ${S=g,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(nt=>`${nt.fieldPath}:${nt.kind}`).join(",")}`} to execute ${d4(t)}`);const T=function(nt,Ye){const bt=Ah(Ye);if(void 0===bt)return null;for(const _t of v8(nt,bt.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(w,g),R=function(nt,Ye){const bt=new Map;for(const _t of o4(Ye))for(const tn of v8(nt,_t.fieldPath))switch(tn.op){case"==":case"in":bt.set(_t.fieldPath.canonicalString(),tn.value);break;case"not-in":case"!=":return bt.set(_t.fieldPath.canonicalString(),tn.value),Array.from(bt.values())}return null}(w,g),H=function(nt,Ye){const bt=[];let _t=!0;for(const tn of o4(Ye)){const k1=0===tn.kind?Av(nt,tn.fieldPath,nt.startAt):Dv(nt,tn.fieldPath,nt.startAt);bt.push(k1.value),_t&&(_t=k1.inclusive)}return new Na(bt,_t)}(w,g),$=function(nt,Ye){const bt=[];let _t=!0;for(const tn of o4(Ye)){const k1=0===tn.kind?Dv(nt,tn.fieldPath,nt.endAt):Av(nt,tn.fieldPath,nt.endAt);bt.push(k1.value),_t&&(_t=k1.inclusive)}return new Na(bt,_t)}(w,g),ne=this.en(g,w,H),me=this.en(g,w,$),ze=this.nn(g,w,R),Ke=this.sn(g.indexId,T,ne,H.inclusive,me,$.inclusive,ze);return ce.forEach(Ke,nt=>r.J(nt,t.limit).next(Ye=>{Ye.forEach(bt=>{const _t=qe.fromSegments(bt.documentKey);u.has(_t)||(u=u.add(_t),f.push(_t))})}))}).next(()=>f)}return ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:o0(gn.create(e.filters,"and")).map(r=>m8(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,c,u,f){const g=(null!=t?t.length:1)*Math.max(r.length,c.length),w=g/(null!=t?t.length:1),S=[];for(let T=0;T<g;++T){const R=t?this.rn(t[T/w]):ll,H=this.on(e,R,r[T%w],i),$=this.un(e,R,c[T%w],u),ne=f.map(me=>this.on(e,R,me,!0));S.push(...this.createRange(H,$,ne))}return S}on(e,t,r,i){const c=new fo(e,qe.empty(),t,r);return i?c:c.Ue()}un(e,t,r,i){const c=new fo(e,qe.empty(),t,r);return i?c.Ue():c}tn(e,t){const r=new Yv(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let u=null;for(const f of c)r.je(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ce.forEach(i,c=>this.tn(e,c).next(u=>{u?0!==r&&u.fields.length<function(f){let g=new Tn(mn.comparator),w=!1;for(const S of f.filters)for(const T of S.getFlattenedFilters())T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?w=!0:g=g.add(T.field));for(const S of f.orderBy)S.field.isKeyField()||(g=g.add(S.field));return g.size+(w?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Ra;for(const i of o4(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const u=r.qe(i.kind);_4.Ie.ue(c,u)}return r.Fe()}rn(e){const t=new Ra;return _4.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Ra;return _4.Ie.ue(xa(this.databaseId,t),r.qe(function(i){const c=o4(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Ra);let c=0;for(const u of o4(e)){const f=r[c++];for(const g of i)if(this.hn(t,u.fieldPath)&&W3(f))i=this.ln(i,u,f);else{const w=g.qe(u.kind);_4.Ie.ue(f,w)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],c=[];for(const u of r.arrayValue.values||[])for(const f of i){const g=new Ra;g.seed(f.Fe()),_4.Ie.ue(u,g.qe(t.kind)),c.push(g)}return c}hn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ul(e),i=hl(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const u=[];return ce.forEach(c,f=>i.get([f.indexId,this.uid]).next(g=>{u.push(function(w,S){const T=S?new io(S.sequenceNumber,new li(_r(S.readTime),new qe(c2(S.documentKey)),S.largestBatchId)):io.empty(),R=w.fields.map(([H,$])=>new u8(mn.fromServerFormat(H),$));return new F3(w.indexId,w.collectionGroup,R,T)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ul(e),c=hl(e);return this.dn(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,g=>c.put(mf(g.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,c)=>{const u=r.get(i.collectionGroup);return(u?ce.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ce.forEach(f,g=>this._n(e,i,g).next(w=>{const S=this.wn(c,g);return w.isEqual(S)?ce.resolve():this.mn(e,c,g,w,S)}))))})}gn(e,t,r,i){return a0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return a0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=a0(e);let c=new Tn(C4);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(u,f)=>{c=c.add(new fo(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>c)}wn(e,t){let r=new Tn(C4);const i=this.cn(t,e);if(null==i)return r;const c=Ah(t);if(null!=c){const u=e.data.field(c.fieldPath);if(W3(u))for(const f of u.arrayValue.values||[])r=r.add(new fo(t.indexId,e.key,this.rn(f),i))}else r=r.add(new fo(t.indexId,e.key,ll,i));return r}mn(e,t,r,i,c){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,g,w,S,T){const R=f.getIterator(),H=g.getIterator();let $=r2(R),ne=r2(H);for(;$||ne;){let me=!1,ze=!1;if($&&ne){const Ke=w($,ne);Ke<0?ze=!0:Ke>0&&(me=!0)}else null!=$?ze=!0:me=!0;me?(S(ne),ne=r2(H)):ze?(T($),$=r2(R)):($=r2(R),ne=r2(H))}}(i,c,C4,f=>{u.push(this.gn(e,t,r,f))},f=>{u.push(this.yn(e,t,r,f))}),ce.waitFor(u)}dn(e){let t=1;return hl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>C4(u,f)).filter((u,f,g)=>!f||0!==C4(u,g[f-1]));const i=[];i.push(e);for(const u of r){const f=C4(u,e),g=C4(u,t);if(0===f)i[0]=e.Ue();else if(f>0&&g<0)i.push(u),i.push(u.Ue());else if(g>0)break}i.push(t);const c=[];for(let u=0;u<i.length;u+=2){if(this.pn(i[u],i[u+1]))return[];c.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,ll,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,ll,[]]))}return c}pn(e,t){return C4(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(dp)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||it())).next(dp)}}function fp(n){return Pr(n,"collectionParents")}function a0(n){return Pr(n,"indexEntries")}function ul(n){return Pr(n,"indexConfiguration")}function hl(n){return Pr(n,"indexState")}function dp(n){ft(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;h8(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new li(e.readTime,e.documentKey,t)}const bf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Z1{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Z1(e,Z1.DEFAULT_COLLECTION_PERCENTILE,Z1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ef(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=r.Z({range:u},(S,T,R)=>(f++,R.delete()));c.push(g.next(()=>{ft(1===f)}));const w=[];for(const S of t.mutations){const T=il(e,S.key.path,t.batchId);c.push(i.delete(T)),w.push(S.key)}return ce.waitFor(c).next(()=>w)}function fl(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}Z1.DEFAULT_COLLECTION_PERCENTILE=10,Z1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Z1.DEFAULT=new Z1(41943040,Z1.DEFAULT_COLLECTION_PERCENTILE,Z1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Z1.DISABLED=new Z1(-1,0,0);class dl{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){ft(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new dl(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).Z({index:"userMutationsIndex",range:r},(i,c,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=c0(e),u=Pa(e);return u.add({}).next(f=>{ft("number"==typeof f);const g=new ff(f,t,r,i),w=function(R,H,$){const ne=$.baseMutations.map(ze=>t0(R.ie,ze)),me=$.mutations.map(ze=>t0(R.ie,ze));return{userId:H,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ne,mutations:me}}(this.yt,this.userId,g),S=[];let T=new Tn((R,H)=>Ft(R.canonicalString(),H.canonicalString()));for(const R of i){const H=il(this.userId,R.key.path,f);T=T.add(R.key.path.popLast()),S.push(u.put(w)),S.push(c.put(H,T8))}return T.forEach(R=>{S.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.In[f]=g.keys()}),ce.waitFor(S).next(()=>g)})}lookupMutationBatch(e,t){return Pa(e).get(t).next(r=>r?(ft(r.userId===this.userId),Fi(this.yt,r)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Pa(e).Z({index:"userMutationsIndex",range:i},(u,f,g)=>{f.userId===this.userId&&(ft(f.batchId>=r),c=Fi(this.yt,f)),g.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Pa(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).W("userMutationsIndex",t).next(r=>r.map(i=>Fi(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=D8(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return c0(e).Z({range:i},(u,f,g)=>{const[w,S,T]=u,R=c2(S);if(w===this.userId&&t.path.isEqual(R))return Pa(e).get(T).next(H=>{if(!H)throw it();ft(H.userId===this.userId),c.push(Fi(this.yt,H))});g.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tn(Ft);const i=[];return t.forEach(c=>{const u=D8(this.userId,c.path),f=IDBKeyRange.lowerBound(u),g=c0(e).Z({range:f},(w,S,T)=>{const[R,H,$]=w,ne=c2(H);R===this.userId&&c.path.isEqual(ne)?r=r.add($):T.done()});i.push(g)}),ce.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=D8(this.userId,r),u=IDBKeyRange.lowerBound(c);let f=new Tn(Ft);return c0(e).Z({range:u},(g,w,S)=>{const[T,R,H]=g,$=c2(R);T===this.userId&&r.isPrefixOf($)?$.length===i&&(f=f.add(H)):S.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(c=>{i.push(Pa(e).get(c).next(u=>{if(null===u)throw it();ft(u.userId===this.userId),r.push(Fi(this.yt,u))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Ef(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return c0(e).Z({range:r},(c,u,f)=>{if(c[0]===this.userId){const g=c2(c[1]);i.push(g)}else f.done()}).next(()=>{ft(0===i.length)})})}containsKey(e,t){return Mf(e,this.userId,t)}Rn(e){return ey(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Mf(n,e,t){const r=D8(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return c0(n).Z({range:c,X:!0},(f,g,w)=>{const[S,T,R]=f;S===e&&T===i&&(u=!0),w.done()}).next(()=>u)}function Pa(n){return Pr(n,"mutations")}function c0(n){return Pr(n,"documentMutations")}function ey(n){return Pr(n,"mutationQueues")}class Oa{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Oa(0)}static vn(){return new Oa(-1)}}class rw{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Oa(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>wt.fromTimestamp(new hn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pl(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ft(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return pl(e).Z((u,f)=>{const g=al(f);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,c.push(this.removeTargetData(e,g)))}).next(()=>ce.waitFor(c)).next(()=>i)}forEachTarget(e,t){return pl(e).Z((r,i)=>{const c=al(i);t(c)})}Vn(e){return ty(e).get("targetGlobalKey").next(t=>(ft(null!==t),t))}Sn(e,t){return ty(e).put("targetGlobalKey",t)}Dn(e,t){return pl(e).put(rp(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=d4(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return pl(e).Z({range:i,index:"queryTargetsIndex"},(u,f,g)=>{const w=al(f);$6(t,w.target)&&(c=w,g.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=w4(e);return t.forEach(u=>{const f=x1(u.path);i.push(c.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=w4(e);return ce.forEach(t,c=>{const u=x1(c.path);return ce.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=w4(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=w4(e);let c=Gt();return i.Z({range:r,X:!0},(u,f,g)=>{const w=c2(u[1]),S=new qe(w);c=c.add(S)}).next(()=>c)}containsKey(e,t){const r=x1(t.path),i=IDBKeyRange.bound([r],[Sh(r)],!1,!0);let c=0;return w4(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,f],g,w)=>{0!==u&&(c++,w.done())}).next(()=>c>0)}ne(e,t){return pl(e).get(t).next(r=>r?al(r):null)}}function pl(n){return Pr(n,"targets")}function ty(n){return Pr(n,"targetGlobal")}function w4(n){return Pr(n,"targetDocuments")}function ny([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class iw{constructor(e){this.xn=e,this.buffer=new Tn(ny),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ny(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sw{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){so(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ia(r)}yield t.Fn(3e5)}))}}class ow{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(hi.at);const r=new iw(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(bf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bf):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,c,u,f,g,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),i=this.params.maximumSequenceNumbersToCollect):i=T,u=Date.now(),this.nthSequenceNumber(e,i))).next(T=>(r=T,f=Date.now(),this.removeTargets(e,r,t))).next(T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(w=Date.now(),l8()<=ga.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${c} targets in `+(g-f)+`ms\n\tRemoved ${T} documents in `+(w-g)+`ms\nTotal Duration: ${w-S}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:T})))}}class O8{constructor(e,t){this.db=e,this.garbageCollector=new ow(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return If(e,r)}removeReference(e,t,r){return If(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return If(e,t)}Gn(e,t){return function(r,i){let c=!1;return ey(r).tt(u=>Mf(r,u,i).next(f=>(f&&(c=!0),ce.resolve(!f)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Kn(e,(u,f)=>{if(f<=t){const g=this.Gn(e,u).next(w=>{if(!w)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,wt.min()),w4(e).delete([0,x1(u.path)])))});i.push(g)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return If(e,t)}Kn(e,t){const r=w4(e);let i,c=hi.at;return r.Z({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:w})=>{0===u?(c!==hi.at&&t(new qe(c2(i)),c),c=w,i=g):c=hi.at}).next(()=>{c!==hi.at&&t(new qe(c2(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function If(n,e){return w4(n).put((r=n.currentSequenceNumber,{targetId:0,path:x1(e.path),sequenceNumber:r}));var r}class Sf{constructor(){this.changes=new s2(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V8{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return po(e).put(r)}removeEntry(e,t,r){return po(e).delete(function(i,c){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ol(c),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=kn.newInvalidDocument(t);return po(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(l0(t))},(i,c)=>{r=this.jn(t,c)}).next(()=>r)}Wn(e,t){let r={size:0,document:kn.newInvalidDocument(t)};return po(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(l0(t))},(i,c)=>{r={document:this.jn(t,c),size:fl(c)}}).next(()=>r)}getEntries(e,t){let r=W1();return this.zn(e,t,(i,c)=>{const u=this.jn(i,c);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=W1(),i=new Xn(qe.comparator);return this.zn(e,t,(c,u)=>{const f=this.jn(c,u);r=r.insert(c,f),i=i.insert(c,fl(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ce.resolve();let i=new Tn(Df);t.forEach(g=>i=i.add(g));const c=IDBKeyRange.bound(l0(i.first()),l0(i.last())),u=i.getIterator();let f=u.getNext();return po(e).Z({index:"documentKeyIndex",range:c},(g,w,S)=>{const T=qe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&Df(f,T)<0;)r(f,null),f=u.getNext();f&&f.isEqual(T)&&(r(f,w),f=u.hasNext()?u.getNext():null),f?S.j(l0(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),ol(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return po(e).W(IDBKeyRange.bound(i,c,!0)).next(u=>{let f=W1();for(const g of u){const w=this.jn(qe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let c=W1();const u=mp(t,r),f=mp(t,li.max());return po(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,w,S)=>{const T=this.jn(qe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(T.key,T),c.size===i&&S.done()}).next(()=>c)}newChangeBuffer(e){return new pp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ry(e).get("remoteDocumentGlobalKey").next(t=>(ft(!!t),t))}Qn(e,t){return ry(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function tp(n,e){let t;if(e.document)t=F9(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),i=_r(e.noDocument.readTime);t=kn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=qe.fromSegments(e.unknownDocument.path),i=_r(e.unknownDocument.version);t=kn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new hn(r[0],r[1]);return wt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return kn.newInvalidDocument(e)}}function Af(n){return new V8(n)}class pp extends Sf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new s2(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Tn((c,u)=>Ft(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const f=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,f.readTime)),u.isValidDocument()){const g=np(this.Yn.yt,u);i=i.add(c.path.popLast()),r+=fl(g)-f.size,t.push(this.Yn.addEntry(e,c,g))}else if(r-=f.size,this.trackRemovals){const g=np(this.Yn.yt,u.convertToNoDocument(wt.min()));t.push(this.Yn.addEntry(e,c,g))}}),i.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((c,u)=>{this.Xn.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function ry(n){return Pr(n,"remoteDocumentGlobal")}function po(n){return Pr(n,"remoteDocumentsV14")}function l0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mp(n,e){const t=e.documentKey.path.toArray();return[n,ol(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Df(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=Ft(t[c],r[c]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class aw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gp{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Y3(r.mutation,i,fi.empty(),hn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const i=ho();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(c=>{let u=Y6();return c.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ho();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(c=>{t.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let c=W1();const u=v4(),f=v4();return t.forEach((g,w)=>{const S=r.get(w.key);i.has(w.key)&&(void 0===S||S.mutation instanceof uo)?c=c.insert(w.key,w):void 0!==S&&(u.set(w.key,S.mutation.getFieldMask()),Y3(S.mutation,w,S.mutation.getFieldMask(),hn.now()))}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((w,S)=>u.set(w,S)),t.forEach((w,S)=>{var T;return f.set(w,new aw(S,null!==(T=u.get(w))&&void 0!==T?T:null))}),f))}recalculateAndSaveOverlays(e,t){const r=v4();let i=new Xn((u,f)=>u-f),c=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const w=t.get(g);if(null===w)return;let S=r.get(g)||fi.empty();S=f.applyToLocalView(w,S),r.set(g,S);const T=(i.get(f.batchId)||Gt()).add(g);i=i.insert(f.batchId,T)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),w=g.key,S=g.value,T=Kh();S.forEach(R=>{if(!c.has(R)){const H=M9(t.get(R),r.get(R));null!==H&&T.set(R,H),c=c.add(R)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,T))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(c=>{const u=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-c.size):ce.resolve(ho());let f=-1,g=c;return u.next(w=>ce.forEach(w,(S,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),c.get(S)?ce.resolve():this.remoteDocumentCache.getEntry(e,S).next(R=>{g=g.insert(S,R)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,g,w,Gt())).next(S=>({batchId:f,changes:x9(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let i=Y6();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let c=Y6();return this.indexManager.getCollectionParents(e,i).next(u=>ce.forEach(u,f=>{const g=(w=t,S=f.child(i),new La(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(w=>{w.forEach((S,T)=>{c=c.insert(S,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(c=>(i=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(c=>{c.forEach((f,g)=>{const w=g.getKey();null===i.get(w)&&(i=i.insert(w,kn.newInvalidDocument(w)))});let u=Y6();return i.forEach((f,g)=>{const w=c.get(f);void 0!==w&&Y3(w.mutation,g,fi.empty(),hn.now()),Bh(t,g)&&(u=u.insert(f,g))}),u})}}class iy{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:yr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ip(r.bundledQuery),readTime:yr(r.readTime)}),ce.resolve();var r}}class sy{constructor(){this.overlays=new Xn(qe.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ho();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.oe(e,t,c)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=ho(),c=t.length+1,u=new qe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,w=g.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&g.largestBatchId>r&&i.set(g.getKey(),g)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new Xn((w,S)=>w-S);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let S=c.get(w.largestBatchId);null===S&&(S=ho(),c=c.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const f=ho(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((w,S)=>f.set(w,S)),!(f.size()>=i)););return ce.resolve(f)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new N8(t,r));let c=this.es.get(t);void 0===c&&(c=Gt(),this.es.set(t,c)),this.es.set(t,c.add(r.key))}}class u0{constructor(){this.ns=new Tn(Zr.ss),this.rs=new Tn(Zr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Zr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Zr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new qe(new jt([])),r=new Zr(t,e),i=new Zr(t,e+1),c=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),c.push(u.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new jt([])),r=new Zr(t,e),i=new Zr(t,e+1);let c=Gt();return this.rs.forEachInRange([r,i],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new Zr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||Ft(e._s,t._s)}static os(e,t){return Ft(e._s,t._s)||qe.comparator(e.key,t.key)}}class cw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Tn(Zr.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const c=this.ws;this.ws++;const u=new ff(c,t,r,i);this.mutationQueue.push(u);for(const f of i)this.gs=this.gs.add(new Zr(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),c=i<0?0:i;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zr(t,0),i=new Zr(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([r,i],u=>{const f=this.ys(u._s);c.push(f)}),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tn(Ft);return t.forEach(i=>{const c=new Zr(i,0),u=new Zr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,u],f=>{r=r.add(f._s)})}),ce.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;qe.isDocumentKey(c)||(c=c.child(""));const u=new Zr(new qe(c),0);let f=new Tn(Ft);return this.gs.forEachWhile(g=>{const w=g.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(g._s)),!0)},u),ce.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ft(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ce.forEach(t.mutations,i=>{const c=new Zr(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Zr(t,0),i=this.gs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lw{constructor(e){this.Es=e,this.docs=new Xn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let r=W1();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():kn.newInvalidDocument(i))}),ce.resolve(r)}getAllFromCollection(e,t,r){let i=W1();const c=new qe(t.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||h8(Th(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}As(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uw(this)}getSize(e){return ce.resolve(this.size)}}class uw extends Sf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class oy{constructor(e){this.persistence=e,this.Rs=new s2(t=>d4(t),$6),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new u0,this.targetCount=0,this.vs=Oa.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Oa(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.Rs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ce.waitFor(c).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(u=>{c.push(i.markPotentiallyOrphaned(e,u))}),ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class vp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new hi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new oy(this),this.indexManager=new Xv,this.remoteDocumentCache=new lw(r=>this.referenceDelegate.xs(r)),this.yt=new df(t),this.Ns=new iy(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new cw(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const i=new ay(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(c=>this.referenceDelegate.Os(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Ms(e,t){return ce.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class ay extends U3{constructor(e){super(),this.currentSequenceNumber=e}}class Tf{constructor(e){this.persistence=e,this.Fs=new u0,this.$s=null}static Bs(e){return new Tf(e)}get Ls(){if(this.$s)return this.$s;throw it()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Ls.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,r=>{const i=qe.fromPath(r);return this.qs(e,i).next(c=>{c||t.removeEntry(i,wt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class cy{constructor(e){this.yt=e}$(e,t,r,i){const c=new B3("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q9,{unique:!0}),f.createObjectStore("documentMutations"),xf(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),xf(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",w)}(c))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,g){return g.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q9,{unique:!0});const S=g.store("mutations"),T=w.map(R=>S.put(R));return ce.waitFor(T)})}(e,c))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Us(c))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(c))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,c))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(c))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Q9});g.createIndex("collectionPathOverlayIndex",uf,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",hf,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:Gv});g.createIndex("documentKeyIndex",qv),g.createIndex("collectionGroupIndex",W9)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,c))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Zv}).createIndex("sequenceNumberIndex",nw,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:cf}).createIndex("documentKeyIndex",lf,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=fl(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ce.forEach(i,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(f=>ce.forEach(f,g=>{ft(g.userId===c.userId);const w=Fi(this.yt,g);return Ef(e,c.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.Z((u,f)=>{const g=new jt(u),w=[0,x1(g)];c.push(t.get(w).next(S=>S?ce.resolve():t.put({targetId:0,path:x1(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Wv});const r=t.store("collectionParents"),i=new wf,c=u=>{if(i.add(u)){const f=u.lastSegment(),g=u.popLast();return r.put({collectionId:f,parent:x1(g)})}};return t.store("remoteDocuments").Z({X:!0},(u,f)=>{const g=new jt(u);return c(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,f,g],w)=>{const S=c2(f);return c(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const c=al(i),u=rp(this.yt,c);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((c,u)=>{const f=t.store("remoteDocumentsV14"),g=(w=u,w.document?new qe(jt.fromString(w.document.name).popFirst(5)):w.noDocument?qe.fromSegments(w.noDocument.path):w.unknownDocument?qe.fromSegments(w.unknownDocument.path):it()).path.toArray();var w;const S={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(S))}).next(()=>ce.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Af(this.yt),c=new vp(Tf.Bs,this.yt.ie);return r.W().next(u=>{const f=new Map;return u.forEach(g=>{var w;let S=null!==(w=f.get(g.userId))&&void 0!==w?w:Gt();Fi(this.yt,g).keys().forEach(T=>S=S.add(T)),f.set(g.userId,S)}),ce.forEach(f,(g,w)=>{const S=new zr(w),T=z8.re(this.yt,S),R=c.getIndexManager(S),H=dl.re(S,this.yt,R,c.referenceDelegate);return new gp(i,H,T,R).recalculateAndSaveOverlaysForDocumentKeys(new sl(t,hi.at),g).next()})})}}function xf(n){n.createObjectStore("targetDocuments",{keyPath:af}).createIndex("documentTargetsIndex",K9,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Z9,{unique:!0}),n.createObjectStore("targetGlobal")}const H8="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yp{constructor(e,t,r,i,c,u,f,g,w,S,T=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=c,this.window=u,this.document=f,this.Js=w,this.Ys=S,this.Xs=T,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=R=>Promise.resolve(),!yp.C())throw new xe(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O8(this,i),this.ii=t+"main",this.yt=new df(g),this.ri=new ui(this.ii,this.Xs,new cy(this.yt)),this.Cs=new rw(this.referenceDelegate,this.yt),this.remoteDocumentCache=Af(this.yt),this.Ns=new cl,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(re.FAILED_PRECONDITION,H8);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new hi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>F8(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(so(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return N1(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return F8(e).delete(this.clientId)}yi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Pr(r,"clientMetadata");return i.W().next(c=>{const u=e.Ii(c,18e5),f=c.filter(g=>-1===u.indexOf(g));return ce.forEach(f,g=>i.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):N1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(re.FAILED_PRECONDITION,H8);return!1}}return!(!this.networkEnabled||!this.inForeground)||F8(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new sl(t,hi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>F8(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return dl.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hp(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return z8.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Le("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=15===(u=this.Xs)?ep:14===u?X9:13===u?J9:12===u?Kv:11===u?Y9:void it();var u;let f;return this.ri.runTransaction(e,i,c,g=>(f=new sl(g,this.Ss?this.Ss.next():hi.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(re.FAILED_PRECONDITION,xh);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Vi(e){return N1(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(re.FAILED_PRECONDITION,H8)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return N1(e).put("owner",t)}static C(){return ui.C()}_i(e){const t=N1(e);return t.get("owner").next(r=>this.mi(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(lr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_n.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function N1(n){return Pr(n,"owner")}function F8(n){return Pr(n,"clientMetadata")}function ml(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Nf{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Gt(),i=Gt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new Nf(e,t.fromCache,r,i)}}class di{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(c=>c||this.Oi(e,t,i,r)).next(c=>c||this.Mi(e,t))}ki(e,t){if(K3(t))return ce.resolve(null);let r=T1(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=C8(t,null,"F"),r=T1(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Gt(...c);return this.Ni.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const w=this.Fi(t,f);return this.$i(t,w,u,g.readTime)?this.ki(e,C8(t,null,"F")):this.Bi(e,w,t,g)}))})))}Oi(e,t,r,i){return K3(t)||i.isEqual(wt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(c=>{const u=this.Fi(t,c);return this.$i(t,u,r,i)?this.Mi(e,t):(l8()<=ga.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),w8(t)),this.Bi(e,u,t,e9(i,-1)))})}Fi(e,t){let r=new Tn(G6(e));return t.forEach((i,c)=>{Bh(e,c)&&(r=r.add(c))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Mi(e,t){return l8()<=ga.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",w8(t)),this.Ni.getDocumentsMatchingQuery(e,t,li.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}class ly{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Xn(Ft),this.Ui=new s2(c=>d4(c),$6),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function U8(n,e,t,r){return new ly(n,e,t,r)}function _p(n,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,_e.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],f=[];let g=Gt();for(const w of i){u.push(w.batchId);for(const S of w.mutations)g=g.add(S.key)}for(const w of c){f.push(w.batchId);for(const S of w.mutations)g=g.add(S.key)}return t.localDocuments.getDocuments(r,g).next(w=>({ji:w,removedBatchIds:u,addedBatchIds:f}))})})}),Lf.apply(this,arguments)}function zf(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,f,g,w){const S=g.batch,T=S.keys();let R=ce.resolve();return T.forEach(H=>{R=R.next(()=>w.getEntry(f,H)).next($=>{const ne=g.docVersions.get(H);ft(null!==ne),$.version.compareTo(ne)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),w.addEntry($)))})}),R.next(()=>u.mutationQueue.removeMutationBatch(f,S))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Gt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(f=f.add(u.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function kf(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Cp(n,e){const t=We(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const f=[];e.targetChanges.forEach((S,T)=>{const R=i.get(T);if(!R)return;f.push(t.Cs.removeMatchingKeys(c,S.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(c,S.addedDocuments,T)));let H=R.withSequenceNumber(c.currentSequenceNumber);var $,ne,me;e.targetMismatches.has(T)?H=H.withResumeToken(Rr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,r)),i=i.insert(T,H),ne=H,me=S,(0===($=R).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(c,H))});let g=W1(),w=Gt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,S))}),f.push(wp(c,u,e.documentUpdates).next(S=>{g=S.Wi,w=S.zi})),!r.isEqual(wt.min())){const S=t.Cs.getLastRemoteSnapshotVersion(c).next(T=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,r));f.push(S)}return ce.waitFor(f).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,w)).next(()=>g)}).then(c=>(t.qi=i,c))}function wp(n,e,t){let r=Gt(),i=Gt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let u=W1();return t.forEach((f,g)=>{const w=c.get(f);g.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),g.isNoDocument()&&g.version.isEqual(wt.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!w.isValidDocument()||g.version.compareTo(w.version)>0||0===g.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):Le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",g.version)}),{Wi:u,zi:i}})}function bp(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b4(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(c=>c?(i=c,ce.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new ka(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function h0(n,e,t){return B8.apply(this,arguments)}function B8(){return B8=(0,_e.Z)(function*(n,e,t){const r=We(n),i=r.qi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!so(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),B8.apply(this,arguments)}function j8(n,e,t){const r=We(n);let i=wt.min(),c=Gt();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,g,w){const S=We(f),T=S.Ui.get(w);return void 0!==T?ce.resolve(S.qi.get(T)):S.Cs.getTargetData(g,w)}(r,u,T1(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,f.targetId).next(g=>{c=g})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:wt.min(),t?c:Gt())).next(f=>(Rf(r,_9(e),f),{documents:f,Hi:c})))}function $8(n,e){const t=We(n),r=We(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.ne(c,e).next(u=>u?u.target:null))}function mo(n,e){const t=We(n),r=t.Ki.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,e9(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Rf(t,e,i),i))}function Rf(n,e,t){let r=n.Ki.get(e)||wt.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Ki.set(e,r)}function bs(){return bs=(0,_e.Z)(function*(n,e,t,r){const i=We(n);let c=Gt(),u=W1();for(const w of t){const S=e.Ji(w.metadata.name);w.document&&(c=c.add(S));const T=e.Yi(w);T.setReadTime(e.Xi(w.metadata.readTime)),u=u.insert(S,T)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),g=yield b4(i,(w=r,T1(p4(jt.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>wp(w,f,u).next(S=>(f.apply(w),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(w,g.targetId).next(()=>i.Cs.addMatchingKeys(w,c,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,S.Wi,S.zi)).next(()=>S.Wi)))}),bs.apply(this,arguments)}function uy(n,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,_e.Z)(function*(n,e,t=Gt()){const r=yield b4(n,T1(ip(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const u=yr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(c,e);const f=r.withResumeToken(Rr.EMPTY_BYTE_STRING,u);return i.qi=i.qi.insert(f.targetId,f),i.Cs.updateTargetData(c,f).next(()=>i.Cs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Cs.addMatchingKeys(c,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(c,e))})}),Ep.apply(this,arguments)}function Mp(n,e){return`firestore_clients_${n}_${e}`}function Ip(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Of(n,e){return`firestore_targets_${n}_${e}`}class G8{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let c,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(c=new xe(i.error.code,i.error.message))),u?new G8(e,t,i.state,c):(lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class f0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new xe(r.error.code,r.error.message))),c?new f0(e,r.state,i):(lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=J6();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=s9(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return i?new Vf(e,c):(lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class q8{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new q8(t.clientId,t.onlineState):(lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Hf{constructor(){this.activeTargetIds=J6()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W8{constructor(e,t,r,i,c){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xn(Ft),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=Mp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Hf),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const c=e.getItem(Mp(e.persistenceKey,i));if(c){const u=Vf.Zi(i,c);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Of(this.persistenceKey,e));if(r){const i=f0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Of(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(c){let u=hi.at;if(null!=c)try{const f=JSON.parse(c);ft("number"==typeof f),u=f}catch(f){lr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==hi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new G8(this.currentUser,e,t,r),c=Ip(this.persistenceKey,this.currentUser,e);this.setItem(c,i.tr())}Er(e){const t=Ip(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Of(this.persistenceKey,e),c=new f0(e,t,r);this.setItem(i,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Vf.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return G8.Zi(new zr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return f0.Zi(i,t)}yr(e){return q8.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),c=this.Ir(r),u=[],f=[];return c.forEach(g=>{i.has(g)||u.push(g)}),i.forEach(g=>{c.has(g)||f.push(g)}),this.syncEngine.Br(u,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=J6();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class hy{constructor(){this.Lr=new Hf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Hf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ff{Ur(e){}shutdown(){}}class Uf{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Sp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ap{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Dp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,c){const u=this.ho(e,t);Le("RestConnection","Sending: ",u,r);const f={};return this.lo(f,i,c),this.fo(e,u,f,r).then(g=>(Le("RestConnection","Received: ",g),g),g=>{throw Ma("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",r),g})}_o(e,t,r,i,c,u){return this.ao(e,t,r,i,c)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+i4,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Sp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((c,u)=>{const f=new G7;f.setWithCredentials(!0),f.listenOnce(U7.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case a8.NO_ERROR:const w=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(w)),c(w);break;case a8.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),u(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case a8.HTTP_ERROR:const S=f.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T?.error;if(R&&R.status&&R.message){const H=function($){const ne=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ne)>=0?ne:re.UNKNOWN}(R.status);u(new xe(H,R.message))}else u(new xe(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new xe(re.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);f.send(t,"POST",g,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uv(),u=F7(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new $7({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=i.join("");Le("Connection","Creating WebChannel: "+g,f);const w=c.createWebChannel(g,f);let S=!1,T=!1;const R=new Ap({Hr:$=>{T?Le("Connection","Not sending because WebChannel is closed:",$):(S||(Le("Connection","Opening WebChannel transport."),w.open(),S=!0),Le("Connection","WebChannel sending:",$),w.send($))},Jr:()=>w.close()}),H=($,ne,me)=>{$.listen(ne,ze=>{try{me(ze)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return H(w,V3.EventType.OPEN,()=>{T||Le("Connection","WebChannel transport opened.")}),H(w,V3.EventType.CLOSE,()=>{T||(T=!0,Le("Connection","WebChannel transport closed"),R.io())}),H(w,V3.EventType.ERROR,$=>{T||(T=!0,Ma("Connection","WebChannel transport errored:",$),R.io(new xe(re.UNAVAILABLE,"The operation could not be completed")))}),H(w,V3.EventType.MESSAGE,$=>{var ne;if(!T){const me=$.data[0];ft(!!me);const ze=me,Ke=ze.error||(null===(ne=ze[0])||void 0===ne?void 0:ne.error);if(Ke){Le("Connection","WebChannel received error:",Ke);const nt=Ke.status;let Ye=function(_t){const tn=vr[_t];if(void 0!==tn)return T9(tn)}(nt),bt=Ke.message;void 0===Ye&&(Ye=re.INTERNAL,bt="Unknown error status: "+nt+" with message "+Ke.message),T=!0,R.io(new xe(Ye,bt)),w.close()}else Le("Connection","WebChannel received:",me),R.ro(me)}}),H(u,B7.STAT_EVENT,$=>{$.stat===j7.PROXY?Le("Connection","Detected buffering proxy"):$.stat===j7.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.so()},0),R}}function Bf(){return typeof window<"u"?window:null}function E4(){return typeof document<"u"?document:null}function Va(n){return new Hv(n,!0)}class Z8{constructor(e,t,r=1e3,i=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Tp{constructor(e,t,r,i,c,u,f,g){this.Hs=e,this.vo=r,this.Vo=i,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Z8(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,_e.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_e.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new xe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,_e.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xp extends Tp{constructor(e,t,r,i,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.yt=c}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function U9(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:it(),i=e.targetChange.targetIds||[],c=function(g,w){return g.wt?(ft(void 0===w||"string"==typeof w),Rr.fromBase64String(w||"")):(ft(void 0===w||w instanceof Uint8Array),Rr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const w=void 0===g.code?re.UNKNOWN:T9(g.code);return new xe(w,g.message||"")}(u);t=new L9(r,i,c,f||null)}else if("documentChange"in e){const r=e.documentChange,i=o2(n,r.document.name),c=yr(r.document.updateTime),u=r.document.createTime?yr(r.document.createTime):wt.min(),f=new a1({mapValue:{fields:r.document.fields}}),g=kn.newFoundDocument(i,c,u,f);t=new X3(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=o2(n,r.document),c=r.readTime?yr(r.readTime):wt.min(),u=kn.newNoDocument(i,c);t=new X3([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=o2(n,r.document);t=new X3([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,c=new Zh(r.count||0);t=new Yh(r.targetId,c)}}var g;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return wt.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?yr(c.readTime):wt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=nl(this.yt),t.addTarget=function(i,c){let u;const f=c.target;return u=g8(f)?{documents:tf(i,f)}:{query:nf(i,f)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?u.resumeToken=Fv(i,c.resumeToken):c.snapshotVersion.compareTo(wt.min())>0&&(u.readTime=el(i,c.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=function tw(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=nl(this.yt),t.removeTarget=e,this.Bo(t)}}class Np extends Tp{constructor(e,t,r,i,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.yt=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function B9(n,e){return n&&n.length>0?(ft(void 0!==e),n.map(t=>function(r,i){let c=yr(r.updateTime?r.updateTime:i);return c.isEqual(wt.min())&&(c=yr(i)),new zv(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.Zo(r,t)}return ft(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=nl(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>t0(this.yt,r))};this.Bo(t)}}class fy extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.ao(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(re.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection._o(e,t,r,c,u,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(re.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class hw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(lr(t),this.ou=!1):Le("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class zp{constructor(e,t,r,i,c){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.Ur(f=>{r.enqueueAndForget((0,_e.Z)(function*(){var g;go(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,_e.Z)(function*(w){const S=We(w);S._u.add(4),yield d0(S),S.gu.set("Unknown"),S._u.delete(4),yield gl(S)}),function(w){return g.apply(this,arguments)})(u))}))}),this.gu=new hw(r,i)}}function gl(n){return jf.apply(this,arguments)}function jf(){return jf=(0,_e.Z)(function*(n){if(go(n))for(const e of n.wu)yield e(!0)}),jf.apply(this,arguments)}function d0(n){return kp.apply(this,arguments)}function kp(){return kp=(0,_e.Z)(function*(n){for(const e of n.wu)yield e(!1)}),kp.apply(this,arguments)}function $f(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),p0(t)?Gf(t):Ha(t).ko()&&Rp(t,e))}function K8(n,e){const t=We(n),r=Ha(t);t.du.delete(e),r.ko()&&py(t,e),0===t.du.size&&(r.ko()?r.Fo():go(t)&&t.gu.set("Unknown"))}function Rp(n,e){n.yu.Ot(e.targetId),Ha(n).zo(e)}function py(n,e){n.yu.Ot(e),Ha(n).Ho(e)}function Gf(n){n.yu=new Ov({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Ha(n).start(),n.gu.uu()}function p0(n){return go(n)&&!Ha(n).No()&&n.du.size>0}function go(n){return 0===We(n)._u.size}function Pp(n){n.yu=void 0}function Op(n){return vo.apply(this,arguments)}function vo(){return vo=(0,_e.Z)(function*(n){n.du.forEach((e,t)=>{Rp(n,e)})}),vo.apply(this,arguments)}function Vp(n,e){return vl.apply(this,arguments)}function vl(){return vl=(0,_e.Z)(function*(n,e){Pp(n),p0(n)?(n.gu.hu(e),Gf(n)):n.gu.set("Unknown")}),vl.apply(this,arguments)}function qf(n,e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,_e.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof L9&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,c){const u=c.cause;for(const f of c.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.du.delete(f),i.yu.removeTarget(f))}),function(i,c){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield m0(n,r)}else if(e instanceof X3?n.yu.Kt(e):e instanceof Yh?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(wt.min()))try{const r=yield kf(n.localStore);t.compareTo(r)>=0&&(yield function(i,c){const u=i.yu.Zt(c);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.du.get(g);w&&i.du.set(g,w.withResumeToken(f.resumeToken,c))}}),u.targetMismatches.forEach(f=>{const g=i.du.get(f);if(!g)return;i.du.set(f,g.withResumeToken(Rr.EMPTY_BYTE_STRING,g.snapshotVersion)),py(i,f);const w=new ka(g.target,f,1,g.sequenceNumber);Rp(i,w)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield m0(n,r)}var r}),Wf.apply(this,arguments)}function m0(n,e,t){return yl.apply(this,arguments)}function yl(){return yl=(0,_e.Z)(function*(n,e,t){if(!so(e))throw e;n._u.add(1),yield d0(n),n.gu.set("Offline"),t||(t=()=>kf(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield gl(n)}))}),yl.apply(this,arguments)}function _l(n,e){return e().catch(t=>m0(n,t,e))}function Cl(n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,_e.Z)(function*(n){const e=We(n),t=Fa(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;fw(e);)try{const i=yield bp(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,dw(e,i)}catch(i){yield m0(e,i)}Zf(e)&&Fp(e)}),Hp.apply(this,arguments)}function fw(n){return go(n)&&n.fu.length<10}function dw(n,e){n.fu.push(e);const t=Fa(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Zf(n){return go(n)&&!Fa(n).No()&&n.fu.length>0}function Fp(n){Fa(n).start()}function my(n){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,_e.Z)(function*(n){Fa(n).eu()}),Kf.apply(this,arguments)}function gy(n){return Q8.apply(this,arguments)}function Q8(){return Q8=(0,_e.Z)(function*(n){const e=Fa(n);for(const t of n.fu)e.Xo(t.mutations)}),Q8.apply(this,arguments)}function Up(n,e,t){return Y8.apply(this,arguments)}function Y8(){return Y8=(0,_e.Z)(function*(n,e,t){const r=n.fu.shift(),i=x8.from(r,e,t);yield _l(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Cl(n)}),Y8.apply(this,arguments)}function vy(n,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,_e.Z)(function*(n,e){var t;e&&Fa(n).Yo&&(yield(t=(0,_e.Z)(function*(r,i){if(D9(c=i.code)&&c!==re.ABORTED){const u=r.fu.shift();Fa(r).Mo(),yield _l(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Cl(r)}var c}),function(r,i){return t.apply(this,arguments)})(n,e)),Zf(n)&&Fp(n)}),Qf.apply(this,arguments)}function Yf(n,e){return wl.apply(this,arguments)}function wl(){return wl=(0,_e.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=go(t);t._u.add(3),yield d0(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield gl(t)}),wl.apply(this,arguments)}function Bp(n,e){return J8.apply(this,arguments)}function J8(){return J8=(0,_e.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield gl(t)):e||(t._u.add(2),yield d0(t),t.gu.set("Unknown"))}),J8.apply(this,arguments)}function Ha(n){return n.pu||(n.pu=function(e,t,r){const i=We(e);return i.su(),new xp(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Op.bind(null,n),Zr:Vp.bind(null,n),Wo:qf.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.pu.Mo(),p0(n)?Gf(n):n.gu.set("Unknown")):(yield n.pu.stop(),Pp(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Fa(n){return n.Iu||(n.Iu=function(e,t,r){const i=We(e);return i.su(),new Np(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:my.bind(null,n),Zr:vy.bind(null,n),tu:gy.bind(null,n),Zo:Up.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Iu.Mo(),yield Cl(n)):(yield n.Iu.stop(),n.fu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Jf{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,c){const u=Date.now()+r,f=new Jf(e,t,u,i,c);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(n,e){if(lr("AsyncQueue",`${e}: ${n}`),so(n))return new xe(re.UNAVAILABLE,`${e}: ${n}`);throw n}class El{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Y6(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jp{constructor(){this.Tu=new Xn(qe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):it():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class g0{constructor(e,t,r,i,c,u,f,g,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,c){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new g0(e,t,El.emptySet(t),u,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Q3(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class yy{constructor(){this.Au=void 0,this.listeners=[]}}class pw{constructor(){this.queries=new s2(e=>y9(e),Q3),this.onlineState="Unknown",this.Ru=new Set}}function $p(n,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,_e.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new yy),i)try{c.Au=yield t.onListen(r)}catch(u){const f=bl(u,`Initialization of query '${w8(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,c),c.listeners.push(e),e.bu(t.onlineState),c.Au&&e.Pu(c.Au)&&Zp(t)}),Gp.apply(this,arguments)}function qp(n,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,_e.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Wp.apply(this,arguments)}function _y(n,e){const t=We(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Pu(i)&&(r=!0);u.Au=i}}r&&Zp(t)}function mw(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function Zp(n){n.Ru.forEach(e=>{e.next()})}class Kp{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new g0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=g0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class gw{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Cy{constructor(e){this.yt=e}Ji(e){return o2(this.yt,e)}Yi(e){return e.metadata.exists?F9(this.yt,e.document,!1):kn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return yr(e)}}class vw{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=s(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=jt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Cy(this.yt);for(const i of e)if(i.metadata.queries){const c=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Gt()).add(c);t.set(u,f)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function Pf(n,e,t,r){return bs.apply(this,arguments)}(e.localStore,new Cy(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield uy(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function s(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class o{constructor(e){this.key=e}}class a{constructor(e){this.key=e}}class l{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Gt(),this.mutatedKeys=Gt(),this.Gu=G6(e),this.Qu=new El(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new jp,i=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,T)=>{const R=i.get(S),H=Bh(this.query,T)?T:null,$=!!R&&this.mutatedKeys.has(R.key),ne=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let me=!1;R&&H?R.data.isEqual(H.data)?$!==ne&&(r.track({type:3,doc:H}),me=!0):this.Hu(R,H)||(r.track({type:2,doc:H}),me=!0,(g&&this.Gu(H,g)>0||w&&this.Gu(H,w)<0)&&(f=!0)):!R&&H?(r.track({type:0,doc:H}),me=!0):R&&!H&&(r.track({type:1,doc:R}),me=!0,(g||w)&&(f=!0)),me&&(H?(u=u.add(H),c=ne?c.add(S):c.delete(S)):(u=u.delete(S),c=c.delete(S)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const S="F"===this.query.limitType?u.last():u.first();u=u.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{Qu:u,zu:r,$i:f,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((w,S)=>function(T,R){const H=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return H(T)-H(R)}(w.type,S.type)||this.Gu(w.doc,S.doc)),this.Ju(r);const u=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,g=f!==this.Uu;return this.Uu=f,0!==c.length||g?{snapshot:new g0(this.query,e.Qu,i,c,e.mutatedKeys,0===f,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new jp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Gt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new a(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new o(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Gt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return g0.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class h{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class p{constructor(e){this.key=e,this.nc=!1}}class _{constructor(e,t,r,i,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new s2(f=>y9(f),Q3),this.rc=new Map,this.oc=new Set,this.uc=new Xn(qe.comparator),this.cc=new Map,this.ac=new u0,this.hc={},this.lc=new Map,this.fc=Oa.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function b(n,e){return E.apply(this,arguments)}function E(){return E=(0,_e.Z)(function*(n,e){const t=xy(n);let r,i;const c=t.ic.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.ec();else{const u=yield b4(t.localStore,T1(e));t.isPrimaryClient&&$f(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield A(t,e,r,"current"===f,u.resumeToken)}return i}),E.apply(this,arguments)}function A(n,e,t,r,i){return N.apply(this,arguments)}function N(){return N=(0,_e.Z)(function*(n,e,t,r,i){n._c=(T,R,H)=>{return($=(0,_e.Z)(function*(ne,me,ze,Ke){let nt=me.view.Wu(ze);nt.$i&&(nt=yield j8(ne.localStore,me.query,!1).then(({documents:_t})=>me.view.Wu(_t,nt)));const Ye=Ke&&Ke.targetChanges.get(me.targetId),bt=me.view.applyChanges(nt,ne.isPrimaryClient,Ye);return Al(ne,me.targetId,bt.Xu),bt.snapshot}),function(ne,me,ze,Ke){return $.apply(this,arguments)})(n,T,R,H);var $};const c=yield j8(n.localStore,e,!0),u=new l(e,c.Hi),f=u.Wu(c.documents),g=e0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=u.applyChanges(f,n.isPrimaryClient,g);Al(n,t,w.Xu);const S=new h(e,t,u);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),N.apply(this,arguments)}function k(n,e){return G.apply(this,arguments)}function G(){return G=(0,_e.Z)(function*(n,e){const t=We(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(c=>!Q3(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield h0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),K8(t.remoteStore,r.targetId),Ua(t,r.targetId)}).catch(Ia))):(Ua(t,r.targetId),yield h0(t.localStore,r.targetId,!0))}),G.apply(this,arguments)}function ye(){return ye=(0,_e.Z)(function*(n,e,t){const r=Ny(n);try{const i=yield function(c,u){const f=We(c),g=hn.now(),w=u.reduce((R,H)=>R.add(H.key),Gt());let S,T;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let H=W1(),$=Gt();return f.Gi.getEntries(R,w).next(ne=>{H=ne,H.forEach((me,ze)=>{ze.isValidDocument()||($=$.add(me))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,H)).next(ne=>{S=ne;const me=[];for(const ze of u){const Ke=I9(ze,S.get(ze.key).overlayedDocument);null!=Ke&&me.push(new uo(ze.key,Ke,g9(Ke.value.mapValue),$n.exists(!0)))}return f.mutationQueue.addMutationBatch(R,g,me,u)}).next(ne=>{T=ne;const me=ne.applyToLocalDocumentSet(S,$);return f.documentOverlayCache.saveOverlays(R,ne.batchId,me)})}).then(()=>({batchId:T.batchId,changes:x9(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,u,f){let g=c.hc[c.currentUser.toKey()];g||(g=new Xn(Ft)),g=g.insert(u,f),c.hc[c.currentUser.toKey()]=g}(r,i.batchId,t),yield M4(r,i.changes),yield Cl(r.remoteStore)}catch(i){const c=bl(i,"Failed to persist write");t.reject(c)}}),ye.apply(this,arguments)}function Pe(n,e){return $e.apply(this,arguments)}function $e(){return $e=(0,_e.Z)(function*(n,e){const t=We(n);try{const r=yield Cp(t.localStore,e);e.targetChanges.forEach((i,c)=>{const u=t.cc.get(c);u&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?ft(u.nc):i.removedDocuments.size>0&&(ft(u.nc),u.nc=!1))}),yield M4(t,r,e)}catch(r){yield Ia(r)}}),$e.apply(this,arguments)}function at(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((c,u)=>{const f=u.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(c,u){const f=We(c);f.onlineState=u;let g=!1;f.queries.forEach((w,S)=>{for(const T of S.listeners)T.bu(u)&&(g=!0)}),g&&Zp(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Et(n,e,t){return De.apply(this,arguments)}function De(){return De=(0,_e.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),c=i&&i.key;if(c){let u=new Xn(qe.comparator);u=u.insert(c,kn.newNoDocument(c,wt.min()));const f=Gt().add(c),g=new X6(wt.min(),new Map,new Tn(Ft),u,f);yield Pe(r,g),r.uc=r.uc.remove(c),r.cc.delete(e),Dl(r)}else yield h0(r.localStore,e,!1).then(()=>Ua(r,e,t)).catch(Ia)}),De.apply(this,arguments)}function xt(n,e){return fn.apply(this,arguments)}function fn(){return fn=(0,_e.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield zf(t.localStore,e);Sl(t,r,null),Il(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield M4(t,i)}catch(i){yield Ia(i)}}),fn.apply(this,arguments)}function Gn(n,e,t){return yo.apply(this,arguments)}function yo(){return yo=(0,_e.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(c,u){const f=We(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let w;return f.mutationQueue.lookupMutationBatch(g,u).next(S=>(ft(null!==S),w=S.keys(),f.mutationQueue.removeMutationBatch(g,S))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w)).next(()=>f.localDocuments.getDocuments(g,w))})}(r.localStore,e);Sl(r,e,t),Il(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield M4(r,i)}catch(i){yield Ia(i)}}),yo.apply(this,arguments)}function Ml(){return Ml=(0,_e.Z)(function*(n,e){const t=We(n);go(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=We(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=bl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ml.apply(this,arguments)}function Il(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Sl(n,e,t){const r=We(n);let i=r.hc[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ua(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||X8(n,r)})}function X8(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(K8(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Dl(n))}function Al(n,e,t){for(const r of t)r instanceof o?(n.ac.addReference(r.key,e),ed(n,r)):r instanceof a?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||X8(n,r.key)):it()}function ed(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.oc.add(r),Dl(n))}function Dl(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new qe(jt.fromString(e)),r=n.fc.next();n.cc.set(r,new p(t)),n.uc=n.uc.insert(t,r),$f(n.remoteStore,new ka(T1(p4(t.path)),r,2,hi.at))}}function M4(n,e,t){return wy.apply(this,arguments)}function wy(){return wy=(0,_e.Z)(function*(n,e,t){const r=We(n),i=[],c=[],u=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,g)=>{u.push(r._c(g,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const S=Nf.Ci(g.targetId,w);c.push(S)}}))}),yield Promise.all(u),r.sc.Wo(i),yield(f=(0,_e.Z)(function*(g,w){const S=We(g);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ce.forEach(w,R=>ce.forEach(R.Si,H=>S.persistence.referenceDelegate.addReference(T,R.targetId,H)).next(()=>ce.forEach(R.Di,H=>S.persistence.referenceDelegate.removeReference(T,R.targetId,H)))))}catch(T){if(!so(T))throw T;Le("LocalStore","Failed to update sequence numbers: "+T)}for(const T of w){const R=T.targetId;if(!T.fromCache){const H=S.qi.get(R),ne=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);S.qi=S.qi.insert(R,ne)}}}),function(g,w){return f.apply(this,arguments)})(r.localStore,c))}),wy.apply(this,arguments)}function uI(n,e){return by.apply(this,arguments)}function by(){return by=(0,_e.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield _p(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(f=>{f.reject(new xe(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield M4(t,r.ji)}var i}),by.apply(this,arguments)}function hI(n,e){const t=We(n),r=t.cc.get(e);if(r&&r.nc)return Gt().add(r.key);{let i=Gt();const c=t.rc.get(e);if(!c)return i;for(const u of c){const f=t.ic.get(u);i=i.unionWith(f.view.ju)}return i}}function fI(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,_e.Z)(function*(n,e){const t=We(n),r=yield j8(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Al(t,e.targetId,i.Xu),i}),Ey.apply(this,arguments)}function dI(n,e){return My.apply(this,arguments)}function My(){return My=(0,_e.Z)(function*(n,e){const t=We(n);return mo(t.localStore,e).then(r=>M4(t,r))}),My.apply(this,arguments)}function pI(n,e,t,r){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,_e.Z)(function*(n,e,t,r){const i=We(n),c=yield function(u,f){const g=We(u),w=We(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.Tn(S,f).next(T=>T?g.localDocuments.getDocuments(S,T):ce.resolve(null)))}(i.localStore,e);var f;null!==c?("pending"===t?yield Cl(i.remoteStore):"acknowledged"===t||"rejected"===t?(Sl(i,e,r||null),Il(i,e),f=e,We(We(i.localStore).mutationQueue).An(f)):it(),yield M4(i,c)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)}),Iy.apply(this,arguments)}function Sy(){return Sy=(0,_e.Z)(function*(n,e){const t=We(n);if(xy(t),Ny(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield yw(t,r.toArray());t.dc=!0,yield Bp(t.remoteStore,!0);for(const c of i)$f(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((c,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Ua(t,u),h0(t.localStore,u,!0))),K8(t.remoteStore,u)}),yield i,yield yw(t,r),function(c){const u=We(c);u.cc.forEach((f,g)=>{K8(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Xn(qe.comparator)}(t),t.dc=!1,yield Bp(t.remoteStore,!1)}}),Sy.apply(this,arguments)}function yw(n,e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,_e.Z)(function*(n,e,t){const r=We(n),i=[],c=[];for(const u of e){let f;const g=r.rc.get(u);if(g&&0!==g.length){f=yield b4(r.localStore,T1(g[0]));for(const w of g){const S=r.ic.get(w),T=yield fI(r,S);T.snapshot&&c.push(T.snapshot)}}else{const w=yield $8(r.localStore,u);f=yield b4(r.localStore,w),yield A(r,_w(w),u,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(c),i}),Ay.apply(this,arguments)}function _w(n){return Tv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gI(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function vI(n,e,t,r){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,_e.Z)(function*(n,e,t,r){const i=We(n);if(i.dc)return void Le("SyncEngine","Ignoring unexpected query state notification.");const c=i.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const u=yield mo(i.localStore,_9(c[0])),f=X6.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Rr.EMPTY_BYTE_STRING);yield M4(i,u,f);break}case"rejected":yield h0(i.localStore,e,!0),Ua(i,e,r);break;default:it()}}),Dy.apply(this,arguments)}function yI(n,e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,_e.Z)(function*(n,e,t){const r=xy(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const c=yield $8(r.localStore,i),u=yield b4(r.localStore,c);yield A(r,_w(c),u.targetId,!1,u.resumeToken),$f(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield h0(r.localStore,i,!1).then(()=>{K8(r.remoteStore,i),Ua(r,i)}).catch(Ia))}}),Ty.apply(this,arguments)}function xy(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pe.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Et.bind(null,e),e.sc.Wo=_y.bind(null,e.eventManager),e.sc.wc=mw.bind(null,e.eventManager),e}function Ny(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gn.bind(null,e),e}class Cw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.yt=Va(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return U8(this.persistence,new di,e.initialUser,this.yt)}yc(e){return new vp(Tf.Bs,this.yt)}gc(e){return new hy}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ww extends Cw{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Ny(r.Ac.syncEngine),yield Cl(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return U8(this.persistence,new di,e.initialUser,this.yt)}Tc(e,t){return new sw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new gv(t,this.persistence);return new n9(e.asyncQueue,r)}yc(e){const t=ml(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Z1.withCacheSize(this.cacheSizeBytes):Z1.DEFAULT;return new yp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Bf(),E4(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new hy}}class CI extends ww{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof W8&&(r.sharedClientState.syncEngine={Fr:pI.bind(null,i),$r:vI.bind(null,i),Br:yI.bind(null,i),vi:gI.bind(null,i),Mr:dI.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var c=(0,_e.Z)(function*(u){yield function mI(n,e){return Sy.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}gc(e){const t=Bf();if(!W8.C(t))throw new xe(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ml(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new W8(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ly{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>at(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,r.syncEngine),yield Bp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pw}createDatastore(e){const t=Va(e.databaseInfo.databaseId),r=new Dp(e.databaseInfo);return new fy(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,c=f=>at(this.syncEngine,f,0),u=Uf.C()?new Uf:new Ff,new zp(t,r,i,c,u);var t,r,i,c,u}createSyncEngine(e,t){return function(r,i,c,u,f,g,w){const S=new _(r,i,c,u,f,g);return w&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=We(t);Le("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield d0(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function zy(n,e,t){if(!t)throw new xe(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bw(n,e,t,r){if(!0===e&&!0===r)throw new xe(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ew(n){if(!qe.isDocumentKey(n))throw new xe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mw(n){if(qe.isDocumentKey(n))throw new xe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qp(n);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Iw(n,e){if(e<=0)throw new xe(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Sw=new Map;class Aw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Q7;switch(t.type){case"gapi":return new O6(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sw.get(e);t&&(Le("ComponentProvider","Removing Datastore"),Sw.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class L1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new L1(this.firestore,e,this._query)}}class Ba extends L1{constructor(e,t,r){super(e,t,p4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new qe(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function Tw(n,e,...t){if(n=(0,_n.m9)(n),zy("collection","path",e),n instanceof td){const r=jt.fromString(e,...t);return Mw(r),new Ba(n,null,r)}{if(!(n instanceof er||n instanceof Ba))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jt.fromString(e,...t));return Mw(r),new Ba(n.firestore,null,r)}}function Yp(n,e,...t){if(n=(0,_n.m9)(n),1===arguments.length&&(e=Ih.R()),zy("doc","path",e),n instanceof td){const r=jt.fromString(e,...t);return Ew(r),new er(n,null,new qe(r))}{if(!(n instanceof er||n instanceof Ba))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jt.fromString(e,...t));return Ew(r),new er(n.firestore,n instanceof Ba?n.converter:null,new qe(r))}}function xw(n,e){return n=(0,_n.m9)(n),e=(0,_n.m9)(e),(n instanceof er||n instanceof Ba)&&(e instanceof er||e instanceof Ba)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ky(n,e){return n=(0,_n.m9)(n),e=(0,_n.m9)(e),n instanceof L1&&e instanceof L1&&n.firestore===e.firestore&&Q3(n._query,e._query)&&n.converter===e.converter}function Nw(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Jp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bI{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new kr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const c=yield e.Cc(i);return new gw(JSON.parse(c),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,_e.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class II{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(c,u){const f=We(c),g=nl(f.yt)+"/documents",w={documents:u.map(H=>tl(f.yt,H))},S=yield f._o("BatchGetDocuments",g,w,u.length),T=new Map;S.forEach(H=>{const $=function rl(n,e){return"found"in e?function(t,r){ft(!!r.found);const i=o2(t,r.found.name),c=yr(r.found.updateTime),u=r.found.createTime?yr(r.found.createTime):wt.min(),f=new a1({mapValue:{fields:r.found.fields}});return kn.newFoundDocument(i,c,u,f)}(n,e):"missing"in e?function(t,r){ft(!!r.missing),ft(!!r.readTime);const i=o2(t,r.missing),c=yr(r.readTime);return kn.newNoDocument(i,c)}(n,e):it()}(f.yt,H);T.set($.key.toString(),$)});const R=[];return u.forEach(H=>{const $=T.get(H.toString());ft(!!$),R.push($)}),R}),function(c,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Q6(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=qe.fromPath(i);e.mutations.push(new J3(c,e.precondition(c)))}),yield(r=(0,_e.Z)(function*(i,c){const u=We(i),f=nl(u.yt)+"/documents",g={writes:c.map(w=>t0(u.yt,w))};yield u.ao("Commit",f,g)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?$n.exists(!1):$n.updateTime(t):$n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new xe(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(t)}return $n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SI{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.kc=r.maxAttempts,this.xo=new Z8(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,_e.Z)(function*(){const t=new II(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Fc(c)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!j3(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!D9(t)}return!1}}class AI{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=Ih.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,_e.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=bl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Lw(n,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(c){r.isEqual(c)||(yield _p(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Ry.apply(this,arguments)}function zw(n,e){return Py.apply(this,arguments)}function Py(){return Py=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Oy(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Yf(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>Yf(e.remoteStore,c)),n.onlineComponents=e}),Py.apply(this,arguments)}function Oy(n){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,_e.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield Lw(n,new Cw)),n.offlineComponents}),Vy.apply(this,arguments)}function Xp(n){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,_e.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield zw(n,new Ly)),n.onlineComponents}),Hy.apply(this,arguments)}function kw(n){return Oy(n).then(e=>e.persistence)}function em(n){return Oy(n).then(e=>e.localStore)}function Fy(n){return Xp(n).then(e=>e.remoteStore)}function Uy(n){return Xp(n).then(e=>e.syncEngine)}function e5(n){return By.apply(this,arguments)}function By(){return By=(0,_e.Z)(function*(n){const e=yield Xp(n),t=e.eventManager;return t.onListen=b.bind(null,e.syncEngine),t.onUnlisten=k.bind(null,e.syncEngine),t}),By.apply(this,arguments)}function Pw(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,c,u,f,g){const w=new Jp({next:T=>{c.enqueueAndForget(()=>qp(i,S));const R=T.docs.has(u);!R&&T.fromCache?g.reject(new xe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&f&&"server"===f.source?g.reject(new xe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),S=new Kp(p4(u.path),w,{includeMetadataChanges:!0,Nu:!0});return $p(i,S)}(yield e5(n),n.asyncQueue,e,t,r)})),r.promise}function Ow(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,c,u,f,g){const w=new Jp({next:T=>{c.enqueueAndForget(()=>qp(i,S)),T.fromCache&&"server"===f.source?g.reject(new xe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),S=new Kp(u,w,{includeMetadataChanges:!0,Nu:!0});return $p(i,S)}(yield e5(n),n.asyncQueue,e,t,r)})),r.promise}class RI{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Z8(this,"async_queue_retry"),this.Wc=()=>{const t=E4();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=E4();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=E4();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new kr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!so(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,lr("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Jf.createAndSchedule(this,e,t,r,c=>this.Yc(c));return this.Uc.push(i),i}zc(){this.Kc&&it()}verifyOperationInProgress(){}Xc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function jy(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class PI{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends td{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new RI,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vw(this),this._firestoreClient.terminate()}}function Or(n){return n._firestoreClient||Vw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Vw(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vv(n._databaseId,c,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var c,f;n._firestoreClient=new AI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Hw(n,e,t){const r=new kr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield Lw(n,t),yield zw(n,e),r.resolve()}catch(i){const c=i;if(!("FirebaseError"===(u=c).name?u.code===re.FAILED_PRECONDITION||u.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw c;Ma("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var u})).then(()=>r.promise)}function Fw(n){if(n._initialized||n._terminated)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(Rr.fromBase64String(e))}catch(t){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ja(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class I4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tl{constructor(e){this._methodName=e}}class tm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const qI=/^__.*__$/;class WI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new K6(e,this.data,t,this.fieldTransforms)}}class Uw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new uo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class nm{constructor(e,t,r,i,c,u){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return sm(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Bw(this.sa)&&qI.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ZI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Va(e)}da(e,t,r,i=!1){return new nm({sa:e,methodName:t,fa:r,path:mn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function xl(n){const e=n._freezeSettings(),t=Va(n._databaseId);return new ZI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rm(n,e,t,r,i,c={}){const u=n.da(c.merge||c.mergeFields?2:0,e,t,i);Wy("Data must be an object, but it was:",u,r);const f=Gw(r,u);let g,w;if(c.merge)g=new fi(u.fieldMask),w=u.fieldTransforms;else if(c.mergeFields){const S=[];for(const T of c.mergeFields){const R=Zy(e,T,t);if(!u.contains(R))throw new xe(re.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Ww(S,R)||S.push(R)}g=new fi(S),w=u.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,w=u.fieldTransforms;return new WI(new a1(f),g,w)}class nd extends Tl{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nd}}function jw(n,e,t){return new nm({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class $y extends Tl{_toFieldTransform(e){return new Z6(e.path,new q6)}isEqual(e){return e instanceof $y}}class KI extends Tl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=jw(this,e,!0),r=this._a.map(c=>Nl(c,t)),i=new za(r);return new Z6(e.path,i)}isEqual(e){return this===e}}class QI extends Tl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=jw(this,e,!0),r=this._a.map(c=>Nl(c,t)),i=new m4(r);return new Z6(e.path,i)}isEqual(e){return this===e}}class YI extends Tl{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new W6(e.yt,$h(e.yt,this.wa));return new Z6(e.path,t)}isEqual(e){return this===e}}function Gy(n,e,t,r){const i=n.da(1,e,t);Wy("Data must be an object, but it was:",i,r);const c=[],u=a1.empty();a4(r,(g,w)=>{const S=im(e,g,t);w=(0,_n.m9)(w);const T=i.ca(S);if(w instanceof nd)c.push(S);else{const R=Nl(w,T);null!=R&&(c.push(S),u.set(S,R))}});const f=new fi(c);return new Uw(u,f,i.fieldTransforms)}function qy(n,e,t,r,i,c){const u=n.da(1,e,t),f=[Zy(e,r,t)],g=[i];if(c.length%2!=0)throw new xe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)f.push(Zy(e,c[R])),g.push(c[R+1]);const w=[],S=a1.empty();for(let R=f.length-1;R>=0;--R)if(!Ww(w,f[R])){const H=f[R];let $=g[R];$=(0,_n.m9)($);const ne=u.ca(H);if($ instanceof nd)w.push(H);else{const me=Nl($,ne);null!=me&&(w.push(H),S.set(H,me))}}const T=new fi(w);return new Uw(S,T,u.fieldTransforms)}function $w(n,e,t,r=!1){return Nl(t,n.da(r?4:3,e))}function Nl(n,e){if(qw(n=(0,_n.m9)(n)))return Wy("Unsupported field value:",e,n),Gw(n,e);if(n instanceof Tl)return function(t,r){if(!Bw(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let c=0;for(const u of t){let f=Nl(u,r.aa(c));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),c++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_n.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $h(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=hn.fromDate(t);return{timestampValue:el(r.yt,i)}}if(t instanceof hn){const i=new hn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:el(r.yt,i)}}if(t instanceof tm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ja)return{bytesValue:Fv(r.yt,t._byteString)};if(t instanceof er){const i=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(i))throw r.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xh(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Qp(t)}`)}(n,e)}function Gw(n,e){const t={};return i9(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):a4(n,(r,i)=>{const c=Nl(i,e.ra(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function qw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof tm||n instanceof ja||n instanceof er||n instanceof Tl)}function Wy(n,e,t){if(!qw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Qp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function Zy(n,e,t){if((e=(0,_n.m9)(e))instanceof I4)return e._internalPath;if("string"==typeof e)return im(n,e);throw sm("Field path arguments must be of type string or ",n,!1,void 0,t)}const JI=new RegExp("[~\\*/\\[\\]]");function im(n,e,t){if(e.search(JI)>=0)throw sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new I4(...e.split("."))._internalPath}catch{throw sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sm(n,e,t,r,i){const c=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new xe(re.INVALID_ARGUMENT,f+n+g)}function Ww(n,e){return n.some(t=>t.isEqual(e))}class rd{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(om("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XI extends rd{data(){return super.data()}}function om(n,e){return"string"==typeof e?im(n,e):e instanceof I4?e._internalPath:e._delegate._internalPath}function Zw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class id extends Ky{}function v0(n,e,...t){let r=[];e instanceof Ky&&r.push(e),r=r.concat(t),function(i){const c=i.filter(f=>f instanceof t5).length,u=i.filter(f=>f instanceof sd).length;if(c>1||c>0&&u>0)throw new xe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class sd extends id{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sd(e,t,r)}_apply(e){const t=this._parse(e);return Jw(e._query,t),new L1(e.firestore,e.converter,Uh(e._query,t))}_parse(e){const t=xl(e.firestore);return function(i,c,u,f,g,w,S){let T;if(g.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){Yw(S,w);const R=[];for(const H of S)R.push(Qw(f,i,H));T={arrayValue:{values:R}}}else T=Qw(f,i,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Yw(S,w),T=$w(u,"where",S,"in"===w||"not-in"===w);return Xt.create(g,w,T)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class t5 extends Ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new t5(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:gn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let c=r;const u=i.getFlattenedFilters();for(const f of u)Jw(c,f),c=Uh(c,f)}(e._query,t),new L1(e.firestore,e.converter,Uh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Qy extends id{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Qy(e,t)}_apply(e){const t=function(r,i,c){if(null!==r.startAt)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new B6(i,c);return function(f,g){if(null===Fh(f)){const w=y8(f);null!==w&&Xw(0,w,g.field)}}(r,u),u}(e._query,this._field,this._direction);return new L1(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new La(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class am extends id{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new am(e,t,r)}_apply(e){return new L1(e.firestore,e.converter,C8(e._query,this._limit,this._limitType))}}class cm extends id{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new cm(e,t,r)}_apply(e){const t=Kw(e,this.type,this._docOrFields,this._inclusive);return new L1(e.firestore,e.converter,(i=t,new La((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class lm extends id{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new lm(e,t,r)}_apply(e){const t=Kw(e,this.type,this._docOrFields,this._inclusive);return new L1(e.firestore,e.converter,(i=t,new La((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Kw(n,e,t,r){if(t[0]=(0,_n.m9)(t[0]),t[0]instanceof rd)return function(i,c,u,f,g){if(!f)throw new xe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const S of Cs(i))if(S.field.isKeyField())w.push(xa(c,f.key));else{const T=f.data.field(S.field);if(zh(T))throw new xe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const R=S.field.canonicalString();throw new xe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}w.push(T)}return new Na(w,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=xl(n.firestore);return function(c,u,f,g,w,S){const T=c.explicitOrderBy;if(w.length>T.length)throw new xe(re.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let H=0;H<w.length;H++){const $=w[H];if(T[H].field.isKeyField()){if("string"!=typeof $)throw new xe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof $}`);if(!_8(c)&&-1!==$.indexOf("/"))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${$}' contains a slash.`);const ne=c.path.child(jt.fromString($));if(!qe.isDocumentKey(ne))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const me=new qe(ne);R.push(xa(u,me))}else{const ne=$w(f,g,$);R.push(ne)}}return new Na(R,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Qw(n,e,t){if("string"==typeof(t=(0,_n.m9)(t))){if(""===t)throw new xe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_8(e)&&-1!==t.indexOf("/"))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(jt.fromString(t));if(!qe.isDocumentKey(r))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xa(n,new qe(r))}if(t instanceof er)return xa(n,t._key);throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qp(t)}.`)}function Yw(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Jw(n,e){if(e.isInequality()){const r=y8(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new xe(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const c=Fh(n);null!==c&&Xw(0,i,c)}const t=function(r,i){for(const c of r)for(const u of c.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Xw(n,e,t){if(!t.isEqual(e))throw new xe(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Yy{convertValue(e,t="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(c4(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return a4(e.fields,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new tm(ur(e.latitude),ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=o9(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(H6(e));default:return null}}convertTimestamp(e){const t=Da(e);return new hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=jt.fromString(e);ft(ws(r));const i=new Aa(r.get(1),r.get(3)),c=new qe(r.popFirst(5));return i.isEqual(t)||lr(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function um(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cS extends Yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S4 extends rd{constructor(e,t,r,i,c,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class od extends S4{data(e={}){return super.data(e)}}class y0{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new od(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new od(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ll(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new od(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ll(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,w=-1;return 0!==u.type&&(g=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),w=c.indexOf(u.doc.key)),{type:lS(u.type),doc:f,oldIndex:g,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function tb(n,e){return n instanceof S4&&e instanceof S4?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof y0&&e instanceof y0&&n._firestore===e._firestore&&ky(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class _0 extends Yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function nb(n,e,t){n=an(n,er);const r=an(n.firestore,tr),i=um(n.converter,e,t);return n5(r,[rm(xl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,$n.none())])}function rb(n,e,t,...r){n=an(n,er);const i=an(n.firestore,tr),c=xl(i);let u;return u="string"==typeof(e=(0,_n.m9)(e))||e instanceof I4?qy(c,"updateDoc",n._key,e,t,r):Gy(c,"updateDoc",n._key,e),n5(i,[u.toMutation(n._key,$n.exists(!0))])}function ib(n,...e){var t,r,i;n=(0,_n.m9)(n);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||jy(e[u])||(c=e[u],u++);const f={includeMetadataChanges:c.includeMetadataChanges};if(jy(e[u])){const T=e[u];e[u]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[u+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[u+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let g,w,S;if(n instanceof er)w=an(n.firestore,tr),S=p4(n._key.path),g={next:T=>{e[u]&&e[u](Jy(w,n,T))},error:e[u+1],complete:e[u+2]};else{const T=an(n,L1);w=an(T.firestore,tr),S=T._query;const R=new _0(w);g={next:H=>{e[u]&&e[u](new y0(w,R,T,H))},error:e[u+1],complete:e[u+2]},Zw(n._query)}return function(T,R,H,$){const ne=new Jp($),me=new Kp(R,ne,H);return T.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return $p(yield e5(T),me)})),()=>{ne.bc(),T.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return qp(yield e5(T),me)}))}}(Or(w),S,f,g)}function n5(n,e){return function(t,r){const i=new kr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function ee(n,e,t){return ye.apply(this,arguments)}(yield Uy(t),r,i)})),i.promise}(Or(n),e)}function Jy(n,e,t){const r=t.docs.get(e._key),i=new _0(n);return new S4(n,i,e._key,r,new Ll(t.hasPendingWrites,t.fromCache),e.converter)}const _S={maxAttempts:5};class sb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xl(e)}set(e,t,r){this._verifyNotCommitted();const i=C0(e,this._firestore),c=um(i.converter,t,r),u=rm(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,$n.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=C0(e,this._firestore);let u;return u="string"==typeof(t=(0,_n.m9)(t))||t instanceof I4?qy(this._dataReader,"WriteBatch.update",c._key,t,r,i):Gy(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(u.toMutation(c._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=C0(e,this._firestore);return this._mutations=this._mutations.concat(new Q6(t._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function C0(n,e){if((n=(0,_n.m9)(n)).firestore!==e)throw new xe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class CS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xl(e)}get(e){const t=C0(e,this._firestore),r=new cS(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const c=i[0];if(c.isFoundDocument())return new rd(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new rd(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=C0(e,this._firestore),c=um(i.converter,t,r),u=rm(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const c=C0(e,this._firestore);let u;return u="string"==typeof(t=(0,_n.m9)(t))||t instanceof I4?qy(this._dataReader,"Transaction.update",c._key,t,r,i):Gy(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,u),this}delete(e){const t=C0(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=C0(e,this._firestore),r=new _0(this._firestore);return super.get(e).then(i=>new S4(this._firestore,r,t._key,i._document,new Ll(!1,!1),t.converter))}}function Xy(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ab(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function cb(){if(!function yv(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){i4=Q2.SDK_VERSION,(0,Q2._registerComponent)(new C6.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const c=t.getProvider("app").getImmediate(),u=new tr(new Y7(t.getProvider("auth-internal")),new fv(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(f.options.projectId,g)}(c,r),c);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Q2.registerVersion)(c8,"3.8.0",n),(0,Q2.registerVersion)(c8,"3.8.0","esm2017")}();class ad{constructor(e){this._delegate=e}static fromBase64String(e){return cb(),new ad(ja.fromBase64String(e))}static fromUint8Array(e){return ab(),new ad(ja.fromUint8Array(e))}toBase64(){return cb(),this._delegate.toBase64()}toUint8Array(){return ab(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function e_(n){return function TS(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class xS{enableIndexedDbPersistence(e,t){return function VI(n,e){Fw(n=an(n,tr));const t=Or(n),r=n._freezeSettings(),i=new Ly;return Hw(t,i,new ww(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function HI(n){Fw(n=an(n,tr));const e=Or(n),t=n._freezeSettings(),r=new Ly;return Hw(e,r,new CI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function FI(n){if(n._initialized&&!n._terminated)throw new xe(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!ui.C())return Promise.resolve();const i=r+"main";yield ui.delete(i)}),function(r){return t.apply(this,arguments)})(ml(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lb{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Aa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ma("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Dw(n,e,t,r={}){var i;const c=(n=an(n,td))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Ma("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=zr.MOCK_USER;else{u=(0,_n.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zr(g)}n._authCredentials=new hv(new K7(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function BI(n){return function DI(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield kw(n),t=yield Fy(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i._u.delete(0),gl(i)}(t)}))}(Or(n=an(n,tr)))}(this._delegate)}disableNetwork(){return function jI(n){return function TI(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield kw(n),t=yield Fy(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const c=We(i);c._u.add(0),yield d0(c),c.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Or(n=an(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,bw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function UI(n){return function(e){const t=new kr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Xf(n,e){return Ml.apply(this,arguments)}(yield Uy(e),t)})),t.promise}(Or(n=an(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function yS(n,e){return function LI(n,e){const t=new Jp(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield e5(n),i=t,We(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield e5(n),i=t,void We(r).Ru.delete(i);var r,i}))}}(Or(n=an(n,tr)),jy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new r5(this,Tw(this._delegate,e))}catch(t){throw pi(t,"collection()","Firestore.collection()")}}doc(e){try{return new l2(this,Yp(this._delegate,e))}catch(t){throw pi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new mi(this,function wI(n,e){if(n=an(n,td),zy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new L1(n,null,(t=e,new La(jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw pi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wS(n,e,t){n=an(n,tr);const r=Object.assign(Object.assign({},_S),t);return function(i){if(i.maxAttempts<1)throw new xe(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,c,u){const f=new kr;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const g=yield function Rw(n){return Xp(n).then(e=>e.datastore)}(i);new SI(i.asyncQueue,g,u,c,f).run()})),f.promise}(Or(n),i=>e(new CS(n,i)),r)}(this._delegate,t=>e(new ub(this,t)))}batch(){return Or(this._delegate),new hb(new sb(this._delegate,e=>n5(this._delegate,e)))}loadBundle(e){return function $I(n,e){const t=Or(n=an(n,tr)),r=new PI;return function zI(n,e,t,r){const i=function(c,u){let f;return f="string"==typeof c?(new TextEncoder).encode(c):c,g=function(g,w){if(g instanceof Uint8Array)return Nw(g,w);if(g instanceof ArrayBuffer)return Nw(new Uint8Array(g),w);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new bI(g,u);var g}(t,Va(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function _I(n,e,t){const r=We(n);var i;(i=(0,_e.Z)(function*(c,u,f){try{const g=yield u.getMetadata();if(yield function(R,H){const $=We(R),ne=yr(H.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",me=>$.Ns.getBundleMetadata(me,H.id)).then(me=>!!me&&me.createTime.compareTo(ne)>=0)}(c.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(R=g).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);f._updateProgress(s(g));const w=new vw(g,c.localStore,u.yt);let S=yield u.mc();for(;S;){const R=yield w.Fu(S);R&&f._updateProgress(R),S=yield u.mc()}const T=yield w.complete();return yield M4(c,T.Lu,void 0),yield function(R,H){const $=We(R);return $.persistence.runTransaction("Save bundle","readwrite",ne=>$.Ns.saveBundleMetadata(ne,H))}(c.localStore,g),f._completeWith(T.progress),Promise.resolve(T.Bu)}catch(g){return Ma("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var R}),function(c,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Uy(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function GI(n,e){return function kI(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",c=>i.Ns.getNamedQuery(c,r))}(yield em(n),e)}))}(Or(n=an(n,tr)),e).then(t=>t?new L1(n,null,t.query):null)}(this._delegate,e).then(t=>t?new mi(this,t):null)}}class hm extends Yy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ad(new ja(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return l2.forKey(t,this.firestore,null)}}class ub{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hm(e)}get(e){const t=kl(e);return this._delegate.get(t).then(r=>new cd(this._firestore,new S4(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=kl(e);return r?(Xy("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=kl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=kl(e);return this._delegate.delete(t),this}}class hb{constructor(e){this._delegate=e}set(e,t,r){const i=kl(e);return r?(Xy("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=kl(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=kl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new od(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ld(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new zl(e,new hm(e),t),i.set(t,c)),c}}zl.INSTANCES=new WeakMap;class l2{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hm(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new l2(t,new er(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new l2(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new r5(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new r5(this.firestore,Tw(this._delegate,e))}catch(t){throw pi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_n.m9)(e))instanceof er&&xw(this._delegate,e)}set(e,t){t=Xy("DocumentReference.set",t);try{return t?nb(this._delegate,e,t):nb(this._delegate,e)}catch(r){throw pi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?rb(this._delegate,e):rb(this._delegate,e,t,...r)}catch(i){throw pi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function gS(n){return n5(an(n.firestore,tr),[new Q6(n._key,$n.none())])}(this._delegate)}onSnapshot(...e){const t=fb(e),r=db(e,i=>new cd(this.firestore,new S4(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ib(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function hS(n){n=an(n,er);const e=an(n.firestore,tr),t=Or(e),r=new _0(e);return function xI(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,c,u){try{const f=yield function(g,w){const S=We(g);return S.persistence.runTransaction("read document","readonly",T=>S.localDocuments.getDocument(T,w))}(i,c);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new xe(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=bl(f,`Failed to get document '${c} from cache`);u.reject(g)}}),function(i,c,u){return r.apply(this,arguments)})(yield em(n),e,t);var r})),t.promise}(t,n._key).then(i=>new S4(e,r,n._key,i,new Ll(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fS(n){n=an(n,er);const e=an(n.firestore,tr);return Pw(Or(e),n._key,{source:"server"}).then(t=>Jy(e,n,t))}(this._delegate):function uS(n){n=an(n,er);const e=an(n.firestore,tr);return Pw(Or(e),n._key).then(t=>Jy(e,n,t))}(this._delegate),t.then(r=>new cd(this.firestore,new S4(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new l2(this.firestore,this._delegate.withConverter(e?zl.getInstance(this.firestore,e):null))}}function pi(n,e,t){return n.message=n.message.replace(e,t),n}function fb(n){for(const e of n)if("object"==typeof e&&!e_(e))return e;return{}}function db(n,e){var t,r;let i;return i=e_(n[0])?n[0]:e_(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class cd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new l2(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tb(this._delegate,e._delegate)}}class ld extends cd{data(e){const t=this._delegate.data(e);return function Z7(n,e){n||it()}(void 0!==t),t}}class mi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hm(e)}where(e,t,r){try{return new mi(this.firestore,v0(this._delegate,function eS(n,e,t){const r=e,i=om("where",n);return sd._create(i,r,t)}(e,t,r)))}catch(i){throw pi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new mi(this.firestore,v0(this._delegate,function tS(n,e="asc"){const t=e,r=om("orderBy",n);return Qy._create(r,t)}(e,t)))}catch(r){throw pi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new mi(this.firestore,v0(this._delegate,function nS(n){return Iw("limit",n),am._create("limit",n,"F")}(e)))}catch(t){throw pi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new mi(this.firestore,v0(this._delegate,function rS(n){return Iw("limitToLast",n),am._create("limitToLast",n,"L")}(e)))}catch(t){throw pi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new mi(this.firestore,v0(this._delegate,function iS(...n){return cm._create("startAt",n,!0)}(...e)))}catch(t){throw pi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new mi(this.firestore,v0(this._delegate,function sS(...n){return cm._create("startAfter",n,!1)}(...e)))}catch(t){throw pi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new mi(this.firestore,v0(this._delegate,function oS(...n){return lm._create("endBefore",n,!1)}(...e)))}catch(t){throw pi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new mi(this.firestore,v0(this._delegate,function aS(...n){return lm._create("endAt",n,!0)}(...e)))}catch(t){throw pi(t,"endAt()","Query.endAt()")}}isEqual(e){return ky(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function pS(n){n=an(n,L1);const e=an(n.firestore,tr),t=Or(e),r=new _0(e);return function NI(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,c,u){try{const f=yield j8(i,c,!0),g=new l(c,f.Hi),w=g.Wu(f.documents),S=g.applyChanges(w,!1);u.resolve(S.snapshot)}catch(f){const g=bl(f,`Failed to execute query '${c} against cache`);u.reject(g)}}),function(i,c,u){return r.apply(this,arguments)})(yield em(n),e,t);var r})),t.promise}(t,n._query).then(i=>new y0(e,r,n,i))}(this._delegate):"server"===e?.source?function mS(n){n=an(n,L1);const e=an(n.firestore,tr),t=Or(e),r=new _0(e);return Ow(t,n._query,{source:"server"}).then(i=>new y0(e,r,n,i))}(this._delegate):function dS(n){n=an(n,L1);const e=an(n.firestore,tr),t=Or(e),r=new _0(e);return Zw(n._query),Ow(t,n._query).then(i=>new y0(e,r,n,i))}(this._delegate),t.then(r=>new t_(this.firestore,new y0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=fb(e),r=db(e,i=>new t_(this.firestore,new y0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ib(this._delegate,t,r)}withConverter(e){return new mi(this.firestore,this._delegate.withConverter(e?zl.getInstance(this.firestore,e):null))}}class LS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ld(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class t_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new mi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ld(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new LS(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ld(this._firestore,r))})}isEqual(e){return tb(this._delegate,e._delegate)}}class r5 extends mi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new l2(this.firestore,e):null}doc(e){try{return new l2(this.firestore,void 0===e?Yp(this._delegate):Yp(this._delegate,e))}catch(t){throw pi(t,"doc()","CollectionReference.doc()")}}add(e){return function vS(n,e){const t=an(n.firestore,tr),r=Yp(n),i=um(n.converter,e);return n5(t,[rm(xl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new l2(this.firestore,t))}isEqual(e){return xw(this._delegate,e._delegate)}withConverter(e){return new r5(this.firestore,this._delegate.withConverter(e?zl.getInstance(this.firestore,e):null))}}function kl(n){return an(n,er)}class n_{constructor(...e){this._delegate=new I4(...e)}static documentId(){return new n_(mn.keyField().canonicalString())}isEqual(e){return(e=(0,_n.m9)(e))instanceof I4&&this._delegate._internalPath.isEqual(e._internalPath)}}class Rl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ES(){return new $y("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Rl(e)}static delete(){const e=function bS(){return new nd("deleteField")}();return e._methodName="FieldValue.delete",new Rl(e)}static arrayUnion(...e){const t=function MS(...n){return new KI("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Rl(t)}static arrayRemove(...e){const t=function IS(...n){return new QI("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Rl(t)}static increment(e){const t=function SS(n){return new YI("increment",n)}(e);return t._methodName="FieldValue.increment",new Rl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zS={Firestore:lb,GeoPoint:tm,Timestamp:hn,Blob:ad,Transaction:ub,WriteBatch:hb,DocumentReference:l2,DocumentSnapshot:cd,Query:mi,QueryDocumentSnapshot:ld,QuerySnapshot:t_,CollectionReference:r5,FieldPath:n_,FieldValue:Rl,setLogLevel:function NS(n){!function q7(n){ro.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function RS(n){(function kS(n,e){n.INTERNAL.registerComponent(new C6.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},zS)))})(n,(e,t)=>new lb(e,t,new xS)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(Uc.Z);var PS=P(6451),fm=P(5363),OS=P(6063);class VS extends r1.x{constructor(e=1/0,t=1/0,r=OS.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:u}=this;t||(r.push(e),!i&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const u=t.now();let f=0;for(let g=1;g<r.length&&r[g]<=u;g+=2)f=g;f&&r.splice(0,f+1)}}}var HS=P(3099);function pb(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,HS.B)({connector:()=>new VS(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function mb(n,e){return(0,Bs.m)(e)?Qn(()=>n,e):Qn(()=>n)}var r_=P(9468);P(259);const s_=new Map,vb={activated:!1,tokenObservers:[]},$S={initialized:!1,enabled:!1};function z1(n){return s_.get(n)||Object.assign({},vb)}function pm(){return $S}class QS{constructor(e,t,r,i,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new _n.BH,yield function YS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _n.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gi=new _n.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _b(n){if(!z1(n).activated)throw gi.create("use-before-activation",{appName:n.name})}function c_(n,e){return l_.apply(this,arguments)}function l_(){return l_=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,c)}catch(T){throw gi.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==u.status)throw gi.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(T){throw gi.create("fetch-parse-error",{originalErrorMessage:T?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw gi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(g[1]),S=Date.now();return{token:f.token,expireTimeMillis:S+w,issuedAtTimeMillis:S}}),l_.apply(this,arguments)}function tA(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ud="firebase-app-check-store";let vm=null;function wb(){return vm||(vm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(gi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ud,{keyPath:"compositeKey"})}}catch(t){e(gi.create("storage-open",{originalErrorMessage:t?.message}))}}),vm)}function u_(){return u_=(0,_e.Z)(function*(n,e){const r=(yield wb()).transaction(ud,"readwrite"),c=r.objectStore(ud).put({compositeKey:n,value:e});return new Promise((u,f)=>{c.onsuccess=g=>{u()},r.onerror=g=>{var w;f(gi.create("storage-set",{originalErrorMessage:null===(w=g.target.error)||void 0===w?void 0:w.message}))}})}),u_.apply(this,arguments)}const hd=new ga.Yd("@firebase/app-check");function d_(n,e){return(0,_n.hl)()?function sA(n,e){return function bb(n,e){return u_.apply(this,arguments)}(function Mb(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ib(){return pm().enabled}function Sb(){return m_.apply(this,arguments)}function m_(){return m_=(0,_e.Z)(function*(){const n=pm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),m_.apply(this,arguments)}const hA={error:"UNKNOWN_ERROR"};function fA(n){return _n.US.encodeString(JSON.stringify(n),!1)}function ym(n){return g_.apply(this,arguments)}function g_(){return g_=(0,_e.Z)(function*(n,e=!1){const t=n.app;_b(t);const r=z1(t);let c,i=r.token;if(i&&!i5(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(i5(g)?i=g:yield d_(t,void 0))}if(!e&&i&&i5(i))return{token:i.token};let f,u=!1;if(Ib()){r.exchangeTokenPromise||(r.exchangeTokenPromise=c_(tA(t,yield Sb()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const g=yield r.exchangeTokenPromise;return yield d_(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield z1(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?hd.warn(g.message):hd.error(g),c=g}return i?c?f=i5(i)?{token:i.token,internalError:c}:Tb(c):(f={token:i.token},r.token=i,yield d_(t,i)):f=Tb(c),u&&Db(t,f),f}),g_.apply(this,arguments)}function y_(n,e){const t=z1(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ab(n){const{app:e}=n,t=z1(e);let r=t.tokenRefresher;r||(r=function dA(n){const{app:e}=n;return new QS((0,_e.Z)(function*(){let r;if(r=z1(e).token?yield ym(n,!0):yield ym(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=z1(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Db(n,e){const t=z1(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function i5(n){return n.expireTimeMillis-Date.now()>0}function Tb(n){return{token:fA(hA),error:n}}class pA{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=z1(this.app);for(const t of e)y_(this.app,t.next);return Promise.resolve()}}const Ob="app-check-internal";!function DA(){(0,Q2._registerComponent)(new C6.wA("app-check",n=>function mA(n,e){return new pA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ob).initialize()})),(0,Q2._registerComponent)(new C6.wA(Ob,n=>function gA(n){return{getToken:e=>ym(n,e),addTokenListener:e=>function v_(n,e,t,r){const{app:i}=n,c=z1(i);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&i5(c.token)){const f=c.token;Promise.resolve().then(()=>{t({token:f.token}),Ab(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Ab(n))}(n,"INTERNAL",e),removeTokenListener:e=>y_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Q2.registerVersion)("@firebase/app-check","0.6.0")}();class b_{constructor(){return(0,Gr.vb)("app-check")}}typeof window<"u"&&window;var zA=P(9260);const Hb=new v.OlP("angularfire2.auth.use-emulator"),Fb=new v.OlP("angularfire2.auth.settings"),Ub=new v.OlP("angularfire2.auth.tenant-id"),Bb=new v.OlP("angularfire2.auth.langugage-code"),jb=new v.OlP("angularfire2.auth.use-device-language"),$b=new v.OlP("angularfire.auth.persistence"),Gb=(n,e,t,r,i,c,u,f)=>(0,Oi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,c&&g.useDeviceLanguage(),u)for(const[w,S]of Object.entries(u))g.settings[w]=S;return f&&g.setPersistence(f),g},[t,r,i,c,u,f]);let qb=(()=>{class n{constructor(t,r,i,c,u,f,g,w,S,T,R,H){const $=new r1.x,ne=lt(void 0).pipe((0,fm.Q)(u.outsideAngular),Qn(()=>c.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9169)))),(0,ot.U)(()=>(0,Oi.on)(t,c,r)),(0,ot.U)(me=>Gb(me,c,f,w,S,T,g,R)),pb({bufferSize:1,refCount:!1}));if(Er(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ne.pipe(te()).subscribe();const ze=ne.pipe(Qn(Ye=>Ye.getRedirectResult().then(bt=>bt,()=>null)),Gr.iC,pb({bufferSize:1,refCount:!1})),Ke=ne.pipe(Qn(Ye=>new Br.y(bt=>({unsubscribe:c.runOutsideAngular(()=>Ye.onAuthStateChanged(_t=>bt.next(_t),_t=>bt.error(_t),()=>bt.complete()))})))),nt=ne.pipe(Qn(Ye=>new Br.y(bt=>({unsubscribe:c.runOutsideAngular(()=>Ye.onIdTokenChanged(_t=>bt.next(_t),_t=>bt.error(_t),()=>bt.complete()))}))));this.authState=ze.pipe(mb(Ke),(0,r_.R)(u.outsideAngular),(0,fm.Q)(u.insideAngular)),this.user=ze.pipe(mb(nt),(0,r_.R)(u.outsideAngular),(0,fm.Q)(u.insideAngular)),this.idToken=this.user.pipe(Qn(Ye=>Ye?(0,bn.D)(Ye.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(Qn(Ye=>Ye?(0,bn.D)(Ye.getIdTokenResult()):lt(null))),this.credential=(0,PS.T)(ze,$,this.authState.pipe(M(Ye=>!Ye))).pipe((0,ot.U)(Ye=>Ye?.user?Ye:null),(0,r_.R)(u.outsideAngular),(0,fm.Q)(u.insideAngular))}return(0,Oi.pX)(this,ne,c,{spy:{apply:(me,ze,Ke)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&Ke.then(nt=>$.next(nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Oi.Dh),v.LFG(Oi.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Gr.HU),v.LFG(Hb,8),v.LFG(Fb,8),v.LFG(Ub,8),v.LFG(Bb,8),v.LFG(jb,8),v.LFG($b,8),v.LFG(b_,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Wb(n,e){return function RA(n,e=Rg.z){return new Br.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function M_(n,e){return Wb(n,e).pipe((0,ot.U)(t=>({payload:t,type:"query"})))}function Cm(n,e){return M_(n,e).pipe(ra(void 0),W5(),(0,ot.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const g=i.find(S=>S.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(S=>S.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),c}))}function Zb(n,e,t){return Cm(n,t).pipe(Rt((r,i)=>function OA(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function VA(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return I_(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return I_(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return I_(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),function Pg(n,e=Li.y){return n=n??GC,(0,Tr.e)((t,r)=>{let i,c=!0;t.subscribe((0,gr.x)(r,u=>{const f=e(u);(c||!n(i,f))&&(c=!1,i=f,r.next(u))}))})}(),(0,ot.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function I_(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Kb(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Qb{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Cm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ot.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ra(void 0),W5(),M(([r,i])=>i.length>0||!r),(0,ot.U)(([r,i])=>i),Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Kb(e);return Zb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return M_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Gr.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Gr.iC)}add(e){return this.ref.add(e)}doc(e){return new Yb(this.ref.doc(e),this.afs)}}class Yb{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=eE(r,t);return new Qb(i,c,this.afs)}snapshotChanges(){return function PA(n,e){return Wb(n,e).pipe(ra(void 0),W5(),(0,ot.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(Gr.iC)}}class HA{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Cm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),M(t=>t.length>0),Gr.iC):Cm(this.query,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Rt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Kb(e);return Zb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return M_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ot.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Gr.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Gr.iC)}}const Jb=new v.OlP("angularfire2.enableFirestorePersistence"),Xb=new v.OlP("angularfire2.firestore.persistenceSettings"),FA=new v.OlP("angularfire2.firestore.settings"),UA=new v.OlP("angularfire2.firestore.use-emulator");function eE(n,e=(t=>t)){return{query:e(n),ref:n}}let S_=(()=>{class n{constructor(t,r,i,c,u,f,g,w,S,T,R,H,$,ne,me,ze,Ke){this.schedulers=g;const nt=(0,Oi.on)(t,f,r),Ye=S;T&&Gb(nt,f,R,$,ne,me,H,ze),[this.firestore,this.persistenceEnabled$]=(0,Oi.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const bt=f.runOutsideAngular(()=>nt.firestore());if(c&&bt.settings(c),Ye&&bt.useEmulator(...Ye),i&&!Er(u)){const _t=()=>{try{return(0,bn.D)(bt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(tn){return typeof console<"u"&&console.warn(tn),lt(!1)}};return[bt,f.runOutsideAngular(_t)]}return[bt,lt(!1)]},[c,Ye,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:u}=eE(i,r),f=this.schedulers.ngZone.run(()=>c);return new Qb(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),c=this.firestore.collectionGroup(t);return new HA(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Yb(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Oi.Dh),v.LFG(Oi.xv,8),v.LFG(Jb,8),v.LFG(FA,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Gr.HU),v.LFG(Xb,8),v.LFG(UA,8),v.LFG(qb,8),v.LFG(Hb,8),v.LFG(Fb,8),v.LFG(Ub,8),v.LFG(Bb,8),v.LFG(jb,8),v.LFG($b,8),v.LFG(b_,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BA=(()=>{class n{constructor(){zA.Z.registerVersion("angularfire",Gr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Jb,useValue:!0},{provide:Xb,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[S_]}),n})();var tE={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},nE={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]};let vq=(()=>{class n{constructor(){this.faDumbbell=tE,this.faUser=nE}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fd(n){return(fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function rE(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Cq(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){Cq(n,i,t[i])})}return n}function A_(n,e){return function bq(n){if(Array.isArray(n))return n}(n)||function Mq(n,e){var t=[],r=!0,i=!1,c=void 0;try{for(var f,u=n[Symbol.iterator]();!(r=(f=u.next()).done)&&(t.push(f.value),!e||t.length!==e);r=!0);}catch(g){i=!0,c=g}finally{try{!r&&null!=u.return&&u.return()}finally{if(i)throw c}}return t}(n,e)||function Sq(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var T_={},sE={};try{typeof window<"u"&&(T_=window),typeof document<"u"&&(sE=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var cE=(T_.navigator||{}).userAgent,lE=void 0===cE?"":cE,s5=T_,Kr=sE,A4=!!Kr.documentElement&&!!Kr.head&&"function"==typeof Kr.addEventListener&&"function"==typeof Kr.createElement,D4=(~lE.indexOf("MSIE")||lE.indexOf("Trident/"),"___FONT_AWESOME___"),dE="svg-inline--fa",vE=[1,2,3,4,5,6,7,8,9,10],Oq=vE.concat([11,12,13,14,15,16,17,18,19,20]),Pl={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yE=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Pl.GROUP,Pl.SWAP_OPACITY,Pl.PRIMARY,Pl.SECONDARY].concat(vE.map(function(n){return"".concat(n,"x")})).concat(Oq.map(function(n){return"w-".concat(n)})),s5.FontAwesomeConfig||{});Kr&&"function"==typeof Kr.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=A_(n,2),r=e[1],i=function Uq(n){return""===n||"false"!==n&&("true"===n||n)}(function Fq(n){var e=Kr.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(yE[r]=i)});var L_=cn({},{familyPrefix:"fa",replacementClass:dE,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},yE);L_.autoReplaceSvg||(L_.observeMutations=!1);var qt=cn({},L_);s5.FontAwesomeConfig=qt;var T4=s5||{};T4[D4]||(T4[D4]={}),T4[D4].styles||(T4[D4].styles={}),T4[D4].hooks||(T4[D4].hooks={}),T4[D4].shims||(T4[D4].shims=[]);var _o=T4[D4],_E=[];A4&&((Kr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Kr.readyState)||Kr.addEventListener("DOMContentLoaded",function n(){Kr.removeEventListener("DOMContentLoaded",n),_E.map(function(e){return e()})}));var k_,z_="pending",CE="settled",Em="fulfilled",Mm="rejected",qq=function(){},wE=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,Wq=typeof setImmediate>"u"?setTimeout:setImmediate,dd=[];function Zq(){for(var n=0;n<dd.length;n++)dd[n][0](dd[n][1]);dd=[],k_=!1}function Im(n,e){dd.push([n,e]),k_||(k_=!0,Wq(Zq,0))}function bE(n){var e=n.owner,t=e._state,r=e._data,i=n[t],c=n.then;if("function"==typeof i){t=Em;try{r=i(r)}catch(u){pd(c,u)}}EE(c,r)||(t===Em&&R_(c,r),t===Mm&&pd(c,r))}function EE(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===fd(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?ME(n,i):R_(n,i))},function(i){t||(t=!0,pd(n,i))}),!0}}catch(i){return t||pd(n,i),!0}return!1}function R_(n,e){(n===e||!EE(n,e))&&ME(n,e)}function ME(n,e){n._state===z_&&(n._state=CE,n._data=e,Im(Qq,n))}function pd(n,e){n._state===z_&&(n._state=CE,n._data=e,Im(Yq,n))}function IE(n){n._then=n._then.forEach(bE)}function Qq(n){n._state=Em,IE(n)}function Yq(n){n._state=Mm,IE(n),!n._handled&&wE&&global.process.emit("unhandledRejection",n._data,n)}function Jq(n){global.process.emit("rejectionHandled",n)}function Es(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Es))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function Kq(n,e){function r(i){pd(e,i)}try{n(function t(i){R_(e,i)},r)}catch(i){r(i)}}(n,this)}Es.prototype={constructor:Es,_state:z_,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(qq),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===Mm&&wE&&Im(Jq,this)),this._state===Em||this._state===Mm?Im(bE,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Es.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Es(function(e,t){var r=[],i=0;function c(g){return i++,function(w){r[g]=w,--i||e(r)}}for(var f,u=0;u<n.length;u++)(f=n[u])&&"function"==typeof f.then?f.then(c(u),t):r[u]=f;i||e(r)})},Es.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Es(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},Es.resolve=function(n){return n&&"object"===fd(n)&&n.constructor===Es?n:new Es(function(e){e(n)})},Es.reject=function(n){return new Es(function(e,t){t(n)})};var x4={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function md(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function AE(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Sm(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function O_(n){return n.size!==x4.size||n.x!==x4.x||n.y!==x4.y||n.rotate!==x4.rotate||n.flipX||n.flipY}function DE(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(c," ").concat(u," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var V_={x:0,y:0,width:"100%",height:"100%"};function TE(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function iW(n){return"g"===n.tag?n.children:[n]}function H_(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,c=n.iconName,u=n.transform,f=n.symbol,g=n.title,w=n.maskId,S=n.titleId,T=n.extra,R=n.watchable,H=void 0!==R&&R,$=r.found?r:t,ne=$.width,me=$.height,ze="fak"===i,Ke=ze?"":"fa-w-".concat(Math.ceil(ne/me*16)),nt=[qt.replacementClass,c?"".concat(qt.familyPrefix,"-").concat(c):"",Ke].filter(function(Ui){return-1===T.classes.indexOf(Ui)}).filter(function(Ui){return""!==Ui||!!Ui}).concat(T.classes).join(" "),Ye={children:[],attributes:cn({},T.attributes,{"data-prefix":i,"data-icon":c,class:nt,role:T.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ne," ").concat(me)})},bt=ze&&!~T.classes.indexOf("fa-fw")?{width:"".concat(ne/me*16*.0625,"em")}:{};H&&(Ye.attributes["data-fa-i2svg"]=""),g&&Ye.children.push({tag:"title",attributes:{id:Ye.attributes["aria-labelledby"]||"title-".concat(S||md())},children:[g]});var _t=cn({},Ye,{prefix:i,iconName:c,main:t,mask:r,maskId:w,transform:u,symbol:f,styles:cn({},bt,T.styles)}),tn=r.found&&t.found?function sW(n){var e=n.children,t=n.attributes,r=n.main,i=n.mask,c=n.maskId,g=r.icon,S=i.icon,T=DE({transform:n.transform,containerWidth:i.width,iconWidth:r.width}),R={tag:"rect",attributes:cn({},V_,{fill:"white"})},H=g.children?{children:g.children.map(TE)}:{},$={tag:"g",attributes:cn({},T.inner),children:[TE(cn({tag:g.tag,attributes:cn({},g.attributes,T.path)},H))]},ne={tag:"g",attributes:cn({},T.outer),children:[$]},me="mask-".concat(c||md()),ze="clip-".concat(c||md()),Ke={tag:"mask",attributes:cn({},V_,{id:me,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[R,ne]},nt={tag:"defs",children:[{tag:"clipPath",attributes:{id:ze},children:iW(S)},Ke]};return e.push(nt,{tag:"rect",attributes:cn({fill:"currentColor","clip-path":"url(#".concat(ze,")"),mask:"url(#".concat(me,")")},V_)}),{children:e,attributes:t}}(_t):function oW(n){var e=n.children,t=n.attributes,r=n.main,i=n.transform,u=Sm(n.styles);if(u.length>0&&(t.style=u),O_(i)){var f=DE({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:cn({},f.outer),children:[{tag:"g",attributes:cn({},f.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:cn({},r.icon.attributes,f.path)}]}]})}else e.push(r.icon);return{children:e,attributes:t}}(_t),wo=tn.attributes;return _t.children=tn.children,_t.attributes=wo,f?function cW(n){var t=n.iconName,r=n.children,c=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:cn({},n.attributes,{id:!0===c?"".concat(n.prefix,"-").concat(qt.familyPrefix,"-").concat(t):c}),children:r}]}]}(_t):function aW(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,c=n.styles,u=n.transform;if(O_(u)&&t.found&&!r.found){var w={x:t.width/t.height/2,y:.5};i.style=Sm(cn({},c,{"transform-origin":"".concat(w.x+u.x/16,"em ").concat(w.y+u.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(_t)}var B_=function(e,t,r,i){var g,w,S,c=Object.keys(e),u=c.length,f=void 0!==i?function(e,t){return function(r,i,c,u){return e.call(t,r,i,c,u)}}(t,i):t;for(void 0===r?(g=1,S=e[c[0]]):(g=0,S=r);g<u;g++)S=f(S,e[w=c[g]],w,e);return S};function kE(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,c=Object.keys(e).reduce(function(u,f){var g=e[f];return g.icon?u[g.iconName]=g.icon:u[f]=g,u},{});"function"!=typeof _o.hooks.addPack||i?_o.styles[n]=cn({},_o.styles[n]||{},c):_o.hooks.addPack(n,c),"fas"===n&&kE("fa",e)}var RE=_o.styles,fW=_o.shims,HE=function(){var e=function(i){return B_(RE,function(c,u,f){return c[f]=B_(u,i,{}),c},{})};e(function(r,i,c){return i[3]&&(r[i[3]]=c),r}),e(function(r,i,c){var u=i[2];return r[c]=c,u.forEach(function(f){r[f]=c}),r});var t="far"in RE;B_(fW,function(r,i){var u=i[1];return"far"===u&&!t&&(u="fas"),r[i[0]]={prefix:u,iconName:i[2]},r},{})};function UE(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function c5(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,c=void 0===i?[]:i;return"string"==typeof n?AE(n):"<".concat(e," ").concat(function nW(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(AE(n[t]),'" ')},"").trim()}(r),">").concat(c.map(c5).join(""),"</").concat(e,">")}HE();function vd(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(vd.prototype=Object.create(Error.prototype)).constructor=vd;var Tm={fill:"currentColor"},WE={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},q_=(cn({},Tm,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),cn({},WE,{attributeName:"opacity"}));function Z_(n){var e=n[0],t=n[1],c=A_(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(c)?{tag:"g",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Pl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Pl.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Pl.PRIMARY),fill:"currentColor",d:c[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:c}}}}cn({},Tm,{cx:"256",cy:"364",r:"28"}),cn({},WE,{attributeName:"r",values:"28;14;28;28;14;28;"}),cn({},q_,{values:"1;0;1;1;0;1;"}),cn({},Tm,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),cn({},q_,{values:"1;0;0;0;0;1;"}),cn({},Tm,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),cn({},q_,{values:"0;0;1;1;0;0;"});var UW=function(){function n(){(function yq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function _q(n,e,t){e&&rE(n.prototype,e),t&&rE(n,t)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];var u=i.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(f){t.definitions[f]=cn({},t.definitions[f]||{},u[f]),kE(f,u[f]),HE()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(c){var u=i[c],f=u.prefix,g=u.iconName,w=u.icon;t[f]||(t[f]={}),t[f][g]=w}),t}}]),n}();function yd(){qt.autoAddCss&&!Nm&&(function SE(n){if(n&&A4){var e=Kr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Kr.head.childNodes,r=null,i=t.length-1;i>-1;i--){var c=t[i],u=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=c)}return Kr.head.insertBefore(e,r),n}}(function Q_(){var n="fa",e=dE,t=qt.familyPrefix,r=qt.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||r!==e){var c=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");i=i.replace(c,".".concat(t,"-")).replace(u,"--".concat(t,"-")).replace(f,".".concat(r))}return i}()),Nm=!0)}function xm(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return c5(r)})}}),Object.defineProperty(n,"node",{get:function(){if(A4){var r=Kr.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function Y_(n){var e=n.prefix,t=void 0===e?"fa":e,r=n.iconName;if(r)return UE(JE.definitions,t,r)||UE(_o.styles,t,r)}var JE=new UW,Nm=!1,XE_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var c=i.toLowerCase().split("-"),u=c[0],f=c.slice(1).join("-");if(u&&"h"===f)return r.flipX=!0,r;if(u&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(u){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},t):t}(e)},eM=function BW(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Y_(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:Y_(i||{})),n(r,cn({},t,{mask:i}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,r=void 0===t?x4:t,i=e.symbol,c=void 0!==i&&i,u=e.mask,f=void 0===u?null:u,g=e.maskId,w=void 0===g?null:g,S=e.title,T=void 0===S?null:S,R=e.titleId,H=void 0===R?null:R,$=e.classes,ne=void 0===$?[]:$,me=e.attributes,ze=void 0===me?{}:me,Ke=e.styles,nt=void 0===Ke?{}:Ke;if(n){var Ye=n.prefix,bt=n.iconName,_t=n.icon;return xm(cn({type:"icon"},n),function(){return yd(),qt.autoA11y&&(T?ze["aria-labelledby"]="".concat(qt.replacementClass,"-title-").concat(H||md()):(ze["aria-hidden"]="true",ze.focusable="false")),H_({icons:{main:Z_(_t),mask:f?Z_(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ye,iconName:bt,transform:cn({},x4,r),symbol:c,title:T,maskId:w,titleId:H,extra:{attributes:ze,styles:nt,classes:ne}})})}});const QW=["*"],XW=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let nZ=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rZ=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t)r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(c=>r[c]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iZ=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=v.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[v.TTD]}),n})(),sZ=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(v.Qsj),v.Y36(v.SBq))},n.\u0275cmp=v.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[v.TTD],ngContentSelectors:QW,decls:1,vars:0,template:function(t,r){1&t&&(v.F$t(),v.Hsn(0))},encapsulation:2}),n})(),oZ=(()=>{class n{constructor(t,r,i,c,u){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=c,this.classes=[],null!=u&&null==c&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,t){const i=this.findIconDefinition(r);if(null!=i){const c=this.buildParams();this.renderIcon(i,c)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?XE_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...XW(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=eM(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(R2),v.Y36(nZ),v.Y36(rZ),v.Y36(iZ,8),v.Y36(sZ,8))},n.\u0275cmp=v.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(v.Ikx("innerHTML",r.renderedIconHTML,v.oJD),v.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[v.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),aZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({}),n})(),cZ=(()=>{class n{constructor(t){this.icon=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(vq))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-nav"]],decls:3,vars:2,consts:[[1,"header-and-footer-text"],[3,"icon"]],template:function(t,r){1&t&&(v.TgZ(0,"nav",0),v._UZ(1,"fa-icon",1)(2,"fa-icon",1),v.qZA()),2&t&&(v.xp6(1),v.Q6J("icon",r.icon.faUser),v.xp6(1),v.Q6J("icon",r.icon.faDumbbell))},dependencies:[oZ],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}nav[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center;align-items:center;height:90px}fa-icon[_ngcontent-%COMP%]{cursor:pointer}']}),n})();const lZ=[[["","pageHeader",""]],"*",[["","pageFooter",""]]],uZ=["[pageHeader]","*","[pageFooter]"];let hZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-page-wrapper"]],ngContentSelectors:uZ,decls:7,vars:0,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer"]],template:function(t,r){1&t&&(v.F$t(lZ),v.TgZ(0,"div",0)(1,"div",1),v.Hsn(2),v.qZA(),v.TgZ(3,"div",2),v.Hsn(4,1),v.qZA(),v.TgZ(5,"div",3),v.Hsn(6,2),v.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll}.adultery-page-header[_ngcontent-%COMP%], .adultery-page-footer[_ngcontent-%COMP%]{height:90px;overflow:scroll}.adultery-page-header[_ngcontent-%COMP%]{border-bottom:1px solid black}.adultery-page-footer[_ngcontent-%COMP%]{border-top:1px solid black;margin-top:auto}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}']}),n})();class tM{}const N4="*";function nM(n,e){return{type:7,name:n,definitions:e,options:{}}}function J_(n,e=null){return{type:4,styles:e,timings:n}}function rM(n,e=null){return{type:2,steps:n,options:e}}function $a(n){return{type:6,styles:n,offset:null}}function X_(n,e,t){return{type:0,name:n,styles:e,options:t}}function iM(n){return{type:5,steps:n}}function eC(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function sM(n){Promise.resolve().then(n)}class _d{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class oM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const c=this.players.length;0==c?sM(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==c&&this._onFinish()}),u.onDestroy(()=>{++r==c&&this._onDestroy()}),u.onStart(()=>{++i==c&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let aM=(()=>{class n{constructor(t){this.firestore=t,this.defaultQuotes=[],this.quotesChanged=new r1.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,ot.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})))).subscribe(t=>{this.defaultQuotes=t,this.quotesChanged.next([...this.defaultQuotes])})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(S_))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),cM=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0),v._UZ(1,"div")(2,"div")(3,"div")(4,"div"),v.qZA())},styles:[".lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:black;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),n})();function dZ(n,e){if(1&n&&(v.TgZ(0,"div",2)(1,"span",3),v._uU(2),v.qZA()()),2&n){const t=v.oxw();v.Q6J("@fadeIn",void 0)("@quoteState",t.quoteState),v.xp6(2),v.AsE("",null==t.quoteToDisplay?null:t.quoteToDisplay.quoteToDisplay," \xa0-\xa0",null==t.quoteToDisplay?null:t.quoteToDisplay.whoSaidIt," ")}}function pZ(n,e){1&n&&(v.TgZ(0,"div",4),v._UZ(1,"app-loading-spinner"),v.qZA())}let mZ=(()=>{class n{constructor(t){this.quotesService=t,this.defaultQuotes=[],this.quotesLoaded=!1,this.quoteState="normal"}ngOnInit(){this.quoteSubscription=this.quotesService.quotesChanged.subscribe(t=>{this.defaultQuotes=this.shuffleQuotes(t),this.configureQuoteToDisplay(),this.quotesLoaded=!0}),this.quotesService.fetchDefaultQuotes()}ngOnDestroy(){this.quoteSubscription.unsubscribe()}configureQuoteToDisplay(){this.quoteToDisplay=this.defaultQuotes[0],setInterval(()=>{this.fadeOut(),setTimeout(()=>{this.quoteToDisplay=this.cycleThroughQuotes(),this.fadeIn()},490)},15e3)}cycleThroughQuotes(){let t;if(this.quoteToDisplay){let r=this.defaultQuotes.indexOf(this.quoteToDisplay);if(r<=this.defaultQuotes.length){let i=r+=1;t=this.defaultQuotes[i],void 0===t&&(t=this.defaultQuotes[0])}}else t=this.defaultQuotes[0];return t}shuffleQuotes(t){for(var r=t.length-1;r>0;r--){var i=Math.floor(Math.random()*(r+1)),c=t[r];t[r]=t[i],t[i]=c}return t}fadeOut(){this.quoteState="invisible"}fadeIn(){this.quoteState="normal"}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(aM))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-quotes"]],decls:2,vars:2,consts:[["class","quotes-container",4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],[1,"quotes-container"],[1,"body-text","header-and-footer-text"],[1,"loading-spinner-container"]],template:function(t,r){1&t&&(v.YNc(0,dZ,3,4,"div",0),v.YNc(1,pZ,2,0,"div",1)),2&t&&(v.Q6J("ngIf",r.quotesLoaded),v.xp6(1),v.Q6J("ngIf",!r.quotesLoaded))},dependencies:[fr,cM],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.quotes-container[_ngcontent-%COMP%], .loading-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:90px;flex-wrap:wrap;padding-left:10px;padding-right:10px;justify-content:center}'],data:{animation:[nM("quoteState",[X_("invisible",$a({})),X_("normal",$a({})),eC("normal => invisible",J_(500,iM([$a({opacity:1}),$a({opacity:0})]))),eC("invisible => normal",J_(500,iM([$a({opacity:0}),$a({opacity:1})])))]),nM("fadeIn",[X_("in",$a({opacity:1})),eC("void => *",[$a({opacity:0}),J_(500)])])]}}),n})(),gZ=(()=>{class n{constructor(t){this.title="adultery"}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(S_))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"page-wrapper"],[1,"desktop-header"],["pageHeader","",1,"header"],[1,"content"],["pageFooter","",1,"footer"]],template:function(t,r){1&t&&(v.TgZ(0,"app-page-wrapper",0),v._UZ(1,"div",1),v.TgZ(2,"div",2),v._UZ(3,"app-quotes"),v.qZA(),v.TgZ(4,"div",3),v._UZ(5,"app-loading-spinner"),v.qZA(),v._UZ(6,"router-outlet"),v.TgZ(7,"div",4),v._UZ(8,"app-nav"),v.qZA()())},dependencies:[e3,cZ,hZ,mZ,cM],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:calc(100vh - 180px)}']}),n})();class lM{}class uM{}class L4{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),c=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(u):this.headers.set(c,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof L4?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new L4;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof L4?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const c=e.value;if(c){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===c.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vZ{encodeKey(e){return hM(e)}encodeValue(e){return hM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _Z=/%(\d[a-f0-9])/gi,CZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hM(n){return encodeURIComponent(n).replace(_Z,(e,t)=>CZ[t]??e)}function Lm(n){return`${n}`}class b0{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yZ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[u,f]=-1==c?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],g=t.get(u)||[];g.push(f),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Lm):[Lm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new b0({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Lm(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Lm(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class wZ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dM(n){return typeof Blob<"u"&&n instanceof Blob}function pM(n){return typeof FormData<"u"&&n instanceof FormData}class Cd{constructor(e,t,r,i){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new L4),this.context||(this.context=new wZ),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new b0,this.urlWithParams=t}serializeBody(){return null===this.body?null:fM(this.body)||dM(this.body)||pM(this.body)||function EZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof b0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pM(this.body)?null:dM(this.body)?this.body.type||null:fM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof b0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,w=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((T,R)=>T.set(R,e.setHeaders[R]),g)),e.setParams&&(w=Object.keys(e.setParams).reduce((T,R)=>T.set(R,e.setParams[R]),w)),new Cd(t,r,c,{params:w,headers:g,context:S,reportProgress:f,responseType:i,withCredentials:u})}}var Qr=(()=>((Qr=Qr||{})[Qr.Sent=0]="Sent",Qr[Qr.UploadProgress=1]="UploadProgress",Qr[Qr.ResponseHeader=2]="ResponseHeader",Qr[Qr.DownloadProgress=3]="DownloadProgress",Qr[Qr.Response=4]="Response",Qr[Qr.User=5]="User",Qr))();class nC{constructor(e,t=200,r="OK"){this.headers=e.headers||new L4,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class rC extends nC{constructor(e={}){super(e),this.type=Qr.ResponseHeader}clone(e={}){return new rC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zm extends nC{constructor(e={}){super(e),this.type=Qr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mM extends nC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function iC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let MZ=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let c;if(t instanceof Cd)c=t;else{let g,w;g=i.headers instanceof L4?i.headers:new L4(i.headers),i.params&&(w=i.params instanceof b0?i.params:new b0({fromObject:i.params})),c=new Cd(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=lt(c).pipe(Me(g=>this.handler.handle(g)));if(t instanceof Cd||"events"===i.observe)return u;const f=u.pipe(M(g=>g instanceof zm));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,ot.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,ot.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,ot.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,ot.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new b0).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,iC(i,r))}post(t,r,i={}){return this.request("POST",t,iC(i,r))}put(t,r,i={}){return this.request("PUT",t,iC(i,r))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(lM))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class gM{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const vM=new v.OlP("HTTP_INTERCEPTORS");let IZ=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const SZ=/^\)\]\}',?\n/;let yM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Br.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,$)=>i.setRequestHeader(H,$.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const c=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const H=i.statusText||"OK",$=new L4(i.getAllResponseHeaders()),ne=function AZ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new rC({headers:$,status:i.status,statusText:H,url:ne}),u},g=()=>{let{headers:H,status:$,statusText:ne,url:me}=f(),ze=null;204!==$&&(ze=typeof i.response>"u"?i.responseText:i.response),0===$&&($=ze?200:0);let Ke=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof ze){const nt=ze;ze=ze.replace(SZ,"");try{ze=""!==ze?JSON.parse(ze):null}catch(Ye){ze=nt,Ke&&(Ke=!1,ze={error:Ye,text:ze})}}Ke?(r.next(new zm({body:ze,headers:H,status:$,statusText:ne,url:me||void 0})),r.complete()):r.error(new mM({error:ze,headers:H,status:$,statusText:ne,url:me||void 0}))},w=H=>{const{url:$}=f(),ne=new mM({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:$||void 0});r.error(ne)};let S=!1;const T=H=>{S||(r.next(f()),S=!0);let $={type:Qr.DownloadProgress,loaded:H.loaded};H.lengthComputable&&($.total=H.total),"text"===t.responseType&&!!i.responseText&&($.partialText=i.responseText),r.next($)},R=H=>{let $={type:Qr.UploadProgress,loaded:H.loaded};H.lengthComputable&&($.total=H.total),r.next($)};return i.addEventListener("load",g),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",T),null!==c&&i.upload&&i.upload.addEventListener("progress",R)),i.send(c),r.next({type:Qr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",g),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",T),null!==c&&i.upload&&i.upload.removeEventListener("progress",R)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Wi))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const sC=new v.OlP("XSRF_COOKIE_NAME"),oC=new v.OlP("XSRF_HEADER_NAME");class _M{}let DZ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=p2(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le),v.LFG(v.Lbi),v.LFG(sC))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),aC=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const c=this.tokenService.getToken();return null!==c&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,c)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(_M),v.LFG(oC))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),TZ=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(vM,[]);this.chain=r.reduceRight((i,c)=>new gM(i,c),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(uM),v.LFG(v.zs3))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),xZ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:aC,useClass:IZ}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:sC,useValue:t.cookieName}:[],t.headerName?{provide:oC,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[aC,{provide:vM,useExisting:aC,multi:!0},{provide:_M,useClass:DZ},{provide:sC,useValue:"XSRF-TOKEN"},{provide:oC,useValue:"X-XSRF-TOKEN"}]}),n})(),NZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[MZ,{provide:lM,useClass:TZ},yM,{provide:uM,useExisting:yM}],imports:[xZ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();function CM(n){return new v.vHH(3e3,!1)}function fK(){return typeof window<"u"&&typeof window.document<"u"}function cC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function E0(n){switch(n.length){case 0:return new _d;case 1:return n[0];default:return new oM(n)}}function wM(n,e,t,r,i=new Map,c=new Map){const u=[],f=[];let g=-1,w=null;if(r.forEach(S=>{const T=S.get("offset"),R=T==g,H=R&&w||new Map;S.forEach(($,ne)=>{let me=ne,ze=$;if("offset"!==ne)switch(me=e.normalizePropertyName(me,u),ze){case"!":ze=i.get(ne);break;case N4:ze=c.get(ne);break;default:ze=e.normalizeStyleValue(ne,me,ze,u)}H.set(me,ze)}),R||f.push(H),w=H,g=T}),u.length)throw function eK(n){return new v.vHH(3502,!1)}();return f}function lC(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&uC(t,"start",n)));break;case"done":n.onDone(()=>r(t&&uC(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&uC(t,"destroy",n)))}}function uC(n,e,t){const c=hC(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(c._data=u),c}function hC(n,e,t,r,i="",c=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:c,disabled:!!u}}function Ms(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function bM(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fC=(n,e)=>!1,EM=(n,e,t)=>[],MM=null;function dC(n){const e=n.parentNode||n.host;return e===MM?null:e}(cC()||typeof Element<"u")&&(fK()?(MM=(()=>document.documentElement)(),fC=(n,e)=>{for(;e;){if(e===n)return!0;e=dC(e)}return!1}):fC=(n,e)=>n.contains(e),EM=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ol=null,IM=!1;const SM=fC,AM=EM;let DM=(()=>{class n{validateStyleProperty(t){return function pK(n){Ol||(Ol=function mK(){return typeof document<"u"?document.body:null}()||{},IM=!!Ol.style&&"WebkitAppearance"in Ol.style);let e=!0;return Ol.style&&!function dK(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ol.style,!e&&IM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ol.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return SM(t,r)}getParentElement(t){return dC(t)}query(t,r,i){return AM(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,c,u,f=[],g){return new _d(i,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),pC=(()=>{class n{}return n.NOOP=new DM,n})();const mC="ng-enter",km="ng-leave",Rm="ng-trigger",Pm=".ng-trigger",xM="ng-animating",gC=".ng-animating";function z4(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vC(parseFloat(e[1]),e[2])}function vC(n,e){return"s"===e?1e3*n:n}function Om(n,e,t){return n.hasOwnProperty("duration")?n:function yK(n,e,t){let i,c=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(CM()),{duration:0,delay:0,easing:""};i=vC(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(c=vC(parseFloat(g),f[4]));const w=f[5];w&&(u=w)}else i=n;if(!t){let f=!1,g=e.length;i<0&&(e.push(function LZ(){return new v.vHH(3100,!1)}()),f=!0),c<0&&(e.push(function zZ(){return new v.vHH(3101,!1)}()),f=!0),f&&e.splice(g,0,CM())}return{duration:i,delay:c,easing:u}}(n,e,t)}function wd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function NM(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function M0(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function zM(n,e,t){return t?e+":"+t+";":""}function kM(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=zM(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=zM(0,bK(t),n.style[t]));n.setAttribute("style",e)}function Ga(n,e,t){n.style&&(e.forEach((r,i)=>{const c=_C(i);t&&!t.has(i)&&t.set(i,n.style[c]),n.style[c]=r}),cC()&&kM(n))}function Vl(n,e){n.style&&(e.forEach((t,r)=>{const i=_C(r);n.style[i]=""}),cC()&&kM(n))}function bd(n){return Array.isArray(n)?1==n.length?n[0]:rM(n):n}const yC=new RegExp("{{\\s*(.+?)\\s*}}","g");function RM(n){let e=[];if("string"==typeof n){let t;for(;t=yC.exec(n);)e.push(t[1]);yC.lastIndex=0}return e}function Ed(n,e,t){const r=n.toString(),i=r.replace(yC,(c,u)=>{let f=e[u];return null==f&&(t.push(function RZ(n){return new v.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function Vm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const wK=/-+([a-z0-9])/g;function _C(n){return n.replace(wK,(...e)=>e[1].toUpperCase())}function bK(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Is(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function PZ(n){return new v.vHH(3004,!1)}()}}function PM(n,e){return window.getComputedStyle(n)[e]}function DK(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function TK(n,e,t){if(":"==n[0]){const g=function xK(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function QZ(n){return new v.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function KZ(n){return new v.vHH(3015,!1)}()),e;const i=r[1],c=r[2],u=r[3];e.push(OM(i,u));"<"==c[0]&&!("*"==i&&"*"==u)&&e.push(OM(u,i))}(r,t,e)):t.push(n),t}const Bm=new Set(["true","1"]),jm=new Set(["false","0"]);function OM(n,e){const t=Bm.has(n)||jm.has(n),r=Bm.has(e)||jm.has(e);return(i,c)=>{let u="*"==n||n==i,f="*"==e||e==c;return!u&&t&&"boolean"==typeof i&&(u=i?Bm.has(n):jm.has(n)),!f&&r&&"boolean"==typeof c&&(f=c?Bm.has(e):jm.has(e)),u&&f}}const NK=new RegExp("s*:selfs*,?","g");function CC(n,e,t,r){return new LK(n).build(e,t,r)}class LK{constructor(e){this._driver=e}build(e,t,r){const i=new RK(t);return this._resetContextStyleTimingState(i),Is(this,bd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const c=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function VZ(){return new v.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,w=g.name;w.toString().split(/\s*,\s*/).forEach(S=>{g.name=S,c.push(this.visitState(g,t))}),g.name=w}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,i+=g.depCount,u.push(g)}else t.errors.push(function HZ(){return new v.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,u=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(g=>{RM(g).forEach(w=>{u.hasOwnProperty(w)||c.add(w)})})}),c.size&&(Vm(c.values()),t.errors.push(function FZ(n,e){return new v.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Is(this,bd(e.animation),t);return{type:1,matchers:DK(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Hl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Is(this,r,t)),options:Hl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const c=e.steps.map(u=>{t.currentTime=r;const f=Is(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:c,options:Hl(e.options)}}visitAnimate(e,t){const r=function OK(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wC(Om(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=wC(0,0,"");return c.dynamic=!0,c.strValue=t,c}const i=Om(t,e);return wC(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,c=e.styles?e.styles:$a({});if(5==c.type)i=this.visitKeyframes(c,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};r.easing&&(w.easing=r.easing),u=$a(w)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(u,t);g.isEmptyStep=f,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===N4?r.push(f):t.errors.push(new v.vHH(3002,!1)):r.push(NM(f));let c=!1,u=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!c))for(let g of f.values())if(g.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,g)=>{const w=t.collectedStyles.get(t.currentQuerySelector),S=w.get(g);let T=!0;S&&(c!=i&&c>=S.startTime&&i<=S.endTime&&(t.errors.push(function BZ(n,e,t,r,i){return new v.vHH(3010,!1)}()),T=!1),c=S.startTime),T&&w.set(g,{startTime:c,endTime:i}),t.options&&function CK(n,e,t){const r=e.params||{},i=RM(n);i.length&&i.forEach(c=>{r.hasOwnProperty(c)||t.push(function kZ(n){return new v.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function jZ(){return new v.vHH(3011,!1)}()),r;let c=0;const u=[];let f=!1,g=!1,w=0;const S=e.steps.map(ze=>{const Ke=this._makeStyleAst(ze,t);let nt=null!=Ke.offset?Ke.offset:function PK(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ke.styles),Ye=0;return null!=nt&&(c++,Ye=Ke.offset=nt),g=g||Ye<0||Ye>1,f=f||Ye<w,w=Ye,u.push(Ye),Ke});g&&t.errors.push(function $Z(){return new v.vHH(3012,!1)}()),f&&t.errors.push(function GZ(){return new v.vHH(3200,!1)}());const T=e.steps.length;let R=0;c>0&&c<T?t.errors.push(function qZ(){return new v.vHH(3202,!1)}()):0==c&&(R=1/(T-1));const H=T-1,$=t.currentTime,ne=t.currentAnimateTimings,me=ne.duration;return S.forEach((ze,Ke)=>{const nt=R>0?Ke==H?1:R*Ke:u[Ke],Ye=nt*me;t.currentTime=$+ne.delay+Ye,ne.duration=Ye,this._validateStyleAst(ze,t),ze.offset=nt,r.styles.push(ze)}),r}visitReference(e,t){return{type:8,animation:Is(this,bd(e.animation),t),options:Hl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Hl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Hl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[c,u]=function zK(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(NK,"")),n=n.replace(/@\*/g,Pm).replace(/@\w+/g,t=>Pm+"-"+t.slice(1)).replace(/:animating/g,gC),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,Ms(t.collectedStyles,t.currentQuerySelector,new Map);const f=Is(this,bd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Hl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function WZ(){return new v.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Om(e.timings,t.errors,!0);return{type:12,animation:Is(this,bd(e.animation),t),timings:r,options:null}}}class RK{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hl(n){return n?(n=wd(n)).params&&(n.params=function kK(n){return n?wd(n):null}(n.params)):n={},n}function wC(n,e,t){return{duration:n,delay:e,easing:t}}function bC(n,e,t,r,i,c,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:c,totalTime:i+c,easing:u,subTimeline:f}}class $m{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const FK=new RegExp(":enter","g"),BK=new RegExp(":leave","g");function EC(n,e,t,r,i,c=new Map,u=new Map,f,g,w=[]){return(new jK).buildKeyframes(n,e,t,r,i,c,u,f,g,w)}class jK{buildKeyframes(e,t,r,i,c,u,f,g,w,S=[]){w=w||new $m;const T=new MC(e,t,w,i,c,S,[]);T.options=g;const R=g.delay?z4(g.delay):0;T.currentTimeline.delayNextStep(R),T.currentTimeline.setStyles([u],null,T.errors,g),Is(this,r,T);const H=T.timelines.filter($=>$.containsAnimation());if(H.length&&f.size){let $;for(let ne=H.length-1;ne>=0;ne--){const me=H[ne];if(me.element===t){$=me;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,T.errors,g)}return H.length?H.map($=>$.buildKeyframes()):[bC(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),c=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);c!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const c=i?.delay;if(c){const u="number"==typeof c?c:z4(Ed(c,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const u=null!=r.duration?z4(r.duration):null,f=null!=r.delay?z4(r.delay):null;return 0!==u&&e.forEach(g=>{const w=t.appendInstructionToTimeline(g,u,f);c=Math.max(c,w.duration+w.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),Is(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const c=e.options;if(c&&(c.params||c.delay)&&(i=t.createSubContext(c),i.transformIntoNewTimeline(),null!=c.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Gm);const u=z4(c.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Is(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?z4(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);c&&f.delayNextStep(c),Is(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Om(t.params?Ed(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,c=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*c),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},c=i.delay?z4(i.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Gm);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((w,S)=>{t.currentQueryIndex=S;const T=t.createSubContext(e.options,w);c&&T.delayNextStep(c),w===t.element&&(g=T.currentTimeline),Is(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,c=e.timings,u=Math.abs(c.duration),f=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const S=t.currentTimeline;g&&S.delayNextStep(g);const T=S.currentTime;Is(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const Gm={};class MC{constructor(e,t,r,i,c,u,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=c,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Gm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new qm(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=z4(r.duration)),null!=r.delay&&(i.delay=z4(r.delay));const c=r.params;if(c){let u=i.params;u||(u=this.options.params={}),Object.keys(c).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Ed(c[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,c=new MC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=Gm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},c=new $K(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(c),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,c,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(FK,"."+this._enterClassName)).replace(BK,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!c&&0==f.length&&u.push(function ZZ(n){return new v.vHH(3014,!1)}()),f}}class qm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new qm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||N4),this._currentKeyframe.set(t,N4);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const c=i&&i.params||{},u=function GK(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let c of r)t.set(c,N4)}else M0(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,g]of u){const w=Ed(g,c,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??N4),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,g)=>{const w=M0(f,new Map,this._backFill);w.forEach((S,T)=>{"!"===S?e.add(T):S===N4&&t.add(T)}),r||w.set("offset",g/this.duration),i.push(w)});const c=e.size?Vm(e.values()):[],u=t.size?Vm(t.values()):[];if(r){const f=i[0],g=new Map(f);f.set("offset",0),g.set("offset",1),i=[f,g]}return bC(this.element,i,c,u,this.duration,this.startTime,this.easing,!1)}}class $K extends qm{constructor(e,t,r,i,c,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],u=r+t,f=t/u,g=M0(e[0]);g.set("offset",0),c.push(g);const w=M0(e[0]);w.set("offset",FM(f)),c.push(w);const S=e.length-1;for(let T=1;T<=S;T++){let R=M0(e[T]);const H=R.get("offset");R.set("offset",FM((t+H*r)/u)),c.push(R)}r=u,t=0,i="",e=c}return bC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function FM(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class IC{}const qK=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class WK extends IC{normalizePropertyName(e,t){return _C(e)}normalizeStyleValue(e,t,r,i){let c="";const u=r.toString().trim();if(qK.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function OZ(n,e){return new v.vHH(3005,!1)}())}return u+c}}function UM(n,e,t,r,i,c,u,f,g,w,S,T,R){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:c,toState:r,toStyles:u,timelines:f,queriedElements:g,preStyleProps:w,postStyleProps:S,totalTime:T,errors:R}}const SC={};class BM{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function ZK(n,e,t,r,i){return n.some(c=>c(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,c,u,f,g,w,S){const T=[],R=this.ast.options&&this.ast.options.params||SC,$=this.buildStyles(r,f&&f.params||SC,T),ne=g&&g.params||SC,me=this.buildStyles(i,ne,T),ze=new Set,Ke=new Map,nt=new Map,Ye="void"===i,bt={params:KK(ne,R),delay:this.ast.options?.delay},_t=S?[]:EC(e,t,this.ast.animation,c,u,$,me,bt,w,T);let tn=0;if(_t.forEach(wo=>{tn=Math.max(wo.duration+wo.delay,tn)}),T.length)return UM(t,this._triggerName,r,i,Ye,$,me,[],[],Ke,nt,tn,T);_t.forEach(wo=>{const Ui=wo.element,iI=Ms(Ke,Ui,new Set);wo.preStyleProps.forEach(Fl=>iI.add(Fl));const Id=Ms(nt,Ui,new Set);wo.postStyleProps.forEach(Fl=>Id.add(Fl)),Ui!==t&&ze.add(Ui)});const k1=Vm(ze.values());return UM(t,this._triggerName,r,i,Ye,$,me,_t,k1,Ke,nt,tn)}}function KK(n,e){const t=wd(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class QK{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=wd(this.defaultParams);return Object.keys(e).forEach(c=>{const u=e[c];null!==u&&(i[c]=u)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,f)=>{u&&(u=Ed(u,i,t));const g=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,g,u,t),r.set(g,u)})}),r}}class JK{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new QK(i.style,i.options&&i.options.params||{},r))}),jM(this.states,"true","1"),jM(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BM(e,i,this.states))}),this.fallbackTransition=function XK(n,e,t){return new BM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function jM(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const eQ=new $m;class tQ{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],c=CC(this._driver,t,r,[]);if(r.length)throw function tK(n){return new v.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,r){const i=e.element,c=wM(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],c=this._animations.get(e);let u;const f=new Map;if(c?(u=EC(this._driver,t,c,mC,km,new Map,new Map,r,eQ,i),u.forEach(S=>{const T=Ms(f,S.element,new Map);S.postStyleProps.forEach(R=>T.set(R,null))})):(i.push(function nK(){return new v.vHH(3300,!1)}()),u=[]),i.length)throw function rK(n){return new v.vHH(3504,!1)}();f.forEach((S,T)=>{S.forEach((R,H)=>{S.set(H,this._driver.computeStyle(T,H,N4))})});const w=E0(u.map(S=>{const T=f.get(S.element);return this._buildPlayer(S,new Map,T)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function iK(n){return new v.vHH(3301,!1)}();return t}listen(e,t,r,i){const c=hC(t,"","","");return lC(this._getPlayer(e),r,c,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const $M="ng-animate-queued",AC="ng-animate-disabled",oQ=[],GM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},u2="__ng_removed";class DC{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function hQ(n){return n??null}(r?e.value:e),r){const c=wd(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Md="void",TC=new DC(Md);class cQ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,h2(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function sK(n,e){return new v.vHH(3302,!1)}();if(null==r||0==r.length)throw function oK(n){return new v.vHH(3303,!1)}();if(!function fQ(n){return"start"==n||"done"==n}(r))throw function aK(n,e){return new v.vHH(3400,!1)}();const c=Ms(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};c.push(u);const f=Ms(this._engine.statesByElement,e,new Map);return f.has(t)||(h2(e,Rm),h2(e,Rm+"-"+t),f.set(t,TC)),()=>{this._engine.afterFlush(()=>{const g=c.indexOf(u);g>=0&&c.splice(g,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function cK(n){return new v.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const c=this._getTrigger(t),u=new xC(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(h2(e,Rm),h2(e,Rm+"-"+t),this._engine.statesByElement.set(e,f=new Map));let g=f.get(t);const w=new DC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&w.absorbOptions(g.options),f.set(t,w),g||(g=TC),w.value!==Md&&g.value===w.value){if(!function mQ(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const c=t[i];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(g.params,w.params)){const ne=[],me=c.matchStyles(g.value,g.params,ne),ze=c.matchStyles(w.value,w.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Vl(e,me),Ga(e,ze)})}return}const R=Ms(this._engine.playersByElement,e,[]);R.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let H=c.matchTransition(g.value,w.value,e,w.params),$=!1;if(!H){if(!i)return;H=c.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:g,toState:w,player:u,isFallbackTransition:$}),$||(h2(e,$M),u.onStart(()=>{l5(e,$M)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const me=this._engine.playersByElement.get(e);if(me){let ze=me.indexOf(u);ze>=0&&me.splice(ze,1)}}),this.players.push(u),R.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Pm,!0);r.forEach(i=>{if(i[u2])return;const c=this._engine.fetchNamespacesByElement(i);c.size?c.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const c=this._engine.statesByElement.get(e),u=new Map;if(c){const f=[];if(c.forEach((g,w)=>{if(u.set(w,g.value),this._triggers.has(w)){const S=this.trigger(e,w,Md,i);S&&f.push(S)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&E0(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(c=>{const u=c.name;if(i.has(u))return;i.add(u);const g=this._triggers.get(u).fallbackTransition,w=r.get(u)||TC,S=new DC(Md),T=new xC(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:w,toState:S,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[u2];(!c||c===GM)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){h2(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const c=r.element,u=this._elementListeners.get(c);u&&u.forEach(f=>{if(f.name==r.triggerName){const g=hC(c,r.triggerName,r.fromState.value,r.toState.value);g._data=e,lC(r.player,f.phase,g,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const c=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==c||0==u?c-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class lQ{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,c)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new cQ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const g=i.get(f);if(g){const w=r.indexOf(g);r.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const c=this._fetchNamespace(i.namespaceId);c&&t.add(c)}return t}trigger(e,t,r,i){if(Wm(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Wm(t))return;const c=t[u2];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),h2(e,AC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),l5(e,AC))}removeNode(e,t,r,i){if(Wm(t)){const c=e?this._fetchNamespace(e):null;if(c?c.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,c){this.collectedLeaveElements.push(t),t[u2]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,i,c){return Wm(t)?this._fetchNamespace(e).listen(t,r,i,c):()=>{}}_buildInstruction(e,t,r,i,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,Pm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gC,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return E0(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[u2];if(t&&t.setForRemoval){if(e[u2]=GM,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(AC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)h2(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?E0(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function lK(n){return new v.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new $m,i=[],c=new Map,u=[],f=new Map,g=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(vt=>{S.add(vt);const At=this.driver.query(vt,".ng-animate-queued",!0);for(let kt=0;kt<At.length;kt++)S.add(At[kt])});const T=this.bodyNode,R=Array.from(this.statesByElement.keys()),H=ZM(R,this.collectedEnterElements),$=new Map;let ne=0;H.forEach((vt,At)=>{const kt=mC+ne++;$.set(At,kt),vt.forEach(Cn=>h2(Cn,kt))});const me=[],ze=new Set,Ke=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const At=this.collectedLeaveElements[vt],kt=At[u2];kt&&kt.setForRemoval&&(me.push(At),ze.add(At),kt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(Cn=>ze.add(Cn)):Ke.add(At))}const nt=new Map,Ye=ZM(R,Array.from(ze));Ye.forEach((vt,At)=>{const kt=km+ne++;nt.set(At,kt),vt.forEach(Cn=>h2(Cn,kt))}),e.push(()=>{H.forEach((vt,At)=>{const kt=$.get(At);vt.forEach(Cn=>l5(Cn,kt))}),Ye.forEach((vt,At)=>{const kt=nt.get(At);vt.forEach(Cn=>l5(Cn,kt))}),me.forEach(vt=>{this.processLeaveNode(vt)})});const bt=[],_t=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(t).forEach(kt=>{const Cn=kt.player,_1=kt.element;if(bt.push(Cn),this.collectedEnterElements.length){const K1=_1[u2];if(K1&&K1.setForMove){if(K1.previousTriggersValues&&K1.previousTriggersValues.has(kt.triggerName)){const Ul=K1.previousTriggersValues.get(kt.triggerName),f2=this.statesByElement.get(kt.element);if(f2&&f2.has(kt.triggerName)){const Qm=f2.get(kt.triggerName);Qm.value=Ul,f2.set(kt.triggerName,Qm)}}return void Cn.destroy()}}const qa=!T||!this.driver.containsElement(T,_1),Ss=nt.get(_1),I0=$.get(_1),Cr=this._buildInstruction(kt,r,I0,Ss,qa);if(Cr.errors&&Cr.errors.length)return void _t.push(Cr);if(qa)return Cn.onStart(()=>Vl(_1,Cr.fromStyles)),Cn.onDestroy(()=>Ga(_1,Cr.toStyles)),void i.push(Cn);if(kt.isFallbackTransition)return Cn.onStart(()=>Vl(_1,Cr.fromStyles)),Cn.onDestroy(()=>Ga(_1,Cr.toStyles)),void i.push(Cn);const aI=[];Cr.timelines.forEach(K1=>{K1.stretchStartingKeyframe=!0,this.disabledNodes.has(K1.element)||aI.push(K1)}),Cr.timelines=aI,r.append(_1,Cr.timelines),u.push({instruction:Cr,player:Cn,element:_1}),Cr.queriedElements.forEach(K1=>Ms(f,K1,[]).push(Cn)),Cr.preStyleProps.forEach((K1,Ul)=>{if(K1.size){let f2=g.get(Ul);f2||g.set(Ul,f2=new Set),K1.forEach((Qm,zC)=>f2.add(zC))}}),Cr.postStyleProps.forEach((K1,Ul)=>{let f2=w.get(Ul);f2||w.set(Ul,f2=new Set),K1.forEach((Qm,zC)=>f2.add(zC))})});if(_t.length){const vt=[];_t.forEach(At=>{vt.push(function uK(n,e){return new v.vHH(3505,!1)}())}),bt.forEach(At=>At.destroy()),this.reportError(vt)}const tn=new Map,k1=new Map;u.forEach(vt=>{const At=vt.element;r.has(At)&&(k1.set(At,At),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,tn))}),i.forEach(vt=>{const At=vt.element;this._getPreviousPlayers(At,!1,vt.namespaceId,vt.triggerName,null).forEach(Cn=>{Ms(tn,At,[]).push(Cn),Cn.destroy()})});const wo=me.filter(vt=>QM(vt,g,w)),Ui=new Map;WM(Ui,this.driver,Ke,w,N4).forEach(vt=>{QM(vt,g,w)&&wo.push(vt)});const Id=new Map;H.forEach((vt,At)=>{WM(Id,this.driver,new Set(vt),g,"!")}),wo.forEach(vt=>{const At=Ui.get(vt),kt=Id.get(vt);Ui.set(vt,new Map([...Array.from(At?.entries()??[]),...Array.from(kt?.entries()??[])]))});const Fl=[],sI=[],oI={};u.forEach(vt=>{const{element:At,player:kt,instruction:Cn}=vt;if(r.has(At)){if(S.has(At))return kt.onDestroy(()=>Ga(At,Cn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(Cn.totalTime),void i.push(kt);let _1=oI;if(k1.size>1){let Ss=At;const I0=[];for(;Ss=Ss.parentNode;){const Cr=k1.get(Ss);if(Cr){_1=Cr;break}I0.push(Ss)}I0.forEach(Cr=>k1.set(Cr,_1))}const qa=this._buildAnimation(kt.namespaceId,Cn,tn,c,Id,Ui);if(kt.setRealPlayer(qa),_1===oI)Fl.push(kt);else{const Ss=this.playersByElement.get(_1);Ss&&Ss.length&&(kt.parentPlayer=E0(Ss)),i.push(kt)}}else Vl(At,Cn.fromStyles),kt.onDestroy(()=>Ga(At,Cn.toStyles)),sI.push(kt),S.has(At)&&i.push(kt)}),sI.forEach(vt=>{const At=c.get(vt.element);if(At&&At.length){const kt=E0(At);vt.setRealPlayer(kt)}}),i.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<me.length;vt++){const At=me[vt],kt=At[u2];if(l5(At,km),kt&&kt.hasAnimation)continue;let Cn=[];if(f.size){let qa=f.get(At);qa&&qa.length&&Cn.push(...qa);let Ss=this.driver.query(At,gC,!0);for(let I0=0;I0<Ss.length;I0++){let Cr=f.get(Ss[I0]);Cr&&Cr.length&&Cn.push(...Cr)}}const _1=Cn.filter(qa=>!qa.destroyed);_1.length?dQ(this,At,_1):this.processLeaveNode(At)}return me.length=0,Fl.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const At=this.players.indexOf(vt);this.players.splice(At,1)}),vt.play()}),Fl}elementContainsData(e,t){let r=!1;const i=t[u2];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,c){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const g=!c||c==Md;f.forEach(w=>{w.queued||!g&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const c=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const w=g.element,S=w!==c,T=Ms(r,w,[]);this._getPreviousPlayers(w,S,u,f,t.toState).forEach(H=>{const $=H.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),H.destroy(),T.push(H)})}Vl(c,t.fromStyles)}_buildAnimation(e,t,r,i,c,u){const f=t.triggerName,g=t.element,w=[],S=new Set,T=new Set,R=t.timelines.map($=>{const ne=$.element;S.add(ne);const me=ne[u2];if(me&&me.removedBeforeQueried)return new _d($.duration,$.delay);const ze=ne!==g,Ke=function pQ(n){const e=[];return KM(n,e),e}((r.get(ne)||oQ).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===ne),nt=c.get(ne),Ye=u.get(ne),bt=wM(0,this._normalizer,0,$.keyframes,nt,Ye),_t=this._buildPlayer($,bt,Ke);if($.subTimeline&&i&&T.add(ne),ze){const tn=new xC(e,f,ne);tn.setRealPlayer(_t),w.push(tn)}return _t});w.forEach($=>{Ms(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function uQ(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,$.element,$))}),S.forEach($=>h2($,xM));const H=E0(R);return H.onDestroy(()=>{S.forEach($=>l5($,xM)),Ga(g,t.toStyles)}),T.forEach($=>{Ms(i,$,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new _d(e.duration,e.delay)}}class xC{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new _d,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>lC(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ms(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Wm(n){return n&&1===n.nodeType}function qM(n,e){const t=n.style.display;return n.style.display=e??"none",t}function WM(n,e,t,r,i){const c=[];t.forEach(g=>c.push(qM(g)));const u=[];r.forEach((g,w)=>{const S=new Map;g.forEach(T=>{const R=e.computeStyle(w,T,i);S.set(T,R),(!R||0==R.length)&&(w[u2]=aQ,u.push(w))}),n.set(w,S)});let f=0;return t.forEach(g=>qM(g,c[f++])),u}function ZM(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),c=new Map;function u(f){if(!f)return 1;let g=c.get(f);if(g)return g;const w=f.parentNode;return g=t.has(w)?w:i.has(w)?1:u(w),c.set(f,g),g}return e.forEach(f=>{const g=u(f);1!==g&&t.get(g).push(f)}),t}function h2(n,e){n.classList?.add(e)}function l5(n,e){n.classList?.remove(e)}function dQ(n,e,t){E0(t).onDone(()=>n.processLeaveNode(e))}function KM(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof oM?KM(r.players,e):e.push(r)}}function QM(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(c=>i.add(c)):e.set(n,r),t.delete(n),!0}class Zm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,c)=>{},this._transitionEngine=new lQ(e,t,r),this._timelineEngine=new tQ(e,t,r),this._transitionEngine.onRemovalComplete=(i,c)=>this.onRemovalComplete(i,c)}registerTrigger(e,t,r,i,c){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const g=[],S=CC(this._driver,c,g,[]);if(g.length)throw function XZ(n,e){return new v.vHH(3404,!1)}();f=function YK(n,e,t){return new JK(n,e,t)}(i,S,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[c,u]=bM(r);this._timelineEngine.command(c,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,c){if("@"==r.charAt(0)){const[u,f]=bM(r);return this._timelineEngine.listen(u,t,f,c)}return this._transitionEngine.listen(e,t,r,i,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vQ=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Ga(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ga(this._element,this._initialStyles),this._endStyles&&(Ga(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vl(this._element,this._endStyles),this._endStyles=null),Ga(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NC(n){let e=null;return n.forEach((t,r)=>{(function yQ(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class YM{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:PM(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _Q{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SM(e,t)}getParentElement(e){return dC(e)}query(e,t,r){return AM(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,c,u=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};c&&(g.easing=c);const w=new Map,S=u.filter(H=>H instanceof YM);(function EK(n,e){return 0===n||0===e})(r,i)&&S.forEach(H=>{H.currentSnapshot.forEach(($,ne)=>w.set(ne,$))});let T=function _K(n){return n.length?n[0]instanceof Map?n:n.map(e=>NM(e)):[]}(t).map(H=>M0(H));T=function MK(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((c,u)=>{r.has(u)||i.push(u),r.set(u,c)}),i.length)for(let c=1;c<e.length;c++){let u=e[c];i.forEach(f=>u.set(f,PM(n,f)))}}return e}(e,T,w);const R=function gQ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=NC(e[0]),e.length>1&&(r=NC(e[e.length-1]))):e instanceof Map&&(t=NC(e)),t||r?new vQ(n,t,r):null}(e,T);return new YM(e,T,g,R)}}let CQ=(()=>{class n extends tM{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?rM(t):t;return JM(this._renderer,null,r,"register",[i]),new wQ(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(le))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class wQ extends class fZ{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new bQ(this._id,e,t||{},this._renderer)}}class bQ{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JM(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JM(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const XM="@.disabled";let EQ=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,u)=>{const f=u?.parentNode(c);f&&u.removeChild(f,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(c);return S||(S=new eI("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,S)),S}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=S=>{Array.isArray(S)?S.forEach(g):this.engine.registerTrigger(u,f,t,S.name,S)};return r.data.animation.forEach(g),new MQ(this,f,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[u,f]=c;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(Zm),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class eI{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==XM?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class MQ extends eI{constructor(e,t,r,i,c){super(t,r,i,c),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==XM?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function IQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),u="";return"@"!=c.charAt(0)&&([c,u]=function SQ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,i,c,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let AQ=(()=>{class n extends Zm{constructor(t,r,i,c){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(le),v.LFG(pC),v.LFG(IC),v.LFG(v.z2F))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const tI=[{provide:tM,useClass:CQ},{provide:IC,useFactory:function DQ(){return new WK}},{provide:Zm,useClass:AQ},{provide:v.FYo,useFactory:function TQ(n,e,t){return new EQ(n,e,t)},deps:[es,Zm,v.R0b]}],LC=[{provide:pC,useFactory:()=>new _Q},{provide:v.QbO,useValue:"BrowserAnimations"},...tI],nI=[{provide:pC,useClass:DM},{provide:v.QbO,useValue:"NoopAnimations"},...tI];let xQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nI:LC}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:LC,imports:[Zo]}),n})();const rI_firebase={projectId:"tubular-cccbd",appId:"1:990028114373:web:bf29b487880603fb1543ac",databaseURL:"https://tubular-cccbd-default-rtdb.firebaseio.com",storageBucket:"tubular-cccbd.appspot.com",apiKey:"AIzaSyA6F-mX06HCp46CBVOpZ07oSlFJuKm1FUw",authDomain:"tubular-cccbd.firebaseapp.com",messagingSenderId:"990028114373",measurementId:"G-8WS0Q8EVHW"};let NQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n,bootstrap:[gZ]}),n.\u0275inj=v.cJS({providers:[aM],imports:[Zo,t7,aZ,NZ,xQ,Oi.hO.initializeApp(rI_firebase),BA]}),n})();(0,v.G48)(),Wo().bootstrapModule(NQ).catch(n=>console.error(n))},9751:(dt,Ae,P)=>{P.d(Ae,{y:()=>fe});var v=P(2961),X=P(727),z=P(8822),ae=P(9635),oe=P(2416),he=P(576),le=P(2806);let fe=(()=>{class K{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const be=new K;return be.source=this,be.operator=Ne,be}subscribe(Ne,be,st){const ve=function j(K){return K&&K instanceof v.Lv||function U(K){return K&&(0,he.m)(K.next)&&(0,he.m)(K.error)&&(0,he.m)(K.complete)}(K)&&(0,X.Nn)(K)}(Ne)?Ne:new v.Hp(Ne,be,st);return(0,le.x)(()=>{const{operator:pe,source:et}=this;ve.add(pe?pe.call(ve,et):et?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(be){Ne.error(be)}}forEach(Ne,be){return new(be=de(be))((st,ve)=>{const pe=new v.Hp({next:et=>{try{Ne(et)}catch(ct){ve(ct),pe.unsubscribe()}},error:ve,complete:st});this.subscribe(pe)})}_subscribe(Ne){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Ne)}[z.L](){return this}pipe(...Ne){return(0,ae.U)(Ne)(this)}toPromise(Ne){return new(Ne=de(Ne))((be,st)=>{let ve;this.subscribe(pe=>ve=pe,pe=>st(pe),()=>be(ve))})}}return K.create=Oe=>new K(Oe),K})();function de(K){var Oe;return null!==(Oe=K??oe.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(dt,Ae,P)=>{P.d(Ae,{x:()=>le});var v=P(9751),X=P(727);const ae=(0,P(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),he=P(2806);let le=(()=>{class de extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new fe(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:Oe,observers:Ne}=this;return K||Oe?X.Lc:(this.currentObservers=null,Ne.push(j),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(Ne,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:Oe,isStopped:Ne}=this;K?j.error(Oe):Ne&&j.complete()}asObservable(){const j=new v.y;return j.source=this,j}}return de.create=(U,j)=>new fe(U,j),de})();class fe extends le{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,U)}error(U){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==K?K:X.Lc}}},2961:(dt,Ae,P)=>{P.d(Ae,{Hp:()=>st,Lv:()=>K});var v=P(576),X=P(727),z=P(2416),ae=P(7849);function oe(){}const he=de("C",void 0,void 0);function de(Te,Ce,Ee){return{kind:Te,value:Ce,error:Ee}}var U=P(3410),j=P(2806);class K extends X.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,X.Nn)(Ce)&&Ce.add(this)):this.destination=ct}static create(Ce,Ee,Fe){return new st(Ce,Ee,Fe)}next(Ce){this.isStopped?et(function fe(Te){return de("N",Te,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?et(function le(Te){return de("E",void 0,Te)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?et(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Ne(Te,Ce){return Oe.call(Te,Ce)}class be{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ce)}catch(Fe){ve(Fe)}}error(Ce){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ce)}catch(Fe){ve(Fe)}else ve(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ee){ve(Ee)}}}class st extends K{constructor(Ce,Ee,Fe){let Be;if(super(),(0,v.m)(Ce)||!Ce)Be={next:Ce??void 0,error:Ee??void 0,complete:Fe??void 0};else{let F;this&&z.v.useDeprecatedNextContext?(F=Object.create(Ce),F.unsubscribe=()=>this.unsubscribe(),Be={next:Ce.next&&Ne(Ce.next,F),error:Ce.error&&Ne(Ce.error,F),complete:Ce.complete&&Ne(Ce.complete,F)}):Be=Ce}this.destination=new be(Be)}}function ve(Te){z.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Te):(0,ae.h)(Te)}function et(Te,Ce){const{onStoppedNotification:Ee}=z.v;Ee&&U.z.setTimeout(()=>Ee(Te,Ce))}const ct={closed:!0,next:oe,error:function pe(Te){throw Te},complete:oe}},727:(dt,Ae,P)=>{P.d(Ae,{Lc:()=>he,w0:()=>oe,Nn:()=>le});var v=P(576);const z=(0,P(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,Oe)=>`${Oe+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=P(8737);class oe{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ne of j)Ne.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,v.m)(K))try{K()}catch(Ne){U=Ne instanceof z?Ne.errors:[Ne]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Ne of Oe)try{fe(Ne)}catch(be){U=U??[],be instanceof z?U=[...U,...be.errors]:U.push(be)}}if(U)throw new z(U)}}add(U){var j;if(U&&U!==this)if(this.closed)fe(U);else{if(U instanceof oe){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,ae.P)(j,U),U instanceof oe&&U._removeParent(this)}}oe.EMPTY=(()=>{const de=new oe;return de.closed=!0,de})();const he=oe.EMPTY;function le(de){return de instanceof oe||de&&"closed"in de&&(0,v.m)(de.remove)&&(0,v.m)(de.add)&&(0,v.m)(de.unsubscribe)}function fe(de){(0,v.m)(de)?de():de.unsubscribe()}},2416:(dt,Ae,P)=>{P.d(Ae,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Ae,P)=>{P.d(Ae,{E:()=>X});const X=new(P(9751).y)(oe=>oe.complete())},8996:(dt,Ae,P)=>{P.d(Ae,{D:()=>Ce});var v=P(8421),X=P(5363),z=P(9468),he=P(9751),fe=P(2202),de=P(576),U=P(9672);function K(Ee,Fe){if(!Ee)throw new Error("Iterable cannot be null");return new he.y(Be=>{(0,U.f)(Be,Fe,()=>{const F=Ee[Symbol.asyncIterator]();(0,U.f)(Be,Fe,()=>{F.next().then(ge=>{ge.done?Be.complete():Be.next(ge.value)})},0,!0)})})}var Oe=P(3670),Ne=P(8239),be=P(1144),st=P(6495),ve=P(2206),pe=P(4532),et=P(3260);function Ce(Ee,Fe){return Fe?function Te(Ee,Fe){if(null!=Ee){if((0,Oe.c)(Ee))return function ae(Ee,Fe){return(0,v.Xf)(Ee).pipe((0,z.R)(Fe),(0,X.Q)(Fe))}(Ee,Fe);if((0,be.z)(Ee))return function le(Ee,Fe){return new he.y(Be=>{let F=0;return Fe.schedule(function(){F===Ee.length?Be.complete():(Be.next(Ee[F++]),Be.closed||this.schedule())})})}(Ee,Fe);if((0,Ne.t)(Ee))return function oe(Ee,Fe){return(0,v.Xf)(Ee).pipe((0,z.R)(Fe),(0,X.Q)(Fe))}(Ee,Fe);if((0,ve.D)(Ee))return K(Ee,Fe);if((0,st.T)(Ee))return function j(Ee,Fe){return new he.y(Be=>{let F;return(0,U.f)(Be,Fe,()=>{F=Ee[fe.h](),(0,U.f)(Be,Fe,()=>{let ge,W;try{({value:ge,done:W}=F.next())}catch(J){return void Be.error(J)}W?Be.complete():Be.next(ge)},0,!0)}),()=>(0,de.m)(F?.return)&&F.return()})}(Ee,Fe);if((0,et.L)(Ee))return function ct(Ee,Fe){return K((0,et.Q)(Ee),Fe)}(Ee,Fe)}throw(0,pe.z)(Ee)}(Ee,Fe):(0,v.Xf)(Ee)}},8421:(dt,Ae,P)=>{P.d(Ae,{Xf:()=>Oe});var v=P(655),X=P(1144),z=P(8239),ae=P(9751),oe=P(3670),he=P(2206),le=P(4532),fe=P(6495),de=P(3260),U=P(576),j=P(7849),K=P(8822);function Oe(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,oe.c)(Te))return function Ne(Te){return new ae.y(Ce=>{const Ee=Te[K.L]();if((0,U.m)(Ee.subscribe))return Ee.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,X.z)(Te))return function be(Te){return new ae.y(Ce=>{for(let Ee=0;Ee<Te.length&&!Ce.closed;Ee++)Ce.next(Te[Ee]);Ce.complete()})}(Te);if((0,z.t)(Te))return function st(Te){return new ae.y(Ce=>{Te.then(Ee=>{Ce.closed||(Ce.next(Ee),Ce.complete())},Ee=>Ce.error(Ee)).then(null,j.h)})}(Te);if((0,he.D)(Te))return pe(Te);if((0,fe.T)(Te))return function ve(Te){return new ae.y(Ce=>{for(const Ee of Te)if(Ce.next(Ee),Ce.closed)return;Ce.complete()})}(Te);if((0,de.L)(Te))return function et(Te){return pe((0,de.Q)(Te))}(Te)}throw(0,le.z)(Te)}function pe(Te){return new ae.y(Ce=>{(function ct(Te,Ce){var Ee,Fe,Be,F;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,v.KL)(Te);!(Fe=yield Ee.next()).done;)if(Ce.next(Fe.value),Ce.closed)return}catch(ge){Be={error:ge}}finally{try{Fe&&!Fe.done&&(F=Ee.return)&&(yield F.call(Ee))}finally{if(Be)throw Be.error}}Ce.complete()})})(Te,Ce).catch(Ee=>Ce.error(Ee))})}},6451:(dt,Ae,P)=>{P.d(Ae,{T:()=>he});var v=P(8189),X=P(8421),z=P(515),ae=P(7669),oe=P(8996);function he(...le){const fe=(0,ae.yG)(le),de=(0,ae._6)(le,1/0),U=le;return U.length?1===U.length?(0,X.Xf)(U[0]):(0,v.J)(de)((0,oe.D)(U,fe)):z.E}},5403:(dt,Ae,P)=>{P.d(Ae,{x:()=>X});var v=P(2961);function X(ae,oe,he,le,fe){return new z(ae,oe,he,le,fe)}class z extends v.Lv{constructor(oe,he,le,fe,de,U){super(oe),this.onFinalize=de,this.shouldUnsubscribe=U,this._next=he?function(j){try{he(j)}catch(K){oe.error(K)}}:super._next,this._error=fe?function(j){try{fe(j)}catch(K){oe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(dt,Ae,P)=>{P.d(Ae,{U:()=>z});var v=P(4482),X=P(5403);function z(ae,oe){return(0,v.e)((he,le)=>{let fe=0;he.subscribe((0,X.x)(le,de=>{le.next(ae.call(oe,de,fe++))}))})}},8189:(dt,Ae,P)=>{P.d(Ae,{J:()=>z});var v=P(5577),X=P(4671);function z(ae=1/0){return(0,v.z)(X.y,ae)}},5577:(dt,Ae,P)=>{P.d(Ae,{z:()=>fe});var v=P(4004),X=P(8421),z=P(4482),ae=P(9672),oe=P(5403),le=P(576);function fe(de,U,j=1/0){return(0,le.m)(U)?fe((K,Oe)=>(0,v.U)((Ne,be)=>U(K,Ne,Oe,be))((0,X.Xf)(de(K,Oe))),j):("number"==typeof U&&(j=U),(0,z.e)((K,Oe)=>function he(de,U,j,K,Oe,Ne,be,st){const ve=[];let pe=0,et=0,ct=!1;const Te=()=>{ct&&!ve.length&&!pe&&U.complete()},Ce=Fe=>pe<K?Ee(Fe):ve.push(Fe),Ee=Fe=>{Ne&&U.next(Fe),pe++;let Be=!1;(0,X.Xf)(j(Fe,et++)).subscribe((0,oe.x)(U,F=>{Oe?.(F),Ne?Ce(F):U.next(F)},()=>{Be=!0},void 0,()=>{if(Be)try{for(pe--;ve.length&&pe<K;){const F=ve.shift();be?(0,ae.f)(U,be,()=>Ee(F)):Ee(F)}Te()}catch(F){U.error(F)}}))};return de.subscribe((0,oe.x)(U,Ce,()=>{ct=!0,Te()})),()=>{st?.()}}(K,Oe,de,j)))}},5363:(dt,Ae,P)=>{P.d(Ae,{Q:()=>ae});var v=P(9672),X=P(4482),z=P(5403);function ae(oe,he=0){return(0,X.e)((le,fe)=>{le.subscribe((0,z.x)(fe,de=>(0,v.f)(fe,oe,()=>fe.next(de),he),()=>(0,v.f)(fe,oe,()=>fe.complete(),he),de=>(0,v.f)(fe,oe,()=>fe.error(de),he)))})}},3099:(dt,Ae,P)=>{P.d(Ae,{B:()=>oe});var v=P(8421),X=P(7579),z=P(2961),ae=P(4482);function oe(le={}){const{connector:fe=(()=>new X.x),resetOnError:de=!0,resetOnComplete:U=!0,resetOnRefCountZero:j=!0}=le;return K=>{let Oe,Ne,be,st=0,ve=!1,pe=!1;const et=()=>{Ne?.unsubscribe(),Ne=void 0},ct=()=>{et(),Oe=be=void 0,ve=pe=!1},Te=()=>{const Ce=Oe;ct(),Ce?.unsubscribe()};return(0,ae.e)((Ce,Ee)=>{st++,!pe&&!ve&&et();const Fe=be=be??fe();Ee.add(()=>{st--,0===st&&!pe&&!ve&&(Ne=he(Te,j))}),Fe.subscribe(Ee),!Oe&&st>0&&(Oe=new z.Hp({next:Be=>Fe.next(Be),error:Be=>{pe=!0,et(),Ne=he(ct,de,Be),Fe.error(Be)},complete:()=>{ve=!0,et(),Ne=he(ct,U),Fe.complete()}}),(0,v.Xf)(Ce).subscribe(Oe))})(K)}}function he(le,fe,...de){if(!0===fe)return void le();if(!1===fe)return;const U=new z.Hp({next:()=>{U.unsubscribe(),le()}});return fe(...de).subscribe(U)}},9468:(dt,Ae,P)=>{P.d(Ae,{R:()=>X});var v=P(4482);function X(z,ae=0){return(0,v.e)((oe,he)=>{he.add(z.schedule(()=>oe.subscribe(he),ae))})}},8505:(dt,Ae,P)=>{P.d(Ae,{b:()=>oe});var v=P(576),X=P(4482),z=P(5403),ae=P(4671);function oe(he,le,fe){const de=(0,v.m)(he)||le||fe?{next:he,error:le,complete:fe}:he;return de?(0,X.e)((U,j)=>{var K;null===(K=de.subscribe)||void 0===K||K.call(de);let Oe=!0;U.subscribe((0,z.x)(j,Ne=>{var be;null===(be=de.next)||void 0===be||be.call(de,Ne),j.next(Ne)},()=>{var Ne;Oe=!1,null===(Ne=de.complete)||void 0===Ne||Ne.call(de),j.complete()},Ne=>{var be;Oe=!1,null===(be=de.error)||void 0===be||be.call(de,Ne),j.error(Ne)},()=>{var Ne,be;Oe&&(null===(Ne=de.unsubscribe)||void 0===Ne||Ne.call(de)),null===(be=de.finalize)||void 0===be||be.call(de)}))}):ae.y}},4408:(dt,Ae,P)=>{P.d(Ae,{o:()=>oe});var v=P(727);class X extends v.w0{constructor(le,fe){super()}schedule(le,fe=0){return this}}const z={setInterval(he,le,...fe){const{delegate:de}=z;return de?.setInterval?de.setInterval(he,le,...fe):setInterval(he,le,...fe)},clearInterval(he){const{delegate:le}=z;return(le?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=P(8737);class oe extends X{constructor(le,fe){super(le,fe),this.scheduler=le,this.work=fe,this.pending=!1}schedule(le,fe=0){var de;if(this.closed)return this;this.state=le;const U=this.id,j=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(j,U,fe)),this.pending=!0,this.delay=fe,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,fe),this}requestAsyncId(le,fe,de=0){return z.setInterval(le.flush.bind(le,this),de)}recycleAsyncId(le,fe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return fe;null!=fe&&z.clearInterval(fe)}execute(le,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(le,fe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,fe){let U,de=!1;try{this.work(le)}catch(j){de=!0,U=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:le,scheduler:fe}=this,{actions:de}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(de,this),null!=le&&(this.id=this.recycleAsyncId(fe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Ae,P)=>{P.d(Ae,{v:()=>z});var v=P(6063);class X{constructor(oe,he=X.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,le){return new this.schedulerActionCtor(this,oe).schedule(le,he)}}X.now=v.l.now;class z extends X{constructor(oe,he=X.now){super(oe,he),this.actions=[],this._active=!1}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let le;this._active=!0;do{if(le=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,le){for(;oe=he.shift();)oe.unsubscribe();throw le}}}},4986:(dt,Ae,P)=>{P.d(Ae,{z:()=>z});var v=P(4408);const z=new(P(7565).v)(v.o)},6063:(dt,Ae,P)=>{P.d(Ae,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(dt,Ae,P)=>{P.d(Ae,{z:()=>v});const v={setTimeout(X,z,...ae){const{delegate:oe}=v;return oe?.setTimeout?oe.setTimeout(X,z,...ae):setTimeout(X,z,...ae)},clearTimeout(X){const{delegate:z}=v;return(z?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(dt,Ae,P)=>{P.d(Ae,{h:()=>X});const X=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Ae,P)=>{P.d(Ae,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(dt,Ae,P)=>{P.d(Ae,{_6:()=>he,jO:()=>ae,yG:()=>oe});var v=P(576);function z(le){return le[le.length-1]}function ae(le){return(0,v.m)(z(le))?le.pop():void 0}function oe(le){return function X(le){return le&&(0,v.m)(le.schedule)}(z(le))?le.pop():void 0}function he(le,fe){return"number"==typeof z(le)?le.pop():fe}},8737:(dt,Ae,P)=>{function v(X,z){if(X){const ae=X.indexOf(z);0<=ae&&X.splice(ae,1)}}P.d(Ae,{P:()=>v})},3888:(dt,Ae,P)=>{function v(X){const ae=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(Ae,{d:()=>v})},2806:(dt,Ae,P)=>{P.d(Ae,{O:()=>ae,x:()=>z});var v=P(2416);let X=null;function z(oe){if(v.v.useDeprecatedSynchronousErrorHandling){const he=!X;if(he&&(X={errorThrown:!1,error:null}),oe(),he){const{errorThrown:le,error:fe}=X;if(X=null,le)throw fe}}else oe()}function ae(oe){v.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(dt,Ae,P)=>{function v(X,z,ae,oe=0,he=!1){const le=z.schedule(function(){ae(),he?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(le),!he)return le}P.d(Ae,{f:()=>v})},4671:(dt,Ae,P)=>{function v(X){return X}P.d(Ae,{y:()=>v})},1144:(dt,Ae,P)=>{P.d(Ae,{z:()=>v});const v=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(dt,Ae,P)=>{P.d(Ae,{D:()=>X});var v=P(576);function X(z){return Symbol.asyncIterator&&(0,v.m)(z?.[Symbol.asyncIterator])}},576:(dt,Ae,P)=>{function v(X){return"function"==typeof X}P.d(Ae,{m:()=>v})},3670:(dt,Ae,P)=>{P.d(Ae,{c:()=>z});var v=P(8822),X=P(576);function z(ae){return(0,X.m)(ae[v.L])}},6495:(dt,Ae,P)=>{P.d(Ae,{T:()=>z});var v=P(2202),X=P(576);function z(ae){return(0,X.m)(ae?.[v.h])}},8239:(dt,Ae,P)=>{P.d(Ae,{t:()=>X});var v=P(576);function X(z){return(0,v.m)(z?.then)}},3260:(dt,Ae,P)=>{P.d(Ae,{L:()=>ae,Q:()=>z});var v=P(655),X=P(576);function z(oe){return(0,v.FC)(this,arguments,function*(){const le=oe.getReader();try{for(;;){const{value:fe,done:de}=yield(0,v.qq)(le.read());if(de)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(fe)}}finally{le.releaseLock()}})}function ae(oe){return(0,X.m)(oe?.getReader)}},4482:(dt,Ae,P)=>{P.d(Ae,{A:()=>X,e:()=>z});var v=P(576);function X(ae){return(0,v.m)(ae?.lift)}function z(ae){return oe=>{if(X(oe))return oe.lift(function(he){try{return ae(he,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(dt,Ae,P)=>{P.d(Ae,{U:()=>z,z:()=>X});var v=P(4671);function X(...ae){return z(ae)}function z(ae){return 0===ae.length?v.y:1===ae.length?ae[0]:function(he){return ae.reduce((le,fe)=>fe(le),he)}}},7849:(dt,Ae,P)=>{P.d(Ae,{h:()=>z});var v=P(2416),X=P(3410);function z(ae){X.z.setTimeout(()=>{const{onUnhandledError:oe}=v.v;if(!oe)throw ae;oe(ae)})}},4532:(dt,Ae,P)=>{function v(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ae,{z:()=>v})},655:(dt,Ae,P)=>{function ae(W,J){var se={};for(var ie in W)Object.prototype.hasOwnProperty.call(W,ie)&&J.indexOf(ie)<0&&(se[ie]=W[ie]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ie=Object.getOwnPropertySymbols(W);Re<ie.length;Re++)J.indexOf(ie[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,ie[Re])&&(se[ie[Re]]=W[ie[Re]])}return se}function fe(W,J,se,ie){return new(se||(se=Promise))(function(ke,pt){function nn(dn){try{Ze(ie.next(dn))}catch(Sn){pt(Sn)}}function $t(dn){try{Ze(ie.throw(dn))}catch(Sn){pt(Sn)}}function Ze(dn){dn.done?ke(dn.value):function Re(ke){return ke instanceof se?ke:new se(function(pt){pt(ke)})}(dn.value).then(nn,$t)}Ze((ie=ie.apply(W,J||[])).next())})}function ve(W){return this instanceof ve?(this.v=W,this):new ve(W)}function pe(W,J,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ie=se.apply(W,J||[]),ke=[];return Re={},pt("next"),pt("throw"),pt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function pt(Yt){ie[Yt]&&(Re[Yt]=function(rn){return new Promise(function(Vr,Pt){ke.push([Yt,rn,Vr,Pt])>1||nn(Yt,rn)})})}function nn(Yt,rn){try{!function $t(Yt){Yt.value instanceof ve?Promise.resolve(Yt.value.v).then(Ze,dn):Sn(ke[0][2],Yt)}(ie[Yt](rn))}catch(Vr){Sn(ke[0][3],Vr)}}function Ze(Yt){nn("next",Yt)}function dn(Yt){nn("throw",Yt)}function Sn(Yt,rn){Yt(rn),ke.shift(),ke.length&&nn(ke[0][0],ke[0][1])}}function ct(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,J=W[Symbol.asyncIterator];return J?J.call(W):(W=function K(W){var J="function"==typeof Symbol&&Symbol.iterator,se=J&&W[J],ie=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ie>=W.length&&(W=void 0),{value:W&&W[ie++],done:!W}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},ie("next"),ie("throw"),ie("return"),se[Symbol.asyncIterator]=function(){return this},se);function ie(ke){se[ke]=W[ke]&&function(pt){return new Promise(function(nn,$t){!function Re(ke,pt,nn,$t){Promise.resolve($t).then(function(Ze){ke({value:Ze,done:nn})},pt)}(nn,$t,(pt=W[ke](pt)).done,pt.value)})}}}P.d(Ae,{FC:()=>pe,KL:()=>ct,_T:()=>ae,mG:()=>fe,qq:()=>ve})},4650:(dt,Ae,P)=>{P.d(Ae,{$8M:()=>Yo,$Z:()=>ps,AFp:()=>Af,AaK:()=>fe,AsE:()=>Nh,CRH:()=>N8,CZH:()=>V8,CqO:()=>Mh,D6c:()=>yy,EJc:()=>Zr,EiD:()=>kd,F$t:()=>$7,F4k:()=>q1,FYo:()=>u3,FiY:()=>Ue,G48:()=>dy,GfV:()=>Wd,Hsn:()=>V3,Ikx:()=>q3,JOm:()=>ci,JVY:()=>n3,L6k:()=>r3,LAX:()=>i3,LFG:()=>Dn,LSH:()=>v6,Lbi:()=>mp,Lck:()=>x9,MMx:()=>Qh,NdJ:()=>o8,OlP:()=>In,PXZ:()=>Ip,Q6J:()=>R3,QGY:()=>P6,QP$:()=>Jt,QbO:()=>gp,Qsj:()=>yg,R0b:()=>di,RDi:()=>y,Rgc:()=>r0,SBq:()=>Hc,Sil:()=>vp,Suo:()=>x8,TTD:()=>X1,TgZ:()=>t4,X6Q:()=>fy,XFs:()=>Qe,Xpm:()=>Ie,Xts:()=>bu,Y36:()=>J2,YKP:()=>Y6,YNc:()=>R6,Yjl:()=>we,Yz7:()=>rn,Z0I:()=>Q1,ZZ4:()=>wl,_UZ:()=>r8,_Vd:()=>da,_c5:()=>jp,_uU:()=>ce,aQg:()=>Ha,c2e:()=>iy,cJS:()=>Pt,cg1:()=>h4,dDg:()=>h0,dqk:()=>ln,eBb:()=>Oc,eFA:()=>q8,eoX:()=>B8,f3M:()=>M,g9A:()=>l0,h0i:()=>g4,hGG:()=>g0,iGM:()=>Pr,ifc:()=>ht,ip1:()=>Sf,jDz:()=>N9,kL8:()=>c9,lG2:()=>Z,lqb:()=>fa,lri:()=>bp,mCW:()=>Js,oAB:()=>Ut,oJD:()=>z5,oxw:()=>B7,pB0:()=>vu,q3G:()=>Jn,q4F:()=>Zd,qLn:()=>Fc,qZA:()=>O3,qzn:()=>A1,rWj:()=>b4,sBO:()=>gl,sIi:()=>L3,s_b:()=>T8,soG:()=>u0,tb:()=>Df,tp0:()=>ut,uIk:()=>e8,vHH:()=>be,vpe:()=>ws,wAp:()=>St,xp6:()=>Xd,z2F:()=>E4,z3N:()=>cr,zSh:()=>F5,zs3:()=>Uc});var v=P(7579),X=P(727),z=P(9751),ae=P(6451),oe=P(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=he({__forward_ref__:he});function j(s){return s.__forward_ref__=j,s.toString=function(){return fe(this())},s}function K(s){return function Oe(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===j}(s)?s():s}class be extends Error{constructor(o,a){super(function st(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s,o){throw new be(-201,!1)}function $t(s,o){null==s&&function Ze(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Pt(s){return{providers:s.providers||[],imports:s.imports||[]}}function vn(s){return C1(s,w1)||C1(s,l1)}function Q1(s){return null!==vn(s)}function C1(s,o){return s.hasOwnProperty(o)?s[o]:null}function Bi(s){return s&&(s.hasOwnProperty(c1)||s.hasOwnProperty(d2))?s[c1]:null}const w1=he({\u0275prov:he}),c1=he({\u0275inj:he}),l1=he({ngInjectableDef:he}),d2=he({ngInjectorDef:he});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let Sr;function nr(s){const o=Sr;return Sr=s,o}function u1(s,o,a){const l=vn(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Qe.Optional?null:void 0!==o?o:void Ce(fe(s))}function Hn(s){return{toString:s}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),ht=(()=>{return(s=ht||(ht={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ht;var s})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jr={},Nt=[],yi=he({\u0275cmp:he}),sn=he({\u0275dir:he}),P1=he({\u0275pipe:he}),on=he({\u0275mod:he}),rr=he({\u0275fac:he}),Fr=he({__NG_ELEMENT_ID__:he});let rt=0;function Ie(s){return Hn(()=>{const a=!0===s.standalone,l={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Nt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ht.Emulated,id:"c"+rt++,styles:s.styles||Nt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,_=s.features;return h.inputs=V(s.inputs,l),h.outputs=V(s.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Dt).filter(Lt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(mt).filter(Lt):null,h})}function Dt(s){return Y(s)||Ge(s)}function Lt(s){return null!==s}function Ut(s){return Hn(()=>({type:s.type,bootstrap:s.bootstrap||Nt,declarations:s.declarations||Nt,imports:s.imports||Nt,exports:s.exports||Nt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function V(s,o){if(null==s)return Jr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const Z=Ie;function we(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Y(s){return s[yi]||null}function Ge(s){return s[sn]||null}function mt(s){return s[P1]||null}function Jt(s){const o=Y(s)||Ge(s)||mt(s);return null!==o&&o.standalone}function wn(s,o){const a=s[on]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function dr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ur(s){return Array.isArray(s)&&!0===s[1]}function Eo(s){return 0!=(8&s.flags)}function g2(s){return 2==(2&s.flags)}function Qa(s){return 1==(1&s.flags)}function Ar(s){return null!==s.template}function S0(s){return 0!=(256&s[2])}function V1(s,o){return s.hasOwnProperty(rr)?s[rr]:null}class J1{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function X1(){return qi}function qi(s){return s.type.prototype.ngOnChanges&&(s.setInput=Io),v2}function v2(){const s=T0(this),o=s?.current;if(o){const a=s.previous;if(a===Jr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Io(s,o,a,l){const h=T0(s)||function y2(s,o){return s[ec]=o}(s,{previous:Jr,current:null}),p=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[a],E=_[b];p[b]=new J1(E&&E.currentValue,o,_===Jr),s[l]=o}X1.ngInherit=!0;const ec="__ngSimpleChanges__";function T0(s){return s[ec]||null}function Rn(s){for(;Array.isArray(s);)s=s[0];return s}function Dr(s,o){return Rn(o[s.index])}function Wi(s,o){return s.data[o]}function Qt(s,o){const a=o[s];return dr(a)?a:a[0]}function Zi(s){return 64==(64&s[2])}function E1(s,o){return null==o?null:s[o]}function xo(s){s[18]=0}function zn(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const Tt={lFrame:fc(null),bindingsEnabled:!0};function ni(){return Tt.bindingsEnabled}function Se(){return Tt.lFrame.lView}function Wt(){return Tt.lFrame.tView}function Pn(){let s=ko();for(;null!==s&&64===s.type;)s=s.parent;return s}function ko(){return Tt.lFrame.currentTNode}function d1(s,o){const a=Tt.lFrame;a.currentTNode=s,a.isParent=o}function C2(){return Tt.lFrame.isParent}function w2(){Tt.lFrame.isParent=!1}function Ki(){return Tt.lFrame.bindingIndex++}function Zl(s,o){const a=Tt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ro(o)}function Ro(s){Tt.lFrame.currentDirectiveIndex=s}function lc(){return Tt.lFrame.currentQueryIndex}function I2(s){Tt.lFrame.currentQueryIndex=s}function uc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Po(s,o,a){if(a&Qe.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&Qe.Host||(h=uc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const l=Tt.lFrame=hc();return l.currentTNode=o,l.lView=s,!0}function Oo(s){const o=hc(),a=s[1];Tt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function hc(){const s=Tt.lFrame,o=null===s?null:s.child;return null===o?fc(s):o}function fc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function dc(){const s=Tt.lFrame;return Tt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const j4=dc;function Qi(){const s=dc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function or(){return Tt.lFrame.selectedIndex}function t1(s){Tt.lFrame.selectedIndex=s}function Mn(){const s=Tt.lFrame;return Wi(s.tView,s.selectedIndex)}function Fo(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:N}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(a,N)}}function Ji(s,o,a){Ls(s,o,3,a)}function Ns(s,o,a,l){(3&s[2])===a&&Ls(s,o,a,l)}function q4(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ls(s,o,a,l){const p=l??-1,_=o.length-1;let b=0;for(let E=void 0!==l?65535&s[18]:0;E<_;E++)if("number"==typeof o[E+1]){if(b=o[E],null!=l&&b>=l)break}else o[E]<0&&(s[18]+=65536),(b<p||-1==p)&&(W4(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function W4(s,o,a,l){const h=a[l]<0,p=a[l+1],b=s[h?-a[l]:a[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Si{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function zs(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],_=a[l++],b=a[l++];s.setAttribute(o,_,b,p)}else{const p=h,_=a[++l];$o(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),l++}}return l}function ts(s){return 3===s||4===s||6===s}function $o(s){return 64===s.charCodeAt(0)}function S2(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||K4(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function K4(s,o,a,l,h){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function Q4(s){return-1!==s}function pr(s){return 32767&s}function D2(s,o){let a=function A2(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let F1=!0;function T2(s){const o=F1;return F1=s,o}let Fn=0;const M1={};function ns(s,o){const a=qo(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,N2(l.data,s),N2(o,null),N2(l.blueprint,null));const h=Wo(s,o),p=s.injectorIndex;if(Q4(h)){const _=pr(h),b=D2(h,o),E=b[1].data;for(let A=0;A<8;A++)o[p+A]=b[_+A]|E[_+A]}return o[p+8]=h,p}function N2(s,o){s.push(0,0,0,0,0,0,0,0,o)}function qo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Wo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Ps(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ai(s,o,a){!function Go(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Fr)&&(l=a[Fr]),null==l&&(l=a[Fr]=Fn++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Di(s,o,a){if(a&Qe.Optional||void 0!==s)return s;Ce()}function Zo(s,o,a,l){if(a&Qe.Optional&&void 0===l&&(l=null),0==(a&(Qe.Self|Qe.Host))){const h=s[9],p=nr(void 0);try{return h?h.get(o,l,a&Qe.Optional):u1(o,l,a&Qe.Optional)}finally{nr(p)}}return Di(l,0,a)}function rs(s,o,a,l=Qe.Default,h){if(null!==s){if(1024&o[2]){const _=function Rs(s,o,a,l,h){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=L2(p,_,a,l|Qe.Self,M1);if(b!==M1)return b;let E=p.parent;if(!E){const A=_[21];if(A){const N=A.get(a,M1,l);if(N!==M1)return N}E=Ps(_),_=_[15]}p=E}return h}(s,o,a,l,M1);if(_!==M1)return _}const p=L2(s,o,a,l,M1);if(p!==M1)return p}return Zo(o,a,l,h)}function L2(s,o,a,l,h){const p=function vc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Fr)?s[Fr]:void 0;return"number"==typeof o?o>=0?255&o:yc:o}(a);if("function"==typeof p){if(!Po(o,s,l))return l&Qe.Host?Di(h,0,l):Zo(o,a,l,h);try{const _=p(l);if(null!=_||l&Qe.Optional)return _;Ce()}finally{j4()}}else if("number"==typeof p){let _=null,b=qo(s,o),E=-1,A=l&Qe.Host?o[16][6]:null;for((-1===b||l&Qe.SkipSelf)&&(E=-1===b?Wo(s,o):o[b+8],-1!==E&&z2(l,!1)?(_=o[1],b=pr(E),o=D2(E,o)):b=-1);-1!==b;){const N=o[1];if(Ko(p,b,N.data)){const k=X4(b,o,a,_,l,A);if(k!==M1)return k}E=o[b+8],-1!==E&&z2(l,o[1].data[b+8]===A)&&Ko(p,b,o)?(_=N,b=pr(E),o=D2(E,o)):b=-1}}return h}function X4(s,o,a,l,h,p){const _=o[1],b=_.data[s+8],N=ks(b,_,a,null==l?g2(b)&&F1:l!=_&&0!=(3&b.type),h&Qe.Host&&p===b);return null!==N?ii(o,_,N,b):M1}function ks(s,o,a,l,h){const p=s.providerIndexes,_=o.data,b=1048575&p,E=s.directiveStart,N=p>>20,G=h?b+N:s.directiveEnd;for(let ee=l?b:b+N;ee<G;ee++){const ye=_[ee];if(ee<E&&a===ye||ee>=E&&ye.type===a)return ee}if(h){const ee=_[E];if(ee&&Ar(ee)&&ee.type===a)return E}return null}function ii(s,o,a,l){let h=s[a];const p=o.data;if(function Xi(s){return s instanceof Si}(h)){const _=h;_.resolving&&function et(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new be(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(p[a]));const b=T2(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?nr(_.injectImpl):null;Po(s,l,Qe.Default);try{h=s[a]=_.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function G4(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=qi(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&nr(E),T2(b),_.resolving=!1,j4()}}return h}function Ko(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function z2(s,o){return!(s&Qe.Self||s&Qe.Host&&o)}class is{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return rs(this._tNode,this._lView,o,l,a)}}function yc(){return new is(Pn(),Se())}function Ps(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Yo(s){return function J4(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(ts(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Pn(),s)}const xi="__parameters__";function Hs(s,o,a){return Hn(()=>{const l=function Jo(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return b.annotation=_,b;function b(E,A,N){const k=E.hasOwnProperty(xi)?E[xi]:Object.defineProperty(E,xi,{value:[]})[xi];for(;k.length<=N;)k.push(null);return(k[N]=k[N]||[]).push(_),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class In{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=rn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Nn(l,o)):o!==s&&o.push(l)}return o}function I1(s,o){s.forEach(a=>Array.isArray(a)?I1(a,o):o(a))}function P2(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Br(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ni(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}const S1={},bc="__NG_DI_FLAG__",Bs="ngTempTokenPath",si=/\n/gm,Tr="__source";let Ri;function oi(s){const o=Ri;return Ri=s,o}function Qn(s,o=Qe.Default){if(void 0===Ri)throw new be(-203,!1);return null===Ri?u1(s,void 0,o):Ri.get(s,o&Qe.Optional?null:void 0,o)}function Dn(s,o=Qe.Default){return(function vi(){return Sr}()||Qn)(K(s),o)}function M(s,o=Qe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Dn(s,o)}function I(s){const o=[];for(let a=0;a<s.length;a++){const l=K(s[a]);if(Array.isArray(l)){if(0===l.length)throw new be(900,!1);let h,p=Qe.Default;for(let _=0;_<l.length;_++){const b=l[_],E=O(b);"number"==typeof E?-1===E?h=b.token:p|=E:h=b}o.push(Dn(h,p))}else o.push(Dn(l))}return o}function x(s,o){return s[bc]=o,s.prototype[bc]=o,s}function O(s){return s[bc]}const Ue=x(Hs("Optional"),8),ut=x(Hs("SkipSelf"),4);var ci=(()=>((ci=ci||{})[ci.Important=1]="Important",ci[ci.DashCase=2]="DashCase",ci))();const Dc=new Map;let j0=0;const as="__ngContext__";function Mr(s,o){dr(o)?(s[as]=o[20],function w5(s){Dc.set(s[20],s)}(o)):s[as]=o}function o6(s,o){return undefined(s,o)}function j2(s){const o=s[3];return Ur(o)?o[3]:o}function $2(s){return uu(s[13])}function cs(s){return uu(s[4])}function uu(s){for(;null!==s&&!Ur(s);)s=s[4];return s}function ls(s,o,a,l,h){if(null!=l){let p,_=!1;Ur(l)?p=l:dr(l)&&(_=!0,l=l[0]);const b=Rn(l);0===s&&null!==a?null==h?mu(o,a,b):hs(o,a,b,h||null,!0):1===s&&null!==a?hs(o,a,b,h||null,!0):2===s?function m6(s,o,a){const l=$r(s,o);l&&function K0(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,b,_):3===s&&o.destroyNode(b),null!=p&&function Y0(s,o,a,l,h){const p=a[7];p!==Rn(a)&&ls(o,s,l,p,h);for(let b=10;b<a.length;b++){const E=a[b];Ws(E[1],E,s,o,l,p)}}(o,s,p,a,h)}}function la(s,o,a){return s.createElement(o,a)}function q0(s,o){const a=s[9],l=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,zn(h,-1)),a.splice(l,1)}function W0(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const h=l[17];null!==h&&h!==s&&q0(h,l),o>0&&(s[a-1][4]=l[4]);const p=Br(s,10+o);!function G2(s,o){Ws(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function du(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Ws(s,o,a,3,null,null),function D5(s){let o=s[13];if(!o)return Z0(s[1],s);for(;o;){let a=null;if(dr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)dr(o)&&Z0(o[1],o),o=o[3];null===o&&(o=s),dr(o)&&Z0(o[1],o),a=o&&o[4]}o=a}}(o)}}function Z0(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function pu(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Si)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const b=h[p[_]],E=p[_+1];try{E.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function x5(s,o){const a=s.cleanup,l=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],b="function"==typeof _?_(o):Rn(o[_]),E=l[h=a[p+2]],A=a[p+3];"boolean"==typeof A?b.removeEventListener(a[p],E,A):A>=0?l[h=A]():l[h=-A].unsubscribe(),p+=2}else{const _=l[h=a[p+1]];a[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Ur(o[3])){a!==o[3]&&q0(a,o);const l=o[19];null!==l&&l.detachView(s)}!function n6(s){Dc.delete(s[20])}(o)}}function l6(s,o,a){return function u6(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===ht.None||h===ht.Emulated)return null}return Dr(l,a)}(s,o.parent,a)}function hs(s,o,a,l,h){s.insertBefore(o,a,l,h)}function mu(s,o,a){s.appendChild(o,a)}function Nc(s,o,a,l,h){null!==l?hs(s,o,a,l,h):mu(s,o,a)}function $r(s,o){return s.parentNode(o)}function Q0(s,o,a){return h6(s,o,a)}let ua,t3,m,h6=function Lc(s,o,a){return 40&s.type?Dr(s,a):null};function d6(s,o,a,l){const h=l6(s,l,o),p=o[11],b=Q0(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Nc(p,h,a[E],b,!1);else Nc(p,h,a,b,!1)}function m1(s,o){if(null!==o){const a=o.type;if(3&a)return Dr(o,s);if(4&a)return zc(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return m1(s,l);{const h=s[o.index];return Ur(h)?zc(-1,h):Rn(h)}}if(32&a)return o6(o,s)()||Rn(s[o.index]);{const l=p6(s,o);return null!==l?Array.isArray(l)?l[0]:m1(j2(s[16]),l):m1(s,o.next)}}return null}function p6(s,o){return null!==o?s[16][6].projection[o.projection]:null}function zc(s,o){const a=10+s+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return m1(l,h)}return o[7]}function kc(s,o,a,l,h,p,_){for(;null!=a;){const b=l[a.index],E=a.type;if(_&&0===o&&(b&&Mr(Rn(b),l),a.flags|=4),64!=(64&a.flags))if(8&E)kc(s,o,a.child,l,h,p,!1),ls(o,s,h,b,p);else if(32&E){const A=o6(a,l);let N;for(;N=A();)ls(o,s,h,N,p);ls(o,s,h,b,p)}else 16&E?Zs(s,o,l,a,h,p):ls(o,s,h,b,p);a=_?a.projectionNext:a.next}}function Ws(s,o,a,l,h,p){kc(a,l,s.firstChild,o,h,p,!1)}function Zs(s,o,a,l,h,p){const _=a[16],E=_[6].projection[l.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)ls(o,s,h,E[A],p);else kc(s,o,E,_[3],h,p,!0)}function $1(s,o,a){s.setAttribute(o,"style",a)}function Ks(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Qs(s){return function Rc(){if(void 0===ua&&(ua=null,ln.trustedTypes))try{ua=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ua}()?.createHTML(s)||s}function y(s){t3=s}function D(s){return function C(){if(void 0===m&&(m=null,ln.trustedTypes))try{m=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return m}()?.createHTML(s)||s}class ue{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class He extends ue{getTypeName(){return"HTML"}}class Xe extends ue{getTypeName(){return"Style"}}class It extends ue{getTypeName(){return"Script"}}class yt extends ue{getTypeName(){return"URL"}}class pn extends ue{getTypeName(){return"ResourceURL"}}function cr(s){return s instanceof ue?s.changingThisBreaksApplicationSecurity:s}function A1(s,o){const a=function gu(s){return s instanceof ue&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function n3(s){return new He(s)}function r3(s){return new Xe(s)}function Oc(s){return new It(s)}function i3(s){return new yt(s)}function vu(s){return new pn(s)}class W2{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Qs(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class yu{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Qs(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Qs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Z2=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Js(s){return(s=String(s)).match(Z2)?s:"unsafe:"+s}function K2(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function s3(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const Td=K2("area,br,col,hr,img,wbr"),xd=K2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nd=K2("rp,rt"),o3=s3(Td,s3(xd,K2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),s3(Nd,K2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),s3(Nd,xd)),g6=K2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ld=s3(g6,K2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),K2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ym=K2("script,style,template");class Jm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!o3.hasOwnProperty(a))return this.sanitizedSomething=!0,!Ym.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),_=p.name,b=_.toLowerCase();if(!Ld.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let E=p.value;g6[b]&&(E=Js(E)),this.buf.push(" ",_,'="',zd(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();o3.hasOwnProperty(a)&&!Td.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(zd(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Xm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eg=/([^\#-~ |!])/g;function zd(s){return s.replace(/&/g,"&amp;").replace(Xm,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(eg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _u;function kd(s,o){let a=null;try{_u=_u||function Ys(s){const o=new yu(s);return function L5(){try{return!!(new window.DOMParser).parseFromString(Qs(""),"text/html")}catch{return!1}}()?new W2(o):o}(s);let l=o?String(o):"";a=_u.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=_u.getInertBodyElement(l)}while(l!==p);return Qs((new Jm).sanitizeChildren(Cu(a)||a))}finally{if(a){const l=Cu(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Cu(s){return"content"in s&&function tg(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function z5(s){const o=ha();return o?D(o.sanitize(Jn.HTML,s)||""):A1(s,"HTML")?D(cr(s)):kd(function d(){return void 0!==t3?t3:typeof document<"u"?document:void 0}(),ve(s))}function v6(s){const o=ha();return o?o.sanitize(Jn.URL,s)||"":A1(s,"URL")?cr(s):Js(ve(s))}function ha(){const s=Se();return s&&s[12]}const bu=new In("ENVIRONMENT_INITIALIZER"),y6=new In("INJECTOR",-1),P5=new In("INJECTOR_DEF_TYPES");class Od{get(o,a=S1){if(a===S1){const l=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw l.name="NullInjectorError",l}return a}}function og(...s){return{\u0275providers:Vd(0,s)}}function Vd(s,...o){const a=[],l=new Set;let h;return I1(o,p=>{const _=p;O5(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&Hd(h,a),a}function Hd(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];I1(h,p=>{o.push(p)})}}function O5(s,o,a,l){if(!(s=K(s)))return!1;let h=null,p=Bi(s);const _=!p&&Y(s);if(p||_){if(_&&!_.standalone)return!1;h=s}else{const E=s.ngModule;if(p=Bi(E),!p)return!1;h=E}const b=l.has(h);if(_){if(b)return!1;if(l.add(h),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of E)O5(A,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let A;l.add(h);try{I1(p.imports,N=>{O5(N,o,a,l)&&(A||(A=[]),A.push(N))})}finally{}void 0!==A&&Hd(A,o)}if(!b){const A=V1(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:Nt},{provide:P5,useValue:h,multi:!0},{provide:bu,useValue:()=>Dn(h),multi:!0})}const E=p.providers;null==E||b||I1(E,N=>{o.push(N)})}}return h!==s&&void 0!==s.providers}const ag=he({provide:String,useValue:he});function H5(s){return null!==s&&"object"==typeof s&&ag in s}function Vc(s){return"function"==typeof s}const F5=new In("Set Injector scope."),c3={},lg={};let Eu;function l3(){return void 0===Eu&&(Eu=new Od),Eu}class fa{}class U5 extends fa{constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iu(o,_=>this.processProvider(_)),this.records.set(y6,_6(void 0,this)),h.has("environment")&&this.records.set(fa,_6(void 0,this));const p=this.records.get(F5);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(P5.multi,Nt,Qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=oi(this),l=nr(void 0);try{return o()}finally{oi(a),nr(l)}}get(o,a=S1,l=Qe.Default){this.assertNotDestroyed();const h=oi(this),p=nr(void 0);try{if(!(l&Qe.SkipSelf)){let b=this.records.get(o);if(void 0===b){const E=function jd(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(o)&&vn(o);b=E&&this.injectableDefInScope(E)?_6(Mu(o),c3):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(l&Qe.Self?l3():this.parent).get(o,a=l&Qe.Optional&&a===S1?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Bs]=_[Bs]||[]).unshift(fe(o)),h)throw _;return function Q(s,o,a,l){const h=s[Bs];throw o[Tr]&&h.unshift(o[Tr]),s.message=function te(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];p.push(_+":"+("string"==typeof b?JSON.stringify(b):fe(b)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(si,"\n  ")}`}("\n"+s.message,h,a,l),s.ngTokenPath=h,s[Bs]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{nr(p),oi(h)}}resolveInjectorInitializers(){const o=oi(this),a=nr(void 0);try{const l=this.get(bu.multi,Nt,Qe.Self);for(const h of l)h()}finally{oi(o),nr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(fe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(o){let a=Vc(o=K(o))?o:K(o&&o.provide);const l=function hg(s){return H5(s)?_6(void 0,s.useValue):_6(function Bd(s,o,a){let l;if(Vc(s)){const h=K(s);return V1(h)||Mu(h)}if(H5(s))l=()=>K(s.useValue);else if(function Ud(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...I(s.deps||[]));else if(function Fd(s){return!(!s||!s.useExisting)}(s))l=()=>Dn(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function fg(s){return!!s.deps}(s))return V1(h)||Mu(h);l=()=>new h(...I(s.deps))}return l}(s),c3)}(o);if(Vc(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=_6(void 0,c3,!0),h.factory=()=>I(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===c3&&(a.value=lg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function dg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=K(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Mu(s){const o=vn(s),a=null!==o?o.factory:V1(s);if(null!==a)return a;if(s instanceof In)throw new be(204,!1);if(s instanceof Function)return function ug(s){const o=s.length;if(o>0)throw Ni(o,"?"),new be(204,!1);const a=function Hr(s){const o=s&&(s[w1]||s[l1]);if(o){const a=function Yr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new be(204,!1)}function _6(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function B5(s){return!!s.\u0275providers}function Iu(s,o){for(const a of s)Array.isArray(a)?Iu(a,o):B5(a)?Iu(a.\u0275providers,o):o(a)}class pg{}class gg{resolveComponentFactory(o){throw function mg(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let da=(()=>{class s{}return s.NULL=new gg,s})();function qd(){return pa(Pn(),Se())}function pa(s,o){return new Hc(Dr(s,o))}let Hc=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=qd,s})();function vg(s){return s instanceof Hc?s.nativeElement:s}class u3{}let yg=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function _g(){const s=Se(),a=Qt(Pn().index,s);return(dr(a)?a:s)[11]}(),s})(),Cg=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class Wd{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Zd=new Wd("14.2.12"),Su={};function Au(s){return s.ngOriginalError}class Fc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Au(o);for(;a&&Au(a);)a=Au(a);return a||null}}function Xs(s){return s instanceof Function?s():s}function $5(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}a=h+1}}const xu="ng-template";function Ag(s,o,a){let l=0;for(;l<s.length;){let h=s[l++];if(a&&"class"===h){if(h=s[l],-1!==$5(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Qd(s){return 4===s.type&&s.value!==xu}function Dg(s,o,a){return o===(4!==s.type||a?s.value:xu)}function Yd(s,o,a){let l=4;const h=s.attrs||[],p=function Jd(s){for(let o=0;o<s.length;o++)if(ts(s[o]))return o;return s.length}(h);let _=!1;for(let b=0;b<o.length;b++){const E=o[b];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!Dg(s,E,a)||""===E&&1===o.length){if(ds(l))return!1;_=!0}}else{const A=8&l?E:o[++b];if(8&l&&null!==s.attrs){if(!Ag(s.attrs,A,a)){if(ds(l))return!1;_=!0}continue}const k=BC(8&l?"class":E,h,Qd(s),a);if(-1===k){if(ds(l))return!1;_=!0;continue}if(""!==A){let G;G=k>p?"":h[k+1].toLowerCase();const ee=8&l?G:null;if(ee&&-1!==$5(ee,A,0)||2&l&&A!==G){if(ds(l))return!1;_=!0}}}}else{if(!_&&!ds(l)&&!ds(E))return!1;if(_&&ds(E))continue;_=!1,l=E|1&l}}return ds(l)||_}function ds(s){return 0==(1&s)}function BC(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Tg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function f3(s,o,a=!1){for(let l=0;l<o.length;l++)if(Yd(s,o[l],a))return!0;return!1}function xg(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let h=0;h<s.length;h++)if(s[h]!==l[h])continue e;return!0}}return!1}function G5(s,o){return s?":not("+o.trim()+")":o}function Ng(s){let o=s[0],a=1,l=2,h="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const b=s[++a];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!ds(_)&&(o+=G5(p,h),h=""),l=_,p=p||!ds(l);a++}return""!==h&&(o+=G5(p,h)),o}const Vt={};function Xd(s){q5(Wt(),Se(),or()+s,!1)}function q5(s,o,a,l){if(!l)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ji(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Ns(o,p,0,a)}t1(a)}function Oi(s,o=null,a=null,l){const h=Og(s,o,a,l);return h.resolveInjectorInitializers(),h}function Og(s,o=null,a=null,l,h=new Set){const p=[a||Nt,og(s)];return l=l||("object"==typeof s?void 0:fe(s)),new U5(p,o||l3(),l||null,h)}let Uc=(()=>{class s{static create(a,l){if(Array.isArray(a))return Oi({name:""},l,a,"");{const h=a.name??"";return Oi({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=S1,s.NULL=new Od,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>Dn(y6)}),s.__NG_ELEMENT_ID__=-1,s})();function J2(s,o=Qe.Default){const a=Se();return null===a?Dn(s,o):rs(Pn(),a,K(s),o)}function ps(){throw new Error("invalid")}function nh(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const _=s.data[p];I2(h),_.contentQueries(2,o[p],p)}}}function M6(s,o,a,l,h,p,_,b,E,A,N){const k=o.blueprint.slice();return k[0]=h,k[2]=76|l,(null!==N||s&&1024&s[2])&&(k[2]|=1024),xo(k),k[3]=k[15]=s,k[8]=a,k[10]=_||s&&s[10],k[11]=b||s&&s[11],k[12]=E||s&&s[12]||null,k[9]=A||s&&s[9]||null,k[6]=p,k[20]=function C5(){return j0++}(),k[21]=N,k[16]=2==o.type?s[16]:k,k}function jc(s,o,a,l,h){let p=s.data[o];if(null===p)p=function ih(s,o,a,l,h){const p=ko(),_=C2(),E=s.data[o]=function ev(s,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,a,l,h),function Wl(){return Tt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function xs(){const s=Tt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return d1(p,!0),p}function X2(s,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function E3(s,o,a){Oo(o);try{const l=s.viewQuery;null!==l&&mh(1,l,a);const h=s.template;null!==h&&sh(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&nh(s,o),s.staticViewQueries&&mh(2,s.viewQuery,a);const p=s.components;null!==p&&function Jg(s,o){for(let a=0;a<o.length;a++)M7(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,Qi()}}function I6(s,o,a,l){const h=o[2];if(128!=(128&h)){Oo(o);try{xo(o),function ac(s){return Tt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&sh(s,o,a,2,l);const _=3==(3&h);if(_){const A=s.preOrderCheckHooks;null!==A&&Ji(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Ns(o,A,0,null),q4(o,0)}if(function E7(s){for(let o=$2(s);null!==o;o=cs(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(512&h[2])&&zn(p,1),h[2]|=512}}}(o),function b7(s){for(let o=$2(s);null!==o;o=cs(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];Zi(l)&&I6(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&nh(s,o),_){const A=s.contentCheckHooks;null!==A&&Ji(o,A)}else{const A=s.contentHooks;null!==A&&Ns(o,A,1),q4(o,1)}!function Yg(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)t1(~h);else{const p=h,_=a[++l],b=a[++l];Zl(_,p),b(2,o[p])}}}finally{t1(-1)}}(s,o);const b=s.components;null!==b&&function rh(s,o){for(let a=0;a<o.length;a++)nv(s,o[a])}(o,b);const E=s.viewQuery;if(null!==E&&mh(2,E,l),_){const A=s.viewCheckHooks;null!==A&&Ji(o,A)}else{const A=s.viewHooks;null!==A&&Ns(o,A,2),q4(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,zn(o[3],-1))}finally{Qi()}}}function sh(s,o,a,l,h){const p=or(),_=2&l;try{t1(-1),_&&o.length>22&&q5(s,o,22,!1),a(l,h)}finally{t1(p)}}function $c(s,o,a){!ni()||(function _7(s,o,a,l){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||ns(a,o),Mr(l,o);const _=a.initialInputs;for(let b=h;b<p;b++){const E=s.data[b],A=Ar(E);A&&S3(o,a,E);const N=ii(o,s,b,a);Mr(N,o),null!==_&&dh(0,b-h,N,E,0,_),A&&(Qt(a.index,o)[8]=N)}}(s,o,a,Dr(a,o)),128==(128&a.flags)&&function ch(s,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,_=function cc(){return Tt.lFrame.currentDirectiveIndex}();try{t1(p);for(let b=l;b<h;b++){const E=s.data[b],A=o[b];Ro(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&lh(E,A)}}finally{t1(-1),Ro(_)}}(s,o,a))}function Bu(s,o,a=Dr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],b=-1===_?a(o,s):s[_];s[h++]=b}}}function oh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ju(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ju(s,o,a,l,h,p,_,b,E,A){const N=22+l,k=N+h,G=function $u(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Vt);return a}(N,k),ee="function"==typeof A?A():A;return G[1]={type:s,blueprint:G,template:a,queries:null,viewQuery:b,declTNode:o,data:G.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function Gc(s,o,a,l){const h=gh(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&I7(s).push(l,h.length-1))}function v7(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function Ca(s,o){const l=o.directiveEnd,h=s.data,p=o.attrs,_=[];let b=null,E=null;for(let A=o.directiveStart;A<l;A++){const N=h[A],k=N.inputs,G=null===p||Qd(o)?null:Zu(k,p);_.push(G),b=v7(k,A,b),E=v7(N.outputs,A,E)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=E}function y1(s,o,a,l,h,p,_,b){const E=Dr(o,a);let N,A=o.inputs;!b&&null!=A&&(N=A[l])?(T6(s,a,N,l,h),g2(o)&&ah(a,o.index)):3&o.type&&(l=function y7(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,o.value||"",l):h,p.setProperty(E,l,h))}function ah(s,o){const a=Qt(o,s);16&a[2]||(a[2]|=32)}function Gu(s,o,a,l){let h=!1;if(ni()){const p=function C7(s,o,a){const l=s.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];f3(a,_.selectors,!1)&&(h||(h=[]),Ai(ns(a,o),s,_.type),Ar(_)?(A6(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===l?null:{"":-1};if(null!==p){h=!0,Wu(a,s.data.length,p.length);for(let N=0;N<p.length;N++){const k=p[N];k.providersResolver&&k.providersResolver(k)}let b=!1,E=!1,A=X2(s,o,p.length,null);for(let N=0;N<p.length;N++){const k=p[N];a.mergedAttrs=S2(a.mergedAttrs,k.hostAttrs),I3(s,a,o,A,k),hh(A,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const G=k.type.prototype;!b&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),A++}Ca(s,a)}_&&function uh(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new be(-301,!1);l.push(o[h],p)}}}(a,l,_)}return a.mergedAttrs=S2(a.mergedAttrs,a.attrs),h}function S6(s,o,a,l,h,p){const _=p.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const E=~o.index;(function qu(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=E&&b.push(E),b.push(l,h,_)}}function lh(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function A6(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function hh(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Ar(o)&&(a[""]=s)}}function Wu(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function I3(s,o,a,l,h){s.data[l]=h;const p=h.factory||(h.factory=V1(h.type)),_=new Si(p,Ar(h),J2);s.blueprint[l]=_,a[l]=_,S6(s,o,0,l,X2(s,a,h.hostVars,Vt),h)}function S3(s,o,a){const l=Dr(o,s),h=oh(a),p=s[10],_=wa(s,M6(s,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=_}function gs(s,o,a,l,h,p){const _=Dr(s,o);!function fh(s,o,a,l,h,p,_){if(null==p)s.removeAttribute(o,h,a);else{const b=null==_?ve(p):_(p,l||"",h);s.setAttribute(o,h,b,a)}}(o[11],_,p,s.value,a,l,h)}function dh(s,o,a,l,h,p){const _=p[o];if(null!==_){const b=l.setInput;for(let E=0;E<_.length;){const A=_[E++],N=_[E++],k=_[E++];null!==b?l.setInput(a,k,A,N):a[N]=k}}}function Zu(s,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function ph(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function nv(s,o){const a=Qt(o,s);if(Zi(a)){const l=a[1];48&a[2]?I6(l,a,l.template,a[8]):a[5]>0&&qc(a)}}function qc(s){for(let l=$2(s);null!==l;l=cs(l))for(let h=10;h<l.length;h++){const p=l[h];if(Zi(p))if(512&p[2]){const _=p[1];I6(_,p,_.template,p[8])}else p[5]>0&&qc(p)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Qt(a[l],s);Zi(h)&&h[5]>0&&qc(h)}}function M7(s,o){const a=Qt(o,s),l=a[1];(function Ku(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),E3(l,a,a[8])}function wa(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function eo(s){for(;s;){s[2]|=32;const o=j2(s);if(S0(s)&&!o)return s;s=o}return null}function D6(s,o,a,l=!0){const h=o[10];h.begin&&h.begin();try{I6(s,o,s.template,a)}catch(_){throw l&&n2(o,_),_}finally{h.end&&h.end()}}function mh(s,o,a){I2(0),o(s,a)}function gh(s){return s[7]||(s[7]=[])}function I7(s){return s.cleanup||(s.cleanup=[])}function n2(s,o){const a=s[9],l=a?a.get(Fc,null):null;l&&l.handleError(o)}function T6(s,o,a,l,h){for(let p=0;p<a.length;){const _=a[p++],b=a[p++],E=o[_],A=s.data[_];null!==A.setInput?A.setInput(E,h,l,b):E[b]=h}}function Vi(s,o,a){const l=function f1(s,o){return Rn(o[s])}(o,s);!function G0(s,o,a){s.setValue(o,a)}(s[11],l,a)}function A3(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?p=b:1==p?h=de(h,b):2==p&&(l=de(l,b+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function Ln(s,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Rn(p)),Ur(p))for(let b=10;b<p.length;b++){const E=p[b],A=E[1].firstChild;null!==A&&Ln(E[1],E,A,l)}const _=a.type;if(8&_)Ln(s,o,a.child,l);else if(32&_){const b=o6(a,o);let E;for(;E=b();)l.push(E)}else if(16&_){const b=p6(o,a);if(Array.isArray(b))l.push(...b);else{const E=j2(o[16]);Ln(E[1],E,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class Ea{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ln(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ur(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(W0(o,l),Br(a,l))}this._attachedToViewContainer=!1}du(this._lView[1],this._lView)}onDestroy(o){Gc(this._lView[1],this._lView,null,o)}markForCheck(){eo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){D6(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fu(s,o){Ws(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=o}}class D3 extends Ea{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;D6(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Wc extends da{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Y(o);return new T3(a,this.ngModule)}}function S7(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class iv{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const h=this.injector.get(o,Su,l);return h!==Su||a===Su?h:this.parentInjector.get(o,a,l)}}class T3 extends pg{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Lg(s){return s.map(Ng).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return S7(this.componentDef.inputs)}get outputs(){return S7(this.componentDef.outputs)}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof fa?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new iv(o,p):o,b=_.get(u3,null);if(null===b)throw new be(407,!1);const E=_.get(Cg,null),A=b.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",k=l?function Xg(s,o,a){return s.selectRootElement(o,a===ht.ShadowDom)}(A,l,this.componentDef.encapsulation):la(A,N,function A7(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),G=this.componentDef.onPush?288:272,ee=ju(0,null,null,1,0,null,null,null,null,null),ye=M6(null,ee,null,G,null,null,b,A,E,_,null);let Pe,$e;Oo(ye);try{const at=function D7(s,o,a,l,h,p){const _=a[1];a[22]=s;const E=jc(_,22,2,"#host",null),A=E.mergedAttrs=o.hostAttrs;null!==A&&(A3(E,A,!0),null!==s&&(zs(h,s,A),null!==E.classes&&Ks(h,s,E.classes),null!==E.styles&&$1(h,s,E.styles)));const N=l.createRenderer(s,o),k=M6(a,oh(o),null,o.onPush?32:16,a[22],E,l,N,p||null,null,null);return _.firstCreatePass&&(Ai(ns(E,a),_,o.type),A6(_,E),Wu(E,a.length,1)),wa(a,k),a[22]=k}(k,this.componentDef,ye,b,A);if(k)if(l)zs(A,k,["ng-version",Zd.full]);else{const{attrs:Et,classes:De}=function zg(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&a.push(p);else{if(!ds(h))break;h=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Et&&zs(A,k,Et),De&&De.length>0&&Ks(A,k,De.join(" "))}if($e=Wi(ee,22),void 0!==a){const Et=$e.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const xt=a[De];Et.push(null!=xt?Array.from(xt):null)}}Pe=function T7(s,o,a,l){const h=a[1],p=function D1(s,o,a){const l=Pn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),I3(s,l,o,X2(s,o,1,null),a),Ca(s,l));const h=ii(o,s,l.directiveStart,l);Mr(h,o);const p=Dr(l,o);return p&&Mr(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==l)for(const b of l)b(p,o);if(o.contentQueries){const b=Pn();o.contentQueries(1,p,b.directiveStart)}const _=Pn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(t1(_.index),S6(a[1],_,0,_.directiveStart,_.directiveEnd,o),lh(o,p)),p}(at,this.componentDef,ye,[x7]),E3(ee,ye,null)}finally{Qi()}return new x3(this.componentType,Pe,pa($e,ye),ye,$e)}}class x3 extends class $d{}{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new D3(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;T6(p[1],p,h,o,a),ah(p,this._tNode.index)}}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function x7(){const s=Pn();Fo(Se()[1],s)}let N3=null;function to(){if(!N3){const s=ln.Symbol;if(s&&s.iterator)N3=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(N3=l)}}}return N3}function L3(s){return!!Qc(s)&&(Array.isArray(s)||!(s instanceof Map)&&to()in s)}function Qc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ir(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function e8(s,o,a,l){const h=Se();return Ir(h,Ki(),o)&&(Wt(),gs(Mn(),h,s,o,a,l)),e8}function z6(s,o,a,l,h,p){const b=function vs(s,o,a,l){const h=Ir(s,o,a);return Ir(s,o+1,l)||h}(s,function H1(){return Tt.lFrame.bindingIndex}(),a,h);return function ri(s){const o=Tt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2),b?o+ve(a)+l+ve(h)+p:Vt}function R6(s,o,a,l,h,p,_,b){const E=Se(),A=Wt(),N=s+22,k=A.firstCreatePass?function R7(s,o,a,l,h,p,_,b,E){const A=o.consts,N=jc(o,s,4,_||null,E1(A,b));Gu(o,a,N,E1(A,E)),Fo(o,N);const k=N.tViews=ju(2,N,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,N),k.queries=o.queries.embeddedTView(N)),N}(N,A,E,o,a,l,h,p,_):A.data[N];d1(k,!1);const G=E[11].createComment("");d6(A,E,G,k),Mr(G,E),wa(E,E[N]=ph(G,E,G,k)),Qa(k)&&$c(A,E,k),null!=_&&Bu(E,k,b)}function R3(s,o,a){const l=Se();return Ir(l,Ki(),o)&&y1(Wt(),Mn(),l,s,o,l[11],a,!1),R3}function P3(s,o,a,l,h){const _=h?"class":"style";T6(s,a,o.inputs[_],_,l)}function t4(s,o,a,l){const h=Se(),p=Wt(),_=22+s,b=h[11],E=h[_]=la(b,o,function Ho(){return Tt.lFrame.currentNamespace}()),A=p.firstCreatePass?function V7(s,o,a,l,h,p,_){const b=o.consts,A=jc(o,s,2,h,E1(b,p));return Gu(o,a,A,E1(b,_)),null!==A.attrs&&A3(A,A.attrs,!1),null!==A.mergedAttrs&&A3(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(_,p,h,0,o,a,l):p.data[_];d1(A,!0);const N=A.mergedAttrs;null!==N&&zs(b,E,N);const k=A.classes;null!==k&&Ks(b,E,k);const G=A.styles;return null!==G&&$1(b,E,G),64!=(64&A.flags)&&d6(p,h,E,A),0===function Lo(){return Tt.lFrame.elementDepthCount}()&&Mr(E,h),function zo(){Tt.lFrame.elementDepthCount++}(),Qa(A)&&($c(p,h,A),function g7(s,o,a){if(Eo(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,A,h)),null!==l&&Bu(h,A),t4}function O3(){let s=Pn();C2()?w2():(s=s.parent,d1(s,!1));const o=s;!function tc(){Tt.lFrame.elementDepthCount--}();const a=Wt();return a.firstCreatePass&&(Fo(a,s),Eo(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function jo(s){return 0!=(16&s.flags)}(o)&&P3(a,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Z4(s){return 0!=(32&s.flags)}(o)&&P3(a,o,Se(),o.stylesWithoutHost,!1),O3}function r8(s,o,a,l){return t4(s,o,a,l),O3(),r8}function P6(s){return!!s&&"function"==typeof s.then}function q1(s){return!!s&&"function"==typeof s.subscribe}const Mh=q1;function o8(s,o,a,l){const h=Se(),p=Wt(),_=Pn();return function F7(s,o,a,l,h,p,_,b){const E=Qa(l),N=s.firstCreatePass&&I7(s),k=o[8],G=gh(o);let ee=!0;if(3&l.type||b){const $e=Dr(l,o),at=b?b($e):$e,Et=G.length,De=b?fn=>b(Rn(fn[l.index])):l.index;let xt=null;if(!b&&E&&(xt=function uv(s,o,a,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const b=o[7],E=h[p+2];return b.length>E?b[E]:null}"string"==typeof _&&(p+=2)}return null}(s,o,h,l.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=p,xt.__ngLastListenerFn__=p,ee=!1;else{p=U7(l,o,k,p,!1);const fn=a.listen(at,h,p);G.push(p,fn),N&&N.push(h,De,Et,Et+1)}}else p=U7(l,o,k,p,!1);const ye=l.outputs;let Pe;if(ee&&null!==ye&&(Pe=ye[h])){const $e=Pe.length;if($e)for(let at=0;at<$e;at+=2){const Gn=o[Pe[at]][Pe[at+1]].subscribe(p),yo=G.length;G.push(p,Gn),N&&N.push(h,l.index,yo,-(yo+1))}}}(p,h,h[11],_,s,o,0,l),o8}function a8(s,o,a,l){try{return!1!==a(l)}catch(h){return n2(s,h),!1}}function U7(s,o,a,l,h){return function p(_){if(_===Function)return l;eo(2&s.flags?Qt(s.index,o):o);let E=a8(o,0,l,_),A=p.__ngNextListenerFn__;for(;A;)E=a8(o,0,A,_)&&E,A=A.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function B7(s=1){return function Yi(s){return(Tt.lFrame.contextLView=function Vo(s,o){for(;s>0;)o=o[15],s--;return o}(s,Tt.lFrame.contextLView))[8]}(s)}function j7(s,o){let a=null;const l=function jC(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===l?f3(s,p,!0):xg(l,p))return h}else a=h}return a}function $7(s){const o=Se()[16][6];if(!o.projection){const l=o.projection=Ni(s?s.length:1,null),h=l.slice();let p=o.child;for(;null!==p;){const _=s?j7(p,s):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function V3(s,o=0,a){const l=Se(),h=Wt(),p=jc(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),w2(),64!=(64&p.flags)&&function g1(s,o,a){Zs(o[11],0,o,a,l6(s,a,o),Q0(a.parent||o[6],a,o))}(h,l,p)}function ce(s,o=""){const a=Se(),l=Wt(),h=s+22,p=l.firstCreatePass?jc(l,h,1,o,null):l.data[h],_=a[h]=function a6(s,o){return s.createText(o)}(a[11],o);d6(l,a,_,p),d1(p,!1)}function Nh(s,o,a,l,h){const p=Se(),_=z6(p,s,o,a,l,h);return _!==Vt&&Vi(p,or(),_),Nh}function q3(s,o,a){const l=Se();return Ir(l,Ki(),o)&&y1(Wt(),Mn(),l,s,o,l[11],a,!0),q3}const co=void 0;var a9=["en",[["a","p"],["AM","PM"],co],[["AM","PM"],co,co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",co,"{1} 'at' {0}",co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function W3(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let u4={};function h4(s){const o=function Na(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=l9(o);if(a)return a;const l=o.split("-")[0];if(a=l9(l),a)return a;if("en"===l)return a9;throw new be(701,!1)}function c9(s){return h4(s)[St.PluralCase]}function l9(s){return s in u4||(u4[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),u4[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const f4="en-US";let Ph=f4;class g4{}class Y6{}function x9(s,o){return new Kh(s,o??null)}class Kh extends g4{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wc(this);const l=wn(o);this._bootstrapComponents=Xs(l.bootstrap),this._r3Injector=Og(o,a,[{provide:g4,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class v4 extends Y6{constructor(o){super(),this.moduleType=o}create(o){return new Kh(this.moduleType,o)}}class Pv extends g4{constructor(o,a,l){super(),this.componentFactoryResolver=new Wc(this),this.instance=null;const h=new U5([...o,{provide:g4,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],a||l3(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Qh(s,o,a=null){return new Pv(s,o,a).injector}let Gt=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Vd(0,a.type),h=l.length>0?Qh([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rn({token:s,providedIn:"environment",factory:()=>new s(Dn(fa))}),s})();function N9(s){s.getStandaloneInjector=o=>o.get(Gt).getOrCreateStandaloneInjector(s)}function rf(s){return o=>{setTimeout(s,void 0,o)}}const ws=class G9 extends v.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),_=l;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=rf(p),h&&(h=rf(h)),_&&(_=rf(_)));const b=super.subscribe({next:h,error:p,complete:_});return o instanceof X.w0&&o.add(b),b}};function x1(){return this._results[to()]()}class sf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=to(),l=sf.prototype;l[a]||(l[a]=x1)}get changes(){return this._changes||(this._changes=new ws)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=Nn(o);(this._changesDetected=!function r1(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let r0=(()=>{class s{}return s.__NG_ELEMENT_ID__=D8,s})();const c2=r0,q9=class extends c2{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,h=M6(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),E3(l,h,o),new Ea(h)}};function D8(){return il(Pn(),Se())}function il(s,o){return 4&s.type?new q9(o,s,pa(s,o)):null}let T8=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gv,s})();function Gv(){return K9(Pn(),Se())}const qv=T8,W9=class extends qv{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return pa(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){const o=Wo(this._hostTNode,this._hostLView);if(Q4(o)){const a=D2(o,this._hostLView),l=pr(o);return new is(a[1].data[l+8],a)}return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Z9(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,h),_}createComponent(o,a,l,h,p){const _=o&&!function U1(s){return"function"==typeof s}(o);let b;if(_)b=a;else{const k=a||{};b=k.index,l=k.injector,h=k.projectableNodes,p=k.environmentInjector||k.ngModuleRef}const E=_?o:new T3(Y(o)),A=l||this.parentInjector;if(!p&&null==E.ngModule){const G=(_?A:this.parentInjector).get(fa,null);G&&(p=G)}const N=E.create(A,h,void 0,p);return this.insert(N.hostView,b),N}insert(o,a){const l=o._lView,h=l[1];if(function To(s){return Ur(s[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const k=l[3],G=new W9(k,k[6],k[3]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function xc(s,o,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=o),l<p-10?(o[4]=a[h],P2(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function T5(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,l,_,p);const b=zc(p,_),E=l[11],A=$r(E,_[7]);return null!==A&&function c6(s,o,a,l,h,p){l[0]=h,l[6]=o,Ws(s,l,a,1,h,p)}(h,_[6],E,l,A,b),o.attachToViewContainerRef(),P2(af(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Z9(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=W0(this._lContainer,a);l&&(Br(af(this._lContainer),a),du(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=W0(this._lContainer,a);return l&&null!=Br(af(this._lContainer),a)?new Ea(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Z9(s){return s[8]}function af(s){return s[8]||(s[8]=[])}function K9(s,o){let a;const l=o[s.index];if(Ur(l))a=l;else{let h;if(8&s.type)h=Rn(l);else{const p=o[11];h=p.createComment("");const _=Dr(s,o);hs(p,$r(p,_),h,function q2(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=ph(l,o,h,s),wa(o,a)}return new W9(a,s,o)}class cf{constructor(o){this.queryList=o,this.matches=null}clone(){return new cf(this.queryList)}setDirty(){this.queryList.setDirty()}}class lf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new lf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ol(o,a).matches&&this.queries[a].setDirty()}}class Q9{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class uf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new uf(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class hf{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new hf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,Y9(a,p)),this.matchTNodeWithReadOption(o,a,ks(a,o,p,!1,!1))}else l===r0?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ks(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Hc||h===T8||h===r0&&4&a.type)this.addMatch(a.index,-2);else{const p=ks(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Y9(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function J9(s,o,a,l){return-1===a?function Kv(s,o){return 11&s.type?pa(s,o):4&s.type?il(s,o):null}(o,s):-2===a?function X9(s,o,a){return a===Hc?pa(o,s):a===r0?il(o,s):a===T8?K9(o,s):void 0}(s,o,l):ii(s,s[1],a,o)}function ep(s,o,a,l){const h=o[19].queries[l];if(null===h.matches){const p=s.data,_=a.matches,b=[];for(let E=0;E<_.length;E+=2){const A=_[E];b.push(A<0?null:J9(o,p[A],_[E+1],a.metadata.read))}h.matches=b}return h.matches}function sl(s,o,a,l){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const _=ep(s,o,h,a);for(let b=0;b<p.length;b+=2){const E=p[b];if(E>0)l.push(_[b/2]);else{const A=p[b+1],N=o[-E];for(let k=10;k<N.length;k++){const G=N[k];G[17]===G[3]&&sl(G[1],G,A,l)}if(null!==N[9]){const k=N[9];for(let G=0;G<k.length;G++){const ee=k[G];sl(ee[1],ee,A,l)}}}}}return l}function Pr(s){const o=Se(),a=Wt(),l=lc();I2(l+1);const h=ol(a,l);if(s.dirty&&function Do(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?sl(a,o,l,[]):ep(a,o,h,l);s.reset(p,vg),s.notifyOnChanges()}return!0}return!1}function x8(s,o,a,l){const h=Wt();if(h.firstCreatePass){const p=Pn();(function tp(s,o,a){null===s.queries&&(s.queries=new uf),s.queries.track(new hf(o,a))})(h,new Q9(o,a,l),p.index),function np(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function df(s,o,a){const l=new sf(4==(4&a));Gc(s,o,l,l.destroy),null===o[19]&&(o[19]=new lf),o[19].queries.push(new cf(l))}(h,Se(),a)}function N8(){return function ka(s,o){return s[19].queries[o].queryList}(Se(),lc())}function ol(s,o){return s.queries.getByIndex(o)}function O8(...s){}const Sf=new In("Application Initializer");let V8=(()=>{class s{constructor(a){this.appInits=a,this.resolve=O8,this.reject=O8,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(P6(p))a.push(p);else if(Mh(p)){const _=new Promise((b,E)=>{p.subscribe({complete:b,error:E})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Dn(Sf,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Af=new In("AppId",{providedIn:"root",factory:function pp(){return`${po()}${po()}${po()}`}});function po(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l0=new In("Platform Initializer"),mp=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Df=new In("appBootstrapListener"),gp=new In("AnimationModuleType");let iy=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const u0=new In("LocaleId",{providedIn:"root",factory:()=>M(u0,Qe.Optional|Qe.SkipSelf)||function sy(){return typeof $localize<"u"&&$localize.locale||f4}()}),Zr=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class oy{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let vp=(()=>{class s{compileModuleSync(a){return new v4(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Xs(wn(a).declarations).reduce((_,b)=>{const E=Y(b);return E&&_.push(new T3(E)),_},[]);return new oy(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const F8=(()=>Promise.resolve(0))();function ml(s){typeof Zone>"u"?F8.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class di{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ws(!1),this.onMicrotaskEmpty=new ws(!1),this.onStable=new ws(!1),this.onError=new ws(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Nf(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Lf(s){const o=()=>{!function _p(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,zf(s),s.isCheckStableRunning=!0,U8(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),zf(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,b)=>{try{return kf(s),a.invokeTask(h,p,_,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Cp(s)}},onInvoke:(a,l,h,p,_,b,E)=>{try{return kf(s),a.invoke(h,p,_,b,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Cp(s)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,zf(s),U8(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!di.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(di.isInAngularZone())throw new be(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,ly,O8,O8);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const ly={};function U8(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function zf(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function kf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Cp(s){s._nesting--,U8(s)}class wp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws,this.onMicrotaskEmpty=new ws,this.onStable=new ws,this.onError=new ws}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const bp=new In(""),b4=new In("");let $8,h0=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$8||(function j8(s){$8=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{di.assertNotInAngularZone(),ml(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ml(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Dn(di),Dn(B8),Dn(b4))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),B8=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return $8?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),mo=null;const Rf=new In("AllowMultipleToken"),Pf=new In("PlatformDestroyListeners");class Ip{constructor(o,a){this.name=o,this.token=a}}function q8(s,o,a=[]){const l=`Platform: ${o}`,h=new In(l);return(p=[])=>{let _=Ff();if(!_||_.injector.get(Rf,!1)){const b=[...a,...p,{provide:h,useValue:!0}];s?s(b):function Of(s){if(mo&&!mo.get(Rf,!1))throw new be(400,!1);mo=s;const o=s.get(Uf);(function f0(s){const o=s.get(l0,null);o&&o.forEach(a=>a())})(s)}(function W8(s=[],o){return Uc.create({name:o,providers:[{provide:F5,useValue:"platform"},{provide:Pf,useValue:new Set([()=>mo=null])},...s]})}(b,l))}return function Hf(s){const o=Ff();if(!o)throw new be(401,!1);return o}()}}function Ff(){return mo?.get(Uf)??null}let Uf=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function Ap(s,o){let a;return a="noop"===s?new wp:("zone.js"===s?void 0:s)||new di(o),a}(l?.ngZone,function Sp(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:di,useValue:h}];return h.run(()=>{const _=Uc.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(_),E=b.injector.get(Fc,null);if(!E)throw new be(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:N=>{E.handleError(N)}});b.onDestroy(()=>{Va(this._modules,b),A.unsubscribe()})}),function Dp(s,o,a){try{const l=a();return P6(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(E,h,()=>{const A=b.injector.get(V8);return A.runInitializers(),A.donePromise.then(()=>(function Oh(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(Ph=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(u0,f4)||f4),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=Bf({},l);return function uy(s,o,a){const l=new v4(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(E4);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new be(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Pf,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Dn(Uc))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Bf(s,o){return Array.isArray(o)?o.reduce(Bf,s):{...s,...o}}let E4=(()=>{class s{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new z.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new z.y(b=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{di.assertNotInAngularZone(),ml(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{di.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(p,_.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof pg;if(!this._injector.get(V8).done)throw!h&&Jt(a),new be(405,false);let _;_=h?a:this._injector.get(da).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const b=function Mp(s){return s.isBoundToModule}(_)?void 0:this._injector.get(g4),A=_.create(Uc.NULL,[],l||_.selector,b),N=A.location.nativeElement,k=A.injector.get(bp,null);return k?.registerApplication(N),A.onDestroy(()=>{this.detachView(A.hostView),Va(this.components,A),k?.unregisterApplication(N)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Va(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Df,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Va(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new be(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Dn(di),Dn(fa),Dn(Fc))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Va(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let xp=!0,Np=!1;function fy(){return Np=!0,xp}function dy(){if(Np)throw new Error("Cannot enable prod mode after platform setup.");xp=!1}let gl=(()=>{class s{}return s.__NG_ELEMENT_ID__=jf,s})();function jf(s){return function d0(s,o,a){if(g2(s)&&!a){const l=Qt(s.index,o);return new Ea(l,l)}return 47&s.type?new Ea(o[16],o):null}(Pn(),Se(),16==(16&s))}class Zf{constructor(){}supports(o){return L3(o)}create(o){return new my(o)}}const Fp=(s,o)=>o;class my{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Fp}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<Up(l,h,p)?a:l,b=Up(_,h,p),E=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const A=b-h,N=E-h;if(A!=N){for(let G=0;G<A;G++){const ee=G<p.length?p[G]:p[G]=0,ye=ee+G;N<=ye&&ye<A&&(p[G]=ee+1)}p[_.previousIndex]=N-A}}b!==E&&o(_,b,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!L3(o))throw new be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],_=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,b),l=!0),a=a._next}else h=0,function Yu(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[to()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,b=>{_=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,b,_,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Kf(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Q8),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q8),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Kf{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gy{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Q8{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new gy,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Up(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class Y8{constructor(){}supports(o){return o instanceof Map||Qc(o)}create(){return new vy}}class vy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Qc(o)))throw new be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new Qf(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Qf{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yf(){return new wl([new Zf])}let wl=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Yf()),deps:[[s,new ut,new Ue]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new be(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:Yf}),s})();function J8(){return new Ha([new Y8])}let Ha=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||J8()),deps:[[s,new ut,new Ue]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new be(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:J8}),s})();const jp=q8(null,"core",[]);let g0=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Dn(E4))},s.\u0275mod=Ut({type:s}),s.\u0275inj=Pt({}),s})();function yy(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(dt,Ae,P)=>{P.d(Ae,{Z:()=>be});var v=P(2090),X=P(4859),z=P(9681),ae=P(1877);class oe{constructor(ve,pe){this._delegate=ve,this.firebase=pe,(0,z._addComponent)(ve,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(ve,pe=z._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(ve);return!ct.isInitialized()&&"EXPLICIT"===(null===(et=ct.getComponent())||void 0===et?void 0:et.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:pe})}_removeServiceInstance(ve,pe=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(pe)}_addComponent(ve){(0,z._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,z._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function de(){const st=function fe(st){const ve={},pe={__esModule:!0,initializeApp:function Te(Be,F={}){const ge=z.initializeApp(Be,F);if((0,v.r3)(ve,ge.name))return ve[ge.name];const W=new st(ge,pe);return ve[ge.name]=W,W},app:ct,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Be){const F=Be.name,ge=F.replace("-compat","");if(z._registerComponent(Be)&&"PUBLIC"===Be.type){const W=(J=ct())=>{if("function"!=typeof J[ge])throw le.create("invalid-app-argument",{appName:F});return J[ge]()};void 0!==Be.serviceProps&&(0,v.ZB)(W,Be.serviceProps),pe[ge]=W,st.prototype[ge]=function(...J){return this._getService.bind(this,F).apply(this,Be.multipleInstances?J:[])}}return"PUBLIC"===Be.type?pe[ge]:null},removeApp:function et(Be){delete ve[Be]},useAsService:function Fe(Be,F){return"serverAuth"===F?null:F},modularAPIs:z}};function ct(Be){if(!(0,v.r3)(ve,Be=Be||z._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Be});return ve[Be]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Ce(){return Object.keys(ve).map(Be=>ve[Be])}}),ct.App=st,pe}(oe);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ve(pe){(0,v.ZB)(st,pe)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),st}(),j=new ae.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=U;!function Ne(st){(0,z.registerVersion)("@firebase/app-compat","0.2.0",st)}()},9681:(dt,Ae,P)=>{P.r(Ae),P.d(Ae,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Bi,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>rn,_apps:()=>dn,_clearComponents:()=>Q1,_components:()=>Sn,_getProvider:()=>Pt,_registerComponent:()=>Vr,_removeServiceInstance:()=>vn,deleteApp:()=>d2,getApp:()=>c1,getApps:()=>l1,initializeApp:()=>w1,onLog:()=>vi,registerVersion:()=>Sr,setLogLevel:()=>nr});var v=P(5861),X=P(4859),z=P(1877),ae=P(2090),oe=P(8766);class he{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function le(rt){return"VERSION"===rt.getComponent()?.type}(tt)){const Dt=tt.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(tt=>tt).join(" ")}}const fe="@firebase/app",U=new z.Yd("@firebase/app"),$t="[DEFAULT]",Ze={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Sn=new Map;function Yt(rt,Ie){try{rt.container.addComponent(Ie)}catch(tt){U.debug(`Component ${Ie.name} failed to register with FirebaseApp ${rt.name}`,tt)}}function rn(rt,Ie){rt.container.addOrOverwriteComponent(Ie)}function Vr(rt){const Ie=rt.name;if(Sn.has(Ie))return U.debug(`There were multiple attempts to register component ${Ie}.`),!1;Sn.set(Ie,rt);for(const tt of dn.values())Yt(tt,rt);return!0}function Pt(rt,Ie){const tt=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),rt.container.getProvider(Ie)}function vn(rt,Ie,tt=$t){Pt(rt,Ie).clearInstance(tt)}function Q1(){Sn.clear()}const Hr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yr{constructor(Ie,tt,Dt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Bi="9.15.0";function w1(rt,Ie={}){let tt=rt;"object"!=typeof Ie&&(Ie={name:Ie});const Dt=Object.assign({name:$t,automaticDataCollectionEnabled:!1},Ie),Lt=Dt.name;if("string"!=typeof Lt||!Lt)throw Hr.create("bad-app-name",{appName:String(Lt)});if(tt||(tt=(0,ae.aH)()),!tt)throw Hr.create("no-options");const Ut=dn.get(Lt);if(Ut){if((0,ae.vZ)(tt,Ut.options)&&(0,ae.vZ)(Dt,Ut.config))return Ut;throw Hr.create("duplicate-app",{appName:Lt})}const B=new X.H0(Lt);for(const Z of Sn.values())B.addComponent(Z);const V=new Yr(tt,Dt,B);return dn.set(Lt,V),V}function c1(rt=$t){const Ie=dn.get(rt);if(!Ie&&rt===$t)return w1();if(!Ie)throw Hr.create("no-app",{appName:rt});return Ie}function l1(){return Array.from(dn.values())}function d2(rt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,v.Z)(function*(rt){const Ie=rt.name;dn.has(Ie)&&(dn.delete(Ie),yield Promise.all(rt.container.getProviders().map(tt=>tt.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Sr(rt,Ie,tt){var Dt;let Lt=null!==(Dt=Ze[rt])&&void 0!==Dt?Dt:rt;tt&&(Lt+=`-${tt}`);const Ut=Lt.match(/\s|\//),B=Ie.match(/\s|\//);if(Ut||B){const V=[`Unable to register library "${Lt}" with version "${Ie}":`];return Ut&&V.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Ut&&B&&V.push("and"),B&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void U.warn(V.join(" "))}Vr(new X.wA(`${Lt}-version`,()=>({library:Lt,version:Ie}),"VERSION"))}function vi(rt,Ie){if(null!==rt&&"function"!=typeof rt)throw Hr.create("invalid-log-argument");(0,z.Am)(rt,Ie)}function nr(rt){(0,z.Ub)(rt)}const Hn="firebase-heartbeat-store";let qn=null;function En(){return qn||(qn=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(rt,Ie)=>{0===Ie&&rt.createObjectStore(Hn)}}).catch(rt=>{throw Hr.create("idb-open",{originalErrorMessage:rt.message})})),qn}function ht(){return(ht=(0,v.Z)(function*(rt){try{return(yield En()).transaction(Hn).objectStore(Hn).get(Wn(rt))}catch(Ie){if(Ie instanceof ae.ZR)U.warn(Ie.message);else{const tt=Hr.create("idb-get",{originalErrorMessage:Ie?.message});U.warn(tt.message)}}})).apply(this,arguments)}function ln(rt,Ie){return wr.apply(this,arguments)}function wr(){return(wr=(0,v.Z)(function*(rt,Ie){try{const Dt=(yield En()).transaction(Hn,"readwrite");return yield Dt.objectStore(Hn).put(Ie,Wn(rt)),Dt.done}catch(tt){if(tt instanceof ae.ZR)U.warn(tt.message);else{const Dt=Hr.create("idb-set",{originalErrorMessage:tt?.message});U.warn(Dt.message)}}})).apply(this,arguments)}function Wn(rt){return`${rt.name}!${rt.options.appId}`}class yi{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new on(tt),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var Ie=this;return(0,v.Z)(function*(){const Dt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=sn();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Ie._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Lt))return Ie._heartbeatsCache.heartbeats.push({date:Lt,agent:Dt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ut=>{const B=new Date(Ut.date).valueOf();return Date.now()-B<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,v.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const tt=sn(),{heartbeatsToSend:Dt,unsentEntries:Lt}=function P1(rt,Ie=1024){const tt=[];let Dt=rt.slice();for(const Lt of rt){const Ut=tt.find(B=>B.agent===Lt.agent);if(Ut){if(Ut.dates.push(Lt.date),rr(tt)>Ie){Ut.dates.pop();break}}else if(tt.push({agent:Lt.agent,dates:[Lt.date]}),rr(tt)>Ie){tt.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:Dt}}(Ie._heartbeatsCache.heartbeats),Ut=(0,ae.L)(JSON.stringify({version:2,heartbeats:Dt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=tt,Lt.length>0?(Ie._heartbeatsCache.heartbeats=Lt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ut})()}}function sn(){return(new Date).toISOString().substring(0,10)}class on{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,v.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function Ct(rt){return ht.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var tt=this;return(0,v.Z)(function*(){var Dt;if(yield tt._canUseIndexedDBPromise){const Ut=yield tt.read();return ln(tt.app,{lastSentHeartbeatDate:null!==(Dt=Ie.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ut.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var tt=this;return(0,v.Z)(function*(){var Dt;if(yield tt._canUseIndexedDBPromise){const Ut=yield tt.read();return ln(tt.app,{lastSentHeartbeatDate:null!==(Dt=Ie.lastSentHeartbeatDate)&&void 0!==Dt?Dt:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...Ie.heartbeats]})}})()}}function rr(rt){return(0,ae.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function Fr(rt){Vr(new X.wA("platform-logger",Ie=>new he(Ie),"PRIVATE")),Vr(new X.wA("heartbeat",Ie=>new yi(Ie),"PRIVATE")),Sr(fe,"0.9.0",rt),Sr(fe,"0.9.0","esm2017"),Sr("fire-js","")}("")},4859:(dt,Ae,P)=>{P.d(Ae,{H0:()=>fe,wA:()=>z});var v=P(5861),X=P(2090);class z{constructor(U,j,K){this.name=U,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class oe{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const K=new X.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&K.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const K=this.normalizeInstanceIdentifier(U?.identifier),Oe=null!==(j=U?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ne){if(Oe)return null;throw Ne}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function le(de){return"EAGER"===de.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const Ne=this.getOrInitializeService({instanceIdentifier:Oe});K.resolve(Ne)}catch{}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,v.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,K=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[Ne,be]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ne)&&be.resolve(Oe);return Oe}onInit(U,j){var K;const Oe=this.normalizeInstanceIdentifier(j),Ne=null!==(K=this.onInitCallbacks.get(Oe))&&void 0!==K?K:new Set;Ne.add(U),this.onInitCallbacks.set(Oe,Ne);const be=this.instances.get(Oe);return be&&U(be,Oe),()=>{Ne.delete(U)}}invokeOnInitCallbacks(U,j){const K=this.onInitCallbacks.get(j);if(K)for(const Oe of K)try{Oe(U,j)}catch{}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let K=this.instances.get(U);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(de=U,de===ae?void 0:de),options:j}),this.instances.set(U,K),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(K,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,K)}catch{}var de;return K||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new oe(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Ae,P)=>{P.d(Ae,{Am:()=>de,Ub:()=>fe,Yd:()=>le,in:()=>X});const v=[];var X=(()=>{return(U=X||(X={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",X;var U})();const z={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},he=(U,j,...K)=>{if(j<U.logLevel)return;const Oe=(new Date).toISOString(),Ne=oe[j];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ne](`[${Oe}]  ${U.name}:`,...K)};class le{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?z[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function fe(U){v.forEach(j=>{j.setLogLevel(U)})}function de(U,j){for(const K of v){let Oe=null;j&&j.level&&(Oe=z[j.level]),K.userLogHandler=null===U?null:(Ne,be,...st)=>{const ve=st.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");be>=(Oe??Ne.logLevel)&&U({level:X[be].toLowerCase(),message:ve,args:st,type:Ne.name})}}}},259:(dt,Ae,P)=>{P.d(Ae,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=P(9681);(0,v.registerVersion)("firebase","9.15.0","app")},9260:(dt,Ae,P)=>{P.d(Ae,{Z:()=>v.Z});var v=P(3942);v.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(dt,Ae,P)=>{P.r(Ae);var v=P(5861),X=P(3942),z=P(2090),ae=P(9681),oe=P(1877),he=P(655),le=P(4859);const be=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},st=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new oe.Yd("@firebase/auth");function ct(y,...d){et.logLevel<=oe.in.ERROR&&et.error(`Auth (${ae.SDK_VERSION}): ${y}`,...d)}function Te(y,...d){throw Be(y,...d)}function Ce(y,...d){return Be(y,...d)}function Ee(y,d,m){const C=Object.assign(Object.assign({},st()),{[d]:m});return new z.LL("auth","Firebase",C).create(d,{appName:y.name})}function Fe(y,d,m){if(!(d instanceof m))throw m.name!==d.constructor.name&&Te(y,"argument-error"),Ee(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(y,...d){if("string"!=typeof y){const m=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return ve.create(y,...d)}function F(y,d,...m){if(!y)throw Be(d,...m)}function ge(y){const d="INTERNAL ASSERTION FAILED: "+y;throw ct(d),new Error(d)}function W(y,d){y||ge(d)}const J=new Map;function se(y){W(y instanceof Function,"Expected a class definition");let d=J.get(y);return d?(W(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,J.set(y,d),d)}function ke(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===nn()||"https:"===nn()}function nn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class dn{constructor(d,m){this.shortDelay=d,this.longDelay=m,W(m>d,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(y,d){W(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return d?`${m}${d.startsWith("/")?d.slice(1):d}`:m}class Yt{static initialize(d,m,C){this.fetchImpl=d,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Vr=new dn(3e4,6e4);function Pt(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function vn(y,d,m,C){return Q1.apply(this,arguments)}function Q1(){return(Q1=(0,v.Z)(function*(y,d,m,C,D={}){return C1(y,D,(0,v.Z)(function*(){let L={},q={};C&&("GET"===d?q=C:L={body:JSON.stringify(C)});const ue=(0,z.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),Yt.fetch()(w1(y,y.config.apiHost,m,ue),Object.assign({method:d,headers:He,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function C1(y,d,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,v.Z)(function*(y,d,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},rn),d);try{const D=new c1(y),L=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const q=yield L.json();if("needConfirmation"in q)throw l1(y,"account-exists-with-different-credential",q);if(L.ok&&!("errorMessage"in q))return q;{const ue=L.ok?q.errorMessage:q.error.message,[He,Xe]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw l1(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===He)throw l1(y,"email-already-in-use",q);if("USER_DISABLED"===He)throw l1(y,"user-disabled",q);const It=C[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Ee(y,It,Xe);Te(y,It)}}catch(D){if(D instanceof z.ZR)throw D;Te(y,"network-request-failed")}})).apply(this,arguments)}function Yr(y,d,m,C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,v.Z)(function*(y,d,m,C,D={}){const L=yield vn(y,d,m,C,D);return"mfaPendingCredential"in L&&Te(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function w1(y,d,m,C){const D=`${d}${m}?${C}`;return y.config.emulator?Sn(y.config,D):`${y.config.apiScheme}://${D}`}class c1{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ce(this.auth,"network-request-failed")),Vr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function l1(y,d,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const D=Ce(y,d,C);return D.customData._tokenResponse=m,D}function Qe(){return(Qe=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Sr(y,d){return vi.apply(this,arguments)}function vi(){return(vi=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function nr(y,d){return u1.apply(this,arguments)}function u1(){return(u1=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function R1(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function En(){return(En=(0,v.Z)(function*(y,d=!1){const m=(0,z.m9)(y),C=yield m.getIdToken(d),D=ht(C);F(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const L="object"==typeof D.firebase?D.firebase:void 0,q=L?.sign_in_provider;return{claims:D,token:C,authTime:R1(Ct(D.auth_time)),issuedAtTime:R1(Ct(D.iat)),expirationTime:R1(Ct(D.exp)),signInProvider:q||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Ct(y){return 1e3*Number(y)}function ht(y){const[d,m,C]=y.split(".");if(void 0===d||void 0===m||void 0===C)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,z.tV)(m);return D?JSON.parse(D):(ct("Failed to decode base64 JWT payload"),null)}catch(D){return ct("Caught error parsing JWT payload as JSON",D?.toString()),null}}function wr(y,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,v.Z)(function*(y,d,m=!1){if(m)return d;try{return yield d}catch(C){throw C instanceof z.ZR&&Jr(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Jr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Nt{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var m;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(d=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,v.Z)(function*(){yield m.iteration()}),C)}iteration(){var d=this;return(0,v.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&d.schedule(!0))}d.schedule()})()}}class yi{constructor(d,m){this.createdAt=d,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=R1(this.lastLoginAt),this.creationTime=R1(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sn(y){return P1.apply(this,arguments)}function P1(){return(P1=(0,v.Z)(function*(y){var d;const m=y.auth,C=yield y.getIdToken(),D=yield wr(y,nr(m,{idToken:C}));F(D?.users.length,m,"internal-error");const L=D.users[0];y._notifyReloadListener(L);const q=null!==(d=L.providerUserInfo)&&void 0!==d&&d.length?rt(L.providerUserInfo):[],ue=Fr(y.providerData,q),It=!!y.isAnonymous&&!(y.email&&L.passwordHash||ue?.length),yt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ue,metadata:new yi(L.createdAt,L.lastLoginAt),isAnonymous:It};Object.assign(y,yt)})).apply(this,arguments)}function rr(){return(rr=(0,v.Z)(function*(y){const d=(0,z.m9)(y);yield sn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Fr(y,d){return[...y.filter(C=>!d.some(D=>D.providerId===C.providerId)),...d]}function rt(y){return y.map(d=>{var{providerId:m}=d,C=(0,he._T)(d,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function tt(){return(tt=(0,v.Z)(function*(y,d){const m=yield C1(y,{},(0,v.Z)(function*(){const C=(0,z.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:D,apiKey:L}=y.config,q=w1(y,D,"/v1/token",`key=${L}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(q,{method:"POST",headers:ue,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){F(d.idToken,"internal-error"),F(typeof d.idToken<"u","internal-error"),F(typeof d.refreshToken<"u","internal-error");const m="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function ln(y){const d=ht(y);return F(d,"internal-error"),F(typeof d.exp<"u","internal-error"),F(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,m)}getToken(d,m=!1){var C=this;return(0,v.Z)(function*(){return F(!C.accessToken||C.refreshToken,d,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,m){var C=this;return(0,v.Z)(function*(){const{accessToken:D,refreshToken:L,expiresIn:q}=yield function Ie(y,d){return tt.apply(this,arguments)}(d,m);C.updateTokensAndExpiration(D,L,Number(q))})()}updateTokensAndExpiration(d,m,C){this.refreshToken=m||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,m){const{refreshToken:C,accessToken:D,expirationTime:L}=m,q=new Dt;return C&&(F("string"==typeof C,"internal-error",{appName:d}),q.refreshToken=C),D&&(F("string"==typeof D,"internal-error",{appName:d}),q.accessToken=D),L&&(F("number"==typeof L,"internal-error",{appName:d}),q.expirationTime=L),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Dt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Lt(y,d){F("string"==typeof y||typeof y>"u","internal-error",{appName:d})}class Ut{constructor(d){var{uid:m,auth:C,stsTokenManager:D}=d,L=(0,he._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new yi(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(d){var m=this;return(0,v.Z)(function*(){const C=yield wr(m,m.stsTokenManager.getToken(m.auth,d));return F(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(d){return function qn(y){return En.apply(this,arguments)}(this,d)}reload(){return function on(y){return rr.apply(this,arguments)}(this)}_assign(d){this!==d&&(F(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(m=>Object.assign({},m)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Ut(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,m=!1){var C=this;return(0,v.Z)(function*(){let D=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),D=!0),m&&(yield sn(C)),yield C.auth._persistUserIfCurrent(C),D&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,v.Z)(function*(){const m=yield d.getIdToken();return yield wr(d,function d2(y,d){return Qe.apply(this,arguments)}(d.auth,{idToken:m})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,m){var C,D,L,q,ue,He,Xe,It;const yt=null!==(C=m.displayName)&&void 0!==C?C:void 0,pn=null!==(D=m.email)&&void 0!==D?D:void 0,cr=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,A1=null!==(q=m.photoURL)&&void 0!==q?q:void 0,gu=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,n3=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,r3=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,Oc=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:i3,emailVerified:vu,isAnonymous:Ys,providerData:W2,stsTokenManager:yu}=m;F(i3&&yu,d,"internal-error");const L5=Dt.fromJSON(this.name,yu);F("string"==typeof i3,d,"internal-error"),Lt(yt,d.name),Lt(pn,d.name),F("boolean"==typeof vu,d,"internal-error"),F("boolean"==typeof Ys,d,"internal-error"),Lt(cr,d.name),Lt(A1,d.name),Lt(gu,d.name),Lt(n3,d.name),Lt(r3,d.name),Lt(Oc,d.name);const Z2=new Ut({uid:i3,auth:d,email:pn,emailVerified:vu,displayName:yt,isAnonymous:Ys,photoURL:A1,phoneNumber:cr,tenantId:gu,stsTokenManager:L5,createdAt:r3,lastLoginAt:Oc});return W2&&Array.isArray(W2)&&(Z2.providerData=W2.map(Js=>Object.assign({},Js))),n3&&(Z2._redirectEventId=n3),Z2}static _fromIdTokenResponse(d,m,C=!1){return(0,v.Z)(function*(){const D=new Dt;D.updateFromServerResponse(m);const L=new Ut({uid:m.localId,auth:d,stsTokenManager:D,isAnonymous:C});return yield sn(L),L})()}}const V=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(m,C){var D=this;return(0,v.Z)(function*(){D.storage[m]=C})()}_get(m){var C=this;return(0,v.Z)(function*(){const D=C.storage[m];return void 0===D?null:D})()}_remove(m){var C=this;return(0,v.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Z(y,d,m){return`firebase:${y}:${d}:${m}`}class we{constructor(d,m,C){this.persistence=d,this.auth=m,this.userKey=C;const{config:D,name:L}=this.auth;this.fullUserKey=Z(this.userKey,D.apiKey,L),this.fullPersistenceKey=Z("persistence",D.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,v.Z)(function*(){const m=yield d.persistence._get(d.fullUserKey);return m?Ut._fromJSON(d.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var m=this;return(0,v.Z)(function*(){if(m.persistence===d)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=d,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,m,C="authUser"){return(0,v.Z)(function*(){if(!m.length)return new we(se(V),d,C);const D=(yield Promise.all(m.map(function(){var Xe=(0,v.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let L=D[0]||se(V);const q=Z(C,d.config.apiKey,d.name);let ue=null;for(const Xe of m)try{const It=yield Xe._get(q);if(It){const yt=Ut._fromJSON(d,It);Xe!==L&&(ue=yt),L=Xe;break}}catch{}const He=D.filter(Xe=>Xe._shouldAllowMigration);return L._shouldAllowMigration&&He.length?(L=He[0],ue&&(yield L._set(q,ue.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,v.Z)(function*(It){if(It!==L)try{yield It._remove(q)}catch{}});return function(It){return Xe.apply(this,arguments)}}())),new we(L,d,C)):new we(L,d,C)})()}}function Y(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(wn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ge(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ve(d))return"Blackberry";if(je(d))return"Webos";if(mt(d))return"Safari";if((d.includes("chrome/")||Jt(d))&&!d.includes("edge/"))return"Chrome";if(Kt(d))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ge(y=(0,z.z$)()){return/firefox\//i.test(y)}function mt(y=(0,z.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Jt(y=(0,z.z$)()){return/crios\//i.test(y)}function wn(y=(0,z.z$)()){return/iemobile/i.test(y)}function Kt(y=(0,z.z$)()){return/android/i.test(y)}function Ve(y=(0,z.z$)()){return/blackberry/i.test(y)}function je(y=(0,z.z$)()){return/webos/i.test(y)}function Bt(y=(0,z.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ji(y=(0,z.z$)()){return Bt(y)||Kt(y)||je(y)||Ve(y)||/windows phone/i.test(y)||wn(y)}function _i(y,d=[]){let m;switch(y){case"Browser":m=Y((0,z.z$)());break;case"Worker":m=`${Y((0,z.z$)())}-${y}`;break;default:m=y}const C=d.length?d.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${C}`}class As{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,m){const C=L=>new Promise((q,ue)=>{try{q(d(L))}catch(He){ue(He)}});C.onAbort=m,this.queue.push(C);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(d){var m=this;return(0,v.Z)(function*(){if(m.auth.currentUser===d)return;const C=[];try{for(const D of m.queue)yield D(d),D.onAbort&&C.push(D.onAbort)}catch(D){C.reverse();for(const L of C)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class Ot{constructor(d,m,C){this.app=d,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new As(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(d,m){var C=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,v.Z)(function*(){var D,L;if(!C._deleted&&(C.persistenceManager=yield we.create(C,d),!C._deleted)){if(null!==(D=C._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,v.Z)(function*(){if(d._deleted)return;const m=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||m){if(d.currentUser&&m&&d.currentUser.uid===m.uid)return d._currentUser._assign(m),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(m,!0)}})()}initializeCurrentUser(d){var m=this;return(0,v.Z)(function*(){var C;const D=yield m.assertedPersistence.getCurrentUser();let L=D,q=!1;if(d&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,He=L?._redirectEventId,Xe=yield m.tryRedirectSignIn(d);(!ue||ue===He)&&Xe?.user&&(L=Xe.user,q=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(q)try{yield m.beforeStateQueue.runMiddleware(L)}catch(ue){L=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return F(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(d){var m=this;return(0,v.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,d,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var m=this;return(0,v.Z)(function*(){try{yield sn(d)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,v.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var m=this;return(0,v.Z)(function*(){const C=d?(0,z.m9)(d):null;return C&&F(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(d,m=!1){var C=this;return(0,v.Z)(function*(){if(!C._deleted)return d&&F(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,v.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,v.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var m=this;return this.queue((0,v.Z)(function*(){yield m.assertedPersistence.setPersistence(se(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new z.LL("auth","Firebase",d())}onAuthStateChanged(d,m,C){return this.registerStateListener(this.authStateSubscription,d,m,C)}beforeAuthStateChanged(d,m){return this.beforeStateQueue.pushCallback(d,m)}onIdTokenChanged(d,m,C){return this.registerStateListener(this.idTokenSubscription,d,m,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,m){var C=this;return(0,v.Z)(function*(){const D=yield C.getOrInitRedirectPersistenceManager(m);return null===d?D.removeCurrentUser():D.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var m=this;return(0,v.Z)(function*(){if(!m.redirectPersistenceManager){const C=d&&se(d)||m._popupRedirectResolver;F(C,m,"argument-error"),m.redirectPersistenceManager=yield we.create(m,[se(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(d){var m=this;return(0,v.Z)(function*(){var C,D;return m._isInitialized&&(yield m.queue((0,v.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===d?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===d?m.redirectUser:null})()}_persistUserIfCurrent(d){var m=this;return(0,v.Z)(function*(){if(d===m.currentUser)return m.queue((0,v.Z)(function*(){return m.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,m,C,D){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return F(q,this,"internal-error"),q.then(()=>L(this.currentUser)),"function"==typeof m?d.addObserver(m,C,D):d.addObserver(m)}directlySetCurrentUser(d){var m=this;return(0,v.Z)(function*(){m.currentUser&&m.currentUser!==d&&m._currentUser._stopProactiveRefresh(),d&&m.isProactiveRefreshEnabled&&d._startProactiveRefresh(),m.currentUser=d,d?yield m.assertedPersistence.setCurrentUser(d):yield m.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=_i(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,v.Z)(function*(){var m;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const D=yield null===(m=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(C["X-Firebase-Client"]=D),C})()}}function xn(y){return(0,z.m9)(y)}class $i{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,z.ne)(m=>this.observer=m)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function O1(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function Ci(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class br{constructor(d,m){this.providerId=d,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(d){return ge("not implemented")}_linkToIdToken(d,m){return ge("not implemented")}_getReauthenticationResolver(d){return ge("not implemented")}}function Kn(y,d){return p2.apply(this,arguments)}function p2(){return(p2=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:resetPassword",Pt(y,d))})).apply(this,arguments)}function yn(y,d){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Za(y,d){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:update",Pt(y,d))})).apply(this,arguments)}function Ds(){return(Ds=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signInWithPassword",Pt(y,d))})).apply(this,arguments)}function bi(y,d){return b1.apply(this,arguments)}function b1(){return(b1=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:sendOobCode",Pt(y,d))})).apply(this,arguments)}function fr(y,d){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,v.Z)(function*(y,d){return bi(y,d)})).apply(this,arguments)}function dr(y,d){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,v.Z)(function*(y,d){return bi(y,d)})).apply(this,arguments)}function Eo(y,d){return g2.apply(this,arguments)}function g2(){return(g2=(0,v.Z)(function*(y,d){return bi(y,d)})).apply(this,arguments)}function Qa(y,d){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,v.Z)(function*(y,d){return bi(y,d)})).apply(this,arguments)}function k4(){return(k4=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,d))})).apply(this,arguments)}function Ya(){return(Ya=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signInWithEmailLink",Pt(y,d))})).apply(this,arguments)}class Ja extends br{constructor(d,m,C,D=null){super("password",C),this._email=d,this._password=m,this._tenantId=D}static _fromEmailAndPassword(d,m){return new Ja(d,m,"password")}static _fromEmailAndCode(d,m,C=null){return new Ja(d,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(d){var m=this;return(0,v.Z)(function*(){switch(m.signInMethod){case"password":return function m2(y,d){return Ds.apply(this,arguments)}(d,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function S0(y,d){return k4.apply(this,arguments)}(d,{email:m._email,oobCode:m._password});default:Te(d,"internal-error")}})()}_linkToIdToken(d,m){var C=this;return(0,v.Z)(function*(){switch(C.signInMethod){case"password":return yn(d,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function A0(y,d){return Ya.apply(this,arguments)}(d,{idToken:m,email:C._email,oobCode:C._password});default:Te(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function sr(y,d){return R4.apply(this,arguments)}function R4(){return(R4=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signInWithIdp",Pt(y,d))})).apply(this,arguments)}class Y1 extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const m=new Y1(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(m.idToken=d.idToken),d.accessToken&&(m.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(m.nonce=d.nonce),d.pendingToken&&(m.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(m.accessToken=d.oauthToken,m.secret=d.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:D}=m,L=(0,he._T)(m,["providerId","signInMethod"]);if(!C||!D)return null;const q=new Y1(C,D);return q.idToken=L.idToken||void 0,q.accessToken=L.accessToken||void 0,q.secret=L.secret,q.nonce=L.nonce,q.pendingToken=L.pendingToken||null,q}_getIdTokenResponse(d){return sr(d,this.buildRequest())}_linkToIdToken(d,m){const C=this.buildRequest();return C.idToken=m,sr(d,C)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,sr(d,m)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),d.postBody=(0,z.xO)(m)}return d}}function jl(y,d){return P4.apply(this,arguments)}function P4(){return(P4=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:sendVerificationCode",Pt(y,d))})).apply(this,arguments)}function Ei(){return(Ei=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,d))})).apply(this,arguments)}function O4(){return(O4=(0,v.Z)(function*(y,d){const m=yield Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,d));if(m.temporaryProof)throw l1(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Gl={USER_NOT_FOUND:"user-not-found"};function V4(){return(V4=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signInWithPhoneNumber",Pt(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Gl)})).apply(this,arguments)}class Mi extends br{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,m){return new Mi({verificationId:d,verificationCode:m})}static _fromTokenResponse(d,m){return new Mi({phoneNumber:d,temporaryProof:m})}_getIdTokenResponse(d){return function Xa(y,d){return Ei.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,m){return function $l(y,d){return O4.apply(this,arguments)}(d,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ql(y,d){return V4.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:m,verificationId:C,verificationCode:D}=this.params;return d&&m?{temporaryProof:d,phoneNumber:m}:{sessionInfo:C,code:D}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:L}=d;return C||m||D||L?new Mi({verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:L}):null}}class Mo{constructor(d){var m,C,D,L,q,ue;const He=(0,z.zd)((0,z.pd)(d)),Xe=null!==(m=He.apiKey)&&void 0!==m?m:null,It=null!==(C=He.oobCode)&&void 0!==C?C:null,yt=function H4(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=He.mode)&&void 0!==D?D:null);F(Xe&&It&&yt,"argument-error"),this.apiKey=Xe,this.operation=yt,this.code=It,this.continueUrl=null!==(L=He.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(q=He.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ue=He.tenantId)&&void 0!==ue?ue:null}static parseLink(d){const m=function F4(y){const d=(0,z.zd)((0,z.pd)(y)).link,m=d?(0,z.zd)((0,z.pd)(d)).deep_link_id:null,C=(0,z.zd)((0,z.pd)(y)).deep_link_id;return(C?(0,z.zd)((0,z.pd)(C)).link:null)||C||m||d||y}(d);try{return new Mo(m)}catch{return null}}}let V1=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return Ja._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const D=Mo.parseLink(C);return F(D,"argument-error"),Ja._fromEmailAndCode(m,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class J1{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class X1 extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class qi extends X1{static credentialFromJSON(d){const m="string"==typeof d?JSON.parse(d):d;return F("providerId"in m&&"signInMethod"in m,"argument-error"),Y1._fromParams(m)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return F(d.idToken||d.accessToken,"argument-error"),Y1._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return qi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return qi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:D,pendingToken:L,nonce:q,providerId:ue}=d;if(!C&&!D&&!m&&!L||!ue)return null;try{return new qi(ue)._credential({idToken:m,accessToken:C,nonce:q,pendingToken:L})}catch{return null}}}let v2=(()=>{class y extends X1{constructor(){super("facebook.com")}static credential(m){return Y1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Io=(()=>{class y extends X1{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Y1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:D}=m;if(!C&&!D)return null;try{return y.credential(C,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ec=(()=>{class y extends X1{constructor(){super("github.com")}static credential(m){return Y1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class y2 extends br{constructor(d,m){super(d,d),this.pendingToken=m}_getIdTokenResponse(d){return sr(d,this.buildRequest())}_linkToIdToken(d,m){const C=this.buildRequest();return C.idToken=m,sr(d,C)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,sr(d,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:D,pendingToken:L}=m;return C&&D&&L&&C===D?new y2(C,L):null}static _create(d,m){return new y2(d,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class h1 extends J1{constructor(d){F(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return h1.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return h1.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const m=y2.fromJSON(d);return F(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:m,providerId:C}=d;if(!m||!C)return null;try{return y2._create(C,m)}catch{return null}}}let e1=(()=>{class y extends X1{constructor(){super("twitter.com")}static credential(m,C){return Y1._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:D}=m;if(!C||!D)return null;try{return y.credential(C,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ts(y,d){return U4.apply(this,arguments)}function U4(){return(U4=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signUp",Pt(y,d))})).apply(this,arguments)}class Er{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,m,C,D=!1){return(0,v.Z)(function*(){const L=yield Ut._fromIdTokenResponse(d,C,D),q=x0(C);return new Er({user:L,providerId:q,_tokenResponse:C,operationType:m})})()}static _forOperation(d,m,C){return(0,v.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const D=x0(C);return new Er({user:d,providerId:D,_tokenResponse:C,operationType:m})})()}}function x0(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Rn(){return(Rn=(0,v.Z)(function*(y){var d;const m=xn(y);if(yield m._initializationPromise,null!==(d=m.currentUser)&&void 0!==d&&d.isAnonymous)return new Er({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Ts(m,{returnSecureToken:!0}),D=yield Er._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class So extends z.ZR{constructor(d,m,C,D){var L;super(m.code,m.message),this.operationType=C,this.user=D,Object.setPrototypeOf(this,So.prototype),this.customData={appName:d.name,tenantId:null!==(L=d.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,m,C,D){return new So(d,m,C,D)}}function L0(y,d,m,C){return("reauthenticate"===d?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?So._fromErrorAndOperation(y,L,d,C):L})}function f1(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function Ao(){return(Ao=(0,v.Z)(function*(y,d){const m=(0,z.m9)(y);yield Qt(!0,m,d);const{providerUserInfo:C}=yield Sr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[d]}),D=f1(C||[]);return m.providerData=m.providerData.filter(L=>D.has(L.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Wi(y,d){return ti.apply(this,arguments)}function ti(){return(ti=(0,v.Z)(function*(y,d,m=!1){const C=yield wr(y,d._linkToIdToken(y.auth,yield y.getIdToken()),m);return Er._forOperation(y,"link",C)})).apply(this,arguments)}function Qt(y,d,m){return Do.apply(this,arguments)}function Do(){return(Do=(0,v.Z)(function*(y,d,m){yield sn(d);const D=!1===y?"provider-already-linked":"no-such-provider";F(f1(d.providerData).has(m)===y,d.auth,D)})).apply(this,arguments)}function Zi(y,d){return To.apply(this,arguments)}function To(){return(To=(0,v.Z)(function*(y,d,m=!1){const{auth:C}=y,D="reauthenticate";try{const L=yield wr(y,L0(C,D,d,y),m);F(L.idToken,C,"internal-error");const q=ht(L.idToken);F(q,C,"internal-error");const{sub:ue}=q;return F(y.uid===ue,C,"user-mismatch"),Er._forOperation(y,D,L)}catch(L){throw"auth/user-not-found"===L?.code&&Te(C,"user-mismatch"),L}})).apply(this,arguments)}function E1(y,d){return xo.apply(this,arguments)}function xo(){return(xo=(0,v.Z)(function*(y,d,m=!1){const C="signIn",D=yield L0(y,C,d),L=yield Er._fromIdTokenResponse(y,C,D);return m||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function zn(y,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,v.Z)(function*(y,d){return E1(xn(y),d)})).apply(this,arguments)}function No(y,d){return z0.apply(this,arguments)}function z0(){return(z0=(0,v.Z)(function*(y,d){const m=(0,z.m9)(y);return yield Qt(!1,m,d.providerId),Wi(m,d)})).apply(this,arguments)}function Lo(y,d){return zo.apply(this,arguments)}function zo(){return(zo=(0,v.Z)(function*(y,d){return Zi((0,z.m9)(y),d)})).apply(this,arguments)}function tc(y,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,v.Z)(function*(y,d){return Yr(y,"POST","/v1/accounts:signInWithCustomToken",Pt(y,d))})).apply(this,arguments)}function _2(){return(_2=(0,v.Z)(function*(y,d){const m=xn(y),C=yield tc(m,{token:d,returnSecureToken:!0}),D=yield Er._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Se{constructor(d,m){this.factorId=d,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(d,m){return"phoneInfo"in m?Wt._fromServerResponse(d,m):Te(d,"internal-error")}}class Wt extends Se{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,m){return new Wt(m)}}function rc(y,d,m){var C;F((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),F(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=m.url,d.dynamicLinkDomain=m.dynamicLinkDomain,d.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(F(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=m.iOS.bundleId),m.android&&(F(m.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=m.android.installApp,d.androidMinimumVersionCode=m.android.minimumVersion,d.androidPackageName=m.android.packageName)}function Pn(){return(Pn=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y),D={requestType:"PASSWORD_RESET",email:d};m&&rc(C,D,m),yield dr(C,D)})).apply(this,arguments)}function xs(){return(xs=(0,v.Z)(function*(y,d,m){yield Kn((0,z.m9)(y),{oobCode:d,newPassword:m})})).apply(this,arguments)}function C2(){return(C2=(0,v.Z)(function*(y,d){yield Za((0,z.m9)(y),{oobCode:d})})).apply(this,arguments)}function w2(y,d){return sc.apply(this,arguments)}function sc(){return(sc=(0,v.Z)(function*(y,d){const m=(0,z.m9)(y),C=yield Kn(m,{oobCode:d}),D=C.requestType;switch(F(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":F(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":F(C.mfaInfo,m,"internal-error");default:F(C.email,m,"internal-error")}let L=null;return C.mfaInfo&&(L=Se._fromServerResponse(xn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:D}})).apply(this,arguments)}function B4(){return(B4=(0,v.Z)(function*(y,d){const{data:m}=yield w2((0,z.m9)(y),d);return m.email})).apply(this,arguments)}function On(){return(On=(0,v.Z)(function*(y,d,m){const C=xn(y),D=yield Ts(C,{returnSecureToken:!0,email:d,password:m}),L=yield Er._fromIdTokenResponse(C,"signIn",D);return yield C._updateCurrentUser(L.user),L})).apply(this,arguments)}function Ki(){return(Ki=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y),D={requestType:"EMAIL_SIGNIN",email:d};F(m.handleCodeInApp,C,"argument-error"),m&&rc(C,D,m),yield Eo(C,D)})).apply(this,arguments)}function E2(){return(E2=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y),D=V1.credentialWithLink(d,m||ke());return F(D._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),zn(C,D)})).apply(this,arguments)}function Zl(y,d){return cc.apply(this,arguments)}function cc(){return(cc=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:createAuthUri",Pt(y,d))})).apply(this,arguments)}function M2(){return(M2=(0,v.Z)(function*(y,d){const C={identifier:d,continueUri:pt()?ke():"http://localhost"},{signinMethods:D}=yield Zl((0,z.m9)(y),C);return D||[]})).apply(this,arguments)}function I2(){return(I2=(0,v.Z)(function*(y,d){const m=(0,z.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&rc(m.auth,D,d);const{email:L}=yield fr(m.auth,D);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function Po(){return(Po=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};m&&rc(C.auth,L,m);const{email:q}=yield Qa(C.auth,L);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Oo(y,d){return hc.apply(this,arguments)}function hc(){return(hc=(0,v.Z)(function*(y,d){return vn(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function dc(){return(dc=(0,v.Z)(function*(y,{displayName:d,photoURL:m}){if(void 0===d&&void 0===m)return;const C=(0,z.m9)(y),L={idToken:yield C.getIdToken(),displayName:d,photoUrl:m,returnSecureToken:!0},q=yield wr(C,Oo(C.auth,L));C.displayName=q.displayName||null,C.photoURL=q.photoUrl||null;const ue=C.providerData.find(({providerId:He})=>"password"===He);ue&&(ue.displayName=C.displayName,ue.photoURL=C.photoURL),yield C._updateTokensIfNecessary(q)})).apply(this,arguments)}function Yi(y,d,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,v.Z)(function*(y,d,m){const{auth:C}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(L.email=d),m&&(L.password=m);const q=yield wr(y,yn(C,L));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class t1{constructor(d,m,C={}){this.isNewUser=d,this.providerId=m,this.profile=C}}class Mn extends t1{constructor(d,m,C,D){super(d,m,C),this.username=D}}class $4 extends t1{constructor(d,m){super(d,"facebook.com",m)}}class pc extends Mn{constructor(d,m){super(d,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class k0 extends t1{constructor(d,m){super(d,"google.com",m)}}class mc extends Mn{constructor(d,m,C){super(d,"twitter.com",m,C)}}function Ho(y){const{user:d,_tokenResponse:m}=y;return d.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function or(y){var d,m;if(!y)return null;const{providerId:C}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const q=null===(m=null===(d=ht(y.idToken))||void 0===d?void 0:d.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new t1(L,"anonymous"!==q&&"custom"!==q?q:null)}if(!C)return null;switch(C){case"facebook.com":return new $4(L,D);case"github.com":return new pc(L,D);case"google.com":return new k0(L,D);case"twitter.com":return new mc(L,D,y.screenName||null);case"custom":case"anonymous":return new t1(L,null);default:return new t1(L,C,D)}}(m)}class Xi{constructor(d,m,C){this.type=d,this.credential=m,this.auth=C}static _fromIdtoken(d,m){return new Xi("enroll",d,m)}static _fromMfaPendingCredential(d){return new Xi("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var m,C;if(d?.multiFactorSession){if(null!==(m=d.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Xi._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(C=d.multiFactorSession)&&void 0!==C&&C.idToken)return Xi._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Uo{constructor(d,m,C){this.session=d,this.hints=m,this.signInResolver=C}static _fromError(d,m){const C=xn(d),D=m.customData._serverResponse,L=(D.mfaInfo||[]).map(ue=>Se._fromServerResponse(C,ue));F(D.mfaPendingCredential,C,"internal-error");const q=Xi._fromMfaPendingCredential(D.mfaPendingCredential);return new Uo(q,L,function(){var ue=(0,v.Z)(function*(He){const Xe=yield He._process(C,q);delete D.mfaInfo,delete D.mfaPendingCredential;const It=Object.assign(Object.assign({},D),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const yt=yield Er._fromIdTokenResponse(C,m.operationType,It);return yield C._updateCurrentUser(yt.user),yt;case"reauthenticate":return F(m.user,C,"internal-error"),Er._forOperation(m.user,m.operationType,It);default:Te(C,"internal-error")}});return function(He){return ue.apply(this,arguments)}}())}resolveSignIn(d){var m=this;return(0,v.Z)(function*(){return m.signInResolver(d)})()}}function Bo(y,d){return vn(y,"POST","/v2/accounts/mfaEnrollment:start",Pt(y,d))}class R0{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Se._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new R0(d)}getSession(){var d=this;return(0,v.Z)(function*(){return Xi._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,m){var C=this;return(0,v.Z)(function*(){const D=d,L=yield C.getSession(),q=yield wr(C.user,D._process(C.user.auth,L,m));return yield C.user._updateTokensIfNecessary(q),C.user.reload()})()}unenroll(d){var m=this;return(0,v.Z)(function*(){const C="string"==typeof d?d:d.uid,D=yield m.user.getIdToken(),L=yield wr(m.user,function Z4(y,d){return vn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(y,d))}(m.user.auth,{idToken:D,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:q})=>q!==C),yield m.user._updateTokensIfNecessary(L);try{yield m.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const es=new WeakMap,ts="__sak";class $o{constructor(d,m){this.storageRetriever=d,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ts,"1"),this.storage.removeItem(ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,m){return this.storage.setItem(d,JSON.stringify(m)),Promise.resolve()}_get(d){const m=this.storage.getItem(d);return Promise.resolve(m?JSON.parse(m):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const A2=(()=>{class y extends $o{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function S2(){const y=(0,z.z$)();return mt(y)||Bt(y)}()&&function An(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ji(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const D=this.storage.getItem(C),L=this.localCache[C];D!==L&&m(C,L,D)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((ue,He,Xe)=>{this.notifyListeners(ue,Xe)});const D=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(D);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!C)return}const L=()=>{const ue=this.storage.getItem(D);!C&&this.localCache[D]===ue||this.notifyListeners(D,ue)},q=this.storage.getItem(D);!function ir(){return(0,z.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const L of Array.from(D))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var D=()=>super._set,L=this;return(0,v.Z)(function*(){yield D().call(L,m,C),L.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,D=this;return(0,v.Z)(function*(){const L=yield C().call(D,m);return D.localCache[m]=JSON.stringify(L),L})()}_remove(m){var C=()=>super._remove,D=this;return(0,v.Z)(function*(){yield C().call(D,m),delete D.localCache[m]})()}}return y.type="LOCAL",y})(),F1=(()=>{class y extends $o{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let Y4=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(L=>L.isListeningto(m));if(C)return C;const D=new y(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,v.Z)(function*(){const D=m,{eventId:L,eventType:q,data:ue}=D.data,He=C.handlersMap[q];if(!He?.size)return;D.ports[0].postMessage({status:"ack",eventId:L,eventType:q});const Xe=Array.from(He).map(function(){var yt=(0,v.Z)(function*(pn){return pn(D.origin,ue)});return function(pn){return yt.apply(this,arguments)}}()),It=yield function T2(y){return Promise.all(y.map(function(){var d=(0,v.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return d.apply(this,arguments)}}()))}(Xe);D.ports[0].postMessage({status:"done",eventId:L,eventType:q,response:It})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function x2(y="",d=10){let m="";for(let C=0;C<d;C++)m+=Math.floor(10*Math.random());return y+m}class gc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,m,C=50){var D=this;return(0,v.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let q,ue;return new Promise((He,Xe)=>{const It=x2("",20);L.port1.start();const yt=setTimeout(()=>{Xe(new Error("unsupported_event"))},C);ue={messageChannel:L,onMessage(pn){const cr=pn;if(cr.data.eventId===It)switch(cr.data.status){case"ack":clearTimeout(yt),q=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),He(cr.data.response);break;default:clearTimeout(yt),clearTimeout(q),Xe(new Error("invalid_response"))}}},D.handlers.add(ue),L.port1.addEventListener("message",ue.onMessage),D.target.postMessage({eventType:d,eventId:It,data:m},[L.port2])}).finally(()=>{ue&&D.removeMessageHandler(ue)})})()}}function Fn(){return window}function Go(){return typeof Fn().WorkerGlobalScope<"u"&&"function"==typeof Fn().importScripts}function N2(){return(N2=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ai="firebaseLocalStorageDb",Di="firebaseLocalStorage",Zo="fbase_key";class rs{constructor(d){this.request=d}toPromise(){return new Promise((d,m)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function L2(y,d){return y.transaction([Di],d?"readwrite":"readonly").objectStore(Di)}function ks(){const y=indexedDB.open(Ai,1);return new Promise((d,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Di,{keyPath:Zo})}catch(D){m(D)}}),y.addEventListener("success",(0,v.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Di)?d(C):(C.close(),yield function X4(){const y=indexedDB.deleteDatabase(Ai);return new rs(y).toPromise()}(),d(yield ks()))}))})}function ii(y,d,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,v.Z)(function*(y,d,m){const C=L2(y,!0).put({[Zo]:d,value:m});return new rs(C).toPromise()})).apply(this,arguments)}function z2(){return(z2=(0,v.Z)(function*(y,d){const m=L2(y,!1).get(d),C=yield new rs(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function is(y,d){const m=L2(y,!0).delete(d);return new rs(m).toPromise()}const Rs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,v.Z)(function*(){return m.db||(m.db=yield ks()),m.db})()}_withRetries(m){var C=this;return(0,v.Z)(function*(){let D=0;for(;;)try{const L=yield C._openDb();return yield m(L)}catch(L){if(D++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,v.Z)(function*(){return Go()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,v.Z)(function*(){m.receiver=Y4._getInstance(function Wo(){return Go()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,v.Z)(function*(D,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(D,L){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,v.Z)(function*(D,L){return["keyChanged"]});return function(D,L){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,v.Z)(function*(){var C,D;if(m.activeServiceWorker=yield function ns(){return N2.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new gc(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(C=L[0])||void 0===C?void 0:C.fulfilled)&&(null===(D=L[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,v.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function qo(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ks();return yield ii(m,ts,"1"),yield is(m,ts),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,v.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var D=this;return(0,v.Z)(function*(){return D._withPendingWrite((0,v.Z)(function*(){return yield D._withRetries(L=>ii(L,m,C)),D.localCache[m]=C,D.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,v.Z)(function*(){const D=yield C._withRetries(L=>function Ko(y,d){return z2.apply(this,arguments)}(L,m));return C.localCache[m]=D,D})()}_remove(m){var C=this;return(0,v.Z)(function*(){return C._withPendingWrite((0,v.Z)(function*(){return yield C._withRetries(D=>is(D,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,v.Z)(function*(){const C=yield m._withRetries(q=>{const ue=L2(q,!1).getAll();return new rs(ue).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const D=[],L=new Set;for(const{fbase_key:q,value:ue}of C)L.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(ue)&&(m.notifyListeners(q,ue),D.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!L.has(q)&&(m.notifyListeners(q,null),D.push(q));return D})()}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const L of Array.from(D))L(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ps(y,d){return vn(y,"POST","/v2/accounts/mfaSignIn:start",Pt(y,d))}function xi(){return(xi=(0,v.Z)(function*(y){return(yield vn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vs(y){return new Promise((d,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=d,C.onerror=D=>{const L=Ce("internal-error");L.customData=D,m(L)},C.type="text/javascript",C.charset="UTF-8",function Os(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(C)})}function Jo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const k2=1e12;class In{constructor(d){this.auth=d,this.counter=k2,this._widgets=new Map}render(d,m){const C=this.counter;return this._widgets.set(C,new Kl(d,this.auth.name,m||{})),this.counter++,C}reset(d){var m;const C=d||k2;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(d){var m;return(null===(m=this._widgets.get(d||k2))||void 0===m?void 0:m.getResponse())||""}execute(d){var m=this;return(0,v.Z)(function*(){var C;return null===(C=m._widgets.get(d||k2))||void 0===C||C.execute(),""})()}}class Kl{constructor(d,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof d?document.getElementById(d):d;F(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function u5(y){const d=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)d.push(m.charAt(Math.floor(Math.random()*m.length)));return d.join("")}(50);const{callback:d,"expired-callback":m}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ql=Jo("rcb"),h5=new dn(3e4,6e4);class P0{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Fn().grecaptcha)||void 0===d||!d.render)}load(d,m=""){return F(function Sd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),d,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Fn().grecaptcha):new Promise((C,D)=>{const L=Fn().setTimeout(()=>{D(Ce(d,"network-request-failed"))},h5.get());Fn()[Ql]=()=>{Fn().clearTimeout(L),delete Fn()[Ql];const ue=Fn().grecaptcha;if(!ue)return void D(Ce(d,"internal-error"));const He=ue.render;ue.render=(Xe,It)=>{const yt=He(Xe,It);return this.counter++,yt},this.hostLanguage=m,C(ue)},Vs(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Ql,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),D(Ce(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var m;return!(null===(m=Fn().grecaptcha)||void 0===m||!m.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class R2{load(d){return(0,v.Z)(function*(){return new In(d)})()}clearedOneInstance(){}}const Yl="recaptcha",Jl={theme:"light",type:"image"};class mr{constructor(d,m=Object.assign({},Jl),C){this.parameters=m,this.type=Yl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(C),this.isInvisible="invisible"===this.parameters.size,F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof d?document.getElementById(d):d;F(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R2:new P0,this.validateStartingState()}verify(){var d=this;return(0,v.Z)(function*(){d.assertNotDestroyed();const m=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(m)||new Promise(L=>{const q=ue=>{!ue||(d.tokenChangeListeners.delete(q),L(ue))};d.tokenChangeListeners.add(q),d.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof d)d(m);else if("string"==typeof d){const C=Fn()[d];"function"==typeof C&&C(m)}}}assertNotDestroyed(){F(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,v.Z)(function*(){if(yield d.init(),!d.widgetId){let m=d.container;if(!d.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}d.widgetId=d.getAssertedRecaptcha().render(m,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,v.Z)(function*(){F(pt()&&!Go(),d.auth,"internal-error"),yield function bn(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const m=yield function n1(y){return xi.apply(this,arguments)}(d.auth);F(m,d.auth,"internal-error"),d.parameters.sitekey=m})()}getAssertedRecaptcha(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class U1{constructor(d,m){this.verificationId=d,this.onConfirmation=m}confirm(d){const m=Mi._fromVerification(this.verificationId,d);return this.onConfirmation(m)}}function r1(){return(r1=(0,v.Z)(function*(y,d,m){const C=xn(y),D=yield Ni(C,d,(0,z.m9)(m));return new U1(D,L=>zn(C,L))})).apply(this,arguments)}function I1(){return(I1=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y);yield Qt(!1,C,"phone");const D=yield Ni(C.auth,d,(0,z.m9)(m));return new U1(D,L=>No(C,L))})).apply(this,arguments)}function Br(){return(Br=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y),D=yield Ni(C.auth,d,(0,z.m9)(m));return new U1(D,L=>Lo(C,L))})).apply(this,arguments)}function Ni(y,d,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,v.Z)(function*(y,d,m){var C;const D=yield m.verify();try{let L;if(F("string"==typeof D,y,"argument-error"),F(m.type===Yl,y,"argument-error"),L="string"==typeof d?{phoneNumber:d}:d,"session"in L){const q=L.session;if("phoneNumber"in L)return F("enroll"===q.type,y,"internal-error"),(yield Bo(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{F("signin"===q.type,y,"internal-error");const ue=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return F(ue,y,"missing-multi-factor-info"),(yield Ps(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield jl(y,{phoneNumber:L.phoneNumber,recaptchaToken:D});return q}}finally{m._reset()}})).apply(this,arguments)}function _c(){return(_c=(0,v.Z)(function*(y,d){yield Wi((0,z.m9)(y),d)})).apply(this,arguments)}let ea=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=xn(m)}verifyPhoneNumber(m,C){return Ni(this.auth,m,(0,z.m9)(C))}static credential(m,C){return Mi._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:D}=m;return C&&D?Mi._fromTokenResponse(C,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Fs(y,d){return d?se(d):(F(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Li extends br{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return sr(d,this._buildIdpRequest())}_linkToIdToken(d,m){return sr(d,this._buildIdpRequest(m))}_getReauthenticationResolver(d){return sr(d,this._buildIdpRequest())}_buildIdpRequest(d){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(m.idToken=d),m}}function ot(y){return E1(y.auth,new Li(y),y.bypassAuthState)}function O2(y){const{auth:d,user:m}=y;return F(m,d,"internal-error"),Zi(m,new Li(y),y.bypassAuthState)}function zi(y){return ta.apply(this,arguments)}function ta(){return(ta=(0,v.Z)(function*(y){const{auth:d,user:m}=y;return F(m,d,"internal-error"),Wi(m,new Li(y),y.bypassAuthState)})).apply(this,arguments)}class V2{constructor(d,m,C,D,L=!1){this.auth=d,this.resolver=C,this.user=D,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var d=this;return new Promise(function(){var m=(0,v.Z)(function*(C,D){d.pendingPromise={resolve:C,reject:D};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(L){d.reject(L)}});return function(C,D){return m.apply(this,arguments)}}())}onAuthEvent(d){var m=this;return(0,v.Z)(function*(){const{urlResponse:C,sessionId:D,postBody:L,tenantId:q,error:ue,type:He}=d;if(ue)return void m.reject(ue);const Xe={auth:m.auth,requestUri:C,sessionId:D,tenantId:q||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(Xe))}catch(It){m.reject(It)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ot;case"linkViaPopup":case"linkViaRedirect":return zi;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:Te(this.auth,"internal-error")}}resolve(d){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gr=new dn(2e3,1e4);function Us(){return(Us=(0,v.Z)(function*(y,d,m){const C=xn(y);Fe(y,d,J1);const D=Fs(C,m);return new ki(C,"signInViaPopup",d,D).executeNotNull()})).apply(this,arguments)}function wc(){return(wc=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y);Fe(C.auth,d,J1);const D=Fs(C.auth,m);return new ki(C.auth,"reauthViaPopup",d,D,C).executeNotNull()})).apply(this,arguments)}function H2(){return(H2=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y);Fe(C.auth,d,J1);const D=Fs(C.auth,m);return new ki(C.auth,"linkViaPopup",d,D,C).executeNotNull()})).apply(this,arguments)}let ki=(()=>{class y extends V2{constructor(m,C,D,L,q){super(m,C,L,q),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,v.Z)(function*(){const C=yield m.execute();return F(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,v.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const C=x2();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,D;this.pollId=null!==(D=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,gr.get())};m()}}return y.currentPopupAction=null,y})();const S1=new Map;class bc extends V2{constructor(d,m,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,m=this;return(0,v.Z)(function*(){let C=S1.get(m.auth._key());if(!C){try{const L=(yield function Bs(y,d){return i1.apply(this,arguments)}(m.resolver,m.auth))?yield d().call(m):null;C=()=>Promise.resolve(L)}catch(D){C=()=>Promise.reject(D)}S1.set(m.auth._key(),C)}return m.bypassAuthState||S1.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var m=()=>super.onAuthEvent,C=this;return(0,v.Z)(function*(){if("signInViaRedirect"===d.type)return m().call(C,d);if("unknown"!==d.type){if(d.eventId){const D=yield C.auth._redirectUserForId(d.eventId);if(D)return C.user=D,m().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function i1(){return(i1=(0,v.Z)(function*(y,d){const m=Qn(d),C=oi(y);if(!(yield C._isAvailable()))return!1;const D="true"===(yield C._get(m));return yield C._remove(m),D})).apply(this,arguments)}function si(y,d){return B1.apply(this,arguments)}function B1(){return(B1=(0,v.Z)(function*(y,d){return oi(y)._set(Qn(d),"true")})).apply(this,arguments)}function Ri(y,d){S1.set(y._key(),d)}function oi(y){return se(y._redirectPersistence)}function Qn(y){return Z("pendingRedirect",y.config.apiKey,y.name)}function M(){return(M=(0,v.Z)(function*(y,d,m){const C=xn(y);Fe(y,d,J1);const D=Fs(C,m);return yield si(D,C),D._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function O(){return(O=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y);Fe(C.auth,d,J1);const D=Fs(C.auth,m);yield si(D,C.auth);const L=yield Mt(C);return D._openRedirect(C.auth,d,"reauthViaRedirect",L)})).apply(this,arguments)}function Me(){return(Me=(0,v.Z)(function*(y,d,m){const C=(0,z.m9)(y);Fe(C.auth,d,J1);const D=Fs(C.auth,m);yield Qt(!1,C,d.providerId),yield si(D,C.auth);const L=yield Mt(C);return D._openRedirect(C.auth,d,"linkViaRedirect",L)})).apply(this,arguments)}function Je(){return(Je=(0,v.Z)(function*(y,d){return yield xn(y)._initializationPromise,ut(y,d,!1)})).apply(this,arguments)}function ut(y,d){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,v.Z)(function*(y,d,m=!1){const C=xn(y),D=Fs(C,d),q=yield new bc(C,D,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield C._persistUserIfCurrent(q.user),yield C._setRedirectUser(null,d)),q})).apply(this,arguments)}function Mt(y){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,v.Z)(function*(y){const d=x2(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class js{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(m=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Bn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zt(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=d,m=!0)),m}sendToConsumer(d,m){var C;if(d.error&&!zt(d)){const D=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,D))}else m.onAuthEvent(d)}isEventForConsumer(d,m){const C=null===m.eventId||!!d.eventId&&d.eventId===m.eventId;return m.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($s(d))}saveEventToCache(d){this.cachedEventUids.add($s(d)),this.lastProcessedEventTime=Date.now()}}function $s(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function zt({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===d?.code}function s1(y){return ai.apply(this,arguments)}function ai(){return(ai=(0,v.Z)(function*(y,d={}){return vn(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Ad=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tu=/^https?/;function O0(){return(O0=(0,v.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield s1(y);for(const m of d)try{if(nu(m))return}catch{}Te(y,"unauthorized-domain")})).apply(this,arguments)}function nu(y){const d=ke(),{protocol:m,hostname:C}=new URL(d);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===C}if(!tu.test(m))return!1;if(Ad.test(y))return C===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(C)}const ru=new dn(3e4,6e4);function d5(){const y=Fn().___jsl;if(y?.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let j1=null;function V0(y){return j1=j1||function ar(y){return new Promise((d,m)=>{var C,D,L;function q(){d5(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{d5(),m(Ce(y,"network-request-failed"))},timeout:ru.get()})}if(null!==(D=null===(C=Fn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==D&&D.Iframe)d(gapi.iframes.getContext());else{if(null===(L=Fn().gapi)||void 0===L||!L.load){const ue=Jo("iframefcb");return Fn()[ue]=()=>{gapi.load?q():m(Ce(y,"network-request-failed"))},Vs(`https://apis.google.com/js/api.js?onload=${ue}`).catch(He=>m(He))}q()}}).catch(d=>{throw j1=null,d})}(y),j1}const iu=new dn(5e3,15e3),p5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function su(y){const d=y.config;F(d.authDomain,y,"auth-domain-config-required");const m=d.emulator?Sn(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:d.apiKey,appName:y.name,v:ae.SDK_VERSION},D=m5.get(y.config.apiHost);D&&(C.eid=D);const L=y._getFrameworks();return L.length&&(C.fw=L.join(",")),`${m}?${(0,z.xO)(C).slice(1)}`}function U0(){return U0=(0,v.Z)(function*(y){const d=yield V0(y),m=Fn().gapi;return F(m,y,"internal-error"),d.open({where:document.body,url:su(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p5,dontclear:!0},C=>new Promise(function(){var D=(0,v.Z)(function*(L,q){yield C.restyle({setHideOnLeave:!1});const ue=Ce(y,"network-request-failed"),He=Fn().setTimeout(()=>{q(ue)},iu.get());function Xe(){Fn().clearTimeout(He),L(C)}C.ping(Xe).then(Xe,()=>{q(ue)})});return function(L,q){return D.apply(this,arguments)}}()))}),U0.apply(this,arguments)}const g5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class v5{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t6(y,d,m,C,D,L){F(y.config.authDomain,y,"auth-domain-config-required"),F(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:ae.SDK_VERSION,eventId:D};if(d instanceof J1){d.setDefaultLanguage(y.languageCode),q.providerId=d.providerId||"",(0,z.xb)(d.getCustomParameters())||(q.customParameters=JSON.stringify(d.getCustomParameters()));for(const[He,Xe]of Object.entries(L||{}))q[He]=Xe}if(d instanceof X1){const He=d.getScopes().filter(Xe=>""!==Xe);He.length>0&&(q.scopes=He.join(","))}y.tenantId&&(q.tid=y.tenantId);const ue=q;for(const He of Object.keys(ue))void 0===ue[He]&&delete ue[He];return`${function Mc({config:y}){return y.emulator?Sn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,z.xO)(ue).slice(1)}`}const Gs="webStorageSupport";class Sc extends class _5{constructor(d){this.factorId=d}_process(d,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(d,m.credential,C);case"signin":return this._finalizeSignIn(d,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Sc(d)}_finalizeEnroll(d,m,C){return function jo(y,d){return vn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(y,d))}(d,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,m){return function Yo(y,d){return vn(y,"POST","/v2/accounts/mfaSignIn:finalize",Pt(y,d))}(d,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ac=(()=>{class y{constructor(){}static assertion(m){return Sc._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Dc="@firebase/auth";class C5{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var m=this;return(0,v.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const m=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,m),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const m=this.internalListeners.get(d);!m||(this.internalListeners.delete(d),m(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function as(){return window}function r6(){return(r6=(0,v.Z)(function*(y,d,m){var C;const{BuildInfo:D}=as();W(d.sessionId,"AuthEvent did not contain a session ID");const L=yield aa(d.sessionId),q={};return Bt()?q.ibi=D.packageName:Kt()?q.apn=D.packageName:Te(y,"operation-not-supported-in-this-environment"),D.displayName&&(q.appDisplayName=D.displayName),q.sessionId=L,t6(y,m,d.type,void 0,null!==(C=d.eventId)&&void 0!==C?C:void 0,q)})).apply(this,arguments)}function Tc(){return(Tc=(0,v.Z)(function*(y){const{BuildInfo:d}=as(),m={};Bt()?m.iosBundleId=d.packageName:Kt()?m.androidPackageName=d.packageName:Te(y,"operation-not-supported-in-this-environment"),yield s1(y,m)})).apply(this,arguments)}function i6(){return(i6=(0,v.Z)(function*(y,d,m){const{cordova:C}=as();let D=()=>{};try{yield new Promise((L,q)=>{let ue=null;function He(){var yt;L();const pn=null===(yt=C.plugins.browsertab)||void 0===yt?void 0:yt.close;"function"==typeof pn&&pn(),"function"==typeof m?.close&&m.close()}function Xe(){ue||(ue=window.setTimeout(()=>{q(Ce(y,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===document?.visibilityState&&Xe()}d.addPassiveListener(He),document.addEventListener("resume",Xe,!1),Kt()&&document.addEventListener("visibilitychange",It,!1),D=()=>{d.removePassiveListener(He),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",It,!1),ue&&window.clearTimeout(ue)}})}finally{D()}})).apply(this,arguments)}function aa(y){return U2.apply(this,arguments)}function U2(){return(U2=(0,v.Z)(function*(y){const d=ca(y),m=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(m)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ca(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),m=new Uint8Array(d);for(let C=0;C<y.length;C++)m[C]=y.charCodeAt(C);return m}(0,z.Pz)("authIdTokenMaxAge"),function ou(y){(0,ae._registerComponent)(new le.wA("auth",(d,{options:m})=>{const C=d.getProvider("app").getImmediate(),D=d.getProvider("heartbeat"),{apiKey:L,authDomain:q}=C.options;return((ue,He)=>{F(L&&!L.includes(":"),"invalid-api-key",{appName:ue.name}),F(!q?.includes(":"),"argument-error",{appName:ue.name});const Xe={apiKey:L,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_i(y)},It=new Ot(ue,He,Xe);return function Re(y,d){const m=d?.persistence||[],C=(Array.isArray(m)?m:[m]).map(se);d?.errorMap&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(C,d?.popupRedirectResolver)}(It,m),It})(C,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,m,C)=>{d.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new le.wA("auth-internal",d=>{const m=xn(d.getProvider("auth").getImmediate());return new C5(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Dc,"0.21.0",function w5(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Dc,"0.21.0","esm2017")}("Browser");class o6 extends js{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(d)),super.onEvent(d)}initialized(){var d=this;return(0,v.Z)(function*(){yield d.initPromise})()}}function cu(y){return j2.apply(this,arguments)}function j2(){return(j2=(0,v.Z)(function*(y){const d=yield $2()._get(cs(y));return d&&(yield $2()._remove(cs(y))),d})).apply(this,arguments)}function A5(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const C=Math.floor(Math.random()*d.length);y.push(d.charAt(C))}return y.join("")}function $2(){return se(A2)}function cs(y){return Z("authEvent",y.config.apiKey,y.name)}function ls(y){if(!y?.includes("?"))return{};const[d,...m]=y.split("?");return(0,z.zd)(m.join("?"))}function la(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function xc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function q0(y=(0,z.z$)()){return!("file:"!==xc()&&"ionic:"!==xc()&&"capacitor:"!==xc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function pu(){try{const y=self.localStorage,d=x2();if(y)return y.setItem(d,"1"),y.removeItem(d),!function x5(y=(0,z.z$)()){return function du(){return(0,z.w1)()&&11===document?.documentMode}()||function Z0(y=(0,z.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,z.hl)()}catch{return l6()&&(0,z.hl)()}return!1}function l6(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function u6(){return(function T5(){return"http:"===xc()||"https:"===xc()}()||(0,z.ru)()||q0())&&!function W0(){return(0,z.b$)()||(0,z.UG)()}()&&pu()&&!l6()}function hs(){return q0()&&typeof document<"u"}function Nc(){return(Nc=(0,v.Z)(function*(){return!!hs()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const p1={LOCAL:"local",NONE:"none",SESSION:"session"},$r=F,q2="persistence";function Lc(y){return h6.apply(this,arguments)}function h6(){return(h6=(0,v.Z)(function*(y){yield y._initializationPromise;const d=f6(),m=Z(q2,y.config.apiKey,y.name);d&&d.setItem(m,y._getPersistence())})).apply(this,arguments)}function f6(){var y;try{return(null===(y=function K0(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const d6=F;class m1{constructor(){this.browserResolver=se(class ci{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=ut,this._overrideRedirectResult=Ri}_openPopup(d,m,C,D){var L=this;return(0,v.Z)(function*(){var q;W(null===(q=L.eventManagers[d._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ue=t6(d,m,C,ke(),D);return function oa(y,d,m,C=500,D=600){const L=Math.max((window.screen.availHeight-D)/2,0).toString(),q=Math.max((window.screen.availWidth-C)/2,0).toString();let ue="";const He=Object.assign(Object.assign({},g5),{width:C.toString(),height:D.toString(),top:L,left:q}),Xe=(0,z.z$)().toLowerCase();m&&(ue=Jt(Xe)?"_blank":m),Ge(Xe)&&(d=d||"http://localhost",He.scrollbars="yes");const It=Object.entries(He).reduce((pn,[cr,A1])=>`${pn}${cr}=${A1},`,"");if(function Xr(y=(0,z.z$)()){var d;return Bt(y)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Xe)&&"_self"!==ue)return function y5(y,d){const m=document.createElement("a");m.href=y,m.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(d||"",ue),new v5(null);const yt=window.open(d||"",ue,It);F(yt,y,"popup-blocked");try{yt.focus()}catch{}return new v5(yt)}(d,ue,x2())})()}_openRedirect(d,m,C,D){var L=this;return(0,v.Z)(function*(){return yield L._originValidation(d),function M1(y){Fn().location.href=y}(t6(d,m,C,ke(),D)),new Promise(()=>{})})()}_initialize(d){const m=d._key();if(this.eventManagers[m]){const{manager:D,promise:L}=this.eventManagers[m];return D?Promise.resolve(D):(W(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(d);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(d){var m=this;return(0,v.Z)(function*(){const C=yield function F0(y){return U0.apply(this,arguments)}(d),D=new js(d);return C.register("authEvent",L=>(F(L?.authEvent,d,"invalid-auth-event"),{status:D.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[d._key()]={manager:D},m.iframes[d._key()]=C,D})()}_isIframeWebStorageSupported(d,m){this.iframes[d._key()].send(Gs,{type:Gs},D=>{var L;const q=null===(L=D?.[0])||void 0===L?void 0:L[Gs];void 0!==q&&m(!!q),Te(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Pi(y){return O0.apply(this,arguments)}(d)),this.originValidationPromises[m]}get _shouldInitProactively(){return ji()||mt()||Bt()}}),this.cordovaResolver=se(class G0{constructor(){this._redirectPersistence=F1,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ut,this._overrideRedirectResult=Ri}_initialize(d){var m=this;return(0,v.Z)(function*(){const C=d._key();let D=m.eventManagers.get(C);return D||(D=new o6(d),m.eventManagers.set(C,D),m.attachCallbackListeners(d,D)),D})()}_openPopup(d){Te(d,"operation-not-supported-in-this-environment")}_openRedirect(d,m,C,D){var L=this;return(0,v.Z)(function*(){!function S5(y){var d,m,C,D,L,q,ue,He,Xe,It;const yt=as();F("function"==typeof(null===(d=yt?.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),F(typeof(null===(m=yt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),F("function"==typeof(null===(L=null===(D=null===(C=yt?.cordova)||void 0===C?void 0:C.plugins)||void 0===D?void 0:D.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(He=null===(ue=null===(q=yt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(It=null===(Xe=yt?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const q=yield L._initialize(d);yield q.initialized(),q.resetRedirect(),function Tr(){S1.clear()}(),yield L._originValidation(d);const ue=function au(y,d,m=null){return{type:d,eventId:m,urlResponse:null,sessionId:A5(),postBody:null,tenantId:y.tenantId,error:Ce(y,"no-auth-event")}}(d,C,D);yield function B2(y,d){return $2()._set(cs(y),d)}(d,ue);const He=yield function qs(y,d,m){return r6.apply(this,arguments)}(d,ue,m),Xe=yield function M5(y){const{cordova:d}=as();return new Promise(m=>{d.plugins.browsertab.isAvailable(C=>{let D=null;C?d.plugins.browsertab.openUrl(y):D=d.InAppBrowser.open(y,function hr(y=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(D)})})}(He);return function I5(y,d,m){return i6.apply(this,arguments)}(d,q,Xe)})()}_isIframeWebStorageSupported(d,m){throw new Error("Method not implemented.")}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function F2(y){return Tc.apply(this,arguments)}(d)),this.originValidationPromises[m]}attachCallbackListeners(d,m){const{universalLinks:C,handleOpenURL:D,BuildInfo:L}=as(),q=setTimeout((0,v.Z)(function*(){yield cu(d),m.onEvent(la())}),500),ue=function(){var It=(0,v.Z)(function*(yt){clearTimeout(q);const pn=yield cu(d);let cr=null;pn&&yt?.url&&(cr=function lu(y,d){var m,C;const D=function hu(y){const d=ls(y),m=d.link?decodeURIComponent(d.link):void 0,C=ls(m).link,D=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return ls(D).link||D||C||m||y}(d);if(D.includes("/__/auth/callback")){const L=ls(D),q=L.firebaseError?function uu(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,ue=null===(C=null===(m=q?.code)||void 0===m?void 0:m.split("auth/"))||void 0===C?void 0:C[1],He=ue?Ce(ue):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(pn,yt.url)),m.onEvent(cr||la())});return function(pn){return It.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ue);const He=D,Xe=`${L.packageName.toLowerCase()}://`;as().handleOpenURL=function(){var It=(0,v.Z)(function*(yt){if(yt.toLowerCase().startsWith(Xe)&&ue({url:yt}),"function"==typeof He)try{He(yt)}catch(pn){console.error(pn)}});return function(yt){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F1,this._completeRedirectFn=ut,this._overrideRedirectResult=Ri}_initialize(d){var m=this;return(0,v.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,m,C,D){var L=this;return(0,v.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(d,m,C,D)})()}_openRedirect(d,m,C,D){var L=this;return(0,v.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(d,m,C,D)})()}_isIframeWebStorageSupported(d,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,m)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return hs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return d6(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,v.Z)(function*(){if(d.underlyingResolver)return;const m=yield function mu(){return Nc.apply(this,arguments)}();d.underlyingResolver=m?d.cordovaResolver:d.browserResolver})()}}function p6(y){return y.unwrap()}function m6(y){return Ws(y)}function Ws(y){const{_tokenResponse:d}=y instanceof z.ZR?y.customData:y;if(!d)return null;if(!(y instanceof z.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ea.credentialFromResult(y);const m=d.providerId;if(!m||"password"===m)return null;let C;switch(m){case"google.com":C=Io;break;case"facebook.com":C=v2;break;case"github.com":C=ec;break;case"twitter.com":C=e1;break;default:const{oauthIdToken:D,oauthAccessToken:L,oauthTokenSecret:q,pendingToken:ue,nonce:He}=d;return L||q||D||ue?ue?m.startsWith("saml.")?y2._create(m,ue):Y1._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:D,accessToken:L}):new qi(m).credential({idToken:D,accessToken:L,rawNonce:He}):null}return y instanceof z.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function g1(y,d){return d.catch(m=>{throw m instanceof z.ZR&&function kc(y,d){var m;const C=null===(m=d.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new N5(y,function Vn(y,d){var m;const C=(0,z.m9)(y),D=d;return F(d.customData.operationType,C,"argument-error"),F(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Uo._fromError(C,D)}(y,d));else if(C){const D=Ws(d),L=d;D&&(L.credential=D,L.tenantId=C.tenantId||void 0,L.email=C.email||void 0,L.phoneNumber=C.phoneNumber||void 0)}}(y,m),m}).then(m=>{const D=m.user;return{operationType:m.operationType,credential:m6(m),additionalUserInfo:Ho(m),user:$1.getOrCreate(D)}})}function Zs(y,d){return Y0.apply(this,arguments)}function Y0(){return(Y0=(0,v.Z)(function*(y,d){const m=yield d;return{verificationId:m.verificationId,confirm:C=>g1(y,m.confirm(C))}})).apply(this,arguments)}class N5{constructor(d,m){this.resolver=m,this.auth=function zc(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return g1(p6(this.auth),this.resolver.resolveSignIn(d))}}class $1{constructor(d){this._delegate=d,this.multiFactor=function zs(y){const d=(0,z.m9)(y);return es.has(d)||es.set(d,R0._fromUser(d)),es.get(d)}(d)}static getOrCreate(d){return $1.USER_MAP.has(d)||$1.USER_MAP.set(d,new $1(d)),$1.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var m=this;return(0,v.Z)(function*(){return g1(m.auth,No(m._delegate,d))})()}linkWithPhoneNumber(d,m){var C=this;return(0,v.Z)(function*(){return Zs(C.auth,function Nn(y,d,m){return I1.apply(this,arguments)}(C._delegate,d,m))})()}linkWithPopup(d){var m=this;return(0,v.Z)(function*(){return g1(m.auth,function na(y,d,m){return H2.apply(this,arguments)}(m._delegate,d,m1))})()}linkWithRedirect(d){var m=this;return(0,v.Z)(function*(){return yield Lc(xn(m.auth)),function Q(y,d,m){return function te(y,d,m){return Me.apply(this,arguments)}(y,d,m)}(m._delegate,d,m1)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var m=this;return(0,v.Z)(function*(){return g1(m.auth,Lo(m._delegate,d))})()}reauthenticateWithPhoneNumber(d,m){return Zs(this.auth,function P2(y,d,m){return Br.apply(this,arguments)}(this._delegate,d,m))}reauthenticateWithPopup(d){return g1(this.auth,function eu(y,d,m){return wc.apply(this,arguments)}(this._delegate,d,m1))}reauthenticateWithRedirect(d){var m=this;return(0,v.Z)(function*(){return yield Lc(xn(m.auth)),function I(y,d,m){return function x(y,d,m){return O.apply(this,arguments)}(y,d,m)}(m._delegate,d,m1)})()}sendEmailVerification(d){return function lc(y,d){return I2.apply(this,arguments)}(this._delegate,d)}unlink(d){var m=this;return(0,v.Z)(function*(){return yield function Dr(y,d){return Ao.apply(this,arguments)}(m._delegate,d),m})()}updateEmail(d){return function j4(y,d){return Yi((0,z.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function Qi(y,d){return Yi((0,z.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function Xl(y,d){return _c.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function fc(y,d){return dc.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,m){return function uc(y,d,m){return Po.apply(this,arguments)}(this._delegate,d,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$1.USER_MAP=new WeakMap;const Ks=F;let ua=(()=>{class y{constructor(m,C){if(this.app=m,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=m.options;Ks(D,"invalid-api-key",{appName:m.name}),Ks(D,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?m1:void 0;this._delegate=C.initialize({options:{persistence:Qs(D,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$1.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,C){!function bo(y,d,m){const C=xn(y);F(C._canInitEmulator,C,"emulator-config-failed"),F(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const D=!!m?.disableWarnings,L=O1(d),{host:q,port:ue}=function Zn(y){const d=O1(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(C);if(D){const L=D[1];return{host:L,port:Ci(C.substr(L.length+1))}}{const[L,q]=C.split(":");return{host:L,port:Ci(q)}}}(d);C.config.emulator={url:`${L}//${q}${null===ue?"":`:${ue}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:q,port:ue,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function wi(){function y(){const d=document.createElement("p"),m=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,C)}applyActionCode(m){return function d1(y,d){return C2.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return w2(this._delegate,m)}confirmPasswordReset(m,C){return function ko(y,d,m){return xs.apply(this,arguments)}(this._delegate,m,C)}createUserWithEmailAndPassword(m,C){var D=this;return(0,v.Z)(function*(){return g1(D._delegate,function b2(y,d,m){return On.apply(this,arguments)}(D._delegate,m,C))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ro(y,d){return M2.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ri(y,d){return"EMAIL_SIGNIN"===Mo.parseLink(d)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,v.Z)(function*(){Ks(u6(),m._delegate,"operation-not-supported-in-this-environment");const C=yield function Ue(y,d){return Je.apply(this,arguments)}(m._delegate,m1);return C?g1(m._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function G2(y,d){xn(y)._logFramework(d)}(this._delegate,m)}onAuthStateChanged(m,C,D){const{next:L,error:q,complete:ue}=Rc(m,C,D);return this._delegate.onAuthStateChanged(L,q,ue)}onIdTokenChanged(m,C,D){const{next:L,error:q,complete:ue}=Rc(m,C,D);return this._delegate.onIdTokenChanged(L,q,ue)}sendSignInLinkToEmail(m,C){return function ac(y,d,m){return Ki.apply(this,arguments)}(this._delegate,m,C)}sendPasswordResetEmail(m,C){return function ic(y,d,m){return Pn.apply(this,arguments)}(this._delegate,m,C||void 0)}setPersistence(m){var C=this;return(0,v.Z)(function*(){let D;switch(function Q0(y,d){$r(Object.values(p1).includes(d),y,"invalid-persistence-type"),(0,z.b$)()?$r(d!==p1.SESSION,y,"unsupported-persistence-type"):(0,z.UG)()?$r(d===p1.NONE,y,"unsupported-persistence-type"):l6()?$r(d===p1.NONE||d===p1.LOCAL&&(0,z.hl)(),y,"unsupported-persistence-type"):$r(d===p1.NONE||pu(),y,"unsupported-persistence-type")}(C._delegate,m),m){case p1.SESSION:D=F1;break;case p1.LOCAL:D=(yield se(Rs)._isAvailable())?Rs:A2;break;case p1.NONE:D=V;break;default:return Te("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return g1(this._delegate,function N0(y){return Rn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return g1(this._delegate,zn(this._delegate,m))}signInWithCustomToken(m){return g1(this._delegate,function nc(y,d){return _2.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,C){return g1(this._delegate,function H1(y,d,m){return zn((0,z.m9)(y),V1.credential(d,m))}(this._delegate,m,C))}signInWithEmailLink(m,C){return g1(this._delegate,function Wl(y,d,m){return E2.apply(this,arguments)}(this._delegate,m,C))}signInWithPhoneNumber(m,C){return Zs(this._delegate,function lt(y,d,m){return r1.apply(this,arguments)}(this._delegate,m,C))}signInWithPopup(m){var C=this;return(0,v.Z)(function*(){return Ks(u6(),C._delegate,"operation-not-supported-in-this-environment"),g1(C._delegate,function Cc(y,d,m){return Us.apply(this,arguments)}(C._delegate,m,m1))})()}signInWithRedirect(m){var C=this;return(0,v.Z)(function*(){return Ks(u6(),C._delegate,"operation-not-supported-in-this-environment"),yield Lc(C._delegate),function Dn(y,d,m){return function ra(y,d,m){return M.apply(this,arguments)}(y,d,m)}(C._delegate,m,m1)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function oc(y,d){return B4.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=p1,y})();function Rc(y,d,m){let C=y;"function"!=typeof y&&({next:C,error:d,complete:m}=y);const D=C;return{next:q=>D(q&&$1.getOrCreate(q)),error:d,complete:m}}function Qs(y,d){const m=function fs(y,d){const m=f6();if(!m)return[];const C=Z(q2,y,d);switch(m.getItem(C)){case p1.NONE:return[V];case p1.LOCAL:return[Rs,F1];case p1.SESSION:return[F1];default:return[]}}(y,d);if(typeof self<"u"&&!m.includes(Rs)&&m.push(Rs),typeof window<"u")for(const C of[A2,F1])m.includes(C)||m.push(C);return m.includes(V)||m.push(V),m}class J0{constructor(){this.providerId="phone",this._delegate=new ea(p6(X.Z.auth()))}static credential(d,m){return ea.credential(d,m)}verifyPhoneNumber(d,m){return this._delegate.verifyPhoneNumber(d,m)}unwrap(){return this._delegate}}J0.PHONE_SIGN_IN_METHOD=ea.PHONE_SIGN_IN_METHOD,J0.PROVIDER_ID=ea.PROVIDER_ID;const Pc=F;class X0{constructor(d,m,C=X.Z.app()){var D;Pc(null===(D=C.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new mr(d,m,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function t3(y){y.INTERNAL.registerComponent(new le.wA("auth-compat",d=>{const m=d.getProvider("app-compat").getImmediate(),C=d.getProvider("auth");return new ua(m,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:V1,FacebookAuthProvider:v2,GithubAuthProvider:ec,GoogleAuthProvider:Io,OAuthProvider:qi,SAMLAuthProvider:h1,PhoneAuthProvider:J0,PhoneMultiFactorGenerator:Ac,RecaptchaVerifier:X0,TwitterAuthProvider:e1,Auth:ua,AuthCredential:br,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.0")}(X.Z)},8766:(dt,Ae,P)=>{P.d(Ae,{Lj:()=>Te,X3:()=>ct});var v=P(5861);let z,ae;const le=new WeakMap,fe=new WeakMap,de=new WeakMap,U=new WeakMap,j=new WeakMap;let Ne={get(F,ge,W){if(F instanceof IDBTransaction){if("done"===ge)return fe.get(F);if("objectStoreNames"===ge)return F.objectStoreNames||de.get(F);if("store"===ge)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return pe(F[ge])},set:(F,ge,W)=>(F[ge]=W,!0),has:(F,ge)=>F instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in F};function ve(F){return"function"==typeof F?function st(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...ge){return F.apply(et(this),ge),pe(le.get(this))}:function(...ge){return pe(F.apply(et(this),ge))}:function(ge,...W){const J=F.call(et(this),ge,...W);return de.set(J,ge.sort?ge.sort():[ge]),pe(J)}}(F):(F instanceof IDBTransaction&&function Oe(F){if(fe.has(F))return;const ge=new Promise((W,J)=>{const se=()=>{F.removeEventListener("complete",ie),F.removeEventListener("error",Re),F.removeEventListener("abort",Re)},ie=()=>{W(),se()},Re=()=>{J(F.error||new DOMException("AbortError","AbortError")),se()};F.addEventListener("complete",ie),F.addEventListener("error",Re),F.addEventListener("abort",Re)});fe.set(F,ge)}(F),((F,ge)=>ge.some(W=>F instanceof W))(F,function oe(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Ne):F)}function pe(F){if(F instanceof IDBRequest)return function K(F){const ge=new Promise((W,J)=>{const se=()=>{F.removeEventListener("success",ie),F.removeEventListener("error",Re)},ie=()=>{W(pe(F.result)),se()},Re=()=>{J(F.error),se()};F.addEventListener("success",ie),F.addEventListener("error",Re)});return ge.then(W=>{W instanceof IDBCursor&&le.set(W,F)}).catch(()=>{}),j.set(ge,F),ge}(F);if(U.has(F))return U.get(F);const ge=ve(F);return ge!==F&&(U.set(F,ge),j.set(ge,F)),ge}const et=F=>j.get(F);function ct(F,ge,{blocked:W,upgrade:J,blocking:se,terminated:ie}={}){const Re=indexedDB.open(F,ge),ke=pe(Re);return J&&Re.addEventListener("upgradeneeded",pt=>{J(pe(Re.result),pt.oldVersion,pt.newVersion,pe(Re.transaction))}),W&&Re.addEventListener("blocked",()=>W()),ke.then(pt=>{ie&&pt.addEventListener("close",()=>ie()),se&&pt.addEventListener("versionchange",()=>se())}).catch(()=>{}),ke}function Te(F,{blocked:ge}={}){const W=indexedDB.deleteDatabase(F);return ge&&W.addEventListener("blocked",()=>ge()),pe(W).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Fe=new Map;function Be(F,ge){if(!(F instanceof IDBDatabase)||ge in F||"string"!=typeof ge)return;if(Fe.get(ge))return Fe.get(ge);const W=ge.replace(/FromIndex$/,""),J=ge!==W,se=Ee.includes(W);if(!(W in(J?IDBIndex:IDBObjectStore).prototype)||!se&&!Ce.includes(W))return;const ie=function(){var Re=(0,v.Z)(function*(ke,...pt){const nn=this.transaction(ke,se?"readwrite":"readonly");let $t=nn.store;return J&&($t=$t.index(pt.shift())),(yield Promise.all([$t[W](...pt),se&&nn.done]))[0]});return function(pt){return Re.apply(this,arguments)}}();return Fe.set(ge,ie),ie}!function be(F){Ne=F(Ne)}(F=>({...F,get:(ge,W,J)=>Be(ge,W)||F.get(ge,W,J),has:(ge,W)=>!!Be(ge,W)||F.has(ge,W)}))},5861:(dt,Ae,P)=>{function v(z,ae,oe,he,le,fe,de){try{var U=z[fe](de),j=U.value}catch(K){return void oe(K)}U.done?ae(j):Promise.resolve(j).then(he,le)}function X(z){return function(){var ae=this,oe=arguments;return new Promise(function(he,le){var fe=z.apply(ae,oe);function de(j){v(fe,he,le,de,U,"next",j)}function U(j){v(fe,he,le,de,U,"throw",j)}de(void 0)})}}P.d(Ae,{Z:()=>X})}},dt=>{dt(dt.s=5028)}]);