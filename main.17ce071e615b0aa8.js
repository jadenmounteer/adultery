"use strict";(self.webpackChunkadultery=self.webpackChunkadultery||[]).push([[179],{2011:(vt,Ne,k)=>{k.d(Ne,{Dh:()=>he,GT:()=>de,cc:()=>ke,hO:()=>Ue,on:()=>U,pX:()=>ae,xv:()=>pe});var u=k(4650),ne=k(9260),O=k(2122);vt=k.hmd(vt);const oe=["ngOnDestroy"],ae=(me,st,dt,Ie={})=>new Proxy(me,{get:(Ce,De)=>dt.runOutsideAngular(()=>{var qe;if(me[De])return!(null===(qe=Ie?.spy)||void 0===qe)&&qe.get&&Ie.spy.get(De,me[De]),me[De];if(oe.indexOf(De)>-1)return()=>{};const We=st.toPromise().then(B=>{const ve=B&&B[De];return"function"==typeof ve?ve.bind(B):ve&&ve.then?ve.then(Z=>dt.run(()=>Z)):dt.run(()=>ve)});return new Proxy(()=>{},{get:(B,ve)=>We[ve],apply:(B,ve,Z)=>We.then(ee=>{var se;const re=ee&&ee(...Z);return!(null===(se=Ie?.spy)||void 0===se)&&se.apply&&Ie.spy.apply(De,Z,re),re})})})}),de=(me,st)=>{st.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(Ie=>{Object.defineProperty(me.prototype,Ie,Object.getOwnPropertyDescriptor(dt.prototype||dt,Ie))})})};class le{constructor(st){return st}}const he=new u.OlP("angularfire2.app.options"),pe=new u.OlP("angularfire2.app.name");function U(me,st,dt){const Ce="object"==typeof dt&&dt||{};Ce.name=Ce.name||"string"==typeof dt&&dt||"[DEFAULT]";const qe=ne.Z.apps.filter(We=>We&&We.name===Ce.name)[0]||st.runOutsideAngular(()=>ne.Z.initializeApp(me,Ce));try{JSON.stringify(me)!==JSON.stringify(qe.options)&&j("error",`${qe.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(qe)}const j=(me,...st)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...st)},Y={provide:le,useFactory:U,deps:[he,u.R0b,[new u.FiY,pe]]};let Ue=(()=>{class me{constructor(dt){ne.Z.registerVersion("angularfire",O.q4.full,"core"),ne.Z.registerVersion("angularfire",O.q4.full,"app-compat"),ne.Z.registerVersion("angular",u.q4F.full,dt.toString())}static initializeApp(dt,Ie){return{ngModule:me,providers:[{provide:he,useValue:dt},{provide:pe,useValue:Ie}]}}}return me.\u0275fac=function(dt){return new(dt||me)(u.LFG(u.Lbi))},me.\u0275mod=u.oAB({type:me}),me.\u0275inj=u.cJS({providers:[Y]}),me})();function ke(me,st,dt,Ie,Ce){const[,De,qe]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===me)||[];if(De)return function we(me,st){try{return me.toString()===st.toString()}catch{return me===st}}(Ce,qe)||(_e("error",`${st} was already initialized on the ${dt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ce,was:qe})),De;{const We=Ie();return globalThis.\u0275AngularfireInstanceCache.push([me,We,Ce]),We}}const ut=!!vt.hot,_e=(me,...st)=>{(0,u.X6Q)()&&typeof console<"u"&&console[me](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(vt,Ne,k)=>{k.d(Ne,{q4:()=>Qe,iC:()=>Si,HU:()=>_2,vb:()=>ai,JM:()=>uo});var u=k(4650),ne=k(259),O=k(5861),oe=k(9681),ae=k(2090),de=k(4859),le=k(1877),he=k(8766);const pe="@firebase/installations",U="0.6.0",Y=`w:${U}`,Ue="FIS_v2",st=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function Ie({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ce(E){return{token:E.token,requestStatus:2,expiresIn:ee(E.expiresIn),creationTime:Date.now()}}function De(E,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,O.Z)(function*(E,S){const P=(yield S.json()).error;return st.create("request-failed",{requestName:E,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function We({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function B(E,{refreshToken:S}){const I=We(E);return I.append("Authorization",function se(E){return`${Ue} ${E}`}(S)),I}function ve(E){return Z.apply(this,arguments)}function Z(){return(Z=(0,O.Z)(function*(E){const S=yield E();return S.status>=500&&S.status<600?E():S})).apply(this,arguments)}function ee(E){return Number(E.replace("s","000"))}function re(E,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:S},{fid:I}){const P=Ie(E),J=We(E),ie=S.getImmediate({optional:!0});if(ie){const ht=yield ie.getHeartbeatsHeader();ht&&J.append("x-firebase-client",ht)}const Ge={method:"POST",headers:J,body:JSON.stringify({fid:I,authVersion:Ue,appId:E.appId,sdkVersion:Y})},it=yield ve(()=>fetch(P,Ge));if(it.ok){const ht=yield it.json();return{fid:ht.fid||I,registrationStatus:2,refreshToken:ht.refreshToken,authToken:Ce(ht.authToken)}}throw yield De("Create Installation",it)})).apply(this,arguments)}function Oe(E){return new Promise(S=>{setTimeout(S,E)})}const s1=/^[cdef][\w-]{21}$/;function et(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const I=function v1(E){return function bt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return s1.test(I)?I:""}catch{return""}}function A1(E){return`${E.appName}!${E.appId}`}const n1=new Map;function o1(E,S){const I=A1(E);M1(I,S),function mi(E,S){const I=function Yn(){return!U2&&"BroadcastChannel"in self&&(U2=new BroadcastChannel("[Firebase] FID Change"),U2.onmessage=E=>{M1(E.data.key,E.data.fid)}),U2}();I&&I.postMessage({key:E,fid:S}),function f2(){0===n1.size&&U2&&(U2.close(),U2=null)}()}(I,S)}function M1(E,S){const I=n1.get(E);if(I)for(const P of I)P(S)}let U2=null;const T2="firebase-installations-store";let A2=null;function Hs(){return A2||(A2=(0,he.X3)("firebase-installations-database",1,{upgrade:(E,S)=>{0===S&&E.createObjectStore(T2)}})),A2}function tt(E,S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,O.Z)(function*(E,S){const I=A1(E),J=(yield Hs()).transaction(T2,"readwrite"),ie=J.objectStore(T2),Ee=yield ie.get(I);return yield ie.put(S,I),yield J.done,(!Ee||Ee.fid!==S.fid)&&o1(E,S.fid),S})).apply(this,arguments)}function Bi(E){return un.apply(this,arguments)}function un(){return(un=(0,O.Z)(function*(E){const S=A1(E),P=(yield Hs()).transaction(T2,"readwrite");yield P.objectStore(T2).delete(S),yield P.done})).apply(this,arguments)}function I2(E,S){return ti.apply(this,arguments)}function ti(){return(ti=(0,O.Z)(function*(E,S){const I=A1(E),J=(yield Hs()).transaction(T2,"readwrite"),ie=J.objectStore(T2),Ee=yield ie.get(I),Ge=S(Ee);return void 0===Ge?yield ie.delete(I):yield ie.put(Ge,I),yield J.done,Ge&&(!Ee||Ee.fid!==Ge.fid)&&o1(E,Ge.fid),Ge})).apply(this,arguments)}function W1(E){return X1.apply(this,arguments)}function X1(){return(X1=(0,O.Z)(function*(E){let S;const I=yield I2(E.appConfig,P=>{const J=D1(P),ie=wt(E,J);return S=ie.registrationPromise,ie.installationEntry});return""===I.fid?{installationEntry:yield S}:{installationEntry:I,registrationPromise:S}})).apply(this,arguments)}function D1(E){return Lt(E||{fid:et(),registrationStatus:0})}function wt(E,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(st.create("app-offline"))};const I={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},P=function _t(E,S){return m1.apply(this,arguments)}(E,I);return{installationEntry:I,registrationPromise:P}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:zn(E)}:{installationEntry:S}}function m1(){return(m1=(0,O.Z)(function*(E,S){try{const I=yield re(E,S);return tt(E.appConfig,I)}catch(I){throw dt(I)&&409===I.customData.serverCode?yield Bi(E.appConfig):yield tt(E.appConfig,{fid:S.fid,registrationStatus:0}),I}})).apply(this,arguments)}function zn(E){return en.apply(this,arguments)}function en(){return(en=(0,O.Z)(function*(E){let S=yield d2(E.appConfig);for(;1===S.registrationStatus;)yield Oe(100),S=yield d2(E.appConfig);if(0===S.registrationStatus){const{installationEntry:I,registrationPromise:P}=yield W1(E);return P||I}return S})).apply(this,arguments)}function d2(E){return I2(E,S=>{if(!S)throw st.create("installation-not-found");return Lt(S)})}function Lt(E){return function Ui(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function l1(E,S){return ni.apply(this,arguments)}function ni(){return(ni=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:S},I){const P=u1(E,I),J=B(E,I),ie=S.getImmediate({optional:!0});if(ie){const ht=yield ie.getHeartbeatsHeader();ht&&J.append("x-firebase-client",ht)}const Ge={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Y,appId:E.appId}})},it=yield ve(()=>fetch(P,Ge));if(it.ok)return Ce(yield it.json());throw yield De("Generate Auth Token",it)})).apply(this,arguments)}function u1(E,{fid:S}){return`${Ie(E)}/${S}/authTokens:generate`}function fn(E){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,O.Z)(function*(E,S=!1){let I;const P=yield I2(E.appConfig,ie=>{if(!Gt(ie))throw st.create("not-registered");const Ee=ie.authToken;if(!S&&G(Ee))return ie;if(1===Ee.requestStatus)return I=at(E,S),ie;{if(!navigator.onLine)throw st.create("app-offline");const Ge=K(ie);return I=xt(E,Ge),Ge}});return I?yield I:P.authToken})).apply(this,arguments)}function at(E,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,O.Z)(function*(E,S){let I=yield ot(E.appConfig);for(;1===I.authToken.requestStatus;)yield Oe(100),I=yield ot(E.appConfig);const P=I.authToken;return 0===P.requestStatus?fn(E,S):P})).apply(this,arguments)}function ot(E){return I2(E,S=>{if(!Gt(S))throw st.create("not-registered");return function Me(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function xt(E,S){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(E,S){try{const I=yield l1(E,S),P=Object.assign(Object.assign({},S),{authToken:I});return yield tt(E.appConfig,P),I}catch(I){if(!dt(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const P=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield tt(E.appConfig,P)}else yield Bi(E.appConfig);throw I}})).apply(this,arguments)}function Gt(E){return void 0!==E&&2===E.registrationStatus}function G(E){return 2===E.requestStatus&&!function F(E){const S=Date.now();return S<E.creationTime||E.creationTime+E.expiresIn<S+36e5}(E)}function K(E){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:S})}function Ke(){return(Ke=(0,O.Z)(function*(E){const S=E,{installationEntry:I,registrationPromise:P}=yield W1(S);return P?P.catch(console.error):fn(S).catch(console.error),I.fid})).apply(this,arguments)}function r1(){return(r1=(0,O.Z)(function*(E,S=!1){const I=E;return yield w1(I),(yield fn(I,S)).token})).apply(this,arguments)}function w1(E){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,O.Z)(function*(E){const{registrationPromise:S}=yield W1(E);S&&(yield S)})).apply(this,arguments)}function ji(E){return st.create("missing-app-config-values",{valueName:E})}const Jr="installations",R1=E=>{const S=E.getProvider("app").getImmediate(),I=function I1(E){if(!E||!E.options)throw ji("App Configuration");if(!E.name)throw ji("App Name");const S=["projectId","apiKey","appId"];for(const I of S)if(!E.options[I])throw ji(I);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(S);return{app:S,appConfig:I,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},hr=E=>{const S=E.getProvider("app").getImmediate(),I=(0,oe._getProvider)(S,Jr).getImmediate();return{getId:()=>function Q(E){return Ke.apply(this,arguments)}(I),getToken:J=>function Ct(E){return r1.apply(this,arguments)}(I,J)}};(function Ho(){(0,oe._registerComponent)(new de.wA(Jr,R1,"PUBLIC")),(0,oe._registerComponent)(new de.wA("installations-internal",hr,"PRIVATE"))})(),(0,oe.registerVersion)(pe,U),(0,oe.registerVersion)(pe,U,"esm2017");const ii="@firebase/remote-config",nn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class X3{constructor(S,I,P,J){this.client=S,this.storage=I,this.storageCache=P,this.logger=J}isCachedDataFresh(S,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-I,J=P<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${J}.`),J}fetch(S){var I=this;return(0,O.Z)(function*(){const[P,J]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if(J&&I.isCachedDataFresh(S.cacheMaxAgeMillis,P))return J;S.eTag=J&&J.eTag;const ie=yield I.client.fetch(S),Ee=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ee.push(I.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ee),ie})()}}function mr(E=navigator){return E.languages&&E.languages[0]||E.language}class m4{constructor(S,I,P,J,ie,Ee){this.firebaseInstallations=S,this.sdkVersion=I,this.namespace=P,this.projectId=J,this.apiKey=ie,this.appId=Ee}fetch(S){var I=this;return(0,O.Z)(function*(){const[P,J]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},it={sdk_version:I.sdkVersion,app_instance_id:P,app_instance_id_token:J,app_id:I.appId,language_code:mr()},ht={method:"POST",headers:Ge,body:JSON.stringify(it)},Pt=fetch(Ee,ht),St=new Promise((Y1,b2)=>{S.signal.addEventListener(()=>{const Ni=new Error("The operation was aborted.");Ni.name="AbortError",b2(Ni)})});let rn;try{yield Promise.race([Pt,St]),rn=yield Pt}catch(Y1){let b2="fetch-client-network";throw"AbortError"===Y1?.name&&(b2="fetch-timeout"),nn.create(b2,{originalErrorMessage:Y1?.message})}let K1=rn.status;const xr=rn.headers.get("ETag")||void 0;let ds,Ot;if(200===rn.status){let Y1;try{Y1=yield rn.json()}catch(b2){throw nn.create("fetch-client-parse",{originalErrorMessage:b2?.message})}ds=Y1.entries,Ot=Y1.state}if("INSTANCE_STATE_UNSPECIFIED"===Ot?K1=500:"NO_CHANGE"===Ot?K1=304:("NO_TEMPLATE"===Ot||"EMPTY_CONFIG"===Ot)&&(ds={}),304!==K1&&200!==K1)throw nn.create("fetch-status",{httpStatus:K1});return{status:K1,eTag:xr,config:ds}})()}}class v5{constructor(S,I){this.client=S,this.storage=I}fetch(S){var I=this;return(0,O.Z)(function*(){const P=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(S,P)})()}attemptFetch(S,{throttleEndTimeMillis:I,backoffCount:P}){var J=this;return(0,O.Z)(function*(){yield function hn(E,S){return new Promise((I,P)=>{const J=Math.max(S-Date.now(),0),ie=setTimeout(I,J);E.addEventListener(()=>{clearTimeout(ie),P(nn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,I);try{const ie=yield J.client.fetch(S);return yield J.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function e6(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ie))throw ie;const Ee={throttleEndTimeMillis:Date.now()+(0,ae.$s)(P),backoffCount:P+1};return yield J.storage.setThrottleMetadata(Ee),J.attemptFetch(S,Ee)}})()}}class g4{constructor(S,I,P,J,ie){this.app=S,this._client=I,this._storageCache=P,this._storage=J,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function v4(E,S){const I=E.target.error||void 0;return nn.create(S,{originalErrorMessage:I&&I?.message})}const Wi="app_namespace_store";class C5{constructor(S,I,P,J=function b5(){return new Promise((E,S)=>{try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=P=>{S(v4(P,"storage-open"))},I.onsuccess=P=>{E(P.target.result)},I.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Wi,{keyPath:"compositeKey"})}}catch(I){S(nn.create("storage-open",{originalErrorMessage:I?.message}))}})}()){this.appId=S,this.appName=I,this.namespace=P,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var I=this;return(0,O.Z)(function*(){const P=yield I.openDbPromise;return new Promise((J,ie)=>{const Ge=P.transaction([Wi],"readonly").objectStore(Wi),it=I.createCompositeKey(S);try{const ht=Ge.get(it);ht.onerror=Pt=>{ie(v4(Pt,"storage-get"))},ht.onsuccess=Pt=>{const St=Pt.target.result;J(St?St.value:void 0)}}catch(ht){ie(nn.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(S,I){var P=this;return(0,O.Z)(function*(){const J=yield P.openDbPromise;return new Promise((ie,Ee)=>{const it=J.transaction([Wi],"readwrite").objectStore(Wi),ht=P.createCompositeKey(S);try{const Pt=it.put({compositeKey:ht,value:I});Pt.onerror=St=>{Ee(v4(St,"storage-set"))},Pt.onsuccess=()=>{ie()}}catch(Pt){Ee(nn.create("storage-set",{originalErrorMessage:Pt?.message}))}})})()}delete(S){var I=this;return(0,O.Z)(function*(){const P=yield I.openDbPromise;return new Promise((J,ie)=>{const Ge=P.transaction([Wi],"readwrite").objectStore(Wi),it=I.createCompositeKey(S);try{const ht=Ge.delete(it);ht.onerror=Pt=>{ie(v4(Pt,"storage-delete"))},ht.onsuccess=()=>{J()}}catch(ht){ie(nn.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class n6{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,O.Z)(function*(){const I=S.storage.getLastFetchStatus(),P=S.storage.getLastSuccessfulFetchTimestampMillis(),J=S.storage.getActiveConfig(),ie=yield I;ie&&(S.lastFetchStatus=ie);const Ee=yield P;Ee&&(S.lastSuccessfulFetchTimestampMillis=Ee);const Ge=yield J;Ge&&(S.activeConfig=Ge)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Bo(){return ac.apply(this,arguments)}function ac(){return(ac=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Zi(){(0,oe._registerComponent)(new de.wA("remote-config",function E(S,{instanceIdentifier:I}){const P=S.getProvider("app").getImmediate(),J=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nn.create("registration-window");if(!(0,ae.hl)())throw nn.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ee,appId:Ge}=P.options;if(!ie)throw nn.create("registration-project-id");if(!Ee)throw nn.create("registration-api-key");if(!Ge)throw nn.create("registration-app-id");const it=new C5(Ge,P.name,I=I||"firebase"),ht=new n6(it),Pt=new le.Yd(ii);Pt.logLevel=le.in.ERROR;const St=new m4(J,oe.SDK_VERSION,I,ie,Ee,Ge),rn=new v5(St,it),K1=new X3(rn,it,ht,Pt),xr=new g4(P,K1,ht,it,Pt);return function V1(E){const S=(0,ae.m9)(E);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(xr),xr},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ii,"0.4.0"),(0,oe.registerVersion)(ii,"0.4.0","esm2017")}();const ri="/firebase-messaging-sw.js",vi="/firebase-cloud-messaging-push-scope",_i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",js="google.c.a.c_id",Uo="google.c.a.c_l",_4="google.c.a.ts",cc="google.c.a.e";var yi=(()=>{return(E=yi||(yi={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",yi;var E})();function z2(E){const S=new Uint8Array(E);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p2(E){const I=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(I),J=new Uint8Array(P.length);for(let ie=0;ie<P.length;++ie)J[ie]=P.charCodeAt(ie);return J}const Qr="fcm_token_details_db",kn="fcm_token_object_Store";function lc(E){return uc.apply(this,arguments)}function uc(){return uc=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Qr))return null;let S=null;return(yield(0,he.X3)(Qr,5,{upgrade:(P=(0,O.Z)(function*(J,ie,Ee,Ge){var it;if(ie<2||!J.objectStoreNames.contains(kn))return;const ht=Ge.objectStore(kn),Pt=yield ht.index("fcmSenderId").get(E);if(yield ht.clear(),Pt)if(2===ie){const St=Pt;if(!St.auth||!St.p256dh||!St.endpoint)return;S={token:St.fcmToken,createTime:null!==(it=St.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:z2(St.vapidKey)}}}else if(3===ie){const St=Pt;S={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:z2(St.auth),p256dh:z2(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:z2(St.vapidKey)}}}else if(4===ie){const St=Pt;S={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:z2(St.auth),p256dh:z2(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:z2(St.vapidKey)}}}}),function(ie,Ee,Ge,it){return P.apply(this,arguments)})})).close(),yield(0,he.Lj)(Qr),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),F1(S)?S:null;var P}),uc.apply(this,arguments)}function F1(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:S}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const L2="firebase-messaging-store";let Un=null;function $o(){return Un||(Un=(0,he.X3)("firebase-messaging-database",1,{upgrade:(E,S)=>{0===S&&E.createObjectStore(L2)}})),Un}function vr(E){return bi.apply(this,arguments)}function bi(){return(bi=(0,O.Z)(function*(E){const S=$2(E),P=yield(yield $o()).transaction(L2).objectStore(L2).get(S);if(P)return P;{const J=yield lc(E.appConfig.senderId);if(J)return yield e1(E,J),J}})).apply(this,arguments)}function e1(E,S){return qo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(E,S){const I=$2(E),J=(yield $o()).transaction(L2,"readwrite");return yield J.objectStore(L2).put(S,I),yield J.done,S})).apply(this,arguments)}function _r(E){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,O.Z)(function*(E){const S=$2(E),P=(yield $o()).transaction(L2,"readwrite");yield P.objectStore(L2).delete(S),yield P.done})).apply(this,arguments)}function $2({appConfig:E}){return E.appId}const P1=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zt(E,S){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,O.Z)(function*(E,S){const I=yield b4(E),P=Te(S),J={method:"POST",headers:I,body:JSON.stringify(P)};let ie;try{ie=yield(yield fetch(Ci(E.appConfig),J)).json()}catch(Ee){throw P1.create("token-subscribe-failed",{errorInfo:Ee?.toString()})}if(ie.error)throw P1.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw P1.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function dc(E,S){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,O.Z)(function*(E,S){const I=yield b4(E),P=Te(S.subscriptionOptions),J={method:"PATCH",headers:I,body:JSON.stringify(P)};let ie;try{ie=yield(yield fetch(`${Ci(E.appConfig)}/${S.token}`,J)).json()}catch(Ee){throw P1.create("token-update-failed",{errorInfo:Ee?.toString()})}if(ie.error)throw P1.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw P1.create("token-update-no-token");return ie.token})).apply(this,arguments)}function Jo(E,S){return y4.apply(this,arguments)}function y4(){return(y4=(0,O.Z)(function*(E,S){const P={method:"DELETE",headers:yield b4(E)};try{const ie=yield(yield fetch(`${Ci(E.appConfig)}/${S}`,P)).json();if(ie.error)throw P1.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(J){throw P1.create("token-unsubscribe-failed",{errorInfo:J?.toString()})}})).apply(this,arguments)}function Ci({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function b4(E){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,O.Z)(function*({appConfig:E,installations:S}){const I=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function Te({p256dh:E,auth:S,endpoint:I,vapidKey:P}){const J={web:{endpoint:I,auth:S,p256dh:E}};return P!==_i&&(J.web.applicationPubKey=P),J}const Kt=6048e5;function Qo(E){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,O.Z)(function*(E){const S=yield C4(E.swRegistration,E.vapidKey),I={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:S.endpoint,auth:z2(S.getKey("auth")),p256dh:z2(S.getKey("p256dh"))},P=yield vr(E.firebaseDependencies);if(P){if(s6(P.subscriptionOptions,I))return Date.now()>=P.createTime+Kt?Xr(E,{token:P.token,createTime:Date.now(),subscriptionOptions:I}):P.token;try{yield Jo(E.firebaseDependencies,P.token)}catch(J){console.warn(J)}return $s(E.firebaseDependencies,I)}return $s(E.firebaseDependencies,I)})).apply(this,arguments)}function B1(E){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(E){const S=yield vr(E.firebaseDependencies);S&&(yield Jo(E.firebaseDependencies,S.token),yield _r(E.firebaseDependencies));const I=yield E.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()})).apply(this,arguments)}function Xr(E,S){return k2.apply(this,arguments)}function k2(){return(k2=(0,O.Z)(function*(E,S){try{const I=yield dc(E.firebaseDependencies,S),P=Object.assign(Object.assign({},S),{token:I,createTime:Date.now()});return yield e1(E.firebaseDependencies,P),I}catch(I){throw yield B1(E),I}})).apply(this,arguments)}function $s(E,S){return qs.apply(this,arguments)}function qs(){return(qs=(0,O.Z)(function*(E,S){const P={token:yield zt(E,S),createTime:Date.now(),subscriptionOptions:S};return yield e1(E,P),P.token})).apply(this,arguments)}function C4(E,S){return M4.apply(this,arguments)}function M4(){return(M4=(0,O.Z)(function*(E,S){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p2(S)})})).apply(this,arguments)}function s6(E,S){return S.vapidKey===E.vapidKey&&S.endpoint===E.endpoint&&S.auth===E.auth&&S.p256dh===E.p256dh}function Ws(E){const S={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function U1(E,S){if(!S.notification)return;E.notification={};const I=S.notification.title;I&&(E.notification.title=I);const P=S.notification.body;P&&(E.notification.body=P);const J=S.notification.image;J&&(E.notification.image=J);const ie=S.notification.icon;ie&&(E.notification.icon=ie)}(S,E),function si(E,S){!S.data||(E.data=S.data)}(S,E),function w4(E,S){var I,P,J,ie,Ee;if(!(S.fcmOptions||null!==(I=S.notification)&&void 0!==I&&I.click_action))return;E.fcmOptions={};const Ge=null!==(J=null===(P=S.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==J?J:null===(ie=S.notification)||void 0===ie?void 0:ie.click_action;Ge&&(E.fcmOptions.link=Ge);const it=null===(Ee=S.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;it&&(E.fcmOptions.analyticsLabel=it)}(S,E),S}function yr(E){return"object"==typeof E&&!!E&&js in E}function Mi(E,S){const I=[];for(let P=0;P<E.length;P++)I.push(E.charAt(P)),P<S.length&&I.push(S.charAt(P));return I.join("")}function Zs(E){return P1.create("missing-app-config-values",{valueName:E})}Mi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Mi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class w5{constructor(S,I,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function M5(E){if(!E||!E.options)throw Zs("App Configuration Object");if(!E.name)throw Zs("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:I}=E;for(const P of S)if(!I[P])throw Zs(P);return{appName:E.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:J,installations:I,analyticsProvider:P}}_delete(){return Promise.resolve()}}function D4(E){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(ri,{scope:vi}),E.swRegistration.update().catch(()=>{})}catch(S){throw P1.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Ks(E,S){return E4.apply(this,arguments)}function E4(){return(E4=(0,O.Z)(function*(E,S){if(!S&&!E.swRegistration&&(yield D4(E)),S||!E.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw P1.create("invalid-sw-registration");E.swRegistration=S}})).apply(this,arguments)}function Ys(E,S){return S4.apply(this,arguments)}function S4(){return(S4=(0,O.Z)(function*(E,S){S?E.vapidKey=S:E.vapidKey||(E.vapidKey=_i)})).apply(this,arguments)}function ia(){return(ia=(0,O.Z)(function*(E,S){if(!navigator)throw P1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw P1.create("permission-blocked");return yield Ys(E,S?.vapidKey),yield Ks(E,S?.serviceWorkerRegistration),Qo(E)})).apply(this,arguments)}function N4(E,S,I){return T4.apply(this,arguments)}function T4(){return(T4=(0,O.Z)(function*(E,S,I){const P=A4(S);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:I[js],message_name:I[Uo],message_time:I[_4],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function A4(E){switch(E){case yi.NOTIFICATION_CLICKED:return"notification_open";case yi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function br(){return(br=(0,O.Z)(function*(E,S){const I=S.data;if(!I.isFirebaseMessaging)return;E.onMessageHandler&&I.messageType===yi.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ws(I)):E.onMessageHandler.next(Ws(I)));const P=I.data;yr(P)&&"1"===P[cc]&&(yield N4(E,I.messageType,P))})).apply(this,arguments)}const Cr="@firebase/messaging",mn=E=>{const S=new w5(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function o6(E,S){return br.apply(this,arguments)}(S,I)),S},m2=E=>{const S=E.getProvider("messaging").getImmediate();return{getToken:P=>function na(E,S){return ia.apply(this,arguments)}(S,P)}};function a6(){return I4.apply(this,arguments)}function I4(){return(I4=(0,O.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function E1(){(0,oe._registerComponent)(new de.wA("messaging",mn,"PUBLIC")),(0,oe._registerComponent)(new de.wA("messaging-internal",m2,"PRIVATE")),(0,oe.registerVersion)(Cr,"0.12.0"),(0,oe.registerVersion)(Cr,"0.12.0","esm2017")}();const ts="analytics",u6="firebase_id",wr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aa="https://www.googletagmanager.com/gtag/js",j1=new le.Yd("@firebase/analytics");function ca(E){return Promise.all(E.map(S=>S.catch(I=>I)))}function la(E,S){const I=document.createElement("script");I.src=`${aa}?l=${E}&id=${S}`,I.async=!0,document.head.appendChild(I)}function pc(E,S,I,P,J,ie){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,O.Z)(function*(E,S,I,P,J,ie){const Ee=P[J];try{if(Ee)yield S[Ee];else{const it=(yield ca(I)).find(ht=>ht.measurementId===J);it&&(yield S[it.appId])}}catch(Ge){j1.error(Ge)}E("config",J,ie)})).apply(this,arguments)}function ns(E,S,I,P,J){return Er.apply(this,arguments)}function Er(){return(Er=(0,O.Z)(function*(E,S,I,P,J){try{let ie=[];if(J&&J.send_to){let Ee=J.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Ge=yield ca(I);for(const it of Ee){const ht=Ge.find(St=>St.measurementId===it),Pt=ht&&S[ht.appId];if(!Pt){ie=[];break}ie.push(Pt)}}0===ie.length&&(ie=Object.values(S)),yield Promise.all(ie),E("event",P,J||{})}catch(ie){j1.error(ie)}})).apply(this,arguments)}function d6(E){const S=window.document.getElementsByTagName("script");for(const I of Object.values(S))if(I.src&&I.src.includes(aa)&&I.src.includes(E))return I;return null}const Sn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),eo=new class oi{constructor(S={},I=1e3){this.throttleMetadata=S,this.intervalMillis=I}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,I){this.throttleMetadata[S]=I}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function p6(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function to(E){return z4.apply(this,arguments)}function z4(){return(z4=(0,O.Z)(function*(E){var S;const{appId:I,apiKey:P}=E,J={method:"GET",headers:p6(P)},ie=wr.replace("{app-id}",I),Ee=yield fetch(ie,J);if(200!==Ee.status&&304!==Ee.status){let Ge="";try{const it=yield Ee.json();null!==(S=it.error)&&void 0!==S&&S.message&&(Ge=it.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Ge})}return Ee.json()})).apply(this,arguments)}function Z1(E){return q2.apply(this,arguments)}function q2(){return(q2=(0,O.Z)(function*(E,S=eo,I){const{appId:P,apiKey:J,measurementId:ie}=E.options;if(!P)throw Sn.create("no-app-id");if(!J){if(ie)return{measurementId:ie,appId:P};throw Sn.create("no-api-key")}const Ee=S.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new ha;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==I?I:6e4),fa({appId:P,apiKey:J,measurementId:ie},Ee,Ge,S)})).apply(this,arguments)}function fa(E,S,I){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,O.Z)(function*(E,{throttleEndTimeMillis:S,backoffCount:I},P,J=eo){var ie;const{appId:Ee,measurementId:Ge}=E;try{yield no(P,S)}catch(it){if(Ge)return j1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:Ee,measurementId:Ge};throw it}try{const it=yield to(E);return J.deleteThrottleMetadata(Ee),it}catch(it){const ht=it;if(!da(ht)){if(J.deleteThrottleMetadata(Ee),Ge)return j1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:Ee,measurementId:Ge};throw it}const Pt=503===Number(null===(ie=ht?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,ae.$s)(I,J.intervalMillis,30):(0,ae.$s)(I,J.intervalMillis),St={throttleEndTimeMillis:Date.now()+Pt,backoffCount:I+1};return J.setThrottleMetadata(Ee,St),j1.debug(`Calling attemptFetch again in ${Pt} millis`),fa(E,St,P,J)}})).apply(this,arguments)}function no(E,S){return new Promise((I,P)=>{const J=Math.max(S-Date.now(),0),ie=setTimeout(I,J);E.addEventListener(()=>{clearTimeout(ie),P(Sn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function da(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}class ha{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Ji,ro;function Qi(){return(Qi=(0,O.Z)(function*(E,S,I,P,J){if(J&&J.global)E("event",I,P);else{const ie=yield S;E("event",I,Object.assign(Object.assign({},P),{send_to:ie}))}})).apply(this,arguments)}function Tr(E){ro=E}function k4(E){Ji=E}function Di(){return ga.apply(this,arguments)}function ga(){return(ga=(0,O.Z)(function*(){if(!(0,ae.hl)())return j1.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return j1.warn(Sn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ss(){return(ss=(0,O.Z)(function*(E,S,I,P,J,ie,Ee){var Ge;const it=Z1(E);it.then(K1=>{I[K1.measurementId]=K1.appId,E.options.measurementId&&K1.measurementId!==E.options.measurementId&&j1.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${K1.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(K1=>j1.error(K1)),S.push(it);const ht=Di().then(K1=>{if(K1)return P.getId()}),[Pt,St]=yield Promise.all([it,ht]);d6(ie)||la(ie,Pt.measurementId),ro&&(J("consent","default",ro),Tr(void 0)),J("js",new Date);const rn=null!==(Ge=Ee?.config)&&void 0!==Ge?Ge:{};return rn.origin="firebase",rn.update=!0,null!=St&&(rn[u6]=St),J("config",Pt.measurementId,rn),Ji&&(J("set",Ji),k4(void 0)),Pt.measurementId})).apply(this,arguments)}class va{constructor(S){this.app=S}_delete(){return delete g2[this.app.options.appId],Promise.resolve()}}let g2={},Xi=[];const os={};let cs,Ar,as="dataLayer",so=!1;function du(E,S,I){!function D5(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const S=E.map((P,J)=>`(${J+1}) ${P}`).join(" "),I=Sn.create("invalid-analytics-context",{errorInfo:S});j1.warn(I.message)}}();const P=E.options.appId;if(!P)throw Sn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Sn.create("no-api-key");j1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=g2[P])throw Sn.create("already-exists",{id:P});if(!so){!function f6(E){let S=[];Array.isArray(window[E])?S=window[E]:window[E]=S}(as);const{wrappedGtag:ie,gtagCore:Ee}=function Js(E,S,I,P,J){let ie=function(...Ee){window[P].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ie=window[J]),window[J]=function ua(E,S,I,P){function ie(){return(ie=(0,O.Z)(function*(Ee,Ge,it){try{"event"===Ee?yield ns(E,S,I,Ge,it):"config"===Ee?yield pc(E,S,I,P,Ge,it):"consent"===Ee?E("consent","update",it):E("set",Ge)}catch(ht){j1.error(ht)}})).apply(this,arguments)}return function J(Ee,Ge,it){return ie.apply(this,arguments)}}(ie,E,S,I),{gtagCore:ie,wrappedGtag:window[J]}}(g2,Xi,os,as,"gtag");Ar=ie,cs=Ee,so=!0}return g2[P]=function rs(E,S,I,P,J,ie,Ee){return ss.apply(this,arguments)}(E,Xi,os,S,cs,as,I),new va(E)}function pu(){return mc.apply(this,arguments)}function mc(){return(mc=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const ct="@firebase/analytics";!function a1(){(0,oe._registerComponent)(new de.wA(ts,(S,{options:I})=>du(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,oe._registerComponent)(new de.wA("analytics-internal",function E(S){try{const I=S.getProvider(ts).getImmediate();return{logEvent:(P,J,ie)=>function y1(E,S,I,P){E=(0,ae.m9)(E),function m6(E,S,I,P,J){return Qi.apply(this,arguments)}(Ar,g2[E.app.options.appId],S,I,P).catch(J=>j1.error(J))}(I,P,J,ie)}}catch(I){throw Sn.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,oe.registerVersion)(ct,"0.9.0"),(0,oe.registerVersion)(ct,"0.9.0","esm2017")}();var W2=k(4408),H1=k(7565);const ya=new class er extends H1.v{}(class ao extends W2.o{constructor(S,I){super(S,I),this.scheduler=S,this.work=I}schedule(S,I=0){return I>0?super.schedule(S,I):(this.delay=I,this.state=S,this.scheduler.flush(this),this)}execute(S,I){return I>0||this.closed?super.execute(S,I):this._execute(S,I)}requestAsyncId(S,I,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(S,I,P):(S.flush(this),0)}});var R4=k(4986),co=k(8505),ls=k(9468),Ei=k(5363);const Qe=new u.GfV("7.5.0"),lo="__angularfire_symbol__analyticsIsSupportedValue",tr="__angularfire_symbol__analyticsIsSupported",us="__angularfire_symbol__remoteConfigIsSupportedValue",fs="__angularfire_symbol__remoteConfigIsSupported",x1="__angularfire_symbol__messagingIsSupportedValue",O4="__angularfire_symbol__messagingIsSupported";function uo(E,S,I){if(S){if(1===S.length)return S[0];const ie=S.filter(Ee=>Ee.app===I);if(1===ie.length)return ie[0]}return I.container.getProvider(E).getImmediate({optional:!0})}globalThis[tr]||(globalThis[tr]=pu().then(E=>globalThis[lo]=E).catch(()=>globalThis[lo]=!1)),globalThis[O4]||(globalThis[O4]=a6().then(E=>globalThis[x1]=E).catch(()=>globalThis[x1]=!1)),globalThis[fs]||(globalThis[fs]=Bo().then(E=>globalThis[us]=E).catch(()=>globalThis[us]=!1));const ai=(E,S)=>{const I=S?[S]:(0,ne.C6)(),P=[];return I.forEach(J=>{J.container.getProvider(E).instances.forEach(Ee=>{P.includes(Ee)||P.push(Ee)})}),P};function Xn(){}class R2{constructor(S,I=ya){this.zone=S,this.delegate=I}now(){return this.delegate.now()}schedule(S,I,P){const J=this.zone;return this.delegate.schedule(function(Ee){J.runGuarded(()=>{S.apply(this,[Ee])})},I,P)}}class P4{constructor(S){this.zone=S,this.task=null}call(S,I){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xn,{},Xn,Xn)),I.pipe((0,co.b)({next:P,complete:P,error:P})).subscribe(S).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _2=(()=>{class E{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new R2(Zone.current)),this.insideAngular=I.run(()=>new R2(Zone.current,R4.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(I){return new(I||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function y2(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Si(E){return y2(),function z1(E){return function(I){return(I=I.lift(new P4(E.ngZone))).pipe((0,ls.R)(E.outsideAngular),(0,Ei.Q)(E.insideAngular))}}(y2())(E)}},2090:(vt,Ne,k)=>{k.d(Ne,{$s:()=>ot,BH:()=>qt,G6:()=>De,L:()=>he,LL:()=>n1,Pz:()=>s1,Sg:()=>et,UG:()=>we,US:()=>de,ZB:()=>j,ZR:()=>A1,aH:()=>bt,b$:()=>me,eu:()=>We,hl:()=>qe,jU:()=>ut,m9:()=>Gt,ne:()=>X1,pd:()=>ti,r3:()=>j2,ru:()=>_e,tV:()=>pe,uI:()=>ke,vZ:()=>tt,w1:()=>dt,xO:()=>un,xb:()=>A2,z$:()=>Ue,zI:()=>B,zd:()=>I2});const oe=function(G){const F=[];let K=0;for(let Me=0;Me<G.length;Me++){let Q=G.charCodeAt(Me);Q<128?F[K++]=Q:Q<2048?(F[K++]=Q>>6|192,F[K++]=63&Q|128):55296==(64512&Q)&&Me+1<G.length&&56320==(64512&G.charCodeAt(Me+1))?(Q=65536+((1023&Q)<<10)+(1023&G.charCodeAt(++Me)),F[K++]=Q>>18|240,F[K++]=Q>>12&63|128,F[K++]=Q>>6&63|128,F[K++]=63&Q|128):(F[K++]=Q>>12|224,F[K++]=Q>>6&63|128,F[K++]=63&Q|128)}return F},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,F){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let Q=0;Q<G.length;Q+=3){const Ke=G[Q],Ct=Q+1<G.length,r1=Ct?G[Q+1]:0,w1=Q+2<G.length,Xt=w1?G[Q+2]:0;let $t=(15&r1)<<2|Xt>>6,Dn=63&Xt;w1||(Dn=64,Ct||($t=64)),Me.push(K[Ke>>2],K[(3&Ke)<<4|r1>>4],K[$t],K[Dn])}return Me.join("")},encodeString(G,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(G):this.encodeByteArray(oe(G),F)},decodeString(G,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(G):function(G){const F=[];let K=0,Me=0;for(;K<G.length;){const Q=G[K++];if(Q<128)F[Me++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ke=G[K++];F[Me++]=String.fromCharCode((31&Q)<<6|63&Ke)}else if(Q>239&&Q<365){const w1=((7&Q)<<18|(63&G[K++])<<12|(63&G[K++])<<6|63&G[K++])-65536;F[Me++]=String.fromCharCode(55296+(w1>>10)),F[Me++]=String.fromCharCode(56320+(1023&w1))}else{const Ke=G[K++],Ct=G[K++];F[Me++]=String.fromCharCode((15&Q)<<12|(63&Ke)<<6|63&Ct)}}return F.join("")}(this.decodeStringToByteArray(G,F))},decodeStringToByteArray(G,F){this.init_();const K=F?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let Q=0;Q<G.length;){const Ke=K[G.charAt(Q++)],r1=Q<G.length?K[G.charAt(Q)]:0;++Q;const Xt=Q<G.length?K[G.charAt(Q)]:64;++Q;const Ze=Q<G.length?K[G.charAt(Q)]:64;if(++Q,null==Ke||null==r1||null==Xt||null==Ze)throw Error();Me.push(Ke<<2|r1>>4),64!==Xt&&(Me.push(r1<<4&240|Xt>>2),64!==Ze&&Me.push(Xt<<6&192|Ze))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},he=function(G){return function(G){const F=oe(G);return de.encodeByteArray(F,!0)}(G).replace(/\./g,"")},pe=function(G){try{return de.decodeString(G,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function j(G,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return F}for(const K in F)!F.hasOwnProperty(K)||!Y(K)||(G[K]=j(G[K],F[K]));return G}function Y(G){return"__proto__"!==G}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ut(){return"object"==typeof self&&self.self===self}function _e(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){const G=Ue();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function De(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function We(){return new Promise((G,F)=>{try{let K=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(Me);Q.onsuccess=()=>{Q.result.close(),K||self.indexedDB.deleteDatabase(Me),G(!0)},Q.onupgradeneeded=()=>{K=!1},Q.onerror=()=>{var Ke;F((null===(Ke=Q.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(K){F(K)}})}function B(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=G&&pe(G[1]);return F&&JSON.parse(F)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},bt=()=>{var G;return null===(G=re())||void 0===G?void 0:G.config},s1=G=>{var F;return null===(F=re())||void 0===F?void 0:F[`_${G}`]};class qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,K)=>{this.resolve=F,this.reject=K})}wrapCallback(F){return(K,Me)=>{K?this.reject(K):this.resolve(Me),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(K):F(K,Me))}}}function et(G,F){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=F||"demo-project",Q=G.iat||0,Ke=G.sub||G.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:Q,exp:Q+3600,auth_time:Q,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Ct)),""].join(".")}class A1 extends Error{constructor(F,K,Me){super(K),this.code=F,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,A1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n1.prototype.create)}}class n1{constructor(F,K,Me){this.service=F,this.serviceName=K,this.errors=Me}create(F,...K){const Me=K[0]||{},Q=`${this.service}/${F}`,Ke=this.errors[F],Ct=Ke?function o1(G,F){return G.replace(Kn,(K,Me)=>{const Q=F[Me];return null!=Q?String(Q):`<${Me}?>`})}(Ke,Me):"Error";return new A1(Q,`${this.serviceName}: ${Ct} (${Q}).`,Me)}}const Kn=/\{\$([^}]+)}/g;function j2(G,F){return Object.prototype.hasOwnProperty.call(G,F)}function A2(G){for(const F in G)if(Object.prototype.hasOwnProperty.call(G,F))return!1;return!0}function tt(G,F){if(G===F)return!0;const K=Object.keys(G),Me=Object.keys(F);for(const Q of K){if(!Me.includes(Q))return!1;const Ke=G[Q],Ct=F[Q];if(Fn(Ke)&&Fn(Ct)){if(!tt(Ke,Ct))return!1}else if(Ke!==Ct)return!1}for(const Q of Me)if(!K.includes(Q))return!1;return!0}function Fn(G){return null!==G&&"object"==typeof G}function un(G){const F=[];for(const[K,Me]of Object.entries(G))Array.isArray(Me)?Me.forEach(Q=>{F.push(encodeURIComponent(K)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent(K)+"="+encodeURIComponent(Me));return F.length?"&"+F.join("&"):""}function I2(G){const F={};return G.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[Q,Ke]=Me.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(Ke)}}),F}function ti(G){const F=G.indexOf("?");if(!F)return"";const K=G.indexOf("#",F);return G.substring(F,K>0?K:void 0)}function X1(G,F){const K=new D1(G,F);return K.subscribe.bind(K)}class D1{constructor(F,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{F(this)}).catch(Me=>{this.error(Me)})}next(F){this.forEachObserver(K=>{K.next(F)})}error(F){this.forEachObserver(K=>{K.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,K,Me){let Q;if(void 0===F&&void 0===K&&void 0===Me)throw new Error("Missing Observer.");Q=function _t(G,F){if("object"!=typeof G||null===G)return!1;for(const K of F)if(K in G&&"function"==typeof G[K])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:K,complete:Me},void 0===Q.next&&(Q.next=m1),void 0===Q.error&&(Q.error=m1),void 0===Q.complete&&(Q.complete=m1);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),Ke}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,F)}sendOne(F,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{K(this.observers[F])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m1(){}function ot(G,F=1e3,K=2){const Me=F*Math.pow(K,G),Q=Math.round(.5*Me*(Math.random()-.5)*2);return Math.min(144e5,Me+Q)}function Gt(G){return G&&G._delegate?G._delegate:G}},734:(vt,Ne,k)=>{var u=k(4650);let ne=null;function O(){return ne}const le=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function pe(){return(0,u.LFG)(j)}()},providedIn:"platform"}),n})();const U=new u.OlP("Location Initialized");let j=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){Y()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){Y()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ue(){return new j((0,u.LFG)(le))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ut(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(st)},providedIn:"root"}),n})();const me=new u.OlP("appBaseHref");let st=(()=>{class n extends _e{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ut(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const l=this.prepareExternalUrl(r+ut(a));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,a){const l=this.prepareExternalUrl(r+ut(a));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dt=(()=>{class n extends _e{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ke(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let l=this.prepareExternalUrl(r+ut(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,a){let l=this.prepareExternalUrl(r+ut(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=we(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ut(i))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ut(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ut,n.joinWithSlash=ke,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(u.LFG(_e))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return new Ie((0,u.LFG)(_e))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}function Fs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}let _1=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Bs{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let x2=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Bs(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===a?void 0:a);else if(null!==a){const d=i.get(a);i.move(d,l),qi(d,r)}});for(let r=0,a=i.length;r<a;r++){const d=i.get(r).context;d.index=r,d.count=a,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{qi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qi(n,e){n.context.$implicit=e.item}let V1=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new h4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){En("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){En("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class h4{constructor(){this.$implicit=null,this.ngIf=null}}function En(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let X3=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split("."),l=-1===r.indexOf("-")?void 0:u.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,a?`${i}${a}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class e6{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class v5{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const gi=new v5,_5=new e6;let g4=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,u.QGY)(t))return gi;if((0,u.F4k)(t))return _5;throw function hn(n,e){return new u.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const yi="browser";function kn(n){return"server"===n}let Go=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new fc((0,u.LFG)(le),window)}),n})();class fc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Un(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=L2(this.window.history)||L2(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function L2(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vr{}class br extends class o6 extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){ne||(ne=n)}(new br)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ra(){return Cr=Cr||document.querySelector("base"),Cr?Cr.getAttribute("href"):null}();return null==t?null:function m2(n){mn=mn||document.createElement("a"),mn.setAttribute("href",n);const e=mn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fs(document.cookie,e)}}let mn,Cr=null;const E1=new u.OlP("TRANSITION_ID"),I4=[{provide:u.ip1,useFactory:function a6(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[E1,le,u.zs3],multi:!0}];let x4=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=new u.OlP("EventManagerPlugins");let c6=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const l=r[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sa),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Mr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),es=(()=>{class n extends Mr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const l=this._doc.createElement("style");l.textContent=a,r.push(i.appendChild(l))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(l6),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(l6))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function l6(n){O().remove(n)}const ts={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},u6=/%COMP%/g;function la(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?la(n,r,t):(r=r.replace(u6,n),t.push(r))}return t}function f6(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dr=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ns(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new d6(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new h6(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=la(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(c6),u.LFG(es),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ns{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ts[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Js(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Js(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=ts[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ts[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,f6(i)):this.eventManager.addEventListener(e,t,f6(i))}}function Js(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class d6 extends ns{constructor(e,t,i,r){super(e),this.component=i;const a=la(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function j1(n){return"_ngcontent-%COMP%".replace(u6,n)}(r+"-"+i.id),this.hostAttr=function ca(n){return"_nghost-%COMP%".replace(u6,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class h6 extends ns{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=la(r.id,r.styles,[]);for(let l=0;l<a.length;l++){const d=document.createElement("style");d.textContent=a[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Sn=(()=>{class n extends oa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Qs=["alt","control","meta","shift"],Xs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let eo=(()=>{class n extends oa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),l=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let l="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),l="code."),Qs.forEach(b=>{const w=i.indexOf(b);w>-1&&(i.splice(w,1),l+=b+".")}),l+=a,0!=i.length||0===a.length)return null;const g={};return g.domEventName=r,g.fullKey=l,g}static matchEventFullKeyCode(t,i){let r=Xs[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Qs.forEach(l=>{l!==r&&(0,oi[l])(t)&&(a+=l+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ha=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:yi},{provide:u.g9A,useValue:function fa(){br.makeCurrent()},multi:!0},{provide:le,useFactory:function no(){return(0,u.RDi)(document),document},deps:[]}]),Ji=new u.OlP(""),m6=[{provide:u.rWj,useClass:class hc{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,l=!1;const d=function(g){l=l||g,a--,0==a&&i(l)};r.forEach(function(g){g.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Qi=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Sr(){return new u.qLn},deps:[]},{provide:sa,useClass:Sn,multi:!0,deps:[le,u.R0b,u.Lbi]},{provide:sa,useClass:eo,multi:!0,deps:[le]},{provide:Dr,useClass:Dr,deps:[c6,es,u.AFp]},{provide:u.FYo,useExisting:Dr},{provide:Mr,useExisting:es},{provide:es,useClass:es,deps:[le]},{provide:c6,useClass:c6,deps:[sa,u.R0b]},{provide:vr,useClass:x4,deps:[]},[]];let pa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:E1,useExisting:u.AFp},I4]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ji,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Qi,...m6],imports:[pn,u.hGG]}),n})(),wi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function is(){return new wi((0,u.LFG)(le))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(N5),i},providedIn:"root"}),n})(),N5=(()=>{class n extends oo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function S5(n){return new N5(n.get(le))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var y1=k(8996),v2=k(3269);function ct(...n){const e=(0,v2.yG)(n);return(0,y1.D)(n,e)}var f1=k(7579);class a1 extends f1.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const ao=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var H1=k(9751);const{isArray:er}=Array,{getPrototypeOf:ya,prototype:T5,keys:R4}=Object;function co(n){if(1===n.length){const e=n[0];if(er(e))return{args:e,keys:null};if(function ls(n){return n&&"object"==typeof n&&ya(n)===T5}(e)){const t=R4(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ei=k(4671),Qe=k(4004);const{isArray:lo}=Array;function us(n){return(0,Qe.U)(e=>function tr(n,e){return lo(e)?n(...e):n(e)}(n,e))}function fs(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var x1=k(5403),O4=k(9672);function nr(...n){const e=(0,v2.yG)(n),t=(0,v2.jO)(n),{args:i,keys:r}=co(n);if(0===i.length)return(0,y1.D)([],e);const a=new H1.y(function A5(n,e,t=Ei.y){return i=>{V4(e,()=>{const{length:r}=n,a=new Array(r);let l=r,d=r;for(let g=0;g<r;g++)V4(e,()=>{const b=(0,y1.D)(n[g],e);let w=!1;b.subscribe((0,x1.x)(i,N=>{a[g]=N,w||(w=!0,d--),d||i.next(t(a.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>fs(r,l):Ei.y));return t?a.pipe(us(t)):a}function V4(n,e,t){n?(0,O4.f)(t,n,e):e()}var ba=k(8189);function ai(...n){return function uo(){return(0,ba.J)(1)}()((0,y1.D)(n,(0,v2.yG)(n)))}var Xn=k(8421);function R2(n){return new H1.y(e=>{(0,Xn.Xf)(n()).subscribe(e)})}var P4=k(9635),_2=k(576);function y2(n,e){const t=(0,_2.m)(n)?n:()=>n,i=r=>r.error(t());return new H1.y(e?r=>e.schedule(i,0,r):i)}var Z2=k(515),K2=k(727),gn=k(4482);function ir(){return(0,gn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,x1.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Si extends H1.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new K2.w0;const t=this.getSubject();e.add(this.source.subscribe((0,x1.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=K2.w0.EMPTY)}return e}refCount(){return ir()(this)}}function z1(n,e){return(0,gn.e)((t,i)=>{let r=null,a=0,l=!1;const d=()=>l&&!r&&i.complete();t.subscribe((0,x1.x)(i,g=>{r?.unsubscribe();let b=0;const w=a++;(0,Xn.Xf)(n(g,w)).subscribe(r=(0,x1.x)(i,N=>i.next(e?e(g,N,w,b++):N),()=>{r=null,d()}))},()=>{l=!0,d()}))})}function Yt(n){return n<=0?()=>Z2.E:(0,gn.e)((e,t)=>{let i=0;e.subscribe((0,x1.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ir(...n){const e=(0,v2.yG)(n);return(0,gn.e)((t,i)=>{(e?ai(n,t,e):ai(n,t)).subscribe(i)})}function E(n,e){return(0,gn.e)((t,i)=>{let r=0;t.subscribe((0,x1.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var S=k(5577);function I(n){return(0,gn.e)((e,t)=>{let i=!1;e.subscribe((0,x1.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function P(n=J){return(0,gn.e)((e,t)=>{let i=!1;e.subscribe((0,x1.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function J(){return new ao}function ie(n,e){const t=arguments.length>=2;return i=>i.pipe(n?E((r,a)=>n(r,a,i)):Ei.y,Yt(1),t?I(e):P(()=>new ao))}function Ee(n,e){return(0,_2.m)(e)?(0,S.z)(n,e,1):(0,S.z)(n,1)}var Ge=k(8505);function it(n){return(0,gn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,x1.x)(t,void 0,void 0,l=>{a=(0,Xn.Xf)(n(l,it(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function ht(n,e,t,i,r){return(a,l)=>{let d=t,g=e,b=0;a.subscribe((0,x1.x)(l,w=>{const N=b++;g=d?n(g,w,N):(d=!0,w),i&&l.next(g)},r&&(()=>{d&&l.next(g),l.complete()})))}}function Pt(n,e){return(0,gn.e)(ht(n,e,arguments.length>=2,!0))}function St(n){return n<=0?()=>Z2.E:(0,gn.e)((e,t)=>{let i=[];e.subscribe((0,x1.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function rn(n,e){const t=arguments.length>=2;return i=>i.pipe(n?E((r,a)=>n(r,a,i)):Ei.y,St(1),t?I(e):P(()=>new ao))}function xr(n){return(0,Qe.U)(()=>n)}function ds(n){return(0,gn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",Y1=Symbol("RouteTitle");class b2{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ni(n){return new b2(n)}function fh(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const l=i[a],d=n[a];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function rr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!gc(n[r],e[r]))return!1;return!0}function gc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function x5(n){return Array.prototype.concat.apply([],n)}function z5(n){return n.length>0?n[n.length-1]:null}function vn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ci(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,y1.D)(Promise.resolve(n)):ct(n)}const dh={exact:function k5(n,e,t){if(!wa(n.segments,e.segments)||!Ca(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!k5(n.children[i],e.children[i],t))return!1;return!0},subset:bc},_c={exact:function vu(n,e){return rr(n,e)},subset:function yc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gc(n[t],e[t]))},ignored:()=>!0};function gu(n,e,t){return dh[t.paths](n.root,e.root,t.matrixParams)&&_c[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bc(n,e,t){return _u(n,e,e.segments,t)}function _u(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!wa(r,t)||e.hasChildren()||!Ca(r,t,i))}if(n.segments.length===t.length){if(!wa(n.segments,t)||!Ca(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!bc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(wa(n.segments,r)&&Ca(n.segments,r,i)&&n.children[Ot])&&_u(n.children[Ot],e,a,i)}}function Ca(n,e,t){return e.every((i,r)=>_c[t](n[r].parameters,i.parameters))}class Ma{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return _6.serialize(this)}}class Jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return F4(this)}}class v6{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ni(this.parameters)),this._parameterMap}toString(){return Mc(this)}}function wa(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Cc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new H4},providedIn:"root"}),n})();class H4{parse(e){const t=new zr(e);return new Ma(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hs(e.root,!0)}`,i=function wu(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${B4(t)}=${B4(r)}`).join("&"):`${B4(t)}=${B4(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Cu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const _6=new H4;function F4(n){return n.segments.map(e=>Mc(e)).join("/")}function hs(n,e){if(!n.hasChildren())return F4(n);if(e){const t=n.children[Ot]?hs(n.children[Ot],!1):"",i=[];return vn(n.children,(r,a)=>{a!==Ot&&i.push(`${a}:${hs(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function bu(n,e){let t=[];return vn(n.children,(i,r)=>{r===Ot&&(t=t.concat(e(i,r)))}),vn(n.children,(i,r)=>{r!==Ot&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ot?[hs(n.children[Ot],!1)]:[`${r}:${hs(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${F4(n)}/${t[0]}`:`${F4(n)}/(${t.join("//")})`}}function Ti(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function B4(n){return Ti(n).replace(/%3B/gi,";")}function U4(n){return Ti(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function j4(n){return decodeURIComponent(n)}function G4(n){return j4(n.replace(/\+/g,"%20"))}function Mc(n){return`${U4(n.path)}${function Mu(n){return Object.keys(n).map(e=>`;${U4(e)}=${U4(n[e])}`).join("")}(n.parameters)}`}const R5=/^[^\/()?;=#]+/;function y6(n){const e=n.match(R5);return e?e[0]:""}const Du=/^[^=?&#]+/,wc=/^[^&#]+/;class zr{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ot]=new Jt(e,t)),i}parseSegment(){const e=y6(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new v6(j4(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=y6(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=y6(this.remaining);r&&(i=r,this.capture(i))}e[j4(t)]=j4(i)}parseQueryParam(e){const t=function e2(n){const e=n.match(Du);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function Eu(n){const e=n.match(wc);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=G4(t),a=G4(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=y6(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ot);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Ot]:new Jt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Rn(n){return n.segments.length>0?new Jt([],{[Ot]:n}):n}function ps(n){const e={};for(const i of Object.keys(n.children)){const a=ps(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function b6(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Jt(n.segments.concat(e.segments),e.children)}return n}(new Jt(n.segments,e))}function fo(n){return n instanceof Ma}function Tu(n,e,t,i,r){if(0===t.length)return Ea(e.root,e.root,e.root,i,r);const a=function O5(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new w6(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const d={};return vn(a.outlets,(g,b)=>{d[b]="string"==typeof g?g.split("/"):g}),[...r,{outlets:d}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===l?(a.split("/").forEach((d,g)=>{0==g&&"."===d||(0==g&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,a]},[]);return new w6(t,e,i)}(t);return a.toRoot()?Ea(e.root,e.root,new Jt([],{}),i,r):function l(g){const b=function mo(n,e,t,i){if(n.isAbsolute)return new po(e.root,!0,0);if(-1===i)return new po(t,t===e.root,0);return function P5(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new po(i,!1,r-a)}(t,i+(Da(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),w=b.processChildren?Lr(b.segmentGroup,b.index,a.commands):go(b.segmentGroup,b.index,a.commands);return Ea(e.root,b.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function Da(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ho(n){return"object"==typeof n&&null!=n&&n.outlets}function Ea(n,e,t,i,r){let l,a={};i&&vn(i,(g,b)=>{a[b]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),l=n===e?t:M6(n,e,t);const d=Rn(ps(l));return new Ma(d,a,r)}function M6(n,e,t){const i={};return vn(n.children,(r,a)=>{i[a]=r===e?t:M6(r,e,t)}),new Jt(n.segments,i)}class w6{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Da(i[0]))throw new u.vHH(4003,!1);const r=i.find(ho);if(r&&r!==z5(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class po{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function go(n,e,t){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return Lr(n,e,t);const i=function H5(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const l=n.segments[r],d=t[i];if(ho(d))break;const g=`${d}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&b&&"object"==typeof b&&void 0===b.outlets){if(!Dc(g,b,l))return a;i+=2}else{if(!Dc(g,{},l))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Jt(n.segments.slice(0,i.pathIndex),{});return a.children[Ot]=new Jt(n.segments.slice(i.pathIndex),n.children),Lr(a,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?F5(n,e,t):i.match?Lr(n,0,r):F5(n,e,t)}function Lr(n,e,t){if(0===t.length)return new Jt(n.segments,{});{const i=function Au(n){return ho(n[0])?n[0].outlets:{[Ot]:n}}(t),r={};return vn(i,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[l]=go(n.children[l],e,a))}),vn(n.children,(a,l)=>{void 0===i[l]&&(r[l]=a)}),new Jt(n.segments,r)}}function F5(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(ho(a)){const g=kr(a.outlets);return new Jt(i,g)}if(0===r&&Da(t[0])){i.push(new v6(n.segments[e].path,D6(t[0]))),r++;continue}const l=ho(a)?a.outlets[Ot]:`${a}`,d=r<t.length-1?t[r+1]:null;l&&d&&Da(d)?(i.push(new v6(l,D6(d))),r+=2):(i.push(new v6(l,{})),r++)}return new Jt(i,{})}function kr(n){const e={};return vn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=F5(new Jt([],{}),0,t))}),e}function D6(n){const e={};return vn(n,(t,i)=>e[i]=`${t}`),e}function Dc(n,e,t){return n==t.path&&rr(e,t.parameters)}class Rr{constructor(e,t){this.id=e,this.url=t}}class Sa extends Rr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vo extends Rr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class E6 extends Rr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class B5 extends Rr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iu extends Rr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q4 extends Rr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xu extends Rr{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ec extends Rr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sc extends Rr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nc{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zu{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N6{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class W4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tc(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Tc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=O2(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return O2(e,this._root).map(t=>t.value)}}function Tc(n,e){if(n===e.value)return e;for(const t of e.children){const i=Tc(n,t);if(i)return i}return null}function O2(n,e){if(n===e.value)return[e];for(const t of e.children){const i=O2(n,t);if(i.length)return i.unshift(e),i}return[]}class t2{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _o(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ac extends W4{constructor(e,t){super(e),this.snapshot=t,K4(this,e)}toString(){return this.snapshot.toString()}}function Z4(n,e){const t=function T6(n,e){const l=new V2([],{},{},"",{},Ot,e,null,n.root,-1,{});return new x6("",new t2(l,[]))}(n,e),i=new a1([new v6("",{})]),r=new a1({}),a=new a1({}),l=new a1({}),d=new a1(""),g=new Vr(i,r,l,d,a,Ot,e,t.root);return g.snapshot=t.root,new Ac(new t2(g,[]),t)}class Vr{constructor(e,t,i,r,a,l,d,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=l,this.component=d,this.title=this.data?.pipe((0,Qe.U)(b=>b[Y1]))??ct(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(e=>Ni(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(e=>Ni(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function A6(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function I6(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class V2{constructor(e,t,i,r,a,l,d,g,b,w,N,z){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=l,this.component=d,this.title=this.data?.[Y1],this.routeConfig=g,this._urlSegment=b,this._lastPathIndex=w,this._correctedLastPathIndex=z??w,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ni(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x6 extends W4{constructor(e,t){super(t),this.url=e,K4(this,t)}toString(){return z6(this._root)}}function K4(n,e){e.value._routerState=n,e.children.forEach(t=>K4(n,t))}function z6(n){const e=n.children.length>0?` { ${n.children.map(z6).join(", ")} } `:"";return`${n.value}${e}`}function Y4(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,rr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),rr(e.params,t.params)||n.params.next(t.params),function I5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!rr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),rr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ms(n,e){const t=rr(n.params,e.params)&&function yu(n,e){return wa(n,e)&&n.every((t,i)=>rr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ms(n.parent,e.parent))}function gs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Ic(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return gs(n,i,r);return gs(n,i)})}(n,e,t);return new t2(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(d=>gs(n,d)),l}}const i=function Lu(n){return new Vr(new a1(n.url),new a1(n.params),new a1(n.queryParams),new a1(n.fragment),new a1(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>gs(n,a));return new t2(i,r)}}const li="ngNavigationCancelingError";function vs(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Na(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Na(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[li]=!0,i.cancellationCode=e,t&&(i.url=t),i}function J4(n){return _s(n)&&fo(n.url)}function _s(n){return n&&n[li]}class xc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Q4,this.attachRef=null}}let Q4=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new xc,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zc=!1;let Lc=(()=>{class n{constructor(t,i,r,a,l){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,zc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,zc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,zc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,zc);this._activatedRoute=t;const r=this.location,l=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,g=new kc(t,d,r.injector);if(i&&function _(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(l);this.activated=r.createComponent(b,r.length,g)}else this.activated=r.createComponent(l,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Q4),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class kc{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Vr?this.route:e===Q4?this.childContexts:this.parent.get(e,t)}}let p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[Lc],encapsulation:2}),n})();function v(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Mt(n){const e=n.children&&n.children.map(Mt),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=p),t}function b1(n){return n.outlet||Ot}function _n(n,e){const t=n.filter(i=>b1(i)===e);return t.push(...n.filter(i=>b1(i)!==e)),t}function Y2(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Rc{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Y4(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=_o(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,r[l],i),delete r[l]}),vn(r,(a,l)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=_o(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],r);if(i&&i.outlet){const l=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=_o(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=_o(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new N6(a.value.snapshot))}),e.children.length&&this.forwardEvent(new j5(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Y4(r),r===a)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),Y4(d.route.value),this.activateChildRoutes(e,null,l.children)}else{const d=Y2(r.snapshot),g=d?.get(u._Vd)??null;l.attachRef=null,l.route=r,l.resolver=g,l.injector=d,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class Oc{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class X4{constructor(e,t){this.component=e,this.route=t}}function Vc(n,e,t){const i=n._root;return yo(i,e?e._root:null,t,[i.value])}function ys(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function yo(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=_o(e);return n.children.forEach(l=>{(function W5(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const g=function ku(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wa(n.url,e.url)||!rr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ms(n,e)||!rr(n.queryParams,e.queryParams);default:return!ms(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Oc(i)):(a.data=l.data,a._resolvedData=l._resolvedData),yo(n,e,a.component?d?d.children:null:t,i,r),g&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new X4(d.outlet.component,l))}else l&&bo(e,d,r),r.canActivateChecks.push(new Oc(i)),yo(n,null,a.component?d?d.children:null:t,i,r)})(l,a[l.value.outlet],t,i.concat([l.value]),r),delete a[l.value.outlet]}),vn(a,(l,d)=>bo(l,t.getContext(d),r)),r}function bo(n,e,t){const i=_o(n),r=n.value;vn(i,(a,l)=>{bo(a,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new X4(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function bs(n){return"function"==typeof n}function Hc(n){return n instanceof ao||"EmptyError"===n?.name}const L6=Symbol("INITIAL_VALUE");function Fc(){return z1(n=>nr(n.map(e=>e.pipe(Yt(1),Ir(L6)))).pipe((0,Qe.U)(e=>{for(const t of e)if(!0!==t){if(t===L6)return L6;if(!1===t||t instanceof Ma)return t}return!0}),E(e=>e!==L6),Yt(1)))}function K5(n){return(0,P4.z)((0,Ge.b)(e=>{if(fo(e))throw vs(0,e)}),(0,Qe.U)(e=>!0===e))}const sn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ru(n,e,t,i,r){const a=Ou(n,e,t);return a.matched?function jv(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ct(r.map(l=>{const d=ys(l,n);return ci(function Bw(n){return n&&bs(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(Fc(),K5()):ct(!0)}(i=v(e,i),e,t).pipe((0,Qe.U)(l=>!0===l?a:{...sn})):ct(a)}function Ou(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sn}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||fh)(t,n,e);if(!r)return{...sn};const a={};vn(r.posParams,(d,g)=>{a[g]=d.path});const l=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function k6(n,e,t,i,r="corrected"){if(t.length>0&&function $v(n,e,t){return t.some(i=>Y5(n,e,i)&&b1(i)!==Ot)}(n,t,i)){const l=new Jt(e,function Gv(n,e,t,i){const r={};r[Ot]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&b1(a)!==Ot){const l=new Jt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[b1(a)]=l}return r}(n,e,i,new Jt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function qv(n,e,t){return t.some(i=>Y5(n,e,i))}(n,t,i)){const l=new Jt(n.segments,function yh(n,e,t,i,r,a){const l={};for(const d of i)if(Y5(n,t,d)&&!r[b1(d)]){const g=new Jt([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,l[b1(d)]=g}return{...r,...l}}(n,e,t,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const a=new Jt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Y5(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bh(n,e,t,i){return!!(b1(n)===i||i!==Ot&&Y5(e,t,n))&&("**"===n.path||Ou(e,n,t).matched)}function Wv(n,e,t){return 0===e.length&&!n.children[t]}const Vu=!1;class Ta{constructor(e){this.segmentGroup=e||null}}class J5{constructor(e){this.urlTree=e}}function R6(n){return y2(new Ta(n))}function Pu(n){return y2(new J5(n))}class wh{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=k6(this.urlTree.root,[],[],this.config).segmentGroup,t=new Jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,Qe.U)(a=>this.createUrlTree(ps(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(it(a=>{if(a instanceof J5)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ta?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,Qe.U)(r=>this.createUrlTree(ps(r),e.queryParams,e.fragment))).pipe(it(r=>{throw r instanceof Ta?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,Vu)}createUrlTree(e,t,i){const r=Rn(e);return new Ma(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Qe.U)(a=>new Jt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,y1.D)(r).pipe(Ee(a=>{const l=i.children[a],d=_n(t,a);return this.expandSegmentGroup(e,d,l,a).pipe((0,Qe.U)(g=>({segment:g,outlet:a})))}),Pt((a,l)=>(a[l.outlet]=l.segment,a),{}),rn())}expandSegment(e,t,i,r,a,l){return(0,y1.D)(i).pipe(Ee(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,a,l).pipe(it(b=>{if(b instanceof Ta)return ct(null);throw b}))),ie(d=>!!d),it((d,g)=>{if(Hc(d))return Wv(t,r,a)?ct(new Jt([],{})):R6(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,a,l,d){return bh(r,t,a,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l):R6(t):R6(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Pu(a):this.lineralizeSegments(i,a).pipe((0,S.z)(l=>{const d=new Jt(l,{});return this.expandSegment(e,d,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,l){const{matched:d,consumedSegments:g,remainingSegments:b,positionalParamSegments:w}=Ou(t,r,a);if(!d)return R6(t);const N=this.applyRedirectCommands(g,r.redirectTo,w);return r.redirectTo.startsWith("/")?Pu(N):this.lineralizeSegments(r,N).pipe((0,S.z)(z=>this.expandSegment(e,t,i,z.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=v(i,e),i.loadChildren?(i._loadedRoutes?ct({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,Qe.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Jt(r,{})))):ct(new Jt(r,{}))):Ru(t,i,r,e).pipe(z1(({matched:l,consumedSegments:d,remainingSegments:g})=>l?this.getChildConfig(e=i._injector??e,i,r).pipe((0,S.z)(w=>{const N=w.injector??e,z=w.routes,{segmentGroup:R,slicedSegments:H}=k6(t,d,g,z),q=new Jt(R.segments,R.children);if(0===H.length&&q.hasChildren())return this.expandChildren(N,z,q).pipe((0,Qe.U)(Ve=>new Jt(d,Ve)));if(0===z.length&&0===H.length)return ct(new Jt(d,{}));const X=b1(i)===a;return this.expandSegment(N,q,z,H,X?Ot:a,!0).pipe((0,Qe.U)(Ae=>new Jt(d.concat(Ae.segments),Ae.children)))})):R6(t)))}getChildConfig(e,t,i){return t.children?ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function _h(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ct(!0):ct(r.map(l=>{const d=ys(l,n);return ci(function Pc(n){return n&&bs(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(Fc(),K5())}(e,t,i).pipe((0,S.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ge.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Zv(n){return y2(Na(Vu,3))}())):ct({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ct(i);if(r.numberOfChildren>1||!r.children[Ot])return y2(new u.vHH(4e3,Vu));r=r.children[Ot]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Ma(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return vn(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[a]=t[d]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let l={};return vn(t.children,(d,g)=>{l[g]=this.createSegmentGroup(e,d,i,r)}),new Jt(a,l)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,Vu);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Kv{}class Eh{constructor(e,t,i,r,a,l,d,g){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d,this.urlSerializer=g}recognize(){const e=k6(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,Qe.U)(t=>{if(null===t)return null;const i=new V2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new t2(i,t),a=new x6(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=A6(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,y1.D)(Object.keys(i.children)).pipe(Ee(r=>{const a=i.children[r],l=_n(t,r);return this.processSegmentGroup(e,l,a,r)}),Pt((r,a)=>r&&a?(r.push(...a),r):null),function K1(n,e=!1){return(0,gn.e)((t,i)=>{let r=0;t.subscribe((0,x1.x)(i,a=>{const l=n(a,r++);(l||e)&&i.next(a),!l&&i.complete()}))})}(r=>null!==r),I(null),rn(),(0,Qe.U)(r=>{if(null===r)return null;const a=Bc(r);return function e3(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,y1.D)(t).pipe(Ee(l=>this.processSegmentAgainstRoute(l._injector??e,l,i,r,a)),ie(l=>!!l),it(l=>{if(Hc(l))return Wv(i,r,a)?ct([]):ct(null);throw l}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!bh(t,i,r,a))return ct(null);let l;if("**"===t.path){const d=r.length>0?z5(r).parameters:{},g=Uc(i)+r.length;l=ct({snapshot:new V2(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ju(t),b1(t),t.component??t._loadedComponent??null,t,Q5(i),g,X5(t),g),consumedSegments:[],remainingSegments:[]})}else l=Ru(i,t,r,e).pipe((0,Qe.U)(({matched:d,consumedSegments:g,remainingSegments:b,parameters:w})=>{if(!d)return null;const N=Uc(i)+g.length;return{snapshot:new V2(g,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ju(t),b1(t),t.component??t._loadedComponent??null,t,Q5(i),N,X5(t),N),consumedSegments:g,remainingSegments:b}}));return l.pipe(z1(d=>{if(null===d)return ct(null);const{snapshot:g,consumedSegments:b,remainingSegments:w}=d;e=t._injector??e;const N=t._loadedInjector??e,z=function Yv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:R,slicedSegments:H}=k6(i,b,w,z.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===H.length&&R.hasChildren())return this.processChildren(N,z,R).pipe((0,Qe.U)(X=>null===X?null:[new t2(g,X)]));if(0===z.length&&0===H.length)return ct([new t2(g,[])]);const q=b1(t)===a;return this.processSegment(N,z,R,H,q?Ot:a).pipe((0,Qe.U)(X=>null===X?null:[new t2(g,X)]))}))}}function Uu(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Bc(n){const e=[],t=new Set;for(const i of n){if(!Uu(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Bc(i.children);e.push(new t2(i.value,r))}return e.filter(i=>!t.has(i))}function Q5(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Uc(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ju(n){return n.data||{}}function X5(n){return n.resolve||{}}function Nh(n){return"string"==typeof n.title||null===n.title}function Gu(n){return z1(e=>{const t=n(e);return t?(0,y1.D)(t).pipe((0,Qe.U)(()=>e)):ct(e)})}let el=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Ot);return i}getResolvedTitleForRoute(t){return t.data[Y1]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Th)},providedIn:"root"}),n})(),Th=(()=>{class n extends el{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class i_{}class Gw extends class Ah{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ia=new u.OlP("",{providedIn:"root",factory:()=>({})}),xa=new u.OlP("ROUTES");let t3=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ci(t.loadComponent()).pipe((0,Ge.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),ds(()=>{this.componentLoaders.delete(t)})),r=new Si(i,()=>new f1.x).pipe(ir());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ct({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Qe.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,b,w=!1;Array.isArray(d)?b=d:(g=d.create(t).injector,b=x5(g.get(xa,[],u.XFs.Self|u.XFs.Optional)));return{routes:b.map(Mt),injector:g}}),ds(()=>{this.childrenLoaders.delete(i)})),l=new Si(a,()=>new f1.x).pipe(ir());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return ci(t()).pipe((0,S.z)(i=>i instanceof u.YKP||Array.isArray(i)?ct(i):(0,y1.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class s_{}class $w{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function o_(n){throw n}function a_(n,e,t){return e.parse("/")}const c_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function tl(){const n=(0,u.f3M)(Cc),e=(0,u.f3M)(Q4),t=(0,u.f3M)(Ie),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),a=(0,u.f3M)(xa,{optional:!0})??[],l=(0,u.f3M)(Ia,{optional:!0})??{},d=(0,u.f3M)(Th),g=(0,u.f3M)(el,{optional:!0}),b=(0,u.f3M)(s_,{optional:!0}),w=(0,u.f3M)(i_,{optional:!0}),N=new Tn(null,n,e,t,i,r,x5(a));return b&&(N.urlHandlingStrategy=b),w&&(N.routeReuseStrategy=w),N.titleStrategy=g??d,function zh(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,N),N}let Tn=(()=>{class n{constructor(t,i,r,a,l,d,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new f1.x,this.errorHandler=o_,this.malformedUriErrorHandler=a_,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ct(void 0),this.urlHandlingStrategy=new $w,this.routeReuseStrategy=new Gw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(t3),this.configLoader.onLoadEndListener=z=>this.triggerEvent(new Nc(z)),this.configLoader.onLoadStartListener=z=>this.triggerEvent(new U5(z)),this.ngModule=l.get(u.h0i),this.console=l.get(u.c2e);const N=l.get(u.R0b);this.isNgZoneEnabled=N instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function L5(){return new Ma(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Z4(this.currentUrlTree,this.rootComponentType),this.transitions=new a1({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(E(r=>0!==r.id),(0,Qe.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),z1(r=>{let a=!1,l=!1;return ct(r).pipe((0,Ge.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),z1(d=>{const g=this.browserUrlTree.toString(),b=!this.navigated||d.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return nl(d.source)&&(this.browserUrlTree=d.extractedUrl),ct(d).pipe(z1(N=>{const z=this.transitions.getValue();return i.next(new Sa(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),z!==this.transitions.getValue()?Z2.E:Promise.resolve(N)}),function Hu(n,e,t,i){return z1(r=>function Mh(n,e,t,i,r){return new wh(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Qe.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ge.b)(N=>{this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects},r.urlAfterRedirects=N.urlAfterRedirects}),function Qv(n,e,t,i,r,a){return(0,S.z)(l=>function Dh(n,e,t,i,r,a,l="emptyOnly",d="legacy"){return new Eh(n,e,t,i,r,l,d,a).recognize().pipe(z1(g=>null===g?function Bu(n){return new H1.y(e=>e.error(n))}(new Kv):ct(g)))}(n,e,t,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r,a).pipe((0,Qe.U)(d=>({...l,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ge.b)(N=>{if(r.targetSnapshot=N.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(R,N)}this.browserUrlTree=N.urlAfterRedirects}const z=new Iu(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);i.next(z)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:R,source:H,restoredState:q,extras:X}=d,ge=new Sa(z,this.serializeUrl(R),H,q);i.next(ge);const Ae=Z4(R,this.rootComponentType).snapshot;return ct(r={...d,targetSnapshot:Ae,urlAfterRedirects:R,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Z2.E}),(0,Ge.b)(d=>{const g=new q4(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(g)}),(0,Qe.U)(d=>r={...d,guards:Vc(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function jw(n,e){return(0,S.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?ct({...t,guardsResult:!0}):function gh(n,e,t,i){return(0,y1.D)(n).pipe((0,S.z)(r=>function Z5(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ct(a.map(d=>{const g=Y2(e)??r,b=ys(d,g);return ci(function mh(n){return n&&bs(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):g.runInContext(()=>b(n,e,t,i))).pipe(ie())})).pipe(Fc()):ct(!0)}(r.component,r.route,t,e,i)),ie(r=>!0!==r,!0))}(l,i,r,n).pipe((0,S.z)(d=>d&&function Co(n){return"boolean"==typeof n}(d)?function Hv(n,e,t,i){return(0,y1.D)(e).pipe(Ee(r=>ai(function Bv(n,e){return null!==n&&e&&e(new zu(n)),ct(!0)}(r.route.parent,i),function Fv(n,e){return null!==n&&e&&e(new S6(n)),ct(!0)}(r.route,i),function vh(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function q5(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>R2(()=>ct(l.guards.map(g=>{const b=Y2(l.node)??t,w=ys(g,b);return ci(function ph(n){return n&&bs(n.canActivateChild)}(w)?w.canActivateChild(i,n):b.runInContext(()=>w(i,n))).pipe(ie())})).pipe(Fc())));return ct(a).pipe(Fc())}(n,r.path,t),function Uv(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ct(!0);const r=i.map(a=>R2(()=>{const l=Y2(e)??t,d=ys(a,l);return ci(function hh(n){return n&&bs(n.canActivate)}(d)?d.canActivate(e,n):l.runInContext(()=>d(e,n))).pipe(ie())}));return ct(r).pipe(Fc())}(n,r.route,t))),ie(r=>!0!==r,!0))}(i,a,n,e):ct(d)),(0,Qe.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Ge.b)(d=>{if(r.guardsResult=d.guardsResult,fo(d.guardsResult))throw vs(0,d.guardsResult);const g=new xu(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(g)}),E(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Gu(d=>{if(d.guards.canActivateChecks.length)return ct(d).pipe((0,Ge.b)(g=>{const b=new Ec(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}),z1(g=>{let b=!1;return ct(g).pipe(function Xv(n,e){return(0,S.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ct(t);let a=0;return(0,y1.D)(r).pipe(Ee(l=>function Sh(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Nh(r)&&(a[Y1]=r.title),function O6(n,e,t,i){const r=function e_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ct({});const a={};return(0,y1.D)(r).pipe((0,S.z)(l=>function t_(n,e,t,i){const r=Y2(e)??i,a=ys(n,r);return ci(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[l],e,t,i).pipe(ie(),(0,Ge.b)(d=>{a[l]=d}))),St(1),xr(a),it(l=>Hc(l)?Z2.E:y2(l)))}(a,n,e,i).pipe((0,Qe.U)(l=>(n._resolvedData=l,n.data=A6(n,t).resolve,r&&Nh(r)&&(n.data[Y1]=r.title),null)))}(l.route,i,n,e)),(0,Ge.b)(()=>a++),St(1),(0,S.z)(l=>a===r.length?ct(t):Z2.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ge.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Ge.b)(g=>{const b=new Sc(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}))}),Gu(d=>{const g=b=>{const w=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,Ge.b)(N=>{b.component=N}),(0,Qe.U)(()=>{})));for(const N of b.children)w.push(...g(N));return w};return nr(g(d.targetSnapshot.root)).pipe(I(),Yt(1))}),Gu(()=>this.afterPreactivation()),(0,Qe.U)(d=>{const g=function P2(n,e,t){const i=gs(n,e._root,t?t._root:void 0);return new Ac(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:g}}),(0,Ge.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Qe.U)(i=>(new Rc(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Ge.b)({next(){a=!0},complete(){a=!0}}),ds(()=>{a||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),it(d=>{if(l=!0,_s(d)){J4(d)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new E6(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(g),J4(d)){const b=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nl(r.source)};this.scheduleNavigation(b,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new B5(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(d))}catch(b){r.reject(b)}}return Z2.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const d={...a};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Mt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:g}=i,b=r||this.routerState.root,w=g?this.currentUrlTree.fragment:l;let N=null;switch(d){case"merge":N={...this.currentUrlTree.queryParams,...a};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=a||null}return null!==N&&(N=this.removeEmptyProps(N)),Tu(b,this.currentUrlTree,t,N,w??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=fo(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function l_(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...c_}:!1===i?{...xh}:i,fo(t))return gu(this.currentUrlTree,t,r);const a=this.parseUrl(t);return gu(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new vo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,l){if(this.disposed)return Promise.resolve(!1);let d,g,b;l?(d=l.resolve,g=l.reject,b=l.promise):b=new Promise((z,R)=>{d=z,g=R});const w=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),N=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):N=0,this.setTransition({id:w,targetPageId:N,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:d,reject:g,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(z=>Promise.reject(z))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new E6(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return tl()},providedIn:"root"}),n})();function nl(n){return"imperative"!==n}let za=(()=>{class n{constructor(t,i,r,a,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new f1.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tn),u.Y36(Vr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),il=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new f1.x,this.subscription=t.events.subscribe(a=>{a instanceof vo&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,a,l){return!!(0!==t||i||r||a||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tn),u.Y36(Vr),u.Y36(_e))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&u.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class Lh{}let d_=(()=>{class n{constructor(t,i,r,a,l){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(E(t=>t instanceof vo),Ee(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,d=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(d,a.children??a._loadedRoutes))}return(0,y1.D)(r).pipe((0,ba.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ct(null);const a=r.pipe((0,S.z)(l=>null===l?ct(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,y1.D)([a,l]).pipe((0,ba.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Lh),u.LFG(t3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const La=new u.OlP("");let Cs=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Or&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Or(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Gc(n,e){return{\u0275kind:n,\u0275providers:e}}function sl(n){return[{provide:xa,multi:!0,useValue:n}]}function $u(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(Tn),r=n.get(p_);1===n.get(ol)&&i.initialNavigation(),n.get(Rh,null,u.XFs.Optional)?.setUpPreloading(),n.get(La,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const p_=new u.OlP("",{factory:()=>new f1.x}),ol=new u.OlP("",{providedIn:"root",factory:()=>1});const Rh=new u.OlP("");function Pr(n){return Gc(0,[{provide:Rh,useExisting:d_},{provide:Lh,useExisting:n}])}const Oh=new u.OlP("ROUTER_FORROOT_GUARD"),v_=[Ie,{provide:Cc,useClass:H4},{provide:Tn,useFactory:tl},Q4,{provide:Vr,useFactory:function h_(n){return n.routerState.root},deps:[Tn]},t3];function __(){return new u.PXZ("Router",Tn)}let qu=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[v_,[],sl(t),{provide:Oh,useFactory:Ut,deps:[[Tn,new u.FiY,new u.tp0]]},{provide:Ia,useValue:i||{}},i?.useHash?{provide:_e,useClass:dt}:{provide:_e,useClass:st},{provide:La,useFactory:()=>{const n=(0,u.f3M)(Tn),e=(0,u.f3M)(Go),t=(0,u.f3M)(Ia);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Cs(n,e,t)}},i?.preloadingStrategy?Pr(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:__},i?.initialNavigation?Vh(i):[],[{provide:Wu,useFactory:$u},{provide:u.tb,multi:!0,useExisting:Wu}]]}}static forChild(t){return{ngModule:n,providers:[sl(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Oh,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[p]}),n})();function Ut(n){return"guarded"}function Vh(n){return["disabled"===n.initialNavigation?Gc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Tn);return()=>{e.setUpLocationChangeListener()}}},{provide:ol,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gc(2,[{provide:ol,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(U,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const l=e.get(Tn),d=e.get(p_);(function r(a){e.get(Tn).events.pipe(E(d=>d instanceof vo||d instanceof E6||d instanceof B5),(0,Qe.U)(d=>d instanceof vo||d instanceof E6&&(0===d.code||1===d.code)&&null),E(d=>null!==d),Yt(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),l.afterPreactivation=()=>(a(!0),i||d.closed?ct(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const Wu=new u.OlP("");var ye=k(5861),al=k(9260),M_=k(6451),V6=k(5363),w_=k(6063);class D_ extends f1.x{constructor(e=1/0,t=1/0,i=w_.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:l}=this;t||(i.push(e),!r&&i.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let l=0;l<a.length&&!e.closed;l+=i?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const l=t.now();let d=0;for(let g=1;g<i.length&&i[g]<=l;g+=2)d=g;d&&i.splice(0,d+1)}}}var Qw=k(3099);function cl(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Qw.B)({connector:()=>new D_(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Zu(n,e){return(0,_2.m)(e)?z1(()=>n,e):z1(()=>n)}var Mo=k(9468),n2=k(2122),Ai=k(2011);k(259);var n3=k(9681),fl=k(4859),g1=k(2090),ka=k(1877);const dl=new Map,Ju={activated:!1,tokenObservers:[]},Qu={initialized:!1,enabled:!1};function H2(n){return dl.get(n)||Object.assign({},Ju)}function hl(){return Qu}class Uh{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new g1.BH,yield function A_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new g1.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const on=new g1.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function t9(n){if(!H2(n).activated)throw on.create("use-before-activation",{appName:n.name})}function pl(n,e){return jh.apply(this,arguments)}function jh(){return(jh=(0,ye.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const N=yield r.getHeartbeatsHeader();N&&(i["X-Firebase-Client"]=N)}const a={method:"POST",body:JSON.stringify(e),headers:i};let l,d;try{l=yield fetch(n,a)}catch(N){throw on.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==l.status)throw on.create("fetch-status-error",{httpStatus:l.status});try{d=yield l.json()}catch(N){throw on.create("fetch-parse-error",{originalErrorMessage:N?.message})}const g=d.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const b=1e3*Number(g[1]),w=Date.now();return{token:d.token,expireTimeMillis:w+b,issuedAtTimeMillis:w}})).apply(this,arguments)}function i9(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const vl="firebase-app-check-store";let _l=null;function $h(){return _l||(_l=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(on.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(vl,{keyPath:"compositeKey"})}}catch(t){e(on.create("storage-open",{originalErrorMessage:t?.message}))}}),_l)}function yl(){return(yl=(0,ye.Z)(function*(n,e){const i=(yield $h()).transaction(vl,"readwrite"),a=i.objectStore(vl).put({compositeKey:n,value:e});return new Promise((l,d)=>{a.onsuccess=g=>{l()},i.onerror=g=>{var b;d(on.create("storage-set",{originalErrorMessage:null===(b=g.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Cl=new ka.Yd("@firebase/app-check");function Zh(n,e){return(0,g1.hl)()?function qh(n,e){return function z_(n,e){return yl.apply(this,arguments)}(function bl(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Cl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function L_(){return hl().enabled}function k_(){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,ye.Z)(function*(){const n=hl();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ra={error:"UNKNOWN_ERROR"};function c9(n){return g1.US.encodeString(JSON.stringify(n),!1)}function Ml(n){return wl.apply(this,arguments)}function wl(){return(wl=(0,ye.Z)(function*(n,e=!1){const t=n.app;t9(t);const i=H2(t);let a,r=i.token;if(r&&!r3(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(r3(g)?r=g:yield Zh(t,void 0))}if(!e&&r&&r3(r))return{token:r.token};let d,l=!1;if(L_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=pl(i9(t,yield k_()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const g=yield i.exchangeTokenPromise;return yield Zh(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield H2(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Cl.warn(g.message):Cl.error(g),a=g}return r?a?d=r3(r)?{token:r.token,internalError:a}:Jh(a):(d={token:r.token},i.token=r,yield Zh(t,r)):d=Jh(a),l&&wo(t,d),d})).apply(this,arguments)}function Dl(n,e){const t=H2(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function El(n){const{app:e}=n,t=H2(e);let i=t.tokenRefresher;i||(i=function R_(n){const{app:e}=n;return new Uh((0,ye.Z)(function*(){let i;if(i=H2(e).token?yield Ml(n,!0):yield Ml(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=H2(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function wo(n,e){const t=H2(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function r3(n){return n.expireTimeMillis-Date.now()>0}function Jh(n){return{token:c9(Ra),error:n}}class O_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=H2(this.app);for(const t of e)Dl(this.app,t.next);return Promise.resolve()}}const rp="app-check-internal";!function g9(){(0,n3._registerComponent)(new fl.wA("app-check",n=>function Qh(n,e){return new O_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rp).initialize()})),(0,n3._registerComponent)(new fl.wA(rp,n=>function V_(n){return{getToken:e=>Ml(n,e),addTokenListener:e=>function Zc(n,e,t,i){const{app:r}=n,a=H2(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&r3(a.token)){const d=a.token;Promise.resolve().then(()=>{t({token:d.token}),El(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>El(n))}(n,"INTERNAL",e),removeTokenListener:e=>Dl(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,n3.registerVersion)("@firebase/app-check","0.6.0")}();class y9{constructor(){return(0,n2.vb)("app-check")}}typeof window<"u"&&window;const cp=new u.OlP("angularfire2.auth.use-emulator"),lp=new u.OlP("angularfire2.auth.settings"),Al=new u.OlP("angularfire2.auth.tenant-id"),up=new u.OlP("angularfire2.auth.langugage-code"),fp=new u.OlP("angularfire2.auth.use-device-language"),Yc=new u.OlP("angularfire.auth.persistence"),Il=(n,e,t,i,r,a,l,d)=>(0,Ai.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,a&&g.useDeviceLanguage(),l)for(const[b,w]of Object.entries(l))g.settings[b]=w;return d&&g.setPersistence(d),g},[t,i,r,a,l,d]);let o3=(()=>{class n{constructor(t,i,r,a,l,d,g,b,w,N,z,R){const H=new f1.x,q=ct(void 0).pipe((0,V6.Q)(l.outsideAngular),z1(()=>a.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9169)))),(0,Qe.U)(()=>(0,Ai.on)(t,a,i)),(0,Qe.U)(X=>Il(X,a,d,b,w,N,g,z)),cl({bufferSize:1,refCount:!1}));if(kn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{q.pipe(ie()).subscribe();const ge=q.pipe(z1(Le=>Le.getRedirectResult().then(Fe=>Fe,()=>null)),n2.iC,cl({bufferSize:1,refCount:!1})),Ae=q.pipe(z1(Le=>new H1.y(Fe=>({unsubscribe:a.runOutsideAngular(()=>Le.onAuthStateChanged(Be=>Fe.next(Be),Be=>Fe.error(Be),()=>Fe.complete()))})))),Ve=q.pipe(z1(Le=>new H1.y(Fe=>({unsubscribe:a.runOutsideAngular(()=>Le.onIdTokenChanged(Be=>Fe.next(Be),Be=>Fe.error(Be),()=>Fe.complete()))}))));this.authState=ge.pipe(Zu(Ae),(0,Mo.R)(l.outsideAngular),(0,V6.Q)(l.insideAngular)),this.user=ge.pipe(Zu(Ve),(0,Mo.R)(l.outsideAngular),(0,V6.Q)(l.insideAngular)),this.idToken=this.user.pipe(z1(Le=>Le?(0,y1.D)(Le.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(z1(Le=>Le?(0,y1.D)(Le.getIdTokenResult()):ct(null))),this.credential=(0,M_.T)(ge,H,this.authState.pipe(E(Le=>!Le))).pipe((0,Qe.U)(Le=>Le?.user?Le:null),(0,Mo.R)(l.outsideAngular),(0,V6.Q)(l.insideAngular))}return(0,Ai.pX)(this,q,a,{spy:{apply:(X,ge,Ae)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Ae.then(Ve=>H.next(Ve))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ai.Dh),u.LFG(Ai.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(n2.HU),u.LFG(cp,8),u.LFG(lp,8),u.LFG(Al,8),u.LFG(up,8),u.LFG(fp,8),u.LFG(Yc,8),u.LFG(y9,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yD=(()=>{class n{constructor(){al.Z.registerVersion("angularfire",n2.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[o3]}),n})();var Jc=k(4986);function dp(){return(0,gn.e)((n,e)=>{let t,i=!1;n.subscribe((0,x1.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function hp(n,e){return n===e}k(9169);var pt,pp=k(3942),b9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C2={},j6=j6||{},Rt=b9||self;function xl(){}function G6(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $6(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var C9="closure_uid_"+(1e9*Math.random()>>>0),Xc=0;function W_(n,e,t){return n.call.apply(n.bind,arguments)}function bD(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function F2(n,e,t){return(F2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?W_:bD).apply(null,arguments)}function M9(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function M2(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return e.prototype[r].apply(i,l)}}function Oa(){this.s=this.s,this.o=this.o}Oa.prototype.s=!1,Oa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function q_(n){Object.prototype.hasOwnProperty.call(n,C9)&&n[C9]||(n[C9]=++Xc)}(this)},Oa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const w9=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function e8(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function mp(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(G6(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let l=0;l<a;l++)n[r+l]=i[l]}else n.push(i)}}function r2(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}r2.prototype.h=function(){this.defaultPrevented=!0};var K_=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",xl,e),Rt.removeEventListener("test",xl,e)}catch{}return n}();function zl(n){return/^[\s\xa0]*$/.test(n)}var gp=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function D9(n,e){return n<e?-1:n>e?1:0}function Ll(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function ws(n){return-1!=Ll().indexOf(n)}function q6(n){return q6[" "](n),n}q6[" "]=xl;var Va,n,CD=ws("Opera"),Ds=ws("Trident")||ws("MSIE"),vp=ws("Edge"),E9=vp||Ds,kl=ws("Gecko")&&!(-1!=Ll().toLowerCase().indexOf("webkit")&&!ws("Edge"))&&!(ws("Trident")||ws("MSIE"))&&!ws("Edge"),Y_=-1!=Ll().toLowerCase().indexOf("webkit")&&!ws("Edge");function Fr(){var n=Rt.document;return n?n.documentMode:void 0}e:{var s2="",Do=(n=Ll(),kl?/rv:([^\);]+)(\)|;)/.exec(n):vp?/Edge\/([\d\.]+)/.exec(n):Ds?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Y_?/WebKit\/(\S+)/.exec(n):CD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Do&&(s2=Do?Do[1]:""),Ds){var W6=Fr();if(null!=W6&&W6>parseFloat(s2)){Va=String(W6);break e}}Va=s2}var or={};var Z6=Rt.document&&Ds&&(Fr()||parseInt(Va,10))||void 0;function Es(n,e){if(r2.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(kl){e:{try{q6(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:K6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Es.X.h.call(this)}}M2(Es,r2);var K6={2:"touch",3:"pen",4:"mouse"};Es.prototype.h=function(){Es.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),Y6=0;function J6(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++Y6,this.ba=this.ea=!1}function Eo(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Rl(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function N9(n){const e={};for(const t in n)e[t]=n[t];return e}const T9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A9(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<T9.length;a++)t=T9[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function t8(n){this.src=n,this.g={},this.h=0}function Ol(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=w9(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Eo(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vl(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}t8.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Vl(n,e,i,r);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new J6(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var Pl="closure_lm_"+(1e6*Math.random()|0),Hl={};function _p(n,e,t,i,r){if(i&&i.once)return Cp(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)_p(n,e[a],t,i,r);return null}return t=i8(t),n&&n[Ss]?n.N(e,t,$6(i)?!!i.capture:!!i,r):yp(n,e,t,!1,i,r)}function yp(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var l=$6(r)?!!r.capture:!!r,d=Q6(n);if(d||(n[Pl]=d=new t8(n)),(t=d.add(e,t,i,l,a)).proxy)return t;if(i=function bp(){const e=J_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)K_||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Fl(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Cp(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Cp(n,e[a],t,i,r);return null}return t=i8(t),n&&n[Ss]?n.O(e,t,$6(i)?!!i.capture:!!i,r):yp(n,e,t,!0,i,r)}function I9(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)I9(n,e[a],t,i,r);else i=$6(i)?!!i.capture:!!i,t=i8(t),n&&n[Ss]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vl(a=n.g[e],t,i,r))&&(Eo(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Q6(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vl(e,t,i,r)),(t=-1<n?e[n]:null)&&n8(t))}function n8(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ss])Ol(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Fl(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Q6(e))?(Ol(t,n),0==t.h&&(t.src=null,e[Pl]=null)):Eo(n)}}}function Fl(n){return n in Hl?Hl[n]:Hl[n]="on"+n}function J_(n,e){if(n.ba)n=!0;else{e=new Es(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&n8(n),n=t.call(i,e)}return n}function Q6(n){return(n=n[Pl])instanceof t8?n:null}var X6="__closure_events_fn_"+(1e9*Math.random()>>>0);function i8(n){return"function"==typeof n?n:(n[X6]||(n[X6]=function(e){return n.handleEvent(e)}),n[X6])}function o2(){Oa.call(this),this.i=new t8(this),this.P=this,this.I=null}function jn(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new r2(e,n);else if(e instanceof r2)e.target=e.target||n;else{var r=e;A9(e=new r2(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];r=e0(l,i,!0,e)&&r}if(r=e0(l=e.g=n,i,!0,e)&&r,r=e0(l,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=e0(l=e.g=t[a],i,!1,e)&&r}function e0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ba&&l.capture==t){var d=l.listener,g=l.ha||l.src;l.ea&&Ol(n.i,l),r=!1!==d.call(g,i)&&r}}return r&&!i.defaultPrevented}M2(o2,Oa),o2.prototype[Ss]=!0,o2.prototype.removeEventListener=function(n,e,t,i){I9(this,n,e,t,i)},o2.prototype.M=function(){if(o2.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Eo(t[i]);delete n.g[e],n.h--}}this.I=null},o2.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},o2.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Bl=Rt.JSON.stringify;function Mp(){var n=O9;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var R9,z9=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new wp,n=>n.reset());class wp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function L9(n){Rt.setTimeout(()=>{throw n},0)}function k9(n,e){R9||function Dp(){var n=Rt.Promise.resolve(void 0);R9=function(){n.then(Ep)}}(),Ul||(R9(),Ul=!0),O9.add(n,e)}var Ul=!1,O9=new class x9{constructor(){this.h=this.g=null}add(e,t){const i=z9.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Ep(){for(var n;n=Mp();){try{n.h.call(n.g)}catch(t){L9(t)}var e=z9;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ul=!1}function jl(n,e){o2.call(this),this.h=n||1,this.g=e||Rt,this.j=F2(this.lb,this),this.l=Date.now()}function Gl(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function $l(n,e,t){if("function"==typeof n)t&&(n=F2(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=F2(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function ql(n){n.g=$l(()=>{n.g=null,n.i&&(n.i=!1,ql(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}M2(jl,o2),(pt=jl.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),jn(this,"tick"),this.ca&&(Gl(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){jl.X.M.call(this),Gl(this),delete this.g};class Wl extends Oa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ql(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function t0(n){Oa.call(this),this.h=n,this.g={}}M2(t0,Oa);var V9=[];function P9(n,e,t,i){Array.isArray(t)||(t&&(V9[0]=t.toString()),t=V9);for(var r=0;r<t.length;r++){var a=_p(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function H9(n){Rl(n.g,function(e,t){this.g.hasOwnProperty(t)&&n8(e)},n),n.g={}}function r8(){this.g=!0}function l3(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Q_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<r.length;l++)r[l]=""}}}return Bl(t)}catch{return e}}(n,t)+(i?" "+i:"")})}t0.prototype.M=function(){t0.X.M.call(this),H9(this)},t0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},r8.prototype.Aa=function(){this.g=!1},r8.prototype.info=function(){};var u3={},F9=null;function Zl(){return F9=F9||new o2}function On(n){r2.call(this,u3.Pa,n)}function n0(n){const e=Zl();jn(e,new On(e))}function Tp(n,e){r2.call(this,u3.STAT_EVENT,n),this.stat=e}function J2(n){const e=Zl();jn(e,new Tp(e,n))}function B9(n,e){r2.call(this,u3.Qa,n),this.size=e}function s8(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}u3.Pa="serverreachability",M2(On,r2),u3.STAT_EVENT="statevent",M2(Tp,r2),u3.Qa="timingevent",M2(B9,r2);var o8={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},U9={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ha(){}function Ip(){}Ha.prototype.h=null;var xp,r0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function j9(){r2.call(this,"d")}function Kl(){r2.call(this,"c")}function s0(){}function f3(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new t0(this),this.O=X_,this.T=new jl(n=E9?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Br}function Br(){this.i=null,this.g="",this.h=!1}M2(j9,r2),M2(Kl,r2),M2(s0,Ha),s0.prototype.g=function(){return new XMLHttpRequest},s0.prototype.i=function(){return{}},xp=new s0;var X_=45e3,Yl={},Ii={};function xi(n,e,t){n.K=1,n.v=u8(Ns(e)),n.s=t,n.P=!0,ar(n,null)}function ar(n,e){n.F=Date.now(),a8(n),n.A=Ns(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Hp(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Br,n.g=cf(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Wl(F2(n.La,n,n.g),n.N)),P9(n.S,n.g,"readystatechange",n.ib),e=n.H?N9(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),n0(),function Sp(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var l="",d=a.split("&"),g=0;g<d.length;g++){var b=d[g].split("=");if(1<b.length){var w=b[0];b=b[1];var N=w.split("_");l=2<=N.length&&"type"==N[1]?l+(w+"=")+b+"&":l+(w+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function G9(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function $9(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=ey(n,t),r==Ii){4==e&&(n.o=4,J2(14),i=!1),l3(n.j,n.m,null,"[Incomplete Response]");break}if(r==Yl){n.o=4,J2(15),l3(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}l3(n.j,n.m,r,null),q9(n,r)}G9(n)&&r!=Ii&&r!=Yl&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,J2(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),af(e),e.K=!0,J2(11))):(l3(n.j,n.m,t,"[Invalid Chunked Response]"),Ur(n),d3(n))}function ey(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ii:(t=Number(e.substring(t,i)),isNaN(t)?Yl:(i+=1)+t>e.length?Ii:(e=e.substr(i,t),n.C=i+t,e))}function a8(n){n.V=Date.now()+n.O,zp(n,n.O)}function zp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=s8(F2(n.gb,n),e)}function Jl(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function d3(n){0==n.l.G||n.I||m0(n.l,n)}function Ur(n){Jl(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Gl(n.T),H9(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function q9(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Y9(t.h,n)))if(!n.J&&Y9(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;n7(t),$1(t)}t7(t),J2(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=s8(F2(t.cb,t),6e3));if(1>=Up(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else g3(t,11)}else if((n.J||t.g==n)&&n7(t),!zl(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const w=b[3];null!=w&&(t.ma=w,t.j.info("VER="+t.ma));const N=b[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const z=b[5];null!=z&&"number"==typeof z&&0<z&&(t.J=i=1.5*z,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const R=n.g;if(R){const H=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var a=i.h;a.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(J9(a,a.h),a.h=null))}if(i.D){const q=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.za=q,G1(i.F,i.D,q))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((i=t).sa=v8(i,i.H?i.ka:null,i.V),l.J){jp(i.h,l);var d=l,g=i.J;g&&d.setTimeout(g),d.B&&(Jl(d),a8(d)),i.g=l}else sf(i);0<t.i.length&&g8(t)}else"stop"!=b[0]&&"close"!=b[0]||g3(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?g3(t,7):h0(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}n0()}catch{}}function W9(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(G6(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ty(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(G6(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Lp(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(G6(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(pt=f3.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const e=this.L;e&&3==So(n)?e.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const w=So(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||E9||this.g&&(this.h.h||this.g.fa()||Kp(this.g)))){this.I||4!=w||7==e||n0(),Jl(this);var t=this.g.aa();this.Y=t;t:if(G9(this)){var i=Kp(this.g);n="";var r=i.length,a=4==So(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ur(this),d3(this);var l="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function Np(n,e,t,i,r,a,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.U,w,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zl(d)){var b=d;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,J2(12),Ur(this),d3(this);break e}l3(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,q9(this,t)}this.P?($9(this,w,l),E9&&this.i&&3==w&&(P9(this.S,this.T,"tick",this.hb),this.T.start())):(l3(this.j,this.m,l,null),q9(this,l)),4==w&&Ur(this),this.i&&!this.I&&(4==w?m0(this.l,this):(this.i=!1,a8(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,J2(12)):(this.o=0,J2(13)),Ur(this),d3(this)}}}catch{}},pt.hb=function(){if(this.g){var n=So(this.g),e=this.g.fa();this.C<e.length&&(Jl(this),$9(this,n,e),this.i&&4!=n&&a8(this))}},pt.cancel=function(){this.I=!0,Ur(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function MD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(n0(),J2(17)),Ur(this),this.o=2,d3(this)):zp(this,this.V-n)};var Z9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h3(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof h3){this.h=void 0!==e?e:n.h,c8(this,n.j),this.s=n.s,this.g=n.g,o0(this,n.m),this.l=n.l,e=n.i;var t=new f8;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),l8(this,t),this.o=n.o}else n&&(t=String(n).match(Z9))?(this.h=!!e,c8(this,t[1]||"",!0),this.s=a0(t[2]||""),this.g=a0(t[3]||"",!0),o0(this,t[4]),this.l=a0(t[5]||"",!0),l8(this,t[6]||"",!0),this.o=a0(t[7]||"")):(this.h=!!e,this.i=new f8(null,this.h))}function Ns(n){return new h3(n)}function c8(n,e,t){n.j=t?a0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function o0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function l8(n,e,t){e instanceof f8?(n.i=e,function ry(n,e){e&&!n.j&&(Fa(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Vp(this,i),Hp(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=c0(e,ny)),n.i=new f8(e,n.h))}function G1(n,e,t){n.i.set(e,t)}function u8(n){return G1(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function a0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function c0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kp),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kp(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}h3.prototype.toString=function(){var n=[],e=this.j;e&&n.push(c0(e,K9,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(c0(e,K9,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(c0(t,"/"==t.charAt(0)?Op:Rp,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",c0(t,iy)),n.join("")};var K9=/[#\/\?@]/g,Rp=/[#\?:]/g,Op=/[#\?]/g,ny=/[#\?@]/g,iy=/#/g;function f8(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Fa(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ql(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Vp(n,e){Fa(n),e=l0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Pp(n,e){return Fa(n),e=l0(n,e),n.g.has(e)}function Hp(n,e,t){Vp(n,e),0<t.length&&(n.i=null,n.g.set(l0(n,e),e8(t)),n.h+=t.length)}function l0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Fp(n){this.l=n||oy,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=f8.prototype).add=function(n,e){Fa(this),this.i=null,n=l0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Fa(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},pt.oa=function(){Fa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},pt.W=function(n){Fa(this);let e=[];if("string"==typeof n)Pp(this,n)&&(e=e.concat(this.g.get(l0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return Fa(this),this.i=null,Pp(this,n=l0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),l=this.W(i);for(i=0;i<l.length;i++){var r=a;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var oy=10;function Bp(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Up(n){return n.h?1:n.g?n.g.size:0}function Y9(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function J9(n,e){n.g?n.g.add(e):n.h=e}function jp(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Gp(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return e8(n.i)}function Xl(){}function $p(){this.g=new Xl}function qp(n,e,t){const i=t||"";try{W9(n,function(r,a){let l=r;$6(r)&&(l=Bl(r)),e.push(i+a+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function d8(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function u0(n){this.l=n.ac||null,this.j=n.jb||!1}function h8(n,e){o2.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=e7,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fp.prototype.cancel=function(){if(this.i=Gp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Xl.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Xl.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},M2(u0,Ha),u0.prototype.g=function(){return new h8(this.l,this.j)},u0.prototype.i=function(n){return function(){return n}}({}),M2(h8,o2);var e7=0;function Q9(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function p3(n){n.readyState=4,n.l=null,n.j=null,n.A=null,f0(n)}function f0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=h8.prototype).open=function(n,e){if(this.readyState!=e7)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,f0(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,p3(this)),this.readyState=e7},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,f0(this)),this.g&&(this.readyState=3,f0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q9(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?p3(this):f0(this),3==this.readyState&&Q9(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,p3(this))},pt.Ua=function(n){this.g&&(this.response=n,p3(this))},pt.ga=function(){this.g&&p3(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(h8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var m3=Rt.JSON.parse;function yn(n){o2.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zp,this.K=this.L=!1}M2(yn,o2);var Zp="",d0=/^https?$/i,wD=["POST","PUT"];function ay(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ef(n),nf(n)}function ef(n){n.D||(n.D=!0,jn(n,"complete"),jn(n,"error"))}function tf(n){if(n.h&&typeof j6<"u"&&(!n.C[1]||4!=So(n)||2!=n.aa()))if(n.v&&4==So(n))$l(n.Ha,0,n);else if(jn(n,"readystatechange"),4==So(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(Z9)[1]||null;if(!r&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;r=a.substr(0,a.length-1)}i=!d0.test(r?r.toLowerCase():"")}t=i}if(t)jn(n,"complete"),jn(n,"success");else{n.m=6;try{var l=2<So(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",ef(n)}}finally{nf(n)}}}function nf(n,e){if(n.g){Tt(n);const t=n.g,i=n.C[0]?xl:null;n.g=null,n.C=null,e||jn(n,"ready");try{t.onreadystatechange=i}catch{}}}function Tt(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function So(n){return n.g?n.g.readyState:0}function Kp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Zp:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Yp(n){let e="";return Rl(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Ba(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Yp(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):G1(n,e,t))}function p8(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function m8(n){this.Ca=0,this.i=[],this.j=new r8,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=p8("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=p8("baseRetryDelayMs",5e3,n),this.bb=p8("retryDelaySeedMs",1e4,n),this.$a=p8("forwardChannelMaxRetries",2,n),this.ta=p8("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Fp(n&&n.concurrentRequestLimit),this.Fa=new $p,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function h0(n){if(cy(n),3==n.G){var e=n.U++,t=Ns(n.F);G1(t,"SID",n.I),G1(t,"RID",e),G1(t,"TYPE","terminate"),p0(n,t),(e=new f3(n,n.j,e,void 0)).K=2,e.v=u8(Ns(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=cf(e.l,null),e.g.da(e.v)),e.F=Date.now(),a8(e)}tm(n)}function $1(n){n.g&&(af(n),n.g.cancel(),n.g=null)}function cy(n){$1(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),n7(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function g8(n){Bp(n.h)||n.m||(n.m=!0,k9(n.Ja,n),n.C=0)}function Qp(n,e){var t;t=e?e.m:n.U++;const i=Ns(n.F);G1(i,"SID",n.I),G1(i,"RID",t),G1(i,"AID",n.T),p0(n,i),n.o&&n.s&&Ba(i,n.o,n.s),t=new f3(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=rf(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),J9(n.h,t),xi(t,i,e)}function p0(n,e){n.ia&&Rl(n.ia,function(t,i){G1(e,i,t)}),n.l&&W9({},function(t,i){G1(e,i,t)})}function rf(n,e,t){t=Math.min(n.i.length,t);var i=n.l?F2(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=r[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let d=!0;for(let g=0;g<t;g++){let b=r[g].h;const w=r[g].g;if(b-=a,0>b)a=Math.max(0,r[g].h-100),d=!1;else try{qp(w,l,"req"+b+"_")}catch{i&&i(w)}}if(d){i=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function sf(n){n.g||n.u||(n.Z=1,k9(n.Ia,n),n.A=0)}function t7(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=s8(F2(n.Ia,n),em(n,n.A)),n.A++,0))}function af(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Xp(n){n.g=new f3(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ns(n.sa);G1(e,"RID","rpc"),G1(e,"SID",n.I),G1(e,"CI",n.L?"0":"1"),G1(e,"AID",n.T),G1(e,"TYPE","xmlhttp"),p0(n,e),n.o&&n.s&&Ba(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=u8(Ns(e)),t.s=null,t.P=!0,ar(t,n)}function n7(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function m0(n,e){var t=null;if(n.g==e){n7(n),af(n),n.g=null;var i=2}else{if(!Y9(n.h,e))return;t=e.D,jp(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;jn(i=Zl(),new B9(i,t)),g8(n)}else sf(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function Jp(n,e){return!(Up(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=s8(F2(n.Ja,n,e),em(n,n.C)),n.C++,0)))}(n,e)||2==i&&t7(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:g3(n,5);break;case 4:g3(n,10);break;case 3:g3(n,6);break;default:g3(n,2)}}function em(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function g3(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=F2(n.kb,n);t||(t=new h3("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||c8(t,"https"),u8(t)),function Wp(n,e){const t=new r8;if(Rt.Image){const i=new Image;i.onload=M9(d8,t,i,"TestLoadImage: loaded",!0,e),i.onerror=M9(d8,t,i,"TestLoadImage: error",!1,e),i.onabort=M9(d8,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=M9(d8,t,i,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else J2(2);n.G=0,n.l&&n.l.va(e),tm(n),cy(n)}function tm(n){if(n.G=0,n.la=[],n.l){const e=Gp(n.h);(0!=e.length||0!=n.i.length)&&(mp(n.la,e),mp(n.la,n.i),n.h.i.length=0,e8(n.i),n.i.length=0),n.l.ua()}}function v8(n,e,t){var i=t instanceof h3?Ns(t):new h3(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),o0(i,i.m);else{var r=Rt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new h3(null,void 0);i&&c8(a,i),e&&(a.g=e),r&&o0(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&G1(i,t,e),G1(i,"VER",n.ma),p0(n,i),i}function cf(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yn(t&&n.Da&&!n.ra?new u0({jb:!0}):n.ra)).Ka(n.H),e}function lf(){}function _8(){if(Ds&&!(10<=Number(Z6)))throw Error("Environmental error: no available transport.")}function zi(n,e){o2.call(this),this.g=new m8(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!zl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zl(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _0(this)}function g0(n){j9.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function v0(){Kl.call(this),this.status=1}function _0(n){this.g=n}(pt=yn.prototype).Ka=function(n){this.L=n},pt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xp.g(),this.C=function Ap(n){return n.h||(n.h=n.i())}(this.u?this.u:xp),this.g.onreadystatechange=F2(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void ay(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Rt.FormData&&n instanceof Rt.FormData,!(0<=w9(wD,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Tt(this),0<this.B&&((this.K=function X9(n){return Ds&&function S9(){return function a3(n){var e=or;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=gp(String(Va)).split("."),t=gp("9").split("."),i=Math.max(e.length,t.length);for(let l=0;0==n&&l<i;l++){var r=e[l]||"",a=t[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=D9(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||D9(0==r[2].length,0==a[2].length)||D9(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=F2(this.qa,this)):this.A=$l(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ay(this,a)}},pt.qa=function(){typeof j6<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jn(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jn(this,"complete"),jn(this,"abort"),nf(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nf(this,!0)),yn.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?tf(this):this.fb())},pt.fb=function(){tf(this)},pt.aa=function(){try{return 2<So(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),m3(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=m8.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new f3(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=N9(a),A9(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rf(this,r,e),G1(t=Ns(this.F),"RID",n),G1(t,"CVER",22),this.D&&G1(t,"X-HTTP-Session-Id",this.D),p0(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(Yp(a)))+"&"+e:this.o&&Ba(t,this.o,a)),J9(this.h,r),this.Ya&&G1(t,"TYPE","init"),this.O?(G1(t,"$req",e),G1(t,"SID","null"),r.Z=!0,xi(r,t,null)):xi(r,t,e),this.G=2}}else 3==this.G&&(n?Qp(this,n):0==this.i.length||Bp(this.h)||Qp(this))},pt.Ia=function(){if(this.u=null,Xp(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=s8(F2(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,J2(10),$1(this),Xp(this))},pt.cb=function(){null!=this.v&&(this.v=null,$1(this),t7(this),J2(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),J2(2)):(this.j.info("Failed to ping google.com"),J2(1))},(pt=lf.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},_8.prototype.g=function(n,e){return new zi(n,e)},M2(zi,o2),zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;J2(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=v8(n,null,n.V),g8(n)},zi.prototype.close=function(){h0(this.g)},zi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bl(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&g8(e)},zi.prototype.M=function(){this.g.l=null,delete this.j,h0(this.g),delete this.g,zi.X.M.call(this)},M2(g0,j9),M2(v0,Kl),M2(_0,lf),_0.prototype.xa=function(){jn(this.g,"a")},_0.prototype.wa=function(n){jn(this.g,new g0(n))},_0.prototype.va=function(n){jn(this.g,new v0)},_0.prototype.ua=function(){jn(this.g,"b")},_8.prototype.createWebChannel=_8.prototype.g,zi.prototype.send=zi.prototype.u,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,o8.NO_ERROR=0,o8.TIMEOUT=8,o8.HTTP_ERROR=6,U9.COMPLETE="complete",Ip.EventType=r0,r0.OPEN="a",r0.CLOSE="b",r0.ERROR="c",r0.MESSAGE="d",o2.prototype.listen=o2.prototype.N,yn.prototype.listenOnce=yn.prototype.O,yn.prototype.getLastError=yn.prototype.Oa,yn.prototype.getLastErrorCode=yn.prototype.Ea,yn.prototype.getStatus=yn.prototype.aa,yn.prototype.getResponseJson=yn.prototype.Sa,yn.prototype.getResponseText=yn.prototype.fa,yn.prototype.send=yn.prototype.da,yn.prototype.setWithCredentials=yn.prototype.Ka;var ly=C2.createWebChannelTransport=function(){return new _8},uy=C2.getStatEventTarget=function(){return Zl()},i7=C2.ErrorCode=o8,nm=C2.EventType=U9,im=C2.Event=u3,rm=C2.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},sm=C2.FetchXmlHttpFactory=u0,r7=C2.WebChannel=Ip,fy=C2.XhrIo=yn;const dy="@firebase/firestore";class w2{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}w2.UNAUTHENTICATED=new w2(null),w2.GOOGLE_CREDENTIALS=new w2("google-credentials-uid"),w2.FIRST_PARTY=new w2("first-party-uid"),w2.MOCK_USER=new w2("mock-user");let y8="9.15.0";const v3=new ka.Yd("@firebase/firestore");function s7(){return v3.logLevel}function Re(n,...e){if(v3.logLevel<=ka.in.DEBUG){const t=e.map(_3);v3.debug(`Firestore (${y8}): ${n}`,...t)}}function An(n,...e){if(v3.logLevel<=ka.in.ERROR){const t=e.map(_3);v3.error(`Firestore (${y8}): ${n}`,...t)}}function Ua(n,...e){if(v3.logLevel<=ka.in.WARN){const t=e.map(_3);v3.warn(`Firestore (${y8}): ${n}`,...t)}}function _3(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${y8}) INTERNAL ASSERTION FAILED: `+n;throw An(e),new Error(e)}function yt(n,e){n||lt()}function Xe(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends g1.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class om{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(w2.UNAUTHENTICATED))}shutdown(){}}class py{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class am{constructor(e){this.t=e,this.currentUser=w2.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let l=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gn,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const b=l;e.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},g=b=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(b=>g(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?g(b):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gn)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt("string"==typeof i.accessToken),new om(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new w2(e)}}class my{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=w2.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(yt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class cm{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new my(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(w2.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class um{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),this.A=t.token,new lm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uf(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class fm{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=uf(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Ht(n,e){return n<e?-1:n>e?1:0}function y3(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function dm(n){return n+"\0"}class J1{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return J1.fromMillis(Date.now())}static fromDate(e){return J1.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new J1(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new J1(0,0))}static max(){return new Dt(new J1(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class b3{constructor(e,t,i){void 0===t?t=0:t>e.length&&lt(),void 0===i?i=e.length-t:i>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===b3.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof b3?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),l=t.get(r);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class d1 extends b3{construct(e,t,i){return new d1(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new d1(t)}static emptyPath(){return new d1([])}}const hm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends b3{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return hm.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new xe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new xe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===d?(l=!l,r++):"."!==d||l?(i+=d,r++):(a(),r++)}if(a(),l)throw new xe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(d1.fromString(e))}static fromName(e){return new Je(d1.fromString(e).popFirst(5))}static empty(){return new Je(d1.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===d1.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return d1.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new d1(e.slice()))}}class a7{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function ff(n){return n.fields.find(e=>2===e.kind)}function C3(n){return n.fields.filter(e=>2!==e.kind)}a7.UNKNOWN_ID=-1;class c7{constructor(e,t){this.fieldPath=e,this.kind=t}}class y0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new y0(0,Li.min())}}function df(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new J1(t+1,0):new J1(t,i));return new Li(r,Je.empty(),e)}function hf(n){return new Li(n.readTime,n.key,-1)}class Li{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Li(Dt.min(),Je.empty(),-1)}static max(){return new Li(Dt.max(),Je.empty(),-1)}}function C8(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ja(n){return M8.apply(this,arguments)}function M8(){return M8=(0,ye.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==pf)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),M8.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,a=0,l=!1;e.forEach(d=>{++r,d.next(()=>{++a,l&&a===r&&t()},g=>i(g))}),l=!0,a===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const a=e.length,l=new Array(a);let d=0;for(let g=0;g<a;g++){const b=g;t(e[b]).next(w=>{l[b]=w,++d,d===a&&i(l)},w=>r(w))}})}static doWhile(e,t){return new ce((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class w8{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Gn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new D8(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=l7(i.target.error);this.P.reject(new D8(e,r))}}static open(e,t,i,r){try{return new w8(t,e.transaction(r,i))}catch(a){throw new D8(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yy(t)}}class ki{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===ki.D((0,g1.z$)())&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),Ga(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,g1.hl)())return!1;if(ki.N())return!0;const e=(0,g1.z$)(),t=ki.D(e),i=0<t&&t<10,r=ki.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{i(l.target.result)},a.onblocked=()=>{r(new D8(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const d=l.target.error;r("VersionError"===d.name?new xe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new xe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new D8(e,d))},a.onupgradeneeded=l=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ye.Z)(function*(){const l="readonly"===t;let d=0;for(;;){++d;try{a.db=yield a.F(e);const g=w8.open(a.db,e,l?"readonly":"readwrite",i),b=r(g).next(w=>(g.V(),w)).catch(w=>(g.abort(w),ce.reject(w))).toPromise();return b.catch(()=>{}),yield g.v,b}catch(g){const b=g,w="FirebaseError"!==b.name&&d<3;if(Re("SimpleDb","Transaction failed with error:",b.message,"Retrying:",w),a.close(),!w)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _y{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ga(this.q.delete())}}class D8 extends xe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ts(n){return"IndexedDbTransactionError"===n.name}class yy{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ga(i)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),Ga(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(l,d)=>{a.push(d)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ce((a,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{a(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ce((r,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}Y(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,l,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ce((i,r)=>{t.onerror=a=>{const l=l7(a.target.error);r(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(d=>{d?l.continue():i()}):i()}})}H(e,t){const i=[];return new ce((r,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const d=l.target.result;if(!d)return void r();const g=new _y(d),b=t(d.primaryKey,d.value,g);if(b instanceof ce){const w=b.catch(N=>(g.done(),ce.reject(N)));i.push(w)}g.isDone?r():null===g.G?d.continue():d.continue(g.G)}}).next(()=>ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ga(n){return new ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=l7(i.target.error);t(r)}})}let M3=!1;function l7(n){const e=ki.D((0,g1.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return M3||(M3=!0,setTimeout(()=>{throw i},0)),i}}return n}class by{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Re("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Ts(i)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ja(i)}yield t.nt(6e4)}))}}class ED{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return ce.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Re("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,r).next(d=>{r-=d,i.add(l)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(r,a)).next(d=>(Re("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>l.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const l=hf(a);C8(l,i)>0&&(i=l)}),new Li(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ui=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class mf{constructor(e,t,i,r,a,l,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=g}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}function u7(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function w3(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gf(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function D3(n){return null==n}function b0(n){return 0===n&&1/n==-1/0}function vf(n){return"number"==typeof n&&Number.isInteger(n)&&!b0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const Cy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(n){if(yt(!!n),"string"==typeof n){let e=0;const t=Cy.exec(n);if(yt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Cn(n.seconds),nanos:Cn(n.nanos)}}function Cn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function E3(n){return"string"==typeof n?Vn.fromBase64String(n):Vn.fromUint8Array(n)}function f7(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function My(n){const e=n.mapValue.fields.__previous_value__;return f7(e)?My(e):e}function C0(n){const e=qa(n.mapValue.fields.__local_write_time__.timestampValue);return new J1(e.seconds,e.nanos)}const Wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},d7={nullValue:"NULL_VALUE"};function M0(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f7(n)?4:w0(n)?9007199254740991:10:lt()}function No(n,e){if(n===e)return!0;const t=M0(n);if(t!==M0(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return C0(n).isEqual(C0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=qa(i.timestampValue),l=qa(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,E3(n.bytesValue).isEqual(E3(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Cn(i.geoPointValue.latitude)===Cn(r.geoPointValue.latitude)&&Cn(i.geoPointValue.longitude)===Cn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Cn(i.integerValue)===Cn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Cn(i.doubleValue),l=Cn(r.doubleValue);return a===l?b0(a)===b0(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return y3(n.arrayValue.values||[],e.arrayValue.values||[],No);case 10:return function(i,r){const a=i.mapValue.fields||{},l=r.mapValue.fields||{};if(u7(a)!==u7(l))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(void 0===l[d]||!No(a[d],l[d])))return!1;return!0}(n,e);default:return lt()}var r}function E8(n,e){return void 0!==(n.values||[]).find(t=>No(t,e))}function Za(n,e){if(n===e)return 0;const t=M0(n),i=M0(e);if(t!==i)return Ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Cn(r.integerValue||r.doubleValue),d=Cn(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return gm(n.timestampValue,e.timestampValue);case 4:return gm(C0(n),C0(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(r,a){const l=E3(r),d=E3(a);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),d=a.split("/");for(let g=0;g<l.length&&g<d.length;g++){const b=Ht(l[g],d[g]);if(0!==b)return b}return Ht(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const l=Ht(Cn(r.latitude),Cn(a.latitude));return 0!==l?l:Ht(Cn(r.longitude),Cn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const l=r.values||[],d=a.values||[];for(let g=0;g<l.length&&g<d.length;++g){const b=Za(l[g],d[g]);if(b)return b}return Ht(l.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Wa.mapValue&&a===Wa.mapValue)return 0;if(r===Wa.mapValue)return 1;if(a===Wa.mapValue)return-1;const l=r.fields||{},d=Object.keys(l),g=a.fields||{},b=Object.keys(g);d.sort(),b.sort();for(let w=0;w<d.length&&w<b.length;++w){const N=Ht(d[w],b[w]);if(0!==N)return N;const z=Za(l[d[w]],g[b[w]]);if(0!==z)return z}return Ht(d.length,b.length)}(n.mapValue,e.mapValue);default:throw lt()}}function gm(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=qa(n),i=qa(e),r=Ht(t.seconds,i.seconds);return 0!==r?r:Ht(t.nanos,i.nanos)}function S3(n){return h7(n)}function h7(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=qa(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?E3(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const l of i.values||[])a?a=!1:r+=",",r+=h7(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",l=!0;for(const d of r)l?l=!1:a+=",",a+=`${d}:${h7(i.fields[d])}`;return a+"}"}(n.mapValue):lt();var e}function Ka(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _f(n){return!!n&&"integerValue"in n}function S8(n){return!!n&&"arrayValue"in n}function vm(n){return!!n&&"nullValue"in n}function _m(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function p7(n){return!!n&&"mapValue"in n}function N8(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return w3(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=N8(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=N8(n.arrayValue.values[t]);return e}return Object.assign({},n)}function w0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ym(n){return"nullValue"in n?d7:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ka($a.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function bm(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ka($a.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Wa:lt()}function yf(n,e){const t=Za(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function bf(n,e){const t=Za(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class To{constructor(e,t){this.position=e,this.inclusive=t}}function Cf(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(i=a.field.isKeyField()?Je.comparator(Je.fromName(l.referenceValue),t.key):Za(l,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Cm(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!No(n.position[t],e.position[t]))return!1;return!0}class wy{}class t1 extends wy{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new wf(e,t,i):"array-contains"===t?new Ey(e,i):"in"===t?new A8(e,i):"not-in"===t?new g7(e,i):"array-contains-any"===t?new Sy(e,i):new t1(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new T8(e,i):new Dy(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Za(t,this.value)):null!==t&&M0(this.value)===M0(t)&&this.matchesComparison(Za(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class N1 extends wy{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new N1(e,t)}matches(e){return D0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function D0(n){return"and"===n.op}function Mf(n){return"or"===n.op}function Mm(n){return E0(n)&&D0(n)}function E0(n){for(const e of n.filters)if(e instanceof N1)return!1;return!0}function wm(n){if(n instanceof t1)return n.field.canonicalString()+n.op.toString()+S3(n.value);{const e=n.filters.map(t=>wm(t)).join(",");return`${n.op}(${e})`}}function m7(n,e){return n instanceof t1?(t=n,(i=e)instanceof t1&&t.op===i.op&&t.field.isEqual(i.field)&&No(t.value,i.value)):n instanceof N1?function(t,i){return i instanceof N1&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,l)=>r&&m7(a,i.filters[l]),!0)}(n,e):void lt();var t,i}function jr(n,e){const t=n.filters.concat(e);return N1.create(t,n.op)}function Dm(n){return n instanceof t1?`${(e=n).field.canonicalString()} ${e.op} ${S3(e.value)}`:n instanceof N1?function(e){return e.op.toString()+" {"+e.getFilters().map(Dm).join(" ,")+"}"}(n):"Filter";var e}class wf extends t1{constructor(e,t,i){super(e,t,i),this.key=Je.fromName(i.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class T8 extends t1{constructor(e,t){super(e,"in",t),this.keys=Em(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Dy extends t1{constructor(e,t){super(e,"not-in",t),this.keys=Em(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Em(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Je.fromName(i.referenceValue))}class Ey extends t1{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return S8(t)&&E8(t.arrayValue,this.value)}}class A8 extends t1{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&E8(this.value.arrayValue,t)}}class g7 extends t1{constructor(e,t){super(e,"not-in",t)}matches(e){if(E8(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!E8(this.value.arrayValue,t)}}class Sy extends t1{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!S8(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>E8(this.value.arrayValue,i))}}class S0{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sm(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class an{constructor(e,t){this.comparator=e,this.root=t||a2.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,a2.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,a2.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new N0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new N0(this.root,e,this.comparator,!1)}getReverseIterator(){return new N0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new N0(this.root,e,this.comparator,!0)}}class N0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class a2{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??a2.RED,this.left=r??a2.EMPTY,this.right=a??a2.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new a2(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return a2.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return a2.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,a2.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,a2.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}a2.EMPTY=null,a2.RED=!0,a2.BLACK=!1,a2.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new a2(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class L1{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nm(this.data.getIterator())}getIteratorFrom(e){return new Nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof L1)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new L1(this.comparator);return t.data=e,t}}class Nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function I8(n){return n.hasNext()?n.getNext():void 0}class Q2{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Q2([])}unionWith(e){let t=new L1(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Q2(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return y3(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!p7(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=N8(t)}setAll(e){let t=bn.emptyPath(),i={},r=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=d.popLast()}l?i[d.lastSegment()]=N8(l):r.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());p7(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];p7(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){w3(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new $n(N8(this.value))}}function Df(n){const e=[];return w3(n.fields,(t,i)=>{const r=new bn([t]);if(p7(i)){const a=Df(i.mapValue).fields;if(0===a.length)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new Q2(e)}class O1{constructor(e,t,i,r,a,l,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new O1(e,0,Dt.min(),Dt.min(),Dt.min(),$n.empty(),0)}static newFoundDocument(e,t,i,r){return new O1(e,1,t,Dt.min(),i,r,0)}static newNoDocument(e,t){return new O1(e,2,t,Dt.min(),Dt.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new O1(e,3,t,Dt.min(),Dt.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof O1&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new O1(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ef{constructor(e,t=null,i=[],r=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=d,this.ft=null}}function Sf(n,e=null,t=[],i=[],r=null,a=null,l=null){return new Ef(n,e,t,i,r,a,l)}function N3(n){const e=Xe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),D3(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>S3(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>S3(i)).join(",")),e.ft=t}return e.ft}function x8(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sm(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!m7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cm(n.startAt,e.startAt)&&Cm(n.endAt,e.endAt)}function v7(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function z8(n,e){return n.filters.filter(t=>t instanceof t1&&t.field.isEqual(e))}function _7(n,e,t){let i=d7,r=!0;for(const a of z8(n,e)){let l=d7,d=!0;switch(a.op){case"<":case"<=":l=ym(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,d=!1;break;case"!=":case"not-in":l=d7}yf({value:i,inclusive:r},{value:l,inclusive:d})<0&&(i=l,r=d)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];yf({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function Nf(n,e,t){let i=Wa,r=!0;for(const a of z8(n,e)){let l=Wa,d=!0;switch(a.op){case">=":case">":l=bm(a.value),d=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,d=!1;break;case"!=":case"not-in":l=Wa}bf({value:i,inclusive:r},{value:l,inclusive:d})>0&&(i=l,r=d)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];bf({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class As{constructor(e,t=null,i=[],r=[],a=null,l="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=g,this.dt=null,this._t=null}}function Tf(n,e,t,i,r,a,l,d){return new As(n,e,t,i,r,a,l,d)}function T3(n){return new As(n)}function Tm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function y7(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function L8(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Af(n){return null!==n.collectionGroup}function Ya(n){const e=Xe(n);if(null===e.dt){e.dt=[];const t=L8(e),i=y7(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new S0(t)),e.dt.push(new S0(bn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new S0(bn.keyField(),a))}}}return e.dt}function B2(n){const e=Xe(n);if(!e._t)if("F"===e.limitType)e._t=Sf(e.path,e.collectionGroup,Ya(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Ya(e))t.push(new S0(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new To(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new To(e.startAt.position,e.startAt.inclusive):null;e._t=Sf(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function D2(n,e){e.getFirstInequalityField(),L8(n);const t=n.filters.concat([e]);return new As(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ao(n,e,t){return new As(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function k8(n,e){return x8(B2(n),B2(e))&&n.limitType===e.limitType}function Am(n){return`${N3(B2(n))}|lt:${n.limitType}`}function Im(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Dm(i)).join(", ")}]`),D3(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>S3(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>S3(i)).join(",")),`Target(${t})`}(B2(n))}; limitType=${n.limitType})`}function xm(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Je.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ya(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,l){const d=Cf(r,a,l);return r.inclusive?d<=0:d<0}(t.startAt,Ya(t),i)||t.endAt&&!function(r,a,l){const d=Cf(r,a,l);return r.inclusive?d>=0:d>0}(t.endAt,Ya(t),i)));var t,i}function If(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xf(n){return(e,t)=>{let i=!1;for(const r of Ya(n)){const a=R8(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function R8(n,e,t){const i=n.field.isKeyField()?Je.comparator(e.key,t.key):function(r,a,l){const d=a.data.field(r),g=l.data.field(r);return null!==d&&null!==g?Za(d,g):lt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}function zm(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b0(e)?"-0":e}}function b7(n){return{integerValue:""+n}}function Lm(n,e){return vf(e)?b7(e):zm(n,e)}class O8{constructor(){this._=void 0}}function Ny(n,e,t){return n instanceof Ja?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Qa?zf(n,e):n instanceof Is?C7(n,e):function(i,r){const a=km(i,r),l=Lf(a)+Lf(i.gt);return _f(a)&&_f(i.gt)?b7(l):zm(i.yt,l)}(n,e)}function Ty(n,e,t){return n instanceof Qa?zf(n,e):n instanceof Is?C7(n,e):t}function km(n,e){return n instanceof V8?_f(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ja extends O8{}class Qa extends O8{constructor(e){super(),this.elements=e}}function zf(n,e){const t=Rm(e);for(const i of n.elements)t.some(r=>No(r,i))||t.push(i);return{arrayValue:{values:t}}}class Is extends O8{constructor(e){super(),this.elements=e}}function C7(n,e){let t=Rm(e);for(const i of n.elements)t=t.filter(r=>!No(r,i));return{arrayValue:{values:t}}}class V8 extends O8{constructor(e,t){super(),this.yt=e,this.gt=t}}function Lf(n){return Cn(n.integerValue||n.doubleValue)}function Rm(n){return S8(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class T0{constructor(e,t){this.field=e,this.transform=t}}class Ay{constructor(e,t){this.version=e,this.transformResults=t}}class q1{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new q1}static exists(e){return new q1(void 0,e)}static updateTime(e){return new q1(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function I0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class kf{}function Om(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new x0(n.key,q1.none()):new A3(n.key,n.data,q1.none());{const t=n.data,i=$n.empty();let r=new L1(bn.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?i.delete(a):i.set(a,l),r=r.add(a)}return new xs(n.key,i,new Q2(r.toArray()),q1.none())}}function SD(n,e,t){n instanceof A3?function(i,r,a){const l=i.value.clone(),d=Rf(i.fieldTransforms,r,a.transformResults);l.setAll(d),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof xs?function(i,r,a){if(!I0(i.precondition,r))return void r.convertToUnknownDocument(a.version);const l=Rf(i.fieldTransforms,r,a.transformResults),d=r.data;d.setAll(Pm(i)),d.setAll(l),r.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function P8(n,e,t,i){return n instanceof A3?function(r,a,l,d){if(!I0(r.precondition,a))return l;const g=r.value.clone(),b=Of(r.fieldTransforms,d,a);return g.setAll(b),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof xs?function(r,a,l,d){if(!I0(r.precondition,a))return l;const g=Of(r.fieldTransforms,d,a),b=a.data;return b.setAll(Pm(r)),b.setAll(g),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,e,t,i):(l=t,I0(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function Iy(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=km(i.transform,r||null);null!=a&&(null===t&&(t=$n.empty()),t.set(i.field,a))}return t||null}function Vm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&y3(t,i,(r,a)=>function A0(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Qa&&i instanceof Qa||t instanceof Is&&i instanceof Is?y3(t.elements,i.elements,No):t instanceof V8&&i instanceof V8?No(t.gt,i.gt):t instanceof Ja&&i instanceof Ja);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class A3 extends kf{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xs extends kf{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Pm(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Rf(n,e,t){const i=new Map;yt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,d=e.data.field(a.field);i.set(a.field,Ty(l,d,t[r]))}return i}function Of(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,Ny(a,l,e))}return i}class x0 extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vf extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hm{constructor(e){this.count=e}}var Pn,c1;function Pf(n){switch(n){default:return lt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function Hf(n){if(void 0===n)return An("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Pn.OK:return fe.OK;case Pn.CANCELLED:return fe.CANCELLED;case Pn.UNKNOWN:return fe.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return fe.INTERNAL;case Pn.UNAVAILABLE:return fe.UNAVAILABLE;case Pn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Pn.NOT_FOUND:return fe.NOT_FOUND;case Pn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Pn.ABORTED:return fe.ABORTED;case Pn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Pn.DATA_LOSS:return fe.DATA_LOSS;default:return lt()}}(c1=Pn||(Pn={}))[c1.OK=0]="OK",c1[c1.CANCELLED=1]="CANCELLED",c1[c1.UNKNOWN=2]="UNKNOWN",c1[c1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c1[c1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c1[c1.NOT_FOUND=5]="NOT_FOUND",c1[c1.ALREADY_EXISTS=6]="ALREADY_EXISTS",c1[c1.PERMISSION_DENIED=7]="PERMISSION_DENIED",c1[c1.UNAUTHENTICATED=16]="UNAUTHENTICATED",c1[c1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c1[c1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c1[c1.ABORTED=10]="ABORTED",c1[c1.OUT_OF_RANGE=11]="OUT_OF_RANGE",c1[c1.UNIMPLEMENTED=12]="UNIMPLEMENTED",c1[c1.INTERNAL=13]="INTERNAL",c1[c1.UNAVAILABLE=14]="UNAVAILABLE",c1[c1.DATA_LOSS=15]="DATA_LOSS";class Io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){w3(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return gf(this.inner)}size(){return this.innerSize}}const xy=new an(Je.comparator);function fi(){return xy}const zy=new an(Je.comparator);function z0(...n){let e=zy;for(const t of n)e=e.insert(t.key,t);return e}function Ly(n){let e=zy;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function xo(){return M7()}function ky(){return M7()}function M7(){return new Io(n=>n.toString(),(n,e)=>n.isEqual(e))}const ND=new an(Je.comparator),TD=new L1(Je.comparator);function Wt(...n){let e=TD;for(const t of n)e=e.add(t);return e}const AD=new L1(Ht);function I3(){return AD}class w7{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,L0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new w7(Dt.min(),r,I3(),fi(),Wt())}}class L0{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new L0(i,t,Wt(),Wt(),Wt())}}class x3{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class Ff{constructor(e,t){this.targetId=e,this.Et=t}}class Bf{constructor(e,t,i=Vn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Ry{constructor(){this.At=0,this.Rt=Fm(),this.bt=Vn.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Wt(),t=Wt(),i=Wt();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:lt()}}),new L0(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=Fm()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Uf{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=fi(),this.qt=jf(),this.Ut=new L1(Ht)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const a=r.target;if(v7(a))if(0===i){const l=new Je(a.path);this.Qt(t,l,O1.newNoDocument(l,Dt.min()))}else yt(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,l)=>{const d=this.Yt(l);if(d){if(a.current&&v7(d.target)){const g=new Je(d.target.path);null!==this.Lt.get(g)||this.te(l,g)||this.Qt(l,g,O1.newNoDocument(g,e))}a.St&&(t.set(l,a.Ct()),a.xt())}});let i=Wt();this.qt.forEach((a,l)=>{let d=!0;l.forEachWhile(g=>{const b=this.Yt(g);return!b||2===b.purpose||(d=!1,!1)}),d&&(i=i.add(a))}),this.Lt.forEach((a,l)=>l.setReadTime(e));const r=new w7(e,t,this.Ut,this.Lt,i);return this.Lt=fi(),this.qt=jf(),this.Ut=new L1(Ht),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Ry,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new L1(Ht),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Ry),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function jf(){return new an(Je.comparator)}function Fm(){return new an(Je.comparator)}const Bm={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oy={and:"AND",or:"OR"};class Vy{constructor(e,t){this.databaseId=e,this.wt=t}}function k0(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H8(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Py(n,e){return k0(n,e.toTimestamp())}function Hn(n){return yt(!!n),Dt.fromTimestamp(function(e){const t=qa(e);return new J1(t.seconds,t.nanos)}(n))}function Um(n,e){return(t=n,new d1(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hy(n){const e=d1.fromString(n);return yt(Km(e)),e}function F8(n,e){return Um(n.databaseId,e.path)}function zs(n,e){const t=Hy(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je($f(t))}function Gf(n,e){return Um(n.databaseId,e)}function Fy(n){const e=Hy(n);return 4===e.length?d1.emptyPath():$f(e)}function B8(n){return new d1(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $f(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qf(n,e,t){return{name:F8(n,e),fields:t.value.mapValue.fields}}function By(n,e,t){const i=zs(n,e.name),r=Hn(e.updateTime),a=e.createTime?Hn(e.createTime):Dt.min(),l=new $n({mapValue:{fields:e.fields}}),d=O1.newFoundDocument(i,r,a,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function z3(n,e){let t;if(e instanceof A3)t={update:qf(n,e.key,e.value)};else if(e instanceof x0)t={delete:F8(n,e.key)};else if(e instanceof xs)t={update:qf(n,e.key,e.data),updateMask:Zm(e.fieldMask)};else{if(!(e instanceof Vf))return lt();t={verify:F8(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof Ja)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Qa)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Is)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof V8)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw lt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Py(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:lt()),t;var r}function Wf(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?q1.updateTime(Hn(r.updateTime)):void 0!==r.exists?q1.exists(r.exists):q1.none():q1.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,l){let d=null;"setToServerValue"in l?(yt("REQUEST_TIME"===l.setToServerValue),d=new Ja):"appendMissingElements"in l?d=new Qa(l.appendMissingElements.values||[]):"removeAllFromArray"in l?d=new Is(l.removeAllFromArray.values||[]):"increment"in l?d=new V8(a,l.increment):lt();const g=bn.fromServerFormat(l.fieldPath);return new T0(g,d)}(n,r)):[];var r;if(e.update){const r=zs(n,e.update.name),a=new $n({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Q2((e.updateMask.fieldPaths||[]).map(b=>bn.fromServerFormat(b)));return new xs(r,a,l,t,i)}return new A3(r,a,t,i)}if(e.delete){const r=zs(n,e.delete);return new x0(r,t)}if(e.verify){const r=zs(n,e.verify);return new Vf(r,t)}return lt()}function jm(n,e){return{documents:[Gf(n,e.path)]}}function U8(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Gf(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gf(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return Wm(N1.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(g){if(0!==g.length)return g.map(b=>{return{field:L3((w=b).field),direction:$m(w.dir)};var w})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=(b=e.limit,n.wt||D3(b)?b:{value:b});var b,d,g;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function Gm(n){let e=Fy(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){yt(1===i);const w=t.from[0];w.allDescendants?r=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(w){const N=D7(w);return N instanceof N1&&Mm(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(w=>{return new S0(k3((N=w).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let d=null;t.limit&&(d=function(w){let N;return N="object"==typeof w?w.value:w,D3(N)?null:N}(t.limit));let g=null;var w;t.startAt&&(g=new To((w=t.startAt).values||[],!!w.before));let b=null;return t.endAt&&(b=function(w){return new To(w.values||[],!w.before)}(t.endAt)),Tf(e,r,l,a,d,"F",g,b)}function D7(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=k3(e.unaryFilter.field);return t1.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=k3(e.unaryFilter.field);return t1.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=k3(e.unaryFilter.field);return t1.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=k3(e.unaryFilter.field);return t1.create(a,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(n):void 0!==n.fieldFilter?t1.create(k3((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return N1.create(e.compositeFilter.filters.map(t=>D7(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(n):lt();var e}function $m(n){return Bm[n]}function qm(n){return ID[n]}function Gy(n){return Oy[n]}function L3(n){return{fieldPath:n.canonicalString()}}function k3(n){return bn.fromServerFormat(n.fieldPath)}function Wm(n){return n instanceof t1?function(e){if("=="===e.op){if(_m(e.value))return{unaryFilter:{field:L3(e.field),op:"IS_NAN"}};if(vm(e.value))return{unaryFilter:{field:L3(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_m(e.value))return{unaryFilter:{field:L3(e.field),op:"IS_NOT_NAN"}};if(vm(e.value))return{unaryFilter:{field:L3(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:L3(e.field),op:qm(e.op),value:e.value}}}(n):n instanceof N1?function(e){const t=e.getFilters().map(i=>Wm(i));return 1===t.length?t[0]:{compositeFilter:{op:Gy(e.op),filters:t}}}(n):lt()}function Zm(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Km(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function E2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zf(e)),e=Xa(n.get(t),e);return Zf(e)}function Xa(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Zf(n){return n+"\x01\x01"}function lr(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),d1.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&lt(),n.charAt(l+1)){case"\x01":const d=n.substring(a,l);let g;0===r.length?g=d:(r+=d,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(a,l),r+="\0";break;case"\x11":r+=n.substring(a,l+1);break;default:lt()}a=l+2}return new d1(i)}const Ls=["userId","batchId"];function E7(n,e){return[n,E2(e)]}function $y(n,e,t){return[n,E2(e),t]}const qy={},Wy=["prefixPath","collectionGroup","readTime","documentId"],Zy=["prefixPath","collectionGroup","documentId"],Ky=["collectionGroup","readTime","prefixPath","documentId"],Ym=["canonicalId","targetId"],xD=["targetId","path"],Jm=["path","targetId"],Yy=["collectionId","parent"],Qm=["indexId","uid"],zD=["uid","sequenceNumber"],Kf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xm=["indexId","uid","orderedDocumentKey"],eg=["userId","collectionPath","documentId"],tg=["userId","collectionPath","largestBatchId"],ng=["userId","collectionGroup","largestBatchId"],Yf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],S7=[...Yf,"documentOverlays"],j8=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jf=j8,Jy=[...Jf,"indexConfiguration","indexState","indexEntries"];class N7 extends pm{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function qn(n,e){const t=Xe(n);return ki.M(t.se,e)}class Qf{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&SD(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=P8(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=P8(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ky();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(r.key)?null:d;const g=Om(l,d);null!==g&&i.set(r.key,g),l.isValidDocument()||l.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wt())}isEqual(e){return this.batchId===e.batchId&&y3(this.mutations,e.mutations,(t,i)=>Vm(t,i))&&y3(this.baseMutations,e.baseMutations,(t,i)=>Vm(t,i))}}class Xf{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){yt(e.mutations.length===i.length);let r=ND;const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new Xf(e,t,i,r)}}class ig{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class R3{constructor(e,t,i,r,a=Dt.min(),l=Dt.min(),d=Vn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d}withSequenceNumber(e){return new R3(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new R3(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new R3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ed{constructor(e){this.ie=e}}function rg(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:T7(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:F8(r=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:k0(r,a.version.toTimestamp()),createTime:k0(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:R0(e.version)};else{if(!e.isUnknownDocument())return lt();i.unknownDocument={path:t.path.toArray(),version:R0(e.version)}}var r,a;return i}function T7(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function R0(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function O0(n){const e=new J1(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function V0(n,e){const t=(e.baseMutations||[]).map(a=>Wf(n.ie,a));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(l.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>Wf(n.ie,a)),r=J1.fromMillis(e.localWriteTimeMs);return new Qf(e.batchId,r,t,i)}function A7(n){const e=O0(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?O0(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(yt(1===(r=n.query).documents.length),i=B2(T3(Fy(r.documents[0])))):i=B2(Gm(n.query)),new R3(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Vn.fromBase64String(n.resumeToken))}function Xy(n,e){const t=R0(e.snapshotVersion),i=R0(e.lastLimboFreeSnapshotVersion);let r;r=v7(e.target)?jm(n.ie,e.target):U8(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:N3(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function td(n){const e=Gm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ao(e,e.limit,"L"):e}function P0(n,e){return new ig(e.largestBatchId,Wf(n.ie,e.overlayMutation))}function sg(n,e){const t=e.path.lastSegment();return[n,E2(e.path.popLast()),t]}function og(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:R0(i.readTime),documentKey:E2(i.documentKey.path),largestBatchId:i.largestBatchId}}class ag{getBundleMetadata(e,t){return e4(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:O0(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return e4(e).put({bundleId:(i=t).id,createTime:R0(Hn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return nd(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:td(r.bundledQuery),readTime:O0(r.readTime)};var r})}saveNamedQuery(e,t){return nd(e).put({name:(i=t).name,readTime:R0(Hn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function e4(n){return qn(n,"bundles")}function nd(n){return qn(n,"namedQueries")}class H0{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new H0(e,t.uid||"")}getOverlay(e,t){return O3(e).get(sg(this.userId,t)).next(i=>i?P0(this.yt,i):null)}getOverlays(e,t){const i=xo();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,l)=>{const d=new ig(t,l);r.push(this.oe(e,d))}),ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(E2(l.getCollectionPath())));const a=[];return r.forEach(l=>{const d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);a.push(O3(e).Y("collectionPathOverlayIndex",d))}),ce.waitFor(a)}getOverlaysForCollection(e,t,i){const r=xo(),a=E2(t),l=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return O3(e).W("collectionPathOverlayIndex",l).next(d=>{for(const g of d){const b=P0(this.yt,g);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=xo();let l;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return O3(e).Z({index:"collectionGroupOverlayIndex",range:d},(g,b,w)=>{const N=P0(this.yt,b);a.size()<r||N.largestBatchId===l?(a.set(N.getKey(),N),l=N.largestBatchId):w.done()}).next(()=>a)}oe(e,t){return O3(e).put(function(i,r,a){const[l,d,g]=sg(r,a.mutation.key);return{userId:r,collectionPath:d,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:z3(i.ie,a.mutation)}}(this.yt,this.userId,t))}}function O3(n){return qn(n,"documentOverlays")}class V3{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Cn(e.integerValue));else if("doubleValue"in e){const i=Cn(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),b0(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(E3(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?w0(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):lt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),Je.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function id(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function I7(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=id(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}V3.Ie=new V3;class x7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=t.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const t=this.De(e),i=I7(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),i=I7(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class LD{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class kD{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class z7{constructor(){this.$e=new x7,this.Be=new LD(this.$e),this.Le=new kD(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class F0{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new F0(this.indexId,this.documentKey,this.arrayValue,i)}}function zo(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=cg(n.arrayValue,e.arrayValue),0!==t?t:(t=cg(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function cg(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class eb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){yt(e.collectionGroup===this.collectionId);const t=ff(e);if(void 0!==t&&!this.We(t))return!1;const i=C3(e);let r=0,a=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const l=i[r];if(!this.ze(this.Qe,l)||!this.He(this.Ke[a++],l))return!1;++r}for(;r<i.length;++r){const l=i[r];if(a>=this.Ke.length||!this.He(this.Ke[a++],l))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function lg(n){var e,t;if(yt(n instanceof t1||n instanceof N1),n instanceof t1){if(n instanceof A8){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>t1.create(n.field,"==",a)))||[];return N1.create(r,"or")}return n}const i=n.filters.map(r=>lg(r));return N1.create(i,n.op)}function tb(n){if(0===n.getFilters().length)return[];const e=sd(lg(n));return yt(rd(e)),L7(e)||k7(e)?[e]:e.getFilters()}function L7(n){return n instanceof t1}function k7(n){return n instanceof N1&&Mm(n)}function rd(n){return L7(n)||k7(n)||function(e){if(e instanceof N1&&Mf(e)){for(const t of e.getFilters())if(!L7(t)&&!k7(t))return!1;return!0}return!1}(n)}function sd(n){if(yt(n instanceof t1||n instanceof N1),n instanceof t1)return n;if(1===n.filters.length)return sd(n.filters[0]);const e=n.filters.map(i=>sd(i));let t=N1.create(e,n.op);return t=B0(t),rd(t)?t:(yt(t instanceof N1),yt(D0(t)),yt(t.filters.length>1),t.filters.reduce((i,r)=>od(i,r)))}function od(n,e){let t;return yt(n instanceof t1||n instanceof N1),yt(e instanceof t1||e instanceof N1),t=n instanceof t1?e instanceof t1?N1.create([n,e],"and"):ad(n,e):e instanceof t1?ad(e,n):function(i,r){if(yt(i.filters.length>0&&r.filters.length>0),D0(i)&&D0(r))return jr(i,r.getFilters());const a=Mf(i)?i:r,l=Mf(i)?r:i,d=a.filters.map(g=>od(g,l));return N1.create(d,"or")}(n,e),B0(t)}function ad(n,e){if(D0(e))return jr(e,n.getFilters());{const t=e.filters.map(i=>od(n,i));return N1.create(t,"or")}}function B0(n){if(yt(n instanceof t1||n instanceof N1),n instanceof t1)return n;const e=n.getFilters();if(1===e.length)return B0(e[0]);if(E0(n))return n;const t=e.map(r=>B0(r)),i=[];return t.forEach(r=>{r instanceof t1?i.push(r):r instanceof N1&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:N1.create(i,n.op)}class RD{constructor(){this.Je=new R7}addToCollectionParentIndex(e,t){return this.Je.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Li.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class R7{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new L1(d1.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new L1(d1.comparator)).toArray()}}const U0=new Uint8Array(0);class nb{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new R7,this.Xe=new Io(i=>N3(i),(i,r)=>x8(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:i,parent:E2(r)};return ug(e).put(a)}return ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[dm(t),""],!1,!0);return ug(e).W(r).next(a=>{for(const l of a){if(l.collectionId!==t)break;i.push(lr(l.parent))}return i})}addFieldIndex(e,t){const i=cd(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;delete r.indexId;const a=i.add(r);if(t.indexState){const l=G8(e);return a.next(d=>{l.put(og(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=cd(e),r=G8(e),a=O7(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=O7(e);let r=!0;const a=new Map;return ce.forEach(this.Ze(t),l=>this.tn(e,l).next(d=>{r&&(r=!!d),a.set(l,d)})).next(()=>{if(r){let l=Wt();const d=[];return ce.forEach(a,(g,b)=>{var w;Re("IndexedDbIndexManager",`Using index ${w=g,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Ve=>`${Ve.fieldPath}:${Ve.kind}`).join(",")}`} to execute ${N3(t)}`);const N=function(Ve,Le){const Fe=ff(Le);if(void 0===Fe)return null;for(const Be of z8(Ve,Fe.fieldPath))switch(Be.op){case"array-contains-any":return Be.value.arrayValue.values||[];case"array-contains":return[Be.value]}return null}(b,g),z=function(Ve,Le){const Fe=new Map;for(const Be of C3(Le))for(const mt of z8(Ve,Be.fieldPath))switch(mt.op){case"==":case"in":Fe.set(Be.fieldPath.canonicalString(),mt.value);break;case"not-in":case"!=":return Fe.set(Be.fieldPath.canonicalString(),mt.value),Array.from(Fe.values())}return null}(b,g),R=function(Ve,Le){const Fe=[];let Be=!0;for(const mt of C3(Le)){const jt=0===mt.kind?_7(Ve,mt.fieldPath,Ve.startAt):Nf(Ve,mt.fieldPath,Ve.startAt);Fe.push(jt.value),Be&&(Be=jt.inclusive)}return new To(Fe,Be)}(b,g),H=function(Ve,Le){const Fe=[];let Be=!0;for(const mt of C3(Le)){const jt=0===mt.kind?Nf(Ve,mt.fieldPath,Ve.endAt):_7(Ve,mt.fieldPath,Ve.endAt);Fe.push(jt.value),Be&&(Be=jt.inclusive)}return new To(Fe,Be)}(b,g),q=this.en(g,b,R),X=this.en(g,b,H),ge=this.nn(g,b,z),Ae=this.sn(g.indexId,N,q,R.inclusive,X,H.inclusive,ge);return ce.forEach(Ae,Ve=>i.J(Ve,t.limit).next(Le=>{Le.forEach(Fe=>{const Be=Je.fromSegments(Fe.documentKey);l.has(Be)||(l=l.add(Be),d.push(Be))})}))}).next(()=>d)}return ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:tb(N1.create(e.filters,"and")).map(i=>Sf(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,r,a,l,d){const g=(null!=t?t.length:1)*Math.max(i.length,a.length),b=g/(null!=t?t.length:1),w=[];for(let N=0;N<g;++N){const z=t?this.rn(t[N/b]):U0,R=this.on(e,z,i[N%b],r),H=this.un(e,z,a[N%b],l),q=d.map(X=>this.on(e,z,X,!0));w.push(...this.createRange(R,H,q))}return w}on(e,t,i,r){const a=new F0(e,Je.empty(),t,i);return r?a:a.Ue()}un(e,t,i,r){const a=new F0(e,Je.empty(),t,i);return r?a.Ue():a}tn(e,t){const i=new eb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let l=null;for(const d of a)i.je(d)&&(!l||d.fields.length>l.fields.length)&&(l=d);return l})}getIndexType(e,t){let i=2;const r=this.Ze(t);return ce.forEach(r,a=>this.tn(e,a).next(l=>{l?0!==i&&l.fields.length<function(d){let g=new L1(bn.comparator),b=!1;for(const w of d.filters)for(const N of w.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?b=!0:g=g.add(N.field));for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(b?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}cn(e,t){const i=new z7;for(const r of C3(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const l=i.qe(r.kind);V3.Ie.ue(a,l)}return i.Fe()}rn(e){const t=new z7;return V3.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new z7;return V3.Ie.ue(Ka(this.databaseId,t),i.qe(function(r){const a=C3(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let r=[];r.push(new z7);let a=0;for(const l of C3(e)){const d=i[a++];for(const g of r)if(this.hn(t,l.fieldPath)&&S8(d))r=this.ln(r,l,d);else{const b=g.qe(l.kind);V3.Ie.ue(d,b)}}return this.fn(r)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const r=[...e],a=[];for(const l of i.arrayValue.values||[])for(const d of r){const g=new z7;g.seed(d.Fe()),V3.Ie.ue(l,g.qe(t.kind)),a.push(g)}return a}hn(e,t){return!!e.filters.find(i=>i instanceof t1&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=cd(e),r=G8(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const l=[];return ce.forEach(a,d=>r.get([d.indexId,this.uid]).next(g=>{l.push(function(b,w){const N=w?new y0(w.sequenceNumber,new Li(O0(w.readTime),new Je(lr(w.documentKey)),w.largestBatchId)):y0.empty(),z=b.fields.map(([R,H])=>new c7(bn.fromServerFormat(R),H));return new a7(b.indexId,b.collectionGroup,z,N)}(d,g))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Ht(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=cd(e),a=G8(e);return this.dn(e).next(l=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>ce.forEach(d,g=>a.put(og(g.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return ce.forEach(t,(r,a)=>{const l=i.get(r.collectionGroup);return(l?ce.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),ce.forEach(d,g=>this._n(e,r,g).next(b=>{const w=this.wn(a,g);return b.isEqual(w)?ce.resolve():this.mn(e,a,g,b,w)}))))})}gn(e,t,i,r){return O7(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,r){return O7(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const r=O7(e);let a=new L1(zo);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(l,d)=>{a=a.add(new F0(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>a)}wn(e,t){let i=new L1(zo);const r=this.cn(t,e);if(null==r)return i;const a=ff(t);if(null!=a){const l=e.data.field(a.fieldPath);if(S8(l))for(const d of l.arrayValue.values||[])i=i.add(new F0(t.indexId,e.key,this.rn(d),r))}else i=i.add(new F0(t.indexId,e.key,U0,r));return i}mn(e,t,i,r,a){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,g,b,w,N){const z=d.getIterator(),R=g.getIterator();let H=I8(z),q=I8(R);for(;H||q;){let X=!1,ge=!1;if(H&&q){const Ae=b(H,q);Ae<0?ge=!0:Ae>0&&(X=!0)}else null!=H?ge=!0:X=!0;X?(w(q),q=I8(R)):ge?(N(H),H=I8(z)):(H=I8(z),q=I8(R))}}(r,a,zo,d=>{l.push(this.gn(e,t,i,d))},d=>{l.push(this.yn(e,t,i,d))}),ce.waitFor(l)}dn(e){let t=1;return G8(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,d)=>zo(l,d)).filter((l,d,g)=>!d||0!==zo(l,g[d-1]));const r=[];r.push(e);for(const l of i){const d=zo(l,e),g=zo(l,t);if(0===d)r[0]=e.Ue();else if(d>0&&g<0)r.push(l),r.push(l.Ue());else if(g>0)break}r.push(t);const a=[];for(let l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];a.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,U0,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,U0,[]]))}return a}pn(e,t){return zo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fg)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),i=>this.tn(e,i).next(r=>r||lt())).next(fg)}}function ug(n){return qn(n,"collectionParents")}function O7(n){return qn(n,"indexEntries")}function cd(n){return qn(n,"indexConfiguration")}function G8(n){return qn(n,"indexState")}function fg(n){yt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;C8(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Li(e.readTime,e.documentKey,t)}const dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ri{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ib(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let d=0;const g=i.Z({range:l},(w,N,z)=>(d++,z.delete()));a.push(g.next(()=>{yt(1===d)}));const b=[];for(const w of t.mutations){const N=$y(e,w.key.path,t.batchId);a.push(r.delete(N)),b.push(w.key)}return ce.waitFor(a).next(()=>b)}function ld(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class ud{constructor(e,t,i,r){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(e,t,i,r){yt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new ud(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return t4(e).Z({index:"userMutationsIndex",range:i},(r,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=$8(e),l=t4(e);return l.add({}).next(d=>{yt("number"==typeof d);const g=new Qf(d,t,i,r),b=function(z,R,H){const q=H.baseMutations.map(ge=>z3(z.ie,ge)),X=H.mutations.map(ge=>z3(z.ie,ge));return{userId:R,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:q,mutations:X}}(this.yt,this.userId,g),w=[];let N=new L1((z,R)=>Ht(z.canonicalString(),R.canonicalString()));for(const z of r){const R=$y(this.userId,z.key.path,d);N=N.add(z.key.path.popLast()),w.push(l.put(b)),w.push(a.put(R,qy))}return N.forEach(z=>{w.push(this.indexManager.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.In[d]=g.keys()}),ce.waitFor(w).next(()=>g)})}lookupMutationBatch(e,t){return t4(e).get(t).next(i=>i?(yt(i.userId===this.userId),V0(this.yt,i)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return t4(e).Z({index:"userMutationsIndex",range:r},(l,d,g)=>{d.userId===this.userId&&(yt(d.batchId>=i),a=V0(this.yt,d)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return t4(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,l)=>{i=a.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return t4(e).W("userMutationsIndex",t).next(i=>i.map(r=>V0(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=E7(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return $8(e).Z({range:r},(l,d,g)=>{const[b,w,N]=l,z=lr(w);if(b===this.userId&&t.path.isEqual(z))return t4(e).get(N).next(R=>{if(!R)throw lt();yt(R.userId===this.userId),a.push(V0(this.yt,R))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new L1(Ht);const r=[];return t.forEach(a=>{const l=E7(this.userId,a.path),d=IDBKeyRange.lowerBound(l),g=$8(e).Z({range:d},(b,w,N)=>{const[z,R,H]=b,q=lr(R);z===this.userId&&a.path.isEqual(q)?i=i.add(H):N.done()});r.push(g)}),ce.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=E7(this.userId,i),l=IDBKeyRange.lowerBound(a);let d=new L1(Ht);return $8(e).Z({range:l},(g,b,w)=>{const[N,z,R]=g,H=lr(z);N===this.userId&&i.isPrefixOf(H)?H.length===r&&(d=d.add(R)):w.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(t4(e).get(a).next(l=>{if(null===l)throw lt();yt(l.userId===this.userId),i.push(V0(this.yt,l))}))}),ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return ib(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $8(e).Z({range:i},(a,l,d)=>{if(a[0]===this.userId){const g=lr(a[1]);r.push(g)}else d.done()}).next(()=>{yt(0===r.length)})})}containsKey(e,t){return rb(e,this.userId,t)}Rn(e){return sb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rb(n,e,t){const i=E7(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let l=!1;return $8(n).Z({range:a,X:!0},(d,g,b)=>{const[w,N,z]=d;w===e&&N===r&&(l=!0),b.done()}).next(()=>l)}function t4(n){return qn(n,"mutations")}function $8(n){return qn(n,"documentMutations")}function sb(n){return qn(n,"mutationQueues")}class j0{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new j0(0)}static vn(){return new j0(-1)}}class OD{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new j0(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Dt.fromTimestamp(new J1(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>G0(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(yt(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return G0(e).Z((l,d)=>{const g=A7(d);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,a.push(this.removeTargetData(e,g)))}).next(()=>ce.waitFor(a)).next(()=>r)}forEachTarget(e,t){return G0(e).Z((i,r)=>{const a=A7(r);t(a)})}Vn(e){return ob(e).get("targetGlobalKey").next(t=>(yt(null!==t),t))}Sn(e,t){return ob(e).put("targetGlobalKey",t)}Dn(e,t){return G0(e).put(Xy(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=N3(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return G0(e).Z({range:r,index:"queryTargetsIndex"},(l,d,g)=>{const b=A7(d);x8(t,b.target)&&(a=b,g.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=s(e);return t.forEach(l=>{const d=E2(l.path);r.push(a.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,l))}),ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=s(e);return ce.forEach(t,a=>{const l=E2(a.path);return ce.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=s(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=s(e);let a=Wt();return r.Z({range:i,X:!0},(l,d,g)=>{const b=lr(l[1]),w=new Je(b);a=a.add(w)}).next(()=>a)}containsKey(e,t){const i=E2(t.path),r=IDBKeyRange.bound([i],[dm(i)],!1,!0);let a=0;return s(e).Z({index:"documentTargetsIndex",X:!0,range:r},([l,d],g,b)=>{0!==l&&(a++,b.done())}).next(()=>a>0)}ne(e,t){return G0(e).get(t).next(i=>i?A7(i):null)}}function G0(n){return qn(n,"targets")}function ob(n){return qn(n,"targetGlobal")}function s(n){return qn(n,"targetDocuments")}function o([n,e],[t,i]){const r=Ht(n,t);return 0===r?Ht(e,i):r}class c{constructor(e){this.xn=e,this.buffer=new L1(o),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();o(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class f{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Ts(i)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ja(i)}yield t.Fn(3e5)}))}}class h{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(ui.at);const i=new c(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(dg)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dg):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,r,a,l,d,g,b;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),r=this.params.maximumSequenceNumbersToCollect):r=N,l=Date.now(),this.nthSequenceNumber(e,r))).next(N=>(i=N,d=Date.now(),this.removeTargets(e,i,t))).next(N=>(a=N,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(N=>(b=Date.now(),s7()<=ka.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-w}ms\n\tDetermined least recently used ${r} in `+(d-l)+`ms\n\tRemoved ${a} targets in `+(g-d)+`ms\n\tRemoved ${N} documents in `+(b-g)+`ms\nTotal Duration: ${b-w}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:N})))}}class m{constructor(e,t){this.db=e,this.garbageCollector=new h(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return y(e,i)}removeReference(e,t,i){return y(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return y(e,t)}Gn(e,t){return function(i,r){let a=!1;return sb(i).tt(l=>rb(i,l,r).next(d=>(d&&(a=!0),ce.resolve(!d)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(l,d)=>{if(d<=t){const g=this.Gn(e,l).next(b=>{if(!b)return a++,i.getEntry(e,l).next(()=>(i.removeEntry(l,Dt.min()),s(e).delete([0,E2(l.path)])))});r.push(g)}}).next(()=>ce.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return y(e,t)}Kn(e,t){const i=s(e);let r,a=ui.at;return i.Z({index:"documentTargetsIndex"},([l,d],{path:g,sequenceNumber:b})=>{0===l?(a!==ui.at&&t(new Je(lr(r)),a),a=b,r=g):a=ui.at}).next(()=>{a!==ui.at&&t(new Je(lr(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function y(n,e){return s(n).put((i=n.currentSequenceNumber,{targetId:0,path:E2(e.path),sequenceNumber:i}));var i}class M{constructor(){this.changes=new Io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,O1.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return $(e).put(i)}removeEntry(e,t,i){return $(e).delete(function(r,a){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],T7(a),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=O1.newInvalidDocument(t);return $(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(te(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:O1.newInvalidDocument(t)};return $(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(te(t))},(r,a)=>{i={document:this.jn(t,a),size:ld(a)}}).next(()=>i)}getEntries(e,t){let i=fi();return this.zn(e,t,(r,a)=>{const l=this.jn(r,a);i=i.insert(r,l)}).next(()=>i)}Hn(e,t){let i=fi(),r=new an(Je.comparator);return this.zn(e,t,(a,l)=>{const d=this.jn(a,l);i=i.insert(a,d),r=r.insert(a,ld(l))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ce.resolve();let r=new L1(He);t.forEach(g=>r=r.add(g));const a=IDBKeyRange.bound(te(r.first()),te(r.last())),l=r.getIterator();let d=l.getNext();return $(e).Z({index:"documentKeyIndex",range:a},(g,b,w)=>{const N=Je.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;d&&He(d,N)<0;)i(d,null),d=l.getNext();d&&d.isEqual(N)&&(i(d,b),d=l.hasNext()?l.getNext():null),d?w.j(te(d)):w.done()}).next(()=>{for(;d;)i(d,null),d=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),T7(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $(e).W(IDBKeyRange.bound(r,a,!0)).next(l=>{let d=fi();for(const g of l){const b=this.jn(Je.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);d=d.insert(b.key,b)}return d})}getAllFromCollectionGroup(e,t,i,r){let a=fi();const l=be(t,i),d=be(t,Li.max());return $(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,d,!0)},(g,b,w)=>{const N=this.jn(Je.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(N.key,N),a.size===r&&w.done()}).next(()=>a)}newChangeBuffer(e){return new x(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return V(e).get("remoteDocumentGlobalKey").next(t=>(yt(!!t),t))}Qn(e,t){return V(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function Qy(n,e){let t;if(e.document)t=By(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Je.fromSegments(e.noDocument.path),r=O0(e.noDocument.readTime);t=O1.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const i=Je.fromSegments(e.unknownDocument.path),r=O0(e.unknownDocument.version);t=O1.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new J1(i[0],i[1]);return Dt.fromTimestamp(r)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return O1.newInvalidDocument(e)}}function T(n){return new D(n)}class x extends M{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Io(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new L1((a,l)=>Ht(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const d=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,d.readTime)),l.isValidDocument()){const g=rg(this.Yn.yt,l);r=r.add(a.path.popLast()),i+=ld(g)-d.size,t.push(this.Yn.addEntry(e,a,g))}else if(i-=d.size,this.trackRemovals){const g=rg(this.Yn.yt,l.convertToNoDocument(Dt.min()));t.push(this.Yn.addEntry(e,a,g))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,l)=>{this.Xn.set(a,{size:l,readTime:i.get(a).readTime})}),i))}}function V(n){return qn(n,"remoteDocumentGlobal")}function $(n){return qn(n,"remoteDocumentsV14")}function te(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function be(n,e){const t=e.documentKey.path.toArray();return[n,T7(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function He(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Ht(t[a],i[a]),r)return r;return r=Ht(t.length,i.length),r||(r=Ht(t[t.length-2],i[i.length-2]),r||Ht(t[t.length-1],i[i.length-1]))}class Ye{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ft{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&P8(i.mutation,r,Q2.empty(),J1.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Wt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Wt()){const r=xo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=z0();return a.forEach((d,g)=>{l=l.insert(d,g.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=xo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Wt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,i,r){let a=fi();const l=M7(),d=M7();return t.forEach((g,b)=>{const w=i.get(b.key);r.has(b.key)&&(void 0===w||w.mutation instanceof xs)?a=a.insert(b.key,b):void 0!==w&&(l.set(b.key,w.mutation.getFieldMask()),P8(w.mutation,b,w.mutation.getFieldMask(),J1.now()))}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((b,w)=>l.set(b,w)),t.forEach((b,w)=>{var N;return d.set(b,new Ye(w,null!==(N=l.get(b))&&void 0!==N?N:null))}),d))}recalculateAndSaveOverlays(e,t){const i=M7();let r=new an((l,d)=>l-d),a=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(g=>{const b=t.get(g);if(null===b)return;let w=i.get(g)||Q2.empty();w=d.applyToLocalView(b,w),i.set(g,w);const N=(r.get(d.batchId)||Wt()).add(g);r=r.insert(d.batchId,N)})}).next(()=>{const l=[],d=r.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),b=g.key,w=g.value,N=ky();w.forEach(z=>{if(!a.has(z)){const R=Om(t.get(z),i.get(z));null!==R&&N.set(z,R),a=a.add(z)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,N))}return ce.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Je.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Af(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ce.resolve(xo());let d=-1,g=a;return l.next(b=>ce.forEach(b,(w,N)=>(d<N.largestBatchId&&(d=N.largestBatchId),a.get(w)?ce.resolve():this.remoteDocumentCache.getEntry(e,w).next(z=>{g=g.insert(w,z)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,g,b,Wt())).next(w=>({batchId:d,changes:Ly(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(i=>{let r=z0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=z0();return this.indexManager.getCollectionParents(e,r).next(l=>ce.forEach(l,d=>{const g=(b=t,w=d.child(r),new As(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,w;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(b=>{b.forEach((w,N)=>{a=a.insert(w,N)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((d,g)=>{const b=g.getKey();null===r.get(b)&&(r=r.insert(b,O1.newInvalidDocument(b)))});let l=z0();return r.forEach((d,g)=>{const b=a.get(d);void 0!==b&&P8(b.mutation,g,Q2.empty(),J1.now()),xm(t,g)&&(l=l.insert(d,g))}),l})}}class Et{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Hn(i.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:td(i.bundledQuery),readTime:Hn(i.readTime)}),ce.resolve();var i}}class ze{constructor(){this.overlays=new an(Je.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xo();return ce.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.oe(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=xo(),a=t.length+1,l=new Je(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const g=d.getNext().value,b=g.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new an((b,w)=>b-w);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let w=a.get(b.largestBatchId);null===w&&(w=xo(),a=a.insert(b.largestBatchId,w)),w.set(b.getKey(),b)}}const d=xo(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((b,w)=>d.set(b,w)),!(d.size()>=r)););return ce.resolve(d)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new ig(t,i));let a=this.es.get(t);void 0===a&&(a=Wt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class At{constructor(){this.ns=new L1(Vt.ss),this.rs=new L1(Vt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Vt(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Vt(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Je(new d1([])),i=new Vt(t,e),r=new Vt(t,e+1),a=[];return this.rs.forEachInRange([i,r],l=>{this.cs(l),a.push(l.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Je(new d1([])),i=new Vt(t,e),r=new Vt(t,e+1);let a=Wt();return this.rs.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Vt(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Vt{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Je.comparator(e.key,t.key)||Ht(e._s,t._s)}static os(e,t){return Ht(e._s,t._s)||Je.comparator(e.key,t.key)}}class Q1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new L1(Vt.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const l=new Qf(a,t,i,r);this.mutationQueue.push(l);for(const d of r)this.gs=this.gs.add(new Vt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(l)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vt(t,0),r=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],l=>{const d=this.ys(l._s);a.push(d)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new L1(Ht);return t.forEach(r=>{const a=new Vt(r,0),l=new Vt(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,l],d=>{i=i.add(d._s)})}),ce.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Je.isDocumentKey(a)||(a=a.child(""));const l=new Vt(new Je(a),0);let d=new L1(Ht);return this.gs.forEachWhile(g=>{const b=g.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(d=d.add(g._s)),!0)},l),ce.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){yt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ce.forEach(t.mutations,r=>{const a=new Vt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Vt(t,0),r=this.gs.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class P3{constructor(e){this.Es=e,this.docs=new an(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():O1.newInvalidDocument(t))}getEntries(e,t){let i=fi();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():O1.newInvalidDocument(r))}),ce.resolve(i)}getAllFromCollection(e,t,i){let r=fi();const a=new Je(t.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:g}}=l.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||C8(hf(g),i)<=0||(r=r.insert(g.key,g.mutableCopy()))}return ce.resolve(r)}getAllFromCollectionGroup(e,t,i,r){lt()}As(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fd(this)}getSize(e){return ce.resolve(this.size)}}class fd extends M{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class dd{constructor(e){this.persistence=e,this.Rs=new Io(t=>N3(t),x8),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new At,this.targetCount=0,this.vs=j0.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new j0(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((l,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),ce.waitFor(a).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class V7{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ui(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new dd(this),this.indexManager=new RD,this.remoteDocumentCache=new P3(i=>this.referenceDelegate.xs(i)),this.yt=new ed(t),this.Ns=new Et(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ze,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new Q1(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Re("MemoryPersistence","Starting transaction:",e);const r=new hd(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ms(e,t){return ce.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class hd extends pm{constructor(e){super(),this.currentSequenceNumber=e}}class $0{constructor(e){this.persistence=e,this.Fs=new At,this.$s=null}static Bs(e){return new $0(e)}get Ls(){if(this.$s)return this.$s;throw lt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,i=>{const r=Je.fromPath(i);return this.qs(e,r).next(a=>{a||t.removeEntry(r,Dt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class pd{constructor(e){this.yt=e}$(e,t,i,r){const a=new w8("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ls,{unique:!0}),d.createObjectStore("documentMutations"),P7(e),function(d){d.createObjectStore("remoteDocuments")}(e));let l=ce.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),P7(e)),l=l.next(()=>function(d){const g=d.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(d,g){return g.store("mutations").W().next(b=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ls,{unique:!0});const w=g.store("mutations"),N=b.map(z=>w.put(z));return ce.waitFor(N)})}(e,a))),l=l.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Us(a))),i<6&&r>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(l=l.next(()=>this.Gs(a))),i<8&&r>=8&&(l=l.next(()=>this.Qs(e,a))),i<9&&r>=9&&(l=l.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.js(a))),i<11&&r>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(d){const g=d.createObjectStore("documentOverlays",{keyPath:eg});g.createIndex("collectionPathOverlayIndex",tg,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",ng,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(d){const g=d.createObjectStore("remoteDocumentsV14",{keyPath:Wy});g.createIndex("documentKeyIndex",Zy),g.createIndex("collectionGroupIndex",Ky)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.zs(e,a))),i<15&&r>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:Qm}).createIndex("sequenceNumberIndex",zD,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:Kf}).createIndex("documentKeyIndex",Xm,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=ld(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ce.forEach(r,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",l).next(d=>ce.forEach(d,g=>{yt(g.userId===a.userId);const b=V0(this.yt,g);return ib(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((l,d)=>{const g=new d1(l),b=[0,E2(g)];a.push(t.get(b).next(w=>w?ce.resolve():t.put({targetId:0,path:E2(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Yy});const i=t.store("collectionParents"),r=new R7,a=l=>{if(r.add(l)){const d=l.lastSegment(),g=l.popLast();return i.put({collectionId:d,parent:E2(g)})}};return t.store("remoteDocuments").Z({X:!0},(l,d)=>{const g=new d1(l);return a(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,d,g],b)=>{const w=lr(d);return a(w.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=A7(r),l=Xy(this.yt,a);return t.put(l)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,l)=>{const d=t.store("remoteDocumentsV14"),g=(b=l,b.document?new Je(d1.fromString(b.document.name).popFirst(5)):b.noDocument?Je.fromSegments(b.noDocument.path):b.unknownDocument?Je.fromSegments(b.unknownDocument.path):lt()).path.toArray();var b;const w={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(d.put(w))}).next(()=>ce.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=T(this.yt),a=new V7($0.Bs,this.yt.ie);return i.W().next(l=>{const d=new Map;return l.forEach(g=>{var b;let w=null!==(b=d.get(g.userId))&&void 0!==b?b:Wt();V0(this.yt,g).keys().forEach(N=>w=w.add(N)),d.set(g.userId,w)}),ce.forEach(d,(g,b)=>{const w=new w2(b),N=H0.re(this.yt,w),z=a.getIndexManager(w),R=ud.re(w,this.yt,z,a.referenceDelegate);return new ft(r,R,N,z).recalculateAndSaveOverlaysForDocumentKeys(new N7(t,ui.at),g).next()})})}}function P7(n){n.createObjectStore("targetDocuments",{keyPath:xD}).createIndex("documentTargetsIndex",Jm,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ym,{unique:!0}),n.createObjectStore("targetGlobal")}const q8="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class W8{constructor(e,t,i,r,a,l,d,g,b,w,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=l,this.document=d,this.Js=b,this.Ys=w,this.Xs=N,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=z=>Promise.resolve(),!W8.C())throw new xe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new m(this,r),this.ii=t+"main",this.yt=new ed(g),this.ri=new ki(this.ii,this.Xs,new pd(this.yt)),this.Cs=new OD(this.referenceDelegate,this.yt),this.remoteDocumentCache=T(this.yt),this.Ns=new ag,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&An("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,q8);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ui(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,ye.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ts(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return md(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return hg(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=qn(i,"clientMetadata");return r.W().next(a=>{const l=e.Ii(a,18e5),d=a.filter(g=>-1===l.indexOf(g));return ce.forEach(d,g=>r.delete(g.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):md(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(fe.FAILED_PRECONDITION,q8);return!1}}return!(!this.networkEnabled||!this.inForeground)||hg(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const l=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||l&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new N7(t,ui.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>hg(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ud.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new nb(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return H0.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Re("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(l=this.Xs)?Jy:14===l?Jf:13===l?j8:12===l?S7:11===l?Yf:void lt();var l;let d;return this.ri.runTransaction(e,r,a,g=>(d=new N7(g,this.Ss?this.Ss.next():ui.at),"readwrite-primary"===t?this.fi(d).next(b=>!!b||this.di(d)).next(b=>{if(!b)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(fe.FAILED_PRECONDITION,pf);return i(d)}).next(b=>this.wi(d).next(()=>b)):this.Vi(d).next(()=>i(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}Vi(e){return md(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(fe.FAILED_PRECONDITION,q8)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return md(e).put("owner",t)}static C(){return ki.C()}_i(e){const t=md(e);return t.get("owner").next(i=>this.mi(i)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(An(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,g1.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Re("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return An("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function md(n){return qn(n,"owner")}function hg(n){return qn(n,"clientMetadata")}function ab(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class cb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Wt(),r=Wt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new cb(e,t.fromCache,i,r)}}class VD{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Oi(e,t,r,i)).next(a=>a||this.Mi(e,t))}ki(e,t){if(Tm(t))return ce.resolve(null);let i=B2(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ao(t,null,"F"),i=B2(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=Wt(...a);return this.Ni.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,i).next(g=>{const b=this.Fi(t,d);return this.$i(t,b,l,g.readTime)?this.ki(e,Ao(t,null,"F")):this.Bi(e,b,t,g)}))})))}Oi(e,t,i,r){return Tm(t)||r.isEqual(Dt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(a=>{const l=this.Fi(t,a);return this.$i(t,l,i,r)?this.Mi(e,t):(s7()<=ka.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Im(t)),this.Bi(e,l,t,df(r,-1)))})}Fi(e,t){let i=new L1(xf(e));return t.forEach((r,a)=>{xm(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Mi(e,t){return s7()<=ka.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Im(t)),this.Ni.getDocumentsMatchingQuery(e,t,Li.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class tx{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new an(Ht),this.Ui=new Io(a=>N3(a),x8),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ft(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function PD(n,e,t,i){return new tx(n,e,t,i)}function HD(n,e){return lb.apply(this,arguments)}function lb(){return lb=(0,ye.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],d=[];let g=Wt();for(const b of r){l.push(b.batchId);for(const w of b.mutations)g=g.add(w.key)}for(const b of a){d.push(b.batchId);for(const w of b.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(i,g).next(b=>({ji:b,removedBatchIds:l,addedBatchIds:d}))})})}),lb.apply(this,arguments)}function nx(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,d,g,b){const w=g.batch,N=w.keys();let z=ce.resolve();return N.forEach(R=>{z=z.next(()=>b.getEntry(d,R)).next(H=>{const q=g.docVersions.get(R);yt(null!==q),H.version.compareTo(q)<0&&(w.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),b.addEntry(H)))})}),z.next(()=>l.mutationQueue.removeMutationBatch(d,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=Wt();for(let g=0;g<l.mutationResults.length;++g)l.mutationResults[g].transformResults.length>0&&(d=d.add(l.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function FD(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ix(n,e){const t=Xe(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const d=[];e.targetChanges.forEach((w,N)=>{const z=r.get(N);if(!z)return;d.push(t.Cs.removeMatchingKeys(a,w.removedDocuments,N).next(()=>t.Cs.addMatchingKeys(a,w.addedDocuments,N)));let R=z.withSequenceNumber(a.currentSequenceNumber);var H,q,X;e.targetMismatches.has(N)?R=R.withResumeToken(Vn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,i)),r=r.insert(N,R),q=R,X=w,(0===(H=z).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(a,R))});let g=fi(),b=Wt();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),d.push(BD(a,l,e.documentUpdates).next(w=>{g=w.Wi,b=w.zi})),!i.isEqual(Dt.min())){const w=t.Cs.getLastRemoteSnapshotVersion(a).next(N=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(w)}return ce.waitFor(d).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,b)).next(()=>g)}).then(a=>(t.qi=r,a))}function BD(n,e,t){let i=Wt(),r=Wt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=fi();return t.forEach((d,g)=>{const b=a.get(d);g.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(d)),g.isNoDocument()&&g.version.isEqual(Dt.min())?(e.removeEntry(d,g.readTime),l=l.insert(d,g)):!b.isValidDocument()||g.version.compareTo(b.version)>0||0===g.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(g),l=l.insert(d,g)):Re("LocalStore","Ignoring outdated watch update for ",d,". Current version:",b.version," Watch version:",g.version)}),{Wi:l,zi:r}})}function rx(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function H7(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,ce.resolve(r)):t.Cs.allocateTargetId(i).next(l=>(r=new R3(e,l,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function F7(n,e,t){return ub.apply(this,arguments)}function ub(){return ub=(0,ye.Z)(function*(n,e,t){const i=Xe(n),r=i.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Ts(l))throw l;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),ub.apply(this,arguments)}function pg(n,e,t){const i=Xe(n);let r=Dt.min(),a=Wt();return i.persistence.runTransaction("Execute query","readonly",l=>function(d,g,b){const w=Xe(d),N=w.Ui.get(b);return void 0!==N?ce.resolve(w.qi.get(N)):w.Cs.getTargetData(g,b)}(i,l,B2(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(l,d.targetId).next(g=>{a=g})}).next(()=>i.Li.getDocumentsMatchingQuery(l,e,t?r:Dt.min(),t?a:Wt())).next(d=>(GD(i,If(e),d),{documents:d,Hi:a})))}function UD(n,e){const t=Xe(n),i=Xe(t.Cs),r=t.qi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(l=>l?l.target:null))}function jD(n,e){const t=Xe(n),i=t.Ki.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,df(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(GD(t,e,r),r))}function GD(n,e,t){let i=n.Ki.get(e)||Dt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function fb(){return fb=(0,ye.Z)(function*(n,e,t,i){const r=Xe(n);let a=Wt(),l=fi();for(const b of t){const w=e.Ji(b.metadata.name);b.document&&(a=a.add(w));const N=e.Yi(b);N.setReadTime(e.Xi(b.metadata.readTime)),l=l.insert(w,N)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield H7(r,(b=i,B2(T3(d1.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>BD(b,d,l).next(w=>(d.apply(b),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(b,g.targetId).next(()=>r.Cs.addMatchingKeys(b,a,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,w.Wi,w.zi)).next(()=>w.Wi)))}),fb.apply(this,arguments)}function ox(n,e){return db.apply(this,arguments)}function db(){return db=(0,ye.Z)(function*(n,e,t=Wt()){const i=yield H7(n,B2(td(e.bundledQuery))),r=Xe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const l=Hn(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ns.saveNamedQuery(a,e);const d=i.withResumeToken(Vn.EMPTY_BYTE_STRING,l);return r.qi=r.qi.insert(d.targetId,d),r.Cs.updateTargetData(a,d).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),db.apply(this,arguments)}function $D(n,e){return`firestore_clients_${n}_${e}`}function qD(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function hb(n,e){return`firestore_targets_${n}_${e}`}class mg{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new xe(r.error.code,r.error.message))),l?new mg(e,t,r.state,a):(An("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gd{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new xe(i.error.code,i.error.message))),a?new gd(e,i.state,r):(An("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=I3();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=vf(i.activeTargetIds[l]),a=a.add(i.activeTargetIds[l]);return r?new gg(e,a):(An("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pb{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pb(t.clientId,t.onlineState):(An("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mb{constructor(){this.activeTargetIds=I3()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gb{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new an(Ht),this.started=!1,this.cr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=$D(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new mb),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem($D(e.persistenceKey,r));if(a){const l=gg.Zi(r,a);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(hb(this.persistenceKey,e));if(i){const r=gd.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hb(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void An("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let l=ui.at;if(null!=a)try{const d=JSON.parse(a);yt("number"==typeof d),l=d}catch(d){An("SharedClientState","Failed to read sequence number from WebStorage",d)}return l}(i.newValue);r!==ui.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new mg(this.currentUser,e,t,i),a=qD(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=qD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=hb(this.persistenceKey,e),a=new gd(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return gg.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return mg.Zi(new w2(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return gd.Zi(r,t)}yr(e){return pb.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),l=[],d=[];return a.forEach(g=>{r.has(g)||l.push(g)}),r.forEach(g=>{a.has(g)||d.push(g)}),this.syncEngine.Br(l,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=I3();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class WD{constructor(){this.Lr=new mb,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new mb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ax{Ur(e){}shutdown(){}}class ZD{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lx{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ux extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,a){const l=this.ho(e,t);Re("RestConnection","Sending: ",l,i);const d={};return this.lo(d,r,a),this.fo(e,l,d,i).then(g=>(Re("RestConnection","Received: ",g),g),g=>{throw Ua("RestConnection",`${e} failed with error: `,g,"url: ",l,"request:",i),g})}_o(e,t,i,r,a,l){return this.ao(e,t,i,r,a)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+y8,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ho(e,t){return`${this.oo}/v1/${t}:${cx[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((a,l)=>{const d=new fy;d.setWithCredentials(!0),d.listenOnce(nm.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case i7.NO_ERROR:const b=d.getResponseJson();Re("Connection","XHR received:",JSON.stringify(b)),a(b);break;case i7.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),l(new xe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case i7.HTTP_ERROR:const w=d.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',w,"response text:",d.getResponseText()),w>0){let N=d.getResponseJson();Array.isArray(N)&&(N=N[0]);const z=N?.error;if(z&&z.status&&z.message){const R=function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(q)>=0?q:fe.UNKNOWN}(z.status);l(new xe(R,z.message))}else l(new xe(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new xe(fe.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);d.send(t,"POST",g,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ly(),l=uy(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new sm({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const g=r.join("");Re("Connection","Creating WebChannel: "+g,d);const b=a.createWebChannel(g,d);let w=!1,N=!1;const z=new lx({Hr:H=>{N?Re("Connection","Not sending because WebChannel is closed:",H):(w||(Re("Connection","Opening WebChannel transport."),b.open(),w=!0),Re("Connection","WebChannel sending:",H),b.send(H))},Jr:()=>b.close()}),R=(H,q,X)=>{H.listen(q,ge=>{try{X(ge)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return R(b,r7.EventType.OPEN,()=>{N||Re("Connection","WebChannel transport opened.")}),R(b,r7.EventType.CLOSE,()=>{N||(N=!0,Re("Connection","WebChannel transport closed"),z.io())}),R(b,r7.EventType.ERROR,H=>{N||(N=!0,Ua("Connection","WebChannel transport errored:",H),z.io(new xe(fe.UNAVAILABLE,"The operation could not be completed")))}),R(b,r7.EventType.MESSAGE,H=>{var q;if(!N){const X=H.data[0];yt(!!X);const ge=X,Ae=ge.error||(null===(q=ge[0])||void 0===q?void 0:q.error);if(Ae){Re("Connection","WebChannel received error:",Ae);const Ve=Ae.status;let Le=function(Be){const mt=Pn[Be];if(void 0!==mt)return Hf(mt)}(Ve),Fe=Ae.message;void 0===Le&&(Le=fe.INTERNAL,Fe="Unknown error status: "+Ve+" with message "+Ae.message),N=!0,z.io(new xe(Le,Fe)),b.close()}else Re("Connection","WebChannel received:",X),z.ro(X)}}),R(l,im.STAT_EVENT,H=>{H.stat===rm.PROXY?Re("Connection","Detected buffering proxy"):H.stat===rm.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.so()},0),z}}function KD(){return typeof window<"u"?window:null}function vg(){return typeof document<"u"?document:null}function vd(n){return new Vy(n,!0)}class vb{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class YD{constructor(e,t,i,r,a,l,d,g){this.Hs=e,this.vo=i,this.Vo=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new vb(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,ye.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(An(t.toString()),An("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new xe(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fx extends YD{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Uy(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:lt(),r=e.targetChange.targetIds||[],a=function(g,b){return g.wt?(yt(void 0===b||"string"==typeof b),Vn.fromBase64String(b||"")):(yt(void 0===b||b instanceof Uint8Array),Vn.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(g){const b=void 0===g.code?fe.UNKNOWN:Hf(g.code);return new xe(b,g.message||"")}(l);t=new Bf(i,r,a,d||null)}else if("documentChange"in e){const i=e.documentChange,r=zs(n,i.document.name),a=Hn(i.document.updateTime),l=i.document.createTime?Hn(i.document.createTime):Dt.min(),d=new $n({mapValue:{fields:i.document.fields}}),g=O1.newFoundDocument(r,a,l,d);t=new x3(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=zs(n,i.document),a=i.readTime?Hn(i.readTime):Dt.min(),l=O1.newNoDocument(r,a);t=new x3([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=zs(n,i.document);t=new x3([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return lt();{const i=e.filter,a=new Hm(i.count||0);t=new Ff(i.targetId,a)}}var g;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return Dt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?Hn(a.readTime):Dt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=B8(this.yt),t.addTarget=function(r,a){let l;const d=a.target;return l=v7(d)?{documents:jm(r,d)}:{query:U8(r,d)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=H8(r,a.resumeToken):a.snapshotVersion.compareTo(Dt.min())>0&&(l.readTime=k0(r,a.snapshotVersion.toTimestamp())),l}(this.yt,e);const i=function jy(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=B8(this.yt),t.removeTarget=e,this.Bo(t)}}class dx extends YD{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function cr(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(i,r){let a=Hn(i.updateTime?i.updateTime:r);return a.isEqual(Dt.min())&&(a=Hn(r)),new Ay(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Hn(e.commitTime);return this.listener.Zo(i,t)}return yt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=B8(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>z3(this.yt,i))};this.Bo(t)}}class hx extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.ao(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new xe(fe.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection._o(e,t,i,a,l,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(fe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class mx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(An(t),this.ou=!1):Re("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class gx{constructor(e,t,i,r,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(d=>{i.enqueueAndForget((0,ye.Z)(function*(){var g;H3(l)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,ye.Z)(function*(b){const w=Xe(b);w._u.add(4),yield B7(w),w.gu.set("Unknown"),w._u.delete(4),yield _d(w)}),function(b){return g.apply(this,arguments)})(l))}))}),this.gu=new mx(i,r)}}function _d(n){return yb.apply(this,arguments)}function yb(){return yb=(0,ye.Z)(function*(n){if(H3(n))for(const e of n.wu)yield e(!0)}),yb.apply(this,arguments)}function B7(n){return bb.apply(this,arguments)}function bb(){return bb=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),bb.apply(this,arguments)}function _g(n,e){const t=Xe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),wb(t)?Mb(t):j7(t).ko()&&Cb(t,e))}function yd(n,e){const t=Xe(n),i=j7(t);t.du.delete(e),i.ko()&&JD(t,e),0===t.du.size&&(i.ko()?i.Fo():H3(t)&&t.gu.set("Unknown"))}function Cb(n,e){n.yu.Ot(e.targetId),j7(n).zo(e)}function JD(n,e){n.yu.Ot(e),j7(n).Ho(e)}function Mb(n){n.yu=new Uf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),j7(n).start(),n.gu.uu()}function wb(n){return H3(n)&&!j7(n).No()&&n.du.size>0}function H3(n){return 0===Xe(n)._u.size}function QD(n){n.yu=void 0}function vx(n){return Db.apply(this,arguments)}function Db(){return Db=(0,ye.Z)(function*(n){n.du.forEach((e,t)=>{Cb(n,e)})}),Db.apply(this,arguments)}function _x(n,e){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,ye.Z)(function*(n,e){QD(n),wb(n)?(n.gu.hu(e),Mb(n)):n.gu.set("Unknown")}),Eb.apply(this,arguments)}function yx(n,e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,ye.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Bf&&2===e.state&&e.cause)try{yield(i=(0,ye.Z)(function*(r,a){const l=a.cause;for(const d of a.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,l),r.du.delete(d),r.yu.removeTarget(d))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield yg(n,i)}else if(e instanceof x3?n.yu.Kt(e):e instanceof Ff?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Dt.min()))try{const i=yield FD(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const l=r.yu.Zt(a);return l.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const b=r.du.get(g);b&&r.du.set(g,b.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach(d=>{const g=r.du.get(d);if(!g)return;r.du.set(d,g.withResumeToken(Vn.EMPTY_BYTE_STRING,g.snapshotVersion)),JD(r,d);const b=new R3(g.target,d,1,g.sequenceNumber);Cb(r,b)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){Re("RemoteStore","Failed to raise snapshot:",i),yield yg(n,i)}var i}),Sb.apply(this,arguments)}function yg(n,e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,ye.Z)(function*(n,e,t){if(!Ts(e))throw e;n._u.add(1),yield B7(n),n.gu.set("Offline"),t||(t=()=>FD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield _d(n)}))}),Nb.apply(this,arguments)}function XD(n,e){return e().catch(t=>yg(n,t,e))}function U7(n){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,ye.Z)(function*(n){const e=Xe(n),t=q0(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;bx(e);)try{const r=yield rx(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,Cx(e,r)}catch(r){yield yg(e,r)}eE(e)&&tE(e)}),Tb.apply(this,arguments)}function bx(n){return H3(n)&&n.fu.length<10}function Cx(n,e){n.fu.push(e);const t=q0(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function eE(n){return H3(n)&&!q0(n).No()&&n.fu.length>0}function tE(n){q0(n).start()}function Mx(n){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,ye.Z)(function*(n){q0(n).eu()}),Ab.apply(this,arguments)}function wx(n){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,ye.Z)(function*(n){const e=q0(n);for(const t of n.fu)e.Xo(t.mutations)}),Ib.apply(this,arguments)}function Dx(n,e,t){return xb.apply(this,arguments)}function xb(){return xb=(0,ye.Z)(function*(n,e,t){const i=n.fu.shift(),r=Xf.from(i,e,t);yield XD(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield U7(n)}),xb.apply(this,arguments)}function Ex(n,e){return zb.apply(this,arguments)}function zb(){return zb=(0,ye.Z)(function*(n,e){var t;e&&q0(n).Yo&&(yield(t=(0,ye.Z)(function*(i,r){if(Pf(a=r.code)&&a!==fe.ABORTED){const l=i.fu.shift();q0(i).Mo(),yield XD(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield U7(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),eE(n)&&tE(n)}),zb.apply(this,arguments)}function nE(n,e){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,ye.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const i=H3(t);t._u.add(3),yield B7(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield _d(t)}),Lb.apply(this,arguments)}function kb(n,e){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,ye.Z)(function*(n,e){const t=Xe(n);e?(t._u.delete(2),yield _d(t)):e||(t._u.add(2),yield B7(t),t.gu.set("Unknown"))}),Rb.apply(this,arguments)}function j7(n){return n.pu||(n.pu=function(e,t,i){const r=Xe(e);return r.su(),new fx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:vx.bind(null,n),Zr:_x.bind(null,n),Wo:yx.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Mo(),wb(n)?Mb(n):n.gu.set("Unknown")):(yield n.pu.stop(),QD(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function q0(n){return n.Iu||(n.Iu=function(e,t,i){const r=Xe(e);return r.su(),new dx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:Mx.bind(null,n),Zr:Ex.bind(null,n),tu:wx.bind(null,n),Zo:Dx.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Mo(),yield U7(n)):(yield n.Iu.stop(),n.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Ob{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,d=new Ob(e,t,l,r,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G7(n,e){if(An("AsyncQueue",`${e}: ${n}`),Ts(n))return new xe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class $7{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Je.comparator(t.key,i.key):(t,i)=>Je.comparator(t.key,i.key),this.keyedMap=z0(),this.sortedSet=new an(this.comparator)}static emptySet(e){return new $7(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $7)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new $7;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class iE{constructor(){this.Tu=new an(Je.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):lt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class q7{constructor(e,t,i,r,a,l,d,g,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=b}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new q7(e,t,$7.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k8(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Sx{constructor(){this.Au=void 0,this.listeners=[]}}class Nx{constructor(){this.queries=new Io(e=>Am(e),k8),this.onlineState="Unknown",this.Ru=new Set}}function Vb(n,e){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,ye.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new Sx),r)try{a.Au=yield t.onListen(i)}catch(l){const d=G7(l,`Initialization of query '${Im(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&Bb(t)}),Pb.apply(this,arguments)}function Hb(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=(0,ye.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Fb.apply(this,arguments)}function Tx(n,e){const t=Xe(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const d of l.listeners)d.Pu(r)&&(i=!0);l.Au=r}}i&&Bb(t)}function Ax(n,e,t){const i=Xe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Bb(n){n.Ru.forEach(e=>{e.next()})}class Ub{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new q7(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=q7.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Ix{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class rE{constructor(e){this.yt=e}Ji(e){return zs(this.yt,e)}Yi(e){return e.metadata.exists?By(this.yt,e.document,!1):O1.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Hn(e)}}class xx{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sE(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=d1.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new rE(this.yt);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const l of r.metadata.queries){const d=(t.get(l)||Wt()).add(a);t.set(l,d)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function sx(n,e,t,i){return fb.apply(this,arguments)}(e.localStore,new rE(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield ox(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function sE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class oE{constructor(e){this.key=e}}class aE{constructor(e){this.key=e}}class cE{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Wt(),this.mutatedKeys=Wt(),this.Gu=xf(e),this.Qu=new $7(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new iE,r=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,d=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((w,N)=>{const z=r.get(w),R=xm(this.query,N)?N:null,H=!!z&&this.mutatedKeys.has(z.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let X=!1;z&&R?z.data.isEqual(R.data)?H!==q&&(i.track({type:3,doc:R}),X=!0):this.Hu(z,R)||(i.track({type:2,doc:R}),X=!0,(g&&this.Gu(R,g)>0||b&&this.Gu(R,b)<0)&&(d=!0)):!z&&R?(i.track({type:0,doc:R}),X=!0):z&&!R&&(i.track({type:1,doc:z}),X=!0,(g||b)&&(d=!0)),X&&(R?(l=l.add(R),a=q?a.add(w):a.delete(w)):(l=l.delete(w),a=a.delete(w)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const w="F"===this.query.limitType?l.last():l.first();l=l.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{Qu:l,zu:i,$i:d,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((b,w)=>function(N,z){const R=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return R(N)-R(z)}(b.type,w.type)||this.Gu(b.doc,w.doc)),this.Ju(i);const l=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,g=d!==this.Uu;return this.Uu=d,0!==a.length||g?{snapshot:new q7(this.query,e.Qu,r,a,e.mutatedKeys,0===d,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new iE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Wt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new aE(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new oE(i))}),t}tc(e){this.qu=e.Hi,this.Ku=Wt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return q7.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class zx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Lx{constructor(e){this.key=e,this.nc=!1}}class kx{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new Io(d=>Am(d),k8),this.rc=new Map,this.oc=new Set,this.uc=new an(Je.comparator),this.cc=new Map,this.ac=new At,this.hc={},this.lc=new Map,this.fc=j0.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Rx(n,e){return jb.apply(this,arguments)}function jb(){return jb=(0,ye.Z)(function*(n,e){const t=dC(n);let i,r;const a=t.ic.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.ec();else{const l=yield H7(t.localStore,B2(e));t.isPrimaryClient&&_g(t.remoteStore,l);const d=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield Gb(t,e,i,"current"===d,l.resumeToken)}return r}),jb.apply(this,arguments)}function Gb(n,e,t,i,r){return $b.apply(this,arguments)}function $b(){return $b=(0,ye.Z)(function*(n,e,t,i,r){n._c=(N,z,R)=>{return(H=(0,ye.Z)(function*(q,X,ge,Ae){let Ve=X.view.Wu(ge);Ve.$i&&(Ve=yield pg(q.localStore,X.query,!1).then(({documents:Be})=>X.view.Wu(Be,Ve)));const Le=Ae&&Ae.targetChanges.get(X.targetId),Fe=X.view.applyChanges(Ve,q.isPrimaryClient,Le);return tC(q,X.targetId,Fe.Xu),Fe.snapshot}),function(q,X,ge,Ae){return H.apply(this,arguments)})(n,N,z,R);var H};const a=yield pg(n.localStore,e,!0),l=new cE(e,a.Hi),d=l.Wu(a.documents),g=L0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),b=l.applyChanges(d,n.isPrimaryClient,g);tC(n,t,b.Xu);const w=new zx(e,t,l);return n.ic.set(e,w),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),$b.apply(this,arguments)}function Ox(n,e){return qb.apply(this,arguments)}function qb(){return qb=(0,ye.Z)(function*(n,e){const t=Xe(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(a=>!k8(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield F7(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),yd(t.remoteStore,i.targetId),W7(t,i.targetId)}).catch(ja))):(W7(t,i.targetId),yield F7(t.localStore,i.targetId,!0))}),qb.apply(this,arguments)}function Wb(){return Wb=(0,ye.Z)(function*(n,e,t){const i=hC(n);try{const r=yield function(a,l){const d=Xe(a),g=J1.now(),b=l.reduce((z,R)=>z.add(R.key),Wt());let w,N;return d.persistence.runTransaction("Locally write mutations","readwrite",z=>{let R=fi(),H=Wt();return d.Gi.getEntries(z,b).next(q=>{R=q,R.forEach((X,ge)=>{ge.isValidDocument()||(H=H.add(X))})}).next(()=>d.localDocuments.getOverlayedDocuments(z,R)).next(q=>{w=q;const X=[];for(const ge of l){const Ae=Iy(ge,w.get(ge.key).overlayedDocument);null!=Ae&&X.push(new xs(ge.key,Ae,Df(Ae.value.mapValue),q1.exists(!0)))}return d.mutationQueue.addMutationBatch(z,g,X,l)}).next(q=>{N=q;const X=q.applyToLocalDocumentSet(w,H);return d.documentOverlayCache.saveOverlays(z,q.batchId,X)})}).then(()=>({batchId:N.batchId,changes:Ly(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let g=a.hc[a.currentUser.toKey()];g||(g=new an(Ht)),g=g.insert(l,d),a.hc[a.currentUser.toKey()]=g}(i,r.batchId,t),yield F3(i,r.changes),yield U7(i.remoteStore)}catch(r){const a=G7(r,"Failed to persist write");t.reject(a)}}),Wb.apply(this,arguments)}function lE(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,ye.Z)(function*(n,e){const t=Xe(n);try{const i=yield ix(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.cc.get(a);l&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.nc=!0:r.modifiedDocuments.size>0?yt(l.nc):r.removedDocuments.size>0&&(yt(l.nc),l.nc=!1))}),yield F3(t,i,e)}catch(i){yield ja(i)}}),Zb.apply(this,arguments)}function uE(n,e,t){const i=Xe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((a,l)=>{const d=l.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(a,l){const d=Xe(a);d.onlineState=l;let g=!1;d.queries.forEach((b,w)=>{for(const N of w.listeners)N.bu(l)&&(g=!0)}),g&&Bb(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Px(n,e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,ye.Z)(function*(n,e,t){const i=Xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),a=r&&r.key;if(a){let l=new an(Je.comparator);l=l.insert(a,O1.newNoDocument(a,Dt.min()));const d=Wt().add(a),g=new w7(Dt.min(),new Map,new L1(Ht),l,d);yield lE(i,g),i.uc=i.uc.remove(a),i.cc.delete(e),nC(i)}else yield F7(i.localStore,e,!1).then(()=>W7(i,e,t)).catch(ja)}),Kb.apply(this,arguments)}function Hx(n,e){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,ye.Z)(function*(n,e){const t=Xe(n),i=e.batch.batchId;try{const r=yield nx(t.localStore,e);eC(t,i,null),Xb(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield F3(t,r)}catch(r){yield ja(r)}}),Yb.apply(this,arguments)}function Fx(n,e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,ye.Z)(function*(n,e,t){const i=Xe(n);try{const r=yield function(a,l){const d=Xe(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return d.mutationQueue.lookupMutationBatch(g,l).next(w=>(yt(null!==w),b=w.keys(),d.mutationQueue.removeMutationBatch(g,w))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,b,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>d.localDocuments.getDocuments(g,b))})}(i.localStore,e);eC(i,e,t),Xb(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield F3(i,r)}catch(r){yield ja(r)}}),Jb.apply(this,arguments)}function Qb(){return Qb=(0,ye.Z)(function*(n,e){const t=Xe(n);H3(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const l=Xe(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>l.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=G7(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Qb.apply(this,arguments)}function Xb(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function eC(n,e,t){const i=Xe(n);let r=i.hc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function W7(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||fE(n,i)})}function fE(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(yd(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),nC(n))}function tC(n,e,t){for(const i of t)i instanceof oE?(n.ac.addReference(i.key,e),Ux(n,i)):i instanceof aE?(Re("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||fE(n,i.key)):lt()}function Ux(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Re("SyncEngine","New document in limbo: "+t),n.oc.add(i),nC(n))}function nC(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Je(d1.fromString(e)),i=n.fc.next();n.cc.set(i,new Lx(t)),n.uc=n.uc.insert(t,i),_g(n.remoteStore,new R3(B2(T3(t.path)),i,2,ui.at))}}function F3(n,e,t){return iC.apply(this,arguments)}function iC(){return iC=(0,ye.Z)(function*(n,e,t){const i=Xe(n),r=[],a=[],l=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,g)=>{l.push(i._c(g,e,t).then(b=>{if((b||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const w=cb.Ci(g.targetId,b);a.push(w)}}))}),yield Promise.all(l),i.sc.Wo(r),yield(d=(0,ye.Z)(function*(g,b){const w=Xe(g);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ce.forEach(b,z=>ce.forEach(z.Si,R=>w.persistence.referenceDelegate.addReference(N,z.targetId,R)).next(()=>ce.forEach(z.Di,R=>w.persistence.referenceDelegate.removeReference(N,z.targetId,R)))))}catch(N){if(!Ts(N))throw N;Re("LocalStore","Failed to update sequence numbers: "+N)}for(const N of b){const z=N.targetId;if(!N.fromCache){const R=w.qi.get(z),q=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);w.qi=w.qi.insert(z,q)}}}),function(g,b){return d.apply(this,arguments)})(i.localStore,a))}),iC.apply(this,arguments)}function jx(n,e){return rC.apply(this,arguments)}function rC(){return rC=(0,ye.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const i=yield HD(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(l=>{l.forEach(d=>{d.reject(new xe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield F3(t,i.ji)}var r}),rC.apply(this,arguments)}function Gx(n,e){const t=Xe(n),i=t.cc.get(e);if(i&&i.nc)return Wt().add(i.key);{let r=Wt();const a=t.rc.get(e);if(!a)return r;for(const l of a){const d=t.ic.get(l);r=r.unionWith(d.view.ju)}return r}}function $x(n,e){return sC.apply(this,arguments)}function sC(){return sC=(0,ye.Z)(function*(n,e){const t=Xe(n),i=yield pg(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&tC(t,e.targetId,r.Xu),r}),sC.apply(this,arguments)}function qx(n,e){return oC.apply(this,arguments)}function oC(){return oC=(0,ye.Z)(function*(n,e){const t=Xe(n);return jD(t.localStore,e).then(i=>F3(t,i))}),oC.apply(this,arguments)}function Wx(n,e,t,i){return aC.apply(this,arguments)}function aC(){return aC=(0,ye.Z)(function*(n,e,t,i){const r=Xe(n),a=yield function(l,d){const g=Xe(l),b=Xe(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",w=>b.Tn(w,d).next(N=>N?g.localDocuments.getDocuments(w,N):ce.resolve(null)))}(r.localStore,e);var d;null!==a?("pending"===t?yield U7(r.remoteStore):"acknowledged"===t||"rejected"===t?(eC(r,e,i||null),Xb(r,e),d=e,Xe(Xe(r.localStore).mutationQueue).An(d)):lt(),yield F3(r,a)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),aC.apply(this,arguments)}function cC(){return cC=(0,ye.Z)(function*(n,e){const t=Xe(n);if(dC(t),hC(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield dE(t,i.toArray());t.dc=!0,yield kb(t.remoteStore,!0);for(const a of r)_g(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(W7(t,l),F7(t.localStore,l,!0))),yd(t.remoteStore,l)}),yield r,yield dE(t,i),function(a){const l=Xe(a);l.cc.forEach((d,g)=>{yd(l.remoteStore,g)}),l.ac.fs(),l.cc=new Map,l.uc=new an(Je.comparator)}(t),t.dc=!1,yield kb(t.remoteStore,!1)}}),cC.apply(this,arguments)}function dE(n,e,t){return lC.apply(this,arguments)}function lC(){return lC=(0,ye.Z)(function*(n,e,t){const i=Xe(n),r=[],a=[];for(const l of e){let d;const g=i.rc.get(l);if(g&&0!==g.length){d=yield H7(i.localStore,B2(g[0]));for(const b of g){const w=i.ic.get(b),N=yield $x(i,w);N.snapshot&&a.push(N.snapshot)}}else{const b=yield UD(i.localStore,l);d=yield H7(i.localStore,b),yield Gb(i,hE(b),l,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(a),r}),lC.apply(this,arguments)}function hE(n){return Tf(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Kx(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).vi()}function Yx(n,e,t,i){return uC.apply(this,arguments)}function uC(){return uC=(0,ye.Z)(function*(n,e,t,i){const r=Xe(n);if(r.dc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const a=r.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield jD(r.localStore,If(a[0])),d=w7.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vn.EMPTY_BYTE_STRING);yield F3(r,l,d);break}case"rejected":yield F7(r.localStore,e,!0),W7(r,e,i);break;default:lt()}}),uC.apply(this,arguments)}function Jx(n,e,t){return fC.apply(this,arguments)}function fC(){return fC=(0,ye.Z)(function*(n,e,t){const i=dC(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Re("SyncEngine","Adding an already active target "+r);continue}const a=yield UD(i.localStore,r),l=yield H7(i.localStore,a);yield Gb(i,hE(a),l.targetId,!1,l.resumeToken),_g(i.remoteStore,l)}for(const r of t)i.rc.has(r)&&(yield F7(i.localStore,r,!1).then(()=>{yd(i.remoteStore,r),W7(i,r)}).catch(ja))}}),fC.apply(this,arguments)}function dC(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Px.bind(null,e),e.sc.Wo=Tx.bind(null,e.eventManager),e.sc.wc=Ax.bind(null,e.eventManager),e}function hC(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fx.bind(null,e),e}class pE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.yt=vd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return PD(this.persistence,new VD,e.initialUser,this.yt)}yc(e){return new V7($0.Bs,this.yt)}gc(e){return new WD}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mE extends pE{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield hC(i.Ac.syncEngine),yield U7(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return PD(this.persistence,new VD,e.initialUser,this.yt)}Tc(e,t){return new f(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new ED(t,this.persistence);return new by(e.asyncQueue,i)}yc(e){const t=ab(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new W8(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,KD(),vg(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new WD}}class Xx extends mE{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof gb&&(i.sharedClientState.syncEngine={Fr:Wx.bind(null,r),$r:Yx.bind(null,r),Br:Jx.bind(null,r),vi:Kx.bind(null,r),Mr:qx.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,ye.Z)(function*(l){yield function Zx(n,e){return cC.apply(this,arguments)}(i.Ac.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}gc(e){const t=KD();if(!gb.C(t))throw new xe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ab(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gb(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class pC{initialize(e,t){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>uE(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=jx.bind(null,i.syncEngine),yield kb(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Nx}createDatastore(e){const t=vd(e.databaseInfo.databaseId),i=new ux(e.databaseInfo);return new hx(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=d=>uE(this.syncEngine,d,0),l=ZD.C()?new ZD:new ax,new gx(t,i,r,a,l);var t,i,r,a,l}createSyncEngine(e,t){return function(i,r,a,l,d,g,b){const w=new kx(i,r,a,l,d,g);return b&&(w.dc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const i=Xe(t);Re("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield B7(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mC(n,e,t){if(!t)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gE(n,e,t,i){if(!0===e&&!0===i)throw new xe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vE(n){if(!Je.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _E(n){if(Je.isDocumentKey(n))throw new xe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function h1(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bg(n);throw new xe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yE(n,e){if(e<=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const bE=new Map;class CE{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new b8;switch(t.type){case"gapi":return new cm(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bE.get(e);t&&(Re("ComponentProvider","Removing Datastore"),bE.delete(e),t.terminate())}(this),Promise.resolve()}}class cn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new n4(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class X2{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new X2(this.firestore,e,this._query)}}class n4 extends X2{constructor(e,t,i){super(e,t,T3(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Je(e))}withConverter(e){return new n4(this.firestore,e,this._path)}}function wE(n,e,...t){if(n=(0,g1.m9)(n),mC("collection","path",e),n instanceof bd){const i=d1.fromString(e,...t);return _E(i),new n4(n,null,i)}{if(!(n instanceof cn||n instanceof n4))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(d1.fromString(e,...t));return _E(i),new n4(n.firestore,null,i)}}function Cg(n,e,...t){if(n=(0,g1.m9)(n),1===arguments.length&&(e=fm.R()),mC("doc","path",e),n instanceof bd){const i=d1.fromString(e,...t);return vE(i),new cn(n,null,new Je(i))}{if(!(n instanceof cn||n instanceof n4))throw new xe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(d1.fromString(e,...t));return vE(i),new cn(n.firestore,n instanceof n4?n.converter:null,new Je(i))}}function DE(n,e){return n=(0,g1.m9)(n),e=(0,g1.m9)(e),(n instanceof cn||n instanceof n4)&&(e instanceof cn||e instanceof n4)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gC(n,e){return n=(0,g1.m9)(n),e=(0,g1.m9)(e),n instanceof X2&&e instanceof X2&&n.firestore===e.firestore&&k8(n._query,e._query)&&n.converter===e.converter}function EE(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tz{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Gn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const a=yield e.Cc(r);return new Ix(JSON.parse(a),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ye.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class rz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(a,l){const d=Xe(a),g=B8(d.yt)+"/documents",b={documents:l.map(R=>F8(d.yt,R))},w=yield d._o("BatchGetDocuments",g,b,l.length),N=new Map;w.forEach(R=>{const H=function Gr(n,e){return"found"in e?function(t,i){yt(!!i.found);const r=zs(t,i.found.name),a=Hn(i.found.updateTime),l=i.found.createTime?Hn(i.found.createTime):Dt.min(),d=new $n({mapValue:{fields:i.found.fields}});return O1.newFoundDocument(r,a,l,d)}(n,e):"missing"in e?function(t,i){yt(!!i.missing),yt(!!i.readTime);const r=zs(t,i.missing),a=Hn(i.readTime);return O1.newNoDocument(r,a)}(n,e):lt()}(d.yt,R);N.set(H.key.toString(),H)});const z=[];return l.forEach(R=>{const H=N.get(R.toString());yt(!!H),z.push(H)}),z}),function(a,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new x0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Je.fromPath(r);e.mutations.push(new Vf(a,e.precondition(a)))}),yield(i=(0,ye.Z)(function*(r,a){const l=Xe(r),d=B8(l.yt)+"/documents",g={writes:a.map(b=>z3(l.yt,b))};yield l.ao("Commit",d,g)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=Dt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new xe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?q1.exists(!1):q1.updateTime(t):q1.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new xe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return q1.updateTime(t)}return q1.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sz{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.kc=i.maxAttempts,this.xo=new vb(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ye.Z)(function*(){const t=new rz(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Fc(a)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!D3(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Pf(t)}return!1}}class oz{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=w2.UNAUTHENTICATED,this.clientId=fm.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,ye.Z)(function*(d){Re("FirestoreClient","Received user=",d.uid),yield a.authCredentialListener(d),a.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Re("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=G7(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function SE(n,e){return vC.apply(this,arguments)}function vC(){return vC=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(a){i.isEqual(a)||(yield HD(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),vC.apply(this,arguments)}function NE(n,e){return _C.apply(this,arguments)}function _C(){return _C=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yC(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>nE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>nE(e.remoteStore,a)),n.onlineComponents=e}),_C.apply(this,arguments)}function yC(n){return bC.apply(this,arguments)}function bC(){return bC=(0,ye.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield SE(n,new pE)),n.offlineComponents}),bC.apply(this,arguments)}function wg(n){return CC.apply(this,arguments)}function CC(){return CC=(0,ye.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield NE(n,new pC)),n.onlineComponents}),CC.apply(this,arguments)}function TE(n){return yC(n).then(e=>e.persistence)}function Dg(n){return yC(n).then(e=>e.localStore)}function MC(n){return wg(n).then(e=>e.remoteStore)}function wC(n){return wg(n).then(e=>e.syncEngine)}function Z7(n){return DC.apply(this,arguments)}function DC(){return DC=(0,ye.Z)(function*(n){const e=yield wg(n),t=e.eventManager;return t.onListen=Rx.bind(null,e.syncEngine),t.onUnlisten=Ox.bind(null,e.syncEngine),t}),DC.apply(this,arguments)}function IE(n,e,t={}){const i=new Gn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,l,d,g){const b=new Mg({next:N=>{a.enqueueAndForget(()=>Hb(r,w));const z=N.docs.has(l);!z&&N.fromCache?g.reject(new xe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&N.fromCache&&d&&"server"===d.source?g.reject(new xe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(N)},error:N=>g.reject(N)}),w=new Ub(T3(l.path),b,{includeMetadataChanges:!0,Nu:!0});return Vb(r,w)}(yield Z7(n),n.asyncQueue,e,t,i)})),i.promise}function xE(n,e,t={}){const i=new Gn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,l,d,g){const b=new Mg({next:N=>{a.enqueueAndForget(()=>Hb(r,w)),N.fromCache&&"server"===d.source?g.reject(new xe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(N)},error:N=>g.reject(N)}),w=new Ub(l,b,{includeMetadataChanges:!0,Nu:!0});return Vb(r,w)}(yield Z7(n),n.asyncQueue,e,t,i)})),i.promise}class pz{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new vb(this,"async_queue_retry"),this.Wc=()=>{const t=vg();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=vg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Gn;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ts(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,An("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=Ob.createAndSchedule(this,e,t,i,a=>this.Yc(a));return this.Uc.push(r),r}zc(){this.Kc&&lt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function EC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class mz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ln extends bd{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new pz,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zE(this),this._firestoreClient.terminate()}}function Wn(n){return n._firestoreClient||zE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zE(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mf(n._databaseId,a,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var a,d;n._firestoreClient=new oz(n._authCredentials,n._appCheckCredentials,n._queue,i)}function LE(n,e,t){const i=new Gn;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield SE(n,t),yield NE(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(l=a).name?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;Ua("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var l})).then(()=>i.promise)}function kE(n){if(n._initialized||n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class i4{constructor(e){this._byteString=e}static fromBase64String(e){try{return new i4(Vn.fromBase64String(e))}catch(t){throw new xe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new i4(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class B3{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Z8{constructor(e){this._methodName=e}}class Eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const Ez=/^__.*__$/;class Sz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new A3(e,this.data,t,this.fieldTransforms)}}class RE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class Sg{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Sg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Ag(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(OE(this.sa)&&Ez.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Nz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||vd(e)}da(e,t,i,r=!1){return new Sg({sa:e,methodName:t,fa:i,path:bn.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function K8(n){const e=n._freezeSettings(),t=vd(n._databaseId);return new Nz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ng(n,e,t,i,r,a={}){const l=n.da(a.merge||a.mergeFields?2:0,e,t,r);AC("Data must be an object, but it was:",l,i);const d=HE(i,l);let g,b;if(a.merge)g=new Q2(l.fieldMask),b=l.fieldTransforms;else if(a.mergeFields){const w=[];for(const N of a.mergeFields){const z=IC(e,N,t);if(!l.contains(z))throw new xe(fe.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);BE(w,z)||w.push(z)}g=new Q2(w),b=l.fieldTransforms.filter(N=>g.covers(N.field))}else g=null,b=l.fieldTransforms;return new Sz(new $n(d),g,b)}class Cd extends Z8{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}function VE(n,e,t){return new Sg({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class SC extends Z8{_toFieldTransform(e){return new T0(e.path,new Ja)}isEqual(e){return e instanceof SC}}class Tz extends Z8{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=VE(this,e,!0),i=this._a.map(a=>Y8(a,t)),r=new Qa(i);return new T0(e.path,r)}isEqual(e){return this===e}}class Az extends Z8{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=VE(this,e,!0),i=this._a.map(a=>Y8(a,t)),r=new Is(i);return new T0(e.path,r)}isEqual(e){return this===e}}class Iz extends Z8{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new V8(e.yt,Lm(e.yt,this.wa));return new T0(e.path,t)}isEqual(e){return this===e}}function NC(n,e,t,i){const r=n.da(1,e,t);AC("Data must be an object, but it was:",r,i);const a=[],l=$n.empty();w3(i,(g,b)=>{const w=Tg(e,g,t);b=(0,g1.m9)(b);const N=r.ca(w);if(b instanceof Cd)a.push(w);else{const z=Y8(b,N);null!=z&&(a.push(w),l.set(w,z))}});const d=new Q2(a);return new RE(l,d,r.fieldTransforms)}function TC(n,e,t,i,r,a){const l=n.da(1,e,t),d=[IC(e,i,t)],g=[r];if(a.length%2!=0)throw new xe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<a.length;z+=2)d.push(IC(e,a[z])),g.push(a[z+1]);const b=[],w=$n.empty();for(let z=d.length-1;z>=0;--z)if(!BE(b,d[z])){const R=d[z];let H=g[z];H=(0,g1.m9)(H);const q=l.ca(R);if(H instanceof Cd)b.push(R);else{const X=Y8(H,q);null!=X&&(b.push(R),w.set(R,X))}}const N=new Q2(b);return new RE(w,N,l.fieldTransforms)}function PE(n,e,t,i=!1){return Y8(t,n.da(i?4:3,e))}function Y8(n,e){if(FE(n=(0,g1.m9)(n)))return AC("Unsupported field value:",e,n),HE(n,e);if(n instanceof Z8)return function(t,i){if(!OE(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const l of t){let d=Y8(l,i.aa(a));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,g1.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lm(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=J1.fromDate(t);return{timestampValue:k0(i.yt,r)}}if(t instanceof J1){const r=new J1(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:k0(i.yt,r)}}if(t instanceof Eg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof i4)return{bytesValue:H8(i.yt,t._byteString)};if(t instanceof cn){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Um(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${bg(t)}`)}(n,e)}function HE(n,e){const t={};return gf(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):w3(n,(i,r)=>{const a=Y8(r,e.ra(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function FE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof J1||n instanceof Eg||n instanceof i4||n instanceof cn||n instanceof Z8)}function AC(n,e,t){if(!FE(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=bg(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function IC(n,e,t){if((e=(0,g1.m9)(e))instanceof B3)return e._internalPath;if("string"==typeof e)return Tg(n,e);throw Ag("Field path arguments must be of type string or ",n,!1,void 0,t)}const xz=new RegExp("[~\\*/\\[\\]]");function Tg(n,e,t){if(e.search(xz)>=0)throw Ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new B3(...e.split("."))._internalPath}catch{throw Ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ag(n,e,t,i,r){const a=i&&!i.isEmpty(),l=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(a||l)&&(g+=" (found",a&&(g+=` in field ${i}`),l&&(g+=` in document ${r}`),g+=")"),new xe(fe.INVALID_ARGUMENT,d+n+g)}function BE(n,e){return n.some(t=>t.isEqual(e))}class Md{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ig("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zz extends Md{data(){return super.data()}}function Ig(n,e){return"string"==typeof e?Tg(n,e):e instanceof B3?e._internalPath:e._delegate._internalPath}function UE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xC{}class wd extends xC{}function W0(n,e,...t){let i=[];e instanceof xC&&i.push(e),i=i.concat(t),function(r){const a=r.filter(d=>d instanceof K7).length,l=r.filter(d=>d instanceof Dd).length;if(a>1||a>0&&l>0)throw new xe(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Dd extends wd{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Dd(e,t,i)}_apply(e){const t=this._parse(e);return qE(e._query,t),new X2(e.firestore,e.converter,D2(e._query,t))}_parse(e){const t=K8(e.firestore);return function(r,a,l,d,g,b,w){let N;if(g.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){$E(w,b);const z=[];for(const R of w)z.push(GE(d,r,R));N={arrayValue:{values:z}}}else N=GE(d,r,w)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||$E(w,b),N=PE(l,"where",w,"in"===b||"not-in"===b);return t1.create(g,b,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class K7 extends xC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new K7(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:N1.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const l=r.getFlattenedFilters();for(const d of l)qE(a,d),a=D2(a,d)}(e._query,t),new X2(e.firestore,e.converter,D2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class zC extends wd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zC(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new S0(r,a);return function(d,g){if(null===y7(d)){const b=L8(d);null!==b&&WE(0,b,g.field)}}(i,l),l}(e._query,this._field,this._direction);return new X2(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new As(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class xg extends wd{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new xg(e,t,i)}_apply(e){return new X2(e.firestore,e.converter,Ao(e._query,this._limit,this._limitType))}}class zg extends wd{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new zg(e,t,i)}_apply(e){const t=jE(e,this.type,this._docOrFields,this._inclusive);return new X2(e.firestore,e.converter,(r=t,new As((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Lg extends wd{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Lg(e,t,i)}_apply(e){const t=jE(e,this.type,this._docOrFields,this._inclusive);return new X2(e.firestore,e.converter,(r=t,new As((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function jE(n,e,t,i){if(t[0]=(0,g1.m9)(t[0]),t[0]instanceof Md)return function(r,a,l,d,g){if(!d)throw new xe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const w of Ya(r))if(w.field.isKeyField())b.push(Ka(a,d.key));else{const N=d.data.field(w.field);if(f7(N))throw new xe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const z=w.field.canonicalString();throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}b.push(N)}return new To(b,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=K8(n.firestore);return function(a,l,d,g,b,w){const N=a.explicitOrderBy;if(b.length>N.length)throw new xe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let R=0;R<b.length;R++){const H=b[R];if(N[R].field.isKeyField()){if("string"!=typeof H)throw new xe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!Af(a)&&-1!==H.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const q=a.path.child(d1.fromString(H));if(!Je.isDocumentKey(q))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const X=new Je(q);z.push(Ka(l,X))}else{const q=PE(d,g,H);z.push(q)}}return new To(z,w)}(n._query,n.firestore._databaseId,r,e,t,i)}}function GE(n,e,t){if("string"==typeof(t=(0,g1.m9)(t))){if(""===t)throw new xe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Af(e)&&-1!==t.indexOf("/"))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(d1.fromString(t));if(!Je.isDocumentKey(i))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ka(n,new Je(i))}if(t instanceof cn)return Ka(n,t._key);throw new xe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bg(t)}.`)}function $E(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function qE(n,e){if(e.isInequality()){const i=L8(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=y7(n);null!==a&&WE(0,r,a)}const t=function(i,r){for(const a of i)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function WE(n,e,t){if(!t.isEqual(e))throw new xe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class LC{convertValue(e,t="none"){switch(M0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(E3(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const i={};return w3(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new Eg(Cn(e.latitude),Cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=My(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(C0(e));default:return null}}convertTimestamp(e){const t=qa(e);return new J1(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=d1.fromString(e);yt(Km(i));const r=new $a(i.get(1),i.get(3)),a=new Je(i.popFirst(5));return r.isEqual(t)||An(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function kg(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Bz extends LC{constructor(e){super(),this.firestore=e}convertBytes(e){return new i4(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}class J8{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class U3 extends Md{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ig("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ed extends U3{data(e={}){return super.data(e)}}class Z0{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new J8(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ed(this._firestore,this._userDataWriter,i.key,i,new J8(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Ed(i._firestore,i._userDataWriter,l.doc.key,l.doc,new J8(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const d=new Ed(i._firestore,i._userDataWriter,l.doc.key,l.doc,new J8(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,b=-1;return 0!==l.type&&(g=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),b=a.indexOf(l.doc.key)),{type:Uz(l.type),doc:d,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Uz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function KE(n,e){return n instanceof U3&&e instanceof U3?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Z0&&e instanceof Z0&&n._firestore===e._firestore&&gC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class K0 extends LC{constructor(e){super(),this.firestore=e}convertBytes(e){return new i4(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function YE(n,e,t){n=h1(n,cn);const i=h1(n.firestore,ln),r=kg(n.converter,e,t);return Y7(i,[Ng(K8(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,q1.none())])}function JE(n,e,t,...i){n=h1(n,cn);const r=h1(n.firestore,ln),a=K8(r);let l;return l="string"==typeof(e=(0,g1.m9)(e))||e instanceof B3?TC(a,"updateDoc",n._key,e,t,i):NC(a,"updateDoc",n._key,e),Y7(r,[l.toMutation(n._key,q1.exists(!0))])}function QE(n,...e){var t,i,r;n=(0,g1.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||EC(e[l])||(a=e[l],l++);const d={includeMetadataChanges:a.includeMetadataChanges};if(EC(e[l])){const N=e[l];e[l]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[l+1]=null===(i=N.error)||void 0===i?void 0:i.bind(N),e[l+2]=null===(r=N.complete)||void 0===r?void 0:r.bind(N)}let g,b,w;if(n instanceof cn)b=h1(n.firestore,ln),w=T3(n._key.path),g={next:N=>{e[l]&&e[l](kC(b,n,N))},error:e[l+1],complete:e[l+2]};else{const N=h1(n,X2);b=h1(N.firestore,ln),w=N._query;const z=new K0(b);g={next:R=>{e[l]&&e[l](new Z0(b,z,N,R))},error:e[l+1],complete:e[l+2]},UE(n._query)}return function(N,z,R,H){const q=new Mg(H),X=new Ub(z,q,R);return N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Vb(yield Z7(N),X)})),()=>{q.bc(),N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Hb(yield Z7(N),X)}))}}(Wn(b),w,d,g)}function Y7(n,e){return function(t,i){const r=new Gn;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function Vx(n,e,t){return Wb.apply(this,arguments)}(yield wC(t),i,r)})),r.promise}(Wn(n),e)}function kC(n,e,t){const i=t.docs.get(e._key),r=new K0(n);return new U3(n,r,e._key,i,new J8(t.hasPendingWrites,t.fromCache),e.converter)}const Qz={maxAttempts:5};class XE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=K8(e)}set(e,t,i){this._verifyNotCommitted();const r=Y0(e,this._firestore),a=kg(r.converter,t,i),l=Ng(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,q1.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Y0(e,this._firestore);let l;return l="string"==typeof(t=(0,g1.m9)(t))||t instanceof B3?TC(this._dataReader,"WriteBatch.update",a._key,t,i,r):NC(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,q1.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Y0(e,this._firestore);return this._mutations=this._mutations.concat(new x0(t._key,q1.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Y0(n,e){if((n=(0,g1.m9)(n)).firestore!==e)throw new xe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xz extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=K8(e)}get(e){const t=Y0(e,this._firestore),i=new Bz(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return lt();const a=r[0];if(a.isFoundDocument())return new Md(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Md(this._firestore,i,t._key,null,t.converter);throw lt()})}set(e,t,i){const r=Y0(e,this._firestore),a=kg(r.converter,t,i),l=Ng(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const a=Y0(e,this._firestore);let l;return l="string"==typeof(t=(0,g1.m9)(t))||t instanceof B3?TC(this._dataReader,"Transaction.update",a._key,t,i,r):NC(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Y0(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Y0(e,this._firestore),i=new K0(this._firestore);return super.get(e).then(r=>new U3(this._firestore,i,t._key,r._document,new J8(!1,!1),t.converter))}}function RC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function tS(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function nS(){if(!function mm(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){y8=n3.SDK_VERSION,(0,n3._registerComponent)(new fl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),l=new ln(new am(t.getProvider("auth-internal")),new um(t.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new xe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(d.options.projectId,g)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,n3.registerVersion)(dy,"3.8.0",n),(0,n3.registerVersion)(dy,"3.8.0","esm2017")}();class Sd{constructor(e){this._delegate=e}static fromBase64String(e){return nS(),new Sd(i4.fromBase64String(e))}static fromUint8Array(e){return tS(),new Sd(i4.fromUint8Array(e))}toBase64(){return nS(),this._delegate.toBase64()}toUint8Array(){return tS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function OC(n){return function cL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class lL{enableIndexedDbPersistence(e,t){return function vz(n,e){kE(n=h1(n,ln));const t=Wn(n),i=n._freezeSettings(),r=new pC;return LE(t,r,new mE(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _z(n){kE(n=h1(n,ln));const e=Wn(n),t=n._freezeSettings(),i=new pC;return LE(e,i,new Xx(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yz(n){if(n._initialized&&!n._terminated)throw new xe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(i){if(!ki.C())return Promise.resolve();const r=i+"main";yield ki.delete(r)}),function(i){return t.apply(this,arguments)})(ab(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class iS{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof $a||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ua("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function ME(n,e,t,i={}){var r;const a=(n=h1(n,bd))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ua("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let l,d;if("string"==typeof i.mockUserToken)l=i.mockUserToken,d=w2.MOCK_USER;else{l=(0,g1.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new xe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new w2(g)}n._authCredentials=new py(new om(l,d))}}(this._delegate,e,t,i)}enableNetwork(){return function Cz(n){return function az(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield TE(n),t=yield MC(n);return e.setNetworkEnabled(!0),function(i){const r=Xe(i);return r._u.delete(0),_d(r)}(t)}))}(Wn(n=h1(n,ln)))}(this._delegate)}disableNetwork(){return function Mz(n){return function cz(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield TE(n),t=yield MC(n);return e.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const a=Xe(r);a._u.add(0),yield B7(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Wn(n=h1(n,ln)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,gE("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bz(n){return function(e){const t=new Gn;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function Bx(n,e){return Qb.apply(this,arguments)}(yield wC(e),t)})),t.promise}(Wn(n=h1(n,ln)))}(this._delegate)}onSnapshotsInSync(e){return function Jz(n,e){return function fz(n,e){const t=new Mg(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield Z7(n),r=t,Xe(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield Z7(n),r=t,void Xe(i).Ru.delete(r);var i,r}))}}(Wn(n=h1(n,ln)),EC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new J7(this,wE(this._delegate,e))}catch(t){throw Oi(t,"collection()","Firestore.collection()")}}doc(e){try{return new ks(this,Cg(this._delegate,e))}catch(t){throw Oi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vi(this,function ez(n,e){if(n=h1(n,bd),mC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new X2(n,null,(t=e,new As(d1.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Oi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eL(n,e,t){n=h1(n,ln);const i=Object.assign(Object.assign({},Qz),t);return function(r){if(r.maxAttempts<1)throw new xe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,l){const d=new Gn;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const g=yield function AE(n){return wg(n).then(e=>e.datastore)}(r);new sz(r.asyncQueue,g,l,a,d).run()})),d.promise}(Wn(n),r=>e(new Xz(n,r)),i)}(this._delegate,t=>e(new rS(this,t)))}batch(){return Wn(this._delegate),new sS(new XE(this._delegate,e=>Y7(this._delegate,e)))}loadBundle(e){return function wz(n,e){const t=Wn(n=h1(n,ln)),i=new mz;return function dz(n,e,t,i){const r=function(a,l){let d;return d="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,b){if(g instanceof Uint8Array)return EE(g,b);if(g instanceof ArrayBuffer)return EE(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new tz(g,l);var g}(t,vd(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function Qx(n,e,t){const i=Xe(n);var r;(r=(0,ye.Z)(function*(a,l,d){try{const g=yield l.getMetadata();if(yield function(z,R){const H=Xe(z),q=Hn(R.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",X=>H.Ns.getBundleMetadata(X,R.id)).then(X=>!!X&&X.createTime.compareTo(q)>=0)}(a.localStore,g))return yield l.close(),d._completeWith({taskState:"Success",documentsLoaded:(z=g).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);d._updateProgress(sE(g));const b=new xx(g,a.localStore,l.yt);let w=yield l.mc();for(;w;){const z=yield b.Fu(w);z&&d._updateProgress(z),w=yield l.mc()}const N=yield b.complete();return yield F3(a,N.Lu,void 0),yield function(z,R){const H=Xe(z);return H.persistence.runTransaction("Save bundle","readwrite",q=>H.Ns.saveBundleMetadata(q,R))}(a.localStore,g),d._completeWith(N.progress),Promise.resolve(N.Bu)}catch(g){return Ua("SyncEngine",`Loading bundle failed with ${g}`),d._failWith(g),Promise.resolve(new Set)}var z}),function(a,l,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield wC(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Dz(n,e){return function hz(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,i){const r=Xe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield Dg(n),e)}))}(Wn(n=h1(n,ln)),e).then(t=>t?new X2(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vi(this,t):null)}}class Rg extends LC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sd(new i4(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ks.forKey(t,this.firestore,null)}}class rS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rg(e)}get(e){const t=X8(e);return this._delegate.get(t).then(i=>new Nd(this._firestore,new U3(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=X8(e);return i?(RC("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=X8(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=X8(e);return this._delegate.delete(t),this}}class sS{constructor(e){this._delegate=e}set(e,t,i){const r=X8(e);return i?(RC("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=X8(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=X8(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Q8{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Ed(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Td(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Q8.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Q8(e,new Rg(e),t),r.set(t,a)),a}}Q8.INSTANCES=new WeakMap;class ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rg(e)}static forPath(e,t,i){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ks(t,new cn(t._delegate,i,new Je(e)))}static forKey(e,t,i){return new ks(t,new cn(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new J7(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new J7(this.firestore,wE(this._delegate,e))}catch(t){throw Oi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,g1.m9)(e))instanceof cn&&DE(this._delegate,e)}set(e,t){t=RC("DocumentReference.set",t);try{return t?YE(this._delegate,e,t):YE(this._delegate,e)}catch(i){throw Oi(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?JE(this._delegate,e):JE(this._delegate,e,t,...i)}catch(r){throw Oi(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Kz(n){return Y7(h1(n.firestore,ln),[new x0(n._key,q1.none())])}(this._delegate)}onSnapshot(...e){const t=oS(e),i=aS(e,r=>new Nd(this.firestore,new U3(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return QE(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function Gz(n){n=h1(n,cn);const e=h1(n.firestore,ln),t=Wn(e),i=new K0(e);return function lz(n,e){const t=new Gn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,l){try{const d=yield function(g,b){const w=Xe(g);return w.persistence.runTransaction("read document","readonly",N=>w.localDocuments.getDocument(N,b))}(r,a);d.isFoundDocument()?l.resolve(d):d.isNoDocument()?l.resolve(null):l.reject(new xe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const g=G7(d,`Failed to get document '${a} from cache`);l.reject(g)}}),function(r,a,l){return i.apply(this,arguments)})(yield Dg(n),e,t);var i})),t.promise}(t,n._key).then(r=>new U3(e,i,n._key,r,new J8(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $z(n){n=h1(n,cn);const e=h1(n.firestore,ln);return IE(Wn(e),n._key,{source:"server"}).then(t=>kC(e,n,t))}(this._delegate):function jz(n){n=h1(n,cn);const e=h1(n.firestore,ln);return IE(Wn(e),n._key).then(t=>kC(e,n,t))}(this._delegate),t.then(i=>new Nd(this.firestore,new U3(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ks(this.firestore,this._delegate.withConverter(e?Q8.getInstance(this.firestore,e):null))}}function Oi(n,e,t){return n.message=n.message.replace(e,t),n}function oS(n){for(const e of n)if("object"==typeof e&&!OC(e))return e;return{}}function aS(n,e){var t,i;let r;return r=OC(n[0])?n[0]:OC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Nd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ks(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return KE(this._delegate,e._delegate)}}class Td extends Nd{data(e){const t=this._delegate.data(e);return function hy(n,e){n||lt()}(void 0!==t),t}}class Vi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rg(e)}where(e,t,i){try{return new Vi(this.firestore,W0(this._delegate,function Lz(n,e,t){const i=e,r=Ig("where",n);return Dd._create(r,i,t)}(e,t,i)))}catch(r){throw Oi(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vi(this.firestore,W0(this._delegate,function kz(n,e="asc"){const t=e,i=Ig("orderBy",n);return zC._create(i,t)}(e,t)))}catch(i){throw Oi(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vi(this.firestore,W0(this._delegate,function Rz(n){return yE("limit",n),xg._create("limit",n,"F")}(e)))}catch(t){throw Oi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vi(this.firestore,W0(this._delegate,function Oz(n){return yE("limitToLast",n),xg._create("limitToLast",n,"L")}(e)))}catch(t){throw Oi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vi(this.firestore,W0(this._delegate,function Vz(...n){return zg._create("startAt",n,!0)}(...e)))}catch(t){throw Oi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vi(this.firestore,W0(this._delegate,function Pz(...n){return zg._create("startAfter",n,!1)}(...e)))}catch(t){throw Oi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vi(this.firestore,W0(this._delegate,function Hz(...n){return Lg._create("endBefore",n,!1)}(...e)))}catch(t){throw Oi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vi(this.firestore,W0(this._delegate,function Fz(...n){return Lg._create("endAt",n,!0)}(...e)))}catch(t){throw Oi(t,"endAt()","Query.endAt()")}}isEqual(e){return gC(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Wz(n){n=h1(n,X2);const e=h1(n.firestore,ln),t=Wn(e),i=new K0(e);return function uz(n,e){const t=new Gn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,l){try{const d=yield pg(r,a,!0),g=new cE(a,d.Hi),b=g.Wu(d.documents),w=g.applyChanges(b,!1);l.resolve(w.snapshot)}catch(d){const g=G7(d,`Failed to execute query '${a} against cache`);l.reject(g)}}),function(r,a,l){return i.apply(this,arguments)})(yield Dg(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Z0(e,i,n,r))}(this._delegate):"server"===e?.source?function Zz(n){n=h1(n,X2);const e=h1(n.firestore,ln),t=Wn(e),i=new K0(e);return xE(t,n._query,{source:"server"}).then(r=>new Z0(e,i,n,r))}(this._delegate):function qz(n){n=h1(n,X2);const e=h1(n.firestore,ln),t=Wn(e),i=new K0(e);return UE(n._query),xE(t,n._query).then(r=>new Z0(e,i,n,r))}(this._delegate),t.then(i=>new VC(this.firestore,new Z0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=oS(e),i=aS(e,r=>new VC(this.firestore,new Z0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return QE(this._delegate,t,i)}withConverter(e){return new Vi(this.firestore,this._delegate.withConverter(e?Q8.getInstance(this.firestore,e):null))}}class fL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Td(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class VC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Td(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fL(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Td(this._firestore,i))})}isEqual(e){return KE(this._delegate,e._delegate)}}class J7 extends Vi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ks(this.firestore,e):null}doc(e){try{return new ks(this.firestore,void 0===e?Cg(this._delegate):Cg(this._delegate,e))}catch(t){throw Oi(t,"doc()","CollectionReference.doc()")}}add(e){return function Yz(n,e){const t=h1(n.firestore,ln),i=Cg(n),r=kg(n.converter,e);return Y7(t,[Ng(K8(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,q1.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ks(this.firestore,t))}isEqual(e){return DE(this._delegate,e._delegate)}withConverter(e){return new J7(this.firestore,this._delegate.withConverter(e?Q8.getInstance(this.firestore,e):null))}}function X8(n){return h1(n,cn)}class PC{constructor(...e){this._delegate=new B3(...e)}static documentId(){return new PC(bn.keyField().canonicalString())}isEqual(e){return(e=(0,g1.m9)(e))instanceof B3&&this._delegate._internalPath.isEqual(e._internalPath)}}class e5{constructor(e){this._delegate=e}static serverTimestamp(){const e=function nL(){return new SC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new e5(e)}static delete(){const e=function tL(){return new Cd("deleteField")}();return e._methodName="FieldValue.delete",new e5(e)}static arrayUnion(...e){const t=function iL(...n){return new Tz("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new e5(t)}static arrayRemove(...e){const t=function rL(...n){return new Az("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new e5(t)}static increment(e){const t=function sL(n){return new Iz("increment",n)}(e);return t._methodName="FieldValue.increment",new e5(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dL={Firestore:iS,GeoPoint:Eg,Timestamp:J1,Blob:Sd,Transaction:rS,WriteBatch:sS,DocumentReference:ks,DocumentSnapshot:Nd,Query:Vi,QueryDocumentSnapshot:Td,QuerySnapshot:VC,CollectionReference:J7,FieldPath:PC,FieldValue:e5,setLogLevel:function uL(n){!function o7(n){v3.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function cS(n,e){return function mL(n,e=Jc.z){return new H1.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function HC(n,e){return cS(n,e).pipe((0,Qe.U)(t=>({payload:t,type:"query"})))}function Og(n,e){return HC(n,e).pipe(Ir(void 0),dp(),(0,Qe.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,d)=>{const g=r.find(w=>w.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(w=>w.ref.isEqual(l.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(l.metadata)||!g&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:l}})}),a}))}function lS(n,e,t){return Og(n,t).pipe(Pt((i,r)=>function vL(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function _L(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return FC(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return FC(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FC(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),function Qc(n,e=Ei.y){return n=n??hp,(0,gn.e)((t,i)=>{let r,a=!0;t.subscribe((0,x1.x)(i,l=>{const d=e(l);(a||!n(r,d))&&(a=!1,r=d,i.next(l))}))})}(),(0,Qe.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function FC(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function uS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function pL(n){(function hL(n,e){n.INTERNAL.registerComponent(new fl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},dL)))})(n,(e,t)=>new iS(e,t,new lL)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(pp.Z);class fS{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Og(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qe.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ir(void 0),dp(),E(([i,r])=>r.length>0||!i),(0,Qe.U)(([i,r])=>r),n2.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uS(e);return lS(this.query,t,this.afs.schedulers.outsideAngular).pipe(n2.iC)}valueChanges(e={}){return HC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),n2.iC)}get(e){return(0,y1.D)(this.query.get(e)).pipe(n2.iC)}add(e){return this.ref.add(e)}doc(e){return new dS(this.ref.doc(e),this.afs)}}class dS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=mS(i,t);return new fS(r,a,this.afs)}snapshotChanges(){return function gL(n,e){return cS(n,e).pipe(Ir(void 0),dp(),(0,Qe.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(n2.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,y1.D)(this.ref.get(e)).pipe(n2.iC)}}class yL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Og(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),E(t=>t.length>0),n2.iC):Og(this.query,this.afs.schedulers.outsideAngular).pipe(n2.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uS(e);return lS(this.query,t,this.afs.schedulers.outsideAngular).pipe(n2.iC)}valueChanges(e={}){return HC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),n2.iC)}get(e){return(0,y1.D)(this.query.get(e)).pipe(n2.iC)}}const hS=new u.OlP("angularfire2.enableFirestorePersistence"),pS=new u.OlP("angularfire2.firestore.persistenceSettings"),bL=new u.OlP("angularfire2.firestore.settings"),CL=new u.OlP("angularfire2.firestore.use-emulator");function mS(n,e=(t=>t)){return{query:e(n),ref:n}}let Ad=(()=>{class n{constructor(t,i,r,a,l,d,g,b,w,N,z,R,H,q,X,ge,Ae){this.schedulers=g;const Ve=(0,Ai.on)(t,d,i),Le=w;N&&Il(Ve,d,z,H,q,X,R,ge),[this.firestore,this.persistenceEnabled$]=(0,Ai.cc)(`${Ve.name}.firestore`,"AngularFirestore",Ve.name,()=>{const Fe=d.runOutsideAngular(()=>Ve.firestore());if(a&&Fe.settings(a),Le&&Fe.useEmulator(...Le),r&&!kn(l)){const Be=()=>{try{return(0,y1.D)(Fe.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(mt){return typeof console<"u"&&console.warn(mt),ct(!1)}};return[Fe,d.runOutsideAngular(Be)]}return[Fe,ct(!1)]},[a,Le,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=mS(r,i),d=this.schedulers.ngZone.run(()=>a);return new fS(d,l,this)}collectionGroup(t,i){const r=i||(l=>l),a=this.firestore.collectionGroup(t);return new yL(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new dS(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ai.Dh),u.LFG(Ai.xv,8),u.LFG(hS,8),u.LFG(bL,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(n2.HU),u.LFG(pS,8),u.LFG(CL,8),u.LFG(o3,8),u.LFG(cp,8),u.LFG(lp,8),u.LFG(Al,8),u.LFG(up,8),u.LFG(fp,8),u.LFG(Yc,8),u.LFG(y9,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ML=(()=>{class n{constructor(){al.Z.registerVersion("angularfire",n2.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:hS,useValue:!0},{provide:pS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ad]}),n})(),Q7=(()=>{class n{constructor(t,i,r){this.router=t,this.afAuth=i,this.afs=r,this.authChange=new f1.x,this.isAuthenticated=!1,this.user$=this.afAuth.authState.pipe(z1(a=>a?this.afs.doc(`users/${a.uid}`).valueChanges():ct(null)))}googleSignin(){var t=this;return(0,ye.Z)(function*(){const i=new al.Z.auth.GoogleAuthProvider,r=yield t.afAuth.signInWithPopup(i);return t.updateUserData(r.user)})()}updateUserData(t){return this.afs.doc(`users/${t?.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}iniAuthListener(){this.afAuth.authState.subscribe(t=>{t?(this.onSuccessfulAuthentication(),this.updateUserData(t)):this.onUnsuccessfulAuthentication()})}registerUser(t){this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(i=>{console.log(i),this.onSuccessfulAuthentication()}).catch(i=>{console.log(i)})}login(t){this.afAuth.signInWithEmailAndPassword(t.email,t.password).then(i=>{console.log(i)}).catch(i=>{console.log(i)})}logout(){this.afAuth.signOut()}isAuth(){return this.isAuthenticated}onSuccessfulAuthentication(){this.isAuthenticated=!0,this.authChange.next(!0),this.router.navigate([""])}onUnsuccessfulAuthentication(){this.isAuthenticated=!1,this.authChange.next(!1),this.router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Tn),u.LFG(o3),u.LFG(Ad))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),gS=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isAuth()?this.authService.isAuth():(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Q7),u.LFG(Tn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var vS={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"]},_S={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},yS={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},bS={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]};let Vg=(()=>{class n{constructor(){this.faDumbbell=vS,this.faUser=yS,this.faGoogle=bS,this.faEdit=_S}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Id(n){return(Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function CS(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Mre(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){Mre(n,r,t[r])})}return n}function BC(n,e){return function Dre(n){if(Array.isArray(n))return n}(n)||function Sre(n,e){var t=[],i=!0,r=!1,a=void 0;try{for(var d,l=n[Symbol.iterator]();!(i=(d=l.next()).done)&&(t.push(d.value),!e||t.length!==e);i=!0);}catch(g){r=!0,a=g}finally{try{!i&&null!=l.return&&l.return()}finally{if(r)throw a}}return t}(n,e)||function Tre(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jC={},wS={};try{typeof window<"u"&&(jC=window),typeof document<"u"&&(wS=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var SS=(jC.navigator||{}).userAgent,NS=void 0===SS?"":SS,X7=jC,c2=wS,j3=!!c2.documentElement&&!!c2.head&&"function"==typeof c2.addEventListener&&"function"==typeof c2.createElement,G3=(~NS.indexOf("MSIE")||NS.indexOf("Trident/"),"___FONT_AWESOME___"),xS="svg-inline--fa",RS=[1,2,3,4,5,6,7,8,9,10],Hre=RS.concat([11,12,13,14,15,16,17,18,19,20]),t5={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},OS=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",t5.GROUP,t5.SWAP_OPACITY,t5.PRIMARY,t5.SECONDARY].concat(RS.map(function(n){return"".concat(n,"x")})).concat(Hre.map(function(n){return"w-".concat(n)})),X7.FontAwesomeConfig||{});c2&&"function"==typeof c2.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=BC(n,2),i=e[1],r=function jre(n){return""===n||"false"!==n&&("true"===n||n)}(function Ure(n){var e=c2.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(OS[i]=r)});var qC=p1({},{familyPrefix:"fa",replacementClass:xS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},OS);qC.autoReplaceSvg||(qC.observeMutations=!1);var Zt=p1({},qC);X7.FontAwesomeConfig=Zt;var $3=X7||{};$3[G3]||($3[G3]={}),$3[G3].styles||($3[G3].styles={}),$3[G3].hooks||($3[G3].hooks={}),$3[G3].shims||($3[G3].shims=[]);var Lo=$3[G3],VS=[];j3&&((c2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(c2.readyState)||c2.addEventListener("DOMContentLoaded",function n(){c2.removeEventListener("DOMContentLoaded",n),VS.map(function(e){return e()})}));var ZC,WC="pending",PS="settled",Fg="fulfilled",Bg="rejected",Zre=function(){},HS=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,Kre=typeof setImmediate>"u"?setTimeout:setImmediate,xd=[];function Yre(){for(var n=0;n<xd.length;n++)xd[n][0](xd[n][1]);xd=[],ZC=!1}function Ug(n,e){xd.push([n,e]),ZC||(ZC=!0,Kre(Yre,0))}function FS(n){var e=n.owner,t=e._state,i=e._data,r=n[t],a=n.then;if("function"==typeof r){t=Fg;try{i=r(i)}catch(l){zd(a,l)}}BS(a,i)||(t===Fg&&KC(a,i),t===Bg&&zd(a,i))}function BS(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===Id(e))){var i=e.then;if("function"==typeof i)return i.call(e,function(r){t||(t=!0,e===r?US(n,r):KC(n,r))},function(r){t||(t=!0,zd(n,r))}),!0}}catch(r){return t||zd(n,r),!0}return!1}function KC(n,e){(n===e||!BS(n,e))&&US(n,e)}function US(n,e){n._state===WC&&(n._state=PS,n._data=e,Ug(Qre,n))}function zd(n,e){n._state===WC&&(n._state=PS,n._data=e,Ug(Xre,n))}function jS(n){n._then=n._then.forEach(FS)}function Qre(n){n._state=Fg,jS(n)}function Xre(n){n._state=Bg,jS(n),!n._handled&&HS&&global.process.emit("unhandledRejection",n._data,n)}function ese(n){global.process.emit("rejectionHandled",n)}function $r(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof $r))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function Jre(n,e){function i(r){zd(e,r)}try{n(function t(r){KC(e,r)},i)}catch(r){i(r)}}(n,this)}$r.prototype={constructor:$r,_state:WC,_then:null,_data:void 0,_handled:!1,then:function(e,t){var i={owner:this,then:new this.constructor(Zre),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===Bg&&HS&&Ug(ese,this)),this._state===Fg||this._state===Bg?Ug(FS,i):this._then.push(i),i.then},catch:function(e){return this.then(null,e)}},$r.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new $r(function(e,t){var i=[],r=0;function a(g){return r++,function(b){i[g]=b,--r||e(i)}}for(var d,l=0;l<n.length;l++)(d=n[l])&&"function"==typeof d.then?d.then(a(l),t):i[l]=d;r||e(i)})},$r.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new $r(function(e,t){for(var r,i=0;i<n.length;i++)(r=n[i])&&"function"==typeof r.then?r.then(e,t):e(r)})},$r.resolve=function(n){return n&&"object"===Id(n)&&n.constructor===$r?n:new $r(function(e){e(n)})},$r.reject=function(n){return new $r(function(e,t){t(n)})};var q3={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ld(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function $S(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jg(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function JC(n){return n.size!==q3.size||n.x!==q3.x||n.y!==q3.y||n.rotate!==q3.rotate||n.flipX||n.flipY}function qS(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(a," ").concat(l," ").concat(d)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var QC={x:0,y:0,width:"100%",height:"100%"};function WS(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function ose(n){return"g"===n.tag?n.children:[n]}function XC(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,a=n.iconName,l=n.transform,d=n.symbol,g=n.title,b=n.maskId,w=n.titleId,N=n.extra,z=n.watchable,R=void 0!==z&&z,H=i.found?i:t,q=H.width,X=H.height,ge="fak"===r,Ae=ge?"":"fa-w-".concat(Math.ceil(q/X*16)),Ve=[Zt.replacementClass,a?"".concat(Zt.familyPrefix,"-").concat(a):"",Ae].filter(function(C1){return-1===N.classes.indexOf(C1)}).filter(function(C1){return""!==C1||!!C1}).concat(N.classes).join(" "),Le={children:[],attributes:p1({},N.attributes,{"data-prefix":r,"data-icon":a,class:Ve,role:N.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(q," ").concat(X)})},Fe=ge&&!~N.classes.indexOf("fa-fw")?{width:"".concat(q/X*16*.0625,"em")}:{};R&&(Le.attributes["data-fa-i2svg"]=""),g&&Le.children.push({tag:"title",attributes:{id:Le.attributes["aria-labelledby"]||"title-".concat(w||Ld())},children:[g]});var Be=p1({},Le,{prefix:r,iconName:a,main:t,mask:i,maskId:b,transform:l,symbol:d,styles:p1({},Fe,N.styles)}),mt=i.found&&t.found?function ase(n){var e=n.children,t=n.attributes,i=n.main,r=n.mask,a=n.maskId,g=i.icon,w=r.icon,N=qS({transform:n.transform,containerWidth:r.width,iconWidth:i.width}),z={tag:"rect",attributes:p1({},QC,{fill:"white"})},R=g.children?{children:g.children.map(WS)}:{},H={tag:"g",attributes:p1({},N.inner),children:[WS(p1({tag:g.tag,attributes:p1({},g.attributes,N.path)},R))]},q={tag:"g",attributes:p1({},N.outer),children:[H]},X="mask-".concat(a||Ld()),ge="clip-".concat(a||Ld()),Ae={tag:"mask",attributes:p1({},QC,{id:X,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[z,q]},Ve={tag:"defs",children:[{tag:"clipPath",attributes:{id:ge},children:ose(w)},Ae]};return e.push(Ve,{tag:"rect",attributes:p1({fill:"currentColor","clip-path":"url(#".concat(ge,")"),mask:"url(#".concat(X,")")},QC)}),{children:e,attributes:t}}(Be):function cse(n){var e=n.children,t=n.attributes,i=n.main,r=n.transform,l=jg(n.styles);if(l.length>0&&(t.style=l),JC(r)){var d=qS({transform:r,containerWidth:i.width,iconWidth:i.width});e.push({tag:"g",attributes:p1({},d.outer),children:[{tag:"g",attributes:p1({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:p1({},i.icon.attributes,d.path)}]}]})}else e.push(i.icon);return{children:e,attributes:t}}(Be),T1=mt.attributes;return Be.children=mt.children,Be.attributes=T1,d?function use(n){var t=n.iconName,i=n.children,a=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:p1({},n.attributes,{id:!0===a?"".concat(n.prefix,"-").concat(Zt.familyPrefix,"-").concat(t):a}),children:i}]}]}(Be):function lse(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,a=n.styles,l=n.transform;if(JC(l)&&t.found&&!i.found){var b={x:t.width/t.height/2,y:.5};r.style=jg(p1({},a,{"transform-origin":"".concat(b.x+l.x/16,"em ").concat(b.y+l.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(Be)}var nM=function(e,t,i,r){var g,b,w,a=Object.keys(e),l=a.length,d=void 0!==r?function(e,t){return function(i,r,a,l){return e.call(t,i,r,a,l)}}(t,r):t;for(void 0===i?(g=1,w=e[a[0]]):(g=0,w=i);g<l;g++)w=d(w,e[b=a[g]],b,e);return w};function QS(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.skipHooks,r=void 0!==i&&i,a=Object.keys(e).reduce(function(l,d){var g=e[d];return g.icon?l[g.iconName]=g.icon:l[d]=g,l},{});"function"!=typeof Lo.hooks.addPack||r?Lo.styles[n]=p1({},Lo.styles[n]||{},a):Lo.hooks.addPack(n,a),"fas"===n&&QS("fa",e)}var XS=Lo.styles,pse=Lo.shims,iN=function(){var e=function(r){return nM(XS,function(a,l,d){return a[d]=nM(l,r,{}),a},{})};e(function(i,r,a){return r[3]&&(i[r[3]]=a),i}),e(function(i,r,a){var l=r[2];return i[a]=a,l.forEach(function(d){i[d]=a}),i});var t="far"in XS;nM(pse,function(i,r){var l=r[1];return"far"===l&&!t&&(l="fas"),i[r[0]]={prefix:l,iconName:r[2]},i},{})};function sN(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function nu(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,a=void 0===r?[]:r;return"string"==typeof n?$S(n):"<".concat(e," ").concat(function rse(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat($S(n[t]),'" ')},"").trim()}(i),">").concat(a.map(nu).join(""),"</").concat(e,">")}iN();function Rd(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(Rd.prototype=Object.create(Error.prototype)).constructor=Rd;var qg={fill:"currentColor"},fN={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},oM=(p1({},qg,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),p1({},fN,{attributeName:"opacity"}));function cM(n){var e=n[0],t=n[1],a=BC(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(Zt.familyPrefix,"-").concat(t5.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Zt.familyPrefix,"-").concat(t5.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(Zt.familyPrefix,"-").concat(t5.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}p1({},qg,{cx:"256",cy:"364",r:"28"}),p1({},fN,{attributeName:"r",values:"28;14;28;28;14;28;"}),p1({},oM,{values:"1;0;1;1;0;1;"}),p1({},qg,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),p1({},oM,{values:"1;0;0;0;0;1;"}),p1({},qg,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),p1({},oM,{values:"0;0;1;1;0;0;"});var jse=function(){function n(){(function bre(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Cre(n,e,t){e&&CS(n.prototype,e),t&&CS(n,t)}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var l=r.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(d){t.definitions[d]=p1({},t.definitions[d]||{},l[d]),QS(d,l[d]),iN()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(a){var l=r[a],d=l.prefix,g=l.iconName,b=l.icon;t[d]||(t[d]={}),t[d][g]=b}),t}}]),n}();function Od(){Zt.autoAddCss&&!Zg&&(function GS(n){if(n&&j3){var e=c2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=c2.head.childNodes,i=null,r=t.length-1;r>-1;r--){var a=t[r],l=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(i=a)}return c2.head.insertBefore(e,i),n}}(function uM(){var n="fa",e=xS,t=Zt.familyPrefix,i=Zt.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||i!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");r=r.replace(a,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(d,".".concat(i))}return r}()),Zg=!0)}function Wg(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return nu(i)})}}),Object.defineProperty(n,"node",{get:function(){if(j3){var i=c2.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function fM(n){var e=n.prefix,t=void 0===e?"fa":e,i=n.iconName;if(i)return sN(gN.definitions,t,i)||sN(Lo.styles,t,i)}var gN=new jse,Zg=!1,vN_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(i,r){var a=r.toLowerCase().split("-"),l=a[0],d=a.slice(1).join("-");if(l&&"h"===d)return i.flipX=!0,i;if(l&&"v"===d)return i.flipY=!0,i;if(d=parseFloat(d),isNaN(d))return i;switch(l){case"grow":i.size=i.size+d;break;case"shrink":i.size=i.size-d;break;case"left":i.x=i.x-d;break;case"right":i.x=i.x+d;break;case"up":i.y=i.y-d;break;case"down":i.y=i.y+d;break;case"rotate":i.rotate=i.rotate+d}return i},t):t}(e)},_N=function Gse(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:fM(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:fM(r||{})),n(i,p1({},t,{mask:r}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,i=void 0===t?q3:t,r=e.symbol,a=void 0!==r&&r,l=e.mask,d=void 0===l?null:l,g=e.maskId,b=void 0===g?null:g,w=e.title,N=void 0===w?null:w,z=e.titleId,R=void 0===z?null:z,H=e.classes,q=void 0===H?[]:H,X=e.attributes,ge=void 0===X?{}:X,Ae=e.styles,Ve=void 0===Ae?{}:Ae;if(n){var Le=n.prefix,Fe=n.iconName,Be=n.icon;return Wg(p1({type:"icon"},n),function(){return Od(),Zt.autoA11y&&(N?ge["aria-labelledby"]="".concat(Zt.replacementClass,"-title-").concat(R||Ld()):(ge["aria-hidden"]="true",ge.focusable="false")),XC({icons:{main:cM(Be),mask:d?cM(d.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Le,iconName:Fe,transform:p1({},q3,i),symbol:a,title:N,maskId:b,titleId:R,extra:{attributes:ge,styles:Ve,classes:q}})})}});const Qse=["*"],toe=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let roe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),soe=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t)i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(a=>i[a]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ooe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[u.TTD]}),n})(),aoe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[u.TTD],ngContentSelectors:Qse,decls:1,vars:0,template:function(t,i){1&t&&(u.F$t(),u.Hsn(0))},encapsulation:2}),n})(),Kg=(()=>{class n{constructor(t,i,r,a,l){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=a,this.classes=[],null!=l&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=this.icon??this.config.fallbackIcon,t){const r=this.findIconDefinition(i);if(null!=r){const a=this.buildParams();this.renderIcon(r,a)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?vN_transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...toe(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=_N(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(oo),u.Y36(roe),u.Y36(soe),u.Y36(ooe,8),u.Y36(aoe,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(u.Ikx("innerHTML",i.renderedIconHTML,u.oJD),u.uIk("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[u.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),coe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),yN=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),n5=(()=>{class n extends yN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const r4=new u.OlP("NgValueAccessor"),foe={provide:r4,useExisting:(0,u.Gpc)(()=>Vd),multi:!0},hoe=new u.OlP("CompositionEventMode");let Vd=(()=>{class n extends yN{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function doe(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(hoe,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([foe]),u.qOj]}),n})();function Q0(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const di=new u.OlP("NgValidators"),X0=new u.OlP("NgAsyncValidators");function DN(n){return Q0(n.value)?{required:!0}:null}function Yg(n){return null}function IN(n){return null!=n}function xN(n){return(0,u.QGY)(n)?(0,y1.D)(n):n}function zN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function LN(n,e){return e.map(t=>t(n))}function kN(n){return n.map(e=>function goe(n){return!n.validate}(e)?e:t=>e.validate(t))}function dM(n){return null!=n?function RN(n){if(!n)return null;const e=n.filter(IN);return 0==e.length?null:function(t){return zN(LN(t,e))}}(kN(n)):null}function hM(n){return null!=n?function ON(n){if(!n)return null;const e=n.filter(IN);return 0==e.length?null:function(t){return function loe(...n){const e=(0,v2.jO)(n),{args:t,keys:i}=co(n),r=new H1.y(a=>{const{length:l}=t;if(!l)return void a.complete();const d=new Array(l);let g=l,b=l;for(let w=0;w<l;w++){let N=!1;(0,Xn.Xf)(t[w]).subscribe((0,x1.x)(a,z=>{N||(N=!0,b--),d[w]=z},()=>g--,void 0,()=>{(!g||!N)&&(b||a.next(i?fs(i,d):d),a.complete())}))}});return e?r.pipe(us(e)):r}(LN(t,e).map(xN)).pipe((0,Qe.U)(zN))}}(kN(n)):null}function VN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pM(n){return n?Array.isArray(n)?n:[n]:[]}function Jg(n,e){return Array.isArray(n)?n.includes(e):n===e}function FN(n,e){const t=pM(e);return pM(n).forEach(r=>{Jg(t,r)||t.push(r)}),t}function BN(n,e){return pM(e).filter(t=>!Jg(n,t))}class UN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pi extends UN{get formDirective(){return null}get path(){return null}}class ec extends UN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mM=(()=>{class n extends jN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ec,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),gM=(()=>{class n extends jN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const Pd="VALID",Xg="INVALID",iu="PENDING",Hd="DISABLED";function bM(n){return(ev(n)?n.validators:n)||null}function $N(n){return Array.isArray(n)?dM(n):n||null}function CM(n,e){return(ev(e)?e.asyncValidators:n)||null}function qN(n){return Array.isArray(n)?hM(n):n||null}function ev(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=$N(this._rawValidators),this._composedAsyncValidatorFn=qN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pd}get invalid(){return this.status===Xg}get pending(){return this.status==iu}get disabled(){return this.status===Hd}get enabled(){return this.status!==Hd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=$N(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=qN(e)}addValidators(e){this.setValidators(FN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BN(e,this._rawAsyncValidators))}hasValidator(e){return Jg(this._rawValidators,e)}hasAsyncValidator(e){return Jg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pd,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pd||this.status===iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hd:Pd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=iu,this._hasOwnPendingAsyncValidator=!0;const t=xN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Hd:this.errors?Xg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iu)?iu:this._anyControlsHaveStatus(Xg)?Xg:Pd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ev(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class MM extends KN{constructor(e,t,i){super(bM(t),CM(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ZN(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function WN(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Fd(n,e){wM(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Eoe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YN(n,e)})}(n,e),function Noe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Soe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Doe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function iv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wM(n,e){const t=function PN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(VN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function HN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(VN(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();iv(e._rawValidators,r),iv(e._rawAsyncValidators,r)}function YN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const zoe={provide:Pi,useExisting:(0,u.Gpc)(()=>Ud)},Bd=(()=>Promise.resolve())();let Ud=(()=>{class n extends Pi{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new MM({},dM(t),hM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bd.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Fd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bd.then(()=>{const i=this._findContainer(t.path),r=new MM({});(function JN(n,e){wM(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Bd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function XN(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(di,10),u.Y36(X0,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([zoe]),u.qOj]}),n})();function eT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nT=class extends KN{constructor(e=null,t,i){super(bM(t),CM(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ev(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tT(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Roe={provide:ec,useExisting:(0,u.Gpc)(()=>sv)},sT=(()=>Promise.resolve())();let sv=(()=>{class n extends ec{constructor(t,i,r,a,l){super(),this._changeDetectorRef=l,this.control=new nT,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function EM(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Vd?t=a:function Ioe(n){return Object.getPrototypeOf(n.constructor)===n5}(a)?i=a:r=a}),r||i||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function DM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){sT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,u.D6c)(i);sT.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function tv(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Pi,9),u.Y36(di,10),u.Y36(X0,10),u.Y36(r4,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Roe]),u.qOj,u.TTD]}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),aT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let i5=(()=>{class n{constructor(){this._validator=Yg}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Yg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const Xoe={provide:di,useExisting:(0,u.Gpc)(()=>jd),multi:!0};let jd=(()=>{class n extends i5{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>DN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Xoe]),u.qOj]}),n})();const nae={provide:di,useExisting:(0,u.Gpc)(()=>ov),multi:!0};let ov=(()=>{class n extends i5{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function gT(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function NN(n){return e=>Q0(e.value)||!function CN(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([nae]),u.qOj]}),n})(),sae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[aT]}),n})(),DT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sae]}),n})(),aae=(()=>{class n{constructor(t,i){this.authService=t,this.icon=i}ngOnInit(){}onSubmit(t){this.authService.login({email:t.value.email,password:t.value.password})}onOathSignIn(){this.authService.googleSignin()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Q7),u.Y36(Vg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:2,consts:[[3,"ngSubmit"],["f","ngForm"],["type","email","placeholder","Email","ngModel","","name","email","required",""],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6"],["pwInput","ngModel"],["type","submit",3,"disabled"],["oathForm","ngForm"],["typ","submit"],[3,"icon"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"form",0,1),u.NdJ("ngSubmit",function(){u.CHM(r);const l=u.MAs(1);return u.KtG(i.onSubmit(l))}),u.TgZ(2,"h1"),u._uU(3,"Welcome back fellow adult!"),u.qZA(),u._UZ(4,"input",2,3)(6,"input",4,5),u.TgZ(8,"button",6),u._uU(9,"Login"),u.qZA()(),u.TgZ(10,"form",0,7),u.NdJ("ngSubmit",function(){return i.onOathSignIn()}),u.TgZ(12,"div")(13,"button",8),u._UZ(14,"fa-icon",9),u._uU(15," Continue with Google "),u.qZA()()()}if(2&t){const r=u.MAs(1);u.xp6(8),u.Q6J("disabled",!r.valid),u.xp6(6),u.Q6J("icon",i.icon.faGoogle)}},dependencies:[Kg,SM,Vd,mM,gM,jd,ov,sv,Ud]}),n})(),cae=(()=>{class n{constructor(t,i){this.authService=t,this.icon=i}ngOnInit(){}onSubmit(t){this.authService.registerUser({email:t.value.email,password:t.value.password})}onOathSignIn(){this.authService.googleSignin()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Q7),u.Y36(Vg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:16,vars:2,consts:[[3,"ngSubmit"],["f","ngForm"],["type","email","placeholder","Email","ngModel","","name","email","required",""],["emailInput","ngModel"],["type","password","placeholder","Password","ngModel","","name","password","required","","minlength","6"],["pwInput","ngModel"],["type","submit",3,"disabled"],["oathForm","ngForm"],["typ","submit"],[3,"icon"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"form",0,1),u.NdJ("ngSubmit",function(){u.CHM(r);const l=u.MAs(1);return u.KtG(i.onSubmit(l))}),u.TgZ(2,"h1"),u._uU(3,"Sign Up to Start Adulting!"),u.qZA(),u._UZ(4,"input",2,3)(6,"input",4,5),u.TgZ(8,"button",6),u._uU(9,"Sign Up"),u.qZA()(),u.TgZ(10,"form",0,7),u.NdJ("ngSubmit",function(){return i.onOathSignIn()}),u.TgZ(12,"div")(13,"button",8),u._UZ(14,"fa-icon",9),u._uU(15," Sign up with Google "),u.qZA()()()}if(2&t){const r=u.MAs(1);u.xp6(8),u.Q6J("disabled",!r.valid),u.xp6(6),u.Q6J("icon",i.icon.faGoogle)}},dependencies:[Kg,SM,Vd,mM,gM,jd,ov,sv,Ud]}),n})(),ET=(()=>{class n{constructor(t){this.firestore=t,this.defaultExercises=[],this.exercisesChanged=new f1.x}fetchDefaultExercises(){this.firestore.collection("defaultExercises").snapshotChanges().pipe((0,Qe.U)(t=>t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(t=>{this.defaultExercises=t,this.exercisesChanged.next([...this.defaultExercises])})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ad))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),lae=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ellipsis"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"div")(2,"div")(3,"div")(4,"div"),u.qZA())},styles:[".lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:black;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}"]}),n})();function uae(n,e){1&n&&(u.TgZ(0,"div",3),u.Hsn(1),u.qZA())}function fae(n,e){1&n&&(u.TgZ(0,"div",4),u._UZ(1,"app-loading-spinner"),u.qZA())}const dae=["*"];let hae=(()=>{class n{constructor(){this.contentLoaded=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-content-wrapper"]],inputs:{contentLoaded:"contentLoaded"},ngContentSelectors:dae,decls:3,vars:2,consts:[[1,"content-wrapper"],["class","content-container",4,"ngIf"],["class","loading-spinner-container",4,"ngIf"],[1,"content-container"],[1,"loading-spinner-container"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0),u.YNc(1,uae,2,0,"div",1),u.YNc(2,fae,2,0,"div",2),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",i.contentLoaded),u.xp6(1),u.Q6J("ngIf",!i.contentLoaded))},dependencies:[V1,lae],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;width:100vw}.content-container[_ngcontent-%COMP%]{margin-top:10px}.loading-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:60vh;flex-wrap:wrap;padding-left:10px;padding-right:10px;justify-content:center}']}),n})(),pae=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-exercise-tag"]],inputs:{tag:"tag"},decls:2,vars:1,consts:[[1,"tag"]],template:function(t,i){1&t&&(u.TgZ(0,"span",0),u._uU(1),u.qZA()),2&t&&(u.xp6(1),u.Oqu(i.tag))},styles:[".tag[_ngcontent-%COMP%]{border:2px solid black}"]}),n})();function mae(n,e){1&n&&u._UZ(0,"app-exercise-tag",4),2&n&&u.Q6J("tag",e.$implicit)}let gae=(()=>{class n{constructor(t){this.icon=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Vg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-exercise-library-item"]],inputs:{exercise:"exercise"},decls:6,vars:3,consts:[[1,"exercise-item-container"],[1,"tag-container"],[3,"tag",4,"ngFor","ngForOf"],[3,"icon"],[3,"tag"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"span"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,mae,1,1,"app-exercise-tag",2),u.qZA(),u._UZ(5,"fa-icon",3),u.qZA()),2&t&&(u.xp6(2),u.Oqu(i.exercise.name),u.xp6(2),u.Q6J("ngForOf",i.exercise.defaultTags),u.xp6(1),u.Q6J("icon",i.icon.faEdit))},dependencies:[x2,Kg,pae],styles:[".exercise-item-container[_ngcontent-%COMP%]{border:2px solid grey;width:90%;margin-left:auto;margin-right:auto;display:flex;gap:20%;padding:10px}.tag-container[_ngcontent-%COMP%]{display:flex;gap:5px}fa-icon[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer}"]}),n})();function vae(n,e){1&n&&u._UZ(0,"app-exercise-library-item",3),2&n&&u.Q6J("exercise",e.$implicit)}let _ae=(()=>{class n{constructor(t){this.exercisesService=t,this.defaultExercises=[],this.exercisesLoaded=!1}ngOnInit(){this.exercisesSubscription=this.exercisesService.exercisesChanged.subscribe(t=>{this.defaultExercises=t,this.exercisesLoaded=!0}),this.exercisesService.fetchDefaultExercises()}ngOnDestroy(){this.exercisesSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ET))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-exercise-library"]],decls:3,vars:2,consts:[[3,"contentLoaded"],[1,"exercises-container"],[3,"exercise",4,"ngFor","ngForOf"],[3,"exercise"]],template:function(t,i){1&t&&(u.TgZ(0,"app-content-wrapper",0)(1,"div",1),u.YNc(2,vae,1,1,"app-exercise-library-item",2),u.qZA()()),2&t&&(u.Q6J("contentLoaded",i.exercisesLoaded),u.xp6(2),u.Q6J("ngForOf",i.defaultExercises))},dependencies:[x2,hae,gae],styles:[".exercises-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;flex-direction:column}app-exercise-library-item[_ngcontent-%COMP%]{width:100%}"]}),n})();var yae=k(4408);const Gd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Gd;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new K2.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Gd;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Gd;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Cae=k(7565);const wae=new class Mae extends Cae.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class bae extends yae.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Gd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(Gd.cancelAnimationFrame(t),e._scheduled=void 0)}});var av=k(5032);function l2(n){return(0,gn.e)((e,t)=>{(0,Xn.Xf)(n).subscribe((0,x1.x)(t,()=>t.complete(),av.Z)),!t.closed&&e.subscribe(t)})}const Dae=["container"],zM=new u.OlP("LottieOptions");let LM=(()=>{class n{constructor(t,i){this.ngZone=t,this.options=i,this.player$=function Eae(n,e){const t=n();return(t instanceof Promise?(0,y1.D)(t).pipe((0,Qe.U)(r=>r.default||r)):ct(t)).pipe((0,Ge.b)(r=>r.useWebWorker(e)),cl({bufferSize:1,refCount:!0}))}(this.options.player,this.options.useWebWorker).pipe((0,V6.Q)(wae))}loadAnimation(t){return this.player$.pipe((0,Qe.U)(i=>this.createAnimationItem(i,t)))}resolveOptions(t,i){return Object.assign({container:i,renderer:"svg",loop:!0,autoplay:!0},t)}createAnimationItem(t,i){return this.ngZone.runOutsideAngular(()=>t.loadAnimation(i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(zM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sae=(()=>{class n{constructor(t,i,r){this.ngZone=t,this.platformId=i,this.animationLoader=r,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.destroy$=new f1.x,this.loadAnimation$=new f1.x,this.animationItem$=new a1(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroy$.next(),this.destroyAnimation()}loadAnimation(t,i){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([t,i]))}getAnimationItem(){return R2(()=>this.animationItem$).pipe(E(t=>null!==t))}awaitAnimationItemAndStartListening(t){return this.getAnimationItem().pipe(z1(i=>new H1.y(r=>{this.ngZone.runOutsideAngular(()=>{i.addEventListener(t,a=>{this.ngZone.runOutsideAngular(()=>{r.next(a)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe(E(([i])=>function jo(n){return n===yi}(this.platformId)&&void 0!==i.options)).pipe(z1(([i,r])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(i.options.currentValue,r)))),l2(this.destroy$)).subscribe(i=>{this.ngZone.run(()=>this.animationItem$.next(i))})}destroyAnimation(){const t=this.animationItem$.getValue();null!==t&&(t.destroy(),this.animationItem$.next(null))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.Lbi),u.Y36(LM))},n.\u0275dir=u.lG2({type:n,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),n})(),ST=(()=>{class n extends Sae{constructor(t,i,r){super(t,i,r),this.width=null,this.height=null,this.container=null}ngOnChanges(t){super.loadAnimation(t,this.container.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.Lbi),u.Y36(LM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-lottie"]],viewQuery:function(t,i){if(1&t&&u.Gf(Dae,7),2&t){let r;u.iGM(r=u.CRH())&&(i.container=r.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[u.qOj,u.TTD,u.jDz],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(t,i){1&t&&u._UZ(0,"div",0,1),2&t&&(u.Udp("width",i.width||"100%")("height",i.height||"100%"),u.Q6J("ngStyle",i.styles)("ngClass",i.containerClass))},dependencies:[pn,_1,X3],encapsulation:2,changeDetection:0}),n})(),Nae=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:zM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ST]}),n})(),Aae=(()=>{class n{constructor(){this.animationTypes=new Map([["kidAgainAnimation","https://assets1.lottiefiles.com/private_files/lf30_x8jhuhr4.json"],["fitnessAnimation","https://assets2.lottiefiles.com/packages/lf20_ju61m9x9.json"],["timeManagementAnimation","https://assets1.lottiefiles.com/packages/lf20_i7ooqm2q.json"],["financeAnimation","https://assets2.lottiefiles.com/packages/lf20_qxdztkhq.json"]]),this.animationSize="medium",this.animationCreated=new u.vpe,this.animationPath=""}ngOnInit(){this.animationPath=this.getAnimationPath(this.animationKey),this.options={path:this.animationPath}}getAnimationPath(t){const i=this.animationTypes.get(t);if(null!=i)return i;throw new Error(`The animation ${t} does not exist \u{1f62d}`)}onAnimate(t){this.animationCreated.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-animation"]],inputs:{animationKey:"animationKey",animationSize:"animationSize"},outputs:{animationCreated:"animationCreated"},decls:2,vars:1,consts:[[1,"lottie-animation","mt-10"],[3,"options","animationCreated"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"ng-lottie",1),u.NdJ("animationCreated",function(a){return i.onAnimate(a)})("animationCreated",function(a){return i.onAnimate(a)}),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("options",i.options))},dependencies:[ST],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;flex-flow:column nowrap;align-items:center;justify-content:center;position:relative}"]}),n})();const Iae=[{path:"",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home-page"]],decls:29,vars:0,consts:[[1,"home-page-section"],[1,"home-page-section-title"],["animationKey","kidAgainAnimation"],[1,"login-or-sign-up-buttons-container"],["type","button",1,"btn","btn-primary"],["animationKey","fitnessAnimation"],["animationKey","timeManagementAnimation"],["animationKey","financeAnimation"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1"),u._uU(3,"An app to make adulting easier"),u.qZA(),u.TgZ(4,"h1"),u._uU(5,"So you can be a kid again"),u.qZA()(),u._UZ(6,"app-animation",2),u.TgZ(7,"div",3)(8,"button",4),u._uU(9,"Login"),u.qZA(),u.TgZ(10,"button",4),u._uU(11,"Sign Up"),u.qZA()()(),u.TgZ(12,"div",0)(13,"div",1)(14,"h1"),u._uU(15,"Reach your fitness goals"),u.qZA()(),u._UZ(16,"app-animation",5),u.qZA(),u.TgZ(17,"div",0)(18,"div",1)(19,"h1"),u._uU(20,"Impress your mom"),u.qZA(),u.TgZ(21,"h1"),u._uU(22,"with your time management skills"),u.qZA()(),u._UZ(23,"app-animation",6),u.qZA(),u.TgZ(24,"div",0)(25,"div",1)(26,"h1"),u._uU(27,"Be your financial best"),u.qZA()(),u._UZ(28,"app-animation",7),u.qZA())},dependencies:[Aae],styles:[".home-page-section-title[_ngcontent-%COMP%]{margin:auto;width:90%}app-animation[_ngcontent-%COMP%]{max-width:500px}.login-or-sign-up-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),n})()},{path:"login",component:aae},{path:"signup",component:cae},{path:"exercise-library",component:_ae,canActivate:[gS]}];let xae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[gS],imports:[qu.forRoot(Iae),qu]}),n})();const zae=[[["","pageHeader",""]],[["","pageContent",""]],[["","pageFooter",""]]],Lae=["[pageHeader]","[pageContent]","[pageFooter]"];let kae=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-page-wrapper"]],ngContentSelectors:Lae,decls:7,vars:0,consts:[[1,"page-container"],[1,"adultery-page-header"],[1,"adultery-page-content"],[1,"adultery-page-footer"]],template:function(t,i){1&t&&(u.F$t(zae),u.TgZ(0,"div",0)(1,"div",1),u.Hsn(2),u.qZA(),u.TgZ(3,"div",2),u.Hsn(4,1),u.qZA(),u.TgZ(5,"div",3),u.Hsn(6,2),u.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.adultery-page-content[_ngcontent-%COMP%]{overflow:scroll;margin-top:90px;display:flex;justify-content:center}.adultery-page-header[_ngcontent-%COMP%]{min-height:90px}.adultery-page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:9999}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;overflow:hidden}']}),n})();var Rae=k(1144);const Oae=["addListener","removeListener"],Vae=["addEventListener","removeEventListener"],Pae=["on","off"];function Hi(n,e,t,i){if((0,_2.m)(t)&&(i=t,t=void 0),i)return Hi(n,e,t).pipe(us(i));const[r,a]=function Bae(n){return(0,_2.m)(n.addEventListener)&&(0,_2.m)(n.removeEventListener)}(n)?Vae.map(l=>d=>n[l](e,d,t)):function Hae(n){return(0,_2.m)(n.addListener)&&(0,_2.m)(n.removeListener)}(n)?Oae.map(NT(n,e)):function Fae(n){return(0,_2.m)(n.on)&&(0,_2.m)(n.off)}(n)?Pae.map(NT(n,e)):[];if(!r&&(0,Rae.z)(n))return(0,S.z)(l=>Hi(l,e,t))((0,Xn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new H1.y(l=>{const d=(...g)=>l.next(1<g.length?g:g[0]);return r(d),()=>a(d)})}function NT(n,e){return t=>i=>n[t](e,i)}var Uae=k(3532);function kM(n=0,e,t=Jc.P){let i=-1;return null!=e&&((0,Uae.K)(e)?t=e:i=e),new H1.y(r=>{let a=function jae(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},a)})}const{isArray:Gae}=Array;function TT(n){return 1===n.length&&Gae(n[0])?n[0]:n}function AT(...n){return 1===(n=TT(n)).length?(0,Xn.Xf)(n[0]):new H1.y(function $ae(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Xn.Xf)(n[i]).subscribe((0,x1.x)(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))}function cv(...n){const e=(0,v2.jO)(n),t=TT(n);return t.length?new H1.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let l=0;!i.closed&&l<t.length;l++)(0,Xn.Xf)(t[l]).subscribe((0,x1.x)(i,d=>{if(r[l].push(d),r.every(g=>g.length)){const g=r.map(b=>b.shift());i.next(e?e(...g):g),r.some((b,w)=>!b.length&&a[w])&&i.complete()}},()=>{a[l]=!0,!r[l].length&&i.complete()}));return()=>{r=a=null}}):Z2.E}function RM(...n){const e=(0,v2.jO)(n);return(0,gn.e)((t,i)=>{const r=n.length,a=new Array(r);let l=n.map(()=>!1),d=!1;for(let g=0;g<r;g++)(0,Xn.Xf)(n[g]).subscribe((0,x1.x)(i,b=>{a[g]=b,!d&&!l[g]&&(l[g]=!0,(d=l.every(Ei.y))&&(l=null))},av.Z));t.subscribe((0,x1.x)(i,g=>{if(d){const b=[g,...a];i.next(e?e(...b):b)}}))})}function xT(n,e){return e?t=>ai(e.pipe(Yt(1),function Wae(){return(0,gn.e)((n,e)=>{n.subscribe((0,x1.x)(e,av.Z))})}()),t.pipe(xT(n))):(0,S.z)((t,i)=>n(t,i).pipe(Yt(1),xr(t)))}new H1.y(av.Z);var Yae={left:"right",right:"left",bottom:"top",top:"bottom"};function lv(n){return n.replace(/left|right|bottom|top/g,function(e){return Yae[e]})}function s4(n){return n.split("-")[0]}var Jae={start:"end",end:"start"};function zT(n){return n.replace(/start|end/g,function(e){return Jae[e]})}var qr="top",Ro="bottom",Oo="right",Wr="left",OM="auto",$d=[qr,Ro,Oo,Wr],ru="start",qd="end",LT="viewport",Wd="popper",kT=$d.reduce(function(n,e){return n.concat([e+"-"+ru,e+"-"+qd])},[]),RT=[].concat($d,[OM]).reduce(function(n,e){return n.concat([e,e+"-"+ru,e+"-"+qd])},[]),l4e=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Rs(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function r5(n){return n instanceof Rs(n).Element||n instanceof Element}function Os(n){return n instanceof Rs(n).HTMLElement||n instanceof HTMLElement}function VM(n){return!(typeof ShadowRoot>"u")&&(n instanceof Rs(n).ShadowRoot||n instanceof ShadowRoot)}function tc(n){return((r5(n)?n.ownerDocument:n.document)||window.document).documentElement}var s5=Math.max,uv=Math.min,su=Math.round;function PM(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function OT(){return!/^((?!chrome|android).)*safari/i.test(PM())}function ou(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=n.getBoundingClientRect(),r=1,a=1;e&&Os(n)&&(r=n.offsetWidth>0&&su(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&su(i.height)/n.offsetHeight||1);var d=(r5(n)?Rs(n):window).visualViewport,g=!OT()&&t,b=(i.left+(g&&d?d.offsetLeft:0))/r,w=(i.top+(g&&d?d.offsetTop:0))/a,N=i.width/r,z=i.height/a;return{width:N,height:z,top:w,right:b+N,bottom:w+z,left:b,x:b,y:w}}function HM(n){var e=Rs(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function FM(n){return ou(tc(n)).left+HM(n).scrollLeft}function W3(n){return Rs(n).getComputedStyle(n)}function o4(n){return n?(n.nodeName||"").toLowerCase():null}function fv(n){return"html"===o4(n)?n:n.assignedSlot||n.parentNode||(VM(n)?n.host:null)||tc(n)}function BM(n){var e=W3(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function VT(n){return["html","body","#document"].indexOf(o4(n))>=0?n.ownerDocument.body:Os(n)&&BM(n)?n:VT(fv(n))}function Zd(n,e){var t;void 0===e&&(e=[]);var i=VT(n),r=i===(null==(t=n.ownerDocument)?void 0:t.body),a=Rs(i),l=r?[a].concat(a.visualViewport||[],BM(i)?i:[]):i,d=e.concat(l);return r?d:d.concat(Zd(fv(l)))}function d4e(n){return["table","td","th"].indexOf(o4(n))>=0}function PT(n){return Os(n)&&"fixed"!==W3(n).position?n.offsetParent:null}function Kd(n){for(var e=Rs(n),t=PT(n);t&&d4e(t)&&"static"===W3(t).position;)t=PT(t);return t&&("html"===o4(t)||"body"===o4(t)&&"static"===W3(t).position)?e:t||function h4e(n){var e=/firefox/i.test(PM());if(/Trident/i.test(PM())&&Os(n)&&"fixed"===W3(n).position)return null;var r=fv(n);for(VM(r)&&(r=r.host);Os(r)&&["html","body"].indexOf(o4(r))<0;){var a=W3(r);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||e&&"filter"===a.willChange||e&&a.filter&&"none"!==a.filter)return r;r=r.parentNode}return null}(n)||e}function HT(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&VM(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function UM(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function FT(n,e,t){return e===LT?UM(function u4e(n,e){var t=Rs(n),i=tc(n),r=t.visualViewport,a=i.clientWidth,l=i.clientHeight,d=0,g=0;if(r){a=r.width,l=r.height;var b=OT();(b||!b&&"fixed"===e)&&(d=r.offsetLeft,g=r.offsetTop)}return{width:a,height:l,x:d+FM(n),y:g}}(n,t)):r5(e)?function p4e(n,e){var t=ou(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):UM(function f4e(n){var e,t=tc(n),i=HM(n),r=null==(e=n.ownerDocument)?void 0:e.body,a=s5(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=s5(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),d=-i.scrollLeft+FM(n),g=-i.scrollTop;return"rtl"===W3(r||t).direction&&(d+=s5(t.clientWidth,r?r.clientWidth:0)-a),{width:a,height:l,x:d,y:g}}(tc(n)))}function au(n){return n.split("-")[1]}function jM(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function BT(n){var g,e=n.reference,t=n.element,i=n.placement,r=i?s4(i):null,a=i?au(i):null,l=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2;switch(r){case qr:g={x:l,y:e.y-t.height};break;case Ro:g={x:l,y:e.y+e.height};break;case Oo:g={x:e.x+e.width,y:d};break;case Wr:g={x:e.x-t.width,y:d};break;default:g={x:e.x,y:e.y}}var b=r?jM(r):null;if(null!=b){var w="y"===b?"height":"width";switch(a){case ru:g[b]=g[b]-(e[w]/2-t[w]/2);break;case qd:g[b]=g[b]+(e[w]/2-t[w]/2)}}return g}function jT(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function GT(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}function GM(n,e){void 0===e&&(e={});var i=e.placement,r=void 0===i?n.placement:i,a=e.strategy,l=void 0===a?n.strategy:a,d=e.boundary,g=void 0===d?"clippingParents":d,b=e.rootBoundary,w=void 0===b?LT:b,N=e.elementContext,z=void 0===N?Wd:N,R=e.altBoundary,H=void 0!==R&&R,q=e.padding,X=void 0===q?0:q,ge=jT("number"!=typeof X?X:GT(X,$d)),Ve=n.rects.popper,Le=n.elements[H?z===Wd?"reference":Wd:z],Fe=function g4e(n,e,t,i){var r="clippingParents"===e?function m4e(n){var e=Zd(fv(n)),i=["absolute","fixed"].indexOf(W3(n).position)>=0&&Os(n)?Kd(n):n;return r5(i)?e.filter(function(r){return r5(r)&&HT(r,i)&&"body"!==o4(r)}):[]}(n):[].concat(e),a=[].concat(r,[t]),d=a.reduce(function(g,b){var w=FT(n,b,i);return g.top=s5(w.top,g.top),g.right=uv(w.right,g.right),g.bottom=uv(w.bottom,g.bottom),g.left=s5(w.left,g.left),g},FT(n,a[0],i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}(r5(Le)?Le:Le.contextElement||tc(n.elements.popper),g,w,l),Be=ou(n.elements.reference),mt=BT({reference:Be,element:Ve,strategy:"absolute",placement:r}),jt=UM(Object.assign({},Ve,mt)),T1=z===Wd?jt:Be,C1={top:Fe.top-T1.top+ge.top,bottom:T1.bottom-Fe.bottom+ge.bottom,left:Fe.left-T1.left+ge.left,right:T1.right-Fe.right+ge.right},wn=n.modifiersData.offset;if(z===Wd&&wn){var ei=wn[r];Object.keys(C1).forEach(function(In){var l4=[Oo,Ro].indexOf(In)>=0?1:-1,u4=[qr,Ro].indexOf(In)>=0?"y":"x";C1[In]+=ei[u4]*l4})}return C1}const b4e={name:"flip",enabled:!0,phase:"main",fn:function y4e(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,a=void 0===r||r,l=t.altAxis,d=void 0===l||l,g=t.fallbackPlacements,b=t.padding,w=t.boundary,N=t.rootBoundary,z=t.altBoundary,R=t.flipVariations,H=void 0===R||R,q=t.allowedAutoPlacements,X=e.options.placement,ge=s4(X),Ve=g||(ge!==X&&H?function _4e(n){if(s4(n)===OM)return[];var e=lv(n);return[zT(n),e,zT(e)]}(X):[lv(X)]),Le=[X].concat(Ve).reduce(function(k1,Po){return k1.concat(s4(Po)===OM?function v4e(n,e){void 0===e&&(e={});var r=e.boundary,a=e.rootBoundary,l=e.padding,d=e.flipVariations,g=e.allowedAutoPlacements,b=void 0===g?RT:g,w=au(e.placement),N=w?d?kT:kT.filter(function(H){return au(H)===w}):$d,z=N.filter(function(H){return b.indexOf(H)>=0});0===z.length&&(z=N);var R=z.reduce(function(H,q){return H[q]=GM(n,{placement:q,boundary:r,rootBoundary:a,padding:l})[s4(q)],H},{});return Object.keys(R).sort(function(H,q){return R[H]-R[q]})}(e,{placement:Po,boundary:w,rootBoundary:N,padding:b,flipVariations:H,allowedAutoPlacements:q}):Po)},[]),Fe=e.rects.reference,Be=e.rects.popper,mt=new Map,jt=!0,T1=Le[0],C1=0;C1<Le.length;C1++){var wn=Le[C1],ei=s4(wn),In=au(wn)===ru,l4=[qr,Ro].indexOf(ei)>=0,u4=l4?"width":"height",nt=GM(e,{placement:wn,boundary:w,rootBoundary:N,altBoundary:z,padding:b}),gt=l4?In?Oo:Wr:In?Ro:qr;Fe[u4]>Be[u4]&&(gt=lv(gt));var It=lv(gt),Qt=[];if(a&&Qt.push(nt[ei]<=0),d&&Qt.push(nt[gt]<=0,nt[It]<=0),Qt.every(function(k1){return k1})){T1=wn,jt=!1;break}mt.set(wn,Qt)}if(jt)for(var ur=function(Po){var p5=Le.find(function(Zn){var Fi=mt.get(Zn);if(Fi)return Fi.slice(0,Po).every(function(pi){return pi})});if(p5)return T1=p5,"break"},N2=H?3:1;N2>0&&"break"!==ur(N2);N2--);e.placement!==T1&&(e.modifiersData[i]._skip=!0,e.placement=T1,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Yd(n,e,t){return s5(n,uv(e,t))}function $M(n){var e=ou(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}const D4e={name:"preventOverflow",enabled:!0,phase:"main",fn:function w4e(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,a=void 0===r||r,l=t.altAxis,d=void 0!==l&&l,z=t.tether,R=void 0===z||z,H=t.tetherOffset,q=void 0===H?0:H,X=GM(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),ge=s4(e.placement),Ae=au(e.placement),Ve=!Ae,Le=jM(ge),Fe=function C4e(n){return"x"===n?"y":"x"}(Le),Be=e.modifiersData.popperOffsets,mt=e.rects.reference,jt=e.rects.popper,T1="function"==typeof q?q(Object.assign({},e.rects,{placement:e.placement})):q,C1="number"==typeof T1?{mainAxis:T1,altAxis:T1}:Object.assign({mainAxis:0,altAxis:0},T1),wn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ei={x:0,y:0};if(Be){if(a){var In,l4="y"===Le?qr:Wr,u4="y"===Le?Ro:Oo,nt="y"===Le?"height":"width",gt=Be[Le],It=gt+X[l4],Qt=gt-X[u4],xn=R?-jt[nt]/2:0,ur=Ae===ru?mt[nt]:jt[nt],N2=Ae===ru?-jt[nt]:-mt[nt],Yr=e.elements.arrow,k1=R&&Yr?$M(Yr):{width:0,height:0},Po=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},p5=Po[l4],Zn=Po[u4],Fi=Yd(0,mt[nt],k1[nt]),pi=Ve?mt[nt]/2-xn-Fi-p5-C1.mainAxis:ur-Fi-p5-C1.mainAxis,fu=Ve?-mt[nt]/2+xn+Fi+Zn+C1.mainAxis:N2+Fi+Zn+C1.mainAxis,m5=e.elements.arrow&&Kd(e.elements.arrow),BI=null!=(In=wn?.[Le])?In:0,o5e=gt+fu-BI,UI=Yd(R?uv(It,gt+pi-BI-(m5?"y"===Le?m5.clientTop||0:m5.clientLeft||0:0)):It,gt,R?s5(Qt,o5e):Qt);Be[Le]=UI,ei[Le]=UI-gt}if(d){var jI,g5=Be[Fe],Pv="y"===Fe?"height":"width",GI=g5+X["x"===Le?qr:Wr],$I=g5-X["x"===Le?Ro:Oo],Fw=-1!==[qr,Wr].indexOf(ge),qI=null!=(jI=wn?.[Fe])?jI:0,WI=Fw?GI:g5-mt[Pv]-jt[Pv]-qI+C1.altAxis,ZI=Fw?g5+mt[Pv]+jt[Pv]-qI-C1.altAxis:$I,KI=R&&Fw?function M4e(n,e,t){var i=Yd(n,e,t);return i>t?t:i}(WI,g5,ZI):Yd(R?WI:GI,g5,R?ZI:$I);Be[Fe]=KI,ei[Fe]=KI-g5}e.modifiersData[i]=ei}},requiresIfExists:["offset"]},T4e={name:"arrow",enabled:!0,phase:"main",fn:function S4e(n){var e,t=n.state,i=n.name,r=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,d=s4(t.placement),g=jM(d),w=[Wr,Oo].indexOf(d)>=0?"height":"width";if(a&&l){var N=function(e,t){return jT("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:GT(e,$d))}(r.padding,t),z=$M(a),R="y"===g?qr:Wr,H="y"===g?Ro:Oo,q=t.rects.reference[w]+t.rects.reference[g]-l[g]-t.rects.popper[w],X=l[g]-t.rects.reference[g],ge=Kd(a),Ae=ge?"y"===g?ge.clientHeight||0:ge.clientWidth||0:0,Be=Ae/2-z[w]/2+(q/2-X/2),mt=Yd(N[R],Be,Ae-z[w]-N[H]);t.modifiersData[i]=((e={})[g]=mt,e.centerOffset=mt-Be,e)}},effect:function N4e(n){var e=n.state,i=n.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=e.elements.popper.querySelector(r))||!HT(e.elements.popper,r)||(e.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function z4e(n,e,t){void 0===t&&(t=!1);var i=Os(e),r=Os(e)&&function x4e(n){var e=n.getBoundingClientRect(),t=su(e.width)/n.offsetWidth||1,i=su(e.height)/n.offsetHeight||1;return 1!==t||1!==i}(e),a=tc(e),l=ou(n,r,t),d={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(i||!i&&!t)&&(("body"!==o4(e)||BM(a))&&(d=function I4e(n){return n!==Rs(n)&&Os(n)?function A4e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):HM(n)}(e)),Os(e)?((g=ou(e,!0)).x+=e.clientLeft,g.y+=e.clientTop):a&&(g.x=FM(a))),{x:l.left+d.scrollLeft-g.x,y:l.top+d.scrollTop-g.y,width:l.width,height:l.height}}function L4e(n){var e=new Map,t=new Set,i=[];function r(a){t.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(d){if(!t.has(d)){var g=e.get(d);g&&r(g)}}),i.push(a)}return n.forEach(function(a){e.set(a.name,a)}),n.forEach(function(a){t.has(a.name)||r(a)}),i}function R4e(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var $T={placement:"bottom",modifiers:[],strategy:"absolute"};function qT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function V4e(n){void 0===n&&(n={});var t=n.defaultModifiers,i=void 0===t?[]:t,r=n.defaultOptions,a=void 0===r?$T:r;return function(d,g,b){void 0===b&&(b=a);var w={placement:"bottom",orderedModifiers:[],options:Object.assign({},$T,a),modifiersData:{},elements:{reference:d,popper:g},attributes:{},styles:{}},N=[],z=!1,R={state:w,setOptions:function(ge){var Ae="function"==typeof ge?ge(w.options):ge;q(),w.options=Object.assign({},a,w.options,Ae),w.scrollParents={reference:r5(d)?Zd(d):d.contextElement?Zd(d.contextElement):[],popper:Zd(g)};var Ve=function k4e(n){var e=L4e(n);return l4e.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}(function O4e(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,w.options.modifiers)));return w.orderedModifiers=Ve.filter(function(wn){return wn.enabled}),function H(){w.orderedModifiers.forEach(function(X){var Ae=X.options,Le=X.effect;if("function"==typeof Le){var Fe=Le({state:w,name:X.name,instance:R,options:void 0===Ae?{}:Ae});N.push(Fe||function(){})}})}(),R.update()},forceUpdate:function(){if(!z){var ge=w.elements,Ae=ge.reference,Ve=ge.popper;if(qT(Ae,Ve)){w.rects={reference:z4e(Ae,Kd(Ve),"fixed"===w.options.strategy),popper:$M(Ve)},w.reset=!1,w.placement=w.options.placement,w.orderedModifiers.forEach(function(wn){return w.modifiersData[wn.name]=Object.assign({},wn.data)});for(var Fe=0;Fe<w.orderedModifiers.length;Fe++)if(!0!==w.reset){var Be=w.orderedModifiers[Fe],mt=Be.fn,jt=Be.options;"function"==typeof mt&&(w=mt({state:w,options:void 0===jt?{}:jt,name:Be.name,instance:R})||w)}else w.reset=!1,Fe=-1}}},update:R4e(function(){return new Promise(function(X){R.forceUpdate(),X(w)})}),destroy:function(){q(),z=!0}};if(!qT(d,g))return R;function q(){N.forEach(function(X){return X()}),N=[]}return R.setOptions(b).then(function(X){!z&&b.onFirstUpdate&&b.onFirstUpdate(X)}),R}}var dv={passive:!0};const H4e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function P4e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,a=void 0===r||r,l=i.resize,d=void 0===l||l,g=Rs(e.elements.popper),b=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&b.forEach(function(w){w.addEventListener("scroll",t.update,dv)}),d&&g.addEventListener("resize",t.update,dv),function(){a&&b.forEach(function(w){w.removeEventListener("scroll",t.update,dv)}),d&&g.removeEventListener("resize",t.update,dv)}},data:{}},B4e={name:"popperOffsets",enabled:!0,phase:"read",fn:function F4e(n){var e=n.state;e.modifiersData[n.name]=BT({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var U4e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WT(n){var e,t=n.popper,i=n.popperRect,r=n.placement,a=n.variation,l=n.offsets,d=n.position,g=n.gpuAcceleration,b=n.adaptive,w=n.roundOffsets,N=n.isFixed,z=l.x,R=void 0===z?0:z,H=l.y,q=void 0===H?0:H,X="function"==typeof w?w({x:R,y:q}):{x:R,y:q};R=X.x,q=X.y;var ge=l.hasOwnProperty("x"),Ae=l.hasOwnProperty("y"),Ve=Wr,Le=qr,Fe=window;if(b){var Be=Kd(t),mt="clientHeight",jt="clientWidth";Be===Rs(t)&&"static"!==W3(Be=tc(t)).position&&"absolute"===d&&(mt="scrollHeight",jt="scrollWidth"),(r===qr||(r===Wr||r===Oo)&&a===qd)&&(Le=Ro,q-=(N&&Be===Fe&&Fe.visualViewport?Fe.visualViewport.height:Be[mt])-i.height,q*=g?1:-1),r!==Wr&&(r!==qr&&r!==Ro||a!==qd)||(Ve=Oo,R-=(N&&Be===Fe&&Fe.visualViewport?Fe.visualViewport.width:Be[jt])-i.width,R*=g?1:-1)}var In,wn=Object.assign({position:d},b&&U4e),ei=!0===w?function j4e(n){var t=n.y,r=window.devicePixelRatio||1;return{x:su(n.x*r)/r||0,y:su(t*r)/r||0}}({x:R,y:q}):{x:R,y:q};return R=ei.x,q=ei.y,Object.assign({},wn,g?((In={})[Le]=Ae?"0":"",In[Ve]=ge?"0":"",In.transform=(Fe.devicePixelRatio||1)<=1?"translate("+R+"px, "+q+"px)":"translate3d("+R+"px, "+q+"px, 0)",In):((e={})[Le]=Ae?q+"px":"",e[Ve]=ge?R+"px":"",e.transform="",e))}const $4e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function G4e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=void 0===i||i,a=t.adaptive,l=void 0===a||a,d=t.roundOffsets,g=void 0===d||d,w={placement:s4(e.placement),variation:au(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,WT(Object.assign({},w,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:g})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,WT(Object.assign({},w,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var Z4e=[H4e,B4e,$4e,{name:"applyStyles",enabled:!0,phase:"write",fn:function q4e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},a=e.elements[t];!Os(a)||!o4(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(l){var d=r[l];!1===d?a.removeAttribute(l):a.setAttribute(l,!0===d?"":d)}))})},effect:function W4e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},d=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]).reduce(function(g,b){return g[b]="",g},{});!Os(r)||!o4(r)||(Object.assign(r.style,d),Object.keys(a).forEach(function(g){r.removeAttribute(g)}))})}},requires:["computeStyles"]}],K4e=V4e({defaultModifiers:Z4e});const Q4e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function J4e(n){var e=n.state,i=n.name,r=n.options.offset,a=void 0===r?[0,0]:r,l=RT.reduce(function(w,N){return w[N]=function Y4e(n,e,t){var i=s4(n),r=[Wr,qr].indexOf(i)>=0?-1:1,a="function"==typeof t?t(Object.assign({},e,{placement:n})):t,l=a[0],d=a[1];return l=l||0,d=(d||0)*r,[Wr,Oo].indexOf(i)>=0?{x:d,y:l}:{x:l,y:d}}(N,e.rects,a),w},{}),d=l[e.placement],b=d.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=d.x,e.modifiersData.popperOffsets.y+=b),e.modifiersData[i]=l}},o3e=["*"],D3e=["dialog"];function WM(n){return"string"==typeof n}function o5(n){return null!=n}function cu(n){return(n||document.body).getBoundingClientRect()}const KT={animation:!0,transitionTimerDelayMs:5},_6e=()=>{},{transitionTimerDelayMs:y6e}=KT,Jd=new Map,hi=(n,e,t,i)=>{let r=i.context||{};const a=Jd.get(e);if(a)switch(i.runningTransition){case"continue":return Z2.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),Jd.delete(e)}const l=t(e,i.animation,r)||_6e;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>l()),ct(void 0).pipe(function g6e(n){return e=>new H1.y(t=>e.subscribe({next:l=>n.run(()=>t.next(l)),error:l=>n.run(()=>t.error(l)),complete:()=>n.run(()=>t.complete())}))}(n));const d=new f1.x,g=new f1.x,b=d.pipe(function qae(...n){return e=>ai(e,ct(...n))}(!0));Jd.set(e,{transition$:d,complete:()=>{g.next(),g.complete()},context:r});const w=function v6e(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const N=Hi(e,"transitionend").pipe(l2(b),E(({target:R})=>R===e));AT(kM(w+y6e).pipe(l2(b)),N,g).pipe(l2(b)).subscribe(()=>{Jd.delete(e),n.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()},KM=(n,e,t)=>{let{direction:i,maxHeight:r}=t;const{classList:a}=n;function l(){a.add("collapse"),"show"===i?a.add("show"):a.remove("show")}if(e)return r||(r=function C6e(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const i=n.getBoundingClientRect().height+"px";return t||e.remove("show"),i}(n),t.maxHeight=r,n.style.height="show"!==i?r:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),cu(n),a.add("collapsing")),n.style.height="show"===i?r:"0px",()=>{l(),a.remove("collapsing"),n.style.height=""};l()};let Qd=(()=>{class n{constructor(){this.animation=KT.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),tA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),I6e=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x6e=(()=>{class n{constructor(t,i,r){this._element=t,this._zone=r,this.collapsed=!1,this.ngbCollapseChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=i.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,i){return hi(this._zone,this._element.nativeElement,KM,{animation:i,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,i){this._runTransition(t,i).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(I6e),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[u.TTD]}),n})(),sA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var S2=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(S2||(S2={})),S2))();const mv=(n,e)=>!!e&&e.some(t=>t.contains(n)),oA=(n,e)=>!e||null!=function m6e(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),P6e=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function F6e(n,e,t,i,r,a,l,d){t&&n.runOutsideAngular((n=>P6e?()=>setTimeout(()=>n(),100):n)(()=>{const b=Hi(e,"keydown").pipe(l2(r),E(z=>z.which===S2.Escape),(0,Ge.b)(z=>z.preventDefault())),w=Hi(e,"mousedown").pipe((0,Qe.U)(z=>{const R=z.target;return 2!==z.button&&!mv(R,l)&&("inside"===t?mv(R,a)&&oA(R,d):"outside"===t?!mv(R,a):oA(R,d)||!mv(R,a))}),l2(r)),N=Hi(e,"mouseup").pipe(RM(w),E(([z,R])=>R),function Zae(n,e=Jc.z){const t=kM(n,e);return xT(()=>t)}(0),l2(r));AT([b.pipe((0,Qe.U)(z=>0)),N.pipe((0,Qe.U)(z=>1))]).subscribe(z=>n.run(()=>i(z)))}))}const aA=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function cA(n){const e=Array.from(n.querySelectorAll(aA)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const U6e=/\s+/,j6e=/  +/gi,G6e=/^start/,$6e=/^end/,q6e=/-(top|left)$/,W6e=/-(bottom|right)$/,K6e=/^left/,Y6e=/^right/,J6e=/^start/,Q6e=/^end/;function lA({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(U6e),r=t.findIndex(g=>"auto"===g);r>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(g){null==t.find(b=>-1!==b.search("^"+g))&&t.splice(r++,1,g)});const a=t.map(g=>function Z6e(n){return n.replace(G6e,"left").replace($6e,"right").replace(q6e,"-start").replace(W6e,"-end")}(g));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:g}){const b=new RegExp(e+"(-[a-z]+)*","gi"),w=g.elements.popper,N=g.placement;let z=w.className;z=z.replace(b,""),z+=` ${function X6e(n,e){let[t,i]=e.split("-");const r=t.replace(K6e,"start").replace(Y6e,"end");let a=[r];if(i){let l=i;("left"===t||"right"===t)&&(l=l.replace(J6e,"top").replace(Q6e,"bottom")),a.push(`${r}-${l}`)}return n&&(a=a.map(l=>`${n}-${l}`)),a.join(" ")}(e,N)}`,z=z.trim().replace(j6e," "),w.className=z}},b4e,D4e,T4e,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function uA(n){return n}function t0e(n){return e=>(e.modifiers.push(Q4e,{name:"offset",options:{offset:()=>n}}),e)}new Date(1882,10,12),new Date(2174,10,25);let gA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn,DT]}),n})(),u0e=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),nw=(()=>{class n{constructor(t,i){this.elementRef=t,this._renderer=i,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(t,i){2&t&&(u.Ikx("tabIndex",i.disabled?-1:0),u.ekj("disabled",i.disabled))},inputs:{disabled:"disabled"}}),n})(),iw=(()=>{class n{constructor(t,i){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>nh)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,i,r){if(1&t&&u.Suo(r,nw,4),2&t){let a;u.iGM(a=u.CRH())&&(i.menuItems=a)}},hostVars:4,hostBindings:function(t,i){1&t&&u.NdJ("keydown.ArrowUp",function(a){return i.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return i.dropdown.onKeyDown(a)})("keydown.Home",function(a){return i.dropdown.onKeyDown(a)})("keydown.End",function(a){return i.dropdown.onKeyDown(a)})("keydown.Enter",function(a){return i.dropdown.onKeyDown(a)})("keydown.Space",function(a){return i.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return i.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return i.dropdown.onKeyDown(a)}),2&t&&u.ekj("dropdown-menu",!0)("show",i.dropdown.isOpen())}}),n})(),yv=(()=>{class n{constructor(t,i){this.dropdown=t,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>nh)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("aria-expanded",i.dropdown.isOpen())}}),n})(),vA=(()=>{class n extends yv{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>nh)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(a){return i.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return i.dropdown.onKeyDown(a)})("keydown.Home",function(a){return i.dropdown.onKeyDown(a)})("keydown.End",function(a){return i.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return i.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return i.dropdown.onKeyDown(a)}),2&t&&u.uIk("aria-expanded",i.dropdown.isOpen())},features:[u._Bn([{provide:yv,useExisting:(0,u.Gpc)(()=>n)}]),u.qOj]}),n})(),nh=(()=>{class n{constructor(t,i,r,a,l,d,g){this._changeDetector=t,this._document=r,this._ngZone=a,this._elementRef=l,this._renderer=d,this._destroyCloseHandlers$=new f1.x,this._bodyContainer=null,this._positioning=function e0e(){let n=null;return{createPopper(e){if(!n){let i=(e.updatePopperOptions||uA)(lA(e));n=K4e(e.hostElement,e.targetElement,i)}},update(){n&&n.update()},setOptions(e){if(n){let i=(e.updatePopperOptions||uA)(lA(e));n.setOptions(i)}},destroy(){n&&(n.destroy(),n=null)}}}(),this._open=!1,this.openChange=new u.vpe,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=g?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(Yt(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:i,previousValue:r}=t.dropdownClass;this._applyCustomDropdownClass(i,r)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:t0e([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),F6e(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const i=t.which,r=this._getMenuElements();let a=-1,l=null;const d=this._isEventFromToggle(t);if(!d&&r.length&&r.forEach((g,b)=>{g.contains(t.target)&&(l=g),g===this._document.activeElement&&(a=b)}),i!==S2.Space&&i!==S2.Enter){if(i!==S2.Tab){if(d||l){if(this.open(),r.length){switch(i){case S2.ArrowDown:a=Math.min(a+1,r.length-1);break;case S2.ArrowUp:if(this._isDropup()&&-1===a){a=r.length-1;break}a=Math.max(a-1,0);break;case S2.Home:a=0;break;case S2.End:a=r.length-1}r[a].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const g=this._menu.nativeElement.querySelectorAll(aA);t.shiftKey&&t.target===g[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===g[g.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Hi(t.target,"focusout").pipe(Yt(1)).subscribe(({relatedTarget:g})=>{this._elementRef.nativeElement.contains(g)||this.close()})}}else l&&(!0===this.autoClose||"inside"===this.autoClose)&&Hi(l,"click").pipe(Yt(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;this._menu&&t.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const i=this._renderer,r=this._menu.nativeElement,a=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(a,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(a,"z-index","1055"),i.appendChild(a,r),i.appendChild(this._document.body,a)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),t&&this._renderer.addClass(r,t))}_applyPlacementClasses(t){const i=this._menu;if(i){t||(t=this._getFirstPlacement(this.placement));const r=this._renderer,a=this._elementRef.nativeElement;r.removeClass(a,"dropup"),r.removeClass(a,"dropdown");const{nativeElement:l}=i;"static"===this.display?(i.placement=null,r.setAttribute(l,"data-bs-popper","static")):(i.placement=t,r.removeAttribute(l,"data-bs-popper"));const d=-1!==t.search("^top")?"dropup":"dropdown";r.addClass(a,d);const g=this._bodyContainer;g&&(r.removeClass(g,"dropup"),r.removeClass(g,"dropdown"),r.addClass(g,d))}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(u0e),u.Y36(le),u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(tw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,i,r){if(1&t&&(u.Suo(r,iw,5),u.Suo(r,yv,5)),2&t){let a;u.iGM(a=u.CRH())&&(i._menu=a.first),u.iGM(a=u.CRH())&&(i._anchor=a.first)}},hostVars:2,hostBindings:function(t,i){2&t&&u.ekj("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[u.TTD]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class u5{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let f0e=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Yt(1)).subscribe(()=>{hi(this._zone,this._el.nativeElement,(t,i)=>{i&&cu(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return hi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class _A{close(e){}dismiss(e){}}class d0e{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new f1.x,this._dismissed=new f1.x,this._hidden=new f1.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,l)=>{this._resolve=a,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(l2(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(l2(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function ZT(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ct(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cv(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ih=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(ih||(ih={})),ih))();let h0e=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new f1.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new f1.x,this.hidden=new f1.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":WM(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Yt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},l=cv(hi(this._zone,t,()=>t.classList.remove("show"),i),hi(this._zone,this._dialogEl.nativeElement,()=>{},i));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const t={animation:this.animation,runningTransition:"continue"};cv(hi(this._zone,this._elRef.nativeElement,(a,l)=>{l&&cu(a),a.classList.add("show")},t),hi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Hi(t,"keydown").pipe(l2(this._closed$),E(r=>r.which===S2.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(ih.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Hi(this._dialogEl.nativeElement,"mousedown").pipe(l2(this._closed$),(0,Ge.b)(()=>i=!1),z1(()=>Hi(t,"mouseup").pipe(l2(this._closed$),Yt(1))),E(({target:r})=>t===r)).subscribe(()=>{i=!0}),Hi(t,"click").pipe(l2(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(ih.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=cA(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&hi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(le),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&u.Gf(D3e,7),2&t){let r;u.iGM(r=u.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:o3e,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),p0e=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:l}=r;if(t>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${d+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=l),r.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m0e=(()=>{class n{constructor(t,i,r,a,l,d){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=l,this._ngZone=d,this._activeWindowCmptHasChanged=new f1.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Hi(e,"focusin").pipe(l2(t),(0,Qe.U)(a=>a.target));Hi(e,"keydown").pipe(l2(t),E(a=>a.which===S2.Tab),RM(r)).subscribe(([a,l])=>{const[d,g]=cA(e);(l===d||l===e)&&a.shiftKey&&(g.focus(),a.preventDefault()),l===g&&!a.shiftKey&&(d.focus(),a.preventDefault())}),i&&Hi(e,"click").pipe(l2(t),RM(r),(0,Qe.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const a=r.container instanceof HTMLElement?r.container:o5(r.container)?this._document.querySelector(r.container):this._document.body,l=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new _A,g=this._getContentRef(r.injector||t,i,d,r);let b=!1!==r.backdrop?this._attachBackdrop(a):void 0,w=this._attachWindowComponent(a,g.nodes),N=new d0e(w,g,b,r.beforeDismiss);return this._registerModalRef(N),this._registerWindowCmpt(w),N.hidden.pipe(Yt(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=z=>{N.close(z)},d.dismiss=z=>{N.dismiss(z)},this._applyWindowOptions(w.instance,r),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,r),b.changeDetectorRef.detectChanges()),w.changeDetectorRef.detectChanges(),N}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,u.LMc)(f0e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,u.LMc)(h0e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{o5(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{o5(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a){return i?i instanceof u.Rgc?this._createFromTemplateRef(i,r):WM(i)?this._createFromString(i):this._createFromComponent(t,i,r,a):new u5([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}});return this._applicationRef.attachView(a),new u5([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new u5([[i]])}_createFromComponent(t,i,r,a){const l=u.zs3.create({providers:[{provide:_A,useValue:r}],parent:t}),d=(0,u.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:l}),g=d.location.nativeElement;return a.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new u5([[g]],d.hostView,d)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(le),u.LFG(p0e),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g0e=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v0e=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(m0e),u.LFG(g0e))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[v0e]}),n})(),wA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),xA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),LA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),kA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),RA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),OA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),VA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),PA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function I0e(){return 100}});let HA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[pn]}),n})(),FA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const x0e=[eA,tA,rA,sA,gA,rw,yA,wA,FA,xA,LA,kA,RA,OA,VA,PA,HA];let z0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[x0e,eA,tA,rA,sA,gA,rw,yA,wA,FA,xA,LA,kA,RA,OA,VA,PA,HA]}),n})();function L0e(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",7)(1,"a",8),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.isMenuCollapsed=!0)}),u._uU(2,"Login "),u.qZA()()}2&n&&(u.xp6(1),u.Q6J("routerLink","login"))}function k0e(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",7)(1,"a",8),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.isMenuCollapsed=!0)}),u._uU(2,"Sign Up "),u.qZA()()}2&n&&(u.xp6(1),u.Q6J("routerLink","signup"))}function R0e(n,e){if(1&n&&(u.TgZ(0,"a",15),u._uU(1),u.qZA()),2&n){const t=e.ngIf;u.xp6(1),u.hij(" ",t.email," ")}}function O0e(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",7)(1,"div",9)(2,"span",10),u._UZ(3,"fa-icon",11),u.YNc(4,R0e,2,1,"a",12),u.ALo(5,"async"),u.qZA(),u.TgZ(6,"div",13)(7,"button",14),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return r.isMenuCollapsed=!0,u.KtG(r.authService.logout())}),u._uU(8," Sign Out "),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("icon",t.icon.faUser),u.xp6(1),u.Q6J("ngIf",u.lcZ(5,2,t.authService.user$))}}function V0e(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",7)(1,"div",9)(2,"span",10),u._UZ(3,"fa-icon",11),u.TgZ(4,"a",16),u._uU(5,"Fitness"),u.qZA()(),u.TgZ(6,"div",13)(7,"button",17),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.isMenuCollapsed=!0)}),u._uU(8," Exercises "),u.qZA(),u.TgZ(9,"button",14),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.isMenuCollapsed=!0)}),u._uU(10," Workouts "),u.qZA(),u.TgZ(11,"button",14),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.isMenuCollapsed=!0)}),u._uU(12," Plans "),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("icon",t.icon.faDumbbell),u.xp6(4),u.Q6J("routerLink","exercise-library")}}let P0e=(()=>{class n{constructor(t,i){this.icon=t,this.authService=i,this.isAuth=!1,this.isMenuCollapsed=!0}ngOnInit(){this.authSubscription=this.authService.authChange.subscribe(t=>{this.isAuth=t})}ngOnDestroy(){this.authSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Vg),u.Y36(Q7))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:12,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","mb-3"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],["type","button",1,"navbar-toggler",3,"click"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["class","nav-item active",4,"ngIf"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink","click"],["ngbDropdown",""],[1,"nav-link-container"],[3,"icon"],["class","nav-link","style","cursor: pointer","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],["ngbDropdownToggle","",1,"nav-link",2,"cursor","pointer"],["ngbDropdownToggle","",1,"nav-link"],["ngbDropdownItem","",3,"routerLink","click"]],template:function(t,i){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._uU(3,"Adultery"),u.qZA(),u.TgZ(4,"button",3),u.NdJ("click",function(){return i.isMenuCollapsed=!i.isMenuCollapsed}),u._uU(5," \u2630 "),u.qZA(),u.TgZ(6,"div",4)(7,"ul",5),u.YNc(8,L0e,3,1,"li",6),u.YNc(9,k0e,3,1,"li",6),u.YNc(10,O0e,9,4,"li",6),u.YNc(11,V0e,13,2,"li",6),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("routerLink","."),u.xp6(4),u.Q6J("ngbCollapse",i.isMenuCollapsed),u.xp6(2),u.Q6J("ngIf",!i.isAuth),u.xp6(1),u.Q6J("ngIf",!i.isAuth),u.xp6(1),u.Q6J("ngIf",i.isAuth),u.xp6(1),u.Q6J("ngIf",i.isAuth))},dependencies:[V1,za,il,Kg,x6e,nh,vA,iw,nw,tw,g4],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.navbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-basis:auto;align-items:center;min-height:90px;padding-left:10px;padding-right:10px;border-bottom:1px solid black;background-color:#fff}.nav-link-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media (min-width: 650px){fa-icon[_ngcontent-%COMP%]{display:none}}']}),n})(),H0e=(()=>{class n{constructor(t,i){this.authService=i,this.title="adultery"}ngOnInit(){this.authService.iniAuthListener()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ad),u.Y36(Q7))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page-wrapper"],[1,"desktop-header"],["pageHeader","",1,"header"],["pageContent","",1,"content"],["pageFooter","",1,"footer"]],template:function(t,i){1&t&&(u.TgZ(0,"app-page-wrapper",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"app-header"),u.qZA(),u.TgZ(4,"div",3),u._UZ(5,"router-outlet"),u.qZA(),u._UZ(6,"div",4),u.qZA())},dependencies:[Lc,kae,P0e],styles:['@import"https://fonts.googleapis.com/css2?family=Monoton&display=swap";@import"https://fonts.googleapis.com/css2?family=Rubik&display=swap";.logo-text[_ngcontent-%COMP%]{font-family:Monoton,cursive}p[_ngcontent-%COMP%], .body-text[_ngcontent-%COMP%]{font-family:Rubik,sans-serif}.header-and-footer-text[_ngcontent-%COMP%]{font-size:1.5em}.logo-font[_ngcontent-%COMP%]{font-family:Monoton,cursive;color:#00f}']}),n})();class BA{}class UA{}class K3{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof K3?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new K3;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof K3?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(d=>-1===a.indexOf(d)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class F0e{encodeKey(e){return jA(e)}encodeValue(e){return jA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const U0e=/%(\d[a-f0-9])/gi,j0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jA(n){return encodeURIComponent(n).replace(U0e,(e,t)=>j0e[t]??e)}function bv(n){return`${n}`}class ic{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new F0e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function B0e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[l,d]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],g=t.get(l)||[];g.push(d),t.set(l,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(bv):[bv(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ic({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(bv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(bv(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class G0e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $A(n){return typeof Blob<"u"&&n instanceof Blob}function qA(n){return typeof FormData<"u"&&n instanceof FormData}class rh{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $0e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new K3),this.context||(this.context=new G0e),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+l}}else this.params=new ic,this.urlWithParams=t}serializeBody(){return null===this.body?null:GA(this.body)||$A(this.body)||qA(this.body)||function q0e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ic?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qA(this.body)?null:$A(this.body)?this.body.type||null:GA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ic?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,b=e.params||this.params;const w=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((N,z)=>N.set(z,e.setHeaders[z]),g)),e.setParams&&(b=Object.keys(e.setParams).reduce((N,z)=>N.set(z,e.setParams[z]),b)),new rh(t,i,a,{params:b,headers:g,context:w,reportProgress:d,responseType:r,withCredentials:l})}}var u2=(()=>((u2=u2||{})[u2.Sent=0]="Sent",u2[u2.UploadProgress=1]="UploadProgress",u2[u2.ResponseHeader=2]="ResponseHeader",u2[u2.DownloadProgress=3]="DownloadProgress",u2[u2.Response=4]="Response",u2[u2.User=5]="User",u2))();class cw{constructor(e,t=200,i="OK"){this.headers=e.headers||new K3,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lw extends cw{constructor(e={}){super(e),this.type=u2.ResponseHeader}clone(e={}){return new lw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Cv extends cw{constructor(e={}){super(e),this.type=u2.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Cv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WA extends cw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let W0e=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof rh)a=t;else{let g,b;g=r.headers instanceof K3?r.headers:new K3(r.headers),r.params&&(b=r.params instanceof ic?r.params:new ic({fromObject:r.params})),a=new rh(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=ct(a).pipe(Ee(g=>this.handler.handle(g)));if(t instanceof rh||"events"===r.observe)return l;const d=l.pipe(E(g=>g instanceof Cv));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe((0,Qe.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return d.pipe((0,Qe.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return d.pipe((0,Qe.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return d.pipe((0,Qe.U)(g=>g.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ic).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,uw(r,i))}post(t,i,r={}){return this.request("POST",t,uw(r,i))}put(t,i,r={}){return this.request("PUT",t,uw(r,i))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ZA{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const KA=new u.OlP("HTTP_INTERCEPTORS");let Z0e=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const K0e=/^\)\]\}',?\n/;let YA=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new H1.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((R,H)=>r.setRequestHeader(R,H.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const R=t.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(t.responseType){const R=t.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const a=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const R=r.statusText||"OK",H=new K3(r.getAllResponseHeaders()),q=function Y0e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new lw({headers:H,status:r.status,statusText:R,url:q}),l},g=()=>{let{headers:R,status:H,statusText:q,url:X}=d(),ge=null;204!==H&&(ge=typeof r.response>"u"?r.responseText:r.response),0===H&&(H=ge?200:0);let Ae=H>=200&&H<300;if("json"===t.responseType&&"string"==typeof ge){const Ve=ge;ge=ge.replace(K0e,"");try{ge=""!==ge?JSON.parse(ge):null}catch(Le){ge=Ve,Ae&&(Ae=!1,ge={error:Le,text:ge})}}Ae?(i.next(new Cv({body:ge,headers:R,status:H,statusText:q,url:X||void 0})),i.complete()):i.error(new WA({error:ge,headers:R,status:H,statusText:q,url:X||void 0}))},b=R=>{const{url:H}=d(),q=new WA({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:H||void 0});i.error(q)};let w=!1;const N=R=>{w||(i.next(d()),w=!0);let H={type:u2.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(H.total=R.total),"text"===t.responseType&&!!r.responseText&&(H.partialText=r.responseText),i.next(H)},z=R=>{let H={type:u2.UploadProgress,loaded:R.loaded};R.lengthComputable&&(H.total=R.total),i.next(H)};return r.addEventListener("load",g),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),t.reportProgress&&(r.addEventListener("progress",N),null!==a&&r.upload&&r.upload.addEventListener("progress",z)),r.send(a),i.next({type:u2.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",g),r.removeEventListener("timeout",b),t.reportProgress&&(r.removeEventListener("progress",N),null!==a&&r.upload&&r.upload.removeEventListener("progress",z)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fw=new u.OlP("XSRF_COOKIE_NAME"),dw=new u.OlP("XSRF_HEADER_NAME");class JA{}let J0e=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le),u.LFG(u.Lbi),u.LFG(fw))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),hw=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(JA),u.LFG(dw))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Q0e=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(KA,[]);this.chain=i.reduceRight((r,a)=>new ZA(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(UA),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),X0e=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:hw,useClass:Z0e}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:fw,useValue:t.cookieName}:[],t.headerName?{provide:dw,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[hw,{provide:KA,useExisting:hw,multi:!0},{provide:JA,useClass:J0e},{provide:fw,useValue:"XSRF-TOKEN"},{provide:dw,useValue:"X-XSRF-TOKEN"}]}),n})(),ece=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[W0e,{provide:BA,useClass:Q0e},YA,{provide:UA,useExisting:YA}],imports:[X0e.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),tce=(()=>{class n{constructor(t){this.firestore=t,this.defaultQuotes=[],this.quotesChanged=new f1.x}fetchDefaultQuotes(){this.firestore.collection("defaultQuotes").snapshotChanges().pipe((0,Qe.U)(t=>t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})))).subscribe(t=>{this.defaultQuotes=t,this.quotesChanged.next([...this.defaultQuotes])})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ad))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class QA{}const Y3="*";function XA(n,e=null){return{type:2,steps:n,options:e}}function eI(n){return{type:6,styles:n,offset:null}}function tI(n){Promise.resolve().then(n)}class sh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class nI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?tI(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++i==a&&this._onDestroy()}),l.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function iI(n){return new u.vHH(3e3,!1)}function Vce(){return typeof window<"u"&&typeof window.document<"u"}function mw(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function rc(n){switch(n.length){case 0:return new sh;case 1:return n[0];default:return new nI(n)}}function rI(n,e,t,i,r=new Map,a=new Map){const l=[],d=[];let g=-1,b=null;if(i.forEach(w=>{const N=w.get("offset"),z=N==g,R=z&&b||new Map;w.forEach((H,q)=>{let X=q,ge=H;if("offset"!==q)switch(X=e.normalizePropertyName(X,l),ge){case"!":ge=r.get(q);break;case Y3:ge=a.get(q);break;default:ge=e.normalizeStyleValue(q,X,ge,l)}R.set(X,ge)}),z||d.push(R),b=R,g=N}),l.length)throw function Ece(n){return new u.vHH(3502,!1)}();return d}function gw(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&vw(t,"start",n)));break;case"done":n.onDone(()=>i(t&&vw(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&vw(t,"destroy",n)))}}function vw(n,e,t){const a=_w(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function _w(n,e,t,i,r="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!l}}function Zr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function sI(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let yw=(n,e)=>!1,oI=(n,e,t)=>[],aI=null;function bw(n){const e=n.parentNode||n.host;return e===aI?null:e}(mw()||typeof Element<"u")&&(Vce()?(aI=(()=>document.documentElement)(),yw=(n,e)=>{for(;e;){if(e===n)return!0;e=bw(e)}return!1}):yw=(n,e)=>n.contains(e),oI=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let f5=null,cI=!1;const lI=yw,uI=oI;let fI=(()=>{class n{validateStyleProperty(t){return function Hce(n){f5||(f5=function Fce(){return typeof document<"u"?document.body:null}()||{},cI=!!f5.style&&"WebkitAppearance"in f5.style);let e=!0;return f5.style&&!function Pce(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in f5.style,!e&&cI&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in f5.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return lI(t,i)}getParentElement(t){return bw(t)}query(t,i,r){return uI(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,l,d=[],g){return new sh(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Cw=(()=>{class n{}return n.NOOP=new fI,n})();const Mw="ng-enter",Mv="ng-leave",wv="ng-trigger",Dv=".ng-trigger",hI="ng-animating",ww=".ng-animating";function J3(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Dw(parseFloat(e[1]),e[2])}function Dw(n,e){return"s"===e?1e3*n:n}function Ev(n,e,t){return n.hasOwnProperty("duration")?n:function jce(n,e,t){let r,a=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(iI()),{duration:0,delay:0,easing:""};r=Dw(parseFloat(d[1]),d[2]);const g=d[3];null!=g&&(a=Dw(parseFloat(g),d[4]));const b=d[5];b&&(l=b)}else r=n;if(!t){let d=!1,g=e.length;r<0&&(e.push(function ice(){return new u.vHH(3100,!1)}()),d=!0),a<0&&(e.push(function rce(){return new u.vHH(3101,!1)}()),d=!0),d&&e.splice(g,0,iI())}return{duration:r,delay:a,easing:l}}(n,e,t)}function oh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function pI(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function sc(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function gI(n,e,t){return t?e+":"+t+";":""}function vI(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=gI(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=gI(0,Wce(t),n.style[t]));n.setAttribute("style",e)}function c4(n,e,t){n.style&&(e.forEach((i,r)=>{const a=Sw(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),mw()&&vI(n))}function d5(n,e){n.style&&(e.forEach((t,i)=>{const r=Sw(i);n.style[r]=""}),mw()&&vI(n))}function ah(n){return Array.isArray(n)?1==n.length?n[0]:XA(n):n}const Ew=new RegExp("{{\\s*(.+?)\\s*}}","g");function _I(n){let e=[];if("string"==typeof n){let t;for(;t=Ew.exec(n);)e.push(t[1]);Ew.lastIndex=0}return e}function ch(n,e,t){const i=n.toString(),r=i.replace(Ew,(a,l)=>{let d=e[l];return null==d&&(t.push(function oce(n){return new u.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function Sv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const qce=/-+([a-z0-9])/g;function Sw(n){return n.replace(qce,(...e)=>e[1].toUpperCase())}function Wce(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ace(n){return new u.vHH(3004,!1)}()}}function yI(n,e){return window.getComputedStyle(n)[e]}function Xce(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function e8e(n,e,t){if(":"==n[0]){const g=function t8e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Cce(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function bce(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],l=i[3];e.push(bI(r,l));"<"==a[0]&&!("*"==r&&"*"==l)&&e.push(bI(l,r))}(i,t,e)):t.push(n),t}const Iv=new Set(["true","1"]),xv=new Set(["false","0"]);function bI(n,e){const t=Iv.has(n)||xv.has(n),i=Iv.has(e)||xv.has(e);return(r,a)=>{let l="*"==n||n==r,d="*"==e||e==a;return!l&&t&&"boolean"==typeof r&&(l=r?Iv.has(n):xv.has(n)),!d&&i&&"boolean"==typeof a&&(d=a?Iv.has(e):xv.has(e)),l&&d}}const n8e=new RegExp("s*:selfs*,?","g");function Nw(n,e,t,i){return new i8e(n).build(e,t,i)}class i8e{constructor(e){this._driver=e}build(e,t,i){const r=new o8e(t);return this._resetContextStyleTimingState(r),Kr(this,ah(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function lce(){return new u.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const g=d,b=g.name;b.toString().split(/\s*,\s*/).forEach(w=>{g.name=w,a.push(this.visitState(g,t))}),g.name=b}else if(1==d.type){const g=this.visitTransition(d,t);i+=g.queryCount,r+=g.depCount,l.push(g)}else t.errors.push(function uce(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,l=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(g=>{_I(g).forEach(b=>{l.hasOwnProperty(b)||a.add(b)})})}),a.size&&(Sv(a.values()),t.errors.push(function fce(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Kr(this,ah(e.animation),t);return{type:1,matchers:Xce(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:h5(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Kr(this,i,t)),options:h5(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(l=>{t.currentTime=i;const d=Kr(this,l,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:a,options:h5(e.options)}}visitAnimate(e,t){const i=function c8e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Tw(Ev(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Tw(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=Ev(t,e);return Tw(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:eI({});if(5==a.type)r=this.visitKeyframes(a,t);else{let l=e.styles,d=!1;if(!l){d=!0;const b={};i.easing&&(b.easing=i.easing),l=eI(b)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(l,t);g.isEmptyStep=d,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===Y3?i.push(d):t.errors.push(new u.vHH(3002,!1)):i.push(pI(d));let a=!1,l=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!a))for(let g of d.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,g)=>{const b=t.collectedStyles.get(t.currentQuerySelector),w=b.get(g);let N=!0;w&&(a!=r&&a>=w.startTime&&r<=w.endTime&&(t.errors.push(function hce(n,e,t,i,r){return new u.vHH(3010,!1)}()),N=!1),a=w.startTime),N&&b.set(g,{startTime:a,endTime:r}),t.options&&function $ce(n,e,t){const i=e.params||{},r=_I(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function sce(n){return new u.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pce(){return new u.vHH(3011,!1)}()),i;let a=0;const l=[];let d=!1,g=!1,b=0;const w=e.steps.map(ge=>{const Ae=this._makeStyleAst(ge,t);let Ve=null!=Ae.offset?Ae.offset:function a8e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ae.styles),Le=0;return null!=Ve&&(a++,Le=Ae.offset=Ve),g=g||Le<0||Le>1,d=d||Le<b,b=Le,l.push(Le),Ae});g&&t.errors.push(function mce(){return new u.vHH(3012,!1)}()),d&&t.errors.push(function gce(){return new u.vHH(3200,!1)}());const N=e.steps.length;let z=0;a>0&&a<N?t.errors.push(function vce(){return new u.vHH(3202,!1)}()):0==a&&(z=1/(N-1));const R=N-1,H=t.currentTime,q=t.currentAnimateTimings,X=q.duration;return w.forEach((ge,Ae)=>{const Ve=z>0?Ae==R?1:z*Ae:l[Ae],Le=Ve*X;t.currentTime=H+q.delay+Le,q.duration=Le,this._validateStyleAst(ge,t),ge.offset=Ve,i.styles.push(ge)}),i}visitReference(e,t){return{type:8,animation:Kr(this,ah(e.animation),t),options:h5(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:h5(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:h5(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function r8e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(n8e,"")),n=n.replace(/@\*/g,Dv).replace(/@\w+/g,t=>Dv+"-"+t.slice(1)).replace(/:animating/g,ww),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Zr(t.collectedStyles,t.currentQuerySelector,new Map);const d=Kr(this,ah(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:d,originalSelector:e.selector,options:h5(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _ce(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ev(e.timings,t.errors,!0);return{type:12,animation:Kr(this,ah(e.animation),t),timings:i,options:null}}}class o8e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function h5(n){return n?(n=oh(n)).params&&(n.params=function s8e(n){return n?oh(n):null}(n.params)):n={},n}function Tw(n,e,t){return{duration:n,delay:e,easing:t}}function Aw(n,e,t,i,r,a,l=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:l,subTimeline:d}}class zv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const f8e=new RegExp(":enter","g"),h8e=new RegExp(":leave","g");function Iw(n,e,t,i,r,a=new Map,l=new Map,d,g,b=[]){return(new p8e).buildKeyframes(n,e,t,i,r,a,l,d,g,b)}class p8e{buildKeyframes(e,t,i,r,a,l,d,g,b,w=[]){b=b||new zv;const N=new xw(e,t,b,r,a,w,[]);N.options=g;const z=g.delay?J3(g.delay):0;N.currentTimeline.delayNextStep(z),N.currentTimeline.setStyles([l],null,N.errors,g),Kr(this,i,N);const R=N.timelines.filter(H=>H.containsAnimation());if(R.length&&d.size){let H;for(let q=R.length-1;q>=0;q--){const X=R[q];if(X.element===t){H=X;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([d],null,N.errors,g)}return R.length?R.map(H=>H.buildKeyframes()):[Aw(t,[],[],[],0,z,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const l="number"==typeof a?a:J3(ch(a,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const l=null!=i.duration?J3(i.duration):null,d=null!=i.delay?J3(i.delay):null;return 0!==l&&e.forEach(g=>{const b=t.appendInstructionToTimeline(g,l,d);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Kr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lv);const l=J3(a.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Kr(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?J3(e.options.delay):0;e.steps.forEach(l=>{const d=t.createSubContext(e.options);a&&d.delayNextStep(a),Kr(this,l,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Ev(t.params?ch(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(g=>{d.forwardTime((g.offset||0)*a),d.setStyles(g.styles,g.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?J3(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Lv);let l=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let g=null;d.forEach((b,w)=>{t.currentQueryIndex=w;const N=t.createSubContext(e.options,b);a&&N.delayNextStep(a),b===t.element&&(g=N.currentTimeline),Kr(this,e.animation,N),N.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,N.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),d=l*(t.currentQueryTotal-1);let g=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=d-g;break;case"full":g=i.currentStaggerTime}const w=t.currentTimeline;g&&w.delayNextStep(g);const N=w.currentTime;Kr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-N+(r.startTime-i.currentTimeline.startTime)}}const Lv={};class xw{constructor(e,t,i,r,a,l,d,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new kv(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=J3(i.duration)),null!=i.delay&&(r.delay=J3(i.delay));const a=i.params;if(a){let l=r.params;l||(l=this.options.params={}),Object.keys(a).forEach(d=>{(!t||!l.hasOwnProperty(d))&&(l[d]=ch(a[d],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new xw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Lv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new m8e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,l){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(f8e,"."+this._enterClassName)).replace(h8e,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),d.push(...b)}return!a&&0==d.length&&l.push(function yce(n){return new u.vHH(3014,!1)}()),d}}class kv{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Y3),this._currentKeyframe.set(t,Y3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},l=function g8e(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Y3)}else sc(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,g]of l){const b=ch(g,a,i);this._pendingStyles.set(d,b),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Y3),this._updateStyle(d,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,g)=>{const b=sc(d,new Map,this._backFill);b.forEach((w,N)=>{"!"===w?e.add(N):w===Y3&&t.add(N)}),i||b.set("offset",g/this.duration),r.push(b)});const a=e.size?Sv(e.values()):[],l=t.size?Sv(t.values()):[];if(i){const d=r[0],g=new Map(d);d.set("offset",0),g.set("offset",1),r=[d,g]}return Aw(this.element,r,a,l,this.duration,this.startTime,this.easing,!1)}}class m8e extends kv{constructor(e,t,i,r,a,l,d=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=i+t,d=t/l,g=sc(e[0]);g.set("offset",0),a.push(g);const b=sc(e[0]);b.set("offset",wI(d)),a.push(b);const w=e.length-1;for(let N=1;N<=w;N++){let z=sc(e[N]);const R=z.get("offset");z.set("offset",wI((t+R*i)/l)),a.push(z)}i=l,t=0,r="",e=a}return Aw(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function wI(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zw{}const v8e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _8e extends zw{normalizePropertyName(e,t){return Sw(e)}normalizeStyleValue(e,t,i,r){let a="";const l=i.toString().trim();if(v8e.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function cce(n,e){return new u.vHH(3005,!1)}())}return l+a}}function DI(n,e,t,i,r,a,l,d,g,b,w,N,z){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:l,timelines:d,queriedElements:g,preStyleProps:b,postStyleProps:w,totalTime:N,errors:z}}const Lw={};class EI{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function y8e(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,l,d,g,b,w){const N=[],z=this.ast.options&&this.ast.options.params||Lw,H=this.buildStyles(i,d&&d.params||Lw,N),q=g&&g.params||Lw,X=this.buildStyles(r,q,N),ge=new Set,Ae=new Map,Ve=new Map,Le="void"===r,Fe={params:b8e(q,z),delay:this.ast.options?.delay},Be=w?[]:Iw(e,t,this.ast.animation,a,l,H,X,Fe,b,N);let mt=0;if(Be.forEach(T1=>{mt=Math.max(T1.duration+T1.delay,mt)}),N.length)return DI(t,this._triggerName,i,r,Le,H,X,[],[],Ae,Ve,mt,N);Be.forEach(T1=>{const C1=T1.element,wn=Zr(Ae,C1,new Set);T1.preStyleProps.forEach(In=>wn.add(In));const ei=Zr(Ve,C1,new Set);T1.postStyleProps.forEach(In=>ei.add(In)),C1!==t&&ge.add(C1)});const jt=Sv(ge.values());return DI(t,this._triggerName,i,r,Le,H,X,Be,jt,Ae,Ve,mt)}}function b8e(n,e){const t=oh(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class C8e{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=oh(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(r[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,d)=>{l&&(l=ch(l,r,t));const g=this.normalizer.normalizePropertyName(d,t);l=this.normalizer.normalizeStyleValue(d,g,l,t),i.set(g,l)})}),i}}class w8e{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new C8e(r.style,r.options&&r.options.params||{},i))}),SI(this.states,"true","1"),SI(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new EI(e,r,this.states))}),this.fallbackTransition=function D8e(n,e,t){return new EI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function SI(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const E8e=new zv;class S8e{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=Nw(this._driver,t,i,[]);if(i.length)throw function Sce(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=rI(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let l;const d=new Map;if(a?(l=Iw(this._driver,t,a,Mw,Mv,new Map,new Map,i,E8e,r),l.forEach(w=>{const N=Zr(d,w.element,new Map);w.postStyleProps.forEach(z=>N.set(z,null))})):(r.push(function Nce(){return new u.vHH(3300,!1)}()),l=[]),r.length)throw function Tce(n){return new u.vHH(3504,!1)}();d.forEach((w,N)=>{w.forEach((z,R)=>{w.set(R,this._driver.computeStyle(N,R,Y3))})});const b=rc(l.map(w=>{const N=d.get(w.element);return this._buildPlayer(w,new Map,N)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ace(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=_w(t,"","","");return gw(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const NI="ng-animate-queued",kw="ng-animate-disabled",x8e=[],TI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},z8e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vs="__ng_removed";class Rw{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function O8e(n){return n??null}(i?e.value:e),i){const a=oh(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const lh="void",Ow=new Rw(lh);class L8e{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ps(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Ice(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function xce(n){return new u.vHH(3303,!1)}();if(!function V8e(n){return"start"==n||"done"==n}(i))throw function zce(n,e){return new u.vHH(3400,!1)}();const a=Zr(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};a.push(l);const d=Zr(this._engine.statesByElement,e,new Map);return d.has(t)||(Ps(e,wv),Ps(e,wv+"-"+t),d.set(t,Ow)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(l);g>=0&&a.splice(g,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Lce(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),l=new Vw(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(Ps(e,wv),Ps(e,wv+"-"+t),this._engine.statesByElement.set(e,d=new Map));let g=d.get(t);const b=new Rw(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&b.absorbOptions(g.options),d.set(t,b),g||(g=Ow),b.value!==lh&&g.value===b.value){if(!function F8e(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,b.params)){const q=[],X=a.matchStyles(g.value,g.params,q),ge=a.matchStyles(b.value,b.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{d5(e,X),c4(e,ge)})}return}const z=Zr(this._engine.playersByElement,e,[]);z.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let R=a.matchTransition(g.value,b.value,e,b.params),H=!1;if(!R){if(!r)return;R=a.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:R,fromState:g,toState:b,player:l,isFallbackTransition:H}),H||(Ps(e,NI),l.onStart(()=>{uu(e,NI)})),l.onDone(()=>{let q=this.players.indexOf(l);q>=0&&this.players.splice(q,1);const X=this._engine.playersByElement.get(e);if(X){let ge=X.indexOf(l);ge>=0&&X.splice(ge,1)}}),this.players.push(l),z.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Dv,!0);i.forEach(r=>{if(r[Vs])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const d=[];if(a.forEach((g,b)=>{if(l.set(b,g.value),this._triggers.has(b)){const w=this.trigger(e,b,lh,r);w&&d.push(w)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&rc(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const l=a.name;if(r.has(l))return;r.add(l);const g=this._triggers.get(l).fallbackTransition,b=i.get(l)||Ow,w=new Rw(lh),N=new Vw(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:g,fromState:b,toState:w,player:N,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Vs];(!a||a===TI)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ps(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,l=this._elementListeners.get(a);l&&l.forEach(d=>{if(d.name==i.triggerName){const g=_w(a,i.triggerName,i.fromState.value,i.toState.value);g._data=e,gw(i.player,d.phase,g,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class k8e{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new L8e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,d=this.driver.getParentElement(t);for(;d;){const g=r.get(d);if(g){const b=i.indexOf(g);i.splice(b+1,0,e),l=!0;break}d=this.driver.getParentElement(d)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(Rv(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Rv(t))return;const a=t[Vs];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ps(e,kw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uu(e,kw))}removeNode(e,t,i,r){if(Rv(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Vs]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return Rv(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Dv,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ww,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Vs];if(t&&t.setForRemoval){if(e[Vs]=TI,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(kw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ps(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?rc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function kce(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new zv,r=[],a=new Map,l=[],d=new Map,g=new Map,b=new Map,w=new Set;this.disabledNodes.forEach(nt=>{w.add(nt);const gt=this.driver.query(nt,".ng-animate-queued",!0);for(let It=0;It<gt.length;It++)w.add(gt[It])});const N=this.bodyNode,z=Array.from(this.statesByElement.keys()),R=xI(z,this.collectedEnterElements),H=new Map;let q=0;R.forEach((nt,gt)=>{const It=Mw+q++;H.set(gt,It),nt.forEach(Qt=>Ps(Qt,It))});const X=[],ge=new Set,Ae=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const gt=this.collectedLeaveElements[nt],It=gt[Vs];It&&It.setForRemoval&&(X.push(gt),ge.add(gt),It.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Qt=>ge.add(Qt)):Ae.add(gt))}const Ve=new Map,Le=xI(z,Array.from(ge));Le.forEach((nt,gt)=>{const It=Mv+q++;Ve.set(gt,It),nt.forEach(Qt=>Ps(Qt,It))}),e.push(()=>{R.forEach((nt,gt)=>{const It=H.get(gt);nt.forEach(Qt=>uu(Qt,It))}),Le.forEach((nt,gt)=>{const It=Ve.get(gt);nt.forEach(Qt=>uu(Qt,It))}),X.forEach(nt=>{this.processLeaveNode(nt)})});const Fe=[],Be=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(t).forEach(It=>{const Qt=It.player,xn=It.element;if(Fe.push(Qt),this.collectedEnterElements.length){const Zn=xn[Vs];if(Zn&&Zn.setForMove){if(Zn.previousTriggersValues&&Zn.previousTriggersValues.has(It.triggerName)){const Fi=Zn.previousTriggersValues.get(It.triggerName),pi=this.statesByElement.get(It.element);if(pi&&pi.has(It.triggerName)){const fu=pi.get(It.triggerName);fu.value=Fi,pi.set(It.triggerName,fu)}}return void Qt.destroy()}}const ur=!N||!this.driver.containsElement(N,xn),N2=Ve.get(xn),Yr=H.get(xn),k1=this._buildInstruction(It,i,Yr,N2,ur);if(k1.errors&&k1.errors.length)return void Be.push(k1);if(ur)return Qt.onStart(()=>d5(xn,k1.fromStyles)),Qt.onDestroy(()=>c4(xn,k1.toStyles)),void r.push(Qt);if(It.isFallbackTransition)return Qt.onStart(()=>d5(xn,k1.fromStyles)),Qt.onDestroy(()=>c4(xn,k1.toStyles)),void r.push(Qt);const Po=[];k1.timelines.forEach(Zn=>{Zn.stretchStartingKeyframe=!0,this.disabledNodes.has(Zn.element)||Po.push(Zn)}),k1.timelines=Po,i.append(xn,k1.timelines),l.push({instruction:k1,player:Qt,element:xn}),k1.queriedElements.forEach(Zn=>Zr(d,Zn,[]).push(Qt)),k1.preStyleProps.forEach((Zn,Fi)=>{if(Zn.size){let pi=g.get(Fi);pi||g.set(Fi,pi=new Set),Zn.forEach((fu,m5)=>pi.add(m5))}}),k1.postStyleProps.forEach((Zn,Fi)=>{let pi=b.get(Fi);pi||b.set(Fi,pi=new Set),Zn.forEach((fu,m5)=>pi.add(m5))})});if(Be.length){const nt=[];Be.forEach(gt=>{nt.push(function Rce(n,e){return new u.vHH(3505,!1)}())}),Fe.forEach(gt=>gt.destroy()),this.reportError(nt)}const mt=new Map,jt=new Map;l.forEach(nt=>{const gt=nt.element;i.has(gt)&&(jt.set(gt,gt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,mt))}),r.forEach(nt=>{const gt=nt.element;this._getPreviousPlayers(gt,!1,nt.namespaceId,nt.triggerName,null).forEach(Qt=>{Zr(mt,gt,[]).push(Qt),Qt.destroy()})});const T1=X.filter(nt=>LI(nt,g,b)),C1=new Map;II(C1,this.driver,Ae,b,Y3).forEach(nt=>{LI(nt,g,b)&&T1.push(nt)});const ei=new Map;R.forEach((nt,gt)=>{II(ei,this.driver,new Set(nt),g,"!")}),T1.forEach(nt=>{const gt=C1.get(nt),It=ei.get(nt);C1.set(nt,new Map([...Array.from(gt?.entries()??[]),...Array.from(It?.entries()??[])]))});const In=[],l4=[],u4={};l.forEach(nt=>{const{element:gt,player:It,instruction:Qt}=nt;if(i.has(gt)){if(w.has(gt))return It.onDestroy(()=>c4(gt,Qt.toStyles)),It.disabled=!0,It.overrideTotalTime(Qt.totalTime),void r.push(It);let xn=u4;if(jt.size>1){let N2=gt;const Yr=[];for(;N2=N2.parentNode;){const k1=jt.get(N2);if(k1){xn=k1;break}Yr.push(N2)}Yr.forEach(k1=>jt.set(k1,xn))}const ur=this._buildAnimation(It.namespaceId,Qt,mt,a,ei,C1);if(It.setRealPlayer(ur),xn===u4)In.push(It);else{const N2=this.playersByElement.get(xn);N2&&N2.length&&(It.parentPlayer=rc(N2)),r.push(It)}}else d5(gt,Qt.fromStyles),It.onDestroy(()=>c4(gt,Qt.toStyles)),l4.push(It),w.has(gt)&&r.push(It)}),l4.forEach(nt=>{const gt=a.get(nt.element);if(gt&&gt.length){const It=rc(gt);nt.setRealPlayer(It)}}),r.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<X.length;nt++){const gt=X[nt],It=gt[Vs];if(uu(gt,Mv),It&&It.hasAnimation)continue;let Qt=[];if(d.size){let ur=d.get(gt);ur&&ur.length&&Qt.push(...ur);let N2=this.driver.query(gt,ww,!0);for(let Yr=0;Yr<N2.length;Yr++){let k1=d.get(N2[Yr]);k1&&k1.length&&Qt.push(...k1)}}const xn=Qt.filter(ur=>!ur.destroyed);xn.length?P8e(this,gt,xn):this.processLeaveNode(gt)}return X.length=0,In.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const gt=this.players.indexOf(nt);this.players.splice(gt,1)}),nt.play()}),In}elementContainsData(e,t){let i=!1;const r=t[Vs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let l=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(l=d)}else{const d=this.playersByElement.get(e);if(d){const g=!a||a==lh;d.forEach(b=>{b.queued||!g&&b.triggerName!=r||l.push(b)})}}return(i||r)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),l}_beforeAnimationBuild(e,t,i){const a=t.element,l=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const b=g.element,w=b!==a,N=Zr(i,b,[]);this._getPreviousPlayers(b,w,l,d,t.toState).forEach(R=>{const H=R.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),R.destroy(),N.push(R)})}d5(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,l){const d=t.triggerName,g=t.element,b=[],w=new Set,N=new Set,z=t.timelines.map(H=>{const q=H.element;w.add(q);const X=q[Vs];if(X&&X.removedBeforeQueried)return new sh(H.duration,H.delay);const ge=q!==g,Ae=function H8e(n){const e=[];return zI(n,e),e}((i.get(q)||x8e).map(mt=>mt.getRealPlayer())).filter(mt=>!!mt.element&&mt.element===q),Ve=a.get(q),Le=l.get(q),Fe=rI(0,this._normalizer,0,H.keyframes,Ve,Le),Be=this._buildPlayer(H,Fe,Ae);if(H.subTimeline&&r&&N.add(q),ge){const mt=new Vw(e,d,q);mt.setRealPlayer(Be),b.push(mt)}return Be});b.forEach(H=>{Zr(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function R8e(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,H.element,H))}),w.forEach(H=>Ps(H,hI));const R=rc(z);return R.onDestroy(()=>{w.forEach(H=>uu(H,hI)),c4(g,t.toStyles)}),N.forEach(H=>{Zr(r,H,[]).push(R)}),R}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new sh(e.duration,e.delay)}}class Vw{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new sh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>gw(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Rv(n){return n&&1===n.nodeType}function AI(n,e){const t=n.style.display;return n.style.display=e??"none",t}function II(n,e,t,i,r){const a=[];t.forEach(g=>a.push(AI(g)));const l=[];i.forEach((g,b)=>{const w=new Map;g.forEach(N=>{const z=e.computeStyle(b,N,r);w.set(N,z),(!z||0==z.length)&&(b[Vs]=z8e,l.push(b))}),n.set(b,w)});let d=0;return t.forEach(g=>AI(g,a[d++])),l}function xI(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),a=new Map;function l(d){if(!d)return 1;let g=a.get(d);if(g)return g;const b=d.parentNode;return g=t.has(b)?b:r.has(b)?1:l(b),a.set(d,g),g}return e.forEach(d=>{const g=l(d);1!==g&&t.get(g).push(d)}),t}function Ps(n,e){n.classList?.add(e)}function uu(n,e){n.classList?.remove(e)}function P8e(n,e,t){rc(t).onDone(()=>n.processLeaveNode(e))}function zI(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof nI?zI(i.players,e):e.push(i)}}function LI(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class Ov{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new k8e(e,t,i),this._timelineEngine=new S8e(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const l=e+"-"+r;let d=this._triggerCache[l];if(!d){const g=[],w=Nw(this._driver,a,g,[]);if(g.length)throw function Dce(n,e){return new u.vHH(3404,!1)}();d=function M8e(n,e,t){return new w8e(n,e,t)}(r,w,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,l]=sI(i);this._timelineEngine.command(a,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[l,d]=sI(i);return this._timelineEngine.listen(l,t,d,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let U8e=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&c4(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(c4(this._element,this._initialStyles),this._endStyles&&(c4(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(d5(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(d5(this._element,this._endStyles),this._endStyles=null),c4(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Pw(n){let e=null;return n.forEach((t,i)=>{(function j8e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class kI{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:yI(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class G8e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return lI(e,t)}getParentElement(e){return bw(e)}query(e,t,i){return uI(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,l=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(g.easing=a);const b=new Map,w=l.filter(R=>R instanceof kI);(function Zce(n,e){return 0===n||0===e})(i,r)&&w.forEach(R=>{R.currentSnapshot.forEach((H,q)=>b.set(q,H))});let N=function Gce(n){return n.length?n[0]instanceof Map?n:n.map(e=>pI(e)):[]}(t).map(R=>sc(R));N=function Kce(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,l)=>{i.has(l)||r.push(l),i.set(l,a)}),r.length)for(let a=1;a<e.length;a++){let l=e[a];r.forEach(d=>l.set(d,yI(n,d)))}}return e}(e,N,b);const z=function B8e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Pw(e[0]),e.length>1&&(i=Pw(e[e.length-1]))):e instanceof Map&&(t=Pw(e)),t||i?new U8e(n,t,i):null}(e,N);return new kI(e,N,g,z)}}let $8e=(()=>{class n extends QA{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?XA(t):t;return RI(this._renderer,null,i,"register",[r]),new q8e(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class q8e extends class nce{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new W8e(this._id,e,t||{},this._renderer)}}class W8e{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return RI(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function RI(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const OI="@.disabled";let Z8e=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,l)=>{const d=l?.parentNode(a);d&&l.removeChild(d,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(a);return w||(w=new VI("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,w)),w}const l=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const g=w=>{Array.isArray(w)?w.forEach(g):this.engine.registerTrigger(l,d,t,w.name,w)};return i.data.animation.forEach(g),new K8e(this,d,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,d]=a;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Ov),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class VI{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==OI?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class K8e extends VI{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==OI?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Y8e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function J8e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let Q8e=(()=>{class n extends Ov{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(le),u.LFG(Cw),u.LFG(zw),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const PI=[{provide:QA,useClass:$8e},{provide:zw,useFactory:function X8e(){return new _8e}},{provide:Ov,useClass:Q8e},{provide:u.FYo,useFactory:function e5e(n,e,t){return new Z8e(n,e,t)},deps:[Dr,Ov,u.R0b]}],Hw=[{provide:Cw,useFactory:()=>new G8e},{provide:u.QbO,useValue:"BrowserAnimations"},...PI],HI=[{provide:Cw,useClass:fI},{provide:u.QbO,useValue:"NoopAnimations"},...PI];let t5e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?HI:Hw}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Hw,imports:[pa]}),n})();const FI_firebase={projectId:"tubular-cccbd",appId:"1:990028114373:web:bf29b487880603fb1543ac",databaseURL:"https://tubular-cccbd-default-rtdb.firebaseio.com",storageBucket:"tubular-cccbd.appspot.com",apiKey:"AIzaSyA6F-mX06HCp46CBVOpZ07oSlFJuKm1FUw",authDomain:"tubular-cccbd.firebaseapp.com",messagingSenderId:"990028114373",measurementId:"G-8WS0Q8EVHW"};function n5e(){return k.e(487).then(k.t.bind(k,4487,23))}let i5e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[H0e]}),n.\u0275inj=u.cJS({providers:[tce,Q7,ET],imports:[pa,xae,coe,ece,t5e,Ai.hO.initializeApp(FI_firebase),ML,yD,Nae.forRoot({player:n5e}),z0e,rw,DT]}),n})();(0,u.G48)(),ha().bootstrapModule(i5e).catch(n=>console.error(n))},9751:(vt,Ne,k)=>{k.d(Ne,{y:()=>he});var u=k(930),ne=k(727),O=k(8822),oe=k(9635),ae=k(2416),de=k(576),le=k(2806);let he=(()=>{class Y{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const we=new Y;return we.source=this,we.operator=ke,we}subscribe(ke,we,ut){const _e=function j(Y){return Y&&Y instanceof u.Lv||function U(Y){return Y&&(0,de.m)(Y.next)&&(0,de.m)(Y.error)&&(0,de.m)(Y.complete)}(Y)&&(0,ne.Nn)(Y)}(ke)?ke:new u.Hp(ke,we,ut);return(0,le.x)(()=>{const{operator:me,source:st}=this;_e.add(me?me.call(_e,st):st?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(ke){try{return this._subscribe(ke)}catch(we){ke.error(we)}}forEach(ke,we){return new(we=pe(we))((ut,_e)=>{const me=new u.Hp({next:st=>{try{ke(st)}catch(dt){_e(dt),me.unsubscribe()}},error:_e,complete:ut});this.subscribe(me)})}_subscribe(ke){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(ke)}[O.L](){return this}pipe(...ke){return(0,oe.U)(ke)(this)}toPromise(ke){return new(ke=pe(ke))((we,ut)=>{let _e;this.subscribe(me=>_e=me,me=>ut(me),()=>we(_e))})}}return Y.create=Ue=>new Y(Ue),Y})();function pe(Y){var Ue;return null!==(Ue=Y??ae.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(vt,Ne,k)=>{k.d(Ne,{x:()=>le});var u=k(9751),ne=k(727);const oe=(0,k(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),de=k(2806);let le=(()=>{class pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Y=new he(this,this);return Y.operator=j,Y}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(j)}})}error(j){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Y}=this;for(;Y.length;)Y.shift().error(j)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Y,isStopped:Ue,observers:ke}=this;return Y||Ue?ne.Lc:(this.currentObservers=null,ke.push(j),new ne.w0(()=>{this.currentObservers=null,(0,ae.P)(ke,j)}))}_checkFinalizedStatuses(j){const{hasError:Y,thrownError:Ue,isStopped:ke}=this;Y?j.error(Ue):ke&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return pe.create=(U,j)=>new he(U,j),pe})();class he extends le{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Y||Y.call(j,U)}error(U){var j,Y;null===(Y=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Y||Y.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,Y;return null!==(Y=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==Y?Y:ne.Lc}}},930:(vt,Ne,k)=>{k.d(Ne,{Hp:()=>ut,Lv:()=>Y});var u=k(576),ne=k(727),O=k(2416),oe=k(7849),ae=k(5032);const de=pe("C",void 0,void 0);function pe(Ie,Ce,De){return{kind:Ie,value:Ce,error:De}}var U=k(3410),j=k(2806);class Y extends ne.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ne.Nn)(Ce)&&Ce.add(this)):this.destination=dt}static create(Ce,De,qe){return new ut(Ce,De,qe)}next(Ce){this.isStopped?st(function he(Ie){return pe("N",Ie,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?st(function le(Ie){return pe("E",void 0,Ie)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?st(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function ke(Ie,Ce){return Ue.call(Ie,Ce)}class we{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:De}=this;if(De.next)try{De.next(Ce)}catch(qe){_e(qe)}}error(Ce){const{partialObserver:De}=this;if(De.error)try{De.error(Ce)}catch(qe){_e(qe)}else _e(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(De){_e(De)}}}class ut extends Y{constructor(Ce,De,qe){let We;if(super(),(0,u.m)(Ce)||!Ce)We={next:Ce??void 0,error:De??void 0,complete:qe??void 0};else{let B;this&&O.v.useDeprecatedNextContext?(B=Object.create(Ce),B.unsubscribe=()=>this.unsubscribe(),We={next:Ce.next&&ke(Ce.next,B),error:Ce.error&&ke(Ce.error,B),complete:Ce.complete&&ke(Ce.complete,B)}):We=Ce}this.destination=new we(We)}}function _e(Ie){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ie):(0,oe.h)(Ie)}function st(Ie,Ce){const{onStoppedNotification:De}=O.v;De&&U.z.setTimeout(()=>De(Ie,Ce))}const dt={closed:!0,next:ae.Z,error:function me(Ie){throw Ie},complete:ae.Z}},727:(vt,Ne,k)=>{k.d(Ne,{Lc:()=>de,w0:()=>ae,Nn:()=>le});var u=k(576);const O=(0,k(3888).d)(pe=>function(j){pe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Y,Ue)=>`${Ue+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=k(8737);class ae{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ke of j)ke.remove(this);else j.remove(this);const{initialTeardown:Y}=this;if((0,u.m)(Y))try{Y()}catch(ke){U=ke instanceof O?ke.errors:[ke]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const ke of Ue)try{he(ke)}catch(we){U=U??[],we instanceof O?U=[...U,...we.errors]:U.push(we)}}if(U)throw new O(U)}}add(U){var j;if(U&&U!==this)if(this.closed)he(U);else{if(U instanceof ae){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,U)}remove(U){const{_finalizers:j}=this;j&&(0,oe.P)(j,U),U instanceof ae&&U._removeParent(this)}}ae.EMPTY=(()=>{const pe=new ae;return pe.closed=!0,pe})();const de=ae.EMPTY;function le(pe){return pe instanceof ae||pe&&"closed"in pe&&(0,u.m)(pe.remove)&&(0,u.m)(pe.add)&&(0,u.m)(pe.unsubscribe)}function he(pe){(0,u.m)(pe)?pe():pe.unsubscribe()}},2416:(vt,Ne,k)=>{k.d(Ne,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Ne,k)=>{k.d(Ne,{E:()=>ne});const ne=new(k(9751).y)(ae=>ae.complete())},8996:(vt,Ne,k)=>{k.d(Ne,{D:()=>Ce});var u=k(8421),ne=k(5363),O=k(9468),de=k(9751),he=k(2202),pe=k(576),U=k(9672);function Y(De,qe){if(!De)throw new Error("Iterable cannot be null");return new de.y(We=>{(0,U.f)(We,qe,()=>{const B=De[Symbol.asyncIterator]();(0,U.f)(We,qe,()=>{B.next().then(ve=>{ve.done?We.complete():We.next(ve.value)})},0,!0)})})}var Ue=k(3670),ke=k(8239),we=k(1144),ut=k(6495),_e=k(2206),me=k(4532),st=k(3260);function Ce(De,qe){return qe?function Ie(De,qe){if(null!=De){if((0,Ue.c)(De))return function oe(De,qe){return(0,u.Xf)(De).pipe((0,O.R)(qe),(0,ne.Q)(qe))}(De,qe);if((0,we.z)(De))return function le(De,qe){return new de.y(We=>{let B=0;return qe.schedule(function(){B===De.length?We.complete():(We.next(De[B++]),We.closed||this.schedule())})})}(De,qe);if((0,ke.t)(De))return function ae(De,qe){return(0,u.Xf)(De).pipe((0,O.R)(qe),(0,ne.Q)(qe))}(De,qe);if((0,_e.D)(De))return Y(De,qe);if((0,ut.T)(De))return function j(De,qe){return new de.y(We=>{let B;return(0,U.f)(We,qe,()=>{B=De[he.h](),(0,U.f)(We,qe,()=>{let ve,Z;try{({value:ve,done:Z}=B.next())}catch(ee){return void We.error(ee)}Z?We.complete():We.next(ve)},0,!0)}),()=>(0,pe.m)(B?.return)&&B.return()})}(De,qe);if((0,st.L)(De))return function dt(De,qe){return Y((0,st.Q)(De),qe)}(De,qe)}throw(0,me.z)(De)}(De,qe):(0,u.Xf)(De)}},8421:(vt,Ne,k)=>{k.d(Ne,{Xf:()=>Ue});var u=k(655),ne=k(1144),O=k(8239),oe=k(9751),ae=k(3670),de=k(2206),le=k(4532),he=k(6495),pe=k(3260),U=k(576),j=k(7849),Y=k(8822);function Ue(Ie){if(Ie instanceof oe.y)return Ie;if(null!=Ie){if((0,ae.c)(Ie))return function ke(Ie){return new oe.y(Ce=>{const De=Ie[Y.L]();if((0,U.m)(De.subscribe))return De.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,ne.z)(Ie))return function we(Ie){return new oe.y(Ce=>{for(let De=0;De<Ie.length&&!Ce.closed;De++)Ce.next(Ie[De]);Ce.complete()})}(Ie);if((0,O.t)(Ie))return function ut(Ie){return new oe.y(Ce=>{Ie.then(De=>{Ce.closed||(Ce.next(De),Ce.complete())},De=>Ce.error(De)).then(null,j.h)})}(Ie);if((0,de.D)(Ie))return me(Ie);if((0,he.T)(Ie))return function _e(Ie){return new oe.y(Ce=>{for(const De of Ie)if(Ce.next(De),Ce.closed)return;Ce.complete()})}(Ie);if((0,pe.L)(Ie))return function st(Ie){return me((0,pe.Q)(Ie))}(Ie)}throw(0,le.z)(Ie)}function me(Ie){return new oe.y(Ce=>{(function dt(Ie,Ce){var De,qe,We,B;return(0,u.mG)(this,void 0,void 0,function*(){try{for(De=(0,u.KL)(Ie);!(qe=yield De.next()).done;)if(Ce.next(qe.value),Ce.closed)return}catch(ve){We={error:ve}}finally{try{qe&&!qe.done&&(B=De.return)&&(yield B.call(De))}finally{if(We)throw We.error}}Ce.complete()})})(Ie,Ce).catch(De=>Ce.error(De))})}},6451:(vt,Ne,k)=>{k.d(Ne,{T:()=>de});var u=k(8189),ne=k(8421),O=k(515),oe=k(3269),ae=k(8996);function de(...le){const he=(0,oe.yG)(le),pe=(0,oe._6)(le,1/0),U=le;return U.length?1===U.length?(0,ne.Xf)(U[0]):(0,u.J)(pe)((0,ae.D)(U,he)):O.E}},5403:(vt,Ne,k)=>{k.d(Ne,{x:()=>ne});var u=k(930);function ne(oe,ae,de,le,he){return new O(oe,ae,de,le,he)}class O extends u.Lv{constructor(ae,de,le,he,pe,U){super(ae),this.onFinalize=pe,this.shouldUnsubscribe=U,this._next=de?function(j){try{de(j)}catch(Y){ae.error(Y)}}:super._next,this._error=he?function(j){try{he(j)}catch(Y){ae.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){ae.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(vt,Ne,k)=>{k.d(Ne,{U:()=>O});var u=k(4482),ne=k(5403);function O(oe,ae){return(0,u.e)((de,le)=>{let he=0;de.subscribe((0,ne.x)(le,pe=>{le.next(oe.call(ae,pe,he++))}))})}},8189:(vt,Ne,k)=>{k.d(Ne,{J:()=>O});var u=k(5577),ne=k(4671);function O(oe=1/0){return(0,u.z)(ne.y,oe)}},5577:(vt,Ne,k)=>{k.d(Ne,{z:()=>he});var u=k(4004),ne=k(8421),O=k(4482),oe=k(9672),ae=k(5403),le=k(576);function he(pe,U,j=1/0){return(0,le.m)(U)?he((Y,Ue)=>(0,u.U)((ke,we)=>U(Y,ke,Ue,we))((0,ne.Xf)(pe(Y,Ue))),j):("number"==typeof U&&(j=U),(0,O.e)((Y,Ue)=>function de(pe,U,j,Y,Ue,ke,we,ut){const _e=[];let me=0,st=0,dt=!1;const Ie=()=>{dt&&!_e.length&&!me&&U.complete()},Ce=qe=>me<Y?De(qe):_e.push(qe),De=qe=>{ke&&U.next(qe),me++;let We=!1;(0,ne.Xf)(j(qe,st++)).subscribe((0,ae.x)(U,B=>{Ue?.(B),ke?Ce(B):U.next(B)},()=>{We=!0},void 0,()=>{if(We)try{for(me--;_e.length&&me<Y;){const B=_e.shift();we?(0,oe.f)(U,we,()=>De(B)):De(B)}Ie()}catch(B){U.error(B)}}))};return pe.subscribe((0,ae.x)(U,Ce,()=>{dt=!0,Ie()})),()=>{ut?.()}}(Y,Ue,pe,j)))}},5363:(vt,Ne,k)=>{k.d(Ne,{Q:()=>oe});var u=k(9672),ne=k(4482),O=k(5403);function oe(ae,de=0){return(0,ne.e)((le,he)=>{le.subscribe((0,O.x)(he,pe=>(0,u.f)(he,ae,()=>he.next(pe),de),()=>(0,u.f)(he,ae,()=>he.complete(),de),pe=>(0,u.f)(he,ae,()=>he.error(pe),de)))})}},3099:(vt,Ne,k)=>{k.d(Ne,{B:()=>ae});var u=k(8421),ne=k(7579),O=k(930),oe=k(4482);function ae(le={}){const{connector:he=(()=>new ne.x),resetOnError:pe=!0,resetOnComplete:U=!0,resetOnRefCountZero:j=!0}=le;return Y=>{let Ue,ke,we,ut=0,_e=!1,me=!1;const st=()=>{ke?.unsubscribe(),ke=void 0},dt=()=>{st(),Ue=we=void 0,_e=me=!1},Ie=()=>{const Ce=Ue;dt(),Ce?.unsubscribe()};return(0,oe.e)((Ce,De)=>{ut++,!me&&!_e&&st();const qe=we=we??he();De.add(()=>{ut--,0===ut&&!me&&!_e&&(ke=de(Ie,j))}),qe.subscribe(De),!Ue&&ut>0&&(Ue=new O.Hp({next:We=>qe.next(We),error:We=>{me=!0,st(),ke=de(dt,pe,We),qe.error(We)},complete:()=>{_e=!0,st(),ke=de(dt,U),qe.complete()}}),(0,u.Xf)(Ce).subscribe(Ue))})(Y)}}function de(le,he,...pe){if(!0===he)return void le();if(!1===he)return;const U=new O.Hp({next:()=>{U.unsubscribe(),le()}});return he(...pe).subscribe(U)}},9468:(vt,Ne,k)=>{k.d(Ne,{R:()=>ne});var u=k(4482);function ne(O,oe=0){return(0,u.e)((ae,de)=>{de.add(O.schedule(()=>ae.subscribe(de),oe))})}},8505:(vt,Ne,k)=>{k.d(Ne,{b:()=>ae});var u=k(576),ne=k(4482),O=k(5403),oe=k(4671);function ae(de,le,he){const pe=(0,u.m)(de)||le||he?{next:de,error:le,complete:he}:de;return pe?(0,ne.e)((U,j)=>{var Y;null===(Y=pe.subscribe)||void 0===Y||Y.call(pe);let Ue=!0;U.subscribe((0,O.x)(j,ke=>{var we;null===(we=pe.next)||void 0===we||we.call(pe,ke),j.next(ke)},()=>{var ke;Ue=!1,null===(ke=pe.complete)||void 0===ke||ke.call(pe),j.complete()},ke=>{var we;Ue=!1,null===(we=pe.error)||void 0===we||we.call(pe,ke),j.error(ke)},()=>{var ke,we;Ue&&(null===(ke=pe.unsubscribe)||void 0===ke||ke.call(pe)),null===(we=pe.finalize)||void 0===we||we.call(pe)}))}):oe.y}},4408:(vt,Ne,k)=>{k.d(Ne,{o:()=>ae});var u=k(727);class ne extends u.w0{constructor(le,he){super()}schedule(le,he=0){return this}}const O={setInterval(de,le,...he){const{delegate:pe}=O;return pe?.setInterval?pe.setInterval(de,le,...he):setInterval(de,le,...he)},clearInterval(de){const{delegate:le}=O;return(le?.clearInterval||clearInterval)(de)},delegate:void 0};var oe=k(8737);class ae extends ne{constructor(le,he){super(le,he),this.scheduler=le,this.work=he,this.pending=!1}schedule(le,he=0){var pe;if(this.closed)return this;this.state=le;const U=this.id,j=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(j,U,he)),this.pending=!0,this.delay=he,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(j,this.id,he),this}requestAsyncId(le,he,pe=0){return O.setInterval(le.flush.bind(le,this),pe)}recycleAsyncId(le,he,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return he;null!=he&&O.clearInterval(he)}execute(le,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(le,he);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,he){let U,pe=!1;try{this.work(le)}catch(j){pe=!0,U=j||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:le,scheduler:he}=this,{actions:pe}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(pe,this),null!=le&&(this.id=this.recycleAsyncId(he,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Ne,k)=>{k.d(Ne,{v:()=>O});var u=k(6063);class ne{constructor(ae,de=ne.now){this.schedulerActionCtor=ae,this.now=de}schedule(ae,de=0,le){return new this.schedulerActionCtor(this,ae).schedule(le,de)}}ne.now=u.l.now;class O extends ne{constructor(ae,de=ne.now){super(ae,de),this.actions=[],this._active=!1}flush(ae){const{actions:de}=this;if(this._active)return void de.push(ae);let le;this._active=!0;do{if(le=ae.execute(ae.state,ae.delay))break}while(ae=de.shift());if(this._active=!1,le){for(;ae=de.shift();)ae.unsubscribe();throw le}}}},4986:(vt,Ne,k)=>{k.d(Ne,{P:()=>oe,z:()=>O});var u=k(4408);const O=new(k(7565).v)(u.o),oe=O},6063:(vt,Ne,k)=>{k.d(Ne,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(vt,Ne,k)=>{k.d(Ne,{z:()=>u});const u={setTimeout(ne,O,...oe){const{delegate:ae}=u;return ae?.setTimeout?ae.setTimeout(ne,O,...oe):setTimeout(ne,O,...oe)},clearTimeout(ne){const{delegate:O}=u;return(O?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},2202:(vt,Ne,k)=>{k.d(Ne,{h:()=>ne});const ne=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Ne,k)=>{k.d(Ne,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Ne,k)=>{k.d(Ne,{_6:()=>de,jO:()=>oe,yG:()=>ae});var u=k(576),ne=k(3532);function O(le){return le[le.length-1]}function oe(le){return(0,u.m)(O(le))?le.pop():void 0}function ae(le){return(0,ne.K)(O(le))?le.pop():void 0}function de(le,he){return"number"==typeof O(le)?le.pop():he}},8737:(vt,Ne,k)=>{function u(ne,O){if(ne){const oe=ne.indexOf(O);0<=oe&&ne.splice(oe,1)}}k.d(Ne,{P:()=>u})},3888:(vt,Ne,k)=>{function u(ne){const oe=ne(ae=>{Error.call(ae),ae.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(Ne,{d:()=>u})},2806:(vt,Ne,k)=>{k.d(Ne,{O:()=>oe,x:()=>O});var u=k(2416);let ne=null;function O(ae){if(u.v.useDeprecatedSynchronousErrorHandling){const de=!ne;if(de&&(ne={errorThrown:!1,error:null}),ae(),de){const{errorThrown:le,error:he}=ne;if(ne=null,le)throw he}}else ae()}function oe(ae){u.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=ae)}},9672:(vt,Ne,k)=>{function u(ne,O,oe,ae=0,de=!1){const le=O.schedule(function(){oe(),de?ne.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(ne.add(le),!de)return le}k.d(Ne,{f:()=>u})},4671:(vt,Ne,k)=>{function u(ne){return ne}k.d(Ne,{y:()=>u})},1144:(vt,Ne,k)=>{k.d(Ne,{z:()=>u});const u=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(vt,Ne,k)=>{k.d(Ne,{D:()=>ne});var u=k(576);function ne(O){return Symbol.asyncIterator&&(0,u.m)(O?.[Symbol.asyncIterator])}},576:(vt,Ne,k)=>{function u(ne){return"function"==typeof ne}k.d(Ne,{m:()=>u})},3670:(vt,Ne,k)=>{k.d(Ne,{c:()=>O});var u=k(8822),ne=k(576);function O(oe){return(0,ne.m)(oe[u.L])}},6495:(vt,Ne,k)=>{k.d(Ne,{T:()=>O});var u=k(2202),ne=k(576);function O(oe){return(0,ne.m)(oe?.[u.h])}},8239:(vt,Ne,k)=>{k.d(Ne,{t:()=>ne});var u=k(576);function ne(O){return(0,u.m)(O?.then)}},3260:(vt,Ne,k)=>{k.d(Ne,{L:()=>oe,Q:()=>O});var u=k(655),ne=k(576);function O(ae){return(0,u.FC)(this,arguments,function*(){const le=ae.getReader();try{for(;;){const{value:he,done:pe}=yield(0,u.qq)(le.read());if(pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{le.releaseLock()}})}function oe(ae){return(0,ne.m)(ae?.getReader)}},3532:(vt,Ne,k)=>{k.d(Ne,{K:()=>ne});var u=k(576);function ne(O){return O&&(0,u.m)(O.schedule)}},4482:(vt,Ne,k)=>{k.d(Ne,{A:()=>ne,e:()=>O});var u=k(576);function ne(oe){return(0,u.m)(oe?.lift)}function O(oe){return ae=>{if(ne(ae))return ae.lift(function(de){try{return oe(de,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Ne,k)=>{function u(){}k.d(Ne,{Z:()=>u})},9635:(vt,Ne,k)=>{k.d(Ne,{U:()=>O,z:()=>ne});var u=k(4671);function ne(...oe){return O(oe)}function O(oe){return 0===oe.length?u.y:1===oe.length?oe[0]:function(de){return oe.reduce((le,he)=>he(le),de)}}},7849:(vt,Ne,k)=>{k.d(Ne,{h:()=>O});var u=k(2416),ne=k(3410);function O(oe){ne.z.setTimeout(()=>{const{onUnhandledError:ae}=u.v;if(!ae)throw oe;ae(oe)})}},4532:(vt,Ne,k)=>{function u(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ne,{z:()=>u})},655:(vt,Ne,k)=>{function oe(Z,ee){var se={};for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&ee.indexOf(re)<0&&(se[re]=Z[re]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(re=Object.getOwnPropertySymbols(Z);Pe<re.length;Pe++)ee.indexOf(re[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Z,re[Pe])&&(se[re[Pe]]=Z[re[Pe]])}return se}function he(Z,ee,se,re){return new(se||(se=Promise))(function(Oe,bt){function s1(v1){try{et(re.next(v1))}catch(A1){bt(A1)}}function qt(v1){try{et(re.throw(v1))}catch(A1){bt(A1)}}function et(v1){v1.done?Oe(v1.value):function Pe(Oe){return Oe instanceof se?Oe:new se(function(bt){bt(Oe)})}(v1.value).then(s1,qt)}et((re=re.apply(Z,ee||[])).next())})}function _e(Z){return this instanceof _e?(this.v=Z,this):new _e(Z)}function me(Z,ee,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,re=se.apply(Z,ee||[]),Oe=[];return Pe={},bt("next"),bt("throw"),bt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function bt(n1){re[n1]&&(Pe[n1]=function(o1){return new Promise(function(Kn,Ft){Oe.push([n1,o1,Kn,Ft])>1||s1(n1,o1)})})}function s1(n1,o1){try{!function qt(n1){n1.value instanceof _e?Promise.resolve(n1.value.v).then(et,v1):A1(Oe[0][2],n1)}(re[n1](o1))}catch(Kn){A1(Oe[0][3],Kn)}}function et(n1){s1("next",n1)}function v1(n1){s1("throw",n1)}function A1(n1,o1){n1(o1),Oe.shift(),Oe.length&&s1(Oe[0][0],Oe[0][1])}}function dt(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,ee=Z[Symbol.asyncIterator];return ee?ee.call(Z):(Z=function Y(Z){var ee="function"==typeof Symbol&&Symbol.iterator,se=ee&&Z[ee],re=0;if(se)return se.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&re>=Z.length&&(Z=void 0),{value:Z&&Z[re++],done:!Z}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),se={},re("next"),re("throw"),re("return"),se[Symbol.asyncIterator]=function(){return this},se);function re(Oe){se[Oe]=Z[Oe]&&function(bt){return new Promise(function(s1,qt){!function Pe(Oe,bt,s1,qt){Promise.resolve(qt).then(function(et){Oe({value:et,done:s1})},bt)}(s1,qt,(bt=Z[Oe](bt)).done,bt.value)})}}}k.d(Ne,{FC:()=>me,KL:()=>dt,_T:()=>oe,mG:()=>he,qq:()=>_e})},4650:(vt,Ne,k)=>{k.d(Ne,{$8M:()=>va,$Z:()=>Fh,AFp:()=>Ff,ALo:()=>Cf,AaK:()=>he,CHM:()=>Qo,CRH:()=>T3,CZH:()=>x3,CqO:()=>wp,D6c:()=>dg,EJc:()=>Py,EiD:()=>_h,EpF:()=>Mp,F$t:()=>Gl,F4k:()=>z9,FYo:()=>jc,FiY:()=>Ge,G48:()=>Xf,Gf:()=>As,GfV:()=>xh,Gpc:()=>j,Hsn:()=>$l,Ikx:()=>p3,JOm:()=>Ti,JVY:()=>Rc,KtG:()=>Xo,L6k:()=>Oc,LAX:()=>Vc,LFG:()=>Yt,LMc:()=>G0,LSH:()=>k6,Lbi:()=>Fm,Lck:()=>by,MAs:()=>I9,MGl:()=>Wl,MMx:()=>u7,NdJ:()=>L9,OlP:()=>S1,Oqu:()=>o0,PXZ:()=>Wy,Q6J:()=>n8,QGY:()=>x9,QP$:()=>r1,QbO:()=>Oy,Qsj:()=>o_,QtT:()=>pf,R0b:()=>cr,RDi:()=>_,Rgc:()=>T8,SBq:()=>t3,SDv:()=>hf,Sil:()=>zs,Suo:()=>Tf,TTD:()=>_i,TgZ:()=>Q6,Tol:()=>Yl,Udp:()=>s0,VKq:()=>S3,W1O:()=>B2,WLB:()=>h7,X6Q:()=>Qf,XFs:()=>tt,Xpm:()=>Se,Xts:()=>J5,Y36:()=>H6,YKP:()=>l7,YNc:()=>bp,Yjl:()=>Me,Yz7:()=>o1,Z0I:()=>mi,ZZ4:()=>B0,_Bn:()=>Ga,_UZ:()=>i8,_Vd:()=>Ia,_c5:()=>G8,_uU:()=>c8,aQg:()=>U0,c2e:()=>Vy,cJS:()=>Ft,cg1:()=>X9,dDg:()=>Wm,dqk:()=>m1,eBb:()=>X4,eFA:()=>Jm,ekj:()=>f3,eoX:()=>Zm,f3M:()=>E,g9A:()=>jf,h0i:()=>M3,hGG:()=>fg,hij:()=>l8,iGM:()=>Nf,ifc:()=>_t,ip1:()=>L0,jDz:()=>gf,kEZ:()=>Ka,kL8:()=>ef,lG2:()=>K,lcZ:()=>t1,lqb:()=>Aa,lri:()=>L3,mCW:()=>bs,n5z:()=>Di,oAB:()=>Gt,oJD:()=>Ru,oxw:()=>Ep,pB0:()=>q5,pQV:()=>C8,q3G:()=>sn,q4F:()=>zh,qLn:()=>za,qOj:()=>e8,qZA:()=>X6,qzn:()=>Y2,rWj:()=>k3,s9C:()=>ql,sBO:()=>Qy,sIi:()=>Ds,s_b:()=>g7,soG:()=>H8,tb:()=>Bm,tp0:()=>ht,uIk:()=>S9,vHH:()=>we,vpe:()=>jr,wAp:()=>Tt,xp6:()=>Vh,z2F:()=>S7,z3N:()=>_n,zSh:()=>Uu,zs3:()=>Mo});var u=k(7579),ne=k(727),O=k(9751),oe=k(6451),ae=k(3099);function de(s){for(let o in s)if(s[o]===de)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const U=de({__forward_ref__:de});function j(s){return s.__forward_ref__=j,s.toString=function(){return he(this())},s}function Y(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(U)&&s.__forward_ref__===j}class we extends Error{constructor(o,c){super(function ut(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s,o){throw new we(-201,!1)}function et(s,o,c,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${c} ${f} ${o} <=Actual]`))}function o1(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ft(s){return{providers:s.providers||[],imports:s.imports||[]}}function M1(s){return U2(s,j2)||U2(s,A2)}function mi(s){return null!==M1(s)}function U2(s,o){return s.hasOwnProperty(o)?s[o]:null}function fr(s){return s&&(s.hasOwnProperty(T2)||s.hasOwnProperty(Hs))?s[T2]:null}const j2=de({\u0275prov:de}),T2=de({\u0275inj:de}),A2=de({ngInjectableDef:de}),Hs=de({ngInjectorDef:de});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Fn;function un(s){const o=Fn;return Fn=s,o}function I2(s,o,c){const f=M1(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&tt.Optional?null:void 0!==o?o:void Ce(he(s))}function W1(s){return{toString:s}.toString()}var X1=(()=>((X1=X1||{})[X1.OnPush=0]="OnPush",X1[X1.Default=1]="Default",X1))(),_t=(()=>{return(s=_t||(_t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",_t;var s})();const m1=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),d2={},Lt=[],Ui=de({\u0275cmp:de}),l1=de({\u0275dir:de}),ni=de({\u0275pipe:de}),u1=de({\u0275mod:de}),fn=de({\u0275fac:de}),Jn=de({__NG_ELEMENT_ID__:de});let at=0;function Se(s){return W1(()=>{const c=!0===s.standalone,f={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===X1.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Lt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,id:"c"+at++,styles:s.styles||Lt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,y=s.features;return h.inputs=F(s.inputs,f),h.outputs=F(s.outputs),y&&y.forEach(M=>M(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(xt).filter(kt):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ct).filter(kt):null,h})}function xt(s){return Q(s)||Ke(s)}function kt(s){return null!==s}function Gt(s){return W1(()=>({type:s.type,bootstrap:s.bootstrap||Lt,declarations:s.declarations||Lt,imports:s.imports||Lt,exports:s.exports||Lt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function F(s,o){if(null==s)return d2;const c={};for(const f in s)if(s.hasOwnProperty(f)){let h=s[f],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=f,o&&(o[h]=m)}return c}const K=Se;function Me(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Q(s){return s[Ui]||null}function Ke(s){return s[l1]||null}function Ct(s){return s[ni]||null}function r1(s){const o=Q(s)||Ke(s)||Ct(s);return null!==o&&o.standalone}function w1(s,o){const c=s[u1]||null;if(!c&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return c}function En(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qn(s){return Array.isArray(s)&&!0===s[1]}function Fo(s){return 0!=(8&s.flags)}function Us(s){return 2==(2&s.flags)}function p4(s){return 1==(1&s.flags)}function Bn(s){return null!==s.template}function oc(s){return 0!=(256&s[2])}function ri(s,o){return s.hasOwnProperty(fn)?s[fn]:null}class vi{constructor(o,c,f){this.previousValue=o,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function _i(){return gr}function gr(s){return s.type.prototype.ngOnChanges&&(s.setInput=Uo),js}function js(){const s=cc(this),o=s?.current;if(o){const c=s.previous;if(c===d2)s.previous=o;else for(let f in o)c[f]=o[f];s.current=null,this.ngOnChanges(o)}}function Uo(s,o,c,f){const h=cc(s)||function pn(s,o){return s[_4]=o}(s,{previous:d2,current:null}),m=h.current||(h.current={}),y=h.previous,M=this.declaredInputs[c],D=y[M];m[M]=new vi(D&&D.currentValue,o,y===d2),s[f]=o}_i.ngInherit=!0;const _4="__ngSimpleChanges__";function cc(s){return s[_4]||null}function F1(s){for(;Array.isArray(s);)s=s[0];return s}function L2(s,o){return F1(o[s])}function Un(s,o){return F1(o[s.index])}function vr(s,o){return s.data[o]}function bi(s,o){return s[o]}function e1(s,o){const c=o[s];return En(c)?c:c[0]}function _r(s){return 64==(64&s[2])}function $2(s,o){return null==o?null:s[o]}function Zo(s){s[18]=0}function P1(s,o){s[5]+=o;let c=s,f=s[3];for(;null!==f&&(1===o&&1===c[5]||-1===o&&0===c[5]);)f[5]+=o,c=f,f=f[3]}const zt={lFrame:T4(null),bindingsEnabled:!0};function Ci(){return zt.bindingsEnabled}function Te(){return zt.lFrame.lView}function Kt(){return zt.lFrame.tView}function Qo(s){return zt.lFrame.contextLView=s,s[8]}function Xo(s){return zt.lFrame.contextLView=null,s}function B1(){let s=ea();for(;null!==s&&64===s.type;)s=s.parent;return s}function ea(){return zt.lFrame.currentTNode}function Xr(){const s=zt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function k2(s,o){const c=zt.lFrame;c.currentTNode=s,c.isParent=o}function $s(){return zt.lFrame.isParent}function qs(){zt.lFrame.isParent=!1}function U1(){const s=zt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function yr(){return zt.lFrame.bindingIndex++}function Mi(s){const o=zt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Zs(s){zt.lFrame.inI18n=s}function w5(s,o){const c=zt.lFrame;c.bindingIndex=c.bindingRootIndex=s,ta(o)}function ta(s){zt.lFrame.currentDirectiveIndex=s}function E4(){return zt.lFrame.currentQueryIndex}function Ys(s){zt.lFrame.currentQueryIndex=s}function S4(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function na(s,o,c){if(c&tt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||c&tt.Host||(h=S4(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const f=zt.lFrame=N4();return f.currentTNode=o,f.lView=s,!0}function ia(s){const o=N4(),c=s[1];zt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function N4(){const s=zt.lFrame,o=null===s?null:s.child;return null===o?T4(s):o}function T4(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function A4(){const s=zt.lFrame;return zt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const o6=A4;function br(){const s=A4();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function mn(){return zt.lFrame.selectedIndex}function m2(s){zt.lFrame.selectedIndex=s}function E1(){const s=zt.lFrame;return vr(s.tView,s.selectedIndex)}function oa(s,o){for(let c=o.directiveStart,f=o.directiveEnd;c<f;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:M,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:x}=m;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),M&&((s.contentHooks||(s.contentHooks=[])).push(c,M),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,M)),D&&(s.viewHooks||(s.viewHooks=[])).push(-c,D),T&&((s.viewHooks||(s.viewHooks=[])).push(c,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,T)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(c,x)}}function Mr(s,o,c){ts(s,o,3,c)}function es(s,o,c,f){(3&s[2])===c&&ts(s,o,c,f)}function l6(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function ts(s,o,c,f){const m=f??-1,y=o.length-1;let M=0;for(let D=void 0!==f?65535&s[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(M=o[D],null!=f&&M>=f)break}else o[D]<0&&(s[18]+=65536),(M<m||-1==m)&&(u6(s,c,o,D),s[18]=(4294901760&s[18])+D+2),D++}function u6(s,o,c,f){const h=c[f]<0,m=c[f+1],M=s[h?-c[f]:c[f]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(M)}finally{}}}else try{m.call(M)}finally{}}class Yi{constructor(o,c,f){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function ns(s,o,c){let f=0;for(;f<c.length;){const h=c[f];if("number"==typeof h){if(0!==h)break;f++;const m=c[f++],y=c[f++],M=c[f++];s.setAttribute(o,y,M,m)}else{const m=h,y=c[++f];ua(m)?s.setProperty(o,m,y):s.setAttribute(o,m,y),f++}}return f}function Er(s){return 3===s||4===s||6===s}function ua(s){return 64===s.charCodeAt(0)}function Js(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let f=0;f<o.length;f++){const h=o[f];"number"==typeof h?c=h:0===c||d6(s,c,h,null,-1===c||2===c?o[++f]:null)}}return s}function d6(s,o,c,f,h){let m=0,y=s.length;if(-1===o)y=-1;else for(;m<s.length;){const M=s[m++];if("number"==typeof M){if(M===o){y=-1;break}if(M>o){y=m-1;break}}}for(;m<s.length;){const M=s[m];if("number"==typeof M)break;if(M===c){if(null===f)return void(null!==h&&(s[m+1]=h));if(f===s[m+1])return void(s[m+2]=h)}m++,null!==f&&m++,null!==h&&m++}-1!==y&&(s.splice(y,0,o),m=y+1),s.splice(m++,0,c),null!==f&&s.splice(m++,0,f),null!==h&&s.splice(m++,0,h)}function h6(s){return-1!==s}function Sn(s){return 32767&s}function Xs(s,o){let c=function Qs(s){return s>>16}(s),f=o;for(;c>0;)f=f[15],c--;return f}let oi=!0;function eo(s){const o=oi;return oi=s,o}let Z1=0;const q2={};function Sr(s,o){const c=da(s,o);if(-1!==c)return c;const f=o[1];f.firstCreatePass&&(s.injectorIndex=o.length,no(f.data,s),no(o,null),no(f.blueprint,null));const h=ha(s,o),m=s.injectorIndex;if(h6(h)){const y=Sn(h),M=Xs(h,o),D=M[1].data;for(let T=0;T<8;T++)o[m+T]=M[y+T]|D[y+T]}return o[m+8]=h,m}function no(s,o){s.push(0,0,0,0,0,0,0,0,o)}function da(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ha(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,f=null,h=o;for(;null!==h;){if(f=ss(h),null===f)return-1;if(c++,h=h[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function Ji(s,o,c){!function fa(s,o,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Jn)&&(f=c[Jn]),null==f&&(f=c[Jn]=Z1++);const h=255&f;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Qi(s,o,c){if(c&tt.Optional||void 0!==s)return s;Ce()}function pa(s,o,c,f){if(c&tt.Optional&&void 0===f&&(f=null),0==(c&(tt.Self|tt.Host))){const h=s[9],m=un(void 0);try{return h?h.get(o,f,c&tt.Optional):I2(o,f,c&tt.Optional)}finally{un(m)}}return Qi(f,0,c)}function Nr(s,o,c,f=tt.Default,h){if(null!==s){if(1024&o[2]){const y=function rs(s,o,c,f,h){let m=s,y=o;for(;null!==m&&null!==y&&1024&y[2]&&!(256&y[2]);){const M=io(m,y,c,f|tt.Self,q2);if(M!==q2)return M;let D=m.parent;if(!D){const T=y[21];if(T){const x=T.get(c,q2,f);if(x!==q2)return x}D=ss(y),y=y[15]}m=D}return h}(s,o,c,f,q2);if(y!==q2)return y}const m=io(s,o,c,f,q2);if(m!==q2)return m}return pa(o,c,f,h)}function io(s,o,c,f,h){const m=function L4(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Jn)?s[Jn]:void 0;return"number"==typeof o?o>=0?255&o:k4:o}(c);if("function"==typeof m){if(!na(o,s,f))return f&tt.Host?Qi(h,0,f):pa(o,c,f,h);try{const y=m(f);if(null!=y||f&tt.Optional)return y;Ce()}finally{o6()}}else if("number"==typeof m){let y=null,M=da(s,o),D=-1,T=f&tt.Host?o[16][6]:null;for((-1===M||f&tt.SkipSelf)&&(D=-1===M?ha(s,o):o[M+8],-1!==D&&ro(f,!1)?(y=o[1],M=Sn(D),o=Xs(D,o)):M=-1);-1!==M;){const x=o[1];if(ma(m,M,x.data)){const V=g6(M,o,c,y,f,T);if(V!==q2)return V}D=o[M+8],-1!==D&&ro(f,o[1].data[M+8]===T)&&ma(m,M,o)?(y=x,M=Sn(D),o=Xs(D,o)):M=-1}}return h}function g6(s,o,c,f,h,m){const y=o[1],M=y.data[s+8],x=is(M,y,c,null==f?Us(M)&&oi:f!=y&&0!=(3&M.type),h&tt.Host&&m===M);return null!==x?wi(o,y,x,M):q2}function is(s,o,c,f,h){const m=s.providerIndexes,y=o.data,M=1048575&m,D=s.directiveStart,x=m>>20,$=h?M+x:s.directiveEnd;for(let te=f?M:M+x;te<$;te++){const be=y[te];if(te<D&&c===be||te>=D&&be.type===c)return te}if(h){const te=y[D];if(te&&Bn(te)&&te.type===c)return D}return null}function wi(s,o,c,f){let h=s[c];const m=o.data;if(function wr(s){return s instanceof Yi}(h)){const y=h;y.resolving&&function st(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${c}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(m[c]));const M=eo(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?un(y.injectImpl):null;na(s,f,tt.Default);try{h=s[c]=y.factory(void 0,m,s,f),o.firstCreatePass&&c>=f.directiveStart&&function c6(s,o,c){const{ngOnChanges:f,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(f){const y=gr(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],o)}finally{null!==D&&un(D),eo(M),y.resolving=!1,o6()}}return h}function ma(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function ro(s,o){return!(s&tt.Self||s&tt.Host&&o)}class Tr{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,f){return Nr(this._tNode,this._lView,o,f,c)}}function k4(){return new Tr(B1(),Te())}function Di(s){return W1(()=>{const o=s.prototype.constructor,c=o[fn]||ga(o),f=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==f;){const m=h[fn]||ga(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function ga(s){return Ue(s)?()=>{const o=ga(Y(s));return o&&o()}:ri(s)}function ss(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function va(s){return function m6(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const f=c.length;let h=0;for(;h<f;){const m=c[h];if(Er(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<f&&"string"==typeof c[h];)h++;else{if(m===o)return c[h+1];h+=2}}}return null}(B1(),s)}const Xi="__parameters__";function cs(s,o,c){return W1(()=>{const f=function _a(s){return function(...c){if(s){const f=s(...c);for(const h in f)this[h]=f[h]}}}(o);function h(...m){if(this instanceof h)return f.apply(this,m),this;const y=new h(...m);return M.annotation=y,M;function M(D,T,x){const V=D.hasOwnProperty(Xi)?D[Xi]:Object.defineProperty(D,Xi,{value:[]})[Xi];for(;V.length<=x;)V.push(null);return(V[x]=V[x]||[]).push(y),D}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class S1{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=o1({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function a1(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let f=s[c];Array.isArray(f)?(o===s&&(o=s.slice(0,c)),a1(f,o)):o!==s&&o.push(f)}return o}function W2(s,o){s.forEach(c=>Array.isArray(c)?W2(c,o):o(c))}function ao(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function H1(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function er(s,o){const c=[];for(let f=0;f<s;f++)c.push(o);return c}function Qe(s,o,c){let f=tr(s,o);return f>=0?s[1|f]=c:(f=~f,function R4(s,o,c,f){let h=s.length;if(h==o)s.push(c,f);else if(1===h)s.push(f,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=f}}(s,f,o,c)),f}function lo(s,o){const c=tr(s,o);if(c>=0)return s[1|c]}function tr(s,o){return function fs(s,o,c){let f=0,h=s.length>>c;for(;h!==f;){const m=f+(h-f>>1),y=s[m<<c];if(o===y)return m<<c;y>o?h=m:f=m+1}return~(h<<c)}(s,o,1)}const R2={},P4="__NG_DI_FLAG__",_2="ngTempTokenPath",Z2=/\n/gm,gn="__source";let ir;function Si(s){const o=ir;return ir=s,o}function z1(s,o=tt.Default){if(void 0===ir)throw new we(-203,!1);return null===ir?I2(s,void 0,o):ir.get(s,o&tt.Optional?null:void 0,o)}function Yt(s,o=tt.Default){return(function Bi(){return Fn}()||z1)(Y(s),o)}function E(s,o=tt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Yt(s,o)}function S(s){const o=[];for(let c=0;c<s.length;c++){const f=Y(s[c]);if(Array.isArray(f)){if(0===f.length)throw new we(900,!1);let h,m=tt.Default;for(let y=0;y<f.length;y++){const M=f[y],D=P(M);"number"==typeof D?-1===D?h=M.token:m|=D:h=M}o.push(Yt(h,m))}else o.push(Yt(f))}return o}function I(s,o){return s[P4]=o,s.prototype[P4]=o,s}function P(s){return s[P4]}const Ge=I(cs("Optional"),8),ht=I(cs("SkipSelf"),4);var Ti=(()=>((Ti=Ti||{})[Ti.Important=1]="Important",Ti[Ti.DashCase=2]="DashCase",Ti))();const B4=/^>|^->|<!--|-->|--!>|<!-$/g,Cu=/(<|>)/;const G4=new Map;let Mc=0;const zr="__ngContext__";function Rn(s,o){En(o)?(s[zr]=o[20],function wu(s){G4.set(s[20],s)}(o)):s[zr]=o}let M6;function w6(s,o){return M6(s,o)}function mo(s){const o=s[3];return Qn(o)?o[3]:o}function go(s){return H5(s[13])}function Lr(s){return H5(s[4])}function H5(s){for(;null!==s&&!Qn(s);)s=s[4];return s}function kr(s,o,c,f,h){if(null!=f){let m,y=!1;Qn(f)?m=f:En(f)&&(y=!0,f=f[0]);const M=F1(f);0===s&&null!==c?null==h?G5(o,c,M):Or(o,c,M,h||null,!0):1===s&&null!==c?Or(o,c,M,h||null,!0):2===s?z6(o,M,y):3===s&&o.destroyNode(M),null!=m&&function Ic(s,o,c,f,h){const m=c[7];m!==F1(c)&&kr(o,s,f,m,h);for(let M=10;M<c.length;M++){const D=c[M];ms(D[1],D,s,o,f,m)}}(o,s,m,c,h)}}function D6(s,o){return s.createText(o)}function Dc(s,o,c){s.setValue(o,c)}function Rr(s,o){return s.createComment(function j4(s){return s.replace(B4,o=>o.replace(Cu,"\u200b$1\u200b"))}(o))}function Sa(s,o,c){return s.createElement(o,c)}function Ec(s,o){const c=s[9],f=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,P1(h,-1)),c.splice(f,1)}function Sc(s,o){if(s.length<=10)return;const c=10+o,f=s[c];if(f){const h=f[17];null!==h&&h!==s&&Ec(h,f),o>0&&(s[c-1][4]=f[4]);const m=H1(s,10+o);!function vo(s,o){ms(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(f[1],f);const y=m[19];null!==y&&y.detachView(m[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function U5(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&ms(s,o,c,3,null,null),function Iu(s){let o=s[13];if(!o)return Nc(s[1],s);for(;o;){let c=null;if(En(o))c=o[13];else{const f=o[10];f&&(c=f)}if(!c){for(;o&&!o[4]&&o!==s;)En(o)&&Nc(o[1],o),o=o[3];null===o&&(o=s),En(o)&&Nc(o[1],o),c=o&&o[4]}o=c}}(o)}}function Nc(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function j5(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let f=0;f<c.length;f+=2){const h=o[c[f]];if(!(h instanceof Yi)){const m=c[f+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const M=h[m[y]],D=m[y+1];try{D.call(M)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function zu(s,o){const c=s.cleanup,f=o[7];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+1],M="function"==typeof y?y(o):F1(o[y]),D=f[h=c[m+2]],T=c[m+3];"boolean"==typeof T?M.removeEventListener(c[m],D,T):T>=0?f[h=T]():f[h=-T].unsubscribe(),m+=2}else{const y=f[h=c[m+1]];c[m].call(y)}if(null!==f){for(let m=h+1;m<f.length;m++)(0,f[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&Qn(o[3])){c!==o[3]&&Ec(c,o);const f=o[19];null!==f&&f.detachView(s)}!function y6(s){G4.delete(s[20])}(o)}}function S6(s,o,c){return N6(s,o.parent,c)}function N6(s,o,c){let f=o;for(;null!==f&&40&f.type;)f=(o=f).parent;if(null===f)return c[0];if(2&f.flags){const h=s.data[f.directiveStart].encapsulation;if(h===_t.None||h===_t.Emulated)return null}return Un(f,c)}function Or(s,o,c,f,h){s.insertBefore(o,c,f,h)}function G5(s,o,c){s.appendChild(o,c)}function W4(s,o,c,f,h){null!==f?Or(s,o,c,f,h):G5(s,o,c)}function t2(s,o){return s.parentNode(o)}function Ac(s,o,c){return T6(s,o,c)}function Z4(s,o,c){return 40&s.type?Un(s,c):null}let Vr,Na,kc,v,T6=Z4;function A6(s,o){T6=s,Vr=o}function I6(s,o,c,f){const h=S6(s,f,o),m=o[11],M=Ac(f.parent||o[6],f,o);if(null!=h)if(Array.isArray(c))for(let D=0;D<c.length;D++)W4(m,h,c[D],M,!1);else W4(m,h,c,M,!1);void 0!==Vr&&Vr(m,f,o,c,h)}function V2(s,o){if(null!==o){const c=o.type;if(3&c)return Un(o,s);if(4&c)return K4(-1,s[o.index]);if(8&c){const f=o.child;if(null!==f)return V2(s,f);{const h=s[o.index];return Qn(h)?K4(-1,h):F1(h)}}if(32&c)return w6(o,s)()||F1(s[o.index]);{const f=x6(s,o);return null!==f?Array.isArray(f)?f[0]:V2(mo(s[16]),f):V2(s,o.next)}}return null}function x6(s,o){return null!==o?s[16][6].projection[o.projection]:null}function K4(s,o){const c=10+s+1;if(c<o.length){const f=o[c],h=f[1].firstChild;if(null!==h)return V2(f,h)}return o[7]}function z6(s,o,c){const f=t2(s,o);f&&function Tc(s,o,c,f){s.removeChild(o,c,f)}(s,f,o,c)}function Y4(s,o,c,f,h,m,y){for(;null!=c;){const M=f[c.index],D=c.type;if(y&&0===o&&(M&&Rn(F1(M),f),c.flags|=4),64!=(64&c.flags))if(8&D)Y4(s,o,c.child,f,h,m,!1),kr(o,s,h,M,m);else if(32&D){const T=w6(c,f);let x;for(;x=T();)kr(o,s,h,x,m);kr(o,s,h,M,m)}else 16&D?gs(s,o,f,c,h,m):kr(o,s,h,M,m);c=y?c.projectionNext:c.next}}function ms(s,o,c,f,h,m){Y4(c,f,s.firstChild,o,h,m,!1)}function gs(s,o,c,f,h,m){const y=c[16],D=y[6].projection[f.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)kr(o,s,h,D[T],m);else Y4(s,o,D,y[3],h,m,!0)}function li(s,o,c){s.setAttribute(o,"style",c)}function vs(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function _s(s){return function J4(){if(void 0===Na&&(Na=null,m1.trustedTypes))try{Na=m1.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Na}()?.createHTML(s)||s}function _(s){kc=s}function p(){return void 0!==kc?kc:typeof document<"u"?document:void 0}function A(s){return function C(){if(void 0===v&&(v=null,m1.trustedTypes))try{v=m1.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return v}()?.createHTML(s)||s}class ue{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $e extends ue{getTypeName(){return"HTML"}}class rt extends ue{getTypeName(){return"Style"}}class Nt extends ue{getTypeName(){return"Script"}}class Mt extends ue{getTypeName(){return"URL"}}class b1 extends ue{getTypeName(){return"ResourceURL"}}function _n(s){return s instanceof ue?s.changingThisBreaksApplicationSecurity:s}function Y2(s,o){const c=function $5(s){return s instanceof ue&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function Rc(s){return new $e(s)}function Oc(s){return new rt(s)}function X4(s){return new Nt(s)}function Vc(s){return new Mt(s)}function q5(s){return new b1(s)}function ys(s){const o=new W5(s);return function ku(){try{return!!(new window.DOMParser).parseFromString(_s(""),"text/html")}catch{return!1}}()?new yo(o):o}class yo{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(_s(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class W5{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=_s(o),c;const f=this.inertDocument.createElement("body");return f.innerHTML=_s(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let f=o.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const bo=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function bs(s){return(s=String(s)).match(bo)?s:"unsafe:"+s}function Co(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Pc(...s){const o={};for(const c of s)for(const f in c)c.hasOwnProperty(f)&&(o[f]=!0);return o}const hh=Co("area,br,col,hr,img,wbr"),ph=Co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mh=Co("rp,rt"),Hc=Pc(hh,Pc(ph,Co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pc(mh,Co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pc(mh,ph)),L6=Co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gh=Pc(L6,Co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hv=Co("script,style,template");class Fv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Hc.hasOwnProperty(c))return this.sanitizedSomething=!0,!Hv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=o.attributes;for(let h=0;h<f.length;h++){const m=f.item(h),y=m.name,M=y.toLowerCase();if(!gh.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let D=m.value;L6[M]&&(D=bs(D)),this.buf.push(" ",y,'="',vh(D),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Hc.hasOwnProperty(c)&&!hh.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(vh(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Bv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uv=/([^\#-~ |!])/g;function vh(s){return s.replace(/&/g,"&amp;").replace(Bv,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Uv,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Z5;function _h(s,o){let c=null;try{Z5=Z5||ys(s);let f=o?String(o):"";c=Z5.getInertBodyElement(f);let h=5,m=f;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,f=m,m=c.innerHTML,c=Z5.getInertBodyElement(f)}while(f!==m);return _s((new Fv).sanitizeChildren(K5(c)||c))}finally{if(c){const f=K5(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function K5(s){return"content"in s&&function jv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function Ru(s){const o=Ta();return o?A(o.sanitize(sn.HTML,s)||""):Y2(s,"HTML")?A(_n(s)):_h(p(),_e(s))}function k6(s){const o=Ta();return o?o.sanitize(sn.URL,s)||"":Y2(s,"URL")?_n(s):bs(_e(s))}function Ta(){const s=Te();return s&&s[12]}const J5=new S1("ENVIRONMENT_INITIALIZER"),R6=new S1("INJECTOR",-1),Pu=new S1("INJECTOR_DEF_TYPES");class Ch{get(o,c=R2){if(c===R2){const f=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw f.name="NullInjectorError",f}return c}}function Zv(...s){return{\u0275providers:Mh(0,s)}}function Mh(s,...o){const c=[],f=new Set;let h;return W2(o,m=>{const y=m;Hu(y,c,[],f)&&(h||(h=[]),h.push(y))}),void 0!==h&&wh(h,c),c}function wh(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];W2(h,m=>{o.push(m)})}}function Hu(s,o,c,f){if(!(s=Y(s)))return!1;let h=null,m=fr(s);const y=!m&&Q(s);if(m||y){if(y&&!y.standalone)return!1;h=s}else{const D=s.ngModule;if(m=fr(D),!m)return!1;h=D}const M=f.has(h);if(y){if(M)return!1;if(f.add(h),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of D)Hu(T,o,c,f)}}else{if(!m)return!1;{if(null!=m.imports&&!M){let T;f.add(h);try{W2(m.imports,x=>{Hu(x,o,c,f)&&(T||(T=[]),T.push(x))})}finally{}void 0!==T&&wh(T,o)}if(!M){const T=ri(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:Lt},{provide:Pu,useValue:h,multi:!0},{provide:J5,useValue:()=>Yt(h),multi:!0})}const D=m.providers;null==D||M||W2(D,x=>{o.push(x)})}}return h!==s&&void 0!==s.providers}const Kv=de({provide:String,useValue:de});function Bu(s){return null!==s&&"object"==typeof s&&Kv in s}function e3(s){return"function"==typeof s}const Uu=new S1("Set Injector scope."),Bc={},Jv={};let Q5;function Uc(){return void 0===Q5&&(Q5=new Ch),Q5}class Aa{}class ju extends Aa{constructor(o,c,f,h){super(),this.parent=c,this.source=f,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,el(o,y=>this.processProvider(y)),this.records.set(R6,O6(void 0,this)),h.has("environment")&&this.records.set(Aa,O6(void 0,this));const m=this.records.get(Uu);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Pu.multi,Lt,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Si(this),f=un(void 0);try{return o()}finally{Si(c),un(f)}}get(o,c=R2,f=tt.Default){this.assertNotDestroyed();const h=Si(this),m=un(void 0);try{if(!(f&tt.SkipSelf)){let M=this.records.get(o);if(void 0===M){const D=function Nh(s){return"function"==typeof s||"object"==typeof s&&s instanceof S1}(o)&&M1(o);M=D&&this.injectableDefInScope(D)?O6(X5(o),Bc):null,this.records.set(o,M)}if(null!=M)return this.hydrate(o,M)}return(f&tt.Self?Uc():this.parent).get(o,c=f&tt.Optional&&c===R2?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[_2]=y[_2]||[]).unshift(he(o)),h)throw y;return function J(s,o,c,f){const h=s[_2];throw o[gn]&&h.unshift(o[gn]),s.message=function ie(s,o,c,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let M=o[y];m.push(y+":"+("string"==typeof M?JSON.stringify(M):he(M)))}h=`{${m.join(", ")}}`}return`${c}${f?"("+f+")":""}[${h}]: ${s.replace(Z2,"\n  ")}`}("\n"+s.message,h,c,f),s.ngTokenPath=h,s[_2]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{un(m),Si(h)}}resolveInjectorInitializers(){const o=Si(this),c=un(void 0);try{const f=this.get(J5.multi,Lt,tt.Self);for(const h of f)h()}finally{Si(o),un(c)}}toString(){const o=[],c=this.records;for(const f of c.keys())o.push(he(f));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let c=e3(o=Y(o))?o:Y(o&&o.provide);const f=function Xv(s){return Bu(s)?O6(void 0,s.useValue):O6(Sh(s),Bc)}(o);if(e3(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=O6(void 0,Bc,!0),h.factory=()=>S(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,f)}hydrate(o,c){return c.value===Bc&&(c.value=Jv,c.value=c.factory()),"object"==typeof c.value&&c.value&&function t_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=Y(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function X5(s){const o=M1(s),c=null!==o?o.factory:ri(s);if(null!==c)return c;if(s instanceof S1)throw new we(204,!1);if(s instanceof Function)return function Qv(s){const o=s.length;if(o>0)throw er(o,"?"),new we(204,!1);const c=function Yn(s){const o=s&&(s[j2]||s[A2]);if(o){const c=function f2(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new we(204,!1)}function Sh(s,o,c){let f;if(e3(s)){const h=Y(s);return ri(h)||X5(h)}if(Bu(s))f=()=>Y(s.useValue);else if(function Eh(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...S(s.deps||[]));else if(function Dh(s){return!(!s||!s.useExisting)}(s))f=()=>Yt(Y(s.useExisting));else{const h=Y(s&&(s.useClass||s.provide));if(!function e_(s){return!!s.deps}(s))return ri(h)||X5(h);f=()=>new h(...S(s.deps))}return f}function O6(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Gu(s){return!!s.\u0275providers}function el(s,o){for(const c of s)Array.isArray(c)?el(c,o):Gu(c)?el(c.\u0275providers,o):o(c)}class n_{}class r_{resolveComponentFactory(o){throw function i_(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ia=(()=>{class s{}return s.NULL=new r_,s})();function Ih(){return xa(B1(),Te())}function xa(s,o){return new t3(Un(s,o))}let t3=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Ih,s})();function s_(s){return s instanceof t3?s.nativeElement:s}class jc{}let o_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function a_(){const s=Te(),c=e1(B1().index,s);return(En(c)?c:s)[11]}(),s})(),c_=(()=>{class s{}return s.\u0275prov=o1({token:s,providedIn:"root",factory:()=>null}),s})();class xh{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const zh=new xh("14.2.12"),tl={};function nl(s){return s.ngOriginalError}class za{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&nl(o);for(;c&&nl(c);)c=nl(c);return c||null}}function Cs(s){return s instanceof Function?s():s}function $u(s,o,c){let f=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===f||s.charCodeAt(h+m)<=32)return h}c=h+1}}const ol="ng-template";function m_(s,o,c){let f=0;for(;f<s.length;){let h=s[f++];if(c&&"class"===h){if(h=s[f],-1!==$u(h.toLowerCase(),o,0))return!0}else if(1===h){for(;f<s.length&&"string"==typeof(h=s[f++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function kh(s){return 4===s.type&&s.value!==ol}function g_(s,o,c){return o===(4!==s.type||c?s.value:ol)}function Rh(s,o,c){let f=4;const h=s.attrs||[],m=function Oh(s){for(let o=0;o<s.length;o++)if(Er(s[o]))return o;return s.length}(h);let y=!1;for(let M=0;M<o.length;M++){const D=o[M];if("number"!=typeof D){if(!y)if(4&f){if(f=2|1&f,""!==D&&!g_(s,D,c)||""===D&&1===o.length){if(Pr(f))return!1;y=!0}}else{const T=8&f?D:o[++M];if(8&f&&null!==s.attrs){if(!m_(s.attrs,T,c)){if(Pr(f))return!1;y=!0}continue}const V=Kw(8&f?"class":D,h,kh(s),c);if(-1===V){if(Pr(f))return!1;y=!0;continue}if(""!==T){let $;$=V>m?"":h[V+1].toLowerCase();const te=8&f?$:null;if(te&&-1!==$u(te,T,0)||2&f&&T!==$){if(Pr(f))return!1;y=!0}}}}else{if(!y&&!Pr(f)&&!Pr(D))return!1;if(y&&Pr(D))continue;y=!1,f=D|1&f}}return Pr(f)||y}function Pr(s){return 0==(1&s)}function Kw(s,o,c,f){if(null===o)return-1;let h=0;if(f||!c){let m=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let M=o[++h];for(;"string"==typeof M;)M=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function v_(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const f=s[c];if("number"==typeof f)return-1;if(f===o)return c;c++}return-1}(o,s)}function $c(s,o,c=!1){for(let f=0;f<o.length;f++)if(Rh(s,o[f],c))return!0;return!1}function __(s,o){e:for(let c=0;c<o.length;c++){const f=o[c];if(s.length===f.length){for(let h=0;h<s.length;h++)if(s[h]!==f[h])continue e;return!0}}return!1}function qu(s,o){return s?":not("+o.trim()+")":o}function y_(s){let o=s[0],c=1,f=2,h="",m=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&f){const M=s[++c];h+="["+y+(M.length>0?'="'+M+'"':"")+"]"}else 8&f?h+="."+y:4&f&&(h+=" "+y);else""!==h&&!Pr(y)&&(o+=qu(m,h),h=""),f=y,m=m||!Pr(f);c++}return""!==h&&(o+=qu(m,h)),o}const Ut={};function Vh(s){Wu(Kt(),Te(),mn()+s,!1)}function Wu(s,o,c,f){if(!f)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Mr(o,m,c)}else{const m=s.preOrderHooks;null!==m&&es(o,m,0,c)}m2(c)}function cl(s,o=null,c=null,f){const h=Zu(s,o,c,f);return h.resolveInjectorInitializers(),h}function Zu(s,o=null,c=null,f,h=new Set){const m=[c||Lt,Zv(s)];return f=f||("object"==typeof s?void 0:he(s)),new ju(m,o||Uc(),f||null,h)}let Mo=(()=>{class s{static create(c,f){if(Array.isArray(c))return cl({name:""},f,c,"");{const h=c.name??"";return cl({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=R2,s.NULL=new Ch,s.\u0275prov=o1({token:s,providedIn:"any",factory:()=>Yt(R6)}),s.__NG_ELEMENT_ID__=-1,s})();function H6(s,o=tt.Default){const c=Te();return null===c?Yt(s,o):Nr(B1(),c,Y(s),o)}function Fh(){throw new Error("invalid")}function qc(s,o){return s<<17|o<<2}function Hr(s){return s>>17&32767}function e9(s){return 2|s}function on(s){return(131068&s)>>2}function F6(s,o){return-131069&s|o<<2}function Wc(s){return 1|s}function Qh(s,o){const c=s.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const h=c[f],m=c[f+1];if(-1!==m){const y=s.data[m];Ys(h),y.contentQueries(2,o[m],m)}}}function Sl(s,o,c,f,h,m,y,M,D,T,x){const V=o.blueprint.slice();return V[0]=h,V[2]=76|f,(null!==x||s&&1024&s[2])&&(V[2]|=1024),Zo(V),V[3]=V[15]=s,V[8]=c,V[10]=y||s&&s[10],V[11]=M||s&&s[11],V[12]=D||s&&s[12]||null,V[9]=T||s&&s[9]||null,V[6]=m,V[20]=function Mu(){return Mc++}(),V[21]=x,V[16]=2==o.type?s[16]:V,V}function B6(s,o,c,f,h){let m=s.data[o];if(null===m)m=l9(s,o,c,f,h),function M5(){return zt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=f,m.attrs=h;const y=Xr();m.injectorIndex=null===y?-1:y.injectorIndex}return k2(m,!0),m}function l9(s,o,c,f,h){const m=ea(),y=$s(),D=s.data[o]=function np(s,o,c,f,h,m){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,o,f,h);return null===s.firstChild&&(s.firstChild=D),null!==m&&(y?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}function U6(s,o,c,f){if(0===c)return-1;const h=o.length;for(let m=0;m<c;m++)o.push(f),s.blueprint.push(f),s.data.push(null);return h}function u9(s,o,c){ia(o);try{const f=s.viewQuery;null!==f&&Jc(1,f,c);const h=s.template;null!==h&&f9(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Qh(s,o),s.staticViewQueries&&Jc(2,s.viewQuery,c);const m=s.components;null!==m&&function P_(s,o){for(let c=0;c<o.length;c++)up(s,o[c])}(o,m)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{o[2]&=-5,br()}}function s3(s,o,c,f){const h=o[2];if(128!=(128&h)){ia(o);try{Zo(o),function w4(s){return zt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&f9(s,o,c,2,f);const y=3==(3&h);if(y){const T=s.preOrderCheckHooks;null!==T&&Mr(o,T,null)}else{const T=s.preOrderHooks;null!==T&&es(o,T,0,null),l6(o,0)}if(function cp(s){for(let o=go(s);null!==o;o=Lr(o)){if(!o[2])continue;const c=o[9];for(let f=0;f<c.length;f++){const h=c[f],m=h[3];0==(512&h[2])&&P1(m,1),h[2]|=512}}}(o),function G_(s){for(let o=go(s);null!==o;o=Lr(o))for(let c=10;c<o.length;c++){const f=o[c],h=f[1];_r(f)&&s3(h,f,h.template,f[8])}}(o),null!==s.contentQueries&&Qh(s,o),y){const T=s.contentCheckHooks;null!==T&&Mr(o,T)}else{const T=s.contentHooks;null!==T&&es(o,T,1),l6(o,1)}!function O_(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const h=c[f];if(h<0)m2(~h);else{const m=h,y=c[++f],M=c[++f];w5(y,m),M(2,o[m])}}}finally{m2(-1)}}(s,o);const M=s.components;null!==M&&function V_(s,o){for(let c=0;c<o.length;c++)lp(s,o[c])}(o,M);const D=s.viewQuery;if(null!==D&&Jc(2,D,f),y){const T=s.viewCheckHooks;null!==T&&Mr(o,T)}else{const T=s.viewHooks;null!==T&&es(o,T,2),l6(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,P1(o[3],-1))}finally{br()}}}function f9(s,o,c,f,h){const m=mn(),y=2&f;try{m2(-1),y&&o.length>22&&Wu(s,o,22,!1),c(f,h)}finally{m2(m)}}function Kc(s,o,c){!Ci()||(function y9(s,o,c,f){const h=c.directiveStart,m=c.directiveEnd;s.firstCreatePass||Sr(c,o),Rn(f,o);const y=c.initialInputs;for(let M=h;M<m;M++){const D=s.data[M],T=Bn(D);T&&gD(o,c,D);const x=wi(o,s,M,c);Rn(x,o),null!==y&&vD(0,M-h,x,D,0,y),T&&(e1(c.index,o)[8]=x)}}(s,o,c,Un(c,o)),128==(128&c.flags)&&function hD(s,o,c){const f=c.directiveStart,h=c.directiveEnd,m=c.index,y=function D4(){return zt.lFrame.currentDirectiveIndex}();try{m2(m);for(let M=f;M<h;M++){const D=s.data[M],T=o[M];ta(M),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Tl(D,T)}}finally{m2(-1),ta(y)}}(s,o,c))}function h9(s,o,c=Un){const f=o.localNames;if(null!==f){let h=o.index+1;for(let m=0;m<f.length;m+=2){const y=f[m+1],M=-1===y?c(o,s):s[y];s[h++]=M}}}function Xh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=p9(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function p9(s,o,c,f,h,m,y,M,D,T){const x=22+f,V=x+h,$=function ep(s,o){const c=[];for(let f=0;f<o;f++)c.push(f<s?null:Ut);return c}(x,V),te="function"==typeof T?T():T;return $[1]={type:s,blueprint:$,template:c,queries:null,viewQuery:M,declTNode:o,data:$.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:te,incompleteFirstPass:!1}}function m9(s,o,c,f){const h=Qc(o);null===c?h.push(f):(h.push(c),s.firstCreatePass&&hp(s).push(f,h.length-1))}function F_(s,o,c){for(let f in s)if(s.hasOwnProperty(f)){const h=s[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(o,h):c[f]=[o,h]}return c}function ip(s,o){const f=o.directiveEnd,h=s.data,m=o.attrs,y=[];let M=null,D=null;for(let T=o.directiveStart;T<f;T++){const x=h[T],V=x.inputs,$=null===m||kh(o)?null:_D(V,m);y.push($),M=F_(V,T,M),D=F_(x.outputs,T,D)}null!==M&&(M.hasOwnProperty("class")&&(o.flags|=16),M.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=M,o.outputs=D}function sr(s,o,c,f,h,m,y,M){const D=Un(o,c);let x,T=o.inputs;!M&&null!=T&&(x=T[f])?(b9(s,c,x,f,h),Us(o)&&Nl(c,o.index)):3&o.type&&(f=function uD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),h=null!=y?y(h,o.value||"",f):h,m.setProperty(D,f,h))}function Nl(s,o){const c=e1(o,s);16&c[2]||(c[2]|=32)}function g9(s,o,c,f){let h=!1;if(Ci()){const m=function pD(s,o,c){const f=s.directiveRegistry;let h=null;if(f)for(let m=0;m<f.length;m++){const y=f[m];$c(c,y.selectors,!1)&&(h||(h=[]),Ji(Sr(c,o),s,y.type),Bn(y)?(sp(s,c),h.unshift(y)):h.push(y))}return h}(s,o,c),y=null===f?null:{"":-1};if(null!==m){h=!0,op(c,s.data.length,m.length);for(let x=0;x<m.length;x++){const V=m[x];V.providersResolver&&V.providersResolver(V)}let M=!1,D=!1,T=U6(s,o,m.length,null);for(let x=0;x<m.length;x++){const V=m[x];c.mergedAttrs=Js(c.mergedAttrs,V.hostAttrs),U_(s,c,o,T,V),B_(T,V,y),null!==V.contentQueries&&(c.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(c.flags|=128);const $=V.type.prototype;!M&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),M=!0),!D&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),D=!0),T++}ip(s,c)}y&&function mD(s,o,c){if(o){const f=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=c[o[h+1]];if(null==m)throw new we(-301,!1);f.push(o[h],m)}}}(c,f,y)}return c.mergedAttrs=Js(c.mergedAttrs,c.attrs),h}function v9(s,o,c,f,h,m){const y=m.hostBindings;if(y){let M=s.hostBindingOpCodes;null===M&&(M=s.hostBindingOpCodes=[]);const D=~o.index;(function _9(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(M)!=D&&M.push(D),M.push(f,h,y)}}function Tl(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function sp(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function B_(s,o,c){if(c){if(o.exportAs)for(let f=0;f<o.exportAs.length;f++)c[o.exportAs[f]]=s;Bn(o)&&(c[""]=s)}}function op(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function U_(s,o,c,f,h){s.data[f]=h;const m=h.factory||(h.factory=ri(h.type)),y=new Yi(m,Bn(h),H6);s.blueprint[f]=y,c[f]=y,v9(s,o,0,f,U6(s,c,h.hostVars,Ut),h)}function gD(s,o,c){const f=Un(o,s),h=Xh(c),m=s[10],y=Yc(s,Sl(s,h,null,c.onPush?32:16,f,o,m,m.createRenderer(f,c),null,null,null));s[o.index]=y}function ap(s,o,c,f,h,m,y){if(null==m)s.removeAttribute(o,h,c);else{const M=null==y?_e(m):y(m,f||"",h);s.setAttribute(o,h,M,c)}}function vD(s,o,c,f,h,m){const y=m[o];if(null!==y){const M=f.setInput;for(let D=0;D<y.length;){const T=y[D++],x=y[D++],V=y[D++];null!==M?f.setInput(c,V,T,x):c[x]=V}}}function _D(s,o){let c=null,f=0;for(;f<o.length;){const h=o[f];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[f+1])),f+=2}else f+=2;else f+=4}return c}function j_(s,o,c,f){return new Array(s,!0,!1,o,null,0,f,c,null,null)}function lp(s,o){const c=e1(o,s);if(_r(c)){const f=c[1];48&c[2]?s3(f,c,f.template,c[8]):c[5]>0&&Al(c)}}function Al(s){for(let f=go(s);null!==f;f=Lr(f))for(let h=10;h<f.length;h++){const m=f[h];if(_r(m))if(512&m[2]){const y=m[1];s3(y,m,y.template,m[8])}else m[5]>0&&Al(m)}const c=s[1].components;if(null!==c)for(let f=0;f<c.length;f++){const h=e1(c[f],s);_r(h)&&h[5]>0&&Al(h)}}function up(s,o){const c=e1(o,s),f=c[1];(function fp(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(f,c),u9(f,c,c[8])}function Yc(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Il(s){for(;s;){s[2]|=32;const o=mo(s);if(oc(s)&&!o)return s;s=o}return null}function o3(s,o,c,f=!0){const h=o[10];h.begin&&h.begin();try{s3(s,o,s.template,c)}catch(y){throw f&&pp(o,y),y}finally{h.end&&h.end()}}function Jc(s,o,c){Ys(0),o(s,c)}function Qc(s){return s[7]||(s[7]=[])}function hp(s){return s.cleanup||(s.cleanup=[])}function pp(s,o){const c=s[9],f=c?c.get(za,null):null;f&&f.handleError(o)}function b9(s,o,c,f,h){for(let m=0;m<c.length;){const y=c[m++],M=c[m++],D=o[y],T=s.data[y];null!==T.setInput?T.setInput(D,h,f,M):D[M]=h}}function pt(s,o,c){let f=c?s.styles:null,h=c?s.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const M=o[y];"number"==typeof M?m=M:1==m?h=pe(h,M):2==m&&(f=pe(f,M+": "+o[++y]+";"))}c?s.styles=f:s.stylesWithoutHost=f,c?s.classes=h:s.classesWithoutHost=h}function j6(s,o,c,f,h=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&f.push(F1(m)),Qn(m))for(let M=10;M<m.length;M++){const D=m[M],T=D[1].firstChild;null!==T&&j6(D[1],D,T,f)}const y=c.type;if(8&y)j6(s,o,c.child,f);else if(32&y){const M=w6(c,o);let D;for(;D=M();)f.push(D)}else if(16&y){const M=x6(o,c);if(Array.isArray(M))f.push(...M);else{const D=mo(o[16]);j6(D[1],D,M,f,!0)}}c=h?c.projectionNext:c.next}return f}class Rt{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return j6(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Qn(o)){const c=o[8],f=c?c.indexOf(this):-1;f>-1&&(Sc(o,f),H1(c,f))}this._attachedToViewContainer=!1}U5(this._lView[1],this._lView)}onDestroy(o){m9(this._lView[1],this._lView,null,o)}markForCheck(){Il(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){o3(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B5(s,o){ms(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class xl extends Rt{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;o3(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class G6 extends Ia{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Q(o);return new Xc(c,this.ngModule)}}function $6(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class C9{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,f){const h=this.injector.get(o,tl,f);return h!==tl||c===tl?h:this.parentInjector.get(o,c,f)}}class Xc extends n_{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function b_(s){return s.map(y_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return $6(this.componentDef.inputs)}get outputs(){return $6(this.componentDef.outputs)}create(o,c,f,h){let m=(h=h||this.ngModule)instanceof Aa?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new C9(o,m):o,M=y.get(jc,null);if(null===M)throw new we(407,!1);const D=y.get(c_,null),T=M.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",V=f?function tp(s,o,c){return s.selectRootElement(o,c===_t.ShadowDom)}(T,f,this.componentDef.encapsulation):Sa(T,x,function q_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),$=this.componentDef.onPush?288:272,te=p9(0,null,null,1,0,null,null,null,null,null),be=Sl(null,te,null,$,null,null,M,T,D,y,null);let He,Ye;ia(be);try{const ft=function M2(s,o,c,f,h,m){const y=c[1];c[22]=s;const D=B6(y,22,2,"#host",null),T=D.mergedAttrs=o.hostAttrs;null!==T&&(pt(D,T,!0),null!==s&&(ns(h,s,T),null!==D.classes&&vs(h,s,D.classes),null!==D.styles&&li(h,s,D.styles)));const x=f.createRenderer(s,o),V=Sl(c,Xh(o),null,o.onPush?32:16,c[22],D,f,x,m||null,null,null);return y.firstCreatePass&&(Ji(Sr(D,c),y,o.type),sp(y,D),op(D,c.length,1)),Yc(c,V),c[22]=V}(V,this.componentDef,be,M,T);if(V)if(f)ns(T,V,["ng-version",zh.full]);else{const{attrs:Et,classes:ze}=function C_(s){const o=[],c=[];let f=1,h=2;for(;f<s.length;){let m=s[f];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++f]):8===h&&c.push(m);else{if(!Pr(h))break;h=m}f++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Et&&ns(T,V,Et),ze&&ze.length>0&&vs(T,V,ze.join(" "))}if(Ye=vr(te,22),void 0!==c){const Et=Ye.projection=[];for(let ze=0;ze<this.ngContentSelectors.length;ze++){const At=c[ze];Et.push(null!=At?Array.from(At):null)}}He=function Oa(s,o,c,f){const h=c[1],m=function rp(s,o,c){const f=B1();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),U_(s,f,o,U6(s,o,1,null),c),ip(s,f));const h=wi(o,s,f.directiveStart,f);Rn(h,o);const m=Un(f,o);return m&&Rn(m,o),h}(h,c,o);if(s[8]=c[8]=m,null!==f)for(const M of f)M(m,o);if(o.contentQueries){const M=B1();o.contentQueries(1,m,M.directiveStart)}const y=B1();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(m2(y.index),v9(c[1],y,0,y.directiveStart,y.directiveEnd,o),Tl(o,m)),m}(ft,this.componentDef,be,[Z_]),u9(te,be,null)}finally{br()}return new F2(this.componentType,He,xa(Ye,be),be,Ye)}}class F2 extends class Th{}{constructor(o,c,f,h,m){super(),this.location=f,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new xl(h),this.componentType=o}setInput(o,c){const f=this._tNode.inputs;let h;if(null!==f&&(h=f[o])){const m=this._rootLView;b9(m[1],m,h,o,c),Nl(m,this._tNode.index)}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Z_(){const s=B1();oa(Te()[1],s)}function e8(s){let o=function w9(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const f=[s];for(;o;){let h;if(Bn(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(c){f.push(h);const y=s;y.inputs=r2(s.inputs),y.declaredInputs=r2(s.declaredInputs),y.outputs=r2(s.outputs);const M=h.hostBindings;M&&gp(s,M);const D=h.viewQuery,T=h.contentQueries;if(D&&K_(s,D),T&&zl(s,T),le(s.inputs,h.inputs),le(s.declaredInputs,h.declaredInputs),le(s.outputs,h.outputs),Bn(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const M=m[y];M&&M.ngInherit&&M(s),M===e8&&(c=!1)}}o=Object.getPrototypeOf(o)}!function mp(s){let o=0,c=null;for(let f=s.length-1;f>=0;f--){const h=s[f];h.hostVars=o+=h.hostVars,h.hostAttrs=Js(h.hostAttrs,c=Js(c,h.hostAttrs))}}(f)}function r2(s){return s===d2?{}:s===Lt?[]:s}function K_(s,o){const c=s.viewQuery;s.viewQuery=c?(f,h)=>{o(f,h),c(f,h)}:o}function zl(s,o){const c=s.contentQueries;s.contentQueries=c?(f,h,m)=>{o(f,h,m),c(f,h,m)}:o}function gp(s,o){const c=s.hostBindings;s.hostBindings=c?(f,h)=>{o(f,h),c(f,h)}:o}let q6=null;function a3(){if(!q6){const s=m1.Symbol;if(s&&s.iterator)q6=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const f=o[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(q6=f)}}}return q6}function Ds(s){return!!kl(s)&&(Array.isArray(s)||!(s instanceof Map)&&a3()in s)}function kl(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fr(s,o,c){return s[o]=c}function s2(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Do(s,o,c,f){const h=s2(s,o,c);return s2(s,o+1,f)||h}function S9(s,o,c,f){const h=Te();return s2(h,yr(),o)&&(Kt(),function Ms(s,o,c,f,h,m){const y=Un(s,o);ap(o[11],y,m,s.value,c,f,h)}(E1(),h,s,o,c,f)),S9}function c3(s,o,c,f){return s2(s,yr(),c)?o+_e(c)+f:Ut}function bp(s,o,c,f,h,m,y,M){const D=Te(),T=Kt(),x=s+22,V=T.firstCreatePass?function yp(s,o,c,f,h,m,y,M,D){const T=o.consts,x=B6(o,s,4,y||null,$2(T,M));g9(o,c,x,$2(T,D)),oa(o,x);const V=x.tViews=p9(2,x,f,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,x),V.queries=o.queries.embeddedTView(x)),x}(x,T,D,o,c,f,h,m,y):T.data[x];k2(V,!1);const $=D[11].createComment("");I6(T,D,$,V),Rn($,D),Yc(D,D[x]=j_($,D,$,V)),p4(V)&&Kc(T,D,V),null!=y&&h9(D,V,M)}function I9(s){return bi(function M4(){return zt.lFrame.contextLView}(),22+s)}function n8(s,o,c){const f=Te();return s2(f,yr(),o)&&sr(Kt(),E1(),f,s,o,f[11],c,!1),n8}function Fl(s,o,c,f,h){const y=h?"class":"style";b9(s,c,o.inputs[y],y,f)}function Q6(s,o,c,f){const h=Te(),m=Kt(),y=22+s,M=h[11],D=h[y]=Sa(M,o,function sa(){return zt.lFrame.currentNamespace}()),T=m.firstCreatePass?function J_(s,o,c,f,h,m,y){const M=o.consts,T=B6(o,s,2,h,$2(M,m));return g9(o,c,T,$2(M,y)),null!==T.attrs&&pt(T,T.attrs,!1),null!==T.mergedAttrs&&pt(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,m,h,0,o,c,f):m.data[y];k2(T,!0);const x=T.mergedAttrs;null!==x&&ns(M,D,x);const V=T.classes;null!==V&&vs(M,D,V);const $=T.styles;return null!==$&&li(M,D,$),64!=(64&T.flags)&&I6(m,h,D,T),0===function Yo(){return zt.lFrame.elementDepthCount}()&&Rn(D,h),function Jo(){zt.lFrame.elementDepthCount++}(),p4(T)&&(Kc(m,h,T),function d9(s,o,c){if(Fo(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}}(m,T,h)),null!==f&&h9(h,T),Q6}function X6(){let s=B1();$s()?qs():(s=s.parent,k2(s,!1));const o=s;!function y4(){zt.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(oa(c,s),Fo(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function la(s){return 0!=(16&s.flags)}(o)&&Fl(c,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function f6(s){return 0!=(32&s.flags)}(o)&&Fl(c,o,Te(),o.stylesWithoutHost,!1),X6}function i8(s,o,c,f){return Q6(s,o,c,f),X6(),i8}function Mp(){return Te()}function x9(s){return!!s&&"function"==typeof s.then}function z9(s){return!!s&&"function"==typeof s.subscribe}const wp=z9;function L9(s,o,c,f){const h=Te(),m=Kt(),y=B1();return function Dp(s,o,c,f,h,m,y,M){const D=p4(f),x=s.firstCreatePass&&hp(s),V=o[8],$=Qc(o);let te=!0;if(3&f.type||M){const Ye=Un(f,o),ft=M?M(Ye):Ye,Et=$.length,ze=M?Vt=>M(F1(Vt[f.index])):f.index;let At=null;if(!M&&D&&(At=function R9(s,o,c,f){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===c&&h[m+1]===f){const M=o[7],D=h[m+2];return M.length>D?M[D]:null}"string"==typeof y&&(m+=2)}return null}(s,o,h,f.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=m,At.__ngLastListenerFn__=m,te=!1;else{m=O9(f,o,V,m,!1);const Vt=c.listen(ft,h,m);$.push(m,Vt),x&&x.push(h,ze,Et,Et+1)}}else m=O9(f,o,V,m,!1);const be=f.outputs;let He;if(te&&null!==be&&(He=be[h])){const Ye=He.length;if(Ye)for(let ft=0;ft<Ye;ft+=2){const Q1=o[He[ft]][He[ft+1]].subscribe(m),P3=$.length;$.push(m,Q1),x&&x.push(h,f.index,P3,-(P3+1))}}}(m,h,h[11],y,s,o,0,f),L9}function Ul(s,o,c,f){try{return!1!==c(f)}catch(h){return pp(s,h),!1}}function O9(s,o,c,f,h){return function m(y){if(y===Function)return f;Il(2&s.flags?e1(s.index,o):o);let D=Ul(o,0,f,y),T=m.__ngNextListenerFn__;for(;T;)D=Ul(o,0,T,y)&&D,T=T.__ngNextListenerFn__;return h&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Ep(s=1){return function Cr(s){return(zt.lFrame.contextLView=function ra(s,o){for(;s>0;)o=o[15],s--;return o}(s,zt.lFrame.contextLView))[8]}(s)}function jl(s,o){let c=null;const f=function Yw(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===f?$c(s,m,!0):__(f,m))return h}else c=h}return c}function Gl(s){const o=Te()[16][6];if(!o.projection){const f=o.projection=er(s?s.length:1,null),h=f.slice();let m=o.child;for(;null!==m;){const y=s?jl(m,s):0;null!==y&&(h[y]?h[y].projectionNext=m:f[y]=m,h[y]=m),m=m.next}}}function $l(s,o=0,c){const f=Te(),h=Kt(),m=B6(h,22+s,16,null,c||null);null===m.projection&&(m.projection=o),qs(),64!=(64&m.flags)&&function P2(s,o,c){gs(o[11],0,o,c,S6(s,c,o),Ac(c.parent||o[6],c,o))}(h,f,m)}function ql(s,o,c){return Wl(s,"",o,"",c),ql}function Wl(s,o,c,f,h){const m=Te(),y=c3(m,o,c,f);return y!==Ut&&sr(Kt(),E1(),m,s,y,m[11],h,!1),Wl}function F9(s,o,c,f,h){const m=s[c+1],y=null===o;let M=f?Hr(m):on(m),D=!1;for(;0!==M&&(!1===D||y);){const x=s[M+1];Zl(s[M],o)&&(D=!0,s[M+1]=f?Wc(x):e9(x)),M=f?Hr(x):on(x)}D&&(s[c+1]=f?e9(m):Wc(m))}function Zl(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&tr(s,o)>=0}const On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n0(s){return s.substring(On.key,On.keyEnd)}function B9(s,o){const c=On.textEnd;return c===o?-1:(o=On.keyEnd=function Ap(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,On.key=o,c),Ha(s,o,c))}function Ha(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function s0(s,o,c){return xi(s,o,c,!1),s0}function f3(s,o){return xi(s,o,null,!0),f3}function Yl(s){!function ar(s,o,c,f){const h=Kt(),m=Mi(2);h.firstUpdatePass&&$9(h,null,m,f);const y=Te();if(c!==Ut&&s2(y,m,c)){const M=h.data[mn()];if(Ns(M,f)&&!G9(h,m)){let D=f?M.classesWithoutHost:M.stylesWithoutHost;null!==D&&(c=pe(D,c||"")),Fl(h,M,y,c,f)}else!function ty(s,o,c,f,h,m,y,M){h===Ut&&(h=Lt);let D=0,T=0,x=0<h.length?h[0]:null,V=0<m.length?m[0]:null;for(;null!==x||null!==V;){const $=D<h.length?h[D+1]:void 0,te=T<m.length?m[T+1]:void 0;let He,be=null;x===V?(D+=2,T+=2,$!==te&&(be=V,He=te)):null===V||null!==x&&x<V?(D+=2,be=x):(T+=2,be=V,He=te),null!==be&&W9(s,o,c,f,be,He,y,M),x=D<h.length?h[D]:null,V=T<m.length?m[T]:null}}(h,M,y,y[11],y[m+1],y[m+1]=function q9(s,o,c){if(null==c||""===c)return Lt;const f=[],h=_n(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(f,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(f,m,h[m]);else"string"==typeof h&&o(f,h);return f}(s,o,c),f,m)}}(Qe,Ii,s,!0)}function Ii(s,o){for(let c=function J2(s){return function U9(s){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=s.length}(s),B9(s,Ha(s,0,On.textEnd))}(o);c>=0;c=B9(o,c))Qe(s,n0(o),!0)}function xi(s,o,c,f){const h=Te(),m=Kt(),y=Mi(2);m.firstUpdatePass&&$9(m,s,y,f),o!==Ut&&s2(h,y,o)&&W9(m,m.data[mn()],h,h[11],s,h[y+1]=function h3(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(_n(s)))),s}(o,c),f,y)}function G9(s,o){return o>=s.expandoStartIndex}function $9(s,o,c,f){const h=s.data;if(null===h[c+1]){const m=h[mn()],y=G9(s,c);Ns(m,f)&&null===o&&!y&&(o=!1),o=function ey(s,o,c,f){const h=function Ks(s){const o=zt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=f?o.residualClasses:o.residualStyles;if(null===h)0===(f?o.classBindings:o.styleBindings)&&(c=Ur(c=d3(null,s,o,c,f),o.attrs,f),m=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(c=d3(h,s,o,c,f),null===m){let D=function a8(s,o,c){const f=c?o.classBindings:o.styleBindings;if(0!==on(f))return s[Hr(f)]}(s,o,f);void 0!==D&&Array.isArray(D)&&(D=d3(null,s,o,D[1],f),D=Ur(D,o.attrs,f),function zp(s,o,c,f){s[Hr(c?o.classBindings:o.styleBindings)]=f}(s,o,f,D))}else m=function Jl(s,o,c){let f;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)f=Ur(f,s[m].hostAttrs,c);return Ur(f,o.attrs,c)}(s,o,f)}return void 0!==m&&(f?o.residualClasses=m:o.residualStyles=m),c}(h,m,o,f),function Q_(s,o,c,f,h,m){let y=m?o.classBindings:o.styleBindings,M=Hr(y),D=on(y);s[f]=c;let x,T=!1;if(Array.isArray(c)){const V=c;x=V[1],(null===x||tr(V,x)>0)&&(T=!0)}else x=c;if(h)if(0!==D){const $=Hr(s[M+1]);s[f+1]=qc($,M),0!==$&&(s[$+1]=F6(s[$+1],f)),s[M+1]=function A_(s,o){return 131071&s|o<<17}(s[M+1],f)}else s[f+1]=qc(M,0),0!==M&&(s[M+1]=F6(s[M+1],f)),M=f;else s[f+1]=qc(D,0),0===M?M=f:s[D+1]=F6(s[D+1],f),D=f;T&&(s[f+1]=e9(s[f+1])),F9(s,x,f,!0),F9(s,x,f,!1),function u3(s,o,c,f,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&tr(m,o)>=0&&(c[f+1]=Wc(c[f+1]))}(o,x,s,f,m),y=qc(M,D),m?o.classBindings=y:o.styleBindings=y}(h,m,o,c,y,f)}}function d3(s,o,c,f,h){let m=null;const y=c.directiveEnd;let M=c.directiveStylingLast;for(-1===M?M=c.directiveStart:M++;M<y&&(m=o[M],f=Ur(f,m.hostAttrs,h),m!==s);)M++;return null!==s&&(c.directiveStylingLast=M),f}function Ur(s,o,c){const f=c?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?h=y:h===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qe(s,y,!!c||o[++m]))}return void 0===s?null:s}function W9(s,o,c,f,h,m,y,M){if(!(3&o.type))return;const D=s.data,T=D[M+1];Ql(function t9(s){return 1==(1&s)}(T)?Z9(D,o,c,h,on(T),y):void 0)||(Ql(m)||function Uh(s){return 2==(2&s)}(T)&&(m=Z9(D,null,c,h,M,y)),function Lu(s,o,c,f,h){if(o)h?s.addClass(c,f):s.removeClass(c,f);else{let m=-1===f.indexOf("-")?void 0:Ti.DashCase;null==h?s.removeStyle(c,f,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Ti.Important),s.setStyle(c,f,h,m))}}(f,y,L2(mn(),c),h,m))}function Z9(s,o,c,f,h,m){const y=null===o;let M;for(;h>0;){const D=s[h],T=Array.isArray(D),x=T?D[1]:D,V=null===x;let $=c[h+1];$===Ut&&($=V?Lt:void 0);let te=V?lo($,f):x===f?$:void 0;if(T&&!Ql(te)&&(te=lo(D,f)),Ql(te)&&(M=te,y))return M;const be=s[h+1];h=y?Hr(be):on(be)}if(null!==o){let D=m?o.residualClasses:o.residualStyles;null!=D&&(M=lo(D,f))}return M}function Ql(s){return void 0!==s}function Ns(s,o){return 0!=(s.flags&(o?16:32))}function c8(s,o=""){const c=Te(),f=Kt(),h=s+22,m=f.firstCreatePass?B6(f,h,1,o,null):f.data[h],y=c[h]=D6(c[11],o);I6(f,c,y,m),k2(m,!1)}function o0(s){return l8("",s,""),o0}function l8(s,o,c){const f=Te(),h=c3(f,s,o,c);return h!==Ut&&function C2(s,o,c){const f=L2(o,s);Dc(s[11],f,c)}(f,mn(),h),l8}function p3(s,o,c){const f=Te();return s2(f,yr(),o)&&sr(Kt(),E1(),f,s,o,f[11],c,!0),p3}const m3=void 0;var Zp=["en",[["a","p"],["AM","PM"],m3],[["AM","PM"],m3,m3],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],m3,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],m3,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",m3,"{1} 'at' {0}",m3],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yn(s){const c=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let d0={};function X9(s){const o=function So(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=tf(o);if(c)return c;const f=o.split("-")[0];if(c=tf(f),c)return c;if("en"===f)return Zp;throw new we(701,!1)}function ef(s){return X9(s)[Tt.PluralCase]}function tf(s){return s in d0||(d0[s]=m1.ng&&m1.ng.common&&m1.ng.common.locales&&m1.ng.common.locales[s]),d0[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Kp=["zero","one","two","few","many"],Ba="en-US",m8={marker:"element"},h0={marker:"ICU"};var $1=(()=>(($1=$1||{})[$1.SHIFT=2]="SHIFT",$1[$1.APPEND_EAGERLY=1]="APPEND_EAGERLY",$1[$1.COMMENT=2]="COMMENT",$1))();let g8=Ba;function Jp(s){(function qt(s,o){null==s&&et(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(g8=s.toLowerCase().replace(/_/g,"-"))}function p0(s,o,c){const f=o.insertBeforeIndex,h=Array.isArray(f)?f[0]:f;return null===h?Z4(s,0,c):F1(c[h])}function rf(s,o,c,f,h){const m=o.insertBeforeIndex;if(Array.isArray(m)){let y=f,M=null;if(3&o.type||(M=y,y=h),null!==y&&0==(2&o.flags))for(let D=1;D<m.length;D++)Or(s,y,c[m[D]],M,!1)}}function sf(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const f=s[c];t7(f)||af(f,o)&&null===Xp(f)&&n7(f,o.index)}}function t7(s){return!(64&s.type)}function af(s,o){return t7(o)||s.index>o.index}function Xp(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function n7(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(A6(p0,rf),s.insertBeforeIndex=o)}function m0(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function tm(s,o,c){const f=l9(s,c,64,null,null);return sf(o,f),f}function v8(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function cf(s){return s>>>17}function lf(s){return(131070&s)>>>1}let g0=0,v0=0;function i7(s,o,c,f){const h=c[11];let y,m=null;for(let M=0;M<o.length;M++){const D=o[M];if("string"==typeof D){const T=o[++M];null===c[T]&&(c[T]=D6(h,D))}else if("number"==typeof D)switch(1&D){case 0:const T=cf(D);let x,V;if(null===m&&(m=T,y=t2(h,f)),T===m?(x=f,V=y):(x=null,V=F1(c[T])),null!==V){const He=lf(D);Or(h,V,c[He],x,!1);const ft=m0(s,He);if(null!==ft&&"object"==typeof ft){const Et=v8(ft,c);null!==Et&&i7(s,ft.create[Et],c,c[ft.anchorIdx])}}break;case 1:const te=o[++M],be=o[++M];ap(h,L2(D>>>1,c),null,null,te,be,null)}else switch(D){case h0:const T=o[++M],x=o[++M];null===c[x]&&Rn(c[x]=Rr(h,T),c);break;case m8:const V=o[++M],$=o[++M];null===c[$]&&Rn(c[$]=Sa(h,V,null),c)}}}function nm(s,o,c,f,h){for(let m=0;m<c.length;m++){const y=c[m],M=c[++m];if(y&h){let D="";for(let T=m+1;T<=m+M;T++){const x=c[T];if("string"==typeof x)D+=x;else if("number"==typeof x)if(x<0)D+=_e(o[f-x]);else{const V=x>>>2;switch(3&x){case 1:const $=c[++T],te=c[++T],be=s.data[V];"string"==typeof be?ap(o[11],o[V],null,be,$,D,te):sr(s,be,o,$,D,o[11],te,!1);break;case 0:const He=o[V];null!==He&&Dc(o[11],He,D);break;case 2:rm(s,m0(s,V),o,D);break;case 3:im(s,m0(s,V),f,o)}}}}else{const D=c[m+1];if(D>0&&3==(3&D)){const x=m0(s,D>>>2);o[x.currentCaseLViewIndex]<0&&im(s,x,f,o)}}m+=M}}function im(s,o,c,f){let h=f[o.currentCaseLViewIndex];if(null!==h){let m=g0;h<0&&(h=f[o.currentCaseLViewIndex]=~h,m=-1),nm(s,f,o.update[h],c,m)}}function rm(s,o,c,f){const h=function r7(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const f=function Yp(s,o){const c=ef(o)(parseInt(s,10)),f=Kp[c];return void 0!==f?f:"other"}(o,function Qp(){return g8}());c=s.cases.indexOf(f),-1===c&&"other"!==f&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,f);if(v8(o,c)!==h&&(sm(s,o,c),c[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=c[o.anchorIdx];y&&i7(s,o.create[h],c,y)}}function sm(s,o,c){let f=v8(o,c);if(null!==f){const h=o.remove[f];for(let m=0;m<h.length;m++){const y=h[m];if(y>0){const M=L2(y,c);null!==M&&z6(c[11],M)}else sm(s,m0(s,~y),c)}}}function fy(){const s=[];let c,f,o=-1;function m(M,D){o=0;const T=v8(M,D);f=null!==T?M.remove[T]:Lt}function y(){if(o<f.length){const M=f[o++];return M>0?c[M]:(s.push(o,f),m(c[1].data[~M],c),y())}return 0===s.length?null:(f=s.pop(),o=s.pop(),y())}return function h(M,D){for(c=D;s.length;)s.pop();return m(M.value,D),y}}const o7=/\ufffd(\d+):?\d*\ufffd/gi,An=/\ufffd(\d+)\ufffd/,Ua=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lt=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,yt=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,hy=/\uE500/g;function xe(s,o,c,f,h,m,y){const M=U6(s,f,1,null);let D=M<<$1.SHIFT,T=Xr();o===T&&(T=null),null===T&&(D|=$1.APPEND_EAGERLY),y&&(D|=$1.COMMENT,function O5(s){void 0===M6&&(M6=s())}(fy)),h.push(D,null===m?"":m);const x=l9(s,M,y?32:1,null===m?"":m,null);sf(c,x);const V=x.index;return k2(x,!1),null!==T&&o!==T&&function g3(s,o){let c=s.insertBeforeIndex;null===c?(A6(p0,rf),c=s.insertBeforeIndex=[null,o]):(function ve(s,o,c){s!=o&&et(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(T,V),x}function Gn(s,o,c,f,h,m,y){const M=y.match(o7),D=xe(s,o,c,m,f,M?null:y,!1);M&&b8(h,y,D.index,null,0,null)}function b8(s,o,c,f,h,m){const y=s.length,M=y+1;s.push(null,null);const D=y+2,T=o.split(o7);let x=0;for(let V=0;V<T.length;V++){const $=T[V];if(1&V){const te=h+parseInt($,10);s.push(-1-te),x|=am(te)}else""!==$&&s.push($)}return s.push(c<<2|(f?1:0)),f&&s.push(f,m),s[y]=x,s[M]=s.length-D,x}function am(s){return 1<<Math.min(s,31)}function cm(s){let o,m,c="",f=0,h=!1;for(;null!==(o=lt.exec(s));)h?o[0]===`\ufffd/*${m}\ufffd`&&(f=o.index,h=!1):(c+=s.substring(f,o.index+o[0].length),m=o[1],h=!0);return c+=s.slice(f),c}function um(s,o,c,f,h,m){let y=0;const M={type:h.type,currentCaseLViewIndex:U6(s,o,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function J1(s,o,c){s.push(am(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,h,m),function em(s,o,c){const f=s.data[o];null===f?s.data[o]=c:f.value=c}(s,m,M);const D=h.values;for(let T=0;T<D.length;T++){const x=D[T],V=[];for(let $=0;$<x.length;$++){const te=x[$];if("string"!=typeof te){const be=V.push(te)-1;x[$]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}y=fm(s,M,o,c,f,h.cases[T],x.join(""),V)|y}y&&function Dt(s,o,c){s.push(o,1,c<<2|3)}(c,y,m)}function DD(s){const o=[],c=[];let f=1,h=0;const m=uf(s=s.replace(Ua,function(y,M,D){return f="select"===D?0:1,h=parseInt(M.slice(1),10),""}));for(let y=0;y<m.length;){let M=m[y++].trim();1===f&&(M=M.replace(/\s*(?:=)?(\w+)\s*/,"$1")),M.length&&o.push(M);const D=uf(m[y++]);o.length>c.length&&c.push(D)}return{type:f,mainBinding:h,cases:o,values:c}}function uf(s){if(!s)return[];let o=0;const c=[],f=[],h=/[{}]/g;let m;for(h.lastIndex=0;m=h.exec(s);){const M=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const D=s.substring(o,M);Ua.test(D)?f.push(DD(D)):f.push(D),o=M+1}}else{if(0==c.length){const D=s.substring(o,M);f.push(D),o=M+1}c.push("{")}}const y=s.substring(o);return f.push(y),f}function fm(s,o,c,f,h,m,y,M){const D=[],T=[],x=[];o.cases.push(m),o.create.push(D),o.remove.push(T),o.update.push(x);const $=ys(p()).getInertBodyElement(y),te=K5($)||$;return te?Ht(s,o,c,f,D,T,x,te,h,M,0):0}function Ht(s,o,c,f,h,m,y,M,D,T,x){let V=0,$=M.firstChild;for(;$;){const te=U6(s,c,1,null);switch($.nodeType){case Node.ELEMENT_NODE:const be=$,He=be.tagName.toLowerCase();if(Hc.hasOwnProperty(He)){b3(h,m8,He,D,te),s.data[te]=He;const ze=be.attributes;for(let At=0;At<ze.length;At++){const Vt=ze.item(At),Q1=Vt.name.toLowerCase();Vt.value.match(o7)?gh.hasOwnProperty(Q1)&&b8(y,Vt.value,te,Vt.name,0,L6[Q1]?bs:null):d1(h,te,Vt)}V=Ht(s,o,c,f,h,m,y,$,te,T,x+1)|V,y3(m,te,x)}break;case Node.TEXT_NODE:const Ye=$.textContent||"",ft=Ye.match(o7);b3(h,null,ft?"":Ye,D,te),y3(m,te,x),ft&&(V=b8(y,Ye,te,null,0,null)|V);break;case Node.COMMENT_NODE:const Et=An.exec($.textContent||"");if(Et){const At=T[parseInt(Et[1],10)];b3(h,h0,"",D,te),um(s,c,f,D,At,te),dm(m,te,x)}}$=$.nextSibling}return V}function y3(s,o,c){0===c&&s.push(o)}function dm(s,o,c){0===c&&(s.push(~o),s.push(o))}function b3(s,o,c,f,h){null!==o&&s.push(o),s.push(c,h,function zi(s,o,c){return s|o<<17|c<<1}(0,f,h))}function d1(s,o,c){s.push(o<<1|1,c.name,c.value)}function y0(s,o,c=-1){const f=Kt(),h=Te(),m=22+s,y=$2(f.consts,o),M=Xr();f.firstCreatePass&&function fe(s,o,c,f,h,m){const y=Xr(),M=[],D=[],T=[[]];h=function lm(s,o){if(function my(s){return-1===s}(o))return cm(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,f=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return cm(s.substring(c,f))}}(h,m);const x=function Xe(s){return s.replace(hy," ")}(h).split(yt);for(let V=0;V<x.length;V++){let $=x[V];if(0==(1&V)){const te=uf($);for(let be=0;be<te.length;be++){let He=te[be];if(0==(1&be)){const Ye=He;""!==Ye&&Gn(s,y,T[0],M,D,c,Ye)}else{const Ye=He;if("object"!=typeof Ye)throw new Error(`Unable to parse ICU expression in "${h}" message.`);um(s,c,D,o,Ye,xe(s,y,T[0],c,M,"",!0).index)}}}else{const te=47===$.charCodeAt(0),He=($.charCodeAt(te?1:0),22+Number.parseInt($.substring(te?2:1)));if(te)T.shift(),k2(Xr(),!1);else{const Ye=tm(s,T[0],He);T.unshift([]),k2(Ye,!0)}}}s.data[f]={create:M,update:D}}(f,null===M?0:M.index,h,m,y,c);const D=f.data[m],x=N6(f,M===h[6]?null:M,h);(function uy(s,o,c,f){const h=s[11];for(let m=0;m<o.length;m++){const y=o[m++],M=o[m],D=(y&$1.COMMENT)===$1.COMMENT,T=(y&$1.APPEND_EAGERLY)===$1.APPEND_EAGERLY,x=y>>>$1.SHIFT;let V=s[x];null===V&&(V=s[x]=D?h.createComment(M):D6(h,M)),T&&null!==c&&Or(h,c,V,f,!1)}})(h,D.create,x,M&&8&M.type?h[M.index]:null),Zs(!0)}function hf(s,o,c){y0(s,o,c),function df(){Zs(!1)}()}function C8(s){return function _0(s){s&&(g0|=1<<Math.min(v0,31)),v0++}(s2(Te(),yr(),s)),C8}function pf(s){!function ly(s,o,c){if(v0>0){const f=s.data[c];nm(s,o,Array.isArray(f)?f:f.update,function si(){return zt.lFrame.bindingIndex}()-v0-1,g0)}g0=0,v0=0}(Kt(),Te(),s+22)}function M8(s,o,c,f,h){if(s=Y(s),Array.isArray(s))for(let m=0;m<s.length;m++)M8(s[m],o,c,f,h);else{const m=Kt(),y=Te();let M=e3(s)?s:Y(s.provide),D=Sh(s);const T=B1(),x=1048575&T.providerIndexes,V=T.directiveStart,$=T.providerIndexes>>20;if(e3(s)||!s.multi){const te=new Yi(D,h,H6),be=ki(M,o,h?x:x+$,V);-1===be?(Ji(Sr(T,y),m,M),ce(m,s,o.length),o.push(M),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(te),y.push(te)):(c[be]=te,y[be]=te)}else{const te=ki(M,o,x+$,V),be=ki(M,o,x,x+$),He=te>=0&&c[te],Ye=be>=0&&c[be];if(h&&!Ye||!h&&!He){Ji(Sr(T,y),m,M);const ft=function yy(s,o,c,f,h){const m=new Yi(s,c,H6);return m.multi=[],m.index=o,m.componentProviders=0,w8(m,h,f&&!c),m}(h?D8:_y,c.length,h,f,D);!h&&Ye&&(c[be].providerFactory=ft),ce(m,s,o.length,0),o.push(M),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(ft),y.push(ft)}else ce(m,s,te>-1?te:be,w8(c[h?be:te],D,!h&&f));!h&&f&&Ye&&c[be].componentProviders++}}}function ce(s,o,c,f){const h=e3(o),m=function Yv(s){return!!s.useClass}(o);if(h||m){const D=(m?Y(o.useClass):o).prototype.ngOnDestroy;if(D){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=T.indexOf(c);-1===x?T.push(c,[f,D]):T[x+1].push(f,D)}else T.push(c,D)}}}function w8(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function ki(s,o,c,f){for(let h=c;h<f;h++)if(o[h]===s)return h;return-1}function _y(s,o,c,f){return Ts(this.multi,[])}function D8(s,o,c,f){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,M=wi(c,c[1],this.providerFactory.index,f);m=M.slice(0,y),Ts(h,m);for(let D=y;D<M.length;D++)m.push(M[D])}else m=[],Ts(h,m);return m}function Ts(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function Ga(s,o=[]){return c=>{c.providersResolver=(f,h)=>function ja(s,o,c){const f=Kt();if(f.firstCreatePass){const h=Bn(s);M8(c,f.data,f.blueprint,h,!0),M8(o,f.data,f.blueprint,h,!1)}}(f,h?h(s):s,o)}}class M3{}class l7{}function by(s,o){return new ui(s,o??null)}class ui extends M3{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new G6(this);const f=w1(o);this._bootstrapComponents=Cs(f.bootstrap),this._r3Injector=Zu(o,c,[{provide:M3,useValue:this},{provide:Ia,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class mf extends l7{constructor(o){super(),this.moduleType=o}create(o){return new ui(this.moduleType,o)}}class $a extends M3{constructor(o,c,f){super(),this.componentFactoryResolver=new G6(this),this.instance=null;const h=new ju([...o,{provide:M3,useValue:this},{provide:Ia,useValue:this.componentFactoryResolver}],c||Uc(),f,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function u7(s,o,c=null){return new $a(s,o,c).injector}let w3=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const f=Mh(0,c.type),h=f.length>0?u7([f],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=o1({token:s,providedIn:"environment",factory:()=>new s(Yt(Aa))}),s})();function gf(s){s.getStandaloneInjector=o=>o.get(w3).getOrCreateStandaloneInjector(s)}function S3(s,o,c,f){return ym(Te(),U1(),s,o,c,f)}function h7(s,o,c,f,h){return function bm(s,o,c,f,h,m,y){const M=o+c;return Do(s,M,h,m)?Fr(s,M+2,y?f.call(y,h,m):f(h,m)):w0(s,M+2)}(Te(),U1(),s,o,c,f,h)}function Ka(s,o,c,f,h,m){return function yf(s,o,c,f,h,m,y,M){const D=o+c;return function W6(s,o,c,f,h){const m=Do(s,o,c,f);return s2(s,o+2,h)||m}(s,D,h,m,y)?Fr(s,D+3,M?f.call(M,h,m,y):f(h,m,y)):w0(s,D+3)}(Te(),U1(),s,o,c,f,h,m)}function w0(s,o){const c=s[o];return c===Ut?void 0:c}function ym(s,o,c,f,h,m){const y=o+c;return s2(s,y,h)?Fr(s,y+1,m?f.call(m,h):f(h)):w0(s,y+1)}function Cf(s,o){const c=Kt();let f;const h=s+22;c.firstCreatePass?(f=function Cm(s,o){if(o)for(let c=o.length-1;c>=0;c--){const f=o[c];if(s===f.name)return f}}(o,c.pipeRegistry),c.data[h]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,f.onDestroy)):f=c.data[h];const m=f.factory||(f.factory=ri(f.type)),y=un(H6);try{const M=eo(!1),D=m();return eo(M),function Cp(s,o,c,f){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=f}(c,Te(),h,D),D}finally{un(y)}}function t1(s,o,c){const f=s+22,h=Te(),m=bi(h,f);return function E0(s,o){return s[1].data[o].pure}(h,f)?ym(h,U1(),o,m.transform,c,m):m.transform(c)}function m7(s){return o=>{setTimeout(s,void 0,o)}}const jr=class wm extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,f){let h=o,m=c||(()=>null),y=f;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),m=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(m=m7(m),h&&(h=m7(h)),y&&(y=m7(y)));const M=super.subscribe({next:h,error:m,complete:y});return o instanceof ne.w0&&o.add(M),M}};function Dm(){return this._results[a3()]()}class wf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=a3(),f=wf.prototype;f[c]||(f[c]=Dm)}get changes(){return this._changes||(this._changes=new jr)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const f=this;f.dirty=!1;const h=a1(o);(this._changesDetected=!function f1(s,o,c){if(s.length!==o.length)return!1;for(let f=0;f<s.length;f++){let h=s[f],m=o[f];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(f._results,h,c))&&(f._results=h,f.length=h.length,f.last=h[this.length-1],f.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let T8=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ey,s})();const Dy=T8,Em=class extends Dy{constructor(o,c,f){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(o,c){const f=this._declarationTContainer.tViews,h=Sl(this._declarationLView,f,o,16,null,f.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(f)),u9(f,h,o),new Rt(h)}};function Ey(){return A8(B1(),Te())}function A8(s,o){return 4&s.type?new Em(o,s,xa(s,o)):null}let g7=(()=>{class s{}return s.__NG_ELEMENT_ID__=Sy,s})();function Sy(){return a2(B1(),Te())}const S0=g7,Sm=class extends S0{constructor(o,c,f){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=f}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){const o=ha(this._hostTNode,this._hostLView);if(h6(o)){const c=Xs(o,this._hostLView),f=Sn(o);return new Tr(c[1].data[f+8],c)}return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=an(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,f){let h,m;"number"==typeof f?h=f:null!=f&&(h=f.index,m=f.injector);const y=o.createEmbeddedView(c||{},m);return this.insert(y,h),y}createComponent(o,c,f,h,m){const y=o&&!function v2(s){return"function"==typeof s}(o);let M;if(y)M=c;else{const V=c||{};M=V.index,f=V.injector,h=V.projectableNodes,m=V.environmentInjector||V.ngModuleRef}const D=y?o:new Xc(Q(o)),T=f||this.parentInjector;if(!m&&null==D.ngModule){const $=(y?T:this.parentInjector).get(Aa,null);$&&(m=$)}const x=D.create(T,h,void 0,m);return this.insert(x.hostView,M),x}insert(o,c){const f=o._lView,h=f[1];if(function Wo(s){return Qn(s[3])}(f)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const V=f[3],$=new Sm(V,V[6],V[3]);$.detach($.indexOf(o))}}const m=this._adjustIndex(c),y=this._lContainer;!function q4(s,o,c,f){const h=10+f,m=c.length;f>0&&(c[h-1][4]=o),f<m-10?(o[4]=c[h],ao(c,10+f,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function xu(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const M=o[19];null!==M&&M.insertView(s),o[2]|=64}(h,f,y,m);const M=K4(m,y),D=f[11],T=t2(D,y[7]);return null!==T&&function E6(s,o,c,f,h,m){f[0]=h,f[6]=o,ms(s,f,c,1,h,m)}(h,y[6],D,f,T,M),o.attachToViewContainerRef(),ao(N0(y),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=an(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),f=Sc(this._lContainer,c);f&&(H1(N0(this._lContainer),c),U5(f[1],f))}detach(o){const c=this._adjustIndex(o,-1),f=Sc(this._lContainer,c);return f&&null!=H1(N0(this._lContainer),c)?new Rt(f):null}_adjustIndex(o,c=0){return o??this.length+c}};function an(s){return s[8]}function N0(s){return s[8]||(s[8]=[])}function a2(s,o){let c;const f=o[s.index];if(Qn(f))c=f;else{let h;if(8&s.type)h=F1(f);else{const m=o[11];h=m.createComment("");const y=Un(s,o);Or(m,t2(m,y),h,function _o(s,o){return s.nextSibling(o)}(m,y),!1)}o[s.index]=c=j_(f,o,h,s),Yc(o,c)}return new Sm(c,s,o)}class Q2{constructor(o){this.queryList=o,this.matches=null}clone(){return new Q2(this.queryList)}setDirty(){this.queryList.setDirty()}}class $n{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const f=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let m=0;m<f;m++){const y=c.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new $n(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==Ya(o,c).matches&&this.queries[c].setDirty()}}class Df{constructor(o,c,f=null){this.predicate=o,this.flags=c,this.read=f}}class O1{constructor(o=[]){this.queries=o}elementStart(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let f=0;f<this.length;f++){const h=null!==c?c.length:0,m=this.getByIndex(f).embeddedTView(o,h);m&&(m.indexInDeclarationView=f,null!==c?c.push(m):c=[m])}return null!==c?new O1(c):null}template(o,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ef{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Ef(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=o.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let h=0;h<f.length;h++){const m=f[h];this.matchTNodeWithReadOption(o,c,Sf(c,m)),this.matchTNodeWithReadOption(o,c,is(c,o,m,!1,!1))}else f===T8?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,is(c,o,f,!1,!1))}matchTNodeWithReadOption(o,c,f){if(null!==f){const h=this.metadata.read;if(null!==h)if(h===t3||h===g7||h===T8&&4&c.type)this.addMatch(c.index,-2);else{const m=is(c,o,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,f)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Sf(s,o){const c=s.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===o)return c[f+1];return null}function x8(s,o,c,f){return-1===c?function N3(s,o){return 11&s.type?xa(s,o):4&s.type?A8(s,o):null}(o,s):-2===c?function v7(s,o,c){return c===t3?xa(o,s):c===T8?A8(o,s):c===g7?a2(o,s):void 0}(s,o,f):wi(s,s[1],c,o)}function z8(s,o,c,f){const h=o[19].queries[f];if(null===h.matches){const m=s.data,y=c.matches,M=[];for(let D=0;D<y.length;D+=2){const T=y[D];M.push(T<0?null:x8(o,m[T],y[D+1],c.metadata.read))}h.matches=M}return h.matches}function _7(s,o,c,f){const h=s.queries.getByIndex(c),m=h.matches;if(null!==m){const y=z8(s,o,h,c);for(let M=0;M<m.length;M+=2){const D=m[M];if(D>0)f.push(y[M/2]);else{const T=m[M+1],x=o[-D];for(let V=10;V<x.length;V++){const $=x[V];$[17]===$[3]&&_7($[1],$,T,f)}if(null!==x[9]){const V=x[9];for(let $=0;$<V.length;$++){const te=V[$];_7(te[1],te,T,f)}}}}}return f}function Nf(s){const o=Te(),c=Kt(),f=E4();Ys(f+1);const h=Ya(c,f);if(s.dirty&&function qo(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?_7(c,o,f,[]):z8(c,o,h,f);s.reset(m,s_),s.notifyOnChanges()}return!0}return!1}function As(s,o,c){const f=Kt();f.firstCreatePass&&(L8(f,new Df(s,o,c),-1),2==(2&o)&&(f.staticViewQueries=!0)),y7(f,Te(),o)}function Tf(s,o,c,f){const h=Kt();if(h.firstCreatePass){const m=B1();L8(h,new Df(o,c,f),m.index),function Af(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}y7(h,Te(),c)}function T3(){return function Tm(s,o){return s[19].queries[o].queryList}(Te(),E4())}function y7(s,o,c){const f=new wf(4==(4&c));m9(s,o,f,f.destroy),null===o[19]&&(o[19]=new $n),o[19].queries.push(new Q2(f))}function L8(s,o,c){null===s.queries&&(s.queries=new O1),s.queries.track(new Ef(o,c))}function Ya(s,o){return s.queries.getByIndex(o)}function B2(s,o){return A8(s,o)}function I3(...s){}const L0=new S1("Application Initializer");let x3=(()=>{class s{constructor(c){this.appInits=c,this.resolve=I3,this.reject=I3,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,h)=>{this.resolve=f,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(x9(m))c.push(m);else if(wp(m)){const y=new Promise((M,D)=>{m.subscribe({complete:M,error:D})});c.push(y)}}Promise.all(c).then(()=>{f()}).catch(h=>{this.reject(h)}),0===c.length&&f(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Yt(L0,8))},s.\u0275prov=o1({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ff=new S1("AppId",{providedIn:"root",factory:function Bf(){return`${Uf()}${Uf()}${Uf()}`}});function Uf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jf=new S1("Platform Initializer"),Fm=new S1("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bm=new S1("appBootstrapListener"),Oy=new S1("AnimationModuleType");let Vy=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=o1({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const H8=new S1("LocaleId",{providedIn:"root",factory:()=>E(H8,tt.Optional|tt.SkipSelf)||function k0(){return typeof $localize<"u"&&$localize.locale||Ba}()}),Py=new S1("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class F8{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let zs=(()=>{class s{compileModuleSync(c){return new mf(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),m=Cs(w1(c).declarations).reduce((y,M)=>{const D=Q(M);return D&&y.push(new Xc(D)),y},[]);return new F8(f,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=o1({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Uy=(()=>Promise.resolve(0))();function z3(s){typeof Zone>"u"?Uy.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class cr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jr(!1),this.onMicrotaskEmpty=new jr(!1),this.onStable=new jr(!1),this.onError=new jr(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!f&&c,h.shouldCoalesceRunChangeDetection=f,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Wf(){let s=m1.requestAnimationFrame,o=m1.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const f=o[Zone.__symbol__("OriginalDelegate")];f&&(o=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jy(s){const o=()=>{!function Gm(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(m1,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,D7(s),s.isCheckStableRunning=!0,U8(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),D7(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,h,m,y,M)=>{try{return $m(s),c.invokeTask(h,m,y,M)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),qm(s)}},onInvoke:(c,f,h,m,y,M,D)=>{try{return $m(s),c.invoke(h,m,y,M,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),qm(s)}},onHasTask:(c,f,h,m)=>{c.hasTask(h,m),f===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,D7(s),U8(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,f,h,m)=>(c.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cr.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new we(909,!1)}run(o,c,f){return this._inner.run(o,c,f)}runTask(o,c,f,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,o,jm,I3,I3);try{return m.runTask(y,c,f)}finally{m.cancelTask(y)}}runGuarded(o,c,f){return this._inner.runGuarded(o,c,f)}runOutsideAngular(o){return this._outer.run(o)}}const jm={};function U8(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function D7(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $m(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function qm(s){s._nesting--,U8(s)}class Gy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jr,this.onMicrotaskEmpty=new jr,this.onStable=new jr,this.onError=new jr}run(o,c,f){return o.apply(c,f)}runGuarded(o,c,f){return o.apply(c,f)}runOutsideAngular(o){return o()}runTask(o,c,f,h){return o.apply(c,f)}}const L3=new S1(""),k3=new S1("");let E2,Wm=(()=>{class s{constructor(c,f,h){this._ngZone=c,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,E2||(function Km(s){E2=s}(h),h.addToWindow(f)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cr.assertNotInAngularZone(),z3(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())z3(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,h){let m=-1;f&&f>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,f,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,f,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Yt(cr),Yt(Zm),Yt(k3))},s.\u0275prov=o1({token:s,factory:s.\u0275fac}),s})(),Zm=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return E2?.findTestabilityInTree(this,c,f)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=o1({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Xa=null;const Zf=new S1("AllowMultipleToken"),lr=new S1("PlatformDestroyListeners");class Wy{constructor(o,c){this.name=o,this.token=c}}function Jm(s,o,c=[]){const f=`Platform: ${o}`,h=new S1(f);return(m=[])=>{let y=Kf();if(!y||y.injector.get(Zf,!1)){const M=[...c,...m,{provide:h,useValue:!0}];s?s(M):function Zy(s){if(Xa&&!Xa.get(Zf,!1))throw new we(400,!1);Xa=s;const o=s.get(Xm);(function Ym(s){const o=s.get(jf,null);o&&o.forEach(c=>c())})(s)}(function Qm(s=[],o){return Mo.create({name:o,providers:[{provide:Uu,useValue:"platform"},{provide:lr,useValue:new Set([()=>Xa=null])},...s]})}(M,f))}return function Yy(s){const o=Kf();if(!o)throw new we(401,!1);return o}()}}function Kf(){return Xa?.get(Xm)??null}let Xm=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const h=function tg(s,o){let c;return c="noop"===s?new Gy:("zone.js"===s?void 0:s)||new cr(o),c}(f?.ngZone,function eg(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(f)),m=[{provide:cr,useValue:h}];return h.run(()=>{const y=Mo.create({providers:m,parent:this.injector,name:c.moduleType.name}),M=c.create(y),D=M.injector.get(za,null);if(!D)throw new we(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:x=>{D.handleError(x)}});M.onDestroy(()=>{j8(this._modules,M),T.unsubscribe()})}),function ng(s,o,c){try{const f=c();return x9(f)?f.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):f}catch(f){throw o.runOutsideAngular(()=>s.handleError(f)),f}}(D,h,()=>{const T=M.injector.get(x3);return T.runInitializers(),T.donePromise.then(()=>(Jp(M.injector.get(H8,Ba)||Ba),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,f=[]){const h=Yf({},f);return function E7(s,o,c){const f=new mf(c);return Promise.resolve(f)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const f=c.injector.get(S7);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>f.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new we(403,!1);c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(lr,null);c&&(c.forEach(f=>f()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Yt(Mo))},s.\u0275prov=o1({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Yf(s,o){return Array.isArray(o)?o.reduce(Yf,s):{...s,...o}}let S7=(()=>{class s{constructor(c,f,h){this._zone=c,this._injector=f,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),y=new O.y(M=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{cr.assertNotInAngularZone(),z3(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(m,y.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,f){const h=c instanceof n_;if(!this._injector.get(x3).done)throw!h&&r1(c),new we(405,false);let y;y=h?c:this._injector.get(Ia).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const M=function qy(s){return s.isBoundToModule}(y)?void 0:this._injector.get(M3),T=y.create(Mo.NULL,[],f||y.selector,M),x=T.location.nativeElement,V=T.injector.get(L3,null);return V?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),j8(this.components,T),V?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;j8(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Bm,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>j8(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new we(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Yt(cr),Yt(Aa),Yt(za))},s.\u0275prov=o1({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function j8(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let N7=!0,qn=!1;function Qf(){return qn=!0,N7}function Xf(){if(qn)throw new Error("Cannot enable prod mode after platform setup.");N7=!1}let Qy=(()=>{class s{}return s.__NG_ELEMENT_ID__=rg,s})();function rg(s){return function T7(s,o,c){if(Us(s)&&!c){const f=e1(s.index,o);return new Rt(f,f)}return 47&s.type?new Rt(o[16],o):null}(B1(),Te(),16==(16&s))}class zo{constructor(){}supports(o){return Ds(o)}create(o){return new eb(o)}}const cg=(s,o)=>o;class eb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||cg}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,f=this._removalsHead,h=0,m=null;for(;c||f;){const y=!f||c&&c.currentIndex<k7(f,h,m)?c:f,M=k7(y,h,m),D=y.currentIndex;if(y===f)h--,f=f._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{m||(m=[]);const T=M-h,x=D-h;if(T!=x){for(let $=0;$<T;$++){const te=$<m.length?m[$]:m[$]=0,be=te+$;x<=be&&be<T&&(m[$]=te+1)}m[y.previousIndex]=x-T}}M!==D&&o(y,M,D)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Ds(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,y,c=this._itHead,f=!1;if(Array.isArray(o)){this.length=o.length;for(let M=0;M<this.length;M++)m=o[M],y=this._trackByFn(M,m),null!==c&&Object.is(c.trackById,y)?(f&&(c=this._verifyReinsertion(c,m,y,M)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,M),f=!0),c=c._next}else h=0,function E9(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[a3()]();let f;for(;!(f=c.next()).done;)o(f.value)}}(o,M=>{y=this._trackByFn(h,M),null!==c&&Object.is(c.trackById,y)?(f&&(c=this._verifyReinsertion(c,M,y,h)),Object.is(c.item,M)||this._addIdentityChange(c,M)):(c=this._mismatch(c,M,y,h),f=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,f,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(f,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,h)):o=this._addAfter(new lg(c,f),m,h),o}_verifyReinsertion(o,c,f,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,c,f),this._addToMoves(o,f),o}_moveAfter(o,c,f){return this._unlink(o),this._insertAfter(o,c,f),this._addToMoves(o,f),o}_addAfter(o,c,f){return this._insertAfter(o,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,f){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new L7),this._linkedRecords.put(o),o.currentIndex=f,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,f=o._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new L7),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class lg{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tb{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,o))return f;return null}remove(o){const c=o._prevDup,f=o._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class L7{constructor(){this.map=new Map}put(o){const c=o.trackById;let f=this.map.get(c);f||(f=new tb,this.map.set(c,f)),f.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function k7(s,o,c){const f=s.previousIndex;if(null===f)return f;let h=0;return c&&f<c.length&&(h=c[f]),f+o+h}class rd{constructor(){}supports(o){return o instanceof Map||kl(o)}create(){return new sd}}class sd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||kl(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(f,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,f);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const f=o._prev;return c._next=o,c._prev=f,o._prev=c,f&&(f._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const f=new od(o);return this._records.set(o,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(f=>c(o[f],f))}}class od{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ad(){return new B0([new zo])}let B0=(()=>{class s{constructor(c){this.factories=c}static create(c,f){if(null!=f){const h=f.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:f=>s.create(c,f||ad()),deps:[[s,new ht,new Ge]]}}find(c){const f=this.factories.find(h=>h.supports(c));if(null!=f)return f;throw new we(901,!1)}}return s.\u0275prov=o1({token:s,providedIn:"root",factory:ad}),s})();function R7(){return new U0([new rd])}let U0=(()=>{class s{constructor(c){this.factories=c}static create(c,f){if(f){const h=f.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:f=>s.create(c,f||R7()),deps:[[s,new ht,new Ge]]}}find(c){const f=this.factories.find(h=>h.supports(c));if(f)return f;throw new we(901,!1)}}return s.\u0275prov=o1({token:s,providedIn:"root",factory:R7}),s})();const G8=Jm(null,"core",[]);let fg=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Yt(S7))},s.\u0275mod=Gt({type:s}),s.\u0275inj=Ft({}),s})();function dg(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function G0(s,o){const c=Q(s),f=o.elementInjector||Uc();return new Xc(c).create(f,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(vt,Ne,k)=>{k.d(Ne,{Z:()=>we});var u=k(2090),ne=k(4859),O=k(9681),oe=k(1877);class ae{constructor(_e,me){this._delegate=_e,this.firebase=me,(0,O._addComponent)(_e,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(_e,me=O._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(_e);return!dt.isInitialized()&&"EXPLICIT"===(null===(st=dt.getComponent())||void 0===st?void 0:st.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:me})}_removeServiceInstance(_e,me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(me)}_addComponent(_e){(0,O._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,O._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function pe(){const ut=function he(ut){const _e={},me={__esModule:!0,initializeApp:function Ie(We,B={}){const ve=O.initializeApp(We,B);if((0,u.r3)(_e,ve.name))return _e[ve.name];const Z=new ut(ve,me);return _e[ve.name]=Z,Z},app:dt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(We){const B=We.name,ve=B.replace("-compat","");if(O._registerComponent(We)&&"PUBLIC"===We.type){const Z=(ee=dt())=>{if("function"!=typeof ee[ve])throw le.create("invalid-app-argument",{appName:B});return ee[ve]()};void 0!==We.serviceProps&&(0,u.ZB)(Z,We.serviceProps),me[ve]=Z,ut.prototype[ve]=function(...ee){return this._getService.bind(this,B).apply(this,We.multipleInstances?ee:[])}}return"PUBLIC"===We.type?me[ve]:null},removeApp:function st(We){delete _e[We]},useAsService:function qe(We,B){return"serverAuth"===B?null:B},modularAPIs:O}};function dt(We){if(!(0,u.r3)(_e,We=We||O._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:We});return _e[We]}return me.default=me,Object.defineProperty(me,"apps",{get:function Ce(){return Object.keys(_e).map(We=>_e[We])}}),dt.App=ut,me}(ae);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function _e(me){(0,u.ZB)(ut,me)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ut}(),j=new oe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=U;!function ke(ut){(0,O.registerVersion)("@firebase/app-compat","0.2.0",ut)}()},9681:(vt,Ne,k)=>{k.r(Ne),k.d(Ne,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>fr,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>n1,_addOrOverwriteComponent:()=>o1,_apps:()=>v1,_clearComponents:()=>mi,_components:()=>A1,_getProvider:()=>Ft,_registerComponent:()=>Kn,_removeServiceInstance:()=>M1,deleteApp:()=>Hs,getApp:()=>T2,getApps:()=>A2,initializeApp:()=>j2,onLog:()=>Bi,registerVersion:()=>Fn,setLogLevel:()=>un});var u=k(5861),ne=k(4859),O=k(1877),oe=k(2090),ae=k(8766);class de{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function le(at){return"VERSION"===at.getComponent()?.type}(ot)){const xt=ot.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(ot=>ot).join(" ")}}const he="@firebase/app",U=new O.Yd("@firebase/app"),qt="[DEFAULT]",et={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},v1=new Map,A1=new Map;function n1(at,Se){try{at.container.addComponent(Se)}catch(ot){U.debug(`Component ${Se.name} failed to register with FirebaseApp ${at.name}`,ot)}}function o1(at,Se){at.container.addOrOverwriteComponent(Se)}function Kn(at){const Se=at.name;if(A1.has(Se))return U.debug(`There were multiple attempts to register component ${Se}.`),!1;A1.set(Se,at);for(const ot of v1.values())n1(ot,at);return!0}function Ft(at,Se){const ot=at.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),at.container.getProvider(Se)}function M1(at,Se,ot=qt){Ft(at,Se).clearInstance(ot)}function mi(){A1.clear()}const Yn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class f2{constructor(Se,ot,xt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const fr="9.15.0";function j2(at,Se={}){let ot=at;"object"!=typeof Se&&(Se={name:Se});const xt=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Se),kt=xt.name;if("string"!=typeof kt||!kt)throw Yn.create("bad-app-name",{appName:String(kt)});if(ot||(ot=(0,oe.aH)()),!ot)throw Yn.create("no-options");const Gt=v1.get(kt);if(Gt){if((0,oe.vZ)(ot,Gt.options)&&(0,oe.vZ)(xt,Gt.config))return Gt;throw Yn.create("duplicate-app",{appName:kt})}const G=new ne.H0(kt);for(const K of A1.values())G.addComponent(K);const F=new f2(ot,xt,G);return v1.set(kt,F),F}function T2(at=qt){const Se=v1.get(at);if(!Se&&at===qt)return j2();if(!Se)throw Yn.create("no-app",{appName:at});return Se}function A2(){return Array.from(v1.values())}function Hs(at){return tt.apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(at){const Se=at.name;v1.has(Se)&&(v1.delete(Se),yield Promise.all(at.container.getProviders().map(ot=>ot.delete())),at.isDeleted=!0)})).apply(this,arguments)}function Fn(at,Se,ot){var xt;let kt=null!==(xt=et[at])&&void 0!==xt?xt:at;ot&&(kt+=`-${ot}`);const Gt=kt.match(/\s|\//),G=Se.match(/\s|\//);if(Gt||G){const F=[`Unable to register library "${kt}" with version "${Se}":`];return Gt&&F.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),Gt&&G&&F.push("and"),G&&F.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void U.warn(F.join(" "))}Kn(new ne.wA(`${kt}-version`,()=>({library:kt,version:Se}),"VERSION"))}function Bi(at,Se){if(null!==at&&"function"!=typeof at)throw Yn.create("invalid-log-argument");(0,O.Am)(at,Se)}function un(at){(0,O.Ub)(at)}const W1="firebase-heartbeat-store";let X1=null;function D1(){return X1||(X1=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(at,Se)=>{0===Se&&at.createObjectStore(W1)}}).catch(at=>{throw Yn.create("idb-open",{originalErrorMessage:at.message})})),X1}function _t(){return(_t=(0,u.Z)(function*(at){try{return(yield D1()).transaction(W1).objectStore(W1).get(en(at))}catch(Se){if(Se instanceof oe.ZR)U.warn(Se.message);else{const ot=Yn.create("idb-get",{originalErrorMessage:Se?.message});U.warn(ot.message)}}})).apply(this,arguments)}function m1(at,Se){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(at,Se){try{const xt=(yield D1()).transaction(W1,"readwrite");return yield xt.objectStore(W1).put(Se,en(at)),xt.done}catch(ot){if(ot instanceof oe.ZR)U.warn(ot.message);else{const xt=Yn.create("idb-set",{originalErrorMessage:ot?.message});U.warn(xt.message)}}})).apply(this,arguments)}function en(at){return`${at.name}!${at.options.appId}`}class Ui{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new u1(ot),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Se=this;return(0,u.Z)(function*(){const xt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=l1();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==kt&&!Se._heartbeatsCache.heartbeats.some(Gt=>Gt.date===kt))return Se._heartbeatsCache.heartbeats.push({date:kt,agent:xt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Gt=>{const G=new Date(Gt.date).valueOf();return Date.now()-G<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,u.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ot=l1(),{heartbeatsToSend:xt,unsentEntries:kt}=function ni(at,Se=1024){const ot=[];let xt=at.slice();for(const kt of at){const Gt=ot.find(G=>G.agent===kt.agent);if(Gt){if(Gt.dates.push(kt.date),fn(ot)>Se){Gt.dates.pop();break}}else if(ot.push({agent:kt.agent,dates:[kt.date]}),fn(ot)>Se){ot.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:xt}}(Se._heartbeatsCache.heartbeats),Gt=(0,oe.L)(JSON.stringify({version:2,heartbeats:xt}));return Se._heartbeatsCache.lastSentHeartbeatDate=ot,kt.length>0?(Se._heartbeatsCache.heartbeats=kt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Gt})()}}function l1(){return(new Date).toISOString().substring(0,10)}class u1{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,u.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function wt(at){return _t.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ot=this;return(0,u.Z)(function*(){var xt;if(yield ot._canUseIndexedDBPromise){const Gt=yield ot.read();return m1(ot.app,{lastSentHeartbeatDate:null!==(xt=Se.lastSentHeartbeatDate)&&void 0!==xt?xt:Gt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ot=this;return(0,u.Z)(function*(){var xt;if(yield ot._canUseIndexedDBPromise){const Gt=yield ot.read();return m1(ot.app,{lastSentHeartbeatDate:null!==(xt=Se.lastSentHeartbeatDate)&&void 0!==xt?xt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...Se.heartbeats]})}})()}}function fn(at){return(0,oe.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Jn(at){Kn(new ne.wA("platform-logger",Se=>new de(Se),"PRIVATE")),Kn(new ne.wA("heartbeat",Se=>new Ui(Se),"PRIVATE")),Fn(he,"0.9.0",at),Fn(he,"0.9.0","esm2017"),Fn("fire-js","")}("")},4859:(vt,Ne,k)=>{k.d(Ne,{H0:()=>he,wA:()=>O});var u=k(5861),ne=k(2090);class O{constructor(U,j,Y){this.name=U,this.instanceFactory=j,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const oe="[DEFAULT]";class ae{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const Y=new ne.BH;if(this.instancesDeferred.set(j,Y),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:j});Ue&&Y.resolve(Ue)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const Y=this.normalizeInstanceIdentifier(U?.identifier),Ue=null!==(j=U?.optional)&&void 0!==j&&j;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(ke){if(Ue)return null;throw ke}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function le(pe){return"EAGER"===pe.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[j,Y]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(j);try{const ke=this.getOrInitializeService({instanceIdentifier:Ue});Y.resolve(ke)}catch{}}}}clearInstance(U=oe){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,u.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...j.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=oe){return this.instances.has(U)}getOptions(U=oe){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,Y=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Y,options:j});for(const[ke,we]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(ke)&&we.resolve(Ue);return Ue}onInit(U,j){var Y;const Ue=this.normalizeInstanceIdentifier(j),ke=null!==(Y=this.onInitCallbacks.get(Ue))&&void 0!==Y?Y:new Set;ke.add(U),this.onInitCallbacks.set(Ue,ke);const we=this.instances.get(Ue);return we&&U(we,Ue),()=>{ke.delete(U)}}invokeOnInitCallbacks(U,j){const Y=this.onInitCallbacks.get(j);if(Y)for(const Ue of Y)try{Ue(U,j)}catch{}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let Y=this.instances.get(U);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=U,pe===oe?void 0:pe),options:j}),this.instances.set(U,Y),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(Y,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Y)}catch{}var pe;return Y||null}normalizeInstanceIdentifier(U=oe){return this.component?this.component.multipleInstances?U:oe:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new ae(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Ne,k)=>{k.d(Ne,{Am:()=>pe,Ub:()=>he,Yd:()=>le,in:()=>ne});const u=[];var ne=(()=>{return(U=ne||(ne={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",ne;var U})();const O={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},oe=ne.INFO,ae={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},de=(U,j,...Y)=>{if(j<U.logLevel)return;const Ue=(new Date).toISOString(),ke=ae[j];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ke](`[${Ue}]  ${U.name}:`,...Y)};class le{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=de,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ne))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...j),this._logHandler(this,ne.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...j),this._logHandler(this,ne.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...j),this._logHandler(this,ne.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...j),this._logHandler(this,ne.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...j),this._logHandler(this,ne.ERROR,...j)}}function he(U){u.forEach(j=>{j.setLogLevel(U)})}function pe(U,j){for(const Y of u){let Ue=null;j&&j.level&&(Ue=O[j.level]),Y.userLogHandler=null===U?null:(ke,we,...ut)=>{const _e=ut.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");we>=(Ue??ke.logLevel)&&U({level:ne[we].toLowerCase(),message:_e,args:ut,type:ke.name})}}}},259:(vt,Ne,k)=>{k.d(Ne,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=k(9681);(0,u.registerVersion)("firebase","9.15.0","app")},9260:(vt,Ne,k)=>{k.d(Ne,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(vt,Ne,k)=>{k.r(Ne);var u=k(5861),ne=k(3942),O=k(2090),oe=k(9681),ae=k(1877),de=k(655),le=k(4859);const we=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ut=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ae.Yd("@firebase/auth");function dt(_,...p){st.logLevel<=ae.in.ERROR&&st.error(`Auth (${oe.SDK_VERSION}): ${_}`,...p)}function Ie(_,...p){throw We(_,...p)}function Ce(_,...p){return We(_,...p)}function De(_,p,v){const C=Object.assign(Object.assign({},ut()),{[p]:v});return new O.LL("auth","Firebase",C).create(p,{appName:_.name})}function qe(_,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&Ie(_,"argument-error"),De(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(_,...p){if("string"!=typeof _){const v=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=_.name),_._errorFactory.create(v,...C)}return _e.create(_,...p)}function B(_,p,...v){if(!_)throw We(p,...v)}function ve(_){const p="INTERNAL ASSERTION FAILED: "+_;throw dt(p),new Error(p)}function Z(_,p){_||ve(p)}const ee=new Map;function se(_){Z(_ instanceof Function,"Expected a class definition");let p=ee.get(_);return p?(Z(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,ee.set(_,p),p)}function Oe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function bt(){return"http:"===s1()||"https:"===s1()}function s1(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class v1{constructor(p,v){this.shortDelay=p,this.longDelay=v,Z(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function qt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function A1(_,p){Z(_.emulator,"Emulator should always be set here");const{url:v}=_.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class n1{static initialize(p,v,C){this.fetchImpl=p,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const o1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Kn=new v1(3e4,6e4);function Ft(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function M1(_,p,v,C){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(_,p,v,C,A={}){return U2(_,A,(0,u.Z)(function*(){let L={},W={};C&&("GET"===p?W=C:L={body:JSON.stringify(C)});const ue=(0,O.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),$e=yield _._getAdditionalHeaders();return $e["Content-Type"]="application/json",_.languageCode&&($e["X-Firebase-Locale"]=_.languageCode),n1.fetch()(j2(_,_.config.apiHost,v,ue),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function U2(_,p,v){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(_,p,v){_._canInitEmulator=!1;const C=Object.assign(Object.assign({},o1),p);try{const A=new T2(_),L=yield Promise.race([v(),A.promise]);A.clearNetworkTimeout();const W=yield L.json();if("needConfirmation"in W)throw A2(_,"account-exists-with-different-credential",W);if(L.ok&&!("errorMessage"in W))return W;{const ue=L.ok?W.errorMessage:W.error.message,[$e,rt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw A2(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===$e)throw A2(_,"email-already-in-use",W);if("USER_DISABLED"===$e)throw A2(_,"user-disabled",W);const Nt=C[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw De(_,Nt,rt);Ie(_,Nt)}}catch(A){if(A instanceof O.ZR)throw A;Ie(_,"network-request-failed")}})).apply(this,arguments)}function f2(_,p,v,C){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(_,p,v,C,A={}){const L=yield M1(_,p,v,C,A);return"mfaPendingCredential"in L&&Ie(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function j2(_,p,v,C){const A=`${p}${v}?${C}`;return _.config.emulator?A1(_.config,A):`${_.config.apiScheme}://${A}`}class T2{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ce(this.auth,"network-request-failed")),Kn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function A2(_,p,v){const C={appName:_.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const A=Ce(_,p,C);return A.customData._tokenResponse=v,A}function tt(){return(tt=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Fn(_,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function un(_,p){return I2.apply(this,arguments)}function I2(){return(I2=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ti(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function D1(){return(D1=(0,u.Z)(function*(_,p=!1){const v=(0,O.m9)(_),C=yield v.getIdToken(p),A=_t(C);B(A&&A.exp&&A.auth_time&&A.iat,v.auth,"internal-error");const L="object"==typeof A.firebase?A.firebase:void 0,W=L?.sign_in_provider;return{claims:A,token:C,authTime:ti(wt(A.auth_time)),issuedAtTime:ti(wt(A.iat)),expirationTime:ti(wt(A.exp)),signInProvider:W||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(_){return 1e3*Number(_)}function _t(_){const[p,v,C]=_.split(".");if(void 0===p||void 0===v||void 0===C)return dt("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,O.tV)(v);return A?JSON.parse(A):(dt("Failed to decode base64 JWT payload"),null)}catch(A){return dt("Caught error parsing JWT payload as JSON",A?.toString()),null}}function zn(_,p){return en.apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(_,p,v=!1){if(v)return p;try{return yield p}catch(C){throw C instanceof O.ZR&&d2(C)&&_.auth.currentUser===_&&(yield _.auth.signOut()),C}})).apply(this,arguments)}function d2({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Lt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const A=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield v.iteration()}),C)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&p.schedule(!0))}p.schedule()})()}}class Ui{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function l1(_){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(_){var p;const v=_.auth,C=yield _.getIdToken(),A=yield zn(_,un(v,{idToken:C}));B(A?.users.length,v,"internal-error");const L=A.users[0];_._notifyReloadListener(L);const W=null!==(p=L.providerUserInfo)&&void 0!==p&&p.length?at(L.providerUserInfo):[],ue=Jn(_.providerData,W),Nt=!!_.isAnonymous&&!(_.email&&L.passwordHash||ue?.length),Mt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ue,metadata:new Ui(L.createdAt,L.lastLoginAt),isAnonymous:Nt};Object.assign(_,Mt)})).apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(_){const p=(0,O.m9)(_);yield l1(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Jn(_,p){return[..._.filter(C=>!p.some(A=>A.providerId===C.providerId)),...p]}function at(_){return _.map(p=>{var{providerId:v}=p,C=(0,de._T)(p,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ot(){return(ot=(0,u.Z)(function*(_,p){const v=yield U2(_,{},(0,u.Z)(function*(){const C=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:L}=_.config,W=j2(_,A,"/v1/token",`key=${L}`),ue=yield _._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",n1.fetch()(W,{method:"POST",headers:ue,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){B(p.idToken,"internal-error"),B(typeof p.idToken<"u","internal-error"),B(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function m1(_){const p=_t(_);return B(p,"internal-error"),B(typeof p.exp<"u","internal-error"),B(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}getToken(p,v=!1){var C=this;return(0,u.Z)(function*(){return B(!C.accessToken||C.refreshToken,p,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var C=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:L,expiresIn:W}=yield function Se(_,p){return ot.apply(this,arguments)}(p,v);C.updateTokensAndExpiration(A,L,Number(W))})()}updateTokensAndExpiration(p,v,C){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,v){const{refreshToken:C,accessToken:A,expirationTime:L}=v,W=new xt;return C&&(B("string"==typeof C,"internal-error",{appName:p}),W.refreshToken=C),A&&(B("string"==typeof A,"internal-error",{appName:p}),W.accessToken=A),L&&(B("number"==typeof L,"internal-error",{appName:p}),W.expirationTime=L),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function kt(_,p){B("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class Gt{constructor(p){var{uid:v,auth:C,stsTokenManager:A}=p,L=(0,de._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ui(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,u.Z)(function*(){const C=yield zn(v,v.stsTokenManager.getToken(v.auth,p));return B(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(p){return function X1(_){return D1.apply(this,arguments)}(this,p)}reload(){return function u1(_){return fn.apply(this,arguments)}(this)}_assign(p){this!==p&&(B(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Gt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var C=this;return(0,u.Z)(function*(){let A=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),A=!0),v&&(yield l1(C)),yield C.auth._persistUserIfCurrent(C),A&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,u.Z)(function*(){const v=yield p.getIdToken();return yield zn(p,function Hs(_,p){return tt.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var C,A,L,W,ue,$e,rt,Nt;const Mt=null!==(C=v.displayName)&&void 0!==C?C:void 0,b1=null!==(A=v.email)&&void 0!==A?A:void 0,_n=null!==(L=v.phoneNumber)&&void 0!==L?L:void 0,Y2=null!==(W=v.photoURL)&&void 0!==W?W:void 0,$5=null!==(ue=v.tenantId)&&void 0!==ue?ue:void 0,Rc=null!==($e=v._redirectEventId)&&void 0!==$e?$e:void 0,Oc=null!==(rt=v.createdAt)&&void 0!==rt?rt:void 0,X4=null!==(Nt=v.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:Vc,emailVerified:q5,isAnonymous:ys,providerData:yo,stsTokenManager:W5}=v;B(Vc&&W5,p,"internal-error");const ku=xt.fromJSON(this.name,W5);B("string"==typeof Vc,p,"internal-error"),kt(Mt,p.name),kt(b1,p.name),B("boolean"==typeof q5,p,"internal-error"),B("boolean"==typeof ys,p,"internal-error"),kt(_n,p.name),kt(Y2,p.name),kt($5,p.name),kt(Rc,p.name),kt(Oc,p.name),kt(X4,p.name);const bo=new Gt({uid:Vc,auth:p,email:b1,emailVerified:q5,displayName:Mt,isAnonymous:ys,photoURL:Y2,phoneNumber:_n,tenantId:$5,stsTokenManager:ku,createdAt:Oc,lastLoginAt:X4});return yo&&Array.isArray(yo)&&(bo.providerData=yo.map(bs=>Object.assign({},bs))),Rc&&(bo._redirectEventId=Rc),bo}static _fromIdTokenResponse(p,v,C=!1){return(0,u.Z)(function*(){const A=new xt;A.updateFromServerResponse(v);const L=new Gt({uid:v.localId,auth:p,stsTokenManager:A,isAnonymous:C});return yield l1(L),L})()}}const F=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(v,C){var A=this;return(0,u.Z)(function*(){A.storage[v]=C})()}_get(v){var C=this;return(0,u.Z)(function*(){const A=C.storage[v];return void 0===A?null:A})()}_remove(v){var C=this;return(0,u.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return _.type="NONE",_})();function K(_,p,v){return`firebase:${_}:${p}:${v}`}class Me{constructor(p,v,C){this.persistence=p,this.auth=v,this.userKey=C;const{config:A,name:L}=this.auth;this.fullUserKey=K(this.userKey,A.apiKey,L),this.fullPersistenceKey=K("persistence",A.apiKey,L),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?Gt._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,u.Z)(function*(){if(v.persistence===p)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,C="authUser"){return(0,u.Z)(function*(){if(!v.length)return new Me(se(F),p,C);const A=(yield Promise.all(v.map(function(){var rt=(0,u.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let L=A[0]||se(F);const W=K(C,p.config.apiKey,p.name);let ue=null;for(const rt of v)try{const Nt=yield rt._get(W);if(Nt){const Mt=Gt._fromJSON(p,Nt);rt!==L&&(ue=Mt),L=rt;break}}catch{}const $e=A.filter(rt=>rt._shouldAllowMigration);return L._shouldAllowMigration&&$e.length?(L=$e[0],ue&&(yield L._set(W,ue.toJSON())),yield Promise.all(v.map(function(){var rt=(0,u.Z)(function*(Nt){if(Nt!==L)try{yield Nt._remove(W)}catch{}});return function(Nt){return rt.apply(this,arguments)}}())),new Me(L,p,C)):new Me(L,p,C)})()}}function Q(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(w1(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ke(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(je(p))return"Blackberry";if(Ze(p))return"Webos";if(Ct(p))return"Safari";if((p.includes("chrome/")||r1(p))&&!p.includes("edge/"))return"Chrome";if(Xt(p))return"Android";{const C=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ke(_=(0,O.z$)()){return/firefox\//i.test(_)}function Ct(_=(0,O.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function r1(_=(0,O.z$)()){return/crios\//i.test(_)}function w1(_=(0,O.z$)()){return/iemobile/i.test(_)}function Xt(_=(0,O.z$)()){return/android/i.test(_)}function je(_=(0,O.z$)()){return/blackberry/i.test(_)}function Ze(_=(0,O.z$)()){return/webos/i.test(_)}function $t(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function dr(_=(0,O.z$)()){return $t(_)||Xt(_)||Ze(_)||je(_)||/windows phone/i.test(_)||w1(_)}function ji(_,p=[]){let v;switch(_){case"Browser":v=Q((0,O.z$)());break;case"Worker":v=`${Q((0,O.z$)())}-${_}`;break;default:v=_}const C=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${oe.SDK_VERSION}/${C}`}class Jr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const C=L=>new Promise((W,ue)=>{try{W(p(L))}catch($e){ue($e)}});C.onAbort=v,this.queue.push(C);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,u.Z)(function*(){if(v.auth.currentUser===p)return;const C=[];try{for(const A of v.queue)yield A(p),A.onAbort&&C.push(A.onAbort)}catch(A){C.reverse();for(const L of C)try{L()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Bt{constructor(p,v,C){this.app=p,this.heartbeatServiceProvider=v,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hr(this),this.idTokenSubscription=new hr(this),this.beforeStateQueue=new Jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,v){var C=this;return v&&(this._popupRedirectResolver=se(v)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,L;if(!C._deleted&&(C.persistenceManager=yield Me.create(C,p),!C._deleted)){if(null!==(A=C._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUser(p){var v=this;return(0,u.Z)(function*(){var C;const A=yield v.assertedPersistence.getCurrentUser();let L=A,W=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const ue=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,$e=L?._redirectEventId,rt=yield v.tryRedirectSignIn(p);(!ue||ue===$e)&&rt?.user&&(L=rt.user,W=!0)}if(!L)return v.directlySetCurrentUser(null);if(!L._redirectEventId){if(W)try{yield v.beforeStateQueue.runMiddleware(L)}catch(ue){L=A,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(ue))}return L?v.reloadAndSetCurrentUserOrClear(L):v.directlySetCurrentUser(null)}return B(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===L._redirectEventId?v.directlySetCurrentUser(L):v.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(p){var v=this;return(0,u.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,u.Z)(function*(){try{yield l1(p)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function et(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,u.Z)(function*(){const C=p?(0,O.m9)(p):null;return C&&B(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(p,v=!1){var C=this;return(0,u.Z)(function*(){if(!C._deleted)return p&&B(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,u.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var v=this;return this.queue((0,u.Z)(function*(){yield v.assertedPersistence.setPersistence(se(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,v,C){return this.registerStateListener(this.authStateSubscription,p,v,C)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,C){return this.registerStateListener(this.idTokenSubscription,p,v,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var C=this;return(0,u.Z)(function*(){const A=yield C.getOrInitRedirectPersistenceManager(v);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,u.Z)(function*(){if(!v.redirectPersistenceManager){const C=p&&se(p)||v._popupRedirectResolver;B(C,v,"argument-error"),v.redirectPersistenceManager=yield Me.create(v,[se(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,u.Z)(function*(){var C,A;return v._isInitialized&&(yield v.queue((0,u.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===p?v._currentUser:(null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,u.Z)(function*(){if(p===v.currentUser)return v.queue((0,u.Z)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,C,A){if(this._deleted)return()=>{};const L="function"==typeof v?v:v.next.bind(v),W=this._isInitialized?Promise.resolve():this._initializationPromise;return B(W,this,"internal-error"),W.then(()=>L(this.currentUser)),"function"==typeof v?p.addObserver(v,C,A):p.addObserver(v)}directlySetCurrentUser(p){var v=this;return(0,u.Z)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ji(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var v;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return A&&(C["X-Firebase-Client"]=A),C})()}}function R1(_){return(0,O.m9)(_)}class hr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(v=>this.observer=v)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ii(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Gi(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Ln{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return ve("not implemented")}_getIdTokenResponse(p){return ve("not implemented")}_linkToIdToken(p,v){return ve("not implemented")}_getReauthenticationResolver(p){return ve("not implemented")}}function nn(_,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:resetPassword",Ft(_,p))})).apply(this,arguments)}function _1(_,p){return f4.apply(this,arguments)}function f4(){return(f4=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function d4(_,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:update",Ft(_,p))})).apply(this,arguments)}function x2(){return(x2=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signInWithPassword",Ft(_,p))})).apply(this,arguments)}function qi(_,p){return G2.apply(this,arguments)}function G2(){return(G2=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:sendOobCode",Ft(_,p))})).apply(this,arguments)}function V1(_,p){return h4.apply(this,arguments)}function h4(){return(h4=(0,u.Z)(function*(_,p){return qi(_,p)})).apply(this,arguments)}function En(_,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(_,p){return qi(_,p)})).apply(this,arguments)}function Fo(_,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,u.Z)(function*(_,p){return qi(_,p)})).apply(this,arguments)}function p4(_,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(_,p){return qi(_,p)})).apply(this,arguments)}function Q3(){return(Q3=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signInWithEmailLink",Ft(_,p))})).apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signInWithEmailLink",Ft(_,p))})).apply(this,arguments)}class m4 extends Ln{constructor(p,v,C,A=null){super("password",C),this._email=p,this._password=v,this._tenantId=A}static _fromEmailAndPassword(p,v){return new m4(p,v,"password")}static _fromEmailAndCode(p,v,C=null){return new m4(p,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return function Bs(_,p){return x2.apply(this,arguments)}(p,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function oc(_,p){return Q3.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,v){var C=this;return(0,u.Z)(function*(){switch(C.signInMethod){case"password":return _1(p,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function X3(_,p){return mr.apply(this,arguments)}(p,{idToken:v,email:C._email,oobCode:C._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function hn(_,p){return e6.apply(this,arguments)}function e6(){return(e6=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signInWithIdp",Ft(_,p))})).apply(this,arguments)}class gi extends Ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new gi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):Ie("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A}=v,L=(0,de._T)(v,["providerId","signInMethod"]);if(!C||!A)return null;const W=new gi(C,A);return W.idToken=L.idToken||void 0,W.accessToken=L.accessToken||void 0,W.secret=L.secret,W.nonce=L.nonce,W.pendingToken=L.pendingToken||null,W}_getIdTokenResponse(p){return hn(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,hn(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,hn(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,O.xO)(v)}return p}}function _5(_,p){return g4.apply(this,arguments)}function g4(){return(g4=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:sendVerificationCode",Ft(_,p))})).apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,p))})).apply(this,arguments)}function t6(){return(t6=(0,u.Z)(function*(_,p){const v=yield f2(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,p));if(v.temporaryProof)throw A2(_,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const b5={USER_NOT_FOUND:"user-not-found"};function n6(){return(n6=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signInWithPhoneNumber",Ft(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),b5)})).apply(this,arguments)}class Zi extends Ln{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new Zi({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new Zi({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function v4(_,p){return Wi.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function y5(_,p){return t6.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function C5(_,p){return n6.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:C,verificationCode:A}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:C,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:C,phoneNumber:A,temporaryProof:L}=p;return C||v||A||L?new Zi({verificationId:v,verificationCode:C,phoneNumber:A,temporaryProof:L}):null}}class Bo{constructor(p){var v,C,A,L,W,ue;const $e=(0,O.zd)((0,O.pd)(p)),rt=null!==(v=$e.apiKey)&&void 0!==v?v:null,Nt=null!==(C=$e.oobCode)&&void 0!==C?C:null,Mt=function i6(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=$e.mode)&&void 0!==A?A:null);B(rt&&Nt&&Mt,"argument-error"),this.apiKey=rt,this.operation=Mt,this.code=Nt,this.continueUrl=null!==(L=$e.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(W=$e.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ue=$e.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const v=function r6(_){const p=(0,O.zd)((0,O.pd)(_)).link,v=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,C=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(C?(0,O.zd)((0,O.pd)(C)).link:null)||C||v||p||_}(p);try{return new Bo(v)}catch{return null}}}let ri=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(v,C){return m4._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const A=Bo.parseLink(C);return B(A,"argument-error"),m4._fromEmailAndCode(v,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class vi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class _i extends vi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class gr extends _i{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return B("providerId"in v&&"signInMethod"in v,"argument-error"),gi._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return B(p.idToken||p.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return gr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return gr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:A,pendingToken:L,nonce:W,providerId:ue}=p;if(!C&&!A&&!v&&!L||!ue)return null;try{return new gr(ue)._credential({idToken:v,accessToken:C,nonce:W,pendingToken:L})}catch{return null}}}let js=(()=>{class _ extends _i{constructor(){super("facebook.com")}static credential(v){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return _.credential(v.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Uo=(()=>{class _ extends _i{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:A}=v;if(!C&&!A)return null;try{return _.credential(C,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),_4=(()=>{class _ extends _i{constructor(){super("github.com")}static credential(v){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return _.credential(v.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class pn extends Ln{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return hn(p,this.buildRequest())}_linkToIdToken(p,v){const C=this.buildRequest();return C.idToken=v,hn(p,C)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,hn(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:A,pendingToken:L}=v;return C&&A&&L&&C===A?new pn(C,L):null}static _create(p,v){return new pn(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class z2 extends vi{constructor(p){B(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return z2.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return z2.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=pn.fromJSON(p);return B(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:C}=p;if(!v||!C)return null;try{return pn._create(C,v)}catch{return null}}}let p2=(()=>{class _ extends _i{constructor(){super("twitter.com")}static credential(v,C){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:A}=v;if(!C||!A)return null;try{return _.credential(C,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Qr(_,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signUp",Ft(_,p))})).apply(this,arguments)}class kn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,C,A=!1){return(0,u.Z)(function*(){const L=yield Gt._fromIdTokenResponse(p,C,A),W=lc(C);return new kn({user:L,providerId:W,_tokenResponse:C,operationType:v})})()}static _forOperation(p,v,C){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const A=lc(C);return new kn({user:p,providerId:A,_tokenResponse:C,operationType:v})})()}}function lc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function F1(){return(F1=(0,u.Z)(function*(_){var p;const v=R1(_);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new kn({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Qr(v,{returnSecureToken:!0}),A=yield kn._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(A.user),A})).apply(this,arguments)}class Go extends O.ZR{constructor(p,v,C,A){var L;super(v.code,v.message),this.operationType=C,this.user=A,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,v,C,A){return new Go(p,v,C,A)}}function fc(_,p,v,C){return("reauthenticate"===p?v._getReauthenticationResolver(_):v._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Go._fromErrorAndOperation(_,L,p,C):L})}function L2(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function $o(){return($o=(0,u.Z)(function*(_,p){const v=(0,O.m9)(_);yield e1(!0,v,p);const{providerUserInfo:C}=yield Fn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),A=L2(C||[]);return v.providerData=v.providerData.filter(L=>A.has(L.providerId)),A.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function vr(_,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(_,p,v=!1){const C=yield zn(_,p._linkToIdToken(_.auth,yield _.getIdToken()),v);return kn._forOperation(_,"link",C)})).apply(this,arguments)}function e1(_,p,v){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(_,p,v){yield l1(p);const A=!1===_?"provider-already-linked":"no-such-provider";B(L2(p.providerData).has(v)===_,p.auth,A)})).apply(this,arguments)}function _r(_,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(_,p,v=!1){const{auth:C}=_,A="reauthenticate";try{const L=yield zn(_,fc(C,A,p,_),v);B(L.idToken,C,"internal-error");const W=_t(L.idToken);B(W,C,"internal-error");const{sub:ue}=W;return B(_.uid===ue,C,"user-mismatch"),kn._forOperation(_,A,L)}catch(L){throw"auth/user-not-found"===L?.code&&Ie(C,"user-mismatch"),L}})).apply(this,arguments)}function $2(_,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(_,p,v=!1){const C="signIn",A=yield fc(_,C,p),L=yield kn._fromIdTokenResponse(_,C,A);return v||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function P1(_,p){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(_,p){return $2(R1(_),p)})).apply(this,arguments)}function Ko(_,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,u.Z)(function*(_,p){const v=(0,O.m9)(_);return yield e1(!1,v,p.providerId),vr(v,p)})).apply(this,arguments)}function Yo(_,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(_,p){return _r((0,O.m9)(_),p)})).apply(this,arguments)}function y4(_,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(_,p){return f2(_,"POST","/v1/accounts:signInWithCustomToken",Ft(_,p))})).apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(_,p){const v=R1(_),C=yield y4(v,{token:p,returnSecureToken:!0}),A=yield kn._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(A.user),A})).apply(this,arguments)}class Te{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?Kt._fromServerResponse(p,v):Ie(p,"internal-error")}}class Kt extends Te{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new Kt(v)}}function Qo(_,p,v){var C;B((null===(C=v.url)||void 0===C?void 0:C.length)>0,_,"invalid-continue-uri"),B(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(B(v.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(B(v.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function B1(){return(B1=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_),A={requestType:"PASSWORD_RESET",email:p};v&&Qo(C,A,v),yield En(C,A)})).apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(_,p,v){yield nn((0,O.m9)(_),{oobCode:p,newPassword:v})})).apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(_,p){yield d4((0,O.m9)(_),{oobCode:p})})).apply(this,arguments)}function qs(_,p){return C4.apply(this,arguments)}function C4(){return(C4=(0,u.Z)(function*(_,p){const v=(0,O.m9)(_),C=yield nn(v,{oobCode:p}),A=C.requestType;switch(B(A,v,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(C.mfaInfo,v,"internal-error");default:B(C.email,v,"internal-error")}let L=null;return C.mfaInfo&&(L=Te._fromServerResponse(R1(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:A}})).apply(this,arguments)}function s6(){return(s6=(0,u.Z)(function*(_,p){const{data:v}=yield qs((0,O.m9)(_),p);return v.email})).apply(this,arguments)}function U1(){return(U1=(0,u.Z)(function*(_,p,v){const C=R1(_),A=yield Qr(C,{returnSecureToken:!0,email:p,password:v}),L=yield kn._fromIdTokenResponse(C,"signIn",A);return yield C._updateCurrentUser(L.user),L})).apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_),A={requestType:"EMAIL_SIGNIN",email:p};B(v.handleCodeInApp,C,"argument-error"),v&&Qo(C,A,v),yield Fo(C,A)})).apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_),A=ri.credentialWithLink(p,v||Oe());return B(A._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),P1(C,A)})).apply(this,arguments)}function w5(_,p){return D4.apply(this,arguments)}function D4(){return(D4=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:createAuthUri",Ft(_,p))})).apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(_,p){const C={identifier:p,continueUri:bt()?Oe():"http://localhost"},{signinMethods:A}=yield w5((0,O.m9)(_),C);return A||[]})).apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(_,p){const v=(0,O.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&Qo(v.auth,A,p);const{email:L}=yield V1(v.auth,A);L!==_.email&&(yield _.reload())})).apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};v&&Qo(C.auth,L,v);const{email:W}=yield p4(C.auth,L);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function ia(_,p){return N4.apply(this,arguments)}function N4(){return(N4=(0,u.Z)(function*(_,p){return M1(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function A4(){return(A4=(0,u.Z)(function*(_,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const C=(0,O.m9)(_),L={idToken:yield C.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},W=yield zn(C,ia(C.auth,L));C.displayName=W.displayName||null,C.photoURL=W.photoUrl||null;const ue=C.providerData.find(({providerId:$e})=>"password"===$e);ue&&(ue.displayName=C.displayName,ue.photoURL=C.photoURL),yield C._updateTokensIfNecessary(W)})).apply(this,arguments)}function Cr(_,p,v){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(_,p,v){const{auth:C}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(L.email=p),v&&(L.password=v);const W=yield zn(_,_1(C,L));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class m2{constructor(p,v,C={}){this.isNewUser=p,this.providerId=v,this.profile=C}}class E1 extends m2{constructor(p,v,C,A){super(p,v,C),this.username=A}}class a6 extends m2{constructor(p,v){super(p,"facebook.com",v)}}class I4 extends E1{constructor(p,v){super(p,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class hc extends m2{constructor(p,v){super(p,"google.com",v)}}class x4 extends E1{constructor(p,v,C){super(p,"twitter.com",v,C)}}function sa(_){const{user:p,_tokenResponse:v}=_;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function mn(_){var p,v;if(!_)return null;const{providerId:C}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!C&&_?.idToken){const W=null===(v=null===(p=_t(_.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(W)return new m2(L,"anonymous"!==W&&"custom"!==W?W:null)}if(!C)return null;switch(C){case"facebook.com":return new a6(L,A);case"github.com":return new I4(L,A);case"google.com":return new hc(L,A);case"twitter.com":return new x4(L,A,_.screenName||null);case"custom":case"anonymous":return new m2(L,null);default:return new m2(L,C,A)}}(v)}class wr{constructor(p,v,C){this.type=p,this.credential=v,this.auth=C}static _fromIdtoken(p,v){return new wr("enroll",p,v)}static _fromMfaPendingCredential(p){return new wr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,C;if(p?.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return wr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return wr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class aa{constructor(p,v,C){this.session=p,this.hints=v,this.signInResolver=C}static _fromError(p,v){const C=R1(p),A=v.customData._serverResponse,L=(A.mfaInfo||[]).map(ue=>Te._fromServerResponse(C,ue));B(A.mfaPendingCredential,C,"internal-error");const W=wr._fromMfaPendingCredential(A.mfaPendingCredential);return new aa(W,L,function(){var ue=(0,u.Z)(function*($e){const rt=yield $e._process(C,W);delete A.mfaInfo,delete A.mfaPendingCredential;const Nt=Object.assign(Object.assign({},A),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(v.operationType){case"signIn":const Mt=yield kn._fromIdTokenResponse(C,v.operationType,Nt);return yield C._updateCurrentUser(Mt.user),Mt;case"reauthenticate":return B(v.user,C,"internal-error"),kn._forOperation(v.user,v.operationType,Nt);default:Ie(C,"internal-error")}});return function($e){return ue.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,u.Z)(function*(){return v.signInResolver(p)})()}}function ca(_,p){return M1(_,"POST","/v2/accounts/mfaEnrollment:start",Ft(_,p))}class pc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Te._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new pc(p)}getSession(){var p=this;return(0,u.Z)(function*(){return wr._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,v){var C=this;return(0,u.Z)(function*(){const A=p,L=yield C.getSession(),W=yield zn(C.user,A._process(C.user.auth,L,v));return yield C.user._updateTokensIfNecessary(W),C.user.reload()})()}unenroll(p){var v=this;return(0,u.Z)(function*(){const C="string"==typeof p?p:p.uid,A=yield v.user.getIdToken(),L=yield zn(v.user,function f6(_,p){return M1(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(_,p))}(v.user.auth,{idToken:A,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:W})=>W!==C),yield v.user._updateTokensIfNecessary(L);try{yield v.user.reload()}catch(W){if("auth/user-token-expired"!==W?.code)throw W}})()}}const Dr=new WeakMap,Er="__sak";class ua{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Er,"1"),this.storage.removeItem(Er),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qs=(()=>{class _ extends ua{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Js(){const _=(0,O.z$)();return Ct(_)||$t(_)}()&&function I1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dr(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const A=this.storage.getItem(C),L=this.localCache[C];A!==L&&v(C,L,A)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((ue,$e,rt)=>{this.notifyListeners(ue,rt)});const A=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(A);if(v.newValue!==ue)null!==v.newValue?this.storage.setItem(A,v.newValue):this.storage.removeItem(A);else if(this.localCache[A]===v.newValue&&!C)return}const L=()=>{const ue=this.storage.getItem(A);!C&&this.localCache[A]===ue||this.notifyListeners(A,ue)},W=this.storage.getItem(A);!function dn(){return(0,O.w1)()&&10===document.documentMode}()||W===v.newValue||v.newValue===v.oldValue?L():setTimeout(L,10)}notifyListeners(v,C){this.localCache[v]=C;const A=this.listeners[v];if(A)for(const L of Array.from(A))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var A=()=>super._set,L=this;return(0,u.Z)(function*(){yield A().call(L,v,C),L.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,A=this;return(0,u.Z)(function*(){const L=yield C().call(A,v);return A.localCache[v]=JSON.stringify(L),L})()}_remove(v){var C=()=>super._remove,A=this;return(0,u.Z)(function*(){yield C().call(A,v),delete A.localCache[v]})()}}return _.type="LOCAL",_})(),oi=(()=>{class _ extends ua{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return _.type="SESSION",_})();let p6=(()=>{class _{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(L=>L.isListeningto(v));if(C)return C;const A=new _(v);return this.receivers.push(A),A}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,u.Z)(function*(){const A=v,{eventId:L,eventType:W,data:ue}=A.data,$e=C.handlersMap[W];if(!$e?.size)return;A.ports[0].postMessage({status:"ack",eventId:L,eventType:W});const rt=Array.from($e).map(function(){var Mt=(0,u.Z)(function*(b1){return b1(A.origin,ue)});return function(b1){return Mt.apply(this,arguments)}}()),Nt=yield function eo(_){return Promise.all(_.map(function(){var p=(0,u.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return p.apply(this,arguments)}}()))}(rt);A.ports[0].postMessage({status:"done",eventId:L,eventType:W,response:Nt})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function to(_="",p=10){let v="";for(let C=0;C<p;C++)v+=Math.floor(10*Math.random());return _+v}class z4{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,C=50){var A=this;return(0,u.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let W,ue;return new Promise(($e,rt)=>{const Nt=to("",20);L.port1.start();const Mt=setTimeout(()=>{rt(new Error("unsupported_event"))},C);ue={messageChannel:L,onMessage(b1){const _n=b1;if(_n.data.eventId===Nt)switch(_n.data.status){case"ack":clearTimeout(Mt),W=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),$e(_n.data.response);break;default:clearTimeout(Mt),clearTimeout(W),rt(new Error("invalid_response"))}}},A.handlers.add(ue),L.port1.addEventListener("message",ue.onMessage),A.target.postMessage({eventType:p,eventId:Nt,data:v},[L.port2])}).finally(()=>{ue&&A.removeMessageHandler(ue)})})()}}function Z1(){return window}function fa(){return typeof Z1().WorkerGlobalScope<"u"&&"function"==typeof Z1().importScripts}function no(){return(no=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ji="firebaseLocalStorageDb",Qi="firebaseLocalStorage",pa="fbase_key";class Nr{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function io(_,p){return _.transaction([Qi],p?"readwrite":"readonly").objectStore(Qi)}function is(){const _=indexedDB.open(Ji,1);return new Promise((p,v)=>{_.addEventListener("error",()=>{v(_.error)}),_.addEventListener("upgradeneeded",()=>{const C=_.result;try{C.createObjectStore(Qi,{keyPath:pa})}catch(A){v(A)}}),_.addEventListener("success",(0,u.Z)(function*(){const C=_.result;C.objectStoreNames.contains(Qi)?p(C):(C.close(),yield function g6(){const _=indexedDB.deleteDatabase(Ji);return new Nr(_).toPromise()}(),p(yield is()))}))})}function wi(_,p,v){return L4.apply(this,arguments)}function L4(){return(L4=(0,u.Z)(function*(_,p,v){const C=io(_,!0).put({[pa]:p,value:v});return new Nr(C).toPromise()})).apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(_,p){const v=io(_,!1).get(p),C=yield new Nr(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Tr(_,p){const v=io(_,!0).delete(p);return new Nr(v).toPromise()}const rs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,u.Z)(function*(){return v.db||(v.db=yield is()),v.db})()}_withRetries(v){var C=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const L=yield C._openDb();return yield v(L)}catch(L){if(A++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,u.Z)(function*(){return fa()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,u.Z)(function*(){v.receiver=p6._getInstance(function ha(){return fa()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,u.Z)(function*(A,L){return{keyProcessed:(yield v._poll()).includes(L.key)}});return function(A,L){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,u.Z)(function*(A,L){return["keyChanged"]});return function(A,L){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,u.Z)(function*(){var C,A;if(v.activeServiceWorker=yield function Sr(){return no.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new z4(v.activeServiceWorker);const L=yield v.sender._send("ping",{},800);!L||(null===(C=L[0])||void 0===C?void 0:C.fulfilled)&&(null===(A=L[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,u.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function da(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const v=yield is();return yield wi(v,Er,"1"),yield Tr(v,Er),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,u.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(L=>wi(L,v,C)),A.localCache[v]=C,A.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,u.Z)(function*(){const A=yield C._withRetries(L=>function ma(_,p){return ro.apply(this,arguments)}(L,v));return C.localCache[v]=A,A})()}_remove(v){var C=this;return(0,u.Z)(function*(){return C._withPendingWrite((0,u.Z)(function*(){return yield C._withRetries(A=>Tr(A,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,u.Z)(function*(){const C=yield v._withRetries(W=>{const ue=io(W,!1).getAll();return new Nr(ue).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const A=[],L=new Set;for(const{fbase_key:W,value:ue}of C)L.add(W),JSON.stringify(v.localCache[W])!==JSON.stringify(ue)&&(v.notifyListeners(W,ue),A.push(W));for(const W of Object.keys(v.localCache))v.localCache[W]&&!L.has(W)&&(v.notifyListeners(W,null),A.push(W));return A})()}notifyListeners(v,C){this.localCache[v]=C;const A=this.listeners[v];if(A)for(const L of Array.from(A))L(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ss(_,p){return M1(_,"POST","/v2/accounts/mfaSignIn:start",Ft(_,p))}function Xi(){return(Xi=(0,u.Z)(function*(_){return(yield M1(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function as(_){return new Promise((p,v)=>{const C=document.createElement("script");C.setAttribute("src",_),C.onload=p,C.onerror=A=>{const L=Ce("internal-error");L.customData=A,v(L)},C.type="text/javascript",C.charset="UTF-8",function os(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(C)})}function _a(_){return`__${_}${Math.floor(1e6*Math.random())}`}const so=1e12;class S1{constructor(p){this.auth=p,this.counter=so,this._widgets=new Map}render(p,v){const C=this.counter;return this._widgets.set(C,new D5(p,this.auth.name,v||{})),this.counter++,C}reset(p){var v;const C=p||so;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(p){var v;return(null===(v=this._widgets.get(p||so))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,u.Z)(function*(){var C;return null===(C=v._widgets.get(p||so))||void 0===C||C.execute(),""})()}}class D5{constructor(p,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;B(A,"argument-error",{appName:v}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function du(_){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<_;C++)p.push(v.charAt(Math.floor(Math.random()*v.length)));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const E5=_a("rcb"),hu=new v1(3e4,6e4);class mc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Z1().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return B(function uh(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(v),p,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Z1().grecaptcha):new Promise((C,A)=>{const L=Z1().setTimeout(()=>{A(Ce(p,"network-request-failed"))},hu.get());Z1()[E5]=()=>{Z1().clearTimeout(L),delete Z1()[E5];const ue=Z1().grecaptcha;if(!ue)return void A(Ce(p,"internal-error"));const $e=ue.render;ue.render=(rt,Nt)=>{const Mt=$e(rt,Nt);return this.counter++,Mt},this.hostLanguage=v,C(ue)},as(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:E5,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(L),A(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=Z1().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class oo{load(p){return(0,u.Z)(function*(){return new S1(p)})()}clearedOneInstance(){}}const S5="recaptcha",N5={theme:"light",type:"image"};class Nn{constructor(p,v=Object.assign({},N5),C){this.parameters=v,this.type=S5,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=R1(C),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;B(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oo:new mc,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const v=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(v)||new Promise(L=>{const W=ue=>{!ue||(p.tokenChangeListeners.delete(W),L(ue))};p.tokenChangeListeners.add(W),p.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof p)p(v);else if("string"==typeof p){const C=Z1()[p];"function"==typeof C&&C(v)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){B(bt()&&!fa(),p.auth,"internal-error"),yield function y1(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function g2(_){return Xi.apply(this,arguments)}(p.auth);B(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class v2{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=Zi._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function f1(){return(f1=(0,u.Z)(function*(_,p,v){const C=R1(_),A=yield er(C,p,(0,O.m9)(v));return new v2(A,L=>P1(C,L))})).apply(this,arguments)}function W2(){return(W2=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_);yield e1(!1,C,"phone");const A=yield er(C.auth,p,(0,O.m9)(v));return new v2(A,L=>Ko(C,L))})).apply(this,arguments)}function H1(){return(H1=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_),A=yield er(C.auth,p,(0,O.m9)(v));return new v2(A,L=>Yo(C,L))})).apply(this,arguments)}function er(_,p,v){return ya.apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(_,p,v){var C;const A=yield v.verify();try{let L;if(B("string"==typeof A,_,"argument-error"),B(v.type===S5,_,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const W=L.session;if("phoneNumber"in L)return B("enroll"===W.type,_,"internal-error"),(yield ca(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{B("signin"===W.type,_,"internal-error");const ue=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return B(ue,_,"missing-multi-factor-info"),(yield ss(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield _5(_,{phoneNumber:L.phoneNumber,recaptchaToken:A});return W}}finally{v._reset()}})).apply(this,arguments)}function R4(){return(R4=(0,u.Z)(function*(_,p){yield vr((0,O.m9)(_),p)})).apply(this,arguments)}let co=(()=>{class _{constructor(v){this.providerId=_.PROVIDER_ID,this.auth=R1(v)}verifyPhoneNumber(v,C){return er(this.auth,v,(0,O.m9)(C))}static credential(v,C){return Zi._fromVerification(v,C)}static credentialFromResult(v){return _.credentialFromTaggedObject(v)}static credentialFromError(v){return _.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:A}=v;return C&&A?Zi._fromTokenResponse(C,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ls(_,p){return p?se(p):(B(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ei extends Ln{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return hn(p,this._buildIdpRequest())}_linkToIdToken(p,v){return hn(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return hn(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function Qe(_){return $2(_.auth,new Ei(_),_.bypassAuthState)}function lo(_){const{auth:p,user:v}=_;return B(v,p,"internal-error"),_r(v,new Ei(_),_.bypassAuthState)}function tr(_){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(_){const{auth:p,user:v}=_;return B(v,p,"internal-error"),vr(v,new Ei(_),_.bypassAuthState)})).apply(this,arguments)}class fs{constructor(p,v,C,A,L=!1){this.auth=p,this.resolver=C,this.user=A,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,u.Z)(function*(C,A){p.pendingPromise={resolve:C,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(C,A){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,u.Z)(function*(){const{urlResponse:C,sessionId:A,postBody:L,tenantId:W,error:ue,type:$e}=p;if(ue)return void v.reject(ue);const rt={auth:v.auth,requestUri:C,sessionId:A,tenantId:W||void 0,postBody:L||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask($e)(rt))}catch(Nt){v.reject(Nt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qe;case"linkViaPopup":case"linkViaRedirect":return tr;case"reauthViaPopup":case"reauthViaRedirect":return lo;default:Ie(this.auth,"internal-error")}}resolve(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const x1=new v1(2e3,1e4);function nr(){return(nr=(0,u.Z)(function*(_,p,v){const C=R1(_);qe(_,p,vi);const A=ls(C,v);return new ai(C,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function V4(){return(V4=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_);qe(C.auth,p,vi);const A=ls(C.auth,v);return new ai(C.auth,"reauthViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_);qe(C.auth,p,vi);const A=ls(C.auth,v);return new ai(C.auth,"linkViaPopup",p,A,C).executeNotNull()})).apply(this,arguments)}let ai=(()=>{class _ extends fs{constructor(v,C,A,L,W){super(v,C,L,W),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var v=this;return(0,u.Z)(function*(){const C=yield v.execute();return B(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,u.Z)(function*(){Z(1===v.filter.length,"Popup operations only handle one event");const C=to();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(A=>{v.reject(A)}),v.resolver._isIframeWebStorageSupported(v.auth,A=>{A||v.reject(Ce(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,A;this.pollId=null!==(A=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,x1.get())};v()}}return _.currentPopupAction=null,_})();const R2=new Map;class P4 extends fs{constructor(p,v,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,u.Z)(function*(){let C=R2.get(v.auth._key());if(!C){try{const L=(yield function _2(_,p){return y2.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;C=()=>Promise.resolve(L)}catch(A){C=()=>Promise.reject(A)}R2.set(v.auth._key(),C)}return v.bypassAuthState||R2.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,C=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return v().call(C,p);if("unknown"!==p.type){if(p.eventId){const A=yield C.auth._redirectUserForId(p.eventId);if(A)return C.user=A,v().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function y2(){return(y2=(0,u.Z)(function*(_,p){const v=z1(p),C=Si(_);if(!(yield C._isAvailable()))return!1;const A="true"===(yield C._get(v));return yield C._remove(v),A})).apply(this,arguments)}function Z2(_,p){return K2.apply(this,arguments)}function K2(){return(K2=(0,u.Z)(function*(_,p){return Si(_)._set(z1(p),"true")})).apply(this,arguments)}function ir(_,p){R2.set(_._key(),p)}function Si(_){return se(_._redirectPersistence)}function z1(_){return K("pendingRedirect",_.config.apiKey,_.name)}function E(){return(E=(0,u.Z)(function*(_,p,v){const C=R1(_);qe(_,p,vi);const A=ls(C,v);return yield Z2(A,C),A._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function P(){return(P=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_);qe(C.auth,p,vi);const A=ls(C.auth,v);yield Z2(A,C.auth);const L=yield St(C);return A._openRedirect(C.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function Ee(){return(Ee=(0,u.Z)(function*(_,p,v){const C=(0,O.m9)(_);qe(C.auth,p,vi);const A=ls(C.auth,v);yield e1(!1,C,p.providerId),yield Z2(A,C.auth);const L=yield St(C);return A._openRedirect(C.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(_,p){return yield R1(_)._initializationPromise,ht(_,p,!1)})).apply(this,arguments)}function ht(_,p){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(_,p,v=!1){const C=R1(_),A=ls(C,p),W=yield new P4(C,A,v).execute();return W&&!v&&(delete W.user._redirectEventId,yield C._persistUserIfCurrent(W.user),yield C._setRedirectUser(null,p)),W})).apply(this,arguments)}function St(_){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(_){const p=to(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class xr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(v=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Y1(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ot(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var C;if(p.error&&!Ot(p)){const A=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ce(this.auth,A))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const C=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ds(p))}saveEventToCache(p){this.cachedEventUids.add(ds(p)),this.lastProcessedEventTime=Date.now()}}function ds(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Ot({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function b2(_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(_,p={}){return M1(_,"GET","/v1/projects",p)})).apply(this,arguments)}const fh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I5=/^https?/;function gc(){return(gc=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield b2(_);for(const v of p)try{if(x5(v))return}catch{}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function x5(_){const p=Oe(),{protocol:v,hostname:C}=new URL(p);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===C?"chrome-extension:"===v&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&W.hostname===C}if(!I5.test(v))return!1;if(fh.test(_))return C===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(C)}const z5=new v1(3e4,6e4);function mu(){const _=Z1().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let v=0;v<_.CP.length;v++)_.CP[v]=null}let ci=null;function vc(_){return ci=ci||function vn(_){return new Promise((p,v)=>{var C,A,L;function W(){mu(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{mu(),v(Ce(_,"network-request-failed"))},timeout:z5.get()})}if(null!==(A=null===(C=Z1().gapi)||void 0===C?void 0:C.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(L=Z1().gapi)||void 0===L||!L.load){const ue=_a("iframefcb");return Z1()[ue]=()=>{gapi.load?W():v(Ce(_,"network-request-failed"))},as(`https://apis.google.com/js/api.js?onload=${ue}`).catch($e=>v($e))}W()}}).catch(p=>{throw ci=null,p})}(_),ci}const L5=new v1(5e3,15e3),gu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k5(_){const p=_.config;B(p.authDomain,_,"auth-domain-config-required");const v=p.emulator?A1(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:_.name,v:oe.SDK_VERSION},A=vu.get(_.config.apiHost);A&&(C.eid=A);const L=_._getFrameworks();return L.length&&(C.fw=L.join(",")),`${v}?${(0,O.xO)(C).slice(1)}`}function bc(){return bc=(0,u.Z)(function*(_){const p=yield vc(_),v=Z1().gapi;return B(v,_,"internal-error"),p.open({where:document.body,url:k5(_),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gu,dontclear:!0},C=>new Promise(function(){var A=(0,u.Z)(function*(L,W){yield C.restyle({setHideOnLeave:!1});const ue=Ce(_,"network-request-failed"),$e=Z1().setTimeout(()=>{W(ue)},L5.get());function rt(){Z1().clearTimeout($e),L(C)}C.ping(rt).then(rt,()=>{W(ue)})});return function(L,W){return A.apply(this,arguments)}}()))}),bc.apply(this,arguments)}const _u={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _6(_,p,v,C,A,L){B(_.config.authDomain,_,"auth-domain-config-required"),B(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:v,redirectUrl:C,v:oe.SDK_VERSION,eventId:A};if(p instanceof vi){p.setDefaultLanguage(_.languageCode),W.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[$e,rt]of Object.entries(L||{}))W[$e]=rt}if(p instanceof _i){const $e=p.getScopes().filter(rt=>""!==rt);$e.length>0&&(W.scopes=$e.join(","))}_.tenantId&&(W.tid=_.tenantId);const ue=W;for(const $e of Object.keys(ue))void 0===ue[$e]&&delete ue[$e];return`${function F4({config:_}){return _.emulator?A1(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(ue).slice(1)}`}const hs="webStorageSupport";class U4 extends class Cu{constructor(p){this.factorId=p}_process(p,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,C);case"signin":return this._finalizeSignIn(p,v.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new U4(p)}_finalizeEnroll(p,v,C){return function la(_,p){return M1(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(_,p))}(p,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function va(_,p){return M1(_,"POST","/v2/accounts/mfaSignIn:finalize",Ft(_,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let j4=(()=>{class _{constructor(){}static assertion(v){return U4._fromCredential(v)}}return _.FACTOR_ID="phone",_})();var G4="@firebase/auth";class Mu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,u.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);!v||(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zr(){return window}function b6(){return(b6=(0,u.Z)(function*(_,p,v){var C;const{BuildInfo:A}=zr();Z(p.sessionId,"AuthEvent did not contain a session ID");const L=yield Da(p.sessionId),W={};return $t()?W.ibi=A.packageName:Xt()?W.apn=A.packageName:Ie(_,"operation-not-supported-in-this-environment"),A.displayName&&(W.appDisplayName=A.displayName),W.sessionId=L,_6(_,v,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,W)})).apply(this,arguments)}function $4(){return($4=(0,u.Z)(function*(_){const{BuildInfo:p}=zr(),v={};$t()?v.iosBundleId=p.packageName:Xt()?v.androidPackageName=p.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield b2(_,v)})).apply(this,arguments)}function C6(){return(C6=(0,u.Z)(function*(_,p,v){const{cordova:C}=zr();let A=()=>{};try{yield new Promise((L,W)=>{let ue=null;function $e(){var Mt;L();const b1=null===(Mt=C.plugins.browsertab)||void 0===Mt?void 0:Mt.close;"function"==typeof b1&&b1(),"function"==typeof v?.close&&v.close()}function rt(){ue||(ue=window.setTimeout(()=>{W(Ce(_,"redirect-cancelled-by-user"))},2e3))}function Nt(){"visible"===document?.visibilityState&&rt()}p.addPassiveListener($e),document.addEventListener("resume",rt,!1),Xt()&&document.addEventListener("visibilitychange",Nt,!1),A=()=>{p.removePassiveListener($e),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",Nt,!1),ue&&window.clearTimeout(ue)}})}finally{A()}})).apply(this,arguments)}function Da(_){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(_){const p=Ea(_),v=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(v)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ea(_){if(Z(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),v=new Uint8Array(p);for(let C=0;C<_.length;C++)v[C]=_.charCodeAt(C);return v}(0,O.Pz)("authIdTokenMaxAge"),function R5(_){(0,oe._registerComponent)(new le.wA("auth",(p,{options:v})=>{const C=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:L,authDomain:W}=C.options;return((ue,$e)=>{B(L&&!L.includes(":"),"invalid-api-key",{appName:ue.name}),B(!W?.includes(":"),"argument-error",{appName:ue.name});const rt={apiKey:L,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ji(_)},Nt=new Bt(ue,$e,rt);return function Pe(_,p){const v=p?.persistence||[],C=(Array.isArray(v)?v:[v]).map(se);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(C,p?.popupRedirectResolver)}(Nt,v),Nt})(C,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,C)=>{p.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new le.wA("auth-internal",p=>{const v=R1(p.getProvider("auth").getImmediate());return new Mu(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(G4,"0.21.0",function wu(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,oe.registerVersion)(G4,"0.21.0","esm2017")}("Browser");class w6 extends xr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function V5(_){return mo.apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(_){const p=yield go()._get(Lr(_));return p&&(yield go()._remove(Lr(_))),p})).apply(this,arguments)}function Au(){const _=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const C=Math.floor(Math.random()*p.length);_.push(p.charAt(C))}return _.join("")}function go(){return se(Qs)}function Lr(_){return K("authEvent",_.config.apiKey,_.name)}function kr(_){if(!_?.includes("?"))return{};const[p,...v]=_.split("?");return(0,O.zd)(v.join("?"))}function Sa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function q4(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Ec(_=(0,O.z$)()){return!("file:"!==q4()&&"ionic:"!==q4()&&"capacitor:"!==q4()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function j5(){try{const _=self.localStorage,p=to();if(_)return _.setItem(p,"1"),_.removeItem(p),!function zu(_=(0,O.z$)()){return function U5(){return(0,O.w1)()&&11===document?.documentMode}()||function Nc(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch{return S6()&&(0,O.hl)()}return!1}function S6(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function N6(){return(function xu(){return"http:"===q4()||"https:"===q4()}()||(0,O.ru)()||Ec())&&!function Sc(){return(0,O.b$)()||(0,O.UG)()}()&&j5()&&!S6()}function Or(){return Ec()&&typeof document<"u"}function W4(){return(W4=(0,u.Z)(function*(){return!!Or()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const O2={LOCAL:"local",NONE:"none",SESSION:"session"},t2=B,_o="persistence";function Z4(_){return T6.apply(this,arguments)}function T6(){return(T6=(0,u.Z)(function*(_){yield _._initializationPromise;const p=A6(),v=K(_o,_.config.apiKey,_.name);p&&p.setItem(v,_._getPersistence())})).apply(this,arguments)}function A6(){var _;try{return(null===(_=function Tc(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const I6=B;class V2{constructor(){this.browserResolver=se(class Ti{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oi,this._completeRedirectFn=ht,this._overrideRedirectResult=ir}_openPopup(p,v,C,A){var L=this;return(0,u.Z)(function*(){var W;Z(null===(W=L.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ue=_6(p,v,C,Oe(),A);return function wa(_,p,v,C=500,A=600){const L=Math.max((window.screen.availHeight-A)/2,0).toString(),W=Math.max((window.screen.availWidth-C)/2,0).toString();let ue="";const $e=Object.assign(Object.assign({},_u),{width:C.toString(),height:A.toString(),top:L,left:W}),rt=(0,O.z$)().toLowerCase();v&&(ue=r1(rt)?"_blank":v),Ke(rt)&&(p=p||"http://localhost",$e.scrollbars="yes");const Nt=Object.entries($e).reduce((b1,[_n,Y2])=>`${b1}${_n}=${Y2},`,"");if(function h2(_=(0,O.z$)()){var p;return $t(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(rt)&&"_self"!==ue)return function bu(_,p){const v=document.createElement("a");v.href=_,v.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(p||"",ue),new yu(null);const Mt=window.open(p||"",ue,Nt);B(Mt,_,"popup-blocked");try{Mt.focus()}catch{}return new yu(Mt)}(p,ue,to())})()}_openRedirect(p,v,C,A){var L=this;return(0,u.Z)(function*(){return yield L._originValidation(p),function q2(_){Z1().location.href=_}(_6(p,v,C,Oe(),A)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:A,promise:L}=this.eventManagers[v];return A?Promise.resolve(A):(Z(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(p);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(p){var v=this;return(0,u.Z)(function*(){const C=yield function yc(_){return bc.apply(this,arguments)}(p),A=new xr(p);return C.register("authEvent",L=>(B(L?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:A},v.iframes[p._key()]=C,A})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(hs,{type:hs},A=>{var L;const W=null===(L=A?.[0])||void 0===L?void 0:L[hs];void 0!==W&&v(!!W),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function rr(_){return gc.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return dr()||Ct()||$t()}}),this.cordovaResolver=se(class Dc{constructor(){this._redirectPersistence=oi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ht,this._overrideRedirectResult=ir}_initialize(p){var v=this;return(0,u.Z)(function*(){const C=p._key();let A=v.eventManagers.get(C);return A||(A=new w6(p),v.eventManagers.set(C,A),v.attachCallbackListeners(p,A)),A})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,v,C,A){var L=this;return(0,u.Z)(function*(){!function Tu(_){var p,v,C,A,L,W,ue,$e,rt,Nt;const Mt=zr();B("function"==typeof(null===(p=Mt?.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(v=Mt?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(L=null===(A=null===(C=Mt?.cordova)||void 0===C?void 0:C.plugins)||void 0===A?void 0:A.browsertab)||void 0===L?void 0:L.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===($e=null===(ue=null===(W=Mt?.cordova)||void 0===W?void 0:W.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===$e?void 0:$e.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Nt=null===(rt=Mt?.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===Nt?void 0:Nt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield L._initialize(p);yield W.initialized(),W.resetRedirect(),function gn(){R2.clear()}(),yield L._originValidation(p);const ue=function O5(_,p,v=null){return{type:p,eventId:v,urlResponse:null,sessionId:Au(),postBody:null,tenantId:_.tenantId,error:Ce(_,"no-auth-event")}}(p,C,A);yield function po(_,p){return go()._set(Lr(_),p)}(p,ue);const $e=yield function ps(_,p,v){return b6.apply(this,arguments)}(p,ue,v),rt=yield function Su(_){const{cordova:p}=zr();return new Promise(v=>{p.plugins.browsertab.isAvailable(C=>{let A=null;C?p.plugins.browsertab.openUrl(_):A=p.InAppBrowser.open(_,function Dn(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),v(A)})})}($e);return function Nu(_,p,v){return C6.apply(this,arguments)}(p,W,rt)})()}_isIframeWebStorageSupported(p,v){throw new Error("Method not implemented.")}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function fo(_){return $4.apply(this,arguments)}(p)),this.originValidationPromises[v]}attachCallbackListeners(p,v){const{universalLinks:C,handleOpenURL:A,BuildInfo:L}=zr(),W=setTimeout((0,u.Z)(function*(){yield V5(p),v.onEvent(Sa())}),500),ue=function(){var Nt=(0,u.Z)(function*(Mt){clearTimeout(W);const b1=yield V5(p);let _n=null;b1&&Mt?.url&&(_n=function P5(_,p){var v,C;const A=function F5(_){const p=kr(_),v=p.link?decodeURIComponent(p.link):void 0,C=kr(v).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return kr(A).link||A||C||v||_}(p);if(A.includes("/__/auth/callback")){const L=kr(A),W=L.firebaseError?function H5(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,ue=null===(C=null===(v=W?.code)||void 0===v?void 0:v.split("auth/"))||void 0===C?void 0:C[1],$e=ue?Ce(ue):null;return $e?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}(b1,Mt.url)),v.onEvent(_n||Sa())});return function(b1){return Nt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,ue);const $e=A,rt=`${L.packageName.toLowerCase()}://`;zr().handleOpenURL=function(){var Nt=(0,u.Z)(function*(Mt){if(Mt.toLowerCase().startsWith(rt)&&ue({url:Mt}),"function"==typeof $e)try{$e(Mt)}catch(b1){console.error(b1)}});return function(Mt){return Nt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=oi,this._completeRedirectFn=ht,this._overrideRedirectResult=ir}_initialize(p){var v=this;return(0,u.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,v,C,A){var L=this;return(0,u.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(p,v,C,A)})()}_openRedirect(p,v,C,A){var L=this;return(0,u.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(p,v,C,A)})()}_isIframeWebStorageSupported(p,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,v)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Or()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return I6(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const v=yield function G5(){return W4.apply(this,arguments)}();p.underlyingResolver=v?p.cordovaResolver:p.browserResolver})()}}function x6(_){return _.unwrap()}function z6(_){return ms(_)}function ms(_){const{_tokenResponse:p}=_ instanceof O.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return co.credentialFromResult(_);const v=p.providerId;if(!v||"password"===v)return null;let C;switch(v){case"google.com":C=Uo;break;case"facebook.com":C=js;break;case"github.com":C=_4;break;case"twitter.com":C=p2;break;default:const{oauthIdToken:A,oauthAccessToken:L,oauthTokenSecret:W,pendingToken:ue,nonce:$e}=p;return L||W||A||ue?ue?v.startsWith("saml.")?pn._create(v,ue):gi._fromParams({providerId:v,signInMethod:v,pendingToken:ue,idToken:A,accessToken:L}):new gr(v).credential({idToken:A,accessToken:L,rawNonce:$e}):null}return _ instanceof O.ZR?C.credentialFromError(_):C.credentialFromResult(_)}function P2(_,p){return p.catch(v=>{throw v instanceof O.ZR&&function Y4(_,p){var v;const C=null===(v=p.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Lu(_,function j1(_,p){var v;const C=(0,O.m9)(_),A=p;return B(p.customData.operationType,C,"argument-error"),B(null===(v=A.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),aa._fromError(C,A)}(_,p));else if(C){const A=ms(p),L=p;A&&(L.credential=A,L.tenantId=C.tenantId||void 0,L.email=C.email||void 0,L.phoneNumber=C.phoneNumber||void 0)}}(_,v),v}).then(v=>{const A=v.user;return{operationType:v.operationType,credential:z6(v),additionalUserInfo:sa(v),user:li.getOrCreate(A)}})}function gs(_,p){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,u.Z)(function*(_,p){const v=yield p;return{verificationId:v.verificationId,confirm:C=>P2(_,v.confirm(C))}})).apply(this,arguments)}class Lu{constructor(p,v){this.resolver=v,this.auth=function K4(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return P2(x6(this.auth),this.resolver.resolveSignIn(p))}}class li{constructor(p){this._delegate=p,this.multiFactor=function ns(_){const p=(0,O.m9)(_);return Dr.has(p)||Dr.set(p,pc._fromUser(p)),Dr.get(p)}(p)}static getOrCreate(p){return li.USER_MAP.has(p)||li.USER_MAP.set(p,new li(p)),li.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var v=this;return(0,u.Z)(function*(){return P2(v.auth,Ko(v._delegate,p))})()}linkWithPhoneNumber(p,v){var C=this;return(0,u.Z)(function*(){return gs(C.auth,function a1(_,p,v){return W2.apply(this,arguments)}(C._delegate,p,v))})()}linkWithPopup(p){var v=this;return(0,u.Z)(function*(){return P2(v.auth,function ba(_,p,v){return uo.apply(this,arguments)}(v._delegate,p,V2))})()}linkWithRedirect(p){var v=this;return(0,u.Z)(function*(){return yield Z4(R1(v.auth)),function J(_,p,v){return function ie(_,p,v){return Ee.apply(this,arguments)}(_,p,v)}(v._delegate,p,V2)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var v=this;return(0,u.Z)(function*(){return P2(v.auth,Yo(v._delegate,p))})()}reauthenticateWithPhoneNumber(p,v){return gs(this.auth,function ao(_,p,v){return H1.apply(this,arguments)}(this._delegate,p,v))}reauthenticateWithPopup(p){return P2(this.auth,function A5(_,p,v){return V4.apply(this,arguments)}(this._delegate,p,V2))}reauthenticateWithRedirect(p){var v=this;return(0,u.Z)(function*(){return yield Z4(R1(v.auth)),function S(_,p,v){return function I(_,p,v){return P.apply(this,arguments)}(_,p,v)}(v._delegate,p,V2)})()}sendEmailVerification(p){return function E4(_,p){return Ys.apply(this,arguments)}(this._delegate,p)}unlink(p){var v=this;return(0,u.Z)(function*(){return yield function Un(_,p){return $o.apply(this,arguments)}(v._delegate,p),v})()}updateEmail(p){return function o6(_,p){return Cr((0,O.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function br(_,p){return Cr((0,O.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function T5(_,p){return R4.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function T4(_,p){return A4.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,v){return function S4(_,p,v){return na.apply(this,arguments)}(this._delegate,p,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}li.USER_MAP=new WeakMap;const vs=B;let Na=(()=>{class _{constructor(v,C){if(this.app=v,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=v.options;vs(A,"invalid-api-key",{appName:v.name}),vs(A,"invalid-api-key",{appName:v.name});const L=typeof window<"u"?V2:void 0;this._delegate=C.initialize({options:{persistence:_s(A,v.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?li.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,C){!function Ho(_,p,v){const C=R1(_);B(C._canInitEmulator,C,"emulator-config-failed"),B(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const A=!!v?.disableWarnings,L=ii(p),{host:W,port:ue}=function tn(_){const p=ii(_),v=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(C);if(A){const L=A[1];return{host:L,port:Gi(C.substr(L.length+1))}}{const[L,W]=C.split(":");return{host:L,port:Gi(W)}}}(p);C.config.emulator={url:`${L}//${W}${null===ue?"":`:${ue}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:W,port:ue,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function $i(){function _(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,v,C)}applyActionCode(v){return function k2(_,p){return $s.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return qs(this._delegate,v)}confirmPasswordReset(v,C){return function ea(_,p,v){return Xr.apply(this,arguments)}(this._delegate,v,C)}createUserWithEmailAndPassword(v,C){var A=this;return(0,u.Z)(function*(){return P2(A._delegate,function Ws(_,p,v){return U1.apply(this,arguments)}(A._delegate,v,C))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function ta(_,p){return Ks.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Mi(_,p){return"EMAIL_SIGNIN"===Bo.parseLink(p)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,u.Z)(function*(){vs(N6(),v._delegate,"operation-not-supported-in-this-environment");const C=yield function Ge(_,p){return it.apply(this,arguments)}(v._delegate,V2);return C?P2(v._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function vo(_,p){R1(_)._logFramework(p)}(this._delegate,v)}onAuthStateChanged(v,C,A){const{next:L,error:W,complete:ue}=J4(v,C,A);return this._delegate.onAuthStateChanged(L,W,ue)}onIdTokenChanged(v,C,A){const{next:L,error:W,complete:ue}=J4(v,C,A);return this._delegate.onIdTokenChanged(L,W,ue)}sendSignInLinkToEmail(v,C){return function w4(_,p,v){return yr.apply(this,arguments)}(this._delegate,v,C)}sendPasswordResetEmail(v,C){return function Xo(_,p,v){return B1.apply(this,arguments)}(this._delegate,v,C||void 0)}setPersistence(v){var C=this;return(0,u.Z)(function*(){let A;switch(function Ac(_,p){t2(Object.values(O2).includes(p),_,"invalid-persistence-type"),(0,O.b$)()?t2(p!==O2.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?t2(p===O2.NONE,_,"unsupported-persistence-type"):S6()?t2(p===O2.NONE||p===O2.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):t2(p===O2.NONE||j5(),_,"unsupported-persistence-type")}(C._delegate,v),v){case O2.SESSION:A=oi;break;case O2.LOCAL:A=(yield se(rs)._isAvailable())?rs:Qs;break;case O2.NONE:A=F;break;default:return Ie("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return P2(this._delegate,function uc(_){return F1.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return P2(this._delegate,P1(this._delegate,v))}signInWithCustomToken(v){return P2(this._delegate,function b4(_,p){return Gs.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,C){return P2(this._delegate,function si(_,p,v){return P1((0,O.m9)(_),ri.credential(p,v))}(this._delegate,v,C))}signInWithEmailLink(v,C){return P2(this._delegate,function M5(_,p,v){return Zs.apply(this,arguments)}(this._delegate,v,C))}signInWithPhoneNumber(v,C){return gs(this._delegate,function ct(_,p,v){return f1.apply(this,arguments)}(this._delegate,v,C))}signInWithPopup(v){var C=this;return(0,u.Z)(function*(){return vs(N6(),C._delegate,"operation-not-supported-in-this-environment"),P2(C._delegate,function O4(_,p,v){return nr.apply(this,arguments)}(C._delegate,v,V2))})()}signInWithRedirect(v){var C=this;return(0,u.Z)(function*(){return vs(N6(),C._delegate,"operation-not-supported-in-this-environment"),yield Z4(C._delegate),function Yt(_,p,v){return function Ir(_,p,v){return E.apply(this,arguments)}(_,p,v)}(C._delegate,v,V2)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function M4(_,p){return s6.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=O2,_})();function J4(_,p,v){let C=_;"function"!=typeof _&&({next:C,error:p,complete:v}=_);const A=C;return{next:W=>A(W&&li.getOrCreate(W)),error:p,complete:v}}function _s(_,p){const v=function Vr(_,p){const v=A6();if(!v)return[];const C=K(_o,_,p);switch(v.getItem(C)){case O2.NONE:return[F];case O2.LOCAL:return[rs,oi];case O2.SESSION:return[oi];default:return[]}}(_,p);if(typeof self<"u"&&!v.includes(rs)&&v.push(rs),typeof window<"u")for(const C of[Qs,oi])v.includes(C)||v.push(C);return v.includes(F)||v.push(F),v}class xc{constructor(){this.providerId="phone",this._delegate=new co(x6(ne.Z.auth()))}static credential(p,v){return co.credential(p,v)}verifyPhoneNumber(p,v){return this._delegate.verifyPhoneNumber(p,v)}unwrap(){return this._delegate}}xc.PHONE_SIGN_IN_METHOD=co.PHONE_SIGN_IN_METHOD,xc.PROVIDER_ID=co.PROVIDER_ID;const Q4=B;class zc{constructor(p,v,C=ne.Z.app()){var A;Q4(null===(A=C.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Nn(p,v,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kc(_){_.INTERNAL.registerComponent(new le.wA("auth-compat",p=>{const v=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new Na(v,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ri,FacebookAuthProvider:js,GithubAuthProvider:_4,GoogleAuthProvider:Uo,OAuthProvider:gr,SAMLAuthProvider:z2,PhoneAuthProvider:xc,PhoneMultiFactorGenerator:j4,RecaptchaVerifier:zc,TwitterAuthProvider:p2,Auth:Na,AuthCredential:Ln,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.0")}(ne.Z)},8766:(vt,Ne,k)=>{k.d(Ne,{Lj:()=>Ie,X3:()=>dt});var u=k(5861);let O,oe;const le=new WeakMap,he=new WeakMap,pe=new WeakMap,U=new WeakMap,j=new WeakMap;let ke={get(B,ve,Z){if(B instanceof IDBTransaction){if("done"===ve)return he.get(B);if("objectStoreNames"===ve)return B.objectStoreNames||pe.get(B);if("store"===ve)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return me(B[ve])},set:(B,ve,Z)=>(B[ve]=Z,!0),has:(B,ve)=>B instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in B};function _e(B){return"function"==typeof B?function ut(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...ve){return B.apply(st(this),ve),me(le.get(this))}:function(...ve){return me(B.apply(st(this),ve))}:function(ve,...Z){const ee=B.call(st(this),ve,...Z);return pe.set(ee,ve.sort?ve.sort():[ve]),me(ee)}}(B):(B instanceof IDBTransaction&&function Ue(B){if(he.has(B))return;const ve=new Promise((Z,ee)=>{const se=()=>{B.removeEventListener("complete",re),B.removeEventListener("error",Pe),B.removeEventListener("abort",Pe)},re=()=>{Z(),se()},Pe=()=>{ee(B.error||new DOMException("AbortError","AbortError")),se()};B.addEventListener("complete",re),B.addEventListener("error",Pe),B.addEventListener("abort",Pe)});he.set(B,ve)}(B),((B,ve)=>ve.some(Z=>B instanceof Z))(B,function ae(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,ke):B)}function me(B){if(B instanceof IDBRequest)return function Y(B){const ve=new Promise((Z,ee)=>{const se=()=>{B.removeEventListener("success",re),B.removeEventListener("error",Pe)},re=()=>{Z(me(B.result)),se()},Pe=()=>{ee(B.error),se()};B.addEventListener("success",re),B.addEventListener("error",Pe)});return ve.then(Z=>{Z instanceof IDBCursor&&le.set(Z,B)}).catch(()=>{}),j.set(ve,B),ve}(B);if(U.has(B))return U.get(B);const ve=_e(B);return ve!==B&&(U.set(B,ve),j.set(ve,B)),ve}const st=B=>j.get(B);function dt(B,ve,{blocked:Z,upgrade:ee,blocking:se,terminated:re}={}){const Pe=indexedDB.open(B,ve),Oe=me(Pe);return ee&&Pe.addEventListener("upgradeneeded",bt=>{ee(me(Pe.result),bt.oldVersion,bt.newVersion,me(Pe.transaction))}),Z&&Pe.addEventListener("blocked",()=>Z()),Oe.then(bt=>{re&&bt.addEventListener("close",()=>re()),se&&bt.addEventListener("versionchange",()=>se())}).catch(()=>{}),Oe}function Ie(B,{blocked:ve}={}){const Z=indexedDB.deleteDatabase(B);return ve&&Z.addEventListener("blocked",()=>ve()),me(Z).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],qe=new Map;function We(B,ve){if(!(B instanceof IDBDatabase)||ve in B||"string"!=typeof ve)return;if(qe.get(ve))return qe.get(ve);const Z=ve.replace(/FromIndex$/,""),ee=ve!==Z,se=De.includes(Z);if(!(Z in(ee?IDBIndex:IDBObjectStore).prototype)||!se&&!Ce.includes(Z))return;const re=function(){var Pe=(0,u.Z)(function*(Oe,...bt){const s1=this.transaction(Oe,se?"readwrite":"readonly");let qt=s1.store;return ee&&(qt=qt.index(bt.shift())),(yield Promise.all([qt[Z](...bt),se&&s1.done]))[0]});return function(bt){return Pe.apply(this,arguments)}}();return qe.set(ve,re),re}!function we(B){ke=B(ke)}(B=>({...B,get:(ve,Z,ee)=>We(ve,Z)||B.get(ve,Z,ee),has:(ve,Z)=>!!We(ve,Z)||B.has(ve,Z)}))},5861:(vt,Ne,k)=>{function u(O,oe,ae,de,le,he,pe){try{var U=O[he](pe),j=U.value}catch(Y){return void ae(Y)}U.done?oe(j):Promise.resolve(j).then(de,le)}function ne(O){return function(){var oe=this,ae=arguments;return new Promise(function(de,le){var he=O.apply(oe,ae);function pe(j){u(he,de,le,pe,U,"next",j)}function U(j){u(he,de,le,pe,U,"throw",j)}pe(void 0)})}}k.d(Ne,{Z:()=>ne})}},vt=>{vt(vt.s=734)}]);